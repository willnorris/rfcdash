<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:918" name="DC.Identifier"/>
<meta content="This RFC suggests a simple method for workstations to dynamically\naccess mail from a mailbox server. The intent of the Post Office\nProtocol (POP) is to allow a user\x27s workstation to access mail from\na mailbox server. It is expected that mail will be posted from the\nworkstation to the mailbox server via the Simple Mail Transfer\nProtocol (SMTP). This RFC specifies a proposed protocol for the ARPA-\nInternet community, and requests discussion and suggestions for\nimprovement. The status of this protocol is experimental, and this\nprotocol is dependent upon TCP." name="DC.Description.Abstract"/>
<meta content="J.K. Reynolds" name="DC.Creator"/>
<meta content="October, 1984" name="DC.Date.Issued"/>
<meta content="Post Office Protocol" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 918 - Post Office Protocol</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc918.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc918" title="PDF version of this document">pdf</a>]                                                        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc937.html">937</a>                                                      </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                     J. K. Reynolds
Request for Comments: 918                                            ISI
                                                            October 1984


                          <span class="h1">POST OFFICE PROTOCOL</span>


Status of this Memo

   This RFC suggests a simple method for workstations to dynamically
   access mail from a mailbox server.  This RFC specifies a proposed
   protocol for the ARPA-Internet community, and requests discussion and
   suggestions for improvement.

Introduction

   The intent of the Post Office Protocol (POP) is to allow a user's
   workstation to access mail from a mailbox server.  It is expected
   that mail will be posted from the workstation to the mailbox server
   via the Simple Mail Transfer Protocol (SMTP).  For further
   information see <a href="rfc821.html">RFC-821</a> [<a href="#ref-1" title='"Simple Mail Transfer Protocol"'>1</a>] and <a href="rfc822.html">RFC-822</a> [<a href="#ref-2" title='"Standard for the Format of ARPA-Internet Text Messages"'>2</a>].

   The status of this protocol is experimental, and this protocol is
   dependent upon TCP.

The Protocol

   The protocol is for the server to be listening for a connection.
   When a connection is opened the server sends a greeting message and
   waits for commands.  When commands are received the server acts on
   them and responds with replies.

   The client opens a connection, waits for the greeting, then sends the
   USER and then the PASS commands to establish authorization to access
   mailboxes.  The client begins a mail reading transaction with either
   an RDEL (to read and delete all messages from a mailbox) or a RETR
   (to simply read all messages from a mailbox).  The server opens and
   locks the mailbox, and responds with the number of characters in the
   mailbox.  Then the client asks for the data to be sent by issuing the
   RCEV command.  The server responds by sending the mail data.  When
   all the data has been received the client sends the RCVD command.  If
   the transaction started with the RDEL command the server now deletes
   the mail data from the mailbox. In any case, the server closes and
   unlocks the mailbox.  The client terminates the session with the QUIT
   command.








<span class="grey">Reynolds                                                        [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey">Post Office Protocol                                             <a href="rfc918.html">RFC 918</a></span>


   The Normal Scenario

           Client                    Server
           ------                    ------
                                Wait for Connection
      Open Connection  --&gt;
                           &lt;--  +OK
                                Wait for Command
      USER Fred        --&gt;
                           &lt;--  +OK
                                Wait for Command
      PASS password    --&gt;
                           &lt;--  +OK
                                Wait for Command
      RDEL mailbox     --&gt;      (open and lock mailbox)
                           &lt;--  #xxx
                                Wait for Command
      RCEV             --&gt;
                           &lt;--  (send a copy of mail)
                                Wait for Command
      RCVD             --&gt;      (deletes mail from mailbox, unlock
                                and close mailbox)
                           &lt;--  +OK
                                Wait for Command
      QUIT             --&gt;
                           &lt;--  +OK
      Close connection --&gt; &lt;--  Close connection
                                Wait for Connection (go back to start)

Definitions of Commands and Replies

   Summary of Commands and Replies

      Commands                          Replies
      --------                          -------
      USER name                         +OK
      PASS password                     -Error
      RETR mailbox                      #xxx
      RDEL mailbox
      RCEV
      RCVD
      QUIT
      NOOP
      RSET







<span class="grey">Reynolds                                                        [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey">Post Office Protocol                                             <a href="rfc918.html">RFC 918</a></span>


   Commands

      USER name

         This command identifies the user to the server.  It must be
         followed by the PASS command.

            Possible responses:  "+OK" or "-ERR"

      PASS password

         The PASS command carries the password authenticating this user.
         Together the USER name and PASS password are used by the server
         to control access to the mailboxes.

            Possible responses:  "+OK" or "-ERR"

      RETR mailbox

         This command begins a mail reading transaction.  The RETR
         command is used to read all the messages in a mailbox without
         deleting them.  It must be followed by the RCEV command.

            Possible responses:  "#xxx" or "-ERR"

      RDEL mailbox

         This command begins a mail reading transaction.  The RDEL
         command is used to read all the messages in a mailbox and
         delete them.  It must be followed by the RCEV command.

            Possible responses:  "#xxx" or "-ERR"

      RCEV

         This command confirms that the client is ready to receive the
         mail data.  It must be followed by the RCVD command.

            Possible responses:  "+OK" or (connection aborted)

      RCVD

         This command confirms that the client has received and accepted
         the mail.  The RCVD command ends the mail reading transaction.
         In the case of the RDEL transaction, it is possible that the
         mail is not necessarily deleted.  This is indicated by an error
         reply.

            Possible responses:  "+OK" or "-ERR"


<span class="grey">Reynolds                                                        [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey">Post Office Protocol                                             <a href="rfc918.html">RFC 918</a></span>


      QUIT

         This command indicates the client is done with the session.
         The server sends an OK response and then closes the connection.

            Possible responses:  "+OK" then Close

      NOOP

         This is the no operation command.  It causes no action on the
         part of the server except an OK response.

            Possible response:  "+OK"

      RSET

         This command causes the server to abort the current transaction
         and return to waiting for a command (one of RDEL, RETR, QUIT,
         NOOP, or RSET).  When aborting a transaction the server must
         take care to properly close and unlock the mailbox.

            Possible response:  "+OK"

Acknowledgment

   I would like to acknowledge the contributions of Jon Postel, Joel
   Goldberger, Dale Chase, and Michael Butler in the development of the
   Post Office Protocol.

References

   [<a id="ref-1" name="ref-1">1</a>]  Postel, J., "Simple Mail Transfer Protocol", <a href="rfc821.html">RFC-821</a>,
   USC/Information Sciences Institute, August 1982.

   [<a id="ref-2" name="ref-2">2</a>]  Crocker, D., "Standard for the Format of ARPA-Internet Text
   Messages", <a href="rfc822.html">RFC-822</a>, University of Delaware, August 1982.















<span class="grey">Reynolds                                                        [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey">Post Office Protocol                                             <a href="rfc918.html">RFC 918</a></span>


Diagram
         +---+      +---+       +---+       +---+       +---+
   Open  |   | +OK  |   |       |   | +OK   |   |       |   | +OK
   -----&gt;| S |--+--&gt;| C |------&gt;| S |------&gt;| C |------&gt;| S |----&gt;+
         |   |  ^   |   | USER  |   |       |   | PASS  |   |     |
         +---+  |   +---+       +---+       +---+       +---+     |
                |                 | -ERR                  | -ERR  |
                |                 V                       V       |
   +&lt;-----------+&lt;----------------+&lt;----------------------+       |
   |                                                              |
   V      +---+       +---+                                       |
   +-----&gt;|   | QUIT  |   | +OK                                   |
          | C |------&gt;| S |-----&gt;Close                            |
   +-----&gt;|   |       |   |                                       |
   ^      +---+       +---+                                       |
   |                                                              V
   +&lt;-------------------------------------------------------------+
   |                                                              ^
   |  +---+     +---+      +---+     +---+     +---+     +---+    |
   |  |   |RETR |   | #xxx |   |RECV |   |DATA |   |RCVD |   |+OK |
   +-&gt;| C |----&gt;| S |-----&gt;| C |----&gt;| S |----&gt;| C |----&gt;| S |---&gt;+
   |  |   | or  |   |      |   |     |   |     |   |     |   |    ^
   |  +---+ RDEL+---+      +---+     +---+     +---+     +---+    |
   |              | -ERR     |         |         |         | -ERR |
   |              V          |         V         |         |      |
   +&lt;-------------+          |       Abort       |         |      |
   |                         V                   V         V      |
   |        +&lt;---------------+-------------------+         +-----&gt;+
   |        V
   |      +---+       +---+
   |      |   | RSET  |   | +OK
   +-----&gt;| C |------&gt;| S |-----&gt;+
   |      |   |       |   |      |
   |      +---+       +---+      |
   |                             V
   +&lt;----------------------------+
   |                             ^
   |      +---+       +---+      |
   |      |   | NOOP  |   | +OK  |
   +-----&gt;| C |------&gt;| S |-----&gt;+
          |   |       |   |
          +---+       +---+









Reynolds                                                        [Page 5]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>


<meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

</body><!-- Mirrored from tools.ietf.org/html/rfc918 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Mar 2014 18:52:53 GMT --><!-- Added by HTTrack --></html>