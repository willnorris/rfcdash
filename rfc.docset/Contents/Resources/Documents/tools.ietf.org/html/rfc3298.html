<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-faynberg-spirits-reqs" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:3298" name="DC.Identifier"/>
<meta content="August, 2002" name="DC.Date.Issued"/>
<meta content="Slutsman, Lev" name="DC.Creator"/>
<meta content="Gato, Jorge" name="DC.Creator"/>
<meta content="Lu, Hui-Lan" name="DC.Creator"/>
<meta content="Faynberg, Igor" name="DC.Creator"/>
<meta content='This document describes the SPIRITS protocol requirements, based on\nthe architecture presented in RFC 3136. (SPIRITS stands for "Service\nin the PSTN/IN Requesting InTernet Service".) The purpose of the\nprotocol is to support services that originate in the Public Switched\nTelephone Network (PSTN) and necessitate the interactions between the\nPSTN and the Internet. Similarly, such services are called SPIRITS\nservices. (Internet Call Waiting, Internet Caller-ID Delivery, and\nInternet Call Forwarding are examples of SPIRIT services, but the\nprotocol is to define the building blocks from which many other\nservices can be built.) On the PSTN side, the SPIRITS services are\ninitiated from the Intelligent Network (IN) entities; the earlier IETF\nwork on the PSTN/Internet Interworking (PINT) resulted in the protocol\n(RFC 2848) in support of the services initiated the other way around--\nfrom the Internet to PSTN. To this end, this document lists general\nrequirements for the SPIRITS protocol as well as those pertinent to\nIN, Wireless IN, and PINT building blocks. The document also presents\nthe SPIRITS WG consensus on the choice of the SPIRITS signaling\nprotocol. This memo provides information for the Internet community.' name="DC.Description.Abstract"/>
<meta content="Service in the Public Switched Telephone Network/Intelligent Network (PSTN/IN) Requesting InTernet Service (SPIRITS) Protocol Requirements" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3298 - Service in the Public Switched Telephone Network/Intelligent Network (PSTN/IN) Requesting InTernet Service (SPIRITS) Protocol Requirements</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc3298.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc3298" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-spirits-reqs" title="draft-ietf-spirits-reqs">draft-ietf-spirit...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3298" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc3298" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                I. Faynberg, Editor
Request for Comments: 3298                           Lucent Technologies
Category: Informational                                          J. Gato
                                                               Vodaphone
                                                                   H. Lu
                                                     Lucent Technologies
                                                             L. Slutsman
                                                                    AT&amp;T
                                                             August 2002


  <span class="h1">Service in the Public Switched Telephone Network/Intelligent Network</span>
 <span class="h1">(PSTN/IN) Requesting InTernet Service (SPIRITS) Protocol Requirements</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

Abstract

   This document describes the SPIRITS protocol requirements, based on
   the architecture presented in <a href="rfc3136.html">RFC 3136</a>.  (SPIRITS stands for "Service
   in the PSTN/IN Requesting InTernet Service".)  The purpose of the
   protocol is to support services that originate in the Public Switched
   Telephone Network (PSTN) and necessitate the interactions between the
   PSTN and the Internet.  Similarly, such services are called SPIRITS
   services.  (Internet Call Waiting, Internet Caller-ID Delivery, and
   Internet Call Forwarding are examples of SPIRIT services, but the
   protocol is to define the building blocks from which many other
   services can be built.)  On the PSTN side, the SPIRITS services are
   initiated from the Intelligent Network (IN) entities; the earlier
   IETF work on the PSTN/Internet Interworking (PINT) resulted in the
   protocol (<a href="rfc2848.html">RFC 2848</a>) in support of the services initiated the other
   way around--from the Internet to PSTN.

   To this end, this document lists general requirements for the SPIRITS
   protocol as well as those pertinent to IN, Wireless IN, and PINT
   building blocks.  The document also presents the SPIRITS WG consensus
   on the choice of the SPIRITS signaling protocol.






<span class="grey">Faynberg, et al.             Informational                      [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Conventions%20used%20in%20this%20document"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Conventions used in this document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a>.

   Unless otherwise qualified, the term PINT is used here not to refer
   to the present PINT services and protocol, but in reference to the
   scope of the generic PINT (vs. SPIRITS) service characteristics--
   services being invoked from an IP network (vs. PSTN).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Introduction"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Introduction</span>

   This document describes the SPIRITS protocol requirements, based on
   the architecture presented in <a href="rfc3136.html">RFC 3136</a>.  (SPIRITS stands for "Service
   in the PSTN/IN Requesting InTernet Service.")  The purpose of the
   protocol is to support services that originate in the Public Switched
   Telephone Network (PSTN) and necessitate the interactions between the
   PSTN and the Internet.  Such services are called SPIRITS services.
   (Internet Call Waiting, Internet Caller-ID Delivery, and Internet
   Call Forwarding are examples of SPIRIT services, but the protocol is
   to define the building blocks from which many other services can be
   built.)  On the PSTN side, the SPIRITS services are initiated from
   the Intelligent Network (IN) entities; the earlier IETF work on the
   PSTN/Internet Interworking (PINT) resulted in the protocol (<a href="rfc2848.html">RFC 2848</a>)
   in support of the services initiated the other way around--from the
   Internet to PSTN.

   To this end, this document lists general requirements for the SPIRITS
   protocol as well as those pertinent to IN, Wireless IN, and PINT
   building blocks.  The document also presents the SPIRITS WG consensus
   on the choice of the SPIRITS signaling protocol.  The joint
   PINT/SPIRITS architecture (described in [<a href="#ref-1" title='"The Spirits Architecture"'>1</a>]) is depicted in Figure 1.

   It is assumed that the Spirits Client is either co-located with the
   IN Service Control Function (SCF) or communicates with it (over the
   PSTN-specific interface D) in such a way so as to act on behalf of
   the PSTN/IN.  (This assumption is confirmed by current
   implementations, as reported in [<a href="#ref-2" title='"Pre-SPIRITS Implementations of PSTN-Initiated Services"'>2</a>].)

   The SPIRITS services are invoked (and, subsequently, the SPIRITS
   protocol is initiated) when a message from a SPIRITS Client (located
   in the IN Service Control Point [SCP] or Service Node [SN]) arrives
   on interface C to the SPIRITS gateway.  The Spirits gateway processes
   the message and, in turn, passes it on over the Interface B to the
   SPIRITS server.  In most practically important cases, the request
   from a SPIRITS client is ultimately caused by a request from a
   Central Office (i.e., a telephone switch) sent to either the SCP or



<span class="grey">Faynberg, et al.             Informational                      [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


   SN, although the Internet-based service initiation by these elements
   that had not been triggered by the Central Office is theoretically
   possible.  (Definitely, none of the SPIRITS benchmark services are
   initiated in such a way, so, for the purposes of the SPIRITS protocol
   development, it should be assumed that the service invocation was a
   direct result of an earlier action by the Service Switching
   Function.)












































<span class="grey">Faynberg, et al.             Informational                      [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


                                      ......................
      +----------------+              .                    .
      | +------------+ |              .   +------------+   .
      | |            | |       A      .   |            |   .
      | | PINT Client|********************|PINT Server/|********
      | |            | |              .   |  Gateway   |       *
      | +------------+ |              .   +------------+   .   *
      |                |              .                    .   *
      |  Subscriber's  |              .                    .   *
      |                |              .                    .   *
      |  IP Host       |              .                    .   *
      |                |              .   +------------+   .   *
      | +------------+ |              .   | SPIRITS    |   .   *
      | | SPIRITS    | |       B      .   | Gateway    |   .   *
      | | Server     |********************|            |   .   * E
      | |            | |              .   +------------+   .   *
      | +------------+ |              .          *         .   *
      +----------------+              .          *         .   *
                                      ...........*..........   *
                                                 *             *
                                                 *             *
           Subscriber's                          *  C          *
           Telephone                             *             *
                                                 *             *
             (---)                               *             *
               *                                 *             *
              * *                                *             *
     ++++++++++++++++++++++++++  PSTN   ++++++++++++++++++++++++++
               *                                 *             *
               *                                 *             *
               *                          +------------------+ *
               * Line                     | SPIRITS Client   | *
               *                          |                  | *
      +--------------------+          +---+----- D  ---------+-*+
      |                    | INAP/SS7 |                         |
      |Service Switching   ************Service Control Function |
      |    Function        |          |                         |
      |                    |          +-------------------------+
      |                    |
      |                    |
      +--------------------+

             Figure 1. Joint PINT/SPIRITS Architecture








<span class="grey">Faynberg, et al.             Informational                      [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


   With PINT (and that also applies to the PINT architecture and
   protocol as described in [<a href="#ref-3" title='"The PINT Service Protocol: Extensions to SIP and SDP for IP Access to Telephone Call Services"'>3</a>]), the service request to the PINT Server
   is always initiated by the PINT Client over the interface A.  The PINT
   Server can either be co-located with the IN Service Control or a
   similar entity (referred to as "Executive System" by [<a href="#ref-3" title='"The PINT Service Protocol: Extensions to SIP and SDP for IP Access to Telephone Call Services"'>3</a>]) or
   communicate with it over the PSTN-specific interface E.

   As Figure 1 shows, the PINT Client and SPIRITS Server are co-located
   in Subscriber's IP Host.  In fact, both can be implemented to run as
   one process.  No provision is made for interactions between the PINT
   Client and Spirits Server.  Similarly, the PINT Server/PINT Gateway
   and SPIRITS gateway are assumed to be co-located, too.  This
   assumption is convenient but not essential; the PINT Server could
   also be co-located with the SPIRITS Client.  In either case, no
   specific provision is made to define interworking between either the
   PINT Server and Spirits Gateway or PINT Server and SPIRITS Client
   other than by listing the overall PINT-related requirements.

   Since the currently deployed worldwide wireless networks are based on
   circuit switching, they are considered PSTN networks for the SPIRITS
   purposes.  Adding SPIRITS type of services to wireless networks can
   allow new services to be developed (for example geolocation
   information can be handled in the IP network).

   Nevertheless, there are certain peculiarities of wireless networks,
   which force considerations to be made in the protocol
   requirements and in the SPIRITS architecture.

   A particular Wireless IN standard development being considered here
   is CAMEL phase 3, standardized by the Third Generation Partnership
   group (3GPP).  The relevant service and architectural considerations
   and protocol requirements are presented later in this document.  As
   far as the architecture is concerned, certain wireless events are
   generated by Home Location Register (HLR), which may, but does not
   have to, be part of the Mobile Switching Center (MSC) (a wireless
   equivalent of the SSP).  These events are communicated to Service
   Control, at which point they use the same mechanism for invoking
   SPIRITS services that the IN would.

   The rest of this document addresses the general requirements,
   IN Requirements, specific Wireless IN requirements, PINT
   Requirements, the protocol development methodology, and security
   issues, in that order.








<span class="grey">Faynberg, et al.             Informational                      [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20General%20Requirements"></a><a class="selflink" href="#section-3" name="section-3">3</a>. General Requirements</span>

   Based on the success of extending SIP for PINT ([<a href="#ref-3" title='"The PINT Service Protocol: Extensions to SIP and SDP for IP Access to Telephone Call Services"'>3</a>]) and, especially,
   the results of pre-SPIRITS implementations reported in [<a href="#ref-2" title='"Pre-SPIRITS Implementations of PSTN-Initiated Services"'>2</a>], the
   Session Initiation Protocol (SIP) [<a href="#ref-7" title='"SIP: Session Initiation Protocol"'>7</a>] has been chosen as the
   signaling base protocol for SPIRITS.

   Thus, it is a requirement that specific SPIRITS-related parameters be
   carried in a manner consistent with SIP practices.  In particular,
   either Session Description Protocol (SDP) [<a href="#ref-8" title='"SDP: Session Description Protocol"'>8</a>] or Multi-purpose
   Internet Mail Extensions MIME [5-6] may be used for this purpose.
   Except for the proposed new SUBSCRIBE/NOTIFY mechanism [<a href="#ref-4" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>4</a>], and
   extensions already defined in PINT, no new SIP extensions are
   foreseen; instead the SPIRITS protocol is to rely on the above
   extension mechanisms.

   It is by no means a requirement that any SPIRITS implementation
   automatically support PINT services.  The SPIRITS protocol must be
   defined in a manner where, as the minimum, it can support only the
   basic notification mechanism without relying on PINT services or
   otherwise relying on persistent interactions with PSTN.
   Nevertheless, it has been demonstrated [<a href="#ref-2" title='"Pre-SPIRITS Implementations of PSTN-Initiated Services"'>2</a>] that combining PINT
   building blocks with those of SPIRITS is beneficial to building rich,
   enhanced PSTN/Internet services, so the SPIRITS protocol must meet
   the PINT-related requirements listed in <a href="#section-7">section 7</a> of this document.

   One specific example demonstrating the application of the latter
   requirement, which is elaborated on further in this document, is as
   follows: Implementation of SUBSCRIBE/NOTIFY is not mandatory as far
   as the minimum SPIRITS protocol is concerned.  Thus, the initial PSTN
   (Detection Point) notification will always arrive via the SIP INVITE
   method; however, to implement persistent interactions with the PSTN,
   the SUBSCRIBE method may be used to obtain further notifications of
   the PSTN events.  Subsequently, these events will be reported on by
   means of the NOTIFY method.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20IN%20Requirements"></a><a class="selflink" href="#section-4" name="section-4">4</a>. IN Requirements</span>

   The interface immediately relevant to IN is that between the SPIRITS
   Client and SPIRITS Gateway (interface C).  A typical message (which
   starts a SPIRITS service) looks like this:

   C -&gt; G: &lt;Event Notification&gt;, &lt;Parameter-List (DP)&gt;

   The relevant events correspond to the detection points (DPs) of the
   IN Basic Call State Model (BCSM).  The &lt;Parameter-List&gt; is a function
   of a specific DP; it contains the parameters relevant to it.  The
   following requirements apply:



<span class="grey">Faynberg, et al.             Informational                      [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


   1) The list of the DPs to be covered encompasses those defined in the
      IN Capability Set 3 BCSM as well as those which relate to the
      Wireless IN (WIN) specified by the IMT 2000 project in ITU-T.

   2) Not all parameters associated with such DPs are needed by the
      SPIRITS benchmark services, nor may all the parameters be needed
      in SPIRITS.  The selection of the relevant parameters is part of
      the SPIRITS protocol definition.

   3) It is desirable to avoid semantic overload of protocol messages.
      (One way to achieve that is to match each type of an event with a
      message that corresponds to it.)  As the SPIRITS protocol is
      designed as a set of extensions to another (existing) protocol
      with the defined message set, the syntax and semantics of the
      extensions should be defined with this requirement in mind.

   4) The ITU-T Recommendations use the abstract syntax notation (ASN.1)
      to specify the semantics of the IN Application Protocol (INAP)
      parameters, which are expected to be binary-encoded.  Neither the
      use of the ASN.1, nor the requirement for binary encoding are the
      typical requirements for the IETF application protocols.
      Recognizing that, provisions must be made for careful
      specification of the conversion of the INAP parameters to text,
      which must preserve their original semantics.  The actual
      conversion of the parameters is the function of the SPIRITS
      Client.

      In order to issue an initial query (or a notification) to service
      control, a switch must have such a DP set.  This can be done
      statically via service management (this particular action should
      be left to implementation and thus is considered outside of the
      scope of SPIRITS Protocol) or dynamically--but only for the
      purpose of a particular call--from the service control.  In the
      latter case, it is part of the SPIRITS (or PINT) protocol to
      request the event notification from the service control.  The SIP
      specific event notification scheme [<a href="#ref-4" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>4</a>] should be specifically
      considered.  This function can be performed by either the Spirits
      Client or PINT Server, the distinction being further discussed in
      the next section.  Assuming that it is performed by the SPIRITS
      Client, the relevant message should look like:

      G-&gt;C: SUBSCRIBE &lt;Event&gt; &lt;Mode&gt; &lt;DP-specific parameters&gt;,

      where &lt;Event&gt; refers to a particular DP; &lt;Mode&gt; determines whether
      the Event Detection Point (EDP) is to be armed as EDP Request
      (EDP-R), EDP Notification (EDP-N), or TDP-R (the need for TDP-N is
      not foreseen because it would not provide any additional
      capability for SPIRITS); and the &lt;DP-specific parameters&gt; is the



<span class="grey">Faynberg, et al.             Informational                      [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


      list of the values of the parameters associated with the EDP (for
      example, if the DP in question is O_No_Answer, then the value of
      the appropriate timer should be included in the list).  Note that
      such a subscription may also originate at a) PINT Client or b)
      SPIRITS Gateway, either of which may (but does not have to) have a
      locally significant definition of the &lt;Event&gt;.  In either case, it
      is the function of the SPIRITS Client to translate the definition
      of the Event into a particular DP (or set of DPs) when passing the
      message to Service Control.  To summarize, for the case when PINT
      and SPIRITS events are defined in a way where they do not refer to
      the BCSM DPs, it is the function of the SPIRITS Client to define a
      mapping:

      Event -&gt; DP List,

      for each event for which the PSTN notification is needed.

      The list of CS-3 DPs envisioned in SPIRITS is:

      -  origination_attempt_authorized (the SPIRITS service can control
         call attempts, (for example, to limit calls during specific
         time periods)

      -  collected_information and analyzed_information (for SPIRITS
         outgoing call screening)

      -  o_answer, o_term_seized, and t_answer (to release SPIRITS
         resources after the call is complete and perform relevant OA&amp;M
         actions such as creating a record of attempts to reach a party
         via various means like land-line phone, cell phone, SMS, or
         paging.)

      -  o_no_answer, route_select_failure, and t_no_answer (to re-route
         a call)

      -  o_called_party_busy (to re-route a call and for Internet Call
         Waiting)

      -  o_mid_call and t_mid_call (to assist a midcall action)

      -  o_abandon, o_disconnect, t_abandon, and t_disconnect  (to
         terminate a SPIRITS service and release the resources and
         perform relevant OA&amp;M actions such as creating a record of
         attempts to reach a party via various means like land-line
         phone, cell phone, SMS, or paging.)






<span class="grey">Faynberg, et al.             Informational                      [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


   In addition, the following DPs are relevant to the present SPIRITS
   milestone services:

      - termination_attempt_authorized

      - facility_selected_and_available (could be used in SPIRITS
         Internet Caller-ID)

      - t_busy (for Internet Call Waiting and Call Forwarding).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20Wireless-IN-related%20Requirements"></a><a class="selflink" href="#section-5" name="section-5">5</a>. Wireless-IN-related Requirements</span>

   Wireless IN covers several types of "calls," which are neither
   circuit switched nor have an effect on circuit switched calls.  For
   this reason, those are not considered in SPIRITS requirements.  To
   further clarify this point, the types of "calls" not considered are:

      -  USSD (Unstructured Supplementary Service Data)

      -  GPRS (General Packet Radio System)

      -  SMS (Short Message System)

         The types of calls relevant to SPIRITS are as follows:

      a) Voice Calls.  In this case no new DP is needed since CAMEL DPs
         are included in CS2.  The only special case is "Not Reachable"
         (when it is detected that the mobile user is out of coverage or
         has switched off), which is mapped as a special cause in the
         Busy DP.  Since the Busy DP parameters would be received (if a
         SPIRITS service has subscribed to Busy), it would be possible
         to distinguish a "busy" from a "not reachable" situation.

         This translates into the requirement that one of the parameters
         in the Event Notification message (from SPIRITS Client to
         SPIRITS Gateway, over the interface C) denotes the "cause" for
         the Busy Detection Point.

         Another aspect of difference, when compared to PSTN, is setting
         of static DPs.  In CAMEL networks, this is done in the Home
         Location Register (HLR) (and copied to the VLR during location
         update).  It is important to note this difference, even though
         it has no effect on  SPIRITS protocol.








<span class="grey">Faynberg, et al.             Informational                      [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


      b) Mobility Management events.  This allows a SPIRITS server to be
         notified of changes of location of a mobile user.  The events
         would only be applicable to mobile users reachable through a
         Circuit-Switched network.  To provide for this function, the
         subscription marks must be set in the subscriber's HLR.  This
         is equivalent to setting TDPs in the SSP.  In this case, the
         marks in the HLR (which are copied to the Visitor Location
         Register [VLR] on location update) are not mapped into Trigger
         Detection Points.

         As with TDP setting, this is outside of the scope of SPIRITS
         protocol.

         In order to support this function in SPIRITS, the SPIRITS
         protocol should be able to map the CAMEL specific operations
         into events notification to the SPIRITS client.  Since the SCP
         receives the information about the mobility state, this
         involves the C interface.  (This is just an extension of the DP
         notification mechanism from the SPIRITS client to the SPIRITS
         gateway).

         The events (which are not DP-related) which need notifications
         are:

            -  Location Update in the same VLR service area

            -  Location Update in another VLR service area

            -  IMSI attach

            -  MS initiated IMSI detach

            -  Network initiated IMSI detach.

         With this mechanism, the SPIRITS services can use the user-
         profile-based location information.  For example, the Internet
         Call Waiting service can re-direct the call to a mobile phone.

      c) Supplementary Services Notification.

         This mechanism makes a SPIRITS server aware of a subscriber
         having invoked one of the following supplementary services:
         Explicit Call Transfer, Call Deflection, Call Completion on
         Busy Subscriber, or Multi-Party.







<span class="grey">Faynberg, et al.             Informational                     [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20PINT-related%20Requirements"></a><a class="selflink" href="#section-6" name="section-6">6</a>. PINT-related Requirements</span>

   Before a SPIRITS service can be invoked, the relevant IP Host must be
   registered.  Thus, Registration is an essential service, which is
   initiated from the IP side.  The registration information is
   ultimately used by the PSTN to authenticate the subscriber.

   Depending on the model, this can be done in two ways with the present
   architecture:

   1) The PINT Client issues the appropriate Register message over the
   interface A, which is then passed by the PINT server to the SPIRITS
   Gateway and SPIRITS Client:

   PINT C.: -- Register --&gt; PINT S. [--&gt; SPIRITS Gateway --&gt; SPIRITS
   C.].  In this case the SPIRITS Client (co-located with the service
   control) is responsible for record keeping and the authentication.

   2) The PINT Client issues the appropriate Register message to the
   PINT Server, which then passes this information to the PSTN service
   control "by magic".

   The second model is much easier to handle, because it involves only
   one relevant interface ("A"); however it assumes no interworking
   between PINT and SPIRITS except that the SPIRITS Client finds "by
   magic" that a friendly and expecting IP Host is alive and well.

   Finally, in the event PINT is not implemented, the SIP SUBSCRIBE
   mechanism can be used.

   As noted in the previous section, the existing SUBSCRIBE/NOTIFY PINT
   building blocks [<a href="#ref-3" title='"The PINT Service Protocol: Extensions to SIP and SDP for IP Access to Telephone Call Services"'>3</a>] must be extended for their use in SPIRITS for the
   purposes of setting DPs/getting DP event notifications.  (A more
   general SIP mechanism for the same PINT-introduced block is described
   in [<a href="#ref-4" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>4</a>]; it provides the necessary mechanism for specifying relevant
   events.)  Conversely, the same building blocks for the functional
   capabilities can be used in both PINT and SPIRITS protocols.  Note,
   however, that in SPIRITS the PSTN notification may arrive without a
   particular subscription to an event (in the case of a statically set
   DP).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20Follow-up%20on%20Event%20Notifications"></a><a class="selflink" href="#section-7" name="section-7">7</a>. Follow-up on Event Notifications</span>

   The requirements of this section are neither PINT-specific, nor IN-
   specific; their role is to outline the remaining element necessary
   for the delivery of the SPIRITS service, which is the reaction to the
   notification received.




<span class="grey">Faynberg, et al.             Informational                     [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


   In a particular scenario where:

      a)  The IP subscriber registers a SPIRITS service;

      b)  A call triggering the SPIRITS service is received (and
         notification is sent); and

      c) The call disposition is performed by the end user, the
         signalling flow is demonstrated in Figure 2.

                      |----&gt;  Registration  -----&gt;|
              SPIRITS |&lt;-- Event Notification &lt;-- | SPIRITS
              Gateway |---&gt; Call Disposition ----&gt;| Client
                      |                   |
                                          |
                                          |
                                          |
                                          V
                                    Service Control
                                          |
                                          |
                                          V
                                         SSP

                 Figure 2: Sequence of SPIRITS actions

   One of the following actions is required by benchmark services:

      a) Accept the incoming call

      b) Reject the incoming call

      c) Redirect the incoming call

      d) Accept the call via VoIP (this particular item is outside of
         the scope of SPIRITS WG).

   Accordingly, the SPIRITS protocol should define the following message
   types:

      a) S-&gt;G: &lt;Accept Call&gt;

      b) S-&gt;G: &lt;[Reject Call],[Cause]&gt;

      c) S-&gt;G: &lt;[Redirect Call],[Redirection Destination]&gt;






<span class="grey">Faynberg, et al.             Informational                     [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20Methodology"></a><a class="selflink" href="#section-8" name="section-8">8</a>. Methodology</span>

   To determine the MINIMUM SPIRITS protocol vocabulary (i.e., the set
   of messages), the PSTN events associated with each detection point of
   the Basic Call State Model should be examined.  To date, the CS-3
   BSCM has the richest set of DPs, although not all switching exchanges
   have implemented it.

   To determine the MINIMUM information available to the SPIRITS client
   (this information is to be carried by the SPIRITS protocol from
   SPIRITS client to SPIRITS server), each DP-specific information
   elements needs to be examined.

   Parameters should be event-specific, the following generic types of
   parameters are expected to be mandatory:

      - timer (for no answer)

      - midcall control info (for mid_call)

      - number of digits (for collected_information)

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20Security%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>. Security Considerations</span>

   Overall, the basic aspects of security apply to SPIRITS protocol:

   -  Authentication:
      In the communications between the SPIRITS Client and SPIRITS
      Gateway as well as the SPIRITS Gateway and SPIRITS Server, it is
      required that the information be sent between known and trusted
      partners.

   -  Integrity:
      It is a requirement that no exchanged data be modified in transit.

   -  Confidentiality:
      It is a requirement that any private user information or
      confidential network data be protected by the protocol (typically
      through encryption, for which the protocol should allow a choice
      in the algorithm selection.

   -  Availability:
      It is a requirement that the communicating endpoints remain in
      service for authorized use only.







<span class="grey">Faynberg, et al.             Informational                     [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


   In addition, the protocol should support non-repudiation for those
   control messages pertinent to charging the PSTN subscriber.

   As Figure 1 demonstrates, there are two distinct communications
   interfaces, B and C.  The B interface is, in general, across the
   public Internet and is thus most vulnerable to security attacks
   resulting in theft or denial of service.  The C interface, on the
   other hand is likely to be implemented across a service providers
   intranet, where the security measures should be applied at the
   discretion of the service provider.  Even then, because at least one
   IP host (the PINT gateway) is connected to the Internet, special
   measures (e.g., installation of firewalls, although this particular
   measure alone may be insufficient) need to be taken to protect the
   interface C and the rest of the network from security attacks.

   The assumption that the PINT Client and SPIRITS server are co-
   located, dictates that the security considerations for the A and B
   interfaces are exactly same.  Detailed security requirements and
   solutions for interface A (and, consequently, B) can be found in <a href="rfc2848.html">RFC</a>
   <a href="rfc2848.html">2848</a> [<a href="#ref-3" title='"The PINT Service Protocol: Extensions to SIP and SDP for IP Access to Telephone Call Services"'>3</a>].

   Possible security attacks can result in both theft and denial of
   services.  In addition, such attacks may violate the privacy of a
   PSTN subscriber.  For example, with Internet Call Waiting, a
   fraudulent registration (or a manipulation of integrity of a valid
   registration) may force a network operator to provide to an
   authorized party a full log of attempted telephone calls (accompanied
   by the identification of callers).  Furthermore, the calls may be
   diverted to wrong recipients (who may further defraud the
   unsuspecting calling party).  In this case, the calling party is
   using only the PSTN and thus expecting the security of communications
   that are typical of the PSTN.  The PSTN service providers may be
   liable for the consequences of establishing wrong connections.  In
   addition, the PSTN service providers may be liable for inadvertent
   divulging of the private information of the subscriber.

   The service and network providers need to review the possibilities of
   the security attacks and prepare the means of protection from them.
   Some of this may be achieved by using the means outside of those
   provided by the protocol itself.  For example, administrative
   information (such as statistics collected by PINT MIB or SPIRITS MIB)
   can help in determining violations and thwarting them.  As far as the
   protocol is concerned, it must provide the means for authenticating a
   subscriber as well as a session.  It must also provide a capability
   to carry encrypted information in its body.






<span class="grey">Faynberg, et al.             Informational                     [Page 14]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20Acknowledgements"></a><a class="selflink" href="#section-10" name="section-10">10</a>. Acknowledgements</span>

   The authors are grateful to all participants in the SPIRITS group for
   the discussion that has been shaping this work.  Many thanks go to
   Jorgen Bjorkner, Alec Brusilovsky, Jim Buller, Lawrence Conroy, Soren
   Nyckelgard, and John Voelker for their incisive comments.  Special
   thanks are to Vijay Gurbani, Dave Hewins, and Kumar Vemuri, whose
   careful, detailed reviews of several versions of this document have
   been particularly helpful in improving its quality.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20References"></a><a class="selflink" href="#section-11" name="section-11">11</a>. References</span>

   [<a id="ref-1" name="ref-1">1</a>] Slutsman, L., Faynberg, I., Lu, H. and M. Weissman, "The Spirits
       Architecture", <a href="rfc3136.html">RFC 3136</a>, June 2001.

   [<a id="ref-2" name="ref-2">2</a>] Lu, H. (Editor), Faynberg, I., Voelker, J., Weissman, M., Zhang,
       W., Rhim, S., Hwang, J., Ago, S., Moeenuddin, S., Hadvani, S.,
       Nyckelgard, S., Yoakum, J. and L. Robart, "Pre-SPIRITS
       Implementations of PSTN-Initiated Services", <a href="rfc2995.html">RFC 2995</a>, November
       2000.

   [<a id="ref-3" name="ref-3">3</a>] Petrack, S. and L. Conroy, "The PINT Service Protocol: Extensions
       to SIP and SDP for IP Access to Telephone Call Services", <a href="rfc2848.html">RFC</a>
       <a href="rfc2848.html">2848</a>, June 2000.

   [<a id="ref-4" name="ref-4">4</a>] Roach, A.B., "Session Initiation Protocol (SIP)-Specific Event
       Notification", <a href="rfc3265.html">RFC 3265</a>, June 2002.

   [<a id="ref-5" name="ref-5">5</a>] Freed, N. and N. Borenstein, "Multipurpose Internet Mail
       Extensions (MIME) Part One: Format of Internet Message Bodies",
       <a href="rfc2045.html">RFC 2045</a>, November 1996.

   [<a id="ref-6" name="ref-6">6</a>] Freed, N. and N. Borenstein, "Multipurpose Internet Mail
       Extensions (MIME) Part Two: Media Types", <a href="rfc2046.html">RFC 2046</a>, November
       1996.

   [<a id="ref-7" name="ref-7">7</a>] Handley, M., Schooler, E., Schulzrinne, H. and J. Rosenberg,
       "SIP: Session Initiation Protocol", <a href="rfc2543.html">RFC 2543</a>, March 1999.

   [<a id="ref-8" name="ref-8">8</a>] Handley, M. and  V. Jacobsen, "SDP: Session Description
       Protocol", <a href="rfc2327.html">RFC 2327</a>, April 1998.










<span class="grey">Faynberg, et al.             Informational                     [Page 15]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20Authors%27%20Addresses"></a><a class="selflink" href="#section-12" name="section-12">12</a>. Authors' Addresses</span>

   Lev Slutsman
   AT&amp;T Laboratories
   200 Laurel Ave.
   Middletown, New Jersey, 07748

   Phone: (732) 420-3752
   EMail: lslutsman@att.com


   Igor Faynberg
   Bell Labs/Lucent Technologies
   Room 4D-601A, 101 Crawfords Corner Road
   Holmdel, New Jersey, 07733

   Phone: (732) 949-0137
   EMail: faynberg@lucent.com


   Jorge Gato
   Vodaphone
   Avda de Europa, 1.
   28108 Alcobendas (Madrid). Spain

   Phone: +34 607 13 31 10
   Fax:   +34 607 13 30 57
   EMail: jgato@airtel.es


   Hui-Lan Lu
   Bell Labs/Lucent Technologies
   Room 4C-607A, 101 Crawfords Corner Road
   Holmdel, New Jersey, 07733

   Phone: (732) 949-0321
   EMail: huilanlu@lucent.com














<span class="grey">Faynberg, et al.             Informational                     [Page 16]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3298.html">RFC 3298</a>             SPIRITS Protocol Requirements           August 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-13" name="section-13">13</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Faynberg, et al.             Informational                     [Page 17]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>


<meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

</body><!-- Mirrored from tools.ietf.org/html/rfc3298 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Mar 2014 18:44:15 GMT --><!-- Added by HTTrack --></html>