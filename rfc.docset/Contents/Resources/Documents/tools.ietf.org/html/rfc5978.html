<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.106" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Relation.Replaces" content="draft-nsis-ext" />
<meta name="DC.Identifier" content="urn:ietf:rfc:5978" />
<meta name="DC.Date.Issued" content="October, 2010" />
<meta name="DC.Creator" content="Bless, Roland" />
<meta name="DC.Creator" content="Davies, Elwyn" />
<meta name="DC.Creator" content="Manner, Jukka" />
<meta name="DC.Creator" content="Loughney, John" />
<meta name="DC.Description.Abstract" content="This document gives an overview of the Next Steps in Signaling (NSIS)\nframework and protocol suite created by the NSIS working group during\nthe period 2001-2009 together with suggestions on how the industry can\nmake use of the new protocols, and how the community can exploit the\nextensibility of both the framework and existing protocols to address\nfuture signaling needs." />
<meta name="DC.Title" content="Using and Extending the NSIS Protocol Family" />

    <link rel="icon" href="http://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="http://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 5978 - Using and Extending the NSIS Protocol Family</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgorange"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc5978.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc5978" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-nsis-ext" title="draft-ietf-nsis-ext">draft-ietf-nsis-ext</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5978" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc5978" title="Side-by-side diff">Diff2</a>]                  </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Internet Engineering Task Force (IETF)                         J. Manner
Request for Comments: 5978                              Aalto University
Category: Informational                                         R. Bless
ISSN: 2070-1721                                                      KIT
                                                             J. Loughney
                                                                   Nokia
                                                          E. Davies, Ed.
                                                        Folly Consulting
                                                            October 2010


              <span class="h1">Using and Extending the NSIS Protocol Family</span>

Abstract

   This document gives an overview of the Next Steps in Signaling (NSIS)
   framework and protocol suite created by the NSIS Working Group during
   the period of 2001-2010.  It also includes suggestions on how the
   industry can make use of the new protocols and how the community can
   exploit the extensibility of both the framework and existing
   protocols to address future signaling needs.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc5741.html#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc5978">http://www.rfc-editor.org/info/rfc5978</a>.

Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



<span class="grey">Manner, et al.                Informational                     [Page 1]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in <a href="#section-4">Section 4</a>.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  The NSIS Architecture  . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  The General Internet Signaling Transport . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-4">4</a>.  Quality-of-Service NSLP  . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-5">5</a>.  NAT/Firewall Traversal NSLP  . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-6">6</a>.  Deploying the Protocols  . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-6.1">6.1</a>.  Deployment Issues Due to Use of RAO  . . . . . . . . . . . <a href="#page-14">14</a>
     <a href="#section-6.2">6.2</a>.  Deployment Issues with NATs and Firewalls  . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-6.3">6.3</a>.  Incremental Deployment and Workarounds . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-7">7</a>.  Security Features  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-8">8</a>.  Extending the Protocols  . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
     8.1.  Overview of Administrative Actions Needed When
           Extending NSIS . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
     <a href="#section-8.2">8.2</a>.  GIST . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
       <a href="#section-8.2.1">8.2.1</a>.  Use of Different Message Routing Methods . . . . . . . <a href="#page-18">18</a>
       8.2.2.  Use of Different Transport Protocols or Security
               Capabilities . . . . . . . . . . . . . . . . . . . . . <a href="#page-18">18</a>
       <a href="#section-8.2.3">8.2.3</a>.  Use of Alternative Security Services . . . . . . . . . <a href="#page-19">19</a>
       <a href="#section-8.2.4">8.2.4</a>.  Query Mode Packet Interception Schemes . . . . . . . . <a href="#page-19">19</a>
       <a href="#section-8.2.5">8.2.5</a>.  Use of Alternative NAT Traversal Mechanisms  . . . . . <a href="#page-20">20</a>
       <a href="#section-8.2.6">8.2.6</a>.  Additional Error Identifiers . . . . . . . . . . . . . <a href="#page-20">20</a>
       <a href="#section-8.2.7">8.2.7</a>.  Defining New Objects To Be Carried in GIST . . . . . . <a href="#page-21">21</a>
       <a href="#section-8.2.8">8.2.8</a>.  Adding New Message Types . . . . . . . . . . . . . . . <a href="#page-21">21</a>
     <a href="#section-8.3">8.3</a>.  QoS NSLP . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-21">21</a>
     <a href="#section-8.4">8.4</a>.  QoS Specifications . . . . . . . . . . . . . . . . . . . . <a href="#page-22">22</a>
     <a href="#section-8.5">8.5</a>.  NAT/Firewall NSLP  . . . . . . . . . . . . . . . . . . . . <a href="#page-23">23</a>
     <a href="#section-8.6">8.6</a>.  New NSLP Protocols . . . . . . . . . . . . . . . . . . . . <a href="#page-23">23</a>
   <a href="#section-9">9</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-10">10</a>. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-11">11</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
     <a href="#section-11.1">11.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
     <a href="#section-11.2">11.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-28">28</a>












<span class="grey">Manner, et al.                Informational                     [Page 2]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   The Next Steps in Signaling (NSIS) Working Group was formed in
   November 2001 to develop an Internet signaling protocol suite that
   would attempt to remedy some of the perceived shortcomings of
   solutions based on the Resource ReSerVation Protocol (RSVP), e.g.,
   with respect to mobility and Quality-of-Service (QoS)
   interoperability.  The initial charter was focused on QoS signaling
   as the first use case, taking RSVP as the background for the work.
   In May 2003, middlebox traversal was added as an explicit second use
   case.  The requirements for the new generation of signaling protocols
   are documented in [<a href="rfc3726.html" title="&quot;Requirements for Signaling Protocols&quot;">RFC3726</a>], and an analysis of existing signaling
   protocols can be found in [<a href="rfc4094.html" title="&quot;Analysis of Existing Quality- of-Service Signaling Protocols&quot;">RFC4094</a>].

   The design of NSIS is based on a two-layer model, where a general
   signaling transport layer provides services to an upper signaling
   application layer.  The design was influenced by Bob Braden's
   document entitled "A Two-Level Architecture for Internet Signaling"
   [<a href="#ref-TWO-LEVEL" title="&quot;A Two-Level Architecture for Internet Signaling&quot;">TWO-LEVEL</a>].

   This document gives an overview of the NSIS framework and protocol
   suite at the time of writing (2010), provides an introduction to the
   use cases for which the current version of NSIS was designed,
   describes how to deploy NSIS in existing networks, and summarizes how
   the protocol suite can be enhanced to satisfy new use cases.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  The NSIS Architecture</span>

   The design of the NSIS protocol suite reuses ideas and concepts from
   RSVP but essentially divides the functionality into two layers.  The
   lower layer, the NSIS Transport Layer Protocol (NTLP), is in charge
   of transporting the higher-layer protocol messages to the next
   signaling node on the path.  This includes discovery of the next-hop
   NSIS node, which may not be the next routing hop, and different
   transport and security services depending on the signaling
   application requirements.  The General Internet Signaling Transport
   (GIST) [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>] has been developed as the protocol that fulfills the
   role of the NTLP.  The NSIS protocol suite supports both IP protocol
   versions, IPv4 and IPv6.

   The actual signaling application logic is implemented in the higher
   layer of the NSIS stack, the NSIS Signaling Layer Protocol (NSLP).
   While GIST is only concerned with transporting NSLP messages hop-by-
   hop between pairs of signaling nodes, the end-to-end signaling
   functionality is provided by the NSLP protocols if needed.  Not all
   NSLP protocols need to perform end-to-end signaling.  The current
   protocols have features to confine the signaling to a limited part of
   the path (such as the interior of a domain).  Messages transmitted by



<span class="grey">Manner, et al.                Informational                     [Page 3]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   GIST on behalf of an NSLP are identified by a unique NSLP identifier
   (NSLPID) associated with the NSLP.  Two NSLP protocols are currently
   specified: one concerning Quality-of-Service signaling [<a href="rfc5974.html" title="&quot;NSIS Signaling Layer Protocol (NSLP) for Quality-of- Service Signaling&quot;">RFC5974</a>] and
   one to enable NAT/firewall traversal [<a href="rfc5973.html" title="&quot;NAT/Firewall NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5973</a>].

   NSIS is primarily designed to provide the signaling needed to install
   state on nodes that lie on the path that will be taken by some end-
   to-end flow of data packets; the state installed should facilitate or
   enhance some characteristic of the data flow.  This is typically
   achieved by routing signaling messages along the same path (known as
   "path-coupled signaling") and intercepting the signaling message at
   NSIS-capable nodes.  However, the NSIS architecture is designed to be
   flexible, and the routing of signaling messages is controlled by the
   Message Routing Method (MRM) that is applied to the signaling
   messages.  The initial specifications define two MRMs:

   o  the basic Path Coupled MRM designed to drive signaling along the
      path that will be followed by the data flow, and

   o  an alternative Loose End MRM, which is applicable for
      preconditioning the state in firewalls and Network Address
      Translation (NAT) middleboxes when data flow destinations lie
      behind this sort of middlebox.  Without preconditioning, these
      middleboxes will generally reject signaling messages originating
      outside the region 'protected' by the middlebox and where the
      destination is located.

   Parameters carried by each signaling message drive the operation of
   the relevant transport or signaling application.  In particular, the
   messages will carry Message Routing Information (MRI) that will allow
   the NSIS nodes to identify the data flow to which the signaling
   applies.  Generally, the intercepted messages will be reinjected into
   the network after processing by the NSIS entities and will be routed
   further towards the destination, possibly being intercepted by
   additional NSIS-capable nodes before arriving at the flow endpoint.

   As with RSVP, it is expected that the signaling message will make a
   complete round trip either along the whole end-to-end path or a part
   of it if the scope of the signaling is limited.  This implements a
   two-phase strategy in which capabilities are assessed and provisional
   reservations are made on the outbound leg; these provisional
   reservations are then confirmed and operational state is installed on
   the return leg.  Unlike RSVP, signaling is normally initiated at the
   source of the data flow, making it easier to ensure that the
   signaling follows the expected path of the data flow, but can also be
   receiver initiated as in RSVP.





<span class="grey">Manner, et al.                Informational                     [Page 4]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   A central concept of NSIS is the Session Identifier (SID).  Signaling
   application states are indexed and referred to through the SID in all
   the NSLPs.  This decouples the state information from IP addresses,
   allowing dynamic IP address changes for signaling flows, e.g., due to
   mobility: changes in IP addresses do not force complete teardown and
   re-initiation of a signaling application state; they force merely an
   update of the state parameters in the NSLP(s), especially the MRI.

   At the NTLP (GIST) layer, the SID is not meaningful by itself, but is
   used together with the NSLP identifier (NSLPID) and the Message
   Routing Information (MRI).  This 3-tuple is used by GIST to index and
   manage the signaling flows.  Changes of routing or dynamic IP address
   changes, e.g., due to mobility, will require GIST to modify already
   established Messaging Associations (MAs) that are used to channel
   NSLP messages between adjacent GIST peers in order to satisfy the
   NSLP MRI for each SID.

   The following design restrictions were imposed for the first phase of
   the protocol suite.  They may be lifted in the future, and new
   functionality may be added into the protocols at some later stage.

   o  Initial focus on MRMs for path-coupled signaling: GIST transports
      messages towards an identified unicast data flow destination based
      on the signaling application request, and does not directly
      support path-decoupled signaling, e.g., QoS signaling to a
      bandwidth broker or other off-path resource manager.  The
      framework also supports a Loose End MRM used to discover GIST
      nodes with particular properties in the direction of a given
      address; for example, the NAT/firewall NSLP uses this method to
      discover a NAT along the upstream data path.

   o  No multicast support: Introducing support for multicast was deemed
      too much overhead, considering the currently limited support for
      global IP multicast.  Thus, the current GIST and the NSLP
      specifications consider unicast flows only.

   The key documents specifying the NSIS framework are:

   o  Requirements for Signaling Protocols [<a href="rfc3726.html" title="&quot;Requirements for Signaling Protocols&quot;">RFC3726</a>]

   o  Next Steps in Signaling: Framework [<a href="rfc4080.html" title="&quot;Next Steps in Signaling (NSIS): Framework&quot;">RFC4080</a>]

   o  Security Threats for NSIS [<a href="rfc4081.html" title="&quot;Security Threats for Next Steps in Signaling (NSIS)&quot;">RFC4081</a>]

   The protocols making up the suite specified by the NSIS Working Group
   are documented in:

   o  The General Internet Signaling Transport protocol [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>]



<span class="grey">Manner, et al.                Informational                     [Page 5]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   o  Quality-of-Service NSLP (QoS NSLP) [<a href="rfc5974.html" title="&quot;NSIS Signaling Layer Protocol (NSLP) for Quality-of- Service Signaling&quot;">RFC5974</a>]

   o  The QoS specification template [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>]

   o  NAT/firewall traversal NSLP [<a href="rfc5973.html" title="&quot;NAT/Firewall NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5973</a>]

   The next three sections provide a brief survey of GIST, the QoS NSLP,
   and the NAT/firewall NSLP.

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  The General Internet Signaling Transport</span>

   The General Internet Signaling Transport (GIST) [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>] provides
   signaling transport and security services to NSIS Signaling Layer
   Protocols (NSLP) and the associated signaling applications.  GIST
   does not define new IP transport protocols or security mechanisms but
   rather makes use of existing protocols, such as TCP, UDP, TLS, and
   IPsec.  Applications can indicate the desired transport attributes
   for the signaling flow, e.g., unreliable or reliable, and GIST then
   chooses the most appropriate transport protocol(s) to satisfy the
   requirements of the flow.  GIST will normally use UDP if unreliable
   signaling is adequate, TCP if reliability is required, and TLS over
   TCP for secure (and reliable) signaling flows, but there exist
   extensibility provisions within GIST that will allow alternatives to
   be specified in the future.  The NSIS layered protocol stack is shown
   in Figure 1.


























<span class="grey">Manner, et al.                Informational                     [Page 6]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


               +-----+ +--------+ +-------+
               |     | |        | |       |
               | QoS | | NAT/FW | |  ...  |       NSLP
               |     | |        | |       |
               +-----+ +--------+ +-------+

   ---------------------------------------------------------------------
               +--------------------------+
               |                          |
               |          GIST            |       NTLP
               |                          |
               +--------------------------+

   ---------------------------------------------------------------------
               +------------+-------------+
               |     TLS    |    DTLS     |  Security Support*
               +------------+-------------+
               | TCP | SCTP | UDP | DCCP  |  Transport Protocol*
               +--------------------------+
               +--------------------------+
               |         IPsec            |
               +--------------------------+
               +--------------------------+
               |    IPv4     |    IPv6    |
               +--------------------------+

    * The Security Support and Transport Protocol layers show some
      possible protocols that could be used to transport NSIS messages.
      To provide authentication and/or integrity protection support,
      the transport protocol has to be paired with a suitable security
      mechanism, e.g., TCP with TLS, or Datagram Congestion Control
      Protocol (DCCP) with DTLS.

                     Figure 1: The NSIS protocol stack

   GIST divides up the data flow's end-to-end path into a number of
   segments between pairs of NSIS-aware peer nodes located along the
   path.  Not every router or other middlebox on the path needs to be
   NSIS aware: each segment of the signaling path may incorporate
   several routing hops.  Also not every NSIS-aware node necessarily
   implements every possible signaling application.  If the signaling
   for a flow requests services from a subset of the applications, then
   only nodes that implement those services are expected to participate
   as peers, and even some of these nodes can decline to operate on a
   particular flow if, for example, the additional load might overload
   the processing capability of the node.  These characteristics mean
   that incremental deployment of NSIS capabilities is possible both
   with the initial protocol suite, and for any future NSLP applications



<span class="grey">Manner, et al.                Informational                     [Page 7]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   that might be developed.  The following paragraphs describe how a
   signaling segment is set up to offer the transport and security
   characteristics needed by a single NSLP.

   When an NSLP application wants to send a message towards a flow
   endpoint, GIST starts the process of discovering the next signaling
   node by sending a Query message towards the destination of the
   related data flow.  This Query carries the NSLP identifier (NSLPID)
   and Message Routing Information (MRI), among others.  The MRI
   contains enough information to control the routing of the signaling
   message and to identify the associated data flow.  The next GIST node
   on the path receives the message, and if it is running the same NSLP,
   it provides the MRI to the NSLP application and requests it to make a
   decision on whether to peer with the querying node.  If the NSLP
   application chooses to peer, GIST sets up a Message Routing State
   (MRS) between the two nodes for the future exchange of NSLP data.
   State setup is performed by a three-way handshake that allows for
   negotiation of signaling flow parameters and provides counter-
   measures against several attacks (like denial-of-service) by using
   cookie mechanisms and a late state installation option.

   If a transport connection is required and needs to provide for
   reliable or secure signaling, like TCP or TLS/TCP, a Messaging
   Association (MA) is established between the two peers.  An MA can be
   reused for signaling messages concerning several different data
   flows, i.e., signaling messages between two nodes are multiplexed
   over the same transport connection.  This can be done when the
   transport requirements (reliability, security) of a new flow can be
   met with an existing MA, i.e., the security and transport properties
   of an existing MA are equivalent or better than what is requested for
   a potential new MA.

   For path-coupled signaling, we need to find the nodes on the data
   path that should take part in the signaling of an NSLP and invoke
   them to act on the arrival of such NSLP signaling messages.  The
   basic concept is that such nodes along a flow's data path intercept
   the corresponding signaling packets and are thus discovered
   automatically.  GIST places a Router Alert Option (RAO) in Query
   message packets to ensure that they are intercepted by relevant NSIS-
   aware nodes, as in RSVP.

   Late in the development of GIST, serious concerns were raised in the
   IETF about the security risks and performance implications of
   extensive usage of the RAO [<a href="#ref-RAO-BAD" title="&quot;Use of IP Router Alert Considered Dangerous&quot;">RAO-BAD</a>].  Additionally, evidence was
   discovered indicating that several existing implementations of RAO
   were inconsistent with the (intention of the) standards and would not
   support the NSIS usage.  There were also concerns that extending the
   need for RAO recognition in the fast path of routers that are



<span class="grey">Manner, et al.                Informational                     [Page 8]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   frequently implemented in hardware would delay or deter
   implementation and deployment of NSIS.  Eventually, it was decided
   that NSIS would continue to specify RAO as its primary means for
   triggering interception of signaling messages in intermediate nodes
   on the data path, but the protocol suite would be published with
   Experimental status rather than on the Standards Track while
   deployment experience was gathered.  More information about the use
   of RAO in GIST can be found in [<a href="#ref-GIST-RAO" title="&quot;Using the Router Alert Option for Packet Interception in GIST&quot;">GIST-RAO</a>].  Also, the deployment
   issues that arise from the use of RAO are discussed in <a href="#section-6.1">Section 6.1</a>.

   Alternative mechanisms have been considered to allow nodes to
   recognize NSIS signaling packets that should be intercepted.  For
   example, NSIS nodes could recognize UDP packets directed to a
   specific destination port as Query messages that need to be
   intercepted even though they are not addressed to the intercepting
   node.  GIST provides for the use of such alternatives as a part of
   its extensibility design.  NSIS recognizes that the workload imposed
   by intercepting signaling packets could be considerable relative to
   the work needed just to forward such packets.  To keep the necessary
   load to a minimum, NSIS provides mechanisms to limit the number of
   interceptions needed by constraining the rate of generation and
   allowing for intentional bypassing of signaling nodes that are not
   affected by particular signaling requests.  This can be accomplished
   either in GIST or in the NSLP.

   Since GIST carries information about the data flow inside its
   messages (in the MRI), NAT gateways must be aware of GIST in order to
   let it work correctly.  GIST provides a special object for NAT
   traversal so that the actual translation is disclosed if a GIST-aware
   NAT gateway provides this object.

   As with RSVP, all the state installed by NSIS protocols is "soft-
   state" that will expire and be automatically removed unless it is
   periodically refreshed.  NSIS state is held both at the signaling
   application layer and in the signaling transport layer, and is
   maintained separately.  NSLPs control the lifetime of the state in
   the signaling application layer by setting a timeout and sending
   periodic "keep alive" messages along the signaling path if no other
   messages are required.  The MAs and the routing state are maintained
   semi-independently by the transport layer, because MAs may be used by
   multiple NSLP sessions, and can also be recreated "on demand" if the
   node needs to reclaim resources.  The transport layer can send its
   own "keep alive" messages across a MA if no NSLP messages have been
   sent, for example, if the transport layer decides to maintain a
   heavily used MA even though there is no current NSLP session using
   it.  Local state can also be deleted explicitly when no longer
   needed.




<span class="grey">Manner, et al.                Informational                     [Page 9]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   If there is a change in the route used by a flow for which NSIS has
   created state, NSIS needs to detect the change in order to determine
   if the new path contains additional NSIS nodes that should have state
   installed.  GIST may use a range of triggers in order to detect a
   route change.  It probes periodically for the next peer by sending a
   GIST Query, thereby detecting a changed route and GIST peer.  GIST
   monitors routing tables and the GIST peer states, and it notifies
   NSLPs of any routing changes.  It is then up to the NSLPs to act
   appropriately, if needed, e.g., by issuing a refresh message.  The
   periodic queries also serve to maintain the soft-state in nodes as
   long as the route is unchanged.

   In summary, GIST provides several services in one package to the
   upper-layer signaling protocols:

   o  Signaling peer discovery: GIST is able to find the next-hop node
      that runs the NSLP being signaled for.

   o  Multiplexing: GIST reuses already established signaling
      relationships and messaging associations to next-hop peers if the
      signaling flows require the same transport attributes.

   o  Transport: GIST provides transport with different attributes --
      namely, reliable/unreliable and secure/unsecure.

   o  Security: If security is requested, GIST uses TLS to provide an
      encrypted and integrity-protected message transport to the next
      signaling peer.

   o  Routing changes: GIST detects routing changes, but instead of
      acting on its own, it merely sends a notification to the local
      NSLP.  It is then up to the NSLP to act.

   o  Fragmentation: GIST uses either a known Path MTU for the next hop
      or limits its message size to 576 bytes when using UDP or Query
      mode.  If fragmentation is required, it automatically establishes
      an MA and sends the signaling traffic over a reliable protocol,
      e.g., TCP.

   o  State maintenance: GIST establishes and then maintains the soft-
      state that controls communications through MAs between GIST peers
      along the signaling path, according to usage parameters supplied
      by NSLPs and local policies.








<span class="grey">Manner, et al.                Informational                    [Page 10]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  Quality-of-Service NSLP</span>

   The Quality-of-Service (QoS) NSIS Signaling Layer Protocol (NSLP)
   establishes and maintains state at nodes along the path of a data
   flow for the purpose of providing some forwarding resources for that
   flow.  It is intended to satisfy the QoS-related requirements of <a href="rfc3726.html">RFC</a>
   <a href="rfc3726.html">3726</a> [<a href="rfc3726.html" title="&quot;Requirements for Signaling Protocols&quot;">RFC3726</a>].  No support for QoS architectures based on bandwidth
   brokers or other off-path resource managers is currently included.

   The design of the QoS NSLP is conceptually similar to RSVP, <a href="rfc2205.html">RFC 2205</a>
   [<a href="rfc2205.html" title="&quot;Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification&quot;">RFC2205</a>], and uses soft-state peer-to-peer refresh messages as the
   primary state management mechanism (i.e., state installation/refresh
   is performed between pairs of adjacent NSLP nodes, rather than in an
   end-to-end fashion along the complete signaling path).  The QoS NSLP
   extends the set of reservation mechanisms to meet the requirements of
   <a href="rfc3726.html">RFC 3726</a> [<a href="rfc3726.html" title="&quot;Requirements for Signaling Protocols&quot;">RFC3726</a>], in particular, support of sender- or receiver-
   initiated reservations, as well as, a type of bidirectional
   reservation and support of reservations between arbitrary nodes,
   e.g., edge-to-edge, end-to-access, etc.  On the other hand, there is
   currently no support for IP multicast.

   A distinction is made between the operation of the signaling protocol
   and the information required for the operation of the Resource
   Management Function (RMF).  RMF-related information is carried in the
   QSPEC (QoS Specification) object in QoS NSLP messages.  This is
   similar to the decoupling between RSVP and the IntServ architecture,
   <a href="rfc1633.html">RFC 1633</a> [<a href="rfc1633.html" title="&quot;Integrated Services in the Internet Architecture: an Overview&quot;">RFC1633</a>].  The QSPEC carries information on resources
   available, resources required, traffic descriptions, and other
   information required by the RMF.  A template for QSPEC objects is
   defined in [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].  This provides a number of basic parameter
   objects that can be used as a common language to specify components
   of concrete QoS models.  The objects defined in [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>] provide the
   building blocks for many existing QoS models such as those associated
   with RSVP and Differentiated Services.  The extensibility of the
   template allows new QoS model specifications to extend the template
   language as necessary to support these specifications.

   The QoS NSLP supports different QoS models because it does not define
   the QoS mechanisms and RMF that have to be used in a domain.  As long
   as a domain knows how to perform admission control for a given QSPEC,
   QoS NSLP actually does not care how the specified constraints are
   enforced and met, e.g., by putting the related data flow in the
   topmost of four Diffserv classes or by putting it into the third
   highest of twelve Diffserv classes.  The particular QoS configuration
   used is up to the network provider of the domain.  The QSPEC can be
   seen as a common language to express QoS requirements between
   different domains and QoS models.




<span class="grey">Manner, et al.                Informational                    [Page 11]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   In short, the functionality of the QoS NSLP includes:

   o  Conveying resource requests for unicast flows

   o  Resource requests (QSPEC) that are decoupled from the signaling
      protocol (QoS NSLP)

   o  Sender- and receiver-initiated reservations, as well as
      bidirectional

   o  Soft-state and reduced refresh (keep-alive) signaling

   o  Session binding, i.e., session X can be valid only if session Y is
      also valid

   o  Message scoping, end-to-end, edge-to-edge, or end-to-edge (proxy
      mode)

   o  Protection against message re-ordering and duplication

   o  Group tear, tearing down several sessions with a single message

   o  Support for rerouting, e.g., due to mobility

   o  Support for request priorities and preemption

   o  Stateful and stateless nodes: stateless operation is particularly
      relevant in core networks where large amounts of QoS state could
      easily overwhelm a node

   o  Reservation aggregation

   The protocol also provides for a proxy mode to allow the QoS
   signaling to be implemented without needing all end-hosts to be
   capable of handling NSIS signaling.

   The QSPEC template supports situations where the QoS parameters need
   to be fine-grained, specifically targeted to an individual flow in
   one part of the network (typically the edge or access part) but might
   need to be more coarse-grained, where the flow is part of an
   aggregate (typically in the core of the network).

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  NAT/Firewall Traversal NSLP</span>

   The NAT/firewall traversal NSLP [<a href="rfc5973.html" title="&quot;NAT/Firewall NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5973</a>] lets end-hosts interact
   with NAT and firewall devices in the data path.  Basically, it allows
   for a dynamic configuration of NATs and/or firewalls along the data
   path in order to enable data flows to traverse these devices without



<span class="grey">Manner, et al.                Informational                    [Page 12]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   being obstructed.  For instance, firewall pinholes could be opened on
   demand by authorized hosts.  Furthermore, it is possible to block
   unwanted incoming traffic on demand, e.g., if an end-host is under
   attack.

   Configurations to be implemented in NAT and firewall devices signaled
   by the NAT/firewall NSLP take the form of a (pattern, action) pair,
   where the pattern specifies a template for packet header fields to be
   matched.  The device is then expected to apply the specified action
   to any passing packet that matches the template.  Actions are
   currently limited to ALLOW (forward the packet) and DENY (drop the
   packet).  The template specification allows for a greater range of
   packet fields to be matched than those allowed for in the GIST MRI.

   Basically, NAT/firewall signaling starts at the data sender (NSIS
   Initiator) before any actual application data packets are sent.
   Signaling messages may pass several middleboxes that are NAT/firewall
   NSLP aware (NSIS Forwarder) on their way downstream and usually hit
   the receiver (being the NSIS Responder).  A proxy mode is also
   available for cases where the NAT/firewall NSLP is not fully
   supported along the complete data path.  NAT/firewall NSLP is based
   on a soft-state concept, i.e., the sender must periodically repeat
   its request in order to keep it active.

   Additionally, the protocol also provides functions for receivers
   behind NATs.  The receiver may request an external address that is
   reachable from outside.  The reserved external address must, however,
   be communicated to the sender out-of-band by other means, e.g., by
   application level signaling.  After this step the data sender may
   initiate a normal NAT/firewall signaling in order to create firewall
   pinholes.

   The protocol also provides for a proxy mode to allow the NAT/firewall
   signaling to be implemented without needing all end-hosts to be
   capable of handling NSIS signaling.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  Deploying the Protocols</span>

   The initial version of the NSIS protocol suite is being published
   with the status of Experimental in order to gain deployment
   experience.  Concerns over the security, implementation, and
   administrative issues surrounding the use of RAO are likely to mean
   that initial deployments occur in "walled gardens" where the
   characteristics of hardware in use are well-known, and there is a
   high level of trust and control over the end nodes that use the
   protocols.  This section addresses issues that need to be considered
   in a deployment of the NSIS protocol suite.




<span class="grey">Manner, et al.                Informational                    [Page 13]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   First of all, NSIS implementations must be available in at least some
   of the corresponding network nodes (i.e., routers, firewalls, or NAT
   gateways) and end-hosts.  That means not only GIST support, but also
   the NSLPs and their respective control functions (such as a resource
   management function for QoS admission control, etc.) must be
   implemented.  NSIS is capable of incremental deployment and an
   initial deployment does not need to involve every node in a network
   domain.  This is discussed further in <a href="#section-6.3">Section 6.3</a>.  There are a
   number of obstacles that may be encountered due to broken
   implementations of RAO (see <a href="#section-6.1">Section 6.1</a>) and due to firewalls or NATs
   that drop NSIS signaling packets (see <a href="#section-6.2">Section 6.2</a>).

   Another important issue is that applications may need to be made
   NSIS-aware, thereby requiring some effort from the applications'
   programmers.  Alternatively, it may be possible to implement separate
   applications to control, e.g., the network QoS requests or firewall
   pinholes, without needing to update the actual applications that will
   take advantage of NSIS capabilities.

<span class="h3"><a class="selflink" name="section-6.1" href="#section-6.1">6.1</a>.  Deployment Issues Due to Use of RAO</span>

   The standardized version of GIST depends on routers and other
   middleboxes correctly recognizing and acting on packets containing
   RAO.  There are a number of problems related to RAO that can obstruct
   a deployment of NSIS:

   o  Some implementations do not respond to RAO at all.

   o  Some implementations respond but do not distinguish between the
      RAO parameter values in IPv4 packets or reject anything except 0
      (in which case, only the value 0 can be used).

   o  The response to RAO in a GIST Query mode packet, which is sent
      using the UDP transport, is to dispatch the packet to the UDP
      stack in the intercepting node rather than to a function
      associated with the RAO parameter.  Since the node will not
      normally have a regular UDP receiver for these packets they are
      dropped.

   o  The major security concern with RAO in NSIS is that it provides a
      new vector for hosts to mount a (distributed) denial-of-service
      (DDoS) attack on the control plane of routers on the data path.
      Such attacks have occurred, and it is therefore normal for service
      providers to prohibit "host-to-router" signaling packets such as
      RSVP or NSIS from entering their networks from customer networks.
      This will tend to limit the deployment of NSIS to "walled gardens"
      unless a suitable mitigation of the DDoS threat can be found and
      deployed.



<span class="grey">Manner, et al.                Informational                    [Page 14]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   In order to deploy NSIS effectively, routers and other hardware need
   to be selected and correctly configured to respond to RAO and
   dispatch intercepted packets to the NSIS function.

   A further obstacle results from the likelihood that IPv4 packets with
   IP options of any kind will be filtered and dropped by firewalls and
   NATs.  In many cases, this is the default behavior so that explicit
   configuration is needed to allow packets carrying the RAO to pass
   through.  The general inclination of domain administrators is to deny
   access to packets carrying IP options because of the security risks
   and the additional load on the routers in the domain.  The situation
   with IPv6 may be easier, as the RAO option in IPv6 is better defined,
   but the security concerns remain.

   Deployment issues are discussed at more length in <a href="#appendix-C">Appendix C</a> of the
   GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

<span class="h3"><a class="selflink" name="section-6.2" href="#section-6.2">6.2</a>.  Deployment Issues with NATs and Firewalls</span>

   NAT gateways and firewalls may also hinder initial deployment of NSIS
   protocols for several reasons:

   o  They may filter and drop signaling traffic (as described in
      <a href="#section-6.1">Section 6.1</a>) to deny access to packets containing IP options.

   o  They may not permit "unsolicited" incoming GIST Query mode
      packets.  This behavior has been anticipated in the design of the
      protocols but requires additional support to ensure that the
      middleboxes are primed to accept the incoming queries (see
      [<a href="rfc5974.html" title="&quot;NSIS Signaling Layer Protocol (NSLP) for Quality-of- Service Signaling&quot;">RFC5974</a>] and [<a href="rfc5973.html" title="&quot;NAT/Firewall NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5973</a>]).

   o  NATs that are not aware of the NSIS protocols will generally
      perform address translations that are not coordinated with the
      NSIS protocols.  Since NSIS signaling messages may be carrying
      embedded IP addresses affected by these translations, it may not
      be possible to operate NSIS through such legacy NATs.  The
      situation and workarounds are discussed in <a href="rfc5971.html#section-7.2.1">Section&nbsp;7.2.1 of
      [RFC5971]</a>.

<span class="h3"><a class="selflink" name="section-6.3" href="#section-6.3">6.3</a>.  Incremental Deployment and Workarounds</span>

   NSIS is specifically designed to be incrementally deployable.  It is
   not required that all nodes on the signaling and data path are NSIS
   aware.  To make any use of NSIS, at least two nodes on the path need
   to be NSIS aware.  However, it is not essential that the initiator
   and receiver of the data flow are NSIS aware.  Both the QoS and NAT/
   firewall NSLPs provide "proxy modes" in which nodes adjacent to the
   initiator and/or receiver can act as proxy signaling initiator or



<span class="grey">Manner, et al.                Informational                    [Page 15]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-16" id="page-16" href="#page-16" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   receiver.  An initiator proxy can monitor traffic and, hopefully,
   detect when a data flow of a type needing NSIS support is being
   initiated.  The proxies can act more or less transparently on behalf
   of the data flow initiator and/or receiver to set up the required
   NSIS state and maintain it while the data flow continues.  This
   capability reduces the immediate need to modify all the data flow
   endpoints before NSIS is viable.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  Security Features</span>

   Basic security functions are provided at the GIST layer, e.g.,
   protection against some blind or denial-of-service attacks, but note
   that introduction of alternative MRMs may provide attack avenues that
   are not present with the current emphasis on the path-coupled MRM.
   Conceptually, it is difficult to protect against an on-path attacker
   and man-in-the-middle attacks when using path-coupled MRMs, because a
   basic functionality of GIST is to discover as yet unknown signaling
   peers.  Transport security can be requested by signaling applications
   and is realized by using TLS between signaling peers, i.e.,
   authenticity and confidentiality of signaling messages can be assured
   between peers.  GIST allows for mutual authentication of the
   signaling peers (using TLS means such as certificates) and can verify
   the authenticated identity against a database of nodes authorized to
   take part in GIST signaling.  It is, however, a matter of policy that
   the identity of peers is verified and accepted upon establishment of
   the secure TLS connection.

   While GIST is handling authentication of peer nodes, more fine-
   grained authorization may be required in the NSLP protocols.  There
   is currently an ongoing work to specify common authorization
   mechanisms to be used in NSLP protocols [<a href="#ref-NSIS-AUTH" title="&quot;Authorization for NSIS Signaling Layer Protocols&quot;">NSIS-AUTH</a>], thus allowing,
   e.g., per-user and per-service authorization.

<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  Extending the Protocols</span>

   This section discusses the ways that are available to extend the NSIS
   protocol suite.  The Next Steps in Signaling (NSIS) Framework
   [<a href="rfc4080.html" title="&quot;Next Steps in Signaling (NSIS): Framework&quot;">RFC4080</a>] describes a two-layer framework for signaling on the
   Internet, comprising a generic transport layer with specific
   signaling-layer protocols to address particular applications running
   over this transport layer.  The model is designed to be highly
   extensible so that it can be adapted for different signaling needs.

   It is expected that additional signaling requirements will be
   identified in the future.  The two-layer approach allows for NSLP
   signaling applications to be developed independently of the transport
   protocol.  Further NSLPs can therefore be developed and deployed to
   meet these new needs using the same GIST infrastructure, thereby



<span class="grey">Manner, et al.                Informational                    [Page 16]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-17" id="page-17" href="#page-17" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   providing a level of macro-extensibility.  However, the GIST protocol
   and the two signaling applications have been designed so that
   additional capabilities can be incorporated into the design should
   additional requirements within the general scope of these protocols
   need to be accommodated.

   The NSIS framework is also highly supportive of incremental
   deployment.  A new NSLP need not be available on every NSIS-aware
   node in a network or along a signaling path in order to start using
   it.  Nodes that do not (yet) support the application will forward its
   signaling messages without complaint until it reaches a node where
   the new NSLP application is deployed.

   One key functionality of parameter objects carried in NSIS protocols
   is the so-called "Extensibility flags (A/B)".  All the existing
   protocols (and any future ones conforming to the standards) can carry
   new experimental objects, where the A/B flags can indicate whether a
   receiving node must interpret the object, or whether it can just drop
   them or pass them along in subsequent messages sent out further on
   the path.  This functionality allows defining new objects without
   forcing all network entities to understand them.

<span class="h3"><a class="selflink" name="section-8.1" href="#section-8.1">8.1</a>.  Overview of Administrative Actions Needed When Extending NSIS</span>

   Generally, NSIS protocols can be extended in multiple ways, many of
   which require the allocation of unique code point values in
   registries maintained by IANA on behalf of the IETF.  This and the
   following sections provide an overview of the administrative
   mechanisms that might apply.  The extensibility rules defined below
   are based upon the procedures by which IANA assigns values: "IESG
   Approval", "IETF Review", "Expert Review", and "Private Use" (as
   specified in [<a href="rfc5226.html" title="&quot;Guidelines for Writing an IANA Considerations Section in RFCs&quot;">RFC5226</a>]).  The appropriate procedure for a particular
   type of code point is defined in one or other of the NSIS protocol
   documents, mostly [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

   In addition to registered code points, all NSIS protocols provide
   code points that can be used for experimentation, usually within
   closed networks, as explained in [<a href="rfc3692.html" title="&quot;Assigning Experimental and Testing Numbers Considered Useful&quot;">RFC3692</a>].  There is no guarantee
   that independent experiments will not be using the same code point!

<span class="h3"><a class="selflink" name="section-8.2" href="#section-8.2">8.2</a>.  GIST</span>

   GIST is extensible in several aspects covered in the subsections
   below.  In these subsections, there are references to document
   sections in the GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>] where more information
   can be found.  The bullet points at the end of each subsection
   specify the formal administrative actions that would need to be
   carried out when a new extension is standardized.



<span class="grey">Manner, et al.                Informational                    [Page 17]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-18" id="page-18" href="#page-18" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   More generally, as asserted in <a href="#section-1">Section 1</a> of the GIST specification,
   the GIST design could be extended to cater for multicast flows and
   for situations where the signaling is not tied to an end-to-end data
   flow.  However, it is not clear whether this could be done in a
   totally backwards-compatible way, and this is not considered within
   the extensibility model of NSIS.

<span class="h4"><a class="selflink" name="section-8.2.1" href="#section-8.2.1">8.2.1</a>.  Use of Different Message Routing Methods</span>

   Currently, only two message routing methods are supported (Path
   Coupled MRM and Loose End MRM), but further MRMs may be defined in
   the future.  See Sections <a href="#section-3.3">3.3</a> and <a href="#section-5.8">5.8</a> of the GIST specification
   [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].  One possible additional MRM under development is
   documented in [<a href="#ref-EST-MRM" title="&quot;An Explicit Signaling Target Message Routing Method (EST-MRM) for the General Internet Signaling Transport (GIST) Protocol&quot;">EST-MRM</a>].  This MRM would direct signaling towards an
   explicit target address other than the (current) data flow
   destination and is intended to assist setting up of state on a new
   path during "make-before-break" handover sequences in mobile
   operations.  Note that alternative routing methods may require
   modifications to the firewall traversal techniques used by GIST and
   NSLPs.

   o  New MRMs require allocation of a new MRM-ID either by IETF review
      of a specification or expert review [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

<span class="h4"><a class="selflink" name="section-8.2.2" href="#section-8.2.2">8.2.2</a>.  Use of Different Transport Protocols or Security Capabilities</span>

   The initial handshake between GIST peers allows a negotiation of the
   transport protocols to be used.  Currently, proposals exist to add
   DCCP [<a href="#ref-GIST-DCCP" title="&quot;Generic Internet Signaling Transport over DCCP and DTLS&quot;">GIST-DCCP</a>] and the Stream Control Transmission Protocol (SCTP)
   [<a href="#ref-GIST-SCTP" title="&quot;General Internet Signaling Transport (GIST) over Stream Control Transmission Protocol (SCTP) and Datagram Transport Layer Security (DTLS)&quot;">GIST-SCTP</a>] transports to GIST; in each case, using Datagram TLS
   (DTLS) to provide security.  See Sections <a href="#section-3.2">3.2</a> and <a href="#section-5.7">5.7</a> of the GIST
   specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].  GIST expects alternative capabilities to be
   treated as selection of an alternative protocol stack.  Within the
   protocol stack, the individual protocols used are specified by MA
   Protocol IDs that are allocated from an IANA registry if new
   protocols are to be used.  See Sections <a href="#section-5.7">5.7</a> and <a href="#section-9">9</a> of the GIST
   specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

   o  Use of an alternative transport protocol or security capability
      requires allocation of a new MA-Protocol-ID either by IETF review
      of a specification or expert review [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].










<span class="grey">Manner, et al.                Informational                    [Page 18]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-19" id="page-19" href="#page-19" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


<span class="h4"><a class="selflink" name="section-8.2.3" href="#section-8.2.3">8.2.3</a>.  Use of Alternative Security Services</span>

   Currently, only TLS is specified for providing secure channels with
   MAs.  <a href="#section-3.9">Section 3.9</a> of the GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>] suggests that
   alternative protocols could be used, but the interactions with GIST
   functions would need to be carefully specified.  See also <a href="#section-4.4.2">Section</a>
   <a href="#section-4.4.2">4.4.2</a> of the GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

   o  Use of an alternative security service requires allocation of a
      new MA-Protocol-ID either by IETF review of a specification or
      expert review [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

<span class="h4"><a class="selflink" name="section-8.2.4" href="#section-8.2.4">8.2.4</a>.  Query Mode Packet Interception Schemes</span>

   GIST has standardized a scheme using RAO mechanisms [<a href="#ref-GIST-RAO" title="&quot;Using the Router Alert Option for Packet Interception in GIST&quot;">GIST-RAO</a>] with
   UDP packets.  If the difficulties of deploying the RAO scheme prove
   insuperable in particular circumstances, alternative interception
   schemes can be specified.  One proposal that was explored for GIST
   used UDP port recognition in routers (rather than RAO mechanisms) to
   drive the interception of packets.  See <a href="#section-5.3.2">Section 5.3.2</a> of the GIST
   specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].  Each NSLP needs to specify membership of an
   "interception class" whenever it sends a message through GIST.  A
   packet interception scheme can support one or more interception
   classes.  In principle, a GIST instance can support multiple packet
   interception schemes, but each interception class needs to be
   associated with exactly one interception scheme in a GIST instance,
   and GIST instances that use different packet interception schemes for
   the same interception class will not be interoperable.

   Defining an alternative interception class mechanism for
   incorporation into GIST should be considered as a very radical step,
   and all alternatives should be considered before taking this path.
   The main reason for this is that the mechanism will necessarily
   require additional operations on every packet passing through the
   affected router interfaces.  A number of considerations should be
   taken into account:

   o  Although the interception mechanism need only be deployed on
      routers that actually need it (probably for a new NSLP),
      deployment may be constrained if the mechanism requires
      modification to the hardware of relevant routers and/or needs to
      await modification of the software by the router vendor.

   o  Typically, any packet fields to be examined should be near the
      header of the packet so that additional memory accesses are not
      needed to retrieve the values needed for examination.





<span class="grey">Manner, et al.                Informational                    [Page 19]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-20" id="page-20" href="#page-20" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   o  The logic required to determine if a packet should be intercepted
      needs to be kept simple to minimize the extra per-packet
      processing.

   o  The mechanism should be applicable to both IPv4 and IPv6 packets.

   o  Packet interception mechanisms potentially provide an attack path
      for denial-of-service attacks on routers, in that packets are
      diverted into the "slow path" and hence can significantly increase
      the load on the general processing capability of the router.  Any
      new interception mechanism needs to be carefully designed to
      minimize the attack surface.

   Packet interception mechanisms are identified by an "interception
   class" which is supplied to GIST through the Application Programming
   Interface for each message sent.

   o  New packet interception mechanisms will generally require
      allocation of one or more new Interception-class-IDs.  This does
      not necessarily need to be placed in an IANA registry as it is
      primarily used as a parameter in the API between the NSLPs and
      GIST and may never appear on the wire, depending on the mechanism
      employed; all that is required is consistent interpretation
      between the NSLPs and GIST in each applicable node.  However, if,
      as is the case with the current RAO mechanism [<a href="#ref-GIST-RAO" title="&quot;Using the Router Alert Option for Packet Interception in GIST&quot;">GIST-RAO</a>], the
      scheme distinguishes between multiple packet interception classes
      by a value carried on the wire (different values of RAO parameter
      for the RAO mechanism in GIST), an IANA registry may be required
      to provide a mapping between interception classes and on-the-wire
      values as discussed in Section 6 of [<a href="#ref-GIST-RAO" title="&quot;Using the Router Alert Option for Packet Interception in GIST&quot;">GIST-RAO</a>].

<span class="h4"><a class="selflink" name="section-8.2.5" href="#section-8.2.5">8.2.5</a>.  Use of Alternative NAT Traversal Mechanisms</span>

   The mechanisms proposed for both legacy NAT traversal (<a href="#section-7.2.1">Section 7.2.1</a>
   of the GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>]) and GIST-aware NAT traversal
   (<a href="#section-7.2.2">Section 7.2.2</a> of the GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>]) can be extended
   or replaced.  As discussed above, extension of NAT traversal may be
   needed if a new MRM is deployed.  Note that there is extensive
   discussion of NAT traversal in the NAT/firewall NSLP specification
   [<a href="rfc5973.html" title="&quot;NAT/Firewall NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5973</a>].

<span class="h4"><a class="selflink" name="section-8.2.6" href="#section-8.2.6">8.2.6</a>.  Additional Error Identifiers</span>

   Making extensions to any of the above items may result in having to
   create new error modes.  See <a href="#section-9">Section 9</a> and <a href="#appendix-A.4.1">Appendix A.4.1</a> - A.4.3 of
   the GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].





<span class="grey">Manner, et al.                Informational                    [Page 20]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-21" id="page-21" href="#page-21" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   o  Additional error identifiers require allocation of new error
      code(s) and/or subcode(s) and may also require allocation of
      Additional Information types.  These are all allocated on a first-
      come, first-served basis by IANA [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

<span class="h4"><a class="selflink" name="section-8.2.7" href="#section-8.2.7">8.2.7</a>.  Defining New Objects To Be Carried in GIST</span>

   The A/B (extensibility) flags in each signaling object carried in
   NSIS protocols enable the community to specify new objects applicable
   to GIST that can be carried inside a signaling session without
   breaking existing implementations.  See <a href="#appendix-A.2">Appendix A.2</a> of the GIST
   specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].  The A/B flags can also be used to indicate
   in a controlled fashion that a certain object must be understood by
   all GIST nodes, which makes it possible to probe for the support of
   an extension.  One such object already designed is the "Peering
   Information Object (PIO)" [<a href="#ref-PEERING-DATA" title="&quot;Peering Data for NSIS Signaling Layer Protocols&quot;">PEERING-DATA</a>] that allows a Query message
   to carry additional peering data to be used by the recipient in
   making the peering decision.

   o  New objects require allocation of a new Object Type ID either by
      IETF review of a specification or through another acceptable
      published specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

<span class="h4"><a class="selflink" name="section-8.2.8" href="#section-8.2.8">8.2.8</a>.  Adding New Message Types</span>

   Major modifications could be made by adding additional GIST message
   types and defining appropriate processing.  It might be necessary to
   define this as a new version of the protocol.  A field is provided in
   the GIST Common Header containing the version number.  GIST currently
   has no provision for version or capability negotiation that might be
   needed if a new version was defined.

   o  New GIST Message Types require allocation of a new GIST Message
      Type ID either by IETF review of a specification or expert review
      [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

<span class="h3"><a class="selflink" name="section-8.3" href="#section-8.3">8.3</a>.  QoS NSLP</span>

   The QoS NSLP provides signaling for QoS reservations on the Internet.
   The QoS NSLP decouples the resource reservation model or architecture
   (QoS model) from the signaling.  The signaling protocol is defined in
   Quality-of-Service NSLP (QoS NSLP) [<a href="rfc5974.html" title="&quot;NSIS Signaling Layer Protocol (NSLP) for Quality-of- Service Signaling&quot;">RFC5974</a>].  The QoS models are
   defined in separate specifications, and the QoS NSLP can operate with
   one or more of these models as required by the environment where it
   is used.  It is anticipated that additional QoS models will be
   developed to address various Internet scenarios in the future.
   Extensibility of QoS models is considered in <a href="#section-8.4">Section 8.4</a>.




<span class="grey">Manner, et al.                Informational                    [Page 21]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-22" id="page-22" href="#page-22" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   The QoS NSLP specifically mentions the possibility of using
   alternative Message Routing Methods (MRMs), apart from the general
   ability to extend NSLPs using new objects with the standard A/B
   extensibility flags to allow them to be used in new and old
   implementations.

   There is already work to extend the base QoS NSLP and GIST to enable
   new QoS signaling scenarios.  One such proposal is the Inter-Domain
   Reservation Aggregation aiming to support large-scale deployment of
   the QoS NSLP [<a href="#ref-RESV-AGGR" title="&quot;Inter-Domain Reservation Aggregation for QoS NSLP&quot;">RESV-AGGR</a>].  Another current proposal seeks to extend
   the whole NSIS framework towards path-decoupled signaling and QoS
   reservations [<a href="#ref-HYPATH" title="&quot;GIST Extension for Hybrid On-path Off-path Signaling (HyPath)&quot;">HYPATH</a>].

<span class="h3"><a class="selflink" name="section-8.4" href="#section-8.4">8.4</a>.  QoS Specifications</span>

   The QoS Specification template (QSPEC) is defined in [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].  This
   provides the language in which the requirements of specific QoS
   models are described.  Introduction of a new QoS model involves
   defining a new QSPEC.  In order to have a new QSPEC allocated by
   IANA, there must be an acceptable published specification that
   defines the specific elements within the QSPEC used in the new model.
   See [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>] for details.

   The introduction of new QoS models is designed to enable deployment
   of NSIS-based QoS control in specific scenarios.  One such example is
   the Integrated Services Controlled Load Service for NSIS [<a href="#ref-CL" title="&quot;A QoS Model for Signaling IntServ Controlled-Load Service with NSIS&quot;">CL</a>].

   A key feature provided by defining the QSPEC template is support of a
   common language for describing QoS requirements and capabilities,
   which can be reused by any QoS models intending to use the QoS NSLP
   to signal their requirements for traffic flows.  The commonality of
   the QSPEC parameters ensures a certain level of interoperability of
   QoS models and reduces the demands on hardware that has to implement
   the QoS control.  Optional QSPEC parameters support the extensibility
   of the QoS NSLP to other QoS models in the future; new QSPEC
   parameters can be defined in the document that specifies a new QoS
   model.  See Sections <a href="#section-4.4">4.4</a> and <a href="#section-7">7</a> of [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].

   The QSPEC consists of a QSPEC version number, QSPEC objects, plus
   specification of processing and procedures that can be used to build
   many QoS models.  The definition of a QSPEC can be revised without
   necessarily changing the version if the changes are functionally
   backwards compatible.  If changes are made that are not backwards
   compatible, then a new QSPEC version number has to be assigned.  Note
   that a new QSPEC version number is not needed just because additional
   QSPEC parameters are specified; new versions will be needed only if
   the existing functionality is modified.  The template includes
   version negotiation procedures that allow the originator of an NSLP



<span class="grey">Manner, et al.                Informational                    [Page 22]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-23" id="page-23" href="#page-23" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   message to retry with a lower QSPEC version if the receiver rejects a
   message because it does not support the QSPEC version signaled in the
   message.  See <a href="rfc5975.html#section-3.2">Section&nbsp;3.2 of [RFC5975]</a>.

   o  Creation of a new, incompatible version of an existing QSPEC
      requires allocation of a new QSPEC version number that is
      documented in a permanent and readily available public
      specification.  See [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].

   o  Completely new QSPECs can also be created.  Such new QSPECs
      require allocation of a QSPEC type that is documented in a
      permanent and readily available public specification.  Values are
      also available for local or experimental use during development.
      See [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].

   o  Additional QSPEC procedures can be defined requiring allocation of
      a new QSPEC procedure number that is documented in a permanent and
      readily available public specification.  Values are also available
      for local or experimental use during development.  See [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].

   o  Additional QSPEC parameters and associated error codes can be
      defined requiring a permanent and readily available public
      specification document.  Values are also available for local or
      experimental use during development.  See [<a href="rfc5975.html" title="&quot;QSPEC Template for the Quality-of-Service NSIS Signaling Layer Protocol (NSLP)&quot;">RFC5975</a>].

<span class="h3"><a class="selflink" name="section-8.5" href="#section-8.5">8.5</a>.  NAT/Firewall NSLP</span>

   The NAT/firewall signaling can be extended broadly in the same way as
   the QoS NSLP by defining new parameters to be carried in NAT/firewall
   NSLP messages.  See <a href="rfc5973.html#section-7">Section&nbsp;7 of [RFC5973]</a>.  No proposals currently
   exist to fulfill new use cases for the protocol.

<span class="h3"><a class="selflink" name="section-8.6" href="#section-8.6">8.6</a>.  New NSLP Protocols</span>

   Designing a new NSLP is both challenging and easy.

   New signaling applications with associated NSLPs can be defined to
   work in parallel or replace the applications already defined by the
   NSIS working group.  Applications that fit into the NSIS framework
   will be expected to use GIST to provide transport of signaling
   messages and appropriate security facilities that relieve the
   application designer of many "lower-level" problems.  GIST provides
   many important functions through the API that it exposes to the code
   of the signaling application layer, and allows the signaling
   application programmer to offload various tasks to GIST, e.g., the
   channel security, transport characteristics, and signaling node
   discovery.




<span class="grey">Manner, et al.                Informational                    [Page 23]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-24" id="page-24" href="#page-24" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   Yet, on the other hand, the signaling application designer must take
   into account that the network environment can be dynamic, both in
   terms of routing and node availability.  The new NSLP designer must
   take into account at least the following issues:

   o  Routing changes, e.g., due to mobility: GIST sends network
      notifications when something happens in the network, e.g., peers
      or routing paths change.  All signaling applications must be able
      to handle these notifications and act appropriately.  GIST does
      not include logic to figure out what the NSLP would want to do due
      to a certain network event.  Therefore, GIST gives the
      notification to the application, and lets it make the right
      decision.

   o  GIST indications: GIST will also send other notifications, e.g.,
      if a signaling peer does not reply to refresh messages, or a
      certain NSLP message was not successfully delivered to the
      recipient.  NSLP applications must also be able to handle these
      events.  <a href="#appendix-B">Appendix B</a> in the GIST specification discusses the GIST-
      NSLP API and the various functionality required, but implementing
      this interface can be quite challenging; the multitude of
      asynchronous notifications that can arrive from GIST increases the
      implementation complexity of the NSLP.

   o  Lifetime of the signaling flow: NSLPs should inform GIST when a
      flow is no longer needed using the SetStateLifetime primitive.
      This reduces bandwidth demands in the network.

   o  NSLP IDs: NSLP messages may be multiplexed over GIST MAs.  The new
      NSLP needs to use a unique NSLPID to ensure that its messages are
      delivered to the correct application by GIST.  A single NSLP could
      use multiple NSLPIDs, for example, to distinguish different
      classes of signaling nodes that might handle different levels of
      aggregation of requests or alternative processing paths.  Note
      that unlike GIST, the NSLPs do not provide a protocol versioning
      mechanism.  If the new NSLP is an upgraded version of an existing
      NSLP, then it should be distinguished by a different NSLPID.

      *  A new generally available NSLP requires IESG approval for the
         allocation of a new NSLP ID [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>]

   o  Incremental deployment: It would generally be unrealistic to
      expect every node on the signaling path to have a new NSLP
      implemented immediately.  New NSLPs need to allow for this.  The
      QoS and NAT/firewall NSLPs provide examples of techniques such as
      proxy modes that cater for cases where the data flow originator
      and/or receiver does not implement the NSLP.




<span class="grey">Manner, et al.                Informational                    [Page 24]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-25" id="page-25" href="#page-25" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   o  Signaling Message Source IP Address: It is sometimes challenging
      for an NSLP originating a signaling message to determine the
      source IP address that should be used in the signaling messages,
      which may be different from the data flow source address used in
      the MRI.  This challenge occurs either when a node has multiple
      interfaces or is acting as a proxy for the data flow originator
      (typically expected to occur during the introduction of NSIS when
      not all nodes are NSIS enabled).  A proxy signaling flow
      originator generally needs to know and use the correct data flow
      source IP address, at least initially.  As discussed in <a href="#section-5.8.1.2">Section</a>
      <a href="#section-5.8.1.2">5.8.1.2</a> of [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>], the signaling flow originator may choose to
      alter the source IP address after the initial Query message has
      established the flow path in order that ICMP messages are directed
      to the most appropriate node.  In the proxy case, the data flow
      originator would be unaware of the signaling flow, and ICMP
      messages relating to the signaling would be meaningless if passed
      on to the data flow originator.  Hence, it is essential that an
      NSLP is aware of the position and role of the node on which it is
      instantiated and has means of determining the appropriate source
      address to be used and ensuring that it is used on signaling
      packets.

   o  New MRMs: GIST currently defines two Message Routing Methods, and
      leaves the door open for new ideas.  Thus, it is possible that a
      new NSLP also requires a new MRM; path-decoupled routing being one
      example.

   o  Cooperation with other NSLPs: Some applications might need
      resources from two or more different classes in order to operate
      successfully.  The NSLPs managing these resources could operate
      cooperatively to ensure that such requests were coordinated to
      avoid wasting signaling bandwidth and prevent race conditions.

   It is essential that the security considerations of a new NSLP are
   carefully analyzed.  NSIS NSLPs are deployed in routers as well as
   host systems; a poorly designed NSLP could therefore provide an
   attack vector for network resources as well as end systems.  The NSLP
   must also support authorization of users and must allow the use of
   the GIST authentication and integrity protection mechanisms where
   users deem them to be necessary.

   The API between GIST and NSLPs (see <a href="rfc5971.html#appendix-B">Appendix&nbsp;B in [RFC5971]</a>) is very
   important to understand.  The abstract design in the GIST
   specification does not specify the exact messaging between GIST and
   the NSLPs but gives an understanding of the interactions, especially
   what kinds of asynchronous notifications from GIST the NSLP must be
   prepared to handle: the actual interface will be dependent on each
   implementation of GIST.



<span class="grey">Manner, et al.                Informational                    [Page 25]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-26" id="page-26" href="#page-26" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   Messages transmitted by GIST on behalf of an NSLP are identified by a
   unique NSLP identifier (NSLPID).  NSLPIDs are 16-bit unsigned numbers
   taken from a registry managed by IANA and defined in <a href="#section-9">Section 9</a> of the
   GIST specification [<a href="rfc5971.html" title="&quot;GIST: General Internet Signalling Transport&quot;">RFC5971</a>].

   A range of values (32704-32767) is available for Private and
   Experimental use during development.  Any new signaling application
   that expects to be deployed generally on the Internet needs to use
   the registration procedure "IESG Approval" in order to request
   allocation of unique NSLPID value(s) from the IANA registry.  There
   is additional discussion of NSLPIDs in <a href="#section-3.8">Section 3.8</a> of the GIST
   specification.

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  Security Considerations</span>

   This document provides information to the community.  It does not
   itself raise new security concerns.

   However, any extensions that are made to the NSIS protocol suite will
   need to be carefully assessed for any security implications.  This is
   particularly important because NSIS messages are intended to be
   actively processed by NSIS-capable routers that they pass through,
   rather than simply forwarded as is the case with most IP packets.  It
   is essential that extensions provide means to authorize usage of
   capabilities that might allocate resources and recommend the use of
   appropriate authentication and integrity protection measures in order
   to exclude or adequately mitigate any security issues that are
   identified.

   Authors of new extensions for NSIS should review the analysis of
   security threats to NSIS documented in [<a href="rfc4081.html" title="&quot;Security Threats for Next Steps in Signaling (NSIS)&quot;">RFC4081</a>] as well as
   considering whether the new extension opens any new attack paths that
   need to be mitigated.

   GIST offers facilities to authenticate NSIS messages and to ensure
   that they are delivered reliably.  Extensions must allow these
   capabilities to be used in an appropriate manner to minimize the
   risks of NSIS messages being misused and must recommend their
   appropriate usage.

   If additional transport protocols are proposed for use in association
   with GIST, an appropriate set of compatible security functions must
   be made available in conjunction with the transport protocol to
   support the authentication and integrity functions expected to be
   available through GIST.






<span class="grey">Manner, et al.                Informational                    [Page 26]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-27" id="page-27" href="#page-27" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>.  Acknowledgements</span>

   This document combines work previously published as two separate
   documents: "What is Next Steps in Signaling anyway - A User's Guide
   to the NSIS Protocol Family" written by Roland Bless and Jukka
   Manner, and "NSIS Extensibility Model" written by John Loughney.

   Max Laier, Nuutti Varis and Lauri Liuhto have provided reviews of the
   "User's Guide" and valuable input.  Teemu Huovila also provided
   valuable input on the later versions.

   The "Extensibility Model" borrowed some ideas and some text from <a href="rfc3936.html">RFC</a>
   <a href="rfc3936.html">3936</a> [<a href="rfc3936.html" title="&quot;Procedures for Modifying the Resource reSerVation Protocol (RSVP)&quot;">RFC3936</a>], "Procedures for Modifying the Resource ReSerVation
   Protocol (RSVP)".  Robert Hancock provided text for the original GIST
   section, since much modified, and Claudia Keppler has provided
   feedback on this document, while Allison Mankin and Bob Braden
   suggested that this document be worked on.

<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>.  References</span>

<span class="h3"><a class="selflink" name="section-11.1" href="#section-11.1">11.1</a>.  Normative References</span>

   [<a name="ref-RFC3726" id="ref-RFC3726">RFC3726</a>]       Brunner, M., "Requirements for Signaling Protocols",
                   <a href="rfc3726.html">RFC 3726</a>, April 2004.

   [<a name="ref-RFC4080" id="ref-RFC4080">RFC4080</a>]       Hancock, R., Karagiannis, G., Loughney, J., and S.
                   Van den Bosch, "Next Steps in Signaling (NSIS):
                   Framework", <a href="rfc4080.html">RFC 4080</a>, June 2005.

   [<a name="ref-RFC4081" id="ref-RFC4081">RFC4081</a>]       Tschofenig, H. and D. Kroeselberg, "Security Threats
                   for Next Steps in Signaling (NSIS)", <a href="rfc4081.html">RFC 4081</a>,
                   June 2005.

   [<a name="ref-RFC5226" id="ref-RFC5226">RFC5226</a>]       Narten, T. and H. Alvestrand, "Guidelines for Writing
                   an IANA Considerations Section in RFCs", <a href="http://tools.ietf.org/html/bcp26">BCP 26</a>,
                   <a href="rfc5226.html">RFC 5226</a>, May 2008.

   [<a name="ref-RFC5971" id="ref-RFC5971">RFC5971</a>]       Schulzrinne, H. and R. Hancock, "GIST: General
                   Internet Signalling Transport", <a href="rfc5971.html">RFC 5971</a>,
                   October 2010.

   [<a name="ref-RFC5973" id="ref-RFC5973">RFC5973</a>]       Stiemerling, M., Tschofenig, H., Aoun, C., and E.
                   Davies, "NAT/Firewall NSIS Signaling Layer Protocol
                   (NSLP)", <a href="rfc5973.html">RFC 5973</a>, October 2010.

   [<a name="ref-RFC5974" id="ref-RFC5974">RFC5974</a>]       Manner, J., Karagiannis, G., and A. McDonald, "NSIS
                   Signaling Layer Protocol (NSLP) for Quality-of-
                   Service Signaling", <a href="rfc5974.html">RFC 5974</a>, October 2010.



<span class="grey">Manner, et al.                Informational                    [Page 27]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-28" id="page-28" href="#page-28" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   [<a name="ref-RFC5975" id="ref-RFC5975">RFC5975</a>]       Ash, G., Bader, A., Kappler, C., and D. Oran, "QSPEC
                   Template for the Quality-of-Service NSIS Signaling
                   Layer Protocol (NSLP)", <a href="rfc5975.html">RFC 5975</a>, October 2010.

<span class="h3"><a class="selflink" name="section-11.2" href="#section-11.2">11.2</a>.  Informative References</span>

   [<a name="ref-CL" id="ref-CL">CL</a>]            Kappler, C., Fu, X., and B. Schloer, "A QoS Model for
                   Signaling IntServ Controlled-Load Service with NSIS",
                   Work in Progress, April 2010.

   [<a name="ref-EST-MRM" id="ref-EST-MRM">EST-MRM</a>]       Bless, R., "An Explicit Signaling Target Message
                   Routing Method (EST-MRM) for the General Internet
                   Signaling Transport (GIST) Protocol", Work
                   in Progress, June 2010.

   [<a name="ref-GIST-DCCP" id="ref-GIST-DCCP">GIST-DCCP</a>]     Manner, J., "Generic Internet Signaling Transport
                   over DCCP and DTLS", Work in Progress, June 2007.

   [<a name="ref-GIST-RAO" id="ref-GIST-RAO">GIST-RAO</a>]      Hancock, R., "Using the Router Alert Option for
                   Packet Interception in GIST", Work in Progress,
                   November 2008.

   [<a name="ref-GIST-SCTP" id="ref-GIST-SCTP">GIST-SCTP</a>]     Fu, X., Dickmann, C., and J. Crowcroft, "General
                   Internet Signaling Transport (GIST) over Stream
                   Control Transmission Protocol (SCTP) and Datagram
                   Transport Layer Security (DTLS)", Work in Progress,
                   May 2010.

   [<a name="ref-HYPATH" id="ref-HYPATH">HYPATH</a>]        Cordeiro, L., Curado, M., Monteiro, E., Bernardo, V.,
                   Palma, D., Racaru, F., Diaz, M., and C. Chassot,
                   "GIST Extension for Hybrid On-path Off-path Signaling
                   (HyPath)", Work in Progress, February 2008.

   [<a name="ref-NSIS-AUTH" id="ref-NSIS-AUTH">NSIS-AUTH</a>]     Manner, J., Stiemerling, M., Tschofenig, H., and R.
                   Bless, "Authorization for NSIS Signaling Layer
                   Protocols", Work in Progress, July 2008.

   [<a name="ref-PEERING-DATA" id="ref-PEERING-DATA">PEERING-DATA</a>]  Manner, J., Liuhto, L., Varis, N., and T. Huovila,
                   "Peering Data for NSIS Signaling Layer Protocols",
                   Work in Progress, February 2008.

   [<a name="ref-RAO-BAD" id="ref-RAO-BAD">RAO-BAD</a>]       Rahman, R. and D. Ward, "Use of IP Router Alert
                   Considered Dangerous", Work in Progress,
                   October 2008.

   [<a name="ref-RESV-AGGR" id="ref-RESV-AGGR">RESV-AGGR</a>]     Doll, M. and R. Bless, "Inter-Domain Reservation
                   Aggregation for QoS NSLP", Work in Progress,
                   July 2007.



<span class="grey">Manner, et al.                Informational                    [Page 28]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-29" id="page-29" href="#page-29" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


   [<a name="ref-RFC1633" id="ref-RFC1633">RFC1633</a>]       Braden, B., Clark, D., and S. Shenker, "Integrated
                   Services in the Internet Architecture: an Overview",
                   <a href="rfc1633.html">RFC 1633</a>, June 1994.

   [<a name="ref-RFC2205" id="ref-RFC2205">RFC2205</a>]       Braden, B., Zhang, L., Berson, S., Herzog, S., and S.
                   Jamin, "Resource ReSerVation Protocol (RSVP) --
                   Version 1 Functional Specification", <a href="rfc2205.html">RFC 2205</a>,
                   September 1997.

   [<a name="ref-RFC3692" id="ref-RFC3692">RFC3692</a>]       Narten, T., "Assigning Experimental and Testing
                   Numbers Considered Useful", <a href="http://tools.ietf.org/html/bcp82">BCP 82</a>, <a href="rfc3692.html">RFC 3692</a>,
                   January 2004.

   [<a name="ref-RFC3936" id="ref-RFC3936">RFC3936</a>]       Kompella, K. and J. Lang, "Procedures for Modifying
                   the Resource reSerVation Protocol (RSVP)", <a href="http://tools.ietf.org/html/bcp96">BCP 96</a>,
                   <a href="rfc3936.html">RFC 3936</a>, October 2004.

   [<a name="ref-RFC4094" id="ref-RFC4094">RFC4094</a>]       Manner, J. and X. Fu, "Analysis of Existing Quality-
                   of-Service Signaling Protocols", <a href="rfc4094.html">RFC 4094</a>, May 2005.

   [<a name="ref-TWO-LEVEL" id="ref-TWO-LEVEL">TWO-LEVEL</a>]     Braden, R. and B. Lindell, "A Two-Level Architecture
                   for Internet Signaling", Work in Progress,
                   November 2002.




























<span class="grey">Manner, et al.                Informational                    [Page 29]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-30" id="page-30" href="#page-30" class="invisible"> </a>
<span class="grey"><a href="rfc5978.html">RFC 5978</a>              NSIS User and Extension Guide         October 2010</span>


Authors' Addresses

   Jukka Manner
   Aalto University
   Department of Communications and Networking (Comnet)
   P.O. Box 13000
   FIN-00076 Aalto
   Finland

   Phone: +358 9 470 22481
   EMail: jukka.manner@tkk.fi
   URI:   <a href="http://www.netlab.tkk.fi/~jmanner/">http://www.netlab.tkk.fi/~jmanner/</a>


   Roland Bless
   Institute of Telematics, Karlsruhe Institute of Technology (KIT)
   Zirkel 2, Building 20.20
   P.O. Box 6980
   Karlsruhe  76049
   Germany

   Phone: +49 721 608 6413
   EMail: bless@kit.edu
   URI:   <a href="http://tm.kit.edu/~bless">http://tm.kit.edu/~bless</a>


   John Loughney
   Nokia
   955 Page Mill Road
   Palo Alto, CA  94303
   USA

   Phone: +1 650 283 8068
   EMail: john.loughney@nokia.com


   Elwyn Davies (editor)
   Folly Consulting
   Soham
   UK

   EMail: elwynd@folly.org.uk
   URI:   <a href="http://www.folly.org.uk/">http://www.folly.org.uk</a>








Manner, et al.                Informational                    [Page 30]

</pre><br />
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.106, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>
</body>
<!-- Mirrored from tools.ietf.org/html/rfc5978 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Mar 2014 18:35:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>
