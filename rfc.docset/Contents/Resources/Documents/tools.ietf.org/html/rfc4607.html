<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4607 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:46 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-holbrook-ssm-arch" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:4607" name="DC.Identifier"/>
<meta content="August, 2006" name="DC.Date.Issued"/>
<meta content="Brad Cain &lt;bcain@storigen.com&gt;" name="DC.Creator"/>
<meta content="IP version 4 (IPv4) addresses in the 232/8 (232.0.0.0 to\n232.255.255.255) range are designated as source-specific multicast\n(SSM) destination addresses and are reserved for use by source-\nspecific applications and protocols. For IP version 6 (IPv6), the\naddress prefix FF3x::/32 is reserved for source-specific multicast\nuse. This document defines an extension to the Internet network\nservice that applies to datagrams sent to SSM addresses and defines\nthe host and router requirements to support this extension.\n[STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Source-Specific Multicast for IP" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4607 - Source-Specific Multicast for IP</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc4607.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc4607" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-ssm-arch" title="draft-ietf-ssm-arch">draft-ietf-ssm-arch</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4607" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc4607" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?option=rfc_search&amp;rfc_search=4607" title="IPR disclosures related to this document">IPR</a>] [<a href="http://www.rfc-editor.org/errata_search.php?rfc=4607">Errata</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                        H. Holbrook
Request for Comments: 4607                                 Arastra, Inc.
Category: Standards Track                                        B. Cain
                                                         Acopia Networks
                                                             August 2006


                    <span class="h1">Source-Specific Multicast for IP</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   IP version 4 (IPv4) addresses in the 232/8 (232.0.0.0 to
   232.255.255.255) range are designated as source-specific multicast
   (SSM) destination addresses and are reserved for use by source-
   specific applications and protocols.  For IP version 6 (IPv6), the
   address prefix FF3x::/32 is reserved for source-specific multicast
   use.  This document defines an extension to the Internet network
   service that applies to datagrams sent to SSM addresses and defines
   the host and router requirements to support this extension.




















<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Semantics of Source-Specific Multicast Addresses ................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. Terminology .....................................................<a href="#page-6">6</a>
   <a href="#section-4">4</a>. Host Requirements ...............................................<a href="#page-7">7</a>
      <a href="#section-4.1">4.1</a>. Extensions to the IP Module Interface ......................<a href="#page-7">7</a>
      <a href="#section-4.2">4.2</a>. Requirements on the Host IP Module .........................<a href="#page-8">8</a>
      <a href="#section-4.3">4.3</a>. Allocation of Source-Specific Multicast Addresses ..........<a href="#page-9">9</a>
   <a href="#section-5">5</a>. Router Requirements ............................................<a href="#page-10">10</a>
      <a href="#section-5.1">5.1</a>. Packet Forwarding .........................................<a href="#page-10">10</a>
      <a href="#section-5.2">5.2</a>. Protocols .................................................<a href="#page-10">10</a>
   <a href="#section-6">6</a>. Link-Layer Transmission of Datagrams ...........................<a href="#page-11">11</a>
   <a href="#section-7">7</a>. Security Considerations ........................................<a href="#page-12">12</a>
      <a href="#section-7.1">7.1</a>. IPsec and SSM .............................................<a href="#page-12">12</a>
      <a href="#section-7.2">7.2</a>. SSM and <a href="rfc2401.html">RFC 2401</a> IPsec Caveats ............................<a href="#page-12">12</a>
      <a href="#section-7.3">7.3</a>. Denial of Service .........................................<a href="#page-13">13</a>
      <a href="#section-7.4">7.4</a>. Spoofed Source Addresses ..................................<a href="#page-13">13</a>
      <a href="#section-7.5">7.5</a>. Administrative Scoping ....................................<a href="#page-14">14</a>
   <a href="#section-8">8</a>. Transition Considerations ......................................<a href="#page-14">14</a>
   <a href="#section-9">9</a>. IANA Considerations ............................................<a href="#page-15">15</a>
   <a href="#section-10">10</a>. Acknowledgements ..............................................<a href="#page-15">15</a>
   <a href="#section-11">11</a>. Normative References ..........................................<a href="#page-16">16</a>
   <a href="#section-12">12</a>. Informative References ........................................<a href="#page-17">17</a>



























<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The Internet Protocol (IP) multicast service model is defined in <a href="rfc1112.html">RFC</a>
   <a href="rfc1112.html">1112</a> [<a href="rfc1112.html" title='"Host extensions for IP multicasting"'>RFC1112</a>].  <a href="rfc1112.html">RFC 1112</a> specifies that a datagram sent to an IP
   multicast address (224.0.0.0 through 239.255.255.255) G is delivered
   to each "upper-layer protocol module" that has requested reception of
   datagrams sent to address G.  <a href="rfc1112.html">RFC 1112</a> calls the network service
   identified by a multicast destination address G a "host group".  This
   model supports both one-to-many and many-to-many group communication.
   This document uses the term "Any-Source Multicast" (ASM) to refer to
   model of multicast defined in <a href="rfc1112.html">RFC 1112</a>.  <a href="rfc3513.html">RFC 3513</a> [<a href="rfc3513.html" title='"Internet Protocol Version 6 (IPv6) Addressing Architecture"'>RFC3513</a>] specifies
   the form of IPv6 multicast addresses with ASM semantics.

   IPv4 addresses in the 232/8 (232.0.0.0 to 232.255.255.255) range are
   currently designated as source-specific multicast (SSM) destination
   addresses and are reserved for use by source-specific applications
   and protocols [<a href="#ref-IANA-ALLOC">IANA-ALLOC</a>].

   For IPv6, the address prefix FF3x::/32 is reserved for source-
   specific multicast use, where 'x' is any valid scope identifier, by
   [<a href="#ref-IPv6-UBM" title='"Unicast-Prefix-based IPv6 Multicast Addresses"'>IPv6-UBM</a>].  Using the terminology of [<a href="#ref-IPv6-UBM" title='"Unicast-Prefix-based IPv6 Multicast Addresses"'>IPv6-UBM</a>], all SSM addresses
   must have P=1, T=1, and plen=0.  [<a href="#ref-IPv6-MALLOC" title='"Allocation Guidelines for IPv6 Multicast Addresses"'>IPv6-MALLOC</a>] mandates that the
   network prefix field of an SSM address also be set to zero, hence all
   SSM addresses fall in the FF3x::/96 range.  Future documents may
   allow a non-zero network prefix field if, for instance, a new IP-
   address-to-MAC-address mapping is defined.  Thus, address allocation
   should occur within the FF3x::/96 range, but a system should treat
   all of FF3x::/32 as SSM addresses, to allow for compatibility with
   possible future uses of the network prefix field.

   Addresses in the range FF3x::4000:0001 through FF3x::7FFF:FFFF are
   reserved in [<a href="#ref-IPv6-MALLOC" title='"Allocation Guidelines for IPv6 Multicast Addresses"'>IPv6-MALLOC</a>] for allocation by IANA.  Addresses in the
   range FF3x::8000:0000 through FF3x::FFFF:FFFF are allowed for dynamic
   allocation by a host, as described in [<a href="#ref-IPv6-MALLOC" title='"Allocation Guidelines for IPv6 Multicast Addresses"'>IPv6-MALLOC</a>].  Addresses in
   the range FF3x::0000:0000 through FF3x::3FFF:FFFF are invalid IPv6
   SSM addresses.  ([<a href="#ref-IPv6-MALLOC" title='"Allocation Guidelines for IPv6 Multicast Addresses"'>IPv6-MALLOC</a>] indicates that FF3x::0000:0001 to
   FF3x::3FFF:FFFF must set P=0 and T=0, but for SSM, [<a href="#ref-IPv6-UBM" title='"Unicast-Prefix-based IPv6 Multicast Addresses"'>IPv6-UBM</a>]
   mandates that  P=1 and T=1, hence their designation as invalid.)  The
   treatment of a packet sent to such an invalid address is undefined --
   a router or host MAY choose to drop such a packet.

   Source-specific multicast delivery semantics are provided for a
   datagram sent to an SSM address.  That is, a datagram with source IP
   address S and SSM destination address G is delivered to each upper-
   layer "socket" that has specifically requested the reception of
   datagrams sent to address G by source S, and only to those sockets.
   The network service identified by (S,G), for SSM address G and source




<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   host address S, is referred to as a "channel".  In contrast to the
   ASM model of <a href="rfc1112.html">RFC 1112</a>, SSM provides network-layer support for one-
   to-many delivery only.

   The benefits of source-specific multicast include:

      Elimination of cross-delivery of traffic when two sources
      simultaneously use the same source-specific destination address.
      The simultaneous use of an SSM destination address by multiple
      sources and different applications is explicitly supported.

      Avoidance of the need for inter-host coordination when choosing
      source-specific addresses, as a consequence of the above.

      Avoidance of many of the router protocols and algorithms that are
      needed to provide the ASM service model.  For instance, the
      "shared trees" and Rendezvous Points of the PIM - Sparse Mode
      (PIM-SM) protocol [<a href="#ref-PIM-SM" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>PIM-SM</a>] are not necessary to support the
      source-specific model.  The router mechanisms required to support
      SSM are in fact largely a subset of those that are used to support
      ASM.  For example, the shortest-path tree mechanism of the PIM-SM
      protocol can be adapted to provide SSM semantics.

   Like ASM, the set of receivers is unknown to an SSM sender.  An SSM
   source is provided with neither the identity of receivers nor their
   number.

   SSM is particularly well-suited to dissemination-style applications
   with one or more senders whose identities are known before the
   application begins.  For instance, a data dissemination application
   that desires to provide a secondary data source in case the primary
   source fails over might implement this by using one channel for each
   source and advertising both of them to receivers.  SSM can be used to
   build multi-source applications where all participants' identities
   are not known in advance, but the multi-source "rendezvous"
   functionality does not occur in the network layer in this case.  Just
   like in an application that uses unicast as the underlying transport,
   this functionality can be implemented by the application or by an
   application-layer library.

   Multicast resource discovery of the form in which a client sends a
   multicast query directly to a "service location group" to which
   servers listen is not directly supported by SSM.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].




<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   This document defines the semantics of source-specific multicast
   addresses and specifies the policies governing their use.  In
   particular, it defines an extension to the Internet network service
   that applies to datagrams sent to SSM addresses and defines host
   extensions to support the network service.  Hosts, routers,
   applications, and protocols that use these addresses MUST comply with
   the policies outlined in this document.  Failure of a host to comply
   may prevent that host or other hosts on the same LAN from receiving
   traffic sent to an SSM channel.  Failure of a router to comply may
   cause SSM traffic to be delivered to parts of the network where it is
   unwanted, unnecessarily burdening the network.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Semantics%20of%20Source-Specific%20Multicast%20Addresses"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Semantics of Source-Specific Multicast Addresses</span>

   The source-specific multicast service is defined as follows:

      A datagram sent with source IP address S and destination IP
      address G in the SSM range is delivered to each host socket that
      has specifically requested delivery of datagrams sent by S to G,
      and only to those sockets.

   Where, using the terminology of [<a href="#ref-IGMPv3" title='"Internet Group Management Protocol, Version 3"'>IGMPv3</a>],

      "socket" is an implementation-specific parameter used to
      distinguish among different requesting entities (e.g., programs or
      processes or communication end-points within a program or process)
      within the requesting host; the socket parameter of BSD Unix
      system calls is a specific example.

   Any host may send a datagram to any SSM address, and delivery is
   provided according to the above semantics.

   The IP module interface to upper-layer protocols is extended to allow
   a socket to "Subscribe" to or "Unsubscribe" from a particular channel
   identified by an SSM destination address and a source IP address.
   The extended interface is defined in <a href="#section-4.1">Section 4.1</a>.  It is meaningless
   for an application or host to request reception of datagrams sent to
   an SSM destination address G, as is supported in the any-source
   multicast model, without also specifying a corresponding source
   address, and routers MUST ignore any such request.

   Multiple source applications on different hosts can use the same SSM
   destination address G without conflict because datagrams sent by each
   source host Si are delivered only to those sockets that requested
   delivery of datagrams sent to G specifically by Si.






<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   The key distinguishing property of the model is that a channel is
   identified (addressed) by the combination of a unicast source address
   and a multicast destination address in the SSM range.  So, for
   example, the channel

      S,G = (192.0.2.1, 232.7.8.9)

   differs from

      S,G = (192.0.2.2, 232.7.8.9),

   even though they have the same destination address portion.
   Similarly, for IPv6,

      S,G = (2001:3618::1, FF33::1234)

   and

      S,G = (2001:3618::2, FF33::1234)

   are different channels.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Terminology"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Terminology</span>

   To reduce confusion when talking about the any-source and source-
   specific multicast models, we use different terminology when
   discussing them.

   We use the term "channel" to refer to the service associated with an
   SSM address.  A channel is identified by the combination of an SSM
   destination address and a specific source, e.g., an (S,G) pair.

   We use the term "host group" (used in <a href="rfc1112.html">RFC 1112</a>) to refer to the
   service associated with "regular" ASM multicast addresses (excluding
   those in the SSM range).  A host group is identified by a single
   multicast address.

   Any host can send to a host group, and similarly, any host can send
   to an SSM destination address.  A packet sent by a host S to an ASM
   destination address G is delivered to the host group identified by G.
   A packet sent by host S to an SSM destination address G is delivered
   to the channel identified by (S,G).  The receiver operations allowed
   on a host group are called "join(G)" and "leave(G)" (as per <a href="rfc1112.html">RFC</a>
   <a href="rfc1112.html">1112</a>).  The receiver operations allowed on a channel are called
   "Subscribe(S,G)" and "Unsubscribe(S,G)".






<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   The following table summarizes the terminology:

      Service Model:        any-source          source-specific
      Network Abstraction:  group               channel
      Identifier:           G                   S,G
      Receiver Operations:  Join, Leave         Subscribe, Unsubscribe

   We note that, although this document specifies a new service model
   available to applications, the protocols and techniques necessary to
   support the service model are largely a subset of those used to
   support ASM.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Host%20Requirements"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Host Requirements</span>

   This section describes requirements on hosts that support source-
   specific multicast, including:

      - Extensions to the IP Module Interface

      - Extensions to the IP Module

      - Allocation of SSM Addresses

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Extensions%20to%20the%20IP%20Module%20Interface"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Extensions to the IP Module Interface</span>

   The IP module interface to upper-layer protocols is extended to allow
   protocols to request reception of all datagrams sent to a particular
   channel.

      Subscribe ( socket, source-address, group-address, interface )

      Unsubscribe ( socket, source-address, group-address, interface )

   where

      "socket" is as previously defined in <a href="#section-2">Section 2</a>,

   and, paraphrasing [<a href="#ref-IGMPv3" title='"Internet Group Management Protocol, Version 3"'>IGMPv3</a>],

      "interface" is a local identifier of the network interface on
      which reception of the channel identified by the (source-
      address,group-address) pair is to be enabled or disabled.  A
      special value may be used to indicate a "default" interface.  If
      reception of the same channel is desired on multiple interfaces,
      Subscribe is invoked once for each.






<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   The above are strictly abstract functional interfaces -- the
   functionality can be provided in an implementation-specific way.  On
   a host that supports the multicast source filtering application
   programming interface of [<a href="#ref-MSFAPI" title='"Socket Interface Extensions for Multicast Source Filters"'>MSFAPI</a>], for instance, the Subscribe and
   Unsubscribe interfaces may be supported via that API.  When a host
   has been configured to know the SSM address range (whether the
   configuration mechanism is manual or through a protocol), the host's
   operating system SHOULD return an error to an application that makes
   a non-source-specific request to receive multicast sent to an SSM
   destination address.

   A host that does not support these IP module interfaces (e.g., ASM-
   only hosts) and their underlying protocols cannot expect to reliably
   receive traffic sent on an SSM channel.  As specified below in
   <a href="#section-5.2">Section 5.2</a>, routers will not set up SSM forwarding state or forward
   datagrams in response to an ASM join request.

   Widespread implementations of the IP packet reception interface
   (e.g., the recvfrom() system call in BSD Unix) do not allow a
   receiver to determine the destination address to which a datagram was
   sent.  On a host with such an implementation, the destination address
   of a datagram cannot be inferred when the socket on which the
   datagram is received is Subscribed to multiple channels.  Host
   operating systems SHOULD provide a way for a host to determine both
   the source and the destination address to which a datagram was sent.
   (As one example, the Linux operating system provides the destination
   of a packet as part of the response to the recvmsg() system call.)
   Until this capability is present, applications may be forced to use
   higher-layer mechanisms to identify the channel to which a datagram
   was sent.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Requirements%20on%20the%20Host%20IP%20Module"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Requirements on the Host IP Module</span>

   An incoming datagram destined to an SSM address MUST be delivered by
   the IP module to all sockets that have indicated (via Subscribe) a
   desire to receive data that matches the datagram's source address,
   destination address, and arriving interface.  It MUST NOT be
   delivered to other sockets.

   When the first socket on host H subscribes to a channel (S,G) on
   interface I, the host IP module on H sends a request on interface I
   to indicate to neighboring routers that the host wishes to receive
   traffic sent by source S to source-specific multicast destination G.
   Similarly, when the last socket on a host unsubscribes from a channel
   on interface I, the host IP module sends an unsubscription request
   for that channel to interface I.





<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   These requests will typically be Internet Group Management Protocol
   version 3 (IGMPv3) messages for IPv4, or Multicast Listener Discovery
   Version 2 (MLDv2) messages for IPv6 [<a href="#ref-IGMPv3" title='"Internet Group Management Protocol, Version 3"'>IGMPv3</a>,<a href="#ref-MLDv2" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>MLDv2</a>].  A host that
   supports the SSM service model MUST implement the host portion of
   [<a href="#ref-IGMPv3" title='"Internet Group Management Protocol, Version 3"'>IGMPv3</a>] for IPv4 and [<a href="#ref-MLDv2" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>MLDv2</a>] for IPv6.  It MUST also conform to the
   IGMPv3/MLDv2 behavior described in [<a href="#ref-GMP-SSM" title='"Using Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Protocol Version 2 (MLDv2) for Source-Specific Multicast"'>GMP-SSM</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Allocation%20of%20Source-Specific%20Multicast%20Addresses"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Allocation of Source-Specific Multicast Addresses</span>

   The SSM destination address 232.0.0.0 is reserved, and it must not be
   used as a destination address.  Similarly, FF3x::4000:0000 is also
   reserved.  The goal of reserving these two addresses is to preserve
   one invalid SSM destination for IPv4 and IPv6, which can be useful in
   an implementation as a null value.  The address range 232.0.0.1 -
   232.0.0.255 is currently reserved for allocation by IANA.  SSM
   destination addresses in the range FF3x::4000:0001 through
   FF3x::7FFF:FFFF are similarly reserved for IANA allocation
   [<a href="#ref-IPv6-MALLOC" title='"Allocation Guidelines for IPv6 Multicast Addresses"'>IPv6-MALLOC</a>].  The motivation to reserve these addresses is outlined
   below in <a href="#section-9">Section 9</a>, "IANA Considerations".

   The policy for allocating the rest of the SSM addresses to sending
   applications is strictly locally determined by the sending host.

   When allocating SSM addresses dynamically, a host or host operating
   system MUST NOT allocate sequentially starting at the first allowed
   address.  It is RECOMMENDED to allocate SSM addresses to applications
   randomly, while ensuring that allocated addresses are not given
   simultaneously to multiple applications (and avoiding the reserved
   addresses).  For IPv6, the randomization should apply to the lowest
   31 bits of the address.

   As described in <a href="#section-6">Section 6</a>, the mapping of an IP packet with SSM
   destination address onto a link-layer multicast address does not take
   into account the datagram's source IP address (on commonly-used link
   layers like Ethernet).  If all hosts started at the first allowed
   address, then with high probability, many source-specific channels on
   shared-medium local area networks would use the same link-layer
   multicast address.  As a result, traffic destined for one channel
   subscriber would be delivered to another's IP module, which would
   then have to discard the datagram.

   A host operating system SHOULD provide an interface to allow an
   application to request a unique allocation of a channel destination
   address in advance of a session's commencement, and this allocation
   database SHOULD persist across host reboots.  By providing persistent
   allocations, a host application can advertise the session in advance





<span class="grey">Holbrook &amp; Cain             Standards Track                     [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   of its start time on a web page or in another directory.  (We note
   that this issue is not specific to SSM applications -- the same
   problem arises for ASM.)

   This document neither defines the interfaces for requesting or
   returning addresses nor specifies the host algorithms for storing
   those allocations.  One plausible abstract API is defined in <a href="rfc2771.html">RFC 2771</a>
   [<a href="rfc2771.html" title='"An Abstract API for Multicast Address Allocation"'>RFC2771</a>].  Note that <a href="rfc2771.html">RFC 2771</a> allows an application to request an
   address within a specific range of addresses.  If this interface is
   used, the starting address of the range SHOULD be selected at random
   by the application.

   For IPv6, administratively scoped SSM channel addresses are created
   by choosing an appropriate scope identifier for the SSM destination
   address.  Normal IPv6 multicast scope boundaries [<a href="#ref-SCOPINGv6" title='"IPv6 Scoped Address Architecture"'>SCOPINGv6</a>] are
   applied to traffic sent to an SSM destination address, including any
   relevant boundaries applied to both the source and destination
   address.

   No globally agreed-upon administratively-scoped address range
   [<a href="#ref-ADMIN-SCOPE" title='"Administratively Scoped IP Multicast"'>ADMIN-SCOPE</a>] is currently defined for IPv4 source-specific
   multicast.  For IPv4, administrative scoping of SSM addresses can be
   implemented within an administrative domain by filtering outgoing SSM
   traffic sent to a scoped address at the domain's boundary routers.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Router%20Requirements"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Router Requirements</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Packet%20Forwarding"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Packet Forwarding</span>

   A router that receives an IP datagram with a source-specific
   destination address MUST silently drop it unless a neighboring host
   or router has communicated a desire to receive packets sent from the
   source and to the destination address of the received packet.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Protocols"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Protocols</span>

   Certain IP multicast routing protocols already have the ability to
   communicate source-specific joins to neighboring routers (in
   particular, PIM-SM [<a href="#ref-PIM-SM" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>PIM-SM</a>]), and these protocols can, with slight
   modifications, be used to provide source-specific semantics.  A
   router that supports the SSM service model MUST implement the PIM-SSM
   subset of the PIM-SM protocol from [<a href="#ref-PIM-SM" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>PIM-SM</a>] and MUST implement the
   router portion of [<a href="#ref-IGMPv3" title='"Internet Group Management Protocol, Version 3"'>IGMPv3</a>] for IPv4 and [<a href="#ref-MLDv2" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>MLDv2</a>] for IPv6.  An SSM
   router MUST also conform to the IGMPv3/MLDv2 behavior described in
   [<a href="#ref-GMP-SSM" title='"Using Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Protocol Version 2 (MLDv2) for Source-Specific Multicast"'>GMP-SSM</a>].






<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   With PIM-SSM, successful establishment of an (S,G) forwarding path
   from the source S to any receiver depends on hop-by-hop forwarding of
   the explicit join request from the receiver toward the source.  The
   protocol(s) and algorithms that are used to select the forwarding
   path for this explicit join must provide a loop-free path.  When
   using PIM-SSM, the PIM-SSM implementation MUST (at least) support the
   ability to use the unicast topology database for this purpose.

   A network can concurrently support SSM in the SSM address range and
   any-source multicast in the rest of the multicast address space, and
   it is expected that this will be commonplace.  In such a network, a
   router may receive a non-source-specific, or "(*,G)" in conventional
   terminology, request for delivery of traffic in the SSM range from a
   neighbor that does not implement source-specific multicast in a
   manner compliant with this document.  A router that receives such a
   non-source-specific request for data in the SSM range MUST NOT use
   the request to establish forwarding state and MUST NOT propagate the
   request to other neighboring routers.  A router MAY log an error in
   such a case.  This applies both to any request received from a host
   (e.g., an IGMPv1 or IGMPv2 [<a href="#ref-IGMPv2" title='"Internet Group Management Protocol, Version 2"'>IGMPv2</a>] host report) and to any request
   received from a routing protocol (e.g., a PIM-SM (*,G) join).  The
   inter-router case is further discussed in <a href="#section-8">Section 8</a>, "Transition
   Considerations".

   It is essential that all routers in the network give source-specific
   semantics to the same range of addresses in order to achieve the full
   benefit of SSM.  To comply with this specification, a router MUST
   treat ALL IANA-allocated SSM addresses with source-specific
   semantics.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Link-Layer%20Transmission%20of%20Datagrams"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Link-Layer Transmission of Datagrams</span>

   Source-specific multicast packets are transmitted on link-layer
   networks as specified in <a href="rfc1112.html">RFC 1112</a> for IPv4 and as in [<a href="#ref-ETHERv6" title='"Transmission of IPv6 Packets over Ethernet Networks"'>ETHERv6</a>] for
   IPv6.  On most shared-medium link-layer networks that support
   multicast (e.g., Ethernet), the IP source address is not used in the
   selection of the link-layer destination address.  Consequently, on
   such a network, all packets sent to destination address G will be
   delivered to any host that has subscribed to any channel (S,G),
   regardless of S.  Therefore, the IP module MUST filter packets it
   receives from the link layer before delivering them to the socket
   layer.









<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   This section outlines security issues pertaining to SSM.  The
   following topics are addressed: IPsec, denial-of-service attacks,
   source spoofing, and security issues related to administrative
   scoping.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20IPsec%20and%20SSM"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  IPsec and SSM</span>

   The IPsec Authentication Header (AH) and Encapsulating Security
   Payload (ESP) can be used to secure SSM traffic, if a multicast-
   capable implementation of IPsec (as required in [<a href="rfc4301.html" title='"Security Architecture for the Internet Protocol"'>RFC4301</a>]) is used by
   the receivers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20SSM%20and%20RFC%202401%20IPsec%20Caveats"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  SSM and <a href="rfc2401.html">RFC 2401</a> IPsec Caveats</span>

   For existing implementations of <a href="rfc2401.html">RFC 2401</a> IPsec (now superseded by
   [<a href="rfc4301.html" title='"Security Architecture for the Internet Protocol"'>RFC4301</a>]), there are a few caveats related to SSM.  They are listed
   here.  In <a href="rfc2401.html">RFC 2401</a> IPsec, the source address is not used as part of
   the key in the SAD lookup.  As a result, two senders that happen to
   use the same SSM destination address and the same Security Parameter
   Index (SPI) will "collide" in the SAD at any host that is receiving
   both channels.  Because the channel addresses and SPIs are both
   allocated autonomously by the senders, there is no reasonable means
   to ensure that each sender uses a unique destination address or SPI.

   A problem arises if a receiver subscribes simultaneously to two
   unrelated channels using IPsec whose sources happen to be using the
   same IP destination address (IPDA) and the same IPsec SPI.  Because
   the channel destination addresses are allocated autonomously by the
   senders, any two hosts can simultaneously use the same destination
   address, and there is no reasonable means to ensure that this does
   not happen.  The &lt;IPDA,SPI&gt; tuple, however, consists of 56 bits that
   are generally randomly chosen (24 bits of the IP destination and 32
   bits of the SPI), and a conflict is unlikely to occur through random
   chance.

   If such a collision occurs, a receiver will not be able to
   simultaneously receive IPsec-protected traffic from the two colliding
   sources.  A receiver can detect this condition by noticing that it is
   receiving traffic from two different sources with the same SPI and
   the same SSM destination address.









<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.3.%20%20Denial%20of%20Service"></a><a class="selflink" href="#section-7.3" name="section-7.3">7.3</a>.  Denial of Service</span>

   A subscription request creates (S,G) state in a router to record the
   subscription, invokes processing on that router, and possibly causes
   processing at neighboring routers.  A host can mount a denial-of-
   service attack by requesting a large number of subscriptions.  Denial
   of service can result if:

      - a large amount of traffic arrives when it was otherwise
        undesired, consuming network resources to deliver it and host
        resources to drop it;

      - a large amount of source-specific multicast state is created in
        network routers, using router memory and CPU resources to store
        and process the state; or

      - a large amount of control traffic is generated to manage the
        source-specific state, using router CPU and network bandwidth.

   To reduce the damage from such an attack, a router MAY have
   configuration options to limit, for example, the following items:

      - The total rate at which all hosts on any one interface are
        allowed to initiate subscriptions (to limit the damage caused by
        forged source-address attacks).

      - The total number of subscriptions that can be initiated from any
        single interface or host.

   Any decision by an implementor to artificially limit the rate or
   number of subscriptions should be taken carefully, however, as future
   applications may use large numbers of channels.  Tight limits on the
   rate or number of channel subscriptions would inhibit the deployment
   of such applications.

   A router SHOULD verify that the source of a subscription request is a
   valid address for the interface on which it was received.  Failure to
   do so would exacerbate a spoofed-source address attack.

   We note that these attacks are not unique to SSM -- they are also
   present for any-source multicast.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.4.%20%20Spoofed%20Source%20Addresses"></a><a class="selflink" href="#section-7.4" name="section-7.4">7.4</a>.  Spoofed Source Addresses</span>

   By forging the source address in a datagram, an attacker can
   potentially violate the SSM service model by transmitting datagrams
   on a channel belonging to another host.  Thus, an application
   requiring strong authentication should not assume that all packets



<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   that arrive on a channel were sent by the requested source without
   higher-layer authentication mechanisms.  The IPSEC Authentication
   Header [RFC2401, <a href="rfc4301.html">RFC4301</a>] may be used to authenticate the source of
   an SSM transmission, for instance.

   Some degree of protection against spoofed source addresses in
   multicast is already fairly widespread, because the commonly deployed
   IP multicast routing protocols [<a href="#ref-PIM-DM" title='"Protocol Independent Multicast - Dense Mode (PIM-DM): Protocol Specification (Revised)"'>PIM-DM</a>, <a href="#ref-PIM-SM" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>PIM-SM</a>, <a href="#ref-DVMRP" title='"Distance Vector Multicast Routing Protocol"'>DVMRP</a>] incorporate a
   "reverse-path forwarding check" that validates that a multicast
   packet arrived on the expected interface for its source address.
   Routing protocols used for SSM SHOULD incorporate such a check.

   Source Routing [<a href="rfc791.html" title='"Internet Protocol"'>RFC791</a>] (both Loose and Strict) in combination with
   source address spoofing may be used to allow an impostor of the true
   channel source to inject packets onto an SSM channel.  An SSM router
   SHOULD by default disallow source routing to an SSM destination
   address.  A router MAY have a configuration option to allow source
   routing.  Anti-source spoofing mechanisms, such as source address
   filtering at the edges of the network, are also strongly encouraged.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.5.%20%20Administrative%20Scoping"></a><a class="selflink" href="#section-7.5" name="section-7.5">7.5</a>.  Administrative Scoping</span>

   Administrative scoping should not be relied upon as a security
   measure [<a href="#ref-ADMIN-SCOPE" title='"Administratively Scoped IP Multicast"'>ADMIN-SCOPE</a>]; however, in some cases it is part of a
   security solution.  It should be noted that no administrative scoping
   exists for IPv4 source-specific multicast.  An alternative approach
   is to manually configure traffic filters to create such scoping if
   necessary.

   Furthermore, for IPv6, neither source nor destination address scoping
   should be used as a security measure.  In some currently-deployed
   IPv6 routers (those that do not conform to [<a href="#ref-SCOPINGv6" title='"IPv6 Scoped Address Architecture"'>SCOPINGv6</a>]), scope
   boundaries are not always applied to all source address (for
   instance, an implementation may filter link-local addresses but
   nothing else).  Such a router may incorrectly forward an SSM channel
   (S,G) through a scope boundary for S.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Transition%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Transition Considerations</span>

   A host that complies with this document will send ONLY source-
   specific host reports for addresses in the SSM range.  As stated
   above, a router that receives a non-source-specific (e.g., IGMPv1 or
   IGMPv2 or MLDv1 [<a href="rfc2710.html" title='"Multicast Listener Discovery (MLD) for IPv6"'>RFC2710</a>]) host report for a source-specific
   multicast destination address MUST ignore these reports.  Failure to
   do so would violate the SSM service model promised to the sender:
   that a packet sent to (S,G) would only be delivered to hosts that
   specifically requested delivery of packets sent to G by S.




<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 14]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   During a transition period, it would be possible to deliver SSM
   datagrams in a domain where the routers do not support SSM semantics
   by simply forwarding any packet destined to G to all hosts that have
   requested subscription of (S,G) for any S.  However, this
   implementation risks unduly burdening the network infrastructure by
   delivering (S,G) datagrams to hosts that did not request them.  Such
   an implementation for addresses in the SSM range is specifically not
   compliant with <a href="#section-5.2">Section 5.2</a> of this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  IANA Considerations</span>

   IANA allocates IPv4 addresses in the range 232.0.0.1 through
   232.0.0.255 and IPv6 addresses in the range FF3x:4000:0001 to
   FF3x::7FFF:FFFF.  These addresses are allocated according to IETF
   Consensus [<a href="#ref-IANA-CONSID" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>IANA-CONSID</a>].  These address ranges are reserved for
   services with wide applicability that either require that or would
   strongly benefit if all hosts use a well-known SSM destination
   address for that service.  Any proposal for allocation must consider
   the fact that, on an Ethernet network, all datagrams sent to any SSM
   destination address will be transmitted with the same link-layer
   destination address, regardless of the source.  Furthermore, the fact
   that SSM destinations in 232.0.0.0/24 and 232.128.0.0/24 use the same
   link-layer addresses as the reserved IP multicast group range
   224.0.0.0/24 must also be considered.  Similar consideration should
   be given to the IPv6 reserved multicast addresses.  232.0.0.0 and
   FF3x::4000:0000 should not be allocated, as suggested above.

   Except for the aforementioned addresses, IANA SHALL NOT allocate any
   SSM destination address to a particular entity or application.  To do
   so would compromise one of the important benefits of the source-
   specific model: the ability for a host to simply and autonomously
   allocate a source-specific multicast address from a large flat
   address space.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Acknowledgements"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Acknowledgements</span>

   The SSM service model draws on a variety of prior work on alternative
   approaches to IP multicast, including the EXPRESS multicast model of
   Holbrook and Cheriton [<a href="#ref-EXPRESS" title='"Explicitly Requested Source-Specific Multicast: EXPRESS support for Large- scale Single-source Applications."'>EXPRESS</a>], Green's [<a href="#ref-SMRP" title='"Method and System of Multicast Routing for Groups with a Single Transmitter."'>SMRP</a>], and the Simple
   Multicast proposal of Perlman, et al. [<a href="#ref-SIMPLE" title='"Simple Multicast: A Design for Simple, Low-Overhead Multicast"'>SIMPLE</a>].  We would also like
   to thank Jon Postel and David Cheriton for their support in
   reassigning the 232/8 address range to SSM.  Brian Haberman
   contributed to the IPv6 portion of this document.  Thanks to Pekka
   Savola for a careful review.







<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 15]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20Normative%20References"></a><a class="selflink" href="#section-11" name="section-11">11</a>. Normative References</span>

   [<a id="ref-ETHERv6" name="ref-ETHERv6">ETHERv6</a>]     Crawford, M., "Transmission of IPv6 Packets over
                 Ethernet Networks", <a href="rfc2464.html">RFC 2464</a>, December 1998.

   [<a id="ref-GMP-SSM" name="ref-GMP-SSM">GMP-SSM</a>]     Holbrook, H. and B. Cain, "Using Internet Group
                 Management Protocol Version 3 (IGMPv3) and Multicast
                 Listener Discovery Protocol Version 2 (MLDv2) for
                 Source-Specific Multicast", <a href="rfc4604.html">RFC 4604</a>, August 2006.

   [<a id="ref-IGMPv3" name="ref-IGMPv3">IGMPv3</a>]      Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A.
                 Thyagarajan, "Internet Group Management Protocol,
                 Version 3", <a href="rfc3376.html">RFC 3376</a>, October 2002.

   [<a id="ref-IPv6-UBM" name="ref-IPv6-UBM">IPv6-UBM</a>]    Haberman, B. and D. Thaler, "Unicast-Prefix-based IPv6
                 Multicast Addresses", <a href="rfc3306.html">RFC 3306</a>, August 2002.

   [<a id="ref-IPv6-MALLOC" name="ref-IPv6-MALLOC">IPv6-MALLOC</a>] Haberman, B., "Allocation Guidelines for IPv6 Multicast
                 Addresses", <a href="rfc3307.html">RFC 3307</a>, August 2002.

   [<a id="ref-MLDv2" name="ref-MLDv2">MLDv2</a>]       Vida, R. and L. Costa, "Multicast Listener Discovery
                 Version 2 (MLDv2) for IPv6", <a href="rfc3810.html">RFC 3810</a>, June 2004.

   [<a id="ref-PIM-SM" name="ref-PIM-SM">PIM-SM</a>]      Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas.
                 "Protocol Independent Multicast - Sparse Mode (PIM-SM):
                 Protocol Specification (Revised)", <a href="rfc4601.html">RFC 4601</a>, August
                 2006.

   [<a id="ref-RFC791" name="ref-RFC791">RFC791</a>]      Postel, J., "Internet Protocol", STD 5, <a href="rfc791.html">RFC 791</a>,
                 September 1981.

   [<a id="ref-RFC1112" name="ref-RFC1112">RFC1112</a>]     Deering, S., "Host extensions for IP multicasting", STD
                 5, <a href="rfc1112.html">RFC 1112</a>, August 1989.

   [<a id="ref-RFC2401" name="ref-RFC2401">RFC2401</a>]     Kent, S. and R. Atkinson, "Security Architecture for
                 the Internet Protocol", <a href="rfc2401.html">RFC 2401</a>, November 1998.

   [<a id="ref-RFC3513" name="ref-RFC3513">RFC3513</a>]     Hinden, R. and S. Deering, "Internet Protocol Version 6
                 (IPv6) Addressing Architecture", <a href="rfc3513.html">RFC 3513</a>, April 2003.

   [<a id="ref-RFC4301" name="ref-RFC4301">RFC4301</a>]     Kent, S. and K. Seo, "Security Architecture for the
                 Internet Protocol", <a href="rfc4301.html">RFC 4301</a>, December 2005.









<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 16]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20Informative%20References"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  Informative References</span>

   [<a id="ref-ADMIN-SCOPE" name="ref-ADMIN-SCOPE">ADMIN-SCOPE</a>] Meyer, D., "Administratively Scoped IP Multicast", <a href="http://tools.ietf.org/html/bcp23">BCP</a>
                 <a href="http://tools.ietf.org/html/bcp23">23</a>, <a href="rfc2365.html">RFC 2365</a>, July 1998.

   [<a id="ref-DVMRP" name="ref-DVMRP">DVMRP</a>]       Waitzman, D., Partridge, C., and S. Deering, "Distance
                 Vector Multicast Routing Protocol", <a href="rfc1075.html">RFC 1075</a>, November
                 1988.

   [<a id="ref-EXPRESS" name="ref-EXPRESS">EXPRESS</a>]     Holbrook, H., and Cheriton, D.  "Explicitly Requested
                 Source-Specific Multicast: EXPRESS support for Large-
                 scale Single-source Applications."  Proceedings of ACM
                 SIGCOMM '99, Cambridge, MA, September 1999.

   [<a id="ref-IANA-ALLOC" name="ref-IANA-ALLOC">IANA-ALLOC</a>]  Internet Assigned Numbers Authority,
                 <a href="http://www.iana.org/assignments/multicast-addresses">http://www.iana.org/assignments/multicast-addresses</a>.

   [<a id="ref-IANA-CONSID" name="ref-IANA-CONSID">IANA-CONSID</a>] Narten, T. and H. Alvestrand, "Guidelines for Writing
                 an IANA Considerations Section in RFCs", <a href="http://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc2434.html">RFC</a>
                 <a href="rfc2434.html">2434</a>, October 1998.

   [<a id="ref-IGMPv2" name="ref-IGMPv2">IGMPv2</a>]      Fenner, W., "Internet Group Management Protocol,
                 Version 2", <a href="rfc2236.html">RFC 2236</a>, November 1997.

   [<a id="ref-MSFAPI" name="ref-MSFAPI">MSFAPI</a>]      Thaler, D., Fenner, B., and B. Quinn, "Socket Interface
                 Extensions for Multicast Source Filters", <a href="rfc3678.html">RFC 3678</a>,
                 January 2004.

   [<a id="ref-PIM-DM" name="ref-PIM-DM">PIM-DM</a>]      Adams, A., Nicholas, J., and W. Siadak, "Protocol
                 Independent Multicast - Dense Mode (PIM-DM): Protocol
                 Specification (Revised)", <a href="rfc3973.html">RFC 3973</a>, January 2005.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]     Bradner, S., "Key words for use in RFCs to Indicate
                 Requirement Levels", <a href="http://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2710" name="ref-RFC2710">RFC2710</a>]     Deering, S., Fenner, W., and B. Haberman, "Multicast
                 Listener Discovery (MLD) for IPv6", <a href="rfc2710.html">RFC 2710</a>, October
                 1999.

   [<a id="ref-RFC2771" name="ref-RFC2771">RFC2771</a>]     Finlayson, R., "An Abstract API for Multicast Address
                 Allocation", <a href="rfc2771.html">RFC 2771</a>, February 2000.

   [<a id="ref-SCOPINGv6" name="ref-SCOPINGv6">SCOPINGv6</a>]   Deering, S., Haberman, B., Jinmei, T., Nordmark, E.,
                 and B. Zill, "IPv6 Scoped Address Architecture", <a href="rfc4007.html">RFC</a>
                 <a href="rfc4007.html">4007</a>, March 2005.






<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 17]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


   [<a id="ref-SIMPLE" name="ref-SIMPLE">SIMPLE</a>]      R. Perlman, C-Y. Lee, A. Ballardie, J. Crowcroft, Z.
                 Wang, T. Maufer, C. Diot, and M. Green, "Simple
                 Multicast: A Design for Simple, Low-Overhead
                 Multicast", Work in Progress, October 1999.

   [<a id="ref-SMRP" name="ref-SMRP">SMRP</a>]        Green, M.  "Method and System of Multicast Routing for
                 Groups with a Single Transmitter."  United States
                 Patent Number 5,517,494.

Authors' Addresses

   Brad Cain
   Acopia Networks

   EMail: bcain99@gmail.com


   Hugh Holbrook
   Arastra, Inc.
   P.O. Box 10905
   Palo Alto, CA 94303

   Phone: +1 650 331-1620
   EMail: holbrook@arastra.com



























<span class="grey">Holbrook &amp; Cain             Standards Track                    [Page 18]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc4607.html">RFC 4607</a>               Source-Specific Multicast             August 2006</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2006).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="http://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="http://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).







Holbrook &amp; Cain             Standards Track                    [Page 19]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc4607 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:46 GMT --></html>