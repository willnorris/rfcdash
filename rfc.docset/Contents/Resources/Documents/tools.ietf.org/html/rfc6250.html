<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-thaler-ip-model-evolution" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6250" name="DC.Identifier"/>
<meta content="May, 2011" name="DC.Date.Issued"/>
<meta content="Dave Thaler &lt;dthaler@microsoft.com&gt;" name="DC.Creator"/>
<meta content="This RFC attempts to document various aspects of the IP service model\nand how it has evolved over time. In particular, it attempts to\ndocument the properties of the IP layer as they are seen by upper-\nlayer protocols and applications, especially properties that were\n(and, at times, still are) incorrectly perceived to exist as well as\nproperties that would cause problems if changed. The discussion of\nthese properties is organized around evaluating a set of claims, or\nmisconceptions. Finally, this document provides some guidance to\nprotocol designers and implementers. This document is not an Internet\nStandards Track specification; it is published for informational\npurposes." name="DC.Description.Abstract"/>
<meta content="Evolution of the IP Model" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6250 - Evolution of the IP Model</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc6250.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc6250" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-iab-ip-model-evolution" title="draft-iab-ip-model-evolution">draft-iab-ip-mode...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6250" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc6250" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Architecture Board (IAB)                              D. Thaler
Request for Comments: 6250                                      May 2011
Category: Informational
ISSN: 2070-1721


                       <span class="h1">Evolution of the IP Model</span>

Abstract

   This RFC attempts to document various aspects of the IP service model
   and how it has evolved over time.  In particular, it attempts to
   document the properties of the IP layer as they are seen by upper-
   layer protocols and applications, especially properties that were
   (and, at times, still are) incorrectly perceived to exist as well as
   properties that would cause problems if changed.  The discussion of
   these properties is organized around evaluating a set of claims, or
   misconceptions.  Finally, this document provides some guidance to
   protocol designers and implementers.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Architecture Board (IAB)
   and represents information that the IAB has deemed valuable to
   provide for permanent record.  Documents approved for publication by
   the IAB are not a candidate for any level of Internet Standard; see
   <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6250">http://www.rfc-editor.org/info/rfc6250</a>.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.





<span class="grey">Thaler &amp; IAB                  Informational                     [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. The IP Service Model ............................................<a href="#page-4">4</a>
      <a href="#section-2.1">2.1</a>. Links and Subnets ..........................................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. Common Application Misconceptions ...............................<a href="#page-5">5</a>
      <a href="#section-3.1">3.1</a>. Misconceptions about Routing ...............................<a href="#page-5">5</a>
           <a href="#section-3.1.1">3.1.1</a>. Claim: Reachability is symmetric ....................<a href="#page-5">5</a>
           <a href="#section-3.1.2">3.1.2</a>. Claim: Reachability is transitive ...................<a href="#page-6">6</a>
           3.1.3. Claim: Error messages can be received in
                  response to data packets ............................<a href="#page-7">7</a>
           <a href="#section-3.1.4">3.1.4</a>. Claim: Multicast is supported within a link .........<a href="#page-7">7</a>
           <a href="#section-3.1.5">3.1.5</a>. Claim: IPv4 broadcast is supported ..................<a href="#page-8">8</a>
           3.1.6. Claim: Multicast/broadcast is less expensive
                  than replicated unicast .............................<a href="#page-8">8</a>
           3.1.7. Claim: The end-to-end latency of the first
                  packet to a destination is typical ..................<a href="#page-8">8</a>
           <a href="#section-3.1.8">3.1.8</a>. Claim: Reordering is rare ...........................<a href="#page-9">9</a>
           3.1.9. Claim: Loss is rare and probabilistic, not
                  deterministic .......................................<a href="#page-9">9</a>
           3.1.10. Claim: An end-to-end path exists at a
                   single point in time ..............................<a href="#page-10">10</a>
           <a href="#section-3.1.11">3.1.11</a>. Discussion ........................................<a href="#page-10">10</a>
      <a href="#section-3.2">3.2</a>. Misconceptions about Addressing ...........................<a href="#page-11">11</a>
           3.2.1. Claim: Addresses are stable over long
                  periods of time ....................................<a href="#page-11">11</a>
           <a href="#section-3.2.2">3.2.2</a>. Claim: An address is four bytes long ...............<a href="#page-12">12</a>
           3.2.3. Claim: A host has only one address on one interface 12
           3.2.4. Claim: A non-multicast/broadcast address
                  identifies a single host over a long period of time 13
           3.2.5. Claim: An address can be used as an
                  indication of physical location ....................<a href="#page-14">14</a>
           3.2.6. Claim: An address used by an application is
                  the same as the address used for routing ...........<a href="#page-14">14</a>
           <a href="#section-3.2.7">3.2.7</a>. Claim: A subnet is smaller than a link .............<a href="#page-14">14</a>
           3.2.8. Claim: Selecting a local address selects
                  the interface ......................................<a href="#page-15">15</a>
           3.2.9. Claim: An address is part of an on-link
                  subnet prefix ......................................<a href="#page-15">15</a>
           <a href="#section-3.2.10">3.2.10</a>. Discussion ........................................<a href="#page-15">15</a>
      <a href="#section-3.3">3.3</a>. Misconceptions about Upper-Layer Extensibility ............<a href="#page-16">16</a>
           3.3.1. Claim: New transport-layer protocols can
                  work across the Internet ...........................<a href="#page-16">16</a>
           3.3.2. Claim: If one stream between a pair of
                  addresses can get through, then so can another .....<a href="#page-17">17</a>
           <a href="#section-3.3.3">3.3.3</a>. Discussion .........................................<a href="#page-17">17</a>
      <a href="#section-3.4">3.4</a>. Misconceptions about Security .............................<a href="#page-17">17</a>
           <a href="#section-3.4.1">3.4.1</a>. Claim: Packets are unmodified in transit ...........<a href="#page-17">17</a>



<span class="grey">Thaler &amp; IAB                  Informational                     [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


           <a href="#section-3.4.2">3.4.2</a>. Claim: Packets are private .........................<a href="#page-18">18</a>
           <a href="#section-3.4.3">3.4.3</a>. Claim: Source addresses are not forged .............<a href="#page-18">18</a>
           <a href="#section-3.4.4">3.4.4</a>. Discussion .........................................<a href="#page-18">18</a>
   <a href="#section-4">4</a>. Security Considerations ........................................<a href="#page-18">18</a>
   <a href="#section-5">5</a>. Conclusion .....................................................<a href="#page-19">19</a>
   <a href="#section-6">6</a>. Acknowledgements ...............................................<a href="#page-20">20</a>
   <a href="#section-7">7</a>. IAB Members at the Time of This Writing ........................<a href="#page-20">20</a>
   <a href="#section-8">8</a>. IAB Members at the Time of Approval ............................<a href="#page-20">20</a>
   <a href="#section-9">9</a>. References .....................................................<a href="#page-20">20</a>
      <a href="#section-9.1">9.1</a>. Normative References ......................................<a href="#page-20">20</a>
      <a href="#section-9.2">9.2</a>. Informative References ....................................<a href="#page-21">21</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Since the Internet Protocol was first published as [<a href="#ref-IEN028" title='"Draft Internetwork Protocol Specification"'>IEN028</a>] in 1978,
   IP has provided a network-layer connectivity service to upper-layer
   protocols and applications.  The basic IP service model was
   documented in the original IENs (and subsequently in the RFCs that
   obsolete them).  However, since the mantra has been "Everything Over
   IP", the IP service model has evolved significantly over the past 30
   years to enable new behaviors that the original definition did not
   envision.  For example, by 1989 there was already some confusion and
   so [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>] clarified many things and extended the model.  In 2004,
   [<a href="rfc3819.html" title='"Advice for Internet Subnetwork Designers"'>RFC3819</a>] advised link-layer protocol designers on a number of issues
   that affect upper layers and is the closest in intent to this
   document.  Today's IP service model is not well documented in a
   single place, but is either implicit or discussed piecemeal in many
   different RFCs.  As a result, today's IP service model is actually
   not well known, or at least is often misunderstood.

   In the early days of IP, changing or extending the basic IP service
   model was easier since it was not as widely deployed and there were
   fewer implementations.  Today, the ossification of the Internet makes
   evolving the IP model even more difficult.  Thus, it is important to
   understand the evolution of the IP model for two reasons:

   1.  To clarify what properties can and cannot be depended upon by
       upper-layer protocols and applications.  There are many
       misconceptions on which applications may be based and which are
       problematic.

   2.  To document lessons for future evolution to take into account.
       It is important that the service model remain consistent, rather
       than evolving in two opposing directions.  It is sometimes the
       case in IETF Working Groups today that directions are considered
       or even taken that would change the IP service model.  Doing this
       without understanding the implications on applications can be
       dangerous.



<span class="grey">Thaler &amp; IAB                  Informational                     [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   This RFC attempts to document various aspects of the IP service model
   and how it has evolved over time.  In particular, it attempts to
   document the properties of the IP layer, as seen by upper-layer
   protocols and applications, especially properties that were (and at
   times still are) incorrectly perceived to exist.  It also highlights
   properties that would cause problems if changed.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20The%20IP%20Service%20Model"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  The IP Service Model</span>

   In this document, we use the term "IP service model" to refer to the
   model exposed by IP to higher-layer protocols and applications.  This
   is depicted in Figure 1 by the horizontal line.

    +-------------+                                  +-------------+
    | Application |                                  | Application |
    +------+------+                                  +------+------+
           |                                                |
    +------+------+                                  +------+------+
    | Upper-Layer |                                  | Upper-Layer |
    |  Protocol   |                                  |  Protocol   |
    +------+------+                                  +------+------+
           |                                                |
   ------------------------------------------------------------------
           |                                                |
        +--+--+                  +-----+                 +--+--+
        | IP  |                  | IP  |                 | IP  |
        +--+--+                  +--+--+                 +--+--+
           |                        |                       |
     +-----+------+           +-----+------+          +-----+------+
     | Link Layer |           | Link Layer |          | Link Layer |
     +-----+------+           +--+-----+---+          +-----+------+
           |                     |     |                    |
           +---------------------+     +--------------------+

         Source                                        Destination

                             IP Service Model

                                 Figure 1

   The foundation of the IP service model today is documented in <a href="#section-2.2">Section</a>
   <a href="#section-2.2">2.2</a> of [<a href="http://tools.ietf.org/html/rfc0791" title='"Internet Protocol"'>RFC0791</a>].  Generally speaking, IP provides a connectionless
   delivery service for variable size packets, which does not guarantee
   ordering, delivery, or lack of duplication, but is merely best effort
   (although some packets may get better service than others).  Senders
   can send to a destination address without signaling a priori, and
   receivers just listen on an already provisioned address, without
   signaling a priori.



<span class="grey">Thaler &amp; IAB                  Informational                     [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   Architectural principles of the IP model are further discussed in
   [<a href="rfc1958.html" title='"Architectural Principles of the Internet"'>RFC1958</a>] and in Sections <a href="#section-5">5</a> and <a href="#section-6">6</a> of [<a href="#ref-NEWARCH" title='"New Arch: Future Generation Internet Architecture"'>NEWARCH</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Links%20and%20Subnets"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Links and Subnets</span>

   <a href="rfc4903.html#section-2.1">Section 2.1 of [RFC4903]</a> discusses the terms "link" and "subnet" with
   respect to the IP model.

   A "link" in the IP service model refers to the topological area
   within which a packet with an IPv4 Time to Live (TTL) or IPv6 Hop
   Limit of 1 can be delivered.  That is, where no IP-layer forwarding
   (which entails a TTL/Hop Limit decrement) occurs between two nodes.

   A "subnet" in the IP service model refers to the topological area
   within which addresses from the same subnet prefix are assigned to
   interfaces.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Common%20Application%20Misconceptions"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Common Application Misconceptions</span>

   Below is a list of properties that are often assumed by applications
   and upper-layer protocols, but which have become less true over time.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Misconceptions%20about%20Routing"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Misconceptions about Routing</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.1.%20%20Claim%3A%20Reachability%20is%20symmetric"></a><a class="selflink" href="#section-3.1.1" name="section-3.1.1">3.1.1</a>.  Claim: Reachability is symmetric</span>

   Many applications assume that if a host A can contact a host B, then
   the reverse is also true.  Examples of this behavior include request-
   response patterns, which require reverse reachability only after
   forward reachability, as well as callbacks (e.g., as used by the File
   Transfer Protocol (FTP) [<a href="http://tools.ietf.org/html/rfc0959" title='"File Transfer Protocol"'>RFC0959</a>]).

   Originally, it was the case that reachability was symmetric (although
   the path taken may not be), both within a link and across the
   Internet.  With the advent of technologies such as Network Address
   Translators (NATs) and firewalls (as in the following example
   figure), this can no longer be assumed.  Today, host-to-host
   connectivity is challenging if not impossible in general.  It is
   relatively easy to initiate communication from hosts (A-E in the
   example diagram) to servers (S), but not vice versa, nor between
   hosts A-E.  For a longer discussion on peer-to-peer connectivity, see
   <a href="rfc5694.html#appendix-A">Appendix A of [RFC5694]</a>.









<span class="grey">Thaler &amp; IAB                  Informational                     [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


           __________                                 ___       ___
          /          \             ___        ___    /   \ ____|FW |__A
         /            \    ___    /   \ _____|NAT|__|     |    |___|
        |              |__|NAT|__|     |     |___|  |     |__B
        |              |  |___|  |     |__C          \___/
        |              |          \___/               ___
     S__|   Internet   |           ___        ___    /   \
        |              |   ___    /   \ _____|NAT|__|     |__D
        |              |__|FW |__|     |     |___|  |     |
        |              |  |___|  |     |__E          \___/
         \            /           \___/
          \__________/

                                 Figure 2

   However, it is still the case that if a request can be sent, then a
   reply to that request can generally be received, but an unsolicited
   request in the other direction may not be received.  [<a href="rfc2993.html" title='"Architectural Implications of NAT"'>RFC2993</a>]
   discusses this in more detail.

   There are also links (e.g., satellite) that were defined as
   unidirectional links and hence an address on such a link results in
   asymmetric reachability.  [<a href="rfc3077.html" title='"A Link-Layer Tunneling Mechanism for Unidirectional Links"'>RFC3077</a>] explicitly addresses this problem
   for multihomed hosts by tunneling packets over another interface in
   order to restore symmetric reachability.

   Finally, even with common wireless networks such as 802.11, this
   assumption may not be true, as discussed in Section 5.5 of
   [<a href="#ref-WIRELESS">WIRELESS</a>].

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.2.%20%20Claim%3A%20Reachability%20is%20transitive"></a><a class="selflink" href="#section-3.1.2" name="section-3.1.2">3.1.2</a>.  Claim: Reachability is transitive</span>

   Many applications assume that if a host A can contact host B, and B
   can contact C, then host A can contact C.  Examples of this behavior
   include applications and protocols that use referrals.

   Originally, it was the case that reachability was transitive, both
   within a link and across the Internet.  With the advent of
   technologies such as NATs and firewalls and various routing policies,
   this can no longer be assumed across the Internet, but it is often
   still true within a link.  As a result, upper-layer protocols and
   applications may be relying on transitivity within a link.  However,
   some radio technologies, such as 802.11 ad hoc mode, violate this
   assumption within a link.







<span class="grey">Thaler &amp; IAB                  Informational                     [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.3.%20%20Claim%3A%20Error%20messages%20can%20be%20received%20in%20response%20to%20data"></a><a class="selflink" href="#section-3.1.3" name="section-3.1.3">3.1.3</a>.  Claim: Error messages can be received in response to data</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/packets"></a>        packets</span>

   Some upper-layer protocols and applications assume that ICMP error
   messages will be received in response to packets sent that cannot be
   delivered.  Examples of this include the use of Path MTU Discovery
   [<a href="rfc1191.html" title='"Path MTU discovery"'>RFC1191</a>] [<a href="rfc1981.html" title='"Path MTU Discovery for IP version 6"'>RFC1981</a>] relying on messages indicating packets were too
   big, and traceroute and the use of expanding ring search [<a href="rfc1812.html" title='"Requirements for IP Version 4 Routers"'>RFC1812</a>]
   relying on messages indicating packets reached their TTL/Hop Limit.

   Originally, this assumption largely held, but many ICMP senders then
   chose to rate-limit responses in order to mitigate denial-of-service
   attacks, and many firewalls now block ICMP messages entirely.  For a
   longer discussion, see <a href="rfc2923.html#section-2.1">Section 2.1 of [RFC2923]</a>.

   This led to an alternate mechanism for Path MTU Discovery that does
   not rely on this assumption being true [<a href="rfc4821.html" title='"Packetization Layer Path MTU Discovery"'>RFC4821</a>] and guidance to
   firewall administrators ([<a href="rfc4890.html" title='"Recommendations for Filtering ICMPv6 Messages in Firewalls"'>RFC4890</a>] and <a href="rfc2979.html#section-3.1.1">Section 3.1.1 of [RFC2979]</a>).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.4.%20%20Claim%3A%20Multicast%20is%20supported%20within%20a%20link"></a><a class="selflink" href="#section-3.1.4" name="section-3.1.4">3.1.4</a>.  Claim: Multicast is supported within a link</span>

   [<a id="ref-RFC1112" name="ref-RFC1112">RFC1112</a>] introduced multicast to the IP service model.  In this
   evolution, senders still just send to a destination address without
   signaling a priori, but in contrast to the original IP model,
   receivers must signal to the network before they can receive traffic
   to a multicast address.

   Today, many applications and protocols use multicast addresses,
   including protocols for address configuration, service discovery,
   etc.  (See [<a href="#ref-MCAST4" title='"IPv4 Multicast Addresses"'>MCAST4</a>] and [<a href="#ref-MCAST6" title='"INTERNET PROTOCOL VERSION 6 MULTICAST ADDRESSES"'>MCAST6</a>] for those that use well-known
   addresses.)

   Most of these only assume that multicast works within a link and may
   or may not function across a wider area.  While network-layer
   multicast works over most link types, there are Non-Broadcast Multi-
   Access (NBMA) links over which multicast does not work (e.g., X.25,
   ATM, frame relay, 6to4, Intra-Site Automatic Tunnel Addressing
   Protocol (ISATAP), Teredo) and this can interfere with some protocols
   and applications.  Similarly, there are links such as 802.11 ad hoc
   mode where multicast packets may not get delivered to all receivers
   on the link.  [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>] states:

      Note that all link types (including NBMA) are expected to provide
      multicast service for applications that need it (e.g., using
      multicast servers).

   and its predecessor [<a href="rfc2461.html" title='"Neighbor Discovery for IP Version 6 (IPv6)"'>RFC2461</a>] contained similar wording.




<span class="grey">Thaler &amp; IAB                  Informational                     [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   However, not all link types today meet this expectation.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.5.%20%20Claim%3A%20IPv4%20broadcast%20is%20supported"></a><a class="selflink" href="#section-3.1.5" name="section-3.1.5">3.1.5</a>.  Claim: IPv4 broadcast is supported</span>

   IPv4 broadcast support was originally defined on a link, across a
   network, and for subnet-directed broadcast, and it is used by many
   applications and protocols.  For security reasons, however, [<a href="rfc2644.html" title='"Changing the Default for Directed Broadcasts in Routers"'>RFC2644</a>]
   deprecated the forwarding of broadcast packets.  Thus, since 1999,
   broadcast can only be relied on within a link.  Still, there exist
   NBMA links over which broadcast does not work, and there exist some
   "semi-broadcast" links (e.g., 802.11 ad hoc mode) where broadcast
   packets may not get delivered to all nodes on the link.  Another case
   where broadcast fails to work is when a /32 or /31 is assigned to a
   point-to-point interface (e.g., [<a href="rfc3021.html" title='"Using 31-Bit Prefixes on IPv4 Point-to-Point Links"'>RFC3021</a>]), leaving no broadcast
   address available.

   To a large extent, the addition of link-scoped multicast to the IP
   service model obsoleted the need for broadcast.  It is also worth
   noting that the broadcast API model used by most platforms allows
   receivers to just listen on an already provisioned address, without
   signaling a priori, but in contrast to the unicast API model, senders
   must signal to the local IP stack (SO_BROADCAST) before they can send
   traffic to a broadcast address.  However, from the network's
   perspective, the host still sends without signaling a priori.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.6.%20%20Claim%3A%20Multicast%2Fbroadcast%20is%20less%20expensive%20than%20replicated"></a><a class="selflink" href="#section-3.1.6" name="section-3.1.6">3.1.6</a>.  Claim: Multicast/broadcast is less expensive than replicated</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/unicast"></a>        unicast</span>

   Some applications and upper-layer protocols that use multicast or
   broadcast do so not because they do not know the addresses of
   receivers, but simply to avoid sending multiple copies of the same
   packet over the same link.

   In wired networks, sending a single multicast packet on a link is
   generally less expensive than sending multiple unicast packets.  This
   may not be true for wireless networks, where implementations can only
   send multicast at the basic rate, regardless of the negotiated rates
   of potential receivers.  As a result, replicated unicast may achieve
   much higher throughput across such links than multicast/broadcast
   traffic.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.7.%20%20Claim%3A%20The%20end-to-end%20latency%20of%20the%20first%20packet%20to%20a"></a><a class="selflink" href="#section-3.1.7" name="section-3.1.7">3.1.7</a>.  Claim: The end-to-end latency of the first packet to a</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/destination%20is%20typical"></a>        destination is typical</span>

   Many applications and protocols choose a destination address by
   sending a message to each of a number of candidates, picking the
   first one to respond, and then using that destination for subsequent
   communication.  If the end-to-end latency of the first packet to each



<span class="grey">Thaler &amp; IAB                  Informational                     [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   destination is atypical, this can result in a highly non-optimal
   destination being chosen, with much longer paths (and hence higher
   load on the Internet) and lower throughput.

   Today, there are a number of reasons this is not true.  First, when
   sending to a new destination there may be some startup latency
   resulting from the link-layer or network-layer mechanism in use, such
   as the Address Resolution Protocol (ARP), for instance.  In addition,
   the first packet may follow a different path from subsequent packets.
   For example, protocols such as Mobile IPv6 [<a href="rfc3775.html" title='"Mobility Support in IPv6"'>RFC3775</a>], Protocol
   Independent Multicast - Sparse Mode (PIM-SM) [<a href="rfc4601.html" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>], and the
   Multicast Source Discovery Protocol (MSDP) [<a href="rfc3618.html" title='"Multicast Source Discovery Protocol (MSDP)"'>RFC3618</a>] send packets on
   one path, and then allow immediately switching to a shorter path,
   resulting in a large latency difference.  There are various proposals
   currently being evaluated by the IETF Routing Research Group that
   result in similar path switching.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.8.%20%20Claim%3A%20Reordering%20is%20rare"></a><a class="selflink" href="#section-3.1.8" name="section-3.1.8">3.1.8</a>.  Claim: Reordering is rare</span>

   As discussed in [<a href="#ref-REORDER" title='"Packet reordering is not pathological network behavior"'>REORDER</a>], [<a href="rfc2991.html" title='"Multipath Issues in Unicast and Multicast Next-Hop Selection"'>RFC2991</a>], and <a href="rfc3819.html#section-15">Section 15 of [RFC3819]</a>,
   there are a number of effects of reordering.  For example, reordering
   increases buffering requirements (and jitter) in many applications
   and in devices that do packet reassembly.  In particular, TCP
   [<a href="http://tools.ietf.org/html/rfc0793" title='"Transmission Control Protocol"'>RFC0793</a>] is adversely affected by reordering since it enters fast-
   retransmit when three packets are received before a late packet,
   which drastically lowers throughput.  Finally, some NATs and
   firewalls assume that the initial fragment arrives first, resulting
   in packet loss when this is not the case.

   Today, there are a number of things that cause reordering.  For
   example, some routers do per-packet, round-robin load balancing,
   which, depending on the topology, can result in a great deal of
   reordering.  As another example, when a packet is fragmented at the
   sender, some hosts send the last fragment first.  Finally, as
   discussed in <a href="#section-3.1.7">Section 3.1.7</a>, protocols that do path switching after
   the first packet result in deterministic reordering within the first
   burst of packets.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.9.%20%20Claim%3A%20Loss%20is%20rare%20and%20probabilistic%2C%20not%20deterministic"></a><a class="selflink" href="#section-3.1.9" name="section-3.1.9">3.1.9</a>.  Claim: Loss is rare and probabilistic, not deterministic</span>

   In the original IP model, senders just send, without signaling the
   network a priori.  This works to a degree.  In practice, the last hop
   (and in rare cases, other hops) of the path needs to resolve next hop
   information (e.g., the link-layer address of the destination) on
   demand, which results in queuing traffic, and if the queue fills up,
   some traffic gets dropped.  This means that bursty sources can be
   problematic (and indeed a single large packet that gets fragmented
   becomes such a burst).  The problem is rarely observed in practice



<span class="grey">Thaler &amp; IAB                  Informational                     [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   today, either because the resolution within the last hop happens very
   quickly, or because bursty applications are rarer.  However, any
   protocol that significantly increases such delays or adds new
   resolutions would be a change to the classic IP model and may
   adversely impact upper-layer protocols and applications that result
   in bursts of packets.

   In addition, mechanisms that simply drop the first packet, rather
   than queuing it, also break this assumption.  Similar to the result
   of reordering, they can result in a highly non-optimal destination
   being chosen by applications that use the first one to respond.  Two
   examples of mechanisms that appear to do this are network interface
   cards that support a "Wake-on-LAN" capability where any packet that
   matches a specified pattern will wake up a machine in a power-
   conserving mode, but only after dropping the matching packet, and
   MSDP, where encapsulating data packets is optional, but doing so
   enables bursty sources to be accommodated while a multicast tree is
   built back to the source's domain.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.10.%20%20Claim%3A%20An%20end-to-end%20path%20exists%20at%20a%20single%20point%20in%20time"></a><a class="selflink" href="#section-3.1.10" name="section-3.1.10">3.1.10</a>.  Claim: An end-to-end path exists at a single point in time</span>

   In classic IP, applications assume that either an end-to-end path
   exists to a destination or that the packet will be dropped.  In
   addition, IP today tends to assume that the packet delay is
   relatively short (since the "Time"-to-Live is just a hop count).  In
   IP's earlier history, the TTL field was expected to also be
   decremented each second (not just each hop).

   In general, this assumption is still true today.  However, the IRTF
   Delay Tolerant Networking Research Group is investigating ways for
   applications to use IP in networks where this assumption is not true,
   such as store-and-forward networks (e.g., packets carried by vehicles
   or animals).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.11.%20%20Discussion"></a><a class="selflink" href="#section-3.1.11" name="section-3.1.11">3.1.11</a>.  Discussion</span>

   The reasons why the assumptions listed above are increasingly less
   true can be divided into two categories: effects caused by attributes
   of link-layer technologies and effects caused by network-layer
   technologies.

   <a href="rfc3819.html">RFC 3819</a> [<a href="rfc3819.html" title='"Advice for Internet Subnetwork Designers"'>RFC3819</a>] advises link-layer protocol designers to minimize
   these effects.  Generally, the link-layer causes are not
   intentionally trying to break IP, but rather adding IP over the
   technology introduces the problem.  Hence, where the link-layer
   protocol itself does not do so, when specifying how IP is defined
   over such a link protocol, designers should compensate to the maximum
   extent possible.  As examples, [<a href="rfc3077.html" title='"A Link-Layer Tunneling Mechanism for Unidirectional Links"'>RFC3077</a>] and [<a href="rfc2491.html" title='"IPv6 over Non-Broadcast Multiple Access (NBMA) networks"'>RFC2491</a>] compensate for



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   the lack of symmetric reachability and the lack of link-layer
   multicast, respectively.  That is, when IP is defined over a link
   type, the protocol designers should attempt to restore the
   assumptions listed in this document.  For example, since an
   implementation can distinguish between 802.11 ad hoc mode versus
   infrastructure mode, it may be possible to define a mechanism below
   IP to compensate for the lack of transitivity over such links.

   At the network layer, as a general principle, we believe that
   reachability is good.  For security reasons ([<a href="rfc4948.html" title='"Report from the IAB workshop on Unwanted Traffic March 9-10, 2006"'>RFC4948</a>]), however, it
   is desirable to restrict reachability by unauthorized parties; indeed
   IPsec, an integral part of the IP model, provides one means to do so.
   Where there are issues with asymmetry, non-transitivity, and so
   forth, which are not direct results of restricting reachability to
   only authorized parties (for some definition of authorized), the IETF
   should attempt to avoid or solve such issues.  Similar to the
   principle outlined in <a href="rfc1958.html#section-3.9">Section 3.9 of [RFC1958]</a>, the general theme
   when defining a protocol is to be liberal in what effects you accept,
   and conservative in what effects you cause.

   However, in being liberal in what effects you accept, it is also
   important to remember that diagnostics are important, and being too
   liberal can mask problems.  Thus, a tussle exists between the desire
   to provide a better experience to one's own users or applications and
   thus be more successful ([<a href="rfc5218.html" title='"What Makes For a Successful Protocol?"'>RFC5218</a>]), versus the desire to put
   pressure on getting problems fixed.  One solution is to provide a
   separate "pedantic mode" that can be enabled to see the problems
   rather than mask them.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Misconceptions%20about%20Addressing"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Misconceptions about Addressing</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.1.%20%20Claim%3A%20Addresses%20are%20stable%20over%20long%20periods%20of%20time"></a><a class="selflink" href="#section-3.2.1" name="section-3.2.1">3.2.1</a>.  Claim: Addresses are stable over long periods of time</span>

   Originally, addresses were manually configured on fixed machines, and
   hence addresses were very stable.  With the advent of technologies
   such as DHCP, roaming, and wireless, addresses can no longer be
   assumed to be stable for long periods of time.  However, the APIs
   provided to applications today typically still assume stable
   addresses (e.g., address lifetimes are not exposed to applications
   that get addresses).  This can cause problems when addresses become
   stale.

   For example, many applications resolve names to addresses and then
   cache them without any notion of lifetime.  In fact, the classic name
   resolution APIs do not even provide applications with the lifetime of
   entries.





<span class="grey">Thaler &amp; IAB                  Informational                    [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   Proxy Mobile IPv6 [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] tries to restore this assumption to some
   extent by preserving the same address while roaming around a local
   area.  The issue of roaming between different networks has been known
   since at least 1980 when [<a href="#ref-IEN135" title='"Addressing Mobile Hosts in the ARPA Internet Environment"'>IEN135</a>] proposed a mobility solution that
   attempted to restore this assumption by adding an additional address
   that can be used by applications, which is stable while roaming
   anywhere with Internet connectivity.  More recent protocols such as
   Mobile IPv6 (MIP6) [<a href="rfc3775.html" title='"Mobility Support in IPv6"'>RFC3775</a>] and the Host Identity Protocol (HIP)
   [<a href="rfc4423.html" title='"Host Identity Protocol (HIP) Architecture"'>RFC4423</a>] follow in this same vein.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.2.%20%20Claim%3A%20An%20address%20is%20four%20bytes%20long"></a><a class="selflink" href="#section-3.2.2" name="section-3.2.2">3.2.2</a>.  Claim: An address is four bytes long</span>

   Many applications and protocols were designed to only support
   addresses that are four bytes long.  Although this was sufficient for
   IPv4, the advent of IPv6 made this assumption invalid and with the
   exhaustion of IPv4 address space this assumption will become
   increasingly less true.  There have been some attempts to try to
   mitigate this problem with limited degrees of success in constrained
   cases.  For example, "Bump-In-the-Stack" [<a href="rfc2767.html" title='"Dual Stack Hosts using the "'>RFC2767</a>] and "Bump-in-the-
   API" [<a href="rfc3338.html" title='"Dual Stack Hosts Using "'>RFC3338</a>] attempt to provide four-byte "IPv4" addresses for IPv6
   destinations, but have many limitations including (among a number of
   others) all the problems of NATs.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.3.%20%20Claim%3A%20A%20host%20has%20only%20one%20address%20on%20one%20interface"></a><a class="selflink" href="#section-3.2.3" name="section-3.2.3">3.2.3</a>.  Claim: A host has only one address on one interface</span>

   Although many applications assume this (e.g., by calling a name
   resolution function such as gethostbyname and then just using the
   first address returned), it was never really true to begin with, even
   if it was the common case.  Even [<a href="http://tools.ietf.org/html/rfc0791" title='"Internet Protocol"'>RFC0791</a>] states:

      ... provision must be made for a host to have several physical
      interfaces to the network with each having several logical
      Internet addresses.

   However, this assumption is increasingly less true today, with the
   advent of multiple interfaces (e.g., wired and wireless), dual-IPv4/
   IPv6 nodes, multiple IPv6 addresses on the same interface (e.g.,
   link-local and global), etc.  Similarly, many protocol specifications
   such as DHCP only describe operations for a single interface, whereas
   obtaining host-wide configuration from multiple interfaces presents a
   merging problem for nodes in practice.  Too often, this problem is
   simply ignored by Working Groups, and applications and users suffer
   as a result from poor merging algorithms.

   One use of protocols such as MIP6 and HIP is to make this assumption
   somewhat more true by adding an additional "address" that can be the
   one used by such applications, and the protocol will deal with the
   complexity of multiple physical interfaces and addresses.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.4.%20%20Claim%3A%20A%20non-multicast%2Fbroadcast%20address%20identifies%20a%20single"></a><a class="selflink" href="#section-3.2.4" name="section-3.2.4">3.2.4</a>.  Claim: A non-multicast/broadcast address identifies a single</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/host%20over%20a%20long%20period%20of%20time"></a>        host over a long period of time</span>

   Many applications and upper-layer protocols maintain a communication
   session with a destination over some period of time.  If that address
   is reassigned to another host, or if that address is assigned to
   multiple hosts and the host at which packets arrive changes, such
   applications can have problems.

   In addition, many security mechanisms and configurations assume that
   one can block traffic by IP address, implying that a single attacker
   can be identified by IP address.  If that IP address can also
   identify many legitimate hosts, applying such a block can result in
   denial of service.

   [<a id="ref-RFC1546" name="ref-RFC1546">RFC1546</a>] introduced the notion of anycast to the IP service model.
   It states:

      Because anycasting is stateless and does not guarantee delivery of
      multiple anycast datagrams to the same system, an application
      cannot be sure that it is communicating with the same peer in two
      successive UDP transmissions or in two successive TCP connections
      to the same anycast address.

      The obvious solutions to these issues are to require applications
      which wish to maintain state to learn the unicast address of their
      peer on the first exchange of UDP datagrams or during the first
      TCP connection and use the unicast address in future
      conversations.

   The issues with anycast are further discussed in [<a href="rfc4786.html" title='"Operation of Anycast Services"'>RFC4786</a>] and
   [<a href="#ref-ANYCAST" title='"Architectural Considerations of IP Anycast"'>ANYCAST</a>].

   Another mechanism by which multiple hosts use the same address is as
   a result of scoped addresses, as defined for both IPv4 [<a href="rfc1918.html" title='"Address Allocation for Private Internets"'>RFC1918</a>]
   [<a href="rfc3927.html" title='"Dynamic Configuration of IPv4 Link-Local Addresses"'>RFC3927</a>] and IPv6 [<a href="rfc4007.html" title='"IPv6 Scoped Address Architecture"'>RFC4007</a>].  Because such addresses can be reused
   within multiple networks, hosts in different networks can use the
   same address.  As a result, a host that is multihomed to two such
   networks cannot use the destination address to uniquely identify a
   peer.  For example, a host can no longer use a 5-tuple to uniquely
   identify a TCP connection.  This is why IPv6 added the concept of a
   "zone index".

   Yet another example is that, in some high-availability solutions, one
   host takes over the IP address of another failed host.

   See [<a href="rfc2101.html" title='"IPv4 Address Behaviour Today"'>RFC2101</a>], [<a href="rfc2775.html" title='"Internet Transparency"'>RFC2775</a>], and [<a href="#ref-SHARED-ADDRESSING">SHARED-ADDRESSING</a>] for additional
   discussion on address uniqueness.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.5.%20%20Claim%3A%20An%20address%20can%20be%20used%20as%20an%20indication%20of%20physical"></a><a class="selflink" href="#section-3.2.5" name="section-3.2.5">3.2.5</a>.  Claim: An address can be used as an indication of physical</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/location"></a>        location</span>

   Some applications attempt to use an address to infer some information
   about the physical location of the host with that address.  For
   example, geo-location services are often used to provide targeted
   content or ads.

   Various forms of tunneling have made this assumption less true, and
   this will become increasingly less true as the use of IPv4 NATs for
   large networks continues to increase.  See Section 7 of
   [<a href="#ref-SHARED-ADDRESSING">SHARED-ADDRESSING</a>] for a longer discussion.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.6.%20%20Claim%3A%20An%20address%20used%20by%20an%20application%20is%20the%20same%20as%20the"></a><a class="selflink" href="#section-3.2.6" name="section-3.2.6">3.2.6</a>.  Claim: An address used by an application is the same as the</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/address%20used%20for%20routing"></a>        address used for routing</span>

   Some applications assume that the address the application uses is the
   same as that used by routing.  For example, some applications use raw
   sockets to read/write packet headers, including the source and
   destination addresses in the IP header.  As another example, some
   applications make assumptions about locality (e.g., whether the
   destination is on the same subnet) by comparing addresses.

   Protocols such as Mobile IPv6 and HIP specifically break this
   assumption (in an attempt to restore other assumptions as discussed
   above).  Recently, the IRTF Routing Research Group has been
   evaluating a number of possible mechanisms, some of which would also
   break this assumption, while others preserve this assumption near the
   edges of the network and only break it in the core of the Internet.

   Breaking this assumption is sometimes referred to as an "identifier/
   locator" split.  However, as originally defined in 1978 ([<a href="#ref-IEN019" title='"A note on Inter-Network Naming, Addressing, and Routing"'>IEN019</a>],
   [<a href="#ref-IEN023" title='"On Names, Addresses and Routings"'>IEN023</a>]), an address was originally defined as only a locator,
   whereas names were defined to be the identifiers.  However, the TCP
   protocol then used addresses as identifiers.

   Finally, in a liberal sense, any tunneling mechanism might be said to
   break this assumption, although, in practice, applications that make
   this assumption will continue to work, since the address of the
   inside of the tunnel is still used for routing as expected.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.7.%20%20Claim%3A%20A%20subnet%20is%20smaller%20than%20a%20link"></a><a class="selflink" href="#section-3.2.7" name="section-3.2.7">3.2.7</a>.  Claim: A subnet is smaller than a link</span>

   In the classic IP model, a "subnet" is smaller than, or equal to, a
   "link".  Destinations with addresses in the same on-link subnet
   prefix can be reached with TTL (or Hop Count) = 1.  Link-scoped
   multicast packets, and all-ones broadcast packets will be delivered
   (in a best-effort fashion) to all listening nodes on the link.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 14]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   Subnet broadcast packets will be delivered (in a best effort fashion)
   to all listening nodes in the subnet.  There have been some efforts
   in the past (e.g., [<a href="http://tools.ietf.org/html/rfc0925" title='"Multi-LAN address resolution"'>RFC0925</a>], [<a href="rfc3069.html" title='"VLAN Aggregation for Efficient IP Address Allocation"'>RFC3069</a>]) to allow multi-link subnets
   and change the above service model, but the adverse impact on
   applications that have such assumptions recommend against changing
   this assumption.

   [<a id="ref-RFC4903" name="ref-RFC4903">RFC4903</a>] discusses this topic in more detail and surveys a number of
   protocols and applications that depend on this assumption.
   Specifically, some applications assume that, if a destination address
   is in the same on-link subnet prefix as the local machine, then
   therefore packets can be sent with TTL=1, or that packets can be
   received with TTL=255, or link-scoped multicast or broadcast can be
   used to reach the destination.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.8.%20%20Claim%3A%20Selecting%20a%20local%20address%20selects%20the%20interface"></a><a class="selflink" href="#section-3.2.8" name="section-3.2.8">3.2.8</a>.  Claim: Selecting a local address selects the interface</span>

   Some applications assume that binding to a given local address
   constrains traffic reception to the interface with that address, and
   that traffic from that address will go out on that address's
   interface.  However, <a href="rfc1122.html#section-3.3.4.2">Section 3.3.4.2 of [RFC1122]</a> defines two models:
   the Strong End System (or strong host) model where this is true, and
   the Weak End System (or weak host) model where this is not true.  In
   fact, any router is inherently a weak host implementation, since
   packets can be forwarded between interfaces.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.9.%20%20Claim%3A%20An%20address%20is%20part%20of%20an%20on-link%20subnet%20prefix"></a><a class="selflink" href="#section-3.2.9" name="section-3.2.9">3.2.9</a>.  Claim: An address is part of an on-link subnet prefix</span>

   To some extent, this was never true, in that there were cases in IPv4
   where the "mask" was 255.255.255.255, such as on a point-to-point
   link where the two endpoints had addresses out of unrelated address
   spaces, and no on-link subnet prefix existed on the link.  However,
   this didn't stop many platforms and applications from assuming that
   every address had a "mask" (or prefix) that was on-link.  The
   assumption of whether a subnet is on-link (in which case one can send
   directly to the destination after using ARP/ND) or off-link (in which
   case one just sends to a router) has evolved over the years, and it
   can no longer be assumed that an address has an on-link prefix.  In
   1998, [<a href="rfc2461.html" title='"Neighbor Discovery for IP Version 6 (IPv6)"'>RFC2461</a>] introduced the distinction as part of the core IPv6
   protocol suite.  This topic is discussed further in [<a href="#ref-ON-OFF-LINK">ON-OFF-LINK</a>],
   and [<a href="rfc4903.html" title='"Multi-Link Subnet Issues"'>RFC4903</a>] also touches on this topic with respect to the service
   model seen by applications.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.10.%20%20Discussion"></a><a class="selflink" href="#section-3.2.10" name="section-3.2.10">3.2.10</a>.  Discussion</span>

   <a href="rfc1958.html#section-4.1">Section 4.1 of RFC 1958</a> [<a href="rfc1958.html" title='"Architectural Principles of the Internet"'>RFC1958</a>] states: "In general, user
   applications should use names rather than addresses".




<span class="grey">Thaler &amp; IAB                  Informational                    [Page 15]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   We emphasize the above point, which is too often ignored.  Many
   commonly used APIs unnecessarily expose addresses to applications
   that already use names.  Similarly, some protocols are defined to
   carry addresses, rather than carrying names (instead of or in
   addition to addresses).  Protocols and applications that are already
   dependent on a naming system should be designed in such a way that
   they avoid or minimize any dependence on the notion of addresses.

   One challenge is that many hosts today do not have names that can be
   resolved.  For example, a host may not have a fully qualified domain
   name (FQDN) or a Domain Name System (DNS) server that will host its
   name.

   Applications that, for whatever reason, cannot use names should be
   IP-version agnostic.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Misconceptions%20about%20Upper-Layer%20Extensibility"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Misconceptions about Upper-Layer Extensibility</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.1.%20%20Claim%3A%20New%20transport-layer%20protocols%20can%20work%20across%20the"></a><a class="selflink" href="#section-3.3.1" name="section-3.3.1">3.3.1</a>.  Claim: New transport-layer protocols can work across the</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/Internet"></a>        Internet</span>

   IP was originally designed to support the addition of new transport-
   layer protocols, and [<a href="#ref-PROTOCOLS">PROTOCOLS</a>] lists many such protocols.

   However, as discussed in [<a href="#ref-WAIST-HOURGLASS">WAIST-HOURGLASS</a>], NATs and firewalls today
   break this assumption and often only allow UDP and TCP (or even just
   HTTP).

   Hence, while new protocols may work from some places, they will not
   necessarily work from everywhere, such as from behind such NATs and
   firewalls.

   Since even UDP and TCP may not work from everywhere, it may be
   necessary for applications to support "HTTP failover" modes.  The use
   of HTTP as a "transport of last resort" has become common (e.g.,
   [<a href="#ref-BOSH" title='"Bidirectional-streams Over Synchronous HTTP (BOSH)"'>BOSH</a>] among others) even in situations where it is sub-optimal, such
   as in real-time communications or where bidirectional communication
   is required.  Also, the IETF HyBi Working Group is now in the process
   of designing a standards-based solution for layering other protocols
   on top of HTTP.  As a result of having to support HTTP failover,
   applications may have to be engineered to sustain higher latency.










<span class="grey">Thaler &amp; IAB                  Informational                    [Page 16]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.2.%20%20Claim%3A%20If%20one%20stream%20between%20a%20pair%20of%20addresses%20can%20get"></a><a class="selflink" href="#section-3.3.2" name="section-3.3.2">3.3.2</a>.  Claim: If one stream between a pair of addresses can get</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/through%2C%20then%20so%20can%20another"></a>        through, then so can another</span>

   Some applications and protocols use multiple upper-layer streams of
   data between the same pair of addresses and initiated by the same
   party.  Passive-mode FTP [<a href="http://tools.ietf.org/html/rfc0959" title='"File Transfer Protocol"'>RFC0959</a>], and RTP [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>], are two
   examples of such protocols, which use separate streams for data
   versus control channels.

   Today, there are many reasons why this may not be true.  Firewalls,
   for example, may selectively allow/block specific protocol numbers
   and/or values in upper-layer protocol fields (such as port numbers).
   Similarly, middleboxes such as NATs that create per-stream state may
   cause other streams to fail once they run out of space to store
   additional stream state.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.3.%20%20Discussion"></a><a class="selflink" href="#section-3.3.3" name="section-3.3.3">3.3.3</a>.  Discussion</span>

   Section 5.1 of [<a href="#ref-NEWARCH" title='"New Arch: Future Generation Internet Architecture"'>NEWARCH</a>] discusses the primary requirements of the
   original Internet architecture, including Service Generality.  It
   states:

      This goal was to support the widest possible range of
      applications, by supporting a variety of types of service at the
      transport level.  Services might be distinguished by speed,
      latency, or reliability, for example.  Service types might include
      virtual circuit service, which provides reliable, full-duplex byte
      streams, and also datagram service, which delivers individual
      packets with no guarantees of reliability or ordering.  The
      requirement for datagram service was motivated by early ARPAnet
      experiments with packet speech (using IMP Type 3 messages).

   The reasons that the assumptions in this section are becoming less
   true are due to network-layer (or higher-layer) techniques being
   introduced that interfere with the original requirement.  Generally,
   these are done either in the name of security or as a side effect of
   solving some other problem such as address shortage.  Work is needed
   to investigate ways to restore the original behavior while still
   meeting today's security requirements.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Misconceptions%20about%20Security"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Misconceptions about Security</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.4.1.%20%20Claim%3A%20Packets%20are%20unmodified%20in%20transit"></a><a class="selflink" href="#section-3.4.1" name="section-3.4.1">3.4.1</a>.  Claim: Packets are unmodified in transit</span>

   Some applications and upper-layer protocols assume that a packet is
   unmodified in transit, except for a few well-defined fields (e.g.,
   TTL).  Examples of this behavior include protocols that define their
   own integrity-protection mechanism such as a checksum.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 17]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   This assumption is broken by NATs as discussed in [<a href="rfc2993.html" title='"Architectural Implications of NAT"'>RFC2993</a>] and other
   middleboxes that modify the contents of packets.  There are many
   tunneling technologies (e.g., [<a href="rfc4380.html" title='"Teredo: Tunneling IPv6 over UDP through Network Address Translations (NATs)"'>RFC4380</a>]) that attempt to restore this
   assumption to some extent.

   The IPsec architecture [<a href="rfc4301.html" title='"Security Architecture for the Internet Protocol"'>RFC4301</a>] added security to the IP model,
   providing a way to address this problem without changing
   applications, although transport-mode IPsec is not currently widely
   used over the Internet.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.4.2.%20%20Claim%3A%20Packets%20are%20private"></a><a class="selflink" href="#section-3.4.2" name="section-3.4.2">3.4.2</a>.  Claim: Packets are private</span>

   The assumption that data is private has never really been true.
   However, many old applications and protocols (e.g., FTP) transmit
   passwords or other sensitive data in the clear.

   IPsec provides a way to address this problem without changing
   applications, although it is not yet widely deployed, and doing
   encryption/decryption for all packets can be computationally
   expensive.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.4.3.%20%20Claim%3A%20Source%20addresses%20are%20not%20forged"></a><a class="selflink" href="#section-3.4.3" name="section-3.4.3">3.4.3</a>.  Claim: Source addresses are not forged</span>

   Most applications and protocols use the source address of some
   incoming packet when generating a response, and hence assume that it
   has not been forged (and as a result can often be vulnerable to
   various types of attacks such as reflection attacks).

   Various mechanisms that restore this assumption include, for example,
   IPsec and Cryptographically Generated Addresses (CGAs) [<a href="rfc3972.html" title='"Cryptographically Generated Addresses (CGA)"'>RFC3972</a>].

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.4.4.%20%20Discussion"></a><a class="selflink" href="#section-3.4.4" name="section-3.4.4">3.4.4</a>.  Discussion</span>

   A good discussion of threat models and common tools can be found in
   [<a href="rfc3552.html" title='"Guidelines for Writing RFC Text on Security Considerations"'>RFC3552</a>].  Protocol designers and applications developers are
   encouraged to be familiar with that document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Security Considerations</span>

   This document discusses assumptions about the IP service model made
   by many applications and upper-layer protocols.  Whenever these
   assumptions are broken, if the application or upper-layer protocol
   has some security-related behavior that is based on the assumption,
   then security can be affected.







<span class="grey">Thaler &amp; IAB                  Informational                    [Page 18]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   For example, if an application assumes that binding to the IP address
   of a "trusted" interface means that it will never receive traffic
   from an "untrusted" interface, and that assumption is broken (as
   discussed in <a href="#section-3.2.8">Section 3.2.8</a>), then an attacker could get access to
   private information.

   As a result, great care should be taken when expanding the extent to
   which an assumption is false.  On the other hand, application and
   upper-layer protocol developers should carefully consider the impact
   of basing their security on any of the assumptions enumerated in this
   document.

   It is also worth noting that many of the changes that have occurred
   over time (e.g., firewalls, dropping directed broadcasts, etc.) that
   are discussed in this document were done in the interest of improving
   security at the expense of breaking some applications.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Conclusion"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Conclusion</span>

   Because a huge number of applications already exist that use TCP/IP
   for business-critical operations, any changes to the service model
   need to be done with extreme care.  Extensions that merely add
   additional optional functionality without impacting any existing
   applications are much safer than extensions that change one or more
   of the core assumptions discussed above.  Any changes to the above
   assumptions should only be done in accordance with some mechanism to
   minimize or mitigate the risks of breaking mission-critical
   applications.  Historically, changes have been done without regard to
   such considerations and, as a result, the situation for applications
   today is already problematic.  The key to maintaining an
   interoperable Internet is documenting and maintaining invariants that
   higher layers can depend on, and being very judicious with changes.

   In general, lower-layer protocols should document the contract they
   provide to higher layers; that is, what assumptions the upper layer
   can rely on (sometimes this is done in the form of an applicability
   statement).  Conversely, higher-layer protocols should document the
   assumptions they rely on from the lower layer (sometimes this is done
   in the form of requirements).

   We must also recognize that a successful architecture often evolves
   as success brings growth and as technology moves forward.  As a
   result, the various assumptions made should be periodically reviewed
   when updating protocols.







<span class="grey">Thaler &amp; IAB                  Informational                    [Page 19]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Acknowledgements"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Acknowledgements</span>

   Chris Hopps, Dow Street, Phil Hallam-Baker, and others provided
   helpful discussion on various points that led to this document.  Iain
   Calder, Brian Carpenter, Jonathan Rosenberg, Erik Nordmark, Alain
   Durand, and Iljitsch van Beijnum also provided valuable feedback.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20IAB%20Members%20at%20the%20Time%20of%20This%20Writing"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  IAB Members at the Time of This Writing</span>

   Loa Andersson
   Gonzalo Camarillo
   Stuart Cheshire
   Russ Housley
   Olaf Kolkman
   Gregory Lebovitz
   Barry Leiba
   Kurtis Lindqvist
   Andrew Malis
   Danny McPherson
   David Oran
   Dave Thaler
   Lixia Zhang

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IAB%20Members%20at%20the%20Time%20of%20Approval"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IAB Members at the Time of Approval</span>

   Bernard Aboba
   Marcelo Bagnulo
   Ross Callon
   Spencer Dawkins
   Russ Housley
   John Klensin
   Olaf Kolkman
   Danny McPherson
   Jon Peterson
   Andrei Robachevsky
   Dave Thaler
   Hannes Tschofenig


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC0791" name="ref-RFC0791">RFC0791</a>]  Postel, J., "Internet Protocol", STD 5, <a href="rfc791.html">RFC 791</a>,
              September 1981.

   [<a id="ref-RFC1112" name="ref-RFC1112">RFC1112</a>]  Deering, S., "Host extensions for IP multicasting", STD 5,
              <a href="rfc1112.html">RFC 1112</a>, August 1989.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 20]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   [<a id="ref-RFC1122" name="ref-RFC1122">RFC1122</a>]  Braden, R., "Requirements for Internet Hosts -
              Communication Layers", STD 3, <a href="rfc1122.html">RFC 1122</a>, October 1989.

   [<a id="ref-RFC1546" name="ref-RFC1546">RFC1546</a>]  Partridge, C., Mendez, T., and W. Milliken, "Host
              Anycasting Service", <a href="rfc1546.html">RFC 1546</a>, November 1993.

   [<a id="ref-RFC2461" name="ref-RFC2461">RFC2461</a>]  Narten, T., Nordmark, E., and W. Simpson, "Neighbor
              Discovery for IP Version 6 (IPv6)", <a href="rfc2461.html">RFC 2461</a>,
              December 1998.

   [<a id="ref-RFC2644" name="ref-RFC2644">RFC2644</a>]  Senie, D., "Changing the Default for Directed Broadcasts
              in Routers", <a href="http://tools.ietf.org/html/bcp34">BCP 34</a>, <a href="rfc2644.html">RFC 2644</a>, August 1999.

   [<a id="ref-RFC4301" name="ref-RFC4301">RFC4301</a>]  Kent, S. and K. Seo, "Security Architecture for the
              Internet Protocol", <a href="rfc4301.html">RFC 4301</a>, December 2005.

   [<a id="ref-RFC4861" name="ref-RFC4861">RFC4861</a>]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", <a href="rfc4861.html">RFC 4861</a>,
              September 2007.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-ANYCAST" name="ref-ANYCAST">ANYCAST</a>]  McPherson, D. and D. Oran, "Architectural Considerations
              of IP Anycast", Work in Progress, February 2010.

   [<a id="ref-BOSH" name="ref-BOSH">BOSH</a>]     Paterson, I., Smith, D., Saint-Andre, P., and J. Moffitt,
              "Bidirectional-streams Over Synchronous HTTP (BOSH)",
              XEP 0124, 2010,
              &lt;<a href="http://xmpp.org/extensions/xep-0124.html">http://xmpp.org/extensions/xep-0124.html</a>&gt;.

   [<a id="ref-IEN019" name="ref-IEN019">IEN019</a>]   Shoch, J., "A note on Inter-Network Naming, Addressing,
              and Routing", IEN 19, January 1978,
              &lt;<a href="http://www.rfc-editor.org/ien/ien19.txt">http://www.rfc-editor.org/ien/ien19.txt</a>&gt;.

   [<a id="ref-IEN023" name="ref-IEN023">IEN023</a>]   Cohen, D., "On Names, Addresses and Routings", IEN 23,
              January 1978, &lt;<a href="http://www.rfc-editor.org/ien/ien23.txt">http://www.rfc-editor.org/ien/ien23.txt</a>&gt;.

   [<a id="ref-IEN028" name="ref-IEN028">IEN028</a>]   Postel, J., "Draft Internetwork Protocol Specification",
              IEN 28, February 1978,
              &lt;<a href="http://www.rfc-editor.org/ien/ien28.pdf">http://www.rfc-editor.org/ien/ien28.pdf</a>&gt;.

   [<a id="ref-IEN135" name="ref-IEN135">IEN135</a>]   Sunshine, C. and J. Postel, "Addressing Mobile Hosts in
              the ARPA Internet Environment", IEN 135, March 1980,
              &lt;<a href="http://www.rfc-editor.org/ien/ien135.txt">http://www.rfc-editor.org/ien/ien135.txt</a>&gt;.

   [<a id="ref-MCAST4" name="ref-MCAST4">MCAST4</a>]   Internet Assigned Numbers Authority, "IPv4 Multicast
              Addresses",
              &lt;<a href="http://www.iana.org/assignments/multicast-addresses">http://www.iana.org/assignments/multicast-addresses</a>&gt;.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 21]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   [<a id="ref-MCAST6" name="ref-MCAST6">MCAST6</a>]   Internet Assigned Numbers Authority, "INTERNET PROTOCOL
              VERSION 6 MULTICAST ADDRESSES",
              &lt;<a href="http://www.iana.org/assignments/ipv6-multicast-addresses">http://www.iana.org/assignments/</a>
              <a href="http://www.iana.org/assignments/ipv6-multicast-addresses">ipv6-multicast-addresses</a>&gt;.

   [<a id="ref-NEWARCH" name="ref-NEWARCH">NEWARCH</a>]  Clark, D., et al., "New Arch: Future Generation Internet
              Architecture", Air Force Research Laboratory Technical
              Report AFRL-IF-RS-TR-2004-235, August 2004, &lt;<a href="http://www.dtic.mil/cgi-bin/GetTRDoc?AD=ADA426770&amp;Location=U2&amp;doc=GetTRDoc.pdf">http://</a>
              <a href="http://www.dtic.mil/cgi-bin/GetTRDoc?AD=ADA426770&amp;Location=U2&amp;doc=GetTRDoc.pdf">www.dtic.mil/cgi-bin/</a>
              <a href="http://www.dtic.mil/cgi-bin/GetTRDoc?AD=ADA426770&amp;Location=U2&amp;doc=GetTRDoc.pdf">GetTRDoc?AD=ADA426770&amp;Location=U2&amp;doc=GetTRDoc.pdf</a>&gt;.

   [<a id="ref-ON-OFF-LINK" name="ref-ON-OFF-LINK">ON-OFF-LINK</a>]
              Singh, H., Beebee, W., and E. Nordmark, "IPv6 Subnet
              Model", Work in Progress, February 2008.

   [<a id="ref-PROTOCOLS" name="ref-PROTOCOLS">PROTOCOLS</a>]
              Internet Assigned Numbers Authority, "Protocol Numbers",
              &lt;<a href="http://www.iana.org/assignments/protocol-numbers">http://www.iana.org/assignments/protocol-numbers</a>&gt;.

   [<a id="ref-REORDER" name="ref-REORDER">REORDER</a>]  Bennett, J., Partridge, C., and N. Shectman, "Packet
              reordering is not pathological network behavior", IEEE/ACM
              Transactions on Networking, Vol. 7, No. 6, December 1999.

   [<a id="ref-RFC0793" name="ref-RFC0793">RFC0793</a>]  Postel, J., "Transmission Control Protocol", STD 7,
              <a href="rfc793.html">RFC 793</a>, September 1981.

   [<a id="ref-RFC0925" name="ref-RFC0925">RFC0925</a>]  Postel, J., "Multi-LAN address resolution", <a href="rfc925.html">RFC 925</a>,
              October 1984.

   [<a id="ref-RFC0959" name="ref-RFC0959">RFC0959</a>]  Postel, J. and J. Reynolds, "File Transfer Protocol",
              STD 9, <a href="rfc959.html">RFC 959</a>, October 1985.

   [<a id="ref-RFC1191" name="ref-RFC1191">RFC1191</a>]  Mogul, J. and S. Deering, "Path MTU discovery", <a href="rfc1191.html">RFC 1191</a>,
              November 1990.

   [<a id="ref-RFC1812" name="ref-RFC1812">RFC1812</a>]  Baker, F., "Requirements for IP Version 4 Routers",
              <a href="rfc1812.html">RFC 1812</a>, June 1995.

   [<a id="ref-RFC1918" name="ref-RFC1918">RFC1918</a>]  Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and
              E. Lear, "Address Allocation for Private Internets",
              <a href="http://tools.ietf.org/html/bcp5">BCP 5</a>, <a href="rfc1918.html">RFC 1918</a>, February 1996.

   [<a id="ref-RFC1958" name="ref-RFC1958">RFC1958</a>]  Carpenter, B., "Architectural Principles of the Internet",
              <a href="rfc1958.html">RFC 1958</a>, June 1996.

   [<a id="ref-RFC1981" name="ref-RFC1981">RFC1981</a>]  McCann, J., Deering, S., and J. Mogul, "Path MTU Discovery
              for IP version 6", <a href="rfc1981.html">RFC 1981</a>, August 1996.




<span class="grey">Thaler &amp; IAB                  Informational                    [Page 22]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   [<a id="ref-RFC2101" name="ref-RFC2101">RFC2101</a>]  Carpenter, B., Crowcroft, J., and Y. Rekhter, "IPv4
              Address Behaviour Today", <a href="rfc2101.html">RFC 2101</a>, February 1997.

   [<a id="ref-RFC2491" name="ref-RFC2491">RFC2491</a>]  Armitage, G., Schulter, P., Jork, M., and G. Harter, "IPv6
              over Non-Broadcast Multiple Access (NBMA) networks",
              <a href="rfc2491.html">RFC 2491</a>, January 1999.

   [<a id="ref-RFC2767" name="ref-RFC2767">RFC2767</a>]  Tsuchiya, K., HIGUCHI, H., and Y. Atarashi, "Dual Stack
              Hosts using the "Bump-In-the-Stack" Technique (BIS)",
              <a href="rfc2767.html">RFC 2767</a>, February 2000.

   [<a id="ref-RFC2775" name="ref-RFC2775">RFC2775</a>]  Carpenter, B., "Internet Transparency", <a href="rfc2775.html">RFC 2775</a>,
              February 2000.

   [<a id="ref-RFC2923" name="ref-RFC2923">RFC2923</a>]  Lahey, K., "TCP Problems with Path MTU Discovery",
              <a href="rfc2923.html">RFC 2923</a>, September 2000.

   [<a id="ref-RFC2979" name="ref-RFC2979">RFC2979</a>]  Freed, N., "Behavior of and Requirements for Internet
              Firewalls", <a href="rfc2979.html">RFC 2979</a>, October 2000.

   [<a id="ref-RFC2991" name="ref-RFC2991">RFC2991</a>]  Thaler, D. and C. Hopps, "Multipath Issues in Unicast and
              Multicast Next-Hop Selection", <a href="rfc2991.html">RFC 2991</a>, November 2000.

   [<a id="ref-RFC2993" name="ref-RFC2993">RFC2993</a>]  Hain, T., "Architectural Implications of NAT", <a href="rfc2993.html">RFC 2993</a>,
              November 2000.

   [<a id="ref-RFC3021" name="ref-RFC3021">RFC3021</a>]  Retana, A., White, R., Fuller, V., and D. McPherson,
              "Using 31-Bit Prefixes on IPv4 Point-to-Point Links",
              <a href="rfc3021.html">RFC 3021</a>, December 2000.

   [<a id="ref-RFC3069" name="ref-RFC3069">RFC3069</a>]  McPherson, D. and B. Dykes, "VLAN Aggregation for
              Efficient IP Address Allocation", <a href="rfc3069.html">RFC 3069</a>, February 2001.

   [<a id="ref-RFC3077" name="ref-RFC3077">RFC3077</a>]  Duros, E., Dabbous, W., Izumiyama, H., Fujii, N., and Y.
              Zhang, "A Link-Layer Tunneling Mechanism for
              Unidirectional Links", <a href="rfc3077.html">RFC 3077</a>, March 2001.

   [<a id="ref-RFC3338" name="ref-RFC3338">RFC3338</a>]  Lee, S., Shin, M-K., Kim, Y-J., Nordmark, E., and A.
              Durand, "Dual Stack Hosts Using "Bump-in-the-API" (BIA)",
              <a href="rfc3338.html">RFC 3338</a>, October 2002.

   [<a id="ref-RFC3550" name="ref-RFC3550">RFC3550</a>]  Schulzrinne, H., Casner, S., Frederick, R., and V.
              Jacobson, "RTP: A Transport Protocol for Real-Time
              Applications", STD 64, <a href="rfc3550.html">RFC 3550</a>, July 2003.

   [<a id="ref-RFC3552" name="ref-RFC3552">RFC3552</a>]  Rescorla, E. and B. Korver, "Guidelines for Writing RFC
              Text on Security Considerations", <a href="http://tools.ietf.org/html/bcp72">BCP 72</a>, <a href="rfc3552.html">RFC 3552</a>,
              July 2003.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 23]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   [<a id="ref-RFC3618" name="ref-RFC3618">RFC3618</a>]  Fenner, B. and D. Meyer, "Multicast Source Discovery
              Protocol (MSDP)", <a href="rfc3618.html">RFC 3618</a>, October 2003.

   [<a id="ref-RFC3775" name="ref-RFC3775">RFC3775</a>]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support
              in IPv6", <a href="rfc3775.html">RFC 3775</a>, June 2004.

   [<a id="ref-RFC3819" name="ref-RFC3819">RFC3819</a>]  Karn, P., Bormann, C., Fairhurst, G., Grossman, D.,
              Ludwig, R., Mahdavi, J., Montenegro, G., Touch, J., and L.
              Wood, "Advice for Internet Subnetwork Designers", <a href="http://tools.ietf.org/html/bcp89">BCP 89</a>,
              <a href="rfc3819.html">RFC 3819</a>, July 2004.

   [<a id="ref-RFC3927" name="ref-RFC3927">RFC3927</a>]  Cheshire, S., Aboba, B., and E. Guttman, "Dynamic
              Configuration of IPv4 Link-Local Addresses", <a href="rfc3927.html">RFC 3927</a>,
              May 2005.

   [<a id="ref-RFC3972" name="ref-RFC3972">RFC3972</a>]  Aura, T., "Cryptographically Generated Addresses (CGA)",
              <a href="rfc3972.html">RFC 3972</a>, March 2005.

   [<a id="ref-RFC4007" name="ref-RFC4007">RFC4007</a>]  Deering, S., Haberman, B., Jinmei, T., Nordmark, E., and
              B. Zill, "IPv6 Scoped Address Architecture", <a href="rfc4007.html">RFC 4007</a>,
              March 2005.

   [<a id="ref-RFC4380" name="ref-RFC4380">RFC4380</a>]  Huitema, C., "Teredo: Tunneling IPv6 over UDP through
              Network Address Translations (NATs)", <a href="rfc4380.html">RFC 4380</a>,
              February 2006.

   [<a id="ref-RFC4423" name="ref-RFC4423">RFC4423</a>]  Moskowitz, R. and P. Nikander, "Host Identity Protocol
              (HIP) Architecture", <a href="rfc4423.html">RFC 4423</a>, May 2006.

   [<a id="ref-RFC4601" name="ref-RFC4601">RFC4601</a>]  Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas,
              "Protocol Independent Multicast - Sparse Mode (PIM-SM):
              Protocol Specification (Revised)", <a href="rfc4601.html">RFC 4601</a>, August 2006.

   [<a id="ref-RFC4786" name="ref-RFC4786">RFC4786</a>]  Abley, J. and K. Lindqvist, "Operation of Anycast
              Services", <a href="http://tools.ietf.org/html/bcp126">BCP 126</a>, <a href="rfc4786.html">RFC 4786</a>, December 2006.

   [<a id="ref-RFC4821" name="ref-RFC4821">RFC4821</a>]  Mathis, M. and J. Heffner, "Packetization Layer Path MTU
              Discovery", <a href="rfc4821.html">RFC 4821</a>, March 2007.

   [<a id="ref-RFC4890" name="ref-RFC4890">RFC4890</a>]  Davies, E. and J. Mohacsi, "Recommendations for Filtering
              ICMPv6 Messages in Firewalls", <a href="rfc4890.html">RFC 4890</a>, May 2007.

   [<a id="ref-RFC4903" name="ref-RFC4903">RFC4903</a>]  Thaler, D., "Multi-Link Subnet Issues", <a href="rfc4903.html">RFC 4903</a>,
              June 2007.

   [<a id="ref-RFC4948" name="ref-RFC4948">RFC4948</a>]  Andersson, L., Davies, E., and L. Zhang, "Report from the
              IAB workshop on Unwanted Traffic March 9-10, 2006",
              <a href="rfc4948.html">RFC 4948</a>, August 2007.



<span class="grey">Thaler &amp; IAB                  Informational                    [Page 24]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc6250.html">RFC 6250</a>                Evolution of the IP Model               May 2011</span>


   [<a id="ref-RFC5213" name="ref-RFC5213">RFC5213</a>]  Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K.,
              and B. Patil, "Proxy Mobile IPv6", <a href="rfc5213.html">RFC 5213</a>, August 2008.

   [<a id="ref-RFC5218" name="ref-RFC5218">RFC5218</a>]  Thaler, D. and B. Aboba, "What Makes For a Successful
              Protocol?", <a href="rfc5218.html">RFC 5218</a>, July 2008.

   [<a id="ref-RFC5694" name="ref-RFC5694">RFC5694</a>]  Camarillo, G. and IAB, "Peer-to-Peer (P2P) Architecture:
              Definition, Taxonomies, Examples, and Applicability",
              <a href="rfc5694.html">RFC 5694</a>, November 2009.

   [<a id="ref-SHARED-ADDRESSING" name="ref-SHARED-ADDRESSING">SHARED-ADDRESSING</a>]
              Ford, M., Boucadair, M., Durand, A., Levis, P., and P.
              Roberts, "Issues with IP Address Sharing", Work
              in Progress, March 2011.

   [<a id="ref-WAIST-HOURGLASS" name="ref-WAIST-HOURGLASS">WAIST-HOURGLASS</a>]
              Rosenberg, J., "UDP and TCP as the New Waist of the
              Internet Hourglass", Work in Progress, February 2008.

   [<a id="ref-WIRELESS" name="ref-WIRELESS">WIRELESS</a>]
              Kotz, D., Newport, C., and C. Elliott, "The mistaken
              axioms of wireless-network research", Dartmouth College
              Computer Science Technical Report TR2003-467, July 2003, &lt;
              <a href="http://www.cs.dartmouth.edu/cms_file/SYS_techReport/337/TR2003-467">http://www.cs.dartmouth.edu/cms_file/SYS_techReport/337/</a>
              <a href="http://www.cs.dartmouth.edu/cms_file/SYS_techReport/337/TR2003-467">TR2003-467</a>.pdf&gt;.

Authors' Addresses

   Dave Thaler
   One Microsoft Way
   Redmond, WA  98052
   USA

   Phone: +1 425 703 8835
   EMail: dthaler@microsoft.com


   Internet Architecture Board

   EMail: iab@iab.org











Thaler &amp; IAB                  Informational                    [Page 25]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>


<meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

</body><!-- Mirrored from tools.ietf.org/html/rfc6250 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Mar 2014 18:34:38 GMT --><!-- Added by HTTrack --></html>