<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.107" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Identifier" content="urn:ietf:rfc:2517" />
<meta name="DC.Description.Abstract" content="This memo discusses lessons that were learned during InterNIC\nDirectory and Database Services\x27 development and operation of\nWWWSeeker, an application that finds a web site given information\nabout the name and location of an organization. This memo provides\ninformation for the Internet community." />
<meta name="DC.Creator" content="Ryan Moats &lt;jayhawk@att.com&gt;" />
<meta name="DC.Date.Issued" content="February, 1999" />
<meta name="DC.Title" content="Building Directories from DNS: Experiences from WWWSeeker" />

    <link rel="icon" href="http://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="http://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 2517 - Building Directories from DNS: Experiences from WWWSeeker</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgorange"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc2517.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc2517" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-rfced-info-moats" title="draft-rfced-info-moats">draft-rfced-info-...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc2517" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc2517" title="Side-by-side diff">Diff2</a>]                 </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Network Working Group                                       R. Moats
Request for Comments: 2517                                  R. Huber
Category: Informational                                         AT&amp;T
                                                       February 1999


       <span class="h1">Building Directories from DNS: Experiences from WWWSeeker</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

Abstract

   There has been much discussion and several documents written about
   the need for an Internet Directory.  Recently, this discussion has
   focused on ways to discover an organization's domain name without
   relying on use of DNS as a directory service.  This memo discusses
   lessons that were learned during InterNIC Directory and Database
   Services' development and operation of WWWSeeker, an application that
   finds a web site given information about the name and location of an
   organization.  The back end database that drives this application was
   built from information obtained from domain registries via WHOIS and
   other protocols.  We present this information to help future
   implementors avoid some of the blind alleys that we have already
   explored.  This work builds on the Netfind system that was created by
   Mike Schwartz and his team at the University of Colorado at Boulder
   [<a href="#ref-1" title="&quot;Applying an Information Gathering Architecture to Netfind: A White Pages Tool for a Changing and Growing Internet&quot;">1</a>].

<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>. Introduction</span>

   Over time, there have been several RFCs [<a href="#ref-2" title="&quot;Plan for Internet Directory Services&quot;">2</a>, <a href="#ref-3" title="&quot;A Strategic Plan for Deploying an Internet X.500 Directory Service&quot;">3</a>, <a href="#ref-4" title="&quot;White Pages Meeting Report&quot;">4</a>] about approaches
   for providing Internet Directories.  Many of the earlier documents
   discussed white pages directories that supply mappings from a
   person's name to their telephone number, email address, etc.

   More recently, there has been discussion of directories that map from
   a company name to a domain name or web site.  Many people are using
   DNS as a directory today to find this type of information about a
   given company.  Typically when DNS is used, users guess the domain
   name of the company they are looking for and then prepend "www.".
   This makes it highly desirable for a company to have an easily



<span class="grey">Moats &amp; Huber                Informational                      [Page 1]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc2517.html">RFC 2517</a>             Building Directories from DNS         February 1999</span>


   guessable name.

   There are two major problems here.  As the number of assigned names
   increases, it becomes more difficult to get an easily guessable name.
   Also, the TLD must be guessed as well as the name.  While many users
   just guess ".COM" as the "default" TLD today, there are many two-
   letter country code top-level domains in current use as well as other
   gTLDs (.NET, .ORG, and possibly .EDU) with the prospect of additional
   gTLDs in the future.  As the number of TLDs in general use increases,
   guessing gets more difficult.

   Between July 1996 and our shutdown in March 1998, the InterNIC
   Directory and Database Services project maintained the Netfind search
   engine [<a href="#ref-1" title="&quot;Applying an Information Gathering Architecture to Netfind: A White Pages Tool for a Changing and Growing Internet&quot;">1</a>] and the associated database that maps organization
   information to domain names. This database thus acted as the type of
   Internet directory that associates company names with domain names.
   We also built WWWSeeker, a system that used the Netfind database to
   find web sites associated with a given organization.  The experienced
   gained from maintaining and growing this database provides valuable
   insight into the issues of providing a directory service.  We present
   it here to allow future implementors to avoid some of the blind
   alleys that we have already explored.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>. Directory Population</span>

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a> What to do?</span>

   There are two issues in populating a directory: finding all the
   domain names (building the skeleton) and associating those domains
   with entities (adding the meat).  These two issues are discussed
   below.

<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a> Building the skeleton</span>

   In "building the skeleton", it is popular to suggest using a variant
   of a "tree walk" to determine the domains that need to be added to
   the directory.  Our experience is that this is neither a reasonable
   nor an efficient proposal for maintaining such a directory.  Except
   for some infrequent and long-standing DNS surveys [<a href="#ref-5" title="&quot;Network Wizards Internet Domain Survey&quot;">5</a>], DNS "tree
   walks" tend to be discouraged by the Internet community, especially
   given that the frequency of DNS changes would require a new tree walk
   monthly (if not more often).  Instead, our experience has shown that
   data on allocated DNS domains can usually be retrieved in bulk
   fashion with FTP, HTTP, or Gopher (we have used each of these for
   particular TLDs).  This has the added advantage of both "building the
   skeleton" and "adding the meat" at the same time.  Our favorite
   method for finding a server that has allocated DNS domain information
   is to start with the list maintained at



<span class="grey">Moats &amp; Huber                Informational                      [Page 2]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc2517.html">RFC 2517</a>             Building Directories from DNS         February 1999</span>


   <a href="http://www.alldomains.com/countryindex.html">http://www.alldomains.com/countryindex.html</a> and go from there.
   Before this was available, it was necessary to hunt for a registry
   using trial and error.

   When maintaining the database, existing domains may be verified via
   direct DNS lookups rather than a "tree walk." "Tree walks" should
   therefore be the choice of last resort for directory population, and
   bulk retrieval should be used whenever possible.

<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a> Adding the meat</span>

   A possibility for populating a directory ("adding the meat") is to
   use an automated system that makes repeated queries using the WHOIS
   protocol to gather information about the organization that owns a
   domain.  The queries would be made against a WHOIS server located
   with the above method. At the conclusion of the InterNIC Directory
   and Database Services project, our backend database contained about
   2.9 million records built from data that could be retrieved via
   WHOIS.  The entire database contained 3.25 million records, with the
   additional records coming from sources other than WHOIS.

   In our experience this information contains many factual and
   typographical errors and requires further examination and processing
   to improve its quality.  Further, TLD registrars that support WHOIS
   typically only support WHOIS information for second level domains
   (i.e. ne.us) as opposed to lower level domains (i.e.
   windrose.omaha.ne.us).  Also, there are TLDs without registrars, TLDs
   without WHOIS support, and still other TLDs that use other methods
   (HTTP, FTP, gopher) for providing organizational information.  Based
   on our experience, an implementor of an internet directory needs to
   support multiple protocols for directory population.  An automated
   WHOIS search tool is necessary, but isn't enough.

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>. Directory Updating: Full Rebuilds vs Incremental Updates</span>

   Given the size of our database in April 1998 when it was last
   generated, a complete rebuild of the database that is available from
   WHOIS lookups would require between 134.2 to 167.8 days just for
   WHOIS lookups from a Sun SPARCstation 20. This estimate does not
   include other considerations (for example, inverting the token tree
   required about 24 hours processing time on a Sun SPARCstation 20)
   that would increase the amount of time to rebuild the entire
   database.

   Whether this is feasible depends on the frequency of database updates
   provided.  Because of the rate of growth of allocated domain names
   (150K-200K new allocated domains per month in early 1998), we
   provided monthly updates of the database. To rebuild the database



<span class="grey">Moats &amp; Huber                Informational                      [Page 3]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc2517.html">RFC 2517</a>             Building Directories from DNS         February 1999</span>


   each month (based on the above time estimate) would require between 3
   and 5 machines to be dedicated full time (independent of machine
   architecture).  Instead, we checkpointed the allocated domain list
   and rebuild on an incremental basis during one weekend of the month.
   This allowed us to complete the update on between 1 and 4 machines (3
   Sun SPARCstation 20s and a dual-processor Sparcserver 690) without
   full dedication over a couple of days.  Further, by coupling
   incremental updates with periodic refresh of existing data (which can
   be done during another part of the month and doesn't require full
   dedication of machine hardware), older records would be periodically
   updated when the underlying information changes.  The tradeoff is
   timeliness and accuracy of data (some data in the database may be
   old) against hardware and processing costs.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>. Directory Presentation: Distributed vs Monolithic</span>

   While a distributed directory is a desirable goal, we maintained our
   database as a monolithic structure.  Given past growth, it is not
   clear at what point migrating to a distributed directory becomes
   actually necessary to support customer queries.  Our last database
   contained over 3.25 million records in a flat ASCII file.  Searching
   was done via a PERL script of an inverted tree (also produced by a
   PERL script).  While admittedly primitive, this configuration
   supported over 200,000 database queries per month from our production
   servers.

   Increasing the database size only requires more disk space to hold
   the database and inverted tree. Of course, using database technology
   would probably improve performance and scalability, but we had not
   reached the point where this technology was required.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>. Security Considerations</span>

   The underlying data for the type of directory discussed in this
   document is already generally available through WHOIS, DNS, and other
   standard interfaces.  No new information is made available by using
   these techniques though many types of search become much easier.  To
   the extent that easier access to this data makes it easier to find
   specific sites or machines to attack, security may be decreased.

   The protocols discussed here do not have built-in security features.
   If one source machine is spoofed while the directory data is being
   gathered, substantial amounts of incorrect and misleading data could
   be pulled in to the directory and be spread to a wider audience.







<span class="grey">Moats &amp; Huber                Informational                      [Page 4]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc2517.html">RFC 2517</a>             Building Directories from DNS         February 1999</span>


   In general, building a directory from registry data will not open any
   new security holes since the data is already available to the public.
   Existing security and accuracy problems with the data sources are
   likely to be amplified.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>. Acknowledgments</span>

   This work described in this document was partially supported by the
   National Science Foundation under Cooperative Agreement NCR-9218179.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>. References</span>

   [<a name="ref-1" id="ref-1">1</a>] M. F. Schwartz, C. Pu.  "Applying an Information
       Gathering Architecture to Netfind: A White Pages Tool for a
       Changing and Growing Internet", University of Colorado Technical
       Report CU-CS-656-93.  December 1993, revised July 1994.

       URL:ftp://ftp.cs.colorado.edu/pub/cs/techreports/schwartz/Netfind

   [<a name="ref-2" id="ref-2">2</a>] Sollins, K., "Plan for Internet Directory Services", <a href="rfc1107.html">RFC 1107</a>,
       July 1989.

   [<a name="ref-3" id="ref-3">3</a>] Hardcastle-Kille, S., Huizer, E., Cerf, V., Hobby, R. and S.
       Kent, "A Strategic Plan for Deploying an Internet X.500 Directory
       Service", <a href="rfc1430.html">RFC 1430</a>, February 1993.

   [<a name="ref-4" id="ref-4">4</a>] Postel, J. and  C. Anderson, "White Pages Meeting Report", <a href="rfc1588.html">RFC</a>
       <a href="rfc1588.html">1588</a>, February 1994.

   [<a name="ref-5" id="ref-5">5</a>] M. Lottor, "Network Wizards Internet Domain Survey", available
       from <a href="http://www.nw.com/zone/WWW/top.html">http://www.nw.com/zone/WWW/top.html</a>




















<span class="grey">Moats &amp; Huber                Informational                      [Page 5]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc2517.html">RFC 2517</a>             Building Directories from DNS         February 1999</span>


<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>. Authors' Addresses</span>

   Ryan Moats
   AT&amp;T
   15621 Drexel Circle
   Omaha, NE 68135-2358
   USA

   EMail:  jayhawk@att.com


   Rick Huber
   AT&amp;T
   Room C3-3B30, 200 Laurel Ave. South
   Middletown, NJ 07748
   USA

   EMail: rvh@att.com

































<span class="grey">Moats &amp; Huber                Informational                      [Page 6]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc2517.html">RFC 2517</a>             Building Directories from DNS         February 1999</span>


<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























Moats &amp; Huber                Informational                      [Page 7]

</pre><br />
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>
</body>
<!-- Mirrored from tools.ietf.org/html/rfc2517 by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Mar 2014 18:46:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>
