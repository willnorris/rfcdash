<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc5553 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:43 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-bradford-ccamp-path-key-ero" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:5553" name="DC.Identifier"/>
<meta content="May, 2009" name="DC.Date.Issued"/>
<meta content="Adrian Farrel &lt;adrian@olddog.co.uk&gt;" name="DC.Creator"/>
<meta content="The paths taken by Multiprotocol Label Switching (MPLS) and\nGeneralized MPLS (GMPLS) Traffic Engineering (TE) Label Switched Paths\n(LSPs) may be computed by Path Computation Elements (PCEs). Where the\nTE LSP crosses multiple domains, such as Autonomous Systems (ASes),\nthe path may be computed by multiple PCEs that cooperate, with each\nresponsible for computing a segment of the path.  To preserve\nconfidentiality of topology within each AS, the PCEs support a\nmechanism to hide the contents of a segment of a path (such as the\nsegment of the path that traverses an AS), called the Confidential\nPath Segment (CPS), by encoding the contents as a Path Key Subobject\n(PKS) and embedding this subobject within the result of its path\ncomputation.  This document describes how to carry Path Key Subobjects\nin the Resource Reservation Protocol (RSVP) Explicit Route Objects\n(EROs) and Record Route Objects (RROs) so as to facilitate\nconfidentiality in the signaling of inter-domain TE LSPs. [STANDARDS-\nTRACK]" name="DC.Description.Abstract"/>
<meta content="Resource Reservation Protocol (RSVP) Extensions for Path Key Support" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 5553 - Resource Reservation Protocol (RSVP) Extensions for Path Key Support</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc5553.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc5553" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-ccamp-path-key-ero" title="draft-ietf-ccamp-path-key-ero">draft-ietf-ccamp-...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5553" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc5553" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                     A. Farrel, Ed.
Request for Comments: 5553                            Old Dog Consulting
Category: Standards Track                                    R. Bradford
                                                             JP. Vasseur
                                                     Cisco Systems, Inc.
                                                                May 2009


  <span class="h1">Resource Reservation Protocol (RSVP) Extensions for Path Key Support</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.











<span class="grey">Farrel, et al.              Standards Track                     [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


Abstract

   The paths taken by Multiprotocol Label Switching (MPLS) and
   Generalized MPLS (GMPLS) Traffic Engineering (TE) Label Switched
   Paths (LSPs) may be computed by Path Computation Elements (PCEs).
   Where the TE LSP crosses multiple domains, such as Autonomous Systems
   (ASes), the path may be computed by multiple PCEs that cooperate,
   with each responsible for computing a segment of the path.

   To preserve confidentiality of topology within each AS, the PCEs
   support a mechanism to hide the contents of a segment of a path (such
   as the segment of the path that traverses an AS), called the
   Confidential Path Segment (CPS), by encoding the contents as a Path
   Key Subobject (PKS) and embedding this subobject within the result of
   its path computation.

   This document describes how to carry Path Key Subobjects in the
   Resource Reservation Protocol (RSVP) Explicit Route Objects (EROs)
   and Record Route Objects (RROs) so as to facilitate confidentiality
   in the signaling of inter-domain TE LSPs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Multiprotocol Label Switching (MPLS) and Generalized MPLS (GMPLS)
   Traffic Engineering (TE) Label Switched Paths (LSPs) are signaled
   using the TE extensions to the Resource Reservation Protocol (RSVP-
   TE) [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>], [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].  The routes followed by MPLS and GMPLS TE
   LSPs may be computed by Path Computation Elements (PCEs) [<a href="rfc4655.html" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>].

   Where the TE LSP crosses multiple domains [<a href="rfc4726.html" title='"A Framework for Inter-Domain Multiprotocol Label Switching Traffic Engineering"'>RFC4726</a>], such as
   Autonomous Systems (ASes), the path may be computed by multiple PCEs
   that cooperate, with each responsible for computing a segment of the
   path.  To preserve confidentiality of topology with each AS, the PCE
   Communications Protocol (PCEP) [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>] supports a mechanism to hide
   the contents of a segment of a path, called the Confidential Path
   Segment (CPS), by encoding the contents as a Path Key Subobject (PKS)
   [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>].

   This document defines RSVP-TE protocol extensions necessary to
   support the use of Path Key Subobjects in MPLS and GMPLS signaling by
   including them in Explicit Route Objects (EROs) and Record Route
   Object (RROs) so as to facilitate confidentiality in the signaling of
   inter-domain TE LSPs.








<span class="grey">Farrel, et al.              Standards Track                     [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Usage%20Scenario"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Usage Scenario</span>

   Figure 1 shows a simple network constructed of two ASes.  An LSP is
   desired from the ingress in AS-1 to the egress in AS-2.  As described
   in [<a href="rfc4655.html" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>], the ingress Label Switching Router (LSR) acts as a Path
   Computation Client (PCC) and sends a request to its PCE (PCE-1).
   PCE-1 can compute the path within AS-1 but has no visibility into
   AS-2.  So PCE-1 cooperates with PCE-2 to complete the path
   computation.

   However, PCE-2 does not want to share the information about the path
   across AS-2 with nodes outside the AS.  So, as described in
   [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>], PCE-2 reports the AS-2 path segment using a PKS rather
   than the explicit details of the path.

   PCE-1 can now return the path to be signaled to the ingress LSR in a
   path computation response with the AS-2 segment still hidden as a
   PKS.

   In order to set up the LSP, the ingress LSR signals using RSVP-TE and
   encodes the path reported by PCE-1 in the Explicit Route Object
   (ERO).  This process is as normal for RSVP-TE but requires that the
   PKS is also included in the ERO, using the mechanisms defined in this
   document.

   When the signaling message (the RSVP-TE Path message) reaches ASBR-2
   (Autonomous System Border Router), it consults PCE-2 to 'decode' the
   PKS and return the expanded explicit path segment to ASBR-2.  (The
   information that PCE-2 uses to decode the PKS is encoded within the
   PKS itself.) The PKS is replaced in the ERO with the expanded
   information about the path.














<span class="grey">Farrel, et al.              Standards Track                     [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


    -----------------------------    ----------------------------
   |                       AS-1  |  |                      AS-2  |
   |                             |  |                            |
   |     -------                 |  |    -------                 |
   |    | PCE-1 |&lt;---------------+--+--&gt;| PCE-2 |                |
   |     -------                 |  |    -------                 |
   |      ^                      |  |    ^                       |
   |      |                      |  |    |                       |
   |      v                      |  |    v                       |
   |  -------              ----  |  |  ----                      |
   | |  PCC  |   -    -   |ASBR| |  | |ASBR|   -    -    ------  |
   | |Ingress|--|A|--|B|--|  1 |-+--+-|  2 |--|C|--|D|--|Egress| |
   |  -------    -    -    ----- |  |  ----    -    -    ------  |
   |                             |  |                            |
    -----------------------------    ----------------------------

       Figure 1: A Simple Network to Demonstrate the Use of the PKS

   Note that PCE-2 may in some case be co-located with ASBR-2.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   CPS: Confidential Path Segment.  A segment of a path that contains
        nodes and links that the AS policy requires to not be disclosed
        outside the AS.

   PCE: Path Computation Element.  An entity (component, application, or
        network node) that is capable of computing a network path or
        route based on a network graph and applying computational
        constraints.

   PKS: Path Key Subobject.  A subobject of an Explicit Route Object
        that encodes a CPS so as to preserve confidentiality.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20RSVP-TE%20Path%20Key%20Subobject"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  RSVP-TE Path Key Subobject</span>

   The Path Key Subobject (PKS) may be carried in the Explicit Route
   Object (ERO) of an RSVP-TE Path message [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>].  The PKS is a
   fixed-length subobject containing a Path Key and a PCE-ID.  The Path
   Key is an identifier or token used to represent the CPS within the
   context of the PCE identified by the PCE-ID.  The PCE-ID identifies
   the PCE that can decode the Path Key using a reachable IPv4 or IPv6
   address of the PCE.  In most cases, the decoding PCE is also the PCE
   that computed the Path Key and the associated path.  Because of the
   IPv4 and IPv6 variants, two subobjects are defined as follows.






<span class="grey">Farrel, et al.              Standards Track                     [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |L|    Type     |     Length    |           Path Key            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    PCE-ID (4 bytes)                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Figure 2: RSVP-TE Path Key Subobject using an
                        IPv4 address for the PCE-ID

     L

       The L bit SHOULD NOT be set, so that the subobject represents a
       strict hop in the explicit route.

     Type

       Subobject Type for a Path Key with a 32-bit PCE-ID as assigned by
       IANA.

     Length

       The Length contains the total length of the subobject in bytes,
       including the Type and Length fields.  The Length is always 8.

     PCE-ID

       A 32-bit identifier of the PCE that can decode this key.  The
       identifier MUST be unique within the scope of the domain that the
       CPS crosses and MUST be understood by the LSR that will act as
       PCC for the expansion of the PKS.  The interpretation of the
       PCE-ID is subject to domain-local policy.  It MAY be an IPv4
       address of the PCE that is always reachable and MAY be an address
       that is restricted to the domain in which the LSR that is called
       upon to expand the CPS lies.  Other values that have no meaning
       outside the domain (for example, the Router ID of the PCE) MAY be
       used to increase security or confidentiality.













<span class="grey">Farrel, et al.              Standards Track                     [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |L|    Type     |     Length    |           Path Key            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        PCE-ID (16 bytes)                      |
    |                                                               |
    |                                                               |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Figure 3: RSVP-TE Path Key Subobject using an
                        IPv6 address for the PCE-ID

     L

       As above.

     Type

       Subobject Type for a Path Key with a 128-bit PCE-ID as assigned
       by IANA.

     Length

       The Length contains the total length of the subobject in bytes,
       including the Type and Length fields.  The Length is always 20.

     PCE-ID

       A 128-bit identifier of the PCE that can decode this key.  The
       identifier MUST be unique within the scope of the domain that the
       CPS crosses and MUST be understood by the LSR that will act as
       PCC for the expansion of the PKS.  The interpretation of the
       PCE-ID is subject to domain-local policy.  It MAY be an IPv6
       address of the PCE that is always reachable, and MAY be an
       address that is restricted to the domain in which the LSR that is
       called upon to expand the CPS lies.  Other values that have no
       meaning outside the domain (for example, the IPv6 TE Router ID)
       MAY be used to increase security (see <a href="#section-4">Section 4</a>).

   Note: The twins of these subobjects are carried in PCEP messages as
   defined in [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>].








<span class="grey">Farrel, et al.              Standards Track                     [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Explicit%20Route%20Object%20Processing%20Rules"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Explicit Route Object Processing Rules</span>

   The basic processing rules of an ERO are not altered.  Refer to
   [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>] for details.  In particular, an LSR is not required to
   "look ahead" in the ERO beyond the first subobject that is non-local.

   [<a id="ref-RFC5520" name="ref-RFC5520">RFC5520</a>] requires that any path fragment generated by a PCE that
   contains a PKS be such that the PKS is immediately preceded by a
   subobject that identifies the head end of the PKS (for example, an
   incoming interface or a node ID).  This rule is extended to the PKS
   in the ERO so that the following rules are defined.

   - If an LSR receives a Path message where the first subobject of the
     ERO is a PKS, it MUST respond with a PathErr message carrying the
     error code/value combination "Routing Problem" / "Bad initial
     subobject".

   - If an LSR strips all local subobjects from an ERO carried in a Path
     message (according to the procedures in [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]) and finds that
     the next subobject is a PKS, it MUST attempt to resolve the PKS to
     a CPS.

     Resolution of the PKS MAY take any of the following forms or use
     some other technique subject to local policy and network
     implementation.

     o The LSR can use the PCE-ID contained in the PKS to contact the
       identified PCE using PCEP [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>] and request that the PKS be
       expanded.

     o The LSR can contact any PCE using PCEP [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>] to request that
       the PKS be expanded, relying on cooperation between the PCEs.

     o The LSR can use the information in the PKS to index a CPS
       previously supplied to it by the PCE that originated the PKS.

     If a CPS is derived, the path fragment SHOULD be inserted into the
     ERO of the Path message as a direct replacement for the PKS.  Other
     processing of the CPS and ERO are permitted as described in
     [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>].

     This processing can give rise to the following error cases:

     o PCE-ID cannot be matched to a PCE to decode the PKS.

       The LSR sends a PathErr message with the error code "Routing
       Problem" and the new error value "Unknown PCE-ID for PKS
       expansion" (see <a href="#section-6.3">Section 6.3</a>).



<span class="grey">Farrel, et al.              Standards Track                     [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


     o PCE identified by the PCE-ID cannot be reached.

       The LSR sends a PathErr message with the error code "Routing
       Problem" and the new error value "Unreachable PCE for PKS
       expansion" (see <a href="#section-6.3">Section 6.3</a>).

     o The PCE is unable to decode the PKS, perhaps because the Path Key
       has expired.

       The LSR sends a PathErr message with the error code "Routing
       Problem" and the new error value "Unknown Path Key for PKS
       expansion" (see <a href="#section-6.3">Section 6.3</a>).

     o PKS cannot be decoded for policy reasons.

       The LSR sends a PathErr message with the error code "Policy
       Control Failure" and the error value "Inter-domain policy
       failure".

     o Addition of CPS to ERO causes Path message to become too large.

       The LSR MAY replace part of the ERO with loose hops [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>] or
       with a further PKS, according to local policy, if the loss of
       specifics within the explicit path is acceptable.  If the LSR is
       unable to take steps to reduce the size of the ERO, it MUST send
       a PathErr message with the error code "Routing Problem" and the
       new error value "ERO too large for MTU" (see <a href="#section-6.3">Section 6.3</a>).

   - An LSR that is called on to process a PKS within an ERO but that
     does not recognize the subobject, will react according to [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]
     and send a PathErr message with the error code/value combination
     "Routing Problem" / "Bad Explicit Route Object".

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Reporting%20Path%20Key%20Segments%20in%20Record%20Route%20Objects"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Reporting Path Key Segments in Record Route Objects</span>

   The Record Route Object (RRO) is used in RSVP-TE to record the route
   traversed by an LSP.  The RRO may be present on a Path message and on
   a Resv message.  The intention of [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>] is that an RRO on a Resv
   message that is received by an ingress LSR is suitable for use as an
   ERO on a Path message sent by that LSR to achieve an identical LSP.

   The PKS offers an alternative that can be more useful to diagnostics.
   When the signaling message crosses a domain boundary, the path
   segment that needs to be hidden (that is, a CPS) MAY be replaced in
   the RRO with a PKS.  In the case of an RRO on a Resv message, the PKS
   used SHOULD be the one originally signaled in the ERO of the Path
   message.  On a Path message, the PKS SHOULD identify the LSR
   replacing the CPS and provide a Path Key that can be used to expand



<span class="grey">Farrel, et al.              Standards Track                     [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


   the path segment.  In the latter case, the Path Key and its expansion
   SHOULD be retained by the LSR that performs the substitution for at
   least the lifetime of the LSP.  In both cases, the expansion of the
   PKS SHOULD be made available to diagnostic tools under the control of
   local policy.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Security Considerations</span>

   The protocol interactions required by the mechanisms described in
   this document are point-to-point and can be authenticated and made
   secure as described in [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>] and [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>].  The protocol
   interactions for PCEP are listed in [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>], while general
   considerations for securing RSVP-TE in MPLS-TE and GMPLS networks can
   be found in [<a href="#ref-MPLS-SEC" title='"Security Framework for MPLS and GMPLS Networks"'>MPLS-SEC</a>].

   Thus, security issues can be dealt with using standard techniques for
   securing and authenticating point-to-point communications.  In
   addition, it is RECOMMENDED that the PCE providing a PKS expansion
   check that the LSR that issued the request for PKS expansion is the
   head end of the resulting CPS.

   Further protection can be provided by using a PCE-ID to identify the
   decoding PCE that is only meaningful within the domain that contains
   the LSR at the head of the CPS.  This may be either an IP address
   that is only reachable from within the domain or some non-address
   value.  The former requires configuration of policy on the PCEs; the
   latter requires domain-wide policy.

   The following specific security issues need to be considered.

   - Confidentiality of the CPS.  The question to be answered is whether
     other network elements can probe a PCE for the expansion of PKSs,
     possibly generating Path Keys at random.  This can be protected
     against by only allowing PKS expansion to be successfully completed
     if requested by the LSR that is at the head end of the resulting
     CPS.  Under specific circumstances, PKS expansion might also be
     allowed by configured management stations.

     The CPS itself may be kept confidential as it is exchanged in the
     PCEP and RSVP-TE protocols using standard security mechanisms
     defined for those protocols.

   - Determination of information by probing.  In addition to the
     probing described above, a node might deduce information from the
     error responses that are generated when PKS expansion fails as
     described in <a href="#section-3.1">Section 3.1</a>.  Any LSR that determines that supplying
     one of the detailed error codes described in <a href="#section-3.1">Section 3.1</a> might




<span class="grey">Farrel, et al.              Standards Track                     [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


     provide too much information that could be used as part of a
     systematic attack MAY simply use the error code/value "Policy
     Control Failure" / "Inter-domain policy failure" in all cases.

   - Authenticity of the Path Key.  A concern is that the Path Key in
     the PKS will be altered or faked, leading to erroneous Path Key
     expansion and use of the wrong CPS.  The consequence would be a bad
     ERO in a Path message, causing the LSP to be set up incorrectly and
     resulting in incorrect network resource usage, diversion of traffic
     to where it can be intercepted, or failure to set up the LSP.
     These problems can be prevented by protecting the protocol
     exchanges in PCEP and RSVP-TE using the security techniques
     described in [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>], [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>], and [<a href="#ref-MPLS-SEC" title='"Security Framework for MPLS and GMPLS Networks"'>MPLS-SEC</a>].

   - Resilience to denial-of-service (DoS) attacks.  A PCE can be
     attacked through a flood of Path Key expansion requests -- this
     issue is addressed in [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>] and is out of scope for this
     document.  A further attack might consist of sending a flood of
     RSVP-TE Path messages with deliberately spurious PKSs.  This attack
     is prevented by ensuring the integrity of the Path messages using
     standard RSVP-TE security mechanisms and by enforcing the RSVP-TE
     chain-of-trust security model.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Manageability%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Manageability Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Control%20of%20Function%20through%20Configuration%20and%20Policy"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Control of Function through Configuration and Policy</span>

   Policy forms an important part of the use of PKSs in EROs and RROs.
   There are local and domain-wide policies that SHOULD be available for
   configuration in an implementation.

   - Handling of an ERO containing a PKS.  As described in <a href="#section-3.1">Section 3.1</a>,
     an LSR that receives a Path message containing a PKS can be
     configured to reject the Path message according to policy.

   - Handling of PKS requests at a PCE.  As described in <a href="#section-3.1">Section 3.1</a>, in
     [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>], and in [<a href="rfc5394.html" title='"Policy-Enabled Path Computation Framework"'>RFC5394</a>], a PCE can be configured with policy
     regarding how it should handle requests for PKS expansion.

   - PKS expansion.  <a href="#section-3.1">Section 3.1</a> explains that the PKS can be expanded
     by the local LSR, the specific PCE identified in the PKS, any PCE
     acting as a proxy, or by some other method.  The behavior of the
     LSR needs to be locally configurable but is subject to the domain-
     wide policy.

   - Interpretation of PCE-ID.  The interpretation of the PCE-ID
     component of PKSs is subject to domain-local policy and needs to be
     configurable as such.  See <a href="#section-3">Section 3</a> and <a href="#section-4">Section 4</a> for the options.



<span class="grey">Farrel, et al.              Standards Track                    [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


   - ERO too large.  The behavior of an LSR when it finds that adding a
     CPS to the ERO causes the Path message to be too large is an
     implementation choice.  However, implementations may choose to
     provide configuration of behavior as described in <a href="#section-3.1">Section 3.1</a>.

   - Masking of RRO.  As described in <a href="#section-3.2">Section 3.2</a>, a border router can
     choose to mask segments of the path by replacing them with PKSs.
     This behavior needs to be configurable, with the default being to
     not hide any part of the RRO.

   - Inspection / decoding of PKS by diagnostic tools.  A PCE can allow
     access from management or diagnostic tools to request the expansion
     of a PKS.  Note that this must be regulated with the security and
     confidentiality behavior described in <a href="#section-4">Section 4</a>.

   - Hiding of reason codes.  An LSR can support the configuration of
     local policy to hide reason codes associated with the failure to
     expand a PKS and, as described in <a href="#section-4">Section 4</a>, report all errors as
     policy failures.

   The treatment of a path segment as a CPS, and its substitution in a
   PCRep ERO with a PKS, is a PCE function and is described in
   [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  IANA Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Explicit%20Route%20Object%20Subobjects"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Explicit Route Object Subobjects</span>

   IANA maintains a registry called "Resource Reservation Protocol
   (RSVP) Parameters" with a subregistry called "Class Names, Class
   Numbers, and Class Types".

   Within this subregistry, there is a definition of the EXPLICIT_ROUTE
   object with Class Number 20.  The object definition lists a number of
   acceptable subobjects for the Class Type 1.

   IANA has allocated two further subobjects as described in <a href="#section-3">Section 3</a>.
   The resulting entry in the registry is as follows.

    20  EXPLICIT_ROUTE                                  [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]
        Class Types or C-Types:
          1   Type 1 Explicit Route                     [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]
              Subobject type
               64   Path Key with 32-bit PCE-ID         [<a href="rfc5553.html">RFC5553</a>]
               65   Path Key with 128-bit PCE-ID        [<a href="rfc5553.html">RFC5553</a>]






<span class="grey">Farrel, et al.              Standards Track                    [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


   Note well: [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>] defines the PKS for use in PCEP.  IANA has
   assigned the same subobject numbers for use in RSVP-TE as are
   assigned for the PKS in PCEP.  The numbers above are the same as in
   [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Record%20Route%20Objects%20Subobjects"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Record Route Objects Subobjects</span>

   IANA maintains a registry called "Resource Reservation Protocol
   (RSVP) Parameters" with a subregistry called "Class Names, Class
   Numbers, and Class Types".

   Within this subregistry, there is a definition of the ROUTE_RECORD
   object (also known as the RECORD_ROUTE object) with Class Number 21.
   The object definition lists a number of acceptable subobjects for the
   Class Type 1.

   IANA has allocated two further subobjects as described in <a href="#section-3">Section 3</a>.
   The resulting entry in the registry is as follows.

    21  ROUTE_RECORD                                    [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]
        (also known as RECORD_ROUTE)
        Class Types or C-Types:
          1   Type 1 Route Record                       [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]
              Subobject type
               64   Path Key with 32-bit PCE-ID         [<a href="rfc5553.html">RFC5553</a>]
               65   Path Key with 128-bit PCE-ID        [<a href="rfc5553.html">RFC5553</a>]

   Note well: IANA is requested to use the same subobject numbers as are
   defined for the EXPLICIT_ROUTE object in <a href="#section-6.1">Section 6.1</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Error%20Codes%20and%20Error%20Values"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Error Codes and Error Values</span>

   IANA maintains a registry called "Resource Reservation Protocol
   (RSVP) Parameters" with a subregistry called "Error Codes and
   Globally-Defined Error Value Sub-Codes".

   Within this subregistry, there is a definition of the "Routing
   Problem" error code with error code value 24.  The definition lists a
   number of error values that may be used with this error code.

   IANA has allocated further error values for use with this error code
   as described in <a href="#section-3.1">Section 3.1</a>.  The resulting entry in the registry is
   as follows.








<span class="grey">Farrel, et al.              Standards Track                    [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


   24  Routing Problem                             [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]

       This Error Code has the following globally defined Error
       Value sub-codes:

        31 = Unknown PCE-ID for PKS expansion      [<a href="rfc5553.html">RFC5553</a>]
        32 = Unreachable PCE for PKS expansion     [<a href="rfc5553.html">RFC5553</a>]
        33 = Unknown Path Key for PKS expansion    [<a href="rfc5553.html">RFC5553</a>]
        34 = ERO too large for MTU                 [<a href="rfc5553.html">RFC5553</a>]

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="http://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3209" name="ref-RFC3209">RFC3209</a>]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", <a href="rfc3209.html">RFC 3209</a>, December 2001.

   [<a id="ref-RFC3473" name="ref-RFC3473">RFC3473</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Resource ReserVation
              Protocol-Traffic Engineering (RSVP-TE) Extensions", <a href="rfc3473.html">RFC</a>
              <a href="rfc3473.html">3473</a>, January 2003.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-RFC4655" name="ref-RFC4655">RFC4655</a>]  Farrel, A., Vasseur, J.-P., and J. Ash, "A Path
              Computation Element (PCE)-Based Architecture", <a href="rfc4655.html">RFC 4655</a>,
              August 2006.

   [<a id="ref-RFC4726" name="ref-RFC4726">RFC4726</a>]  Farrel, A., Vasseur, J.-P., and A. Ayyangar, "A Framework
              for Inter-Domain Multiprotocol Label Switching Traffic
              Engineering", <a href="rfc4726.html">RFC 4726</a>, November 2006.

   [<a id="ref-RFC5394" name="ref-RFC5394">RFC5394</a>]  Bryskin, I., Papadimitriou, D., Berger, L., and J. Ash,
              "Policy-Enabled Path Computation Framework", <a href="rfc5394.html">RFC 5394</a>,
              December 2008.

   [<a id="ref-RFC5440" name="ref-RFC5440">RFC5440</a>]  Vasseur, JP., Ed., and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", <a href="rfc5440.html">RFC 5440</a>,
              March 2009.

   [<a id="ref-RFC5520" name="ref-RFC5520">RFC5520</a>]  Bradford, R., Ed., Vasseur, JP., and A. Farrel,
              "Preserving Topology Confidentiality in Inter-Domain Path
              Computation Using a Path-Key-Based Mechanism", <a href="rfc5520.html">RFC 5520</a>,
              April 2009.



<span class="grey">Farrel, et al.              Standards Track                    [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc5553.html">RFC 5553</a>          RSVP Extensions for Path Key Support          May 2009</span>


   [<a id="ref-MPLS-SEC" name="ref-MPLS-SEC">MPLS-SEC</a>] Fang, L., Ed., "Security Framework for MPLS and GMPLS
              Networks", Work in Progress, March 2009.

Authors' Addresses

   Adrian Farrel
   Old Dog Consulting
   EMail:  adrian@olddog.co.uk

   Rich Bradford
   Cisco Systems, Inc.
   1414 Massachusetts Avenue
   Boxborough, MA - 01719
   USA
   EMail: rbradfor@cisco.com

   Jean-Philippe Vasseur
   Cisco Systems, Inc
   11, Rue Camille Desmoulins
   L'Atlantis
   92782 Issy Les Moulineaux
   France
   EMail: jpv@cisco.com




























Farrel, et al.              Standards Track                    [Page 14]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc5553 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:43 GMT --></html>