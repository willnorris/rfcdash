<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6326 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Apr 2015 16:01:09 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.111" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-eastlake-isis-trill" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6326" name="DC.Identifier"/>
<meta content="July, 2011" name="DC.Date.Issued"/>
<meta content="Dutt, Dinesh G." name="DC.Creator"/>
<meta content="Perlman, Radia" name="DC.Creator"/>
<meta content="Ghanwani, Anoop" name="DC.Creator"/>
<meta content="Banerjee, Ayan" name="DC.Creator"/>
<meta content="Eastlake, Donald E." name="DC.Creator"/>
<meta content="The IETF has standardized the Transparent Interconnection of Lots of
Links (TRILL) protocol, which provides transparent Layer 2 forwarding
using encapsulation with a hop count and IS-IS link state routing.
This document specifies the data formats and code points for the IS-IS
extensions to support TRILL. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Transparent Interconnection of Lots of Links (TRILL) Use of IS-IS" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6326 - Transparent Interconnection of Lots of Links (TRILL) Use of IS-IS</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc6326.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc6326" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-isis-trill" title="draft-ietf-isis-trill">draft-ietf-isis-t...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6326" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc6326" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=6326">Errata</a>]        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc7176.html">7176</a>                                     PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Internet Engineering Task Force (IETF)                       D. Eastlake
Request for Comments: 6326                                        Huawei
Category: Standards Track                                    A. Banerjee
ISSN: 2070-1721                                                  D. Dutt
                                                                   Cisco
                                                              R. Perlman
                                                                   Intel
                                                             A. Ghanwani
                                                                 Brocade
                                                               July 2011


   <span class="h1">Transparent Interconnection of Lots of Links (TRILL) Use of IS-IS</span>

Abstract

   The IETF has standardized the Transparent Interconnection of Lots of
   Links (TRILL) protocol, which provides transparent Layer 2 forwarding
   using encapsulation with a hop count and IS-IS link state routing.
   This document specifies the data formats and code points for the
   IS-IS extensions to support TRILL.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6326">http://www.rfc-editor.org/info/rfc6326</a>.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in <a href="#section-4">Section 4</a>.e of



<span class="grey">Eastlake, et al.             Standards Track                    [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Conventions Used in This Document ..........................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. TLV and Sub-TLV Extensions to IS-IS for TRILL ...................<a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>. The Group Address TLV ......................................<a href="#page-3">3</a>
           <a href="#section-2.1.1">2.1.1</a>. The Group MAC Address Sub-TLV .......................<a href="#page-4">4</a>
      <a href="#section-2.2">2.2</a>. Multi-Topology-Aware Port Capability Sub-TLVs ..............<a href="#page-5">5</a>
           <a href="#section-2.2.1">2.2.1</a>. The Special VLANs and Flags Sub-TLV .................<a href="#page-6">6</a>
           <a href="#section-2.2.2">2.2.2</a>. Enabled-VLANs Sub-TLV ...............................<a href="#page-7">7</a>
           <a href="#section-2.2.3">2.2.3</a>. Appointed Forwarders Sub-TLV ........................<a href="#page-8">8</a>
      <a href="#section-2.3">2.3</a>. Sub-TLVs for the Router Capability TLV .....................<a href="#page-9">9</a>
           <a href="#section-2.3.1">2.3.1</a>. The TRILL Version Sub-TLV ...........................<a href="#page-9">9</a>
           <a href="#section-2.3.2">2.3.2</a>. The Nickname Sub-TLV ...............................<a href="#page-10">10</a>
           <a href="#section-2.3.3">2.3.3</a>. The Trees Sub-TLV ..................................<a href="#page-11">11</a>
           <a href="#section-2.3.4">2.3.4</a>. The Tree Identifiers Sub-TLV .......................<a href="#page-11">11</a>
           <a href="#section-2.3.5">2.3.5</a>. The Trees Used Identifiers Sub-TLV .................<a href="#page-12">12</a>
           <a href="#section-2.3.6">2.3.6</a>. Interested VLANs and Spanning Tree Roots Sub-TLV ...<a href="#page-12">12</a>
           <a href="#section-2.3.7">2.3.7</a>. The VLAN Group Sub-TLV .............................<a href="#page-15">15</a>
      <a href="#section-2.4">2.4</a>. MTU Sub-TLV of the Extended Reachability TLV ..............<a href="#page-15">15</a>
      <a href="#section-2.5">2.5</a>. TRILL Neighbor TLV ........................................<a href="#page-16">16</a>
   <a href="#section-3">3</a>. The MTU PDUs ...................................................<a href="#page-18">18</a>
   <a href="#section-4">4</a>. Use of Existing PDUs and TLVs ..................................<a href="#page-19">19</a>
      <a href="#section-4.1">4.1</a>. TRILL IIH PDUs ............................................<a href="#page-19">19</a>
      <a href="#section-4.2">4.2</a>. Area Address ..............................................<a href="#page-19">19</a>
      <a href="#section-4.3">4.3</a>. Protocols Supported .......................................<a href="#page-19">19</a>
   <a href="#section-5">5</a>. IANA Considerations ............................................<a href="#page-20">20</a>
      <a href="#section-5.1">5.1</a>. Allocations from Existing Registries ......................<a href="#page-20">20</a>
      <a href="#section-5.2">5.2</a>. New Sub-Registries Created ................................<a href="#page-21">21</a>
   <a href="#section-6">6</a>. Security Considerations ........................................<a href="#page-22">22</a>
   <a href="#section-7">7</a>. References .....................................................<a href="#page-22">22</a>
      <a href="#section-7.1">7.1</a>. Normative References ......................................<a href="#page-22">22</a>
      <a href="#section-7.2">7.2</a>. Informative References ....................................<a href="#page-23">23</a>
   <a href="#section-8">8</a>. Acknowledgements ...............................................<a href="#page-23">23</a>
   <a href="#appendix-A">Appendix A</a>. Initial IS-IS PDU Registry ............................<a href="#page-24">24</a>













<span class="grey">Eastlake, et al.             Standards Track                    [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Introduction</span>

   The IETF has standardized the TRILL protocol [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>], which
   provides transparent Layer 2 forwarding using encapsulation with a
   hop count and link state routing.  TRILL provides optimal pair-wise
   forwarding without configuration, safe forwarding even during periods
   of temporary loops, and support for multipathing of both unicast and
   multicast traffic as well as supporting VLANs.  Intermediate Systems
   (ISs) implementing TRILL can incrementally replace IEEE [<a href="#ref-802.1Q-2005" title='"IEEE Standard for Local and metropolitan area networks / Virtual Bridged Local Area Networks"'>802.1Q-2005</a>]
   bridges.

   This document, in conjunction with [<a href="rfc6165.html" title='"Extensions to IS-IS for Layer-2 Systems"'>RFC6165</a>], specifies the data
   formats and code points for the IS-IS [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>] [<a href="rfc1195.html" title='"Use of OSI IS-IS for Routing in TCP/IP and Dual Environments"'>RFC1195</a>]
   extensions to support TRILL.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The terminology and acronyms defined in [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>] are used herein
   with the same meaning.

   Additional acronyms used in this document are:

      IIH - IS-IS Hello

      IS - Intermediate System (for this document, all relevant
           intermediate systems are RBridges)

      NLPID - Network Layer Protocol Identifier

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20TLV%20and%20Sub-TLV%20Extensions%20to%20IS-IS%20for%20TRILL"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  TLV and Sub-TLV Extensions to IS-IS for TRILL</span>

   This section, in conjunction with [<a href="rfc6165.html" title='"Extensions to IS-IS for Layer-2 Systems"'>RFC6165</a>], specifies the data
   formats and code points for the TLVs and sub-TLVs added to IS-IS to
   support the TRILL standard.  Information as to the number of
   occurrences allowed, such as for a TLV in a PDU or set of PDUs or for
   a sub-TLV in a TLV, is provided in <a href="#section-5">Section 5</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20The%20Group%20Address%20TLV"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>. The Group Address TLV</span>

   The Group Address (GADDR) TLV, IS-IS TLV type 142, is carried only in
   an LSP PDU and carries sub-TLVs that in turn advertise multicast
   group listeners.  <a href="#section-2.1.1">Section 2.1.1</a> below specifies a sub-TLV that
   advertises listeners by MAC address.  It is anticipated that




<span class="grey">Eastlake, et al.             Standards Track                    [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   additional sub-TLVs for additional address types such as IP addresses
   will be specified in other documents.  The sub-TLVs under GADDR
   constitute a new series of sub-TLV types (see <a href="#section-5.2">Section 5.2</a>).

   GADDR has the following format:

   +-+-+-+-+-+-+-+-+
   |Type=GADDR-TLV |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      sub-TLVs...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: TLV Type, set to GADDR-TLV 142.

   o  Length: variable depending on the sub-TLVs carried.

   o  sub-TLVs: The Group Address TLV value consists of sub-TLVs
      formatted as described in [<a href="rfc5305.html" title='"IS-IS Extensions for Traffic Engineering"'>RFC5305</a>].

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.1.1.%20%20The%20Group%20MAC%20Address%20Sub-TLV"></a><a class="selflink" href="#section-2.1.1" name="section-2.1.1">2.1.1</a>.  The Group MAC Address Sub-TLV</span>

   The Group MAC Address (GMAC-ADDR) sub-TLV is sub-TLV type number 1
   within the GADDR TLV.  In TRILL, it is used to advertise multicast
   listeners as specified in <a href="rfc6325.html#section-4.5.5">Section 4.5.5 of [RFC6325]</a>.  It has the
   following format:

   +-+-+-+-+-+-+-+-+
   |Type=GMAC-ADDR |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  RESV |     Topology-ID       |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  RESV |     VLAN ID           |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Num Group Recs |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   GROUP RECORDS (1)                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   .................                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   GROUP RECORDS (N)                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+






<span class="grey">Eastlake, et al.             Standards Track                    [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   where each group record is of the form:

   +-+-+-+-+-+-+-+-+
   | Num of Sources|                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Group Address         (6 bytes)             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Source 1 Address      (6 bytes)             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Source 2 Address      (6 bytes)             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    .....                                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Source M Address      (6 bytes)             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: GADDR sub-TLV type, set to 1 (GMAC-ADDR).

   o  Length: Variable, minimum 5.

   o  RESV: Reserved.  4-bit fields that MUST be sent as zero and
      ignored on receipt.

   o  Topology-ID: This field is not used in TRILL, where it is sent as
      zero and ignored on receipt, but is included for use by other
      technologies.

   o  VLAN ID: This carries the 12-bit VLAN identifier for all
      subsequent MAC addresses in this sub-TLV, or the value zero if no
      VLAN is specified.

   o  Number of Group Records: A 1-byte integer that is the number of
      group records in this sub-TLV.

   o  Group Record: Each group record carries the number of sources.  It
      then has a 48-bit multicast address followed by 48-bit source MAC
      addresses.  If the sources do not fit in a single sub-TLV, the
      same group address may be repeated with different source addresses
      in another sub-TLV of another instance of the Group Address TLV.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Multi-Topology-Aware%20Port%20Capability%20Sub-TLVs"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Multi-Topology-Aware Port Capability Sub-TLVs</span>

   TRILL makes use of the Multi-Topology-Aware Port Capability
   (MT-PORT-CAP) TLV as specified in [<a href="rfc6165.html" title='"Extensions to IS-IS for Layer-2 Systems"'>RFC6165</a>].  The remainder of this
   section specifies the sub-TLVs that TRILL uses the MT-PORT-CAP TLV to
   transport.





<span class="grey">Eastlake, et al.             Standards Track                    [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.2.1.%20%20The%20Special%20VLANs%20and%20Flags%20Sub-TLV"></a><a class="selflink" href="#section-2.2.1" name="section-2.2.1">2.2.1</a>.  The Special VLANs and Flags Sub-TLV</span>

   In TRILL, a Special VLANs and Flags (VLAN-Flags) sub-TLV is carried
   in every IIH PDU.  It has the following format:

   +-+-+-+-+-+-+-+-+
   |     Type      |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +---------------+---------------+
   |    Port ID                    |  (2 bytes)
   +-------------------------------+
   |     Sender Nickname           |  (2 bytes)
   +--+--+--+--+-------------------+
   |AF|AC|VM|BY|    Outer.VLAN     |  (2 bytes)
   +--+--+--+--+-------------------+
   |TR|R |R |R |    Desig.VLAN     |  (2 bytes)
   +--+--+--+--+-------------------+

   o  Type: sub-TLV type, set to MT-PORT-CAP VLAN-FLAGs sub-TLV 1.

   o  Length: 8.

   o  Port ID: An ID for the port on which the enclosing TRILL IIH PDU
      is being sent as specified in <a href="rfc6325.html#section-4.4.2">[RFC6325], Section 4.4.2</a>.

   o  Sender Nickname: If the sending IS is holding any nicknames as
      discussed in <a href="rfc6325.html#section-3.7">[RFC6325], Section 3.7</a>, one MUST be included here.
      Otherwise, the field is set to zero.  This field is to support
      intelligent end stations that determine the egress IS (RBridge)
      for unicast data through a directory service or the like and that
      need a nickname for their first hop to insert as the ingress
      nickname to correctly format a TRILL encapsulated data frame.  See
      <a href="rfc6325.html#section-4.6.2">[RFC6325], Section 4.6.2</a>, point 8.

   o  Outer.VLAN: A copy of the 12-bit outer VLAN ID of the TRILL IIH
      frame containing this sub-TLV when that frame was sent, as
      specified in <a href="rfc6325.html#section-4.4.5">[RFC6325], Section 4.4.5</a>.

   o  Desig.VLAN: The 12-bit ID of the designated VLAN for the link, as
      specified in <a href="rfc6325.html#section-4.2.4.2">[RFC6325], Section 4.2.4.2</a>.

   o  AF, AC, VM, BY, and TR: These flag bits have the following
      meanings when set to one, as specified in the listed section of
      [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>]:






<span class="grey">Eastlake, et al.             Standards Track                    [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


           <a href="rfc6325.html">RFC 6325</a>
      Bit  Section    Meaning if bit is one
      --------------------------------------

      AF   4.4.2      Originating IS believes it is appointed forwarder
                      for the VLAN and port on which the containing IIH
                      PDU was sent.

      AC   4.9.1      Originating port configured as an access port
                      (TRILL traffic disabled).

      VM   4.4.5      VLAN mapping detected on this link.

      BY   4.4.2      Bypass pseudonode.

      TR   4.9.1      Originating port configured as a trunk port (end-
                      station service disabled).

   o  R: Reserved bit.  MUST be sent as zero and ignored on receipt.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.2.2.%20%20Enabled-VLANs%20Sub-TLV"></a><a class="selflink" href="#section-2.2.2" name="section-2.2.2">2.2.2</a>.  Enabled-VLANs Sub-TLV</span>

   The optional Enabled-VLANs sub-TLV specifies the VLANs enabled for
   end station service at the port of the originating IS on which the
   Hello was sent, as specified in <a href="rfc6325.html#section-4.4.2">[RFC6325], Section 4.4.2</a>.  It has the
   following format:

   +-+-+-+-+-+-+-+-+
   |     Type      |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | RESV  |  Start VLAN ID        |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | VLAN bit-map....
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: sub-TLV type, set to MT-PORT-CAP Enabled-VLANs sub-TLV 2.

   o  Length: Variable, minimum 3.

   o  RESV: 4 reserved bits that MUST be sent as zero and ignored on
      receipt.

   o  Start VLAN ID: The 12-bit VLAN ID that is represented by the high
      order bit of the first byte of the VLAN bit-map.





<span class="grey">Eastlake, et al.             Standards Track                    [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   o  VLAN bit-map: The highest order bit indicates the VLAN equal to
      the start VLAN ID, the next highest bit indicates the VLAN equal
      to start VLAN ID + 1, continuing to the end of the VLAN bit-map
      field.

   If this sub-TLV occurs more than once in a Hello, the set of enabled
   VLANs is the union of the sets of VLANs indicated by each of the
   Enabled-VLAN sub-TLVs in the Hello.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.2.3.%20%20Appointed%20Forwarders%20Sub-TLV"></a><a class="selflink" href="#section-2.2.3" name="section-2.2.3">2.2.3</a>.  Appointed Forwarders Sub-TLV</span>

   The DRB on a link uses the Appointed Forwarders sub-TLV to inform
   other ISs on the link that they are the designated VLAN-x forwarder
   for one or more ranges of VLAN IDs as specified in <a href="rfc6325.html#section-4.2.4">Section 4.2.4 of
   [RFC6325]</a>.  It has the following format:

   +-+-+-+-+-+-+-+-+
   |     Type      |                          (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                          (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Appointment Information (1)         |  (6 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   .................                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Appointment Information (N)         |  (6 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where each appointment is of the form:

   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Appointee Nickname              |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | RESV  |        Start.VLAN             |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | RESV  |        End.VLAN               |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: sub-TLV type, set to MT-PORT-CAP AppointedFwrdrs sub-TLV 3.

   o  Length: 6*n bytes, where there are n appointments.

   o  Appointee Nickname: The nickname of the IS being appointed a
      forwarder.

   o  RESV: 4 bits that MUST be sent as zero and ignored on receipt.





<span class="grey">Eastlake, et al.             Standards Track                    [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   o  Start.VLAN, End.VLAN: These fields are the VLAN IDs of the
      appointment range, inclusive.  To specify a single VLAN, the
      VLAN's ID appears as both the start and end VLAN.  As specified in
      <a href="rfc6325.html#section-4.4">Section 4.4 of [RFC6325]</a>, appointing an IS forwarder on a port for
      a VLAN not enabled on that port has no effect.

   An IS's nickname may occur as appointed forwarder for multiple VLAN
   ranges by occurrences of this sub-TLV within the same or different MT
   Port Capability TLVs within an IIH PDU.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Sub-TLVs%20for%20the%20Router%20Capability%20TLV"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Sub-TLVs for the Router Capability TLV</span>

   The Router Capability TLV is specified in [<a href="rfc4971.html" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>].  All of the sub-
   sections of this <a href="#section-2.3">Section 2.3</a> below specify sub-TLVs that can be
   carried in the Router Capability TLV for TRILL.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.1.%20%20The%20TRILL%20Version%20Sub-TLV"></a><a class="selflink" href="#section-2.3.1" name="section-2.3.1">2.3.1</a>.  The TRILL Version Sub-TLV</span>

   The TRILL Version (TRILL-VER) sub-TLV indicates the maximum version
   of the TRILL standard supported.  By implication, lower versions are
   also supported.  If this sub-TLV is missing, the originating IS only
   supports the base version of the protocol [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>].

   +-+-+-+-+-+-+-+-+
   | Type          |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   | Length        |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   | Max-version   |                  (1 byte)
   +-+-+-+-+-+-+-+-+

   o  Type: Router Capability sub-TLV type, set to 13 (TRILL-VER).

   o  Length: 1.

   o  Max-version: Set to maximum version supported.















<span class="grey">Eastlake, et al.             Standards Track                    [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.2.%20%20The%20Nickname%20Sub-TLV"></a><a class="selflink" href="#section-2.3.2" name="section-2.3.2">2.3.2</a>.  The Nickname Sub-TLV</span>

   The Nickname (NICKNAME) Router Capability sub-TLV carries information
   about the nicknames of the originating IS, along with information
   about its priority to hold those nicknames as specified in <a href="rfc6325.html#section-3.7.3">[RFC6325],
   Section 3.7.3</a>.  Multiple instances of this sub-TLV may be carried.

   +-+-+-+-+-+-+-+-+
   |Type = NICKNAME|                         (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                         (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                NICKNAME RECORDS (1)                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   .................                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                NICKNAME RECORDS (N)                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where each nickname record is of the form:

   +-+-+-+-+-+-+-+-+
   | Nickname.Pri  |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Tree Root Priority        |  (2 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Nickname            |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: Router Capability sub-TLV type, set to 6 (NICKNAME).

   o  Length: 5*N, where N is the number of nickname records present.

   o  Nickname.Pri: An 8-bit unsigned integer priority to hold a
      nickname as specified in <a href="rfc6325.html#section-3.7.3">Section 3.7.3 of [RFC6325]</a>.

   o  Tree Root Priority: This is an unsigned 16-bit integer priority to
      be a tree root as specified in <a href="rfc6325.html#section-4.5">Section 4.5 of [RFC6325]</a>.

   o  Nickname: This is an unsigned 16-bit integer as specified in
      <a href="rfc6325.html#section-3.7">Section 3.7 of [RFC6325]</a>.










<span class="grey">Eastlake, et al.             Standards Track                   [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.3.%20%20The%20Trees%20Sub-TLV"></a><a class="selflink" href="#section-2.3.3" name="section-2.3.3">2.3.3</a>.  The Trees Sub-TLV</span>

   Each IS providing TRILL service uses the TREES sub-TLV to announce
   three numbers related to the computation of distribution trees as
   specified in <a href="rfc6325.html#section-4.5">Section 4.5 of [RFC6325]</a>.  Its format is as follows:

   +-+-+-+-+-+-+-+-+
   |Type =  TREES  |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |  Length       |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Number of trees to compute    |  (2 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Maximum trees able to compute |  (2 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Number of trees to use        |  (2 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: Router Capability sub-TLV type, set to 7 (TREES).

   o  Length: 6.

   o  Number of trees to compute: An unsigned 16-bit integer as
      specified in <a href="rfc6325.html#section-4.5">Section 4.5 of [RFC6325]</a>.

   o  Maximum trees able to compute: An unsigned 16-bit integer as
      specified in <a href="rfc6325.html#section-4.5">Section 4.5 of [RFC6325]</a>.

   o  Number of trees to use: An unsigned 16-bit integer as specified in
      <a href="rfc6325.html#section-4.5">Section 4.5 of [RFC6325]</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.4.%20%20The%20Tree%20Identifiers%20Sub-TLV"></a><a class="selflink" href="#section-2.3.4" name="section-2.3.4">2.3.4</a>.  The Tree Identifiers Sub-TLV</span>

   The tree identifiers (TREE-RT-IDs) sub-TLV is an ordered list of
   nicknames.  When originated by the IS that has the highest priority
   tree root, it lists the distribution trees that the other ISs are
   required to compute as specified in <a href="rfc6325.html#section-4.5">Section 4.5 of [RFC6325]</a>.  If
   this information is spread across multiple sub-TLVs, the starting
   tree number is used to allow the ordered lists to be correctly
   concatenated.  The sub-TLV format is as follows:











<span class="grey">Eastlake, et al.             Standards Track                   [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   +-+-+-+-+-+-+-+-+
   |Type=TREE-RT-IDs|               (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Starting Tree Number         |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Nickname (K-th root)      |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Nickname (K+1 - th root)  |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Nickname (...)            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: Router Capability sub-TLV type, set to 8 (TREE-RT-IDs).

   o  Length: 2 + 2*n, where n is the number of nicknames listed.

   o  Starting Tree Number: This identifies the starting tree number of
      the nicknames that are trees for the domain.  This is set to 1 for
      the sub-TLV containing the first list.  Other Tree-Identifiers
      sub-TLVs will have the number of the starting list they contain.
      In the event a tree identifier can be computed from two such sub-
      TLVs and they are different, then it is assumed that this is a
      transient condition that will get cleared.  During this transient
      time, such a tree SHOULD NOT be computed unless such computation
      is indicated by all relevant sub-TLVs present.

   o  Nickname: The nickname at which a distribution tree is rooted.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.5.%20%20The%20Trees%20Used%20Identifiers%20Sub-TLV"></a><a class="selflink" href="#section-2.3.5" name="section-2.3.5">2.3.5</a>.  The Trees Used Identifiers Sub-TLV</span>

   This Router Capability sub-TLV has the same structure as the Tree
   Identifiers sub-TLV specified in <a href="#section-2.3.4">Section 2.3.4</a>.  The only difference
   is that its sub-TLV type is set to 9 (TREE-USE-IDs), and the trees
   listed are those that the originating IS wishes to use as specified
   in <a href="rfc6325.html#section-4.5">[RFC6325], Section 4.5</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.6.%20%20Interested%20VLANs%20and%20Spanning%20Tree%20Roots%20Sub-TLV"></a><a class="selflink" href="#section-2.3.6" name="section-2.3.6">2.3.6</a>.  Interested VLANs and Spanning Tree Roots Sub-TLV</span>

   The value of this Router Capability sub-TLV consists of a VLAN range
   and information in common to all of the VLANs in the range for the
   originating IS.  This information consists of flags, a variable
   length list of spanning tree root bridge IDs, and an appointed
   forwarder status lost counter, all as specified in the sections of
   [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>] listed with the respective information items below.





<span class="grey">Eastlake, et al.             Standards Track                   [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   In the set of LSPs originated by an IS, the union of the VLAN ranges
   in all occurrences of this sub-TLV MUST be precisely the set of VLANs
   for which the originating IS is appointed forwarder on at least one
   port, and the VLAN ranges in multiple VLANs sub-TLVs for an IS MUST
   NOT overlap unless the information provided about a VLAN is the same
   in every instance.  However, as a transient state these conditions
   may be violated.  If a VLAN is not listed in any INT-VLAN sub-TLV for
   an IS, that IS is assumed to be uninterested in receiving traffic for
   that VLAN.  If a VLAN appears in more than one INT-VLAN sub-TLV for
   an IS with different information in the different instances, the
   following apply:

      -  If those sub-TLVs provide different nicknames, it is
         unspecified which nickname takes precedence.
      -  The largest appointed forwarder status lost counter is used.
      -  The originating IS is assumed to be attached to a multicast
         IPv4 router for that VLAN if any of the INT-VLAN sub-TLVs
         assert that it is so connected and similarly for IPv6 multicast
         router attachment.
      -  The root bridge lists from all of the instances of the VLAN for
         the originating IS are merged.

   To minimize such occurrences, wherever possible, an implementation
   SHOULD advertise the update to an interested VLAN and Spanning Tree
   Roots sub-TLV in the same LSP fragment as the advertisement that it
   replaces.  Where this is not possible, the two affected LSP fragments
   should be flooded as an atomic action.  An IS that receives an update
   to an existing interested VLAN and Spanning Tree Roots sub-TLV can
   minimize the potential disruption associated with the update by
   employing a hold-down timer prior to processing the update so as to
   allow for the receipt of multiple LSP fragments associated with the
   same update prior to beginning processing.

   The sub-TLV layout is as follows:

   +-+-+-+-+-+-+-+-+
   |Type = INT-VLAN|                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Nickname                    |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+
   |   Interested VLANS                                  |  (4 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+
   |   Appointed Forwarder Status Lost Counter           |  (4 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+
   |         Root Bridges                                |  (6*n bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+



<span class="grey">Eastlake, et al.             Standards Track                   [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   o  Type: Router Capability sub-TLV type, set to 10 (INT-VLAN).

   o  Length: 10 + 6*n, where n is the number of root bridge IDs.

   o  Nickname: As specified in <a href="rfc6325.html#section-4.2.4.4">[RFC6325], Section 4.2.4.4</a>, this field
      may be used to associate a nickname held by the originating IS
      with the VLAN range indicated.  When not used in this way, it is
      set to zero.

   o  Interested VLANS: The Interested VLANs field is formatted as shown
      below.

        0    1    2    3     4 - 15      16 - 19     20 - 31
      +----+----+----+----+------------+----------+------------+
      | M4 | M6 |  R |  R | VLAN.start |   RESV   |  VLAN.end  |
      +----+----+----+----+------------+----------+------------+

      -  M4, M6: These bits indicate, respectively, that there is an
         IPv4 or IPv6 multicast router on a link for which the
         originating IS is appointed forwarder for every VLAN in the
         indicated range as specified in <a href="rfc6325.html#section-4.2.4.4">[RFC6325], Section 4.2.4.4</a>,
         item 5.1.

      -  R, RESV: These reserved bits MUST be sent as zero and are
         ignored on receipt.

      -  VLAN.start and VLAN.end: This VLAN ID range is inclusive.  A
         range of one VLAN ID is indicated by setting them both to that
         VLAN ID value.

   o  Appointed Forwarder Status Lost Counter: This is a count of how
      many times a port that was appointed forwarder for the VLANs in
      the range given has lost the status of being an appointed
      forwarder as discussed in <a href="rfc6325.html#section-4.8.3">Section 4.8.3 of [RFC6325]</a>.  It is
      initialized to zero at an IS when the zeroth LSP sequence number
      is initialized.  No special action need be taken at rollover; the
      counter just wraps around.

   o  Root Bridges: The list of zero or more spanning tree root bridge
      IDs is the set of root bridge IDs seen for all ports for which the
      IS is appointed forwarder for the VLANs in the specified range as
      discussed in <a href="rfc6325.html#section-4.9.3.2">[RFC6325], Section 4.9.3.2</a>.  While, of course, only
      one spanning tree root could be seen on any particular port, there
      may be multiple ports in the same VLAN connected to different
      bridged LANs with different spanning tree roots.






<span class="grey">Eastlake, et al.             Standards Track                   [Page 14]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   An INT-VLAN sub-TLV asserts that the information provided (multicast
   router attachment, appointed forwarder status lost counter, and root
   bridges) is the same for all VLANs in the range specified.  If this
   is not the case, the range MUST be split into subranges meeting this
   criteria.  It is always safe to use sub-TLVs with a "range" of one
   VLAN ID, but this may be too verbose.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.7.%20%20The%20VLAN%20Group%20Sub-TLV"></a><a class="selflink" href="#section-2.3.7" name="section-2.3.7">2.3.7</a>.  The VLAN Group Sub-TLV</span>

   The VLAN Group Router Capability sub-TLV consists of two or more VLAN
   IDs as specified in <a href="rfc6325.html#section-4.8.4">[RFC6325], Section 4.8.4</a>.  This sub-TLV indicates
   that shared VLAN learning is occurring at the announcing IS between
   the listed VLANs.  It is structured as follows:

   +-+-+-+-+-+-+-+-+
   |Type=VLAN-GROUP|                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | RESV  |  Primary VLAN ID      |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | RESV  |  Secondary VLAN ID    |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  more Secondary VLAN IDs ...     (2 bytes each)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: Router Capability sub-TLV type, set to 14 (VLAN-GROUP).

   o  Length: 4 + 2*n, where n is the number of secondary VLAN ID
      fields, which may be zero.

   o  RESV: a 4-bit field that MUST be sent as zero and ignored on
      receipt.

   o  Primary VLAN ID: This identifies the primary VLAN ID.

   o  Secondary VLAN ID: This identifies a secondary VLAN in the VLAN
      Group.

   o  more Secondary VLAN IDs: zero or more byte pairs, each with the
      top 4 bits as a RESV field and the low 12 bits as a VLAN ID.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20MTU%20Sub-TLV%20of%20the%20Extended%20Reachability%20TLV"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  MTU Sub-TLV of the Extended Reachability TLV</span>

   The MTU sub-TLV is used to optionally announce the MTU of a link as
   specified in <a href="rfc6325.html#section-4.2.4.4">[RFC6325], Section 4.2.4.4</a>.  It occurs within the
   Extended Reachability TLV (type 22).




<span class="grey">Eastlake, et al.             Standards Track                   [Page 15]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   +-+-+-+-+-+-+-+-+
   | Type = MTU    |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |F|  Reserved   |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               MTU             |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type: Extended Reachability sub-TLV type, set to MTU sub-TLV 28.

   o  Length: 3.

   o  F: Failed.  This bit is a one if MTU testing failed on this link
      at the required campus-wide MTU.

   o  Reserved: 7 bits that MUST be sent as zero and ignored on receipt.

   o  MTU: This field is set to the largest successfully tested MTU size
      for this link, or zero if it has not been tested, as specified in
      <a href="rfc6325.html#section-4.3.2">Section 4.3.2 of [RFC6325]</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5.%20%20TRILL%20Neighbor%20TLV"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a>.  TRILL Neighbor TLV</span>

   The TRILL Neighbor TLV is used in TRILL IIH PDUs (see <a href="#section-4.1">Section 4.1</a>
   below) in place of the IS Neighbor TLV, as specified in <a href="#section-4.4.2.1">Section</a>
   <a href="#section-4.4.2.1">4.4.2.1</a> of [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>] and in [<a href="rfc6327.html" title='"RBridges: Adjacency"'>RFC6327</a>].  The structure of the TRILL
   Neighbor TLV is as follows:

   +-+-+-+-+-+-+-+-+
   |     Type      |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |   Length      |                  (1 byte)
   +-+-+-+-+-+-+-+-+
   |S|L|  RESV     |                  (1 byte)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Neighbor RECORDS (1)                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   .................                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Neighbor RECORDS (N)                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+








<span class="grey">Eastlake, et al.             Standards Track                   [Page 16]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   The information present for each neighbor is as follows:

   +-+-+-+-+-+-+-+-+
   |F|  RESV       |                (1 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       MTU                   |  (2 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+
   |   MAC Address                                       | (6 bytes)
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+

   o  Type: TLV Type, set to TRILL Neighbor TLV 145.

   o  Length: 1 + 9*n, where n is the number of neighbor records which
      may be zero.

   o  S: Smallest flag.  If this bit is a one, then the list of
      neighbors includes the neighbor with the smallest MAC address
      considered as an unsigned integer.

   o  L: Largest flag.  If this bit is a one, then the list of neighbors
      includes the neighbor with the largest MAC address considered as
      an unsigned integer.

   o  RESV: These 7 bits are reserved use and MUST be sent as zero and
      ignored on receipt.

   o  F: failed.  This bit is a one if MTU testing to this neighbor
      failed at the required campus-wide MTU (see [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>], <a href="#section-4.3.1">Section</a>
      <a href="#section-4.3.1">4.3.1</a>).

   o  MTU: This field is set to the largest successfully tested MTU size
      for this neighbor or to zero if it has not been tested.

   o  MAC Address: The MAC address of the neighbor as in the IS Neighbor
      TLV (6).

   As specified in [<a href="rfc6327.html" title='"RBridges: Adjacency"'>RFC6327</a>] and <a href="rfc6325.html#section-4.4.2.1">Section 4.4.2.1 of [RFC6325]</a>, all MAC
   addresses may fit into one TLV, in which case both the S and L flags
   would be set to one in that TLV.  If the MAC addresses don't fit into
   one TLV, the highest MAC address in a TRILL Neighbor TLV with the L
   flag zero MUST also appear as a MAC address in some other TRILL
   Neighbor TLV (possibly in a different TRILL IIH PDU).  Also, the
   lowest MAC address in a TRILL Neighbor TLV with the S flag zero MUST
   also appear in some other TRILL Neighbor TLV (possibly in a different
   TRILL IIH PDU).  If an RBridge believes it has no neighbors, it MUST
   send a TRILL Neighbor TLV with an empty list of neighbor RECORDS,
   which will have both the S and L bits on.




<span class="grey">Eastlake, et al.             Standards Track                   [Page 17]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20The%20MTU%20PDUs"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  The MTU PDUs</span>

   Two PDUs are added to IS-IS, the MTU-probe and MTU-ack PDUs.  They
   are used to optionally determine the MTU on a link between ISs as
   specified in <a href="rfc6325.html#section-4.3.2">[RFC6325], Section 4.3.2</a>.

   The MTU PDUs have the IS-IS PDU common header (up through the Maximum
   Area Addresses byte) with two new PDU Type numbers, one each, as
   listed in <a href="#section-6">Section 6</a>.  They also have a 20-byte common fixed MTU PDU
   header as shown below.

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    PDU Length                 |  (2 bytes)
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+.....+-+-+
      |    Probe ID                              (6 bytes)            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+.....+-+-+
      |    Probe Source ID                       (6 bytes)            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+.....+-+-+
      |    Ack Source ID                         (6 bytes)            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+.....+-+-+

   As with other IS-IS PDUs, the PDU length gives the length of the
   entire IS-IS packet starting with and including the IS-IS common
   header.

   The Probe ID field is an arbitrary 48-bit quantity set by the IS
   issuing an MTU-probe and copied by the responding IS into the
   corresponding MTU-ack.  For example, an IS creating an MTU-probe
   could compose this quantity from a port identifier and probe sequence
   number relative to that port.

   The Probe Source ID is set by an IS issuing an MTU-probe to its
   System ID and copied by the responding IS into the corresponding
   MTU-ack.

   The Ack Source ID is set to zero in MTU-probe PDUs.  An IS issuing an
   MTU-ack sets this field to its System ID.

   The TLV area follows the MTU PDU header area.  This area MAY contain
   an Authentication TLV and MUST be padded to the exact size being
   tested with the Padding TLV.  Since the minimum size of the Padding
   TLV is 2 bytes, it would be impossible to pad to exact size if the
   total length of the required information bearing fixed fields and
   TLVs added up to 1 byte less than the desired length.  However, the
   length of the fixed fields and substantive TLVs for MTU PDUs will be
   quite small compared with their minimum length (minimum 1470-byte MTU
   on an 802.3 link, for example), so this will not be a problem.




<span class="grey">Eastlake, et al.             Standards Track                   [Page 18]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Use%20of%20Existing%20PDUs%20and%20TLVs"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Use of Existing PDUs and TLVs</span>

   The sub-sections below provide details of TRILL use of existing PDUs
   and TLVs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20TRILL%20IIH%20PDUs"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  TRILL IIH PDUs</span>

   The TRILL IIH PDU is the variation of the LAN IIH PDU used by the
   TRILL protocol.  <a href="#section-4.4">Section 4.4</a> of the TRILL standard [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>]
   specifies the contents of the TRILL IIH and how its use in TRILL
   differs from Layer 3 LAN IIH PDU use.  The adjacency state machinery
   for TRILL neighbors is specified in <a href="rfc6325.html#section-4.4">Section 4.4 of [RFC6325]</a> and in
   [<a href="rfc6327.html" title='"RBridges: Adjacency"'>RFC6327</a>].

   In a TRILL IIH PDU, the IS-IS common header and the fixed PDU Header
   are the same as a Level 1 LAN IIH PDU.  The Maximum Area Addresses
   octet in the common header MUST be set to 0x01.

   The IS-IS Neighbor TLV (6) is not used in a TRILL IIH and is ignored
   if it appears there.  Instead, TRILL IIH PDUs use the TRILL Neighbor
   TLV (see <a href="#section-2.5">Section 2.5</a>).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Area%20Address"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Area Address</span>

   TRILL uses a fixed zero Area Address as specified in <a href="rfc6325.html#section-4.2.3">[RFC6325],
   Section 4.2.3</a>.  This is encoded in a 4-byte Area Address TLV (1) as
   follows:

             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             |   0x01, Area Address Type     |   (1 byte)
             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             |   0x02, Length of Value       |   (1 byte)
             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             |   0x01, Length of Address     |   (1 byte)
             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             |   0x00, zero Area Address     |   (1 byte)
             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Protocols%20Supported"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Protocols Supported</span>

   NLPID 0xC0 has been assigned to TRILL [<a href="rfc6328.html" title='"IANA Considerations for Network Layer Protocol Identifiers"'>RFC6328</a>].  A Protocols
   Supported TLV (129, [<a href="rfc1195.html" title='"Use of OSI IS-IS for Routing in TCP/IP and Dual Environments"'>RFC1195</a>]) including that value MUST appear in
   TRILL IIH PDUs and LSP number zero PDUs.








<span class="grey">Eastlake, et al.             Standards Track                   [Page 19]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  IANA Considerations</span>

   IANA has allocated the existing registry code points listed in
   <a href="#section-5.1">Section 5.1</a> and created two new registries with the initial contents
   as described in <a href="#section-5.2">Section 5.2</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Allocations%20from%20Existing%20Registries"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Allocations from Existing Registries</span>

   This document specifies two new IS-IS TLV types -- namely, the Group
   Address TLV (GADDR-TLV, type 142) and the TRILL Neighbor TLV (type
   145).  The PDUs in which these TLVs are permitted for TRILL are shown
   in the table below along with the section of this document where they
   are discussed.  The final "NUMBER" column indicates the permitted
   number of occurrences of the TLV in their PDU, or set of PDUs in the
   case of LSP, which in these two cases is "*" indicating that the TLV
   MAY occur 0, 1, or more times.

   IANA registered these two code points in the IANA IS-IS TLV registry
   (ignoring the "Section" and "NUMBER" columns, which are irrelevant to
   that registry).

                          Section TLV# IIH  LSP  SNP  NUMBER

      GADDR-TLV             2.1    142   -    X   -     *
      TRILL Neighbor TLV    2.5    145   X    -   -     *

   This document specifies eleven new sub-TLVs from existing sub-TLV
   sequences -- namely, VLAN-FLAGS, Enabled-VLANs, AppointedFwrdrs,
   TRILL Version (TRILL-VER), NICKNAME, TREES, TREE-RT-IDs,
   TREE-USE-IDs, INT-VLAN, VLAN-GROUP, and MTU.  The TLVs in which these
   sub-TLVs occur are shown in the table below along with the section of
   this document where they are discussed.

   Those sub-TLVs with an "X" in the column labeled "MT Port Capabil."
   are sub-TLVs of TLV 143 [<a href="rfc6165.html" title='"Extensions to IS-IS for Layer-2 Systems"'>RFC6165</a>], the MT-PORT-CAP-TLV.  Those sub-
   TLVs with an "X" in the column labeled "Router Capabil." are sub-TLVs
   of TLV 242, the IS-IS Router CAPABILITY TLV.  Those sub-TLVs with an
   "X" in the column labeled "Extended IS Reach" are sub-TLVs of TLV 22,
   the Extended IS reachability TLV.

   The final "NUM" column indicates the permitted number of occurrences
   of the sub-TLV cumulatively within all occurrences of their TLV in
   that TLV's carrying PDU (or set of PDUs in the case of LSP), as
   follows:







<span class="grey">Eastlake, et al.             Standards Track                   [Page 20]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


      0-1 = MAY occur zero or one times.  If it occurs more than once,
            results are unspecified.
       1  = MUST occur exactly once.  If absent, the PDU is ignored.  If
            it occurs more than once, results are unspecified.
       *  = MAY occur 0, 1, or more times.

   The values in the "Section" and "NUM" columns are irrelevant to the
   IANA sub-registries.

                    Section  sub-   MT Port  Router   Extended   NUM
                             TLV#   Capabil. Capabil. IS Reach
   VLAN-FLAGS       2.2.1     1        X        -        -        1
   Enabled-VLANs    2.2.2     2        X        -        -        *
   AppointedFwrdrs  2.2.3     3        X        -        -        *
   NICKNAME         2.3.2     6        -        X        -        *
   TREES            2.3.3     7        -        X        -       0-1
   TREE-RT-IDs      2.3.4     8        -        X        -        *
   TREE-USE-IDs     2.3.5     9        -        X        -        *
   INT-VLAN         2.3.6    10        -        X        -        *
   TRILL-VER        2.3.1    13        -        X        -       0-1
   VLAN-GROUP       2.3.7    14        -        X        -        *
   MTU              2.4      28        -        -        X       0-1

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20New%20Sub-Registries%20Created"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  New Sub-Registries Created</span>

   This document creates two new IS-IS PDUs -- namely, the MTU-PROBE-PDU
   and MTU-ACK-PDU, as described in <a href="#section-3">Section 3</a>.  IANA assigned new PDU
   types to these PDUs and reflect them in a newly created PDU registry
   (see <a href="#appendix-A">Appendix A</a>).

      MTU-PROBE-PDU     PDU Number: 23
      MTU-ACK-PDU       PDU Number: 28

   IANA created a new sub-TLV IS-IS sub-registry for sub-TLVs within the
   Group Address (GADDR) TLV and specified an initial sub-TLV within
   that registry -- namely, the Group MAC Address (GMAC-ADDR) sub-TLV
   (1).  The GMAC-ADDR sub-TLV may occur 0, 1, or more times in a GADDR
   TLV.

   The initial sub-registry is shown below.

      Registry Name: IS-IS Group Address Type Codes for TLV 10
      Reference: This document
      Registration Procedures: Expert Review [<a href="rfc5226.html" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>RFC5226</a>]







<span class="grey">Eastlake, et al.             Standards Track                   [Page 21]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


      Registry:
      Value     Group Address Type Code        Reference
      -------   -----------------------------  ---------
       0        Reserved                       This document
       1        GMAC-ADDR                      This document
      2-254     Unassigned                     This document
      255       Reserved                       This document

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   For general TRILL protocol security considerations, see the TRILL
   base protocol standard [<a href="rfc6325.html" title='"RBridges: Base Protocol Specification"'>RFC6325</a>].

   This document raises no new security issues for IS-IS.  IS-IS
   security may be used to secure the IS-IS messages discussed here.
   See [<a href="rfc5304.html" title='"IS-IS Cryptographic Authentication"'>RFC5304</a>] and [<a href="rfc5310.html" title='"IS-IS Generic Cryptographic Authentication"'>RFC5310</a>].  Even when IS-IS authentication is used,
   replays of Hello packets can create denial-of-service conditions; see
   [<a href="rfc6039.html" title='"Issues with Existing Cryptographic Protection Methods for Routing Protocols"'>RFC6039</a>] for details.  These issues are similar in scope to those
   discussed in <a href="rfc6325.html#section-6.2">Section 6.2 of [RFC6325]</a>, and the same mitigations may
   apply.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-ISO-10589" name="ref-ISO-10589">ISO-10589</a>]   ISO/IEC 10589:2002, Second Edition, "Intermediate
                 System to Intermediate System Intra-Domain Routing
                 Exchange Protocol for use in Conjunction with the
                 Protocol for Providing the Connectionless-mode Network
                 Service (ISO 8473)", 2002.

   [<a id="ref-RFC1195" name="ref-RFC1195">RFC1195</a>]     Callon, R., "Use of OSI IS-IS for Routing in TCP/IP and
                 Dual Environments", 1990.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]     Bradner, S., "Key words for use in RFCs to Indicate
                 Requirement Levels", <a href="http://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC4971" name="ref-RFC4971">RFC4971</a>]     Vasseur, JP. and N. Shen, "Intermediate System to
                 Intermediate System (IS-IS) Extensions for Advertising
                 Router Information", 2007.

   [<a id="ref-RFC5226" name="ref-RFC5226">RFC5226</a>]     Narten, T. and H. Alvestrand, "Guidelines for Writing
                 an IANA Considerations Section in RFCs", <a href="http://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc5226.html">RFC</a>
                 <a href="rfc5226.html">5226</a>, May 2008.

   [<a id="ref-RFC5305" name="ref-RFC5305">RFC5305</a>]     Li, T. and H. Smit, "IS-IS Extensions for Traffic
                 Engineering", 2008.




<span class="grey">Eastlake, et al.             Standards Track                   [Page 22]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


   [<a id="ref-RFC6165" name="ref-RFC6165">RFC6165</a>]     Banerjee, A. and D. Ward, "Extensions to IS-IS for
                 Layer-2 Systems", <a href="rfc6165.html">RFC 6165</a>, April 2011.

   [<a id="ref-RFC6325" name="ref-RFC6325">RFC6325</a>]     Perlman, R., Eastlake, D., Dutt, D., Gai, S., and A.
                 Ghanwani, "RBridges: Base Protocol Specification", <a href="rfc6325.html">RFC</a>
                 <a href="rfc6325.html">6325</a>, July 2011.

   [<a id="ref-RFC6327" name="ref-RFC6327">RFC6327</a>]     Eastlake, D., Perlman, R., Ghanwani, A., Dutt, D., and
                 V. Manral, "RBridges: Adjacency", <a href="rfc6327.html">RFC 6327</a>, July 2011.

   [<a id="ref-RFC6328" name="ref-RFC6328">RFC6328</a>]     Eastlake, D., "IANA Considerations for Network Layer
                 Protocol Identifiers", <a href="rfc6328.html">RFC 6328</a>, July 2011.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-802.1Q-2005" name="ref-802.1Q-2005">802.1Q-2005</a>] "IEEE Standard for Local and metropolitan area networks
                 / Virtual Bridged Local Area Networks", 802.1Q-2005, 19
                 May 2006.

   [<a id="ref-RFC5304" name="ref-RFC5304">RFC5304</a>]     Li, T. and R. Atkinson, "IS-IS Cryptographic
                 Authentication", <a href="rfc5304.html">RFC 5304</a>, October 2008.

   [<a id="ref-RFC5310" name="ref-RFC5310">RFC5310</a>]     Bhatia, M., Manral, V., Li, T., Atkinson, R., White,
                 R., and M. Fanto, "IS-IS Generic Cryptographic
                 Authentication", <a href="rfc5310.html">RFC 5310</a>, February 2009.

   [<a id="ref-RFC6039" name="ref-RFC6039">RFC6039</a>]     Manral, V., Bhatia, M., Jaeggli, J., and R. White,
                 "Issues with Existing Cryptographic Protection Methods
                 for Routing Protocols", <a href="rfc6039.html">RFC 6039</a>, October 2010.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgements"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgements</span>

   The authors gratefully acknowledge the contributions and review by
   the following: Mike Shand, Stewart Bryant, Dino Farinacci, Les
   Ginsberg, Sam Hartman, Dan Romascanu, Dave Ward, and Russ White.  In
   particular, thanks to Mike Shand for the detailed and helpful
   comments.














<span class="grey">Eastlake, et al.             Standards Track                   [Page 23]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Initial%20IS-IS%20PDU%20Registry"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Initial IS-IS PDU Registry</span>

   The following is the suggested initial IS-IS PDU registry before
   MTU-PROBE-PDU and MTU-ACK-PDU, which should be added with this
   document as REFERENCE:

   Registry Name: IS-IS PDUs
   Reference: This document
   Registration Procedures: IETF Review [<a href="rfc5226.html" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>RFC5226</a>]

      MNEMONIC             PDU#     REFERENCE

      Unassigned            0-14
      L1-LAN-HELLO-PDU      15      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      L2-LAN-HELLO-PDU      16      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      P2P-HELLO-PDU         17      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      L1-LSP-PDU            18      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      Unassigned            19
      L2-LSP-PDU            20      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      Unassigned            21-23
      L1-CSNP-PDU           24      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      L2-CSNP-PDU           25      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      L1-PSNP-PDU           26      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      L2-PSNP-PDU           27      [<a href="#ref-ISO-10589" title='"Intermediate System to Intermediate System Intra-Domain Routing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>ISO-10589</a>]
      Unassigned            28-31


























<span class="grey">Eastlake, et al.             Standards Track                   [Page 24]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc6326.html">RFC 6326</a>                   TRILL Use of IS-IS                  July 2011</span>


Authors' Addresses

   Donald Eastlake
   Huawei
   155 Beaver Street
   Milford, MA 01757 USA

   Phone: +1-508-333-2270
   EMail: d3e3e3@gmail.com


   Ayan Banerjee
   Cisco Systems
   170 West Tasman Drive
   San Jose, CA 95134 USA

   EMail: ayabaner@cisco.com


   Dinesh Dutt
   Cisco Systems
   170 West Tasman Drive
   San Jose, CA 95134-1706 USA

   Phone: +1-408-527-0955
   EMail: ddutt@cisco.com


   Radia Perlman
   Intel Labs
   2200 Mission College Blvd.
   Santa Clara, CA 95054-1549 USA

   Phone: +1-408-765-8080
   EMail: Radia@alum.mit.edu


   Anoop Ghanwani
   Brocade
   130 Holger Way
   San Jose, CA 95134 USA

   Phone: +1-408-333-7149
   EMail: anoop@alumni.duke.edu







Eastlake, et al.             Standards Track                   [Page 25]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.111, available from
<a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc6326 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Apr 2015 16:01:09 GMT --></html>