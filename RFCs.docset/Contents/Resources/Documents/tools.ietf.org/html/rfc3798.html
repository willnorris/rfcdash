<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc3798 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:45 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="rfc2298" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:3798" name="DC.Identifier"/>
<meta content="May, 2004" name="DC.Date.Issued"/>
<meta content="Hansen, Tony" name="DC.Creator"/>
<meta content="Vaudreuil, Gregory M." name="DC.Creator"/>
<meta content='This memo defines a MIME content-type that may be used by a mail user
agent (MUA) or electronic mail gateway to report the disposition of a
message after it has been successfully delivered to a recipient. This
content-type is intended to be machine-processable. Additional message
headers are also defined to permit Message Disposition Notifications
(MDNs) to be requested by the sender of a message. The purpose is to
extend Internet Mail to support functionality often found in other
messaging systems, such as X.400 and the proprietary "LAN-based"
systems, and often referred to as "read receipts," "acknowledgements",
or "receipt notifications." The intention is to do this while
respecting privacy concerns, which have often been expressed when such
functions have been discussed in the past. Because many messages are
sent between the Internet and other messaging systems (such as X.400
or the proprietary "LAN-based" systems), the MDN protocol is designed
to be useful in a multi-protocol messaging environment. To this end,
the protocol described in this memo provides for the carriage of
"foreign" addresses, in addition to those normally used in Internet
Mail. Additional attributes may also be defined to support "tunneling"
of foreign notifications through Internet Mail. [STANDARDS-TRACK]' name="DC.Description.Abstract"/>
<meta content="Message Disposition Notification" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3798 - Message Disposition Notification</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3798.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3798" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-vaudreuil-mdnbis" title="draft-vaudreuil-mdnbis">draft-vaudreuil...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3798" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3798" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3798" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=3798">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc8098.html">8098</a>                                        DRAFT STANDARD</span><br/>
<span class="pre noprint docinfo">Updated by: <a href="rfc5337.html">5337</a>, <a href="rfc6533.html">6533</a>                                      <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                     T. Hansen, Ed.
Request for Comments: 3798                             AT&amp;T Laboratories
Obsoletes: <a href="rfc2298.html">2298</a>                                        G. Vaudreuil, Ed.
Updates: <a href="rfc3461.html">3461</a>, <a href="rfc2046.html">2046</a>                                  Lucent Technologies
Category: Standards Track                                       May 2004


                   <span class="h1">Message Disposition Notification</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

Abstract

   This memo defines a MIME content-type that may be used by a mail user
   agent (MUA) or electronic mail gateway to report the disposition of a
   message after it has been successfully delivered to a recipient.
   This content-type is intended to be machine-processable.  Additional
   message headers are also defined to permit Message Disposition
   Notifications (MDNs) to be requested by the sender of a message.  The
   purpose is to extend Internet Mail to support functionality often
   found in other messaging systems, such as X.400 and the proprietary
   "LAN-based" systems, and often referred to as "read receipts,"
   "acknowledgements", or "receipt notifications."  The intention is to
   do this while respecting privacy concerns, which have often been
   expressed when such functions have been discussed in the past.

   Because many messages are sent between the Internet and other
   messaging systems (such as X.400 or the proprietary "LAN-based"
   systems), the MDN protocol is designed to be useful in a multi-
   protocol messaging environment.  To this end, the protocol described
   in this memo provides for the carriage of "foreign" addresses, in
   addition to those normally used in Internet Mail.  Additional
   attributes may also be defined to support "tunneling" of foreign
   notifications through Internet Mail.







<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
       <a href="#section-1.1">1.1</a>.  Purposes . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
       <a href="#section-1.2">1.2</a>.  Requirements . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
       <a href="#section-1.3">1.3</a>.  Terminology. . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-2">2</a>.  Requesting Message Disposition Notifications . . . . . . . . .  <a href="#page-4">4</a>
       <a href="#section-2.1">2.1</a>.  The Disposition-Notification-To Header . . . . . . . . .  <a href="#page-4">4</a>
       <a href="#section-2.2">2.2</a>.  The Disposition-Notification-Options Header. . . . . . .  <a href="#page-6">6</a>
       <a href="#section-2.3">2.3</a>.  The Original-Recipient Header. . . . . . . . . . . . . .  <a href="#page-7">7</a>
       <a href="#section-2.4">2.4</a>.  Use with the Message/Partial Content Type. . . . . . . .  <a href="#page-8">8</a>
   <a href="#section-3">3</a>.  FORMAT OF A MESSAGE DISPOSITION NOTIFICATION . . . . . . . . .  <a href="#page-8">8</a>
       <a href="#section-3.1">3.1</a>.  The message/disposition-notification content-type. . . .  <a href="#page-9">9</a>
       <a href="#section-3.2">3.2</a>.  Message/disposition-notification Fields. . . . . . . . . <a href="#page-11">11</a>
       <a href="#section-3.3">3.3</a>.  Extension-fields . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-4">4</a>.  Timeline of Events . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-5">5</a>.  Conformance and Usage Requirements . . . . . . . . . . . . . . <a href="#page-18">18</a>
   <a href="#section-6">6</a>.  Security Considerations. . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
       <a href="#section-6.1">6.1</a>.  Forgery. . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
       <a href="#section-6.2">6.2</a>.  Privacy. . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
       <a href="#section-6.3">6.3</a>.  Non-Repudiation. . . . . . . . . . . . . . . . . . . . . <a href="#page-20">20</a>
       <a href="#section-6.4">6.4</a>.  Mail Bombing . . . . . . . . . . . . . . . . . . . . . . <a href="#page-20">20</a>
   <a href="#section-7">7</a>.  Collected Grammar. . . . . . . . . . . . . . . . . . . . . . . <a href="#page-20">20</a>
   <a href="#section-8">8</a>.  Guidelines for Gatewaying MDNS . . . . . . . . . . . . . . . . <a href="#page-22">22</a>
       <a href="#section-8.1">8.1</a>.  Gatewaying from other mail systems to MDNs . . . . . . . <a href="#page-23">23</a>
       <a href="#section-8.2">8.2</a>.  Gatewaying from MDNs to other mail systems . . . . . . . <a href="#page-23">23</a>
       <a href="#section-8.3">8.3</a>.  Gatewaying of MDN-requests to other mail systems . . . . <a href="#page-24">24</a>
   <a href="#section-9">9</a>.  Example. . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-24">24</a>
   <a href="#section-10">10</a>. IANA Considerations. . . . . . . . . . . . . . . . . . . . . . <a href="#page-25">25</a>
       10.1. Disposition-Notification-Options header parameter names. 26
       <a href="#section-10.2">10.2</a>. Disposition modifier names . . . . . . . . . . . . . . . <a href="#page-26">26</a>
       <a href="#section-10.3">10.3</a>. MDN extension field names. . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-11">11</a>. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-12">12</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
       <a href="#section-12.1">12.1</a>. Normative References . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
       <a href="#section-12.2">12.2</a>. Informative References . . . . . . . . . . . . . . . . . <a href="#page-28">28</a>
   <a href="#appendix-A">Appendix A</a> - Changes from <a href="rfc2298.html">RFC 2298</a> . . . . . . . . . . . . . . . . <a href="#page-29">29</a>
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-29">29</a>
   Full Copyright Statement . . . . . . . . . . . . . . . . . . . . . <a href="#page-30">30</a>












<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   This memo defines a [<a href="#ref-RFC-MIME-MEDIA" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC-MIME-MEDIA</a>] content-type for message
   disposition notifications (MDNs).  An MDN can be used to notify the
   sender of a message of any of several conditions that may occur after
   successful delivery, such as display of the message contents,
   printing of the message, deletion (without display) of the message,
   or the recipient's refusal to provide MDNs.  The
   "message/disposition-notification" content-type defined herein is
   intended for use within the framework of the "multipart/report"
   content type defined in [<a href="#ref-RFC-REPORT" title='"The Multipart/Report Content Type for the Reporting of Mail System Administrative Messages"'>RFC-REPORT</a>].

   This memo defines the format of the notifications and the [RFC-
   MSGFMT] headers used to request them.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Purposes"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Purposes</span>

   The MDNs defined in this memo are expected to serve several purposes:

   (a)  Inform human beings of the disposition of messages after
        successful delivery, in a manner that is largely independent of
        human language;

   (b)  Allow mail user agents to keep track of the disposition of
        messages sent, by associating returned MDNs with earlier message
        transmissions;

   (c)  Convey disposition notification requests and disposition
        notifications between Internet Mail and "foreign" mail systems
        via a gateway;

   (d)  Allow "foreign" notifications to be tunneled through a MIME-
        capable message system and back into the original messaging
        system that issued the original notification, or even to a third
        messaging system;

   (e)  Allow language-independent, yet reasonably precise, indications
        of the disposition of a message to be delivered.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Requirements"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Requirements</span>

   These purposes place the following constraints on the notification
   protocol:

   (a)  It must be readable by humans, and must be machine-parsable.






<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   (b)  It must provide enough information to allow message senders (or
        their user agents) to unambiguously associate an MDN with the
        message that was sent and the original recipient address for
        which the MDN was issued (if such information is available),
        even if the message was forwarded to another recipient address.

   (c)  It must also be able to describe the disposition of a message
        independent of any particular human language or of the
        terminology of any particular mail system.

   (d)  The specification must be extensible in order to accommodate
        future requirements.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.3.%20%20Terminology"></a><a class="selflink" href="#section-1.3" name="section-1.3">1.3</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="#ref-RFC-KEYWORDS" title='"Key Words for Use in RFCs to Indicate Requirement Levels"'>RFC-KEYWORDS</a>].

   All syntax descriptions use the ABNF specified by [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>], in
   which the lexical tokens (used below) are defined: "atom", "CRLF",
   "mailbox", "msg-id", and "text".  The following lexical tokens are
   defined in the definition of the Content-Type header in [RFC-MIME-
   BODY]: "attribute" and "value".

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Requesting%20Message%20Disposition%20Notifications"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Requesting Message Disposition Notifications</span>

   Message disposition notifications are requested by including a
   Disposition-Notification-To header in the message.  Further
   information to be used by the recipient's MUA in generating the MDN
   may be provided by also including Original-Recipient and/or
   Disposition-Notification-Options headers in the message.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20The%20Disposition-Notification-To%20Header"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  The Disposition-Notification-To Header</span>

   A request for the receiving user agent to issue message disposition
   notifications is made by placing a Disposition-Notification-To header
   into the message.  The syntax of the header is

   mdn-request-header = "Disposition-Notification-To" ":"
             mailbox *("," mailbox)

   The presence of a Disposition-Notification-To header in a message is
   merely a request for an MDN.  The recipients' user agents are always
   free to silently ignore such a request.  Alternatively, an explicit
   denial of the request for information about the disposition of the
   message may be sent using the "denied" disposition in an MDN.




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   An MDN MUST NOT itself have a Disposition-Notification-To header.  An
   MDN MUST NOT be generated in response to an MDN.

   A user agent MUST NOT issue more than one MDN on behalf of each
   particular recipient.  That is, once an MDN has been issued on behalf
   of a recipient, no further MDNs may be issued on behalf of that
   recipient, even if another disposition is performed on the message.
   However, if a message is forwarded, an MDN may have been issued for
   the recipient doing the forwarding and the recipient of the forwarded
   message may also cause an MDN to be generated.

   While Internet standards normally do not specify the behavior of user
   interfaces, it is strongly recommended that the user agent obtain the
   user's consent before sending an MDN.  This consent could be obtained
   for each message through some sort of prompt or dialog box, or
   globally through the user's setting of a preference.  The user might
   also indicate globally that MDNs are to never be sent or that a
   "denied" MDN is always sent in response to a request for an MDN.

   MDNs SHOULD NOT be sent automatically if the address in the
   Disposition-Notification-To header differs from the address in the
   Return-Path header (see [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>]).  In this case, confirmation
   from the user SHOULD be obtained, if possible.  If obtaining consent
   is not possible (e.g., because the user is not online at the time),
   then an MDN SHOULD NOT be sent.

   Confirmation from the user SHOULD be obtained (or no MDN sent) if
   there is no Return-Path header in the message, or if there is more
   than one distinct address in the Disposition-Notification-To header.

   The comparison of the addresses should be done using only the addr-
   spec (local-part "@" domain) portion, excluding any phrase and route.
   The comparison MUST be case-sensitive for the local-part and case-
   insensitive for the domain part.

   If the message contains more than one Return-Path header, the
   implementation may pick one to use for the comparison, or treat the
   situation as a failure of the comparison.

   The reason for not automatically sending an MDN if the comparison
   fails or more than one address is specified is to reduce the
   possibility of mail loops and of MDNs being used for mail bombing.

   A message that contains a Disposition-Notification-To header SHOULD
   also contain a Message-ID header as specified in [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>].  This
   will permit automatic correlation of MDNs with their original
   messages by user agents.




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   If the request for message disposition notifications for some
   recipients and not others is desired, two copies of the message
   should be sent, one with a Disposition-Notification-To header and one
   without.  Many of the other headers of the message (e.g., To, Cc)
   will be the same in both copies.  The recipients in the respective
   message envelopes determine for whom message disposition
   notifications are requested and for whom they are not.  If desired,
   the Message-ID header may be the same in both copies of the message.
   Note that there are other situations (e.g., Bcc) in which it is
   necessary to send multiple copies of a message with slightly
   different headers.  The combination of such situations and the need
   to request MDNs for a subset of all recipients may result in more
   than two copies of a message being sent, some with a Disposition-
   Notification-To header and some without.

   Messages posted to newsgroups SHOULD NOT have a Disposition-
   Notification-To header.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20The%20Disposition-Notification-Options%20Header"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  The Disposition-Notification-Options Header</span>

   Future extensions to this specification may require that information
   be supplied to the recipient's MUA for additional control over how
   and what MDNs are generated.  The Disposition-Notification-Options
   header provides an extensible mechanism for such information.  The
   syntax of this header is as follows:

   Disposition-Notification-Options =
             "Disposition-Notification-Options" ":"
                            disposition-notification-parameters

   disposition-notification-parameters = parameter *(";" parameter)

   parameter = attribute "=" importance "," value *("," value)

   importance = "required" / "optional"

   An importance of "required" indicates that interpretation of the
   parameter is necessary for proper generation of an MDN in response to
   this request.  If an MUA does not understand the meaning of the
   parameter, it MUST NOT generate an MDN with any disposition type
   other than "failed" in response to the request.  An importance of
   "optional" indicates that an MUA that does not understand the meaning
   of this parameter MAY generate an MDN in response anyway, ignoring
   the value of the parameter.

   No parameters are defined in this specification.  Parameters may be
   defined in the future by later revisions or extensions to this
   specification.  Parameter attribute names beginning with "X-" will



<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   never be defined as standard names; such names are reserved for
   experimental use.  MDN parameter names not beginning with "X-" MUST
   be registered with the Internet Assigned Numbers Authority (IANA) and
   described in a standards-track RFC or an experimental RFC approved by
   the IESG.  (See <a href="#section-10">Section 10</a> for a registration form.)

   If a required parameter is not understood or contains some sort of
   error, the receiving MUA SHOULD issue an MDN with a disposition type
   of "failed" (see <a href="#section-3.2.6">Section 3.2.6</a>), and include a Failure field (see
   <a href="#section-3.2.7">Section 3.2.7</a>) that further describes the problem.  MDNs with the
   disposition type of "failed" and a "Failure" field MAY also be
   generated when other types of errors are detected in the parameters
   of the Disposition-Notification-Options header.

   However, an MDN with a disposition type of "failed" MUST NOT be
   generated if the user has indicated a preference that MDNs are not to
   be sent.  If user consent would be required for an MDN of some other
   disposition type to be sent, user consent SHOULD also be obtained
   before sending an MDN with a disposition type of "failed".

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20The%20Original-Recipient%20Header"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  The Original-Recipient Header</span>

   Since electronic mail addresses may be rewritten while the message is
   in transit, it is useful for the original recipient address to be
   made available by the delivering MTA.  The delivering MTA may be able
   to obtain this information from the ORCPT parameter of the SMTP RCPT
   TO command, as defined in [<a href="#ref-RFC-SMTP" title='"Simple Mail Transfer Protocol"'>RFC-SMTP</a>] and [<a href="#ref-RFC-DSN-SMTP" title='"Simple Mail Transfer Protocol (SMTP) Service Extension for Delivery Status Notifications"'>RFC-DSN-SMTP</a>].

   [<a id="ref-RFC-DSN-SMTP" name="ref-RFC-DSN-SMTP">RFC-DSN-SMTP</a>] is amended as follows: If the ORCPT information is
   available, the delivering MTA SHOULD insert an Original-Recipient
   header at the beginning of the message (along with the Return-Path
   header).  The delivering MTA MAY delete any other Original-Recipient
   headers that occur in the message.  The syntax of this header is as
   follows:

   original-recipient-header =
               "Original-Recipient" ":" address-type ";" generic-address

   The address-type and generic-address token are as specified in the
   description of the Original-Recipient field in <a href="#section-3.2.3">section 3.2.3</a>.

   The purpose of carrying the original recipient information and
   returning it in the MDN is to permit automatic correlation of MDNs
   with the original message on a per-recipient basis.







<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20Use%20with%20the%20Message%2FPartial%20Content%20Type"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  Use with the Message/Partial Content Type</span>

   The use of the headers Disposition-Notification-To, Disposition-
   Notification-Options, and Original-Recipient with the MIME
   message/partial content type ([<a href="#ref-RFC-MIME-MEDIA" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC-MIME-MEDIA</a>]) requires further
   definition.

   When a message is segmented into two or more message/partial
   fragments, the three headers mentioned in the above paragraph SHOULD
   be placed in the "inner" or "enclosed" message (using the terms of
   [<a href="#ref-RFC-MIME-MEDIA" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC-MIME-MEDIA</a>]).  These headers SHOULD NOT be used in the headers
   of any of the fragments themselves.

   When the multiple message/partial fragments are reassembled, the
   following applies.  If these headers occur along with the other
   headers of a message/partial fragment message, they pertain to an MDN
   that will be generated for the fragment.  If these headers occur in
   the headers of the "inner" or "enclosed" message (using the terms of
   [<a href="#ref-RFC-MIME-MEDIA" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC-MIME-MEDIA</a>]), they pertain to an MDN that will be generated for
   the reassembled message.  Section 5.2.2.1 of [<a href="#ref-RFC-MIME-MEDIA" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC-MIME-MEDIA</a>]) is
   amended to specify that, in addition to the headers specified there,
   the three headers described in this specification are to be appended,
   in order, to the headers of the reassembled message.  Any occurrences
   of the three headers defined here in the headers of the initial
   enclosing message must not be copied to the reassembled message.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Format%20of%20a%20Message%20Disposition%20Notification"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Format of a Message Disposition Notification</span>

   A message disposition notification is a MIME message with a top-level
   content-type of multipart/report (defined in [<a href="#ref-RFC-REPORT" title='"The Multipart/Report Content Type for the Reporting of Mail System Administrative Messages"'>RFC-REPORT</a>]).  When
   multipart/report content is used to transmit an MDN:

   (a)  The report-type parameter of the multipart/report content is
        "disposition-notification".

   (b)  The first component of the multipart/report contains a human-
        readable explanation of the MDN, as described in [<a href="#ref-RFC-REPORT" title='"The Multipart/Report Content Type for the Reporting of Mail System Administrative Messages"'>RFC-REPORT</a>].

   (c)  The second component of the multipart/report is of content-type
        message/disposition-notification, described in <a href="#section-3.1">section 3.1</a> of
        this document.

   (d)  If the original message or a portion of the message is to be
        returned to the sender, it appears as the third component of the
        multipart/report.  The decision of whether or not to return the
        message or part of the message is up to the MUA generating the





<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


        MDN.  However, in the case of encrypted messages requesting
        MDNs, encrypted message text MUST be returned, if it is returned
        at all, only in its original encrypted form.

    NOTE:  For message disposition notifications gatewayed from foreign
    systems, the headers of the original message may not be available.
    In this case, the third component of the MDN may be omitted, or it
    may contain "simulated" [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>] headers that contain equivalent
    information.  In particular, it is very desirable to preserve the
    subject and date fields from the original message.

   The MDN MUST be addressed (in both the message header and the
   transport envelope) to the address(es) from the Disposition-
   Notification-To header from the original message for which the MDN is
   being generated.

   The From field of the message header of the MDN MUST contain the
   address of the person for whom the message disposition notification
   is being issued.

   The envelope sender address (i.e., SMTP MAIL FROM) of the MDN MUST be
   null (&lt;&gt;), specifying that no Delivery Status Notification messages
   or other messages indicating successful or unsuccessful delivery are
   to be sent in response to an MDN.

   A message disposition notification MUST NOT itself request an MDN.
   That is, it MUST NOT contain a Disposition-Notification-To header.

   The Message-ID header (if present) for an MDN MUST be different from
   the Message-ID of the message for which the MDN is being issued.

   A particular MDN describes the disposition of exactly one message for
   exactly one recipient.  Multiple MDNs may be generated as a result of
   one message submission, one per recipient.  However, due to the
   circumstances described in <a href="#section-2.1">Section 2.1</a>, MDNs may not be generated for
   some recipients for which MDNs were requested.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20The%20message%2Fdisposition-notification%20content-type"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  The message/disposition-notification content-type</span>

   The message/disposition-notification content-type is defined as
   follows:

   MIME type name:      message

   MIME subtype name:   disposition-notification

   Optional parameters: none




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   Encoding considerations:  "7bit" encoding is sufficient and
                             MUST be used to maintain readability
                             when viewed by non-MIME mail readers.

   Security considerations:  discussed in <a href="#section-6">section 6</a> of this memo.

   The message/disposition-notification report type for use in the
   multipart/report is "disposition-notification".

   The body of a message/disposition-notification consists of one or
   more "fields" formatted according to the ABNF of [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>] header
   "fields".  The syntax of the message/disposition-notification content
   is as follows:

   disposition-notification-content = [ reporting-ua-field CRLF ]
      [ mdn-gateway-field CRLF ]
      [ original-recipient-field CRLF ]
      final-recipient-field CRLF
      [ original-message-id-field CRLF ]
      disposition-field CRLF
      *( failure-field CRLF )
      *( error-field CRLF )
      *( warning-field CRLF )
      *( extension-field CRLF )

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.1.%20%20General%20conventions%20for%20fields"></a><a class="selflink" href="#section-3.1.1" name="section-3.1.1">3.1.1</a>.  General conventions for fields</span>

   Since these fields are defined according to the rules of [RFC-
   MSGFMT], the same conventions for continuation lines and comments
   apply. Notification fields may be continued onto multiple lines by
   beginning each additional line with a SPACE or HTAB.  Text that
   appears in parentheses is considered a comment and not part of the
   contents of that notification field.  Field names are case-
   insensitive, so the names of notification fields may be spelled in
   any combination of upper and lower case letters.  Comments in
   notification fields may use the "encoded-word" construct defined in
   [<a href="#ref-RFC-MIME-HEADER" title='"MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text"'>RFC-MIME-HEADER</a>].

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.2.%20%20%22%2A-type%22%20subfields"></a><a class="selflink" href="#section-3.1.2" name="section-3.1.2">3.1.2</a>.  "*-type" subfields</span>

   Several fields consist of a "-type" subfield, followed by a semi-
   colon, followed by "*text".  For these fields, the keyword used in
   the address-type or MTA-type subfield indicates the expected format
   of the address or MTA-name that follows.







<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   The "-type" subfields are defined as follows:

   (a)  An "address-type" specifies the format of a mailbox address.
        For example, Internet Mail addresses use the "<a href="rfc822.html">rfc822</a>" address-
        type.

        address-type = atom

   (b)  An "MTA-name-type" specifies the format of a mail transfer agent
        name.  For example, for an SMTP server on an Internet host, the
        MTA name is the domain name of that host, and the "dns" MTA-
        name-type is used.

        mta-name-type = atom

   Values for address-type and mta-name-type are case-insensitive.
   Thus, address-type values of "<a href="rfc822.html">RFC822</a>" and "<a href="rfc822.html">rfc822</a>" are equivalent.

   The Internet Assigned Numbers Authority (IANA) maintains a registry
   of address-type and mta-name-type values, along with descriptions of
   the meanings of each, or a reference to one or more specifications
   that provide such descriptions.  (The "<a href="rfc822.html">rfc822</a>" address-type is
   defined in [<a href="#ref-RFC-DSN-SMTP" title='"Simple Mail Transfer Protocol (SMTP) Service Extension for Delivery Status Notifications"'>RFC-DSN-SMTP</a>].)  Registration forms for address-type and
   mta-name-type appear in [<a href="#ref-RFC-DSN-FORMAT" title='"An Extensible Format for Delivery Status Notifications (DSNs)"'>RFC-DSN-FORMAT</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Message%2Fdisposition-notification%20Fields"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Message/disposition-notification Fields</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.1.%20%20The%20Reporting-UA%20field"></a><a class="selflink" href="#section-3.2.1" name="section-3.2.1">3.2.1</a>.  The Reporting-UA field</span>

    reporting-ua-field = "Reporting-UA" ":" ua-name
              [ ";" ua-product ]

    ua-name = *text

    ua-product = *text

   The Reporting-UA field is defined as follows:

   An MDN describes the disposition of a message after it has been
   delivered to a recipient.  In all cases, the Reporting-UA is the MUA
   that performed the disposition described in the MDN.  This field is
   optional, but recommended.  For Internet Mail user agents, it is
   recommended that this field contain both: the DNS name of the
   particular instance of the MUA that generated the MDN, and the name
   of the product.  For example,

    Reporting-UA:  pc.example.com; Foomail 97.1




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   If the reporting MUA consists of more than one component (e.g., a
   base program and plug-ins), this may be indicated by including a list
   of product names.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.2.%20%20The%20MDN-Gateway%20field"></a><a class="selflink" href="#section-3.2.2" name="section-3.2.2">3.2.2</a>.  The MDN-Gateway field</span>

   The MDN-Gateway field indicates the name of the gateway or MTA that
   translated a foreign (non-Internet) message disposition notification
   into this MDN.  This field MUST appear in any MDN that was translated
   by a gateway from a foreign system into MDN format, and MUST NOT
   appear otherwise.

    mdn-gateway-field = "MDN-Gateway" ":" mta-name-type ";" mta-name

    mta-name = *text

   For gateways into Internet Mail, the MTA-name-type will normally be
   "smtp", and the mta-name will be the Internet domain name of the
   gateway.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.3.%20%20Original-Recipient%20field"></a><a class="selflink" href="#section-3.2.3" name="section-3.2.3">3.2.3</a>.  Original-Recipient field</span>

   The Original-Recipient field indicates the original recipient address
   as specified by the sender of the message for which the MDN is being
   issued.  For Internet Mail messages, the value of the Original-
   Recipient field is obtained from the Original-Recipient header from
   the message for which the MDN is being generated.  If there is no
   Original-Recipient header in the message, then the Original-Recipient
   field MUST be omitted, unless the same information is reliably
   available some other way.  If there is an Original-Recipient header
   in the original message (or original recipient information is
   reliably available some other way), then the Original-Recipient field
   must be supplied.  If there is more than one Original-Recipient
   header in the message, the MUA may choose the one to use, or act as
   if no Original-Recipient header is present.

    original-recipient-field =
              "Original-Recipient" ":" address-type ";"
              generic-address

    generic-address = *text

   The address-type field indicates the type of the original recipient
   address.  If the message originated within the Internet, the
   address-type field will normally be "<a href="rfc822.html">rfc822</a>", and the address will be
   according to the syntax specified in [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>].  The value
   "unknown" should be used if the Reporting MUA cannot determine the
   type of the original recipient address from the message envelope.



<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   This address is the same as that provided by the sender and can be
   used to automatically correlate MDN reports with original messages on
   a per recipient basis.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.4.%20%20Final-Recipient%20field"></a><a class="selflink" href="#section-3.2.4" name="section-3.2.4">3.2.4</a>.  Final-Recipient field</span>

   The Final-Recipient field indicates the recipient for which the MDN
   is being issued.  This field MUST be present.

   The syntax of the field is as follows:

    final-recipient-field =
              "Final-Recipient" ":" address-type ";" generic-address

   The generic-address subfield of the Final-Recipient field MUST
   contain the mailbox address of the recipient (from the From header of
   the MDN) as it was when the MDN was generated by the MUA.

   The Final-Recipient address may differ from the address originally
   provided by the sender, because it may have been transformed during
   forwarding and gatewaying into a totally unrecognizable mess.
   However, in the absence of the optional Original-Recipient field, the
   Final-Recipient field and any returned content may be the only
   information available with which to correlate the MDN with a
   particular message recipient.

   The address-type subfield indicates the type of address expected by
   the reporting MTA in that context.  Recipient addresses obtained via
   SMTP will normally be of address-type "<a href="rfc822.html">rfc822</a>".

   Since mailbox addresses (including those used in the Internet) may be
   case sensitive, the case of alphabetic characters in the address MUST
   be preserved.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.5.%20%20Original-Message-ID%20field"></a><a class="selflink" href="#section-3.2.5" name="section-3.2.5">3.2.5</a>.  Original-Message-ID field</span>

   The Original-Message-ID field indicates the message-ID of the message
   for which the MDN is being issued.  It is obtained from the Message-
   ID header of the message for which the MDN is issued.  This field
   MUST be present if the original message contained a Message-ID
   header.  The syntax of the field is as follows:

    original-message-id-field =
       "Original-Message-ID" ":" msg-id

   The msg-id token is as specified in [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>].





<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.6.%20%20Disposition%20field"></a><a class="selflink" href="#section-3.2.6" name="section-3.2.6">3.2.6</a>.  Disposition field</span>

   The Disposition field indicates the action performed by the
   Reporting-MUA on behalf of the user.  This field MUST be present.

   The syntax for the Disposition field is:

    disposition-field =
              "Disposition" ":" disposition-mode ";"
              disposition-type
              [ "/" disposition-modifier
              *( "," disposition-modifier ) ]

    disposition-mode = action-mode "/" sending-mode

    action-mode = "manual-action" / "automatic-action"

    sending-mode = "MDN-sent-manually" / "MDN-sent-automatically"

    disposition-type = "displayed"
               / "deleted"

    disposition-modifier = "error"
              / disposition-modifier-extension

    disposition-modifier-extension = atom

   The disposition-mode, disposition-type, and disposition-modifier may
   be spelled in any combination of upper and lower case characters.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/3.2.6.1.%20%20Disposition%20modes"></a><a class="selflink" href="#section-3.2.6.1" name="section-3.2.6.1">3.2.6.1</a>.  Disposition modes</span>

   The following disposition modes are defined:

    "manual-action"        The disposition described by the disposition
                           type was a result of an explicit instruction
                           by the user rather than some sort of
                           automatically performed action.

    "automatic-action"     The disposition described by the disposition
                           type was a result of an automatic action,
                           rather than an explicit instruction by the
                           user for this message.

   "Manual-action" and "automatic-action" are mutually exclusive.  One
   or the other MUST be specified.





<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


    "MDN-sent-manually"    The user explicitly gave permission for this
                           particular MDN to be sent.

    "MDN-sent-automatically"
                           The MDN was sent because the MUA had
                           previously been configured to do so
                           automatically.

   "MDN-sent-manually" and "MDN-sent-automatically" are mutually
   exclusive.  One or the other MUST be specified.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/3.2.6.2.%20%20Disposition%20types"></a><a class="selflink" href="#section-3.2.6.2" name="section-3.2.6.2">3.2.6.2</a>.  Disposition types</span>

   The following disposition-types are defined:

    "displayed"            The message has been displayed by the MUA
                           to someone reading the recipient's mailbox.
                           There is no guarantee that the content has
                           been read or understood.

    "deleted"              The message has been deleted.  The
                           recipient may or may not have seen the
                           message.  The recipient might "undelete"
                           the message at a later time and read the
                           message.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/3.2.6.3.%20%20Disposition%20modifiers"></a><a class="selflink" href="#section-3.2.6.3" name="section-3.2.6.3">3.2.6.3</a>.  Disposition modifiers</span>

   Only the extension disposition modifiers is defined:

    disposition-modifier-extension
                           Disposition modifiers may be defined
                           in the future by later revisions
                           or extensions to this specification.
                           Disposition value names beginning with "X-"
                           will never be defined as standard values;
                           such names are reserved for experimental
                           use.  MDN disposition value names NOT
                           beginning with "X-" MUST be registered with
                           the Internet Assigned Numbers Authority
                           (IANA) and described in a standards-track
                           RFC or an experimental RFC approved by the
                           IESG.  (See <a href="#section-10">Section 10</a> for a registration
                           form.)  MDNs with disposition modifier
                           names not understood by the receiving MUA
                           MAY be silently ignored or placed in the





<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


                           user's mailbox without special
                           interpretation.  They MUST not cause any
                           error message to be sent to the sender of
                           the MDN.

   If an MUA developer does not wish to register the meanings of such
   disposition modifier extensions, "X-" modifiers may be used for this
   purpose.  To avoid name collisions, the name of the MUA
   implementation should follow the "X-", (e.g., "X-Foomail-").

   It is not required that an MUA be able to generate all of the
   possible values of the Disposition field.

   A user agent MUST NOT issue more than one MDN on behalf of each
   particular recipient.  That is, once an MDN has been issued on behalf
   of a recipient, no further MDNs may be issued on behalf of that
   recipient, even if another disposition is performed on the message.
   However, if a message is forwarded, a "dispatched" MDN may be issued
   for the recipient doing the forwarding and the recipient of the
   forwarded message may also cause an MDN to be generated.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.7.%20%20Failure%2C%20Error%2C%20and%20Warning%20fields"></a><a class="selflink" href="#section-3.2.7" name="section-3.2.7">3.2.7</a>.  Failure, Error, and Warning fields</span>

   The Failure, Error, and Warning fields are used to supply additional
   information in the form of text messages when the "failure"
   disposition type, "error" disposition modifier, and/or the "warning"
   disposition modifier appear.  The syntax is as follows:

      failure-field = "Failure" ":" *text

      error-field = "Error" ":" *text

      warning-field = "Warning" ":" *text

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Extension-fields"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Extension-fields</span>

   Additional MDN fields may be defined in the future by later revisions
   or extensions to this specification.  Extension-field names beginning
   with "X-" will never be defined as standard fields; such names are
   reserved for experimental use.  MDN field names NOT beginning with
   "X-" MUST be registered with the Internet Assigned Numbers Authority
   (IANA) and described in a standards-track RFC or an experimental RFC
   approved by the IESG.  (See <a href="#section-10">Section 10</a> for a registration form.)








<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   MDN Extension-fields may be defined for the following reasons:

   (a)  To allow additional information from foreign disposition reports
        to be tunneled through Internet MDNs.  The names of such MDN
        fields should begin with an indication of the foreign
        environment name (e.g., X400-Physical-Forwarding-Address).

   (b)  To allow transmission of diagnostic information that is specific
        to a particular mail user agent (MUA).  The names of such MDN
        fields should begin with an indication of the MUA implementation
        that produced the MDN (e.g., Foomail-information).

   If an application developer does not wish to register the meanings of
   such extension fields, "X-" fields may be used for this purpose.  To
   avoid name collisions, the name of the application implementation
   should follow the "X-", (e.g., "X-Foomail-Log-ID" or "X-Foomail-EDI-
   info").

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Timeline%20of%20events"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Timeline of events</span>

   The following timeline shows when various events in the processing of
   a message and generation of MDNs take place:

   -- User composes message

   -- User tells MUA to send message

   -- MUA passes message to MTA (original recipient information passed
      along)

   -- MTA sends message to next MTA

   -- Final MTA receives message

   -- Final MTA delivers message to MUA (possibly generating a DSN)

   -- MUA performs automatic processing and generates corresponding MDNs
      ("dispatched", "processed", "deleted", "denied", or "failed"
      disposition type with "automatic-action" and "MDN-sent-
      automatically" disposition modes)

   -- MUA displays list of messages to user

   -- User selects a message and requests that some action be performed
      on it.






<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   -- MUA performs requested action and, with user's permission, sends
      an appropriate MDN ("displayed", "dispatched", "processed",
      "deleted", "denied", or "failed" disposition type, with "manual-
      action" and "MDN-sent-manually" or "MDN-sent-automatically"
      disposition mode).

   -- User possibly performs other actions on message, but no further
      MDNs are generated.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Conformance%20and%20Usage%20Requirements"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Conformance and Usage Requirements</span>

   An MUA or gateway conforms to this specification if it generates MDNs
   according to the protocol defined in this memo.  It is not necessary
   to be able to generate all of the possible values of the Disposition
   field.

   MUAs and gateways MUST NOT generate the Original-Recipient field of
   an MDN unless the mail protocols provide the address originally
   specified by the sender at the time of submission.  Ordinary SMTP
   does not make that guarantee, but the SMTP extension defined in
   [<a href="#ref-RFC-DSN-SMTP" title='"Simple Mail Transfer Protocol (SMTP) Service Extension for Delivery Status Notifications"'>RFC-DSN-SMTP</a>] permits such information to be carried in the envelope
   if it is available.  The Original-Recipient header defined in this
   document provides a way for the MTA to pass the original recipient
   address to the MUA.

   Each sender-specified recipient address may result in more than one
   MDN.  If an MDN is requested for a recipient that is forwarded to
   multiple recipients of an "alias" (as defined in [<a href="#ref-RFC-DSN-SMTP" title='"Simple Mail Transfer Protocol (SMTP) Service Extension for Delivery Status Notifications"'>RFC-DSN-SMTP</a>],
   section 6.2.7.3), each of the recipients may issue an MDN.

   Successful distribution of a message to a mailing list exploder
   SHOULD be considered the final disposition of the message.  A mailing
   list exploder MAY issue an MDN with a disposition type of "processed"
   and disposition modes of "automatic-action" and "MDN-sent-
   automatically" indicating that the message has been forwarded to the
   list.  In this case, the request for MDNs is not propagated to the
   members of the list.

   Alternatively, the mailing list exploder MAY issue no MDN and
   propagate the request for MDNs to all members of the list.  The
   latter behavior is not recommended for any but small, closely knit
   lists, as it might cause large numbers of MDNs to be generated and
   may cause confidential subscribers to the list to be revealed.  The
   mailing list exploder MAY also direct MDNs to itself, correlate them,
   and produce a report to the original sender of the message.

   This specification places no restrictions on the processing of MDNs
   received by user agents or mailing lists.



<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   The following security considerations apply when using MDNs:

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Forgery"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Forgery</span>

   MDNs may be forged as easily as ordinary Internet electronic mail.
   User agents and automatic mail handling facilities (such as mail
   distribution list exploders) that wish to make automatic use of MDNs
   should take appropriate precautions to minimize the potential damage
   from denial-of-service attacks.

   Security threats related to forged MDNs include the sending of:

   (a)  A falsified disposition notification when the indicated
        disposition of the message has not actually occurred,

   (b)  Unsolicited MDNs

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Privacy"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Privacy</span>

   Another dimension of security is privacy.  There may be cases in
   which a message recipient does not wish the disposition of messages
   addressed to him to be known, or is concerned that the sending of
   MDNs may reveal other sensitive information (e.g., when the message
   was read).  In this situation, it is acceptable for the MUA to issue
   "denied" MDNs or to silently ignore requests for MDNs.

   If the Disposition-Notification-To header is passed on unmodified
   when a message is distributed to the subscribers of a mailing list,
   the subscribers to the list may be revealed to the sender of the
   original message by the generation of MDNs.

   Headers of the original message returned in part 3 of the
   multipart/report could reveal confidential information about host
   names and/or network topology inside a firewall.

   An unencrypted MDN could reveal confidential information about an
   encrypted message, especially if all or part of the original message
   is returned in part 3 of the multipart/report.  Encrypted MDNs are
   not defined in this specification.

   In general, any optional MDN field may be omitted if the Reporting
   MUA site or user determines that inclusion of the field would impose
   too great a compromise of site confidentiality.  The need for such
   confidentiality must be balanced against the utility of the omitted
   information in MDNs.




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   In some cases, someone with access to the message stream may use the
   MDN request mechanism to monitor the mail reading habits of a target.
   If the target is known to generate MDN reports, they could add a
   disposition-notification-to field containing the envelope from
   address along with a source route.  The source route is ignored in
   the comparison so the addresses will always match.  But if the source
   route is honored when the notification is sent, it could direct the
   message to some other destination.  This risk can be minimized by not
   sending MDN's automatically.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Non-Repudiation"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Non-Repudiation</span>

   MDNs do not provide non-repudiation with proof of delivery.  Within
   the framework of today's Internet Mail, the MDNs defined in this
   document provide valuable information to the mail user; however, MDNs
   cannot be relied upon as a guarantee that a message was or was not
   seen by the recipient.  Even if MDNs are not actively forged, they
   may be lost in transit.  The recipient may bypass the MDN issuing
   mechanism in some manner.

   One possible solution for this purpose can be found in <a href="rfc2634.html">RFC 2634</a>
   [<a href="#ref-SEC-SERVICES" title='"Enhanced Security Services for S/MIME"'>SEC-SERVICES</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4.%20%20Mail%20Bombing"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a>.  Mail Bombing</span>

   The MDN request mechanism introduces an additional way of mailbombing
   a mailbox.  The MDN request notification provides an address to which
   MDN's should be sent.  It is possible for an attacking agent to send
   a potentially large set of messages to otherwise unsuspecting third
   party recipients with a false "disposition-notification-to:" address.
   Automatic, or simplistic processing of such requests would result in
   a flood of MDN notifications to the target of the attack.  Such an
   attack could overrun the capacity of the targeted mailbox and deny
   service.

   For that reason, MDN's SHOULD NOT be sent automatically where the
   "disposition-notification-to:" address is different from the envelope
   MAIL FROM address.  See <a href="#section-2.1">section 2.1</a> for further discussion.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Collected%20Grammar"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Collected Grammar</span>

   NOTE:  The following lexical tokens are defined in [<a href="#ref-RFC-MSGFMT" title='"Internet Message Format"'>RFC-MSGFMT</a>]:
   atom, CRLF, mailbox, msg-id, text.  The definitions of attribute and
   value are as in the definition of the Content-Type header in [RFC-
   MIME-BODY].






<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


Message headers:

  mdn-request-header =
     "Disposition-Notification-To" ":"
            mailbox *("," mailbox)

  Disposition-Notification-Options =
            "Disposition-Notification-Options" ":"
            disposition-notification-parameters

  disposition-notification-parameters =
            parameter *(";" parameter)

  parameter = attribute "=" importance "," value *("," value)

  importance = "required" / "optional"

  original-recipient-header =
            "Original-Recipient" ":" address-type ";" generic-address

Report content:

  disposition-notification-content =
            [ reporting-ua-field CRLF ]
            [ mdn-gateway-field CRLF ]
            [ original-recipient-field CRLF ]
            final-recipient-field CRLF
            [ original-message-id-field CRLF ]
            disposition-field CRLF
            *( failure-field CRLF )
            *( error-field CRLF )
            *( warning-field CRLF )
            *( extension-field CRLF )

  address-type = atom

  mta-name-type = atom

  reporting-ua-field = "Reporting-UA" ":" ua-name [ ";" ua-product ]

  ua-name = *text

  ua-product = *text

  mdn-gateway-field = "MDN-Gateway" ":" mta-name-type ";" mta-name

  mta-name = *text




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


  original-recipient-field
            = "Original-Recipient" ":" address-type ";"
            generic-address

  generic-address = *text

  final-recipient-field =
            "Final-Recipient" ":" address-type ";" generic-address

  disposition-field =
            "Disposition" ":" disposition-mode ";"
            disposition-type
            [ "/" disposition-modifier
            *( "," disposition-modifier ) ]

  disposition-mode = action-mode "/" sending-mode

  action-mode = "manual-action" / "automatic-action"

  sending-mode = "MDN-sent-manually" / "MDN-sent-automatically"

  disposition-type = "displayed"
            / "deleted"

  disposition-modifier =  "error" / disposition-modifier-extension

  disposition-modifier-extension = atom

  original-message-id-field = "Original-Message-ID" ":" msg-id

  failure-field = "Failure" ":" *text

  error-field = "Error" ":" *text

  warning-field = "Warning" ":" *text

  extension-field = extension-field-name ":" *text

  extension-field-name = atom

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Guidelines%20for%20Gatewaying%20MDNs"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Guidelines for Gatewaying MDNs</span>

   NOTE:  This section provides non-binding recommendations for the
   construction of mail gateways that wish to provide semi-transparent
   disposition notifications between the Internet and another electronic
   mail system.  Specific MDN gateway requirements for a particular pair
   of mail systems may be defined by other documents.




<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20Gatewaying%20from%20other%20mail%20systems%20to%20MDNs"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  Gatewaying from other mail systems to MDNs</span>

   A mail gateway may issue an MDN to convey the contents of a "foreign"
   disposition notification over Internet Mail.  When there are
   appropriate mappings from the foreign notification elements to MDN
   fields, the information may be transmitted in those MDN fields.
   Additional information (such as might be needed to tunnel the foreign
   notification through the Internet) may be defined in extension MDN
   fields.  (Such fields should be given names that identify the foreign
   mail protocol, e.g., X400-* for X.400 protocol elements).

   The gateway must attempt to supply reasonable values for the
   Reporting-UA, Final-Recipient, and Disposition fields.  These will
   normally be obtained by translating the values from the foreign
   notification into their Internet-style equivalents.  However, some
   loss of information is to be expected.

   The sender-specified recipient address and the original message-id,
   if present in the foreign notification, should be preserved in the
   Original-Recipient and Original-Message-ID fields.

   The gateway should also attempt to preserve the "final" recipient
   address from the foreign system.  Whenever possible, foreign protocol
   elements should be encoded as meaningful printable ASCII strings.

   For MDNs produced from foreign disposition notifications, the name of
   the gateway MUST appear in the MDN-Gateway field of the MDN.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20Gatewaying%20from%20MDNs%20to%20other%20mail%20systems"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  Gatewaying from MDNs to other mail systems</span>

   It may be possible to gateway MDNs from the Internet into a foreign
   mail system.  The primary purpose of such gatewaying is to convey
   disposition information in a form that is usable by the destination
   system.  A secondary purpose is to allow "tunneling" of MDNs through
   foreign mail systems in case the MDN may be gatewayed back into the
   Internet.

   In general, the recipient of the MDN (i.e., the sender of the
   original message) will want to know, for each recipient:  the closest
   available approximation to the original recipient address, and the
   disposition (displayed, printed, etc.).

   If possible, the gateway should attempt to preserve the Original-
   Recipient address and Original-Message-ID (if present) in the
   resulting foreign disposition report.






<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   If it is possible to tunnel an MDN through the destination
   environment, the gateway specification may define a means of
   preserving the MDN information in the disposition reports used by
   that environment.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.3.%20%20Gatewaying%20of%20MDN-requests%20to%20other%20mail%20systems"></a><a class="selflink" href="#section-8.3" name="section-8.3">8.3</a>.  Gatewaying of MDN-requests to other mail systems</span>

   By use of the separate disposition-notification-to request header,
   this specification offers a richer functionality than most, if not
   all, other email systems.  In most other email systems, the
   notification recipient is identical to the message sender as
   indicated in the "from" address.  There are two interesting cases
   when gatewaying into such systems:

   1) If the address in the disposition-notification-to header is
      identical to the address in the SMTP "MAIL FROM", the expected
      behavior will result, even if the disposition-notification-to
      information is lost.  Systems should propagate the MDN request.

   2) If the address in the disposition-notification-to header is
      different from the address in the SMTP "MAIL FROM", gatewaying
      into a foreign system without a separate notification address will
      result in unintended behavior.  This is especially important when
      the message arrives via a mailing list expansion software that may
      specifically replace the SMTP "MAIL FROM" address with an
      alternate address.  In such cases, the MDN request should not be
      gatewayed and should be silently dropped.  This is consistent with
      other forms of non-support for MDN.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Example"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Example</span>

   NOTE:  This example is provided as illustration only, and is not
   considered part of the MDN protocol specification.  If the example
   conflicts with the protocol definition above, the example is wrong.

   Likewise, the use of *-type subfield names or extension fields in
   this example is not to be construed as a definition for those type
   names or extension fields.

   This is an MDN issued after a message has been displayed to the user
   of an Internet Mail user agent.

   Date: Wed, 20 Sep 1995 00:19:00 (EDT) -0400
   From: Joe Recipient &lt;Joe_Recipient@example.com&gt;
   Message-Id: &lt;199509200019.12345@example.com&gt;
   Subject: Disposition notification
   To: Jane Sender &lt;Jane_Sender@example.org&gt;
   MIME-Version: 1.0



<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   Content-Type: multipart/report; report-type=disposition-notification;
      boundary="RAA14128.773615765/example.com"

   --RAA14128.773615765/example.com

   The message sent on 1995 Sep 19 at 13:30:00 (EDT) -0400 to Joe
   Recipient &lt;Joe_Recipient@example.com&gt; with subject "First draft of
   report" has been displayed.  This is no guarantee that the message
   has been read or understood.

   --RAA14128.773615765/example.com
   content-type: message/disposition-notification

   Reporting-UA: joes-pc.cs.example.com; Foomail 97.1
   Original-Recipient: <a href="rfc822.html">rfc822</a>;Joe_Recipient@example.com
   Final-Recipient: <a href="rfc822.html">rfc822</a>;Joe_Recipient@example.com
   Original-Message-ID: &lt;199509192301.23456@example.org&gt;
   Disposition: manual-action/MDN-sent-manually; displayed

   --RAA14128.773615765/example.com
   content-type: message/rfc822

   [original message optionally goes here]

   --RAA14128.773615765/example.com--

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  IANA Considerations</span>

   This document specifies three types of parameters that must be
   registered with the Internet Assigned Numbers Authority (IANA).

   The forms below are for use when registering a new parameter name for
   the Disposition-Notification-Options header, a new disposition
   modifier name, or a new MDN extension field.  Each piece of
   information required by a registration form may be satisfied either
   by providing the information on the form itself, or by including a
   reference to a published, publicly available specification that
   includes the necessary information.  IANA MAY reject registrations
   because of incomplete registration forms or incomplete
   specifications.

   To register, complete the following applicable form and send it via
   electronic mail to &lt;IANA@IANA.ORG&gt;.








<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Disposition-Notification-Options%20header%20parameter%20names"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Disposition-Notification-Options header parameter names</span>

   A registration for a Disposition-Notification-Options header
   parameter name MUST include the following information:

   (a)  The proposed parameter name.

   (b)  The syntax for parameter values, specified using BNF, ABNF,
        regular expressions, or other non-ambiguous language.

   (c)  If parameter values are not composed entirely of graphic
        characters from the US-ASCII repertoire, a specification for how
        they are to be encoded as graphic US-ASCII characters in a
        Disposition-Notification-Options header.

   (d)  A reference to a standards track RFC or experimental RFC
        approved by the IESG that describes the semantics of the
        parameter values.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20Disposition%20modifier%20names"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  Disposition modifier names</span>

   A registration for a disposition-modifier name (used in the
   Disposition field of a message/disposition-notification) MUST include
   the following information:

   (a)  The proposed disposition-modifier name.

   (b)  A reference to a standards track RFC or experimental RFC
        approved by the IESG that describes the semantics of the
        disposition modifier.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.3.%20%20MDN%20extension%20field%20names"></a><a class="selflink" href="#section-10.3" name="section-10.3">10.3</a>.  MDN extension field names</span>

   A registration for an MDN extension-field name MUST include the
   following information:

   (a)  The proposed extension field name.

   (b)  The syntax for extension values, specified using BNF, ABNF,
        regular expressions, or other non-ambiguous language.

   (c)  If extension-field values are not composed entirely of graphic
        characters from the US-ASCII repertoire, a specification for how
        they are to be encoded as graphic US-ASCII characters in a
        Disposition-Notification-Options header.






<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   (d)  A reference to a standards track RFC or experimental RFC
        approved by the IESG that describes the semantics of the
        extension field.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20Acknowledgments"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  Acknowledgments</span>

   This document is an updated version of the original document written
   by Roger Fajman.  His contributions to the definition of Message
   Disposition Notifications are greatly appreciated.

   <a href="rfc2298.html">RFC 2298</a> was based on the Delivery Status Notifications document
   [<a href="#ref-RFC-DSN-FORMAT" title='"An Extensible Format for Delivery Status Notifications (DSNs)"'>RFC-DSN-FORMAT</a>] by Keith Moore and Greg Vaudreuil.  Contributions
   were made by members of the IETF Receipt Working Group, including
   Harald Alvestrand, Ian Bell, Urs Eppenberger, Claus Andri Faerber,
   Ned Freed, Jim Galvin, Carl Hage, Mike Lake, Keith Moore, Paul
   Overell, Pete Resnick, and Chuck Shih.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20References"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/12.1.%20%20Normative%20References"></a><a class="selflink" href="#section-12.1" name="section-12.1">12.1</a>.  Normative References</span>

   [<a id="ref-RFC-SMTP" name="ref-RFC-SMTP">RFC-SMTP</a>]        Klensin, J., Ed., "Simple Mail Transfer Protocol",
                     <a href="rfc2821.html">RFC 2821</a>, April 2001.

   [<a id="ref-RFC-MSGFMT" name="ref-RFC-MSGFMT">RFC-MSGFMT</a>]      Resnick, P., Ed., "Internet Message Format", <a href="rfc2822.html">RFC</a>
                     <a href="rfc2822.html">2822</a>, April 2001.

   [<a id="ref-RFC-MIME-BODY" name="ref-RFC-MIME-BODY">RFC-MIME-BODY</a>]   Freed, N. and N. Borenstein, "Multipurpose Internet
                     Mail Extensions (MIME) Part One: Format of Internet
                     Message Bodies", <a href="rfc2045.html">RFC 2045</a>, November 1996.

   [<a id="ref-RFC-MIME-MEDIA" name="ref-RFC-MIME-MEDIA">RFC-MIME-MEDIA</a>]  Freed, N. and N. Borenstein, "Multipurpose Internet
                     Mail Extensions (MIME) Part Two: Media Types", <a href="rfc2046.html">RFC</a>
                     <a href="rfc2046.html">2046</a>, November 1996.

   [<a id="ref-RFC-MIME-HEADER" name="ref-RFC-MIME-HEADER">RFC-MIME-HEADER</a>] Moore, K., "MIME (Multipurpose Internet Mail
                     Extensions) Part Three: Message Header Extensions
                     for Non-ASCII Text", <a href="rfc2047.html">RFC 2047</a>, November 1996.

   [<a id="ref-RFC-REPORT" name="ref-RFC-REPORT">RFC-REPORT</a>]      Vaudreuil, G., "The Multipart/Report Content Type
                     for the Reporting of Mail System Administrative
                     Messages", <a href="rfc3462.html">RFC 3462</a>, January 2003.

   [<a id="ref-RFC-DSN-SMTP" name="ref-RFC-DSN-SMTP">RFC-DSN-SMTP</a>]    Moore, K., "Simple Mail Transfer Protocol (SMTP)
                     Service Extension for Delivery Status
                     Notifications", <a href="rfc3461.html">RFC 3461</a>, January 2003.





<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


   [<a id="ref-RFC-DSN-FORMAT" name="ref-RFC-DSN-FORMAT">RFC-DSN-FORMAT</a>]  Moore, K., and G. Vaudreuil, "An Extensible Format
                     for Delivery Status Notifications (DSNs)", <a href="rfc3464.html">RFC</a>
                     <a href="rfc3464.html">3464</a>, January 2003.

   [<a id="ref-RFC-KEYWORDS" name="ref-RFC-KEYWORDS">RFC-KEYWORDS</a>]    Bradner, S., "Key Words for Use in RFCs to Indicate
                     Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/12.2.%20%20Informative%20References"></a><a class="selflink" href="#section-12.2" name="section-12.2">12.2</a>.  Informative References</span>

   [<a id="ref-SEC-SERVICES" name="ref-SEC-SERVICES">SEC-SERVICES</a>]    Hoffman, P., Ed., "Enhanced Security Services for
                     S/MIME", <a href="rfc2634.html">RFC 2634</a>, June 1999.








































<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


Appendix A - Changes from <a href="rfc2298.html">RFC 2298</a>

   The document has new editors.

   The dispositions "denied", and "failed" were removed from the
   document reflecting the lack of implementation or usage at this time.

   The disposition modifiers "warning", "superseded", "expired",
   "mailbox-terminated" have not seen actual implementation.  They have
   been deleted from this document.  The extension modifier, as of yet
   unused, has been retained for future extension.

   General editorial cleanups include spelling, grammar, and consistency
   in usage of terms.

   The document has modified BNF for disposition notification options to
   eliminate the need for dummy values where not otherwise needed.

Authors' Addresses

   Tony Hansen
   AT&amp;T Laboratories
   Middletown, NJ 07748
   USA
   Voice: +1-732-420-8934
   EMail: tony+<a href="rfc3798.html">rfc3798</a>@maillennium.att.com

   Gregory M. Vaudreuil
   Lucent Technologies
   7291 Williamson Rd
   Dallas, TX 75214
   USA
   Voice: +1 214 823 9325
   EMail: GregV@ieee.org

















<span class="grey">Hansen &amp; Vaudreuil          Standards Track                    [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc3798.html">RFC 3798</a>            Message Disposition Notification            May 2004</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and
   except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.









Hansen &amp; Vaudreuil          Standards Track                    [Page 30]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc3798 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:45 GMT --></html>