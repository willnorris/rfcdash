<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc5316 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:41:54 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.119" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-chen-ccamp-isis-interas-te-extension" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:5316" name="DC.Identifier"/>
<meta content="December, 2008" name="DC.Date.Issued"/>
<meta content="Chen, Mach(Guoyi)" name="DC.Creator"/>
<meta content="Duan, Xiaodong" name="DC.Creator"/>
<meta content="Zhang, Renhai" name="DC.Creator"/>
<meta content="This document describes extensions to the ISIS (ISIS) protocol to
support Multiprotocol Label Switching (MPLS) and Generalized MPLS
(GMPLS) Traffic Engineering (TE) for multiple Autonomous Systems
(ASes). It defines ISIS-TE extensions for the flooding of TE
information about inter-AS links which can be used to perform inter-
AS TE path computation.  No support for flooding TE information from
outside the AS is proposed or defined in this document." name="DC.Description.Abstract"/>
<meta content="ISIS Extensions in Support of Inter-AS Multiprotocol Label Switching (MPLS) and Generalized MPLS (GMPLS) Traffic Engineering" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 5316 - ISIS Extensions in Support of Inter-AS Multiprotocol Label Switching (MPLS) and Generalized MPLS (GMPLS) Traffic Engineering</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5316.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5316" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-ccamp-isis-interas-te-extension" title="draft-ietf-ccamp-isis-interas-te-extension">draft-ietf-ccamp-...</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5316" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5316" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=5316&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]           </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                            M. Chen
Request for Comments: 5316                                      R. Zhang
Category: Standards Track                   Huawei Technologies Co., Ltd
                                                                 X. Duan
                                                            China Mobile
                                                           December 2008


      <span class="h1">ISIS Extensions in Support of Inter-Autonomous System (AS)</span>
                   <span class="h1">MPLS and GMPLS Traffic Engineering</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (c) 2008 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/</a>
   <a href="http://trustee.ietf.org/license-info">license-info</a>) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   This document describes extensions to the ISIS (ISIS) protocol to
   support Multiprotocol Label Switching (MPLS) and Generalized MPLS
   (GMPLS) Traffic Engineering (TE) for multiple Autonomous Systems
   (ASes).  It defines ISIS-TE extensions for the flooding of TE
   information about inter-AS links, which can be used to perform inter-
   AS TE path computation.

   No support for flooding information from within one AS to another AS
   is proposed or defined in this document.










<span class="grey">Chen, et al.                Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
      <a href="#section-1.1">1.1</a>. Conventions Used in This Document ..........................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Problem Statement ...............................................<a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>. A Note on Non-Objectives ...................................<a href="#page-4">4</a>
      <a href="#section-2.2">2.2</a>. Per-Domain Path Determination ..............................<a href="#page-4">4</a>
      <a href="#section-2.3">2.3</a>. Backward Recursive Path Computation ........................<a href="#page-6">6</a>
   <a href="#section-3">3</a>. Extensions to ISIS-TE ...........................................<a href="#page-7">7</a>
      <a href="#section-3.1">3.1</a>. Inter-AS Reachability TLV ..................................<a href="#page-7">7</a>
      <a href="#section-3.2">3.2</a>. TE Router ID ...............................................<a href="#page-9">9</a>
      <a href="#section-3.3">3.3</a>. Sub-TLV Detail .............................................<a href="#page-9">9</a>
           <a href="#section-3.3.1">3.3.1</a>. Remote AS Number Sub-TLV ............................<a href="#page-9">9</a>
           <a href="#section-3.3.2">3.3.2</a>. IPv4 Remote ASBR ID Sub-TLV ........................<a href="#page-10">10</a>
           <a href="#section-3.3.3">3.3.3</a>. IPv6 Remote ASBR ID Sub-TLV ........................<a href="#page-11">11</a>
           <a href="#section-3.3.4">3.3.4</a>. IPv4 TE Router ID sub-TLV ..........................<a href="#page-11">11</a>
           <a href="#section-3.3.5">3.3.5</a>. IPv6 TE Router ID sub-TLV ..........................<a href="#page-12">12</a>
   <a href="#section-4">4</a>. Procedure for Inter-AS TE Links ................................<a href="#page-12">12</a>
      <a href="#section-4.1">4.1</a>. Origin of Proxied TE Information ..........................<a href="#page-14">14</a>
   <a href="#section-5">5</a>. Security Considerations ........................................<a href="#page-14">14</a>
   <a href="#section-6">6</a>. IANA Considerations ............................................<a href="#page-15">15</a>
      <a href="#section-6.1">6.1</a>. Inter-AS Reachability TLV .................................<a href="#page-15">15</a>
      <a href="#section-6.2">6.2</a>. Sub-TLVs for the Inter-AS Reachability TLV ................<a href="#page-15">15</a>
      <a href="#section-6.3">6.3</a>. Sub-TLVs for the IS-IS Router Capability TLV ..............<a href="#page-17">17</a>
   <a href="#section-7">7</a>. Acknowledgments ................................................<a href="#page-17">17</a>
   <a href="#section-8">8</a>. References .....................................................<a href="#page-17">17</a>
      <a href="#section-8.1">8.1</a>. Normative References ......................................<a href="#page-17">17</a>
      <a href="#section-8.2">8.2</a>. Informative References ....................................<a href="#page-17">17</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   [<a id="ref-ISIS-TE" name="ref-ISIS-TE">ISIS-TE</a>] defines extensions to the ISIS protocol [<a href="#ref-ISIS" title='"Use of OSI IS-IS for routing in TCP/IP and dual environments"'>ISIS</a>] to support
   intra-area Traffic Engineering (TE).  The extensions provide a way of
   encoding the TE information for TE-enabled links within the network
   (TE links) and flooding this information within an area.  The
   extended IS reachability TLV and traffic engineering router ID TLV,
   which are defined in [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>], are used to carry such TE
   information.  The extended IS reachability TLV has several nested
   sub-TLVs that describe the TE attributes for a TE link.

   [<a id="ref-ISIS-TE-V3" name="ref-ISIS-TE-V3">ISIS-TE-V3</a>] and [<a href="#ref-GMPLS-TE" title='"IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"'>GMPLS-TE</a>] define similar extensions to ISIS [<a href="#ref-ISIS" title='"Use of OSI IS-IS for routing in TCP/IP and dual environments"'>ISIS</a>]
   in support of IPv6 and GMPLS traffic engineering, respectively.

   Requirements for establishing Multiprotocol Label Switching (MPLS) TE
   Label Switched Paths (LSPs) that cross multiple Autonomous Systems
   (ASes) are described in [<a href="#ref-INTER-AS-TE-REQ" title='"MPLS Inter-Autonomous System (AS) Traffic Engineering (TE) Requirements"'>INTER-AS-TE-REQ</a>].  As described in [INTER-
   AS-TE-REQ], a method SHOULD provide the ability to compute a path
   spanning multiple ASes.  So a path computation entity that may be the



<span class="grey">Chen, et al.                Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   head-end Label Switching Router (LSR), an AS Border Router (ASBR), or
   a Path Computation Element (PCE [<a href="#ref-PCE" title='"A Path Computation Element (PCE)-Based Architecture"'>PCE</a>]) needs to know the TE
   information not only of the links within an AS, but also of the links
   that connect to other ASes.

   In this document, a new TLV, which is referred to as the inter-AS
   reachability TLV, is defined to advertise inter-AS TE information,
   and three new sub-TLVs are defined for inclusion in the inter-AS
   reachability TLV to carry the information about the remote AS number
   and remote ASBR ID.  The sub-TLVs defined in [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>], [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>],
   and other documents for inclusion in the extended IS reachability TLV
   for describing the TE properties of a TE link are applicable to be
   included in the inter-AS reachability TLV for describing the TE
   properties of an inter-AS TE link as well.  Also, two more new sub-
   TLVs are defined for inclusion in the IS-IS router capability TLV to
   carry the TE Router ID when the TE Router ID needs to reach all
   routers within an entire ISIS routing domain.  The extensions are
   equally applicable to IPv4 and IPv6 as identical extensions to
   [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>] and [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>].  Detailed definitions and procedures are
   discussed in the following sections.

   This document does not propose or define any mechanisms to advertise
   any other extra-AS TE information within ISIS.  See <a href="#section-2.1">Section 2.1</a> for a
   full list of non-objectives for this work.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC-2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Problem%20Statement"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Problem Statement</span>

   As described in [<a href="#ref-INTER-AS-TE-REQ" title='"MPLS Inter-Autonomous System (AS) Traffic Engineering (TE) Requirements"'>INTER-AS-TE-REQ</a>], in the case of establishing an
   inter-AS TE LSP that traverses multiple ASes, the Path message
   [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>] may include the following elements in the Explicit Route
   Object (ERO) in order to describe the path of the LSP:

   -  a set of AS numbers as loose hops, and/or

   -  a set of LSRs including ASBRs as loose hops.

   Two methods for determining inter-AS paths are currently being
   discussed.  The per-domain method [<a href="#ref-PD-PATH" title='"A Per-Domain Path Computation Method for Establishing Inter-Domain Traffic Engineering (TE) Label Switched Paths (LSPs)"'>PD-PATH</a>] determines the path one
   domain at a time.  The backward recursive method [<a href="#ref-BRPC" title='"A Backward Recursive PCE-Based Computation (BRPC) Procedure to Compute Shortest Inter-Domain Traffic Engineering Label Switched Paths"'>BRPC</a>] uses
   cooperation between PCEs to determine an optimum inter-domain path.
   The sections that follow examine how inter-AS TE link information
   could be useful in both cases.



<span class="grey">Chen, et al.                Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20A%20Note%20on%20Non-Objectives"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  A Note on Non-Objectives</span>

   It is important to note that this document does not make any change
   to the confidentiality and scaling assumptions surrounding the use of
   ASes in the Internet.  In particular, this document is conformant to
   the requirements set out in [<a href="#ref-INTER-AS-TE-REQ" title='"MPLS Inter-Autonomous System (AS) Traffic Engineering (TE) Requirements"'>INTER-AS-TE-REQ</a>].

   The following features are explicitly excluded:

   o  There is no attempt to distribute TE information from within one
      AS to another AS.

   o  There is no mechanism proposed to distribute any form of TE
      reachability information for destinations outside the AS.

   o  There is no proposed change to the PCE architecture or usage.

   o  TE aggregation is not supported or recommended.

   o  There is no exchange of private information between ASes.

   o  No ISIS adjacencies are formed on the inter-AS link.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Per-Domain%20Path%20Determination"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Per-Domain Path Determination</span>

   In the per-domain method of determining an inter-AS path for an
   MPLS-TE LSP, when an LSR that is an entry-point to an AS receives a
   Path message from an upstream AS with an ERO containing a next hop
   that is an AS number, it needs to find which LSRs (ASBRs) within the
   local AS are connected to the downstream AS.  That way, it can
   compute a TE LSP segment across the local AS to one of those LSRs and
   forward the Path message to that LSR and hence into the next AS.  See
   Figure 1 for an example.

                R1------R3----R5-----R7------R9-----R11
                        |     | \    |      / |
                        |     |  \   |  ----  |
                        |     |   \  | /      |
                R2------R4----R6   --R8------R10----R12
                           :              :
                &lt;-- AS1 --&gt;:&lt;---- AS2 ---&gt;:&lt;--- AS3 ---&gt;

                    Figure 1: Inter-AS Reference Model

   The figure shows three ASes (AS1, AS2, and AS3) and twelve LSRs (R1
   through R12).  R3 and R4 are ASBRs in AS1.  R5, R6, R7, and R8 are
   ASBRs in AS2.  R9 and R10 are ASBRs in AS3.




<span class="grey">Chen, et al.                Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   If an inter-AS TE LSP is planned to be established from R1 to R12,
   the AS sequence will be: AS1, AS2, AS3.

   Suppose that the Path message enters AS2 from R3.  The next hop in
   the ERO shows AS3, and R5 must determine a path segment across AS2 to
   reach AS3.  It has a choice of three exit points from AS2 (R6, R7,
   and R8), and it needs to know which of these provide TE connectivity
   to AS3, and whether the TE connectivity (for example, available
   bandwidth) is adequate for the requested LSP.

   Alternatively, if the next hop in the ERO is the entry ASBR for AS3
   (say R9), R5 needs to know which of its exit ASBRs has a TE link that
   connects to R9.  Since there may be multiple ASBRs that are connected
   to R9 (both R7 and R8 in this example), R5 also needs to know the TE
   properties of the inter-AS TE links so that it can select the correct
   exit ASBR.

   Once the Path message reaches the exit ASBR, any choice of inter-AS
   TE link can be made by the ASBR if not already made by the entry ASBR
   that computed the segment.

   More details can be found in Section 4 of [<a href="#ref-PD-PATH" title='"A Per-Domain Path Computation Method for Establishing Inter-Domain Traffic Engineering (TE) Label Switched Paths (LSPs)"'>PD-PATH</a>], which clearly
   points out why advertising of inter-AS links is desired.

   To enable R5 to make the correct choice of exit ASBR, the following
   information is needed:

   o  List of all inter-AS TE links for the local AS.

   o  TE properties of each inter-AS TE link.

   o  AS number of the neighboring AS connected to by each inter-AS TE
      link.

   o  Identity (TE Router ID) of the neighboring ASBR connected to by
      each inter-AS TE link.

   In GMPLS networks, further information may also be required to select
   the correct TE links as defined in [<a href="#ref-GMPLS-TE" title='"IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"'>GMPLS-TE</a>].

   The example above shows how this information is needed at the entry-
   point ASBRs for each AS (or the PCEs that provide computation
   services for the ASBRs).  However, this information is also needed
   throughout the local AS if path computation functionality is fully
   distributed among LSRs in the local AS, for example to support LSPs
   that have start points (ingress nodes) within the AS.





<span class="grey">Chen, et al.                Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Backward%20Recursive%20Path%20Computation"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Backward Recursive Path Computation</span>

   Another scenario using PCE techniques has the same problem.  [<a href="#ref-BRPC" title='"A Backward Recursive PCE-Based Computation (BRPC) Procedure to Compute Shortest Inter-Domain Traffic Engineering Label Switched Paths"'>BRPC</a>]
   defines a PCE-based TE LSP computation method (called Backward
   Recursive Path Computation) to compute optimal inter-domain
   constrained MPLS-TE or GMPLS LSPs.  In this path computation method,
   a specific set of traversed domains (ASes) are assumed to be selected
   before computation starts.  Each downstream PCE in domain(i) returns
   to its upstream neighbor PCE in domain(i-1) a multipoint-to-point
   tree of potential paths.  Each tree consists of the set of paths from
   all boundary nodes located in domain(i) to the destination where each
   path satisfies the set of required constraints for the TE LSP
   (bandwidth, affinities, etc.).

   So a PCE needs to select boundary nodes (that is, ASBRs) that provide
   connectivity from the upstream AS.  In order for the tree of paths
   provided by one PCE to its neighbor to be correlated, the identities
   of the ASBRs for each path need to be referenced.  Thus, the PCE must
   know the identities of the ASBRs in the remote AS that are reached by
   any inter-AS TE link, and, in order to provide only suitable paths in
   the tree, the PCE must know the TE properties of the inter-AS TE
   links.  See the following figure as an example.

                   PCE1&lt;------&gt;PCE2&lt;--------&gt;PCE3
                   /       :             :
                  /        :             :
                R1------R3----R5-----R7------R9-----R11
                        |     | \    |      / |
                        |     |  \   |  ----  |
                        |     |   \  | /      |
                R2------R4----R6   --R8------R10----R12
                           :              :
                &lt;-- AS1 --&gt;:&lt;---- AS2 ---&gt;:&lt;--- AS3 ---&gt;

               Figure 2: BRPC for Inter-AS Reference Model

   The figure shows three ASes (AS1, AS2, and AS3), three PCEs (PCE1,
   PCE2, and PCE3), and twelve LSRs (R1 through R12).  R3 and R4 are
   ASBRs in AS1.  R5, R6, R7, and R8 are ASBRs in AS2.  R9 and R10 are
   ASBRs in AS3.  PCE1, PCE2, and PCE3 cooperate to perform inter-AS
   path computation and are responsible for path segment computation
   within their own domain(s).

   If an inter-AS TE LSP is planned to be established from R1 to R12,
   the traversed domains are assumed to be selected: AS1-&gt;AS2-&gt;AS3, and
   the PCE chain is: PCE1-&gt;PCE2-&gt;PCE3.  First, the path computation
   request originated from the PCC (R1) is relayed by PCE1 and PCE2
   along the PCE chain to PCE3.  Then, PCE3 begins to compute the path



<span class="grey">Chen, et al.                Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   segments from the entry boundary nodes that provide connection from
   AS2 to the destination (R12).  But, to provide suitable path
   segments, PCE3 must determine which entry boundary nodes provide
   connectivity to its upstream neighbor AS (identified by its AS
   number), and must know the TE properties of the inter-AS TE links.
   In the same way, PCE2 also needs to determine the entry boundary
   nodes according to its upstream neighbor AS and the inter-AS TE link
   capabilities.

   Thus, to support Backward Recursive Path Computation, the same
   information listed in <a href="#section-2.2">Section 2.2</a> is required.  The AS number of the
   neighboring AS connected to by each inter-AS TE link is particularly
   important.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Extensions%20to%20ISIS-TE"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Extensions to ISIS-TE</span>

   Note that this document does not define mechanisms for distribution
   of TE information from one AS to another, does not distribute any
   form of TE reachability information for destinations outside the AS,
   does not change the PCE architecture or usage, does not suggest or
   recommend any form of TE aggregation, and does not feed private
   information between ASes.  See <a href="#section-2.1">Section 2.1</a>.

   In this document, for the advertisement of inter-AS TE links, a new
   TLV, which is referred to as the inter-AS reachability TLV, is
   defined.  Three new sub-TLVs are also defined for inclusion in the
   inter-AS reachability TLV to carry the information about the
   neighboring AS number and the remote ASBR ID of an inter-AS link.
   The sub-TLVs defined in [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>], [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>], and other documents
   for inclusion in the extended IS reachability TLV are applicable to
   be included in the inter-AS reachability TLV for inter-AS TE links
   advertisement.  Also, two other new sub-TLVs are defined for
   inclusion in the IS-IS router capability TLV to carry the TE Router
   ID when the TE Router ID is needed to reach all routers within an
   entire ISIS routing domain.

   While some of the TE information of an inter-AS TE link may be
   available within the AS from other protocols, in order to avoid any
   dependency on where such protocols are processed, this mechanism
   carries all the information needed for the required TE operations.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Inter-AS%20Reachability%20TLV"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Inter-AS Reachability TLV</span>

   The inter-AS reachability TLV has type 141 (see <a href="#section-6.1">Section 6.1</a>) and
   contains a data structure consisting of:






<span class="grey">Chen, et al.                Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


      o  4 octets of Router ID
      o  3 octets of default metric
      o  1 octet of control information, consisting of:
         -  1 bit of flooding-scope information (S bit)
         -  1 bit of up/down information (D bit)
         -  6 bits reserved
      o  1 octet of length of sub-TLVs
      o  0-246 octets of sub-TLVs, where each sub-TLV consists of a
         sequence of:
         -  1 octet of sub-type
         -  1 octet of length of the value field of the sub-TLV
         -  0-244 octets of value

   Compared to the extended reachability TLV, which is defined in
   [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>], the inter-AS reachability TLV replaces the "7 octets of
   System ID and Pseudonode Number" field with a "4 octets of Router ID"
   field and introduces an extra "control information" field, which
   consists of a flooding-scope bit (S bit), an up/down bit (D bit), and
   6 reserved bits.

   The Router ID field of the inter-AS reachability TLV is 4 octets in
   length, which contains the Router ID of the router who generates the
   inter-AS reachability TLV.  The Router ID MUST be unique within the
   ISIS area.  If the router generates inter-AS reachability TLV with
   entire ISIS routing domain flooding scope, then the Router ID MUST
   also be unique within the entire ISIS routing domain.  The Router ID
   could be used to indicate the source of the inter-AS reachability
   TLV.

   The flooding procedures for inter-AS reachability TLV are identical
   to the flooding procedures for the GENINFO TLV, which are defined in
   Section 4 of [<a href="#ref-GENINFO" title='"Advertising Generic Information in IS-IS"'>GENINFO</a>].  These procedures have been previously
   discussed in [<a href="#ref-ISIS-CAP" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>ISIS-CAP</a>].  The flooding-scope bit (S bit) SHOULD be
   set to 0 if the flooding scope is to be limited to within the single
   IGP area to which the ASBR belongs.  It MAY be set to 1 if the
   information is intended to reach all routers (including area border
   routers, ASBRs, and PCEs) in the entire ISIS routing domain.  The
   choice between the use of 0 or 1 is an AS-wide policy choice, and
   configuration control SHOULD be provided in ASBR implementations that
   support the advertisement of inter-AS TE links.

   The sub-TLVs defined in [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>], [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>], and other documents
   for describing the TE properties of a TE link are also applicable to
   the inter-AS reachability TLV for describing the TE properties of an
   inter-AS TE link.  Apart from these sub-TLVs, three new sub-TLVs are
   defined for inclusion in the inter-AS reachability TLV defined in
   this document:




<span class="grey">Chen, et al.                Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   Sub-TLV type    Length  Name
   ------------    ------  ---------------------------
             24        4   remote AS number
             25        4   IPv4 remote ASBR identifier
             26       16   IPv6 remote ASBR identifier

   The detailed definitions of the three new sub-TLVs are described in
   <a href="#section-3.3">Section 3.3</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20TE%20Router%20ID"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  TE Router ID</span>

   The IPv4 TE Router ID TLV and IPv6 TE Router ID TLV, which are
   defined in [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>] and [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>] respectively, only have area
   flooding-scope.  When performing inter-AS TE, the TE Router ID MAY be
   needed to reach all routers within an entire ISIS routing domain and
   it MUST have the same flooding scope as the inter-AS reachability TLV
   does.

   [<a id="ref-ISIS-CAP" name="ref-ISIS-CAP">ISIS-CAP</a>] defines a generic advertisement mechanism for ISIS, which
   allows a router to advertise its capabilities within an ISIS area or
   an entire ISIS routing domain.  [<a href="#ref-ISIS-CAP" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>ISIS-CAP</a>] also points out that the
   TE Router ID is a candidate to be carried in the IS-IS router
   capability TLV when performing inter-area TE.

   This document uses such mechanism for TE Router ID advertisement when
   the TE Router ID is needed to reach all routers within an entire ISIS
   Routing domain.  Two new sub-TLVs are defined for inclusion in the
   IS-IS router capability TLV to carry the IPv4 and IPv6 TE Router IDs,
   respectively:

   Sub-TLV type   Length  Name
   ------------    ------  -----------------
             11        4   IPv4 TE Router ID
             12       16   IPv6 TE Router ID

   Detailed definitions of the two new sub-TLVs are described in <a href="#section-3.3">Section</a>
   <a href="#section-3.3">3.3</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Sub-TLV%20Detail"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Sub-TLV Detail</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.1.%20%20Remote%20AS%20Number%20Sub-TLV"></a><a class="selflink" href="#section-3.3.1" name="section-3.3.1">3.3.1</a>.  Remote AS Number Sub-TLV</span>

   A new sub-TLV, the remote AS number sub-TLV, is defined for inclusion
   in the inter-AS reachability TLV when advertising inter-AS links.
   The remote AS number sub-TLV specifies the AS number of the
   neighboring AS to which the advertised link connects.





<span class="grey">Chen, et al.                Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   The remote AS number sub-TLV is TLV type 24 (see <a href="#section-6.2">Section 6.2</a>) and is
   4 octets in length.  The format is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Type             |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Remote AS Number                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The Remote AS number field has 4 octets.  When only 2 octets are used
   for the AS number, as in current deployments, the left (high-order) 2
   octets MUST be set to 0.  The remote AS number sub-TLV MUST be
   included when a router advertises an inter-AS TE link.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.2.%20%20IPv4%20Remote%20ASBR%20ID%20Sub-TLV"></a><a class="selflink" href="#section-3.3.2" name="section-3.3.2">3.3.2</a>.  IPv4 Remote ASBR ID Sub-TLV</span>

   A new sub-TLV, which is referred to as the IPv4 remote ASBR ID sub-
   TLV, is defined for inclusion in the inter-AS reachability TLV when
   advertising inter-AS links.  The IPv4 remote ASBR ID sub-TLV
   specifies the IPv4 identifier of the remote ASBR to which the
   advertised inter-AS link connects.  This could be any stable and
   routable IPv4 address of the remote ASBR.  Use of the TE Router ID as
   specified in the Traffic Engineering router ID TLV [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>] is
   RECOMMENDED.

   The IPv4 remote ASBR ID sub-TLV is TLV type 25 (see <a href="#section-6.2">Section 6.2</a>) and
   is 4 octets in length.  The format of the IPv4 remote ASBR ID sub-TLV
   is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Type             |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Remote ASBR ID                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The IPv4 remote ASBR ID sub-TLV MUST be included if the neighboring
   ASBR has an IPv4 address.  If the neighboring ASBR does not have an
   IPv4 address (not even an IPv4 TE Router ID), the IPv6 remote ASBR ID
   sub-TLV MUST be included instead.  An IPv4 remote ASBR ID sub-TLV and
   IPv6 remote ASBR ID sub-TLV MAY both be present in an extended IS
   reachability TLV.






<span class="grey">Chen, et al.                Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.3.%20%20IPv6%20Remote%20ASBR%20ID%20Sub-TLV"></a><a class="selflink" href="#section-3.3.3" name="section-3.3.3">3.3.3</a>.  IPv6 Remote ASBR ID Sub-TLV</span>

   A new sub-TLV, which is referred to as the IPv6 remote ASBR ID sub-
   TLV, is defined for inclusion in the inter-AS reachability TLV when
   advertising inter-AS links.  The IPv6 remote ASBR ID sub-TLV
   specifies the IPv6 identifier of the remote ASBR to which the
   advertised inter-AS link connects.  This could be any stable and
   routable IPv6 address of the remote ASBR.  Use of the TE Router ID as
   specified in the IPv6 Traffic Engineering router ID TLV [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>]
   is RECOMMENDED.

   The IPv6 remote ASBR ID sub-TLV is TLV type 26 (see <a href="#section-6.2">Section 6.2</a>) and
   is 16 octets in length.  The format of the IPv6 remote ASBR ID sub-
   TLV is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Type             |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Remote ASBR ID                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Remote ASBR ID (continued)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Remote ASBR ID (continued)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Remote ASBR ID (continued)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The IPv6 remote ASBR ID sub-TLV MUST be included if the neighboring
   ASBR has an IPv6 address.  If the neighboring ASBR does not have an
   IPv6 address, the IPv4 remote ASBR ID sub-TLV MUST be included
   instead.  An IPv4 remote ASBR ID sub-TLV and IPv6 remote ASBR ID
   sub-TLV MAY both be present in an extended IS reachability TLV.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.4.%20%20IPv4%20TE%20Router%20ID%20sub-TLV"></a><a class="selflink" href="#section-3.3.4" name="section-3.3.4">3.3.4</a>.  IPv4 TE Router ID sub-TLV</span>

   The IPv4 TE Router ID sub-TLV is TLV type 11 (see <a href="#section-6.3">Section 6.3</a>) and is
   4 octets in length.  The format of the IPv4 TE Router ID sub-TLV is
   as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Type             |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       TE Router ID                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



<span class="grey">Chen, et al.                Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>



   When the TE Router ID is needed to reach all routers within an entire
   ISIS routing domain, the IS-IS Router capability TLV MUST be included
   in its LSP.  If an ASBR supports Traffic Engineering for IPv4 and if
   the ASBR has an IPv4 TE Router ID, the IPv4 TE Router ID sub-TLV MUST
   be included.  If the ASBR does not have an IPv4 TE Router ID, the
   IPv6 TE Router sub-TLV MUST be included instead.  An IPv4 TE Router
   ID sub-TLV and IPv6 TE Router ID sub-TLV MAY both be present in an
   IS-IS router capability TLV.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.5.%20%20IPv6%20TE%20Router%20ID%20sub-TLV"></a><a class="selflink" href="#section-3.3.5" name="section-3.3.5">3.3.5</a>.  IPv6 TE Router ID sub-TLV</span>

   The IPv6 TE Router ID sub-TLV is TLV type 12 (see <a href="#section-6.3">Section 6.3</a>) and is
   4 octets in length.  The format of the IPv6 TE Router ID sub-TLV is
   as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              Type             |             Length            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       TE Router ID                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       TE Router ID   (continued)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       TE Router ID   (continued)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       TE Router ID   (continued)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   When the TE Router ID is needed to reach all routers within an entire
   ISIS routing domain, the IS-IS router capability TLV MUST be included
   in its LSP.  If an ASBR supports Traffic Engineering for IPv6 and if
   the ASBR has an IPv6 TE Router ID, the IPv6 TE Router ID sub-TLV MUST
   be included.  If the ASBR does not have an IPv6 TE Router ID, the
   IPv4 TE Router sub-TLV MUST be included instead.  An IPv4 TE Router
   ID sub-TLV and IPv6 TE Router ID sub-TLV MAY both be present in an
   IS-IS router capability TLV.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Procedure%20for%20Inter-AS%20TE%20Links"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Procedure for Inter-AS TE Links</span>

   When TE is enabled on an inter-AS link and the link is up, the ASBR
   SHOULD advertise this link using the normal procedures for ISIS-TE
   [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>].  When either the link is down or TE is disabled on the
   link, the ASBR SHOULD withdraw the advertisement.  When there are
   changes to the TE parameters for the link (for example, when the
   available bandwidth changes), the ASBR SHOULD re-advertise the link
   but MUST take precautions against excessive re-advertisements.



<span class="grey">Chen, et al.                Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   Hellos MUST NOT be exchanged over the inter-AS link, and
   consequently, an ISIS adjacency MUST NOT be formed.

   The information advertised comes from the ASBR's knowledge of the TE
   capabilities of the link, the ASBR's knowledge of the current status
   and usage of the link, and configuration at the ASBR of the remote AS
   number and remote ASBR TE Router ID.

   Legacy routers receiving an advertisement for an inter-AS TE link are
   able to ignore it because they do not know the new TLV and sub-TLVs
   that are defined in <a href="#section-3">Section 3</a> of this document.  They will continue
   to flood the LSP, but will not attempt to use the information
   received.

   In the current operation of ISIS TE, the LSRs at each end of a TE
   link emit LSAs describing the link.  The databases in the LSRs then
   have two entries (one locally generated, the other from the peer)
   that describe the different 'directions' of the link.  This enables
   Constrained Shortest Path First (CSPF) to do a two-way check on the
   link when performing path computation and eliminate it from
   consideration unless both directions of the link satisfy the required
   constraints.

   In the case we are considering here (i.e., of a TE link to another
   AS), there is, by definition, no IGP peering and hence no
   bidirectional TE link information.  In order for the CSPF route
   computation entity to include the link as a candidate path, we have
   to find a way to get LSAs describing its (bidirectional) TE
   properties into the TE database.

   This is achieved by the ASBR advertising, internally to its AS,
   information about both directions of the TE link to the next AS.  The
   ASBR will normally generate an LSA describing its own side of a link;
   here we have it 'proxy' for the ASBR at the edge of the other AS and
   generate an additional LSA that describes that device's 'view' of the
   link.

   Only some essential TE information for the link needs to be
   advertised; i.e., the Interface Address, the remote AS number, and
   the remote ASBR ID of an inter-AS TE link.

   Routers or PCEs that are capable of processing advertisements of
   inter-AS TE links SHOULD NOT use such links to compute paths that
   exit an AS to a remote ASBR and then immediately re-enter the AS
   through another TE link.  Such paths would constitute extremely rare
   occurrences and SHOULD NOT be allowed except as the result of
   specific policy configurations at the router or PCE computing the
   path.



<span class="grey">Chen, et al.                Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Origin%20of%20Proxied%20TE%20Information"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Origin of Proxied TE Information</span>

   <a href="#section-4">Section 4</a> describes how an ASBR advertises TE link information as a
   proxy for its neighbor ASBR, but does not describe where this
   information comes from.

   Although the source of this information is outside the scope of this
   document, it is possible that it will be a configuration requirement
   at the ASBR, as are other local properties of the TE link.  Further,
   where BGP is used to exchange IP routing information between the
   ASBRs, a certain amount of additional local configuration about the
   link and the remote ASBR is likely to be available.

   We note further that it is possible, and may be operationally
   advantageous, to obtain some of the required configuration
   information from BGP.  Whether and how to utilize these possibilities
   is an implementation matter.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   The protocol extensions defined in this document are relatively minor
   and can be secured within the AS in which they are used by the
   existing ISIS security mechanisms (e.g., using the cleartext
   passwords or Hashed Message Authentication Codes - Message Digest 5
   (HMAC-MD5) algorithm, which are defined in [<a href="#ref-ISIS" title='"Use of OSI IS-IS for routing in TCP/IP and dual environments"'>ISIS</a>] and [<a href="rfc5304.html" title='"IS-IS Cryptographic Authentication"'>RFC5304</a>],
   respectively).

   There is no exchange of information between ASes, and no change to
   the ISIS security relationship between the ASes.  In particular,
   since no ISIS adjacency is formed on the inter-AS links, there is no
   requirement for ISIS security between the ASes.

   Some of the information included in these new advertisements (e.g.,
   the remote AS number and the remote ASBR ID) is obtained manually
   from a neighboring administration as part of a commercial
   relationship.  The source and content of this information should be
   carefully checked before it is entered as configuration information
   at the ASBR responsible for advertising the inter-AS TE links.

   It is worth noting that in the scenario we are considering, a Border
   Gateway Protocol (BGP) peering may exist between the two ASBRs and
   that this could be used to detect inconsistencies in configuration
   (e.g., the administration that originally supplied the information
   may be lying, or some manual mis-configurations or mistakes may be
   made by the operators).  For example, if a different remote AS number
   is received in a BGP OPEN [<a href="#ref-BGP" title='"A Border Gateway Protocol 4 (BGP-4)"'>BGP</a>] from that locally configured to
   ISIS-TE, as we describe here, then local policy SHOULD be applied to
   determine whether to alert the operator to a potential mis-



<span class="grey">Chen, et al.                Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   configuration or to suppress the ISIS advertisement of the inter-AS
   TE link.  Note further that if BGP is used to exchange TE information
   as described in <a href="#section-4.1">Section 4.1</a>, the inter-AS BGP session SHOULD be
   secured using mechanisms as described in [<a href="#ref-BGP" title='"A Border Gateway Protocol 4 (BGP-4)"'>BGP</a>] to provide
   authentication and integrity checks.

   For a discussion of general security considerations for IS-IS, see
   [<a href="rfc5304.html" title='"IS-IS Cryptographic Authentication"'>RFC5304</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  IANA Considerations</span>

   IANA has made the following allocations from registries under its
   control.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Inter-AS%20Reachability%20TLV"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Inter-AS Reachability TLV</span>

   This document defines the following new ISIS TLV type, described in
   <a href="#section-3.1">Section 3.1</a>, which has been registered in the ISIS TLV codepoint
   registry:

              Type        Description              IIH   LSP   SNP
              ----        ----------------------   ---   ---   ---
               141        inter-AS reachability     n     y     n
                                information

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Sub-TLVs%20for%20the%20Inter-AS%20Reachability%20TLV"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Sub-TLVs for the Inter-AS Reachability TLV</span>

   This document defines the following new sub-TLV types (described in
   Sections <a href="#section-3.3.1">3.3.1</a>, <a href="#section-3.3.2">3.3.2</a>, and <a href="#section-3.3.3">3.3.3</a>) of top-level TLV 141 (see <a href="#section-6.1">Section</a>
   <a href="#section-6.1">6.1</a> above), which have been registered in the ISIS sub-TLV registry
   for TLV 141.  Note that these three new sub-TLVs SHOULD NOT appear in
   TLV 22 (or TLV 222) and MUST be ignored in TLV 22 (or TLV 222).

     Type        Description
     ----        ------------------------------
       24        remote AS number
       25        IPv4 remote ASBR Identifier
       26        IPv6 remote ASBR Identifier

   As described above in <a href="#section-3.1">Section 3.1</a>, the sub-TLVs defined in [<a href="#ref-ISIS-TE" title='"IS-IS Extensions for Traffic Engineering"'>ISIS-TE</a>],
   [<a href="#ref-ISIS-TE-V3" title='"IPv6 Traffic Engineering in IS-IS"'>ISIS-TE-V3</a>], and other documents for describing the TE properties of
   a TE link are applicable to describe an inter-AS TE link and MAY be
   included in the inter-AS reachability TLV when adverting inter-AS TE
   links.

   IANA has updated the registry that was specified as "Sub-TLVs for TLV
   22" to be named "Sub-TLVs for TLVs 22, 141, and 222".  Three new
   columns have been added to the registry to show in which TLVs the



<span class="grey">Chen, et al.                Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   sub-TLVs may be present.  All sub-TLVs currently defined may be
   present in all three TLVs, hence the registry (with the definition of
   the new sub-TLVs defined here) should read as follows.

                                               TLV TLV TLV
   Type    Description                          22  141 222 Reference
   ------- ------------------------------------ --- --- --- ---------
      0    Unassigned                            y   y   y
      1    Unassigned                            y   y   y
      2    Unassigned                            y   y   y
      3    Administrative group (color)          y   y   y  [<a href="rfc5305.html">RFC5305</a>]
      4    Link Local/Remote Identifiers         y   y   y
                                                   [<a href="rfc4205.html">RFC4205</a>][RFC5307]
      5    Unassigned                            y   y   y
      6    IPv4 interface address                y   y   y  [<a href="rfc5305.html">RFC5305</a>]
      7    Unassigned                            y   y   y
      8    IPv4 neighbor address                 y   y   y  [<a href="rfc5305.html">RFC5305</a>]
      9    Maximum link bandwidth                y   y   y  [<a href="rfc5305.html">RFC5305</a>]
     10    Maximum reservable link bandwidth     y   y   y  [<a href="rfc5305.html">RFC5305</a>]
     11    Unreserved bandwidth                  y   y   y  [<a href="rfc5305.html">RFC5305</a>]
     12    Unassigned                            y   y   y
     13    Unassigned                            y   y   y
     14    Unassigned                            y   y   y
     15    Unassigned                            y   y   y
     16    Unassigned                            y   y   y
     17    Unassigned                            y   y   y
     18    TE Default metric                     y   y   y  [<a href="rfc5305.html">RFC5305</a>]
     19    Link-attributes                       y   y   y  [<a href="rfc5029.html">RFC5029</a>]
     20    Link Protection Type                  y   y   y
                                                      [<a href="rfc4205.html">RFC4205</a>][RFC5307]
     21    Interface Switching Capability Desc   y   y   y
                                                      [<a href="rfc4205.html">RFC4205</a>][RFC5307]
     22    Bandwidth Constraints                 y   y   y  [<a href="rfc4124.html">RFC4124</a>]
     23    Unconstrained TE LSP Count (sub-)TLV  y   y   y  [<a href="rfc5330.html">RFC5330</a>]
     24    remote AS number                      n   y   n  [<a href="rfc5316.html">RFC5316</a>]
     25    IPv4 remote ASBR identifier           n   y   n  [<a href="rfc5316.html">RFC5316</a>]
     26    IPv6 remote ASBR identifier           n   y   n  [<a href="rfc5316.html">RFC5316</a>]
   27-249  Unassigned
   250-254 Reserved for Cisco-specific exts
   255     Reserved for future expansion

   Further sub-TLVs may be defined in the future for inclusion in any of
   the TLVs 22, 141, or 222.  The re-naming of the registry as above
   ensures that there is no accidental overlap of sub-TLV codepoints.
   The introduction of the columns within the registry clarify the use
   of the sub-TLVs.





<span class="grey">Chen, et al.                Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Sub-TLVs%20for%20the%20IS-IS%20Router%20Capability%20TLV"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Sub-TLVs for the IS-IS Router Capability TLV</span>

   This document defines the following new sub-TLV types, described in
   Sections <a href="#section-3.3.4">3.3.4</a> and <a href="#section-3.3.5">3.3.5</a>, of top-level TLV 242 (which is defined in
   [<a href="#ref-ISIS-CAP" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>ISIS-CAP</a>]) that have been registered in the ISIS sub-TLV registry
   for TLV 242:

      Type        Description                        Length
      ----        ------------------------------   --------
        11        IPv4 TE Router ID                       4
        12        IPv6 TE Router ID                      16

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Acknowledgments"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Acknowledgments</span>

   The authors would like to thank Adrian Farrel, Jean-Louis Le Roux,
   Christian Hopps, Les Ginsberg, and Hannes Gredler for their review
   and comments on this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20References"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]         Bradner, S., "Key words for use in RFCs to Indicate
                     Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3209" name="ref-RFC3209">RFC3209</a>]         Awduche, D., Berger, L., Gan, D., Li, T.,
                     Srinivasan, V., and G. Swallow, "RSVP-TE:
                     Extensions to RSVP for LSP Tunnels", <a href="rfc3209.html">RFC 3209</a>,
                     December 2001.

   [<a id="ref-RFC5304" name="ref-RFC5304">RFC5304</a>]         Li, T. and R. Atkinson, "IS-IS Cryptographic
                     Authentication", <a href="rfc5304.html">RFC 5304</a>, October 2008.

   [<a id="ref-ISIS" name="ref-ISIS">ISIS</a>]            Callon, R., "Use of OSI IS-IS for routing in TCP/IP
                     and dual environments", <a href="rfc1195.html">RFC 1195</a>, December 1990.

   [<a id="ref-ISIS-CAP" name="ref-ISIS-CAP">ISIS-CAP</a>]        Vasseur, JP., Ed., Shen, N., Ed., and R. Aggarwal,
                     Ed., "Intermediate System to Intermediate System
                     (IS-IS) Extensions for Advertising Router
                     Information", <a href="rfc4971.html">RFC 4971</a>, July 2007.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-INTER-AS-TE-REQ" name="ref-INTER-AS-TE-REQ">INTER-AS-TE-REQ</a>] Zhang, R., Ed., and J.-P. Vasseur, Ed., "MPLS
                     Inter-Autonomous System (AS) Traffic Engineering
                     (TE) Requirements", <a href="rfc4216.html">RFC 4216</a>, November 2005.





<span class="grey">Chen, et al.                Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


   [<a id="ref-PD-PATH" name="ref-PD-PATH">PD-PATH</a>]         Vasseur, JP., Ed., Ayyangar, A., Ed., and R. Zhang,
                     "A Per-Domain Path Computation Method for
                     Establishing Inter-Domain Traffic Engineering (TE)
                     Label Switched Paths (LSPs)", <a href="rfc5152.html">RFC 5152</a>, February
                     2008.

   [<a id="ref-BRPC" name="ref-BRPC">BRPC</a>]            Vasseur, JP., Ed., Zhang, R., Bitar, N., JL. Le
                     Roux, "A Backward Recursive PCE-Based Computation
                     (BRPC) Procedure to Compute Shortest Inter-Domain
                     Traffic Engineering Label Switched Paths", Work in
                     Progress, April 2008.

   [<a id="ref-PCE" name="ref-PCE">PCE</a>]             Farrel, A., Vasseur, J.-P., and J. Ash, "A Path
                     Computation Element (PCE)-Based Architecture", <a href="rfc4655.html">RFC</a>
                     <a href="rfc4655.html">4655</a>, August 2006.

   [<a id="ref-ISIS-TE" name="ref-ISIS-TE">ISIS-TE</a>]         Li, T. and H. Smit, "IS-IS Extensions for Traffic
                     Engineering", <a href="rfc5305.html">RFC 5305</a>, October 2008.

   [<a id="ref-ISIS-TE-V3" name="ref-ISIS-TE-V3">ISIS-TE-V3</a>]      Harrison, J., Berger, J., and Bartlett, M., "IPv6
                     Traffic Engineering in IS-IS", Work in Progress,
                     June 2008.

   [<a id="ref-GMPLS-TE" name="ref-GMPLS-TE">GMPLS-TE</a>]        Kompella, K., Ed., and Y. Rekhter, Ed., "IS-IS
                     Extensions in Support of Generalized Multi-Protocol
                     Label Switching (GMPLS)", <a href="rfc5307.html">RFC 5307</a>, October 2008.

   [<a id="ref-BGP" name="ref-BGP">BGP</a>]             Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed.,
                     "A Border Gateway Protocol 4 (BGP-4)", <a href="rfc4271.html">RFC 4271</a>,
                     January 2006.

   [<a id="ref-GENINFO" name="ref-GENINFO">GENINFO</a>]         L. Ginsberg., Previdi, S., and M. Shand,
                     "Advertising Generic Information in IS-IS", Work in
                     Progress, June 2008.

















<span class="grey">Chen, et al.                Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc5316.html">RFC 5316</a>            ISIS Extensions for Inter-AS TE        December 2008</span>


Authors' Addresses

   Mach (Guoyi) Chen
   Huawei Technologies Co., Ltd
   KuiKe Building, No.9 Xinxi Rd.
   Hai-Dian District
   Beijing, 100085
   P.R. China

   EMail: mach@huawei.com


   Renhai Zhang
   Huawei Technologies Co., Ltd
   KuiKe Building, No.9 Xinxi Rd.
   Hai-Dian District
   Beijing, 100085
   P.R. China

   EMail: zhangrenhai@huawei.com


   Xiaodong Duan
   China Mobile
   53A, Xibianmennei Ave.
   Xunwu District
   Beijing, China

   EMail: duanxiaodong@chinamobile.com






















Chen, et al.                Standards Track                    [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.119, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc5316 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:41:54 GMT --></html>