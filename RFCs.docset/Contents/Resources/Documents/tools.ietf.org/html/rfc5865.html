<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc5865 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:54:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129c" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Relation.Replaces" content="draft-baker-tsvwg-admitted-voice-dscp" />
<meta name="DC.Identifier" content="urn:ietf:rfc:5865" />
<meta name="DC.Date.Issued" content="May, 2010" />
<meta name="DC.Creator" content="Baker, Fred" />
<meta name="DC.Creator" content="Polk, James" />
<meta name="DC.Creator" content="Dolly, Martin" />
<meta name="DC.Description.Abstract" content="This document requests one DSCP from the IANA for real-time traffic
classes similar to voice conforming to the Expedited Forwarding Per
Hop Behavior, and admitted using a CAC procedure involving
authentication, authorization, and capacity admission, as compared to
a class of real-time traffic conforming to the Expedited Forwarding
Per Hop Behavior but not subject to capacity admission or subject to
very coarse capacity admission.  It also recommends that certain
classes of video traffic described in RFC 4594 and which have similar
requirements be require admission using a CAC procedure involving
authentication, authorization, and capacity admission.  One of the
reasons behind this is the need for classes of traffic that are
handled under special policies, such as the non-preemptive Emergency
Telecommunication Service, the US DoD's Assured Service (which is
similar to MLPP), or e-911. Capacity-admitted traffic classes need
separation from traffic not subject to admission control, from which
they can deterministically obtain their service requirements,
including SLA matters." />
<meta name="DC.Title" content="A Differentiated Services Code Point (DSCP) for Capacity-Admitted Traffic" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 5865 - A Differentiated Services Code Point (DSCP) for Capacity-Admitted Traffic</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgblue"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5865.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5865" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-tsvwg-admitted-realtime-dscp" title="draft-ietf-tsvwg-admitted-realtime-dscp">draft-ietf-tsvw...</a>] [<a href='https://datatracker.ietf.org/doc/rfc5865' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5865" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5865" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=5865">Errata</a>]</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br />
<span class="pre noprint docinfo">                                                            <span style='color: #C00;'>Errata Exist</span></span><br />
<pre>
Internet Engineering Task Force (IETF)                          F. Baker
Request for Comments: 5865                                       J. Polk
Updates: <a href="rfc4542.html">4542</a>, <a href="rfc4594.html">4594</a>                                        Cisco Systems
Category: Standards Track                                       M. Dolly
ISSN: 2070-1721                                                AT&amp;T Labs
                                                                May 2010


              <span class="h1">A Differentiated Services Code Point (DSCP)</span>
                     <span class="h1">for Capacity-Admitted Traffic</span>

Abstract

   This document requests one Differentiated Services Code Point (DSCP)
   from the Internet Assigned Numbers Authority (IANA) for a class of
   real-time traffic.  This traffic class conforms to the Expedited
   Forwarding Per-Hop Behavior.  This traffic is also admitted by the
   network using a Call Admission Control (CAC) procedure involving
   authentication, authorization, and capacity admission.  This differs
   from a real-time traffic class that conforms to the Expedited
   Forwarding Per-Hop Behavior but is not subject to capacity admission
   or subject to very coarse capacity admission.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc5865">http://www.rfc-editor.org/info/rfc5865</a>.















<span class="grey">Baker, et al.                Standards Track                    [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Definitions . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-1.2">1.2</a>.  Problem   . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   2.  Candidate Implementations of the Admitted Telephony
       Service Class   . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-2.1">2.1</a>.  Potential implementations of EF in this model . . . . . .  <a href="#page-7">7</a>
     <a href="#section-2.2">2.2</a>.  Capacity admission control  . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
     2.3.  Recommendations on implementation of an Admitted
           Telephony Service Class . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
   <a href="#section-3">3</a>.  Summary: changes from <a href="rfc4594.html">RFC 4594</a>  . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-4">4</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-6">6</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-7">7</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-7.1">7.1</a>.  Normative References  . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-7.2">7.2</a>.  Informative References  . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>






<span class="grey">Baker, et al.                Standards Track                    [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   This document requests one Differentiated Services Code Point (DSCP)
   from the Internet Assigned Numbers Authority (IANA) for a class of
   real-time traffic.  This class conforms to the Expedited Forwarding
   (EF) [<a href="rfc3246.html" title="&quot;An Expedited Forwarding PHB (Per-Hop Behavior)&quot;">RFC3246</a>] [<a href="rfc3247.html" title="&quot;Supplemental Information for the New Definition of the EF PHB (Expedited Forwarding Per-Hop Behavior)&quot;">RFC3247</a>] Per-Hop Behavior.  It is also admitted using
   a CAC procedure involving authentication, authorization, and capacity
   admission.  This differs from a real-time traffic class that conforms
   to the Expedited Forwarding Per-Hop Behavior but is not subject to
   capacity admission or subject to very coarse capacity admission.

   In addition, this document recommends that certain classes of video
   described in [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>] be treated as requiring capacity admission.

   Real-time traffic flows have one or more potential congestion points
   between the endpoints.  Reserving capacity for these flows is
   important to application performance.  All of these applications have
   low tolerance to jitter (aka delay variation) and loss, as summarized
   in <a href="#section-2">Section 2</a>, and most (except for multimedia conferencing) have
   inelastic flow behavior from Figure 1 of [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>].  Inelastic flow
   behavior and low jitter/loss tolerance are the service
   characteristics that define the need for admission control behavior.

   One of the reasons behind the requirement for capacity admission is
   the need for classes of traffic that are handled under special
   policies.  Service providers need to distinguish between special-
   policy traffic and other classes, particularly the existing Voice
   over IP (VoIP) services that perform no capacity admission or only
   very coarse capacity admission and can exceed their allocated
   resources.

   The requested DSCP applies to the Telephony Service Class described
   in [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>].

   Since video classes have not had the history of mixing admitted and
   non-admitted traffic in the same Per-Hop Behavior (PHB) as has
   occurred for EF, an additional DSCP code point is not recommended
   within this document for video.  Instead, the recommended "best
   practice" is to perform admission control for all traffic in three of
   the video classes from [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>]:

   o  The Interactive Real-Time Traffic (CS4, used for Video
      conferencing and Interactive gaming),

   o  The Broadcast TV (CS3) for use in a video on demand context, and

   o  The AF4 Multimedia Conferencing (video conferencing).




<span class="grey">Baker, et al.                Standards Track                    [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   Other video classes are believed not to have the current problem of
   confusion with unadmitted traffic and therefore would not benefit
   from the notion of a separate DSCP for admitted traffic.  Within an
   ISP and on inter-ISP links (i.e., within networks whose internal
   paths are uniform at hundreds of megabits per second or faster), one
   would expect all of this traffic to be carried in the Real-Time
   Traffic (RTP) class described in [<a href="rfc5127.html" title="&quot;Aggregation of DiffServ Service Classes&quot;">RFC5127</a>].

<span class="h3"><a class="selflink" name="section-1.1" href="#section-1.1">1.1</a>.  Definitions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

   The following terms and acronyms are used in this document.

   PHB:   A Per-Hop Behavior (PHB) is the externally observable
          forwarding behavior applied at a Differentiated Services
          compliant node to a DS behavior aggregate [<a href="rfc2475.html" title="&quot;An Architecture for Differentiated Service&quot;">RFC2475</a>].  It may
          be thought of as a program configured on the interface of an
          Internet host or router, specified in terms of drop
          probabilities, queuing priorities or rates, and other handling
          characteristics for the traffic class.

   DSCP:  The Differentiated Services Code Point (DSCP), as defined in
          [<a href="rfc2474.html" title="&quot;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers&quot;">RFC2474</a>], is a value that is encoded in the DS field, and
          that each DS Node MUST use to select the PHB that is to be
          experienced by each packet it forwards [<a href="rfc3260.html" title="&quot;New Terminology and Clarifications for Diffserv&quot;">RFC3260</a>].  It is a
          6-bit number embedded into the 8-bit TOS (type of service)
          field of an IPv4 datagram or the Traffic Class field of an
          IPv6 datagram.

   CAC:   Call Admission Control includes concepts of authorization and
          capacity admission.  "Authorization" refers to any procedure
          that identifies a user, verifies the authenticity of the
          identification, and determines whether the user is authorized
          to use the service under the relevant policy.  "Capacity
          Admission" refers to any procedure that determines whether
          capacity exists supporting a session's requirements under some
          policy.

          In the Internet, these are separate functions; while in the
          Public Switched Telephone Network (PSTN), they and call
          routing are carried out together.







<span class="grey">Baker, et al.                Standards Track                    [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   UNI:   A User/Network Interface (UNI) is the interface (often a
          physical link or its virtual equivalent) that connects two
          entities that do not trust each other, and in which one (the
          user) purchases connectivity services from the other (the
          network).

          Figure 1 shows two user networks connected by what appears to
          each of them to be a single network ("The Internet", access to
          which is provided by their service provider) that provides
          connectivity services to other users.

          UNIs tend to be the bottlenecks in the Internet, where users
          purchase relatively low amounts of bandwidth for cost or
          service reasons, and as a result are most subject to
          congestion issues and therefore issues requiring traffic
          conditioning and service prioritization.

   NNI:   A Network/Network Interface (NNI) is the interface (often a
          physical link or its virtual equivalent) that connects two
          entities that trust each other within limits, and in which the
          two are seen as trading services for value.  Figure 1 shows
          three service networks that together provide the connectivity
          services that we call "the Internet".  They are different
          administrations and are very probably in competition, but
          exchange contracts for connectivity and capacity that enable
          them to offer specific services to their customers.

          NNIs may not be bottlenecks in the Internet if service
          providers contractually agree to provision excess capacity at
          them, as they commonly do.  However, NNI performance may
          differ by ISP, and the performance guarantee interval may
          range from a month to a much shorter period.  Furthermore, a
          peering point NNI may not have contractual performance
          guarantees or may become overloaded under certain conditions.
          They are also policy-controlled interfaces, especially in BGP.
          As a result, they may require a traffic prioritization policy.

   Queue: There are multiple ways to build a multi-queue scheduler.
          Weighted Round Robin (WRR) literally builds multiple lists and
          visits them in a specified order, while a calendar queue
          (often used to implement Weighted Fair Queuing, or WFQ) builds
          a list for each time interval and queues at most a stated
          amount of data in each such list for transmission during that
          time interval.  While these differ dramatically in
          implementation, the external difference in behavior is
          generally negligible when they are properly configured.
          Consistent with the definitions used in the Differentiated
          Services Architecture [<a href="rfc2475.html" title="&quot;An Architecture for Differentiated Service&quot;">RFC2475</a>], these are treated as



<span class="grey">Baker, et al.                Standards Track                    [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


          equivalent in this document, and the lists of WRR and the
          classes of a calendar queue will be referred to uniformly as
          "queues".

                                        _.--------.
                                    ,-''           `--.
                                 ,-'                   `-.
           ,-------.           ,',-------.                `.
         ,'         `.       ,','         `.                `.
        /  User       \ UNI / /   Service   \                 \
       (    Network    +-----+    Network    )                 `.
        \             /  ;    \             /                    :
         `.         ,'   ;     `.         .+                     :
           '-------'    /        '-------'  \ NNI                 \
                       ;                     \                     :
                       ;     "The Internet"   \  ,-------.         :
                      ;                        +'         `.        :
        UNI: User/Network Interface           /   Service   \       |
                     |                       (    Network    )      |
        NNI: Network/Network Interface        \             /       |
                      :                        +.         ,'        ;
                       :                      /  '-------'         ;
                       :                     /                     ;
           ,-------.    \        ,-------.  / NNI                 /
         ,'         `.   :     ,'         `+                     ;
        /  User       \ UNI   /   Service   \                    ;
       (    Network    +-----+    Network    )                 ,'
        \             /     \ \             /                 /
         `.         ,'       `.`.         ,'                ,'
           '-------'           `.'-------'                ,'
                                 `-.                   ,-'
                                    `--.           _.-'
                                        `--------''

                      Figure 1: UNI and NNI Interfaces

<span class="h3"><a class="selflink" name="section-1.2" href="#section-1.2">1.2</a>.  Problem</span>

   In short, the Telephony Service Class, described in [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>],
   permits the use of capacity admission in implementing the service,
   but present implementations either provide no capacity admission
   services or do so in a manner that depends on specific traffic
   engineering.  In the context of the Internet backbone, the two are
   essentially equivalent; the edge network depends on specific
   engineering by the service provider that might not be present,
   especially in a mobile environment.





<span class="grey">Baker, et al.                Standards Track                    [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   However, services are being requested of the network that would
   specifically make use of capacity admission, and would distinguish
   among users or the uses of available Voice-over-IP or Video-over-IP
   capacity in various ways.  Various agencies would like to provide
   services as described in RFC [<a href="rfc4190.html" title="&quot;Framework for Supporting Emergency Telecommunications Service (ETS) in IP Telephony&quot;">RFC4190</a>] or in <a href="rfc4504.html#section-2.6">Section&nbsp;2.6 of
   [RFC4504]</a>.

   This requires the use of capacity admission to differentiate among
   users to provide services to them that are not afforded to non-
   capacity admitted customer-to-customer IP telephony sessions.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  Candidate Implementations of the Admitted Telephony Service Class</span>

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a>.  Potential Implementations of EF in This Model</span>

   There are at least two possible ways to implement isolation between
   the Capacity Admitted PHB and the Expedited Forwarding PHB in this
   model.  They are to implement separate classes as a set of

   o  Multiple data plane traffic classes, each consisting of a policer
      and a queue, with the queues enjoying different priorities, or

   o  Multiple data plane traffic classes, each consisting of a policer
      but feeding into a common queue or multiple queues at the same
      priority.

   We will explain the difference and describe in what way they differ
   in operation.  The reason this is necessary is that there is current
   confusion in the industry.

   The multi-priority model is shown in Figure 2.  In this model,
   traffic from each service class is placed into a separate priority
   queue.  If data is present in more than one queue, traffic from one
   of them will always be selected for transmission.  This has the
   effect of transferring jitter from the higher-priority queue to the
   lower-priority queues, and reordering traffic in a way that gives the
   higher-priority traffic a smaller average queuing delay.  Each queue
   must have its own policer, however, to protect the network from
   errors and attacks; if a traffic class thinks it is carrying a
   certain data rate but an abuse sends significantly more, the effect
   of simple prioritization would not preserve the lower priorities of
   traffic, which could cause routing to fail or otherwise impact a
   service level agreement (SLA).








<span class="grey">Baker, et al.                Standards Track                    [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


                                                .
                        policers    priorities  |`.
                Admitted EF &lt;=&gt; ----------||----+  `.
                                            high|    `.
              Unadmitted EF &lt;=&gt; ----------||----+     .'-----------
                              .             medium  .'
                 rate queues  |`.         +-----+ .' Priority
              AF1------&gt;||----+  `.      /  low |'   Scheduler
                              |    `.   /
              AF2------&gt;||----+     .'-+
                              |   .'
              CS0------&gt;||----+ .' Rate Scheduler
                              |'   (WFQ, WRR, etc.)

                Figure 2: Implementation as a Data Plane Priority

   The multi-policer model is shown in Figure 3.  In this model, traffic
   from each service class is policed according to its SLA requirements,
   and then placed into a common priority queue.  Unlike the multi-
   priority model, the jitter experienced by the traffic classes in this
   case is the same, as there is only one queue, but the sum of the
   traffic in this higher-priority queue experiences less average jitter
   than the elastic traffic in the lower-priority.

                       policers    priorities  .
               Admitted EF &lt;=&gt; -------\        |`.
                                       --||----+  `.
             Unadmitted EF &lt;=&gt; -------/    high|    `.
                             .                 |     .'--------
                rate queues  |`.         +-----+   .'
             AF1------&gt;||----+  `.      /  low | .' Priority
                             |    `.   /       |'   Scheduler
             AF2------&gt;||----+     .'-+
                             |   .'
             CS0------&gt;||----+ .' Rate Scheduler
                             |'   (WFQ, WRR, etc.)

             Figure 3: Implementation as a Data Plane Policer

   The difference between the two operationally is, as stated, the
   issues of loss due to policing and distribution of jitter.

   If the two traffic classes are, for example, voice and video,
   datagrams containing video data can be relatively large (often of
   variable sizes up to the path MTU), while datagrams containing voice
   are relatively small, on the order of only 40 to 200 bytes, depending
   on the codec.  On lower-speed links (less than 10 MBPS), the jitter
   introduced by video to voice can be disruptive, while at higher



<span class="grey">Baker, et al.                Standards Track                    [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   speeds, the jitter is nominal compared to the jitter requirements of
   voice.  Therefore, at access network speeds, [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>] recommends the
   separation of video and voice into separate queues, while at optical
   speeds, [<a href="rfc5127.html" title="&quot;Aggregation of DiffServ Service Classes&quot;">RFC5127</a>] recommends that they use a common queue.

   If, on the other hand, the two traffic classes are carrying the same
   type of application with the same jitter requirements, then giving
   one preference in this sense does not benefit the higher-priority
   traffic and may harm the lower-priority traffic.  In such a case,
   using separate policers and a common queue is a superior approach.

<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a>.  Capacity Admission Control</span>

   There are at least six major ways that capacity admission is done or
   has been proposed to be done for real-time applications.  Each will
   be described below, and <a href="#section-3">Section 3</a> will judge which ones are likely to
   meet the requirements of the Admitted Telephony service class.  These
   include:

   o  Drop Precedence used to force sessions to voluntarily exit,

   o  Capacity admission control by assumption or engineering,

   o  Capacity admission control by call counting,

   o  Endpoint capacity admission performed by probing the network,

   o  Centralized capacity admission control via bandwidth broker, and

   o  Distributed capacity admission control using protocols such as
      Resource Reservation Protocol (RSVP) or Next Steps in Signaling
      (NSIS).

   The problem with dropping traffic to force users to hang up is that
   it affects a broad class of users -- if there is capacity for N calls
   and the N+1 calls are active, data is dropped randomly from all
   sessions to ensure that offered load doesn't exceed capacity.  On
   very fast links, that is acceptable, but on lower speed links it can
   seriously affect call quality.  There is also a behavioral issue
   involved here, in which users who experience poor quality calls tend
   to hang up and call again, making the problem better -- then worse.

   The problem with capacity admission by assumption, which is widely
   deployed in today's VoIP environment, is that it depends on the
   assumptions made.  One can do careful traffic engineering to ensure
   needed bandwidth, but this can also be painful, and has to be
   revisited when the network is changed or network usage changes.




<span class="grey">Baker, et al.                Standards Track                    [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   The problem with call-counting-based admission control is that it
   gets exponentially worse the farther you get from the control point
   (e.g., it lacks sufficient scalability on the outskirts of the
   network).

   There are two fundamental problems with depending on the endpoint to
   perform capacity admission: it may not be able to accurately measure
   the impact of the traffic it generates on the network, and it tends
   to be greedy (e.g., it doesn't care).  If the network operator is
   providing a service, he must be able to guarantee the service, which
   means that he cannot trust systems that are not controlled by his
   network.

   The problem with capacity controls via a bandwidth broker is that
   centralized servers lack far away awareness, and also lack effective
   real-time reaction to dynamic changes in all parts of the network at
   all instances of time.

   The problem with mechanisms that do not enable the association of a
   policy with the request is that they do not allow for multi-policy
   services, which are becoming important.

   The operator's choice of admission procedure MUST, for this DSCP,
   ensure the following:

   o  The actual links that a session uses have enough bandwidth to
      support it.

   o  New sessions are refused admission if there is inadequate
      bandwidth under the relevant policy.

   o  A user is identified and the correct policy is applied if multiple
      policies are in use in a network.

   o  Under periods of network stress, the process of admission of new
      sessions does not disrupt existing sessions, unless the service
      explicitly allows for disruption of calls.

<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a>.  Recommendations on Implementation of an Admitted Telephony</span>
<span class="h3">      Service Class</span>

   When coupled with adequate Authentication, Authorization, and
   Accounting (AAA) and capacity admission procedures as described in
   <a href="#section-2.2">Section 2.2</a>, either of the two PHB implementations described in
   <a href="#section-2.1">Section 2.1</a> is sufficient to provide the services required for an
   Admitted Telephony service class.  If preemption is required, <a href="rfc4542.html#section-2.3.5.2">Section</a>
   <a href="rfc4542.html#section-2.3.5.2">2.3.5.2 of [RFC4542]</a> provides the tools for carrying out the
   preemption.  If preemption is not in view, or if used in addition to



<span class="grey">Baker, et al.                Standards Track                   [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   preemptive services, the application of different thresholds
   depending on call precedence has the effect of improving the
   probability of call completion by admitting preferred calls at a time
   when other calls are being refused.  Routine and priority traffic can
   be admitted using the same DSCP value, as the choice of which calls
   are admitted is handled in the admission procedure executed in the
   control plane, not the policing of the data plane.

   On the point of what protocols and procedures are required for
   authentication, authorization, and capacity admission, we note that
   clear standards do not exist at this time for bandwidth brokers, NSIS
   has not been finalized at this time and in any event is limited to
   unicast sessions, and that RSVP has been standardized and has the
   relevant services.  We therefore RECOMMEND the use of a protocol,
   such as RSVP, at the UNI.  Procedures at the NNI are business matters
   to be discussed between the relevant networks, and are RECOMMENDED
   but NOT REQUIRED.

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  Summary: Changes from <a href="rfc4594.html">RFC 4594</a></span>

   To summarize, there are two changes to [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>] discussed in this
   document:

   Telephony class: The Telephony Service Class in <a href="rfc4594.html">RFC 4594</a> does not
                    involve capacity admission, but depends on
                    application layer admission that only estimates
                    capacity, and does that through static engineering.
                    In addition to that class, a separate Admitted
                    Telephony Class is added that performs capacity
                    admission dynamically.

   Video classes:   Capacity admission is added to three video classes.
                    These are the Interactive Real-Time Traffic class,
                    Broadcast TV class when used for video on demand,
                    and the Multimedia Conferencing class.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  IANA Considerations</span>

   IANA assigned a DSCP value to a second EF traffic class consistent
   with [<a href="rfc3246.html" title="&quot;An Expedited Forwarding PHB (Per-Hop Behavior)&quot;">RFC3246</a>] and [<a href="rfc3247.html" title="&quot;Supplemental Information for the New Definition of the EF PHB (Expedited Forwarding Per-Hop Behavior)&quot;">RFC3247</a>] in the "Differentiated Services Field
   Codepoints" registry.  It implements the Telephony Service Class
   described in [<a href="rfc4594.html" title="&quot;Configuration Guidelines for DiffServ Service Classes&quot;">RFC4594</a>] at lower speeds and is included in the Real-
   Time Treatment Aggregate [<a href="rfc5127.html" title="&quot;Aggregation of DiffServ Service Classes&quot;">RFC5127</a>] at higher speeds.  The code point
   value should be from pool 1 within the dscp-registry.  The value is
   parallel with the existing EF code point (101110), as IANA assigned






<span class="grey">Baker, et al.                Standards Track                   [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   the code point 101100 -- keeping the (left-to-right) first 4 binary
   values the same in both.  The code point described in this document
   is referred to as VOICE-ADMIT and has been registered as follows:

   Sub-registry: Pool 1 Codepoints
   Reference: [<a href="rfc2474.html" title="&quot;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers&quot;">RFC2474</a>]
   Registration Procedures: Standards Action

      Registry:
      Name         Space    Reference
      ---------    -------  ---------
      VOICE-ADMIT  101100   [<a href="rfc5865.html">RFC5865</a>]

   This traffic class REQUIRES the use of capacity admission, such as
   RSVP services together with AAA services, at the User/Network
   Interface (UNI); the use of such services at the NNI is at the option
   of the interconnected networks.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Security Considerations</span>

   A major requirement of this service is effective use of a signaling
   protocol, such as RSVP, with the capabilities to identify its user as
   either an individual or a member of some corporate entity, and assert
   a policy such as "normal", "routine", or some level of "priority".

   This capability, one has to believe, will be abused by script kiddies
   and others if the proof of identity is not adequately strong or if
   policies are written or implemented improperly by the carriers.  This
   goes without saying, but this section is here for it to be said.

   Many of the security considerations from <a href="rfc3246.html">RFC 3246</a> [<a href="rfc3246.html" title="&quot;An Expedited Forwarding PHB (Per-Hop Behavior)&quot;">RFC3246</a>] apply to
   this document, as well as the security considerations in <a href="rfc2474.html">RFC 2474</a> and
   <a href="rfc4542.html">RFC 4542</a>.  <a href="rfc4230.html">RFC 4230</a> [<a href="rfc4230.html" title="&quot;RSVP Security Properties&quot;">RFC4230</a>] analyzes RSVP, providing some gap
   analysis to the NSIS WG as they started their work.  Keep in mind
   that this document is advocating RSVP at the UNI only, while <a href="rfc4230.html">RFC 4230</a>
   discusses (mostly) RSVP from a more complete point of view (i.e., e2e
   and edge2edge).  When considering the RSVP aspect of this document,
   understanding <a href="rfc4230.html#section-6">Section&nbsp;6 of RFC 4230</a> is a good source of information.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  Acknowledgements</span>

   Kwok Ho Chan, Georgios Karagiannis, Dan Voce, and Bob Briscoe
   commented and offered text.  The impetus for including video in the
   discussion, which initially only targeted voice, is from Dave
   McDysan.






<span class="grey">Baker, et al.                Standards Track                   [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  References</span>

<span class="h3"><a class="selflink" name="section-7.1" href="#section-7.1">7.1</a>.  Normative References</span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a name="ref-RFC2474" id="ref-RFC2474">RFC2474</a>]  Nichols, K., Blake, S., Baker, F., and D. Black,
              "Definition of the Differentiated Services Field (DS
              Field) in the IPv4 and IPv6 Headers", <a href="rfc2474.html">RFC 2474</a>, December
              1998.

   [<a name="ref-RFC3246" id="ref-RFC3246">RFC3246</a>]  Davie, B., Charny, A., Bennet, J., Benson, K., Le Boudec,
              J., Courtney, W., Davari, S., Firoiu, V., and D.
              Stiliadis, "An Expedited Forwarding PHB (Per-Hop
              Behavior)", <a href="rfc3246.html">RFC 3246</a>, March 2002.

<span class="h3"><a class="selflink" name="section-7.2" href="#section-7.2">7.2</a>.  Informative References</span>

   [<a name="ref-RFC2475" id="ref-RFC2475">RFC2475</a>]  Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z.,
              and W. Weiss, "An Architecture for Differentiated
              Service", <a href="rfc2475.html">RFC 2475</a>, December 1998.

   [<a name="ref-RFC3247" id="ref-RFC3247">RFC3247</a>]  Charny, A., Bennet, J., Benson, K., Boudec, J., Chiu, A.,
              Courtney, W., Davari, S., Firoiu, V., Kalmanek, C., and K.
              Ramakrishnan, "Supplemental Information for the New
              Definition of the EF PHB (Expedited Forwarding Per-Hop
              Behavior)", <a href="rfc3247.html">RFC 3247</a>, March 2002.

   [<a name="ref-RFC3260" id="ref-RFC3260">RFC3260</a>]   Grossman, D., "New Terminology and Clarifications for
              Diffserv", <a href="rfc3260.html">RFC 3260</a>, April 2002.

   [<a name="ref-RFC4190" id="ref-RFC4190">RFC4190</a>]  Carlberg, K., Brown, I., and C. Beard, "Framework for
              Supporting Emergency Telecommunications Service (ETS) in
              IP Telephony", <a href="rfc4190.html">RFC 4190</a>, November 2005.

   [<a name="ref-RFC4504" id="ref-RFC4504">RFC4504</a>]  Sinnreich, H., Ed., Lass, S., and C. Stredicke, "SIP
              Telephony Device Requirements and Configuration", <a href="rfc4504.html">RFC</a>
              <a href="rfc4504.html">4504</a>, May 2006.

   [<a name="ref-RFC4542" id="ref-RFC4542">RFC4542</a>]  Baker, F. and J. Polk, "Implementing an Emergency
              Telecommunications Service (ETS) for Real-Time Services in
              the Internet Protocol Suite", <a href="rfc4542.html">RFC 4542</a>, May 2006.

   [<a name="ref-RFC4594" id="ref-RFC4594">RFC4594</a>]  Babiarz, J., Chan, K., and F. Baker, "Configuration
              Guidelines for DiffServ Service Classes", <a href="rfc4594.html">RFC 4594</a>, August
              2006.




<span class="grey">Baker, et al.                Standards Track                   [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc5865.html">RFC 5865</a>           DSCP for Capacity-Admitted Traffic           May 2010</span>


   [<a name="ref-RFC5127" id="ref-RFC5127">RFC5127</a>]  Chan, K., Babiarz, J., and F. Baker, "Aggregation of
              DiffServ Service Classes", <a href="rfc5127.html">RFC 5127</a>, February 2008.

   [<a name="ref-RFC4230" id="ref-RFC4230">RFC4230</a>]  Tschofenig, H. and R. Graveman, "RSVP Security
              Properties", <a href="rfc4230.html">RFC 4230</a>, December 2005.

Authors' Addresses

   Fred Baker
   Cisco Systems
   Santa Barbara, California  93117
   USA

   Phone: +1-408-526-4257
   EMail: fred@cisco.com


   James Polk
   Cisco Systems
   Richardson, Texas  75082
   USA

   Phone: +1-817-271-3552
   EMail: jmpolk@cisco.com


   Martin Dolly
   AT&amp;T Labs
   Middletown Township, New Jersey  07748
   USA

   Phone: +1-732-420-4574
   EMail: mdolly@att.com


















Baker, et al.                Standards Track                   [Page 14]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129c, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc5865 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:54:33 GMT -->
</html>
