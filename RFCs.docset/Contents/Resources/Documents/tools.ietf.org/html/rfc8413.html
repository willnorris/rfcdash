<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc8413 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 13:45:50 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.127" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 8413 - Framework for Scheduled Use of Resources</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc8413.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc8413" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-teas-scheduled-resources" title="draft-ietf-teas-scheduled-resources">draft-ietf-teas...</a>] [<a href="https://datatracker.ietf.org/doc/rfc8413" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=8413&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]                   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                         Y. Zhuang
Request for Comments: 8413                                         Q. Wu
Category: Informational                                          H. Chen
ISSN: 2070-1721                                                   Huawei
                                                               A. Farrel
                                                        Juniper Networks
                                                               July 2018


                <span class="h1">Framework for Scheduled Use of Resources</span>

Abstract

   Time-Scheduled (TS) reservation of Traffic Engineering (TE) resources
   can be used to provide resource booking for TE Label Switched Paths
   so as to better guarantee services for customers and to improve the
   efficiency of network resource usage at any moment in time, including
   network usage that is planned for the future.  This document provides
   a framework that describes and discusses the architecture for
   supporting scheduled reservation of TE resources.  This document does
   not describe specific protocols or protocol extensions needed to
   realize this service.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are candidates for any level of Internet
   Standard; see <a href="rfc7841.html#section-2">SectionÂ 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8413">https://www.rfc-editor.org/info/rfc8413</a>.













<span class="grey">Zhuang, et al.                Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Problem Statement . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.1">2.1</a>.  Provisioning TE-LSPs and TE Resources . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.2">2.2</a>.  Selecting the Path of an LSP  . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.3">2.3</a>.  Planning Future LSPs  . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-2.4">2.4</a>.  Looking at Future Demands on TE Resources . . . . . . . .   <a href="#page-6">6</a>
       2.4.1.  Interaction between Time-Scheduled and Ad Hoc
               Reservations  . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-2.5">2.5</a>.  Requisite State Information . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-3">3</a>.  Architectural Concepts  . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-3.1">3.1</a>.  Where is Scheduling State Held? . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-3.2">3.2</a>.  What State is Held? . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-3.3">3.3</a>.  Enforcement of Operator Policy  . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-4">4</a>.  Architecture Overview . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-4.1">4.1</a>.  Service Request . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
       <a href="#section-4.1.1">4.1.1</a>.  Reoptimization After TED Updates  . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-4.2">4.2</a>.  Initialization and Recovery . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-4.3">4.3</a>.  Synchronization Between PCEs  . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   <a href="#section-5">5</a>.  Multi-domain Considerations . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   <a href="#section-6">6</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-18">18</a>
   <a href="#section-7">7</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
   <a href="#section-8">8</a>.  Informative References  . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
   Contributors  . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-22">22</a>









<span class="grey">Zhuang, et al.                Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Traffic Engineering Label Switched Paths (TE-LSPs) are connection-
   oriented tunnels in packet and non-packet networks [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]
   [<a href="rfc3945.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Architecture"'>RFC3945</a>].  TE-LSPs may reserve network resources for use by the
   traffic they carry, thus providing some guarantees of service
   delivery and allowing a network operator to plan the use of the
   resources across the whole network.

   In some technologies (such as wavelength switched optical networks)
   the resource is synonymous with the label that is switched on the
   path of the LSP so that it is not possible to establish an LSP that
   can carry traffic without assigning a physical resource to the LSP.
   In other technologies (such as packet switched networks), the
   resources assigned to an LSP are a measure of the capacity of a link
   that is dedicated for use by the traffic on the LSP.

   In all cases, network planning consists of selecting paths for LSPs
   through the network so that there will be no contention for
   resources.  LSP establishment is the act of setting up an LSP and
   reserving resources within the network.  Network optimization or
   reoptimization is the process of repositioning LSPs in the network to
   make the unreserved network resources more useful for potential
   future LSPs while ensuring that the established LSPs continue to
   fulfill their objectives.

   It is often the case that it is known that an LSP will be needed at
   some specific time in the future.  While a path for that LSP could be
   computed using knowledge of the currently established LSPs and the
   currently available resources, this does not give any degree of
   certainty that the necessary resources will be available when it is
   time to set up the new LSP.  Yet, setting up the LSP ahead of the
   time when it is needed (which would guarantee the availability of the
   resources) is wasteful since the network resources could be used for
   some other purpose in the meantime.

   Similarly, it may be known that an LSP will no longer be needed after
   some future time and that it will be torn down, which will release
   the network resources that were assigned to it.  This information can
   be helpful in planning how a future LSP is placed in the network.

   Time-Scheduled (TS) reservation of TE resources can be used to
   provide resource booking for TE-LSPs so as to better guarantee
   services for customers and to improve the efficiency of network
   resource usage into the future.  This document provides a framework
   that describes the problem and discusses the architecture for the





<span class="grey">Zhuang, et al.                Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   scheduled reservation of TE resources.  This document does not
   describe specific protocols or protocol extensions needed to realize
   this service.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Problem%20Statement"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Problem Statement</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Provisioning%20TE-LSPs%20and%20TE%20Resources"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Provisioning TE-LSPs and TE Resources</span>

   TE-LSPs in existing networks are provisioned using a variety of
   techniques.  They may be set up using RSVP-TE as a signaling protocol
   [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>] [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].  Alternatively, they could be established by
   direct control of network elements such as in the Software-Defined
   Networking (SDN) paradigm.  They could also be provisioned using the
   PCE Communication Protocol (PCEP) [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>] as a control protocol to
   communicate with the network elements.

   TE resources are reserved at the point of use.  That is, the
   resources (wavelengths, timeslots, bandwidth, etc.) are reserved for
   use on a specific link and are tracked by the Label Switching Routers
   (LSRs) at the end points of the link.  Those LSRs learn which
   resources to reserve during the LSP setup process.

   The use of TE resources can be varied by changing the parameters of
   the LSP that uses them, and the resources can be released by tearing
   down the LSP.

   Resources that have been reserved in the network for use by one LSP
   may be preempted for use by another LSP.  If RSVP-TE signaling is in
   use, a holding priority and a preemption priority are used to
   determine which LSPs may preempt the resources that are in use for
   which other LSPs.  If direct (central) control is in use, the
   controller is able to make preemption decisions.  In either case,
   operator policy forms a key part of preemption since there is a trade
   between disrupting existing LSPs and enabling new LSPs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Selecting%20the%20Path%20of%20an%20LSP"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Selecting the Path of an LSP</span>

   Although TE-LSPs can determine their paths hop by hop using the
   shortest path toward the destination to route the signaling protocol
   messages [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>], in practice this option is not applied because it
   does not look far enough ahead into the network to verify that the
   desired resources are available.  Instead, the full length of the
   path of an LSP is usually computed ahead of time either by the head-
   end LSR of a signaled LSP or by Path Computation Element (PCE)
   functionality that is in a dedicated server or built into network
   management software [<a href="rfc4655.html" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>].





<span class="grey">Zhuang, et al.                Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   Such full-path computation is applied in order that an end-to-end
   view of the available resources in the network can be used to
   determine the best likelihood of establishing a viable LSP that meets
   the service requirements.  Even in this situation, however, it is
   possible that two LSPs being set up at the same time will compete for
   scarce network resources, which means that one or both of them will
   fail to be established.  This situation is avoided by using a
   centralized PCE that is aware of the LSP setup requests that are in
   progress.

   Path selection may make allowance for preemption as described in
   <a href="#section-2.1">Section 2.1</a>.  That is, when selecting a path, the decision may be
   made to choose a path that will result in the preemption of an
   existing LSP.  The trade-off between selecting a less optimal path,
   failing to select any path at all, and preempting an existing LSP
   must be subject to operator policy.

   Path computation is subject to "objective functions" that define what
   criteria are to be met when the LSP is placed [<a href="rfc4655.html" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>].  These can
   be criteria that apply to the LSP itself (such as the shortest path
   to the destination) or to the network state after the LSP is set up
   (such as the maximized residual link bandwidth).  The objective
   functions may be requested by the application requesting the LSP and
   may be filtered and enhanced by the computation engine according to
   operator policy.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Planning%20Future%20LSPs"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Planning Future LSPs</span>

   LSPs may be established "on demand" when the requester determines
   that a new LSP is needed.  In this case, the path of the LSP is
   computed as described in <a href="#section-2.2">Section 2.2</a>.

   However, in many situations, the requester knows in advance that an
   LSP will be needed at a particular time in the future.  For example,
   the requester may be aware of a large traffic flow that will start at
   a well-known time, perhaps for a database synchronization or for the
   exchange of content between streaming sites.  Furthermore, the
   requester may also know for how long the LSP is required before it
   can be torn down.

   The set of requests for future LSPs could be collected and held in a
   central database (such as at a Network Management System (NMS)): when
   the time comes for each LSP to be set up, the NMS can ask the PCE to
   compute a path and can then request the LSP to be provisioned.  This
   approach has a number of drawbacks because it is not possible to
   determine in advance whether it will be possible to deliver the LSP
   since the resources it needs might be used by other LSPs in the




<span class="grey">Zhuang, et al.                Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   network.  Thus, at the time the requester asks for the future LSP,
   the NMS can only make a best-effort guarantee that the LSP will be
   set up at the desired time.

   A better solution, therefore, is for the requests for future LSPs to
   be serviced at once.  The paths of the LSPs can be computed ahead of
   time and converted into reservations of network resources during
   specific windows in the future.  That is, while the path of the LSP
   is computed and the network resources are reserved, the LSP is not
   established in the network until the time for which it is scheduled.

   There is a need to take into account items that need to be subject to
   operator policy, such as 1) the amount of capacity available for
   scheduling future reservations, 2) the operator preference for the
   measures that are used with respect to the use of scheduled resources
   during rapid changes in traffic demand events, or 3) a complex
   (multiple nodes/links) failure event so as to protect against network
   destabilization.  Operator policy is discussed further in
   <a href="#section-3.3">Section 3.3</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20Looking%20at%20Future%20Demands%20on%20TE%20Resources"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  Looking at Future Demands on TE Resources</span>

   While path computation, as described in <a href="#section-2.2">Section 2.2</a>, takes account of
   the currently available network resources and can act to place LSPs
   in the network so that there is the best possibility of future LSPs
   being accommodated, it cannot handle all eventualities.  It is simple
   to construct scenarios where LSPs that are placed one at a time lead
   to future LSPs being blocked, but where foreknowledge of all of the
   LSPs would have made it possible for them all to be set up.

   If, therefore, we were able to know in advance what LSPs were going
   to be requested, we could plan for them and ensure resources were
   available.  Furthermore, such an approach enables a commitment to be
   made to a service user that an LSP will be set up and available at a
   specific time.

   A reservation service can be achieved by tracking the current use of
   network resources and also having a future view of the resource
   usage.  We call this Time-Scheduled TE (TS-TE) resource reservation.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.4.1.%20%20Interaction%20between%20Time-Scheduled%20and%20Ad%20Hoc%20Reservations"></a><a class="selflink" href="#section-2.4.1" name="section-2.4.1">2.4.1</a>.  Interaction between Time-Scheduled and Ad Hoc Reservations</span>

   There will, of course, be a mixture of resource uses in a network.
   For example, normal unplanned LSPs may be requested alongside TS-TE
   LSPs.  When an unplanned LSP is requested, no prior accommodation can
   be made to arrange resource availability, so the LSP can be placed no
   better than would be the case without TS-TE.  However, the new LSP
   can be placed considering the future demands of TS-TE LSPs that have



<span class="grey">Zhuang, et al.                Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   already been requested.  Of course, the unplanned LSP has no known
   end time and so any network planning must assume that it will consume
   resources forever.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5.%20%20Requisite%20State%20Information"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a>.  Requisite State Information</span>

   In order to achieve the TS-TE resource reservation, the use of
   resources on the path needs to be scheduled.  The scheduling state is
   used to indicate when resources are reserved and when they are
   available for use.

   A simple information model for one piece of the scheduling state is
   as follows:

      {
        link id;
        resource id or reserved capacity;
        reservation start time;
        reservation end time
      }

   The resource that is scheduled could be link capacity, physical
   resources on a link, buffers on an interface, etc., and could include
   advanced considerations such as CPU utilization and the availability
   of memory at nodes within the network.  The resource-related
   information might also include the maximal unreserved bandwidth of
   the link over a time interval.  That is, the intention is to book
   (reserve) a percentage of the residual (unreserved) bandwidth of the
   link.  This could be used, for example, to reserve bandwidth for a
   particular class of traffic (such as IP) that doesn't have a
   provisioned LSP.

   For any one resource, there could be multiple pieces of the
   scheduling state, and for any one link, the timing windows might
   overlap.

   There are multiple ways to realize this information model and
   different ways to store the data.  The resource state could be
   expressed as a start time and an end time (as shown above), or it
   could be expressed as a start time and a duration.  Multiple
   reservation periods, possibly of different lengths, may need to be
   recorded for each resource.  Furthermore, the current state of
   network reservation could be kept separate from the scheduled usage,
   or everything could be merged into a single TS database.

   An application may make a reservation request for immediate resource
   usage or to book resources for future use so as to maximize the
   chance of services being delivered and to avoid contention for



<span class="grey">Zhuang, et al.                Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   resources in the future.  A single reservation request may book
   resources for multiple periods and might request a reservation that
   repeats on a regular cycle.

   A computation engine (that is, a PCE) may use the scheduling state
   information to help optimize the use of resources into the future and
   reduce contention or blocking when the resources are actually needed.

   Note that it is also necessary to store the information about future
   LSPs as distinct from the specific resource scheduling.  This
   information is held to allow the LSPs to be instantiated when they
   are due, and use the paths/resources that have been computed for
   them, and also to provide correlation with the TS-TE resource
   reservations so that it is clear why resources were reserved, thus
   allowing preemption and handling the release of reserved resources in
   the event of cancellation of future LSPs.  See <a href="#section-3.2">Section 3.2</a> for
   further discussion of the distinction between scheduled resource
   state and scheduled LSP state.

   Network performance factors (such as maximum link utilization and the
   residual capacity of the network), with respect to supporting
   scheduled reservations, need to be supported and are subject to
   operator policy.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Architectural%20Concepts"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Architectural Concepts</span>

   This section examines several important architectural concepts to
   understand the design decisions reached in this document to achieve
   TS-TE in a scalable and robust manner.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Where%20is%20Scheduling%20State%20Held%3F"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Where is Scheduling State Held?</span>

   The scheduling state information described in <a href="#section-2.5">Section 2.5</a> has to be
   held somewhere.  There are two places where this makes sense:

   o  in the network nodes where the resources exist; or,

   o  in a central scheduling controller where decisions about resource
      allocation are made.

   The first of these makes policing of resource allocation easier.  It
   means that many points in the network can request immediate or
   scheduled LSPs with the associated resource reservation, and that all
   such requests can be correlated at the point where the resources are







<span class="grey">Zhuang, et al.                Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   allocated.  However, this approach has some scaling and technical
   problems:

   o  The most obvious issue is that each network node must retain the
      full time-based state for all of its resources.  In a busy network
      with a high arrival rate of new LSPs and a low hold time for each
      LSP, this could be a lot of state.  Network nodes are normally
      implemented with minimal spare memory.

   o  In order that path computation can be performed, the computing
      entity normally known as a Path Computation Element (PCE)
      [<a href="rfc4655.html" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>] needs access to a database of available links and nodes
      in the network (as well as the TE properties of said links).  This
      database is known as the Traffic Engineering Database (TED) and is
      usually populated from information advertised in the IGP by each
      of the network nodes or exported using BGP Link State (BGP-LS)
      [<a href="rfc7752.html" title='"North-Bound Distribution of Link-State and Traffic Engineering (TE) Information Using BGP"'>RFC7752</a>].  To be able to compute a path for a future LSP, the PCE
      needs to populate the TED with all of the future resource
      availability: if this information is held on the network nodes, it
      must also be advertised in the IGP.  This could be a significant
      scaling issue for the IGP and the network nodes, as all of the
      advertised information is held at every network node and must be
      periodically refreshed by the IGP.

   o  When a normal node restarts, it can recover the resource
      reservation state from the forwarding hardware, from Non-Volatile
      Random-Access Memory (NVRAM), or from adjacent nodes through the
      signaling protocol [<a href="rfc5063.html" title='"Extensions to GMPLS Resource Reservation Protocol (RSVP) Graceful Restart"'>RFC5063</a>].  If the scheduling state is held at
      the network nodes, it must also be recovered after the restart of
      a network node.  This cannot be achieved from the forwarding
      hardware because the reservation will not have been made, could
      require additional expensive NVRAM, or might require that all
      adjacent nodes also have the scheduling state in order to
      reinstall it on the restarting node.  This is potentially complex
      processing with scaling and cost implications.

   Conversely, if the scheduling state is held centrally, it is easily
   available at the point of use.  That is, the PCE can utilize the
   state to plan future LSPs and can update that stored information with
   the scheduled reservation of resources for those future LSPs.  This
   approach also has several issues:

   o  If there are multiple controllers, then they must synchronize
      their stored scheduling state as they each plan future LSPs and
      they must have a mechanism to resolve resource contention.  This
      is relatively simple and is mitigated by the fact that there is
      ample processing time to replan future LSPs in the case of
      resource contention.



<span class="grey">Zhuang, et al.                Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   o  If other sources of immediate LSPs are allowed (for example, other
      controllers or autonomous action by head-end LSRs), then the
      changes in resource availability caused by the setup or tear down
      of these LSPs must be reflected in the TED (by use of the IGP as
      is already normally done) and may have an impact on planned future
      LSPs.  This impact can be mitigated by replanning future LSPs or
      through LSP preemption.

   o  If the scheduling state is held centrally at a PCE, the state must
      be held and restored after a system restart.  This is relatively
      easy to achieve on a central server that can have access to non-
      volatile storage.  The PCE could also synchronize the scheduling
      state with other PCEs after restart.  See <a href="#section-4.2">Section 4.2</a> for details.

   o  Of course, a centralized system must store information about all
      of the resources in the network.  In a busy network with a high
      arrival rate of new LSPs and a low hold time for each LSP, this
      could be a lot of state.  This is multiplied by the size of the
      network measured both by the number of links and nodes and by the
      number of trackable resources on each link or at each node.  This
      challenge may be mitigated by the centralized server being
      dedicated hardware, but there remains the problem of collecting
      the information from the network in a timely way when there is
      potentially a very large amount of information to be collected and
      when the rate of change of that information is high.  This latter
      challenge is only solved if the central server has full control of
      the booking of resources and the establishment of new LSPs so that
      the information from the network only serves to confirm what the
      central server expected.

   Thus, considering these trade-offs, the architectural conclusion is
   that the scheduling state should be held centrally at the point of
   use and not in the network devices.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20What%20State%20is%20Held%3F"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  What State is Held?</span>

   As already described, the PCE needs access to an enhanced, time-based
   TED.  It stores the Traffic Engineering (TE) information, such as
   bandwidth, for every link for a series of time intervals.  There are
   a few ways to store the TE information in the TED.  For example,
   suppose that the amount of the unreserved bandwidth at a priority
   level for a link is Bj in a time interval from time Tj to Tk (k =
   j+1), where j = 0, 1, 2, ....








<span class="grey">Zhuang, et al.                Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


        Bandwidth
         ^
         |                                    B3
         |          B1                        ___________
         |          __________
         |B0                                             B4
         |__________          B2                         _________
         |                    ________________
         |
        -+-------------------------------------------------------&gt; Time
         |T0        T1        T2              T3         T4


             Figure 1: A Plot of Bandwidth Usage against Time

   The unreserved bandwidth for the link can be represented and stored
   in the TED as [T0, B0], [T1, B1], [T2, B2], [T3, B3], ... as shown in
   Figure 1.

   But it must be noted that service requests for future LSPs are known
   in terms of the LSPs whose paths are computed and for which resources
   are scheduled.  For example, if the requester of a future LSP decides
   to cancel the request or to modify the request, the PCE must be able
   to map this to the resources that were reserved.  When the LSP (or
   the request for the LSP with a number of time intervals) is canceled,
   the PCE must release the resources that were reserved on each of the
   links along the path of the LSP in every time interval from the TED.
   If the bandwidth that had been reserved for the LSP on a link was B
   from time T2 to T3 and the unreserved bandwidth on the link was B2
   from T2 to T3, then B is added back to the link for the time interval
   from T2 to T3 and the unreserved bandwidth on the link from T2 to T3
   will be seen to be B2 + B.

   This suggests that the PCE needs an LSP Database (LSP-DB) [<a href="rfc8231.html" title='"Path Computation Element Communication Protocol (PCEP) Extensions for Stateful PCE"'>RFC8231</a>]
   that contains information not only about LSPs that are active in the
   network but also those that are planned.  For each time interval that
   applies to the LSP, the information for an LSP stored in the LSP-DB
   includes: the time interval, the paths computed for the LSP
   satisfying the constraints in the time interval, and the resources
   (such as bandwidth) reserved for the LSP in the time interval.  See
   also <a href="#section-2.3">Section 2.3</a>

   It is an implementation choice how the TED and LSP-DB are stored both
   for dynamic use and for recovery after failure or restart, but it may
   be noted that all of the information in the scheduled TED can be
   recovered from the active network state and from the scheduled LSP-
   DB.




<span class="grey">Zhuang, et al.                Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Enforcement%20of%20Operator%20Policy"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Enforcement of Operator Policy</span>

   Computation requests for LSPs are serviced according to operator
   policy.  For example, a PCE may refuse a computation request because
   the application making the request does not have sufficient
   permissions or because servicing the request might take specific
   resource usage over a given threshold.

   Furthermore, the preemption and holding priorities of any particular
   computation request may be subject to the operator's policies.  The
   request could be rejected if it does not conform to the operator's
   policies, or (possibly more likely) the priorities could be set/
   overwritten according to the operator's policies.

   Additionally, the Objective Functions (OFs) of computation request
   (such as maximizing residual bandwidth) are also subject to operator
   policies.  It is highly likely that the choice of OFs is not
   available to an application and is selected by the PCE or management
   system subject to operator policies and knowledge of the application.

   None of these statements is new to scheduled resources.  They apply
   to stateless, stateful, passive, and active PCEs, and they continue
   to apply to scheduling of resources.

   An operator may choose to configure special behavior for a PCE that
   handles resource scheduling.  For example, an operator might want
   only a certain percentage of any resource to be bookable.  And an
   operator might want the preemption of booked resources to be an
   inverse function of how far in the future the resources are needed
   for the first time.

   It is a general assumption about the architecture described in
   <a href="#section-4">Section 4</a> that a PCE is under the operational control of the operator
   that owns the resources that the PCE manipulates.  Thus, the operator
   may configure any amount of (potentially complex) policy at the PCE.
   This configuration would also include policy points surrounding
   reoptimization of existing and planned LSPs in the event of changes
   in the current and future (planned) resource availability.

   The granularity of the timing window offered to an application will
   depend on an operator's policy as well as the implementation in the
   PCE and goes to define the operator' service offerings.  Different
   granularities and different lengths of prebooking may be offered to
   different applications.







<span class="grey">Zhuang, et al.                Informational                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Architecture%20Overview"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Architecture Overview</span>

   The architectural considerations and conclusions described in the
   previous section lead to the architecture described in this section
   and illustrated in Figure 2.  The interfaces and interactions shown
   in the figure and labeled (a) through (f) are described in
   <a href="#section-4.1">Section 4.1</a>.

          -------------------
         | Service Requester |
          -------------------
                     ^
                    a|
                     v
                  -------   b   --------
                 |       |&lt;---&gt;| LSP-DB |
                 |       |      --------
                 |  PCE  |
                 |       |  c    -----
                 |       |&lt;----&gt;| TED |
                  -------        -----
                  ^     ^
                  |     |
                 d|     |e
                  |     |
            ------+-----+--------------------
                  |     |          Network
                  |     --------
                  |    | Router |
                  v     --------
                -----          -----
               | LSR |&lt;------&gt;| LSR |
                -----     f    -----

      Figure 2: Reference Architecture for Scheduled Use of Resources

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Service%20Request"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Service Request</span>

   As shown in Figure 2, some component in the network requests a
   service.  This may be an application, an NMS, an LSR, or any
   component that qualifies as a Path Computation Client (PCC).  We show
   this on the figure as the "Service Requester", and it sends a request
   to the PCE for an LSP to be set up at some time (either now or in the
   future).  The request, indicated on Figure 2 by the arrow (a),
   includes all of the parameters of the LSP that the requester wishes
   to supply, such as priority, bandwidth, start time, and end time.
   Note that the requester in this case may be the LSR shown in the
   figure or may be a distinct system.



<span class="grey">Zhuang, et al.                Informational                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   The PCE enters the LSP request in its LSP-DB (b) and uses information
   from its TED (c) to compute a path that satisfies the constraints
   (such as bandwidth) for the LSP in the time interval from the start
   time to the end time.  It updates the future resource availability in
   the TED so that further path computations can take account of the
   scheduled resource usage.  It stores the path for the LSP into the
   LSP-DB (b).

   When it is time (i.e., at the start time) for the LSP to be set up,
   the PCE sends a PCEP Initiate request to the head-end LSR (d), which
   provides the path to be signaled as well as other parameters, such as
   the bandwidth of the LSP.

   As the LSP is signaled between LSRs (f), the use of resources in the
   network is updated and distributed using the IGP.  This information
   is shared with the PCE either through the IGP or using BGP-LS (e),
   and the PCE updates the information stored in its TED (c).

   After the LSP is set up, the head-end LSR sends a PCEP LSP State
   Report (PCRpt) message to the PCE (d).  The report contains the
   resources, such as bandwidth usage, for the LSP.  The PCE updates the
   status of the LSP in the LSP-DB according to the report.

   When an LSP is no longer required (either because the Service
   Requester has canceled the request or because the LSP's scheduled
   lifetime has expired), the PCE can remove it.  If the LSP is
   currently active, the PCE instructs the head-end LSR to tear it down
   (d), and the network resource usage will be updated by the IGP and
   advertised back to the PCE through the IGP or BGP-LS (e).  Once the
   LSP is no longer active, the PCE can remove it from the LSP-DB (b).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.1.%20%20Reoptimization%20After%20TED%20Updates"></a><a class="selflink" href="#section-4.1.1" name="section-4.1.1">4.1.1</a>.  Reoptimization After TED Updates</span>

   When the TED is updated as indicated in <a href="#section-4.1">Section 4.1</a>, depending on
   operator policy (so as to minimize network perturbations), the PCE
   may perform reoptimization of the LSPs for which it has computed
   paths.  These LSPs may be already provisioned, in which case the PCE
   issues PCEP Update request messages for the LSPs that should be
   adjusted.  Additionally, the LSPs being reoptimized may be scheduled
   LSPs that have not yet been provisioned, in which case reoptimization
   involves updating the store of scheduled LSPs and resources.

   In all cases, the purpose of reoptimization is to take account of the
   resource usage and availability in the network and to compute paths
   for the current and future LSPs that best satisfy the objectives of
   those LSPs while keeping the network as clear as possible to support
   further LSPs.  Since reoptimization may perturb established LSPs, it




<span class="grey">Zhuang, et al.                Informational                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   is subject to operator oversight and policy.  As the stability of the
   network will be impacted by frequent changes, the extent and impact
   of any reoptimization needs to be subject to operator policy.

   Additionally, the status of the reserved resources (alarms) can
   enhance the computation and planning for future LSPs and may
   influence repair and reoptimization.  Control of recalculations based
   on failures and notifications to the operator is also subject to
   policy.

   See <a href="#section-3.3">Section 3.3</a> for further discussion of operator policy.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Initialization%20and%20Recovery"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Initialization and Recovery</span>

   When a PCE in the architecture shown in Figure 2 is initialized, it
   must learn the state from the network, from its stored databases, and
   potentially from other PCEs in the network.

   The first step is to get an accurate view of the topology and
   resource availability in the network.  This would normally involve
   reading the state directly from the network via the IGP or BGP-LS
   (e), but it might include receiving a copy of the TED from another
   PCE.  Note that a TED stored from a previous instantiation of the PCE
   is unlikely to be valid.

   Next, the PCE must construct a time-based TED to show scheduled
   resource usage.  How it does this is implementation specific, and
   this document does not dictate any particular mechanism: it may
   recover a time-based TED previously saved to non-volatile storage, or
   it may reconstruct the time-based TED from information retrieved from
   the LSP-DB previously saved to non-volatile storage.  If there is
   more than one PCE active in the network, the recovering PCE will need
   to synchronize the LSP-DB and time-based TED with other PCEs (see
   <a href="#section-4.3">Section 4.3</a>).

   Note that the stored LSP-DB needs to include the intended state and
   actual state of the LSPs so that when a PCE recovers, it is able to
   determine what actions are necessary.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Synchronization%20Between%20PCEs"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Synchronization Between PCEs</span>

   If there is active in the network more than one PCE that supports
   scheduling, it is important to achieve some consistency between the
   scheduled TED and scheduled LSP-DB held by the PCEs.

   [<a id="ref-RFC7399" name="ref-RFC7399">RFC7399</a>] answers various questions around synchronization between
   the PCEs.  It should be noted that the time-based "scheduled"
   information adds another dimension to the issue of synchronization



<span class="grey">Zhuang, et al.                Informational                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   between PCEs.  It should also be noted that a deployment may use a
   primary PCE and then have other PCEs as backup, where a backup PCE
   can take over only in the event of a failure of the primary PCE.
   Alternatively, the PCEs may share the load at all times.  The choice
   of the synchronization technique is largely dependent on the
   deployment of PCEs in the network.

   One option for ensuring that multiple PCEs use the same scheduled
   information is simply to have the PCEs driven from the same shared
   database, but it is likely to be inefficient, and interoperation
   between multiple implementations will be harder.

   Another option is for each PCE to be responsible for its own
   scheduled database and to utilize some distributed database
   synchronization mechanism to have consistent information.  Depending
   on the implementation, this could be efficient, but interoperation
   between heterogeneous implementations is still hard.

   A further approach is to utilize PCEP messages to synchronize the
   scheduled state between PCEs.  This approach would work well if the
   number of PCEs that support scheduling is small, but as the number
   increases, considerable message exchange needs to happen to keep the
   scheduled databases synchronized.  Future solutions could also
   utilize some synchronization optimization techniques for efficiency.
   Another variation would be to request information from other PCEs for
   a particular time slice, but this might have an impact on the
   optimization algorithm.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Multi-domain%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Multi-domain Considerations</span>

   Multi-domain path computation usually requires some form of
   cooperation between PCEs, each of which has responsibility for
   determining a segment of the end-to-end path in the domain for which
   it has computational responsibility.  When computing a scheduled
   path, resources need to be booked in all of the domains that the path
   will cross so that they are available when the LSP is finally
   signaled.

   Per-domain path computation [<a href="rfc5152.html" title='"A Per-Domain Path Computation Method for Establishing Inter- Domain Traffic Engineering (TE) Label Switched Paths (LSPs)"'>RFC5152</a>] is not an appropriate mechanism
   when a scheduled LSP is being computed because the computation
   requests at downstream PCEs are only triggered by signaling.
   However, a similar mechanism could be used where cooperating PCEs
   exchange Path Computation Request (PCReq) messages for a scheduled
   LSP, as shown in Figure 3.  In this case, the service requester asks
   for a scheduled LSP that will span two domains (a).  PCE1 computes a
   path across Domain 1 and reserves the resources and also asks PCE2 to
   compute and reserve in Domain 2 (b).  PCE2 may return a full path or
   could return a path key [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>].  When it is time for LSP setup,



<span class="grey">Zhuang, et al.                Informational                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   PCE1 triggers the head-end LSR (c), and the LSP is signaled (d).  If
   a path key is used, the entry LSR in Domain 2 will consult PCE2 for
   the path expansion (e) before completing signaling (f).

          -------------------
         | Service Requester |
          -------------------
             ^
            a|
             v
          ------         b          ------
         |      |&lt;----------------&gt;|      |
         | PCE1 |                  | PCE2 |
         |      |                  |      |
          ------                    ------
            ^                         ^
            |                         |
           c|                        e|
            |                         |
        ----+-----------------    ----+-----------------
       |    |        Domain 1 |  |    |        Domain 2 |
       |    v                 |  |    v                 |
       |  -----   d   -----   |  |   -----   f   -----  |
       | | LSR |&lt;---&gt;| LSR |&lt;-+--+-&gt;| LSR |&lt;---&gt;| LSR | |
       |  -----       -----   |  |   -----       -----  |
        ----------------------    ----------------------


         Figure 3: Per-Domain Path Computation for Scheduled LSPs

   Another mechanism for PCE cooperation in multi-domain LSP setup is
   Backward Recursive PCE-Based Computation (BRPC) [<a href="rfc5441.html" title='"A Backward-Recursive PCE-Based Computation (BRPC) Procedure to Compute Shortest Constrained Inter-Domain Traffic Engineering Label Switched Paths"'>RFC5441</a>].  This
   approach relies on the downstream domain to supply a variety of
   potential paths to the upstream domain.  Although BRPC can arrive at
   a more optimal end-to-end path than per-domain path computation, it
   is not well suited to LSP scheduling because the downstream PCE would
   need to reserve resources on all of the potential paths and then
   release those that the upstream PCE announced it did not plan to use.

   Finally, we should consider hierarchical PCE (H-PCE) [<a href="rfc6805.html" title='"The Application of the Path Computation Element Architecture to the Determination of a Sequence of Domains in MPLS and GMPLS"'>RFC6805</a>].  This
   mode of operation is similar to that shown in Figure 3, but a parent
   PCE is used to coordinate the requests to the child PCEs, which then
   results in better visibility of the end-to-end path and better
   coordination of the resource booking.  The sequenced flow of control
   is shown in Figure 4.






<span class="grey">Zhuang, et al.                Informational                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


          -------------------
         | Service Requester |
          -------------------
             ^
            a|
             v
          --------
         |        |
         | Parent |
         |  PCE   |
         |        |
          --------
             ^ ^         b
            b| |_______________________
             |                         |
             v                         v
          ------                    ------
         |      |                  |      |
         | PCE1 |                  | PCE2 |
         |      |                  |      |
          ------                    ------
            ^                         ^
            |                         |
           c|                        e|
            |                         |
        ----+-----------------    ----+-----------------
       |    |        Domain 1 |  |    |        Domain 2 |
       |    v                 |  |    v                 |
       |  -----   d   -----   |  |   -----   f   -----  |
       | | LSR |&lt;---&gt;| LSR |&lt;-+--+-&gt;| LSR |&lt;---&gt;| LSR | |
       |  -----       -----   |  |   -----       -----  |
        ----------------------    ----------------------


    Figure 4: Hierarchical PCE for Path Computation for Scheduled LSPs

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   The protocol implications of scheduled resources are unchanged from
   "on demand" LSP computation and setup.  A discussion of securing PCEP
   is found in [<a href="rfc5440.html" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>], and work to extend that security is provided
   in [<a href="rfc8253.html" title='"PCEPS: Usage of TLS to Provide a Secure Transport for the Path Computation Element Communication Protocol (PCEP)"'>RFC8253</a>].  Furthermore, the path key mechanism described in
   [<a href="rfc5520.html" title='"Preserving Topology Confidentiality in Inter-Domain Path Computation Using a Path-Key-Based Mechanism"'>RFC5520</a>] can be used to enhance privacy and security.

   Similarly, there is no change to the security implications for the
   signaling of scheduled LSPs.  A discussion of the security of the
   signaling protocols that would be used is found in [<a href="rfc5920.html" title='"Security Framework for MPLS and GMPLS Networks"'>RFC5920</a>].




<span class="grey">Zhuang, et al.                Informational                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   However, the use of scheduled LSPs extends the attack surface for a
   PCE-enabled TE system by providing a larger (logically infinite)
   window during which an attack can be initiated or planned.  That is,
   if bogus scheduled LSPs can be requested and entered into the LSP-DB,
   then a large number of LSPs could be launched and significant network
   resources could be blocked.  Control of scheduling requests needs to
   be subject to operator policy, and additional authorization needs to
   be applied for access to LSP scheduling.  Diagnostic tools need to be
   provided to inspect the LSP-DB to spot attacks.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  IANA Considerations</span>

   This document has no IANA actions.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Informative%20References"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Informative References</span>

   [<a id="ref-AUTOBW" name="ref-AUTOBW">AUTOBW</a>]   Yong, L. and Y. Lee, "ASON/GMPLS Extension for Reservation
              and Time Based Automatic Bandwidth Service", Work in
              Progress, <a href="https://tools.ietf.org/html/draft-yong-ccamp-ason-gmpls-autobw-service-00">draft-yong-ccamp-ason-gmpls-autobw-service-00</a>,
              October 2006.

   [<a id="ref-DRAGON" name="ref-DRAGON">DRAGON</a>]   National Science Foundation, "The DRAGON Project: Dynamic
              Resource Allocation via GMPLS Optical Networks", Overview
              and Status Presentation at ONT3, September 2006,
              &lt;<a href="http://www.maxgigapop.net/wp-content/uploads/The-DRAGON-Project.pdf">http://www.maxgigapop.net/wp-content/uploads/</a>
              <a href="http://www.maxgigapop.net/wp-content/uploads/The-DRAGON-Project.pdf">The-DRAGON-Project.pdf</a>&gt;.

   [<a id="ref-FRAMEWORK-TTS" name="ref-FRAMEWORK-TTS">FRAMEWORK-TTS</a>]
              Chen, H., Toy, M., Liu, L., and K. Pithewan, "Framework
              for Temporal Tunnel Services", Work In Progress, <a href="https://tools.ietf.org/html/draft-chen-teas-frmwk-tts-01">draft-</a>
              <a href="https://tools.ietf.org/html/draft-chen-teas-frmwk-tts-01">chen-teas-frmwk-tts-01</a>, March 2016.

   [<a id="ref-RFC3209" name="ref-RFC3209">RFC3209</a>]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", <a href="rfc3209.html">RFC 3209</a>, DOI 10.17487/RFC3209, December 2001,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;.

   [<a id="ref-RFC3473" name="ref-RFC3473">RFC3473</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Resource ReserVation Protocol-
              Traffic Engineering (RSVP-TE) Extensions", <a href="rfc3473.html">RFC 3473</a>,
              DOI 10.17487/RFC3473, January 2003,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3473">https://www.rfc-editor.org/info/rfc3473</a>&gt;.

   [<a id="ref-RFC3945" name="ref-RFC3945">RFC3945</a>]  Mannie, E., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Architecture", <a href="rfc3945.html">RFC 3945</a>,
              DOI 10.17487/RFC3945, October 2004,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3945">https://www.rfc-editor.org/info/rfc3945</a>&gt;.




<span class="grey">Zhuang, et al.                Informational                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   [<a id="ref-RFC4655" name="ref-RFC4655">RFC4655</a>]  Farrel, A., Vasseur, J., and J. Ash, "A Path Computation
              Element (PCE)-Based Architecture", <a href="rfc4655.html">RFC 4655</a>,
              DOI 10.17487/RFC4655, August 2006,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;.

   [<a id="ref-RFC5063" name="ref-RFC5063">RFC5063</a>]  Satyanarayana, A., Ed. and R. Rahman, Ed., "Extensions to
              GMPLS Resource Reservation Protocol (RSVP) Graceful
              Restart", <a href="rfc5063.html">RFC 5063</a>, DOI 10.17487/RFC5063, October 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5063">https://www.rfc-editor.org/info/rfc5063</a>&gt;.

   [<a id="ref-RFC5152" name="ref-RFC5152">RFC5152</a>]  Vasseur, JP., Ed., Ayyangar, A., Ed., and R. Zhang, "A
              Per-Domain Path Computation Method for Establishing Inter-
              Domain Traffic Engineering (TE) Label Switched Paths
              (LSPs)", <a href="rfc5152.html">RFC 5152</a>, DOI 10.17487/RFC5152, February 2008,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5152">https://www.rfc-editor.org/info/rfc5152</a>&gt;.

   [<a id="ref-RFC5440" name="ref-RFC5440">RFC5440</a>]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", <a href="rfc5440.html">RFC 5440</a>,
              DOI 10.17487/RFC5440, March 2009,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;.

   [<a id="ref-RFC5441" name="ref-RFC5441">RFC5441</a>]  Vasseur, JP., Ed., Zhang, R., Bitar, N., and JL. Le Roux,
              "A Backward-Recursive PCE-Based Computation (BRPC)
              Procedure to Compute Shortest Constrained Inter-Domain
              Traffic Engineering Label Switched Paths", <a href="rfc5441.html">RFC 5441</a>,
              DOI 10.17487/RFC5441, April 2009,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5441">https://www.rfc-editor.org/info/rfc5441</a>&gt;.

   [<a id="ref-RFC5520" name="ref-RFC5520">RFC5520</a>]  Bradford, R., Ed., Vasseur, JP., and A. Farrel,
              "Preserving Topology Confidentiality in Inter-Domain Path
              Computation Using a Path-Key-Based Mechanism", <a href="rfc5520.html">RFC 5520</a>,
              DOI 10.17487/RFC5520, April 2009,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5520">https://www.rfc-editor.org/info/rfc5520</a>&gt;.

   [<a id="ref-RFC5920" name="ref-RFC5920">RFC5920</a>]  Fang, L., Ed., "Security Framework for MPLS and GMPLS
              Networks", <a href="rfc5920.html">RFC 5920</a>, DOI 10.17487/RFC5920, July 2010,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5920">https://www.rfc-editor.org/info/rfc5920</a>&gt;.

   [<a id="ref-RFC6805" name="ref-RFC6805">RFC6805</a>]  King, D., Ed. and A. Farrel, Ed., "The Application of the
              Path Computation Element Architecture to the Determination
              of a Sequence of Domains in MPLS and GMPLS", <a href="rfc6805.html">RFC 6805</a>,
              DOI 10.17487/RFC6805, November 2012,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6805">https://www.rfc-editor.org/info/rfc6805</a>&gt;.

   [<a id="ref-RFC7399" name="ref-RFC7399">RFC7399</a>]  Farrel, A. and D. King, "Unanswered Questions in the Path
              Computation Element Architecture", <a href="rfc7399.html">RFC 7399</a>,
              DOI 10.17487/RFC7399, October 2014,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7399">https://www.rfc-editor.org/info/rfc7399</a>&gt;.



<span class="grey">Zhuang, et al.                Informational                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


   [<a id="ref-RFC7752" name="ref-RFC7752">RFC7752</a>]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", <a href="rfc7752.html">RFC 7752</a>,
              DOI 10.17487/RFC7752, March 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7752">https://www.rfc-editor.org/info/rfc7752</a>&gt;.

   [<a id="ref-RFC8231" name="ref-RFC8231">RFC8231</a>]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", <a href="rfc8231.html">RFC 8231</a>,
              DOI 10.17487/RFC8231, September 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8231">https://www.rfc-editor.org/info/rfc8231</a>&gt;.

   [<a id="ref-RFC8253" name="ref-RFC8253">RFC8253</a>]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              <a href="rfc8253.html">RFC 8253</a>, DOI 10.17487/RFC8253, October 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8253">https://www.rfc-editor.org/info/rfc8253</a>&gt;.

Acknowledgements

   This work has benefited from the discussions of resource scheduling
   over the years.  In particular, the DRAGON project [<a href="#ref-DRAGON" title='"The DRAGON Project: Dynamic Resource Allocation via GMPLS Optical Networks"'>DRAGON</a>] and
   [<a href="#ref-AUTOBW" title='"ASON/GMPLS Extension for Reservation and Time Based Automatic Bandwidth Service"'>AUTOBW</a>], both of which provide approaches to auto-bandwidth services
   in GMPLS networks.

   Mehmet Toy, Lei Liu, and Khuzema Pithewan contributed to an earlier
   version of [<a href="#ref-FRAMEWORK-TTS" title='"Framework for Temporal Tunnel Services"'>FRAMEWORK-TTS</a>].  We would like to thank the authors of
   that document on Temporal Tunnel Services for material that assisted
   in thinking about this document.

   Thanks to Michael Scharf and Daniele Ceccarelli for useful comments
   on this work.

   Jonathan Hardwick provided a helpful Routing Directorate review.

   Deborah Brungard, Mirja Kuehlewind, and Benjamin Kaduk suggested many
   changes during their Area Director reviews.

Contributors

   The following person contributed to discussions that led to the
   development of this document:


   Dhruv Dhody
   Email: dhruv.dhody@huawei.com





<span class="grey">Zhuang, et al.                Informational                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc8413.html">RFC 8413</a>               Scheduled Use of Resources              July 2018</span>


Authors' Addresses

   Yan Zhuang
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: zhuangyan.zhuang@huawei.com


   Qin Wu
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: bill.wu@huawei.com


   Huaimo Chen
   Huawei
   Boston, MA
   United States of America

   Email: huaimo.chen@huawei.com


   Adrian Farrel
   Juniper Networks

   Email: afarrel@juniper.net



















Zhuang, et al.                Informational                    [Page 22]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc8413 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 13:45:50 GMT --></html>