<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6753 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:27 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-winterbottom-geopriv-deref-protocol" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6753" name="DC.Identifier"/>
<meta content="October, 2012" name="DC.Date.Issued"/>
<meta content="Schulzrinne, Henning" name="DC.Creator"/>
<meta content="Thomson, Martin" name="DC.Creator"/>
<meta content="Winterbottom, James" name="DC.Creator"/>
<meta content="Tschofenig, Hannes" name="DC.Creator"/>
<meta content="This document describes how to use the Hypertext Transfer Protocol
(HTTP) over Transport Layer Security (TLS) as a dereference protocol
to resolve a reference to a Presence Information Data Format Location
Object (PIDF-LO). This document assumes that a Location Recipient
possesses a URI that can be used in conjunction with the HTTP-Enabled
Location Delivery (HELD) protocol to request the location of the
Target. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="A Location Dereference Protocol Using HTTP-Enabled Location Delivery (HELD)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6753 - A Location Dereference Protocol Using HTTP-Enabled Location Delivery (HELD)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6753.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6753" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-geopriv-deref-protocol" title="draft-ietf-geopriv-deref-protocol">draft-ietf-geop...</a>] [<a href="https://datatracker.ietf.org/doc/rfc6753" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6753" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6753" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=6753&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                   J. Winterbottom
Request for Comments: 6753                                     Commscope
Category: Standards Track                                  H. Tschofenig
ISSN: 2070-1721                                   Nokia Siemens Networks
                                                          H. Schulzrinne
                                                     Columbia University
                                                              M. Thomson
                                                               Microsoft
                                                            October 2012


                 <span class="h1">A Location Dereference Protocol Using</span>
                 <span class="h1">HTTP-Enabled Location Delivery (HELD)</span>

Abstract

   This document describes how to use the Hypertext Transfer Protocol
   (HTTP) over Transport Layer Security (TLS) as a dereference protocol
   to resolve a reference to a Presence Information Data Format Location
   Object (PIDF-LO).  This document assumes that a Location Recipient
   possesses a URI that can be used in conjunction with the HTTP-Enabled
   Location Delivery (HELD) protocol to request the location of the
   Target.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6753">http://www.rfc-editor.org/info/rfc6753</a>.














<span class="grey">Winterbottom, et al.         Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  HELD Dereference Protocol  . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-3.1">3.1</a>.  HELD Usage Profile . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-3.2">3.2</a>.  HTTP GET Behavior  . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-4">4</a>.  Authorization Models . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
     <a href="#section-4.1">4.1</a>.  Authorization by Possession  . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-4.2">4.2</a>.  Authorization via Access Control . . . . . . . . . . . . .  <a href="#page-8">8</a>
     <a href="#section-4.3">4.3</a>.  Access Control with HELD Dereference . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-5">5</a>.  Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
   <a href="#section-6">6</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-7">7</a>.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   <a href="#section-8">8</a>.  References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-8.1">8.1</a>.  Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-8.2">8.2</a>.  Informative References . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#appendix-A">Appendix A</a>.  GEOPRIV Using Protocol Compliance . . . . . . . . . . <a href="#page-18">18</a>
   <a href="#appendix-B">Appendix B</a>.  Compliance to Location Reference Requirements . . . . <a href="#page-21">21</a>
     <a href="#appendix-B.1">B.1</a>.  Requirements for a Location Configuration Protocol . . . . <a href="#page-21">21</a>
     <a href="#appendix-B.2">B.2</a>.  Requirements for a Location Dereference Protocol . . . . . <a href="#page-23">23</a>















<span class="grey">Winterbottom, et al.         Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   A location URI [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>] identifies a resource that contains the
   location of an entity.  This document specifies how a holder of an
   "http:" or "https:" location URI uses that URI to retrieve location
   information using a subset of HELD functionality or an HTTP GET
   request.

   A location URI can be acquired using a location configuration
   protocol, such as HTTP-Enabled Location Delivery (HELD) [<a href="rfc5985.html" title='"HTTP-Enabled Location Delivery (HELD)"'>RFC5985</a>] or
   the Dynamic Host Configuration Protocol (DHCP) location URI option
   [<a href="#ref-DHCP-URI-OPT">DHCP-URI-OPT</a>].

   A Location Recipient that dereferences a location URI acquires
   location information in the form of a Presence Information Data
   Format - Location Object (PIDF-LO) document [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>].  HELD
   parameters allow for specifying the type of location information,
   though some constraints are placed on allowable parameters.

   Location URIs compatible with HELD dereferencing use the "https:" or
   "http:" scheme.  HELD can be used by Location Recipients that are
   aware of the fact that the URI is a location URI.  Mandatory support
   for an HTTP GET request ensures that the URI can be used even if it
   is not recognized as a location URI.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   This document uses key terminology from several sources:

   o  The terms for the GEOPRIV reference model defined are in
      [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>].

   o  The term "Location Information Server (LIS)", from [<a href="rfc5687.html" title='"GEOPRIV Layer 7 Location Configuration Protocol: Problem Statement and Requirements"'>RFC5687</a>], is a
      node in the access network that provides location information to
      an endpoint.  A LIS provides location URIs.

   o  The term "Location Server (LS)", from [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>], is used to
      identify the role that responds to a location dereference request.
      A Location Server might be the same entity as the LIS, but the
      model in [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>] allows for the existence of separate -- but
      related -- entities.

   o  The term "location URI" is coined in [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>].




<span class="grey">Winterbottom, et al.         Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20HELD%20Dereference%20Protocol"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  HELD Dereference Protocol</span>

   This section describes how HELD can be used to dereference a location
   URI.  This process can be applied when a Location Recipient is in
   possession of a location URI with an "https:" or "http:" URI scheme.

   This document does not describe a specific authentication mechanism.
   This means that authorization policies are unable to specifically
   identify authorized Location Recipients.

   A Location Recipient that wishes to dereference an "https:" or
   "http:" URI performs a HELD request on HTTP to the identified
   resource.

      Note: In many cases, an "http:" URI does not provide sufficient
      security for location URIs.  The absence of the security
      mechanisms provided by TLS means that the Rule Maker has no
      control over who receives location information, and the Location
      Recipient has no assurance that the information is correct.

   The Location Recipient establishes a connection to the LS, as
   described in [<a href="rfc2818.html" title='"HTTP Over TLS"'>RFC2818</a>].

   The scheme of a location URI determines whether or not TLS is used on
   a given dereference transaction.  Location Servers MUST be configured
   to issue only HTTPS URIs and respond to only to HTTPS dereference
   requests, unless confidentiality and integrity protection are
   provided by some other mechanism.  For example, the server might only
   accept requests from clients within a trusted network or via an
   IPsec-protected channel.  When TLS is used, the TLS ciphersuite
   TLS_NULL_WITH_NULL_NULL MUST NOT be used, and the LS MUST be
   authenticated [<a href="rfc6125.html" title='"Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS)"'>RFC6125</a>] to ensure that the correct server is
   contacted.

   A Location Server MAY reject a request and ask that a Location
   Recipient provide authentication credentials if authorization is
   dependent on the Location Recipient identity.  Future specifications
   could define an authentication mechanism and a means by which
   Location Recipients are identified in authorization policies.  This
   document does not provide definitions for either item.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20HELD%20Usage%20Profile"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  HELD Usage Profile</span>

   Use of HELD as a location dereference protocol is largely the same as
   its use as a location configuration protocol.  Aside from the
   restrictions noted in this document, HELD semantics do not differ
   from those established in [<a href="rfc5985.html" title='"HTTP-Enabled Location Delivery (HELD)"'>RFC5985</a>].




<span class="grey">Winterbottom, et al.         Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   The HELD "locationRequest" is the only request permitted by this
   specification.  Similarly, request parameters other than the
   following MUST NOT be accepted by the LS: "responseTime" and
   "locationType" (including the associated "exact" attribute).

   Parameters and requests that do not have known behavior for
   dereference requests MUST NOT be used.  The LS MUST ignore any
   parameters that it does not understand unless it knows the parameters
   to be invalid.  If parameters are understood by the LS and known to
   be invalid, the LS MAY generate a HELD error response.  For instance,
   those defined in [<a href="rfc6155.html" title='"Use of Device Identity in HTTP-Enabled Location Delivery (HELD)"'>RFC6155</a>] are always invalid and can be rejected.

   The LS MUST NOT generate location URIs or provide a "locationUriSet"
   in response to a dereference request.  If the location request
   contains a "locationType" element that includes "locationURI", this
   parameter is either ignored or rejected as appropriate, based on the
   associated "exact" attribute.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20HTTP%20GET%20Behavior"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  HTTP GET Behavior</span>

   GET is the method assumed by generic HTTP user agents; therefore,
   unless context identifies an "https:" URI as a HELD URI, such a user
   agent might simply send an HTTP GET.  Rather than providing an HTTP
   405 (Method Not Allowed) response indicating that POST is the only
   permitted method, a LIS MUST provide a HELD location response if it
   receives an HTTP GET request.

   An HTTP GET request to a HELD URI produces a HELD response as if the
   following HELD request had been sent using HTTP POST:

     &lt;locationRequest xmlns="urn:ietf:params:xml:ns:geopriv:held"&gt;
       &lt;locationType exact="false"&gt;
         geodetic civic
       &lt;/locationType&gt;
     &lt;/locationRequest&gt;

             Figure 1: GET Request Equivalent Location Request

   HTTP GET requests MUST be safe and idempotent [<a href="rfc2616.html" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>RFC2616</a>] -- that is,
   there are no side effects of making the request, and a repeated
   request has no more effect than a single request.  Repeating a HELD
   request might result in a different location, but only as a result of
   a change in the state of the resource: the location of the Target.

   Only the creation of a location URI as a result of receiving a
   request causes a HELD request to have side effects.  A request to a
   location URI can be both safe and idempotent, since a location URI
   cannot be produced in response to a request to a location URI.  A



<span class="grey">Winterbottom, et al.         Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   Location Recipient MAY infer from a response containing the HELD
   content type "application/held+xml" that a URI references a resource
   that supports HELD.

   Content negotiation MAY be supported to produce a presence document
   in place of a HELD location response.  Where the presence document
   would otherwise be included in a "locationResponse" document, it can
   be included in the body of the HTTP response directly by including an
   "Accept" header that includes "application/pidf+xml".

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Authorization%20Models"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Authorization Models</span>

   This section discusses two extreme types of authorization models for
   dereferencing with HELD URIs, namely "Authorization by Possession"
   and "Authorization by Access Control".  In the subsequent
   subsections, we discuss the properties of these two models.
   Figure 2, from [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>], shows the model applicable to location
   configuration, conveyance, and dereference.

             +---------+--------+   Location    +-----------+
             |         |        |  Dereference  | Location  |
             |   LIS   -   LS   +---------------+ Recipient |
             |         |        |   Protocol    |           |
             +----+----+--------+      (3)      +-----+-----+
                  |         `.                        |
                  |    Policy `.                      |
    Location      |    Exchange `.                    |
    Configuration |      (*)      |                   |
    Protocol      |          +----+----+              |
      (1)         |          |  Rule   |   Location   |
                  |          |  Maker  |   Conveyance |
            +-----+----+     +---------+   Protocol   |
            |          |                      (2)     |
            |  Target  +------------------------------+
            |          |
            +----------+

                       Figure 2: Communication Model

   It is important to note that this document does not mandate a
   specific authorization model.  It is possible to combine aspects of
   both models.  However, no authentication framework is provided, which
   limits the policy options available when the "Authorization by Access
   Control" model is used.







<span class="grey">Winterbottom, et al.         Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   For either authorization model, the overall process is similar.  The
   following steps are followed, with minor alterations:

   1.  The Target acquires a location URI from the LIS.  This uses a
       location configuration protocol (LCP), such as HELD or DHCP.

   2.  The Target then conveys the location URI to a third party, the
       Location Recipient (for example, using SIP as described in
       [<a href="rfc6442.html" title='"Location Conveyance for the Session Initiation Protocol"'>RFC6442</a>]).  This step is shown in (2) of Figure 2.

   3.  The Location Recipient then needs to dereference the location URI
       in order to obtain the Location Object (3).  An "https:" or
       "http:" URI is dereferenced as described in this document; other
       URI schemes might be dereferenced using another method.

   In this final step, the Location Server (LS) or LIS makes an
   authorization decision.  How this decision is reached depends on the
   authorization model.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Authorization%20by%20Possession"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Authorization by Possession</span>

   In this model, possession -- or knowledge -- of the location URI is
   used to control access to location information.  A location URI might
   be constructed such that it is hard to guess (see C8 of [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>]),
   and the set of entities that it is disclosed to can be limited.  The
   only authentication this would require by the LS is evidence of
   possession of the URI.  The LS could immediately authorize any
   request that indicates this URI.

   Authorization by possession does not require direct interaction with
   a Rule Maker; it is assumed that the Rule Maker is able to exert
   control over the distribution of the location URI.  Therefore, the
   LIS can operate with limited policy input from a Rule Maker.

   Limited disclosure is an important aspect of this authorization
   model.  The location URI is a secret; therefore, ensuring that
   adversaries are not able to acquire this information is paramount.
   Encryption, such as might be offered by TLS [<a href="rfc5246.html" title='"The Transport Layer Security (TLS) Protocol Version 1.2"'>RFC5246</a>] or S/MIME
   [<a href="rfc5751.html" title='"Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.2 Message Specification"'>RFC5751</a>], protects the information from eavesdroppers.

   Use of authorization by possession location URIs in a hop-by-hop
   protocol such as SIP [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>] adds the possibility of on-path
   adversaries.  Depending on the usage of the location URI for certain
   location-based applications (e.g., emergency services and location-
   based routing), specific treatment is important, as discussed in
   [<a href="rfc6442.html" title='"Location Conveyance for the Session Initiation Protocol"'>RFC6442</a>].





<span class="grey">Winterbottom, et al.         Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   Using possession as a basis for authorization means that, once
   granted, authorization cannot be easily revoked.  Cancellation of a
   location URI ensures that legitimate users are also affected;
   application of additional policy is theoretically possible but could
   be technically infeasible.  Expiration of location URIs limits the
   usable time for a location URI, requiring that an attacker continue
   to learn new location URIs to retain access to current location
   information.

   A very simple policy might be established at the time that a location
   URI is created.  This policy specifies that the location URI expires
   after a certain time, which limits any inadvertent exposure of
   location information to adversaries.  The expiration time of the
   location URI might be negotiated at the time of its creation, or it
   might be unilaterally set by the LIS.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Authorization%20via%20Access%20Control"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Authorization via Access Control</span>

   Use of explicit access control provides a Rule Maker greater control
   over the behavior of an LS.  In contrast to authorization by
   possession, possession of this form of location URI does not imply
   authorization.  Since an explicit policy is used to authorize access
   to location information, the location URI can be distributed to many
   potential Location Recipients.

   Either before creation or dissemination of the location URI, the Rule
   Maker establishes an authorization policy with the LS.  In reference
   to Figure 2, authorization policies might be established at creation
   (Step 1) and need to be established before the location URI is
   published (Step 2) to ensure that the policy grants access to the
   desired Location Recipients.  Depending on the mechanism used, it
   might also be possible to change authorization policies at any time.

   A possible format for these authorization policies is available with
   GEOPRIV Common Policy [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>] and Geolocation Policy
   [<a href="#ref-GEOPRIV-POLICY">GEOPRIV-POLICY</a>].  Additional constraints might be established by
   other means.

   The LS enforces the authorization policy when a Location Recipient
   dereferences the URI.  Explicit authorization policies allow a Rule
   Maker to specify how location information is provided to Location
   Recipients.









<span class="grey">Winterbottom, et al.         Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Access%20Control%20with%20HELD%20Dereference"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Access Control with HELD Dereference</span>

   This document does not describe a specific authentication mechanism;
   therefore, the authorization by access control model is not an
   option.  Instead, this document assumes the authorization by
   possession model.

   Other policy mechanisms, such as those described in [<a href="#ref-GEOPRIV-POLICY">GEOPRIV-POLICY</a>],
   can be applied for different Location Recipients if each recipient is
   given a different location URI.  Each location URI can be assigned a
   different authorization policy.  Selective disclosure used in this
   fashion can be used in place of identity-based authorization.

   How policy is associated with a location URI is not defined by this
   document.  [<a href="#ref-GEOPRIV-POLICY-URI">GEOPRIV-POLICY-URI</a>] describes one possible mechanism.

   Use of an identity-based authorization policy is not precluded.  A
   Location Server MAY support an authentication mechanism that enables
   identity-based authorization policies to be used.  Future
   specifications might define means of identifying recipients.

      Note: Policy frameworks like [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>] degrade in a way that
      protects privacy if features are not supported.  If a policy
      specifies a rule that is conditional on the identity of a
      recipient and the protocol does not (or cannot) provide an
      assertion identity of the recipient, the rule has no effect, and
      the policy defaults to providing less information.
























<span class="grey">Winterbottom, et al.         Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Examples"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Examples</span>

   An example scenario envisioned by this document is shown in Figure 3.
   This diagram shows how a location dereference protocol fits with
   location configuration and conveyance.  [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>] contains more
   information on this scenario and others like it.
                            +-------------+
   +------------+           |  Location   |            +-----------+
   | End Device |           | Information |            | Location  |
   |  (Target)  |           |   Server    |            | Recipient |
   +-----+------+           +------+------+            +-----+-----+
         |                         |                         |
      .- + - - - - - - - - - - - - + -.                      |
      :  |     locationRequest     |  :                      |
      .  |----(for location URI)--&gt;|  .                      |
      :  |                         |  : Location             |
      .  |     locationResponse    |  . Configuration        |
      :  |&lt;-----(location URI)-----|  :                      |
      .  |                         |  .                      |
      `- + - - - - - - - - - - - - + -'                      |
         |                         |                         |
         |                Location Conveyance                |
         |~ ~ ~ ~ ~ ~ ~ ~ ~ ~(location URI)~ ~ ~ ~ ~ ~ ~ ~ ~&gt;|
         |                         |                         |
         |                      .- + - - - - - - - - - - - - + -.
         |                      :  |     locationRequest     |  :
         |                      .  |&lt;------(for civic)-------|  .
         |        Dereferencing :  |                         |  :
         |                      .  |     locationResponse    |  .
         |                      :  |--------(PIDF-LO)-------&gt;|  :
         |                      .  |                         |  .
         |                      `- + - - - - - - - - - - - - + -'
         |                         |                         |

            Figure 3: Example of Dereference Protocol Exchange
















<span class="grey">Winterbottom, et al.         Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   The example in Figure 4 shows the simplest form of dereferencing
   request using HELD to the location URI
   "<a href="https://ls.example.com:49152/uri/w3g61nf5n66p0">https://ls.example.com:49152/uri/w3g61nf5n66p0</a>".  The only way that
   this differs from the example in <a href="rfc5985.html#section-10.1">Section 10.1 of [RFC5985]</a> is in the
   request URI and the source of the URI.

   POST /uri/w3g61nf5n66p0 HTTP/1.1
   Host: ls.example.com:49152
   Content-Type: application/held+xml
   Content-Length: 87

   &lt;?xml version="1.0"?&gt;
   &lt;locationRequest xmlns="urn:ietf:params:xml:ns:geopriv:held"/&gt;

                  Figure 4: Minimal Dereferencing Request




































<span class="grey">Winterbottom, et al.         Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   Figure 5 shows the response to the previous request listing both
   civic and geodetic location information of the Target's location.
   Again, this is identical to the response in <a href="rfc5985.html#section-10.1">Section 10.1 of [RFC5985]</a>
   -- unless policy specifies otherwise, the Location Recipient receives
   the same information as the Device.

   HTTP/1.1 200 OK
   Server: Example LIS
   Date: Mon, 10 Jan 2011 03:42:29 GMT
   Expires: Tue, 11 Jan 2011 03:42:29 GMT
   Cache-control: private
   Content-Type: application/held+xml
   Content-Length: 676

   &lt;?xml version="1.0"?&gt;
   &lt;locationResponse xmlns="urn:ietf:params:xml:ns:geopriv:held"&gt;
   &lt;presence xmlns="urn:ietf:params:xml:ns:pidf"
             entity="pres:3650n87934c@ls.example.com"&gt;
     &lt;tuple id="b650sf789nd"&gt;
     &lt;status&gt;
      &lt;geopriv xmlns="urn:ietf:params:xml:ns:pidf:geopriv10"
        xmlns:gbp="urn:ietf:params:xml:ns:pidf:geopriv10:basic-policy"&gt;
       &lt;location-info&gt;
          &lt;Point xmlns="http://www.opengis.net/gml"
                 srsName="urn:ogc:def:crs:EPSG::4326"&gt;
            &lt;pos&gt;-34.407 150.88001&lt;/pos&gt;
          &lt;/Point&gt;
        &lt;/location-info&gt;
        &lt;usage-rules&gt;
          &lt;gbp:retransmission-allowed&gt;
            false&lt;/gbp:retransmission-allowed&gt;
          &lt;gbp:retention-expiry&gt;
            2011-01-11T03:42:29+00:00&lt;/gbp:retention-expiry&gt;
        &lt;/usage-rules&gt;
        &lt;method&gt;Wiremap&lt;/method&gt;
      &lt;/geopriv&gt;
     &lt;/status&gt;
     &lt;timestamp&gt;2006-01-10T03:42:28+00:00&lt;/timestamp&gt;
     &lt;/tuple&gt;
   &lt;/presence&gt;
   &lt;/locationResponse&gt;

               Figure 5: Response with Location Information








<span class="grey">Winterbottom, et al.         Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   The following GET request is treated in an equivalent fashion.  The
   LS treats this request as though it were a location request of the
   form shown in Figure 1.  The same response might be provided.

   GET /uri/w3g61nf5n66p0 HTTP/1.1
   Host: ls.example.com:49152
   Accept: application/held+xml

                           Figure 6: GET Request

   The following GET request uses content negotiation to indicate a
   preference for a presence document.

   GET /uri/w3g61nf5n66p0 HTTP/1.1
   Host: ls.example.com:49152
   Accept: application/pidf+xml,application/held+xml;q=0.5

              Figure 7: GET Request with Content Negotiation

   The response only differs from a normal HELD location response to a
   POST request in that the "locationResponse" element is omitted and
   the "Content-Type" header reflects the changed content.

   HTTP/1.1 200 OK
   Server: Example LIS
   Date: Mon, 10 Jan 2011 03:42:29 GMT
   Expires: Tue, 11 Jan 2011 03:42:29 GMT
   Cache-control: private
   Content-Type: application/pidf+xml
   Content-Length: 591

   &lt;?xml version="1.0"?&gt;
   &lt;presence xmlns="urn:ietf:params:xml:ns:pidf"
             entity="pres:3650n87934c@ls.example.com"&gt;
     &lt;!-- PIDF contents are identical to the previous example --&gt;
   &lt;/presence&gt;

                    Figure 8: GET Response with PIDF-LO

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   Privacy of location information is the most important security
   consideration for this document.  Two measures in particular are used
   to protect privacy: TLS and authorization policies.  TLS provides a
   means of ensuring confidentiality of location information through
   encryption and mutual authentication.  An authorization policy allows
   a Rule Maker to explicitly control how location information is
   provided to Location Recipients.



<span class="grey">Winterbottom, et al.         Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   The process by which a Rule Maker establishes an authorization policy
   is not covered by this document; several methods are possible, for
   instance, [<a href="#ref-GEOPRIV-POLICY-URI">GEOPRIV-POLICY-URI</a>] and [<a href="rfc4825.html" title='"The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)"'>RFC4825</a>].

   TLS MUST be used for dereferencing location URIs unless
   confidentiality and integrity are provided by some other mechanism,
   as discussed in <a href="#section-3">Section 3</a>.  Location Recipients MUST authenticate the
   host identity using the domain name included in the location URI,
   using the procedure described in <a href="rfc2818.html#section-3.1">Section 3.1 of [RFC2818]</a>.  Local
   policy determines what a Location Recipient does if authentication
   fails or cannot be attempted.

   The authorization by possession model (<a href="#section-4.1">Section 4.1</a>) further relies on
   TLS when transmitting the location URI to protect the secrecy of the
   URI.  Possession of such a URI implies the same privacy
   considerations as possession of the PIDF-LO document that the URI
   references.

   Location URIs MUST only be disclosed to authorized Location
   Recipients.  The GEOPRIV architecture [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>] designates the Rule
   Maker to authorize disclosure of the URI.

   Protection of the location URI is necessary, since the policy
   attached to such a location URI permits anyone who has the URI to
   view the associated location information.  This aspect of security is
   covered in more detail in the specification of location conveyance
   protocols, such as [<a href="rfc6442.html" title='"Location Conveyance for the Session Initiation Protocol"'>RFC6442</a>].

   According to the requirements in [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>] the LS MUST NOT provide
   any information about the Target except its location, unless policy
   from a Rule Maker allows otherwise.  Thus, the Location Server MUST
   only provide an unlinked pseudonym in the "entity" attribute of the
   PIDF-LO document unless the Rule Maker policy allows for identity
   disclosure.

   Further security considerations and requirements relating to the use
   of location URIs are described in [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Acknowledgements"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Acknowledgements</span>

   Thanks to Barbara Stark and Guy Caron for providing early comments.
   Thanks to Rohan Mahy for constructive comments on the scope and
   format of the document.  Thanks to Ted Hardie for his strawman
   proposal that provided assistance with the security section of this
   document.  Richard Barnes made helpful observations on the
   application of authorization policy.  Bernard Aboba and Julian
   Reschke contributed constructive reviews.




<span class="grey">Winterbottom, et al.         Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   The participants of the GEOPRIV interim meeting 2008 provided
   significant feedback on this document.

   James Polk provided input on security in June 2008.

   Martin Dawson was an original author of this document.  Sadly, he
   passed away prior to its publication.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20References"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2616" name="ref-RFC2616">RFC2616</a>]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
              Transfer Protocol -- HTTP/1.1", <a href="rfc2616.html">RFC 2616</a>, June 1999.

   [<a id="ref-RFC2818" name="ref-RFC2818">RFC2818</a>]  Rescorla, E., "HTTP Over TLS", <a href="rfc2818.html">RFC 2818</a>, May 2000.

   [<a id="ref-RFC4119" name="ref-RFC4119">RFC4119</a>]  Peterson, J., "A Presence-based GEOPRIV Location Object
              Format", <a href="rfc4119.html">RFC 4119</a>, December 2005.

   [<a id="ref-RFC5491" name="ref-RFC5491">RFC5491</a>]  Winterbottom, J., Thomson, M., and H. Tschofenig, "GEOPRIV
              Presence Information Data Format Location Object (PIDF-LO)
              Usage Clarification, Considerations, and Recommendations",
              <a href="rfc5491.html">RFC 5491</a>, March 2009.

   [<a id="ref-RFC5985" name="ref-RFC5985">RFC5985</a>]  Barnes, M., "HTTP-Enabled Location Delivery (HELD)",
              <a href="rfc5985.html">RFC 5985</a>, September 2010.

   [<a id="ref-RFC6125" name="ref-RFC6125">RFC6125</a>]  Saint-Andre, P. and J. Hodges, "Representation and
              Verification of Domain-Based Application Service Identity
              within Internet Public Key Infrastructure Using X.509
              (PKIX) Certificates in the Context of Transport Layer
              Security (TLS)", <a href="rfc6125.html">RFC 6125</a>, March 2011.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-DHCP-URI-OPT" name="ref-DHCP-URI-OPT">DHCP-URI-OPT</a>]
              Polk, J., "Dynamic Host Configuration Protocol (DHCP) IPv4
              and IPv6 Option for a Location Uniform Resource Identifier
              (URI)", Work in Progress, May 2012.







<span class="grey">Winterbottom, et al.         Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   [<a id="ref-GEOPRIV-POLICY" name="ref-GEOPRIV-POLICY">GEOPRIV-POLICY</a>]
              Schulzrinne, H., Tschofenig, H., Cuellar, J., Polk, J.,
              Morris, J., and M. Thomson, "Geolocation Policy: A
              Document Format for Expressing Privacy Preferences for
              Location Information", Work in Progress, August 2012.

   [<a id="ref-GEOPRIV-POLICY-URI" name="ref-GEOPRIV-POLICY-URI">GEOPRIV-POLICY-URI</a>]
              Barnes, R., Thomson, M., Winterbottom, J., and H.
              Tschofenig, "Location Configuration Extensions for Policy
              Management", Work in Progress, November 2011.

   [<a id="ref-RFC3261" name="ref-RFC3261">RFC3261</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, "SIP: Session Initiation Protocol", <a href="rfc3261.html">RFC 3261</a>,
              June 2002.

   [<a id="ref-RFC3693" name="ref-RFC3693">RFC3693</a>]  Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and
              J. Polk, "Geopriv Requirements", <a href="rfc3693.html">RFC 3693</a>, February 2004.

   [<a id="ref-RFC4745" name="ref-RFC4745">RFC4745</a>]  Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J.,
              Polk, J., and J. Rosenberg, "Common Policy: A Document
              Format for Expressing Privacy Preferences", <a href="rfc4745.html">RFC 4745</a>,
              February 2007.

   [<a id="ref-RFC4825" name="ref-RFC4825">RFC4825</a>]  Rosenberg, J., "The Extensible Markup Language (XML)
              Configuration Access Protocol (XCAP)", <a href="rfc4825.html">RFC 4825</a>, May 2007.

   [<a id="ref-RFC5246" name="ref-RFC5246">RFC5246</a>]  Dierks, T. and E. Rescorla, "The Transport Layer Security
              (TLS) Protocol Version 1.2", <a href="rfc5246.html">RFC 5246</a>, August 2008.

   [<a id="ref-RFC5687" name="ref-RFC5687">RFC5687</a>]  Tschofenig, H. and H. Schulzrinne, "GEOPRIV Layer 7
              Location Configuration Protocol: Problem Statement and
              Requirements", <a href="rfc5687.html">RFC 5687</a>, March 2010.

   [<a id="ref-RFC5751" name="ref-RFC5751">RFC5751</a>]  Ramsdell, B. and S. Turner, "Secure/Multipurpose Internet
              Mail Extensions (S/MIME) Version 3.2 Message
              Specification", <a href="rfc5751.html">RFC 5751</a>, January 2010.

   [<a id="ref-RFC5808" name="ref-RFC5808">RFC5808</a>]  Marshall, R., "Requirements for a Location-by-Reference
              Mechanism", <a href="rfc5808.html">RFC 5808</a>, May 2010.

   [<a id="ref-RFC6155" name="ref-RFC6155">RFC6155</a>]  Winterbottom, J., Thomson, M., Tschofenig, H., and R.
              Barnes, "Use of Device Identity in HTTP-Enabled Location
              Delivery (HELD)", <a href="rfc6155.html">RFC 6155</a>, March 2011.







<span class="grey">Winterbottom, et al.         Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   [<a id="ref-RFC6280" name="ref-RFC6280">RFC6280</a>]  Barnes, R., Lepinski, M., Cooper, A., Morris, J.,
              Tschofenig, H., and H. Schulzrinne, "An Architecture for
              Location and Location Privacy in Internet Applications",
              <a href="https://tools.ietf.org/html/bcp160">BCP 160</a>, <a href="rfc6280.html">RFC 6280</a>, July 2011.

   [<a id="ref-RFC6442" name="ref-RFC6442">RFC6442</a>]  Polk, J., Rosen, B., and J. Peterson, "Location Conveyance
              for the Session Initiation Protocol", <a href="rfc6442.html">RFC 6442</a>,
              December 2011.











































<span class="grey">Winterbottom, et al.         Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20GEOPRIV%20Using%20Protocol%20Compliance"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  GEOPRIV Using Protocol Compliance</span>

   This section describes how use of HELD as a location dereference
   protocol complies with the GEOPRIV requirements described in
   [<a href="rfc3693.html" title='"Geopriv Requirements"'>RFC3693</a>].

   Req. 1.  (Location Object generalities):

            This requirement relates to the PIDF-LO [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] document,
            which is used by HELD.  These requirements are addressed by
            [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] and [<a href="rfc5491.html" title='"GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations"'>RFC5491</a>].

   Req. 2.  (Location Object fields):

            This requirement relates to the PIDF-LO [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] document,
            which is used by HELD.  These requirements are addressed by
            [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] and [<a href="rfc5491.html" title='"GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations"'>RFC5491</a>].

   Req. 3.  (Location Data Types):

            This requirement relates to the PIDF-LO [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] document,
            which is used by HELD.  These requirements are addressed by
            [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] and [<a href="rfc5491.html" title='"GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations"'>RFC5491</a>].

   <a href="rfc3693.html#section-7.2">Section 7.2 of [RFC3693]</a> details the requirements of a "Using
   Protocol".  These requirements are restated, followed by a statement
   of compliance:

   Req. 4.  "The using protocol has to obey the privacy and security
            instructions coded in the Location Object and in the
            corresponding Rules regarding the transmission and storage
            of the LO".

            Compliant: This specification describes the use of HTTP over
            TLS for carrying the PIDF-LO from the LS to the Location
            Recipient.  The sending and receiving parties are expected
            to comply with the instructions carried inside the object.

            Though discouraged, using unsecured "http:" URIs is
            permitted.  Using unsecured HTTP is likely to result in non-
            compliance with this requirement.










<span class="grey">Winterbottom, et al.         Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   Req. 5.  "The using protocol will typically facilitate that the keys
            associated with the credentials are transported to the
            respective parties, that is, key establishment is the
            responsibility of the using protocol".

            Compliant: This document specifies that authentication of
            the LS uses the established public key infrastructure used
            by HTTP over TLS [<a href="rfc2818.html" title='"HTTP Over TLS"'>RFC2818</a>].  Authentication of Location
            Recipients is based on distribution of a secret (the
            location URI) using a conveyance protocol (for instance,
            [<a href="rfc6442.html" title='"Location Conveyance for the Session Initiation Protocol"'>RFC6442</a>]), allowances are made for later work to define
            alternative methods.

   Req. 6.  "(Single Message Transfer) In particular, for tracking of
            small target devices, the design should allow a single
            message/packet transmission of location as a complete
            transaction".

            Not Compliant: The XML encoding specified in [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] is
            not suited to single packet transfers.  Use of compressed
            content encoding [<a href="rfc2616.html" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>RFC2616</a>] might allow this condition to be
            met.

   <a href="rfc3693.html#section-7.3">Section 7.3 of [RFC3693]</a> details the requirements of a "Rule based
   Location Data Transfer".  These requirements are restated where they
   are applicable to this document:

   Req. 7.   "(LS Rules) The decision of a Location Server to provide a
             Location Recipient access to Location Information MUST be
             based on Rule Maker-defined Privacy Rules".

             Compliant: This document describes two alternative methods
             by which a Rule Maker is able to control access to location
             information.  Rule Maker policy is enforced by the LS when
             a location URI is dereferenced.  However, this document
             does not describe how a location URI is created or how a
             Rule Maker associates policy with a location URI.  These
             are covered by other specifications.

   Req. 8.   (LG Rules) Not Applicable: This relationship between LS and
             the source of its information (be that Location Generator
             (LG) or LIS) is out of the scope of this document.

   Req. 9.   "(Viewer Rules) A Viewer does not need to be aware of the
             full Rules defined by the Rule Maker (because a Viewer
             SHOULD NOT retransmit Location Information), and thus a
             Viewer SHOULD receive only the subset of Privacy Rules
             necessary for the Viewer to handle the LO in compliance



<span class="grey">Winterbottom, et al.         Standards Track                   [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


             with the full Privacy Rules (such as, instruction on the
             time period for which the LO can be retained)".

             Compliant: The Rule Maker might define (via mechanisms
             outside the scope of this document) which policy rules are
             disclosed to other entities.  For instance, if [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>] is
             used to convey authorization policies from Rule Maker to
             LS, this is possible using the parameters specified in
             [<a href="#ref-GEOPRIV-POLICY">GEOPRIV-POLICY</a>].

             In order to comply with these rules, a Location Recipient
             MUST NOT redistribute a location URI without express
             permission.  Depending on the access control model, the
             location URI might be secret (see <a href="rfc5808.html#section-3.3">Section 3.3 of
             [RFC5808]</a>).

   Req. 10.  (Full Rule language) Not Applicable: Note, however, that
             GEOPRIV has defined a rule language capable of expressing a
             wide range of privacy rules (see [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>] and
             [<a href="#ref-GEOPRIV-POLICY">GEOPRIV-POLICY</a>].

   Req. 11.  (Limited Rule language) Not Applicable: This requirement
             applies to (and is addressed by) PIDF-LO [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>].

   <a href="rfc3693.html#section-7.4">Section 7.4 of [RFC3693]</a> details the requirements of "Location Object
   Privacy and Security".  These requirements are restated where they
   are applicable to this document:

   Req. 12.  (Identity Protection) Compliant: Identity protection of the
             Target is provided as long as both of the following
             conditions are true:

             (a)  the location URI is not associated with the identity
                  of the Target in any context, and

             (b)  the PIDF-LO does not contain information about the
                  identity of the Target.

             For instance, this requirement is complied with if the
             protocol that conveys the location URI does not link the
             identity of the Target to the location URI and the LS
             doesn't include meaningful identification information in
             the PIDF-LO document.  <a href="#section-6">Section 6</a> recommends that an
             unlinked pseudonym is used by the LS.







<span class="grey">Winterbottom, et al.         Standards Track                   [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   Req. 13.  (Credential Requirements) Compliant: The primary security
             mechanism specified in this document is Transport Layer
             Security.  TLS offers the ability to use different types of
             credentials, including symmetric, asymmetric, or a
             combination of them.

   Req. 14.  (Security Features) Compliant: GEOPRIV defines a few
             security requirements for the protection of Location
             Objects such as mutual endpoint authentication, data object
             integrity, data object confidentiality, and replay
             protection.  The ability to use Transport Layer Security
             fulfills most of these requirements.  Authentication of
             Location Recipients in this document relies on proof of a
             shared secret -- the location URI.  This does not preclude
             the addition of more robust authentication procedures.

   Req. 15.  (Minimal Crypto) Compliant: The mandatory-to-implement
             ciphersuite is provided in the TLS layer security
             specification [<a href="rfc5246.html" title='"The Transport Layer Security (TLS) Protocol Version 1.2"'>RFC5246</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20B.%20%20Compliance%20to%20Location%20Reference%20Requirements"></a><a class="selflink" href="#appendix-B" name="appendix-B">Appendix B</a>.  Compliance to Location Reference Requirements</span>

   This section describes how HELD complies to the location reference
   requirements stipulated in [<a href="rfc5808.html" title='"Requirements for a Location-by-Reference Mechanism"'>RFC5808</a>].  Compliance of [<a href="rfc5985.html" title='"HTTP-Enabled Location Delivery (HELD)"'>RFC5985</a>] to the
   Location Configuration Protocol is included.

      Note: Use of HELD as a location dereference protocol does not
      necessarily imply that HELD is the corresponding LCP.  This
      document is still applicable to HTTP location URIs that are
      acquired by other means.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/B.1.%20%20Requirements%20for%20a%20Location%20Configuration%20Protocol"></a><a class="selflink" href="#appendix-B.1" name="appendix-B.1">B.1</a>.  Requirements for a Location Configuration Protocol</span>

   C1.  "Location URI support: The location configuration protocol MUST
        support a location reference in URI form".

        Compliant: HELD only provides location references in URI form.

   C2.  "Location URI expiration: When a location URI has a limited
        validity interval, its lifetime MUST be indicated".

        Compliant: HELD indicates the expiry time of location URIs using
        the "expires" attribute.  [<a href="#ref-GEOPRIV-POLICY-URI">GEOPRIV-POLICY-URI</a>] provides a way to
        control expiration of a location URI.

   C3.  "Location URI cancellation: The location configuration protocol
        MUST support the ability to request a cancellation of a specific
        location URI".



<span class="grey">Winterbottom, et al.         Standards Track                   [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


        Compliant with Extension: [<a href="#ref-GEOPRIV-POLICY-URI">GEOPRIV-POLICY-URI</a>] describes how a
        location URI can be canceled through the application of policy.
        Without extensions, HELD does not provide a method for canceling
        location URIs.

   C4.  "Location Information Masking: The location URI MUST ensure, by
        default, through randomization and uniqueness, that the location
        URI does not contain location information specific components".

        Compliant: The HELD specification [<a href="rfc5985.html" title='"HTTP-Enabled Location Delivery (HELD)"'>RFC5985</a>] explicitly
        references this requirement in providing guidance on the format
        of the location URI.

   C5.  "Target Identity Protection: The location URI MUST NOT contain
        information that identifies the Target (e.g., user or device)".

        Compliant: The HELD specification [<a href="rfc5985.html" title='"HTTP-Enabled Location Delivery (HELD)"'>RFC5985</a>] provides specific
        guidance on the anonymity of the Target with regards to the
        generation of location URIs.  <a href="#section-6">Section 6</a> expands on this
        guidance.

   C6.  "Reuse indicator: There SHOULD be a way to allow a Target to
        control whether a location URI can be resolved once only, or
        multiple times".

        Not Compliant: Specific extensions to the protocol or
        authorization policy formats are needed to alter the default
        behavior, which allows unlimited resolution of the location URI.

   C7.  "Selective disclosure: The location configuration protocol MUST
        provide a mechanism that allows the Rule Maker to control what
        information is being disclosed about the Target".

        Compliant with Extension: Use of policy mechanisms and
        [<a href="#ref-GEOPRIV-POLICY-URI">GEOPRIV-POLICY-URI</a>] enable this capability.  Note that this
        document recommends that only location information be provided.

   C8.  "Location URI Not guessable: As a default, the location
        configuration protocol MUST return location URIs that are random
        and unique throughout the indicated lifetime.  A location URI
        with 128-bits of randomness is RECOMMENDED".

        Compliant: HELD specifies that location URIs conform to this
        requirement.  The amount of randomness is not specifically
        identified since it depends on a number of factors that change
        over time, such as the number of valid location URIs, the
        validity period of those URIs, and the rate that guesses can be
        made.



<span class="grey">Winterbottom, et al.         Standards Track                   [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   C9.  "Location URI Options: In the case of user-provided
        authorization policies, where anonymous or non-guessable
        location URIs are not warranted, the location configuration
        protocol MAY support a variety of optional location URI
        conventions, as requested by a Target to a location
        configuration server, (e.g., embedded location information
        within the location URI)".

        Not Compliant: HELD does not support Device-specified location
        URI forms.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/B.2.%20%20Requirements%20for%20a%20Location%20Dereference%20Protocol"></a><a class="selflink" href="#appendix-B.2" name="appendix-B.2">B.2</a>.  Requirements for a Location Dereference Protocol</span>

   D1.  "Location URI support: The location dereference protocol MUST
        support a location reference in URI form".

        Compliant: HELD only provides location references in URI form.

   D2.  "Authentication: The location dereference protocol MUST include
        mechanisms to authenticate both the client and the server".

        Partially Compliant: TLS provides means for mutual
        authentication.  This document only specifies the required
        mechanism for server authentication.  Client authentication is
        not precluded.

   D3.  "Dereferenced Location Form: The value returned by the
        dereference protocol MUST contain a well-formed PIDF-LO
        document".

        Compliant: HELD requires that Location Objects are in the form
        of a PIDF-LO that complies with [<a href="rfc5491.html" title='"GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations"'>RFC5491</a>].

   D4.  "Location URI Repeated Use: The location dereference protocol
        MUST support the ability for the same location URI to be
        resolved more than once, based on dereference server
        configuration".

        Compliant: A Location Recipient may access and use a location
        URI as many times as desired until URI expiration results in the
        URI being invalidated.  Authorization policies might include
        rules that modify this behavior.









<span class="grey">Winterbottom, et al.         Standards Track                   [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


   D5.  "The location dereference protocol MUST support confidentiality
        protection of messages sent between the Location Recipient and
        the location server".

        Compliant: This document strongly recommends the use of TLS for
        confidentiality, and HELD mandates its implementation.
        Unsecured HTTP is permitted: the associated risks are described
        in <a href="#section-3">Section 3</a>.











































<span class="grey">Winterbottom, et al.         Standards Track                   [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc6753.html">RFC 6753</a>                   HELD Dereferencing               October 2012</span>


Authors' Addresses

   James Winterbottom
   Commscope
   Andrew Building (39)
   Wollongong University Campus
   Northfields Avenue
   Wollongong, NSW  2522
   AU

   Phone: +61 242 212938
   EMail: james.winterbottom@commscope.com


   Hannes Tschofenig
   Nokia Siemens Networks
   Linnoitustie 6
   Espoo  02600
   Finland

   Phone: +358 (50) 4871445
   EMail: Hannes.Tschofenig@gmx.net
   URI:   <a href="http://www.tschofenig.priv.at/">http://www.tschofenig.priv.at</a>


   Henning Schulzrinne
   Columbia University
   Department of Computer Science
   450 Computer Science Building
   New York, NY  10027
   USA

   Phone: +1 212 939 7042
   EMail: hgs@cs.columbia.edu
   URI:   <a href="http://www.cs.columbia.edu/">http://www.cs.columbia.edu</a>


   Martin Thomson
   Microsoft
   3210 Porter Drive
   Palo Alto, CA  94304
   USA

   Phone: +1 650-353-1925
   EMail: martin.thomson@skype.net






Winterbottom, et al.         Standards Track                   [Page 25]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc6753 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:27 GMT --></html>