<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc831 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:57 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:831" name="DC.Identifier"/>
<meta content="The purpose of this RFC is to focus discussion on a particular\nInternet problem: a backup path for software maintenance of the\nEuropean sector of the Internet, for use when SATNET is partitioned.\nWe propose a mechanism, based upon the Source Routing option of IP, to\nreach European Internet sites via the VAN Gateway and UCL. This\nproposal is not intended as a standard at this time." name="DC.Description.Abstract"/>
<meta content="R.T. Braden" name="DC.Creator"/>
<meta content="December, 1982" name="DC.Date.Issued"/>
<meta content="Backup access to the European side of SATNET" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 831 - Backup access to the European side of SATNET</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgwhite" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc831.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc831" title="PDF version of this document">pdf</a>]                                                        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                   R. Braden
Request for Comments: 831               University College London
                                                    December 1982









          <span class="h1">Backup Access to the European Side of SATNET</span>




                         Robert Braden






       DISCUSSION

       The purpose of this RFC is to  focus  discussion  on  a
       particular Internet problem: a backup path for software
       maintenance of the European sector of the Internet, for
       use   when   SATNET   is  partitioned.   We  propose  a
       mechanism, based upon the Source Routing option of  IP,
       to  reach  European  Internet sites via the VAN Gateway
       and UCL.

       This proposal is not intended as  a  standard  at  this
       time.





















</pre><!--NewPage--><pre class="newpage"></pre><!--NewPage--><pre class="newpage">Network Working Group                                   R. Braden
Request for Comments: 831               University College London
                                                    December 1982



<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Introduction</span>

  During  several  previous  SATNET  meetings,  it  has   been
  observed  that  it  would  be  useful  for BBN to be able to
  access the European side of SATNET indirectly  via  the  VAN
  Gateway,  when  direct  SATNET  connectivity  has been lost.
  This short  paper  proposes  a  possible  approach  to  such
  "backup" access, using the source routing option of IP.

  Figure 1 illustrates the problem we wish to solve.   The  US
  host  H  is  used  for  diagnosis  and control of the SATNET
  SIMP's S1 and S2 as well as the gateways B and G and the UCL
  TAC (not shown, but connected to G).


                             SATNET
                           (partitioned)
    ARPANET/SATNET          __     __               UCL
    Gateway           Simp (   \  \  )  Simp        Gateway
               ____    ___(    /  /   )____          ____
              | B  |__| S1 |   \  \   | S2 |________| G  |_____ rsre
              |____|  |____|   /  /   |____|        |____|
                |         (    \  \   )                |
                |          (__ /  /__)          _______|____
        ________|____                          (             )
       (             )                        (               )
      (   ARPANET     )                      (     UCL NET     )
      (               )                       (                 )
       (_____________)                         (               )
        |        |                              (_____________)
      __|_       |            VAN/                     .
     | H  |      |         Public Data Nets            .
     |____|      |          _____________              .
    Diagnostic   |         (             )             .
    Host       __|__      (    VANNET     )           _.___
              | VAN |* * (* * * * * * * * *)*  * * * |     |
              | gw------(--- IP Tunnel -----)--------|  U  |
              |_____|* * (* * * * * * * * *)*  * *   |_____|
          VAN             (               )
          Gateway          (_____________)


           Figure 1. US/UK Connectivity with Partitioned SATNET








<a href="rfc831.html">RFC 831</a>                       - 1 -                      [Braden]
</pre><!--NewPage--><pre class="newpage">Network Working Group                                   R. Braden
Request for Comments: 831               University College London
                                                    December 1982



  VANgw is the VAN Gateway which encapsulates IP datagrams  in
  X25  packets for transmission over VAN/PTT virtual circuits.
  The collection of these paths, called "IP tunnels"  by  UCL,
  is  addressed  from  the  Internet  as  a  distinct network,
  VANNET.

  U is a UCL host,  the  Terminal  Protocol  Converter,  which
  provides a path to UK X25 networks. However, to the Internet
  world U looks like a host on VANNET, so the path from  U  to
  UCLNET (shown dotted) does not appear to exist.

  Now suppose SATNET is partitioned between S1 and  S2.   Then
  we  wish  host H to be able to exchange IP datagrams with S2
  via the "back door" path:

    H - Internet - VANgw - VANNET - U - UCLNET - G - S2

  There are some important rules in this game, however.

   (1)    U may only be a host, not a gateway.

          This is because we do not want the Internet to route
          ALL  its  traffic (e.g. rsre traffic and UCL traffic
          that is required to use SATNET) via the  IP  Tunnel.
          So  the VAN Gateway (VANgw) must not discover it can
          get to UCLNET through U.

   (2)    To implement the  back  door  path  to  S2,  we  are
          willing  to have some special code in H and/or in U,
          but not in G, S2, or VANgw.

          Note:  Jack  Haverty  is  allowed  to  violate  this
          assumption,  though  we  doubt that he will want to.
          But we must stick to it.

  Given these constraints, we claim  that  the  only  possible
  solution  is  to  "mung" the headers of IP datagrams at UCL.
  Thus, when SATNET is partitioned:

   (1)    The IP addresses of S2,  G,  and  the  UCL  TAC  are
          unreachable  from  all US gateways.  Therefore, if H
          sends  a  packet   addressed   to   one   of   these
          destinations,  it  will  be  discarded  and  an ICMP
          unreachable message returned.







<a href="rfc831.html">RFC 831</a>                       - 2 -                      [Braden]
</pre><!--NewPage--><pre class="newpage">Network Working Group                                   R. Braden
Request for Comments: 831               University College London
                                                    December 1982



   (2)    Similarly, the IP address of H is  unreachable  from
          the  UK  side.   Hence, if the XNET debugger in a UK
          host emits a return  packet  addressed  to  H,  that
          packet will be dropped.

  Therefore, the destination address of  each  packet  from  H
  must be changed in order to reach the UCL side of SATNET (S2
  or G), and the source address of each of these packets  must
  be  changed  so  that  return packets can reach H.  For this
  purpose, we introduce the Munger host M  (see Figure 2).

                              SATNET
                           (partitioned)
            BBN             __     __               UCL
            Gateway   Simp (   \  \  )  Simp        Gateway
               ____    ___(    /  /   )____          ____
              | B  |__| S1 |   \  \   | S2 |________| G  |_____ rsre
              |____|  |____|   /  /   |____|        |____|
                |         (    \  \   )                |
                |          (__ /  /__)          _______|____
        ________|____                          (             )
       (             )                        (               )
      (   ARPANET     )                     (     UCL NET     )
      (               )                      (                 )
       (_____________)                        (               )
        |        |                             (_____________)
      __|_       |                                         |
     | H  |      |        Public Data Nets                 |
     |____|      |          _______________               _|___
    Diagnostic   |         (               )             | M1  |
    Host       __|__      (                 )            |:::::|
              | VAN |* * (* * * * * * * * * *) * *       |:::::|
              | gw------(--- IP Tunnel -----)------------| M2  |
              |_____|* * (* * * * * * * * * *) * *       |_____|
          VAN             (   VANNET        )              M
          Gateway          (_______________)             "Header
                                                          Munger"

           Figure 2. Introduction of Header Munger at UCL


  Host "M" (M1/M2) is mulit-homed, appearing  as  host  M2  on
  VANNET  and  as  host  M1  on  UCLNET. Like host U (shown in
  Figure 1), host  M2  is  the  end  of  an  IP  Tunnel  which
  communicates with VANgw over an X25 virtual call.




<a href="rfc831.html">RFC 831</a>                       - 3 -                      [Braden]


</pre><!--NewPage--><pre class="newpage">Network Working Group                                   R. Braden
Request for Comments: 831               University College London
                                                    December 1982



  Suppose for example that host H desiollege London
                                                    December 1982



  Suppose for example that host H desires to  reach  the  XNET
  debugger  in  the  SIMP  S2.   H  must send its packets with
  destination address M1; these will be routed to M1 via VANgw
  and  the IP Tunnel.  Host M will change the headers of these
  datagrams to contain source address M1 and  destination  S2.
  S2  will  return packets to M1, and M1 will change them back
  to M2-&gt;H packets and launch them back through the VANNET  to
  H.

  How does M know how to change the headers?

   (1)    M could respond to a range of M1 and  M2  addresses,
          and have a fixed table of correspondence.

   (2)    We propose instead to use the SOURCE ROUTING  option
          in  the  datagrams.   This assumes that H is able to
          build source-routed datagrams, and is not upset that
          the intermediate host in the route is not a gateway.

          If we further assume that the IP layers in G and  S2
          can  handle  source and return routes, then the task
          is  simple.  M  must  contain  the  source   routing
          algorithm  of  a  gateway,  but otherwise act as two
          hosts (no routing updates, etc).

   (3)    Although G supports source routing, S2 and  the  TAC
          may  not.   In that case, S2 and the TAC will not be
          able to recognise the return  route  in  a  received
          packet  and use it as a source route in packets sent
          in reply.

          This possibility calls for additional complexity  in
          M, a combination of (1) and (2):

           *      In  the  US  -&gt;  UK  direction,  the  Source
                  Routing option would be used.

           *      In  the   reverse  direction  (UK  -&gt;   US),
                  mapping   of  datagram  addresses  would  be
                  controlled by a table in M.






<a href="rfc831.html">RFC 831</a>                       - 4 -                      [Braden]
</pre><!--NewPage--><pre class="newpage">Network Working Group                                   R. Braden
Request for Comments: 831               University College London
                                                    December 1982



          We suggest that M use source routing to get  packets
          from  H  to  S2,  and meanwhile build a "soft state"
          table showing this mapping.   When  a  packet  comes
          from S2 without source routing, M would consult this
          soft state  table  to  discover  how  to  alter  the
          addresses to reach H again.  This would  allow  only
          one US host at a time to access a given SATNET host,
          but surely this is no restriction.


  In practice, M2 and U should have different IP  tunnels  and
  hence  different  DTE  addresses.  Since the caller pays the
  X25 charges, the IP Tunnel for U  will  normally  be  opened
  only  by UCL. On the other hand, the IP Tunnel to M2 will be
  opened from the US end.  Since UCL has only  one  PSS  line,
  this requires the use of separate X25 subaddresses.  The VAN
  gateway must handle 14 digit X121 addresses, as well  as  12
  digit addresses.


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Acknowledgment"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Acknowledgment</span>

  Robert Cole of UCL  has  made  major  contributions  to  the
  contents  of this paper. In particular, he suggested the use
  of the Source Routing option.



























<a href="rfc831.html">RFC 831</a>                       - 5 -                      [Braden]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc831 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:57 GMT --></html>