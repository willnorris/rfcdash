<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc5586 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:35 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-bocci-mpls-tp-gach-gal" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:5586" name="DC.Identifier"/>
<meta content="June, 2009" name="DC.Date.Issued"/>
<meta content="Bocci, Matthew" name="DC.Creator"/>
<meta content="Bryant, Stewart" name="DC.Creator"/>
<meta content="Vigoureux, Martin" name="DC.Creator"/>
<meta content="This document generalizes the applicability of the pseudowire (PW)
Associated Channel Header (ACH), enabling the realization of a control
channel associated to MPLS Label Switched Paths (LSPs) and MPLS
Sections in addition to MPLS pseudowires. In order to identify the
presence of this Associated Channel Header in the label stack, this
document also assigns one of the reserved MPLS label values to the
Generic Associated Channel Label (GAL), to be used as a label based
exception mechanism." name="DC.Description.Abstract"/>
<meta content="MPLS Generic Associated Channel" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 5586 - MPLS Generic Associated Channel</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5586.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5586" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-mpls-tp-gach-gal" title="draft-ietf-mpls-tp-gach-gal">draft-ietf-mpls...</a>] [<a href="https://datatracker.ietf.org/doc/rfc5586" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5586" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5586" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=5586">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Updated by: <a href="rfc6423.html">6423</a>, <a href="rfc7026.html">7026</a>, <a href="rfc7214.html">7214</a>, <a href="rfc7274.html">7274</a>                     PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                      M. Bocci, Ed.
Request for Comments: 5586                             M. Vigoureux, Ed.
Updates: <a href="rfc3032.html">3032</a>, <a href="rfc4385.html">4385</a>, <a href="rfc5085.html">5085</a>                                 Alcatel-Lucent
Category: Standards Track                                 S. Bryant, Ed.
                                                           Cisco Systems
                                                               June 2009


                    <span class="h1">MPLS Generic Associated Channel</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   This document generalizes the applicability of the pseudowire (PW)
   Associated Channel Header (ACH), enabling the realization of a
   control channel associated to MPLS Label Switched Paths (LSPs) and
   MPLS Sections in addition to MPLS pseudowires.  In order to identify
   the presence of this Associated Channel Header in the label stack,
   this document also assigns one of the reserved MPLS label values to
   the Generic Associated Channel Label (GAL), to be used as a label
   based exception mechanism.












<span class="grey">Bocci, et al.               Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Objectives . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-1.2">1.2</a>.  Scope  . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-1.3">1.3</a>.  Requirements Language and Terminology  . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-2">2</a>.  Generic Associated Channel Header  . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-2.1">2.1</a>.  Definition . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
     <a href="#section-2.2">2.2</a>.  Allocation of Channel Types  . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-3">3</a>.  ACH TLVs . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-3.1">3.1</a>.  ACH TLV Payload Structure  . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-3.2">3.2</a>.  ACH TLV Header . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
     <a href="#section-3.3">3.3</a>.  ACH TLV Object . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
   <a href="#section-4">4</a>.  Generalized Exception Mechanism  . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
     <a href="#section-4.1">4.1</a>.  Relationship with Existing MPLS OAM Alert Mechanisms . . .  <a href="#page-9">9</a>
     <a href="#section-4.2">4.2</a>.  GAL Applicability and Usage  . . . . . . . . . . . . . . . <a href="#page-10">10</a>
       <a href="#section-4.2.1">4.2.1</a>.  GAL Processing . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-4.3">4.3</a>.  Relationship with <a href="rfc3429.html">RFC 3429</a> . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-5">5</a>.  Compatibility  . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   <a href="#section-6">6</a>.  Congestion Considerations  . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-7">7</a>.  Major Contributing Authors . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-8">8</a>.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-9">9</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-10">10</a>. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-11">11</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
     <a href="#section-11.1">11.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
     <a href="#section-11.2">11.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-18">18</a>
























<span class="grey">Bocci, et al.               Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   There is a need for Operations, Administration, and Maintenance (OAM)
   mechanisms that can be used for fault detection, diagnostics,
   maintenance, and other functions on a pseudowire (PW) and a Label
   Switched Path (LSP).  These functions can be used between any two
   Label Edge Routers (LERs)/Label Switching Router (LSRs) or
   Terminating Provider Edge routers (T-PEs)/Switching Provider Edge
   routers (S-PEs) along the path of an LSP or PW, respectively
   [<a href="#ref-MPLS-TP" title='"A Framework for MPLS in Transport Networks"'>MPLS-TP</a>].  Some of these functions can be supported using existing
   tools such as Virtual Circuit Connectivity Verification (VCCV)
   [<a href="rfc5085.html" title='"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"'>RFC5085</a>], Bidirectional Forwarding Detection for MPLS LSPs (BFD-
   MPLS) [<a href="#ref-BFD-MPLS" title='"BFD For MPLS LSPs"'>BFD-MPLS</a>], LSP-Ping [<a href="rfc4379.html" title='"Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures"'>RFC4379</a>], or BFD-VCCV [<a href="#ref-BFD-VCCV" title='"Bidirectional Forwarding Detection (BFD) for the Pseudowire Virtual Circuit Connectivity Verification (VCCV)"'>BFD-VCCV</a>].
   However, a requirement has been indicated to augment this set of
   maintenance functions, in particular when MPLS networks are used for
   packet transport services and transport network operations [<a href="#ref-OAM-REQ" title='"Requirements for OAM in MPLS Transport Networks"'>OAM-REQ</a>].
   Examples of these functions include performance monitoring, automatic
   protection switching, and support for management and signaling
   communication channels.  These tools MUST be applicable to, and
   function in essentially the same manner (from an operational point of
   view) on MPLS PWs, MPLS LSPs, and MPLS Sections.  They MUST also
   operate in-band on the PW or LSP such that they do not depend on
   Packet Switched Network (PSN) routing or on user traffic, and MUST
   NOT depend on dynamic control plane functions.

   VCCV [<a href="rfc5085.html" title='"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"'>RFC5085</a>] can use an Associated Channel Header (ACH) to provide
   a PW associated control channel between a PW's endpoints, over which
   OAM and other control messages can be exchanged.  This document
   generalizes the applicability of the ACH to enable the same
   associated control channel mechanism to be used for Sections, LSPs,
   and PWs.  The associated control channel thus generalized is known as
   the Generic Associated Channel (G-ACh).  The ACH, specified in <a href="rfc4385.html">RFC</a>
   <a href="rfc4385.html">4385</a> [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>], may be used with additional code points to support
   additional MPLS maintenance functions on the G-ACh.

   Generalizing the applicability of the ACH to LSPs and Sections also
   requires a method to identify that a packet contains an ACH followed
   by a non-service payload.  Therefore, this document also defines a
   label-based exception mechanism that serves to inform an LSR (or LER)
   that a packet it receives on an LSP or Section belongs to an
   associated control channel.  The label used for that purpose is one
   of the MPLS reserved labels and is referred to as the GAL (G-ACh
   Label).  The GAL mechanism is defined to work together with the ACH
   for LSPs and MPLS Sections.

   <a href="rfc4379.html">RFC 4379</a> [<a href="rfc4379.html" title='"Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures"'>RFC4379</a>] and BFD-MPLS [<a href="#ref-BFD-MPLS" title='"BFD For MPLS LSPs"'>BFD-MPLS</a>] define alert mechanisms
   that enable an MPLS LSR to identify and process MPLS OAM packets when
   these are encapsulated in an IP header.  These alert mechanisms are



<span class="grey">Bocci, et al.               Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   based, for example, on Time To Live (TTL) expiration and/or on the
   use of an IP destination address in the range of 127.0.0.0/8 or 0:0:
   0:0:0:FFFF:127.0.0.0/104 for IPv4 and IPv6, respectively.  These
   mechanisms are the default mechanisms for identifying MPLS OAM
   packets when encapsulated in an IP header.  However, it may not
   always be possible to use these mechanisms in some MPLS applications,
   e.g., MPLS Transport Profile (MPLS-TP) [<a href="#ref-MPLS-TP" title='"A Framework for MPLS in Transport Networks"'>MPLS-TP</a>], particularly when
   IP-based demultiplexing cannot be used.  This document defines a
   mechanism that is RECOMMENDED for identifying and encapsulating MPLS
   OAM and other maintenance messages when IP based mechanisms such as
   those used in [<a href="rfc4379.html" title='"Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures"'>RFC4379</a>] and [<a href="#ref-BFD-MPLS" title='"BFD For MPLS LSPs"'>BFD-MPLS</a>] are not available.  Yet, this
   mechanism MAY be used in addition to IP-based mechanisms.

   Note that, in this document, maintenance functions and packets should
   be understood in the broad sense.  That is, a set of maintenance and
   management mechanisms that include OAM, Automatic Protection
   Switching (APS), Signaling Communication Channel (SCC), and
   Management Communication Channel (MCC) messages.

   Also note that the GAL and ACH are applicable to MPLS and PWs in
   general.  This document specifies general mechanism and uses MPLS-TP
   as an example application.  The application of the GAL and ACH to
   other specific MPLS uses is outside the scope of this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Objectives"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Objectives</span>

   This document defines a mechanism that provides a solution to the
   extended maintenance needs of emerging applications for MPLS.  It
   creates a generic control channel mechanism that may be applied to
   MPLS LSPs and Sections, while maintaining compatibility with the PW
   associated channel.  It also normalizes the use of the ACH for PWs in
   a transport context, and defines a label-based exception mechanism to
   alert LERs/LSRs of the presence of an ACH after the bottom of the
   label stack.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Scope"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Scope</span>

   This document defines the encapsulation header for Section, LSP, and
   PW associated control channel messages.

   This document does not define how associated control channel
   capabilities are signaled or negotiated between LERs/LSRs or between
   PEs, nor does it define the operation of various OAM functions.

   This document does not deprecate existing MPLS and PW OAM mechanisms.






<span class="grey">Bocci, et al.               Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.3.%20%20Requirements%20Language%20and%20Terminology"></a><a class="selflink" href="#section-1.3" name="section-1.3">1.3</a>.  Requirements Language and Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   This document uses the following additional terminology:

   ACH: Associated Channel Header

   G-ACh: Generic Associated Channel

   GAL: G-ACh Label

   G-ACh packet: Any packet containing a message belonging to a protocol
   that is carried on a PW, LSP, or MPLS Section associated control
   channel.  Examples include maintenance protocols such as OAM
   functions, signaling communications, or management communications.

   The terms "Section" and "Concatenated Segment" are defined in
   [<a href="#ref-TP-REQ" title='"MPLS-TP Requirements"'>TP-REQ</a>] as follows (note that the terms "Section" and "Section Layer
   Network" are synonymous):

   Section Layer Network: A section layer is a server layer (which may
   be MPLS-TP or a different technology) that provides for the transfer
   of the section layer client information between adjacent nodes in the
   transport path layer or transport service layer.  Note that G.805
   [<a href="#ref-G805" title='"Generic Functional Architecture of Transport Networks"'>G805</a>] defines the section layer as one of the two layer networks in
   a transmission media layer network.  The other layer network is the
   physical media layer network.

   Concatenated Segment: A serial-compound link connection as defined in
   [<a href="#ref-G805" title='"Generic Functional Architecture of Transport Networks"'>G805</a>].  A concatenated segment is a contiguous part of an LSP or
   multi-segment PW that comprises a set of segments and their
   interconnecting nodes in sequence.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Generic%20Associated%20Channel%20Header"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Generic Associated Channel Header</span>

   VCCV [<a href="rfc5085.html" title='"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"'>RFC5085</a>] defines three Control Channel (CC) Types that may be
   used to exchange OAM messages through a PW.  CC Type 1 uses an ACH
   and is referred to as "In-band VCCV"; CC Type 2 uses the MPLS Router
   Alert Label to indicate VCCV packets and is referred to as "Out-of-
   Band VCCV"; CC Type 3 uses the TTL to force the packet to be
   processed by the targeted router control plane and is referred to as
   "MPLS PW Label with TTL == 1".






<span class="grey">Bocci, et al.               Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Definition"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Definition</span>

   The use of the ACH, previously limited to PWs, is here generalized to
   also apply to LSPs and to Sections.  Note that for PWs, the PWE3
   control word [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>] MUST be present in the encapsulation of user
   packets when the ACH is used to realize the associated control
   channel.

   The ACH used by CC Type 1 is depicted in figure below:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0 0 0 1|Version|   Reserved    |         Channel Type          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                    Figure 1: Associated Channel Header

   In the above figure, the first nibble is set to 0001b to indicate a
   control channel associated with a PW, LSP, or Section.  The Version
   field is set to 0, as specified in <a href="rfc4385.html">RFC 4385</a> [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>].  Bits 8 to 15
   of the ACH are reserved and MUST be set to 0 and ignored on
   reception.  Bits 16 to 31 are used to encode the possible Channel
   Types.  This 16-bit field is in network byte order.

   Note that VCCV [<a href="rfc5085.html" title='"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"'>RFC5085</a>] also includes mechanisms for negotiating the
   Control Channel and Connectivity Verification (i.e., OAM function)
   Types between PEs.  It is anticipated that similar mechanisms will be
   applied to LSPs.  Such application will require further
   specification.  However, such specification is beyond the scope of
   this document.

   The G-ACh MUST NOT be used to transport user traffic.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Allocation%20of%20Channel%20Types"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Allocation of Channel Types</span>

   The Channel Type field indicates the type of message carried on the
   associated control channel, e.g., IPv4 or IPv6 if IP demultiplexing
   is used for messages sent on the associated control channel, or OAM
   or other maintenance function if IP demultiplexing is not used.  For
   associated control channel packets where IP is not used as the
   multiplexer, the Channel Type indicates the specific protocol carried
   in the associated control channel.

   Values for the Channel Type field currently used for VCCV are
   specified elsewhere, e.g., in <a href="rfc4446.html">RFC 4446</a> [<a href="rfc4446.html" title='"IANA Allocations for Pseudowire Edge to Edge Emulation (PWE3)"'>RFC4446</a>] and <a href="rfc4385.html">RFC 4385</a>
   [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>].  Additional Channel Type values and the associated




<span class="grey">Bocci, et al.               Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   maintenance functionality will be defined in other documents.  Each
   document, specifying a protocol solution relying on the ACH, MUST
   also specify the applicable Channel Type field value.

   Note that these values are allocated from the PW Associated Channel
   Type registry [<a href="rfc4446.html" title='"IANA Allocations for Pseudowire Edge to Edge Emulation (PWE3)"'>RFC4446</a>], but this document modifies the existing
   policy to accommodate a level of experimentation.  See <a href="#section-10">Section 10</a> for
   further details.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20ACH%20TLVs"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  ACH TLVs</span>

   In some applications of the generalized associated control channel,
   it is necessary to include one or more ACH TLVs to provide additional
   context information to the G-ACh packet.  One use of these ACH TLVs
   might be to identify the source and/or intended destination of the
   associated channel message.  However, the use of this construct is
   not limited to providing addressing information nor is the
   applicability restricted to transport network applications.

   If the G-ACh message MAY be preceded by one or more ACH TLVs, then
   this MUST be explicitly specified in the definition of an ACH Channel
   Type.  If the ACH Channel Type definition does state that one or more
   ACH TLVs MAY precede the G-ACh message, an ACH TLV Header MUST follow
   the ACH.  If no ACH TLVs are required in a specific associated
   channel packet, but the Channel Type nevertheless defines that ACH
   TLVs MAY be used, an ACH TLV Header MUST be present but with a length
   field set to zero to indicate that no ACH TLV follow this header.

   If an ACH Channel Type specification does not explicitly specify that
   ACH TLVs MAY be used, then the ACH TLV Header MUST NOT be used.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20ACH%20TLV%20Payload%20Structure"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  ACH TLV Payload Structure</span>

   This section defines and describes the structure of an ACH payload
   when an ACH TLV Header is present.

   The following figure (Figure 2) shows the structure of a G-ACh packet
   payload.













<span class="grey">Bocci, et al.               Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                              ACH                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         ACH TLV Header                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                     zero or more ACH TLVs                     ~
   ~                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                        G-ACh Message                          ~
   ~                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                      Figure 2: G-ACh Packet Payload

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20ACH%20TLV%20Header"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  ACH TLV Header</span>

   The ACH TLV Header defines the length of the set of ACH TLVs that
   follow.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Length               |            Reserved           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                         Figure 3: ACH TLV Header

   The Length field specifies the length in octets of the complete set
   of TLVs including sub-TLVs that follow the ACH TLV Header.  A length
   of zero indicates that no ACH TLV follow this header.  Note that no
   padding is required for the set of ACH TLVs.

   The Reserved field is for future use and MUST be set to zero on
   transmission and ignored on reception.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20ACH%20TLV%20Object"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  ACH TLV Object</span>

   ACH TLVs MAY follow an ACH TLV Header.  The structure of ACH TLVs is
   defined and described in this section.

   An ACH TLV consists of a 16-bit Type field, followed by a 16-bit
   Length field that specifies the number of octets of the Value field,
   which follows the Length field.  This 32-bit word is followed by zero
   or more octets of Value information.  The format and semantics of the
   Value information are defined by the TLV Type as recorded in the TLV




<span class="grey">Bocci, et al.               Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   Type registry.  See <a href="#section-10">Section 10</a> for further details.  Note that the
   Value field of ACH TLVs MAY contain sub-TLVs.  Note that no padding
   is required for individual TLVs or sub-TLVs.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           TLV Type            |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                             Value                             ~
   ~                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                         Figure 4: ACH TLV Format

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Generalized%20Exception%20Mechanism"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Generalized Exception Mechanism</span>

   Generalizing the associated control channel mechanism to LSPs and
   Sections also requires a method to identify that a packet contains an
   ACH followed by a non-service payload.  This document specifies that
   a label is used for that purpose and calls this special label the
   G-ACh Label (GAL).  One of the reserved label values defined in <a href="rfc3032.html">RFC</a>
   <a href="rfc3032.html">3032</a> [<a href="rfc3032.html" title='"MPLS Label Stack Encoding"'>RFC3032</a>] is assigned for this purpose.  IANA assigned the value
   13 to the GAL.

   The GAL provides an alert based exception mechanism to:

   o  differentiate specific packets (i.e., G-ACh packets) from others,
      such as user-plane ones.

   o  indicate that the ACH appears immediately after the bottom of the
      label stack.

   The GAL MUST only be used where both these purposes apply.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Relationship%20with%20Existing%20MPLS%20OAM%20Alert%20Mechanisms"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Relationship with Existing MPLS OAM Alert Mechanisms</span>

   <a href="rfc4379.html">RFC 4379</a> [<a href="rfc4379.html" title='"Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures"'>RFC4379</a>] and BFD-MPLS [<a href="#ref-BFD-MPLS" title='"BFD For MPLS LSPs"'>BFD-MPLS</a>] define alert mechanisms
   that enable an MPLS LSR to identify and process MPLS OAM packets when
   these are encapsulated in an IP header.  These alert mechanisms are
   based, for example, on Time To Live (TTL) expiration and/or on the
   use of an IP destination address in the range of 127.0.0.0/8 or 0:0:
   0:0:0:FFFF:127.0.0.0/104 for IPv4 and IPv6, respectively.

   These mechanisms are the default mechanisms for identifying MPLS OAM
   packets when encapsulated in an IP header although the mechanism
   defined in this document MAY also be used.



<span class="grey">Bocci, et al.               Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20GAL%20Applicability%20and%20Usage"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  GAL Applicability and Usage</span>

   In MPLS-TP, the GAL MUST be used with packets on a G-ACh on LSPs,
   Concatenated Segments of LSPs, and with Sections, and MUST NOT be
   used with PWs.  It MUST always be at the bottom of the label stack
   (i.e., S bit set to 1).  However, in other MPLS environments, this
   document places no restrictions on where the GAL may appear within
   the label stack or its use with PWs.  Where the GAL is at the bottom
   of the label stack (i.e., S bit set to 1), then it MUST always be
   followed by an ACH.

   The GAL MUST NOT appear in the label stack when transporting normal
   user-plane packets.  Furthermore, when present, the GAL MUST NOT
   appear more than once in the label stack.

   A receiving LSR, LER, or PE MUST NOT forward a G-ACh packet to
   another node based on the GAL label.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.1.%20%20GAL%20Processing"></a><a class="selflink" href="#section-4.2.1" name="section-4.2.1">4.2.1</a>.  GAL Processing</span>

   The Traffic Class (TC) field (formerly known as the EXP field) of the
   Label Stack Entry (LSE) containing the GAL follows the definition and
   processing rules specified and referenced in [<a href="rfc5462.html" title='"Multiprotocol Label Switching (MPLS) Label Stack Entry: "'>RFC5462</a>].

   The Time-To-Live (TTL) field of the LSE that contains the GAL follows
   the definition and processing rules specified in [<a href="rfc3443.html" title='"Time To Live (TTL) Processing in Multi-Protocol Label Switching (MPLS) Networks"'>RFC3443</a>].

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/4.2.1.1.%20%20MPLS%20Label%20Switched%20Paths%20and%20Segments"></a><a class="selflink" href="#section-4.2.1.1" name="section-4.2.1.1">4.2.1.1</a>.  MPLS Label Switched Paths and Segments</span>

   The following figure (Figure 5) depicts two LERs (A and D) and two
   LSRs (B and C) for a given LSP that is established from A to D and
   switched in B and C.

        +---+             +---+             +---+             +---+
        | A |-------------| B |-------------| C |-------------| D |
        +---+             +---+             +---+             +---+

                     Figure 5: Maintenance over an LSP

   In this example, a G-ACh exists on the LSP that extends between LERs
   A and D, via LSRs B and C.  Only A and D may initiate new G-ACh
   packets.  A, B, C, and D may process and respond to G-ACh packets.

   The following figure (Figure 6) depicts the format of an MPLS-TP
   G-ACh packet when used for an LSP.






<span class="grey">Bocci, et al.               Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               LSP Label               |  TC |S|       TTL     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  GAL                  |  TC |S|       TTL     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                              ACH                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  ACH TLV Header (if present)                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                     Zero or more ACH TLVs                     ~
   ~                           (if present)                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                         G-ACh Message                         ~
   ~                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                 Figure 6: G-ACh Packet Format for an LSP

   Note that it is possible that the LSP may be tunneled in another LSP
   (e.g., if an MPLS Tunnel exists between B and C), and as such other
   LSEs may be present in the label stack.

   To send a G-ACh message on the LSP associated control channel, the
   LER (A) generates a G-ACh message, to which it MAY prepend an ACH TLV
   Header and appropriate ACH TLVs.  It then adds an ACH, onto which it
   pushes a GAL LSE.  Finally, the LSP Label LSE is pushed onto the
   resulting packet.

   o  The TTL field of the GAL LSE MUST be set to at least 1.  The exact
      value of the TTL is application specific.  See <a href="#section-4.2.1">Section 4.2.1</a> for
      definition and processing rules.

   o  The S bit of the GAL MUST be set according to its position in the
      label stack (see <a href="#section-4.2">Section 4.2</a>).

   o  The setting of the TC field of the GAL is application specific.
      See <a href="#section-4.2.1">Section 4.2.1</a> for definition and processing rules.

   LSRs MUST NOT modify the G-ACh message, the ACH or the GAL towards
   the targeted destination.







<span class="grey">Bocci, et al.               Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   Note:  This is because once a G-ACh packet has been sent on an LSP,
      no node has visibility of it unless the LSP label TTL expires or
      the GAL is exposed when the LSP label is popped.  If this is at
      the targeted destination, for example, indicated by an address in
      an ACH TLV, then processing can proceed as specified below.  If
      this is not the targeted destination, but the node has agreed to
      process packets on that ACH channel, then the processing applied
      to the packet is out of scope of this document.

   Upon reception of the labeled packet, the targeted destination, after
   having checked both the LSP Label and GAL LSEs fields, SHOULD pass
   the whole packet to the appropriate processing entity.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/4.2.1.2.%20%20MPLS%20Section"></a><a class="selflink" href="#section-4.2.1.2" name="section-4.2.1.2">4.2.1.2</a>.  MPLS Section</span>

   The following figure (Figure 7) depicts an example of an MPLS
   Section.

                          +---+             +---+
                          | A |-------------| Z |
                          +---+             +---+

                Figure 7: Maintenance over an MPLS Section

   With regard to the MPLS Section, a G-ACh exists between A and Z.
   Only A and Z can insert, extract, or process packets on this G-ACh.

   The following figure (Figure 8) depicts the format of a G-ACh packet
   when used for an MPLS Section.  The GAL MAY provide the exception
   mechanism for a control channel in its own right without being
   associated with a specific LSP, thus providing maintenance-related
   communications across a specific link interconnecting two LSRs.  In
   this case, the GAL is the only label in the stack.


















<span class="grey">Bocci, et al.               Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  GAL                  |  TC |S|       TTL     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                             ACH                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  ACH TLV Header (if present)                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                     Zero or more ACH TLVs                     ~
   ~                         (if present)                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               ~
   ~                         G-ACh message                         ~
   ~                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Figure 8: G-ACh Packet Format for an MPLS Section

   To send a G-ACh message on a control channel associated to the
   Section, the head-end LSR (A) of the Section generates a G-ACh
   message, to which it MAY prepend an ACH TLV Header and appropriate
   ACH TLVs.  Next, the LSR adds an ACH.  Finally, it pushes a GAL LSE.

   o  The TTL field of the GAL MUST be set to at least 1.  The exact
      value of the TTL is application specific.  See <a href="#section-4.2.1">Section 4.2.1</a> for
      definition and processing rules.

   o  The S bit of the GAL MUST be set according to its position in the
      label stack. (see <a href="#section-4.2">Section 4.2</a>).

   o  The setting of the TC field of the GAL is application specific.
      See <a href="#section-4.2.1">Section 4.2.1</a> for definition and processing rules.

   Intermediate nodes of the MPLS Section MUST NOT modify the G-ACh
   message, the ACH and the GAL towards the tail-end LSR (Z).  Upon
   reception of the G-ACh packet, the tail-end LSR (Z), after having
   checked the GAL LSE fields, SHOULD pass the whole packet to the
   appropriate processing entity.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Relationship%20with%20RFC%203429"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Relationship with <a href="rfc3429.html">RFC 3429</a></span>

   <a href="rfc3429.html">RFC 3429</a> [<a href="rfc3429.html" title="&quot;Assignment of the 'OAM Alert Label' for Multiprotocol Label Switching Architecture (MPLS) Operation and Maintenance (OAM) Functions&quot;">RFC3429</a>] describes the assignment of one of the reserved
   label values, defined in <a href="rfc3032.html">RFC 3032</a> [<a href="rfc3032.html" title='"MPLS Label Stack Encoding"'>RFC3032</a>], to the "OAM Alert Label"
   that is used by user-plane MPLS OAM functions for the identification
   of MPLS OAM packets.  The value of 14 is used for that purpose.




<span class="grey">Bocci, et al.               Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   Both this document and <a href="rfc3429.html">RFC 3429</a> [<a href="rfc3429.html" title="&quot;Assignment of the 'OAM Alert Label' for Multiprotocol Label Switching Architecture (MPLS) Operation and Maintenance (OAM) Functions&quot;">RFC3429</a>] therefore describe the
   assignment of reserved label values for similar purposes.  The
   rationale for the assignment of a new reserved label can be
   summarized as follows:

   o  Unlike the mechanisms described and referenced in <a href="rfc3429.html">RFC 3429</a>
      [<a href="rfc3429.html" title="&quot;Assignment of the 'OAM Alert Label' for Multiprotocol Label Switching Architecture (MPLS) Operation and Maintenance (OAM) Functions&quot;">RFC3429</a>], G-ACh messages will not reside immediately after the
      GAL but instead behind the ACH, which itself resides after the
      bottom of the label stack.

   o  The set of maintenance functions potentially operated in the
      context of the G-ACh is wider than the set of OAM functions
      referenced in <a href="rfc3429.html">RFC 3429</a> [<a href="rfc3429.html" title="&quot;Assignment of the 'OAM Alert Label' for Multiprotocol Label Switching Architecture (MPLS) Operation and Maintenance (OAM) Functions&quot;">RFC3429</a>].

   o  It has been reported that there are existing implementations and
      running deployments using the "OAM Alert Label" as described in
      <a href="rfc3429.html">RFC 3429</a> [<a href="rfc3429.html" title="&quot;Assignment of the 'OAM Alert Label' for Multiprotocol Label Switching Architecture (MPLS) Operation and Maintenance (OAM) Functions&quot;">RFC3429</a>].  It is therefore not possible to modify the
      "OAM Alert Label" allocation, purpose, or usage.  Nevertheless, it
      is RECOMMENDED that no further OAM extensions based on "OAM Alert
      Label" (Label 14) usage be specified or developed.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Compatibility"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Compatibility</span>

   Procedures for handling a packet received with an invalid incoming
   label are specified in <a href="rfc3031.html">RFC 3031</a> [<a href="rfc3031.html" title='"Multiprotocol Label Switching Architecture"'>RFC3031</a>].

   An LER, LSR, or PE MUST discard received associated channel packets
   on which all of the MPLS or PW labels have been popped if any one of
   the following conditions is true:

   o  It is not capable of processing packets on the Channel Type
      indicated by the ACH of the received packet.

   o  It has not, through means outside the scope of this document,
      indicated to the sending LSR, LER, or PE that it will process
      associated channel packets on the Channel Type indicated by the
      ACH of the received packet.

   o  The packet is received on an Experimental Channel Type that is
      locally disabled.

   o  If the ACH was indicated by the presence of a GAL, and the first
      nibble of the ACH of the received packet is not 0001b.

   o  The ACH version is not recognized.






<span class="grey">Bocci, et al.               Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   In addition, the LER, LSR, or PE MAY increment an error counter and
   MAY also issue a system and/or Simple Network Management Protocol
   (SNMP) notification.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Congestion%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Congestion Considerations</span>

   The congestion considerations detailed in <a href="rfc5085.html">RFC 5085</a> [<a href="rfc5085.html" title='"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"'>RFC5085</a>] apply.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Major%20Contributing%20Authors"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Major Contributing Authors</span>

   The editors would like to thank George Swallow, David Ward, and Rahul
   Aggarwal who made a major contribution to the development of this
   document.

      George Swallow
      Cisco Systems
      Email: swallow@cisco.com

      David Ward
      Cisco Systems
      Email: dward@cisco.com

      Rahul Aggarwal
      Juniper Networks
      Email: rahul@juniper.net

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgments"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgments</span>

   The editors gratefully acknowledge the contributions of Sami Boutros,
   Italo Busi, Marc Lasserre, Lieven Levrau, and Siva Sivabalan.

   The authors would also like to thank Malcolm Betts, ITU-T Study Group
   15, and all members of the teams (the Joint Working Team, the MPLS
   Interoperability Design Team in IETF and the MPLS-TP Ad Hoc Team in
   ITU-T) involved in the definition and specification of the MPLS
   Transport Profile.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Security%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Security Considerations</span>

   The security considerations for the associated control channel are
   described in <a href="rfc4385.html">RFC 4385</a> [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>].  Further security considerations
   MUST be described in the relevant associated channel type
   specification.

   <a href="rfc5085.html">RFC 5085</a> [<a href="rfc5085.html" title='"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"'>RFC5085</a>] provides data plane related security
   considerations.  These also apply to a G-ACh, whether the alert
   mechanism uses a GAL or only an ACH.




<span class="grey">Bocci, et al.               Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  IANA Considerations</span>

   IANA allocated label value 13 to the GAL from the pool of reserved
   labels in the "Multiprotocol Label Switching Architecture (MPLS)
   Label Values" registry.

   Channel Types for the Associated Channel Header are allocated from
   the IANA "PW Associated Channel Type" registry [<a href="rfc4446.html" title='"IANA Allocations for Pseudowire Edge to Edge Emulation (PWE3)"'>RFC4446</a>].  The PW
   Associated Channel Type registry is currently allocated based on the
   IETF consensus process (termed "IETF Review" in [<a href="rfc5226.html" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>RFC5226</a>]).  This
   allocation process was chosen based on the consensus reached in the
   PWE3 working group that pseudowire associated channel mechanisms
   should be reviewed by the IETF and only those that are consistent
   with the PWE3 architecture and requirements should be allocated a
   code point.

   However, a requirement has emerged (see [<a href="#ref-OAM-REQ" title='"Requirements for OAM in MPLS Transport Networks"'>OAM-REQ</a>]) to allow for
   optimizations or extensions to OAM and other control protocols
   running in an associated channel to be experimented without resorting
   to the IETF standards process, by supporting experimental code
   points.  This would prevent code points used for such functions from
   being used from the range allocated through the IETF standards and
   thus protects an installed base of equipment from potential
   inadvertent overloading of code points.  In order to support this
   requirement, IANA has changed the code point allocation scheme for
   the PW Associated Channel Type be changed as follows:

   0 - 32751 : IETF Review

   32760 - 32767 : Experimental

   Code points in the experimental range MUST be used according to the
   guidelines of <a href="rfc3692.html">RFC 3692</a> [<a href="rfc3692.html" title='"Assigning Experimental and Testing Numbers Considered Useful"'>RFC3692</a>].  Functions using experimental G-ACh
   code points MUST be disabled by default.  The Channel Type value used
   for a given experimental OAM function MUST be configurable, and care
   MUST be taken to ensure that different OAM functions that are not
   inter-operable are configured to use different Channel Type values.

   The PW Associated Channel Type registry has been updated to include a
   column indicating whether the ACH is followed by a ACH TLV header
   (Yes/No).  There are two ACH Channel Type code-points currently
   assigned and in both cases no ACH TLV header is used.  Thus, the new
   format of the PW Channel Type registry is:








<span class="grey">Bocci, et al.               Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   Registry:
   Value  Description                   TLV Follows  Reference
   -----  ----------------------------  -----------  ---------
   0x21   ACH carries an IPv4 packet    No           [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>]
   0x57   ACH carries an IPv6 packet    No           [<a href="rfc4385.html" title='"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"'>RFC4385</a>]

                    Figure 9: PW Channel Type Registry

   IANA created a new registry called the Associated Channel Header TLV
   Registry.  The allocation policy for this registry is IETF review.
   This registry MUST record the following information.  There are no
   initial entries.

   Name       Type  Length   Description                  Reference
                   (octets)

                        Figure 10: ACH TLV Registry

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20References"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.1.%20%20Normative%20References"></a><a class="selflink" href="#section-11.1" name="section-11.1">11.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]   Bradner, S., "Key words for use in RFCs to Indicate
               Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3031" name="ref-RFC3031">RFC3031</a>]   Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
               Label Switching Architecture", <a href="rfc3031.html">RFC 3031</a>, January 2001.

   [<a id="ref-RFC3032" name="ref-RFC3032">RFC3032</a>]   Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y.,
               Farinacci, D., Li, T., and A. Conta, "MPLS Label Stack
               Encoding", <a href="rfc3032.html">RFC 3032</a>, January 2001.

   [<a id="ref-RFC3443" name="ref-RFC3443">RFC3443</a>]   Agarwal, P. and B. Akyol, "Time To Live (TTL) Processing
               in Multi-Protocol Label Switching (MPLS) Networks",
               <a href="rfc3443.html">RFC 3443</a>, January 2003.

   [<a id="ref-RFC3692" name="ref-RFC3692">RFC3692</a>]   Narten, T., "Assigning Experimental and Testing Numbers
               Considered Useful", <a href="https://tools.ietf.org/html/bcp82">BCP 82</a>, <a href="rfc3692.html">RFC 3692</a>, January 2004.

   [<a id="ref-RFC4385" name="ref-RFC4385">RFC4385</a>]   Bryant, S., Swallow, G., Martini, L., and D. McPherson,
               "Pseudowire Emulation Edge-to-Edge (PWE3) Control Word
               for Use over an MPLS PSN", <a href="rfc4385.html">RFC 4385</a>, February 2006.

   [<a id="ref-RFC4446" name="ref-RFC4446">RFC4446</a>]   Martini, L., "IANA Allocations for Pseudowire Edge to
               Edge Emulation (PWE3)", <a href="https://tools.ietf.org/html/bcp116">BCP 116</a>, <a href="rfc4446.html">RFC 4446</a>, April 2006.






<span class="grey">Bocci, et al.               Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


   [<a id="ref-RFC5085" name="ref-RFC5085">RFC5085</a>]   Nadeau, T. and C. Pignataro, "Pseudowire Virtual Circuit
               Connectivity Verification (VCCV): A Control Channel for
               Pseudowires", <a href="rfc5085.html">RFC 5085</a>, December 2007.

   [<a id="ref-RFC5226" name="ref-RFC5226">RFC5226</a>]   Narten, T. and H. Alvestrand, "Guidelines for Writing an
               IANA Considerations Section in RFCs", <a href="https://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc5226.html">RFC 5226</a>,
               May 2008.

   [<a id="ref-RFC5462" name="ref-RFC5462">RFC5462</a>]   Andersson, L. and R. Asati, "Multiprotocol Label
               Switching (MPLS) Label Stack Entry: "EXP" Field Renamed
               to "Traffic Class" Field", <a href="rfc5462.html">RFC 5462</a>, February 2009.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.2.%20%20Informative%20References"></a><a class="selflink" href="#section-11.2" name="section-11.2">11.2</a>.  Informative References</span>

   [<a id="ref-BFD-MPLS" name="ref-BFD-MPLS">BFD-MPLS</a>]  Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow,
               "BFD For MPLS LSPs", Work in Progress, June 2008.

   [<a id="ref-BFD-VCCV" name="ref-BFD-VCCV">BFD-VCCV</a>]  Nadeau, T. and C. Pignataro, "Bidirectional Forwarding
               Detection (BFD) for the Pseudowire Virtual Circuit
               Connectivity Verification (VCCV)", Work in Progress,
               May 2009.

   [<a id="ref-G805" name="ref-G805">G805</a>]      International Telecommunication Union, "Generic
               Functional Architecture of Transport Networks", ITU-
               T G.805, March 2000.

   [<a id="ref-MPLS-TP" name="ref-MPLS-TP">MPLS-TP</a>]   Bocci, M., Bryant, S., and L. Levrau, "A Framework for
               MPLS in Transport Networks", Work in Progress,
               November 2008.

   [<a id="ref-OAM-REQ" name="ref-OAM-REQ">OAM-REQ</a>]   Vigoureux, M., Ed., Ward, D., Ed., and M. Betts, Ed.,
               "Requirements for OAM in MPLS Transport Networks", Work
               in Progress, March 2009.

   [<a id="ref-RFC3429" name="ref-RFC3429">RFC3429</a>]   Ohta, H., "Assignment of the 'OAM Alert Label' for
               Multiprotocol Label Switching Architecture (MPLS)
               Operation and Maintenance (OAM) Functions", <a href="rfc3429.html">RFC 3429</a>,
               November 2002.

   [<a id="ref-RFC4379" name="ref-RFC4379">RFC4379</a>]   Kompella, K. and G. Swallow, "Detecting Multi-Protocol
               Label Switched (MPLS) Data Plane Failures", <a href="rfc4379.html">RFC 4379</a>,
               February 2006.

   [<a id="ref-TP-REQ" name="ref-TP-REQ">TP-REQ</a>]    Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M.,
               Ed., Sprecher, N., and S. Ueno, "MPLS-TP Requirements",
               Work in Progress, May 2009.





<span class="grey">Bocci, et al.               Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc5586.html">RFC 5586</a>                     G-ACh and GAL                     June 2009</span>


Authors' Addresses

   Matthew Bocci (editor)
   Alcatel-Lucent
   Voyager Place, Shoppenhangers Road
   Maidenhead, Berks  SL6 2PJ
   UK

   EMail: matthew.bocci@alcatel-lucent.com


   Martin Vigoureux (editor)
   Alcatel-Lucent
   Route de Villejust
   Nozay,   91620
   France

   EMail: martin.vigoureux@alcatel-lucent.com


   Stewart Bryant (editor)
   Cisco Systems

   EMail: stbryant@cisco.com



























Bocci, et al.               Standards Track                    [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc5586 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:35 GMT --></html>