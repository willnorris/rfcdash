<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7438 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:21 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-wijnands-mpls-mldp-in-band-wildcard-encoding" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7438" name="DC.Identifier"/>
<meta content="January, 2015" name="DC.Date.Issued"/>
<meta content="Tantsura, Jeff" name="DC.Creator"/>
<meta content="Wijnands, IJsbrand" name="DC.Creator"/>
<meta content="Joorde, Uwe" name="DC.Creator"/>
<meta content="Rosen, Eric" name="DC.Creator"/>
<meta content='There are scenarios in which an IP multicast tree traverses an MPLS
domain. In these scenarios, it can be desirable to convert the IP
multicast tree "seamlessly" into an MPLS Multipoint Label Switched
Path (MP-LSP) when it enters the MPLS domain, and then to convert it
back to an IP multicast tree when it exits the MPLS domain. Previous
documents specify procedures that allow certain kinds of IP multicast
trees (either Source-Specific Multicast trees or Bidirectional
Multicast trees) to be attached to an MPLS Multipoint Label Switched
Path (MP-LSP). However, the previous documents do not specify
procedures for attaching IP Any-Source Multicast trees to MP-LSPs, nor
do they specify procedures for aggregating multiple IP multicast trees
onto a single MP-LSP. This document specifies the procedures to
support these functions. It does so by defining "wildcard" encodings
that make it possible to specify, when setting up an MP- LSP, that a
set of IP multicast trees, or a shared IP multicast tree, should be
attached to that MP-LSP. Support for non-bidirectional IP Any-Source
Multicast trees is subject to certain applicability restrictions that
are discussed in this document. This document updates RFCs 6826 and
7246.' name="DC.Description.Abstract"/>
<meta content="Multipoint LDP (mLDP) In-Band Signaling with Wildcards" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7438 - Multipoint LDP (mLDP) In-Band Signaling with Wildcards</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7438.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7438" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-mpls-mldp-in-band-wildcard-encoding" title="draft-ietf-mpls-mldp-in-band-wildcard-encoding">draft-ietf-mpls...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7438" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7438" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7438" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                 IJ. Wijnands, Ed.
Request for Comments: 7438                           Cisco Systems, Inc.
Updates: <a href="rfc6826.html">6826</a>, <a href="rfc7246.html">7246</a>                                             E. Rosen
Category: Standards Track                         Juniper Networks, Inc.
ISSN: 2070-1721                                                 A. Gulko
                                                         Thomson Reuters
                                                               U. Joorde
                                                        Deutsche Telekom
                                                             J. Tantsura
                                                                Ericsson
                                                            January 2015


         <span class="h1">Multipoint LDP (mLDP) In-Band Signaling with Wildcards</span>

Abstract

   There are scenarios in which an IP multicast tree traverses an MPLS
   domain.  In these scenarios, it can be desirable to convert the IP
   multicast tree "seamlessly" into an MPLS Multipoint Label Switched
   Path (MP-LSP) when it enters the MPLS domain, and then to convert it
   back to an IP multicast tree when it exits the MPLS domain.  Previous
   documents specify procedures that allow certain kinds of IP multicast
   trees (either Source-Specific Multicast trees or Bidirectional
   Multicast trees) to be attached to an MPLS Multipoint Label Switched
   Path (MP-LSP).  However, the previous documents do not specify
   procedures for attaching IP Any-Source Multicast trees to MP-LSPs,
   nor do they specify procedures for aggregating multiple IP multicast
   trees onto a single MP-LSP.  This document specifies the procedures
   to support these functions.  It does so by defining "wildcard"
   encodings that make it possible to specify, when setting up an MP-
   LSP, that a set of IP multicast trees, or a shared IP multicast tree,
   should be attached to that MP-LSP.  Support for non-bidirectional IP
   Any-Source Multicast trees is subject to certain applicability
   restrictions that are discussed in this document.  This document
   updates RFCs 6826 and 7246.















<span class="grey">Wijnands, et al.             Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7438">http://www.rfc-editor.org/info/rfc7438</a>.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.























<span class="grey">Wijnands, et al.             Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Terminology and Definitions . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  Wildcards in mLDP Opaque Value TLVs . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-3.1">3.1</a>.  Encoding the Wildcards  . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-3.2">3.2</a>.  Wildcard Semantics  . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-3.3">3.3</a>.  Backwards Compatibility . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-3.4">3.4</a>.  Applicability Restrictions with Regard to ASM . . . . . .   <a href="#page-9">9</a>
   <a href="#section-4">4</a>.  Some Wildcard Use Cases . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-4.1">4.1</a>.  PIM Shared Tree Forwarding  . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-4.2">4.2</a>.  IGMP/MLD Proxying . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-4.3">4.3</a>.  Selective Source Mapping  . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-5">5</a>.  Procedures for Wildcard Source Usage  . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-6">6</a>.  Procedures for Wildcard Group Usage . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-7">7</a>.  Determining the MP-LSP Root (Ingress LSR) . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-8">8</a>.  Anycast RP  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-9">9</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   <a href="#section-10">10</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-10.1">10.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-10.2">10.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   [<a id="ref-RFC6826" name="ref-RFC6826">RFC6826</a>] and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] specify procedures for mLDP (Multipoint LDP)
   that allow an IP multicast tree (either a Source-Specific Multicast
   tree or a Bidirectional Multicast tree) to be attached "seamlessly"
   to an MPLS Multipoint Label Switched Path (MP-LSP).  This can be
   useful, for example, when there is multicast data that originates in
   a domain that supports IP multicast, which then has to be forwarded
   across a domain that supports MPLS multicast and then has to
   forwarded across another domain that supports IP multicast.  By
   attaching an IP multicast tree to an MP-LSP, data that is traveling
   along the IP multicast tree can be moved seamlessly to the MP-LSP
   when it enters the MPLS multicast domain.  The data then travels
   along the MP-LSP through the MPLS domain.  When the data reaches the
   boundary of the MPLS domain, it can be moved seamlessly to an IP
   multicast tree.  This ability to attach IP multicast trees to MPLS
   MP-LSPs can be useful in either VPN context or global context.

   In mLDP, every MP-LSP is identified by the combination of a "root
   node" (or "Ingress Label Switching Router (LSR)") and an "Opaque
   Value" that, in the context of the root node, uniquely identifies the
   MP-LSP.  These are encoded into an mLDP "Forwarding Equivalence Class
   (FEC) Element".  To set up an MP-LSP, the Egress LSRs originate mLDP




<span class="grey">Wijnands, et al.             Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   control messages containing the FEC element.  A given FEC Element
   value identifies a single MP-LSP and is passed upstream from the
   Egress LSRs, through the intermediate LSRs, to the Ingress LSR.

   In IP multicast, a multicast tree is identified by the combination of
   an IP source address ("S") and an IP group address ("G"), usually
   written as "(S,G)".  A tree carrying traffic of multiple sources is
   identified by its group address, and the identifier is written as
   "(*,G)".

   When an MP-LSP is being set up, the procedures of [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and
   [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>], known as "mLDP in-band signaling", allow the Egress LSRs
   of the MP-LSP to encode the identifier of an IP multicast tree in the
   "Opaque Value" field of the mLDP FEC Element that identifies the MP-
   LSP.  Only the Egress and Ingress LSRs are aware that the mLDP FEC
   Elements contain encodings of the IP multicast tree identifier;
   intermediate nodes along the MP-LSP do not take any account of the
   internal structure of the FEC Element's Opaque Value, and the
   internal structure of the Opaque Value does not affect the operation
   of mLDP.  By using mLDP in-band signaling, the Egress LSRs of an MP-
   LSP inform the Ingress LSR that they expect traffic of the identified
   IP multicast tree (and only that traffic) to be carried on the MP-
   LSP.  That is, mLDP in-band signaling not only sets up the MP-LSP, it
   also binds a given IP multicast tree to the MP-LSP.

   If multicast is being done in a VPN context [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>], then the mLDP
   FEC elements also contain a "Route Distinguisher" (RD) (see
   [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>]), as the IP multicast trees are identified not merely by
   "(S,G)" but by "(RD,S,G)".  The procedures of this document are also
   applicable in this case.  Of course, when an Ingress LSR processes an
   in-band signaling Opaque Value that contains an RD, it does so in the
   context of the VPN associated with that RD.

   If mLDP in-band signaling is not used, then some other protocol must
   be used to bind an IP multicast tree to the MP-LSP; this requires
   additional communication mechanisms between the Ingress LSR and the
   Egress LSRs of the MP-LSP.  The purpose of mLDP in-band signaling is
   to eliminate the need for these other protocols.

   When following the procedures of [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] for non-
   bidirectional trees, the Opaque Value has an IP source address (S)
   and an IP group address (G) encoded into it, thus enabling it to
   identify a particular IP multicast (S,G) tree.  Only a single IP
   source-specific multicast tree (i.e., a single "(S,G)") can be
   identified in a given FEC element.  As a result, a given MP-LSP can
   carry data from only a single IP source-specific multicast tree
   (i.e., a single "(S,G) tree").  However, there are scenarios in which
   it would be desirable to aggregate a number of (S,G) trees on a



<span class="grey">Wijnands, et al.             Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   single MP-LSP.  Aggregation allows a given number of IP multicast
   trees to use a smaller number of MP-LSPs, thus saving state in the
   network.

   In addition, [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] do not support the attachment of
   an Any-Source Multicast (ASM) shared tree to an MP-LSP, except in the
   case where the ASM shared tree is a bidirectional tree (i.e., a tree
   set up by BIDIR-PIM [<a href="rfc5015.html" title='"Bidirectional Protocol Independent Multicast (BIDIR- PIM)"'>RFC5015</a>]).  However, there are scenarios in
   which it would be desirable to attach a non-bidirectional ASM shared
   tree to an MP-LSP.

   This document specifies a way to encode an mLDP "Opaque Value" in
   which either the "S" or the "G" or both are replaced by a "wildcard"
   (written as "*").  Procedures are described for using the wildcard
   encoding to map non-bidirectional ASM shared trees to MP-LSPs and for
   mapping multiple (S,G) trees (with a common value of S or a common
   value of G) to a single MP-LSP.

   Some example scenarios where wildcard encoding is useful are

   o  PIM shared tree forwarding with "threshold infinity";

   o  IGMP/Multicast Listener Discovery (MLD) proxying; and

   o  Selective Source mapping.

   These scenarios are discussed in <a href="#section-4">Section 4</a>.  Note that this list of
   scenarios is not meant to be exhaustive.

   This document specifies only the mLDP procedures that are specific to
   the use of wildcards.  mLDP in-band signaling procedures that are not
   specific to the use of wildcards can be found in [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and
   [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>].  Unless otherwise specified in this document, those
   procedures still apply when wildcards are used.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology%20and%20Definitions"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology and Definitions</span>

   Readers of this document are assumed to be familiar with the
   terminology and concepts of the documents listed as Normative
   References.  For convenience, some of the more frequently used terms
   appear below.

   IGMP:
      Internet Group Management Protocol.







<span class="grey">Wijnands, et al.             Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   In-band signaling:
      Using the opaque value of a mLDP FEC element to carry the (S,G) or
      (*,G) identifying a particular IP multicast tree.  This document
      also allows (S,*) to be encoded in the opaque value; see
      <a href="#section-6">Section 6</a>.

   Ingress LSR:
      Root node of a MP-LSP.  When mLDP in-band signaling is used, the
      Ingress LSR receives mLDP messages about a particular MP-LSP from
      downstream and emits IP multicast control messages upstream.  The
      set of IP multicast control messages that are emitted upstream
      depends upon the contents of the LDP Opaque Value TLVs.  The
      Ingress LSR also receives IP multicast data messages from upstream
      and sends them downstream as MPLS packets on an MP-LSP.

   IP multicast tree:
      An IP multicast distribution tree identified by an IP multicast
      group address and optionally a source IP address, also referred to
      as (S,G) and (*,G).

   MLD:
      Multicast Listener Discovery.

   mLDP:
      Multipoint LDP.

   MP-LSP:
      A Point-to-Multipoint (P2MP) or Multipoint-to-Multipoint (MP2MP)
      LSP.

   PIM:
      Protocol Independent Multicast.

   PIM-ASM:
      PIM Any-Source Multicast.

   PIM-SM:
      PIM Sparse Mode.

   PIM-SSM:
      PIM Source-Specific Multicast.

   RP:
      The PIM Rendezvous Point.







<span class="grey">Wijnands, et al.             Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   Egress LSR:
      The Egress LSRs of an MP-LSP are LSPs that receive MPLS multicast
      data packets from upstream on that MP-LSP, and that forward that
      data downstream as IP multicast data packets.  The Egress LSRs
      also receive IP multicast control messages from downstream and
      send mLDP control messages upstream.  When in-band signaling is
      used, the Egress LSRs construct Opaque Value TLVs that contain IP
      source and/or group addresses based on the contents of the IP
      multicast control messages received from downstream.

   Threshold Infinity:
      A PIM-SM procedure where no source-specific multicast (S,G) trees
      are created for multicast packets that are forwarded down the
      shared tree (*,G).

   TLV:
      A protocol element consisting of a type field, followed by a
      length field, followed by a value field.  Note that the value
      field of a TLV may be subdivided into a number of subfields.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in <a href="rfc2119.html">RFC</a>
   <a href="rfc2119.html">2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Wildcards%20in%20mLDP%20Opaque%20Value%20TLVs"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Wildcards in mLDP Opaque Value TLVs</span>

   [<a id="ref-RFC6826" name="ref-RFC6826">RFC6826</a>] and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] define the following Opaque Value TLVs:
   Transit IPv4 Source TLV, Transit IPv6 Source TLV, Transit VPNv4
   Source TLV, and Transit VPNv6 Source TLV.  The value field of each
   such TLV is divided into a number of subfields, one of which contains
   an IP source address, and one of which contains an IP group address.
   Per those documents, these fields must contain valid IP addresses.

   This document extends the definition of those TLVs by allowing either
   the IP source address field or the IP group address field (or both)
   to specify a "wildcard" rather than a valid IP address.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Encoding%20the%20Wildcards"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Encoding the Wildcards</span>

   A value of all zeroes in the IP source address subfield is used to
   represent a wildcard source address.  A value of all zeroes in the IP
   group address subfield is used to represent the wildcard group
   address.  Note that the lengths of these subfields are as specified
   in the previous documents.






<span class="grey">Wijnands, et al.             Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Wildcard%20Semantics"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Wildcard Semantics</span>

   If the IP source address subfield contains the wildcard, and the IP
   group address subfield contains an IP multicast group address that is
   NOT in the SSM address range (see <a href="rfc4601.html#section-4.8">Section 4.8 of [RFC4601]</a>), then the
   TLV identifies a PIM-SM shared tree.  Please see <a href="#section-3.4">Section 3.4</a> for the
   applicability restrictions that apply to this case.

   If the IP source address subfield contains the wildcard, and the IP
   group address subfield contains an IP multicast group address that is
   in the SSM address range, then the TLV identifies the collection of
   PIM trees with the given group address.

   If the IP source address subfield contains a non-zero IP address, and
   the IP group address subfield contains the wildcard, the TLV
   identifies the collection of PIM-SSM trees that have the source
   address as their root.

   Procedures for the use of the wildcards are discussed in Sections <a href="#section-4">4</a>,
   5, and 6.  Please note that, as always, the structure of an Opaque
   Value TLV does not affect the operation of mLDP.  The structure is
   meaningful only to the IP multicast modules at the Ingress and Egress
   LSRs.

   Procedures for the use of a wildcard group in the following TLVs
   (defined in [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] or [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>]) are outside the scope of the
   current document: Transit IPv4 Bidir TLV, Transit IPv6 Bidir TLV,
   Transit VPNv4 Bidir TLV, and Transit VPNv6 Bidir TLV.

   Procedures for the use of both a wildcard source and a wildcard group
   in the same TLV are outside the scope of the current document.

   Note that the Bidir TLVs do not have a source address subfield, and
   hence the notion of a wildcard source is not applicable to them.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Backwards%20Compatibility"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Backwards Compatibility</span>

   The procedures of this document do not change the behavior described
   in [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>].

   A correctly operating Egress LSR that supports [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and/or
   [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>], but that does not support this document, will never
   generate mLDP FEC Element Opaque values that contain source or group
   wildcards.

   Neither [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] nor [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] specifies the behavior of an Ingress
   LSR that receives mLDP FEC Element Opaque values that contain zeroes
   in the source address or group address subfields.  However, if an



<span class="grey">Wijnands, et al.             Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   Ingress LSR supports [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and/or [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>], but does not support
   this document, then it has no choice but to treat any such received
   FEC elements as invalid; the procedures specified in [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>] and
   [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] do not work when the Opaque values contain zeroes in the
   source address or group address subfields.

   The procedures of this document thus presuppose that if an Egress LSR
   uses wildcard encodings when setting up an MP-LSP, then the Ingress
   LSR (i.e., the root of the multipoint LSP) supports the procedures of
   this document.  An Egress LSR MUST NOT use wildcard encodings when
   setting up a particular multipoint LSP unless it is known a priori
   that the Ingress LSR supports the procedures of this document.  How
   this is known is outside the scope of this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Applicability%20Restrictions%20with%20Regard%20to%20ASM"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Applicability Restrictions with Regard to ASM</span>

   In general, support for non-bidirectional PIM-ASM trees requires (a)
   a procedure for determining the set of sources for a given ASM tree
   ("source discovery"), and (b) a procedure for pruning a particular
   source off a shared tree ("source pruning").  No such procedures are
   specified in this document.  Therefore, the combination of a wildcard
   source with an ASM group address MUST NOT be used unless it is known
   a priori that neither source discovery nor source pruning are needed.
   How this is known is outside the scope of this document.  <a href="#section-4">Section 4</a>
   describes some use cases in which source discovery and source pruning
   are not needed.

   There are, of course, use cases where source discovery and/or source
   pruning is needed.  These can be handled with procedures such as
   those specified in [<a href="rfc6513.html" title='"Multicast in MPLS/BGP IP VPNs"'>RFC6513</a>], [<a href="rfc6514.html" title='"BGP Encodings and Procedures for Multicast in MPLS/BGP IP VPNs"'>RFC6514</a>], and [<a href="#ref-GTM" title='"Global Table Multicast with BGP-MVPN Procedures"'>GTM</a>].  Use of mLDP in-
   band signaling is NOT RECOMMENDED for those cases.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Some%20Wildcard%20Use%20Cases"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Some Wildcard Use Cases</span>

   This section discusses a number of wildcard use cases.  The set of
   use cases here is not meant to be exhaustive.  In each of these use
   cases, the Egress LSRs construct mLDP Opaque Value TLVs that contain
   wildcards in the IP source address or IP group address subfields.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20PIM%20Shared%20Tree%20Forwarding"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  PIM Shared Tree Forwarding</span>

   PIM [<a href="rfc4601.html" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>] has the concept of a "shared tree", identified as
   (*,G).  This concept is only applicable when G is an IP multicast
   group address that is not in the SSM address range (i.e., is an ASM
   group address).  Every ASM group is associated with a Rendezvous
   Point (RP), and the (*,G) tree is built towards the RP (i.e., its
   root is the RP).  The RP for group G is responsible for forwarding




<span class="grey">Wijnands, et al.             Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   packets down the (*,G) tree.  The packets forwarded down the (*,G)
   tree may be from any multicast source, as long as they have an IP
   destination address of G.

   The RP learns about all the multicast sources for a given group and
   then joins a source-specific tree for each such source.  That is,
   when the RP for G learns that S has multicast data to send to G, the
   RP joins the (S,G) tree.  When the RP receives multicast data from S
   that is destined to G, the RP forwards the data down the (*,G) tree.
   There are several different ways that the RP may learn about the
   sources for a given group.  The RP may learn of sources via PIM
   Register messages [<a href="rfc4601.html" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>], via Multicast Source Discovery Protocol
   (MSDP) [<a href="rfc3618.html" title='"Multicast Source Discovery Protocol (MSDP)"'>RFC3618</a>], or by observing packets from a source that is
   directly connected to the RP.

   In PIM, a PIM router that has receivers for a particular ASM
   multicast group G (known as a "last hop" router for G) will first
   join the (*,G) tree.  As it receives multicast traffic on the (*,G)
   tree, it learns (by examining the IP headers of the multicast data
   packets) the sources that are transmitting to G.  Typically, when a
   last hop router for group G learns that source S is transmitting to
   G, the last hop router joins the (S,G) tree and "prunes" S off the
   (*,G) tree.  This allows each last hop router to receive the
   multicast data along the shortest path from the source to the last
   hop router.  (Full details of this behavior can be found in
   [<a href="rfc4601.html" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>].)

   In some cases, however, a last hop router for group G may decide not
   to join the source trees, but rather to keep receiving all the
   traffic for G from the (*,G) tree.  In this case, we say that the
   last hop router has "threshold infinity" for group G.  This is
   optional behavior documented in [<a href="rfc4601.html" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>].  "Threshold infinity" is
   often used in deployments where the RP is between the multicast
   sources and the multicast receivers for group G, i.e., in deployments
   where it is known that the shortest path from any source to any
   receiver of the group goes through the RP.  In these deployments,
   there is no advantage for a last hop router to join a source tree
   since the data is already traveling along the shortest path.  The
   only effect of executing the complicated procedures for joining a
   source tree and pruning the source off the shared tree would be to
   increase the amount of multicast routing state that has to be
   maintained in the network.

   To efficiently use mLDP in-band signaling in this scenario, it is
   necessary for the Egress LSRs to construct an Opaque Value TLV that
   identifies a (*,G) tree.  This is done by using the wildcard in the
   IP source address subfield and setting the IP group address subfield
   to G.



<span class="grey">Wijnands, et al.             Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   Note that these mLDP in-band signaling procedures do not support PIM-
   ASM in scenarios where "threshold infinity" is not used.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20IGMP%2FMLD%20Proxying"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  IGMP/MLD Proxying</span>

   There are scenarios where the multicast senders and receivers are
   directly connected to an MPLS routing domain, and where it is desired
   to use mLDP rather than PIM to set up "trees" through that domain.

   In these scenarios, we can apply "IGMP/MLD proxying" and eliminate
   the use of PIM.  The senders and receivers consider the MPLS domain
   to be single hop between each other.  [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>] documents procedures
   where a multicast routing protocol is not necessary to build a
   "simple tree".  Within the MPLS domain, mLDP will be used to build an
   MP-LSP, but this is hidden from the senders and receivers.  The
   procedures defined in [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>] are applicable since the senders and
   receivers are considered to be one hop away from each other.

   For mLDP to build the necessary MP-LSP, it needs to know the root of
   the tree.  Following the procedures as defined in [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>], we
   depend on manual configuration of the mLDP root for the ASM multicast
   group.  Since the MP-LSP for a given ASM multicast group will carry
   traffic from all the sources for that group, the Opaque Value TLV
   used to construct the MP-LSP will contain a wildcard in the IP source
   address subfield.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Selective%20Source%20Mapping"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Selective Source Mapping</span>

   In many IPTV deployments, the content servers are gathered into a
   small number of sites.  Popular channels are often statically
   configured and forwarded over a core MPLS network to the Egress
   routers.  Since these channels are statically defined, they MAY also
   be forwarded over a multipoint LSP with wildcard encoding.  The sort
   of wildcard encoding that needs to be used (source and/or group)
   depends on the source/group allocation policy of the IPTV provider.
   Other options are to use MSDP [<a href="rfc3618.html" title='"Multicast Source Discovery Protocol (MSDP)"'>RFC3618</a>] or BGP "Auto-Discovery"
   procedures [<a href="rfc6513.html" title='"Multicast in MPLS/BGP IP VPNs"'>RFC6513</a>] for source discovery by the Ingress LSR.  Based
   on the received wildcard, the Ingress LSR can select from the set of
   IP multicast streams for which it has state.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Procedures%20for%20Wildcard%20Source%20Usage"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Procedures for Wildcard Source Usage</span>

   The decision to use mLDP in-band signaling is made by the IP
   multicast component of an Egress LSR, based on provisioned policy.
   The decision to use (or not to use) a wildcard in the IP source
   address subfield of an mLDP Opaque Value TLV is also made by the IP
   multicast component, again based on provisioned policy.  Following
   are some example policies that may be useful:



<span class="grey">Wijnands, et al.             Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   1.  Suppose that PIM is enabled, an Egress LSR needs to join a non-
       bidirectional ASM group G, and the RP for G is reachable via a
       BGP route.  The Egress LSR may choose the BGP Next Hop of the
       route to the RP to be the Ingress LSR (root node) of the MP-LSP
       corresponding to the (*,G) tree (see also <a href="#section-7">Section 7</a>).  The Egress
       LSR may identify the (*,G) tree by using an mLDP Opaque Value TLV
       whose IP source address subfield contains a wildcard, and whose
       IP group address subfield contains G.

   2.  Suppose that PIM is not enabled for group G, and an IGMP/MLD
       group membership report for G has been received by an Egress LSR.
       The Egress LSR may determine the "proxy device" for G (see
       <a href="#section-4.2">Section 4.2</a>).  It can then set up an MP-LSP for which the proxy
       device is the Ingress LSR.  The Egress LSR needs to signal the
       Ingress LSR that the MP-LSP is to carry traffic belonging to
       group G; it does this by using an Opaque Value TLV whose IP
       source address subfield contains a wildcard, and whose IP group
       address subfield contains G.

   As the policies needed in any one deployment may be very different
   than the policies needed in another, this document does not specify
   any particular set of policies as being mandatory to implement.

   When the Ingress LSR receives an mLDP Opaque Value TLV that has been
   defined for in-band signaling, the information from the subfields of
   that TLV is passed to the IP multicast component of the Ingress LSR.
   If the IP source address subfield contains a wildcard, the IP
   multicast component must determine how to process it.  The processing
   MUST follow the rules below:

   1.  If PIM is enabled and the group identified in the Opaque Value
       TLV is a non-bidirectional ASM group, the Ingress LSR acts as if
       it had received a (*,G) IGMP/MLD report from a downstream node,
       and the procedures defined in [<a href="rfc4601.html" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>] are followed.

   2.  If PIM is enabled and the identified group is a PIM-SSM group,
       all multicast sources known for the group on the Ingress LSR are
       to be forwarded down the MP-LSP.  In this scenario, it is assumed
       that the Ingress LSR is already receiving all the necessary
       traffic.  How the Ingress LSR receives this traffic is outside
       the scope of this document.

   3.  If PIM is not enabled for the identified group, the Ingress LSR
       acts as if it had received a (*,G) IGMP/MLD report from a
       downstream node, and the procedures as defined in [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>] are
       followed.  The Ingress LSR should forward the (*,G) packets to
       the Egress LSR through the MP-LSP identified by the Opaque Value
       TLV.  (See also <a href="#section-4.2">Section 4.2</a>.)



<span class="grey">Wijnands, et al.             Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Procedures%20for%20Wildcard%20Group%20Usage"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Procedures for Wildcard Group Usage</span>

   The decision to use mLDP in-band signaling is made by the IP
   multicast component of an Egress LSR based on provisioned policy.
   The decision to use (or not to use) a wildcard in the IP group
   address subfield of an mLDP Opaque Value TLV is also made by the IP
   multicast component of the Egress LSR, again based on provisioned
   policy.  As the policies needed in any one deployment may be very
   different than the policies needed in another, this document does not
   specify any particular set of policies as being mandatory to
   implement.

   When the Ingress LSR (i.e., the root node of the MP-LSP) receives an
   mLDP Opaque Value TLV that has been defined for in-band signaling,
   the information from the subfields of that TLV is passed to the IP
   multicast component of the Ingress LSR.  If the IP group address
   subfield contains a wildcard, then the Ingress LSR examines its IP
   multicast routing table to find all the IP multicast streams whose IP
   source address is the address specified in the IP source address
   subfield of the TLV.  All these streams SHOULD be forwarded down the
   MP-LSP identified by the Opaque Value TLV.  Note that some of these
   streams may have SSM group addresses, while some may have ASM group
   addresses.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Determining%20the%20MP-LSP%20Root%20%28Ingress%20LSR%29"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Determining the MP-LSP Root (Ingress LSR)</span>

   [<a id="ref-RFC6826" name="ref-RFC6826">RFC6826</a>] and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>] describe procedures by which an Egress LSR
   may determine the MP-LSP root node address corresponding to a given
   (S,G) IP multicast stream.  That determination is based upon the IP
   address of the source ("S") of the multicast stream.  To follow the
   procedures of this document, it is necessary to determine the MP-LSP
   root node corresponding to a given (*,G) set of IP multicast streams.
   The only difference from the above mentioned procedures is that the
   Proxy device or RP address is used instead of the source to discover
   the mLDP root node address.

   Other procedures for determining the root node are also allowed, as
   determined by policy.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Anycast%20RP"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Anycast RP</span>

   In the scenarios where mLDP in-band signaling is used, it is unlikely
   that the RP-to-group mappings are being dynamically distributed over
   the MPLS core.  It is more likely that the RP address is statically
   configured at each multicast site.  In these scenarios, it is
   advisable to configure an Anycast RP address at each site in order to
   provide redundancy.  See [<a href="rfc3446.html" title='"Anycast Rendevous Point (RP) mechanism using Protocol Independent Multicast (PIM) and Multicast Source Discovery Protocol (MSDP)"'>RFC3446</a>] for more details.




<span class="grey">Wijnands, et al.             Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Security%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Security Considerations</span>

   There are no security considerations other than ones already
   mentioned in [<a href="rfc5036.html" title='"LDP Specification"'>RFC5036</a>], [<a href="rfc6826.html" title='"Multipoint LDP In-Band Signaling for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths"'>RFC6826</a>], and [<a href="rfc7246.html" title='"Multipoint Label Distribution Protocol In-Band Signaling in a Virtual Routing and Forwarding (VRF) Table Context"'>RFC7246</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20References"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Normative%20References"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC4601" name="ref-RFC4601">RFC4601</a>]  Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas,
              "Protocol Independent Multicast - Sparse Mode (PIM-SM):
              Protocol Specification (Revised)", <a href="rfc4601.html">RFC 4601</a>, August 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4601">http://www.rfc-editor.org/info/rfc4601</a>&gt;.

   [<a id="ref-RFC4605" name="ref-RFC4605">RFC4605</a>]  Fenner, B., He, H., Haberman, B., and H. Sandick,
              "Internet Group Management Protocol (IGMP) / Multicast
              Listener Discovery (MLD)-Based Multicast Forwarding
              ("IGMP/MLD Proxying")", <a href="rfc4605.html">RFC 4605</a>, August 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4605">http://www.rfc-editor.org/info/rfc4605</a>&gt;.

   [<a id="ref-RFC5036" name="ref-RFC5036">RFC5036</a>]  Andersson, L., Minei, I., and B. Thomas, "LDP
              Specification", <a href="rfc5036.html">RFC 5036</a>, October 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5036">http://www.rfc-editor.org/info/rfc5036</a>&gt;.

   [<a id="ref-RFC6826" name="ref-RFC6826">RFC6826</a>]  Wijnands, IJ., Eckert, T., Leymann, N., and M. Napierala,
              "Multipoint LDP In-Band Signaling for Point-to-Multipoint
              and Multipoint-to-Multipoint Label Switched Paths", <a href="rfc6826.html">RFC</a>
              <a href="rfc6826.html">6826</a>, January 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6826">http://www.rfc-editor.org/info/rfc6826</a>&gt;.

   [<a id="ref-RFC7246" name="ref-RFC7246">RFC7246</a>]  Wijnands, IJ., Hitchen, P., Leymann, N., Henderickx, W.,
              Gulko, A., and J. Tantsura, "Multipoint Label Distribution
              Protocol In-Band Signaling in a Virtual Routing and
              Forwarding (VRF) Table Context", <a href="rfc7246.html">RFC 7246</a>, June 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7246">http://www.rfc-editor.org/info/rfc7246</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20Informative%20References"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-GTM" name="ref-GTM">GTM</a>]      Zhang, J., Giulano, L., Rosen, E., Subramanian, K.,
              Pacella, D., and J. Schiller, "Global Table Multicast with
              BGP-MVPN Procedures", Work in Progress, <a href="https://tools.ietf.org/html/draft-ietf-bess-mvpn-global-table-mcast-00">draft-ietf-bess-</a>
              <a href="https://tools.ietf.org/html/draft-ietf-bess-mvpn-global-table-mcast-00">mvpn-global-table-mcast-00</a>, November 2014.





<span class="grey">Wijnands, et al.             Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


   [<a id="ref-RFC3446" name="ref-RFC3446">RFC3446</a>]  Kim, D., Meyer, D., Kilmer, H., and D. Farinacci, "Anycast
              Rendevous Point (RP) mechanism using Protocol Independent
              Multicast (PIM) and Multicast Source Discovery Protocol
              (MSDP)", <a href="rfc3446.html">RFC 3446</a>, January 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3446">http://www.rfc-editor.org/info/rfc3446</a>&gt;.

   [<a id="ref-RFC3618" name="ref-RFC3618">RFC3618</a>]  Fenner, B. and D. Meyer, "Multicast Source Discovery
              Protocol (MSDP)", <a href="rfc3618.html">RFC 3618</a>, October 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3618">http://www.rfc-editor.org/info/rfc3618</a>&gt;.

   [<a id="ref-RFC5015" name="ref-RFC5015">RFC5015</a>]  Handley, M., Kouvelas, I., Speakman, T., and L. Vicisano,
              "Bidirectional Protocol Independent Multicast (BIDIR-
              PIM)", <a href="rfc5015.html">RFC 5015</a>, October 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5015">http://www.rfc-editor.org/info/rfc5015</a>&gt;.

   [<a id="ref-RFC6513" name="ref-RFC6513">RFC6513</a>]  Rosen, E. and R. Aggarwal, "Multicast in MPLS/BGP IP
              VPNs", <a href="rfc6513.html">RFC 6513</a>, February 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6513">http://www.rfc-editor.org/info/rfc6513</a>&gt;.

   [<a id="ref-RFC6514" name="ref-RFC6514">RFC6514</a>]  Aggarwal, R., Rosen, E., Morin, T., and Y. Rekhter, "BGP
              Encodings and Procedures for Multicast in MPLS/BGP IP
              VPNs", <a href="rfc6514.html">RFC 6514</a>, February 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6514">http://www.rfc-editor.org/info/rfc6514</a>&gt;.

Acknowledgements

   We would like to thank Loa Andersson, Pranjal Dutta, Lizhong Jin, and
   Curtis Villamizar for their review and comments.























<span class="grey">Wijnands, et al.             Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7438.html">RFC 7438</a>          mLDP In-Band Signaling with Wildcards     January 2015</span>


Authors' Addresses

   IJsbrand Wijnands (editor)
   Cisco Systems, Inc.
   De kleetlaan 6a
   Diegem  1831
   Belgium

   EMail: ice@cisco.com


   Eric C. Rosen
   Juniper Networks, Inc.
   10 Technology Park Drive
   Westford, MA  01886
   United States

   EMail: erosen@juniper.net


   Arkadiy Gulko
   Thomson Reuters
   195 Broadway
   New York, NY 10007
   United States

   EMail: arkadiy.gulko@thomsonreuters.com


   Uwe Joorde
   Deutsche Telekom
   Hammer Str. 216-226
   Muenster  D-48153
   Germany

   EMail: Uwe.Joorde@telekom.de


   Jeff Tantsura
   Ericsson
   300 Holger Way
   San Jose, CA  95134
   United States

   EMail: jeff.tantsura@ericsson.com






Wijnands, et al.             Standards Track                   [Page 16]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7438 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:21 GMT --></html>