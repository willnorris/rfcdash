<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc7878 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:23:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129c" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Relation.Replaces" content="draft-ietf-drinks-sppp-over-soap" />
<meta name="DC.Identifier" content="urn:ietf:rfc:7878" />
<meta name="DC.Date.Issued" content="August, 2016" />
<meta name="DC.Creator" content="Cartwright, Kenneth" />
<meta name="DC.Creator" content="Mayrhofer, Alexander" />
<meta name="DC.Creator" content="Bhatia, Vikas" />
<meta name="DC.Description.Abstract" content="The Session Peering Provisioning Framework (SPPF) specifies the data
model and the overall structure to provision Session Establishment
Data (SED) into Session Data Registries and SIP Service Provider data
stores. To utilize this framework, one needs a substrate protocol.
Given that the Simple Object Access Protocol (SOAP) is currently
widely used for messaging between elements of such provisioning
systems, this document specifies the usage of SOAP (via HTTPS) as the
substrate protocol for SPPF. The benefits include leveraging prevalent
expertise and a higher probability that existing provisioning systems
will be able to easily migrate to using an \%SPPF- based protocol." />
<meta name="DC.Title" content="Session Peering Provisioning (SPP) Protocol over SOAP" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 7878 - Session Peering Provisioning (SPP) Protocol over SOAP</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgblue"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7878.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7878" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-drinks-spp-protocol-over-soap" title="draft-ietf-drinks-spp-protocol-over-soap">draft-ietf-drin...</a>] [<a href='https://datatracker.ietf.org/doc/rfc7878' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7878" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7878" title="Side-by-side diff">Diff2</a>]         </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Internet Engineering Task Force (IETF)                     K. Cartwright
Request for Comments: 7878                                     V. Bhatia
Category: Standards Track                                            TNS
ISSN: 2070-1721                                                J-F. Mule
                                                              Apple Inc.
                                                            A. Mayrhofer
                                                             nic.at GmbH
                                                             August 2016


         <span class="h1">Session Peering Provisioning (SPP) Protocol over SOAP</span>

Abstract

   The Session Peering Provisioning Framework (SPPF) specifies the data
   model and the overall structure to provision Session Establishment
   Data (SED) into Session Data Registries and SIP Service Provider data
   stores.  To utilize this framework, one needs a substrate protocol.
   Given that the Simple Object Access Protocol (SOAP) is currently
   widely used for messaging between elements of such provisioning
   systems, this document specifies the usage of SOAP (via HTTPS) as the
   substrate protocol for SPPF.  The benefits include leveraging
   prevalent expertise and a higher probability that existing
   provisioning systems will be able to easily migrate to using an SPPF-
   based protocol.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc7841.html#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7878">http://www.rfc-editor.org/info/rfc7878</a>.












<span class="grey">Cartwright, et al.           Standards Track                    [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  SOAP Features and Protocol Layering . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  HTTP(S) Features and SPPP over SOAP . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-5">5</a>.  Authentication, Integrity, and Confidentiality  . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-6">6</a>.  Language Identification . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-7">7</a>.  SPPP SOAP Data Structures . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-7.1">7.1</a>.  Concrete Object Key Types . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-7.1.1">7.1.1</a>.  Generic Object Key  . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-7.1.2">7.1.2</a>.  Public Identifier Object Key  . . . . . . . . . . . .   <a href="#page-9">9</a>
       <a href="#section-7.1.3">7.1.3</a>.  SED Group Offer Key . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-7.2">7.2</a>.  Operation Request and Response Structures . . . . . . . .  <a href="#page-10">10</a>
       <a href="#section-7.2.1">7.2.1</a>.  Add Operation Structure . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
       <a href="#section-7.2.2">7.2.2</a>.  Delete Operation Structure  . . . . . . . . . . . . .  <a href="#page-13">13</a>
       <a href="#section-7.2.3">7.2.3</a>.  Accept Operation Structure  . . . . . . . . . . . . .  <a href="#page-16">16</a>
       <a href="#section-7.2.4">7.2.4</a>.  Reject Operation Structure  . . . . . . . . . . . . .  <a href="#page-19">19</a>
       <a href="#section-7.2.5">7.2.5</a>.  Batch Operation Structure . . . . . . . . . . . . . .  <a href="#page-22">22</a>
       <a href="#section-7.2.6">7.2.6</a>.  Get Operation Structure . . . . . . . . . . . . . . .  <a href="#page-25">25</a>
       <a href="#section-7.2.7">7.2.7</a>.  Get SED Group Offers Operation Structure  . . . . . .  <a href="#page-26">26</a>
       <a href="#section-7.2.8">7.2.8</a>.  Generic Query Response  . . . . . . . . . . . . . . .  <a href="#page-28">28</a>
       <a href="#section-7.2.9">7.2.9</a>.  Get Server Details Operation Structure  . . . . . . .  <a href="#page-29">29</a>
     <a href="#section-7.3">7.3</a>.  Response Codes and Messages . . . . . . . . . . . . . . .  <a href="#page-30">30</a>
     <a href="#section-7.4">7.4</a>.  Minor Version Identifier  . . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
   <a href="#section-8">8</a>.  Protocol Operations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
   <a href="#section-9">9</a>.  SPPP over SOAP WSDL Definition  . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
   <a href="#section-10">10</a>. SPPP over SOAP Examples . . . . . . . . . . . . . . . . . . .  <a href="#page-44">44</a>
     <a href="#section-10.1">10.1</a>.  Add Destination Group  . . . . . . . . . . . . . . . . .  <a href="#page-44">44</a>
     <a href="#section-10.2">10.2</a>.  Add SED Records  . . . . . . . . . . . . . . . . . . . .  <a href="#page-46">46</a>
     <a href="#section-10.3">10.3</a>.  Add SED Records -- URIType . . . . . . . . . . . . . . .  <a href="#page-47">47</a>
     <a href="#section-10.4">10.4</a>.  Add SED Group  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-49">49</a>
     <a href="#section-10.5">10.5</a>.  Add Public Identifier -- Successful COR Claim  . . . . .  <a href="#page-50">50</a>



<span class="grey">Cartwright, et al.           Standards Track                    [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


     <a href="#section-10.6">10.6</a>.  Add LRN  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-52">52</a>
     <a href="#section-10.7">10.7</a>.  Add TN Range . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-53">53</a>
     <a href="#section-10.8">10.8</a>.  Add TN Prefix  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-54">54</a>
     <a href="#section-10.9">10.9</a>.  Enable Peering -- SED Group Offer  . . . . . . . . . . .  <a href="#page-56">56</a>
     <a href="#section-10.10">10.10</a>. Enable Peering -- SED Group Offer Accept . . . . . . . .  <a href="#page-58">58</a>
     <a href="#section-10.11">10.11</a>. Add Egress Route . . . . . . . . . . . . . . . . . . . .  <a href="#page-60">60</a>
     <a href="#section-10.12">10.12</a>. Remove Peering -- SED Group Offer Reject . . . . . . . .  <a href="#page-61">61</a>
     <a href="#section-10.13">10.13</a>. Get Destination Group  . . . . . . . . . . . . . . . . .  <a href="#page-62">62</a>
     <a href="#section-10.14">10.14</a>. Get Public Identifier  . . . . . . . . . . . . . . . . .  <a href="#page-64">64</a>
     <a href="#section-10.15">10.15</a>. Get SED Group Request  . . . . . . . . . . . . . . . . .  <a href="#page-66">66</a>
     <a href="#section-10.16">10.16</a>. Get SED Group Offers Request . . . . . . . . . . . . . .  <a href="#page-68">68</a>
     <a href="#section-10.17">10.17</a>. Get Egress Route . . . . . . . . . . . . . . . . . . . .  <a href="#page-70">70</a>
     <a href="#section-10.18">10.18</a>. Delete Destination Group . . . . . . . . . . . . . . . .  <a href="#page-72">72</a>
     <a href="#section-10.19">10.19</a>. Delete Public Identifier . . . . . . . . . . . . . . . .  <a href="#page-73">73</a>
     <a href="#section-10.20">10.20</a>. Delete SED Group Request . . . . . . . . . . . . . . . .  <a href="#page-74">74</a>
     <a href="#section-10.21">10.21</a>. Delete SED Group Offers Request  . . . . . . . . . . . .  <a href="#page-75">75</a>
     <a href="#section-10.22">10.22</a>. Delete Egress Route  . . . . . . . . . . . . . . . . . .  <a href="#page-76">76</a>
     <a href="#section-10.23">10.23</a>. Batch Request  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-77">77</a>
   <a href="#section-11">11</a>. Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-80">80</a>
     <a href="#section-11.1">11.1</a>.  Vulnerabilities  . . . . . . . . . . . . . . . . . . . .  <a href="#page-80">80</a>
   <a href="#section-12">12</a>. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-81">81</a>
   <a href="#section-13">13</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-81">81</a>
     <a href="#section-13.1">13.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-81">81</a>
     <a href="#section-13.2">13.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-82">82</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-82">82</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-83">83</a>

<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   SPPF, defined in [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>], is best supported by a transport and
   messaging infrastructure that is connection oriented, is request-
   response oriented, is easily secured, supports propagation through
   firewalls in a standard fashion, and is easily integrated into back-
   office systems.  This is due to the fact that the client side of SPPF
   is likely to be integrated with organizations' operational support
   systems that facilitate transactional provisioning of user addresses
   and their associated SED.  The server side of SPPF is likely to
   reside in a separate organization's network, resulting in the SPPF
   provisioning transactions traversing the Internet as they are
   propagated from the SPPF client to the SPPF server.  Given the
   current state of industry practice and technologies, SOAP and HTTP(S)
   are well suited for this type of environment.  This document
   describes the specification for transporting SPPF XML structures,
   using SOAP and HTTP(S) as substrates.

   The specification in this document for transporting SPPF XML
   structures over SOAP and HTTP(S) is primarily comprised of five
   subjects: (1) a description of any applicable SOAP features, (2) any



<span class="grey">Cartwright, et al.           Standards Track                    [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   applicable HTTP features, (3) security considerations, (4) (perhaps
   most importantly) the Web Services Description Language (WSDL)
   definition for the SPP Protocol over SOAP, and (5) XML Schema
   Definition (XSD) types that are "substrate" specific.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  SOAP Features and Protocol Layering</span>

   The list of SOAP features that are explicitly used and required for
   SPPP over SOAP are limited.  Most SOAP features are not necessary for
   SPPF.  SPPP over SOAP primarily uses SOAP simply as a standard
   message-envelope technology.  The SOAP message envelope is comprised
   of the SOAP header and body.  As described in the SOAP specification
   [<a href="#ref-SOAPREF" title="&quot;SOAP Version 1.2 Part 1: Messaging Framework (Second Edition)&quot;">SOAPREF</a>], the SOAP header can contain optional, application-
   specific, information about the message.  The SOAP body contains the
   SPPF message itself, whose structure is defined by the combination of
   one of the WSDL operations defined in this document and the SPPF XML
   data structures defined in this document and the SPPF document.  SPPF
   does not rely on any data elements in the SOAP header.  All relevant
   data elements are defined in the SPPF XML Schema described in
   [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>] and the SPPF WSDL types specification described in
   <a href="#section-9">Section 9</a> of this document.

   WSDL is a widely standardized and adopted technology for defining the
   top-level structures of the messages that are transported within the
   body of a SOAP message.  The WSDL definition for the SPPF SOAP
   messages is defined later in this document, which imports by
   reference the XML data types contained in the SPPF schema.  The IANA
   registry where the SPPF schema resides is described in "The IETF XML
   Registry" [<a href="rfc3688.html" title="&quot;The IETF XML Registry&quot;">RFC3688</a>].

   There are multiple structural styles that WSDL allows.  The best
   practice for this type of application is what is sometimes referred
   to as the "document/literal wrapped style".  This style is generally
   regarded as an optimal approach that enhances maintainability,
   comprehension, portability, and, to a certain extent, performance.
   It is characterized by setting the soapAction binding style as
   "document", the soapAction encoding style as "literal", and then
   defining the SOAP messages to simply contain a single data element
   that "wraps" a data structure containing all the required input or
   output data elements.  The figure below illustrates this high-level
   technical structure as conceptual layers 3 through 6.




<span class="grey">Cartwright, et al.           Standards Track                    [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


                                 +-------------+
                             (1) |  Transport  |Example:
                                 |  Protocol   |  TCP, TLS, BEEP, etc.
                                 +-------------+
                                        |
                                        V
                                 +-------------+
                             (2) |   Message   |Example:
                                 |   Envelope  | HTTP, SOAP, None, etc.
                                 +-------------+
                                        |
                                        V
                                +--------------+
                           +----|    SOAP      |---+
                           |(3) |  Operation   |   |
                  Contains |    +--------------+   | Contains
                           |        Example:       |
                           V      submitAddRqst    V
                  +--------------+           +-------------+
                  | SOAP Request |           |SOAP Response|
       Example:   |   Message    |  (4)      |   Message   | Example:
       spppAdd    |  (Operation  |           |  (Operation | spppAdd
       RequestMsg |   Input)     |           |   Output)   | ResponseMsg
                  +--------------+           +-------------+
                           |                       |
                  Contains |                       | Contains
                           |                       |
                           V                       V
                  +--------------+          +---------------+
       Example:   |   Wrapped    |  (5)     |    Wrapped    | Example:
       spppAdd    |Request Object|          |Response Object| spppAdd
       Request    +--------------+          +---------------+ Response
                           |                       |
                  Contains |                       | Contains
                           |                       |
                           V                       V
                  +--------------+          +---------------+
                  |    SPPF      |          |     SPPF      |
                  |  XML Types   |  (6)     |   XML Types   |
                  +--------------+          +---------------+

   Legend:
   BEEP = Blocks Extensible Exchange Protocol
   TLS = Transport Layer Security

   Figure 1: Layering and Technical Structure of SPPP over SOAP Messages





<span class="grey">Cartwright, et al.           Standards Track                    [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The operations supported by SPPP over SOAP are normatively defined
   later in this document.  Each SOAP operation defines a request/input
   message and a response/output message.  Each such request and
   response message then contains a single object that wraps the SPPF
   XML data types that comprise the inputs and the outputs,
   respectively, of the SOAP operation.

   SOAP faults are not used by the SPPP over SOAP.  All success and
   error responses are specified in <a href="#section-7.3">Section 7.3</a> of this document.
   However, if a SOAP fault were to occur, perhaps due to failures in
   the SOAP message handling layer of a SOAP library, the client
   application should capture and handle the fault.  Specifics on how to
   handle such SOAP faults, if they should occur, will be specific to
   the chosen SOAP implementation.

   Implementations MUST use SOAP 1.2 [<a href="#ref-SOAPREF" title="&quot;SOAP Version 1.2 Part 1: Messaging Framework (Second Edition)&quot;">SOAPREF</a>] or higher and MUST
   support SOAP 1.2.  Implementations SHOULD use WSDL 1.1 [<a href="#ref-WSDLREF" title="&quot;Web Services Description Language (WSDL) 1.1&quot;">WSDLREF</a>] and
   MUST NOT use earlier versions.  Use of WSDL versions greater than 1.1
   may introduce interoperability problems with implementations that use
   1.1.

   SPPF is a request/reply framework that allows a client application to
   submit provisioning data and query requests to a server.  The SPPF
   data structures are designed to be protocol agnostic.  Concerns
   regarding encryption, non-repudiation, and authentication are beyond
   the scope of this document.  For more details, please refer to
   <a href="#section-4">Section 4</a> ("Transport Substrate Protocol Requirements") of [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>].

   As illustrated in the previous diagram, SPPF can be viewed as a set
   of layers that collectively define the structure of an SPPF request
   and response.  Layers 1 and 2 represent the transport, envelope, and
   authentication technologies.  This document defines layers 3, 4, 5,
   and 6 for SPPP over SOAP.

   1.  Layer 1: The transport protocol layer represents the
       communication mechanism between the client and server.  SPPF can
       be layered over any substrate protocol that provides a set of
       basic requirements defined in <a href="rfc7877.html#section-4">Section&nbsp;4 of [RFC7877]</a>.

   2.  Layer 2: The message-envelope layer is optional but can provide
       features that are above the transport technology layer but below
       the application messaging layer.  Technologies such as HTTP and
       SOAP are examples of message-envelope technologies.

   3.  Layers 3, 4, 5, and 6: The operation and message layers provide
       an envelope-independent and substrate-independent wrapper for the
       SPPF data model objects that are being acted on (created,
       modified, and queried).



<span class="grey">Cartwright, et al.           Standards Track                    [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  HTTP(S) Features and SPPP over SOAP</span>

   While SOAP is not tied to HTTP(S), for reasons described in the
   Introduction, HTTP(S) is a good choice as the substrate protocol for
   the SPP Protocol SOAP messages.  HTTP 1.1 includes the "persistent
   connection" feature, which allows multiple HTTP request/response
   pairs to be transported across a single HTTP connection.  This is an
   important performance optimization feature, particularly when the
   connection is an HTTPS connection where the relatively time-consuming
   TLS handshake has occurred.

   Implementations compliant with this document MUST use HTTP 1.1
   [<a href="rfc7230.html" title="&quot;Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing&quot;">RFC7230</a>] or higher.  Also, implementations SHOULD use persistent
   connections.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Authentication, Integrity, and Confidentiality</span>

   To accomplish authentication, conforming SPPP over SOAP clients and
   servers MUST use HTTP Digest Authentication as defined in [<a href="rfc7235.html" title="&quot;Hypertext Transfer Protocol (HTTP/1.1): Authentication&quot;">RFC7235</a>].

   To achieve integrity and privacy, conforming SPPP over SOAP clients
   and servers MUST support TLS as defined in [<a href="rfc5246.html" title="&quot;The Transport Layer Security (TLS) Protocol Version 1.2&quot;">RFC5246</a>] as the secure
   transport mechanism.  Use of TLS MUST follow the recommendations
   contained in [<a href="rfc7525.html" title="&quot;Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)&quot;">RFC7525</a>]

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  Language Identification</span>

   <a href="rfc7877.html#section-9">Section&nbsp;9 of [RFC7877]</a> requires protocols to provide a mechanism to
   transmit language tags together with human-readable messages.  When
   conforming SPPP SOAP servers use such tagging, the XML "lang"
   attribute ([<a href="#ref-W3C.REC-xml-20081126" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">W3C.REC-xml-20081126</a>], Section 2.12) MUST be used.
   Clients MAY use the HTTP "Accept-Language" header field (see
   <a href="rfc7231.html#section-5.3.5">Section&nbsp;5.3.5 of [RFC7231]</a>) in order to indicate their language
   preference.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  SPPP SOAP Data Structures</span>

   SPPP over SOAP uses a set of XML-based data structures for all the
   supported operations and any parameters to which those operations are
   applied.  As also mentioned earlier in this document, these XML
   structures are envelope independent and substrate independent.  Refer
   to "Protocol Operations" (<a href="#section-8">Section 8</a>) of this document for a
   description of all the operations that MUST be supported.

   The following sections describe the definitions of all the XML data
   structures.





<span class="grey">Cartwright, et al.           Standards Track                    [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-7.1" href="#section-7.1">7.1</a>.  Concrete Object Key Types</span>

   Certain operations in SPPF require an object key that uniquely
   identifies the object(s) on which a given operation needs to be
   performed.  SPPF defines the XML structure of any such object key in
   an abstract manner and delegates the concrete representation to any
   conforming substrate protocol.  The following subsections define the
   various types of concrete object key types used in various operations
   in SPPP over SOAP.

<span class="h4"><a class="selflink" name="section-7.1.1" href="#section-7.1.1">7.1.1</a>.  Generic Object Key</span>

   Most objects in SPPP over SOAP are uniquely identified by the
   attributes in the generic object key (Refer to "Generic Object Key
   Type", <a href="rfc7877.html#section-5.2.1">Section&nbsp;5.2.1 of [RFC7877]</a>, for details).  The concrete XML
   representation of ObjKeyType is as below:

      &lt;complexType name="ObjKeyType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfb:ObjKeyType"&gt;
         &lt;sequence&gt;
          &lt;element name="rant" type="sppfb:OrgIdType"/&gt;
          &lt;element name="name" type="sppfb:ObjNameType"/&gt;
          &lt;element name="type" type="sppfs:ObjKeyTypeEnum"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;

   The ObjKeyType has the data elements as described below:

   o  rant: The identifier of the Registrant organization that owns the
      object.

   o  name: The character string that contains the name of the object.

   o  type: The enumeration value that represents the type of SPPF
      object.  For example, both a Destination Group and a SED Group can
      have the same name "TestObj" and be associated with the same
      Registrant ID.  Hence, to uniquely identify the object that
      represents a Destination Group with the name "TestObj", the type
      "DestGrp" must be specified when using this concrete ObjKeyType
      structure to identify the Destination Group "TestObj".








<span class="grey">Cartwright, et al.           Standards Track                    [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The object types in SPPP over SOAP MUST adhere to the above
   definition of generic object key and are defined as an enumeration in
   the XML data structure as follows:

    &lt;simpleType name="ObjKeyTypeEnum"&gt;
      &lt;restriction base="token"&gt;
        &lt;enumeration value="SedGrp"/&gt;
        &lt;enumeration value="DestGrp"/&gt;
        &lt;enumeration value="SedRec"/&gt;
        &lt;enumeration value="EgrRte"/&gt;
      &lt;/restriction&gt;
    &lt;/simpleType&gt;

<span class="h4"><a class="selflink" name="section-7.1.2" href="#section-7.1.2">7.1.2</a>.  Public Identifier Object Key</span>

   Public Identifier type objects can further be of various sub-types
   like a Telephone Number (TN), Routing Number (RN), TN Prefix, URI, or
   TN Range and cannot be cleanly identified with the attributes in the
   generic ObjKeyType.  The definition of PubIdKeyType is as below:

      &lt;complexType name="PubIdKeyType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfb:PubIdKeyType"&gt;
         &lt;sequence&gt;
          &lt;element name="rant" type="sppfb:OrgIdType"/&gt;
          &lt;choice&gt;
           &lt;element name="number"
           type="sppfb:NumberType"/&gt;
           &lt;element name="range"
            type="sppfb:NumberRangeType"/&gt;
           &lt;element name="uri"
            type="anyURI"/&gt;
          &lt;/choice&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;

   The PubIdKeyType has data elements, as described below:

   o  rant: The identifier of the Registrant organization that owns the
      object.

   o  number: An element of type NumberType (refer to <a href="rfc7877.html#section-12">Section&nbsp;12 of
      [RFC7877]</a>) that contains the value and type of a number.

   o  range: An element of type NumberRangeType (refer to <a href="rfc7877.html#section-12">Section&nbsp;12 of
      [RFC7877]</a>) that contains a range of numbers.



<span class="grey">Cartwright, et al.           Standards Track                    [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   o  uri: A value that represents a Public Identifier.

   Any instance of PubIdKeyType MUST contain exactly one element from
   the following set of elements: "number", "range", "uri".

<span class="h4"><a class="selflink" name="section-7.1.3" href="#section-7.1.3">7.1.3</a>.  SED Group Offer Key</span>

   In addition to the attributes in the generic ObjKeyType, a SED Group
   Offer object is uniquely identified by the organization ID of the
   organization to whom a SED Group has been offered.  The definition of
   SedGrpOfferKeyType is as below:

      &lt;complexType name="SedGrpOfferKeyType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfb:SedGrpOfferKeyType"&gt;
         &lt;sequence&gt;
          &lt;element name="sedGrpKey" type="sppfs:ObjKeyType"/&gt;
          &lt;element name="offeredTo" type="sppfb:OrgIdType"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;

   The SedGrpOfferKeyType has the data elements as described below:

   o  sedGrpKey: Identifies the SED Group that was offered.

   o  offeredTo: The organization ID of the organization that was
      offered the SED Group object identified by the sedGrpKey.

<span class="h3"><a class="selflink" name="section-7.2" href="#section-7.2">7.2</a>.  Operation Request and Response Structures</span>

   An SPPF client interacts with an SPPF server by sending one or more
   requests to the server and by receiving corresponding responses from
   the server.  The basic set of operations that an SPPF client can
   submit to an SPPF server and the semantics of those operations are
   defined in "Framework Operations", <a href="rfc7877.html#section-7">Section&nbsp;7 of [RFC7877]</a>.  The
   following subsections describe the XML data structures that are used
   for each of those types of operations for an SPPP over SOAP
   implementation.

<span class="h4"><a class="selflink" name="section-7.2.1" href="#section-7.2.1">7.2.1</a>.  Add Operation Structure</span>

   In order to add (or modify) an object in the Registry, an authorized
   entity can send the spppAddRequest to the Registry.






<span class="grey">Cartwright, et al.           Standards Track                   [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   An SPPP over SOAP Add request is wrapped within the &lt;spppAddRequest&gt;
   element while an SPPP over SOAP Add response is wrapped within an
   &lt;spppAddResponse&gt; element.  The following sub-sections describe the
   &lt;spppAddRequest&gt; and &lt;spppAddResponse&gt; elements.  Refer to <a href="#section-10">Section 10</a>
   for an example of an Add operation on each type of SPPF object.

<span class="h5"><a class="selflink" name="section-7.2.1.1" href="#section-7.2.1.1">7.2.1.1</a>.  Add Request</span>

   An SPPP over SOAP Add request definition is contained within the
   generic &lt;spppAddRequest&gt; element.

      &lt;element name="spppAddRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
          type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
          type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="obj" type="sppfb:BasicObjType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;spppAddRequest&gt; element are described
   as follows:

   o  clientTransId: Zero or one client-generated transaction ID that,
      within the context of the SPPF client, identifies this request.
      This value can be used at the discretion of the SPPF client to
      track, log, or correlate requests and their responses.  The SPPF
      server MUST echo back this value to the client in the
      corresponding response to the incoming request.  The SPPF server
      will not check this value for uniqueness.

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  obj: One or more elements of abstract type BasicObjType (defined
      in [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>]).  Each element contains all the attributes of an
      SPPF object that the client is requesting the SPPF server to add.
      Refer to <a href="rfc7877.html#section-3.1">Section&nbsp;3.1 of [RFC7877]</a> for the XML structure of all
      concrete types, for various SPPF objects, that extend from
      abstract BasicObjType and hence are eligible to be passed into
      this element.  The elements are processed by the SPPF server in
      the order in which they are included in the request.  With respect
      to the handling of error conditions, conforming SPPP SOAP servers
      MUST stop processing BasicObjType elements in the request at the



<span class="grey">Cartwright, et al.           Standards Track                   [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


      first error and roll back any BasicObjType elements that had
      already been processed for that add request ("stop and roll
      back").

<span class="h5"><a class="selflink" name="section-7.2.1.2" href="#section-7.2.1.2">7.2.1.2</a>.  Add Response</span>

   An SPPP over SOAP add response object is contained within the generic
   &lt;spppAddResponse&gt; element.  This response structure is used for all
   types of SPPF objects that are provisioned by the SPPF client.

     &lt;element name="spppAddResponse"&gt;
       &lt;complexType&gt;
         &lt;sequence&gt;
           &lt;element name="clientTransId" type="sppfb:TransIdType"
            minOccurs="0"/&gt;
           &lt;element name="serverTransId" type="sppfb:TransIdType"/&gt;
           &lt;element name="overallResult" type="sppfs:ResultCodeType"/&gt;
           &lt;element name="detailResult" type="sppfs:ObjResultCodeType"
           minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;/sequence&gt;
       &lt;/complexType&gt;
     &lt;/element&gt;

     &lt;complexType name="ResultCodeType"&gt;
       &lt;sequence&gt;
          &lt;element name="code" type="int"/&gt;
          &lt;element name="msg" type="string"/&gt;
       &lt;/sequence&gt;
     &lt;/complexType&gt;

      &lt;complexType name="ObjResultCodeType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfs:ResultCodeType"&gt;
         &lt;sequence&gt;
          &lt;element name="obj" type="sppfb:BasicObjType"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;

   An &lt;spppAddResponse&gt; contains the elements necessary for the SPPF
   client to precisely determine the overall result of the request, and
   if an error occurs, it provides information about the specific
   object(s) that caused the error.







<span class="grey">Cartwright, et al.           Standards Track                   [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The data elements within the SPPP over SOAP Add response are
   described as follows:

   o  clientTransId: Zero or one client transaction ID.  This value is
      simply an echo of the client transaction ID that the SPPF client
      passed into the SPPF update request.  When included in the
      request, the SPPF server MUST return it in the corresponding
      response message.

   o  serverTransId: Exactly one server transaction ID that identifies
      this request for tracking purposes.  This value MUST be unique for
      a given SPPF server.

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  detailResult: An optional response code, response message, and
      BasicObjType (as defined in [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>]) triplet.  This element will
      be present only if an object-level error has occurred.  It
      indicates the error condition and the exact request object that
      contributed to the error.  The response code will reflect the
      exact error.  See <a href="#section-7.3">Section 7.3</a> for further details.

<span class="h4"><a class="selflink" name="section-7.2.2" href="#section-7.2.2">7.2.2</a>.  Delete Operation Structure</span>

   In order to remove an object from the Registry, an authorized entity
   can send the spppDelRequest into the Registry.  An SPPP over SOAP
   Delete request is wrapped within the &lt;spppDelRequest&gt; element while
   an SPPP over SOAP Delete response is wrapped within the generic
   &lt;spppDelResponse&gt; element.  The following subsections describe the
   &lt;spppDelRequest&gt; and &lt;spppDelResponse&gt; elements.  Refer to <a href="#section-10">Section 10</a>
   for an example of the Delete operation on each type of SPPF object.


















<span class="grey">Cartwright, et al.           Standards Track                   [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.2.1" href="#section-7.2.2.1">7.2.2.1</a>.  Delete Request</span>

   An SPPP over SOAP Delete request definition is contained within the
   generic &lt;spppDelRequest&gt; element.

      &lt;element name="spppDelRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
        &lt;element name="objKey" type="sppfb:ObjKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;spppDelRequest&gt; element are described
   as follows:

   o  clientTransId: Zero or one client-generated transaction ID that,
      within the context of the SPPF client, identifies this request.
      This value can be used at the discretion of the SPPF client to
      track, log, or correlate requests and their responses.  The SPPF
      server MUST echo back this value to the client in the
      corresponding response to the incoming request.  SPPF server will
      not check this value for uniqueness.

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  objKey: One or more elements of abstract type ObjKeyType (as
      defined in [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>]).  Each element contains attributes that
      uniquely identify the object that the client is requesting the
      server to delete.  Refer to <a href="#section-7.1">Section 7.1</a> for a description of all
      concrete object key types, for various SPPF objects, which are
      eligible to be passed into this element.  The elements are
      processed by the SPPF server in the order in which they are
      included in the request.  With respect to the handling of error
      conditions, conforming SPPP SOAP servers MUST stop processing
      ObjKeyType elements in the request at the first error and roll
      back any ObjKeyType elements that had already been processed for
      that Delete request ("stop and roll back").







<span class="grey">Cartwright, et al.           Standards Track                   [Page 14]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.2.2" href="#section-7.2.2.2">7.2.2.2</a>.  Delete Response</span>

   An SPPP over SOAP delete response object is contained within the
   generic &lt;sppDeleteResponse&gt; element.  This response structure is used
   for a Delete request on all types of SPPF objects that are
   provisioned by the SPPF client.

   &lt;element name="spppDelResponse"&gt;
    &lt;complexType&gt;
     &lt;sequence&gt;
      &lt;element name="clientTransId" type="sppfb:TransIdType"
               minOccurs="0"/&gt;
      &lt;element name="serverTransId" type="sppfb:TransIdType"/&gt;
      &lt;element name="overallResult" type="sppfs:ResultCodeType"/&gt;
      &lt;element name="detailResult" type="sppfs:ObjKeyResultCodeType"
               minOccurs="0" maxOccurs="unbounded"/&gt;
     &lt;/sequence&gt;
    &lt;/complexType&gt;
   &lt;/element&gt;

   &lt;complexType name="ResultCodeType"&gt;
    &lt;sequence&gt;
     &lt;element name="code" type="int"/&gt;
     &lt;element name="msg" type="string"/&gt;
    &lt;/sequence&gt;
   &lt;/complexType&gt;

   &lt;complexType name="ObjKeyResultCodeType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="sppfs:ResultCodeType"&gt;
      &lt;sequence&gt;
       &lt;element name="objKey" type="sppfb:ObjKeyType"/&gt;
      &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
   &lt;/complexType&gt;

   An &lt;spppDelResponse&gt; contains the elements necessary for the SPPF
   client to precisely determine the overall result of the request, and
   if an error occurs, it provides information about the specific object
   key(s) that caused the error.










<span class="grey">Cartwright, et al.           Standards Track                   [Page 15]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-16" id="page-16" href="#page-16" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The data elements within the SPPP over SOAP Delete response are
   described as follows:

   o  clientTransId: Zero or one client transaction ID.  This value is
      simply an echo of the client transaction ID that the SPPF client
      passed into the SPPF update request.  When included in the
      request, the SPPF server MUST return it in the corresponding
      response message.

   o  serverTransId: Exactly one server transaction ID that identifies
      this request for tracking purposes.  This value MUST be unique for
      a given SPPF server.

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  detailResult: An optional response code, response message, and
      ObjKeyType (as defined in [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>]) triplet.  This element will
      be present only if a specific object key level error has occurred.
      It indicates the error condition and the exact request object key
      that contributed to the error.  The response code will reflect the
      exact error.  See <a href="#section-7.3">Section 7.3</a> for further details.

<span class="h4"><a class="selflink" name="section-7.2.3" href="#section-7.2.3">7.2.3</a>.  Accept Operation Structure</span>

   In SPPF, a SED Group Offer can be accepted or rejected by, or on
   behalf of, the Registrant to whom the SED Group has been offered
   (refer to <a href="rfc7877.html#section-3.1">Section&nbsp;3.1 of [RFC7877]</a> for a description of the SED Group
   Offer object).  The Accept operation is used to accept such SED Group
   Offers by, or on behalf of, the Registrant.  The request structure
   for an SPPP over SOAP Accept operation is wrapped within the
   &lt;spppAcceptRequest&gt; element while an SPPP over SOAP Accept response
   is wrapped within the generic &lt;spppAcceptResponse&gt; element.  The
   following subsections describe the &lt;spppAcceptRequest&gt; and
   &lt;spppAcceptResponse&gt; elements.  Refer to <a href="#section-10">Section 10</a> for an example of
   the Accept operation on a SED Group Offer.














<span class="grey">Cartwright, et al.           Standards Track                   [Page 16]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-17" id="page-17" href="#page-17" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.3.1" href="#section-7.2.3.1">7.2.3.1</a>.  Accept Request Structure</span>

   An SPPP over SOAP Accept request definition is contained within the
   generic &lt;sppAcceptRequest&gt; element.

      &lt;element name="spppAcceptRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="sedGrpOfferKey"
         type="sppfs:SedGrpOfferKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;spppAcceptRequest&gt; element are
   described as follows:

   o  clientTransId: Zero or one client-generated transaction ID that,
      within the context of the SPPF client, identifies this request.
      This value can be used at the discretion of the SPPF client to
      track, log, or correlate requests and their responses.  The SPPF
      server MUST echo back this value to the client in the
      corresponding response to the incoming request.  The SPPF server
      will not check this value for uniqueness.

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  sedGrpOfferKey: One or more elements of type SedGrpOfferKeyType
      (as defined in this document).  Each element contains attributes
      that uniquely identify a SED Group Offer that the client is
      requesting the server to accept.  The elements are processed by
      the SPPF server in the order in which they are included in the
      request.  With respect to the handling of error conditions,
      conforming SPPP SOAP servers MUST stop processing
      SedGrpOfferKeyType elements in the request at the first error and
      roll back any SedGrpOfferKeyType elements that had already been
      processed for that Accept request ("stop and roll back").








<span class="grey">Cartwright, et al.           Standards Track                   [Page 17]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-18" id="page-18" href="#page-18" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.3.2" href="#section-7.2.3.2">7.2.3.2</a>.  Accept Response</span>

   An SPPP over SOAP accept response structure is contained within the
   generic &lt;sppAcceptResponse&gt; element.  This response structure is used
   for an Accept request on a SED Group Offer.

   &lt;element name="spppAcceptResponse"&gt;
    &lt;complexType&gt;
     &lt;sequence&gt;
      &lt;element name="clientTransId" type="sppfb:TransIdType"
               minOccurs="0"/&gt;
      &lt;element name="serverTransId" type="sppfb:TransIdType"/&gt;
      &lt;element name="overallResult" type="sppfs:ResultCodeType"/&gt;
      &lt;element name="detailResult"
               type="sppfs:SedGrpOfferKeyResultCodeType"
               minOccurs="0" maxOccurs="unbounded"/&gt;
     &lt;/sequence&gt;
    &lt;/complexType&gt;
   &lt;/element&gt;

   &lt;complexType name="ResultCodeType"&gt;
    &lt;sequence&gt;
     &lt;element name="code" type="int"/&gt;
     &lt;element name="msg" type="string"/&gt;
    &lt;/sequence&gt;
   &lt;/complexType&gt;

   &lt;complexType name="SedGrpOfferKeyResultCodeType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="sppfs:ResultCodeType"&gt;
      &lt;sequence&gt;
       &lt;element name="sedGrpOfferKey" type="sppfs:SedGrpOfferKeyType"/&gt;
      &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
   &lt;/complexType&gt;

   An &lt;spppAcceptResponse&gt; contains the elements necessary for the SPPF
   client to precisely determine the overall result of the request, and
   if an error occurs, it provides information about the specific SED
   Group Offer key(s) that caused the error.










<span class="grey">Cartwright, et al.           Standards Track                   [Page 18]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-19" id="page-19" href="#page-19" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The data elements within the SPPP over SOAP Accept response are
   described as follows:

   o  clientTransId: Zero or one client transaction ID.  This value is
      simply an echo of the client transaction ID that the SPPF client
      passed into the SPPF update request.  When included in the
      request, the SPPF server MUST return it in the corresponding
      response message.

   o  serverTransId: Exactly one server transaction ID that identifies
      this request for tracking purposes.  This value MUST be unique for
      a given SPPF server.

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  detailResult: An optional response code, response message, and
      SedGrpOfferKeyType (as defined in this document) triplet.  This
      element will be present only if any specific SED Group Offer key
      level error has occurred.  It indicates the error condition and
      the exact request SED Group Offer key that contributed to the
      error.  The response code will reflect the exact error.  See
      <a href="#section-7.3">Section 7.3</a> for further details.

<span class="h4"><a class="selflink" name="section-7.2.4" href="#section-7.2.4">7.2.4</a>.  Reject Operation Structure</span>

   In SPPF, a SED Group Offer can be accepted or rejected by, or on
   behalf of, the Registrant to whom the SED Group has been offered
   (refer to "Framework Data Model Objects", <a href="rfc7877.html#section-6">Section&nbsp;6 of [RFC7877]</a> for
   a description of the SED Group Offer object).  The Reject operation
   is used to reject such SED Group Offers by, or on behalf of, the
   Registrant.  The request structure for an SPPP over SOAP Reject
   operation is wrapped within the &lt;spppRejectRequest&gt; element while an
   SPPP over SOAP Reject response is wrapped within the generic
   &lt;spppRejecResponse&gt; element.  The following subsections describe the
   &lt;spppRejectRequest&gt; and &lt;spppRejecResponse&gt; elements.  Refer to
   <a href="#section-10">Section 10</a> for an example of the Reject operation on a SED Group
   Offer.












<span class="grey">Cartwright, et al.           Standards Track                   [Page 19]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-20" id="page-20" href="#page-20" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.4.1" href="#section-7.2.4.1">7.2.4.1</a>.  Reject Request</span>

   An SPPP over SOAP Reject request definition is contained within the
   generic &lt;spppRejectRequest&gt; element.

      &lt;element name="spppRejectRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="sedGrpOfferKey"
         type="sppfs:SedGrpOfferKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;spppRejectRequest&gt; element are
   described as follows:

   o  clientTransId: Zero or one client-generated transaction ID that,
      within the context of the SPPF client, identifies this request.
      This value can be used at the discretion of the SPPF client to
      track, log, or correlate requests and their responses.  The SPPF
      server MUST echo back this value to the client in the
      corresponding response to the incoming request.  The SPPF server
      will not check this value for uniqueness.

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  sedGrpOfferKey: One or more elements of type SedGrpOfferKeyType
      (as defined in this document).  Each element contains attributes
      that uniquely identify a SED Group Offer that the client is
      requesting the server to reject.  The elements are processed by
      the SPPF server in the order in which they are included in the
      request.  With respect to the handling of error conditions,
      conforming SPPF servers MUST stop processing SedGrpOfferKeyType
      elements in the request at the first error and roll back any
      SedGrpOfferKeyType elements that had already been processed for
      that Reject request ("stop and roll back").








<span class="grey">Cartwright, et al.           Standards Track                   [Page 20]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-21" id="page-21" href="#page-21" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.4.2" href="#section-7.2.4.2">7.2.4.2</a>.  Reject Response</span>

   An SPPP over SOAP reject response structure is contained within the
   generic &lt;sppRejectResponse&gt; element.  This response structure is used
   for a Reject request on a SED Group Offer.

   &lt;element name="spppRejectResponse"&gt;
    &lt;complexType&gt;
     &lt;sequence&gt;
      &lt;element name="clientTransId" type="sppfb:TransIdType"
               minOccurs="0"/&gt;
      &lt;element name="serverTransId" type="sppfb:TransIdType"/&gt;
      &lt;element name="overallResult" type="sppfs:ResultCodeType"/&gt;
      &lt;element name="detailResult"
               type="sppfs:SedGrpOfferKeyResultCodeType"
               minOccurs="0" maxOccurs="unbounded"/&gt;
     &lt;/sequence&gt;
    &lt;/complexType&gt;
   &lt;/element&gt;

   &lt;complexType name="ResultCodeType"&gt;
    &lt;sequence&gt;
     &lt;element name="code" type="int"/&gt;
     &lt;element name="msg" type="string"/&gt;
    &lt;/sequence&gt;
   &lt;/complexType&gt;

   &lt;complexType name="SedGrpOfferKeyResultCodeType"&gt;
    &lt;complexContent&gt;
     &lt;extension base="sppfs:ResultCodeType"&gt;
      &lt;sequence&gt;
       &lt;element name="sedGrpOfferKey" type="sppfs:SedGrpOfferKeyType"/&gt;
      &lt;/sequence&gt;
     &lt;/extension&gt;
    &lt;/complexContent&gt;
   &lt;/complexType&gt;

   An &lt;spppRejectResponse&gt; contains the elements necessary for the SPPF
   client to precisely determine the overall result of the request, and
   if an error occurs, it provides information about the specific SED
   Group Offer key(s) that caused the error.










<span class="grey">Cartwright, et al.           Standards Track                   [Page 21]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-22" id="page-22" href="#page-22" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The data elements within the SPPP over SOAP Reject response are
   described as follows:

   o  clientTransId: Zero or one client transaction ID.  This value is
      simply an echo of the client transaction ID that the SPPF client
      passed into the SPPF update request.  When included in the
      request, the SPPF server MUST return it in the corresponding
      response message.

   o  serverTransId: Exactly one server transaction ID that identifies
      this request for tracking purposes.  This value MUST be unique for
      a given SPPF server.

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  detailResult: An optional response code, response message, and
      SedGrpOfferKeyType (as defined in this document) triplet.  This
      element will be present only if any specific SED Group Offer key
      level error has occurred.  It indicates the error condition and
      the exact request SED Group Offer key that contributed to the
      error.  The response code will reflect the exact error.  See
      <a href="#section-7.3">Section 7.3</a> for further details.

<span class="h4"><a class="selflink" name="section-7.2.5" href="#section-7.2.5">7.2.5</a>.  Batch Operation Structure</span>

   An SPPP over SOAP Batch request XML structure allows the SPPF client
   to send any of the Add, Del, Accept, or Reject operations together in
   one single request.  This gives an SPPF client the flexibility to use
   one single request structure to perform more than operations (verbs).
   The batch request structure is wrapped within the &lt;spppBatchRequest&gt;
   element while an SPPF Batch response is wrapped within the
   &lt;spppBatchResponse&gt; element.  The following subsections describe the
   &lt;spppBatchRequest&gt; and &lt;spppBatchResponse&gt; elements.  Refer to
   <a href="#section-10">Section 10</a> for an example of a Batch operation.















<span class="grey">Cartwright, et al.           Standards Track                   [Page 22]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-23" id="page-23" href="#page-23" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.5.1" href="#section-7.2.5.1">7.2.5.1</a>.  Batch Request Structure</span>

   An SPPP over SOAP Batch request definition is contained within the
   generic &lt;spppBatchRequest&gt; element.

       &lt;element name="spppBatchRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
          &lt;choice minOccurs="1" maxOccurs="unbounded"&gt;
           &lt;element name="addObj" type="sppfb:BasicObjType"/&gt;
           &lt;element name="delObj" type="sppfb:ObjKeyType"/&gt;
           &lt;element name="acceptSedGrpOffer"
           type="sppfs:SedGrpOfferKeyType"/&gt;
           &lt;element name="rejectSedGrpOffer"
           type="sppfs:SedGrpOfferKeyType"/&gt;
          &lt;/choice&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;sppBatchRequest&gt; element are described
   as follows:

   o  clientTransId: Zero or one client-generated transaction ID that,
      within the context of the SPPF client, identifies this request.
      This value can be used at the discretion of the SPPF client to
      track, log, or correlate requests and their responses.  The SPPF
      server MUST echo back this value to the client in the
      corresponding response to the incoming request.  The SPPF server
      will not check this value for uniqueness.

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  addObj: One or more elements of abstract type BasicObjType where
      each element identifies an object that needs to be added.

   o  delObj: One or more elements of abstract type ObjKeyType where
      each element identifies a key for the object that needs to be
      deleted .

   o  acceptSedGrpOffer: One or more elements of type SedGrpOfferKeyType
      where each element identifies a SED Group Offer that needs to be
      accepted.



<span class="grey">Cartwright, et al.           Standards Track                   [Page 23]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-24" id="page-24" href="#page-24" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   o  rejectSedGrpOffer: One or more elements of type SedGrpOfferKeyType
      where each element identifies a SED Group Offer that needs to be
      rejected.

   With respect to the handling of error conditions, conforming SPPP
   SOAP servers MUST stop processing elements in the request at the
   first error and roll back any elements that had already been
   processed for that Batch request ("stop and roll back").

<span class="h5"><a class="selflink" name="section-7.2.5.2" href="#section-7.2.5.2">7.2.5.2</a>.  Batch Response</span>

   An SPPP over SOAP batch response structure is contained within the
   generic &lt;sppBatchResponse&gt; element.  This response structure is used
   for a Batch request that contains many different types of SPPF
   operations.

     &lt;element name="spppBatchResponse"&gt;
       &lt;complexType&gt;
         &lt;sequence&gt;
           &lt;element name="clientTransId" type="sppfb:TransIdType"
            minOccurs="0"/&gt;
           &lt;element name="serverTransId" type="sppfb:TransIdType"/&gt;
           &lt;element name="overallResult" type="sppfs:ResultCodeType"/&gt;
           &lt;choice minOccurs="0" maxOccurs="unbounded"&gt;
              &lt;element name="addResult"
              type="sppfs:ObjResultCodeType"/&gt;
              &lt;element name="delResult"
              type="sppfs:ObjKeyResultCodeType"/&gt;
              &lt;element name="acceptResult"
              type="sppfs:SedGrpOfferKeyResultCodeType"/&gt;
              &lt;element name="rejectResult"
              type="sppfs:SedGrpOfferKeyResultCodeType"/&gt;
            &lt;/choice&gt;
         &lt;/sequence&gt;
       &lt;/complexType&gt;
     &lt;/element&gt;

   An &lt;spppBatchResponse&gt; contains the elements necessary for an SPPF
   client to precisely determine the overall result of various
   operations in the request, and if an error occurs, it provides
   information about the specific objects or keys in the request that
   caused the error.









<span class="grey">Cartwright, et al.           Standards Track                   [Page 24]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-25" id="page-25" href="#page-25" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The data elements within the SPPP over SOAP Batch response are
   described as follows:

   o  clientTransId: Zero or one client transaction ID.  This value is
      simply an echo of the client transaction ID that the SPPF client
      passed into the SPPF update request.  When included in the
      request, the SPPF server MUST return it in the corresponding
      response message.

   o  serverTransId: Exactly one server transaction ID that identifies
      this request for tracking purposes.  This value MUST be unique for
      a given SPPF server.

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  addResult: One or more elements of type ObjResultCodeType where
      each element identifies the result code, result message, and the
      specific object to which the result relates.

   o  delResult: One or more elements of type ObjKeyResultCodeType where
      each element identifies the result code, result message, and the
      specific object key to which the result relates.

   o  acceptResult: One or more elements of type
      SedGrpOfferKeyResultCodeType where each element identifies the
      result code, result message, and the specific SED Group Offer key
      to which the result relates.

   o  rejectResult: One or more elements of type
      SedGrpOfferKeyResultCodeType where each element identifies the
      result code, result message, and the specific SED Group Offer key
      to which the result relates.

<span class="h4"><a class="selflink" name="section-7.2.6" href="#section-7.2.6">7.2.6</a>.  Get Operation Structure</span>

   In order to query the details of an object from the Registry, an
   authorized entity can send the spppGetRequest to the Registry with a
   GetRqstType XML data structure containing one or more object keys
   that uniquely identify the object whose details are being queried.
   The following subsections describe the &lt;spppGetRequest&gt; and
   &lt;spppGetResponse&gt; elements.  Refer to <a href="#section-10">Section 10</a> for an example of
   the SPPP over SOAP Get operation on each type of SPPF object.







<span class="grey">Cartwright, et al.           Standards Track                   [Page 25]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-26" id="page-26" href="#page-26" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.6.1" href="#section-7.2.6.1">7.2.6.1</a>.  Get Request</span>

   The request structure for an SPPP over SOAP Get operation is
   contained within the generic &lt;spppGetRequest&gt; element:

      &lt;element name="spppGetRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="objKey"
         type="sppfb:ObjKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;spppGetRequest&gt; element are described
   as follows:

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  objKey: One or more elements of abstract type ObjKeyType (as
      defined in [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>]).  Each element contains attributes that
      uniquely identify the object that the client is requesting the
      server to query.  Refer to <a href="#section-7.1">Section 7.1</a> of this document for a
      description of all concrete object key types, for various SPPF
      objects, which are eligible to be passed into this element.

<span class="h5"><a class="selflink" name="section-7.2.6.2" href="#section-7.2.6.2">7.2.6.2</a>.  Get Response</span>

   The SPPP over SOAP Get response is wrapped within the generic
   &lt;spppGetResponse&gt; element, as described in <a href="#section-7.2.8">Section 7.2.8</a>.

<span class="h4"><a class="selflink" name="section-7.2.7" href="#section-7.2.7">7.2.7</a>.  Get SED Group Offers Operation Structure</span>

   In addition to the ability to query the details of one or more SED
   Group Offers using a SED Group Offer key in the spppGetRequest, this
   operation also provides an additional, more flexible, structure to
   query for SED Group Offer objects.  This additional structure is
   contained within the &lt;getSedGrpOffersRequest&gt; element while the
   response is wrapped within the generic &lt;spppGetResponse&gt; element.
   The following subsections describe the &lt;getSedGrpOffersRequest&gt; and
   &lt;spppGetResponse&gt; elements.






<span class="grey">Cartwright, et al.           Standards Track                   [Page 26]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-27" id="page-27" href="#page-27" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h5"><a class="selflink" name="section-7.2.7.1" href="#section-7.2.7.1">7.2.7.1</a>.  Get SED Group Offers Request</span>

   Using the details passed into this structure, the server will attempt
   to find SED Group Offer objects that satisfy all the criteria passed
   into the request.  If no criteria are passed in, then the SPPF server
   will return the list of SED Group Offer objects that belong to the
   Registrant.  If there are no matching SED Group Offers found, then an
   empty result set will be returned.

       &lt;element name="getSedGrpOffersRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="minorVer" type="sppfb:MinorVerType"
         minOccurs="0"/&gt;
        &lt;element name="offeredBy" type="sppfb:OrgIdType"
        minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;element name="offeredTo" type="sppfb:OrgIdType"
        minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;element name="status" type="sppfb:SedGrpOfferStatusType"
         minOccurs="0"/&gt;
        &lt;element name="sedGrpOfferKey" type="sppfs:SedGrpOfferKeyType"
        minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;getSedGrpOffersRequest&gt; element are
   described as follows:

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

   o  offeredBy: Zero or more organization IDs.  Only offers that are
      offered to the organization IDs in this list should be included in
      the result set.  The result set is also subject to other query
      criteria in the request.

   o  offeredTo: Zero or more organization IDs.  Only offers that are
      offered by the organization IDs in this list should be included in
      the result set.  The result set is also subject to other query
      criteria in the request.

   o  status: The status of the offer, offered or accepted.  Only offers
      in the specified status should be included in the result set.  If
      this element is not present, then the status of the offer should
      not be considered in the query.  The result set is also subject to
      other query criteria in the request.




<span class="grey">Cartwright, et al.           Standards Track                   [Page 27]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-28" id="page-28" href="#page-28" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   o  sedGrpOfferKey: Zero or more SED Group Offer keys.  Only offers
      having one of these keys should be included in the result set.
      The result set is also subject to other query criteria in the
      request.

<span class="h5"><a class="selflink" name="section-7.2.7.2" href="#section-7.2.7.2">7.2.7.2</a>.  Get SED Group Offers Response</span>

   The spppGetResponse element is described in <a href="#section-7.2.8">Section 7.2.8</a>.

<span class="h4"><a class="selflink" name="section-7.2.8" href="#section-7.2.8">7.2.8</a>.  Generic Query Response</span>

   An SPPP over SOAP query response object is contained within the
   generic &lt;spppGetResponse&gt; element.

      &lt;element name="spppGetResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="resultObj"
         type="sppfb:BasicObjType"
         minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   An &lt;spppGetResponse&gt; contains the elements necessary for the SPPF
   client to precisely determine the overall result of the query and
   details of any SPPF objects that matched the criteria in the request.

   The data elements within the SPPP over SOAP query response are
   described as follows:

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  resultObj: The set of zero or more objects that matched the query
      criteria.  If no objects matched the query criteria, then the
      result object(s) MUST be empty and the overallResult value MUST
      indicate success (if no matches are found for the query criteria,
      the response is considered a success).









<span class="grey">Cartwright, et al.           Standards Track                   [Page 28]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-29" id="page-29" href="#page-29" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h4"><a class="selflink" name="section-7.2.9" href="#section-7.2.9">7.2.9</a>.  Get Server Details Operation Structure</span>

   In order to query certain details of the SPPF server, such as the
   SPPF server's status and the major/minor version supported by the
   server, the Server Details operation structure SHOULD be used.  This
   structure is contained within the &lt;spppServerStatusRequest&gt; element
   whereas an SPPF server status response is wrapped within the
   &lt;spppServerStatusResponse&gt; element.  The following subsections
   describe the &lt;spppServerStatusRequest&gt; and &lt;spppServerStatusResponse&gt;
   elements.

<span class="h5"><a class="selflink" name="section-7.2.9.1" href="#section-7.2.9.1">7.2.9.1</a>.  Get Server Details Request</span>

   An SPPP over SOAP server details request structure is represented in
   the &lt;spppServerStatusRequest&gt; element as follows:

      &lt;element name="spppServerStatusRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;

   The data elements within the &lt;spppServerStatusRequest&gt; element are
   described as follows:

   o  minorVer: Zero or one minor version identifier, as defined in
      <a href="#section-7.4">Section 7.4</a>.

<span class="h5"><a class="selflink" name="section-7.2.9.2" href="#section-7.2.9.2">7.2.9.2</a>.  Get Server Details Response</span>

   An SPPP over SOAP server details response structure is contained
   within the generic &lt;spppServerStatusResponse&gt; element.

      &lt;element name="spppServerStatusResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="overallResult" type="sppfs:ResultCodeType"/&gt;
         &lt;element name="svcMenu" type="sppfb:SvcMenuType"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;







<span class="grey">Cartwright, et al.           Standards Track                   [Page 29]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-30" id="page-30" href="#page-30" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The data elements within the &lt;spppServerStatusResponse&gt; element are
   described as follows:

   o  overallResult: Exactly one response code and message pair that
      explicitly identifies the result of the request.  See <a href="#section-7.3">Section 7.3</a>
      for further details.

   o  svcMenu: Exactly one element of type SvcMenuType that, in turn,
      contains the elements to return the server status, the major and
      minor versions of SPPP over SOAP supported by the SPPF server
      (refer to <a href="rfc7877.html#section-12">Section&nbsp;12 of [RFC7877]</a> for the definition of
      SvcMenuType).

<span class="h3"><a class="selflink" name="section-7.3" href="#section-7.3">7.3</a>.  Response Codes and Messages</span>

   This section contains the listing of response codes and their
   corresponding human-readable text.  These response codes are in
   conformance with the response types defined in <a href="rfc7877.html#section-5.3">Section&nbsp;5.3 of
   [RFC7877]</a>.

   The response code numbering scheme generally adheres to the theory
   formalized in <a href="rfc5321.html#section-4.2.1">Section&nbsp;4.2.1 of [RFC5321]</a>:

   o  The first digit of the response code can only be 1 or 2: 1 = a
      positive result, and 2 = a negative result.

   o  The second digit of the response code indicates the category: 0 =
      Protocol Syntax, 1 = Implementation Specific Business Rule, 2 =
      Security, and 3 = Server System.

   o  The third and fourth digits of the response code indicate the
      individual message event within the category defined by the first
      two digits.

   The response codes are also categorized as to whether they are
   overall response codes that may only be returned in the overallResult
   data element in SPPF responses or object-level response codes that
   may only be returned in the detailResult element of the SPPF
   responses.












<span class="grey">Cartwright, et al.           Standards Track                   [Page 30]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-31" id="page-31" href="#page-31" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   +--------+--------------------------+-------------------------------+
   | Result | Result Message           | Overall or Object Level       |
   | Code   |                          |                               |
   +--------+--------------------------+-------------------------------+
   | 1000   | Request succeeded        | Overall Response Code         |
   | 2000   | Request syntax invalid   | Overall Response Code         |
   | 2001   | Request too large        | Overall Response Code         |
   |        | MaxSupported:[Maximum    |                               |
   |        | requests supported]      |                               |
   | 2002   | Version not supported    | Overall Response Code         |
   | 2100   | Command invalid          | Overall Response Code         |
   | 2300   | System temporarily       | Overall Response Code         |
   |        | unavailable              |                               |
   | 2301   | Unexpected internal      | Overall Response Code         |
   |        | system or server error   |                               |
   | 2101   | Attribute value invalid  | Object-Level Response Code    |
   |        | AttrName:[AttributeName] |                               |
   |        | AttrVal:[AttributeValue] |                               |
   | 2102   | Object does not exist    | Object-Level Response Code    |
   |        | AttrName:[AttributeName] |                               |
   |        | AttrVal:[AttributeValue] |                               |
   | 2103   | Object status or         | Object-Level Response Code    |
   |        | ownership does not allow |                               |
   |        | for operation            |                               |
   |        | AttrName:[AttributeName] |                               |
   |        | AttrVal:[AttributeValue] |                               |
   +--------+--------------------------+-------------------------------+

           Table 1: Response Code Numbering Scheme and Messages

   The response message for response code 2001 is "parameterized" with
   the following parameter: "[Maximum requests supported]".  When the
   request is too large, this parameter MUST be used to indicate the
   maximum number of requests supported by the server in a single
   protocol operation.

   Response code 2000 SHOULD be used when the XML Schema validation of
   requests fails.

   Each of the object-level response messages are "parameterized" with
   the following parameters: "AttributeName" and "AttributeValue".

   For example, if an SPPF client sends a request to delete a
   Destination Group with a name "TestDG", and it does not already
   exist, then the error message returned should be: "Attribute value
   invalid.  AttrName:dgName AttrVal:TestDG".





<span class="grey">Cartwright, et al.           Standards Track                   [Page 31]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-32" id="page-32" href="#page-32" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The use of these parameters MUST adhere to the rules defined in
   <a href="rfc7877.html#section-5.3">Section&nbsp;5.3 of [RFC7877]</a>.

<span class="h3"><a class="selflink" name="section-7.4" href="#section-7.4">7.4</a>.  Minor Version Identifier</span>

   The minor version identifier element is defined as follows:

   o  minorVer: Zero or one minor version identifier, indicating the
      minor version of the SPPP over SOAP API that the client is
      attempting to use.  This is used in conjunction with the major
      version identifier in the XML Namespace to identify the version of
      SPPP over SOAP that the client is using.  If the element is not
      present, the server assumes that the client is using the latest
      minor version of SPPP over SOAP supported by the SPPF server for
      the given major version.  The versions of SPPP over SOAP supported
      by a given SPPF server can be retrieved by the client using this
      same spppServerStatusRequest without passing in the minorVer
      element.

<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  Protocol Operations</span>

   Refer to <a href="rfc7877.html#section-7">Section&nbsp;7 of [RFC7877]</a> for a description of all SPPF
   operations and any necessary semantics that MUST be adhered to in
   order to conform with SPPF.

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  SPPP over SOAP WSDL Definition</span>

   The SPPP over SOAP WSDL and data types are defined below.  The WSDL
   design approach is commonly referred to as "Generic WSDL".  It is
   generic in the sense that there is not a specific WSDL operation
   defined for each object type that is supported by the SPPF protocol.
   There is a single WSDL structure for each type of SPPF operation.
   Each such WSDL structure contains exactly one input structure and one
   output structure that wraps any data elements that are part of the
   incoming request and the outgoing response, respectively.  The
   spppSOAPBinding in the WSDL defines the binding style as "document"
   and the encoding as "literal".  It is this combination of "wrapped"
   input and output data structures, "document" binding style, and
   "literal" encoding that characterize the Document Literal Wrapped
   style of WSDL specifications.

   Notes: The following WSDL has been formatted (e.g., tabs, spaces) to
   meet IETF requirements.  Deployments MUST replace
   "REPLACE_WITH_ACTUAL_URL" in the WSDL below with the URI of the SPPF
   server instance.






<span class="grey">Cartwright, et al.           Standards Track                   [Page 32]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-33" id="page-33" href="#page-33" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;wsdl:definitions xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
   xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:sppfb="urn:ietf:params:xml:ns:sppf:base:1"
   xmlns:sppfs="urn:ietf:params:xml:ns:sppf:soap:1"
   targetNamespace="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
    &lt;wsdl:types&gt;
     &lt;xsd:schema xmlns="http://www.w3.org/2001/XMLSchema"
     xmlns:sppfs="urn:ietf:params:xml:ns:sppf:soap:1"
     targetNamespace="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;annotation&gt;
       &lt;documentation&gt;
        ---- Import base schema ----
       &lt;/documentation&gt;
      &lt;/annotation&gt;
      &lt;import namespace="urn:ietf:params:xml:ns:sppf:base:1"
      schemaLocation="sppfbase.xsd"/&gt;
      &lt;annotation&gt;
       &lt;documentation&gt;
        ---- Key type(s) extended
        from base schema. ----
       &lt;/documentation&gt;
      &lt;/annotation&gt;
      &lt;complexType name="ObjKeyType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfb:ObjKeyType"&gt;
         &lt;sequence&gt;
          &lt;element name="rant" type="sppfb:OrgIdType"/&gt;
          &lt;element name="name" type="sppfb:ObjNameType"/&gt;
          &lt;element name="type" type="sppfs:ObjKeyTypeEnum"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;
    &lt;simpleType name="ObjKeyTypeEnum"&gt;
      &lt;restriction base="token"&gt;
        &lt;enumeration value="SedGrp"/&gt;
        &lt;enumeration value="DestGrp"/&gt;
        &lt;enumeration value="SedRec"/&gt;
        &lt;enumeration value="EgrRte"/&gt;
      &lt;/restriction&gt;
    &lt;/simpleType&gt;

      &lt;complexType name="SedGrpOfferKeyType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfb:SedGrpOfferKeyType"&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 33]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-34" id="page-34" href="#page-34" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


         &lt;sequence&gt;
          &lt;element name="sedGrpKey"
          type="sppfs:ObjKeyType"/&gt;
          &lt;element name="offeredTo"
          type="sppfb:OrgIdType"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;

      &lt;complexType name="PubIdKeyType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfb:PubIdKeyType"&gt;
         &lt;sequence&gt;
          &lt;element name="rant" type="sppfb:OrgIdType"/&gt;
          &lt;choice&gt;
           &lt;element name="number"
           type="sppfb:NumberType"/&gt;
           &lt;element name="range"
           type="sppfb:NumberRangeType"/&gt;
          &lt;/choice&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;

      &lt;annotation&gt;
       &lt;documentation&gt;
        ---- Generic Request and
        Response Definitions ----
       &lt;/documentation&gt;
      &lt;/annotation&gt;
      &lt;element name="spppAddRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="obj" type="sppfb:BasicObjType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppDelRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"



<span class="grey">Cartwright, et al.           Standards Track                   [Page 34]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-35" id="page-35" href="#page-35" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="objKey"
         type="sppfb:ObjKeyType" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppAcceptRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="sedGrpOfferKey"
         type="sppfs:SedGrpOfferKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppRejectRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="sedGrpOfferKey"
         type="sppfs:SedGrpOfferKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppGetRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
         &lt;element name="objKey"
         type="sppfb:ObjKeyType"
         maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppBatchRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 35]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-36" id="page-36" href="#page-36" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
          &lt;choice minOccurs="1" maxOccurs="unbounded"&gt;
           &lt;element name="addObj" type="sppfb:BasicObjType"/&gt;
           &lt;element name="delObj" type="sppfb:ObjKeyType"/&gt;
           &lt;element name="acceptSedGrpOffer"
           type="sppfs:SedGrpOfferKeyType"/&gt;
           &lt;element name="rejectSedGrpOffer"
           type="sppfs:SedGrpOfferKeyType"/&gt;
          &lt;/choice&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppServerStatusRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="getSedGrpOffersRequest"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="minorVer"
         type="sppfb:MinorVerType" minOccurs="0"/&gt;
        &lt;element name="offeredBy"
        type="sppfb:OrgIdType" minOccurs="0"
        maxOccurs="unbounded"/&gt;
        &lt;element name="offeredTo" type="sppfb:OrgIdType"
        minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;element name="status"
        type="sppfb:SedGrpOfferStatusType" minOccurs="0"/&gt;
        &lt;element name="sedGrpOfferKey"
        type="sppfs:SedGrpOfferKeyType"
        minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppAddResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="serverTransId"
         type="sppfb:TransIdType"/&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 36]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-37" id="page-37" href="#page-37" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="detailResult"
         type="sppfs:ObjResultCodeType"
         minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppDelResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="serverTransId"
         type="sppfb:TransIdType"/&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="detailResult"
         type="sppfs:ObjKeyResultCodeType"
         minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppAcceptResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="serverTransId"
         type="sppfb:TransIdType"/&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="detailResult"
         type="sppfs:SedGrpOfferKeyResultCodeType"
         minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppRejectResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="serverTransId"
         type="sppfb:TransIdType"/&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="detailResult"



<span class="grey">Cartwright, et al.           Standards Track                   [Page 37]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-38" id="page-38" href="#page-38" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


         type="sppfs:SedGrpOfferKeyResultCodeType"
         minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
       &lt;element name="spppBatchResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="clientTransId"
         type="sppfb:TransIdType" minOccurs="0"/&gt;
         &lt;element name="serverTransId"
         type="sppfb:TransIdType"/&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
          &lt;choice minOccurs="0" maxOccurs="unbounded"&gt;
           &lt;element name="addResult"
                    type="sppfs:ObjResultCodeType"/&gt;
           &lt;element name="delResult"
                    type="sppfs:ObjKeyResultCodeType"/&gt;
           &lt;element name="acceptResult"
                    type="sppfs:SedGrpOfferKeyResultCodeType"/&gt;
           &lt;element name="rejectResult"
                  type="sppfs:SedGrpOfferKeyResultCodeType"/&gt;
          &lt;/choice&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppGetResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="resultObj"
         type="sppfb:BasicObjType"
         minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
      &lt;element name="spppServerStatusResponse"&gt;
       &lt;complexType&gt;
        &lt;sequence&gt;
         &lt;element name="overallResult"
         type="sppfs:ResultCodeType"/&gt;
         &lt;element name="svcMenu"
         type="sppfb:SvcMenuType"/&gt;
        &lt;/sequence&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 38]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-39" id="page-39" href="#page-39" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


      &lt;annotation&gt;
       &lt;documentation&gt;
        ---- Operation Result Type
        Definitions ----
       &lt;/documentation&gt;
      &lt;/annotation&gt;
      &lt;complexType name="ResultCodeType"&gt;
       &lt;sequence&gt;
        &lt;element name="code" type="sppfs:ResultCodeValType"/&gt;
        &lt;element name="msg" type="sppfs:MsgType"/&gt;
       &lt;/sequence&gt;
      &lt;/complexType&gt;

      &lt;simpleType name="ResultCodeValType"&gt;
        &lt;restriction base="unsignedShort"&gt;
          &lt;enumeration value="1000"/&gt;
          &lt;enumeration value="2000"/&gt;
          &lt;enumeration value="2001"/&gt;
          &lt;enumeration value="2002"/&gt;
          &lt;enumeration value="2100"/&gt;
          &lt;enumeration value="2101"/&gt;
          &lt;enumeration value="2102"/&gt;
          &lt;enumeration value="2103"/&gt;
          &lt;enumeration value="2300"/&gt;
          &lt;enumeration value="2301"/&gt;
        &lt;/restriction&gt;
      &lt;/simpleType&gt;

      &lt;simpleType name="MsgType"&gt;
        &lt;restriction base="token"&gt;
         &lt;minLength value="3"/&gt;
         &lt;maxLength value="255"/&gt;
        &lt;/restriction&gt;
       &lt;/simpleType&gt;

      &lt;complexType name="ObjResultCodeType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfs:ResultCodeType"&gt;
         &lt;sequence&gt;
          &lt;element name="obj" type="sppfb:BasicObjType"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;
      &lt;complexType name="ObjKeyResultCodeType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfs:ResultCodeType"&gt;
         &lt;sequence&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 39]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-40" id="page-40" href="#page-40" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


          &lt;element name="objKey" type="sppfb:ObjKeyType"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
      &lt;/complexType&gt;
         &lt;complexType name="SedGrpOfferKeyResultCodeType"&gt;
       &lt;complexContent&gt;
        &lt;extension base="sppfs:ResultCodeType"&gt;
         &lt;sequence&gt;
          &lt;element name="sedGrpOfferKey"
          type="sppfs:SedGrpOfferKeyType"/&gt;
         &lt;/sequence&gt;
        &lt;/extension&gt;
       &lt;/complexContent&gt;
       &lt;/complexType&gt;
     &lt;/xsd:schema&gt;
    &lt;/wsdl:types&gt;
    &lt;wsdl:message name="spppAddRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppAddRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppDelRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppDelRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppAcceptRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppAcceptRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppRejectRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppRejectRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppBatchRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppBatchRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppGetRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppGetRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppGetSedGrpOffersRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:getSedGrpOffersRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppAddResponseMsg"&gt;
     &lt;wsdl:part name="rspns" element="sppfs:spppAddResponse"/&gt;
    &lt;/wsdl:message&gt;
     &lt;wsdl:message name="spppDelResponseMsg"&gt;
     &lt;wsdl:part name="rspns" element="sppfs:spppDelResponse"/&gt;
    &lt;/wsdl:message&gt;
     &lt;wsdl:message name="spppAcceptResponseMsg"&gt;
     &lt;wsdl:part name="rspns" element="sppfs:spppAcceptResponse"/&gt;
    &lt;/wsdl:message&gt;
     &lt;wsdl:message name="spppRejectResponseMsg"&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 40]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-41" id="page-41" href="#page-41" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


     &lt;wsdl:part name="rspns" element="sppfs:spppRejectResponse"/&gt;
    &lt;/wsdl:message&gt;
     &lt;wsdl:message name="spppBatchResponseMsg"&gt;
     &lt;wsdl:part name="rspns" element="sppfs:spppBatchResponse"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppGetResponseMsg"&gt;
     &lt;wsdl:part name="rspns" element="sppfs:spppGetResponse"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppServerStatusRequestMsg"&gt;
     &lt;wsdl:part name="rqst" element="sppfs:spppServerStatusRequest"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:message name="spppServerStatusResponseMsg"&gt;
     &lt;wsdl:part name="rspns" element="sppfs:spppServerStatusResponse"/&gt;
    &lt;/wsdl:message&gt;
    &lt;wsdl:portType name="spppPortType"&gt;
     &lt;wsdl:operation name="submitAddRqst"&gt;
      &lt;wsdl:input message="sppfs:spppAddRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppAddResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitDelRqst"&gt;
      &lt;wsdl:input message="sppfs:spppDelRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppDelResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitAcceptRqst"&gt;
      &lt;wsdl:input message="sppfs:spppAcceptRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppAcceptResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitRejectRqst"&gt;
      &lt;wsdl:input message="sppfs:spppRejectRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppRejectResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitBatchRqst"&gt;
      &lt;wsdl:input message="sppfs:spppBatchRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppBatchResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitGetRqst"&gt;
      &lt;wsdl:input message="sppfs:spppGetRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppGetResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitGetSedGrpOffersRqst"&gt;
      &lt;wsdl:input message="sppfs:spppGetSedGrpOffersRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppGetResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitServerStatusRqst"&gt;
      &lt;wsdl:input message="sppfs:spppServerStatusRequestMsg"/&gt;
      &lt;wsdl:output message="sppfs:spppServerStatusResponseMsg"/&gt;
     &lt;/wsdl:operation&gt;
    &lt;/wsdl:portType&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 41]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-42" id="page-42" href="#page-42" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


    &lt;wsdl:binding name="spppSoapBinding" type="sppfs:spppPortType"&gt;
     &lt;soap:binding style="document"
     transport="http://schemas.xmlsoap.org/soap/http"/&gt;
     &lt;wsdl:operation name="submitAddRqst"&gt;
      &lt;soap:operation soapAction="submitAddRqst" style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitDelRqst"&gt;
      &lt;soap:operation soapAction="submitDelRqst" style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitAcceptRqst"&gt;
      &lt;soap:operation soapAction="submitAcceptRqst" style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitRejectRqst"&gt;
      &lt;soap:operation soapAction="submitRejectRqst" style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitBatchRqst"&gt;
      &lt;soap:operation soapAction="submitBatchRqst" style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 42]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-43" id="page-43" href="#page-43" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


     &lt;wsdl:operation name="submitGetRqst"&gt;
      &lt;soap:operation soapAction="submitGetRqst" style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitGetSedGrpOffersRqst"&gt;
      &lt;soap:operation soapAction="submitGetSedGrpOffersRqst"
      style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
     &lt;wsdl:operation name="submitServerStatusRqst"&gt;
      &lt;soap:operation soapAction="submitServerStatusRqst"
      style="document"/&gt;
      &lt;wsdl:input&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
       &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
     &lt;/wsdl:operation&gt;
    &lt;/wsdl:binding&gt;
    &lt;wsdl:service name="spppService"&gt;
     &lt;wsdl:port name="spppPort" binding="sppfs:spppSoapBinding"&gt;
      &lt;soap:address location="REPLACE_WITH_ACTUAL_URL"/&gt;
     &lt;/wsdl:port&gt;
    &lt;/wsdl:service&gt;
   &lt;/wsdl:definitions&gt;

                              Figure 2: WSDL













<span class="grey">Cartwright, et al.           Standards Track                   [Page 43]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-44" id="page-44" href="#page-44" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>.  SPPP over SOAP Examples</span>

   This section shows an XML message exchange between two SIP Service
   Providers (SSPs) and a Registry.  The messages in this section are
   valid XML instances that conform to the SPPP over SOAP schema version
   within this document.  This section also relies on the XML data
   structures defined in the SPPF specification [<a href="rfc7877.html" title="&quot;Session Peering Provisioning Framework (SPPF)&quot;">RFC7877</a>], which should
   also be referenced to understand XML object types embedded in these
   example messages.

   In this sample use-case scenario, SSP1 and SSP2 provision resource
   data in the Registry and use SPPF constructs to selectively share the
   SED Groups.  In the figure below, SSP2 has two ingress Signaling Path
   Border Element (SBE) instances that are associated with the Public
   Identities with which SSP2 has the retail relationship.  Also, the
   two SBE instances for SSP1 are used to show how to use SPPF to
   associate route preferences for the destination Ingress Routes and
   exercise greater control on outbound traffic to the peer's ingress
   SBEs.

      ---------------+                      +------------------
                     |                      |
                 +------+               +------+
                 | sbe1 |               | sbe2 |
                 +------+               +------+
       SSP1          |                      |           SSP2
                 +------+               +------+
                 | sbe3 |               | sbe4 |
                 +------+               +------+
      iana-en:111    |                      |     iana-en:222
      ---------------+                      +------------------
              |                                     |
              |                                     |
              | SPPF   +------------------+   SPPF  |
              +-------&gt;|     Registry     |&lt;--------+
                       +------------------+

                      Example Use-Case Infrastructure

<span class="h3"><a class="selflink" name="section-10.1" href="#section-10.1">10.1</a>.  Add Destination Group</span>

   SSP2 adds a Destination Group to the Registry for later use.  The
   SSP2 SPPF client sets a unique transaction identifier "txn_1479" for
   tracking purposes.  The name of the Destination Group is set to
   DEST_GRP_SSP2_1.






<span class="grey">Cartwright, et al.           Standards Track                   [Page 44]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-45" id="page-45" href="#page-45" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
   xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
   xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
   xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;!--Optional:--&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:DestGrpType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry processes the request and returns a favorable response
   confirming successful creation of the named Destination Group.  In
   addition to returning a unique server transaction identifier, the
   Registry returns the matching client transaction identifier from the
   request message back to the SPPF client.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
   xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;








<span class="grey">Cartwright, et al.           Standards Track                   [Page 45]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-46" id="page-46" href="#page-46" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.2" href="#section-10.2">10.2</a>.  Add SED Records</span>

   SSP2 adds SED Records in the form of Ingress Routes to the Registry.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
   xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
   xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
   xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;!--Optional:--&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:NAPTRType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedName&gt;SED_SSP2_SBE2&lt;/urn1:sedName&gt;
       &lt;urn1:isInSvc&gt;true&lt;/urn1:isInSvc&gt;
       &lt;urn1:order&gt;10&lt;/urn1:order&gt;
       &lt;urn1:flags&gt;u&lt;/urn1:flags&gt;
       &lt;urn1:svcs&gt;E2U+sip&lt;/urn1:svcs&gt;
       &lt;urn1:regx&gt;
        &lt;urn1:ere&gt;^(.*)$&lt;/urn1:ere&gt;
        &lt;urn1:repl&gt;sip:\1@sbe2.ssp2.example.com&lt;/urn1:repl&gt;
       &lt;/urn1:regx&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;



















<span class="grey">Cartwright, et al.           Standards Track                   [Page 46]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-47" id="page-47" href="#page-47" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry returns a success response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
   xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

<span class="h3"><a class="selflink" name="section-10.3" href="#section-10.3">10.3</a>.  Add SED Records -- URIType</span>

   SSP2 adds another SED Record to the Registry and makes use of
   URIType.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
   xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
   xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
   xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:URIType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedName&gt;SED_SSP2_SBE4&lt;/urn1:sedName&gt;
       &lt;urn1:isInSvc&gt;true&lt;/urn1:isInSvc&gt;
       &lt;urn1:ere&gt;^(.*)$&lt;/urn1:ere&gt;
       &lt;urn1:uri&gt;sip:\1;npdi@sbe4.ssp2.example.com&lt;/urn1:uri&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;





<span class="grey">Cartwright, et al.           Standards Track                   [Page 47]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-48" id="page-48" href="#page-48" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry returns a success response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;


































<span class="grey">Cartwright, et al.           Standards Track                   [Page 48]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-49" id="page-49" href="#page-49" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.4" href="#section-10.4">10.4</a>.  Add SED Group</span>

   SSP2 creates the grouping of SED Records (e.g., Ingress Routes) and
   chooses a higher precedence for SED_SSP2_SBE2 by setting a lower
   number for the "priority" attribute, a protocol agnostic precedence
   indicator.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:SedGrpType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedGrpName&gt;SED_GRP_SSP2_1&lt;/urn1:sedGrpName&gt;
       &lt;urn1:sedRecRef&gt;
        &lt;urn1:sedKey xsi:type="urn:ObjKeyType"&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_SSP2_SBE2&lt;/name&gt;
         &lt;type&gt;SedRec&lt;/type&gt;
        &lt;/urn1:sedKey&gt;
        &lt;urn1:priority&gt;100&lt;/urn1:priority&gt;
       &lt;/urn1:sedRecRef&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
       &lt;urn1:isInSvc&gt;true&lt;/urn1:isInSvc&gt;
       &lt;urn1:priority&gt;10&lt;/urn1:priority&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;














<span class="grey">Cartwright, et al.           Standards Track                   [Page 49]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-50" id="page-50" href="#page-50" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   To confirm successful processing of this request, the Registry
   returns a well-known result code "1000" to the SSP2 client.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

<span class="h3"><a class="selflink" name="section-10.5" href="#section-10.5">10.5</a>.  Add Public Identifier -- Successful COR Claim</span>

   SSP2 activates a TN Public Identifier by associating it with a valid
   Destination Group.  Further, SSP2 puts forth a claim that it is the
   carrier-of-record (COR) for the TN.

   &lt;soapenv:Envelope
   xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
   xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
   xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:TNType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
       &lt;urn1:tn&gt;+12025556666&lt;/urn1:tn&gt;
       &lt;urn1:corInfo&gt;
        &lt;urn1:corClaim&gt;true&lt;/urn1:corClaim&gt;
       &lt;/urn1:corInfo&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;




<span class="grey">Cartwright, et al.           Standards Track                   [Page 50]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-51" id="page-51" href="#page-51" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   Assuming that the Registry has access to TN authority data and it
   performs the required checks to verify that SSP2 is in fact the SP of
   record for the given TN, the request is processed successfully.  In
   the response message, the Registry sets the value of &lt;cor&gt; to "true"
   in order to confirm the SSP2 claim as the carrier-of-record, and the
   &lt;corDate&gt; reflects the time when the carrier-of-record claim is
   processed.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
      &lt;detailResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
       &lt;obj xsi:type="ns2:TNType"&gt;
        &lt;ns2:rant&gt;iana-en:222&lt;/ns2:rant&gt;
        &lt;ns2:rar&gt;iana-en:223&lt;/ns2:rar&gt;
        &lt;ns2:cDate&gt;2010-05-30T09:30:10Z&lt;/ns2:cDate&gt;
        &lt;ns2:dgName&gt;DEST_GRP_SSP2_1&lt;/ns2:dgName&gt;
        &lt;ns2:tn&gt;+12025556666&lt;/ns2:tn&gt;
        &lt;ns2:corInfo&gt;
         &lt;ns2:corClaim&gt;true&lt;/ns2:corClaim&gt;
         &lt;ns2:cor&gt;true&lt;/ns2:cor&gt;
         &lt;ns2:corDate&gt;2010-05-30T09:30:11Z&lt;/ns2:corDate&gt;
        &lt;/ns2:corInfo&gt;
       &lt;/obj&gt;
      &lt;/detailResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;










<span class="grey">Cartwright, et al.           Standards Track                   [Page 51]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-52" id="page-52" href="#page-52" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.6" href="#section-10.6">10.6</a>.  Add LRN</span>

   If another entity that SSP2 shares SED (e.g., routes) with has access
   to Number Portability data, it may choose to perform route lookups by
   RN.  Therefore, SSP2 associates an RN to a Destination Group in order
   to facilitate Ingress Route discovery.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:RNType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
       &lt;urn1:rn&gt;2025550000&lt;/urn1:rn&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;
























<span class="grey">Cartwright, et al.           Standards Track                   [Page 52]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-53" id="page-53" href="#page-53" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response to the SPPF client.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

<span class="h3"><a class="selflink" name="section-10.7" href="#section-10.7">10.7</a>.  Add TN Range</span>

   Next, SSP2 activates a block of ten thousand TNs and associates it to
   a Destination Group.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:TNRType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
       &lt;urn1:range&gt;
        &lt;urn1:startTn&gt;+12026660000&lt;/urn1:startTn&gt;
        &lt;urn1:endTn&gt;+12026669999&lt;/urn1:endTn&gt;
       &lt;/urn1:range&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;



<span class="grey">Cartwright, et al.           Standards Track                   [Page 53]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-54" id="page-54" href="#page-54" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

<span class="h3"><a class="selflink" name="section-10.8" href="#section-10.8">10.8</a>.  Add TN Prefix</span>

   Next, SSP2 activates a block of ten thousand TNs by using the TNPType
   structure and identifying a TN prefix.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:TNPType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
       &lt;urn1:tnPrefix&gt;+1202777&lt;/urn1:tnPrefix&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;






<span class="grey">Cartwright, et al.           Standards Track                   [Page 54]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-55" id="page-55" href="#page-55" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;
































<span class="grey">Cartwright, et al.           Standards Track                   [Page 55]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-56" id="page-56" href="#page-56" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.9" href="#section-10.9">10.9</a>.  Enable Peering -- SED Group Offer</span>

   In order for SSP1 to complete session establishment for a destination
   TN where the target subscriber has a retail relationship with SSP2,
   it first requires an asynchronous bidirectional handshake to show
   mutual consent.  To start the process, SSP2 initiates the peering
   handshake by offering SSP1 access to its SED Group.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:SedGrpOfferType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedGrpOfferKey xsi:type="urn:SedGrpOfferKeyType"&gt;
        &lt;sedGrpKey xsi:type="urn:ObjKeyType"&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
         &lt;type&gt;SedGrp&lt;/type&gt;
        &lt;/sedGrpKey&gt;
        &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
       &lt;/urn1:sedGrpOfferKey&gt;
       &lt;urn1:status&gt;offered&lt;/urn1:status&gt;
       &lt;urn1:offerDateTime&gt;
         2006-05-04T18:13:51.0Z
       &lt;/urn1:offerDateTime&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;













<span class="grey">Cartwright, et al.           Standards Track                   [Page 56]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-57" id="page-57" href="#page-57" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and confirms that the
   SSP1 will now have the opportunity to weigh in on the offer and
   either accept or reject it.  The Registry may employ out-of-band
   notification mechanisms for quicker updates to SSP1 so they can act
   faster, though this topic is beyond the scope of this document.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;





























<span class="grey">Cartwright, et al.           Standards Track                   [Page 57]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-58" id="page-58" href="#page-58" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.10" href="#section-10.10">10.10</a>.  Enable Peering -- SED Group Offer Accept</span>

   SSP1 responds to the offer from SSP2 and agrees to have visibility to
   SSP2 SED (e.g., Ingress Routes).

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAcceptRequest&gt;
      &lt;!--Optional:--&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;sedGrpOfferKey&gt;
       &lt;sedGrpKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
        &lt;type&gt;SedGrp&lt;/type&gt;
       &lt;/sedGrpKey&gt;
       &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
      &lt;/sedGrpOfferKey&gt;
     &lt;/urn:spppAcceptRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

























<span class="grey">Cartwright, et al.           Standards Track                   [Page 58]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-59" id="page-59" href="#page-59" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry confirms that the request has been processed
   successfully.  From this point forward, if SSP1 looks up a Public
   Identifier through the query resolution server, where the Public
   Identifier is part of the Destination Group by way of
   "SED_GRP_SSP2_1" SED association, SSP2 ingress SBE information will
   be shared with SSP1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAcceptResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12350&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAcceptResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;




























<span class="grey">Cartwright, et al.           Standards Track                   [Page 59]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-60" id="page-60" href="#page-60" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.11" href="#section-10.11">10.11</a>.  Add Egress Route</span>

   SSP1 wants to prioritize all outbound traffic to the Ingress Route
   associated with the "SED_GRP_SSP2_1" SED Group record, through
   "sbe1.ssp1.example.com".

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppAddRequest&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;obj xsi:type="urn1:EgrRteType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:egrRteName&gt;EGR_RTE_01&lt;/urn1:egrRteName&gt;
       &lt;urn1:pref&gt;50&lt;/urn1:pref&gt;
       &lt;urn1:regxRewriteRule&gt;
        &lt;urn1:ere&gt;^(.*@)(.*)$&lt;/urn1:ere&gt;
        &lt;urn1:repl&gt;\1\2?route=sbe1.ssp1.example.com&lt;/urn1:repl&gt;
       &lt;/urn1:regxRewriteRule&gt;
       &lt;urn1:ingrSedGrp xsi:type="urn:ObjKeyType"&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
        &lt;type&gt;SedGrp&lt;/type&gt;
       &lt;/urn1:ingrSedGrp&gt;
      &lt;/obj&gt;
     &lt;/urn:spppAddRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;
















<span class="grey">Cartwright, et al.           Standards Track                   [Page 60]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-61" id="page-61" href="#page-61" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   Since peering has already been established, the request to add the
   Egress Route has been successfully completed.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppAddResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12345&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppAddResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

<span class="h3"><a class="selflink" name="section-10.12" href="#section-10.12">10.12</a>.  Remove Peering -- SED Group Offer Reject</span>

   Earlier, SSP1 had accepted having visibility to SSP2 SED.  SSP1 now
   decides to no longer maintain this visibility; hence, it rejects the
   SED Group Offer.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppRejectRequest&gt;
      &lt;!--Optional:--&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;sedGrpOfferKey&gt;
       &lt;sedGrpKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
        &lt;type&gt;SedGrp&lt;/type&gt;
       &lt;/sedGrpKey&gt;
       &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
      &lt;/sedGrpOfferKey&gt;
     &lt;/urn:spppRejectRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;




<span class="grey">Cartwright, et al.           Standards Track                   [Page 61]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-62" id="page-62" href="#page-62" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry confirms that the request has been processed
   successfully.  From this point forward, if SSP1 looks up a Public
   Identifier through the query resolution server, where the Public
   Identifier is part of the Destination Group by way of
   "SED_GRP_SSP2_1" SED association, SSP2 ingress SBE information will
   not be shared with SSP1; hence, an SSP2 ingress SBE will not be
   returned in the query response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppRejectResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;clientTransId&gt;txn_1479&lt;/clientTransId&gt;
      &lt;serverTransId&gt;tx_12350&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppRejectResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

<span class="h3"><a class="selflink" name="section-10.13" href="#section-10.13">10.13</a>.  Get Destination Group</span>

   SSP2 uses the spppGetRequest operation to tally the last provisioned
   record for Destination Group DEST_GRP_SSP2_1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppGetRequest&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;name&gt;DEST_GRP_SSP2_1&lt;/name&gt;
       &lt;type&gt;DestGrp&lt;/type&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppGetRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;




<span class="grey">Cartwright, et al.           Standards Track                   [Page 62]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-63" id="page-63" href="#page-63" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppGetResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;success&lt;/msg&gt;
      &lt;/overallResult&gt;
      &lt;resultObj xsi:type="ns2:DestGrpType"&gt;
       &lt;ns2:rant&gt;iana-en:222&lt;/ns2:rant&gt;
       &lt;ns2:rar&gt;iana-en:223&lt;/ns2:rar&gt;
       &lt;ns2:cDate&gt;2012-10-22T09:30:10Z&lt;/ns2:cDate&gt;
       &lt;ns2:dgName&gt;DEST_GRP_SSP2_1&lt;/ns2:dgName&gt;
      &lt;/resultObj&gt;
     &lt;/ns3:spppGetResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;



























<span class="grey">Cartwright, et al.           Standards Track                   [Page 63]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-64" id="page-64" href="#page-64" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.14" href="#section-10.14">10.14</a>.  Get Public Identifier</span>

   SSP2 obtains the last provisioned record associated with a given TN.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppGetRequest&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:PubIdKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;number&gt;
        &lt;urn1:value&gt;+12025556666&lt;/urn1:value&gt;
        &lt;urn1:type&gt;TN&lt;/urn1:type&gt;
       &lt;/number&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppGetRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;



























<span class="grey">Cartwright, et al.           Standards Track                   [Page 64]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-65" id="page-65" href="#page-65" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response.

   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppGetResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;success&lt;/msg&gt;
      &lt;/overallResult&gt;
      &lt;resultObj xsi:type="ns2:TNType"&gt;
       &lt;ns2:rant&gt;iana-en:222&lt;/ns2:rant&gt;
       &lt;ns2:rar&gt;iana-en:223&lt;/ns2:rar&gt;
       &lt;ns2:cDate&gt;2012-10-22T09:30:10Z&lt;/ns2:cDate&gt;
       &lt;ns2:dgName&gt;DEST_GRP_SSP2_1&lt;/ns2:dgName&gt;
       &lt;ns2:tn&gt;+12025556666&lt;/ns2:tn&gt;
       &lt;ns2:corInfo&gt;
        &lt;ns2:corClaim&gt;true&lt;/ns2:corClaim&gt;
        &lt;ns2:cor&gt;true&lt;/ns2:cor&gt;
        &lt;ns2:corDate&gt;2010-05-30T09:30:10Z&lt;/ns2:corDate&gt;
       &lt;/ns2:corInfo&gt;
      &lt;/resultObj&gt;
     &lt;/ns3:spppGetResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;






















<span class="grey">Cartwright, et al.           Standards Track                   [Page 65]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-66" id="page-66" href="#page-66" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.15" href="#section-10.15">10.15</a>.  Get SED Group Request</span>

   SSP2 obtains the last provisioned record for the SED Group
   SED_GRP_SSP2_1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppGetRequest&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
       &lt;type&gt;SedGrp&lt;/type&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppGetRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;





























<span class="grey">Cartwright, et al.           Standards Track                   [Page 66]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-67" id="page-67" href="#page-67" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppGetResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;success&lt;/msg&gt;
      &lt;/overallResult&gt;
      &lt;resultObj xsi:type="ns2:SedGrpType"&gt;
       &lt;ns2:rant&gt;iana-en:222&lt;/ns2:rant&gt;
       &lt;ns2:rar&gt;iana-en:223&lt;/ns2:rar&gt;
       &lt;ns2:cDate&gt;2012-10-22T09:30:10Z&lt;/ns2:cDate&gt;
       &lt;ns2:sedGrpName&gt;SED_GRP_SSP2_1&lt;/ns2:sedGrpName&gt;
       &lt;ns2:sedRecRef&gt;
        &lt;ns2:sedKey xsi:type="ns3:ObjKeyType"&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_SSP2_SBE2&lt;/name&gt;
         &lt;type&gt;SedRec&lt;/type&gt;
        &lt;/ns2:sedKey&gt;
        &lt;ns2:priority&gt;100&lt;/ns2:priority&gt;
       &lt;/ns2:sedRecRef&gt;
       &lt;ns2:sedRecRef&gt;
        &lt;ns2:sedKey xsi:type="ns3:ObjKeyType"&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_SSP2_SBE4&lt;/name&gt;
         &lt;type&gt;SedRec&lt;/type&gt;
        &lt;/ns2:sedKey&gt;
        &lt;ns2:priority&gt;101&lt;/ns2:priority&gt;
       &lt;/ns2:sedRecRef&gt;
       &lt;ns2:dgName&gt;DEST_GRP_SSP2_1&lt;/ns2:dgName&gt;
       &lt;ns2:isInSvc&gt;true&lt;/ns2:isInSvc&gt;
       &lt;ns2:priority&gt;10&lt;/ns2:priority&gt;
      &lt;/resultObj&gt;
     &lt;/ns3:spppGetResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;








<span class="grey">Cartwright, et al.           Standards Track                   [Page 67]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-68" id="page-68" href="#page-68" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.16" href="#section-10.16">10.16</a>.  Get SED Group Offers Request</span>

   SSP2 fetches the last provisioned SED Group Offer to the &lt;peeringOrg&gt;
   SSP1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:getSedGrpOffersRequest&gt;
      &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
     &lt;/urn:getSedGrpOffersRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;



































<span class="grey">Cartwright, et al.           Standards Track                   [Page 68]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-69" id="page-69" href="#page-69" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry processes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppGetResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;success&lt;/msg&gt;
      &lt;/overallResult&gt;
      &lt;resultObj xsi:type="ns2:SedGrpOfferType"&gt;
       &lt;ns2:rant&gt;iana-en:222&lt;/ns2:rant&gt;
       &lt;ns2:rar&gt;iana-en:223&lt;/ns2:rar&gt;
       &lt;ns2:cDate&gt;2012-10-22T09:30:10Z&lt;/ns2:cDate&gt;
       &lt;ns2:sedGrpOfferKey
        xsi:type="ns3:SedGrpOfferKeyType"&gt;
        &lt;sedGrpKey&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
         &lt;type&gt;SedGrp&lt;/type&gt;
        &lt;/sedGrpKey&gt;
        &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
       &lt;/ns2:sedGrpOfferKey&gt;
       &lt;ns2:status&gt;offered&lt;/ns2:status&gt;
       &lt;ns2:offerDateTime&gt;
        2006-05-04T18:13:51.0Z
       &lt;/ns2:offerDateTime&gt;
      &lt;/resultObj&gt;
     &lt;/ns3:spppGetResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;















<span class="grey">Cartwright, et al.           Standards Track                   [Page 69]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-70" id="page-70" href="#page-70" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.17" href="#section-10.17">10.17</a>.  Get Egress Route</span>

   SSP1 wants to verify the last provisioned record for the Egress Route
   called EGR_RTE_01.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppGetRequest&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:111&lt;/rant&gt;
       &lt;name&gt;EGR_RTE_01&lt;/name&gt;
       &lt;type&gt;EgrRte&lt;/type&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppGetRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;





























<span class="grey">Cartwright, et al.           Standards Track                   [Page 70]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-71" id="page-71" href="#page-71" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppGetResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;success&lt;/msg&gt;
      &lt;/overallResult&gt;
      &lt;resultObj xsi:type="ns2:EgrRteType"&gt;
       &lt;ns2:rant&gt;iana-en:222&lt;/ns2:rant&gt;
       &lt;ns2:rar&gt;iana-en:223&lt;/ns2:rar&gt;
       &lt;ns2:cDate&gt;2012-10-22T09:30:10Z&lt;/ns2:cDate&gt;
       &lt;ns2:egrRteName&gt;EGR_RTE_01&lt;/ns2:egrRteName&gt;
       &lt;ns2:pref&gt;50&lt;/ns2:pref&gt;
       &lt;ns2:regxRewriteRule&gt;
        &lt;ns2:ere&gt;^(.*)$&lt;/ns2:ere&gt;
        &lt;ns2:repl&gt;sip:\1@sbe1.ssp1.example.com&lt;/ns2:repl&gt;
       &lt;/ns2:regxRewriteRule&gt;
       &lt;ns2:ingrSedGrp xsi:type="ns3:ObjKeyType"&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
        &lt;type&gt;SedRec&lt;/type&gt;
       &lt;/ns2:ingrSedGrp&gt;
      &lt;/resultObj&gt;
     &lt;/ns3:spppGetResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;

















<span class="grey">Cartwright, et al.           Standards Track                   [Page 71]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-72" id="page-72" href="#page-72" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.18" href="#section-10.18">10.18</a>.  Delete Destination Group</span>

   SSP2 initiates a request to delete the Destination Group
   DEST_GRP_SSP2_1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppDelRequest&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;name&gt;DEST_GRP_SSP2_1&lt;/name&gt;
       &lt;type&gt;DestGrp&lt;/type&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppDelRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppDelResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;serverTransId&gt;tx_12354&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppDelResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;










<span class="grey">Cartwright, et al.           Standards Track                   [Page 72]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-73" id="page-73" href="#page-73" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.19" href="#section-10.19">10.19</a>.  Delete Public Identifier</span>

   SSP2 chooses to deactivate the TN and remove it from the Registry.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppDelRequest&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:PubIdKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;number&gt;
        &lt;urn1:value&gt;+12025556666&lt;/urn1:value&gt;
        &lt;urn1:type&gt;TN&lt;/urn1:type&gt;
       &lt;/number&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppDelRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppDelResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;serverTransId&gt;tx_12354&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppDelResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;








<span class="grey">Cartwright, et al.           Standards Track                   [Page 73]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-74" id="page-74" href="#page-74" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.20" href="#section-10.20">10.20</a>.  Delete SED Group Request</span>

   SSP2 removes the SED Group called SED_GRP_SSP2_1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppDelRequest&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
       &lt;type&gt;SedGrp&lt;/type&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppDelRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppDelResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;serverTransId&gt;tx_12354&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppDelResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;











<span class="grey">Cartwright, et al.           Standards Track                   [Page 74]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-75" id="page-75" href="#page-75" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.21" href="#section-10.21">10.21</a>.  Delete SED Group Offers Request</span>

   SSP2 no longer wants to share SED Group SED_GRP_SSP2_1 with SSP1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppDelRequest&gt;
       &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:SedGrpOfferKeyType"&gt;
       &lt;sedGrpKey&gt;
        &lt;rant&gt;iana-en:222&lt;/rant&gt;
        &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
        &lt;type&gt;SedGrp&lt;/type&gt;
       &lt;/sedGrpKey&gt;
       &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppDelRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry completes the request successfully and returns a
   favorable response.  Restoring this resource sharing will require a
   new SED Group Offer from SSP2 to SSP1 followed by a successful SED
   Group Accept request from SSP1.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppDelResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;serverTransId&gt;tx_12354&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppDelResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;






<span class="grey">Cartwright, et al.           Standards Track                   [Page 75]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-76" id="page-76" href="#page-76" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.22" href="#section-10.22">10.22</a>.  Delete Egress Route</span>

   SSP1 decides to remove the Egress Route with the label EGR_RTE_01.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppDelRequest&gt;
      &lt;!--1 or more repetitions:--&gt;
      &lt;objKey xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:111&lt;/rant&gt;
       &lt;name&gt;EGR_RTE_01&lt;/name&gt;
       &lt;type&gt;EgrRte&lt;/type&gt;
      &lt;/objKey&gt;
     &lt;/urn:spppDelRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppDelResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;serverTransId&gt;tx_12354&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppDelResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;











<span class="grey">Cartwright, et al.           Standards Track                   [Page 76]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-77" id="page-77" href="#page-77" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h3"><a class="selflink" name="section-10.23" href="#section-10.23">10.23</a>.  Batch Request</span>

   Following is an example of how some of the operations mentioned in
   previous sections MAY be performed by an SPPF client as a batch in
   one single SPPP over SOAP request.

   In the sample request below, SSP1 wants to accept a SED Group Offer
   from SSP3, add a Destination Group, add a Naming Authority Pointer
   (NAPTR) SED Record, add a SED Group, add a SED Group Offer, delete a
   previously provisioned TN type Public Identifier, delete a previously
   provisioned SED Group, and reject a SED Group Offer from SSP4.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:urn="urn:ietf:params:xml:ns:sppf:soap:1"
    xmlns:urn1="urn:ietf:params:xml:ns:sppf:base:1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;soapenv:Header/&gt;
    &lt;soapenv:Body&gt;
     &lt;urn:spppBatchRequest&gt;
      &lt;clientTransId&gt;txn_1467&lt;/clientTransId&gt;
      &lt;minorVer&gt;1&lt;/minorVer&gt;

      &lt;acceptSedGrpOffer&gt;
       &lt;sedGrpKey&gt;
        &lt;rant&gt;iana-en:225&lt;/rant&gt;
        &lt;name&gt;SED_SSP3_SBE1_Offered&lt;/name&gt;
        &lt;type&gt;SedGrp&lt;/type&gt;
       &lt;/sedGrpKey&gt;
       &lt;offeredTo&gt;iana-en:222&lt;/offeredTo&gt;
      &lt;/acceptSedGrpOffer&gt;

      &lt;addObj xsi:type="urn1:DestGrpType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
      &lt;/addObj&gt;

      &lt;addObj xsi:type="urn1:NAPTRType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedName&gt;SED_SSP2_SBE2&lt;/urn1:sedName&gt;
       &lt;urn1:order&gt;10&lt;/urn1:order&gt;
       &lt;urn1:flags&gt;u&lt;/urn1:flags&gt;
       &lt;urn1:svcs&gt;E2U+sip&lt;/urn1:svcs&gt;





<span class="grey">Cartwright, et al.           Standards Track                   [Page 77]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-78" id="page-78" href="#page-78" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


       &lt;urn1:regx&gt;
        &lt;urn1:ere&gt;^(.*)$&lt;/urn1:ere&gt;
        &lt;urn1:repl&gt;sip:\1@sbe2.ssp2.example.com&lt;/urn1:repl&gt;
       &lt;/urn1:regx&gt;
      &lt;/addObj&gt;

      &lt;addObj xsi:type="urn1:SedGrpType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedGrpName&gt;SED_GRP_SSP2_1&lt;/urn1:sedGrpName&gt;
       &lt;urn1:sedRecRef&gt;
        &lt;urn1:sedKey xsi:type="urn:ObjKeyType"&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_SSP2_SBE2&lt;/name&gt;
         &lt;type&gt;SedRec&lt;/type&gt;
        &lt;/urn1:sedKey&gt;
       &lt;urn1:priority&gt;100&lt;/urn1:priority&gt;
       &lt;/urn1:sedRecRef&gt;
        &lt;urn1:dgName&gt;DEST_GRP_SSP2_1&lt;/urn1:dgName&gt;
        &lt;urn1:isInSvc&gt;true&lt;/urn1:isInSvc&gt;
        &lt;urn1:priority&gt;10&lt;/urn1:priority&gt;
      &lt;/addObj&gt;

      &lt;addObj xsi:type="urn1:SedGrpOfferType"&gt;
       &lt;urn1:rant&gt;iana-en:222&lt;/urn1:rant&gt;
       &lt;urn1:rar&gt;iana-en:223&lt;/urn1:rar&gt;
       &lt;urn1:sedGrpOfferKey xsi:type="urn:SedGrpOfferKeyType"&gt;
        &lt;sedGrpKey xsi:type="urn:ObjKeyType"&gt;
         &lt;rant&gt;iana-en:222&lt;/rant&gt;
         &lt;name&gt;SED_GRP_SSP2_1&lt;/name&gt;
         &lt;type&gt;SedGrp&lt;/type&gt;
        &lt;/sedGrpKey&gt;
        &lt;offeredTo&gt;iana-en:111&lt;/offeredTo&gt;
       &lt;/urn1:sedGrpOfferKey&gt;
       &lt;urn1:status&gt;offered&lt;/urn1:status&gt;
       &lt;urn1:offerDateTime&gt;
        2006-05-04T18:13:51.0Z
       &lt;/urn1:offerDateTime&gt;
      &lt;/addObj&gt;

      &lt;delObj xsi:type="urn:PubIdKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;number&gt;
        &lt;urn1:value&gt;+12025556666&lt;/urn1:value&gt;
        &lt;urn1:type&gt;TN&lt;/urn1:type&gt;
       &lt;/number&gt;
      &lt;/delObj&gt;




<span class="grey">Cartwright, et al.           Standards Track                   [Page 78]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-79" id="page-79" href="#page-79" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


      &lt;delObj xsi:type="urn:ObjKeyType"&gt;
       &lt;rant&gt;iana-en:222&lt;/rant&gt;
       &lt;name&gt;SED_GRP_SSP2_Previous&lt;/name&gt;
       &lt;type&gt;SedGrp&lt;/type&gt;
      &lt;/delObj&gt;

      &lt;rejectSedGrpOffer&gt;
       &lt;sedGrpKey&gt;
        &lt;rant&gt;iana-en:226&lt;/rant&gt;
        &lt;name&gt;SED_SSP4_SBE1_Offered&lt;/name&gt;
        &lt;type&gt;SedGrp&lt;/type&gt;
       &lt;/sedGrpKey&gt;
       &lt;offeredTo&gt;iana-en:222&lt;/offeredTo&gt;
      &lt;/rejectSedGrpOffer&gt;

     &lt;/urn:spppBatchRequest&gt;
    &lt;/soapenv:Body&gt;
   &lt;/soapenv:Envelope&gt;

   The Registry completes the request successfully and returns a
   favorable response.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;S:Envelope
    xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;S:Body&gt;
     &lt;ns3:spppBatchResponse
      xmlns:ns2="urn:ietf:params:xml:ns:sppf:base:1"
      xmlns:ns3="urn:ietf:params:xml:ns:sppf:soap:1"&gt;
      &lt;serverTransId&gt;tx_12354&lt;/serverTransId&gt;
      &lt;overallResult&gt;
       &lt;code&gt;1000&lt;/code&gt;
       &lt;msg&gt;Request Succeeded.&lt;/msg&gt;
      &lt;/overallResult&gt;
     &lt;/ns3:spppBatchResponse&gt;
    &lt;/S:Body&gt;
   &lt;/S:Envelope&gt;














<span class="grey">Cartwright, et al.           Standards Track                   [Page 79]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-80" id="page-80" href="#page-80" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>.  Security Considerations</span>

   The base security considerations of SPPP outlined in <a href="rfc7877.html#section-9">Section&nbsp;9 of
   [RFC7877]</a> also apply to SPPP over SOAP implementations.
   Additionally, the following must be considered:

   SPPP over SOAP is used to query and update session peering data and
   addresses, so the ability to access this protocol should be limited
   to users and systems that are authorized to query and update this
   data.  Because this data is sent in both directions, it may not be
   sufficient for just the client or user to be authenticated with the
   server.  The identity of the server should also be authenticated by
   the client, which is often accomplished using the TLS certificate
   exchange and validation described in [<a href="rfc2818.html" title="&quot;HTTP Over TLS&quot;">RFC2818</a>].

<span class="h3"><a class="selflink" name="section-11.1" href="#section-11.1">11.1</a>.  Vulnerabilities</span>

   <a href="#section-5">Section 5</a> describes the use of HTTP and TLS as the underlying
   substrate protocols for SPPP over SOAP.  These underlying protocols
   may have various vulnerabilities, and these may be inherited by SPPP
   over SOAP.  SPPP over SOAP itself may have vulnerabilities because an
   authorization model is not explicitly specified in this document.

   During a TLS handshake, TLS servers can optionally request a
   certificate from a TLS client; that option is not a requirement for
   this protocol.  This presents a denial-of-service risk in which
   unauthenticated clients can consume server CPU resources by creating
   TLS sessions.  The risk is increased if the server supports client-
   initiated renegotiation.  This risk can be mitigated by disabling
   client-initiated renegotiation on the server and by ensuring that
   other means (such as firewall access control lists) are used to
   restrict unauthenticated client access to servers.

   In conjunction with the above, it is important that SPPP over SOAP
   implementations implement an authorization model that considers the
   source of each query or update request and determines whether it is
   reasonable to authorize that source to perform that specific query or
   update.













<span class="grey">Cartwright, et al.           Standards Track                   [Page 80]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-81" id="page-81" href="#page-81" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


<span class="h2"><a class="selflink" name="section-12" href="#section-12">12</a>.  IANA Considerations</span>

   This document uses URNs to describe XML Namespaces and XML Schemas.
   According to [<a href="rfc3688.html" title="&quot;The IETF XML Registry&quot;">RFC3688</a>], IANA has performed the following URN
   assignment:

      URN: urn:ietf:params:xml:ns:sppf:soap:1

      Registrant Contact: IESG

      XML: See <a href="rfc7878.html#section-9">Section&nbsp;9 of [RFC7878]</a>

<span class="h2"><a class="selflink" name="section-13" href="#section-13">13</a>.  References</span>

<span class="h3"><a class="selflink" name="section-13.1" href="#section-13.1">13.1</a>.  Normative References</span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a name="ref-RFC3688" id="ref-RFC3688">RFC3688</a>]  Mealling, M., "The IETF XML Registry", <a href="https://tools.ietf.org/html/bcp81">BCP 81</a>, <a href="rfc3688.html">RFC 3688</a>,
              DOI 10.17487/RFC3688, January 2004,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3688">http://www.rfc-editor.org/info/rfc3688</a>&gt;.

   [<a name="ref-RFC5246" id="ref-RFC5246">RFC5246</a>]  Dierks, T. and E. Rescorla, "The Transport Layer Security
              (TLS) Protocol Version 1.2", <a href="rfc5246.html">RFC 5246</a>,
              DOI 10.17487/RFC5246, August 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5246">http://www.rfc-editor.org/info/rfc5246</a>&gt;.

   [<a name="ref-RFC7230" id="ref-RFC7230">RFC7230</a>]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Message Syntax and Routing",
              <a href="rfc7230.html">RFC 7230</a>, DOI 10.17487/RFC7230, June 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7230">http://www.rfc-editor.org/info/rfc7230</a>&gt;.

   [<a name="ref-RFC7231" id="ref-RFC7231">RFC7231</a>]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Semantics and Content", <a href="rfc7231.html">RFC 7231</a>,
              DOI 10.17487/RFC7231, June 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7231">http://www.rfc-editor.org/info/rfc7231</a>&gt;.

   [<a name="ref-RFC7235" id="ref-RFC7235">RFC7235</a>]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Authentication", <a href="rfc7235.html">RFC 7235</a>,
              DOI 10.17487/RFC7235, June 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7235">http://www.rfc-editor.org/info/rfc7235</a>&gt;.







<span class="grey">Cartwright, et al.           Standards Track                   [Page 81]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-82" id="page-82" href="#page-82" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


   [<a name="ref-RFC7525" id="ref-RFC7525">RFC7525</a>]  Sheffer, Y., Holz, R., and P. Saint-Andre,
              "Recommendations for Secure Use of Transport Layer
              Security (TLS) and Datagram Transport Layer Security
              (DTLS)", <a href="https://tools.ietf.org/html/bcp195">BCP 195</a>, <a href="rfc7525.html">RFC 7525</a>, DOI 10.17487/RFC7525, May
              2015, &lt;<a href="http://www.rfc-editor.org/info/rfc7525">http://www.rfc-editor.org/info/rfc7525</a>&gt;.

   [<a name="ref-RFC7877" id="ref-RFC7877">RFC7877</a>]  Cartwright, K., Bhatia, V., Ali, S., and D. Schwartz,
              "Session Peering Provisioning Framework (SPPF)", <a href="rfc7877.html">RFC 7877</a>,
              DOI 10.17487/RFC7877, August 2016,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7877">http://www.rfc-editor.org/info/rfc7877</a>&gt;.

   [<a name="ref-SOAPREF" id="ref-SOAPREF">SOAPREF</a>]  Gudgin, M., Hadley, M., Moreau, J., and H. Nielsen, "SOAP
              Version 1.2 Part 1: Messaging Framework (Second Edition)",
              W3C Recommendation REC-SOAP12-part1-20070427, April 2007,
              &lt;<a href="http://www.w3.org/TR/soap12-part1/">http://www.w3.org/TR/soap12-part1/</a>&gt;.

<span class="h3"><a class="selflink" name="section-13.2" href="#section-13.2">13.2</a>.  Informative References</span>

   [<a name="ref-RFC2818" id="ref-RFC2818">RFC2818</a>]  Rescorla, E., "HTTP Over TLS", <a href="rfc2818.html">RFC 2818</a>,
              DOI 10.17487/RFC2818, May 2000,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2818">http://www.rfc-editor.org/info/rfc2818</a>&gt;.

   [<a name="ref-RFC5321" id="ref-RFC5321">RFC5321</a>]  Klensin, J., "Simple Mail Transfer Protocol", <a href="rfc5321.html">RFC 5321</a>,
              DOI 10.17487/RFC5321, October 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5321">http://www.rfc-editor.org/info/rfc5321</a>&gt;.

   [<a name="ref-W3C.REC-xml-20081126" id="ref-W3C.REC-xml-20081126">W3C.REC-xml-20081126</a>]
              Sperberg-McQueen, C., Yergeau, F., Bray, T., Maler, E.,
              and J. Paoli, "Extensible Markup Language (XML) 1.0 (Fifth
              Edition)", W3C Recommendation REC-xml-20081126, November
              2008, &lt;<a href="http://www.w3.org/TR/2008/REC-xml-20081126">http://www.w3.org/TR/2008/REC-xml-20081126</a>&gt;.

   [<a name="ref-WSDLREF" id="ref-WSDLREF">WSDLREF</a>]  Christensen, E., Curbera, F., Meredith, G., and S.
              Weerawarana, "Web Services Description Language (WSDL)
              1.1", W3C Note NOTE-wsdl-20010315, March 2001,
              &lt;<a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315">http://www.w3.org/TR/2001/NOTE-wsdl-20010315</a>&gt;.

Acknowledgements

   This document is a result of various discussions held with the IETF
   DRINKS working group, specifically the protocol design team, with
   contributions from the following individuals, in alphabetical order:
   Syed Ali, Vikas Bhatia, Kenneth Cartwright, Sumanth Channabasappa,
   Lisa Dusseault, Deborah A.  Guyton, Scott Hollenbeck, Otmar Lendl,
   Manjul Maharishi, Mickael Marrache, Alexander Mayrhofer, Samuel
   Melloul, Jean-Francois Mule, Peter Saint-Andre, David Schwartz, and
   Richard Shockey.




<span class="grey">Cartwright, et al.           Standards Track                   [Page 82]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-83" id="page-83" href="#page-83" class="invisible"> </a>
<span class="grey"><a href="rfc7878.html">RFC 7878</a>                 SPP Protocol over SOAP              August 2016</span>


Authors' Addresses

   Kenneth Cartwright
   TNS
   10740 Parkridge Boulevard
   Reston, VA  20191
   United States

   Email: kcartwright@tnsi.com


   Vikas Bhatia
   TNS
   10740 Parkridge Boulevard
   Reston, VA  20191
   United States

   Email: vbhatia@tnsi.com


   Jean-Francois Mule
   Apple Inc.
   1 Infinite Loop
   Cupertino, CA  95014
   United States

   Email: jfmule@apple.com


   Alexander Mayrhofer
   nic.at GmbH
   Karlsplatz 1/2/9
   Wien  A-1010
   Austria

   Email: alexander.mayrhofer@nic.at















Cartwright, et al.           Standards Track                   [Page 83]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129c, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc7878 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:23:30 GMT -->
</html>
