<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc8304 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 13:46:10 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.127" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-fairhurst-taps-transports-usage-udp" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:8304" name="DC.Identifier"/>
<meta content="February, 2018" name="DC.Date.Issued"/>
<meta content="Jones, Tom" name="DC.Creator"/>
<meta content="Fairhurst, Gorry" name="DC.Creator"/>
<meta content="This is an informational document that describes the transport
protocol interface primitives provided by the User Datagram Protocol
(UDP) and the Lightweight User Datagram Protocol (UDP-Lite) transport
protocols. It identifies the datagram services exposed to applications
and how an application can configure and use the features offered by
the Internet datagram transport service. RFC 8303 documents the usage
of transport features provided by IETF transport protocols, describing
the way UDP, UDP-Lite, and other transport protocols expose their
services to applications and how an application can configure and use
the features that make up these services. This document provides input
to and context for that document, as well as offers a road map to
documentation that may help users of the UDP and UDP-Lite protocols." name="DC.Description.Abstract"/>
<meta content="Transport Features of the User Datagram Protocol (UDP) and Lightweight UDP (UDP-Lite)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 8304 - Transport Features of the User Datagram Protocol (UDP) and Lightweight UDP (UDP-Lite)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc8304.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc8304" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-taps-transports-usage-udp" title="draft-ietf-taps-transports-usage-udp">draft-ietf-taps...</a>] [<a href="https://datatracker.ietf.org/doc/rfc8304" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc8304" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc8304" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                      G. Fairhurst
Request for Comments: 8304                                      T. Jones
Category: Informational                           University of Aberdeen
ISSN: 2070-1721                                            February 2018


         <span class="h1">Transport Features of the User Datagram Protocol (UDP)</span>
                     <span class="h1">and Lightweight UDP (UDP-Lite)</span>

Abstract

   This is an informational document that describes the transport
   protocol interface primitives provided by the User Datagram Protocol
   (UDP) and the Lightweight User Datagram Protocol (UDP-Lite) transport
   protocols.  It identifies the datagram services exposed to
   applications and how an application can configure and use the
   features offered by the Internet datagram transport service.  <a href="rfc8303.html">RFC</a>
   <a href="rfc8303.html">8303</a> documents the usage of transport features provided by IETF
   transport protocols, describing the way UDP, UDP-Lite, and other
   transport protocols expose their services to applications and how an
   application can configure and use the features that make up these
   services.  This document provides input to and context for that
   document, as well as offers a road map to documentation that may help
   users of the UDP and UDP-Lite protocols.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc7841.html#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8304">https://www.rfc-editor.org/info/rfc8304</a>.











<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  UDP and UDP-Lite Primitives . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-3.1">3.1</a>.  Primitives Provided by UDP  . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
       <a href="#section-3.1.1">3.1.1</a>.  Excluded Primitives . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-3.2">3.2</a>.  Primitives Provided by UDP-Lite . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-4">4</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-6">6</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-6.1">6.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-6.2">6.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   <a href="#appendix-A">Appendix A</a>.  Multicast Primitives . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-20">20</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-20">20</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   This document presents defined interactions between transport
   protocols and applications in the form of 'primitives' (function
   calls) for the User Datagram Protocol (UDP) [<a href="https://tools.ietf.org/html/rfc0768" title='"User Datagram Protocol"'>RFC0768</a>] and the
   Lightweight User Datagram Protocol (UDP-Lite) [<a href="rfc3828.html" title='"The Lightweight User Datagram Protocol (UDP-Lite)"'>RFC3828</a>].  In this
   usage, the word application refers to any program built on the
   datagram interface, including tunnels and other upper-layer protocols
   that use UDP and UDP-Lite.

   UDP is widely implemented and deployed.  It is used for a wide range
   of applications.  A special class of applications can derive benefit
   from having partially damaged payloads delivered, rather than
   discarded, when using paths that include error-prone links.
   Applications that can tolerate payload corruption can choose to use
   UDP-Lite instead of UDP and use the application programming interface



<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   (API) to control checksum protection.  Conversely, UDP applications
   could choose to use UDP-Lite, but this is currently less widely
   deployed, and users could encounter paths that do not support
   UDP-Lite.  These topics are discussed more in <a href="#section-3.4">Section 3.4</a> of "UDP
   Usage Guidelines" [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].

   The IEEE standard API for TCP/IP applications is the "socket"
   interface [<a href="#ref-POSIX" title='"Standard for Information Technology - Portable Operating System Interface (POSIX(R)) Base Specifications"'>POSIX</a>].  An application can use the recv() and send()
   POSIX functions as well as the recvfrom(), sendto(), recvmsg(), and
   sendmsg() functions.  The UDP and UDP-Lite sockets API differs from
   that for TCP in several key ways.  (Examples of usage of this API are
   provided in [<a href="#ref-STEVENS" title='"UNIX Network Programming, The sockets Networking API"'>STEVENS</a>].)  In UDP and UDP-Lite, each datagram is a
   self-contained message of a specified length, and options at the
   transport layer can be used to set properties for all subsequent
   datagrams sent using a socket or changed for each datagram.  For
   datagrams, this can require the application to use the API to set
   IP-level information (IP Time To Live (TTL), Differentiated Services
   Code Point (DSCP), IP fragmentation, etc.) for the datagrams it sends
   and receives.  In contrast, when using TCP and other connection-
   oriented transports, the IP-level information normally either remains
   the same for the duration of a connection or is controlled by the
   transport protocol rather than the application.

   Socket options are used in the sockets API to provide additional
   functions.  For example, the IP_RECVTTL socket option is used by some
   UDP multicast applications to return the IP TTL field from the IP
   header of a received datagram.

   Some platforms also offer applications the ability to directly
   assemble and transmit IP packets through "raw sockets" or similar
   facilities.  The raw sockets API is a second, more cumbersome, method
   to send UDP datagrams.  The use of this API is discussed in the RFC
   series in the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].

   The list of transport service features and primitives in this
   document is strictly based on the parts of protocol specifications in
   the RFC series that relate to what the transport protocol provides to
   an application that uses it and how the application interacts with
   the transport protocol.  Primitives can be invoked by an application
   or a transport protocol; the latter type is called an "event".

   The description in <a href="#section-3">Section 3</a> follows the methodology defined by the
   IETF TAPS Working Group in [<a href="rfc8303.html" title='"On the Usage of Transport Features Provided by IETF Transport Protocols"'>RFC8303</a>].  Specifically, this document
   provides the first pass of this process, which discusses the relevant
   RFC text describing primitives for each protocol.  [<a href="rfc8303.html" title='"On the Usage of Transport Features Provided by IETF Transport Protocols"'>RFC8303</a>] uses
   this input to document the usage of transport features provided by
   IETF transport protocols, describing the way UDP, UDP-Lite, and other




<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   transport protocols expose their services to applications and how an
   application can configure and use the features that make up these
   services.

   The presented road map to documentation of the transport interface
   may also help developers working with UDP and UDP-Lite.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   This document provides details for the pass 1 analysis of UDP and
   UDP-Lite that is used in "On the Usage of Transport Features Provided
   by IETF Transport Protocols" [<a href="rfc8303.html" title='"On the Usage of Transport Features Provided by IETF Transport Protocols"'>RFC8303</a>].  It uses common terminology
   defined in that document and also quotes RFCs that use the
   terminology of <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20UDP%20and%20UDP-Lite%20Primitives"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  UDP and UDP-Lite Primitives</span>

   UDP [<a href="https://tools.ietf.org/html/rfc0768" title='"User Datagram Protocol"'>RFC0768</a>] [<a href="rfc8200.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC8200</a>] and UDP-Lite [<a href="rfc3828.html" title='"The Lightweight User Datagram Protocol (UDP-Lite)"'>RFC3828</a>] are IETF Standards
   Track transport protocols.  These protocols provide unidirectional,
   datagram services, supporting transmit and receive operations that
   preserve message boundaries.

   This section summarizes the relevant text parts of the RFCs
   describing the UDP and UDP-Lite protocols, focusing on what the
   transport protocols provide to the application and how the transport
   is used (based on abstract API descriptions, where they are
   available).  It describes how UDP is used with IPv4 or IPv6 to send
   unicast or anycast datagrams and is used to send broadcast datagrams
   for IPv4.  A set of network-layer primitives required to use UDP or
   UDP-Lite with IP multicast (for IPv4 and IPv6) have been specified in
   the RFC series.  <a href="#appendix-A">Appendix A</a> describes where to find documentation for
   network-layer primitives required to use UDP or UDP-Lite with IP
   multicast (for IPv4 and IPv6).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Primitives%20Provided%20by%20UDP"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Primitives Provided by UDP</span>

   "User Datagram Protocol" [<a href="https://tools.ietf.org/html/rfc0768" title='"User Datagram Protocol"'>RFC0768</a>] states:

      This User Datagram Protocol (UDP) is defined to make available a
      datagram mode of packet-switched computer communication in the
      environment of an interconnected set of computer networks...This
      protocol provides a procedure for application programs to send
      messages to other programs with a minimum of protocol mechanism.








<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   The User Interface section of <a href="rfc768.html">RFC 768</a> states that the user interface
   to an application should allow

      the creation of new receive ports, receive operations on the
      receive ports that return the data octets and an indication of
      source port and source address, and an operation that allows a
      datagram to be sent, specifying the data, source and destination
      ports and addresses to be sent.

   UDP has been defined for IPv6 [<a href="rfc8200.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC8200</a>], together with API extensions
   for "Basic Socket Interface Extensions for IPv6" [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>].

   [<a id="ref-RFC6935" name="ref-RFC6935">RFC6935</a>] and [<a href="rfc6936.html" title='"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"'>RFC6936</a>] define an update to the UDP transport
   originally specified in [<a href="rfc2460.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC2460</a>] (note that <a href="rfc2460.html">RFC 2460</a> has been
   obsoleted by <a href="rfc8200.html">RFC 8200</a>).  This enables use of a zero UDP checksum mode
   with a tunnel protocol, providing that the method satisfies the
   requirements in the corresponding applicability statement [<a href="rfc6936.html" title='"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"'>RFC6936</a>].

   UDP offers only a basic transport interface.  UDP datagrams may be
   directly sent and received, without exchanging messages between the
   endpoints to set up a connection (i.e., no handshake is performed by
   the transport protocol prior to communication).  Using the sockets
   API, applications can receive packets from more than one IP source
   address on a single UDP socket.  Common support allows specification
   of the local IP address, destination IP address, local port, and
   destination port values.  Any or all of these can be indicated, with
   defaults supplied by the local system when these are not specified.
   The local endpoint address is set using the BIND call.  At the remote
   end, the remote endpoint address is set using the CONNECT call.  The
   CLOSE function has local significance only.  It does not impact the
   status of the remote endpoint.

   Neither UDP nor UDP-Lite provide congestion control, retransmission,
   or mechanisms for application-level packetization that would avoid IP
   fragmentation and other transport functions.  This means that
   applications using UDP need to provide additional functions on top of
   the UDP transport API [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].  Some transport functions require
   parameters to be passed through the API to control the network layer
   (IPv4 or IPv6).  These additional primitives could be considered a
   part of the network layer (e.g., control of the setting of the Don't
   Fragment (DF) flag on a transmitted IPv4 datagram) but are
   nonetheless essential to allow a user of the UDP API to implement
   functions that are normally associated with the transport layer (such
   as probing for the path maximum transmission size).  This document
   includes such primitives.






<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   Guidance on the use of the services provided by UDP is provided in
   the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].  This also states that

      many operating systems also allow a UDP socket to be connected,
      i.e., to bind a UDP socket to a specific pair of addresses and
      ports.  This is similar to the corresponding TCP sockets API
      functionality.  However, for UDP, this is only a local operation
      that serves to simplify the local send/receive functions and to
      filter the traffic for the specified addresses and ports.  Binding
      a UDP socket does not establish a connection -- UDP does not
      notify the remote end when a local UDP socket is bound.  Binding a
      socket also allows configuring options that affect the UDP or IP
      layers, for example, use of the UDP checksum or the IP Timestamp
      option.  On some stacks, a bound socket also allows an application
      to be notified when ICMP error messages are received for its
      transmissions [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>].

   The POSIX Base Specifications [<a href="#ref-POSIX" title='"Standard for Information Technology - Portable Operating System Interface (POSIX(R)) Base Specifications"'>POSIX</a>] define an API that offers
   mechanisms for an application to receive asynchronous data events at
   the socket layer.  Calls such as "poll", "select", or "queue" allow
   an application to be notified when data has arrived at a socket or
   when a socket has flushed its buffers.

   A callback-driven API to the network interface can be structured on
   top of these calls.  Implicit connection setup allows an application
   to delegate connection life management to the transport API.  The
   transport API uses protocol primitives to offer the automated service
   to the application via the sockets API.  By combining UDP primitives
   (CONNECT.UDP and SEND.UDP), a higher-level API could offer a similar
   service.

   The following datagram primitives are specified:

   CONNECT:  The CONNECT primitive allows the association of source and
      destination port sets to a socket to enable creation of a
      'connection' for UDP traffic.  This UDP connection allows an
      application to be notified of errors received from the network
      stack and provides a shorthand access to the SEND and RECEIVE
      primitives.  Since UDP is itself connectionless, no datagrams are
      sent because this primitive is executed.  A further connect call
      can be used to change the association.










<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


      The roles of a client and a server are often not appropriate for
      UDP, where connections can be peer-to-peer.  The listening
      functions are performed using one of the forms of the CONNECT
      primitive:

      1.  bind(): A bind operation sets the local port either
          implicitly, triggered by a "sendto" operation on an unbound
          unconnected socket using an ephemeral port, or by an explicit
          "bind" to use a configured or well-known port.

      2.  bind(); connect(): A bind operation that is followed by a
          CONNECT primitive.  The bind operation establishes the use of
          a known local port for datagrams rather than using an
          ephemeral port.  The connect operation specifies a known
          address port combination to be used by default for future
          datagrams.  This form either is used after receiving a
          datagram from an endpoint that causes the creation of a
          connection or can be triggered by a third-party configuration
          or a protocol trigger (such as reception of a UDP Service
          Description Protocol (SDP) [<a href="rfc4566.html" title='"SDP: Session Description Protocol"'>RFC4566</a>] record).

   SEND:  The SEND primitive hands over a provided number of bytes that
      UDP should send to the other side of a UDP connection in a UDP
      datagram.  The primitive can be used by an application to directly
      send datagrams to an endpoint defined by an address/port pair.  If
      a connection has been created, then the address/port pair is
      inferred from the current connection for the socket.  Connecting a
      socket allows network errors to be returned to the application as
      a notification on the SEND primitive.  Messages passed to the SEND
      primitive that cannot be sent atomically in an IP packet will not
      be sent by the network layer, generating an error.

   RECEIVE:  The RECEIVE primitive allocates a receiving buffer to
      accommodate a received datagram.  The primitive returns the number
      of bytes provided from a received UDP datagram.  <a href="#section-4.1.3.5">Section 4.1.3.5</a>
      of the requirements of Internet hosts [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>] states "When a UDP
      datagram is received, its specific-destination address MUST be
      passed up to the application layer."

   CHECKSUM_ENABLED:  The optional CHECKSUM_ENABLED primitive controls
      whether a sender enables the UDP checksum when sending datagrams
      [<a href="https://tools.ietf.org/html/rfc0768" title='"User Datagram Protocol"'>RFC0768</a>] [<a href="rfc6935.html" title='"IPv6 and UDP Checksums for Tunneled Packets"'>RFC6935</a>] [<a href="rfc6936.html" title='"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"'>RFC6936</a>] [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].  When unset, this
      overrides the default UDP behavior, disabling the checksum on
      sending.  <a href="#section-4.1.3.4">Section 4.1.3.4</a> of the requirements for Internet hosts
      [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>] states that "An application MAY optionally be able to
      control whether a UDP checksum will be generated, but it MUST
      default to checksumming on."




<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   REQUIRE_CHECKSUM:  The optional REQUIRE_CHECKSUM primitive determines
      whether UDP datagrams received with a zero checksum are permitted
      or discarded; UDP defaults to requiring checksums.
      <a href="#section-4.1.3.4">Section 4.1.3.4</a> of the requirements for Internet hosts [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>]
      states that "An application MAY optionally be able to control
      whether UDP datagrams without checksums should be discarded or
      passed to the application."  <a href="#section-3.1">Section 3.1</a> of the specification for
      UDP-Lite [<a href="rfc3828.html" title='"The Lightweight User Datagram Protocol (UDP-Lite)"'>RFC3828</a>] requires that the checksum field be non-zero;
      hence, the UDP-Lite API must discard all datagrams received with a
      zero checksum.

   SET_IP_OPTIONS:  The SET_IP_OPTIONS primitive requests the network
      layer to send a datagram with the specified IP options.
      <a href="#section-4.1.3.2">Section 4.1.3.2</a> of the requirements for Internet hosts [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>]
      states that an "application MUST be able to specify IP options to
      be sent in its UDP datagrams, and UDP MUST pass these options to
      the IP layer."

   GET_IP_OPTIONS:  The GET_IP_OPTIONS primitive retrieves the IP
      options of a datagram received at the network layer.
      <a href="#section-4.1.3.2">Section 4.1.3.2</a> of the requirements for Internet hosts [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>]
      states that a UDP receiver "MUST pass any IP option that it
      receives from the IP layer transparently to the application
      layer."

   SET_DF:  The SET_DF primitive allows the network layer to fragment
      packets using the Fragment Offset in IPv4 [<a href="rfc6864.html" title='"Updated Specification of the IPv4 ID Field"'>RFC6864</a>] and a host to
      use Fragment Headers in IPv6 [<a href="rfc8200.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC8200</a>].  The SET_DF primitive sets
      the Don't Fragment (DF) flag in the IPv4 packet header that
      carries a UDP datagram, which allows routers to fragment IPv4
      packets.  Although some specific applications rely on
      fragmentation support, in general, a UDP application should
      implement a method that avoids IP fragmentation (<a href="rfc8085.html#section-4">Section 4 of
      [RFC8085]</a>).  NOTE: In many other IETF transports (e.g., TCP and
      the Stream Control Transmission Protocol (SCTP)), the transport
      provides the support needed to use DF.  However, when using UDP,
      the application is responsible for the techniques needed to
      discover the effective Path MTU (PMTU) allowed on the network
      path, coordinating with the network layer.  Classical Path MTU
      Discovery (PMTUD) [<a href="rfc1191.html" title='"Path MTU discovery"'>RFC1191</a>] relies upon the network path returning
      ICMP Fragmentation Needed or ICMPv6 Packet Too Big messages to the
      sender.  When these ICMP messages are not delivered (or filtered),
      a sender is unable to learn the actual PMTU, and UDP datagrams
      larger than the PMTU will be "black holed".  To avoid this, an
      application can instead implement Packetization Layer Path MTU
      Discovery (PLPMTUD) [<a href="rfc4821.html" title='"Packetization Layer Path MTU Discovery"'>RFC4821</a>] that does not rely upon network





<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


      support for ICMPv6 messages and is therefore considered more
      robust than standard PMTUD, as recommended in [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>] and
      [<a href="rfc8201.html" title='"Path MTU Discovery for IP version 6"'>RFC8201</a>].

   GET_MMS_S:  The GET_MMS_S primitive retrieves a network-layer value
      that indicates the maximum message size (MMS) that may be sent at
      the transport layer using a non-fragmented IP packet from the
      configured interface.  This value is specified in <a href="rfc1191.html#section-6.1">Section 6.1 of
      [RFC1191]</a> and <a href="rfc8201.html#section-5.1">Section 5.1 of [RFC8201]</a>.  It is calculated from
      Effective MTU for Sending (EMTU_S) and the link MTU for the given
      source IP address.  This takes into account the size of the IP
      header plus space reserved by the IP layer for additional headers
      (if any).  UDP applications should use this value as part of a
      method to avoid sending UDP datagrams that would result in IP
      packets that exceed the effective PMTU allowed across the network
      path.  The effective PMTU (specified in <a href="rfc1191.html#section-1">Section 1 of [RFC1191]</a>) is
      equivalent to the EMTU_S (specified in [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>]).  The
      specification of PLPMTUD [<a href="rfc4821.html" title='"Packetization Layer Path MTU Discovery"'>RFC4821</a>] states:

         If PLPMTUD updates the MTU for a particular path, all
         Packetization Layer sessions that share the path representation
         (as described in <a href="#section-5.2">Section 5.2</a>) SHOULD be notified to make use of
         the new MTU and make the required congestion control
         adjustments.

   GET_MMS_R:  The GET_MMS_R primitive retrieves a network-layer value
      that indicates the MMS that may be received at the transport layer
      from the configured interface.  This value is specified in
      <a href="rfc1191.html#section-3.1">Section 3.1 of [RFC1191]</a>.  It is calculated from Effective MTU for
      Receiving (EMTU_R) and the link MTU for the given source IP
      address, and it takes into account the size of the IP header plus
      space reserved by the IP layer for additional headers (if any).

   SET_TTL:  The SET_TTL primitive sets the Hop Limit (TTL field) in the
      network layer that is used in the IPv4 header of a packet that
      carries a UDP datagram.  This is used to limit the scope of
      unicast datagrams.  <a href="#section-3.2.2.4">Section 3.2.2.4</a> of the requirements for
      Internet hosts [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>] states that "An incoming Time Exceeded
      message MUST be passed to the transport layer."

   GET_TTL:  The GET_TTL primitive retrieves the value of the TTL field
      in an IP packet received at the network layer.  An application
      using the Generalized TTL Security Mechanism (GTSM) [<a href="rfc5082.html" title='"The Generalized TTL Security Mechanism (GTSM)"'>RFC5082</a>] can
      use this information to trust datagrams with a TTL value within
      the expected range, as described in <a href="rfc5082.html#section-3">Section 3 of RFC 5082</a>.






<span class="grey">Fairhurst &amp; Jones             Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   SET_MIN_TTL:  The SET_MIN_TTL primitive restricts datagrams delivered
      to the application to those received with an IP TTL value greater
      than or equal to the passed parameter.  This primitive can be used
      to implement applications such as GTSM [<a href="rfc5082.html" title='"The Generalized TTL Security Mechanism (GTSM)"'>RFC5082</a>] too, as described
      in <a href="rfc5082.html#section-3">Section 3 of RFC 5082</a>, but this RFC does not specify this
      method.

   SET_IPV6_UNICAST_HOPS:  The SET_IPV6_UNICAST_HOPS primitive sets the
      network-layer Hop Limit field in an IPv6 packet header [<a href="rfc8200.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC8200</a>]
      carrying a UDP datagram.  For IPv6 unicast datagrams, this is
      functionally equivalent to the SET_TTL IPv4 function.

   GET_IPV6_UNICAST_HOPS:  The GET_IPV6_UNICAST_HOPS primitive is a
      network-layer function that reads the hop count in the IPv6 header
      [<a href="rfc8200.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC8200</a>] information of a received UDP datagram.  This is
      specified in <a href="rfc3542.html#section-6.3">Section 6.3 of RFC 3542</a>.  For IPv6 unicast datagrams,
      this is functionally equivalent to the GET_TTL IPv4 function.

   SET_DSCP:  The SET_DSCP primitive is a network-layer function that
      sets the DSCP (or the legacy Type of Service (ToS)) value
      [<a href="rfc2474.html" title='"Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers"'>RFC2474</a>] to be used in the field of an IP header of a packet that
      carries a UDP datagram.  <a href="#section-2.4">Section 2.4</a> of the requirements for
      Internet hosts [<a href="rfc1123.html" title='"Requirements for Internet Hosts - Application and Support"'>RFC1123</a>] states that "Applications MUST select
      appropriate ToS values when they invoke transport layer services,
      and these values MUST be configurable."  The application should be
      able to change the ToS during the connection lifetime, and the ToS
      value should be passed to the IP layer unchanged.  <a href="rfc1122.html#section-4.1.4">Section 4.1.4
      of [RFC1122]</a> also states that on reception the "UDP MAY pass the
      received ToS up to the application layer."  The Diffserv model
      [<a href="rfc2475.html" title='"An Architecture for Differentiated Services"'>RFC2475</a>] [<a href="rfc3260.html" title='"New Terminology and Clarifications for Diffserv"'>RFC3260</a>] replaces this field in the IP header assigning
      the six most significant bits to carry the DSCP field [<a href="rfc2474.html" title='"Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers"'>RFC2474</a>].
      Preserving the intention of the host requirements [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>] to
      allow the application to specify the "Type of Service" should be
      interpreted to mean that an API should allow the application to
      set the DSCP.  <a href="#section-3.1.8">Section 3.1.8</a> of the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>]
      describes the way UDP applications should use this field.
      Normally, a UDP socket will assign a single DSCP value to all
      datagrams in a flow, but a sender is allowed to use different DSCP
      values for datagrams within the same flow in certain cases
      [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].  There are guidelines for WebRTC that illustrate this
      use [<a href="rfc7657.html" title='"Differentiated Services (Diffserv) and Real-Time Communication"'>RFC7657</a>].

   SET_ECN:  The SET_ECN primitive is a network-layer function that sets
      the Explicit Congestion Notification (ECN) field in the IP header
      of a UDP datagram.  The ECN field defaults to a value of 00.  When
      the use of the ToS field was redefined by Diffserv [<a href="rfc3260.html" title='"New Terminology and Clarifications for Diffserv"'>RFC3260</a>], 2
      bits of the field were assigned to support ECN [<a href="rfc3168.html" title='"The Addition of Explicit Congestion Notification (ECN) to IP"'>RFC3168</a>].
      <a href="#section-3.1.5">Section 3.1.5</a> of the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>] describes the way



<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


      UDP applications should use this field.  NOTE: In many other IETF
      transports (e.g., TCP), the transport provides the support needed
      to use ECN; when using UDP, the application or higher-layer
      protocol is itself responsible for the techniques needed to use
      ECN.

   GET_ECN:  The GET_ECN primitive is a network-layer function that
      returns the value of the ECN field in the IP header of a received
      UDP datagram.  <a href="rfc8085.html#section-3.1.5">Section 3.1.5 of [RFC8085]</a> states that a UDP
      receiver "MUST check the ECN field at the receiver for each UDP
      datagram that it receives on this port", requiring the UDP
      receiver API to pass the received ECN field up to the application
      layer to enable appropriate congestion feedback.

   ERROR_REPORT:  The ERROR_REPORT event informs an application of "soft
      errors", including the arrival of an ICMP or ICMPv6 error message.
      <a href="#section-4.1.4">Section 4.1.4</a> of the requirements for Internet hosts [<a href="rfc1122.html" title='"Requirements for Internet Hosts - Communication Layers"'>RFC1122</a>]
      states that "UDP MUST pass to the application layer all ICMP error
      messages that it receives from the IP layer."  For example, this
      event is required to implement ICMP-based Path MTU Discovery
      [<a href="rfc1191.html" title='"Path MTU discovery"'>RFC1191</a>] [<a href="rfc8201.html" title='"Path MTU Discovery for IP version 6"'>RFC8201</a>].  UDP applications must perform a CONNECT to
      receive ICMP errors.

   CLOSE:  The CLOSE primitive closes a connection.  No further
      datagrams can be sent or received.  Since UDP is itself
      connectionless, no datagrams are sent when this primitive is
      executed.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.1.%20%20Excluded%20Primitives"></a><a class="selflink" href="#section-3.1.1" name="section-3.1.1">3.1.1</a>.  Excluded Primitives</span>

   In the requirements for Internet hosts <a href="rfc1122.html#section-3.4">[RFC1122], Section 3.4</a>
   describes GET_MAXSIZES and ADVISE_DELIVPROB, and <a href="#section-3.3.4.4">Section 3.3.4.4</a>
   describes GET_SRCADDR.  These mechanisms are no longer used.  It also
   specifies use of the Source Quench ICMP message, which has since been
   deprecated [<a href="rfc6633.html" title='"Deprecation of ICMP Source Quench Messages"'>RFC6633</a>].

   The IPV6_V6ONLY function is a network-layer primitive that applies to
   all transport services, as defined in <a href="#section-5.3">Section 5.3</a> of the basic socket
   interface for IPv6 [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>].  This restricts the use of information
   from the name resolver to only allow communication of AF_INET6
   sockets to use IPv6 only.  This is not considered part of the
   transport service.









<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Primitives%20Provided%20by%20UDP-Lite"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Primitives Provided by UDP-Lite</span>

   UDP-Lite [<a href="rfc3828.html" title='"The Lightweight User Datagram Protocol (UDP-Lite)"'>RFC3828</a>] provides similar services to UDP.  It changed the
   semantics of the UDP "payload length" field to that of a "checksum
   coverage length" field.  UDP-Lite requires the pseudo-header checksum
   to be computed at the sender and checked at a receiver.  Apart from
   the length and coverage changes, UDP-Lite is semantically identical
   to UDP.

   The sending interface of UDP-Lite differs from that of UDP by the
   addition of a single (socket) option that communicates the checksum
   coverage length.  This specifies the intended checksum coverage, with
   the remaining unprotected part of the payload called the "error-
   insensitive part".

   The receiving interface of UDP-Lite differs from that of UDP by the
   addition of a single (socket) option that specifies the minimum
   acceptable checksum coverage.  The UDP-Lite Management Information
   Base (MIB) [<a href="rfc5097.html" title='"MIB for the UDP-Lite protocol"'>RFC5097</a>] further defines the checksum coverage method.
   Guidance on the use of services provided by UDP-Lite is provided in
   the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].

   UDP-Lite requires use of the UDP or UDP-Lite checksum; hence, it is
   not permitted to use the DISABLE_CHECKSUM function to disable use of
   a checksum, nor is it possible to disable receiver checksum
   processing using the REQUIRE_CHECKSUM function.  All other primitives
   and functions for UDP are permitted.

   In addition, the following are defined:

   SET_CHECKSUM_COVERAGE:  The SET_CHECKSUM_COVERAGE primitive sets the
      coverage area for a sent datagram.  UDP-Lite traffic uses this
      primitive to set the coverage length provided by the UDP checksum.
      <a href="#section-3.3">Section 3.3</a> of the UDP-Lite specification [<a href="rfc3828.html" title='"The Lightweight User Datagram Protocol (UDP-Lite)"'>RFC3828</a>] states that
      "Applications that wish to define the payload as partially
      insensitive to bit errors...should do this by an explicit system
      call on the sender side."  The default is to provide the same
      coverage as for UDP.

   SET_MIN_COVERAGE:  The SET_MIN_COVERAGE primitive sets the minimum
      acceptable coverage protection for received datagrams.  UDP-Lite
      traffic uses this primitive to set the coverage length that is
      checked on receive.  (<a href="rfc5097.html#section-1.1">Section 1.1 of [RFC5097]</a> describes the
      corresponding MIB entry as udpliteEndpointMinCoverage.)
      <a href="#section-3.3">Section 3.3</a> of the UDP-Lite specification [<a href="rfc3828.html" title='"The Lightweight User Datagram Protocol (UDP-Lite)"'>RFC3828</a>] states that
      "Applications that wish to receive payloads that were only





<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


      partially covered by a checksum should inform the receiving system
      by an explicit system call."  The default is to require only
      minimal coverage of the datagram payload.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  IANA Considerations</span>

   This document does not require any IANA actions.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   Security considerations for the use of UDP and UDP-Lite are provided
   in the referenced RFCs.  Security guidance for application usage is
   provided in the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20References"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Normative%20References"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Normative References</span>

   [<a id="ref-RFC0768" name="ref-RFC0768">RFC0768</a>]  Postel, J., "User Datagram Protocol", STD 6, <a href="rfc768.html">RFC 768</a>,
              DOI 10.17487/RFC0768, August 1980,
              &lt;<a href="https://www.rfc-editor.org/info/rfc768">https://www.rfc-editor.org/info/rfc768</a>&gt;.

   [<a id="ref-RFC1112" name="ref-RFC1112">RFC1112</a>]  Deering, S., "Host extensions for IP multicasting", STD 5,
              <a href="rfc1112.html">RFC 1112</a>, DOI 10.17487/RFC1112, August 1989,
              &lt;<a href="https://www.rfc-editor.org/info/rfc1112">https://www.rfc-editor.org/info/rfc1112</a>&gt;.

   [<a id="ref-RFC1122" name="ref-RFC1122">RFC1122</a>]  Braden, R., Ed., "Requirements for Internet Hosts -
              Communication Layers", STD 3, <a href="rfc1122.html">RFC 1122</a>,
              DOI 10.17487/RFC1122, October 1989,
              &lt;<a href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;.

   [<a id="ref-RFC1123" name="ref-RFC1123">RFC1123</a>]  Braden, R., Ed., "Requirements for Internet Hosts -
              Application and Support", STD 3, <a href="rfc1123.html">RFC 1123</a>,
              DOI 10.17487/RFC1123, October 1989,
              &lt;<a href="https://www.rfc-editor.org/info/rfc1123">https://www.rfc-editor.org/info/rfc1123</a>&gt;.

   [<a id="ref-RFC1191" name="ref-RFC1191">RFC1191</a>]  Mogul, J. and S. Deering, "Path MTU discovery", <a href="rfc1191.html">RFC 1191</a>,
              DOI 10.17487/RFC1191, November 1990,
              &lt;<a href="https://www.rfc-editor.org/info/rfc1191">https://www.rfc-editor.org/info/rfc1191</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.







<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   [<a id="ref-RFC3168" name="ref-RFC3168">RFC3168</a>]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition
              of Explicit Congestion Notification (ECN) to IP",
              <a href="rfc3168.html">RFC 3168</a>, DOI 10.17487/RFC3168, September 2001,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3168">https://www.rfc-editor.org/info/rfc3168</a>&gt;.

   [<a id="ref-RFC3493" name="ref-RFC3493">RFC3493</a>]  Gilligan, R., Thomson, S., Bound, J., McCann, J., and W.
              Stevens, "Basic Socket Interface Extensions for IPv6",
              <a href="rfc3493.html">RFC 3493</a>, DOI 10.17487/RFC3493, February 2003,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3493">https://www.rfc-editor.org/info/rfc3493</a>&gt;.

   [<a id="ref-RFC3828" name="ref-RFC3828">RFC3828</a>]  Larzon, L-A., Degermark, M., Pink, S., Jonsson, L-E., Ed.,
              and G. Fairhurst, Ed., "The Lightweight User Datagram
              Protocol (UDP-Lite)", <a href="rfc3828.html">RFC 3828</a>, DOI 10.17487/RFC3828, July
              2004, &lt;<a href="https://www.rfc-editor.org/info/rfc3828">https://www.rfc-editor.org/info/rfc3828</a>&gt;.

   [<a id="ref-RFC6864" name="ref-RFC6864">RFC6864</a>]  Touch, J., "Updated Specification of the IPv4 ID Field",
              <a href="rfc6864.html">RFC 6864</a>, DOI 10.17487/RFC6864, February 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6864">https://www.rfc-editor.org/info/rfc6864</a>&gt;.

   [<a id="ref-RFC6935" name="ref-RFC6935">RFC6935</a>]  Eubanks, M., Chimento, P., and M. Westerlund, "IPv6 and
              UDP Checksums for Tunneled Packets", <a href="rfc6935.html">RFC 6935</a>,
              DOI 10.17487/RFC6935, April 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6935">https://www.rfc-editor.org/info/rfc6935</a>&gt;.

   [<a id="ref-RFC6936" name="ref-RFC6936">RFC6936</a>]  Fairhurst, G. and M. Westerlund, "Applicability Statement
              for the Use of IPv6 UDP Datagrams with Zero Checksums",
              <a href="rfc6936.html">RFC 6936</a>, DOI 10.17487/RFC6936, April 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6936">https://www.rfc-editor.org/info/rfc6936</a>&gt;.

   [<a id="ref-RFC8085" name="ref-RFC8085">RFC8085</a>]  Eggert, L., Fairhurst, G., and G. Shepherd, "UDP Usage
              Guidelines", <a href="https://tools.ietf.org/html/bcp145">BCP 145</a>, <a href="rfc8085.html">RFC 8085</a>, DOI 10.17487/RFC8085,
              March 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8085">https://www.rfc-editor.org/info/rfc8085</a>&gt;.

   [<a id="ref-RFC8200" name="ref-RFC8200">RFC8200</a>]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", STD 86, <a href="rfc8200.html">RFC 8200</a>,
              DOI 10.17487/RFC8200, July 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;.

   [<a id="ref-RFC8201" name="ref-RFC8201">RFC8201</a>]  McCann, J., Deering, S., Mogul, J., and R. Hinden, Ed.,
              "Path MTU Discovery for IP version 6", STD 87, <a href="rfc8201.html">RFC 8201</a>,
              DOI 10.17487/RFC8201, July 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8201">https://www.rfc-editor.org/info/rfc8201</a>&gt;.

   [<a id="ref-RFC8303" name="ref-RFC8303">RFC8303</a>]  Welzl, M., Tuexen, M., and N. Khademi, "On the Usage of
              Transport Features Provided by IETF Transport Protocols",
              <a href="rfc8303.html">RFC 8303</a>, DOI 10.17487/RFC8303, February 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8303">https://www.rfc-editor.org/info/rfc8303</a>&gt;.




<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Informative%20References"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Informative References</span>

   [<a id="ref-POSIX" name="ref-POSIX">POSIX</a>]    IEEE, "Standard for Information Technology - Portable
              Operating System Interface (POSIX(R)) Base
              Specifications", Issue 7, IEEE 1003.1,
              &lt;<a href="http://ieeexplore.ieee.org/document/7582338/">http://ieeexplore.ieee.org/document/7582338/</a>&gt;.

   [<a id="ref-RFC2460" name="ref-RFC2460">RFC2460</a>]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", <a href="rfc2460.html">RFC 2460</a>, DOI 10.17487/RFC2460,
              December 1998, &lt;<a href="https://www.rfc-editor.org/info/rfc2460">https://www.rfc-editor.org/info/rfc2460</a>&gt;.

   [<a id="ref-RFC2474" name="ref-RFC2474">RFC2474</a>]  Nichols, K., Blake, S., Baker, F., and D. Black,
              "Definition of the Differentiated Services Field (DS
              Field) in the IPv4 and IPv6 Headers", <a href="rfc2474.html">RFC 2474</a>,
              DOI 10.17487/RFC2474, December 1998,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2474">https://www.rfc-editor.org/info/rfc2474</a>&gt;.

   [<a id="ref-RFC2475" name="ref-RFC2475">RFC2475</a>]  Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z.,
              and W. Weiss, "An Architecture for Differentiated
              Services", <a href="rfc2475.html">RFC 2475</a>, DOI 10.17487/RFC2475, December 1998,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2475">https://www.rfc-editor.org/info/rfc2475</a>&gt;.

   [<a id="ref-RFC3260" name="ref-RFC3260">RFC3260</a>]  Grossman, D., "New Terminology and Clarifications for
              Diffserv", <a href="rfc3260.html">RFC 3260</a>, DOI 10.17487/RFC3260, April 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3260">https://www.rfc-editor.org/info/rfc3260</a>&gt;.

   [<a id="ref-RFC3376" name="ref-RFC3376">RFC3376</a>]  Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A.
              Thyagarajan, "Internet Group Management Protocol, Version
              3", <a href="rfc3376.html">RFC 3376</a>, DOI 10.17487/RFC3376, October 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3376">https://www.rfc-editor.org/info/rfc3376</a>&gt;.

   [<a id="ref-RFC3678" name="ref-RFC3678">RFC3678</a>]  Thaler, D., Fenner, B., and B. Quinn, "Socket Interface
              Extensions for Multicast Source Filters", <a href="rfc3678.html">RFC 3678</a>,
              DOI 10.17487/RFC3678, January 2004,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3678">https://www.rfc-editor.org/info/rfc3678</a>&gt;.

   [<a id="ref-RFC3810" name="ref-RFC3810">RFC3810</a>]  Vida, R., Ed. and L. Costa, Ed., "Multicast Listener
              Discovery Version 2 (MLDv2) for IPv6", <a href="rfc3810.html">RFC 3810</a>,
              DOI 10.17487/RFC3810, June 2004,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3810">https://www.rfc-editor.org/info/rfc3810</a>&gt;.

   [<a id="ref-RFC4566" name="ref-RFC4566">RFC4566</a>]  Handley, M., Jacobson, V., and C. Perkins, "SDP: Session
              Description Protocol", <a href="rfc4566.html">RFC 4566</a>, DOI 10.17487/RFC4566,
              July 2006, &lt;<a href="https://www.rfc-editor.org/info/rfc4566">https://www.rfc-editor.org/info/rfc4566</a>&gt;.







<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   [<a id="ref-RFC4604" name="ref-RFC4604">RFC4604</a>]  Holbrook, H., Cain, B., and B. Haberman, "Using Internet
              Group Management Protocol Version 3 (IGMPv3) and Multicast
              Listener Discovery Protocol Version 2 (MLDv2) for Source-
              Specific Multicast", <a href="rfc4604.html">RFC 4604</a>, DOI 10.17487/RFC4604,
              August 2006, &lt;<a href="https://www.rfc-editor.org/info/rfc4604">https://www.rfc-editor.org/info/rfc4604</a>&gt;.

   [<a id="ref-RFC4821" name="ref-RFC4821">RFC4821</a>]  Mathis, M. and J. Heffner, "Packetization Layer Path MTU
              Discovery", <a href="rfc4821.html">RFC 4821</a>, DOI 10.17487/RFC4821, March 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4821">https://www.rfc-editor.org/info/rfc4821</a>&gt;.

   [<a id="ref-RFC5082" name="ref-RFC5082">RFC5082</a>]  Gill, V., Heasley, J., Meyer, D., Savola, P., Ed., and C.
              Pignataro, "The Generalized TTL Security Mechanism
              (GTSM)", <a href="rfc5082.html">RFC 5082</a>, DOI 10.17487/RFC5082, October 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5082">https://www.rfc-editor.org/info/rfc5082</a>&gt;.

   [<a id="ref-RFC5097" name="ref-RFC5097">RFC5097</a>]  Renker, G. and G. Fairhurst, "MIB for the UDP-Lite
              protocol", <a href="rfc5097.html">RFC 5097</a>, DOI 10.17487/RFC5097, January 2008,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5097">https://www.rfc-editor.org/info/rfc5097</a>&gt;.

   [<a id="ref-RFC5790" name="ref-RFC5790">RFC5790</a>]  Liu, H., Cao, W., and H. Asaeda, "Lightweight Internet
              Group Management Protocol Version 3 (IGMPv3) and Multicast
              Listener Discovery Version 2 (MLDv2) Protocols", <a href="rfc5790.html">RFC 5790</a>,
              DOI 10.17487/RFC5790, February 2010,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5790">https://www.rfc-editor.org/info/rfc5790</a>&gt;.

   [<a id="ref-RFC6633" name="ref-RFC6633">RFC6633</a>]  Gont, F., "Deprecation of ICMP Source Quench Messages",
              <a href="rfc6633.html">RFC 6633</a>, DOI 10.17487/RFC6633, May 2012,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6633">https://www.rfc-editor.org/info/rfc6633</a>&gt;.

   [<a id="ref-RFC7657" name="ref-RFC7657">RFC7657</a>]  Black, D., Ed. and P. Jones, "Differentiated Services
              (Diffserv) and Real-Time Communication", <a href="rfc7657.html">RFC 7657</a>,
              DOI 10.17487/RFC7657, November 2015,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7657">https://www.rfc-editor.org/info/rfc7657</a>&gt;.

   [<a id="ref-STEVENS" name="ref-STEVENS">STEVENS</a>]  Stevens, W., Fenner, B., and A. Rudoff, "UNIX Network
              Programming, The sockets Networking API", Volume 1,
              ISBN-13: 9780131411555, October 2003.














<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Multicast%20Primitives"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Multicast Primitives</span>

   This appendix describes primitives that are used when UDP and
   UDP-Lite support IPv4/IPv6 multicast.  Multicast services are not
   considered by the IETF TAPS WG, but the currently specified
   primitives are included for completeness in this appendix.  Guidance
   on the use of UDP and UDP-Lite for multicast services is provided in
   the UDP Guidelines [<a href="rfc8085.html" title='"UDP Usage Guidelines"'>RFC8085</a>].

   IP multicast may be supported by using the Any Source Multicast (ASM)
   model or the Source-Specific Multicast (SSM) model.  The latter
   requires use of a Multicast Source Filter (MSF) when specifying an IP
   multicast group destination address.

   Use of multicast requires additional primitives at the transport API
   that need to be called to coordinate operation of the IPv4 and IPv6
   network-layer protocols.  For example, to receive datagrams sent to a
   group, an endpoint must first become a member of a multicast group at
   the network layer.  Local multicast reception is signaled for IPv4 by
   the Internet Group Management Protocol (IGMP) [<a href="rfc3376.html" title='"Internet Group Management Protocol, Version 3"'>RFC3376</a>] [<a href="rfc4604.html" title='"Using Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Protocol Version 2 (MLDv2) for Source- Specific Multicast"'>RFC4604</a>].
   IPv6 uses the equivalent Multicast Listener Discovery (MLD) protocol
   [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>] [<a href="rfc5790.html" title='"Lightweight Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Version 2 (MLDv2) Protocols"'>RFC5790</a>], carried over ICMPv6.  A lightweight version of
   these protocols has also been specified [<a href="rfc5790.html" title='"Lightweight Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Version 2 (MLDv2) Protocols"'>RFC5790</a>].

   The following are defined:

   JoinHostGroup:  <a href="#section-7.1">Section 7.1</a> of "Host Extensions for IP Multicasting"
      [<a href="rfc1112.html" title='"Host extensions for IP multicasting"'>RFC1112</a>] provides a function that allows receiving traffic from
      an IP multicast group.

   JoinLocalGroup:  <a href="#section-7.3">Section 7.3</a> of "Host Extensions for IP Multicasting"
      [<a href="rfc1112.html" title='"Host extensions for IP multicasting"'>RFC1112</a>] provides a function that allows receiving traffic from a
      local IP multicast group.

   LeaveHostGroup:  <a href="#section-7.1">Section 7.1</a> of "Host Extensions for IP Multicasting"
      [<a href="rfc1112.html" title='"Host extensions for IP multicasting"'>RFC1112</a>] provides a function that allows leaving an IP multicast
      group.

   LeaveLocalGroup:  <a href="#section-7.3">Section 7.3</a> of "Host Extensions for IP
      Multicasting" [<a href="rfc1112.html" title='"Host extensions for IP multicasting"'>RFC1112</a>] provides a function that allows leaving a
      local IP multicast group.

   IPV6_MULTICAST_IF:  <a href="#section-5.2">Section 5.2</a> of the basic socket extensions for
      IPv6 [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>] states that this sets the interface that will be
      used for outgoing multicast packets.






<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   IP_MULTICAST_TTL:  This sets the time-to-live field t to use for
      outgoing IPv4 multicast packets.  This is used to limit the scope
      of multicast datagrams.  Methods such as "The Generalized TTL
      Security Mechanism (GTSM)" [<a href="rfc5082.html" title='"The Generalized TTL Security Mechanism (GTSM)"'>RFC5082</a>] set this value to ensure
      link-local transmission.  GTSM also requires the UDP receiver API
      to pass the received value of this field to the application.

   IPV6_MULTICAST_HOPS:  <a href="#section-5.2">Section 5.2</a> of the basic socket extensions for
      IPv6 [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>] states that this sets the hop count to use for
      outgoing multicast IPv6 packets.  (This is equivalent to
      IP_MULTICAST_TTL used for IPv4 multicast.)

   IPV6_MULTICAST_LOOP:  <a href="#section-5.2">Section 5.2</a> of the basic socket extensions for
      IPv6 [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>] states that this sets whether a copy of a datagram
      is looped back by the IP layer for local delivery when the
      datagram is sent to a group to which the sending host itself
      belongs).

   IPV6_JOIN_GROUP:  <a href="#section-5.2">Section 5.2</a> of the basic socket extensions for IPv6
      [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>] provides a function that allows an endpoint to join an
      IPv6 multicast group.

   SIOCGIPMSFILTER:  <a href="#section-8.1">Section 8.1</a> of the socket interface for MSF
      [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] provides a function that allows reading the multicast
      source filters.

   SIOCSIPMSFILTER:  <a href="#section-8.1">Section 8.1</a> of the socket interface for MSF
      [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] provides a function that allows setting/modifying the
      multicast source filters.

   IPV6_LEAVE_GROUP:  <a href="#section-5.2">Section 5.2</a> of the basic socket extensions for
      IPv6 [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>] provides a function that allows leaving an IPv6
      multicast group.

   The socket interface extensions for MSF [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] updates the
   multicast interface to add support for MSF for IPv4 and IPv6 required
   by IGMPv3.  <a href="#section-3">Section 3</a> defines both basic and advanced APIs, and
   <a href="#section-5">Section 5</a> describes protocol-independent versions of these APIs.
   Four sets of API functionality are therefore defined:

   1.  IPv4 Basic (Delta-based) API.  "Each function call specifies a
       single source address which should be added to or removed from
       the existing filter for a given multicast group address on which
       to listen."







<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   2.  IPv4 Advanced (Full-state) API.  "This API allows an application
       to define a complete source-filter comprised of zero or more
       source addresses, and replace the previous filter with a new
       one."

   3.  Protocol-Independent Basic MSF (Delta-based) API.

   4.  Protocol-Independent Advanced MSF (Full-state) API.

   It specifies the following primitives:

   IP_ADD_MEMBERSHIP:  This is used to join an ASM group.

   IP_BLOCK_SOURCE:  This MSF can block data from a given multicast
         source to a given ASM or SSM group.

   IP_UNBLOCK_SOURCE:  This updates an MSF to undo a previous call to
         IP_UNBLOCK_SOURCE for an ASM or SSM group.

   IP_DROP_MEMBERSHIP:  This is used to leave an ASM or SSM group.  (In
         SSM, this drops all sources that have been joined for a
         particular group and interface.  The operations are the same as
         if the socket had been closed.)

   <a href="#section-4.1.2">Section 4.1.2</a> of the socket interface for MSF [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] updates the
   interface to add IPv4 MSF support to IGMPv3 using ASM:

   IP_ADD_SOURCE_MEMBERSHIP:  This is used to join an SSM group.

   IP_DROP_SOURCE_MEMBERSHIP:  This is used to leave an SSM group.

   <a href="#section-4.2">Section 4.2</a> of the socket interface for MSF [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] defines the
   Advanced (Full-state) API:

   setipv4sourcefilter:  This is used to join an IPv4 multicast group or
         to enable multicast from a specified source.

   getipv4sourcefilter:  This is used to leave an IPv4 multicast group
         or to filter multicast from a specified source.

   <a href="#section-5.1">Section 5.1</a> of the socket interface for MSF [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] specifies
   Protocol-Independent Multicast API functions:

   MCAST_JOIN_GROUP:  This is used to join an ASM group.

   MCAST_JOIN_SOURCE_GROUP:  This is used to join an SSM group.

   MCAST_BLOCK_SOURCE:  This is used to block a source in an ASM group.



<span class="grey">Fairhurst &amp; Jones             Informational                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc8304.html">RFC 8304</a>                 UDP Transport Features            February 2018</span>


   MCAST_UNBLOCK_SOURCE:  This removes a previous MSF set by
         MCAST_BLOCK_SOURCE.

   MCAST_LEAVE_GROUP:  This leaves an ASM or SSM group.

   MCAST_LEAVE_SOURCE_GROUP:  This leaves an SSM group.

   <a href="#section-5.2">Section 5.2</a> of the socket interface for MSF [<a href="rfc3678.html" title='"Socket Interface Extensions for Multicast Source Filters"'>RFC3678</a>] specifies the
   Protocol-Independent Advanced MSF (Full-state) API applicable for
   both IPv4 and IPv6:

   setsourcefilter:  This is used to join an IPv4 or IPv6 multicast
         group or to enable multicast from a specified source.

   getsourcefilter:  This is used to leave an IPv4 or IPv6 multicast
         group or to filter multicast from a specified source.

   The Lightweight IGMPv3 (LW_IGMPv3) and MLDv2 protocol [<a href="rfc5790.html" title='"Lightweight Internet Group Management Protocol Version 3 (IGMPv3) and Multicast Listener Discovery Version 2 (MLDv2) Protocols"'>RFC5790</a>]
   updates this interface (in <a href="rfc5790.html#section-7.2">Section 7.2 of RFC 5790</a>).

Acknowledgements

   This work was partially funded by the European Union's Horizon 2020
   research and innovation programme under grant agreement No. 644334
   (NEAT).  Thanks to all who have commented or contributed, including
   Joe Touch, Ted Hardie, Aaron Falk, Tommy Pauly, and Francis Dupont.

Authors' Addresses

   Godred Fairhurst
   University of Aberdeen
   School of Engineering
   Fraser Noble Building
   Fraser Noble Building Aberdeen  AB24 3UE
   United Kingdom

   Email: gorry@erg.abdn.ac.uk


   Tom Jones
   University of Aberdeen
   School of Engineering
   Fraser Noble Building
   Aberdeen  AB24 3UE
   United Kingdom

   Email: tom@erg.abdn.ac.uk




Fairhurst &amp; Jones             Informational                    [Page 20]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc8304 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 13:46:10 GMT --></html>