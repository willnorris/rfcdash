<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4743 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:39 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:4743" name="DC.Identifier"/>
<meta content="The Network Configuration Protocol (NETCONF) is applicable to a wide
range of devices in a variety of environments. Web Services is one
such environment and is presently characterized by the use of the
Simple Object Access Protocol (SOAP). NETCONF finds many benefits in
this environment: from the reuse of existing standards, to ease of
software development, to integration with deployed systems. Herein, we
describe SOAP over HTTP and SOAP over Blocks Exchange Extensible
Protocol (BEEP) bindings for NETCONF. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Ted Goddard &lt;ted.goddard@icesoft.com&gt;" name="DC.Creator"/>
<meta content="December, 2006" name="DC.Date.Issued"/>
<meta content="Using NETCONF over the Simple Object Access Protocol (SOAP)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4743 - Using NETCONF over the Simple Object Access Protocol (SOAP)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bggrey" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc4743.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc4743" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-netconf-soap" title="draft-ietf-netconf-soap">draft-ietf-netc...</a>] [<a href="https://datatracker.ietf.org/doc/rfc4743" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4743" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc4743" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                                HISTORIC</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                         T. Goddard
Request for Comments: 4743                     ICEsoft Technologies Inc.
Category: Standards Track                                  December 2006


      <span class="h1">Using NETCONF over the Simple Object Access Protocol (SOAP)</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The IETF Trust (2006).


Abstract

   The Network Configuration Protocol (NETCONF) is applicable to a wide
   range of devices in a variety of environments.  Web Services is one
   such environment and is presently characterized by the use of the
   Simple Object Access Protocol (SOAP).  NETCONF finds many benefits in
   this environment: from the reuse of existing standards, to ease of
   software development, to integration with deployed systems.  Herein,
   we describe SOAP over HTTP and SOAP over Blocks Exchange Extensible
   Protocol (BEEP) bindings for NETCONF.





















<span class="grey">Goddard                     Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. SOAP Background for NETCONF .....................................<a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>. Use and Storage of WSDL and XSD ............................<a href="#page-4">4</a>
      <a href="#section-2.2">2.2</a>. SOAP over HTTP .............................................<a href="#page-4">4</a>
      <a href="#section-2.3">2.3</a>. HTTP Drawbacks .............................................<a href="#page-4">4</a>
      <a href="#section-2.4">2.4</a>. <a href="https://tools.ietf.org/html/bcp56">BCP56</a>: On the Use of HTTP as a Substrate ...................<a href="#page-5">5</a>
      <a href="#section-2.5">2.5</a>. Important HTTP 1.1 Features ................................<a href="#page-6">6</a>
      <a href="#section-2.6">2.6</a>. SOAP over BEEP .............................................<a href="#page-7">7</a>
      <a href="#section-2.7">2.7</a>. SOAP Implementation Considerations .........................<a href="#page-7">7</a>
           <a href="#section-2.7.1">2.7.1</a>. SOAP Feature Exploitation ...........................<a href="#page-7">7</a>
           <a href="#section-2.7.2">2.7.2</a>. SOAP Headers ........................................<a href="#page-7">7</a>
           <a href="#section-2.7.3">2.7.3</a>. SOAP Faults .........................................<a href="#page-8">8</a>
   <a href="#section-3">3</a>. A SOAP Service for NETCONF ......................................<a href="#page-9">9</a>
      <a href="#section-3.1">3.1</a>. Fundamental Use Case .......................................<a href="#page-9">9</a>
      <a href="#section-3.2">3.2</a>. NETCONF Session Establishment ..............................<a href="#page-9">9</a>
      <a href="#section-3.3">3.3</a>. NETCONF Capabilities Exchange ..............................<a href="#page-9">9</a>
      <a href="#section-3.4">3.4</a>. NETCONF Session Usage .....................................<a href="#page-11">11</a>
      <a href="#section-3.5">3.5</a>. NETCONF Session Teardown ..................................<a href="#page-11">11</a>
      <a href="#section-3.6">3.6</a>. A NETCONF over SOAP Example ...............................<a href="#page-11">11</a>
      <a href="#section-3.7">3.7</a>. NETCONF SOAP WSDL .........................................<a href="#page-13">13</a>
      <a href="#section-3.8">3.8</a>. Sample Service Definition WSDL ............................<a href="#page-14">14</a>
   <a href="#section-4">4</a>. Security Considerations ........................................<a href="#page-15">15</a>
      <a href="#section-4.1">4.1</a>. Integrity, Privacy, and Authentication ....................<a href="#page-15">15</a>
      <a href="#section-4.2">4.2</a>. Vulnerabilities ...........................................<a href="#page-16">16</a>
      <a href="#section-4.3">4.3</a>. Environmental Specifics ...................................<a href="#page-16">16</a>
   <a href="#section-5">5</a>. IANA Considerations ............................................<a href="#page-17">17</a>
   <a href="#section-6">6</a>. References .....................................................<a href="#page-17">17</a>
      <a href="#section-6.1">6.1</a>. Normative References ......................................<a href="#page-17">17</a>
      <a href="#section-6.2">6.2</a>. Informative References ....................................<a href="#page-18">18</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Given the use of Extensible Markup Language (XML) [<a href="#ref-2" title='"Extensible Markup Language (XML) 1.0 (Second Edition)"'>2</a>] and the remote
   procedure call characteristics, it is natural to consider a binding
   of the NETCONF [<a href="#ref-1" title='"NETCONF Configuration Protocol"'>1</a>] operations to a SOAP [<a href="#ref-3" title='"SOAP Version 1.2 Part 1: Messaging Framework"'>3</a>] application protocol.
   This document proposes a binding of this form.

   In general, SOAP is a natural messaging scheme for NETCONF,
   essentially because of the remote procedure call character of both.
   However, care must be taken with SOAP over HTTP as it is inherently
   synchronous and client-driven.  SOAP over BEEP [<a href="#ref-11" title='"The Blocks Extensible Exchange Protocol Core"'>11</a>] is technically
   superior, but is not as widely adopted.

   Four basic topics are presented: SOAP specifics of interest to
   NETCONF, specifics on implementing NETCONF as a SOAP-based web
   service, security considerations, and functional Web Services



<span class="grey">Goddard                     Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   Description Language (WSDL) definitions.  In some sense, the most
   important part of the document is the brief WSDL document presented
   in <a href="#section-3.7">Section 3.7</a>.  With the right tools, the WSDL combined with the
   base NETCONF XML Schemas provides machine-readable descriptions
   sufficient for the development of software applications using
   NETCONF.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="#ref-8" title='"Key words for use in RFCs to Indicate Requirement Levels"'>8</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20SOAP%20Background%20for%20NETCONF"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  SOAP Background for NETCONF</span>

   Why introduce SOAP as yet another wrapper around what is already a
   remote procedure call message?  There are, in fact, both technical
   and practical reasons.  The technical reasons are perhaps less
   compelling, but let's examine them first.

   The use of SOAP does offer a few technical advantages.  SOAP is
   fundamentally an XML messaging scheme (which is capable of supporting
   remote procedure call), and it defines a simple message format
   composed of a "header" and a "body" contained within an "envelope".
   The "header" contains meta-information relating to the message and
   can be used to indicate such things as store-and-forward behaviour or
   transactional characteristics.  In addition, SOAP specifies an
   optional encoding for the "body" of the message.  However, this
   encoding is not applicable to NETCONF as one of the goals is to have
   highly readable XML, and SOAP-encoding is optimized instead for ease
   of automated de-serialization.  These benefits of the SOAP message
   structure are simple, but worthwhile because they are already
   standardized.

   It is the practical reasons that truly make SOAP an interesting
   choice for device management.  It is not difficult to invent a
   mechanism for exchanging XML messages over TCP, but what is difficult
   is getting that mechanism supported in a wide variety of tools and
   operating systems and having that mechanism understood by a great
   many developers.  SOAP over HTTP (with WSDL) is seeing good success
   at this, and this means that a device management protocol making use
   of these technologies has advantages in being implemented and
   adopted.  Admittedly, there are interoperability problems with SOAP
   and WSDL, but such problems have wide attention and can be expected
   to be resolved.








<span class="grey">Goddard                     Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Use%20and%20Storage%20of%20WSDL%20and%20XSD"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Use and Storage of WSDL and XSD</span>

   One of the advantages of using machine-readable formats (such as Web
   Services Description Language (WSDL) [<a href="#ref-16" title='"Web Services Description Language (WSDL) 1.1"'>16</a>] and XML Schemas [<a href="#ref-4" title='"XML Schema Part 1: Structures"'>4</a>]) is
   that they can be used automatically in the software development
   process.  With appropriate tools, WSDL and XSD can be used to
   generate classes that act as remote interfaces or
   application-specific data structures.  Other uses, such as document
   generation and service location, are also common.  A great innovation
   found with many XML-based definition languages is the use of
   hyperlinks for referring to documents containing supporting
   definitions.

     &lt;import namespace="urn:ietf:params:xml:ns:netconf:base:1.0"
             location="http://www.iana.org/assignments/xml-registry/
                       schema/netconf.xsd" /&gt;

   For instance, in WSDL, the above import statement imports the
   definitions of XML types and elements from the base NETCONF schema.
   Ideally, the file containing that schema is hosted on a web server
   under the authority of the standards body that defined the schema.
   In this way, dependent standards can be built up over time, and all
   are accessible to automated software tools that ensure adherence to
   the standards.  The IANA-maintained registry for this purpose is
   described in "The IETF XML Registry" [<a href="#ref-13" title='"The IETF XML Registry"'>13</a>].

   Note that WSDL declarations for SOAP over BEEP bindings are not yet
   standardized.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20SOAP%20over%20HTTP"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  SOAP over HTTP</span>

   Although SOAP focuses on messages and can be bound to different
   underlying protocols such as HTTP, SMTP, or BEEP, most existing SOAP
   implementations support only HTTP or HTTP/TLS.

   There are a number of advantages to considering SOAP over protocols
   other than HTTP, as HTTP assigns the very distinct client and server
   roles by connection initiation.  This causes difficulties in
   supporting asynchronous notification and can be relieved in many ways
   by replacing HTTP with BEEP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20HTTP%20Drawbacks"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  HTTP Drawbacks</span>

   HTTP is not the ideal transport for messaging, but it is adequate for
   the most basic interpretation of "remote procedure call".  HTTP is
   based on a communication pattern whereby the client (which initiates
   the TCP connection) makes a "request" to the server.  The server
   returns a "response", and this process is continued (possibly over a



<span class="grey">Goddard                     Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   persistent connection, as described below).  This matches the basic
   idea of a remote procedure call where the caller invokes a procedure
   on a remote server and waits for the return value.

   Potential criticisms of HTTP could include the following:

   o  Server-initiated data flow is awkward to provide.

   o  Headers are verbose and text-based

   o  Idle connections may be closed by intermediate proxies

   o  Data encapsulation must adhere to Multipurpose Internet Mail
      Extensions (MIME) [<a href="#ref-15" title='"Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies"'>15</a>].

   o  Bulk transfer relies on stream-based ordering.

   In many ways, these criticisms are directed at particular compromises
   in the design of HTTP.  As such, they are important to consider, but
   it is not clear that they result in fatal drawbacks for a device
   management protocol.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20BCP56%3A%20On%20the%20Use%20of%20HTTP%20as%20a%20Substrate"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  <a href="https://tools.ietf.org/html/bcp56">BCP56</a>: On the Use of HTTP as a Substrate</span>

   Best Current Practice 56 [<a href="#ref-6" title='"On the use of HTTP as a Substrate"'>6</a>] presents a number of important
   considerations on the use of HTTP in application protocols.  In
   particular, it raises the following concerns:

   o  HTTP may be more complex than is necessary for the application.

   o  The use of HTTP may mask the application from some firewalls.

   o  A substantially new service should not reuse port 80 as assigned
      to HTTP.

   o  HTTP caching may mask connection state.

   Fundamentally, these concerns lie directly with common usage of SOAP
   over HTTP, rather than the application of SOAP over HTTP to NETCONF.
   As <a href="https://tools.ietf.org/html/bcp56">BCP 56</a> indicates, it is debatable whether HTTP is an appropriate
   protocol for SOAP at all, and it is likely that BEEP would be a
   superior protocol for most SOAP applications.  Unfortunately, SOAP
   over HTTP is in common use and must be supported if the practical
   benefits of SOAP are to be realized.  Note that the verbose nature of
   SOAP actually makes it more readily processed by firewalls, albeit
   firewalls designed to process SOAP messages.





<span class="grey">Goddard                     Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   HTTP caches SHOULD NOT be inserted between NETCONF managers and
   agents as NETCONF session state is tied to the state of the
   underlying transport connection.  Three defensive actions can be
   taken:

   o  Caching MUST be prohibited through the use of HTTP headers Cache-
      Control and Pragma: no-cache.

   o  HTTP proxies SHOULD NOT be deployed within the management network.

   o  Use HTTPS.

   It is also possible to respond to the concern on the reuse of port
   80.  Any NETCONF SOAP service MUST always be supported over the new
   standard port for NETCONF over SOAP, and all conforming
   implementations MUST default to attempting connections over this new
   standard port for NETCONF.  A standard port for NETCONF over SOAP
   (over HTTP) has been assigned in the IANA considerations of this
   document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5.%20%20Important%20HTTP%201.1%20Features"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a>.  Important HTTP 1.1 Features</span>

   HTTP 1.1 [<a href="#ref-5" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>5</a>] includes two important features that provide for
   relatively efficient transport of SOAP messages.  These features are
   "persistent connections" and "chunked transfer-coding".

   Persistent connections allow a single TCP connection to be used
   across multiple HTTP requests.  This permits multiple SOAP request/
   response message pairs to be exchanged without the overhead of
   creating a new TCP connection for each request.  Given that a single
   stream is used for both requests and responses, it is clear that some
   form of framing is necessary.  For messages whose length is known in
   advance, this is handled by the HTTP header "Content-length".  For
   messages of dynamic length, "Chunking" is required.

   HTTP "Chunking" or "chunked transfer-coding" allows the sender to
   send an indefinite amount of binary data.  This is accomplished by
   informing the receiver of the size of each "chunk" (substring of the
   data) before the chunk is transmitted.  The last chunk is indicated
   by a chunk of zero length.  Chunking can be effectively used to
   transfer a large XML document where the document is generated on-line
   from a non-XML form in memory.

   In terms of its application to SOAP message exchanges, persistent
   connections are clearly important for performance reasons and are
   particularly important when the persistence of authenticated
   connections is at stake.  When one considers that messages of dynamic
   length are the rule rather than the exception for SOAP messages, it



<span class="grey">Goddard                     Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   is also clear that Chunking is very useful.  In some cases, it is
   possible to buffer a SOAP response and determine its length before
   sending, but the storage requirements for this are prohibitive for
   many devices.  Together, these two features provide a good foundation
   for device management using SOAP over HTTP.  HTTP chunking and
   persistent connections [<a href="#ref-5" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>5</a>] SHOULD be used.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.6.%20%20SOAP%20over%20BEEP"></a><a class="selflink" href="#section-2.6" name="section-2.6">2.6</a>.  SOAP over BEEP</span>

   Although not widely adopted by the Web Services community, BEEP is an
   excellent substrate for SOAP [<a href="#ref-12" title='"Using the Simple Object Access Protocol (SOAP) in Blocks Extensible Exchange Protocol (BEEP)"'>12</a>].  In particular, it provides for
   request/response message exchanges initiated by either BEEP peer and
   allows the number of response messages to be arbitrary (including
   zero).  The BEEP profile for SOAP simply makes use of a single BEEP
   channel for exchanging SOAP messages and benefits from BEEP's
   inherent strengths for message exchange over a single transport
   connection.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.7.%20%20SOAP%20Implementation%20Considerations"></a><a class="selflink" href="#section-2.7" name="section-2.7">2.7</a>.  SOAP Implementation Considerations</span>

   It is not the goal of this document to cover the SOAP [<a href="#ref-3" title='"SOAP Version 1.2 Part 1: Messaging Framework"'>3</a>]
   specification in detail.  Instead, we provide a few comments that may
   be of interest to an implementor of NETCONF over SOAP.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.7.1.%20%20SOAP%20Feature%20Exploitation"></a><a class="selflink" href="#section-2.7.1" name="section-2.7.1">2.7.1</a>.  SOAP Feature Exploitation</span>

   NETCONF over SOAP does not make extensive use of SOAP features.  For
   instance, NETCONF operations are not broken into SOAP message parts,
   and the SOAP header is not used to convey &lt;rpc&gt; metadata.  This is a
   deliberate design decision as it allows the implementor to provide
   NETCONF over multiple substrates easily while handling the messages
   over those different substrates in a common way.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.7.2.%20%20SOAP%20Headers"></a><a class="selflink" href="#section-2.7.2" name="section-2.7.2">2.7.2</a>.  SOAP Headers</span>

   Implementers of NETCONF over SOAP should be aware of the following
   characteristic of SOAP headers: a SOAP header may have the attribute
   "mustUnderstand", and, if it does, the recipient must either process
   the header block or not process the SOAP message at all, and instead
   generate a fault.  A "mustUnderstand" header must not be silently
   discarded.

   In general, however, SOAP headers are intended for application-
   specific uses.  The NETCONF SOAP binding does not make use of SOAP
   headers.






<span class="grey">Goddard                     Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.7.3.%20%20SOAP%20Faults"></a><a class="selflink" href="#section-2.7.3" name="section-2.7.3">2.7.3</a>.  SOAP Faults</span>

   A SOAP Fault is returned in the event of a NETCONF &lt;rpc-error&gt;.  It
   is constructed essentially as a wrapper for the &lt;rpc-error&gt;, but it
   allows SOAP processors to propagate the &lt;rpc-error&gt; to application
   code using a language-appropriate exception mechanism.

   A SOAP Fault is constructed from an &lt;rpc-error&gt; as follows: the SOAP
   Fault Code Value is "Receiver" in the SOAP envelope namespace, the
   SOAP Fault Reason Text is the contents of the NETCONF &lt;rpc-error&gt;
   "error-tag", and the SOAP Fault detail is the original &lt;rpc-error&gt;
   structure.

   For instance, given the following &lt;rpc-error&gt;,

       &lt;rpc-error xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
         &lt;error-type&gt;rpc&lt;/error-type&gt;
         &lt;error-tag&gt;MISSING_ATTRIBUTE&lt;/error-tag&gt;
         &lt;error-severity&gt;error&lt;/error-severity&gt;
         &lt;error-info&gt;
           &lt;bad-attribute&gt;message-id&lt;/bad-attribute&gt;
           &lt;bad-element&gt;rpc&lt;/bad-element&gt;
         &lt;/error-info&gt;
       &lt;/rpc-error&gt;

   the associated SOAP Fault message is

       &lt;soapenv:Envelope
           xmlns:soapenv=
             "<a href="http://www.w3.org/2003/05/soap-envelope">http://www.w3.org/2003/05/soap-envelope</a>"
           xmlns:xml="http://www.w3.org/XML/1998/namespace"&gt;
         &lt;soapenv:Body&gt;
           &lt;soapenv:Fault&gt;
             &lt;soapenv:Code&gt;
               &lt;soapenv:Value&gt;env:Receiver&lt;/soapenv:Value&gt;
             &lt;/soapenv:Code&gt;
             &lt;soapenv:Reason&gt;
               &lt;soapenv:Text
                   xml:lang="en"&gt;MISSING_ATTRIBUTE&lt;/soapenv:Text&gt;
             &lt;/soapenv:Reason&gt;
             &lt;detail&gt;
               &lt;rpc-error xmlns=
                   "urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
                 &lt;error-type&gt;rpc&lt;/error-type&gt;
                 &lt;error-tag&gt;MISSING_ATTRIBUTE&lt;/error-tag&gt;
                 &lt;error-severity&gt;error&lt;/error-severity&gt;
                 &lt;error-info&gt;
                   &lt;bad-attribute&gt;message-id&lt;/bad-attribute&gt;



<span class="grey">Goddard                     Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


                   &lt;bad-element&gt;rpc&lt;/bad-element&gt;
                 &lt;/error-info&gt;
               &lt;/rpc-error&gt;
             &lt;/detail&gt;
           &lt;/soapenv:Fault&gt;
         &lt;/soapenv:Body&gt;
       &lt;/soapenv:Envelope&gt;

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20A%20SOAP%20Service%20for%20NETCONF"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  A SOAP Service for NETCONF</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Fundamental%20Use%20Case"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Fundamental Use Case</span>

   The fundamental use case for NETCONF over SOAP is that of a
   management console ("manager" role) managing one or more devices
   running NETCONF agents ("agent" role).  The manager initiates an HTTP
   or BEEP connection to an agent and drives the NETCONF session via a
   sequence of SOAP messages.  When the manager closes the connection,
   the NETCONF session is also closed.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20NETCONF%20Session%20Establishment"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  NETCONF Session Establishment</span>

   A NETCONF over SOAP session is established by the initial message
   exchange on the underlying substrate.  For HTTP, a NETCONF session is
   established once a SOAP message is POSTed to the NETCONF web
   application URI.  For BEEP, a NETCONF session is established once the
   BEEP profile for SOAP handshake establishes the SOAP channel.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20NETCONF%20Capabilities%20Exchange"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  NETCONF Capabilities Exchange</span>

   Capabilities exchange and session ID establishment are performed
   through the exchange of &lt;hello&gt; messages.  In the case of SOAP over
   HTTP, the HTTP client MUST send the first &lt;hello&gt; message.  The case
   of SOAP over BEEP imposes no ordering constraints.  For instance, the
   following example shows the exchange of &lt;hello&gt; messages and
   establishes a session ID value of 4.  Observe that the management
   client initiates the exchange and the server agent assigns the
   session ID.














<span class="grey">Goddard                     Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   C: POST /netconf HTTP/1.1
   C: Host: netconfdevice
   C: Content-Type: text/xml; charset=utf-8
   C: Accept: application/soap+xml, text/*
   C: Cache-Control: no-cache
   C: Pragma: no-cache
   C: Content-Length: 376
   C:
   C: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   C: &lt;soapenv:Envelope
   C:   xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"&gt;
   C:   &lt;soapenv:Body&gt;
   C:     &lt;hello xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
   C:       &lt;capabilities&gt;
   C:         &lt;capability&gt;
   C:           urn:ietf:params:netconf:base:1.0
   C:         &lt;/capability&gt;
   C:       &lt;/capabilities&gt;
   C:     &lt;/hello&gt;
   C:   &lt;/soapenv:Body&gt;
   C: &lt;/soapenv:Envelope&gt;
   S: HTTP/1.1 200 OK
   S: Content-Type: application/soap+xml; charset=utf-8
   S: Content-Length: 600
   S:
   S: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   S: &lt;soapenv:Envelope
   S:   xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"&gt;
   S:   &lt;soapenv:Body&gt;
   S:     &lt;hello xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
   S:       &lt;capabilities&gt;
   S:         &lt;capability&gt;
   S:           urn:ietf:params:netconf:base:1.0
   S:         &lt;/capability&gt;
   S:         &lt;capability&gt;
   S:           urn:ietf:params:netconf:capability:startup:1.0
   S:         &lt;/capability&gt;
   S:         &lt;capability&gt;
   S:           http:/example.net/router/2.3/myfeature
   S:        &lt;/capability&gt;
   S:       &lt;/capabilities&gt;
   S:       &lt;session-id&gt;4&lt;/session-id&gt;
   S:     &lt;/hello&gt;
   S:   &lt;/soapenv:Body&gt;
   S: &lt;/soapenv:Envelope&gt;






<span class="grey">Goddard                     Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20NETCONF%20Session%20Usage"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  NETCONF Session Usage</span>

   NETCONF sessions are persistent for both performance and semantic
   reasons.  NETCONF session state contains the following:

   1.  Authentication Information

   2.  Capability Information

   3.  Locks

   4.  Pending Operations

   5.  Operation Sequence Numbers

   Authentication must be maintained throughout a session due to the
   fact that it is expensive to establish.  Capability Information is
   maintained so that appropriate operations can be applied during a
   session.  Locks are released upon termination of a session as this
   makes the protocol more robust.  Pending operations come and go from
   existence during the normal course of remote procedure call (RPC)
   operations.  Operation sequence numbers provide the small but
   necessary state information to refer to operations during the
   session.

   In the case of SOAP over HTTP, a NETCONF session is supported by an
   HTTP connection with an authenticated user.  For SOAP over BEEP, a
   NETCONF session is supported by a BEEP channel operating according to
   the BEEP profile for SOAP [<a href="#ref-12" title='"Using the Simple Object Access Protocol (SOAP) in Blocks Extensible Exchange Protocol (BEEP)"'>12</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.5.%20%20NETCONF%20Session%20Teardown"></a><a class="selflink" href="#section-3.5" name="section-3.5">3.5</a>.  NETCONF Session Teardown</span>

   To allow automated cleanup, NETCONF over SOAP session teardown takes
   place when the underlying connection (in the case of HTTP) or channel
   (in the case of BEEP) is closed.  Note that the root cause of such
   teardown may be the closure of the TCP connection under either HTTP
   or BEEP as the case may be.  NETCONF managers and agents must be
   capable of programatically closing the transport connections
   associated with NETCONF sessions, such as in response to a
   &lt;close-session&gt; operation; thus, the HTTP or BEEP substrate
   implementation must expose this appropriately.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.6.%20%20A%20NETCONF%20over%20SOAP%20Example"></a><a class="selflink" href="#section-3.6" name="section-3.6">3.6</a>.  A NETCONF over SOAP Example</span>

   Since the proposed WSDL (in <a href="#section-3.7">Section 3.7</a>) uses document/literal
   encoding, the use of a SOAP header and body has little impact on the
   representation of a NETCONF operation.  This example shows HTTP/1.1
   for simplicity.  An example for BEEP would be similar.



<span class="grey">Goddard                     Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   C: POST /netconf HTTP/1.1
   C: Host: netconfdevice
   C: Content-Type: text/xml; charset=utf-8
   C: Accept: application/soap+xml, text/*
   C: Cache-Control: no-cache
   C: Pragma: no-cache
   C: Content-Length: 465
   C:
   C: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   C: &lt;soapenv:Envelope
   C:   xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"&gt;
   C:   &lt;soapenv:Body&gt;
   C:     &lt;rpc message-id="101"
   C:          xmlns="xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
   C:       &lt;get-config&gt;
   C:         &lt;filter type="subtree"&gt;
   C:           &lt;top xmlns="http://example.com/schema/1.2/config"&gt;
   C:             &lt;users/&gt;
   C:           &lt;/top&gt;
   C:         &lt;/filter&gt;
   C:       &lt;/get-config&gt;
   C:     &lt;/rpc&gt;
   C:   &lt;/soapenv:Body&gt;
   C: &lt;/soapenv:Envelope&gt;

   The HTTP/1.1 response is also straightforward:

   S: HTTP/1.1 200 OK
   S: Content-Type: application/soap+xml; charset=utf-8
   S: Content-Length: 917
   S:
   S: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   S: &lt;soapenv:Envelope
   S:   xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"&gt;
   S:   &lt;soapenv:Body&gt;
   S:     &lt;rpc-reply message-id="101"
   S:                xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
   S:       &lt;data&gt;
   S:         &lt;top xmlns="http://example.com/schema/1.2/config"&gt;
   S:           &lt;users&gt;
   S:             &lt;user&gt;
   S:               &lt;name&gt;root&lt;/name&gt;
   S:               &lt;type&gt;superuser&lt;/type&gt;
   S:               &lt;full-name&gt;Charlie Root&lt;/full-name&gt;
   S:                 &lt;dept&gt;1&lt;/dept&gt;
   S:                 &lt;id&gt;1&lt;/id&gt;
   S:               &lt;/company-info&gt;
   S:             &lt;/user&gt;



<span class="grey">Goddard                     Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   S:             &lt;user&gt;
   S:               &lt;name&gt;fred&lt;/name&gt;
   S:               &lt;type&gt;admin&lt;/type&gt;
   S:               &lt;full-name&gt;Fred Flintstone&lt;/full-name&gt;
   S:                 &lt;dept&gt;2&lt;/dept&gt;
   S:                 &lt;id&gt;2&lt;/id&gt;
   S:               &lt;/company-info&gt;
   S:             &lt;/user&gt;
   S:           &lt;/users&gt;
   S:         &lt;/top&gt;
   S:       &lt;/data&gt;
   S:     &lt;/rpc-reply&gt;
   S:   &lt;/soapenv:Body&gt;
   S: &lt;/soapenv:Envelope&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.7.%20%20NETCONF%20SOAP%20WSDL"></a><a class="selflink" href="#section-3.7" name="section-3.7">3.7</a>.  NETCONF SOAP WSDL</span>

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;definitions
     xmlns="http://schemas.xmlsoap.org/wsdl/"
     xmlns:SOAP="http://schemas.xmlsoap.org/wsdl/soap/"
     xmlns:tns="urn:ietf:params:xml:ns:netconf:soap:1.0"
     xmlns:netb="urn:ietf:params:xml:ns:netconf:base:1.0"
     targetNamespace="urn:ietf:params:xml:ns:netconf:soap:1.0"
     name="netconf-soap_1.0.wsdl"&gt;

     &lt;import namespace="urn:ietf:params:xml:ns:netconf:base:1.0"
             location="http://www.iana.org/assignments/xml-registry/
                       schema/netconf.xsd" /&gt;

     &lt;message name="helloRequest"&gt;
       &lt;part name="in" element="netb:hello"/&gt;
     &lt;/message&gt;
     &lt;message name="helloResponse"&gt;
       &lt;part name="out" element="netb:hello"/&gt;
     &lt;/message&gt;

     &lt;message name="rpcRequest"&gt;
       &lt;part name="in" element="netb:rpc"/&gt;
     &lt;/message&gt;
     &lt;message name="rpcResponse"&gt;
       &lt;part name="out" element="netb:rpc-reply"/&gt;
     &lt;/message&gt;

     &lt;portType name="netconfPortType"&gt;
       &lt;operation name="rpc"&gt;
         &lt;input message="tns:rpcRequest"/&gt;
         &lt;output message="tns:rpcResponse"/&gt;



<span class="grey">Goddard                     Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


       &lt;/operation&gt;
       &lt;operation name="hello"&gt;
         &lt;input message="tns:helloRequest"/&gt;
         &lt;output message="tns:helloResponse"/&gt;
       &lt;/operation&gt;
     &lt;/portType&gt;

     &lt;binding name="netconfBinding" type="tns:netconfPortType"&gt;
       &lt;SOAP:binding style="document"
            transport="http://schemas.xmlsoap.org/soap/http"/&gt;
       &lt;operation name="hello"&gt;
         &lt;SOAP:operation/&gt;
         &lt;input&gt;
           &lt;SOAP:body use="literal"
                namespace="urn:ietf:params:xml:ns:netconf:soap:1.0"/&gt;
         &lt;/input&gt;
         &lt;output&gt;
           &lt;SOAP:body use="literal"
                namespace="urn:ietf:params:xml:ns:netconf:soap:1.0"/&gt;
         &lt;/output&gt;
       &lt;/operation&gt;
       &lt;operation name="rpc"&gt;
         &lt;SOAP:operation/&gt;
         &lt;input&gt;
           &lt;SOAP:body use="literal"
                namespace="urn:ietf:params:xml:ns:netconf:base:1.0"/&gt;
         &lt;/input&gt;
         &lt;output&gt;
           &lt;SOAP:body use="literal"
                namespace="urn:ietf:params:xml:ns:netconf:base:1.0"/&gt;
         &lt;/output&gt;
       &lt;/operation&gt;
     &lt;/binding&gt;

   &lt;/definitions&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.8.%20%20Sample%20Service%20Definition%20WSDL"></a><a class="selflink" href="#section-3.8" name="section-3.8">3.8</a>.  Sample Service Definition WSDL</span>

   The following WSDL document assumes a local location for the NETCONF
   over SOAP WSDL definitions.  A typical deployment of a device
   manageable via NETCONF over SOAP would provide a service definition
   similar to the following to identify the address of the device.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;definitions
     xmlns="http://schemas.xmlsoap.org/wsdl/"
     xmlns:SOAP="http://schemas.xmlsoap.org/wsdl/soap/"
     xmlns:nets="urn:ietf:params:xml:ns:netconf:soap:1.0"



<span class="grey">Goddard                     Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


     targetNamespace="urn:myNetconfService"
     name="myNetconfService.wsdl"&gt;

     &lt;import namespace="urn:ietf:params:xml:ns:netconf:soap:1.0"
             location="http://localhost:8080/netconf/
                       schema/netconf-soap_1.0.wsdl"/&gt;

     &lt;service name="netconf"&gt;
       &lt;port name="netconfPort" binding="nets:netconfBinding"&gt;
         &lt;SOAP:address location="http://localhost:8080/netconf"/&gt;
       &lt;/port&gt;
     &lt;/service&gt;

   &lt;/definitions&gt;

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Security Considerations</span>

   NETCONF is used to access and modify configuration information, so
   the ability to access this protocol should be limited to users and
   systems that are authorized to view or modify the agent's
   configuration data.

   Because configuration information is sent in both directions, it is
   not sufficient for just the client or user to be authenticated with
   the server.  The identity of the server should also be authenticated
   with the client.

   Configuration data may include sensitive information, such as user
   names or security keys.  So, NETCONF should only be used over
   communications channels that provide strong encryption for data
   privacy.

   If the NETCONF server provides remote access through insecure
   protocols, such as HTTP, care should be taken to prevent execution of
   the NETCONF program when strong user authentication or data privacy
   is not available.

   The IANA assigned port SHOULD be used, as this provides a means for
   efficient firewall filtering during possible denial-of-service
   attacks.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Integrity%2C%20Privacy%2C%20and%20Authentication"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Integrity, Privacy, and Authentication</span>

   The NETCONF SOAP binding relies on an underlying secure transport for
   integrity and privacy.  Such transports are expected to include TLS
   [<a href="#ref-9" title='"The Transport Layer Security (TLS) Protocol Version 1.1"'>9</a>] (which, when combined with HTTP, is referred to as HTTPS) and
   IPsec.  There are a number of options for authentication (some of
   which are deployment-specific):



<span class="grey">Goddard                     Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   o  within the transport (such as with TLS client certificates)

   o  within HTTP (such as Digest Access Authentication [<a href="#ref-7" title='"HTTP Authentication: Basic and Digest Access Authentication"'>7</a>])

   o  within SOAP (such as a digital signature in the header [<a href="#ref-17" title='"SOAP Security Extensions: Digital Signature"'>17</a>])

   HTTP, BEEP, and SOAP level authentication can be integrated with
   Remote Authentication Dial-In User Service (RADIUS) [<a href="#ref-10" title='"Remote Authentication Dial In User Service (RADIUS)"'>10</a>] to support
   remote authentication databases.

   At a miniumum, all conforming NETCONF over SOAP implementations MUST
   support TLS.  Specifically, NETCONF over SOAP over HTTP MUST support
   NETCONF over SOAP over HTTPS, and NETCONF over SOAP over BEEP MUST
   support NETCONF over SOAP over BEEP over TLS.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Vulnerabilities"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Vulnerabilities</span>

   The above protocols may have various vulnerabilities, and these may
   be inherited by NETCONF over SOAP.

   NETCONF itself may have vulnerabilities because an authorization
   model is not currently specified.

   It is important that device capabilities and authorization remain
   constant for the duration of any outstanding NETCONF session.  In the
   case of NETCONF, it is important to consider that device management
   may be taking place over multiple substrates (in addition to SOAP),
   and it is important that the different substrates have a common
   authentication model.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Environmental%20Specifics"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Environmental Specifics</span>

   Some deployments of NETCONF over SOAP may choose to use transports
   without encryption.  This presents vulnerabilities but may be
   selected for deployments involving closed networks or debugging
   scenarios.

   A device managed by NETCONF may interact (over protocols besides
   NETCONF) with devices managed by other protocols, all of differing
   security.  Each point of entry brings with it a potential
   vulnerability.










<span class="grey">Goddard                     Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  IANA Considerations</span>

   IANA assigned TCP port (833) for NETCONF over SOAP over BEEP, and TCP
   port (832) for NETCONF over SOAP over HTTPS.

   IANA will allow for the assignment of an XML namespace within the
   NETCONF namespace "urn:ietf:params:xml:ns:netconf" for the NETCONF
   over SOAP WSDL definitions.  Following the policies outlined in <a href="rfc2434.html">RFC</a>
   <a href="rfc2434.html">2434</a> [<a href="#ref-14" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>14</a>], assigned values in this subordinate namespace are
   requested to be allocated according to the "Specification Required"
   policy.

   URI: urn:ietf:params:xml:ns:netconf:soap

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20References"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Normative%20References"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]   Enns, R., Ed., "NETCONF Configuration Protocol", <a href="rfc4741.html">RFC 4741</a>,
         December 2006.

   [<a id="ref-2" name="ref-2">2</a>]   Bray, T., Paoli, J., Sperberg-McQueen, C., and E. Maler,
         "Extensible Markup Language (XML) 1.0 (Second Edition)", W3C
         REC REC-xml-20001006, October 2000,
         &lt;<a href="http://www.w3.org/TR/2000/REC-xml-20001006">http://www.w3.org/TR/2000/REC-xml-20001006</a>&gt;.

   [<a id="ref-3" name="ref-3">3</a>]   Gudgin, M., Hadley, M., Moreau, JJ., and H. Nielsen, "SOAP
         Version 1.2 Part 1: Messaging Framework", W3C
         Recommendation REC-soap12-part1-20030624, June 2002,
         &lt;<a href="http://www.w3.org/TR/soap12-part1/">http://www.w3.org/TR/soap12-part1/</a>&gt;.

   [<a id="ref-4" name="ref-4">4</a>]   Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, "XML
         Schema Part 1: Structures", W3C Recommendation REC-xmlschema-
         1-20010502, May 2001,
         &lt;<a href="http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/">http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/</a>&gt;.

   [<a id="ref-5" name="ref-5">5</a>]   Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L.,
         Leach, P., and T. Berners-Lee, "Hypertext Transfer Protocol --
         HTTP/1.1", <a href="rfc2616.html">RFC 2616</a>, June 1999.

   [<a id="ref-6" name="ref-6">6</a>]   Moore, K., "On the use of HTTP as a Substrate", <a href="rfc3205.html">RFC 3205</a>,
         February 2002.

   [<a id="ref-7" name="ref-7">7</a>]   Franks, J., Hallam-Baker, P., Hostetler, J., Leach, P.,
         Luotonen, A., Sink, E., and L. Stewart, "HTTP Authentication:
         Basic and Digest Access Authentication", <a href="rfc2617.html">RFC 2617</a>, June 1999.





<span class="grey">Goddard                     Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


   [<a id="ref-8" name="ref-8">8</a>]   Bradner, S., "Key words for use in RFCs to Indicate Requirement
         Levels", <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-9" name="ref-9">9</a>]   Dierks, T. and E. Rescorla, "The Transport Layer Security (TLS)
         Protocol Version 1.1", <a href="rfc4346.html">RFC 4346</a>, April 2006.

   [<a id="ref-10" name="ref-10">10</a>]  Rigney, C., Willens, S., Rubens, A., and W. Simpson, "Remote
         Authentication Dial In User Service (RADIUS)", <a href="rfc2865.html">RFC 2865</a>,
         June 2000.

   [<a id="ref-11" name="ref-11">11</a>]  Rose, M., "The Blocks Extensible Exchange Protocol Core",
         <a href="rfc3080.html">RFC 3080</a>, March 2001.

   [<a id="ref-12" name="ref-12">12</a>]  O'Tuathail, E. and M. Rose, "Using the Simple Object Access
         Protocol (SOAP) in Blocks Extensible Exchange Protocol (BEEP)",
         <a href="rfc4227.html">RFC 4227</a>, January 2006.

   [<a id="ref-13" name="ref-13">13</a>]  Mealling, M., "The IETF XML Registry", <a href="rfc3688.html">RFC 3688</a>, January 2004.

   [<a id="ref-14" name="ref-14">14</a>]  Alvestrand, H. and T. Narten, "Guidelines for Writing an IANA
         Considerations Section in RFCs", <a href="rfc2434.html">RFC 2434</a>, October 1998.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Informative%20References"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Informative References</span>

   [<a id="ref-15" name="ref-15">15</a>]  Freed, N. and N. Borenstein, "Multipurpose Internet Mail
         Extensions (MIME) Part One: Format of Internet Message Bodies",
         <a href="rfc2045.html">RFC 2045</a>, November 1996.

   [<a id="ref-16" name="ref-16">16</a>]  Christensen, E., Curbera, F., Meredith, G., and S. Weerawarana,
         "Web Services Description Language (WSDL) 1.1", W3C Note NOTE-
         wsdl-20010315, March 2001,
         &lt;<a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315">http://www.w3.org/TR/2001/NOTE-wsdl-20010315</a>&gt;.

   [<a id="ref-17" name="ref-17">17</a>]  Brown, A., Fox, B., Hada, S., LaMacchia, B., and H. Maruyama,
         "SOAP Security Extensions: Digital Signature", W3C Note NOTE-
         SOAP-dsig-20010206, Feb 2001,
         &lt;<a href="http://www.w3.org/TR/SOAP-dsig/">http://www.w3.org/TR/SOAP-dsig/</a>&gt;.














<span class="grey">Goddard                     Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


Author's Address

   Ted Goddard
   ICEsoft Technologies Inc.
   Suite 300, 1717 10th St. NW
   Calgary, AB  T2M 4S2
   Canada

   Phone: (403) 663-3322
   EMail: ted.goddard@icesoft.com
   URI:   <a href="http://www.icesoft.com/">http://www.icesoft.com</a>








































<span class="grey">Goddard                     Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc4743.html">RFC 4743</a>                   NETCONF over SOAP               December 2006</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2006).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST,
   AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
   THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
   IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
   PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.






Goddard                     Standards Track                    [Page 20]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc4743 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:39 GMT --></html>