<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6657 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Apr 2015 16:01:04 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.111" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-melnikov-mime-default-charset" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6657" name="DC.Identifier"/>
<meta content="July, 2012" name="DC.Date.Issued"/>
<meta content="Melnikov, Alexey" name="DC.Creator"/>
<meta content="Reschke, Julian" name="DC.Creator"/>
<meta content='This document changes RFC 2046 rules regarding default "charset"
parameter values for "text/*" media types to better align with common
usage by existing clients and servers. [STANDARDS-TRACK]' name="DC.Description.Abstract"/>
<meta content='Update to MIME regarding "charset" Parameter Handling in Textual Media Types' name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6657 - Update to MIME regarding "charset" Parameter Handling in Textual Media Types</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc6657.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc6657" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-appsawg-mime-default-charset" title="draft-ietf-appsawg-mime-default-charset">draft-ietf-appsaw...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6657" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc6657" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                       A. Melnikov
Request for Comments: 6657                                 Isode Limited
Updates: <a href="rfc2046.html">2046</a>                                                 J. Reschke
Category: Standards Track                                     greenbytes
ISSN: 2070-1721                                                July 2012


         <span class="h1">Update to MIME regarding "charset" Parameter Handling</span>
                         <span class="h1">in Textual Media Types</span>

Abstract

   This document changes <a href="rfc2046.html">RFC 2046</a> rules regarding default "charset"
   parameter values for "text/*" media types to better align with common
   usage by existing clients and servers.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6657">http://www.rfc-editor.org/info/rfc6657</a>.

Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in <a href="#section-4">Section 4</a>.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.







<span class="grey">Melnikov &amp; Reschke           Standards Track                    [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6657.html">RFC 6657</a>               MIME Charset Default Update             July 2012</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction and Overview .......................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Conventions Used in This Document ...............................<a href="#page-2">2</a>
   3. New Rules for Default "charset" Parameter Values for
      "text/*" Media Types ............................................<a href="#page-3">3</a>
   <a href="#section-4">4</a>. Default "charset" Parameter Value for "text/plain" Media Type ...<a href="#page-4">4</a>
   <a href="#section-5">5</a>. Security Considerations .........................................<a href="#page-4">4</a>
   <a href="#section-6">6</a>. IANA Considerations .............................................<a href="#page-4">4</a>
   <a href="#section-7">7</a>. References ......................................................<a href="#page-4">4</a>
      <a href="#section-7.1">7.1</a>. Normative References .......................................<a href="#page-4">4</a>
      <a href="#section-7.2">7.2</a>. Informative References .....................................<a href="#page-5">5</a>
   <a href="#appendix-A">Appendix A</a>.  Acknowledgements ......................................<a href="#page-6">6</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction%20and%20Overview"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction and Overview</span>

   <a href="rfc2046.html">RFC 2046</a> specified that the default "charset" parameter (i.e., the
   value used when the parameter is not specified) is "US-ASCII"
   (<a href="rfc2046.html#section-4.1.2">Section 4.1.2 of [RFC2046]</a>).  <a href="rfc2616.html">RFC 2616</a> changed the default for use
   by HTTP (Hypertext Transfer Protocol) to be "ISO-8859-1" (<a href="#section-3.7.1">Section</a>
   <a href="#section-3.7.1">3.7.1</a> of [<a href="rfc2616.html" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>RFC2616</a>]).  This encoding is not very common for new
   "text/*" media types and a special rule in the HTTP specification
   adds confusion about which specification ([<a href="rfc2046.html" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC2046</a>] or [<a href="rfc2616.html" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>RFC2616</a>]) is
   authoritative in regards to the default charset for "text/*" media
   types.

   Many complex text subtypes such as "text/html" [<a href="rfc2854.html" title="&quot;The 'text/html' Media Type&quot;">RFC2854</a>] and "text/
   xml" [<a href="rfc3023.html" title='"XML Media Types"'>RFC3023</a>] have internal (to their format) means of describing
   the charset.  Many existing User Agents ignore the default of "US-
   ASCII" rule for at least "text/html" and "text/xml".

   This document changes <a href="rfc2046.html">RFC 2046</a> rules regarding default "charset"
   parameter values for "text/*" media types to better align with common
   usage by existing clients and servers.  It does not change the
   defaults for any currently registered media type.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].










<span class="grey">Melnikov &amp; Reschke           Standards Track                    [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6657.html">RFC 6657</a>               MIME Charset Default Update             July 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20New%20Rules%20for%20Default%20%22charset%22%20Parameter%20Values%20for%20%22text%2F%2A%22%20Media"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  New Rules for Default "charset" Parameter Values for "text/*" Media</span>
<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Types"></a>    Types</span>

   <a href="rfc2046.html#section-4.1.2">Section 4.1.2 of [RFC2046]</a> says:

      The default character set, which must be assumed in the absence of
      a charset parameter, is US-ASCII.

   As explained in the Introduction section, this rule is considered
   outdated, so this document replaces it with the following set of
   rules:

   Each subtype of the "text" media type that uses the "charset"
   parameter can define its own default value for the "charset"
   parameter, including the absence of any default.

   In order to improve interoperability with deployed agents, "text/*"
   media type registrations SHOULD either

   a.  specify that the "charset" parameter is not used for the defined
       subtype, because the charset information is transported inside
       the payload (such as in "text/xml"), or

   b.  require explicit unconditional inclusion of the "charset"
       parameter, eliminating the need for a default value.

   In accordance with option (a) above, registrations for "text/*" media
   types that can transport charset information inside the corresponding
   payloads (such as "text/html" and "text/xml") SHOULD NOT specify the
   use of a "charset" parameter, nor any default value, in order to
   avoid conflicting interpretations should the "charset" parameter
   value and the value specified in the payload disagree.

   Thus, new subtypes of the "text" media type SHOULD NOT define a
   default "charset" value.  If there is a strong reason to do so
   despite this advice, they SHOULD use the "UTF-8" [<a href="rfc3629.html" title='"UTF-8, a transformation format of ISO 10646"'>RFC3629</a>] charset as
   the default.

   Regardless of what approach is chosen, all new "text/*" registrations
   MUST clearly specify how the charset is determined; relying on the
   default defined in <a href="rfc2046.html#section-4.1.2">Section 4.1.2 of [RFC2046]</a> is no longer permitted.
   However, existing "text/*" registrations that fail to specify how the
   charset is determined still default to US-ASCII.

   Specifications covering the "charset" parameter, and what default
   value, if any, is used, are subtype-specific, NOT protocol-specific.
   Protocols that use MIME, therefore, MUST NOT override default charset




<span class="grey">Melnikov &amp; Reschke           Standards Track                    [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6657.html">RFC 6657</a>               MIME Charset Default Update             July 2012</span>


   values for "text/*" media types to be different for their specific
   protocol.  The protocol definitions MUST leave that to the subtype
   definitions.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Default%20%22charset%22%20Parameter%20Value%20for%20%22text%2Fplain%22%20Media%20Type"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Default "charset" Parameter Value for "text/plain" Media Type</span>

   The default "charset" parameter value for "text/plain" is unchanged
   from [<a href="rfc2046.html" title='"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"'>RFC2046</a>] and remains as "US-ASCII".

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   Guessing of the "charset" parameter can lead to security issues such
   as content buffer overflows, denial of services, or bypass of
   filtering mechanisms.  However, this document does not promote
   guessing, but encourages use of charset information that is specified
   by the sender.

   Conflicting information in-band vs. out-of-band can also lead to
   similar security problems, and this document recommends the use of
   charset information that is more likely to be correct (for example,
   in-band over out-of-band).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  IANA Considerations</span>

   IANA has updated the "text" subregistry of the Media Types registry
   (&lt;<a href="http://www.iana.org/assignments/media-types/text/">http://www.iana.org/assignments/media-types/text/</a>&gt;) to add the
   following preamble: "See [<a href="rfc6657.html">RFC6657</a>] for information about 'charset'
   parameter handling for text media types."

   Also, IANA has added this RFC to the list of references at the
   beginning of the Application for Media Type
   (&lt;<a href="http://www.iana.org/form/media-types">http://www.iana.org/form/media-types</a>&gt;).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2046" name="ref-RFC2046">RFC2046</a>]  Freed, N. and N. Borenstein, "Multipurpose Internet Mail
              Extensions (MIME) Part Two: Media Types", <a href="rfc2046.html">RFC 2046</a>,
              November 1996.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="http://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3629" name="ref-RFC3629">RFC3629</a>]  Yergeau, F., "UTF-8, a transformation format of ISO
              10646", STD 63, <a href="rfc3629.html">RFC 3629</a>, November 2003.





<span class="grey">Melnikov &amp; Reschke           Standards Track                    [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6657.html">RFC 6657</a>               MIME Charset Default Update             July 2012</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-RFC2616" name="ref-RFC2616">RFC2616</a>]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
              Transfer Protocol -- HTTP/1.1", <a href="rfc2616.html">RFC 2616</a>, June 1999.

   [<a id="ref-RFC2854" name="ref-RFC2854">RFC2854</a>]  Connolly, D. and L. Masinter, "The 'text/html' Media
              Type", <a href="rfc2854.html">RFC 2854</a>, June 2000.

   [<a id="ref-RFC3023" name="ref-RFC3023">RFC3023</a>]  Murata, M., St. Laurent, S., and D. Kohn, "XML Media
              Types", <a href="rfc3023.html">RFC 3023</a>, January 2001.








































<span class="grey">Melnikov &amp; Reschke           Standards Track                    [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6657.html">RFC 6657</a>               MIME Charset Default Update             July 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Acknowledgements"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Acknowledgements</span>

   Many thanks to Ned Freed and John Klensin for comments and ideas that
   motivated creation of this document, and to Carsten Bormann, Murray
   S. Kucherawy, Barry Leiba, and Henri Sivonen for feedback and text
   suggestions.

Authors' Addresses

   Alexey Melnikov
   Isode Limited
   5 Castle Business Village
   36 Station Road
   Hampton, Middlesex  TW12 2BX
   UK

   EMail: Alexey.Melnikov@isode.com


   Julian F. Reschke
   greenbytes GmbH
   Hafenweg 16
   Muenster, NW  48155
   Germany

   EMail: julian.reschke@greenbytes.de
   URI:   <a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a>
























Melnikov &amp; Reschke           Standards Track                    [Page 6]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.111, available from
<a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc6657 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Apr 2015 16:01:04 GMT --></html>