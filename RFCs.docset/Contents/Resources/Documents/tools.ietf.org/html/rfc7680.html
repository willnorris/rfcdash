<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7680 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:34:57 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.119" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="rfc2680" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7680" name="DC.Identifier"/>
<meta content="January, 2016" name="DC.Date.Issued"/>
<meta content="Almes, Guy" name="DC.Creator"/>
<meta content="Zekauskas, Matthew" name="DC.Creator"/>
<meta content="Kalidindi, Sunil" name="DC.Creator"/>
<meta content="Morton, Al" name="DC.Creator"/>
<meta content="This memo defines a metric for one-way loss of packets across Internet
paths. It builds on notions introduced and discussed in the IP
Performance Metrics (IPPM) Framework document, RFC 2330; the reader is
assumed to be familiar with that document. This memo makes RFC 2680
obsolete." name="DC.Description.Abstract"/>
<meta content="A One-Way Loss Metric for IP Performance Metrics (IPPM)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7680 - A One-Way Loss Metric for IP Performance Metrics (IPPM)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bggreen" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7680.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7680" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-ippm-2680-bis" title="draft-ietf-ippm-2680-bis">draft-ietf-ippm-2...</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7680" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7680" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       INTERNET STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                          G. Almes
Request for Comments: 7680                                     Texas A&amp;M
STD: 82                                                     S. Kalidindi
Obsoletes: <a href="rfc2680.html">2680</a>                                                     Ixia
Category: Standards Track                                   M. Zekauskas
ISSN: 2070-1721                                                Internet2
                                                          A. Morton, Ed.
                                                               AT&amp;T Labs
                                                            January 2016


        <span class="h1">A One-Way Loss Metric for IP Performance Metrics (IPPM)</span>

Abstract

   This memo defines a metric for one-way loss of packets across
   Internet paths.  It builds on notions introduced and discussed in the
   IP Performance Metrics (IPPM) Framework document, <a href="rfc2330.html">RFC 2330</a>; the
   reader is assumed to be familiar with that document.  This memo makes
   <a href="rfc2680.html">RFC 2680</a> obsolete.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7680">http://www.rfc-editor.org/info/rfc7680</a>.

















<span class="grey">Almes, et al.                Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





































<span class="grey">Almes, et al.                Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-1.1">1.1</a>.  Motivation  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-1.2">1.2</a>.  General Issues regarding Time . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-2">2</a>.  A Singleton Definition for One-Way Packet Loss  . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.1">2.1</a>.  Metric Name . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.2">2.2</a>.  Metric Parameters . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.3">2.3</a>.  Metric Units  . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.4">2.4</a>.  Definition  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.5">2.5</a>.  Discussion  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-2.6">2.6</a>.  Methodologies . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-2.7">2.7</a>.  Errors and Uncertainties  . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-2.8">2.8</a>.  Reporting the Metric  . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
       <a href="#section-2.8.1">2.8.1</a>.  Type-P  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
       <a href="#section-2.8.2">2.8.2</a>.  Loss Threshold  . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
       <a href="#section-2.8.3">2.8.3</a>.  Calibration Results . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
       <a href="#section-2.8.4">2.8.4</a>.  Path  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-3">3</a>.  A Definition for Samples of One-Way Packet Loss . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-3.1">3.1</a>.  Metric Name . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-3.2">3.2</a>.  Metric Parameters . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-3.3">3.3</a>.  Metric Units  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-3.4">3.4</a>.  Definition  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-3.5">3.5</a>.  Discussion  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-3.6">3.6</a>.  Methodologies . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-3.7">3.7</a>.  Errors and Uncertainties  . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-3.8">3.8</a>.  Reporting the Metric  . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   <a href="#section-4">4</a>.  Some Statistics Definitions for One-Way Packet Loss . . . . .  <a href="#page-15">15</a>
     <a href="#section-4.1">4.1</a>.  Type-P-One-way-Packet-Loss-Ratio  . . . . . . . . . . . .  <a href="#page-15">15</a>
   <a href="#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   <a href="#section-6">6</a>.  Changes from <a href="rfc2680.html">RFC 2680</a> . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   <a href="#section-7">7</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-7.1">7.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-7.2">7.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-20">20</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-22">22</a>















<span class="grey">Almes, et al.                Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   This memo defines a metric for one-way packet loss across Internet
   paths.  It builds on notions introduced and discussed in the IPPM
   Framework document, [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>]; the reader is assumed to be familiar
   with that document and its recent update [<a href="rfc7312.html" title='"Advanced Stream and Sampling Framework for IP Performance Metrics (IPPM)"'>RFC7312</a>].

   This memo is intended to be parallel in structure to a companion
   document for One-way Delay ("A One-Way Delay Metric for IP
   Performance Metrics (IPPM)") [<a href="rfc7679.html" title='"A One-Way Delay Metric for IP Performance Metrics (IPPM)"'>RFC7679</a>]; the reader is assumed to be
   familiar with that document.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].  Although
   [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>] was written with protocols in mind, the key words are used
   in this document for similar reasons.  They are used to ensure the
   results of measurements from two different implementations are
   comparable and to note instances when an implementation could perturb
   the network.

   Whenever a technical term from the IPPM Framework document is first
   used in this memo, it will be tagged with a trailing asterisk.  For
   example, "term*" indicates that "term" is defined in the Framework
   document.

   The structure of the memo is as follows:

   o  A 'singleton*' analytic metric, called Type-P-One-way-Packet-Loss,
      is introduced to measure a single observation of packet
      transmission or loss.

   o  Using this singleton metric, a 'sample*' called Type-P-One-way-
      Packet-Loss-Poisson-Stream is introduced to measure a sequence of
      singleton transmissions and/or losses measured at times taken from
      a Poisson process, as defined in <a href="rfc2330.html#section-11.1.1">Section 11.1.1 of [RFC2330]</a>.

   o  Using this sample, several 'statistics*' of the sample will be
      defined and discussed.

   This progression from singleton to sample to statistics, with clear
   separation among them, is important.









<span class="grey">Almes, et al.                Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Motivation"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Motivation</span>

   Understanding one-way packet loss of Type-P* packets from a source
   host* to a destination host is useful for several reasons:

   o  Some applications do not perform well (or at all) if end-to-end
      loss between hosts is large relative to some threshold value.

   o  Excessive packet loss may make it difficult to support certain
      real-time applications (where the precise threshold of "excessive"
      depends on the application).

   o  The larger the value of packet loss, the more difficult it is for
      transport-layer protocols to sustain high bandwidths.

   o  The sensitivity of real-time applications and of transport-layer
      protocols to loss become especially important when very large
      delay-bandwidth products must be supported.

   The measurement of one-way loss instead of round-trip loss is
   motivated by the following factors:

   o  In today's Internet, the path from a source to a destination may
      be different than the path from the destination back to the source
      ("asymmetric paths"), such that different sequences of routers are
      used for the forward and reverse paths.  Therefore, round-trip
      measurements actually measure the performance of two distinct
      paths together.  Measuring each path independently highlights the
      performance difference between the two paths that may traverse
      different Internet service providers and even radically different
      types of networks (for example, research versus commodity
      networks, or networks with asymmetric link capacities, or wireless
      versus wireline access).

   o  Even when the two paths are symmetric, they may have radically
      different performance characteristics due to asymmetric queuing.

   o  Performance of an application may depend mostly on the performance
      in one direction.  For example, a TCP-based communication will
      experience reduced throughput if congestion occurs in one
      direction of its communication.  Troubleshooting may be simplified
      if the congested direction of TCP transmission can be identified.

   o  In networks in which quality of service (QoS) is enabled,
      provisioning in one direction may be radically different than
      provisioning in the reverse direction and thus the QoS guarantees
      differ.  Measuring the paths independently allows the verification
      of both guarantees.



<span class="grey">Almes, et al.                Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   It is outside the scope of this document to say precisely how loss
   metrics would be applied to specific problems.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20General%20Issues%20regarding%20Time"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  General Issues regarding Time</span>

   {Comment: The terminology below differs from that defined by ITU-T
   documents (e.g., G.810, "Definitions and terminology for
   synchronization networks" and I.356, "B-ISDN ATM layer cell transfer
   performance") but is consistent with the IPPM Framework document.  In
   general, these differences derive from the different backgrounds; the
   ITU-T documents historically have a telephony origin, while the
   authors of this document (and the Framework document) have a computer
   systems background.  Although the terms defined below have no direct
   equivalent in the ITU-T definitions, after our definitions we will
   provide a rough mapping.  However, note one potential confusion: our
   definition of "clock" is the computer operating systems definition
   denoting a time-of-day clock, while the ITU-T definition of clock
   denotes a frequency reference.}

   Whenever a time (i.e., a moment in history) is mentioned here, it is
   understood to be measured in seconds (and fractions) relative to UTC.

   As described more fully in the Framework document, there are four
   distinct, but related notions of clock uncertainty:

   synchronization*

   measures the extent to which two clocks agree on what time it is.
   For example, the clock on one host might be 5.4 msec ahead of the
   clock on a second host. {Comment: A rough ITU-T equivalent is "time
   error".}

   accuracy*

   measures the extent to which a given clock agrees with UTC.  For
   example, the clock on a host might be 27.1 msec behind UTC. {Comment:
   A rough ITU-T equivalent is "time error from UTC".}

   resolution*

   is a specification of the smallest unit by which the clock's time is
   updated.  It gives a lower bound on the clock's uncertainty.  For
   example, the clock on an old Unix host might tick only once every 10
   msec and thus have a resolution of only 10 msec. {Comment: A very
   rough ITU-T equivalent is "sampling period".}






<span class="grey">Almes, et al.                Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   skew*

   measures the change of accuracy, or of synchronization, with time.
   For example, the clock on a given host might gain 1.3 msec per hour
   and thus be 27.1 msec behind UTC at one time and only 25.8 msec an
   hour later.  In this case, we say that the clock of the given host
   has a skew of 1.3 msec per hour relative to UTC, which threatens
   accuracy.  We might also speak of the skew of one clock relative to
   another clock, which threatens synchronization. {Comment: A rough
   ITU-T equivalent is "time drift".}

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20A%20Singleton%20Definition%20for%20One-Way%20Packet%20Loss"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  A Singleton Definition for One-Way Packet Loss</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Metric%20Name"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Metric Name</span>

   Type-P-One-way-Packet-Loss

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Metric%20Parameters"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a host

   o  Dst, the IP address of a host

   o  T, a time

   o  Tmax, a loss threshold waiting time

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Metric%20Units"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Metric Units</span>

   The value of a Type-P-One-way-Packet-Loss is either a zero
   (signifying successful transmission of the packet) or a one
   (signifying loss).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20Definition"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  Definition</span>

   &gt;&gt;The *Type-P-One-way-Packet-Loss* from Src to Dst at T is 0&lt;&lt; means
   that Src sent the first bit of a Type-P packet to Dst at wire time* T
   and that Dst received that packet.

   &gt;&gt;The *Type-P-One-way-Packet-Loss* from Src to Dst at T is 1&lt;&lt; means
   that Src sent the first bit of a Type-P packet to Dst at wire time T
   and that Dst did not receive that packet (within the loss threshold
   waiting time, Tmax).








<span class="grey">Almes, et al.                Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5.%20%20Discussion"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a>.  Discussion</span>

   Thus, Type-P-One-way-Packet-Loss is 0 exactly when Type-P-One-way-
   Delay is a finite value, and it is 1 exactly when Type-P-One-way-
   Delay is undefined.

   The following issues are likely to come up in practice:

   o  A given methodology will have to include a way to distinguish
      between a packet loss and a very large (but finite) delay.  As
      noted by Mahdavi and Paxson [<a href="rfc2678.html" title='"IPPM Metrics for Measuring Connectivity"'>RFC2678</a>], simple upper bounds (such
      as the 255-second theoretical upper bound on the lifetimes of IP
      packets [<a href="rfc791.html" title='"Internet Protocol"'>RFC791</a>]) could be used, but good engineering, including
      an understanding of packet lifetimes, will be needed in practice.
      {Comment: Note that, for many applications of these metrics, there
      may be no harm in treating a large delay as packet loss.  An audio
      playback packet, for example, that arrives only after the playback
      point may as well have been lost.  See <a href="rfc6703.html#section-4.1.1">Section 4.1.1 of [RFC6703]</a>
      for examination of unusual packet delays and application
      performance estimation.}

   o  If the packet arrives but is corrupted, then it is counted as
      lost. {Comment: One is tempted to count the packet as received
      since corruption and packet loss are related but distinct
      phenomena.  If the IP header is corrupted, however, one cannot be
      sure about the source or destination IP addresses and is thus on
      shaky grounds about knowing that the corrupted received packet
      corresponds to a given sent test packet.  Similarly, if other
      parts of the packet needed by the methodology to know that the
      corrupted received packet corresponds to a given sent test packet,
      then such a packet would have to be counted as lost.  It would be
      inconsistent to count packets with corrupted methodology-specific
      fields as lost, and not to count packets with other corrupted
      aspects in the same category.} <a href="rfc2330.html#section-15">Section 15 of [RFC2330]</a> defines the
      "standard-formed" packet that is applicable to all metrics.  Note
      that at this time the definition of standard-formed packets only
      applies to IPv4 (see also [<a href="#ref-IPPM-UPDATES">IPPM-UPDATES</a>]).

   o  If the packet is duplicated along the path (or paths) so that
      multiple non-corrupt copies arrive at the destination, then the
      packet is counted as received.

   o  If the packet is fragmented and if, for whatever reason,
      reassembly does not occur, then the packet will be deemed lost.







<span class="grey">Almes, et al.                Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.6.%20%20Methodologies"></a><a class="selflink" href="#section-2.6" name="section-2.6">2.6</a>.  Methodologies</span>

   As with other Type-P-* metrics, the detailed methodology will depend
   on the Type-P (e.g., protocol number, UDP/TCP port number, size,
   Differentiated Services (DS) Field [<a href="rfc2780.html" title='"IANA Allocation Guidelines For Values In the Internet Protocol and Related Headers"'>RFC2780</a>]).

   Generally, for a given Type-P, one possible methodology would proceed
   as follows:

   o  Arrange that Src and Dst have clocks that are synchronized with
      each other.  The degree of synchronization is a parameter of the
      methodology and depends on the threshold used to determine loss
      (see below).

   o  At the Src host, select Src and Dst IP addresses and form a test
      packet of Type-P with these addresses.

   o  At the Dst host, arrange to receive the packet.

   o  At the Src host, place a timestamp in the prepared Type-P packet,
      and send it towards Dst (ideally minimizing time before sending).

   o  If the packet arrives within a reasonable period of time, the one-
      way packet loss is taken to be zero (and take a timestamp as soon
      as possible upon the receipt of the packet).

   o  If the packet fails to arrive within a reasonable period of time,
      Tmax, the one-way packet loss is taken to be one.  Note that the
      threshold of "reasonable" here is a parameter of the metric.

   {Comment: The definition of reasonable is intentionally vague and is
   intended to indicate a value "Th" so large that any value in the
   closed interval [Th-delta, Th+delta] is an equivalent threshold for
   loss.  Here, delta encompasses all error in clock synchronization and
   timestamp acquisition and assignment along the measured path.  If
   there is a single value, Tmax, after which the packet must be counted
   as lost, then we reintroduce the need for a degree of clock
   synchronization similar to that needed for one-way delay, and
   virtually all practical measurement systems combine methods for delay
   and loss.  Therefore, if a measure of packet loss parameterized by a
   specific non-huge "reasonable" time-out value is needed, one can
   always measure one-way delay and see what percentage of packets from
   a given stream exceed a given time-out value.  This point is examined
   in detail in [<a href="rfc6703.html" title='"Reporting IP Network Performance Metrics: Different Points of View"'>RFC6703</a>], including analysis preferences to assign
   undefined delay to packets that fail to arrive with the difficulties
   emerging from the informal "infinite delay" assignment, and an
   estimation of an upper bound on waiting time for packets in transit.
   Further, enforcing a specific constant waiting time on stored



<span class="grey">Almes, et al.                Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   singletons of one-way delay is compliant with this specification and
   may allow the results to serve more than one reporting audience.}

   Issues such as the packet format, the means by which Dst knows when
   to expect the test packet, and the means by which Src and Dst are
   synchronized are outside the scope of this document. {Comment: We
   plan to document the implementation techniques of our work in much
   more detail elsewhere; we encourage others to do so as well.}

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.7.%20%20Errors%20and%20Uncertainties"></a><a class="selflink" href="#section-2.7" name="section-2.7">2.7</a>.  Errors and Uncertainties</span>

   The description of any specific measurement method should include an
   accounting and analysis of various sources of error or uncertainty.
   The Framework document provides general guidance on this point.

   For loss, there are three sources of error:

   o  synchronization between clocks on Src and Dst.

   o  the packet-loss threshold (which is related to the synchronization
      between clocks).

   o  resource limits in the network interface or software on the
      receiving instrument.

   The first two sources are interrelated and could result in a test
   packet with finite delay being reported as lost.  Type-P-One-way-
   Packet-Loss is 1 if the test packet does not arrive, or if it does
   arrive and the difference between the Src timestamp and the Dst
   timestamp is greater than the "reasonable period of time" or loss
   threshold.  If the clocks are not sufficiently synchronized, the loss
   threshold may not be "reasonable" - the packet may take much less
   time to arrive than its Src timestamp indicates.  Similarly, if the
   loss threshold is set too low, then many packets may be counted as
   lost.  The loss threshold must be high enough and the clocks
   synchronized well enough so that a packet that arrives is rarely
   counted as lost.  (See the discussions in the previous two sections.)

   Since the sensitivity of packet-loss measurement alone to lack of
   clock synchronization is less than for delay, we refer the reader to
   the treatment of synchronization errors in the "One-way Delay Metric
   for IPPM" [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>] for more details.

   The last source of error, resource limits, cause the packet to be
   dropped by the measurement instrument and counted as lost when in
   fact the network delivered the packet in reasonable time.





<span class="grey">Almes, et al.                Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   The measurement instruments should be calibrated such that the loss
   threshold is reasonable for application of the metrics and the clocks
   are synchronized enough so the loss threshold remains reasonable.

   In addition, the instruments should be checked to ensure that the
   possibility a packet arrives at the network interface but is lost due
   to congestion on the interface or to other resource exhaustion (e.g.,
   buffers) on the instrument is low.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.8.%20%20Reporting%20the%20Metric"></a><a class="selflink" href="#section-2.8" name="section-2.8">2.8</a>.  Reporting the Metric</span>

   The calibration and context in which the metric is measured MUST be
   carefully considered and SHOULD always be reported along with metric
   results.  We now present four items to consider: Type-P of the test
   packets, the loss threshold, instrument calibration, and the path
   traversed by the test packets.  This list is not exhaustive; any
   additional information that could be useful in interpreting
   applications of the metrics should also be reported (see [<a href="rfc6703.html" title='"Reporting IP Network Performance Metrics: Different Points of View"'>RFC6703</a>]
   for extensive discussion of reporting considerations for different
   audiences).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.8.1.%20%20Type-P"></a><a class="selflink" href="#section-2.8.1" name="section-2.8.1">2.8.1</a>.  Type-P</span>

   As noted in <a href="#section-13">Section 13</a> of the Framework document [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>], the value
   of the metric may depend on the type of IP packets used to make the
   measurement, or "Type-P".  The value of Type-P-One-way-Delay could
   change if the protocol (UDP or TCP), port number, size, or
   arrangement for special treatment (e.g., IP DS Field [<a href="rfc2780.html" title='"IANA Allocation Guidelines For Values In the Internet Protocol and Related Headers"'>RFC2780</a>],
   Explicit Congestion Notification (ECN) [<a href="rfc3168.html" title='"The Addition of Explicit Congestion Notification (ECN) to IP"'>RFC3168</a>], or RSVP) changes.
   Additional packet distinctions identified in future extensions of the
   Type-P definition will apply.  The exact Type-P used to make the
   measurements MUST be accurately reported.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.8.2.%20%20Loss%20Threshold"></a><a class="selflink" href="#section-2.8.2" name="section-2.8.2">2.8.2</a>.  Loss Threshold</span>

   The threshold, Tmax, between a large finite delay and loss (or other
   methodology to distinguish between finite delay and loss) MUST be
   reported.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.8.3.%20%20Calibration%20Results"></a><a class="selflink" href="#section-2.8.3" name="section-2.8.3">2.8.3</a>.  Calibration Results</span>

   The degree of synchronization between the Src and Dst clocks MUST be
   reported.  If possible, a test packet that arrives at the Dst network
   interface and is reported as lost due to resource exhaustion on Dst
   SHOULD be reported.






<span class="grey">Almes, et al.                Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.8.4.%20%20Path"></a><a class="selflink" href="#section-2.8.4" name="section-2.8.4">2.8.4</a>.  Path</span>

   Finally, the path traversed by the packet SHOULD be reported, if
   possible.  In general, it is impractical to know the precise path a
   given packet takes through the network.  The precise path may be
   known for certain Type-P on short or stable paths.  If Type-P
   includes the record route (or loose-source route) option in the IP
   header, and the path is short enough, and all routers* on the path
   support record (or loose-source) route, then the path will be
   precisely recorded.  This is impractical because the route must be
   short enough, many routers do not support (or are not configured for)
   record route, and use of this feature would often artificially worsen
   the performance observed by removing the packet from common-case
   processing.  However, partial information is still valuable context.
   For example, if a host can choose between two links* (and hence, two
   separate routes from Src to Dst), then the initial link used is
   valuable context. {Comment: Backbone path selection services come and
   go.  A historical example was Merit's NetNow setup, where a Src on
   one Network Access Point (NAP) can reach a Dst on another NAP by
   either of several different backbone networks.}

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20A%20Definition%20for%20Samples%20of%20One-Way%20Packet%20Loss"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  A Definition for Samples of One-Way Packet Loss</span>

   Given the singleton metric Type-P-One-way-Packet-Loss, we now define
   one particular sample of such singletons.  The idea of the sample is
   to select a particular binding of the parameters Src, Dst, and Type-
   P, then define a sample of values of parameter T.  The means for
   defining the values of T is to select a beginning time T0, a final
   time Tf, and an average rate lambda, then define a pseudorandom
   Poisson process of rate lambda, whose values fall between T0 and Tf.
   The time interval between successive values of T will then average 1/
   lambda.

   Note that Poisson sampling is only one way of defining a sample.
   Poisson has the advantage of limiting bias, but other methods of
   sampling will be appropriate for different situations.  For example,
   a truncated Poisson distribution may be needed to avoid reactive
   network state changes during intervals of inactivity, see <a href="rfc7312.html#section-4.6">Section 4.6
   of [RFC7312]</a>.  Sometimes the goal is sampling with a known bias, and
   [<a href="rfc3432.html" title='"Network performance measurement with periodic streams"'>RFC3432</a>] describes a method for periodic sampling with random start
   times.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Metric%20Name"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Metric Name</span>

   Type-P-One-way-Packet-Loss-Poisson-Stream






<span class="grey">Almes, et al.                Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Metric%20Parameters"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a host

   o  Dst, the IP address of a host

   o  T0, a time

   o  Tf, a time

   o  Tmax, a loss threshold waiting time

   o  lambda, a rate in reciprocal seconds

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Metric%20Units"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Metric Units</span>

   A sequence of pairs; the elements of each pair are:

   o  T, a time, and

   o  L, either a zero or a one.

   The values of T in the sequence are monotonic increasing.  Note that
   T would be a valid parameter to Type-P-One-way-Packet-Loss and that L
   would be a valid value of Type-P-One-way-Packet-Loss.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Definition"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Definition</span>

   Given T0, Tf, and lambda, we compute a pseudorandom Poisson process
   beginning at or before T0, with average arrival rate lambda, and
   ending at or after Tf.  Those time values greater than or equal to T0
   and less than or equal to Tf are then selected.  At each of the
   selected times in this process, we obtain one value of Type-P-One-
   way-Delay.  The value of the sample is the sequence made up of the
   resulting &lt;time, loss&gt; pairs.  If there are no such pairs, the
   sequence is of length zero and the sample is said to be empty.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.5.%20%20Discussion"></a><a class="selflink" href="#section-3.5" name="section-3.5">3.5</a>.  Discussion</span>

   The reader should be familiar with the in-depth discussion of Poisson
   sampling in the Framework document [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>], which includes methods
   to compute and verify the pseudorandom Poisson process.

   We specifically do not constrain the value of lambda except to note
   the extremes.  If the rate is too large, then the measurement traffic
   will perturb the network and itself cause congestion.  If the rate is
   too small, then you might not capture interesting network behavior.
   {Comment: We expect to document our experiences with, and suggestions



<span class="grey">Almes, et al.                Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   for, lambda elsewhere, culminating in a "Best Current Practice"
   document.}

   Since a pseudorandom number sequence is employed, the sequence of
   times, and hence the value of the sample, is not fully specified.
   Pseudorandom number generators of good quality will be needed to
   achieve the desired qualities.

   The sample is defined in terms of a Poisson process both to avoid the
   effects of self-synchronization and also capture a sample that is
   statistically as unbiased as possible.  The Poisson process is used
   to schedule the loss measurements.  The test packets will generally
   not arrive at Dst according to a Poisson distribution, since they are
   influenced by the network.  Time-slotted links described in
   <a href="rfc7312.html#section-3.4">Section 3.4 [RFC7312]</a> can greatly modify the sample characteristics.
   The main concern is that unbiased packet streams with randomized
   inter-packet time intervals will be converted to some new
   distribution after encountering a time-slotted link, possibly with
   strong periodic characteristics instead.

   {Comment: there is, of course, no claim that real Internet traffic
   arrives according to a Poisson arrival process.

   It is important to note that, in contrast to this metric, loss ratios
   observed by transport connections do not reflect unbiased samples.
   For example, TCP transmissions both (1) occur in bursts, which can
   induce loss due to the burst volume that would not otherwise have
   been observed, and (2) adapt their transmission rate in an attempt to
   minimize the loss ratio observed by the connection.}

   All the singleton Type-P-One-way-Packet-Loss metrics in the sequence
   will have the same values of Src, Dst, and Type-P.

   Note also that, given one sample that runs from T0 to Tf, and given
   new time values T0' and Tf' such that T0 &lt;= T0' &lt;= Tf' &lt;= Tf, the
   subsequence of the given sample whose time values fall between T0'
   and Tf' are also a valid Type-P-One-way-Packet-Loss-Poisson-Stream
   sample.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.6.%20%20Methodologies"></a><a class="selflink" href="#section-3.6" name="section-3.6">3.6</a>.  Methodologies</span>

   The methodologies follow directly from:

   o  the selection of specific times using the specified Poisson
      arrival process, and

   o  the methodologies discussion already given for the singleton Type-
      P-One-way-Packet-Loss metric.



<span class="grey">Almes, et al.                Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   Care must be given to correctly handle out-of-order arrival of test
   packets; it is possible that the Src could send one test packet at
   TS[i], then send a second one (later) at TS[i+1] while the Dst could
   receive the second test packet at TR[i+1], and then receive the first
   one (later) at TR[i].  Metrics for reordering may be found in
   [<a href="rfc4737.html" title='"Packet Reordering Metrics"'>RFC4737</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.7.%20%20Errors%20and%20Uncertainties"></a><a class="selflink" href="#section-3.7" name="section-3.7">3.7</a>.  Errors and Uncertainties</span>

   In addition to sources of errors and uncertainties associated with
   methods employed to measure the singleton values that make up the
   sample, care must be given to analyze the accuracy of the Poisson
   arrival process of the wire times of the sending of the test packets.
   Problems with this process could be caused by several things,
   including problems with the pseudorandom number techniques used to
   generate the Poisson arrival process.  The Framework document shows
   how to use the Anderson-Darling test to verify the accuracy of the
   Poisson process over small time frames. {Comment: The goal is to
   ensure that the test packets are sent "close enough" to a Poisson
   schedule and avoid periodic behavior.}

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.8.%20%20Reporting%20the%20Metric"></a><a class="selflink" href="#section-3.8" name="section-3.8">3.8</a>.  Reporting the Metric</span>

   The calibration and context for the underlying singletons MUST be
   reported along with the stream (see "Reporting the Metric"
   (<a href="#section-2.8">Section 2.8</a>) for Type-P-One-way-Packet-Loss).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Some%20Statistics%20Definitions%20for%20One-Way%20Packet%20Loss"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Some Statistics Definitions for One-Way Packet Loss</span>

   Given the sample metric Type-P-One-way-Packet-Loss-Poisson-Stream, we
   now offer several statistics of that sample.  These statistics are
   offered mostly to be illustrative of what could be done.  See
   [<a href="rfc6703.html" title='"Reporting IP Network Performance Metrics: Different Points of View"'>RFC6703</a>] for additional discussion of statistics that are relevant
   to different audiences.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Type-P-One-way-Packet-Loss-Ratio"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Type-P-One-way-Packet-Loss-Ratio</span>

   Given a Type-P-One-way-Packet-Loss-Poisson-Stream, the average of all
   the L values in the stream is the ratio of losses to total packets in
   the stream.  In addition, the Type-P-One-way-Packet-Loss-Ratio is
   undefined if the sample is empty.










<span class="grey">Almes, et al.                Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   For example, suppose we take a sample and the results are as follows:

   Stream1 = &lt;

   &lt;T1, 0&gt;

   &lt;T2, 0&gt;

   &lt;T3, 1&gt;

   &lt;T4, 0&gt;

   &lt;T5, 0&gt;

   &gt;

   Then, the average of loss results would be 0.2, the loss ratio.

   Note that, since healthy Internet paths should be operating at loss
   ratios below 1% (particularly if high delay-bandwidth products are to
   be sustained), the sample sizes needed might be larger than one would
   like.  Thus, for example, if one wants to discriminate between
   various fractions of 1% over one-minute periods, then several hundred
   samples per minute might be needed.  This would result in larger
   values of lambda than one would ordinarily want.

   Note that although the loss threshold should be set such that any
   errors in loss are not significant, if the possibility that a packet
   that arrived is counted as lost due to resource exhaustion is
   significant compared to the loss ratio of interest, Type-P-One-way-
   Packet-Loss-Ratio will be meaningless.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   Conducting Internet measurements raises both security and privacy
   concerns.  This memo does not specify an implementation of the
   metrics, so it does not directly affect the security of the Internet
   nor of applications that run on the Internet.  However,
   implementations of these metrics must be mindful of security and
   privacy concerns.

   There are two types of security concerns: potential harm caused by
   the measurements and potential harm to the measurements.  The
   measurements could cause harm because they are active and inject
   packets into the network.  The measurement parameters MUST be
   carefully selected so that the measurements inject trivial amounts of
   additional traffic into the networks they measure.  If they inject




<span class="grey">Almes, et al.                Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   "too much" traffic, they can skew the results of the measurement and
   in extreme cases cause congestion and denial of service.

   The measurements themselves could be harmed by routers giving
   measurement traffic a different priority than "normal" traffic or by
   an attacker injecting artificial measurement traffic.  If routers can
   recognize measurement traffic and treat it separately, the
   measurements will not reflect actual user traffic.  If an attacker
   injects artificial traffic that is accepted as legitimate, the loss
   ratio will be artificially lowered.  Therefore, the measurement
   methodologies SHOULD include appropriate techniques to reduce the
   probability that measurement traffic can be distinguished from
   "normal" traffic.  Authentication techniques, such as digital
   signatures, may be used where appropriate to guard against injected
   traffic attacks.

   When considering privacy of those involved in measurement or those
   whose traffic is measured, the sensitive information available to
   potential observers is greatly reduced when using active techniques
   that are within this scope of work.  Passive observations of user
   traffic for measurement purposes raise many privacy issues.  We refer
   the reader to the privacy considerations described in the Large Scale
   Measurement of Broadband Performance (LMAP) Framework [<a href="rfc7594.html" title='"A Framework for Large-Scale Measurement of Broadband Performance (LMAP)"'>RFC7594</a>],
   which covers active and passive techniques.

   Collecting measurements or using measurement results for
   reconnaissance to assist in subsequent system attacks is quite
   common.  Access to measurement results or control of the measurement
   systems to perform reconnaissance should be guarded against.  See
   <a href="rfc7594.html#section-7">Section 7 of [RFC7594]</a> (the Security Considerations section of the
   LMAP Framework) for system requirements that help to avoid
   measurement system compromise.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Changes%20from%20RFC%202680"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Changes from <a href="rfc2680.html">RFC 2680</a></span>

   The text above constitutes a revision to <a href="rfc2680.html">RFC 2680</a>, which is now an
   Internet Standard.

   [<a id="ref-RFC7290" name="ref-RFC7290">RFC7290</a>] provides the test plan and results supporting [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>]
   advancement along the Standards Track, according to the process in
   [<a href="rfc6576.html" title='"IP Performance Metrics (IPPM) Standard Advancement Testing"'>RFC6576</a>].  The conclusions of [<a href="rfc7290.html" title='"Test Plan and Results for Advancing RFC 2680 on the Standards Track"'>RFC7290</a>] list four minor
   modifications for inclusion:

   1.  <a href="rfc7290.html#section-6.2.3">Section 6.2.3 of [RFC7290]</a> asserts that the assumption of post-
       processing to enforce a constant waiting time threshold is
       compliant and that the text of the RFC should be revised slightly
       to include this point.  The applicability of post-processing was
       added in the last list item of <a href="#section-2.6">Section 2.6</a>, above.



<span class="grey">Almes, et al.                Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   2.  <a href="rfc7290.html#section-6.5">Section 6.5 of [RFC7290]</a> indicates that the Type-P-One-way-
       Packet-Loss-Average statistic is more commonly called a Packet
       Loss Ratio, so it is renamed in this document (this small
       discrepancy does not affect candidacy for advancement).  The
       renaming was implemented in <a href="#section-4.1">Section 4.1</a>, above.

   3.  The IETF has reached consensus on guidance for reporting metrics
       in [<a href="rfc6703.html" title='"Reporting IP Network Performance Metrics: Different Points of View"'>RFC6703</a>], and the memo is referenced this document to
       incorporate recent experience where appropriate.  This reference
       was added in the last list item of <a href="#section-2.6">Section 2.6</a>, in <a href="#section-2.8">Section 2.8</a>,
       and in <a href="#section-4">Section 4</a> above.

   4.  There are currently two errata with status "Verified" (EID 1528)
       and "Held for Document Update" (EID 3186) for [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], and
       these minor revisions were incorporated in Sections <a href="#section-1">1</a> and <a href="#section-2.7">2.7</a>.

   A number of updates to the [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] text have been implemented in
   the text to reference key IPPM RFCs that were approved after
   [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] (see Sections <a href="#section-3">3</a> and <a href="#section-3.6">3.6</a>, above) and to address comments on
   the IPPM mailing list describing current conditions and experience.

   1.   Near the end of <a href="#section-1.1">Section 1.1</a>, there is an update of a network
        example using ATM, a clarification of TCP's affect on queue
        occupation, and discussion of the importance of one-way delay
        measurement.

   2.   Clarification of the definition of "resolution" in <a href="#section-1.2">Section 1.2</a>.

   3.   Explicit inclusion of the maximum waiting time input parameter
        in Sections <a href="#section-2.2">2.2</a>, <a href="#section-2.4">2.4</a>, and <a href="#section-3.2">3.2</a>, reflecting recognition of this
        parameter in more recent RFCs and ITU-T Recommendation Y.1540.

   4.   Addition of a reference to <a href="rfc6703.html">RFC 6703</a> in the discussion of packet
        lifetime and application timeouts in <a href="#section-2.5">Section 2.5</a>.

   5.   Replaced "precedence" with updated terminology (DS Field) in
        Sections <a href="#section-2.6">2.6</a> and <a href="#section-2.8.1">2.8.1</a> (with reference).

   6.   Added parenthetical guidance on minimizing the interval between
        timestamp placement to send time or reception time in
        <a href="#section-2.6">Section 2.6</a>.  Also, the text now recognizes the timestamp
        acquisition process and that practical systems measure both
        delay and loss (thus requiring the max waiting time parameter).

   7.   Added a reference to <a href="rfc3432.html">RFC 3432</a> regarding periodic sampling
        alongside Poisson sampling in <a href="#section-3">Section 3</a> and also noted that a
        truncated Poisson distribution may be needed with modern
        networks as described in the IPPM Framework update [<a href="rfc7312.html" title='"Advanced Stream and Sampling Framework for IP Performance Metrics (IPPM)"'>RFC7312</a>].



<span class="grey">Almes, et al.                Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   8.   Recognition that time-slotted links described in [<a href="rfc7312.html" title='"Advanced Stream and Sampling Framework for IP Performance Metrics (IPPM)"'>RFC7312</a>] can
        greatly modify the sample characteristics, in <a href="#section-3.5">Section 3.5</a>.

   9.   Added a reference to <a href="rfc4737.html">RFC 4737</a> regarding reordering metrics in
        the related discussion of <a href="#section-3.6">Section 3.6</a>, "Methodologies".

   10.  Expanded and updated the material on privacy and added cautions
        on use of measurements for reconnaissance in <a href="#section-5">Section 5</a>,
        "Security Considerations".

   <a href="rfc6390.html#section-5.4.4">Section 5.4.4 of [RFC6390]</a> suggests a common template for performance
   metrics partially derived from previous IPPM and Benchmarking
   Methodology Working Group (BMWG) RFCs, but it also contains some new
   items.  All of the normative parts of [<a href="rfc6390.html" title='"Guidelines for Considering New Performance Metric Development"'>RFC6390</a>] are covered, but not
   quite in the same section names or orientation.  Several of the
   informative parts are covered.  Maintaining the familiar outline of
   IPPM literature has value and minimizes unnecessary differences
   between this revised RFC and current/future IPPM RFCs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC791" name="ref-RFC791">RFC791</a>]   Postel, J., "Internet Protocol", STD 5, <a href="rfc791.html">RFC 791</a>,
              DOI 10.17487/RFC0791, September 1981,
              &lt;<a href="http://www.rfc-editor.org/info/rfc791">http://www.rfc-editor.org/info/rfc791</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2330" name="ref-RFC2330">RFC2330</a>]  Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,
              "Framework for IP Performance Metrics", <a href="rfc2330.html">RFC 2330</a>,
              DOI 10.17487/RFC2330, May 1998,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2330">http://www.rfc-editor.org/info/rfc2330</a>&gt;.

   [<a id="ref-RFC2678" name="ref-RFC2678">RFC2678</a>]  Mahdavi, J. and V. Paxson, "IPPM Metrics for Measuring
              Connectivity", <a href="rfc2678.html">RFC 2678</a>, DOI 10.17487/RFC2678, September
              1999, &lt;<a href="http://www.rfc-editor.org/info/rfc2678">http://www.rfc-editor.org/info/rfc2678</a>&gt;.

   [<a id="ref-RFC2680" name="ref-RFC2680">RFC2680</a>]  Almes, G., Kalidindi, S., and M. Zekauskas, "A One-way
              Packet Loss Metric for IPPM", <a href="rfc2680.html">RFC 2680</a>,
              DOI 10.17487/RFC2680, September 1999,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2680">http://www.rfc-editor.org/info/rfc2680</a>&gt;.






<span class="grey">Almes, et al.                Standards Track                   [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   [<a id="ref-RFC2780" name="ref-RFC2780">RFC2780</a>]  Bradner, S. and V. Paxson, "IANA Allocation Guidelines For
              Values In the Internet Protocol and Related Headers",
              <a href="https://tools.ietf.org/html/bcp37">BCP 37</a>, <a href="rfc2780.html">RFC 2780</a>, DOI 10.17487/RFC2780, March 2000,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2780">http://www.rfc-editor.org/info/rfc2780</a>&gt;.

   [<a id="ref-RFC3432" name="ref-RFC3432">RFC3432</a>]  Raisanen, V., Grotefeld, G., and A. Morton, "Network
              performance measurement with periodic streams", <a href="rfc3432.html">RFC 3432</a>,
              DOI 10.17487/RFC3432, November 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3432">http://www.rfc-editor.org/info/rfc3432</a>&gt;.

   [<a id="ref-RFC6576" name="ref-RFC6576">RFC6576</a>]  Geib, R., Ed., Morton, A., Fardid, R., and A. Steinmitz,
              "IP Performance Metrics (IPPM) Standard Advancement
              Testing", <a href="https://tools.ietf.org/html/bcp176">BCP 176</a>, <a href="rfc6576.html">RFC 6576</a>, DOI 10.17487/RFC6576, March
              2012, &lt;<a href="http://www.rfc-editor.org/info/rfc6576">http://www.rfc-editor.org/info/rfc6576</a>&gt;.

   [<a id="ref-RFC7312" name="ref-RFC7312">RFC7312</a>]  Fabini, J. and A. Morton, "Advanced Stream and Sampling
              Framework for IP Performance Metrics (IPPM)", <a href="rfc7312.html">RFC 7312</a>,
              DOI 10.17487/RFC7312, August 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7312">http://www.rfc-editor.org/info/rfc7312</a>&gt;.

   [<a id="ref-RFC7679" name="ref-RFC7679">RFC7679</a>]  Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,
              Ed., "A One-Way Delay Metric for IP Performance Metrics
              (IPPM)", STD 81, <a href="rfc7679.html">RFC 7679</a>, DOI 10.17487/RFC7679, January
              2016, &lt;<a href="http://www.rfc-editor.org/info/rfc7679">http://www.rfc-editor.org/info/rfc7679</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-IPPM-UPDATES" name="ref-IPPM-UPDATES">IPPM-UPDATES</a>]
              Morton, A., Fabini, J., Elkins, N., Ackermann, M., and V.
              Hegde, "Updates for IPPM's Active Metric Framework:
              Packets of Type-P and Standard-Formed Packets", Work in
              Progress, <a href="https://tools.ietf.org/html/draft-morton-ippm-2330-stdform-typep-02">draft-morton-ippm-2330-stdform-typep-02</a>,
              December 2015.

   [<a id="ref-RFC3168" name="ref-RFC3168">RFC3168</a>]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition
              of Explicit Congestion Notification (ECN) to IP",
              <a href="rfc3168.html">RFC 3168</a>, DOI 10.17487/RFC3168, September 2001,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3168">http://www.rfc-editor.org/info/rfc3168</a>&gt;.

   [<a id="ref-RFC4737" name="ref-RFC4737">RFC4737</a>]  Morton, A., Ciavattone, L., Ramachandran, G., Shalunov,
              S., and J. Perser, "Packet Reordering Metrics", <a href="rfc4737.html">RFC 4737</a>,
              DOI 10.17487/RFC4737, November 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4737">http://www.rfc-editor.org/info/rfc4737</a>&gt;.

   [<a id="ref-RFC6390" name="ref-RFC6390">RFC6390</a>]  Clark, A. and B. Claise, "Guidelines for Considering New
              Performance Metric Development", <a href="https://tools.ietf.org/html/bcp170">BCP 170</a>, <a href="rfc6390.html">RFC 6390</a>,
              DOI 10.17487/RFC6390, October 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6390">http://www.rfc-editor.org/info/rfc6390</a>&gt;.



<span class="grey">Almes, et al.                Standards Track                   [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


   [<a id="ref-RFC6703" name="ref-RFC6703">RFC6703</a>]  Morton, A., Ramachandran, G., and G. Maguluri, "Reporting
              IP Network Performance Metrics: Different Points of View",
              <a href="rfc6703.html">RFC 6703</a>, DOI 10.17487/RFC6703, August 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6703">http://www.rfc-editor.org/info/rfc6703</a>&gt;.

   [<a id="ref-RFC7290" name="ref-RFC7290">RFC7290</a>]  Ciavattone, L., Geib, R., Morton, A., and M. Wieser, "Test
              Plan and Results for Advancing <a href="rfc2680.html">RFC 2680</a> on the Standards
              Track", <a href="rfc7290.html">RFC 7290</a>, DOI 10.17487/RFC7290, July 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7290">http://www.rfc-editor.org/info/rfc7290</a>&gt;.

   [<a id="ref-RFC7594" name="ref-RFC7594">RFC7594</a>]  Eardley, P., Morton, A., Bagnulo, M., Burbridge, T.,
              Aitken, P., and A. Akhter, "A Framework for Large-Scale
              Measurement of Broadband Performance (LMAP)", <a href="rfc7594.html">RFC 7594</a>,
              DOI 10.17487/RFC7594, September 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7594">http://www.rfc-editor.org/info/rfc7594</a>&gt;.

Acknowledgements

   For [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], thanks are due to Matt Mathis for encouraging this
   work and for calling attention on so many occasions to the
   significance of packet loss.  Thanks are due also to Vern Paxson for
   his valuable comments on early drafts and to Garry Couch and Will
   Leland for several useful suggestions.

   For this document, thanks to Joachim Fabini, Ruediger Geib, Nalini
   Elkins, and Barry Constantine for sharing their measurement
   experience as part of their careful reviews.  Brian Carpenter and
   Scott Bradner provided useful feedback at IETF Last Call.























<span class="grey">Almes, et al.                Standards Track                   [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc7680.html">RFC 7680</a>             A One-Way Loss Metric for IPPM         January 2016</span>


Authors' Addresses

   Guy Almes
   Texas A&amp;M

   Email: almes@acm.org


   Sunil Kalidindi
   Ixia

   Email: skalidindi@ixiacom.com


   Matt Zekauskas
   Internet2

   Email: matt@internet2.edu


   Al Morton (editor)
   AT&amp;T Labs
   200 Laurel Avenue South
   Middletown, NJ  07748
   United States

   Phone: +1 732 420 1571
   Fax:   +1 732 368 1192
   Email: acmorton@att.com
   URI:   <a href="http://home.comcast.net/~acmacm/">http://home.comcast.net/~acmacm/</a>





















Almes, et al.                Standards Track                   [Page 22]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.119, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7680 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:34:57 GMT --></html>