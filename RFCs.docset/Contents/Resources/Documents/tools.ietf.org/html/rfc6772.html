<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6772 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Apr 2015 16:01:02 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.111" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:6772" name="DC.Identifier"/>
<meta content="This document defines an authorization policy language for controlling
access to location information. It extends the Common Policy
authorization framework to provide location-specific access control.
More specifically, this document defines condition elements specific
to location information in order to restrict access to data based on
the current location of the Target.  Furthermore, this document
defines two algorithms for reducing the granularity of returned
location information. The first algorithm is defined for usage with
civic location information, whereas the other one applies to geodetic
location information. Both algorithms come with limitations. There are
circumstances where the amount of location obfuscation provided is
less than what is desired. These algorithms might not be appropriate
for all application domains. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Morris, John" name="DC.Creator"/>
<meta content="Cuellar, Jorge" name="DC.Creator"/>
<meta content="Thomson, Martin" name="DC.Creator"/>
<meta content="Tschofenig, Hannes" name="DC.Creator"/>
<meta content="Polk, James" name="DC.Creator"/>
<meta content="Schulzrinne, Henning" name="DC.Creator"/>
<meta content="January, 2013" name="DC.Date.Issued"/>
<meta content="Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6772 - Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc6772.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc6772" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-ietf-geopriv-policy" title="draft-ietf-geopriv-policy">draft-ietf-geopri...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6772" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc6772" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)               H. Schulzrinne, Ed.
Request for Comments: 6772                           Columbia University
Category: Standards Track                             H. Tschofenig, Ed.
ISSN: 2070-1721                                   Nokia Siemens Networks
                                                              J. Cuellar
                                                                 Siemens
                                                                 J. Polk
                                                                   Cisco
                                                               J. Morris

                                                              M. Thomson
                                                               Microsoft
                                                            January 2013


               <span class="h1">Geolocation Policy: A Document Format for</span>
        <span class="h1">Expressing Privacy Preferences for Location Information</span>

Abstract

   This document defines an authorization policy language for
   controlling access to location information.  It extends the Common
   Policy authorization framework to provide location-specific access
   control.  More specifically, this document defines condition elements
   specific to location information in order to restrict access to data
   based on the current location of the Target.

   Furthermore, this document defines two algorithms for reducing the
   granularity of returned location information.  The first algorithm is
   defined for usage with civic location information, whereas the other
   one applies to geodetic location information.  Both algorithms come
   with limitations.  There are circumstances where the amount of
   location obfuscation provided is less than what is desired.  These
   algorithms might not be appropriate for all application domains.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6772">http://www.rfc-editor.org/info/rfc6772</a>.



<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


Copyright Notice

   Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in <a href="#section-4">Section 4</a>.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





































<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-2">2</a>.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  Generic Processing . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-3.1">3.1</a>.  Structure of Geolocation Authorization Documents . . . . .  <a href="#page-7">7</a>
     <a href="#section-3.2">3.2</a>.  Rule Transport . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
   <a href="#section-4">4</a>.  Location-Specific Conditions . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-4.1">4.1</a>.  Geodetic Location Condition Profile  . . . . . . . . . . .  <a href="#page-8">8</a>
     <a href="#section-4.2">4.2</a>.  Civic Location Condition Profile . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-5">5</a>.  Actions  . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-6">6</a>.  Transformations  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
     <a href="#section-6.1">6.1</a>.  Set Retransmission-Allowed . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
     <a href="#section-6.2">6.2</a>.  Set Retention-Expiry . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-6.3">6.3</a>.  Set Note-Well  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-6.4">6.4</a>.  Keep Ruleset Reference . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-6.5">6.5</a>.  Provide Location . . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
       <a href="#section-6.5.1">6.5.1</a>.  Civic Location Profile . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
       <a href="#section-6.5.2">6.5.2</a>.  Geodetic Location Profile  . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-7">7</a>.  Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-7.1">7.1</a>.  Rule Example with Civic Location Condition . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-7.2">7.2</a>.  Rule Example with Geodetic Location Condition  . . . . . . <a href="#page-16">16</a>
     7.3.  Rule Example with Civic and Geodetic Location Condition  . 17
     <a href="#section-7.4">7.4</a>.  Rule Example with Location-Based Transformations . . . . . <a href="#page-18">18</a>
     <a href="#section-7.5">7.5</a>.  Location Obfuscation Example . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-8">8</a>.  XML Schema for Basic Location Profiles . . . . . . . . . . . . <a href="#page-23">23</a>
   <a href="#section-9">9</a>.  XML Schema for Geolocation Policy  . . . . . . . . . . . . . . <a href="#page-24">24</a>
   <a href="#section-10">10</a>. XCAP Usage . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-25">25</a>
     <a href="#section-10.1">10.1</a>. Application Unique ID  . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.2">10.2</a>. XML Schema . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.3">10.3</a>. Default Namespace  . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.4">10.4</a>. MIME Media Type  . . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.5">10.5</a>. Validation Constraints . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.6">10.6</a>. Data Semantics . . . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.7">10.7</a>. Naming Conventions . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.8">10.8</a>. Resource Interdependencies . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
     <a href="#section-10.9">10.9</a>. Authorization Policies . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-11">11</a>. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
     <a href="#section-11.1">11.1</a>. Geolocation Policy XML Schema Registration . . . . . . . . <a href="#page-27">27</a>
     <a href="#section-11.2">11.2</a>. Geolocation Policy Namespace Registration  . . . . . . . . <a href="#page-27">27</a>
     <a href="#section-11.3">11.3</a>. Geolocation Policy Location Profile Registry . . . . . . . <a href="#page-28">28</a>
     <a href="#section-11.4">11.4</a>. Basic Location Profile XML Schema Registration . . . . . . <a href="#page-28">28</a>
     <a href="#section-11.5">11.5</a>. Basic Location Profile Namespace Registration  . . . . . . <a href="#page-29">29</a>
     <a href="#section-11.6">11.6</a>. XCAP Application Usage ID  . . . . . . . . . . . . . . . . <a href="#page-29">29</a>
   <a href="#section-12">12</a>. Internationalization Considerations  . . . . . . . . . . . . . <a href="#page-30">30</a>
   <a href="#section-13">13</a>. Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-30">30</a>
     <a href="#section-13.1">13.1</a>. Introduction . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-30">30</a>
     <a href="#section-13.2">13.2</a>. Obfuscation  . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-31">31</a>



<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


     <a href="#section-13.3">13.3</a>. Algorithm Limitations  . . . . . . . . . . . . . . . . . . <a href="#page-32">32</a>
     <a href="#section-13.4">13.4</a>. Usability  . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-33">33</a>
     <a href="#section-13.5">13.5</a>. Limitations of Obscuring Locations . . . . . . . . . . . . <a href="#page-33">33</a>
   <a href="#section-14">14</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-35">35</a>
     <a href="#section-14.1">14.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-35">35</a>
     <a href="#section-14.2">14.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-35">35</a>
   <a href="#appendix-A">Appendix A</a>.  Acknowledgments . . . . . . . . . . . . . . . . . . . <a href="#page-38">38</a>
   <a href="#appendix-B">Appendix B</a>.  Pseudocode  . . . . . . . . . . . . . . . . . . . . . <a href="#page-39">39</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Location information needs to be protected against unauthorized
   access to preserve the privacy of humans.  In <a href="rfc6280.html">RFC 6280</a> [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>], a
   protocol-independent model for access to geographic information is
   defined.  The model includes a Location Generator (LG) that
   determines location information, a Location Server (LS) that
   authorizes access to location information, a Location Recipient (LR)
   that requests and receives location information, and a Rule Maker
   (RM) that writes authorization policies.  An authorization policy is
   a set of rules that regulates an entity's activities with respect to
   privacy-sensitive information, such as location information.

   The data object containing location information in the context of
   this document is referred to as a Location Object (LO).  The basic
   rule set defined in the Presence Information Data Format Location
   Object (PIDF-LO) [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] can restrict how long the Location
   Recipient is allowed to retain the information, and it can prohibit
   further distribution.  It also contains a reference to an enhanced
   rule set and a human-readable privacy policy.  The basic rule set
   does not protect access to location information.  It only conveys the
   user's privacy preferences.  This document describes an enhanced rule
   set that provides richer constraints on the distribution of LOs.

   The enhanced rule set allows the entity that uses the rules defined
   in this document to restrict the retention and to enforce access
   restrictions on location data, including prohibiting any
   dissemination to particular individuals, during particular times or
   when the Target is located in a specific region.  The RM can also
   stipulate that only certain parts of the Location Object are to be
   distributed to recipients or that the resolution is reduced for parts
   of the Location Object.

   In the typical sequence of operations, a Location Server receives a
   query for location information for a particular Target.  The
   authenticated identity of the Location Recipient, together with other
   information provided with the request or generally available to the
   server, is then used for searching through the rule set.  If more
   than one rule matches the condition element, then the combined



<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   permission is evaluated according to the description in <a href="rfc4745.html#section-10">Section 10 of
   [RFC4745]</a>.  The result of the rule evaluation is applied to the
   location information, yielding a possibly modified Location Object
   that is delivered to the Location Recipient.

   This document does not describe the protocol used to convey location
   information from the Location Server to the Location Recipient.

   This document extends the Common Policy framework defined in
   [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>].  That document provides an abstract framework for
   expressing authorization rules.  As specified there, each such rule
   consists of conditions, actions, and transformations.  Conditions
   determine under which circumstances the entity executing the rules,
   such as a Location Server, is permitted to apply actions and
   transformations.  In a location information context, transformations
   regulate how a Location Server modifies the information elements that
   are returned to the requestor by, for example, reducing the
   granularity of returned location information.

   This document defines two algorithms for reducing the granularity of
   returned location information.  The first algorithm is defined for
   usage with civic location information (see <a href="#section-6.5.1">Section 6.5.1</a>) while the
   other one applies to geodetic location information (see
   <a href="#section-6.5.2">Section 6.5.2</a>).  Both algorithms come with limitations, i.e., they
   provide location obfuscation under certain conditions and may
   therefore not be appropriate for all application domains.  These
   limitations are documented within the Security Consideration section
   (see <a href="#section-13">Section 13</a>).  The geodetic transformation algorithm in
   <a href="#section-6.5.2">Section 6.5.2</a> mitigates privacy risks for both stationary and moving
   Targets.  However, moving Targets will reveal additional information
   to an adversary.  To cover applications that have more sophisticated
   privacy requirements, additional algorithms may need to be defined.
   This document foresees extensions in the form of new algorithms and
   therefore defines a registry (see <a href="#section-11.3">Section 11.3</a>).

   The XML schema defined in <a href="#section-9">Section 9</a> extends the Common Policy schema
   by introducing new child elements to the condition and transformation
   elements.  This document does not define child elements for the
   action part of a rule.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].






<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   This document reuses the terminology of <a href="rfc6280.html">RFC 6280</a> [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>], such as
   Location Server (LS), Location Recipient (LR), Rule Maker (RM),
   Target, Location Generator (LG), and Location Object (LO).  This
   document uses the following terminology:

   Presentity or Target:

      <a href="rfc6280.html">RFC 6280</a> [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>] uses the term "Target" to identify the object
      or person of which location information is required.  The presence
      model described in <a href="rfc2778.html">RFC 2778</a> [<a href="rfc2778.html" title='"A Model for Presence and Instant Messaging"'>RFC2778</a>] uses the term "presentity"
      to describe the entity that provides presence information to a
      presence service.  A presentity in a presence system is a Target
      in a location information system.

   Watcher or Location Recipient:

      The receiver of location information is the Location Recipient
      (LR) in the terminology of <a href="rfc6280.html">RFC 6280</a> [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>].  A watcher in a
      presence system, i.e., an entity that requests presence
      information about a presentity, is a Location Recipient in a
      location information system.

   Authorization policy:

      An authorization policy is given by a rule set.  A rule set
      contains an unordered list of (policy) rules.  Each rule has a
      condition, an action, and a transformation component.

   Permission:

      The term "permission" refers to the action and transformation
      components of a rule.

   Location Servers:

      Entities that evaluate the geolocation authorization policies.

   Presence Servers:

      The geolocation privacy architecture is, as described in <a href="rfc4079.html">RFC 4079</a>
      [<a href="rfc4079.html" title='"A Presence Architecture for the Distribution of GEOPRIV Location Objects"'>RFC4079</a>], aligned with the presence architecture, and a "Presence
      Server" is therefore an entity that distributes location
      information along with other presence-specific XML data elements.








<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Generic%20Processing"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Generic Processing</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Structure%20of%20Geolocation%20Authorization%20Documents"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Structure of Geolocation Authorization Documents</span>

   A geolocation authorization document is an XML document, formatted
   according to the schema defined in [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>].  Geolocation
   authorization documents inherit the media type of Common Policy
   documents, application/auth-policy+xml.  As described in [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>],
   this document is composed of rules that contain three parts:
   conditions, actions, and transformations.  Each action or
   transformation, which is also called a permission, has the property
   of being a positive grant of information to the Location Recipient.
   As a result, there is a well-defined mechanism for combining actions
   and transformations obtained from several sources.  This mechanism is
   privacy enabling, since the lack of any action or transformation can
   only result in less information being presented to a Location
   Recipient.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Rule%20Transport"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Rule Transport</span>

   There are two ways the authorization rules described in this document
   may be conveyed between different parties:

   o  <a href="rfc4119.html">RFC 4119</a> [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] allows enhanced authorization policies to be
      referenced via a Uniform Resource Locator (URL) in the 'ruleset-
      reference' element.  The 'ruleset-reference' element is part of
      the basic rules that always travel with the Location Object.

   o  Authorization policies might, for example, also be stored at a
      Location Server / Presence Server.  The Rule Maker therefore needs
      to use a protocol to create, modify, and delete the authorization
      policies defined in this document.  Such a protocol is available
      with the Extensible Markup Language (XML) Configuration Access
      Protocol (XCAP) [<a href="rfc4825.html" title='"The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)"'>RFC4825</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Location-Specific%20Conditions"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Location-Specific Conditions</span>

   This section describes the location-specific conditions of a rule.
   The &lt;conditions&gt; element contains zero or more &lt;location-condition&gt;
   child element(s).  The &lt;conditions&gt; element only evaluates to TRUE if
   all child elements evaluate to TRUE; therefore, multiple &lt;location-
   condition&gt; elements are not normally useful.

   The &lt;location-condition&gt; element MUST contain at least one &lt;location&gt;
   child element.  The &lt;location-condition&gt; element evaluates to TRUE if
   any of its child &lt;location&gt; elements matches the location of the
   Target, i.e., &lt;location&gt; elements are combined using a logical OR.




<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   The three attributes of &lt;location&gt; are 'profile', 'xml:lang', and
   'label'.  The 'profile' indicates the location profile that is
   included as child elements in the &lt;location&gt; element.  Two location
   profiles, geodetic and civic, are defined in Sections <a href="#section-4.1">4.1</a> and <a href="#section-4.2">4.2</a>.
   Each profile describes under what conditions a &lt;location&gt; element
   evaluates to TRUE.

   The 'label' attribute allows a human-readable description to be added
   to each &lt;location&gt; element.  The 'xml:lang' attribute contains a
   language tag providing further information for rendering of the
   content of the 'label' attribute.

   The &lt;location-condition&gt; and the &lt;location&gt; elements provide
   extension points.  If an extension is not understood by the entity
   evaluating the rules, then this rule evaluates to FALSE.  This causes
   a &lt;conditions&gt; element to evaluate to FALSE if a &lt;location-condition&gt;
   element is unsupported.  A &lt;location-condition&gt; is considered TRUE if
   any of the &lt;location&gt; elements understood by the rule evaluator is
   TRUE.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Geodetic%20Location%20Condition%20Profile"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Geodetic Location Condition Profile</span>

   The geodetic location profile is identified by the token 'geodetic-
   condition'.  Rule Makers use this profile by placing a Geography
   Markup Language [<a href="#ref-GML" title='"OpenGIS Geography Markup Language (GML) Implementation Specification, Version 3.1.1, OGC 03-105r1"'>GML</a>] &lt;Circle&gt; element within the &lt;location&gt; element
   (as described in <a href="rfc5491.html#section-5.2.3">Section 5.2.3 of [RFC5491]</a>).

   The &lt;location&gt; element containing the information for the geodetic
   location profile evaluates to TRUE if the current location of the
   Target is completely within the described location (see <a href="#section-6.1.15.3">Section</a>
   <a href="#section-6.1.15.3">6.1.15.3</a> of [<a href="#ref-OGC-06-103r4">OGC-06-103r4</a>]).  Note that the Target's actual location
   might be represented by any of the location shapes described in
   [<a href="rfc5491.html" title='"GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations"'>RFC5491</a>].  If the geodetic location of the Target is unknown, then
   the &lt;location&gt; element containing the information for the geodetic
   location profile evaluates to FALSE.

   Implementations MUST support the World Geodetic System 1984 (WGS 84)
   [<a href="#ref-NIMA.TR8350.2-3e">NIMA.TR8350.2-3e</a>] coordinate reference system using the formal
   identifier from the European Petroleum Survey Group (EPSG) Geodetic
   Parameter Dataset (as formalized by the Open Geospatial Consortium
   (OGC)):

      2D: WGS 84 (latitude, longitude), as identified by the URN
      "urn:ogc:def:crs:EPSG::4326".  This is a two-dimensional CRS.

   A Coordinate Reference System (CRS) MUST be specified using the above
   URN notation only; implementations do not need to support user-
   defined CRSs.



<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   Implementations MUST specify the CRS using the "srsName" attribute on
   the outermost geometry element.  The CRS MUST NOT be changed for any
   sub-elements.  The "srsDimension" attribute MUST be omitted, since
   the number of dimensions in these CRSs is known.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Civic%20Location%20Condition%20Profile"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Civic Location Condition Profile</span>

   The civic location profile is identified by the token 'civic-
   condition'.  Rule Makers use this profile by placing a &lt;civicAddress&gt;
   element, defined in [<a href="rfc5139.html" title='"Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO)"'>RFC5139</a>], within the &lt;location&gt; element.

   All child elements of a &lt;location&gt; element that carry &lt;civicAddress&gt;
   elements MUST evaluate to TRUE (i.e., logical AND) in order for the
   &lt;location&gt; element to evaluate to TRUE.  For each child element, the
   value of that element is compared to the value of the same element in
   the Target's civic location.  The child element evaluates to TRUE if
   the two values are identical based on an octet-by-octet comparison.

   A &lt;location&gt; element containing a &lt;civic-condition&gt; profile evaluates
   to FALSE if a civic address is not present for the Target.  For
   example, this could occur if location information has been removed by
   other rules or other transmitters of location information or if only
   the geodetic location is known.  In general, it is RECOMMENDED
   behavior for an LS not to apply a translation from geodetic location
   to civic location (i.e., geocode the location).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Actions"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Actions</span>

   This document does not define location-specific actions.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Transformations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Transformations</span>

   This document defines several elements that allow Rule Makers to
   specify transformations that

   o  reduce the accuracy of the returned location information, and

   o  set the basic authorization policies carried inside the PIDF-LO.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Set%20Retransmission-Allowed"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Set Retransmission-Allowed</span>

   This element specifies a change to or the creation of a value for the
   &lt;retransmission-allowed&gt; element in the PIDF-LO.  The data type of
   the &lt;set-retransmission-allowed&gt; element is a boolean.

   If the value of the &lt;set-retransmission-allowed&gt; element is set to
   TRUE, then the &lt;retransmission-allowed&gt; element in the PIDF-LO MUST
   be set to TRUE.  If the value of the &lt;set-retransmission-allowed&gt;



<span class="grey">Schulzrinne, et al.          Standards Track                    [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   element is set to FALSE, then the &lt;retransmission-allowed&gt; element in
   the PIDF-LO MUST be set to FALSE.

   If the &lt;set-retransmission-allowed&gt; element is absent, then the value
   of the &lt;retransmission-allowed&gt; element in the PIDF-LO MUST be kept
   unchanged, or if the PIDF-LO is created for the first time, then the
   value MUST be set to FALSE.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Set%20Retention-Expiry"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Set Retention-Expiry</span>

   This transformation asks the LS to change or set the value of the
   &lt;retention-expiry&gt; element in the PIDF-LO.  The data type of the
   &lt;set-retention-expiry&gt; element is a non-negative integer.

   The value provided with the &lt;set-retention-expiry&gt; element indicates
   seconds, and these seconds are added to the time that the LS provides
   location.  A value of zero requests that the information is not
   retained.

   If the &lt;set-retention-expiry&gt; element is absent, then the value of
   the &lt;retention-expiry&gt; element in the PIDF-LO is kept unchanged, or
   if the PIDF-LO is created for the first time, then the value MUST be
   set to the current date.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Set%20Note-Well"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Set Note-Well</span>

   This transformation asks the LS to change or set the value of the
   &lt;note-well&gt; element in the PIDF-LO.  The data type of the &lt;set-note-
   well&gt; element is a string.

   The value provided with the &lt;set-note-well&gt; element contains a
   privacy statement as a human-readable text string, and an 'xml:lang'
   attribute denotes the language of the human-readable text.

   If the &lt;set-note-well&gt; element is absent, then the value of the
   &lt;note-well&gt; element in the PIDF-LO is kept unchanged, or if the
   PIDF-LO is created for the first time, then no content is provided
   for the &lt;note-well&gt; element.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4.%20%20Keep%20Ruleset%20Reference"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a>.  Keep Ruleset Reference</span>

   This transformation specifies whether the &lt;external-ruleset&gt; element
   in the PIDF-LO carries the extended authorization rules defined in
   [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>].  The data type of the &lt;keep-rule-reference&gt; element is
   boolean.

   If the value of the &lt;keep-rule-reference&gt; element is set to TRUE,
   then the &lt;external-ruleset&gt; element in the PIDF-LO is kept unchanged



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   when included.  If the value of the &lt;keep-rule-reference&gt; element is
   set to FALSE, then the &lt;external-ruleset&gt; element in the PIDF-LO MUST
   NOT contain a reference to an external rule set.  The reference to
   the ruleset is removed, and no rules are carried as MIME bodies (in
   case of Content-ID (cid:) URIs [<a href="rfc2392.html" title='"Content-ID and Message-ID Uniform Resource Locators"'>RFC2392</a>]).

   If the &lt;keep-rule-reference&gt; element is absent, then the value of the
   &lt;external-ruleset&gt; element in the PIDF-LO is kept unchanged when
   available, or if the PIDF-LO is created for the first time, then the
   &lt;external-ruleset&gt; element MUST NOT be included.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.5.%20%20Provide%20Location"></a><a class="selflink" href="#section-6.5" name="section-6.5">6.5</a>.  Provide Location</span>

   The &lt;provide-location&gt; element contains child elements of a specific
   location profile that controls the granularity of returned location
   information.  This form of location granularity reduction is also
   called 'obfuscation' and is defined in [<a href="#ref-DUCKHAM05">DUCKHAM05</a>] as

      the means of deliberately degrading the quality of information
      about an individual's location in order to protect that
      individual's location privacy.

   Location obscuring presents a number of technical challenges.  The
   algorithms provided in this document are provided as examples only.
   A discussion of the technical constraints on location obscuring is
   included in <a href="#section-13.5">Section 13.5</a>.

   The functionality of location granularity reduction depends on the
   type of location provided as input.  This document defines two
   profiles for reduction, namely:

   o  civic-transformation: If the &lt;provide-location&gt; element has a
      &lt;provide-civic&gt; child element, then civic location information is
      disclosed as described in <a href="#section-6.5.1">Section 6.5.1</a>, subject to availability.

   o  geodetic-transformation: If the &lt;provide-location&gt; element has a
      &lt;provide-geo&gt; child element, then geodetic location information is
      disclosed as described in <a href="#section-6.5.2">Section 6.5.2</a>, subject to availability.

   The &lt;provide-location&gt; element MUST contain the 'profile' attribute
   if it contains child elements, and the child elements MUST be
   appropriate for the profile.

   If the &lt;provide-location&gt; element has no child elements, then civic
   as well as geodetic location information is disclosed without
   reducing its granularity, subject to availability.  In this case, the
   profile attribute MUST NOT be included.




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.5.1.%20%20Civic%20Location%20Profile"></a><a class="selflink" href="#section-6.5.1" name="section-6.5.1">6.5.1</a>.  Civic Location Profile</span>

   This profile uses the token 'civic-transformation'.  This profile
   allows civic location transformations to be specified by means of the
   &lt;provide-civic&gt; element that restricts the level of civic location
   information the LS is permitted to disclose.  The symbols of these
   levels are: 'country', 'region', 'city', 'building', and 'full'.
   Each level is given by a set of civic location data items such as
   &lt;country&gt; and &lt;A1&gt;, ..., &lt;POM&gt;, as defined in [<a href="rfc5139.html" title='"Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO)"'>RFC5139</a>].  Each level
   includes all elements included by the lower levels.

   The 'country' level includes only the &lt;country&gt; element; the 'region'
   level adds the &lt;A1&gt; element; the 'city' level adds the &lt;A2&gt; and &lt;A3&gt;
   elements; the 'building' level and the 'full' level add further civic
   location data as shown below.

                              full
      {&lt;country&gt;, &lt;A1&gt;, &lt;A2&gt;, &lt;A3&gt;, &lt;A4&gt;, &lt;A5&gt;, &lt;A6&gt;, &lt;PRD&gt;, &lt;POD&gt;,
       &lt;STS&gt;, &lt;HNO&gt;, &lt;HNS&gt;, &lt;LMK&gt;, &lt;LOC&gt;, &lt;PC&gt;, &lt;NAM&gt;, &lt;FLR&gt;,
       &lt;BLD&gt;,&lt;UNIT&gt;,&lt;ROOM&gt;,&lt;PLC&gt;, &lt;PCN&gt;, &lt;POBOX&gt;, &lt;ADDCODE&gt;, &lt;SEAT&gt;
       &lt;RD&gt;, &lt;RDSEC&gt;, &lt;RDBR&gt;, &lt;RDSUBBR&gt;, &lt;PRM&gt;, &lt;POM&gt;}
                               |
                               |
                            building
         {&lt;country&gt;, &lt;A1&gt;, &lt;A2&gt;, &lt;A3&gt;, &lt;A4&gt;, &lt;A5&gt;, &lt;A6&gt;, &lt;PRD&gt;
         &lt;POD&gt;, &lt;STS&gt;, &lt;HNO&gt;, &lt;HNS&gt;, &lt;LMK&gt;, &lt;PC&gt;,
         &lt;RD&gt;, &lt;RDSEC&gt;, &lt;RDBR&gt;, &lt;RDSUBBR&gt; &lt;PRM&gt;, &lt;POM&gt;}
                               |
                               |
                             city
                     {&lt;country&gt;, &lt;A1&gt;, &lt;A2&gt;, &lt;A3&gt;}
                               |
                               |
                             region
                        {&lt;country&gt;, &lt;A1&gt;}
                               |
                               |
                            country
                          {&lt;country&gt;}
                               |
                               |
                              none
                              {}

   The default value is "none".

   The schema of the &lt;provide-civic&gt; element is defined in <a href="#section-8">Section 8</a>.




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.5.2.%20%20Geodetic%20Location%20Profile"></a><a class="selflink" href="#section-6.5.2" name="section-6.5.2">6.5.2</a>.  Geodetic Location Profile</span>

   This profile uses the token 'geodetic-transformation' and refers only
   to the Coordinate Reference System (CRS) WGS 84
   (urn:ogc:def:crs:EPSG::4326, 2D).  This profile allows geodetic
   location transformations to be specified by means of the &lt;provide-
   geo&gt; element that may restrict the returned geodetic location
   information based on the value provided in the 'radius' attribute.
   The value of the 'radius' attribute expresses the radius in meters.

   The schema of the &lt;provide-geo&gt; element is defined in <a href="#section-8">Section 8</a>.

   The algorithm proceeds in six steps.  The first two steps are
   independent of the measured position to be obscured and should be run
   only once or very infrequently for each region and desired
   uncertainty.  The steps are:

   1.  Choose a geodesic projection with Cartesian coordinates and a
       surface you want to cover.  Limit the worst-case distortion of
       the map as noted below.

   2.  Given a desired uncertainty radius "d", choose a grid of so-
       called "landmarks" at a distance of at least d units apart from
       each other.

   3.  Given a measured location M=(m,n) on the surface, calculate its 4
       closest landmarks on the grid, with coordinates: SW = (l,b),
       SE=(r,b), NW=(l,t), NE=(r,t).  Thus, l&lt;=m&lt;r and b&lt;=n&lt;t.  See
       notes below.

   4.  Let x=(m-l)/(r-l) and y=(n-b)/(t-b).

       x and y are thus the scaled local coordinates of the point M in
       the small grid square that contains it, where x and y range
       between 0 and 1.

   5.  Let p = 0.2887 (=sqrt(3)/6) and q = 0.7113 (=1-p).  Determine
       which of the following eight cases holds:

       C1. x &lt; p and y &lt; p
       C2. p &lt;= x &lt; q and y &lt; x and y &lt; 1-x
       C3. q &lt;= x and y &lt; p

       C4. p &lt;= y &lt; q and x &lt;= y and y &lt; 1-x
       C5. p &lt;= y &lt; q and y &lt; x and 1-x &lt;= y






<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


       C6. x &lt; p and q &lt;= y
       C7. p &lt;= x &lt; q and x &lt;= y and 1-x &lt;= y
       C8. q &lt;= x and q &lt;= y

   6.  Depending on the case, let C (=Center) be

       C1: SW
       C2: SW or SE
       C3: SE

       C4: SW or NW
       C5: SE or NE

       C6: NW
       C7: NW or NE
       C8: NE

   Return the circle with center C and radius d.

   Notes:

   Regarding Step 1:

      The scale of a map is the ratio of a distance (a straight line) on
      the map to the corresponding air distance on the ground.  For maps
      covering larger areas, a map projection from a sphere (or
      ellipsoid) to the plane will introduce distortion, and the scale
      of the map is not constant.  Also, note that the real distance on
      the ground is taken along great circles, which may not correspond
      to straight lines on the map, depending on the projection used.
      Let us measure the (length) distortion of the map as the quotient
      between the maximal and the minimal scales on the map.  The
      distortion MUST be below 1.5.  (The minimum distortion is 1.0: if
      the region of the map is small, then the scale may be taken as a
      constant over the whole map).

   Regarding Step 3:

      SW is mnemonic for southwest, b for bottom, l for left (SW=(l,b)),
      etc., but the directions of the geodesic projection may be
      arbitrary, and thus SW may not be southwest of M, but it will be
      left and below M *on the map*.









<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 14]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Examples"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Examples</span>

   This section provides a few examples for authorization rules using
   the extensions defined in this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Rule%20Example%20with%20Civic%20Location%20Condition"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Rule Example with Civic Location Condition</span>

   This example illustrates a single rule that employs the civic
   location condition.  It matches if the current location of the Target
   equals the content of the child elements of the &lt;location&gt; element.
   Requests match only if the Target is at a civic location with country
   set to 'Germany', state (A1) set to 'Bavaria', city (A3) set to
   'Munich', city division (A4) set to 'Perlach', street name (A6) set
   to 'Otto-Hahn-Ring', and house number (HNO) set to '6'.

   No actions and transformation child elements are provided in this
   rule example.  The actions and transformation could include presence-
   specific information when the Geolocation Policy framework is applied
   to the Presence Policy framework (see [<a href="rfc5025.html" title='"Presence Authorization Rules"'>RFC5025</a>]).

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;ruleset xmlns="urn:ietf:params:xml:ns:common-policy"
     xmlns:gp="urn:ietf:params:xml:ns:geolocation-policy"&gt;

     &lt;rule id="AA56i09"&gt;
       &lt;conditions&gt;
         &lt;gp:location-condition&gt;
           &lt;gp:location
             profile="civic-condition"
             xml:lang="en"
             label="Siemens Neuperlach site 'Legoland'"
             xmlns="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"&gt;
             &lt;country&gt;DE&lt;/country&gt;
             &lt;A1&gt;Bavaria&lt;/A1&gt;
             &lt;A3&gt;Munich&lt;/A3&gt;
             &lt;A4&gt;Perlach&lt;/A4&gt;
             &lt;A6&gt;Otto-Hahn-Ring&lt;/A6&gt;
             &lt;HNO&gt;6&lt;/HNO&gt;
           &lt;/gp:location&gt;
         &lt;/gp:location-condition&gt;
       &lt;/conditions&gt;
       &lt;actions/&gt;
       &lt;transformations/&gt;
     &lt;/rule&gt;
   &lt;/ruleset&gt;






<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 15]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Rule%20Example%20with%20Geodetic%20Location%20Condition"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Rule Example with Geodetic Location Condition</span>

   This example illustrates a rule that employs the geodetic location
   condition.  The rule matches if the current location of the Target is
   inside the area specified by the polygon.  The polygon uses the EPSG
   4326 coordinate reference system.  No altitude is included in this
   example.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;ruleset
     xmlns="urn:ietf:params:xml:ns:common-policy"
     xmlns:gp="urn:ietf:params:xml:ns:geolocation-policy"
     xmlns:gml="http://www.opengis.net/gml"
     xmlns:gs="http://www.opengis.net/pidflo/1.0"&gt;

     &lt;rule id="BB56A19"&gt;
       &lt;conditions&gt;
         &lt;gp:location-condition&gt;
           &lt;gp:location
             xml:lang="en"
             label="Sydney Opera House"
             profile="geodetic-condition"&gt;
             &lt;gs:Circle srsName="urn:ogc:def:crs:EPSG::4326"&gt;
               &lt;gml:pos&gt;-33.8570029378 151.2150070761&lt;/gml:pos&gt;
               &lt;gs:radius uom="urn:ogc:def:uom:EPSG::9001"&gt;1500
               &lt;/gs:radius&gt;
             &lt;/gs:Circle&gt;
           &lt;/gp:location&gt;
         &lt;/gp:location-condition&gt;
       &lt;/conditions&gt;
       &lt;transformations/&gt;
     &lt;/rule&gt;
   &lt;/ruleset&gt;


















<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 16]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.3.%20%20Rule%20Example%20with%20Civic%20and%20Geodetic%20Location%20Condition"></a><a class="selflink" href="#section-7.3" name="section-7.3">7.3</a>.  Rule Example with Civic and Geodetic Location Condition</span>

   This example illustrates a rule that employs a mixed civic and
   geodetic location condition.  Depending on the available type of
   location information, namely civic or geodetic location information,
   one of the location elements may match.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;ruleset
     xmlns="urn:ietf:params:xml:ns:common-policy"
     xmlns:gp="urn:ietf:params:xml:ns:geolocation-policy"
     xmlns:gml="http://www.opengis.net/gml"
     xmlns:gs="http://www.opengis.net/pidflo/1.0"&gt;

     &lt;rule id="AA56i09"&gt;
       &lt;conditions&gt;
         &lt;gp:location-condition&gt;
           &lt;gp:location profile="civic-condition"
             xmlns="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"&gt;
             &lt;country&gt;DE&lt;/country&gt;
             &lt;A1&gt;Bavaria&lt;/A1&gt;
             &lt;A3&gt;Munich&lt;/A3&gt;
             &lt;A4&gt;Perlach&lt;/A4&gt;
             &lt;A6&gt;Otto-Hahn-Ring&lt;/A6&gt;
             &lt;HNO&gt;6&lt;/HNO&gt;
           &lt;/gp:location&gt;
           &lt;gp:location profile="geodetic-condition"&gt;
             &lt;gs:Circle srsName="urn:ogc:def:crs:EPSG::4326"&gt;
                &lt;gml:pos&gt;-34.410649 150.87651&lt;/gml:pos&gt;
                &lt;gs:radius uom="urn:ogc:def:uom:EPSG::9001"&gt;1500
                &lt;/gs:radius&gt;
             &lt;/gs:Circle&gt;
           &lt;/gp:location&gt;
         &lt;/gp:location-condition&gt;
       &lt;/conditions&gt;
       &lt;actions/&gt;
       &lt;transformations/&gt;
     &lt;/rule&gt;
   &lt;/ruleset&gt;












<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 17]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.4.%20%20Rule%20Example%20with%20Location-Based%20Transformations"></a><a class="selflink" href="#section-7.4" name="section-7.4">7.4</a>.  Rule Example with Location-Based Transformations</span>

   This example shows the transformations specified in this document.
   The &lt;provide-civic&gt; element indicates that the available civic
   location information is reduced to building level granularity.  If
   geodetic location information is requested, then a granularity
   reduction is provided as well.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;ruleset xmlns="urn:ietf:params:xml:ns:common-policy"
     xmlns:gp="urn:ietf:params:xml:ns:geolocation-policy"
     xmlns:lp="urn:ietf:params:xml:ns:basic-location-profiles"&gt;

     &lt;rule id="AA56i09"&gt;
       &lt;conditions/&gt;
       &lt;actions/&gt;
       &lt;transformations&gt;
         &lt;gp:set-retransmission-allowed&gt;false
         &lt;/gp:set-retransmission-allowed&gt;
         &lt;gp:set-retention-expiry&gt;86400&lt;/gp:set-retention-expiry&gt;
         &lt;gp:set-note-well xml:lang="en"&gt;My privacy policy goes here.
         &lt;/gp:set-note-well&gt;
         &lt;gp:keep-rule-reference&gt;false
         &lt;/gp:keep-rule-reference&gt;

         &lt;gp:provide-location
           profile="civic-transformation"&gt;
           &lt;lp:provide-civic&gt;building&lt;/lp:provide-civic&gt;
         &lt;/gp:provide-location&gt;

         &lt;gp:provide-location
           profile="geodetic-transformation"&gt;
           &lt;lp:provide-geo radius="500"/&gt;
         &lt;/gp:provide-location&gt;

       &lt;/transformations&gt;
     &lt;/rule&gt;
   &lt;/ruleset&gt;













<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 18]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   The following rule describes the shorthand notation for making the
   current location of the Target available to Location Recipients
   without granularity reduction.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;ruleset xmlns="urn:ietf:params:xml:ns:common-policy"
       xmlns:gp="urn:ietf:params:xml:ns:geolocation-policy"&gt;

       &lt;rule id="AA56ia9"&gt;
           &lt;conditions/&gt;
           &lt;actions/&gt;
           &lt;transformations&gt;
               &lt;gp:provide-location/&gt;
           &lt;/transformations&gt;
       &lt;/rule&gt;
   &lt;/ruleset&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.5.%20%20Location%20Obfuscation%20Example"></a><a class="selflink" href="#section-7.5" name="section-7.5">7.5</a>.  Location Obfuscation Example</span>

   Suppose you want to obscure positions in the continental USA.

   Step 1:

      First, you choose a geodesic projection.  If you are measuring
      location as latitude and longitude, a natural choice is to take a
      rectangular projection.  One latitudinal degree corresponds to
      approximately 110.6 kilometers, while a good approximation of a
      longitudinal degree at latitude phi is (pi/180)*M*cos(phi), where
      pi is approximately 3.1415, and M is the Earth's average
      meridional radius, approximately 6,367.5 km.  For instance, one
      longitudinal degree at 30 degrees (say, New Orleans) is 96.39 km,
      while the formula given offers an estimation of 96.24, which is
      good enough for our purposes.

      We will set up a grid not only for the continental USA, but for
      the whole earth between latitudes 25 and 50 degrees, and thus will
      cover also the Mediterranean, South Europe, Japan, and the north
      of China.  As will be seen below, the grid distortion (for not too
      large grids in this region) is approx cos(25)/cos(50), which is
      1.4099.

      As origin of our grid, we choose the point at latitude 25 degrees
      and longitude 0 (Greenwich).  The latitude 25 degrees is chosen to
      be just south of Florida and thus south of the continental USA.
      (On the Southern Hemisphere, the origin should be north of the
      region to be covered; if the region crosses the Equator, the





<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 19]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


      origin should be on the Equator.  In this way, it is guaranteed
      that the latitudinal degree has the largest distance at the
      latitude of the origin).

      At 25 degrees, one degree in east-west direction corresponds to
      approximately (pi/180)*M*cos(25) = 100.72 km.

      The same procedure, basically, produces grids for

      *  45 degrees south to 45 degrees north: Tropics and subtropics,
         Africa, Australia

      *  25 to 50 degrees (both north or south): Continental United
         States, Mediterranean, most of China; most of Chile and
         Argentina, New Zealand

      *  35 to 55 degrees (both north or south): Southern and Central
         Europe

      *  45 to 60 degrees (both north or south): Central and Northern
         Europe, Canada

      *  55 to 65 degrees (both north or south): most of Scandinavia

      *  60 to 70 degrees (both north or south): Alaska

      Since we do not want to change the grid system often (this would
      leak more information about obscured locations when they are
      repeatedly visited), the algorithm should prefer to use the grids
      discussed above, with origin at the Greenwich meridian and at
      latitudes o=0, o=25, o=35, o=45, 0=55, and o=60 degrees (north) or
      at latitudes o=-25, o=-35, o=-45, 0=-55, and o=-60 degrees (the
      minus to indicate "south").

      Our choice for the continental USA is o=25.

      For locations close to the poles, a different projection should be
      used (not discussed here).

   Step 2:

      To construct the grid, we start with our chosen origin and place
      grid points at regular intervals along each of the axes (north-
      south and east-west) with a distance d between each.







<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 20]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


      We will now construct a grid for a desired uncertainty of d =
      100km.  At our origin, 100 km correspond roughly to d1 = 100/
      100.72 = 0.993 degrees in an east-west direction and to d2 = 100/
      110.6 = 0.904 degrees in a north-south direction.

      The (i,j)-point in the grid (i and j are integers) has longitude
      d1*i and latitude 25+d2*j, measured in degrees.  More generally,
      if the grid has origin at coordinates (0,o), measured in degrees,
      the (i,j)-point in the grid has coordinates (longitude = d1*i,
      latitude = o+d2*j).  The grid has almost no distortion at the
      latitude of the origin, but it does as we go further away from it.

      The distance between two points in the grid at 25 degrees latitude
      is indeed approximately 100 km, but just above the Canadian
      border, on the 50th degree, it is 0.993*(pi/180)*M*cos(50) =
      70.92km.  Thus, the grid distortion is 100/70.92 = 1.41, which is
      acceptable (&lt;1.5).  (In the north-south direction, the grid has
      roughly no distortion; the vertical distance between two
      neighboring grid points is approximately 100 km).

   Step 3:

      Now suppose you measure a position at M, with longitude -105 (the
      minus sign is used to denote 105 degrees *west*; without minus,
      the point is in China, 105 degrees east) and latitude 40 degrees
      (just north of Denver, CO).  The point M is 105 degrees west and
      15 degrees north of our origin (which has longitude 0 and latitude
      25).

      Let "floor" be the function that returns the largest integer
      smaller or equal to a floating point number.  To calculate SW, the
      closest point of the grid on the southwest of M=(m,n), we
      calculate

      i= floor(m/d1) = floor(-105/0.993) = -106

      j= floor(n-o/d2) = floor(15/0.904) = 16

      Those are the indexes of SW on the grid.  The coordinates of SW
      are then: (d1*i, 25+d2*j) = (-105.242, 39.467).

      Thus:

      l=d1*floor(m/d1) = -105.243

      r=l+d1 = -105.243+0.993 = -104.250

      b=o+d2*floor(n-o/d2) = 39.467



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 21]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


      t=b+d2 = 39.467+0.904 = 40.371

      These are the formulas for l, r, b, and t in the general case of
      Cartesian projections based on latitude and longitude.

   Step 4:

      Calculate x and y, the local coordinates of the point M in the
      small grid square that contains it.  This is easy:

      x=(m-l)/(r-l) = [-105 -(-105.243)]/0.993 = 0.245

      y=(n-b)/(t-b) = [40 - 39.467]/0.904 = 0.590

   Step 5:

      First, compare x with p (0.2887) and 1-p (0.7113). x is smaller
      than p.  Therefore, only cases 1, 4, or 6 could hold.

      Also, compare y with p (0.2887) and 1-p (0.7113). y is between
      them: p &lt;= y &lt; q.  Thus, we must be in case 4.  To check, compare
      y (0.59) with x (0.245) and 1-x. y is larger than x and smaller
      than 1-x.  We are in case C4 (p &lt;= y &lt; q and x &lt;= y and y &lt; 1-x).

   Step 6:

      Now we choose either SW or NW as the center of the circle.

      The obscured location is the circle with radius 100 km and center
      in SW (coordinates: -105.243, 39.467) or NW (coordinates:
      -105.243, 40.371).




















<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 22]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20XML%20Schema%20for%20Basic%20Location%20Profiles"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  XML Schema for Basic Location Profiles</span>

   This section defines the location profiles used as child elements of
   the transformation element.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;xs:schema
       targetNamespace="urn:ietf:params:xml:ns:basic-location-profiles"
       xmlns:xs="http://www.w3.org/2001/XMLSchema"
       elementFormDefault="qualified"
       attributeFormDefault="unqualified"&gt;

       &lt;!-- profile="civic-transformation" --&gt;

       &lt;xs:element name="provide-civic" default="none"&gt;
           &lt;xs:simpleType&gt;
               &lt;xs:restriction base="xs:string"&gt;
                   &lt;xs:enumeration value="full"/&gt;
                   &lt;xs:enumeration value="building"/&gt;
                   &lt;xs:enumeration value="city"/&gt;
                   &lt;xs:enumeration value="region"/&gt;
                   &lt;xs:enumeration value="country"/&gt;
                   &lt;xs:enumeration value="none"/&gt;
               &lt;/xs:restriction&gt;
           &lt;/xs:simpleType&gt;
       &lt;/xs:element&gt;

       &lt;!-- profile="geodetic-transformation" --&gt;

       &lt;xs:element name="provide-geo"&gt;
           &lt;xs:complexType&gt;
               &lt;xs:attribute name="radius" type="xs:integer"/&gt;
           &lt;/xs:complexType&gt;
       &lt;/xs:element&gt;

   &lt;/xs:schema&gt;















<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 23]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20XML%20Schema%20for%20Geolocation%20Policy"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  XML Schema for Geolocation Policy</span>

   This section presents the XML schema that defines the Geolocation
   Policy schema described in this document.  The Geolocation Policy
   schema extends the Common Policy schema (see [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>]).

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;xs:schema
     targetNamespace="urn:ietf:params:xml:ns:geolocation-policy"
     xmlns:gp="urn:ietf:params:xml:ns:geolocation-policy"
     xmlns:xs="http://www.w3.org/2001/XMLSchema"
     elementFormDefault="qualified"
     attributeFormDefault="unqualified"&gt;

     &lt;!-- Import Common Policy--&gt;
     &lt;xs:import namespace="urn:ietf:params:xml:ns:common-policy"/&gt;

     &lt;!-- This import brings in the XML language attribute xml:lang--&gt;
     &lt;xs:import namespace="http://www.w3.org/XML/1998/namespace"
       schemaLocation="http://www.w3.org/2001/xml.xsd"/&gt;

     &lt;!-- Geopriv Conditions --&gt;

     &lt;xs:element name="location-condition"
       type="gp:locationconditionType"/&gt;

     &lt;xs:complexType name="locationconditionType"&gt;
       &lt;xs:complexContent&gt;
         &lt;xs:restriction base="xs:anyType"&gt;
           &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;
             &lt;xs:element name="location" type="gp:locationType"
               minOccurs="1" maxOccurs="unbounded"/&gt;
             &lt;xs:any namespace="##other" processContents="lax"
               minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;/xs:choice&gt;
         &lt;/xs:restriction&gt;
       &lt;/xs:complexContent&gt;
     &lt;/xs:complexType&gt;

     &lt;xs:complexType name="locationType"&gt;
       &lt;xs:complexContent&gt;
         &lt;xs:restriction base="xs:anyType"&gt;
           &lt;xs:choice minOccurs="1" maxOccurs="unbounded"&gt;
             &lt;xs:any namespace="##other" processContents="lax"
               minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;/xs:choice&gt;
           &lt;xs:attribute name="profile" type="xs:string"/&gt;
           &lt;xs:attribute name="label" type="xs:string"/&gt;



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 24]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


           &lt;xs:attribute ref="xml:lang" /&gt;
         &lt;/xs:restriction&gt;
       &lt;/xs:complexContent&gt;
     &lt;/xs:complexType&gt;

     &lt;!-- Geopriv transformations --&gt;
     &lt;xs:element name="set-retransmission-allowed"
       type="xs:boolean" default="false"/&gt;
     &lt;xs:element name="set-retention-expiry"
       type="xs:integer" default="0"/&gt;
     &lt;xs:element name="set-note-well"
       type="gp:notewellType"/&gt;
     &lt;xs:element name="keep-rule-reference"
       type="xs:boolean" default="false"/&gt;

     &lt;xs:element name="provide-location"
       type="gp:providelocationType"/&gt;

     &lt;xs:complexType name="notewellType"&gt;
       &lt;xs:simpleContent&gt;
         &lt;xs:extension base="xs:string"&gt;
           &lt;xs:attribute ref="xml:lang" /&gt;
         &lt;/xs:extension&gt;
       &lt;/xs:simpleContent&gt;
     &lt;/xs:complexType&gt;

     &lt;xs:complexType name="providelocationType"&gt;
       &lt;xs:complexContent&gt;
         &lt;xs:restriction base="xs:anyType"&gt;
           &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
             &lt;xs:any namespace="##other" processContents="lax"
               minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;/xs:choice&gt;
           &lt;xs:attribute name="profile" type="xs:string" /&gt;
         &lt;/xs:restriction&gt;
       &lt;/xs:complexContent&gt;
     &lt;/xs:complexType&gt;

   &lt;/xs:schema&gt;

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20XCAP%20Usage"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  XCAP Usage</span>

   This section defines the details necessary for clients to manipulate
   geolocation privacy documents from a server using XCAP.  If used as
   part of a presence system, it uses the same Application Unique ID
   (AUID) as those rules.  See [<a href="rfc5025.html" title='"Presence Authorization Rules"'>RFC5025</a>] for a description of the XCAP
   usage in context with presence authorization rules.




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 25]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Application%20Unique%20ID"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Application Unique ID</span>

   XCAP requires application usages to define a unique Application
   Unique ID (AUID) in either the IETF tree or a vendor tree.  This
   specification defines the "geolocation-policy" AUID within the IETF
   tree, via the IANA registration in <a href="#section-11">Section 11</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20XML%20Schema"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  XML Schema</span>

   XCAP requires application usages to define a schema for their
   documents.  The schema for geolocation authorization documents is
   described in <a href="#section-9">Section 9</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.3.%20%20Default%20Namespace"></a><a class="selflink" href="#section-10.3" name="section-10.3">10.3</a>.  Default Namespace</span>

   XCAP requires application usages to define the default namespace for
   their documents.  The default namespace is
   urn:ietf:params:xml:ns:geolocation-policy.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.4.%20%20MIME%20Media%20Type"></a><a class="selflink" href="#section-10.4" name="section-10.4">10.4</a>.  MIME Media Type</span>

   XCAP requires application usages to define the MIME media type for
   documents they carry.  Geolocation privacy authorization documents
   inherit the MIME type of Common Policy documents, application/
   auth-policy+xml.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.5.%20%20Validation%20Constraints"></a><a class="selflink" href="#section-10.5" name="section-10.5">10.5</a>.  Validation Constraints</span>

   This specification does not define additional constraints.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.6.%20%20Data%20Semantics"></a><a class="selflink" href="#section-10.6" name="section-10.6">10.6</a>.  Data Semantics</span>

   This document discusses the semantics of a geolocation privacy
   authorization.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.7.%20%20Naming%20Conventions"></a><a class="selflink" href="#section-10.7" name="section-10.7">10.7</a>.  Naming Conventions</span>

   When a Location Server receives a request to access location
   information of some user foo, it will look for all documents within
   http://[xcaproot]/geolocation-policy/users/foo and use all documents
   found beneath that point to guide authorization policy.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.8.%20%20Resource%20Interdependencies"></a><a class="selflink" href="#section-10.8" name="section-10.8">10.8</a>.  Resource Interdependencies</span>

   This application usage does not define additional resource
   interdependencies.





<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 26]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.9.%20%20Authorization%20Policies"></a><a class="selflink" href="#section-10.9" name="section-10.9">10.9</a>.  Authorization Policies</span>

   This application usage does not modify the default XCAP authorization
   policy, which is that only a user can read, write, or modify his/her
   own documents.  A server can allow privileged users to modify
   documents that they do not own, but the establishment and indication
   of such policies is outside the scope of this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  IANA Considerations</span>

   There are several IANA considerations associated with this
   specification.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.1.%20%20Geolocation%20Policy%20XML%20Schema%20Registration"></a><a class="selflink" href="#section-11.1" name="section-11.1">11.1</a>.  Geolocation Policy XML Schema Registration</span>

   This section registers an XML schema in the IETF XML Registry as per
   the guidelines in [<a href="rfc3688.html" title='"The IETF XML Registry"'>RFC3688</a>].

   URI:  urn:ietf:params:xml:schema:geolocation-policy

   Registrant Contact:  IETF Geopriv Working Group (geopriv@ietf.org),
      Hannes Tschofenig (hannes.tschofenig@nsn.com).

   XML:  The XML schema to be registered is contained in <a href="#section-9">Section 9</a>.  Its
      first line is

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;

   and its last line is

   &lt;/xs:schema&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.2.%20%20Geolocation%20Policy%20Namespace%20Registration"></a><a class="selflink" href="#section-11.2" name="section-11.2">11.2</a>.  Geolocation Policy Namespace Registration</span>

   This section registers a new XML namespace in the IETF XML Registry
   as per the guidelines in [<a href="rfc3688.html" title='"The IETF XML Registry"'>RFC3688</a>].

   URI:  urn:ietf:params:xml:ns:geolocation-policy

   Registrant Contact:  IETF Geopriv Working Group (geopriv@ietf.org),
      Hannes Tschofenig (hannes.tschofenig@nsn.com).










<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 27]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   XML:

   BEGIN
   &lt;?xml version="1.0"?&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
     "<a href="http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd</a>"&gt;
   &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
   &lt;head&gt;
     &lt;meta http-equiv="content-type"
           content="text/html;charset=iso-8859-1"/&gt;
     &lt;title&gt;Geolocation Policy Namespace&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
     &lt;h1&gt;Namespace for Geolocation Authorization Policies&lt;/h1&gt;
     &lt;h2&gt;urn:ietf:params:xml:schema:geolocation-policy&lt;/h2&gt;
   &lt;p&gt;See &lt;a href="http://www.rfc-editor.org/rfc/rfc6772.txt"&gt;
      <a href="rfc6772.html">RFC 6772</a>&lt;/a&gt;.&lt;/p&gt;
   &lt;/body&gt;
   &lt;/html&gt;
   END

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.3.%20%20Geolocation%20Policy%20Location%20Profile%20Registry"></a><a class="selflink" href="#section-11.3" name="section-11.3">11.3</a>.  Geolocation Policy Location Profile Registry</span>

   This document creates a registry of location profile names for the
   Geolocation Policy framework.  Profile names are XML tokens.  This
   registry will operate in accordance with <a href="rfc5226.html">RFC 5226</a> [<a href="rfc5226.html" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>RFC5226</a>],
   Specification Required.

   This document defines the following profile names:

   geodetic-condition:  Defined in <a href="#section-4.1">Section 4.1</a>.
   civic-condition:  Defined in <a href="#section-4.2">Section 4.2</a>.
   geodetic-transformation:  Defined in <a href="#section-6.5.2">Section 6.5.2</a>.
   civic-transformation:  Defined in <a href="#section-6.5.1">Section 6.5.1</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.4.%20%20Basic%20Location%20Profile%20XML%20Schema%20Registration"></a><a class="selflink" href="#section-11.4" name="section-11.4">11.4</a>.  Basic Location Profile XML Schema Registration</span>

   This section registers an XML schema in the IETF XML Registry as per
   the guidelines in [<a href="rfc3688.html" title='"The IETF XML Registry"'>RFC3688</a>].

   URI:  urn:ietf:params:xml:schema:basic-location-profiles

   Registrant Contact:  IETF Geopriv Working Group (geopriv@ietf.org),
      Hannes Tschofenig (hannes.tschofenig@nsn.com).







<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 28]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   XML:  The XML schema to be registered is contained in <a href="#section-8">Section 8</a>.  Its
      first line is

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;

   and its last line is

   &lt;/xs:schema&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.5.%20%20Basic%20Location%20Profile%20Namespace%20Registration"></a><a class="selflink" href="#section-11.5" name="section-11.5">11.5</a>.  Basic Location Profile Namespace Registration</span>

   This section registers a new XML namespace in the IETF XML Registry
   as per the guidelines in [<a href="rfc3688.html" title='"The IETF XML Registry"'>RFC3688</a>].

   URI:  urn:ietf:params:xml:ns:basic-location-profiles

   Registrant Contact:  IETF Geopriv Working Group (geopriv@ietf.org),
      Hannes Tschofenig (hannes.tschofenig@nsn.com).

   XML:

   BEGIN
   &lt;?xml version="1.0"?&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
     "<a href="http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd</a>"&gt;
   &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
   &lt;head&gt;
     &lt;meta http-equiv="content-type"
           content="text/html;charset=iso-8859-1"/&gt;
     &lt;title&gt;Basic Location Profile Namespace&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
     &lt;h1&gt;Namespace for Basic Location Profile&lt;/h1&gt;
     &lt;h2&gt;urn:ietf:params:xml:schema:basic-location-profiles&lt;/h2&gt;
   &lt;p&gt;See &lt;a href="http://www.rfc-editor.org/rfc/rfc6772.txt"&gt;
      <a href="rfc6772.html">RFC 6772</a>&lt;/a&gt;.&lt;/p&gt;
   &lt;/body&gt;
   &lt;/html&gt;
   END

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.6.%20%20XCAP%20Application%20Usage%20ID"></a><a class="selflink" href="#section-11.6" name="section-11.6">11.6</a>.  XCAP Application Usage ID</span>

   This section registers an XCAP Application Unique ID (AUID) in the
   "XML-XCAP Application Unique IDs" registry according to the IANA
   procedures defined in [<a href="rfc4825.html" title='"The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)"'>RFC4825</a>].

   Name of the AUID: geolocation-policy




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 29]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   Description: Geolocation privacy rules are documents that describe
   the permissions that a Target has granted to Location Recipients that
   access information about his/her geographic location.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20Internationalization%20Considerations"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  Internationalization Considerations</span>

   The policies described in this document are mostly meant for machine-
   to-machine communications; as such, many of its elements are tokens
   not meant for direct human consumption.  If these tokens are
   presented to the end user, some localization may need to occur.  The
   policies are, however, supposed to be created with the help of
   humans, and some of the elements and attributes are subject to
   internationalization considerations.  The content of the &lt;label&gt;
   element is meant to be provided by a human (the Rule Maker) and also
   displayed to a human.  Furthermore, the location condition element
   (&lt;location-condition&gt;, using the civic location profile, see
   <a href="#section-4.2">Section 4.2</a>) and the &lt;set-note-well&gt; element (see <a href="#section-6.3">Section 6.3</a>) may
   contain non-US-ASCII letters.

   The geolocation policies utilize XML, and all XML processors are
   required to understand UTF-8 and UTF-16 encodings.  Therefore, all
   entities processing these policies MUST understand UTF-8- and UTF-16-
   encoded XML.  Additionally, geolocation policy-aware entities MUST
   NOT encode XML with encodings other than UTF-8 or UTF-16.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20%20Security%20Considerations"></a><a class="selflink" href="#section-13" name="section-13">13</a>.  Security Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.1.%20%20Introduction"></a><a class="selflink" href="#section-13.1" name="section-13.1">13.1</a>.  Introduction</span>

   This document aims to allow users to prevent unauthorized access to
   location information and to restrict access to information dependent
   on the location of the Target, using location-based conditions.  This
   is accomplished using authorization policies.  This work builds on a
   series of other documents: security requirements are described in
   [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>] and a discussion of generic security threats is available
   with [<a href="rfc3694.html" title='"Threat Analysis of the Geopriv Protocol"'>RFC3694</a>].  Aspects of combining permissions in cases of
   multiple occurrence are addressed in [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>].

   In addition to the authorization policies, mechanisms for obfuscating
   location information are described.  A theoretical treatment of
   location obfuscation is provided in [<a href="#ref-DUCKHAM05">DUCKHAM05</a>] and in [<a href="#ref-IFIP07" title='"Location Privacy Protection through Obfuscation-Based Techniques"'>IFIP07</a>].
   [<a href="#ref-DUCKHAM05">DUCKHAM05</a>] provides the foundation, and [<a href="#ref-IFIP07" title='"Location Privacy Protection through Obfuscation-Based Techniques"'>IFIP07</a>] illustrates three
   different types of location obfuscation by enlarging the radius, by
   shifting the center, and by reducing the radius.  The algorithm in
   <a href="#section-6.5.2">Section 6.5.2</a> for geodetic location information obfuscation uses
   these techniques.





<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 30]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   The requirements for protecting privacy-sensitive location
   information vary.  The two obfuscation algorithms in this document
   provide a basis for protecting against unauthorized disclosure of
   location information, but they have limitations.  Application and
   user requirements vary widely; therefore, an extension mechanism is
   support for defining and using different algorithms.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.2.%20%20Obfuscation"></a><a class="selflink" href="#section-13.2" name="section-13.2">13.2</a>.  Obfuscation</span>

   Whenever location information is returned to a Location Recipient, it
   contains the location of the Target.  This is also true when location
   is obfuscated, i.e., the Location Server does not lie about the
   Target's location but instead hides it within a larger location
   shape.  Even without the Target's movement, there is a danger that
   information will be revealed over time.  While the Target's location
   is not revealed within a particular region of the grid, the size of
   that returned region matters as well as the precise location of the
   Target within that region.  Returning location shapes that are
   randomly computed will over time reveal more and more information
   about the Target.

   Consider Figure 1, which shows three ellipses, a dotted area in the
   middle, and the Target's true location marked as 'x'.  The ellipses
   illustrate the location shapes as received by a potential Location
   Recipient over time for requests of a Target's location information.
   Collecting information about the returned location information over
   time allows the Location Recipient to narrow the potential location
   of the Target down to the dotted area in the center of the graph.

   For this purpose, the algorithm described in <a href="#section-6.5.2">Section 6.5.2</a> uses a
   grid that ensures the same location information is reported while the
   Target remains in the same geographical area.
                   ,-----.
           ,----,-'.      `-.
        ,-'    /    `-.      \
      ,'      / _...._ `.     \
     /       ,-'......`._\     :
    ;       /|...........\:    |
    |      / :.....x......+    ;
    :     |   \...........;|  /
     \    |    \........./ | /
      `.  \     `-.....,' ,''
        '-.\       `-----'|
           ``.-----'    ,'
              `._    _,'
                 `'''

                  Figure 1: Obfuscation: A Static Target



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 31]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-32" id="page-32" name="page-32"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   An obscuring method that returns different results for consecutive
   requests can be exploited by recipients wishing to use this property.
   Rate limiting the generation of new obscured locations or providing
   the same obscured location to recipients for the same location might
   limit the information that can be obtained.  Note, however, that
   providing a new obscured location based on a change in location
   provides some information to recipients when they observe a change in
   location.

   When the Target is moving, then the location transformations reveal
   information when switching from one privacy region to another one.
   For example, when a transformation indicates that civic location is
   provided at a 'building' level of granularity, floor levels, room
   numbers, and other details normally internal to a building would be
   hidden.  However, when the Target moves from one building to the next
   one, then the movement would still be recognizable as the disclosed
   location information would be reflected by the new civic location
   information indicating the new building.  With additional knowledge
   about building entrances and floor plans, it would be possible to
   learn additional information.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.3.%20%20Algorithm%20Limitations"></a><a class="selflink" href="#section-13.3" name="section-13.3">13.3</a>.  Algorithm Limitations</span>

   The algorithm presented in <a href="#section-6.5.2">Section 6.5.2</a> has some issues where
   information is leaked: when moving, when switching from one privacy
   region to another one, and also when the user regularly visits the
   same location.

   The first issue arises if the algorithm provides different location
   information (privacy region) only when the previous one becomes
   inapplicable.  The algorithm discloses new information the moment
   that the Target is on the border of the old privacy region.

   Another issue arises if the algorithm produces the different values
   for the same location that is repeatedly visited.  Suppose a user
   goes home every night.  If the reported obfuscated locations are all
   randomly chosen, an analysis can reveal the home location with high
   precision.

   In addition to these concerns, the combination of an obscured
   location with public geographic information (highways, lakes,
   mountains, cities, etc.) may yield much more precise location
   information than is desired.  But even without it, just observing
   movements, once or multiple times, any obscuring algorithm can leak
   information about velocities or positions.  Suppose a user wants to
   disclose location information with a radius of r.  The privacy
   region, a circle with that radius, has an area of A = pi * r^2.  An
   adversary, observing the movements, will deduce that the target is



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 32]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-33" id="page-33" name="page-33"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   visiting, was visiting, or regularly visits, a region of size A1,
   smaller than A.  The ratio A1/A should be, even in the worst case,
   larger than a fixed known number, in order that the user can predict
   the worst-case information leakage.  The choices of <a href="#section-6.5.2">Section 6.5.2</a> are
   such that this maximum leakage can be established: by any statistical
   procedures, without using external information (highways, etc., as
   discussed above), the quotient A1/A is larger than 0.13 (= 1/(5*1.5)
   ).  Thus, for instance, when choosing a provided location of size
   1000 km^2, he will be leaking, in worst case, the location within a
   region of size 130 km^2.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.4.%20%20Usability"></a><a class="selflink" href="#section-13.4" name="section-13.4">13.4</a>.  Usability</span>

   There is the risk that end users are specifying their location-based
   policies in such a way that very small changes in location yields a
   significantly different level of information disclosure.  For
   example, a user might want to set authorization policies differently
   when they are in a specific geographical area (e.g., at home, in the
   office).  Location might be the only factor in the policy that
   triggers a very different action and transformation to be executed.
   The accuracy of location information is not always sufficient to
   unequivocally determine whether a location is within a specific
   boundary [<a href="#ref-GEOPRIV-UNCERTAINTY">GEOPRIV-UNCERTAINTY</a>].  In some situations, uncertainty in
   location information could produce unexpected results for end users.
   Providing adequate user feedback about potential errors arising from
   these limitation can help prevent unintentional information leakage.

   Users might create policies that are nonsensical.  To avoid such
   cases, the software used to create the authorization policies should
   perform consistency checks, and when authorization policies are
   uploaded to the policy servers, then further checks can be performed.
   When XCAP is used to upload authorization policies, then built-in
   features of XCAP can be utilized to convey error messages back to the
   user about an error condition.  <a href="rfc4825.html#section-8.2.5">Section 8.2.5 of [RFC4825]</a> indicates
   that some degree of application-specific checking is provided when
   authorization policies are added, modified, or deleted.  The XCAP
   protocol may return a 409 response with a response that may contain a
   detailed conflict report containing the &lt;constraint-failure&gt; element.
   A human-readable description of the problem can be indicated in the
   'phrase' attribute of that element.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.5.%20%20Limitations%20of%20Obscuring%20Locations"></a><a class="selflink" href="#section-13.5" name="section-13.5">13.5</a>.  Limitations of Obscuring Locations</span>

   Location-obscuring attempts to remove information about the location
   of a Target.  The effectiveness of location obscuring is determined
   by how much uncertainty a Location Recipient has about the location
   of the Target.  A location-obscuring algorithm is effective if the




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 33]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-34" id="page-34" name="page-34"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   Location Recipient cannot recover a location with better uncertainty
   than the obscuring algorithm was instructed to add.

   Effective location obscuring is difficult.  The amount of information
   that can be recovered by a determined and resourceful Location
   Recipient can be considerably more than is immediately apparent.  A
   concise summary of the challenges is included in [<a href="#ref-DUCKHAM10">DUCKHAM10</a>].

   A Location Recipient in possession of external information about the
   Target or geographical area that is reported can make assumptions or
   guesses aided by that information to recover more accurate location
   information.  This is true even when a single location is reported,
   but it is especially true when multiple locations are reported for
   the same Target over time.

   Furthermore, a Location Recipient that attempts to recover past
   locations for a Target can use later-reported locations to further
   refine any recovered location.  A location-obscuring algorithm
   typically does not have any information about the future location of
   the Target.

   The degree to which location information can be effectively degraded
   by an obscuring algorithm depends on the information that is used by
   the obscuring algorithm.  If the information available to the
   obscuring algorithm is both more extensive and more effectively
   employed than the information available to the Location Recipient,
   then location obscuring might be effective.

   Obscured locations can still serve a purpose where a Location
   Recipient is willing to respect privacy.  A privacy-respecting
   Location Recipient can choose to interpret the existence of
   uncertainty as a request from a Rule Maker to not recover location.

   Location obscuring is unlikely to be effective against a more
   determined or resourceful adversary.  Withholding location
   information entirely is perhaps the most effective method of ensuring
   that it is not recovered.

   As a final caution, we note that omitted data also conveys some
   information.  Selective withholding of information reveals that there
   is something worth hiding.  That information might be used to reveal
   something of the information that is being withheld.  For example, if
   location is only obscured around a user's home and office, then the
   lack of location for that user and the current time will likely mean
   that the user is at home at night and in the office during the day,
   defeating the purpose of the controls.





<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 34]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-35" id="page-35" name="page-35"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/14.%20%20References"></a><a class="selflink" href="#section-14" name="section-14">14</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/14.1.%20%20Normative%20References"></a><a class="selflink" href="#section-14.1" name="section-14.1">14.1</a>.  Normative References</span>

   [<a id="ref-GML" name="ref-GML">GML</a>]      OpenGIS, "OpenGIS Geography Markup Language (GML)
              Implementation Specification, Version 3.1.1,
              OGC 03-105r1", July 2004,
              &lt;<a href="http://portal.opengeospatial.org/files/?artifact_id=4700">http://portal.opengeospatial.org/files/</a>
              <a href="http://portal.opengeospatial.org/files/?artifact_id=4700">?artifact_id=4700</a>&gt;.

   [<a id="ref-NIMA.TR8350.2-3e" name="ref-NIMA.TR8350.2-3e">NIMA.TR8350.2-3e</a>]
              "Department of Defense (DoD) World Geodetic System 1984
              (WGS 84), Third Edition", NIMA TR8350.2, January 2000.

   [<a id="ref-OGC-06-103r4" name="ref-OGC-06-103r4">OGC-06-103r4</a>]
              OpenGIS, "OpenGIS Implementation Specification for
              Geographic  information - Simple feature access - Part 1:
              Common architecture", May 2011,
              &lt;<a href="http://www.opengeospatial.org/standards/sfa?">http://www.opengeospatial.org/standards/sfa?</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="http://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3688" name="ref-RFC3688">RFC3688</a>]  Mealling, M., "The IETF XML Registry", <a href="http://tools.ietf.org/html/bcp81">BCP 81</a>, <a href="rfc3688.html">RFC 3688</a>,
              January 2004.

   [<a id="ref-RFC4745" name="ref-RFC4745">RFC4745</a>]  Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar, J.,
              Polk, J., and J. Rosenberg, "Common Policy: A Document
              Format for Expressing Privacy Preferences", <a href="rfc4745.html">RFC 4745</a>,
              February 2007.

   [<a id="ref-RFC5139" name="ref-RFC5139">RFC5139</a>]  Thomson, M. and J. Winterbottom, "Revised Civic Location
              Format for Presence Information Data Format Location
              Object (PIDF-LO)", <a href="rfc5139.html">RFC 5139</a>, February 2008.

   [<a id="ref-RFC5491" name="ref-RFC5491">RFC5491</a>]  Winterbottom, J., Thomson, M., and H. Tschofenig, "GEOPRIV
              Presence Information Data Format Location Object (PIDF-LO)
              Usage Clarification, Considerations, and Recommendations",
              <a href="rfc5491.html">RFC 5491</a>, March 2009.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/14.2.%20%20Informative%20References"></a><a class="selflink" href="#section-14.2" name="section-14.2">14.2</a>.  Informative References</span>

   [<a id="ref-DUCKHAM05" name="ref-DUCKHAM05">DUCKHAM05</a>]
              Duckham, M. and L. Kulik, "A Formal Model of Obfuscation
              and Negotiation for Location Privacy", In Proc. of the 3rd
              International Conference PERVASIVE 2005, Munich, Germany,
              May 2005.




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 35]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-36" id="page-36" name="page-36"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   [<a id="ref-DUCKHAM10" name="ref-DUCKHAM10">DUCKHAM10</a>]
              Duckham, M., "Moving Forward: Location Privacy and
              Location Awareness", In Proc. 3rd ACM SIGSPATIAL Workshop
              on Security and Privacy in GIS and LBS (SPRINGL), ACM,
              November 2010.

   [<a id="ref-GEO-SHAPE" name="ref-GEO-SHAPE">GEO-SHAPE</a>]
              Thomson, M., "Geodetic Shapes for the Representation of
              Uncertainty in PIDF-LO", Work in Progress, December 2006.

   [<a id="ref-GEOPRIV-UNCERTAINTY" name="ref-GEOPRIV-UNCERTAINTY">GEOPRIV-UNCERTAINTY</a>]
              Thomson, M. and J. Winterbottom, "Representation of
              Uncertainty and Confidence in PIDF-LO", Work in Progress,
              March 2012.

   [<a id="ref-IFIP07" name="ref-IFIP07">IFIP07</a>]   Ardagna, C., Cremonini, M., Damiani, E., De Capitani di
              Vimercati, S., and P. Samarati, "Location Privacy
              Protection through Obfuscation-Based Techniques",
              Proceedings of the 21st Annual IFIP WG 11.3 Working
              Conference on Data and Applications Security, Redondo
              Beach, CA, USA, July 2007.

   [<a id="ref-RFC2392" name="ref-RFC2392">RFC2392</a>]  Levinson, E., "Content-ID and Message-ID Uniform Resource
              Locators", <a href="rfc2392.html">RFC 2392</a>, August 1998.

   [<a id="ref-RFC2778" name="ref-RFC2778">RFC2778</a>]  Day, M., Rosenberg, J., and H. Sugano, "A Model for
              Presence and Instant Messaging", <a href="rfc2778.html">RFC 2778</a>, February 2000.

   [<a id="ref-RFC3694" name="ref-RFC3694">RFC3694</a>]  Danley, M., Mulligan, D., Morris, J., and J. Peterson,
              "Threat Analysis of the Geopriv Protocol", <a href="rfc3694.html">RFC 3694</a>,
              February 2004.

   [<a id="ref-RFC4079" name="ref-RFC4079">RFC4079</a>]  Peterson, J., "A Presence Architecture for the
              Distribution of GEOPRIV Location Objects", <a href="rfc4079.html">RFC 4079</a>,
              July 2005.

   [<a id="ref-RFC4119" name="ref-RFC4119">RFC4119</a>]  Peterson, J., "A Presence-based GEOPRIV Location Object
              Format", <a href="rfc4119.html">RFC 4119</a>, December 2005.

   [<a id="ref-RFC4825" name="ref-RFC4825">RFC4825</a>]  Rosenberg, J., "The Extensible Markup Language (XML)
              Configuration Access Protocol (XCAP)", <a href="rfc4825.html">RFC 4825</a>, May 2007.

   [<a id="ref-RFC5025" name="ref-RFC5025">RFC5025</a>]  Rosenberg, J., "Presence Authorization Rules", <a href="rfc5025.html">RFC 5025</a>,
              December 2007.

   [<a id="ref-RFC5226" name="ref-RFC5226">RFC5226</a>]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", <a href="http://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc5226.html">RFC 5226</a>,
              May 2008.



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 36]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-37" id="page-37" name="page-37"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   [<a id="ref-RFC6280" name="ref-RFC6280">RFC6280</a>]  Barnes, R., Lepinski, M., Cooper, A., Morris, J.,
              Tschofenig, H., and H. Schulzrinne, "An Architecture for
              Location and Location Privacy in Internet Applications",
              <a href="http://tools.ietf.org/html/bcp160">BCP 160</a>, <a href="rfc6280.html">RFC 6280</a>, July 2011.















































<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 37]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-38" id="page-38" name="page-38"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Acknowledgments"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Acknowledgments</span>

   This document is informed by the discussions within the IETF GEOPRIV
   working group, including discussions at the GEOPRIV interim meeting
   in Washington, D.C., in 2003.

   We particularly want to thank Allison Mankin &lt;mankin@psg.com&gt;,
   Randall Gellens &lt;rg+ietf@qualcomm.com&gt;, Andrew Newton
   &lt;anewton@ecotroph.net&gt;, Ted Hardie &lt;hardie@qualcomm.com&gt;, and Jon
   Peterson &lt;jon.peterson@neustar.biz&gt; for their help in improving the
   quality of this document.

   We would like to thank Christian Guenther for his help with an
   earlier version of this document.  Furthermore, we would like to
   thank Johnny Vrancken for his document reviews in September 2006,
   December 2006 and January 2007.  James Winterbottom provided a
   detailed review in November 2006.  Richard Barnes gave a detailed
   review in February 2008.

   This document uses text from "Geodetic Shapes for the Representation
   of Uncertainty in PIDF-LO" [<a href="#ref-GEO-SHAPE">GEO-SHAPE</a>], authored by Martin Thomson.

   We would like to thank Matt Lepinski and Richard Barnes for their
   comments regarding the geodetic location transformation procedure.
   Richard provided us with a detailed text proposal.

   Robert Sparks, and Warren Kumari deserve thanks for their input on
   the location obfuscation discussion.  Robert implemented various
   versions of the algorithm in the graphical language "Processing" and
   thereby helped us tremendously to understand problems with the
   previously illustrated algorithm.

   We would like to thank Dan Romascanu, Yoshiko Chong, and Jari
   Urpalainen for their last call comments.

   Finally, we would like to thank the following individuals for their
   feedback as part of the IESG, GenArt, and SecDir review: Jari Arkko,
   Lisa Dusseault, Eric Gray, Sam Hartman, Russ Housley, Cullen
   Jennings, Chris Newman, Jon Peterson, Tim Polk, Carl Reed, and Brian
   Rosen.

   Although John Morris is currently employed by the U.S. Government, he
   participated in the development of this document in his personal
   capacity, and the views expressed in the document may not reflect
   those of his employer.






<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 38]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-39" id="page-39" name="page-39"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20B.%20%20Pseudocode"></a><a class="selflink" href="#appendix-B" name="appendix-B">Appendix B</a>.  Pseudocode</span>

   This section provides an informal description for the algorithm
   described in 6.5.2 and 7.5 as pseudocode.  In addition to the
   algorithm, it randomly chooses among equidistant landmarks based on
   the previous location.

   Constants

     P = sqrt(3)/6  //  approx 0.2887
     q = 1 - p      //  approx 0.7113

   Parameters

     prob:  real  // prob is a parameter in the range
           //  0.5 &lt;= prob &lt;=1
           // recommended is a value for prob between 0.7 and 0.9
           // the default of prob is 0.8

   Inputs

     M = (m,n) : real * real
           // M is a pair of reals: m and n
           // m is the longitude and n the latitude,
           // respectively, of the measured location
           // The values are given as real numbers, in the
           // range: -180 &lt; m &lt;= 180; -90 &lt; n &lt; 90
           // minus values for longitude m correspond to "West"
           // minus values for latitude n correspond to "South"

     radius : integer // the 'radius' or uncertainty,
           // measured in meters

     prev-M = (prev-m1, prev-n1): real * real
           // the *previously* provided location, if available
           // prev-m1 is the longitude and
           // prev-n1 the latitude, respectively

     o : real

     // this is the reference latitude for the geodesic projection
     // The value of 'o' is chosen according to the table below.
     // The area you want to project MUST be included in
     // between a minimal latitude and a maximal latitude
     // given by the two first columns of the table.
     // (Otherwise the transformation is not available).





<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 39]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-40" id="page-40" name="page-40"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


     //    +------+------+--------------------------+-------+
     //    | min  | max  |                          |       |
     //    | lat  | lat  |        Examples          |  o    |
     //    +------+------+--------------------------+-------+
     //    |      |      | Tropics and subtropics   |       |
     //    | -45  |  45  | Africa                   |  0    |
     //    |      |      | Australia                |       |
     //    +------+------+--------------------------+-------+
     //    |      |      | Continental US           |       |
     //    |  25  |  50  | Mediterranean            |   25  |
     //    |      |      | most of China            |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    |  35  |  55  | Southern and Central     |   35  |
     //    |      |      |      Europe              |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    |  45  |  60  | Central and Northern     |   45  |
     //    |      |      |       Europe             |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    |  55  |  65  | most of Scandinavia      |   55  |
     //    |      |      |                          |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    |  60  |  70  |                          |   60  |
     //    |      |      |                          |       |
     //    +------+------+--------------------------+-------+
     //    |      |      | most of                  |       |
     //    | -50  | -25  |    Chile and Argentina   |  -50  |
     //    |      |      | New Zealand              |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    | -35  | -55  |                          |  -35  |
     //    |      |      |                          |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    | -45  | -60  |                          |  -45  |
     //    |      |      |                          |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    | -55  | -65  |                          |  -55  |
     //    |      |      |                          |       |
     //    +------+------+--------------------------+-------+
     //    |      |      |                          |       |
     //    | -60  | -70  |                          |  -60  |
     //    |      |      |                          |       |
     //    +------+------+--------------------------+-------+



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 40]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-41" id="page-41" name="page-41"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   Outputs

     M1 = (m1,n1) : real * real // longitude and latitude,
           // respectively, of the provided location

   Local Variables

     d, d1, d2, l, r, b, t, x, y: real
     SW, SE, NW, NE: real * real
        // pairs of real numbers, interpreted as coordinates
        // longitude and latitude, respectively

     temp : Integer[1..8]

   Function
     choose(Ma, Mb: real * real): real * real;
        // This function chooses either Ma or Mb
        // depending on the parameter 'prob'
        // and on prev-M1, the previous value of M1:
        // If prev-M1 == Ma choose Ma with probability 'prob'
        // If prev-M1 == Mb choose Mb with probability 'prob'
        // Else choose Ma or Mb with probability 1/2
     Begin
     rand:= Random[0,1];
        // a real random number between 0 and 1
     If     prev-M1 == Ma Then
            If rand &lt; prob Then choose := Ma;
                           Else choose := Mb;  EndIf
     Elseif prev-M1 == Mb Then
            If rand &lt; prob Then choose := Mb;
                           Else choose := Ma;  EndIf
     Else
            If rand &lt; 0.5  Then choose := Ma;
                           Else choose := Mb;  EndIf
     End // Function choose

   Main  // main procedure
     Begin
     d := radius/1000;  // uncertainty, measured in km

     d1:= (d * 180) / (pi*M*cos(o));

     d2:= d / 110.6;

     l := d1*floor(m/d1)
           // "floor"  returns the largest integer
           // smaller or equal to a floating point number
     r := l+d1;



<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 41]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-42" id="page-42" name="page-42"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


     b := o+d2*floor(n-o/d2);
     t := b+d2;

     x := (m-l)/(r-l);
     y := (n-b)/(t-b);

     SW := (l,b);
     SE := (r,b);
     NW := (l,t);
     NE := (r,t);

     If     x &lt; p and y &lt; p      Then M1 := SW;
     Elseif x &lt; p and q &lt;= y     Then M1 := NW;
     Elseif q &lt;= x and y &lt; p     Then M1 := SE;
     Elseif q &lt;= x and q &lt;= y    Then M1 := NE;
     Elseif p &lt;= x and x &lt; q and y &lt; x  and y &lt; 1-x
            Then M1 := choose(SW,SE);
     Elseif p &lt;= y and y &lt; q and x &lt;= y and y &lt; 1-x
            Then M1 := choose(SW,NW);
     Elseif p &lt;= y and y &lt; q and y &lt; x  and 1-x &lt;= y
            Then M1 := choose(SE,NE);
     Elseif p &lt;= x and x &lt; q and x &lt;= y and 1-x &lt;= y
            Then M1 := choose(NW,NE);
     Endif

     End //  Main

























<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 42]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-43" id="page-43" name="page-43"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


Authors' Addresses

   Henning Schulzrinne (editor)
   Columbia University
   Department of Computer Science
   450 Computer Science Building
   New York, NY  10027
   USA

   Phone: +1 212-939-7042
   EMail: schulzrinne@cs.columbia.edu
   URI:   <a href="http://www.cs.columbia.edu/~hgs">http://www.cs.columbia.edu/~hgs</a>


   Hannes Tschofenig (editor)
   Nokia Siemens Networks
   Linnoitustie 6
   Espoo  02600
   Finland

   Phone: +358 (50) 4871445
   EMail: Hannes.Tschofenig@gmx.net
   URI:   <a href="http://www.tschofenig.priv.at/">http://www.tschofenig.priv.at</a>


   Jorge R. Cuellar
   Siemens
   Otto-Hahn-Ring 6
   Munich, Bavaria  81739
   Germany

   EMail: Jorge.Cuellar@siemens.com


   James Polk
   Cisco
   2200 East President George Bush Turnpike
   Richardson, Texas  75082
   USA

   Phone: +1 817-271-3552
   EMail: jmpolk@cisco.com


   John B. Morris, Jr.

   EMail: ietf@jmorris.org




<span class="grey">Schulzrinne, et al.          Standards Track                   [Page 43]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-44" id="page-44" name="page-44"> </a>
<span class="grey"><a href="rfc6772.html">RFC 6772</a>                   Geolocation Policy               January 2013</span>


   Martin Thomson
   Microsoft
   3210 Porter Drive
   Palo Alto, CA  94304
   USA

   Phone: +1 650-353-1925
   EMail: martin.thomson@gmail.com











































Schulzrinne, et al.          Standards Track                   [Page 44]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.111, available from
<a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc6772 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Apr 2015 16:01:02 GMT --></html>