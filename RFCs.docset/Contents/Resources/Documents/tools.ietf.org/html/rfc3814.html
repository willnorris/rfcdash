<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc3814 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:44 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:3814" name="DC.Identifier"/>
<meta content="This memo defines a portion of the Management Information Base (MIB)
for use with network management protocols in the Internet community.
In particular, it describes managed objects for defining, configuring,
and monitoring Forwarding Equivalence Class (FEC) to Next Hop Label
Forwarding Entry (NHLFE) mappings and corresponding actions for use
with Multiprotocol Label Switching (MPLS). [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Viswanathan, Arun" name="DC.Creator"/>
<meta content="Nadeau, Thomas D." name="DC.Creator"/>
<meta content="Srinivasan, Cheenu" name="DC.Creator"/>
<meta content="June, 2004" name="DC.Date.Issued"/>
<meta content="Multiprotocol Label Switching (MPLS) Forwarding Equivalence Class To Next Hop Label Forwarding Entry (FEC-To-NHLFE) Management Information Base (MIB)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3814 - Multiprotocol Label Switching (MPLS) Forwarding Equivalence Class To Next Hop Label Forwarding Entry (FEC-To-NHLFE) Management Information Base (MIB)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3814.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3814" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-mpls-ftn-mib" title="draft-ietf-mpls-ftn-mib">draft-ietf-mpls...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3814" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3814" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3814" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                          T. Nadeau
Request for Comments: 3814                           Cisco Systems, Inc.
Category: Standards Track                                  C. Srinivasan
                                                          Bloomberg L.P.
                                                          A. Viswanathan
                                                  Force10 Networks, Inc.
                                                               June 2004


      <span class="h1">Multiprotocol Label Switching (MPLS) Forwarding Equivalence</span>
        <span class="h1">Class To Next Hop Label Forwarding Entry (FEC-To-NHLFE)</span>
                   <span class="h1">Management Information Base (MIB)</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2004).

Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for defining,
   configuring, and monitoring Forwarding Equivalence Class (FEC) to
   Next Hop Label Forwarding Entry (NHLFE) mappings and corresponding
   actions for use with Multiprotocol Label Switching (MPLS).

Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology. . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Conventions Used In This Document. . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-4">4</a>.  The Internet-Standard Management Framework . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-5">5</a>.  Outline. . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
       <a href="#section-5.1">5.1</a>.  mplsFTNTable . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
             5.1.1.  Advantages of Address Ranges Over CIDR Prefixes.  4
       <a href="#section-5.2">5.2</a>.  mplsFTNMapTable. . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
             <a href="#section-5.2.1">5.2.1</a>.  Indexing Requirements. . . . . . . . . . . . . .  <a href="#page-5">5</a>
             <a href="#section-5.2.2">5.2.2</a>.  How the Current Indexing Works . . . . . . . . .  <a href="#page-5">5</a>
       <a href="#section-5.3">5.3</a>.  mplsFTNPerfTable . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
   <a href="#section-6">6</a>.  Avoiding Retrieval-Modification Interactions . . . . . . . . .  <a href="#page-7">7</a>



<span class="grey">Nadeau, et al.              Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   <a href="#section-7">7</a>.  Example Illustrating MIB Module Components . . . . . . . . . .  <a href="#page-8">8</a>
       <a href="#section-7.1">7.1</a>.  Sample FTN Rules . . . . . . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
       <a href="#section-7.2">7.2</a>.  Creating FTN Entries and Applying them to Interfaces . .  <a href="#page-9">9</a>
       <a href="#section-7.3">7.3</a>.  Mapping an FTN Entry to Multiple Interfaces. . . . . . . <a href="#page-10">10</a>
       <a href="#section-7.4">7.4</a>.  Inserting an Entry Into Existing List. . . . . . . . . . <a href="#page-11">11</a>
       <a href="#section-7.5">7.5</a>.  Pictorial Tabular Relationship . . . . . . . . . . . . . <a href="#page-13">13</a>
       <a href="#section-7.6">7.6</a>.  Deleting an Entry. . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   <a href="#section-8">8</a>.  The Use of RowPointer. . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-9">9</a>.  MPLS-FTN-STD-MIB Definitions . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-10">10</a>. Security Considerations. . . . . . . . . . . . . . . . . . . . <a href="#page-38">38</a>
   <a href="#section-11">11</a>. IANA Considerations. . . . . . . . . . . . . . . . . . . . . . <a href="#page-39">39</a>
       <a href="#section-11.1">11.1</a>. IANA Considerations for MPLS-FTN-STD-MIB . . . . . . . . <a href="#page-39">39</a>
   <a href="#section-12">12</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-39">39</a>
       <a href="#section-12.1">12.1</a>. Normative References . . . . . . . . . . . . . . . . . . <a href="#page-39">39</a>
       <a href="#section-12.2">12.2</a>. Informative References . . . . . . . . . . . . . . . . . <a href="#page-40">40</a>
   <a href="#section-13">13</a>. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-41">41</a>
   <a href="#section-14">14</a>. Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . <a href="#page-41">41</a>
   <a href="#section-15">15</a>. Full Copyright Statement . . . . . . . . . . . . . . . . . . . <a href="#page-42">42</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for specifying Forwarding
   Equivalence Class (FEC) to Next Hop Label Forwarding Entry (NHLFE)
   mappings and corresponding actions for Multiprotocol Label Switching
   (MPLS).

   At the ingress of an MPLS network, packets entering the MPLS domain
   are assigned to an FEC.  Those packets belonging to an FEC are
   associated with an NHLFE (i.e., MPLS label) via the FEC-to-NHLFE
   (FTN) mapping [<a href="rfc3031.html" title='"Multiprotocol Label Switching Architecture"'>RFC3031</a>].  This relationship defines how ingress LSRs
   will impose MPLS labels onto incoming packets.  It also defines how
   egress LSRs will decapsulate the MPLS shim header from MPLS packets.

   Conceptually, some of the FTN table functionality could be
   implemented using the Forwarding Information Base (FIB) to map all
   packets destined for a prefix to an LSP.  However, this mapping is
   coarse in nature.

   Similar functionality is already being used in other contexts such as
   security filters, access filters, and RSVP flow identification.  All
   of these require various combinations of matching based on IP header
   and upper-layer header information to identify packets for a
   particular treatment.  When packets match a particular rule, a
   corresponding action is executed on those packets.  For example, two
   popular actions to take when a successful match is identified are
   allowing the packet to be forwarded or to discard it.  However, other



<span class="grey">Nadeau, et al.              Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   actions are possible, such as modifying the TOS byte, or redirecting
   a packet to a particular outgoing interface.  In the context of MPLS,
   the possible actions performed by an NHLFE are to redirect packets to
   either an MPLS Label Switched Path (LSP) or an MPLS Traffic
   Engineered (TE) Tunnel.

   This document attempts to consolidate the various matching
   requirements and associated action options needed for MPLS into a
   single specification.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   Although all of the terminology used in this document is either
   covered in the MPLS Architecture [<a href="rfc3031.html" title='"Multiprotocol Label Switching Architecture"'>RFC3031</a>] or in the SNMP
   Architecture [<a href="rfc3411.html" title='"An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks"'>RFC3411</a>], it is informational to define some
   immediately pertinent acronyms/terminology here.

      MPLS  Multiprotocol Label Switching
      FEC   Forwarding Equivalence Class
      NHLFE Next-Hop Label Forwarding Entry
      FTN   FEC-to-NHLFE
      MIB   Management Information Base

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Conventions%20Used%20In%20This%20Document"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Conventions Used In This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>
   [<a href="rfc2119.html" title='"Key Words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20The%20Internet-Standard%20Management%20Framework"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  The Internet-Standard Management Framework</span>

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to <a href="rfc3410.html#section-7">section 7 of
   RFC 3410</a> [<a href="rfc3410.html" title='"Introduction and Applicability Statements for Internet- Standard Management Framework"'>RFC3410</a>].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  MIB objects are generally
   accessed through the Simple Network Management Protocol (SNMP).
   Objects in the MIB are defined using the mechanisms defined in the
   Structure of Management Information (SMI).  This memo specifies a MIB
   module that is compliant to the SMIv2, which is described in STD 58,
   <a href="rfc2578.html">RFC 2578</a> [<a href="rfc2578.html" title='"Structure of Management Information Version 2 (SMIv2)"'>RFC2578</a>], STD 58, <a href="rfc2579.html">RFC 2579</a> [<a href="rfc2579.html" title='"Textual Conventions for SMIv2"'>RFC2579</a>] and STD 58, <a href="rfc2580.html">RFC 2580</a>
   [<a href="rfc2580.html" title='"Conformance Statements for SMIv2"'>RFC2580</a>].







<span class="grey">Nadeau, et al.              Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Outline"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Outline</span>

   This MIB module resides on any LSR which does the FEC-to-NHLFE
   mapping in order to map traffic into the MPLS domain.  This MIB
   module consists of three tables:

   -  mplsFTNTable defines the rule base against which incoming packets
      are matched and defines the actions to be taken on matching
      packets;

   -  mplsFTNMapTable defines the application of these rules to specific
      interfaces;

   -  mplsFTNPerfTable provides performance counters for every entry in
      mplsFTNTable that is active on one or more interfaces, on a per-
      interface basis.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20mplsFTNTable"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  mplsFTNTable</span>

   This table allows FEC to NHLFE mappings to be specified.  Each entry
   in this table (also referred to as an "FTN entry" in this document)
   defines a rule to be applied to incoming packets (on interfaces that
   the entry is activated on using mplsFTNMapTable as explained in
   <a href="#section-5.2">Section 5.2</a>) and an action to be taken on matching packets.
   mplsFTNTable allows 6-tuple matching rules based on one or more of
   source address range, destination address range, source port range,
   destination port range, IPv4 Protocol field [<a href="rfc791.html" title='"Internet Protocol"'>RFC791</a>] or IPv6 next-
   header field [<a href="rfc2460.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC2460</a>], and the DiffServ Code Point (DSCP, [<a href="rfc2474.html" title='"Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers"'>RFC2474</a>])
   to be specified.  Packet redirection is based on an action pointer
   which points either at an mplsXCEntry in MPLS-LSR-STD-MIB [<a href="rfc3813.html" title='"Multiprotocol Label Switching (MPLS) Label Switching Router (LSR) Management Information Base (MIB)"'>RFC3813</a>]
   when the NHLFE is a non-TE LSP, or at an mplsTunnelEntry in MPLS-TE-
   STD-MIB [<a href="rfc3812.html" title='"Multiprotocol Label Switching (MPLS) Traffic Engineering (TE) Management Information Base (MIB)"'>RFC3812</a>] when the NHLFE is the origin of a TE tunnel.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.1.%20%20Advantages%20of%20Address%20Ranges%20Over%20CIDR%20Prefixes"></a><a class="selflink" href="#section-5.1.1" name="section-5.1.1">5.1.1</a>.  Advantages of Address Ranges Over CIDR Prefixes</span>

   One possible way of specifying a set of addresses as part of an FTN
   rule is to use CIDR prefixes [<a href="rfc1519.html" title='"Classless Inter-Domain Routing (CIDR): an Address Assignment and Aggregation Strategy"'>RFC1519</a>].  We have instead chosen to
   allow FTN rules to be expressed in terms of address ranges in
   mplsFTNTable because they have the following advantages.

   -  The number of CIDR prefixes needed to represent some address
      ranges is very large.  For example, we need the following 6 CIDR
      prefixes to represent the range of addresses [192.0.2.0-
      192.0.2.62]:  192.0.2.0/27, 192.0.2.32/28, 192.0.2.48/29,
      192.0.2.56/30, 192.0.2.60/31, and 192.0.2.62/32.  A rule such as
      "redirect all packets with a source address in the range
      [192.0.2.0-192.0.2.62] and destination address in the range
      [192.0.2.128-192.0.2.190] to tunnel #2" would require the creation



<span class="grey">Nadeau, et al.              Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      of 36 conceptual rows in mplsFTNTable if the rules were expressed
      as CIDR prefixes, but only a single conceptual row would be
      required if we used address ranges instead.

   -  Every CIDR prefix can be expressed as a single equivalent address
      range.

   -  A particular implementation is free to translate the address
      ranges specified in mplsFTNTable internally to equivalent CIDR
      prefixes, if it so chooses.  However, given that powerful range
      matching algorithms are available, many implementations may prefer
      to implement these directly.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20mplsFTNMapTable"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  mplsFTNMapTable</span>

   This table provides the capability to activate or map FTN entries
   defined in mplsFTNTable to specific interfaces in the system.
   Packets received on an interface are compared against FTN entries in
   the order in which entries are applied to the interface.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.1.%20%20Indexing%20Requirements"></a><a class="selflink" href="#section-5.2.1" name="section-5.2.1">5.2.1</a>.  Indexing Requirements</span>

   The indexing structure of mplsFTNMapTable was designed to satisfy the
   following requirements.

   -  We must be able to insert a new entry into an existing list of
      entries on an interface with a single SET operation.  Thus, we
      must be able to support an insertion operation that does not
      require manual reindexing of existing entries.

   -  A management application must be able to traverse entries that
      have been applied to a particular interface in the order of
      application.  The number of (non-bulk) retrieval operations to
      obtain this information as dictated by the particular indexing
      scheme that we choose for mplsFTNMapTable must be no more than
      that dictated by any other indexing scheme.  For example, the
      indexing scheme must not force the Network Management Application
      to retrieve all the entries in the table and sift through them
      offline to obtain this information.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.2.%20%20How%20the%20Current%20Indexing%20Works"></a><a class="selflink" href="#section-5.2.2" name="section-5.2.2">5.2.2</a>.  How the Current Indexing Works</span>

   The natural data-structure for implementing constant time insertions
   between two existing entries and for supporting in-order traversals
   is a linked-list.

   The chosen indexing structure of mplsFTNMapTable makes the entries in
   the table behave like items in a linked-list.  Each conceptual row



<span class="grey">Nadeau, et al.              Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   has an object, mplsFTNMapPrevIndex, which is a pointer to the
   previous entry that is applied to a particular interface.  This
   object is self-adjusting, i.e., its value is automatically adjusted
   by the agent, if necessary, after an insertion or deletion operation.

   This indexing scheme provides a mechanism to 'insert' an FTN entry
   between two existing entries already applied on an interface.  This
   is done by specifying the entry after which a new entry should be
   inserted in mplsFTNMapPrevIndex.

   Using this linked-list structure, one can retrieve FTN entries in the
   order of application on a per-interface basis as follows:

   -  To determine the first FTN entry on an interface with index
      ifIndex, perform a GETNEXT retrieval operation on
      mplsFTNMapRowStatus.ifIndex.0.0; the returned object, if one
      exists, is (say) mplsFTNMapRowStatus.ifIndex.0.n
      (mplsFTNMapRowStatus is the first accessible columnar object in
      the conceptual row).  Then, the index of the first FTN entry
      applied on this interface is n.

   -  To determine the FTN entry applied to an interface after the one
      indexed by n, perform a GETNEXT retrieval operation on
      mplsFTNMapRowStatus.ifIndex.n.0.  If such an entry exists, the
      returned object would be of the form
      mplsFTNMapRowStatus.ifIndex.n.m.  Then, the index of the next FTN
      entry applied on this interface is m.

   -  If the FTN entry indexed by n is the last entry applied to the
      interface with index ifIndex, then the object returned would
      either be:

      1. mplsFTNMapRowStatus.ifIndexNext.0.k, where ifIndexNext is the
         index of the next interface in ifTable to which an FTN entry
         has been applied, in which case k is the index of the first FTN
         entry applied to the interface with index ifIndexNext;

      or:

      2. mplsFTNMapStorageType.firstIfIndex.0.p, if there are no more
         entries in mplsFTNMapTable, where firstIfIndex is the first
         entry in ifTable to which an FTN entry has been mapped.

   The above steps can be used to retrieve all the applied entries on a
   per-interface basis in application order.  Note that the number of
   retrieval operations is equal to the number of applied FTN entries
   (i.e., the minimum number of GETNEXT operations needed using any
   indexing scheme).



<span class="grey">Nadeau, et al.              Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   Also note that we could not have created this linked-list structure
   using a 'next' pointer object instead of the 'previous' pointer
   object that we chose because this would not allow us to determine the
   first FTN entry that has been mapped to a specific interface using a
   single SNMP (non-bulk) retrieval operation.

   The use of this indexing structure is further illustrated using an
   example in <a href="#section-7">Section 7</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20mplsFTNPerfTable"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  mplsFTNPerfTable</span>

   If an FTN entry has been applied to one or more interfaces, this
   table provides high-capacity performance counters to monitor each
   such FTN entry on a per-interface basis.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Avoiding%20Retrieval-Modification%20Interactions"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Avoiding Retrieval-Modification Interactions</span>

   The problem of an ongoing traversal or retrieval operation on an SNMP
   table being affected by a concurrent modification operation on that
   table is not unique to this MIB module.  However, it is useful to
   note that a cautious application can keep track of the state of the
   modifiable tables in this MIB module using the objects
   mplsFTNTableLastChanged and mplsFTNMapTableLastChanged.

   For instance, before performing a traversal of mplsFTNMapTable, the
   application should retrieve the value of mplsFTNMapTableLastChanged.
   Each subsequent GETNEXT operation on the table should include this
   object as well.  For example, GETNEXT(mplsFTNMapTableLastChanged.0,
   mplsFTNMapRowStatus.ifIndex.n.0) can be used to:

   -  Determine the FTN entry after the one indexed by n (in linked-list
      order) mapped to the interface with index ifIndex, as explained in
      <a href="#section-5.2.2">Section 5.2.2</a>;

   - Verify that the value of mplsFTNMapTable has not been modified
      during the retrieval process by comparing the value of
      mplsFTNMapTableLastChanged retrieved by this operation with the
      value retrieved before the traversal was begun.

   Using this technique, an application can ensure the validity of the
   retrieved information with minimal overhead.  This is particularly
   important while retrieving information from frequently modified
   tables.








<span class="grey">Nadeau, et al.              Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Example%20Illustrating%20MIB%20Module%20Components"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Example Illustrating MIB Module Components</span>

   In this section, we use an example to illustrate how the objects
   defined in MPLS-FTN-STD-MIB work together to perform FEC to NHLFE
   mapping.

   Note that for the various table entries involved in this example, we
   only show the objects that help illustrate each case.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Sample%20FTN%20Rules"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Sample FTN Rules</span>

   Suppose that we wish to activate the following two FTN rules.

      Rule #1: On interface ifIndex = 1, redirect packets with source
      IPv4 address matching 192.0.2.63 to an LSP with outgoing
      ifIndex = 50 and outgoing label = 150 where the specified LSP is
      represented by the following entries in mplsXCTable and
      mplsOutSegmentTable.

      In mplsXCTable:

      {
         mplsXCIndex = 0x02,
         mplsXCInSegmentIndex = 0x00,
         mplsXCOutSegmentIndex = 0x03,
         mplsXCLabelStackIndex = 0
      }

      The value 0x00 for mplsXCInSegmentIndex represents an originating
      LSP [<a href="rfc3813.html" title='"Multiprotocol Label Switching (MPLS) Label Switching Router (LSR) Management Information Base (MIB)"'>RFC3813</a>].

      In mplsOutSegmentTable:

      {
         mplsOutSegmentIndex = 0x03,
         mplsOutSegmentIfIndex = 50,
         mplsOutSegmentPushTopLabel = true,
         mplsOutSegmentTopLabel = 150
      }

      Rule #2: On interface ifIndex = 1, redirect packets with
      destination IPv4 addresses in the range [192.0.2.32, 192.0.2.96]
      to tunnel #4, where the specified tunnel is represented by the
      following entry in mplsTunnelTable:







<span class="grey">Nadeau, et al.              Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      {
         mplsTunnelIndex = 4,
         -- primary tunnel
         mplsTunnelInstance = 0,
         mplsTunnelIngressLSRID = 192.0.2.1,
         mplsTunnelEgressLSRID = 192.0.2.2
      }

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Creating%20FTN%20Entries%20and%20Applying%20them%20to%20Interfaces"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Creating FTN Entries and Applying them to Interfaces</span>

   The action "redirect packets with source IPv4 address matching
   192.0.2.63 to an LSP with outgoing ifIndex = 50 and outgoing label =
   150" in Rule #1 can be implemented by the following entry in
   mplsFTNTable:

      {
         mplsFTNIndex = 1,
         mplsFTNDescr = "Rule #1",
         -- source address only
         mplsFTNMask = 0x80,
         mplsFTNAddrType = ipv4,
         mplsFTNSourceAddrMin = 192.0.2.63,
         mplsFTNSourceAddrMax = 192.0.2.63,
         mplsFTNActionType = redirectLsp(1),
         mplsFTNActionPointer = mplsXCLspId.1.2.1.0.1.3
      }

   This indicates to which LSP the LSR should redirect packets by
   setting mplsFTNActionPointer to the first accessible columnar object
   instance in mplsXCEntry that corresponds of the LSP to use, in this
   case mplsXCLspId.1.2.1.0.1.3.

   This action is then activated on "interface ifIndex = 1" by the
   following entry in mplsFTNMapTable to complete the implementation of
   Rule #1:

      {
         -- apply rule to interface ifIndex = 1
         mplsFTNMapIndex = 1,
         -- first FTN entry on this interface
         mplsFTNPrevIndex = 0,
         -- index of current entry in mplsFTNTable, i.e., Rule #1
         mplsFTNMapCurrIndex = 1
      }

   The action "redirect packets with destination IPv4 addresses in the
   range [192.0.2.32, 192.0.2.96] to tunnel #4" in Rule #2 can be
   implemented by the following entry in mplsFTNTable:



<span class="grey">Nadeau, et al.              Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      {
         mplsFTNIndex = 2,
         mplsFTNDescr = "Rule #2",
         -- destination address only
         mplsFTNMask = 0x40,
         mplsFTNAddrType = ipv4,
         mplsFTNDestAddrMin = 192.0.2.32,
         mplsFTNDestAddrMax = 192.0.2.96,
         mplsFTNActionType = redirectTunnel(2),
         mplsFTNActionPointer = mplsTunnelName.4.0.3221225985.3221225986
      }

   where 3221225985 and 3221225986 are representations of the addresses
   192.0.2.1 and 192.0.2.2, respectively, as Unsigned32 (the underlying
   data type) entities.

   This rule needs to be activated on "interface ifIndex = 1" after Rule
   #1 which was previously activated on this interface.  This is done by
   the following entry in mplsFTNMapTable to complete the implementation
   of Rule #2:

      {
         -- apply rule to interface ifIndex = 1
         mplsFTNMapIndex = 1,
         -- insert after Rule #1 (mplsFTNIndex = 1)
         mplsFTNPrevIndex = 1,
         -- index of current entry in mplsFTNTable, i.e., Rule #2
         mplsFTNMapCurrIndex = 2
      }

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.3.%20%20Mapping%20an%20FTN%20Entry%20to%20Multiple%20Interfaces"></a><a class="selflink" href="#section-7.3" name="section-7.3">7.3</a>.  Mapping an FTN Entry to Multiple Interfaces</span>

   Suppose we now wish to activate the following rule:

      Rule #2b: On interface ifIndex = 2, redirect packets with
      destination IPv4 addresses in the range [192.0.2.32, 192.0.2.96]
      to tunnel #4.

   Notice that the FEC and corresponding action associated with this
   rule (i.e., "redirect packets with destination IPv4 addresses in the
   range [192.0.2.32, 192.0.2.96] to tunnel #4") are the same as that
   associated with Rule #2.  Hence, we can reuse the existing entry with
   mplsFTNIndex = 2 from mplsFTNTable.

   However, we have to create the following new entry in mplsFTNMapTable
   to activate this FTN entry as the first one on the interface with
   ifIndex = 2.




<span class="grey">Nadeau, et al.              Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   {
      -- apply rule to interface ifIndex = 2
      mplsFTNMapIndex = 2,
      -- first FTN entry on this interface
      mplsFTNPrevIndex = 0,
      -- index of current entry in mplsFTNTable
      mplsFTNMapCurrIndex = 2
   }

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.4.%20%20Inserting%20an%20Entry%20Into%20Existing%20List"></a><a class="selflink" href="#section-7.4" name="section-7.4">7.4</a>.  Inserting an Entry Into Existing List</span>

   At a later point, suppose that we wish to introduce the following
   Rule between Rules #1 and #2.

      Rule #3: On interface ifIndex = 1, redirect all packets with
      destination IPv4 address matching the prefix 192.0.2.32/28 to
      tunnel #3, where the tunnel we wish to redirect traffic to is
      represented by the following entry in mplsTunnelTable:

      {
         mplsTunnelIndex = 3,
         -- primary tunnel
         mplsTunnelInstance = 0,
         mplsTunnelIngressLSRID = 192.0.2.3,
         mplsTunnelEgressLSRID = 192.0.2.4
      }

   Note that the ordering of the rules on a particular interface is
   critical since the range of addresses specified in Rule #3 is a
   subset of the ones specified in Rule #2.

   Without the linked-list style insertion feature supported by
   mplsFTNMapTable, we would possibly have had to reindex existing
   entries (or plan for such changes by leaving sufficient gaps between
   indexes, something that only postpones the problem).  With the
   existing tables, we solve this problem by creating the following
   entries.

   We implement the phrase "redirect all packets with destination IPv4
   address matching the prefix 1.4.0.0/16 to tunnel #3" in Rule #3 by
   creating the following entry in mplsFTNTable:










<span class="grey">Nadeau, et al.              Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      {
         mplsFTNIndex = 3,
         mplsFTNDescr = "Rule #3",
         -- destination address only
         mplsFTNMask = 0x40,
         mplsFTNAddrType = ipv4,
         -- address range equivalent to CIDR prefix 192.0.2.32/28
         mplsFTNDestAddrMin = 192.0.2.32,
         mplsFTNDestAddrMax = 192.0.2.47,
         mplsFTNActionType = redirectTunnel,
         mplsFTNActionPointer = mplsTunnelName.3.0.3221225987.3221225988
      }

   where 3221225987 and 3221225988 are representations of the addresses
   192.0.2.3 and 192.0.2.4, respectively, as Unsigned32 (the underlying
   data type) entities.

   We next insert this rule in mplsFTNMapTable just after Rule #1 as
   follows:

      {
         -- apply rule to interface ifIndex = 1
         mplsFTNMapIndex = 1,
         -- insert after Rule #1 (mplsFTNIndex = 1)
         mplsFTNPrevIndex = 1,
         -- index of current entry in mplsFTNTable i.e., Rule #3
         mplsFTNMapCurrIndex = 3
      }

   After the insertion of Rule #3 in mplsFTNMapTable, the 'previous'
   pointer object mplsFTNMapPrevIndex of the next entry (corresponding
   to Rule #2) adjusts automatically to point to this entry.

   Note that, of the existing entries in the table, the only one that is
   impacted by an insertion operation is the entry on that particular
   interface immediately after the newly inserted one, if one exists.
   None of the other entries in mplsFTNMapTable are impacted.  For
   instance, in this particular example, when the entry for Rule #3 was
   inserted between those for Rules #1 and #2, the entries for Rules #1
   and #2b were not impacted.











<span class="grey">Nadeau, et al.              Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.5.%20%20Pictorial%20Tabular%20Relationship"></a><a class="selflink" href="#section-7.5" name="section-7.5">7.5</a>.  Pictorial Tabular Relationship</span>

   At this point, the relationship between different table entries can
   be represented pictorially as follows.  For each conceptual row
   instance, we show the table that it belongs to, along with its
   indices in parentheses.  (Note that various conceptual rows are
   depicted in a way that is convenient for showing the
   interrelationships and are not necessarily in lexicographical order.)

             ifTable, The Interfaces Group MIB [<a href="rfc2863.html" title='"The Interfaces Group MIB"'>RFC2863</a>]:
          +-&gt; ifEntry (1)
          |    (ifIndex = 1)
          |
          |  mplsFTNMapTable:
          |   mplsFTNMapEntry (1.0.1): &lt;--------------------+
          +&lt;-- (mplsFTNMapIndex = 1,                        |
          |     mplsFTNMapPrevIndex = 0, ---&gt; (NULL)        |
          |     mplsFTNMapCurrIndex = 1) ------------+      |
          |                                          |      |
          |   mplsFTNMapEntry (1.1.3): &lt;------------------+ |
          +&lt;-- (mplsFTNMapIndex = 1,                 |    | |
          |     mplsFTNMapPrevIndex = 1, -----------&gt;+    | |
          |     mplsFTNMapCurrIndex = 3) ---------+  |    | |
          |                                       |  |    | |
          |   mplsFTNMapEntry (1.3.2): &lt;----------------+ | |
          +&lt;-- (mplsFTNMapIndex = 1,              |  |  | | |
                mplsFTNMapPrevIndex = 3, --------&gt;+  |  | | |
                mplsFTNMapCurrIndex = 2) ----+    |  |  | | |
                                             |    |  |  | | |
             mplsFTNTable:                   |    |  |  | | |
              mplsFTNEntry (2):              |    |  |  | | |
          +--&gt; (mplsFTNIndex = 2) &lt;----------+    |  |  | | |
          |                                       |  |  | | |
          |   mplsFTNEntry (3):                   |  |  | | |
          |    (mplsFTNIndex = 3) &lt;---------------+  |  | | |
          |                                          |  | | |
          |   mplsFTNEntry (1):                      |  | | |
          |    (mplsFTNIndex = 1) &lt;------------------+  | | |
          |                                             | | |
          |  mplsFTNPerfTable:                          | | |
          |   mplsFTNPerfEntry (1.2):                   | | |
          |    (mplsFTNPerfIndex = 1,                   | | |
          |     mplsFTNPerfCurrIndex = 2) --------------+ | |
          |                                               | |
          |   mplsFTNPerfEntry (1.3):                     | |
          |    (mplsFTNPerfIndex = 1,                     | |
          |      mplsFTNPerfCurrIndex = 3) ---------------+ |
          |                                                 |



<span class="grey">Nadeau, et al.              Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


          |   mplsFTNPerfEntry (1.1):                       |
          |    (mplsFTNPerfIndex = 1,                       |
          |     mplsFTNPerfCurrIndex = 1) ------------------+
          |
          |   mplsFTNPerfEntry (2.2):
          |    (mplsFTNPerfIndex = 2,
          |     mplsFTNPerfCurrIndex = 2) ------------------+
          |                                                 |
          |  ifTable, The Interfaces Group MIB [<a href="rfc2863.html" title='"The Interfaces Group MIB"'>RFC2863</a>]:   |
        +---&gt; ifEntry (2):                                  |
        | |    (ifIndex = 2)                                |
        | |                                                 |
        | |   mplsFTNMapEntry (2.1.2): &lt;--------------------+
        +----- (mplsFTNMapIndex = 2
          |     mplsFTNMapPrevIndex = 0 ---&gt; (NULL)
          +---- mplsFTNMapCurrIndex = 2)

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.6.%20%20Deleting%20an%20Entry"></a><a class="selflink" href="#section-7.6" name="section-7.6">7.6</a>.  Deleting an Entry</span>

   Let us next look at how we can remove the recently applied Rule #3
   and how the existing conceptual rows behave in this situation.

   The conceptual row corresponding to the application of Rule #3 to
   interface ifIndex = 1 has the following index values: mplsFTNMapIndex
   = 1, mplsFTNMapPrevIndex = 1, and mplsFTNMapCurrIndex = 3.  To delete
   this conceptual row, the Network Management Application performs a
   SET operation setting the object instance mplsFTNMapRowStatus.1.1.3
   to the value destroy(6).  The agent then destroys this conceptual
   row.  It also automatically adjusts the object instance of
   mplsFTNMapPrevIndex corresponding to Rule #2 from the value 3 (i.e.,
   pointing to the recently destroyed Rule #3) to the value 1 (i.e., to
   Rule #1).

   At this point, the rules applied to interface ifIndex = 1 are Rule #1
   and Rule #2, in that order.  The relationship between different table
   entries can be represented pictorially as follows.















<span class="grey">Nadeau, et al.              Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


             ifTable, The Interfaces Group MIB [<a href="rfc2863.html" title='"The Interfaces Group MIB"'>RFC2863</a>]:
          +-&gt; ifEntry (1)
          |    (ifIndex = 1)
          |
          |  mplsFTNMapTable:
          |   mplsFTNMapEntry (1.0.1): &lt;--------------------+
          +&lt;-- (mplsFTNMapIndex = 1,                        |
          |     mplsFTNMapPrevIndex = 0, ---&gt; (NULL)        |
          |     mplsFTNMapCurrIndex = 1) ------------+      |
          |                                          |      |
          |   mplsFTNMapEntry (1.1.2): &lt;----------------+   |
          +&lt;-- (mplsFTNMapIndex = 1,                 |  |   |
                mplsFTNMapPrevIndex = 1, ------------+  |   |
                mplsFTNMapCurrIndex = 2) ----+       |  |   |
                                             |       |  |   |
             mplsFTNTable:                   |       |  |   |
              mplsFTNEntry (2):              |       |  |   |
          +--&gt; (mplsFTNIndex = 2) &lt;----------+       |  |   |
          |                                          |  |   |
          |   mplsFTNEntry (3):                      |  |   |
          |    (mplsFTNIndex = 3)                    |  |   |
          |                                          |  |   |
          |   mplsFTNEntry (1):                      |  |   |
          |    (mplsFTNIndex = 1) &lt;------------------+  |   |
          |                                             |   |
          |  mplsFTNPerfTable:                          |   |
          |   mplsFTNPerfEntry (1.2):                   |   |
          |    (mplsFTNPerfIndex = 1,                   |   |
          |     mplsFTNPerfCurrIndex = 2) --------------+   |
          |                                                 |
          |   mplsFTNPerfEntry (1.1):                       |
          |    (mplsFTNPerfIndex = 1,                       |
          |     mplsFTNPerfCurrIndex = 1) ------------------+
          |
          |   mplsFTNPerfEntry (2.2):
          |    (mplsFTNPerfIndex = 2,
          |     mplsFTNPerfCurrIndex = 2) ------------------+
          |                                                 |
          |  ifTable, The Interfaces Group MIB [<a href="rfc2863.html" title='"The Interfaces Group MIB"'>RFC2863</a>]:   |
        +---&gt; ifEntry (2):                                  |
        | |    (ifIndex = 2)                                |
        | |                                                 |
        | |   mplsFTNMapEntry (2.1.2): &lt;--------------------+
        +----- (mplsFTNMapIndex = 2
          |     mplsFTNMapPrevIndex = 0 ---&gt; (NULL)
          +---- mplsFTNMapCurrIndex = 2)





<span class="grey">Nadeau, et al.              Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   Note that the FTN entry for Rule #3 still exists in mplsFTNTable at
   this point but is not referenced by any conceptual row in
   mplsFTNMapTable or mplsFTNPerfTable.

   Also note that the deletion of an entry from mplsFTNMapTable only
   impacts the entry on that particular interface immediately after the
   deleted entry, if one exists.  None of the other conceptual rows in
   mplsFTNMapTable are impacted.  For instance, in this particular
   example, when the entry for Rule #3 was deleted, the entries for
   Rules #1 and #2b were not impacted.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20The%20Use%20of%20RowPointer"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  The Use of RowPointer</span>

   RowPointer is a textual convention used to identify a conceptual row
   in a conceptual table in a MIB by pointing to the first accessible
   object.  In this MIB module, in mplsFTNTable, the RowPointer object
   mplsFTNActionPointer indicates the LSP or TE Tunnel to redirect
   packets matching an FTN entry to.  This object MUST point to the
   first instance of the first accessible columnar object in the
   appropriate conceptual row in order to allow the manager to find the
   appropriate corresponding entry in either MPLS-LSR-STD-MIB [<a href="rfc3813.html" title='"Multiprotocol Label Switching (MPLS) Label Switching Router (LSR) Management Information Base (MIB)"'>RFC3813</a>]
   or MPLS-TE-STD-MIB [<a href="rfc3812.html" title='"Multiprotocol Label Switching (MPLS) Traffic Engineering (TE) Management Information Base (MIB)"'>RFC3812</a>].  If this object returns zeroDotZerok,
   it implies that there is no currently defined action that is
   associated with that particular FTN entry.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20MPLS-FTN-STD-MIB%20Definitions"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  MPLS-FTN-STD-MIB Definitions</span>

   MPLS-FTN-STD-MIB DEFINITIONS ::= BEGIN

   IMPORTS
      MODULE-IDENTITY, OBJECT-TYPE, Unsigned32, Counter64, Integer32
          FROM SNMPv2-SMI                                   -- [<a href="rfc2578.html" title='"Structure of Management Information Version 2 (SMIv2)"'>RFC2578</a>]
      RowStatus, StorageType, RowPointer,
      TEXTUAL-CONVENTION, TimeStamp
          FROM SNMPv2-TC                                    -- [<a href="rfc2579.html" title='"Textual Conventions for SMIv2"'>RFC2579</a>]
      MODULE-COMPLIANCE, OBJECT-GROUP
          FROM SNMPv2-CONF                                  -- [<a href="rfc2580.html" title='"Conformance Statements for SMIv2"'>RFC2580</a>]
      InterfaceIndexOrZero,
      ifGeneralInformationGroup, ifCounterDiscontinuityGroup
          FROM IF-MIB                                       -- [<a href="rfc2863.html" title='"The Interfaces Group MIB"'>RFC2863</a>]
      SnmpAdminString
          FROM SNMP-FRAMEWORK-MIB                           -- [<a href="rfc3411.html" title='"An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks"'>RFC3411</a>]
      Dscp
          FROM DIFFSERV-DSCP-TC                             -- [<a href="rfc3289.html" title='"Management Information Base for the Differentiated Services Architecture"'>RFC3289</a>]
      InetAddressType, InetAddress, InetPortNumber
          FROM INET-ADDRESS-MIB                             -- [<a href="rfc3291.html" title='"Textual Conventions for Internet Network Addresses"'>RFC3291</a>]
      mplsStdMIB
          FROM MPLS-TC-STD-MIB                              -- [<a href="rfc3811.html" title='"Definition of Textual Conventions (TCs) for Multi-Protocol Label Switching (MPLS) Management"'>RFC3811</a>]



<span class="grey">Nadeau, et al.              Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      ;

   mplsFTNStdMIB MODULE-IDENTITY
      LAST-UPDATED "200406030000Z"  -- June 6, 2004
      ORGANIZATION "Multiprotocol Label Switching (MPLS) Working Group"
      CONTACT-INFO
          "
                   Thomas D. Nadeau
           Postal: Cisco Systems, Inc.
                   250 Apollo Drive
                   Chelmsford, MA 01824
           Tel:    +1-978-244-3051
           Email:  tnadeau@cisco.com

                   Cheenu Srinivasan
           Postal: Bloomberg L.P.
                   499 Park Avenue
                   New York, NY 10022
           Tel:    +1-212-893-3682
           Email:  cheenu@bloomberg.net

                   Arun Viswanathan
           Postal: Force10 Networks, Inc.
                   1440 McCarthy Blvd
                   Milpitas, CA 95035
           Tel:    +1-408-571-3516
           Email:  arunv@force10networks.com

           IETF MPLS Working Group email: mpls@uu.net"

      DESCRIPTION
           "Copyright (C) The Internet Society (2004). The
           initial version of this MIB module was published
           in <a href="rfc3814.html">RFC 3814</a>. For full legal notices see the RFC
           itself or see:
           <a href="http://www.ietf.org/copyrights/ianamib.html">http://www.ietf.org/copyrights/ianamib.html</a>

           This MIB module contains managed object definitions for
           specifying FEC to NHLFE (FTN) mappings and corresponding
           performance for MPLS."

      -- Revision history.

      REVISION
          "200406030000Z"  -- June 3, 2004

      DESCRIPTION
          "Initial version issued as part of <a href="rfc3814.html">RFC 3814</a>."



<span class="grey">Nadeau, et al.              Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


       ::= { mplsStdMIB 8 }

   -- TEXTUAL-CONVENTIONs used in this MIB.
   MplsFTNEntryIndex ::= TEXTUAL-CONVENTION
      STATUS              current
      DESCRIPTION
          "Index for an entry in mplsFTNTable."
      SYNTAX              Unsigned32 (1..4294967295)

   MplsFTNEntryIndexOrZero ::= TEXTUAL-CONVENTION
      STATUS              current
      DESCRIPTION
          "Index for an entry in mplsFTNTable or the special value
           zero. The value zero is object-specific and must
           therefore be defined as part of the description of any
           object which uses this syntax.  Examples of the usage
           of zero might include situations when none or all
           entries in mplsFTNTable need to be referenced."
      SYNTAX              Unsigned32 (0..4294967295)

   -- Top-Level Components of this MIB.

   mplsFTNNotifications OBJECT IDENTIFIER ::= { mplsFTNStdMIB 0 }
   mplsFTNObjects       OBJECT IDENTIFIER ::= { mplsFTNStdMIB 1 }
   mplsFTNConformance   OBJECT IDENTIFIER ::= { mplsFTNStdMIB 2 }

   -- Next free index in mplsFTNTable.
   mplsFTNIndexNext OBJECT-TYPE
      SYNTAX              MplsFTNEntryIndexOrZero
      MAX-ACCESS          read-only
      STATUS              current
      DESCRIPTION
          "This object contains the next available valid value to
           be used for mplsFTNIndex when creating entries in the
           mplsFTNTable.

           When creating a new conceptual row (configuration
           entry) in mplsFTNTable with an SNMP SET operation the
           command generator (Network Management Application) must
           first issue a management protocol retrieval operation
           to obtain the current value of this object.

           If the command responder (agent) does not wish to allow
           creation of more entries in mplsFTNTable, possibly
           because of resource exhaustion, this object MUST return
           a value of 0.

           If a non-zero value is returned the Network Management



<span class="grey">Nadeau, et al.              Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


           Application must determine whether the value is indeed
           still unused since two Network Management Applications
           may attempt to create a row simultaneously and use the
           same value.

           If it is currently unused and the SET succeeds, the
           agent MUST change the value of this object to a
           currently unused non-zero value (according to an
           implementation specific algorithm) or zero (if no
           further row creation will be permitted).

           If the value is in use, however, the SET fails and the
           Network Management Application must then reread this
           object to obtain a new usable value."
      ::= { mplsFTNObjects 1 }

   -- Last time an object in mplsFTNTable changed.
   mplsFTNTableLastChanged OBJECT-TYPE
      SYNTAX              TimeStamp
      MAX-ACCESS          read-only
      STATUS              current
      DESCRIPTION
          "Indicates the last time an entry was added, deleted or
           modified in mplsFTNTable.  Management stations should
           consult this object to determine if mplsFTNTable
           requires their attention.  This object is particularly
           useful for applications performing a retrieval on
           mplsFTNTable to ensure that the table is not modified
           during the retrieval operation."
      ::=  { mplsFTNObjects 2 }

   -- Table of FTN entries.
   mplsFTNTable  OBJECT-TYPE
      SYNTAX          SEQUENCE OF MplsFTNEntry
      MAX-ACCESS      not-accessible
      STATUS          current
      DESCRIPTION
          "This table contains the currently defined FTN entries.
           This table allows FEC to NHLFE mappings to be
           specified.  Each entry in this table defines a rule to
           be applied to incoming packets (on interfaces that the
           FTN entry is activated on using mplsFTNMapTable) and an
           action to be taken on matching packets
           (mplsFTNActionPointer).

           This table supports 6-tuple matching rules based on one
           or more of source address range, destination address
           range, source port range, destination port range, IPv4



<span class="grey">Nadeau, et al.              Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


           Protocol field or IPv6 next-header field and the
           DiffServ Code Point (DSCP) to be specified.

           The action pointer points either to instance of
           mplsXCEntry in MPLS-LSR-STD-MIB when the NHLFE is a non-
           TE LSP, or to an instance of mplsTunnelEntry in the
           MPLS-TE-STD-MIB when the NHLFE is an originating TE
           tunnel."
      REFERENCE
          "J. Postel, Internet Protocol, <a href="rfc791.html">RFC 791</a>, STD 5, September
           1981

           Deering, S., and R. Hinden, Internet Protocol, Version
           6 (IPv6) Specification, <a href="rfc2460.html">RFC 2460</a>, December 1998

           Nichols, K, Blake, S., Baker, F. and D. Black,
           Definition of the Differentiated Services Field (DS
           Field) in the IPv4 and IPv6 Headers, <a href="rfc2474.html">RFC 2474</a>, December
           1998

           Srinivasan, C., A. Viswanathan, and T. Nadeau, MPLS
           Label Switch Router Management Information Base,
           <a href="rfc3813.html">RFC 3813</a>

           Srinivasan, C., A. Viswanathan, and T. Nadeau, MPLS
           Traffic Engineering Management Information Base,
           <a href="rfc3812.html">RFC 3812</a>"
      ::=  { mplsFTNObjects 3 }

   mplsFTNEntry  OBJECT-TYPE
      SYNTAX          MplsFTNEntry
      MAX-ACCESS      not-accessible
      STATUS          current
      DESCRIPTION
          "Each entry represents one FTN entry which defines a
           rule to compare incoming packets with and an action to
           be taken on matching packets."
      INDEX { mplsFTNIndex }
      ::=  { mplsFTNTable 1 }

   MplsFTNEntry  ::=  SEQUENCE {
         mplsFTNIndex               MplsFTNEntryIndex,
         mplsFTNRowStatus           RowStatus,
         mplsFTNDescr               SnmpAdminString,
         mplsFTNMask                BITS,
         mplsFTNAddrType            InetAddressType,
         mplsFTNSourceAddrMin       InetAddress,
         mplsFTNSourceAddrMax       InetAddress,



<span class="grey">Nadeau, et al.              Standards Track                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


         mplsFTNDestAddrMin         InetAddress,
         mplsFTNDestAddrMax         InetAddress,
         mplsFTNSourcePortMin       InetPortNumber,
         mplsFTNSourcePortMax       InetPortNumber,
         mplsFTNDestPortMin         InetPortNumber,
         mplsFTNDestPortMax         InetPortNumber,
         mplsFTNProtocol            Integer32,
         mplsFTNDscp                Dscp,
         mplsFTNActionType          INTEGER,
         mplsFTNActionPointer       RowPointer,
         mplsFTNStorageType         StorageType
      }

   mplsFTNIndex   OBJECT-TYPE
      SYNTAX              MplsFTNEntryIndex
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "This is the unique index for a conceptual row in
           mplsFTNTable.

           To create a new conceptual row in mplsFTNTable a
           Network Management Application SHOULD retrieve the
           current value of mplsFTNIndexNext to determine the next
           valid available value of mplsFTNIndex."
      ::= { mplsFTNEntry 1 }

   mplsFTNRowStatus OBJECT-TYPE
      SYNTAX              RowStatus
      MAX-ACCESS          read-create
      STATUS              current
      DESCRIPTION
          "Used for controlling the creation and deletion of this
           row. All writeable objects in this row may be modified
           at any time. If a Network Management Application
           attempts to delete a conceptual row by setting this
           object to 'destroy' and there are one or more entries
           in mplsFTNMapTable pointing to the row (i.e., when
           mplsFTNIndex of the conceptual row being deleted is
           equal to mplsFTNMapCurrIndex for one or more entries in
           mplsFTNMapTable), the agent MUST also destroy the
           corresponding entries in mplsFTNMapTable."
      ::= { mplsFTNEntry 2 }

   mplsFTNDescr   OBJECT-TYPE
      SYNTAX              SnmpAdminString
      MAX-ACCESS          read-create
      STATUS              current



<span class="grey">Nadeau, et al.              Standards Track                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      DESCRIPTION
          "The description of this FTN entry. Since the index for
           this table has no particular significance or meaning,
           this object should contain some meaningful text that an
           operator could use to further distinguish entries in
           this table."
      ::= { mplsFTNEntry 3 }

   mplsFTNMask OBJECT-TYPE
      SYNTAX             BITS {
                          sourceAddr(0),
                          destAddr(1),
                          sourcePort(2),
                          destPort(3),
                          protocol(4),
                          dscp(5)
                         }
      MAX-ACCESS          read-create
      STATUS              current
      DESCRIPTION
          "This bit map indicates which of the fields described
           next, namely source address range, destination address
           range, source port range, destination port range, IPv4
           Protocol field or IPv6 next-header field and
           Differentiated Services Code Point (DSCP) is active for
           this FTN entry. If a particular bit is set to zero then
           the corresponding field in the packet MUST be ignored
           for comparison purposes."
      ::= { mplsFTNEntry 4 }

   mplsFTNAddrType OBJECT-TYPE
      SYNTAX             InetAddressType
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "This object determines the type of address contained in
           the source and destination address objects
           (mplsFTNSourceAddrMin, mplsFTNSourceAddrMax,
           mplsFTNDestAddrMin and mplsFTNDestAddrMax) of a
           conceptual row.

           This object MUST NOT be set to unknown(0) when
           mplsFTNMask has bit positions sourceAddr(0) or
           destAddr(1) set to one.

           When both these bit positions of mplsFTNMask are set to
           zero the value of mplsFTNAddrType SHOULD be set to
           unknown(0) and the corresponding source and destination



<span class="grey">Nadeau, et al.              Standards Track                    [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


           address objects SHOULD be set to zero-length strings."
      ::= { mplsFTNEntry 5 }

   mplsFTNSourceAddrMin OBJECT-TYPE
      SYNTAX             InetAddress
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The lower end of the source address range. The type of
           this object is determined by the corresponding
           mplsFTNAddrType object."
      ::= { mplsFTNEntry 6 }

   mplsFTNSourceAddrMax OBJECT-TYPE
      SYNTAX             InetAddress
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The upper end of the source address range. The type of
           this object is determined by the corresponding
           mplsFTNAddrType object."
      ::= { mplsFTNEntry 7 }

   mplsFTNDestAddrMin OBJECT-TYPE
      SYNTAX             InetAddress
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The lower end of the destination address range. The
           type of this object is determined by the corresponding
           mplsFTNAddrType object."
      ::= { mplsFTNEntry 8 }

   mplsFTNDestAddrMax OBJECT-TYPE
      SYNTAX             InetAddress
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The higher end of the destination address range. The
           type of this object is determined by the corresponding
           mplsFTNAddrType object."
      ::= { mplsFTNEntry 9 }

   mplsFTNSourcePortMin OBJECT-TYPE
      SYNTAX             InetPortNumber
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION



<span class="grey">Nadeau, et al.              Standards Track                    [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


          "The lower end of the source port range."
      DEFVAL { 0 }
      ::= { mplsFTNEntry 10 }

   mplsFTNSourcePortMax OBJECT-TYPE
      SYNTAX             InetPortNumber
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The higher end of the source port range "
      DEFVAL { 65535 }
      ::= { mplsFTNEntry 11 }

   mplsFTNDestPortMin OBJECT-TYPE
      SYNTAX             InetPortNumber
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The lower end of the destination port range."
      DEFVAL { 0 }
      ::= { mplsFTNEntry 12 }

   mplsFTNDestPortMax OBJECT-TYPE
      SYNTAX             InetPortNumber
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The higher end of the destination port range."
      DEFVAL { 65535 }
      ::= { mplsFTNEntry 13 }

   mplsFTNProtocol OBJECT-TYPE
      SYNTAX             Integer32 (0..255)
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The IP protocol to match against the IPv4 protocol
           number or IPv6 Next-Header number in the packet. A
           value of 255 means match all.  Note that the protocol
           number of 255 is reserved by IANA, and Next-Header
           number of 0 is used in IPv6."
      DEFVAL { 255 }
      ::= { mplsFTNEntry 14 }

   mplsFTNDscp OBJECT-TYPE
      SYNTAX             Dscp
      MAX-ACCESS         read-create
      STATUS             current



<span class="grey">Nadeau, et al.              Standards Track                    [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      DESCRIPTION
          "The contents of the DSCP field."
      REFERENCE
          "Nichols, K., Blake, S., Baker, F. and D. Black,
           Definition of the Differentiated Services Field (DS
           Field) in the IPv4 and IPv6 Headers, <a href="rfc2474.html">RFC 2474</a>, December
           1998."
      ::= { mplsFTNEntry 15 }

   mplsFTNActionType OBJECT-TYPE
      SYNTAX    INTEGER {
                   redirectLsp(1),   -- redirect into LSP
                   redirectTunnel(2) -- redirect into tunnel
                }
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The type of action to be taken on packets matching this
           FTN entry."
      ::= { mplsFTNEntry 16 }

   mplsFTNActionPointer OBJECT-TYPE
      SYNTAX             RowPointer
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "If mplsFTNActionType is redirectLsp(1), then this
           object MUST contain zeroDotZero or point to a instance
           of mplsXCEntry indicating the LSP to redirect matching
           packets to.

           If mplsFTNActionType is redirectTunnel(2), then this
           object MUST contain zeroDotZero or point to a instance
           of mplsTunnelEntry indicating the MPLS TE tunnel to
           redirect matching packets to.

           If this object points to a conceptual row instance in a
           table consistent with mplsFTNActionType but this
           instance does not currently exist then no action will
           be taken on packets matching such an FTN entry till
           this instance comes into existence.

           If this object contains zeroDotZero then no action will
           be taken on packets matching such an FTN entry till it
           is populated with a valid pointer consistent with the
           value of mplsFTNActionType as explained above."
      ::= { mplsFTNEntry 17 }




<span class="grey">Nadeau, et al.              Standards Track                    [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   mplsFTNStorageType OBJECT-TYPE
      SYNTAX             StorageType
      MAX-ACCESS         read-create
      STATUS             current
      DESCRIPTION
          "The storage type for this FTN entry. Conceptual rows
           having the value 'permanent' need not allow write-
           access to any columnar objects in the row."
      DEFVAL { nonVolatile }
      ::= { mplsFTNEntry 18 }

   -- End of mplsFTNTable.

   -- Last time an object in mplsFTNMapTable changed.

   mplsFTNMapTableLastChanged OBJECT-TYPE
      SYNTAX              TimeStamp
      MAX-ACCESS          read-only
      STATUS              current
      DESCRIPTION
          "Indicates the last time an entry was added, deleted or
           modified in mplsFTNMapTable. Management stations should
           consult this object to determine if the table requires
           their attention.  This object is particularly useful
           for applications performing a retrieval on
           mplsFTNMapTable to ensure that the table is not
           modified during the retrieval operation."
      ::=  { mplsFTNObjects 4 }

   -- FTN to interface mapping table.

   mplsFTNMapTable OBJECT-TYPE
      SYNTAX              SEQUENCE OF MplsFTNMapEntry
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "This table contains objects which provide the
           capability to apply or map FTN rules as defined by
           entries in mplsFTNTable to specific interfaces in the
           system.  FTN rules are compared with incoming packets
           in the order in which they are applied on an interface.

           The indexing structure of mplsFTNMapTable is as
           follows.

           - mplsFTNMapIndex indicates the interface to which the
             rule is being applied.  A value of 0 represents the
             application of the rule to all interfaces.



<span class="grey">Nadeau, et al.              Standards Track                    [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>



           - mplsFTNMapPrevIndex specifies the rule on the
             interface prior to the one being applied.  A value of
             0 specifies that the rule is being inserted at the
             head of the list of rules currently applied to the
             interface.

           - mplsFTNMapCurrIndex is the index in mplsFTNTable
             corresponding to the rule being applied.

           This indexing structure makes the entries in the table
           behave like items in a linked-list.  The object
           mplsFTNMapPrevIndex in each conceptual row is a pointer
           to the previous entry that is applied to a particular
           interface.  This allows a new entry to be 'inserted' at
           an arbitrary position in a list of entries currently
           applied to an interface.  This object is self-
           adjusting, i.e., its value is automatically adjusted by
           the agent, if necessary, after an insertion or deletion
           operation.

           Using this linked-list structure, one can retrieve FTN
           entries in the order of application on a per-interface
           basis as follows:

           - To determine the first FTN entry on an interface
             with index ifIndex perform a GETNEXT retrieval
             operation on mplsFTNMapRowStatus.ifIndex.0.0; the
             returned object, if one exists, is (say)
             mplsFTNMapRowStatus.ifIndex.0.n (mplsFTNMapRowStatus
             is the first accessible columnar object in the
             conceptual row). Then the index of the first FTN
             entry applied on this interface is n.

           - To determine the FTN entry applied to an interface
             after the one indexed by n perform a GETNEXT
             retrieval operation on
             mplsFTNMapRowStatus.ifIndex.n.0.  If such an entry
             exists the returned object would be of the form
             mplsFTNMapRowStatus.ifIndex.n.m.  Then the index of
             the next FTN entry applied on this interface is m.

           - If the FTN entry indexed by n is the last entry
             applied to the interface with index ifIndex then the
             object returned would either be:

             1.mplsFTNMapRowStatus.ifIndexNext.0.k, where
               ifIndexNext is the index of the next interface in



<span class="grey">Nadeau, et al.              Standards Track                    [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


               ifTable to which an FTN entry has been applied, in
               which case k is the index of the first FTN entry
               applied to the interface with index ifIndexNext;

             or:

             2.mplsFTNMapStorageType.firstIfIndex.0.p, if there
               are no more entries in mplsFTNMapTable, where
               firstIfIndex is the first entry in ifTable to
               which an FTN entry has been mapped.

           Use the above steps to retrieve all the applied FTN
           entries on a per-interface basis in application order.
           Note that the number of retrieval operations is the
           same as the number of applied FTN entries (i.e., the
           minimum number of GETNEXT operations needed using any
           indexing scheme).

           Agents MUST NOT allow the same FTN entry as specified
           by mplsFTNMapCurrIndex to be applied multiple times to
           the same interface.

           Agents MUST NOT allow the creation of rows in this
           table until the corresponding rows are created in the
           mplsFTNTable.

           If a row in mplsFTNTable is destroyed, the agent MUST
           destroy the corresponding entries (i.e., ones with a
           matching value of mplsFTNCurrIndex) in this table as
           well."
      ::=  { mplsFTNObjects 5 }

   mplsFTNMapEntry OBJECT-TYPE
      SYNTAX              MplsFTNMapEntry
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "Each conceptual row represents the application of an
           FTN rule at a specific position in the list of FTN
           rules applied on an interface. "
      INDEX {
            mplsFTNMapIndex,
            mplsFTNMapPrevIndex,
            mplsFTNMapCurrIndex
      }
      ::=  { mplsFTNMapTable 1 }

   MplsFTNMapEntry  ::=  SEQUENCE {



<span class="grey">Nadeau, et al.              Standards Track                    [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


         mplsFTNMapIndex       InterfaceIndexOrZero,
         mplsFTNMapPrevIndex    MplsFTNEntryIndexOrZero,
         mplsFTNMapCurrIndex    MplsFTNEntryIndex,
         mplsFTNMapRowStatus    RowStatus,
         mplsFTNMapStorageType  StorageType
      }

   mplsFTNMapIndex OBJECT-TYPE
      SYNTAX              InterfaceIndexOrZero
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "The interface index that this FTN entry is being
           applied to. A value of zero indicates an entry that is
           applied all interfaces.

           Entries mapped to an interface by specifying its (non-
           zero) interface index in mplsFTNMapIndex are applied
           ahead of entries with mplsFTNMapIndex equal to zero."
      ::= { mplsFTNMapEntry 1 }

   mplsFTNMapPrevIndex OBJECT-TYPE
      SYNTAX              MplsFTNEntryIndexOrZero
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "The index of the previous FTN entry that was applied to
           this interface. The special value zero indicates that
           this should be the first FTN entry in the list."
      ::=  { mplsFTNMapEntry 2 }

   mplsFTNMapCurrIndex OBJECT-TYPE
      SYNTAX              MplsFTNEntryIndex
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "Index of the current FTN entry that is being applied to
           this interface."
      ::=  { mplsFTNMapEntry 3 }

   mplsFTNMapRowStatus OBJECT-TYPE
      SYNTAX              RowStatus {
                                active(1),
                                createAndGo(4),
                                destroy(6)
                             }
      MAX-ACCESS          read-create
      STATUS              current



<span class="grey">Nadeau, et al.              Standards Track                    [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      DESCRIPTION
          "Used for controlling the creation and deletion of this
           row.

           All writable objects in this row may be modified at any
           time.

           If a conceptual row in mplsFTNMapTable points to a
           conceptual row in mplsFTNTable which is subsequently
           deleted, the corresponding conceptual row in
           mplsFTNMapTable MUST also be deleted by the agent."
      ::=  { mplsFTNMapEntry 4 }

   mplsFTNMapStorageType OBJECT-TYPE
      SYNTAX              StorageType
      MAX-ACCESS          read-create
      STATUS              current
      DESCRIPTION
          "The storage type for this entry.  Conceptual rows
           having the value 'permanent' need not allow write-
           access to any columnar objects in this row."
      DEFVAL { nonVolatile }
      ::= { mplsFTNMapEntry 5 }

   -- End of mplsFTNMapTable

   -- FTN entry performance table

   mplsFTNPerfTable OBJECT-TYPE
      SYNTAX              SEQUENCE OF MplsFTNPerfEntry
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "This table contains performance statistics on FTN
           entries on a per-interface basis."
      ::= { mplsFTNObjects 6 }

   mplsFTNPerfEntry OBJECT-TYPE
      SYNTAX              MplsFTNPerfEntry
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "Each entry contains performance information for the
           specified interface and an FTN entry mapped to this
           interface."
      INDEX  { mplsFTNPerfIndex, mplsFTNPerfCurrIndex }
      ::=  { mplsFTNPerfTable 1 }




<span class="grey">Nadeau, et al.              Standards Track                    [Page 30]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   MplsFTNPerfEntry  ::=  SEQUENCE {
         mplsFTNPerfIndex                     InterfaceIndexOrZero,
         mplsFTNPerfCurrIndex                 MplsFTNEntryIndex,
         mplsFTNPerfMatchedPackets            Counter64,
         mplsFTNPerfMatchedOctets             Counter64,
         mplsFTNPerfDiscontinuityTime         TimeStamp
      }

   mplsFTNPerfIndex OBJECT-TYPE
      SYNTAX              InterfaceIndexOrZero
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "The interface index of an interface that an FTN entry
           has been applied/mapped to.  Each instance of this
           object corresponds to an instance of mplsFTNMapIndex."
      ::= { mplsFTNPerfEntry 1 }

   mplsFTNPerfCurrIndex OBJECT-TYPE
      SYNTAX              MplsFTNEntryIndex
      MAX-ACCESS          not-accessible
      STATUS              current
      DESCRIPTION
          "Index of an FTN entry that has been applied/mapped to
           the specified interface.  Each instance of this object
           corresponds to an instance of mplsFTNMapCurrIndex."
      ::=  { mplsFTNPerfEntry 2 }

   mplsFTNPerfMatchedPackets OBJECT-TYPE
      SYNTAX              Counter64
      MAX-ACCESS          read-only
      STATUS              current
      DESCRIPTION
          "Number of packets that matched the specified FTN entry
           if it is applied/mapped to the specified interface.
           Discontinuities in the value of this counter can occur
           at re-initialization of the management system, and at
           other times as indicated by the value of
           mplsFTNDiscontinuityTime."
      ::= { mplsFTNPerfEntry 3 }

   mplsFTNPerfMatchedOctets OBJECT-TYPE
      SYNTAX              Counter64
      MAX-ACCESS          read-only
      STATUS              current
      DESCRIPTION
          "Number of octets that matched the specified FTN entry
           if it is applied/mapped to the specified interface.



<span class="grey">Nadeau, et al.              Standards Track                    [Page 31]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-32" id="page-32" name="page-32"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


           Discontinuities in the value of this counter can occur
           at re-initialization of the management system, and at
           other times as indicated by the value of
           mplsFTNDiscontinuityTime."
      ::= { mplsFTNPerfEntry 4 }

   mplsFTNPerfDiscontinuityTime OBJECT-TYPE
      SYNTAX              TimeStamp
      MAX-ACCESS          read-only
      STATUS              current
      DESCRIPTION
          "The value of sysUpTime on the most recent occasion at
           which any one or more of this entry's counters suffered
           a discontinuity.  If no such discontinuities have
           occurred since the last re-initialization of the local
           management subsystem, then this object contains a zero
           value."
      ::= { mplsFTNPerfEntry 5 }

   -- End of mplsFTNPerfTable

   -- Module compliance.

   -- Top level object IDs.

   mplsFTNGroups
      OBJECT IDENTIFIER ::= { mplsFTNConformance 1 }
   mplsFTNCompliances
      OBJECT IDENTIFIER ::= { mplsFTNConformance 2 }

   -- Compliance requirement for fully compliant implementations.
   mplsFTNModuleFullCompliance MODULE-COMPLIANCE
      STATUS current
      DESCRIPTION
          "Compliance statement for agents that provide full
           support for MPLS-FTN-STD-MIB."

      MODULE IF-MIB -- The Interfaces Group MIB, <a href="rfc2863.html">RFC 2863</a>.
      MANDATORY-GROUPS {
         ifGeneralInformationGroup,
         ifCounterDiscontinuityGroup
      }

      MODULE -- This module.
      MANDATORY-GROUPS {
         mplsFTNRuleGroup,
         mplsFTNMapGroup,
         mplsFTNPerfGroup



<span class="grey">Nadeau, et al.              Standards Track                    [Page 32]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-33" id="page-33" name="page-33"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      }

      OBJECT mplsFTNAddrType
      SYNTAX InetAddressType { ipv4(1), ipv6(2) }
      DESCRIPTION
          "An implementation is only required to support IPv4
           and/or IPv6 addresses.  An implementation is only
           required to support the address types that are actually
           supported on the LSR."

      OBJECT mplsFTNSourceAddrMin
      SYNTAX       InetAddress (SIZE (4 | 20))
      DESCRIPTION
          "An implementation is only required to support IPv4
           and/or IPv6 addresses.  An implementation is only
           required to support the address types that are actually
           supported on the LSR."

      OBJECT mplsFTNSourceAddrMax
      SYNTAX       InetAddress (SIZE (4 | 20))
      DESCRIPTION
          "An implementation is only required to support IPv4
           and/or IPv6 addresses.  An implementation is only
           required to support the address types that are actually
           supported on the LSR."

      OBJECT mplsFTNDestAddrMin
      SYNTAX       InetAddress (SIZE (4 | 20))
      DESCRIPTION
          "An implementation is only required to support IPv4
           and/or IPv6 addresses.  An implementation is only
           required to support the address types that are actually
           supported on the LSR."

      OBJECT mplsFTNDestAddrMax
      SYNTAX       InetAddress (SIZE (4 | 20))
      DESCRIPTION
          "An implementation is only required to support IPv4
           and/or IPv6 addresses.  An implementation is only
           required to support the address types that are actually
           supported on the LSR."
      ::= { mplsFTNCompliances 1 }

   -- Compliance requirement for read-only implementations.
   mplsFTNModuleReadOnlyCompliance MODULE-COMPLIANCE
      STATUS current
      DESCRIPTION
          "Compliance requirement for implementations that only



<span class="grey">Nadeau, et al.              Standards Track                    [Page 33]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-34" id="page-34" name="page-34"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


           provide read-only support for MPLS-FTN-STD-MIB. Such
           devices can then be monitored but cannot be configured
           using this MIB module."

      MODULE IF-MIB -- The interfaces Group MIB, <a href="rfc2863.html">RFC 2863</a>
      MANDATORY-GROUPS {
         ifGeneralInformationGroup,
         ifCounterDiscontinuityGroup
      }

      MODULE -- This module
      MANDATORY-GROUPS {
         mplsFTNRuleGroup,
         mplsFTNMapGroup,
         mplsFTNPerfGroup
      }

      OBJECT mplsFTNIndexNext
      MIN-ACCESS   not-accessible
      DESCRIPTION
          "This object is not needed when mplsFTNTable is
           implemented as read-only."

      OBJECT mplsFTNRowStatus
      SYNTAX       RowStatus { active(1) }
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required, and active is the only
           status that needs to be supported."

      OBJECT mplsFTNDescr
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNMask
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNAddrType
      SYNTAX       InetAddressType { ipv4(1), ipv6(2) }
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required. An implementation is only
           required to support IPv4 and IPv6 addresses."

      OBJECT mplsFTNSourceAddrMin



<span class="grey">Nadeau, et al.              Standards Track                    [Page 34]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-35" id="page-35" name="page-35"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      SYNTAX       InetAddress (SIZE (4 | 20))
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required. An implementation is only
           required to support IPv4 and IPv6 addresses."

      OBJECT mplsFTNSourceAddrMax
      SYNTAX       InetAddress (SIZE (4 | 20))
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required. An implementation is only
           required to support IPv4 and IPv6 addresses."

      OBJECT mplsFTNDestAddrMin
      SYNTAX       InetAddress (SIZE (4 | 20))
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required. An implementation is only
           required to support IPv4 and IPv6 addresses."

      OBJECT mplsFTNDestAddrMax
      SYNTAX       InetAddress (SIZE (4 | 20))
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required. An implementation is only
           required to support IPv4 and IPv6 addresses."

      OBJECT mplsFTNSourcePortMin
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNSourcePortMax
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNDestPortMin
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNDestPortMax
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNProtocol



<span class="grey">Nadeau, et al.              Standards Track                    [Page 35]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-36" id="page-36" name="page-36"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNActionType
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNActionPointer
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNDscp
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNStorageType
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."

      OBJECT mplsFTNMapRowStatus
      SYNTAX       RowStatus { active(1) }
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required, and active(1) is the only
           status that needs to be supported."

      OBJECT mplsFTNMapStorageType
      MIN-ACCESS   read-only
      DESCRIPTION
          "Write access is not required."
      ::= { mplsFTNCompliances 2 }

   -- Units of conformance.
   mplsFTNRuleGroup OBJECT-GROUP
      OBJECTS {
            mplsFTNIndexNext,
            mplsFTNTableLastChanged,
            mplsFTNRowStatus,
            mplsFTNDescr,
            mplsFTNMask,
            mplsFTNAddrType,
            mplsFTNSourceAddrMin,
            mplsFTNSourceAddrMax,



<span class="grey">Nadeau, et al.              Standards Track                    [Page 36]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-37" id="page-37" name="page-37"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


            mplsFTNDestAddrMin,
            mplsFTNDestAddrMax,
            mplsFTNSourcePortMin,
            mplsFTNSourcePortMax,
            mplsFTNDestPortMin,
            mplsFTNDestPortMax,
            mplsFTNProtocol,
            mplsFTNActionType,
            mplsFTNActionPointer,
            mplsFTNDscp,
            mplsFTNStorageType
      }
      STATUS current
      DESCRIPTION
          "Collection of objects that implement MPLS FTN rules."
      ::= { mplsFTNGroups 1 }

   mplsFTNMapGroup OBJECT-GROUP
      OBJECTS {
            mplsFTNMapTableLastChanged,
            mplsFTNMapRowStatus,
            mplsFTNMapStorageType
      }
      STATUS current
      DESCRIPTION
          "Collection of objects that implement activation of MPLS
           FTN entries on interfaces."
      ::= { mplsFTNGroups 2 }

   mplsFTNPerfGroup OBJECT-GROUP
      OBJECTS {
            mplsFTNPerfMatchedPackets,
            mplsFTNPerfMatchedOctets,
            mplsFTNPerfDiscontinuityTime
      }
      STATUS current
      DESCRIPTION
          "Collection of objects providing MPLS FTN performance
           information."
      ::= { mplsFTNGroups 3 }

   END









<span class="grey">Nadeau, et al.              Standards Track                    [Page 37]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-38" id="page-38" name="page-38"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Security%20Considerations"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Security Considerations</span>

   This MIB module can be used to configure LSRs to redirect non-MPLS
   traffic into an MPLS cloud.  As such, improper manipulation of the
   objects represented in this MIB module may result in traffic being
   redirected to unintended destinations, potentially resulting in
   denial of service to end-users.

   There are a number of management objects defined in this MIB module
   with a MAX-ACCESS clause of read-write and/or read-create.  Such
   objects may be considered sensitive or vulnerable in some network
   environments.  The support for SET operations in a non-secure
   environment without proper protection can have a negative effect on
   network operations.  These are the tables and objects and their
   sensitivity/vulnerability:

   -  mplsFTNTable and mplsFTNMapTable can be used to create packet
      matching rules for classifying IPv4 or IPv6 traffic and
      redirecting matched packets into the MPLS cloud.  Modifying
      objects in these tables can result in the misdirection of traffic
      and potential denial of service to end-users.  It may also result
      in traffic which was intended to be redirected into the MPLS cloud
      being routed through the IP network instead, potentially resulting
      in degradation of service quality or outright denial of service.

   Some of the readable objects in this MIB module (i.e., objects with a
   MAX-ACCESS other than not-accessible) may be considered sensitive or
   vulnerable in some network environments.  It is thus important to
   control even GET and/or NOTIFY access to these objects and possibly
   to even encrypt the values of these objects when sending them over
   the network via SNMP.  These are the tables and objects and their
   sensitivity/vulnerability:

   -  mplsFTNPerfTable provides counters for monitoring the performance
      of packet classification rules defined in mplsFTNTable and
      mplsFTNMapTable.  Unauthorized read access to objects in these
      tables may be used to gain traffic flow information.

   SNMP versions prior to SNMPv3 did not include adequate security.
   Even if the network itself is secure (for example by using IPSec),
   even then, there is no control as to who on the secure network is
   allowed to access and GET/SET (read/change/create/delete) the objects
   in this MIB module.

   It is RECOMMENDED that implementers consider the security features as
   provided by the SNMPv3 framework (see <a href="rfc3410.html#section-8">[RFC3410], section 8</a>),
   including full support for the SNMPv3 cryptographic mechanisms (for
   authentication and privacy).



<span class="grey">Nadeau, et al.              Standards Track                    [Page 38]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-39" id="page-39" name="page-39"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   Further, deployment of SNMP versions prior to SNMPv3 is NOT
   RECOMMENDED.  Instead, it is RECOMMENDED that SNMPv3 be deployed and
   cryptographic security be enabled.  It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an
   instance of this MIB module is properly configured to give access to
   the objects to only those principals (users) that have legitimate
   rights to indeed GET or SET (change/create/delete) them.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  IANA Considerations</span>

   As described in [<a href="#ref-MPLSMGMT" title='"Multiprotocol Label Switching (MPLS) Management Overview"'>MPLSMGMT</a>] and as requested in [<a href="rfc3811.html" title='"Definition of Textual Conventions (TCs) for Multi-Protocol Label Switching (MPLS) Management"'>RFC3811</a>], MPLS
   related standards-track MIB modules should be rooted under the
   mplsStdMIB subtree.  New assignments can only be made by a standards
   action as specified in [<a href="rfc2434.html" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>RFC2434</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.1.%20%20IANA%20Considerations%20for%20MPLS-FTN-STD-MIB"></a><a class="selflink" href="#section-11.1" name="section-11.1">11.1</a>.  IANA Considerations for MPLS-FTN-STD-MIB</span>

   The IANA has assigned mplsStdMIB 8 to the MPLS-FTN-STD-MIB module
   specified in this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20References"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/12.1.%20%20Normative%20References"></a><a class="selflink" href="#section-12.1" name="section-12.1">12.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key Words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2578" name="ref-RFC2578">RFC2578</a>]  McCloghrie, K., Perkins, D., and J. Schoenwaelder,
              "Structure of Management Information Version 2 (SMIv2)",
              STD 58, <a href="rfc2578.html">RFC 2578</a>, April 1999.

   [<a id="ref-RFC2579" name="ref-RFC2579">RFC2579</a>]  McCloghrie, K., Perkins, D., and J. Schoenwaelder,
              "Textual Conventions for SMIv2", STD 58, <a href="rfc2579.html">RFC 2579</a>, April
              1999.

   [<a id="ref-RFC2580" name="ref-RFC2580">RFC2580</a>]  McCloghrie, K., Perkins, D., and J. Schoenwaelder,
              "Conformance Statements for SMIv2", STD 58, <a href="rfc2580.html">RFC 2580</a>,
              April 1999.

   [<a id="ref-RFC2863" name="ref-RFC2863">RFC2863</a>]  McCloghrie, K. and F. Kastenholz, "The Interfaces Group
              MIB", <a href="rfc2863.html">RFC 2863</a>, June 2000.

   [<a id="ref-RFC3031" name="ref-RFC3031">RFC3031</a>]  Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
              Label Switching Architecture", <a href="rfc3031.html">RFC 3031</a>, January 2001.

   [<a id="ref-RFC3289" name="ref-RFC3289">RFC3289</a>]  Baker, F., Chan, K., and A. Smith, "Management Information
              Base for the Differentiated Services Architecture", <a href="rfc3289.html">RFC</a>
              <a href="rfc3289.html">3289</a>, May 2002.



<span class="grey">Nadeau, et al.              Standards Track                    [Page 39]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-40" id="page-40" name="page-40"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   [<a id="ref-RFC3291" name="ref-RFC3291">RFC3291</a>]  Daniele, M., Haberman, B., Routhier, S., and J.
              Schoenwaelder, "Textual Conventions for Internet Network
              Addresses", <a href="rfc3291.html">RFC 3291</a>, May 2002.

   [<a id="ref-RFC3411" name="ref-RFC3411">RFC3411</a>]  Harrington, D., Presuhn, R., and B. Wijnen, "An
              Architecture for Describing Simple Network Management
              Protocol (SNMP) Management Frameworks", STD 62, <a href="rfc3411.html">RFC 3411</a>,
              December 2002.

   [<a id="ref-RFC3813" name="ref-RFC3813">RFC3813</a>]  Srinivasan, C., Viswanathan, A., and T. Nadeau,
              "Multiprotocol Label Switching (MPLS) Label Switching
              Router (LSR) Management Information Base (MIB)", <a href="rfc3813.html">RFC 3813</a>,
              June 2004.

   [<a id="ref-RFC3811" name="ref-RFC3811">RFC3811</a>]  Nadeau, T.,  and J. Cucchiara, J., Editors, "Definition of
              Textual Conventions (TCs) for Multi-Protocol Label
              Switching (MPLS) Management", <a href="rfc3811.html">RFC 3811</a>, June 2004.

   [<a id="ref-RFC3812" name="ref-RFC3812">RFC3812</a>]  Srinivasan, C., Viswanathan, A., and T. Nadeau,
              "Multiprotocol Label Switching (MPLS) Traffic Engineering
              (TE) Management Information Base (MIB)", <a href="rfc3812.html">RFC 3812</a>, June
              2004.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/12.2.%20%20Informative%20References"></a><a class="selflink" href="#section-12.2" name="section-12.2">12.2</a>.  Informative References</span>

   [<a id="ref-MPLSMGMT" name="ref-MPLSMGMT">MPLSMGMT</a>] Nadeau, T., Srinivasan, C., and A. Farrel, "Multiprotocol
              Label Switching (MPLS) Management Overview", Work in
              Progress, September 2003.

   [<a id="ref-RFC791" name="ref-RFC791">RFC791</a>]   Postel, J., "Internet Protocol", STD 5, <a href="rfc791.html">RFC 791</a>, September
              1981.

   [<a id="ref-RFC1519" name="ref-RFC1519">RFC1519</a>]  Fuller, V., Li, T., Yu, J., and K. Varadhan, "Classless
              Inter-Domain Routing (CIDR): an Address Assignment and
              Aggregation Strategy", <a href="rfc1519.html">RFC 1519</a>, September 1993.

   [<a id="ref-RFC2026" name="ref-RFC2026">RFC2026</a>]  Bradner, S., "The Internet Standards Process -- Revision
              3", <a href="https://tools.ietf.org/html/bcp9">BCP 9</a>, <a href="rfc2026.html">RFC 2026</a>, October 1996.

   [<a id="ref-RFC2434" name="ref-RFC2434">RFC2434</a>]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", <a href="https://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc2434.html">RFC 2434</a>,
              October 1998.

   [<a id="ref-RFC2460" name="ref-RFC2460">RFC2460</a>]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", <a href="rfc2460.html">RFC 2460</a>, December 1998.






<span class="grey">Nadeau, et al.              Standards Track                    [Page 40]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-41" id="page-41" name="page-41"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


   [<a id="ref-RFC2474" name="ref-RFC2474">RFC2474</a>]  Nichols, K., Blake, S., Baker, F., and D. Black,
              "Definition of the Differentiated Services Field (DS
              Field) in the IPv4 and IPv6 Headers", <a href="rfc2474.html">RFC 2474</a>, December
              1998.

   [<a id="ref-RFC3410" name="ref-RFC3410">RFC3410</a>]  Case, J., Mundy, R., Partain, D., and B. Stewart,
              "Introduction and Applicability Statements for Internet-
              Standard Management Framework", <a href="rfc3410.html">RFC 3410</a>, December 2002.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20%20Acknowledgements"></a><a class="selflink" href="#section-13" name="section-13">13</a>.  Acknowledgements</span>

   We would particularly like to thank Bert Wijnen for the substantial
   time and effort he spent in helping us improve this document.  We
   would also like to thank David Perkins, Joan Cucchiara, Mike Piecuch,
   and Adrien Grise for their insightful comments and additions to this
   document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/14.%20%20Authors%27%20Addresses"></a><a class="selflink" href="#section-14" name="section-14">14</a>.  Authors' Addresses</span>

   Thomas D. Nadeau
   Cisco Systems, Inc.
   300 Apollo Drive
   Chelmsford, MA 01824

   Phone: +1-978-244-3051
   EMail: tnadeau@cisco.com


   Cheenu Srinivasan
   Bloomberg L.P.
   499 Park Avenue
   New York, NY 10022

   Phone: +1-212-893-3682
   EMail: cheenu@bloomberg.net


   Arun Viswanathan
   Force10 Networks, Inc.
   1440 McCarthy Blvd
   Milpitas, CA 95035

   Phone: +1-408-571-3516
   EMail: arunv@force10networks.com







<span class="grey">Nadeau, et al.              Standards Track                    [Page 41]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-42" id="page-42" name="page-42"> </a>
<span class="grey"><a href="rfc3814.html">RFC 3814</a>                      MPLS FTN MIB                     June 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/15.%20%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-15" name="section-15">15</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and
   except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed
   to pertain to the implementation or use of the technology
   described in this document or the extent to which any license
   under such rights might or might not be available; nor does it
   represent that it has made any independent effort to identify any
   such rights.  Information on the procedures with respect to
   rights in RFC documents can be found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use
   of such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository
   at <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention
   any copyrights, patents or patent applications, or other
   proprietary rights that may cover technology that may be required
   to implement this standard.  Please address the information to the
   IETF at ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.









Nadeau, et al.              Standards Track                    [Page 42]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc3814 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:44 GMT --></html>