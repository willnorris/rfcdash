<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4085 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:43 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:4085" name="DC.Identifier"/>
<meta content="This document discourages the practice of embedding references to
unique, globally-routable IP addresses in Internet hosts, describes
some of the resulting problems, and considers selected alternatives.
This document is intended to clarify best current practices in this
regard. This document specifies an Internet Best Current Practices for
the Internet Community, and requests discussion and suggestions for
improvements." name="DC.Description.Abstract"/>
<meta content="David Plonka &lt;plonka@doit.wisc.edu&gt;" name="DC.Creator"/>
<meta content="June, 2005" name="DC.Date.Issued"/>
<meta content="Embedding Globally-Routable Internet Addresses Considered Harmful" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4085 - Embedding Globally-Routable Internet Addresses Considered Harmful</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgmagenta" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc4085.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc4085" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-grow-embed-addr" title="draft-ietf-grow-embed-addr">draft-ietf-grow...</a>] [<a href="https://datatracker.ietf.org/doc/rfc4085" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4085" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc4085" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                   BEST CURRENT PRACTICE</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Global Routing Operations                                      D. Plonka
Network Working Group                            University of Wisconsin
Request for Comments: 4085                                     June 2005
BCP: 105
Category: Best Current Practice


   <span class="h1">Embedding Globally-Routable Internet Addresses Considered Harmful</span>

Status of This Memo

   This document specifies an Internet Best Current Practices for the
   Internet Community, and requests discussion and suggestions for
   improvements.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   This document discourages the practice of embedding references to
   unique, globally-routable IP addresses in Internet hosts, describes
   some of the resulting problems, and considers selected alternatives.
   This document is intended to clarify best current practices in this
   regard.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Problems ........................................................<a href="#page-2">2</a>
   <a href="#section-3">3</a>. Recommendations .................................................<a href="#page-4">4</a>
      <a href="#section-3.1">3.1</a>. Disable Unused Features ....................................<a href="#page-4">4</a>
      <a href="#section-3.2">3.2</a>. Provide User Interface for IP Features .....................<a href="#page-4">4</a>
      <a href="#section-3.3">3.3</a>. Use Domain Names as Service Identifiers ....................<a href="#page-4">4</a>
      <a href="#section-3.4">3.4</a>. Use Special-Purpose, Reserved IP Addresses When Available ..5
      <a href="#section-3.5">3.5</a>. Discover and Utilize Local Services ........................<a href="#page-6">6</a>
      <a href="#section-3.6">3.6</a>. Avoid Mentioning the IP Addresses of Services ..............<a href="#page-6">6</a>
   <a href="#section-4">4</a>. Security Considerations .........................................<a href="#page-6">6</a>
   <a href="#section-5">5</a>. Conclusion ......................................................<a href="#page-7">7</a>
   <a href="#section-6">6</a>. Acknowledgements ................................................<a href="#page-7">7</a>
   <a href="#section-7">7</a>. References ......................................................<a href="#page-7">7</a>
   <a href="#appendix-A">Appendix A</a>.  Background ............................................<a href="#page-9">9</a>








<span class="grey">Plonka                   Best Current Practice                  [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Some vendors of consumer electronics and network gear have
   unfortunately chosen to embed, or "hard-code", globally-routable
   Internet Protocol addresses within their products' firmware.  These
   embedded IP addresses are typically individual server IP addresses or
   IP subnet prefixes.  Thus, they are sometimes used as service
   identifiers, to which unsolicted requests are directed, or as subnet
   identifiers, specifying sets of Internet addresses that the given
   product somehow treats specially.

   One recent example was the embedding of the globally-routable IP
   address of a Network Time Protocol server in the firmware of hundreds
   of thousands of Internet hosts that are now in operation worldwide.
   The hosts are primarily, but are not necessarily, limited to low-cost
   routers and middleboxes for personal or residential use.  In another
   case, IP address prefixes that had once been reserved by the Internet
   Assigned Numbers Authority (IANA) were embedded in a router product
   so that it can automatically discard packets that appear to have
   invalid source IP addresses.

   Such "hard-coding" of globally-routable IP addresses as identifiers
   within the host's firmware presents significant problems to the
   operation of the Internet and to the management of its address space.

   Ostensibly, this practice arose as an attempt to simplify IP host
   configuration by pre-loading hosts with IP addresses.  Products that
   rely on such embedded IP addresses initially may appear to be
   convenient to the product's designer and to its operator or user, but
   this dubious benefit comes at the expense of others in the Internet
   community.

   This document denounces the practice of embedding references to
   unique, globally-routable IP addresses in Internet hosts, describes
   some of the resulting problems, and considers selected alternatives.
   It also reminds the Internet community of the ephemeral nature of
   unique, globally-routable IP addresses; the assignment and use of IP
   addresses as identifiers is temporary and therefore should not be
   used in fixed configurations.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Problems"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Problems</span>

   The embedding of IP addresses in products has caused an increasing
   number of Internet hosts to rely on a single central Internet
   service.  This can result in a service outage when the aggregate
   workload overwhelms that service.  When fixed addresses are embedded





<span class="grey">Plonka                   Best Current Practice                  [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


   in an ever-increasing number of client IP hosts, this practice runs
   directly counter to the design intent of hierarchically deployed
   services that would otherwise be robust solutions.

   The reliability, scalability, and performance of many Internet
   services require that the pool of users not access a service using
   its IP address directly.  Instead, they typically rely on a level of
   indirection provided by the Domain Name System, <a href="rfc2219.html">RFC 2219</a> [<a href="#ref-6" title='"Use of DNS Aliases for Network Services"'>6</a>].  When
   appropriately utilized, the DNS permits the service operator to
   reconfigure the resources for maintenance and to perform load
   balancing, without the participation of the users and without a
   requirement for configuration changes in the client hosts.  For
   instance, one common load-balancing technique employs multiple DNS
   records with the same name; the set of answers that is returned is
   rotated in a round-robin fashion in successive queries.  Upon
   receiving such a response to a query, resolvers typically will try
   the answers in order, until one succeeds, thus enabling the operator
   to distribute the user request load across a set of servers with
   discrete IP addresses that generally remain unknown to the user.

   Embedding globally-unique IP addresses taints the IP address blocks
   in which they reside, lessening the usefulness and mobility of those
   IP address blocks and increasing the cost of operation.  Unsolicited
   traffic may continue to be delivered to the embedded address well
   after the IP address or block has been reassigned and no longer hosts
   the service for which that traffic was intended.  Circa 1997, the
   authors of <a href="rfc2101.html">RFC 2101</a> [<a href="#ref-7" title='"IPv4 Address Behaviour Today"'>7</a>] made this observation:

      Due to dynamic address allocation and increasingly frequent
      network renumbering, temporal uniqueness of IPv4 addresses is no
      longer globally guaranteed, which puts their use as identifiers
      into severe question.

   When IP addresses are embedded in the configuration of many Internet
   hosts, the IP address blocks become encumbered by their historical
   use.  This may interfere with the ability of the Internet Assigned
   Numbers Authority (IANA) and the Internet Registry (IR) hierarchy to
   usefully reallocate IP address blocks.  Likewise, to facilitate IP
   address reuse, <a href="rfc2050.html">RFC 2050</a> [<a href="#ref-1" title='"Internet Registry IP Allocation Guidelines"'>1</a>], encourages Internet Service Providers
   (ISPs) to treat address assignments as "loans".

   Because consumers are not necessarily experienced in the operation of
   Internet hosts, they cannot be relied upon to fix problems, if and
   when they arise.  Therefore, a significant responsibility lies with
   the manufacturer or vendor of an Internet host to avoid embedding IP
   addresses in ways that cause the aforementioned problems.





<span class="grey">Plonka                   Best Current Practice                  [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Recommendations"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Recommendations</span>

   Internet host and router designers, including network product
   manufacturers, should not assume that their products will be deployed
   and used in only the single global Internet that they happen to
   observe today.  A myriad of private or future internetworks in which
   these products will be used may not allow those hosts to establish
   communications with arbitrary hosts on the global Internet.  Since
   the product failure modes resulting from an unknown future
   internetwork environment cannot be fully explored, one should avoid
   assumptions regarding the longevity of our current Internet.

   The following recommendations are presented as best practice today.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Disable%20Unused%20Features"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Disable Unused Features</span>

   Vendors should, by default, disable unnecessary features in their
   products.  This is especially true of features that generate
   unsolicited Internet traffic.  In this way, these hosts will be
   conservative regarding the unsolicited Internet traffic they produce.
   For instance, one of the most common uses of embedded IP addresses
   has been the hard-coding of addresses of well known public Simple
   Network Time Protocol (SNTP <a href="rfc2030.html">RFC 2030</a> [<a href="#ref-8" title='"Simple Network Time Protocol (SNTP) Version 4 for IPv4, IPv6 and OSI"'>8</a>]) servers in products.
   However, only a small fraction of users will benefit from these
   products having some notion of the current date and time.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Provide%20User%20Interface%20for%20IP%20Features"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Provide User Interface for IP Features</span>

   Vendors should provide an operator interface for every feature that
   generates unsolicited Internet traffic.  A prime example is this:
   the Domain Name System resolver should have an interface enabling the
   operator to either explicitly set the choice of servers or enable a
   standard automated configuration protocol such as DHCP, defined by
   <a href="rfc2132.html">RFC 2132</a> [<a href="#ref-9" title='"DHCP Options and BOOTP Vendor Extensions"'>9</a>].  These features should originally be disabled within
   the operator interface, and subsequently enabling these features
   should alert the operator that the feature exists.  This will make it
   more likely that the product's owner or operator can participate in
   problem determination and mitigation when problems arise.

   <a href="rfc2606.html">RFC 2606</a> [<a href="#ref-2" title='"Reserved Top Level DNS Names"'>2</a>] defines the IANA-reserved "example.com", "example.net",
   and "example.org" domains for use in example configurations and
   documentation.  These are candidate examples to be used in user
   interface documentation.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Use%20Domain%20Names%20as%20Service%20Identifiers"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Use Domain Names as Service Identifiers</span>

   Internet hosts should use the Domain Name System to determine the IP
   addresses associated with the Internet services they require.



<span class="grey">Plonka                   Best Current Practice                  [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


   When using domain names as service identifiers in the configurations
   of deployed Internet hosts, designers and vendors are encouraged to
   introduce service names.  These names should be within a domain that
   they either control or are permitted to utilize by an agreement with
   its operator (such as for public services provided by the Internet
   community).  This is commonly done by introducing a service-specific
   prefix to the domain name.

   For instance, a vendor named "Example, Inc." with the domain
   "example.com" might configure its product to find its SNTP server by
   the name "sntp-server.config.example.com" or even by a name that is
   specific to the product and version, such as "sntp-
   server.v1.widget.config.example.com".  Here the "config.example.com"
   namespace is dedicated to that vendor's product configuration, with
   subdomains introduced as deemed necessary.  Such special-purpose
   domain names enable ongoing maintenance and reconfiguration of the
   services for their client hosts and can aid in the ongoing
   measurement of service usage throughout the product's lifetime.

   An alternative to inventing vendor-specific domain naming conventions
   for a product's service identifiers is to utilize SRV resource
   records (RRs), defined by <a href="rfc2782.html">RFC 2782</a> [<a href="#ref-10" title='"A DNS RR for specifying the location of services (DNS SRV)"'>10</a>].  SRV records are a generic
   type of RR that uses a service-specific prefix in combination with a
   base domain name.  For example, an SRV-cognizant SNTP client might
   discover Example, Inc.'s suggested NTP server by performing an SRV-
   type query to lookup for "_ntp._udp.example.com".

   However, note that simply hard-coding DNS name service identifiers
   rather than IP addresses is not a panacea.  Entries in the domain
   name space are also ephemeral and can change owners for various
   reasons, including acquisitions and litigation.  As such, developers
   and vendors should explore a product's potential failure modes
   resulting from the loss of administrative control of a given domain
   for whatever reason.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Use%20Special-Purpose%2C%20Reserved%20IP%20Addresses%20When%20Available"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Use Special-Purpose, Reserved IP Addresses When Available</span>

   Default configurations, documentation, and example configurations for
   Internet hosts should use Internet addresses that reside within
   special blocks that have been reserved for these purposes, rather
   than unique, globally-routable IP addresses.  For IPv4, <a href="rfc3330.html">RFC 3330</a> [<a href="#ref-3" title='"Special-Use IPv4 Addresses"'>3</a>]
   states that the 192.0.2.0/24 block has been assigned for use in
   documentation and example code.  The IPv6 global unicast address
   prefix 2001:DB8::/32 has been similarly reserved for documentation
   purposes <a href="rfc3849.html">RFC 3849</a> [<a href="#ref-4" title='"IPv6 Address Prefix Reserved for Documentation"'>4</a>].  Private Internet Addresses, as defined by <a href="rfc1918.html">RFC</a>
   <a href="rfc1918.html">1918</a> [<a href="#ref-5" title='"Address Allocation for Private Internets"'>5</a>], should not be used for such purposes.





<span class="grey">Plonka                   Best Current Practice                  [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.5.%20%20Discover%20and%20Utilize%20Local%20Services"></a><a class="selflink" href="#section-3.5" name="section-3.5">3.5</a>.  Discover and Utilize Local Services</span>

   Service providers and enterprise network operators should advertise
   the identities of suitable local services, such as NTP.  Very often
   these services exist, but the advertisement and automated
   configuration of their use is missing.  For instance, the DHCP
   protocol, as defined by <a href="rfc2132.html">RFC 2132</a> [<a href="#ref-9" title='"DHCP Options and BOOTP Vendor Extensions"'>9</a>], enables one to configure a
   server to answer client queries for service identifiers.  When local
   services, including NTP, are available but not pervasively advertised
   using such common protocols, designers are more likely to deploy ad
   hoc initialization mechanisms that unnecessarily rely on central
   services.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.6.%20%20Avoid%20Mentioning%20the%20IP%20Addresses%20of%20Services"></a><a class="selflink" href="#section-3.6" name="section-3.6">3.6</a>.  Avoid Mentioning the IP Addresses of Services</span>

   Operators who provide public services on the global Internet, such as
   those in the NTP community, should deprecate the explicit
   advertisement of the IP addresses of public services.  These
   addresses are ephemeral.  As such, their widespread citation in
   public service indexes interferes with the ability to reconfigure the
   service when necessary to address unexpected, increased traffic and
   the aforementioned problems.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Security Considerations</span>

   Embedding or "hard-coding" IP addresses within a host's configuration
   often means that a host-based trust model is being employed, and that
   the Internet host with the given address is trusted in some way.  Due
   to the ephemeral roles of globally-routable IP addresses, the
   practice of embedding them within products' firmware or default
   configurations presents a security risk in which unknown parties may
   be trusted inadvertently.

   Internet host designers may be tempted to implement some sort of
   remote control mechanism within a product, by which its Internet host
   configuration can be changed without reliance on, interaction with,
   or even the knowledge of, its operator or user.  This raises security
   issues of its own.  If such a scheme is implemented, its presence
   should be fully disclosed to the customer, operator, and user, so
   that an informed decision can be made, perhaps in accordance with
   local security or privacy policy.  Furthermore, the significant
   possibility of malicious parties exploiting such a remote control
   mechanism may completely negate any potential benefit of the remote
   control scheme.  Therefore, remote control mechanisms should be
   disabled by default, to be subsequently enabled and disabled by the
   user.





<span class="grey">Plonka                   Best Current Practice                  [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Conclusion"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Conclusion</span>

   When large numbers of homogeneous Internet hosts are deployed, it is
   particularly important that both their designers and other members of
   the Internet community diligently assess host implementation quality
   and reconfigurability.

   Implementors of host services should avoid any kind of use of unique
   globally-routable IP addresses within a fixed configuration part of
   the service implementation.  If there is a requirement for pre-
   configured state, then care should be taken to use an appropriate
   service identifier and to use standard mechanisms for dynamically
   resolving the identifier into an IP address.  Also, any such
   identifiers should be alterable in the field through a conventional
   command and control interface for the service.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Acknowledgements"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Acknowledgements</span>

   The author thanks the following reviewers for their contributions to
   this document: Paul Barford, Geoff Huston, David Meyer, Mike
   O'Connor, Michael Patton, Tom Petch, and Pekka Savola.  Harald
   Alvestrand, Spencer Dawkins, Ted Hardie, David Kessens, and Thomas
   Narten provided valuable feedback during AD and IESG review.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]  Hubbard, K., Kosters, M., Conrad, D., Karrenberg, D., and J.
        Postel, "Internet Registry IP Allocation Guidelines", <a href="https://tools.ietf.org/html/bcp12">BCP 12</a>,
        <a href="rfc2050.html">RFC 2050</a>, November 1996.

   [<a id="ref-2" name="ref-2">2</a>]  Eastlake 3rd, D. and A. Panitz, "Reserved Top Level DNS Names",
        <a href="https://tools.ietf.org/html/bcp32">BCP 32</a>, <a href="rfc2606.html">RFC 2606</a>, June 1999.

   [<a id="ref-3" name="ref-3">3</a>]  IANA, "Special-Use IPv4 Addresses", <a href="rfc3330.html">RFC 3330</a>, September 2002.

   [<a id="ref-4" name="ref-4">4</a>]  Huston, G., Lord, A., and P. Smith, "IPv6 Address Prefix
        Reserved for Documentation", <a href="rfc3849.html">RFC 3849</a>, July 2004.

   [<a id="ref-5" name="ref-5">5</a>]  Rekhter, Y., Moskowitz, B., Karrenberg, D., de Groot, G., and E.
        Lear, "Address Allocation for Private Internets", <a href="https://tools.ietf.org/html/bcp5">BCP 5</a>, <a href="rfc1918.html">RFC</a>
        <a href="rfc1918.html">1918</a>, February 1996.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-6" name="ref-6">6</a>]  Hamilton, M. and R. Wright, "Use of DNS Aliases for Network
        Services", <a href="https://tools.ietf.org/html/bcp17">BCP 17</a>, <a href="rfc2219.html">RFC 2219</a>, October 1997.



<span class="grey">Plonka                   Best Current Practice                  [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


   [<a id="ref-7" name="ref-7">7</a>]  Carpenter, B., Crowcroft, J., and Y. Rekhter, "IPv4 Address
        Behaviour Today", <a href="rfc2101.html">RFC 2101</a>, February 1997.

   [<a id="ref-8" name="ref-8">8</a>]  Mills, D., "Simple Network Time Protocol (SNTP) Version 4 for
        IPv4, IPv6 and OSI", <a href="rfc2030.html">RFC 2030</a>, October 1996.

   [<a id="ref-9" name="ref-9">9</a>]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
        Extensions", <a href="rfc2132.html">RFC 2132</a>, March 1997.

   [<a id="ref-10" name="ref-10">10</a>] Gulbrandsen, A., Vixie, P., and L. Esibov, "A DNS RR for
        specifying the location of services (DNS SRV)", <a href="rfc2782.html">RFC 2782</a>,
        February 2000.

   [<a id="ref-11" name="ref-11">11</a>] Plonka, D., "Flawed Routers Flood University of Wisconsin
        Internet Time Server", August 2003.
        <a href="http://www.cs.wisc.edu/~plonka/netgear-sntp/">http://www.cs.wisc.edu/~plonka/netgear-sntp/</a>



































<span class="grey">Plonka                   Best Current Practice                  [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Background"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Background</span>

   In May 2003, the University of Wisconsin discovered that a network
   product vendor named NetGear had manufactured and shipped over
   700,000 routers with firmware containing a hard-coded reference to
   the IP address of one of the University's  NTP servers:
   128.105.39.11, which was also known as "ntp1.cs.wisc.edu", a public
   stratum-2 NTP server.

   Due to that embedded fixed configuration and an unrelated bug in the
   SNTP client, the affected products occasionally exhibit a failure
   mode in which each flawed router produces one query per second
   destined for the IP address 128.105.39.11, and hence produces a large
   scale flood of Internet traffic from hundreds of thousands of source
   addresses, destined for the University's network, resulting in
   significant operational problems.

   These flawed routers are widely deployed throughout the global
   Internet and are likely to remain in use for years to come.  As such,
   the University of Wisconsin, with the cooperation of NetGear, will
   build a new anycast time service that aims to mitigate the damage
   caused by the misbehavior of these flawed routers.

   A technical report regarding the details of this situation is
   available on the world wide web: Flawed Routers Flood University of
   Wisconsin Internet Time Server [<a href="#ref-11" title='"Flawed Routers Flood University of Wisconsin Internet Time Server"'>11</a>].

Author's Address

   David Plonka
   University of Wisconsin - Madison

   EMail: plonka@doit.wisc.edu
   URI:   <a href="http://net.doit.wisc.edu/~plonka/">http://net.doit.wisc.edu/~plonka/</a>

















<span class="grey">Plonka                   Best Current Practice                  [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4085.html">RFC 4085</a>       Embedding IP Addresses Considered Harmful       June 2005</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2005).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Plonka                   Best Current Practice                 [Page 10]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc4085 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:43 GMT --></html>