<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc1788 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:57 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:1788" name="DC.Identifier"/>
<meta content="This document specifies ICMP messages for learning the Fully Qualified
Domain Name associated with an IP address. This document defines an
Experimental Protocol for the Internet community. This does not
specify an Internet standard of any kind." name="DC.Description.Abstract"/>
<meta content="William Allen Simpson &lt;bill.simpson@um.cc.umich.edu&gt;" name="DC.Creator"/>
<meta content="April, 1995" name="DC.Date.Issued"/>
<meta content="ICMP Domain Name Messages" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 1788 - ICMP Domain Name Messages</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc1788.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc1788" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-simpson-icmp-domain-name" title="draft-simpson-icmp-domain-name">draft-simpson-i...</a>] [<a href="https://datatracker.ietf.org/doc/rfc1788" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc1788" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc1788" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc6918.html">6918</a>                                              HISTORIC</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                         W. Simpson
Request for Comments: 1788                                    Daydreamer
Category: Experimental                                        April 1995


                       <span class="h1">ICMP Domain Name Messages</span>

Status of this Memo

   This document defines an Experimental Protocol for the Internet
   community.  This does not specify an Internet standard of any kind.
   Discussion and suggestions for improvement are requested.
   Distribution of this memo is unlimited.

IESG Note:

   An Internet Engineering Steering Group comment from the co-Area
   Director for IPng:  Please note well that this memo is an individual
   product of the author.  It presents one view of the IN-ADDR
   mechanism, motivated by discussion in the IPNG WG of the difficulty
   of secure, dynamic update of the reverse tree.  Other IETF discussion
   and ongoing standards work on this area will be found in the IP Next
   Generation (ipngwg), DNS IXFR, Notification, and Dynamic Update
   (dnsind), DNS Security (dnssec) working groups.

Abstract

   This document specifies ICMP messages for learning the Fully
   Qualified Domain Name associated with an IP address.






















<span class="grey">Simpson                                                         [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc1788.html">RFC 1788</a>                    ICMP Domain Name                  April 1995</span>


Table of Contents

     <a href="#section-1">1</a>.     Introduction ..........................................    <a href="#page-2">2</a>
        <a href="#section-1.1">1.1</a>       Direct Query ....................................    <a href="#page-3">3</a>
        <a href="#section-1.2">1.2</a>       Multicast .......................................    <a href="#page-3">3</a>
        <a href="#section-1.3">1.3</a>       Domain Names ....................................    <a href="#page-3">3</a>
        <a href="#section-1.4">1.4</a>       Messages ........................................    <a href="#page-4">4</a>

     <a href="#section-2">2</a>.     Domain Name Request ...................................    <a href="#page-4">4</a>

     <a href="#section-3">3</a>.     Domain Name Reply .....................................    <a href="#page-5">5</a>

     SECURITY CONSIDERATIONS ......................................    <a href="#page-6">6</a>
     REFERENCES ...................................................    <a href="#page-6">6</a>
     ACKNOWLEDGEMENTS .............................................    <a href="#page-7">7</a>
     AUTHOR'S ADDRESS .............................................    <a href="#page-7">7</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The Domain Name System (DNS) is described in [<a href="rfc1034.html">RFC-1034</a>].  The IN-ADDR
   domain of the DNS is specified [<a href="rfc1035.html">RFC-1035</a>] to perform address to
   domain name resolution, and to facilitate queries to locate all
   gateways (routers) on a particular network in the Internet.

   Neither function has been remarkably successful.  The IN-ADDR domain
   is not reliably populated.

   As multiple routers were used at boundaries and within networks, the
   IN-ADDR mechanism was found to be inadequate.  The location of
   routers by hosts is now performed using "ICMP Router Discovery
   Messages" [<a href="rfc1256.html">RFC-1256</a>].

   As network numbers migrated to "classless" routing and aggregation,
   the IN-ADDR delegation granularity has fragmented, and requires
   overlapping administration.  The "reverse" IN-ADDR administration
   frequently does not follow the same delegation as the "forward"
   domain name tree.  This structure is not amenable to cooperative
   secure updating of the DNS.

   As application servers have appeared which require the Domain Name
   for user interaction and security logging, the IN-ADDR servers have
   been inundated with queries.  This produces long user visible pauses
   at the initiation of sessions.








<span class="grey">Simpson                                                         [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc1788.html">RFC 1788</a>                    ICMP Domain Name                  April 1995</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Direct%20Query"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Direct Query</span>

   This document proposes that each unicast address be queried directly
   for its corresponding Domain Name.  This has the advantages that the
   naming is under the same administration as the address assignment,
   and the queries are distributed in the same fashion as IP routing.
   In effect, the routing is used to index the database.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Multicast"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Multicast</span>

   Only a few well-known multicast addresses are populated in the IN-
   ADDR domain.  The ephemeral nature of most multicast addresses is not
   conducive to cooperative secure updating of the DNS.

   However, the technique described here is not useful for multicast
   addresses.  A query to a multicast address could result in a storm of
   replies.  Most multicast groups are not named, or the member nodes
   are not configured with the name.

   The IN-ADDR method SHOULD continue to be used for reverse lookup of
   well-known multicast addresses in the range 224.0.0.0 to
   224.0.255.255.  Other multicast addresses are an issue for futher
   study.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.3.%20%20Domain%20Names"></a><a class="selflink" href="#section-1.3" name="section-1.3">1.3</a>.  Domain Names</span>

   Each Domain Name is expressed as a sequence of labels.  Each label is
   represented as a one octet length field, followed by that number of
   octets.  Since every Domain Name ends with the null label of the
   root, a Domain Name is terminated by a length byte of zero.  The most
   significant two bits of every length octet must be '00', and the
   remaining six bits of the length field limit the label to 63 octets
   or less.

   When the most significant two bits of the length octet are '11', the
   length is interpreted as a 2 octet sequence, indicating an offset
   from the beginning of the message (Type field).  Further details are
   described in [<a href="rfc1035.html">RFC-1035</a>] "Message Compression".

   To simplify implementations, the total length of a Domain Name
   (including label octets and label length octets) is restricted to 255
   octets or less.









<span class="grey">Simpson                                                         [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc1788.html">RFC 1788</a>                    ICMP Domain Name                  April 1995</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.4.%20%20Messages"></a><a class="selflink" href="#section-1.4" name="section-1.4">1.4</a>.  Messages</span>

   The datagram format and basic facilities are already defined for ICMP
   [<a href="rfc792.html">RFC-792</a>].

   Up-to-date values of the ICMP Type field are specified in the most
   recent "Assigned Numbers" [<a href="rfc1700.html">RFC-1700</a>].  This document concerns the
   following values:

       37  Domain Name Request
       38  Domain Name Reply

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Domain%20Name%20Request"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Domain Name Request</span>

   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Identifier          |        Sequence Number        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Type             37

   Code             0

   Checksum         The ICMP Checksum.

   Identifier       If Code is zero, a value to aid in matching requests
                    and replies.  For example, it might be used like a
                    port in TCP or UDP to identify a session.  May be
                    zero.

   Sequence Number  If Code is zero, a value to aid in matching requests
                    and replies.  For example, the number might be
                    incremented on each request sent.  May be zero.

   A separate Domain Name Request is used for each IP Destination
   queried.

   An ICMP Domain Name Request received with a broadcast or multicast
   Destination MUST be silently discarded.

   On receipt of an ICMP error message, the implementations MAY attempt
   to resolve the Domain Name using the IN-ADDR method.







<span class="grey">Simpson                                                         [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc1788.html">RFC 1788</a>                    ICMP Domain Name                  April 1995</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Domain%20Name%20Reply"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Domain Name Reply</span>

   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Identifier          |        Sequence Number        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Time-To-Live                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Names ...
   +-+-+-+-+-+-+-+-


   Type             38

   Code             0

   Checksum         The ICMP Checksum.

   Identifier       Copied from the request.

   Sequence Number  Copied from the request.

   Time-To-Live     The number of seconds that the name may be cached.
                    For historic reasons, this value is a signed 2s-
                    complement number.

   Names            zero or more Fully Qualified Domain Names.  The
                    length of this field is determined from the total
                    length of the datagram.

                    When no names are known, the field is eliminated
                    (zero length), but the Reply is sent as an
                    authoritative indication that no name is known.

                    When more than one name is known, all such names
                    SHOULD be listed.

                    Any name which cannot entirely fit within the Reply
                    MTU is not sent.

   The IP Source in a Reply MUST be the same as the IP Destination of
   the corresponding Request message.

   Every host and router MUST implement an ICMP Domain Name server
   function that receives Domain Name Requests and sends corresponding
   Domain Name Replies.




<span class="grey">Simpson                                                         [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc1788.html">RFC 1788</a>                    ICMP Domain Name                  April 1995</span>


   A host SHOULD also implement an application- layer interface for
   sending a Domain Name Request and receiving a Domain Name Reply, for
   diagnostic purposes.

Security Considerations

   A primary purpose of this specification is to provide a mechanism for
   address to name resolution which is more secure than the IN-ADDR
   reverse tree.  This mechanism is amenable to use of the IP Security
   Protocols for authentication and privacy.

   Although the routing infrastructure to the Destination does not
   provide security in and of itself, it is as least as reliable as
   delivery of correspondence for the other sessions with the same peer.

   A DNS cryptographic signature, located by using the reply in the
   forward DNS direction, can be used to verify the reply itself.

References

   [<a id="ref-RFC-792" name="ref-RFC-792">RFC-792</a>]
            Postel, J., "Internet Control Message Protocol", STD 5,
            <a href="rfc792.html">RFC 792</a>, USC/Information Sciences Institute, September
            1981.

   [<a id="ref-RFC-1034" name="ref-RFC-1034">RFC-1034</a>]
            Mockapetris, P., "Domain Names - Concepts and Facilities",
            STD 13, <a href="rfc1034.html">RFC 1034</a>, USC/Information Sciences Institute,
            November 1987.

   [<a id="ref-RFC-1035" name="ref-RFC-1035">RFC-1035</a>]
            Mockapetris, P., "Domain Names - Implementation and
            Specification", STD 13, <a href="rfc1035.html">RFC 1035</a>, USC/Information
            Sciences Institute, November 1987.

   [<a id="ref-RFC-1256" name="ref-RFC-1256">RFC-1256</a>]
            Deering, S., Editor, "ICMP Router Discovery Messages",
            <a href="rfc1256.html">RFC 1256</a>, Xerox PARC, September 1991.

   [<a id="ref-RFC-1700" name="ref-RFC-1700">RFC-1700</a>]
            Reynolds, J., and J. Postel, "ASSIGNED NUMBERS", STD 2,
            <a href="rfc1700.html">RFC 1700</a>, USC/Information Sciences Institute, October 1994.









<span class="grey">Simpson                                                         [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc1788.html">RFC 1788</a>                    ICMP Domain Name                  April 1995</span>


Acknowledgements

   The DNSIND and IPng Working Groups contributed substantial amounts of
   discussion.

   Additional comments should be submitted to the
   namedroppers@internic.net mailing list.

Author's Address

   Questions about this memo can also be directed to:

      William Allen Simpson
      Daydreamer
      Computer Systems Consulting Services
      1384 Fontaine
      Madison Heights, Michigan  48071

      Bill.Simpson@um.cc.umich.edu
          bsimpson@MorningStar.com































Simpson                                                         [Page 7]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc1788 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:57 GMT --></html>