<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc5184 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:37 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:5184" name="DC.Identifier"/>
<meta content="This document proposes unified Layer 2 (L2) abstractions for Layer 3
(L3)-driven fast handovers. For efficient network communication, it is
vital for a protocol layer to know or utilize other layers'
information, such as the form of L2 triggers. However, each protocol
layer is basically designed independently. Since each protocol layer
is also implemented independently in current operating systems, it is
very hard to exchange control information between protocol layers.
This document defines nine kinds of L2 abstractions in the form of
&quot;primitives&quot; to achieve fast handovers in the network layer as a means
of solving the problem. This mechanism is called &quot;L3-driven fast
handovers&quot; because the network layer initiates L2 and L3 handovers by
using the primitives. This document is a product of the IP Mobility
Optimizations (MobOpts) Research Group. This memo defines an
Experimental Protocol for the Internet community." name="DC.Description.Abstract"/>
<meta content="Fumio Teraoka &lt;tera@ics.keio.ac.jp&gt;" name="DC.Creator"/>
<meta content="May, 2008" name="DC.Date.Issued"/>
<meta content="Unified Layer 2 (L2) Abstractions for Layer 3 (L3)-Driven Fast Handover" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 5184 - Unified Layer 2 (L2) Abstractions for Layer 3 (L3)-Driven Fast Handover</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgyellow" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5184.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5184" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-irtf-mobopts-l2-abstractions" title="draft-irtf-mobopts-l2-abstractions">draft-irtf-mobo...</a>] [<a href="https://datatracker.ietf.org/doc/rfc5184" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5184" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5184" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                            EXPERIMENTAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                         F. Teraoka
Request for Comments: 5184                                       K. Gogo
Category: Experimental                                        K. Mitsuya
                                                               R. Shibui
                                                               K. Mitani
                                                         KEIO University
                                                                May 2008


                   <span class="h1">Unified Layer 2 (L2) Abstractions</span>
                 <span class="h1">for Layer 3 (L3)-Driven Fast Handover</span>

Status of This Memo

   This memo defines an Experimental Protocol for the Internet
   community.  It does not specify an Internet standard of any kind.
   Discussion and suggestions for improvement are requested.
   Distribution of this memo is unlimited.

IESG Note

   This document is not an IETF Internet Standard.  It represents the
   consensus of the MOBOPTS Research Group of the Internet Research Task
   Force.  It may be considered for standardization by the IETF in the
   future.

Abstract

   This document proposes unified Layer 2 (L2) abstractions for Layer 3
   (L3)-driven fast handovers.  For efficient network communication, it
   is vital for a protocol layer to know or utilize other layers'
   information, such as the form of L2 triggers.  However, each protocol
   layer is basically designed independently.  Since each protocol layer
   is also implemented independently in current operating systems, it is
   very hard to exchange control information between protocol layers.
   This document defines nine kinds of L2 abstractions in the form of
   "primitives" to achieve fast handovers in the network layer as a
   means of solving the problem.  This mechanism is called "L3-driven
   fast handovers" because the network layer initiates L2 and L3
   handovers by using the primitives.  This document is a product of the
   IP Mobility Optimizations (MobOpts) Research Group.










<span class="grey">Teraoka, et al.               Experimental                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Terminology .....................................................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. Primitives for L2 Abstractions ..................................<a href="#page-4">4</a>
   <a href="#section-4">4</a>. Definitions of Primitives .......................................<a href="#page-6">6</a>
      <a href="#section-4.1">4.1</a>. L2-LinkStatus (Type 1) .....................................<a href="#page-6">6</a>
      <a href="#section-4.2">4.2</a>. L2-PoAList (Type 1) ........................................<a href="#page-6">6</a>
      <a href="#section-4.3">4.3</a>. L2-PoAFound (Type 2) .......................................<a href="#page-6">6</a>
      <a href="#section-4.4">4.4</a>. L2-PoALost (Type 2) ........................................<a href="#page-6">6</a>
      <a href="#section-4.5">4.5</a>. L2-LinkUp (Type 2) .........................................<a href="#page-7">7</a>
      <a href="#section-4.6">4.6</a>. L2-LinkDown (Type 2) .......................................<a href="#page-7">7</a>
      <a href="#section-4.7">4.7</a>. L2-LinkStatusChanged (Type 2) ..............................<a href="#page-7">7</a>
      <a href="#section-4.8">4.8</a>. L2-LinkConnect (Type 3) ....................................<a href="#page-7">7</a>
      <a href="#section-4.9">4.9</a>. L2-LinkDisconnect (Type 3) .................................<a href="#page-8">8</a>
   <a href="#section-5">5</a>. Definitions of Static Parameters ................................<a href="#page-8">8</a>
      <a href="#section-5.1">5.1</a>. Network Interface ID .......................................<a href="#page-8">8</a>
   <a href="#section-6">6</a>. Definitions of Dynamic Parameters ...............................<a href="#page-8">8</a>
      <a href="#section-6.1">6.1</a>. PoA (Point of Attachment) ..................................<a href="#page-8">8</a>
      <a href="#section-6.2">6.2</a>. Condition ..................................................<a href="#page-8">8</a>
      <a href="#section-6.3">6.3</a>. PoA List ...................................................<a href="#page-9">9</a>
      <a href="#section-6.4">6.4</a>. Enable/Disable .............................................<a href="#page-9">9</a>
      <a href="#section-6.5">6.5</a>. Ack/Error ..................................................<a href="#page-9">9</a>
   <a href="#section-7">7</a>. Architectural Considerations ....................................<a href="#page-9">9</a>
   <a href="#section-8">8</a>. Security Considerations ........................................<a href="#page-13">13</a>
   <a href="#section-9">9</a>. Acknowledgements ...............................................<a href="#page-14">14</a>
   <a href="#section-10">10</a>. References ....................................................<a href="#page-14">14</a>
      <a href="#section-10.1">10.1</a>. Normative References .....................................<a href="#page-14">14</a>
      <a href="#section-10.2">10.2</a>. Informative References ...................................<a href="#page-14">14</a>
   <a href="#appendix-A">Appendix A</a>.  Example Scenario  ....................................<a href="#page-16">16</a>
   <a href="#appendix-B">Appendix B</a>.  Example Operation for FMIPv6  ........................<a href="#page-17">17</a>
     <a href="#appendix-B.1">B.1</a>.  Example Operation-1 for FMIPv6 ............................<a href="#page-18">18</a>
     <a href="#appendix-B.2">B.2</a>.  Example Operation-2 for FMIPv6 ............................<a href="#page-20">20</a>
     <a href="#appendix-B.3">B.3</a>.  Experiment ................................................<a href="#page-21">21</a>
   <a href="#appendix-C">Appendix C</a>.  Example Mapping between L2 Primitives and
                Primitives in IEEE 802.11 and IEEE 802.16e  ..........<a href="#page-22">22</a>
   <a href="#appendix-D">Appendix D</a>.  Example Mapping of Primitives and IEEE 802.11  .......<a href="#page-24">24</a>
     <a href="#appendix-D.1">D.1</a>.  L2-LinkStatus  ............................................<a href="#page-24">24</a>
     <a href="#appendix-D.2">D.2</a>.  L2-PoAList ................................................<a href="#page-24">24</a>
     <a href="#appendix-D.3">D.3</a>.  L2-PoAFound  ..............................................<a href="#page-24">24</a>
     <a href="#appendix-D.4">D.4</a>.  L2-PoALost ................................................<a href="#page-25">25</a>
     <a href="#appendix-D.5">D.5</a>.  L2-LinkUp  ................................................<a href="#page-25">25</a>
     <a href="#appendix-D.6">D.6</a>.  L2-LinkDown  ..............................................<a href="#page-25">25</a>
     <a href="#appendix-D.7">D.7</a>.  L2-LinkStatusChanged ......................................<a href="#page-25">25</a>
     <a href="#appendix-D.8">D.8</a>.  L2-LinkConnect ............................................<a href="#page-26">26</a>
     <a href="#appendix-D.9">D.9</a>.  L2-LinkDisconnect  ........................................<a href="#page-26">26</a>
   <a href="#appendix-E">Appendix E</a>.  Implementation and Evaluation of the Proposed
                Model ................................................<a href="#page-26">26</a>



<span class="grey">Teraoka, et al.               Experimental                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Recent years have witnessed the rapid proliferation of wireless
   networks as well as mobile devices accessing them.  Unlike wired
   network environments, wireless networks are characterized by
   dynamically changing radio conditions, connectivity, and available
   bandwidth.  For efficient network communication, it is vital for a
   protocol layer to know or utilize other layers' control information.
   Mobile IPv4 [<a href="#ref-2" title='"IP Mobility Support for IPv4"'>2</a>] and Mobile IPv6 [<a href="#ref-3" title='"Mobility Support in IPv6"'>3</a>] have been standardized to support
   communication with mobile nodes.  There are several proposals for
   seamless handovers in IPv6 networks, such as Fast Handovers for
   Mobile IPv6 (FMIPv6) [<a href="#ref-4" title='"Fast Handovers for Mobile IPv6"'>4</a>] and Hierarchical Mobile IPv6 (HMIPv6) [<a href="#ref-5" title='"Hierarchical Mobile IPv6 Mobility Management (HMIPv6)"'>5</a>].
   In FMIPv6, the network layer must know in advance the indication of a
   handover from the link layer to achieve seamless handovers.  However,
   control information exchange between protocol layers is typically not
   available because each protocol layer is designed independently.

   To solve the problem, this document defines nine kinds of L2
   abstractions in the form of "primitives" to achieve fast handovers in
   the network layer.  This mechanism is called "L3-driven fast
   handovers" because the network layer initiates L2 and L3 handovers by
   using the primitives.

   IEEE 802.21 [<a href="#ref-6" title='"Draft IEEE Standard for Local and Metropolitan Area Networks: Media Independent Handover Services"'>6</a>] also defines several services that make use of L2
   information.  For the sake of ease of implementation and deployment,
   the primitives defined in this document make use of only the
   information available in the mobile node, while IEEE 802.21 [<a href="#ref-6" title='"Draft IEEE Standard for Local and Metropolitan Area Networks: Media Independent Handover Services"'>6</a>]
   introduces the information server in the network to provide the
   mobile node with network-related information, such as a global
   network map.

   This document represents the consensus of the MobOpts Research Group.
   It has been reviewed by Research Group members active in the specific
   area of work.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   This document uses the following terms:

   L3-Driven Fast Handover

      The handover mechanism that is initiated by the network layer on a
      mobile node.  Since this mechanism allows handover preparation in
      L3 before the start of an L2 handover on the mobile node, it can
      reduce packet loss during a handover.  The L3-driven fast handover
      mechanism requires L2 information as a trigger for a handover
      procedure.




<span class="grey">Teraoka, et al.               Experimental                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   PoA

      The point of attachment of a mobile node (e.g., an access point in
      IEEE 802.11 networks [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>]).

   Primitive

      A unit of information that is sent from one layer to another.
      There are four classes of primitives: Request, Confirm,
      Indication, and Response.  One or more classes of a primitive are
      exchanged, depending on the type of primitive.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="#ref-1" title='"Key words for use in RFCs to Indicate Requirement Levels"'>1</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Primitives%20for%20L2%20Abstractions"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Primitives for L2 Abstractions</span>

   Each layer offers its services in the form of primitives.  Four
   classes of primitives are defined, as shown in Figure 1.  Request is
   issued by the layer that wants to get the services or information
   from another layer, and Confirm is the acknowledgment of the request.
   Indication is the notification of the information to the layer that
   requested the service, and Response is the acknowledgment of the
   indication.  In this architecture, communication between layers is
   symmetrical.

      -------------------------   -----------------------------
                Request                       Response
                  ||      /\             /\      ||
      Layer N     ||      ||             ||      ||
      ------------||------||---   -------||------||------------
                  ||      ||             ||      ||
                  \/      ||             ||      \/
      Layer N-m        Confirm       Indication
      -------------------------   -----------------------------

      Figure 1: Interaction Model between Layers

   The primitive consists of five fields: protocol layer ID, protocol
   ID, primitive class (Request, Response, Indication, or Confirm),
   primitive name, and parameters.  The protocol layer ID specifies to
   which layer this primitive should be sent, e.g., Layer 2 or Layer 3.
   The protocol ID specifies to which protocol entity this primitive
   should be sent, e.g., IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>] or IEEE 802.3 [<a href="#ref-8" title='"802.3, 2000 EDITION ISO/IEC 8802-3:2000 (E) Information Technology - LAN/MAN - Part 3: Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications"'>8</a>].






<span class="grey">Teraoka, et al.               Experimental                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   For unified L2 abstractions for L3-driven fast handovers, three
   different usages of primitives are defined, as described below:

   Type 1.  To provide L2 information to upper layers immediately

      This type of primitive is used to provide the L2 information to
      upper layers immediately.  The Request and Confirm classes of
      primitives MUST be exchanged for the interaction.  The Request
      primitive is for an acquisition request for the L2 information.
      The Confirm primitive is for the answer.

   Type 2.  To notify upper layers of L2 events asynchronously

      This type of primitive is used to notify upper layers of L2 events
      asynchronously.  The Request, Confirm, and Indication classes of
      primitive MUST be exchanged, and the Response class MAY be
      exchanged for the interaction.  The Request and Confirm primitives
      are used just for registration.  When an event occurs, the
      Indication primitive is asynchronously delivered to the upper
      layer.

   Type 3.  To control L2 actions from upper layers

      This type of primitive is used to control L2 actions from upper
      layers.  The Request and Confirm classes of primitives MUST be
      exchanged for the interaction.  The Request primitive is a request
      for operation.  Ack or Nack returns immediately as the Confirm
      primitive.

   A protocol entity can register primitives anytime by exchanging the
   Request and Confirm messages that include the fields defined above.
   When the registered event occurs, the Indication and Response
   messages are exchanged as well.

   The way to exchange a message between protocol entities is beyond the
   scope of this document.  Any information-exchange method between
   layers, such as the work in [<a href="#ref-10" title='"An L3-Driven Fast Handover Mechanism in IPv6 Mobility"'>10</a>], can be used.

   The timing for sending an Indication primitive is also beyond the
   scope of this document.  For example, a layer 2 event is generated
   when layer 2 status has been changed, and this depends upon how
   scanning algorithms, for example, are implemented.









<span class="grey">Teraoka, et al.               Experimental                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Definitions%20of%20Primitives"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Definitions of Primitives</span>

   To obtain and exchange L2 information, the following primitives are
   defined.  <a href="#appendix-C">Appendix C</a> shows example mapping between the L2 primitives
   and the primitives in IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>] and IEEE 802.16e [<a href="#ref-9" title='"802.16e-2005 &amp; 802.16/COR1 Part 16: Amendment for Physical &amp; Medium Access Control Layers for Combined Fixed &amp; Mobile Operation"'>9</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20L2-LinkStatus%20%28Type%201%29"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  L2-LinkStatus (Type 1)</span>

   The L2-LinkStatus.request primitive is sent to the link layer when an
   upper layer requires the current information of a link.  The
   L2-LinkStatus.request primitive contains the "Network Interface ID"
   parameter (see <a href="#section-5.1">Section 5.1</a>).  In response, the L2-LinkStatus.confirm
   primitive returns.  The L2-LinkStatus.confirm primitive contains
   three parameters: "Network Interface ID", "PoA", and "Condition".
   "PoA" and "Condition" indicate the current status of the link between
   the mobile node and a PoA.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20L2-PoAList%20%28Type%201%29"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  L2-PoAList (Type 1)</span>

   The L2-PoAList.request primitive is sent to the link layer when an
   upper layer requires a list of the candidate PoAs.  The
   L2-PoAList.request primitive contains the "Network Interface ID"
   parameter.  In response, the L2-PoAList.confirm primitive returns the
   "Network Interface ID" parameter and the "PoA List" parameter.  The
   "PoA List" parameter is a list of the candidate PoAs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20L2-PoAFound%20%28Type%202%29"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  L2-PoAFound (Type 2)</span>

   The L2-PoAFound.indication primitive is asynchronously provided to an
   upper layer when new PoAs are detected.  This primitive carries the
   "Network Interface ID" parameter and the "PoA List" parameter.  The
   "PoA List" parameter contains information on new PoAs detected by the
   mobile node.  In order to use this notification, the registration
   process using the L2-PoAFound.request primitive and the
   L2-PoAFound.confirm primitive is needed in advance.  The
   L2-PoAFound.request primitive has two parameters: "Network Interface
   ID" and "Enable/Disable".  The "Enable/Disable" parameter shows
   whether this notification function is turned on.  When this
   registration succeeds, the L2-PoAFound.confirm primitive returns with
   the "Network Interface ID" parameter and the "Ack" parameter in
   response.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20L2-PoALost%20%28Type%202%29"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  L2-PoALost (Type 2)</span>

   The L2-PoALost.indication primitive is asynchronously provided to an
   upper layer when a PoA included in the list of candidate PoAs
   disappears.  This primitive carries the "Network Interface ID"
   parameter and the "PoA List" parameter.  The "PoA List" parameter



<span class="grey">Teraoka, et al.               Experimental                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   contains information on the PoAs that disappeared from the list of
   candidates.  The registration process using the L2-PoALost.request
   primitive and the L2-PoALost.confirm primitive is similar to the
   L2-PoAFound primitive described above.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5.%20%20L2-LinkUp%20%28Type%202%29"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a>.  L2-LinkUp (Type 2)</span>

   The L2-LinkUp.indication primitive is asynchronously provided to an
   upper layer when a new link is connected and IP packets can be
   transmitted through the new link.  As described in <a href="rfc4957.html">RFC 4957</a> [<a href="#ref-12" title='"Link-Layer Event Notifications for Detecting Network Attachments"'>12</a>],
   what "link is connected" means depends on link types.  For example,
   in case of the infrastructure mode in IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>] (WiFi), this
   primitive is provided when an association to an access point is
   established.  This primitive carries the "Network Interface ID"
   parameter and the "PoA" parameter.  The L2-LinkUp.request primitive
   contains the "Network Interface ID" parameter and the
   "Enable/Disable" parameter for registration.  When the registration
   succeeds, the L2-LinkUp.confirm primitive with the "Network Interface
   ID" parameter and the "Ack" parameter returns.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.6.%20%20L2-LinkDown%20%28Type%202%29"></a><a class="selflink" href="#section-4.6" name="section-4.6">4.6</a>.  L2-LinkDown (Type 2)</span>

   The L2-LinkDown.indication primitive is asynchronously provided to an
   upper layer when an existing link is disconnected and IP packets
   cannot be transmitted through the link.  The registration processing
   is the same as the L2-LinkUp primitive described above.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.7.%20%20L2-LinkStatusChanged%20%28Type%202%29"></a><a class="selflink" href="#section-4.7" name="section-4.7">4.7</a>.  L2-LinkStatusChanged (Type 2)</span>

   The L2-LinkStatusChanged.indication primitive is asynchronously
   provided to an upper layer when the status of a link has changed.
   This notification contains three parameters: "Network Interface ID",
   "PoA", and "Condition".  The "PoA" parameter indicates the attachment
   point at which the link quality changed.  In the registration
   processing, the L2-LinkStatusChanged.request primitive carries the
   "Network Interface ID" parameter, the "Enable/Disable" parameter, and
   the "Condition" parameter.  "Condition" indicates the event type and
   the threshold for the Indication.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.8.%20%20L2-LinkConnect%20%28Type%203%29"></a><a class="selflink" href="#section-4.8" name="section-4.8">4.8</a>.  L2-LinkConnect (Type 3)</span>

   The L2-LinkConnect.request primitive is sent to the link layer when
   an upper layer has to establish a new link to the specific "PoA".
   This primitive carries the "Network Interface ID" parameter and the
   "PoA" parameter.  This operation begins after the link layer returns
   the L2-LinkConnect.confirm primitive with "Ack".





<span class="grey">Teraoka, et al.               Experimental                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.9.%20%20L2-LinkDisconnect%20%28Type%203%29"></a><a class="selflink" href="#section-4.9" name="section-4.9">4.9</a>.  L2-LinkDisconnect (Type 3)</span>

   The L2-LinkDisconnect.request primitive is sent to the link layer
   when an upper layer has to tear down an existing link to the specific
   "PoA".  This primitive carries the "Network Interface ID" parameter
   and the "PoA" parameter.  This operation begins after the link layer
   returns the L2-LinkDisconnect.confirm primitive with "Ack".

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Definitions%20of%20Static%20Parameters"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Definitions of Static Parameters</span>

   This section lists static parameters.  Once the values of static
   parameters are configured, they basically remain unchanged during
   communication.  The following parameters are transferred as a part of
   primitives.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Network%20Interface%20ID"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Network Interface ID</span>

   The "Network Interface ID" parameter uniquely identifies the network
   interface in the node.  The syntax of the identifier is
   implementation-specific (e.g., name, index, or unique address
   assigned to each interface).  This parameter also contains the
   network interface type that indicates the kind of technology of the
   network interface (e.g., IEEE 802.11a/b/g [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>], Third Generation
   Partnership Project (3GPP), etc.).  This parameter is required in all
   primitives.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Definitions%20of%20Dynamic%20Parameters"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Definitions of Dynamic Parameters</span>

   This section lists dynamic parameters.  The values of dynamic
   parameters change frequently during communication.  The following
   parameters are transferred as a part of primitives.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20PoA%20%28Point%20of%20Attachment%29"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  PoA (Point of Attachment)</span>

   The "PoA" parameter uniquely identifies the PoA.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Condition"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Condition</span>

   The "Condition" parameter consists of the following sub-parameters:
   available bandwidth and link quality level.  These sub-parameters are
   the abstracted information that indicates the current quality of
   service.  The abstraction algorithms of sub-parameters depend on
   hardware devices and software implementation.  The useful range of
   link quality is divided into five levels: EXCELLENT, GOOD, FAIR, BAD,
   and NONE, in descending order.  The quality levels of an L2 device






<span class="grey">Teraoka, et al.               Experimental                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   are independent of those of other devices.  However, making decisions
   based on these metrics is error prone and not guaranteed to result in
   an optimal choice of links.  An example of the thresholds among the
   five levels in IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>] is described in <a href="#appendix-E">Appendix E</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20PoA%20List"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  PoA List</span>

   The "PoA List" parameter consists of arbitrary couples of two
   sub-parameters: "PoA" and "Condition".  This parameter shows a list
   of PoAs and their conditions.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4.%20%20Enable%2FDisable"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a>.  Enable/Disable</span>

   The "Enable/Disable" flag is used for turning event notification on/
   off.  When an upper layer needs notifications, the Request primitive
   with "Enable" is sent to the link layer as registration.  When an
   upper layer needs no more notifications, the Request primitive with
   "Disable" is sent.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.5.%20%20Ack%2FError"></a><a class="selflink" href="#section-6.5" name="section-6.5">6.5</a>.  Ack/Error</span>

   When an upper layer requests some notifications, the link layer
   receives and confirms this Request.  If the Request is valid, the
   Confirm primitive with "Ack" is sent to the upper layer.  If it is
   invalid, the Confirm with "Error" is sent to the upper layer.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Architectural%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Architectural Considerations</span>

   <a href="rfc4907.html">RFC 4907</a> [<a href="#ref-11" title='"Architectural Implications of Link Indications"'>11</a>] discusses the role and the issues of link indications
   within the Internet Architecture.  This section discusses the
   architectural considerations mentioned in <a href="rfc4907.html#section-2">Section 2 of RFC 4907</a>.

   1.    Proposals should avoid use of simplified link models in
         circumstances where they do not apply.

         The information in each layer should be abstracted before it is
         sent to another layer.  For example, in IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>], the
         Received Signal Strength Indicator (RSSI), the number of
         retransmissions, and the existence of association between the
         mobile node and the access point are used so that the link
         layer indications can adjust themselves to various environments
         or situations.  The thresholds needed for some link indications
         are defined from empirical study.

         In the conventional protocol-layering model, the Protocol
         Entity (PE) is defined as the entity that processes a specific
         protocol.  Our proposal introduced the Abstract Entity (AE) to




<span class="grey">Teraoka, et al.               Experimental                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


         achieve link independency of the link indications.  An AE and a
         PE make a pair.  An AE abstracts the PE-dependent information
         to the PE-independent information.

         Figure 2 shows AEs and PEs using primitives.

   2.    Link indications should be clearly defined, so that it is
         understood when they are generated on different link layers.

         To make the link information/indications clear, our proposal
         defines the 4 types of primitives: Request/Confirm and
         Indication/Response, as described in <a href="#section-3">Section 3</a>.  The Request is
         used to obtain the information of another layer.  The Confirm
         is the reply to the request and it includes the requested
         information.  The Indication is generated when a particular
         event occurs.  The Response is the reply to the indication.

         In our proposal on IEEE 802.11b [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>], L2-LinkUp is defined as
         the status in which an association to the Access Point (AP) is
         established, and L2-LinkDown is defined as the status in which
         an association to the AP is not established.
         L2-LinkStatusChanged is generated when the link quality goes
         below the predefined threshold.  Since the Received Signal
         Strength Indicator (RSSI) and the number of retransmissions are
         used to abstract and evaluate the link quality, L2-
         LinkStatusChanged represents the link quality in both
         directions.  It should use an average of the RSSI or the number
         of retransmissions damped for one second or more to cope with
         transient link conditions.

   3.    Proposals must demonstrate robustness against misleading
         indications.

         Since RSSI changes significantly even when the mobile node
         stands still according to the measurements in our experiments,
         our proposal uses the RSSI, the number of retransmissions, and
         the existence of an association to calculate the link status,
         as described above.  In our experiments, there were some
         "ping-pong" handovers between two APs.  Such ping-pong
         handovers could be reduced by detecting the most suitable AP by
         L2-LinkStatus when L2-LinkStatusChanged is notified.  The use
         of L2 indications is related to parameter thresholds that
         trigger handover.  These thresholds vary based on the
         deployment scenario and, if not configured properly, could lead
         to misleading indications.






<span class="grey">Teraoka, et al.               Experimental                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   4.    Upper layers should utilize a timely recovery step so as to
         limit the potential damage from link indications determined to
         be invalid after they have been acted on.

         The proposed L3-driven handover described in <a href="#appendix-E">Appendix E</a> uses
         the L2-LinkStatusChanged indication as the trigger for starting
         handover.  L2-LinkStatusChanged is indicated when the link
         quality goes below a specific threshold.  This indication is
         not canceled even if the link quality goes up soon.  As
         described above, L2-LinkStatus can be used to detect the most
         suitable AP.  The IP layer can cancel a handover if it finds
         that the current AP is the most suitable one by using
         L2-LinkStatus when L2-LinkStatusChanged is notified.

   5.    Proposals must demonstrate that effective congestion control is
         maintained.

         Since this mechanism is coupled to the IP layer, and not
         directly to the transport layer, the proposed mechanism does
         not directly affect congestion control.

   6.    Proposals must demonstrate the effectiveness of proposed
         optimizations.

         In IPv6 mobility, the L3-driven handover mechanism using link
         indications can dramatically reduce gap time due to handover.
         The L3-driven handover mechanism needs the L2-LinkStatusChanged
         indication to predict disconnection.  But L2-LinkStatusChanged
         is not trusted sometimes because it is difficult to abstract
         the link quality.  Invalid L2-LinkStatusChanged may cause
         redundant handover.  A handover mechanism using only L2-LinkUp/
         L2-LinkDown can also reduce gap time modestly.  An example of
         an implementation and evaluation of the L3-driven handover
         mechanism is described in <a href="#appendix-E">Appendix E</a>.

   7.    Link indications should not be required by upper layers in
         order to maintain link independence.

         Our proposal does not require any modifications to the
         transport and upper layers.

   8.    Proposals should avoid race conditions, which can occur where
         link indications are utilized directly by multiple layers of
         the stack.

         Since our proposal defines the link indications only to the IP
         layer, race conditions between multiple layers never occur.




<span class="grey">Teraoka, et al.               Experimental                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   9.    Proposals should avoid inconsistencies between link and routing
         layer metrics.

         Our proposal does not deal with routing metrics.

   10.   Overhead reduction schemes must avoid compromising
         interoperability and introducing link-layer dependencies into
         the Internet and transport layers.

         As described above, the link indications in our proposal are
         abstracted to the information independent of link types to
         reduce the gap time due to a handover, and the ordinary host
         can execute handover without using the link indications defined
         in our proposal.

   11.   Proposals advocating the transport of link indications beyond
         the local host need to carefully consider the layering,
         security, and transport implications.  In general, implicit
         signals are preferred to explicit transport of link indications
         since they add no new packets in times of network distress,
         operate more reliably in the presence of middle boxes, such as
         NA(P)Ts (Network Address (Port) Translations), are more likely
         to be backward compatible, and are less likely to result in
         security vulnerabilities.

         Our proposal does not define the exchange of link indications
         between nodes.
























<span class="grey">Teraoka, et al.               Experimental                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


      ---------------------------------------------------------
      ----------===========     ----------===========
      |         |[        ]     |         |[        ]
      |   PE    |[   AE   ]     |   PE    |[   AE   ]
      |         |[        ]     |         |[        ]
      ----------===========     ----------===========
      Layer N     ||   /\                   ||   /\
      ------------||---||-------------------||---||------------
           Request||   ||           Response||   ||
                  ||   ||                   ||   ||
                  ||   ||                   ||   ||
                  ||   ||Confirm            ||   ||Indication
      ------------||---||-------------------||---||------------
                  \/   ||                   \/   ||
      ----------===========     ----------===========
      |         |[        ]     |         |[        ]
      |   PE    |[   AE   ]     |   PE    |[   AE   ]
      |         |[        ]     |         |[        ]
      ----------===========     ----------===========
      Layer N-m
      ---------------------------------------------------------

      Figure 2: AE and PE with Primitives

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   <a href="rfc4907.html">RFC 4907</a> [<a href="#ref-11" title='"Architectural Implications of Link Indications"'>11</a>] discusses the role and issues of link indications
   within the Internet Architecture.  This section discusses the
   security considerations mentioned in <a href="rfc4907.html#section-4">Section 4 of RFC 4907</a>.

   1.  Spoofing

         The proposed primitives suffer from spoofed link-layer control
         frames.  For example, if a malicious access point is set up and
         spoofed beacon frames are transmitted, L2-PoAFound.indication
         is generated in the mobile node.  As a result, the mobile node
         may establish an association with the malicious access point by
         an L2-LinkConnect.request.

   2.  Indication validation

         Transportation of the link indications between nodes is not
         assumed; hence, this consideration is beyond the scope of our
         proposal.







<span class="grey">Teraoka, et al.               Experimental                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   3.  Denial of service

         Since this proposal does not change link-layer protocols, no
         more insecurity is added to a particular link-layer protocol.
         However, the proposed primitives suffer from denial-of-service
         attacks by spoofed link-layer frames.  For example, L2-
         PoAFound.indication and L2-PoALost.indication may frequently be
         generated alternately if a malicious access point frequently
         transmits control frames that indicate strong RSSI and weak
         RSSI alternately.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Acknowledgements"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Acknowledgements</span>

   The authors gratefully acknowledge the contributions of Jukka Manner,
   Christian Vogt, and John Levine for their review.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20References"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Normative%20References"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20Informative%20References"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-2" name="ref-2">2</a>]  Perkins, C., Ed., "IP Mobility Support for IPv4", <a href="rfc3344.html">RFC 3344</a>,
        August 2002.

   [<a id="ref-3" name="ref-3">3</a>]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support in
        IPv6", <a href="rfc3775.html">RFC 3775</a>, June 2004.

   [<a id="ref-4" name="ref-4">4</a>]  Koodli, R., Ed., "Fast Handovers for Mobile IPv6", <a href="rfc4068.html">RFC 4068</a>,
        July 2005.

   [<a id="ref-5" name="ref-5">5</a>]  Soliman, H., Castelluccia, C., El Malki, K., and L. Bellier,
        "Hierarchical Mobile IPv6 Mobility Management (HMIPv6)", <a href="rfc4140.html">RFC</a>
        <a href="rfc4140.html">4140</a>, August 2005.

   [<a id="ref-6" name="ref-6">6</a>]  "Draft IEEE Standard for Local and Metropolitan Area Networks:
        Media Independent Handover Services", IEEE P802.21/D02.00,
        September 2006.

   [<a id="ref-7" name="ref-7">7</a>]  IEEE, "802.11-2007 IEEE Standard for LAN/MAN - Specific
        requirements Part 11: Wireless LAN Medium Access Control (MAC)
        and Physical Layer (PHY) Specifications", 2007.






<span class="grey">Teraoka, et al.               Experimental                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   [<a id="ref-8" name="ref-8">8</a>]  IEEE, "802.3, 2000 EDITION ISO/IEC 8802-3:2000 (E) Information
        Technology - LAN/MAN - Part 3: Carrier Sense Multiple Access
        with Collision Detection (CSMA/CD) Access Method and Physical
        Layer Specifications", 2000.

   [<a id="ref-9" name="ref-9">9</a>]  IEEE, "802.16e-2005 &amp; 802.16/COR1 Part 16: Amendment for
        Physical &amp; Medium Access Control Layers for Combined Fixed &amp;
        Mobile Operation", 2006.

   [<a id="ref-10" name="ref-10">10</a>] Gogo, K., Shibu, R., and F. Teraoka, "An L3-Driven Fast Handover
        Mechanism in IPv6 Mobility", In Proc. of International Symposium
        on Applications and the Internet (SAINT2006) Workshop in IPv6,
        February 2006.

   [<a id="ref-11" name="ref-11">11</a>] Aboba, B., Ed., "Architectural Implications of Link
        Indications", <a href="rfc4907.html">RFC 4907</a>, June 2007.

   [<a id="ref-12" name="ref-12">12</a>] Krishnan, S., Ed., Montavont, N., Njedjou, E., Veerepalli, S.,
        and A. Yegin, Ed., "Link-Layer Event Notifications for Detecting
        Network Attachments", <a href="rfc4957.html">RFC 4957</a>, August 2007.

   [<a id="ref-13" name="ref-13">13</a>] Ishiyama, M., Kunishi, M., Uehara, K., Esaki, H., and F.
        Teraoka, "LINA: A New Approach to Mobility Support in Wide Area
        Networks", IEICE Transactions on Communication vol. E84-B, no.
        8, pp. 2076-2086, August 2001.


























<span class="grey">Teraoka, et al.               Experimental                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Example%20Scenario"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Example Scenario</span>

   For example, the picture below shows L3-driven fast handover
   mechanism using the L2 triggers on a mobile node (MN).

          L2                               L3
           |                                |
           |&lt;----------LinkUP.req-----------|
           |-----------LinkUP.cnf----------&gt;|
           |&lt;-----LinkStatusChanged.req-----|
           |------LinkStatusChanged.cnf----&gt;|
           =                                =
           |                                |
          Low                               |
         Signal---LinkStatusChanged.ind----&gt;|
           |                                |
           |&lt;----------PoAList.req----------|
           |-----------PoAList.cnf------&gt;Handover
           |                            Preparation
           |&lt;-------LinkConnect.req---------|
       L2 Handover--LinkConnect.cnf--------&gt;:
           :                                :
           :                                :
           finish---------LinkUp.ind-----&gt;L3 Handover
           |                             finish
           |                                |

        L2: Link Layer on MN
        L3: Network Layer on MN
       req: Request
       cnf: Confirm
       ind: Indication

      Figure 3: L3-Driven Fast Handover Mechanism

   First, L3 issues LinkUp.request to receive LinkUp.indication when the
   link becomes available.  L3 also issues LinkStatusChanged.request to
   receive LinkStatusChanged.indication when the link quality goes below
   the threshold.

   In the beginning of the L3-driven handover procedure, L2 detects that
   the radio signal strength is going down.  Then, L2 sends
   L2-LinkStatusChanged.indication to L3.  L3 prepares for handover
   (e.g., Care-of Address (CoA) generation, Duplicate Address Detection
   (DAD), Neighbor Discovery (ND) cache creation, and routing table
   setting) and sends L2-PoAList.request to L2 if the list of access
   points is needed.




<span class="grey">Teraoka, et al.               Experimental                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   If L3 decides to perform handover according to some rules, L3 sends
   L2-LinkConnect.request with some parameters about candidate access
   points to request L2 handover.  L2 handover begins after L2 sends
   L2-LinkConnect.confirm to L3.  When the L2 handover finishes, L2
   sends L2-LinkUp.indication to notify L3.  Finally, L3 performs
   handover (e.g., sending a Binding Update (BU)).

   One of the important features of L3-driven fast handover using
   primitives is that L3 handover preparation can be done during
   communication.  So, it can reduce disruption time during handover.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20B.%20%20Example%20Operation%20for%20FMIPv6"></a><a class="selflink" href="#appendix-B" name="appendix-B">Appendix B</a>.  Example Operation for FMIPv6</span>

   There are two scenarios of L3-driven fast handover for FMIPv6.
   Scenario 2 is different from scenario 1 for the timing of sending
   some messages.



































<span class="grey">Teraoka, et al.               Experimental                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/B.1.%20%20Example%20Operation-1%20for%20FMIPv6"></a><a class="selflink" href="#appendix-B.1" name="appendix-B.1">B.1</a>.  Example Operation-1 for FMIPv6</span>

   Figure 4 shows the predictive mode of FMIPv6 operation with an
   L3-driven link-switching mechanism.

      MN-L2                            MN-L3        PAR-L3
        |                                |             |
       AP&lt;----------PoAList.req----------|             |
      Scan----------PoAList.cnf---------&gt;|             |
        |                                |---RtSolPr--&gt;|
        |                                |&lt;--PrRtAdv---|
        |----------PoAFound.ind---------&gt;|             |
        |                                |---RtSolPr--&gt;|
        |                                |&lt;--PrRtAdv---|
        |                                |             |
        ~                                ~             ~
        |                                |             |
       Low                               |             |
      Signal---LinkStatusChanged.ind----&gt;|             |        NAR-L3
        |                                |-----FBU----&gt;|           |
        |                                |             |----HI----&gt;|
        |                                |             |&lt;--HAck----|
        |                                |&lt;----FBack---|           |
        |&lt;-------LinkConnect.req---L3 Handover         |           |
    L2 Handover--LinkConnect.cnf--------&gt;:                         |
        :                                :                         |
        :                                :                         |
     finish---------LinkUp.ind----------&gt;:                         |
        |                                :-----------FNA----------&gt;|
        |                             finish&lt;======packets=========|
        |                                |                         |

   MN-L2   : Link Layer on Mobile Node
   MN-L3   : Network Layer on Mobile Node
   PAR-L3  : Network Layer on Previous Access Router
   NAR-L3  : Network Layer on New Access Router
   req     : Request
   cnf     : Confirm
   ind     : Indication
   RtSolPr : Router Solicitation for Proxy
   PrRtAdv : Proxy Router Advertisement
   FBU     : Fast Binding Update
   FBack   : Fast Binding Acknowledgment
   FNA     : Fast Neighbor Advertisement
   HI      : Handover Initiate
   HAck    : Handover Acknowledge

   Figure 4: L3-Driven Fast Handover Mechanism with FMIPv6 Scenario 1



<span class="grey">Teraoka, et al.               Experimental                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   When MN establishes link connectivity to PAR, it performs router
   discovery.  MN sends an RtSolPr message to PAR to resolve the access
   point identifiers to the subnet router information.  To send RtSolPr,
   MN discovers one or more access points by sending L2-PoAList.request
   to the link layer.  As a response to L2-PoAList.request,
   L2-PoAList.confirm returns with "PoA List" parameter that contains
   identifiers and conditions of nearby access points.  After initial AP
   discovery, L2-PoAFound.indication with "PoA List" is also sent from
   the link layer when one or more access points are discovered.

   When the link layer of MN detects that radio signal strength is
   dropping, it sends L2-LinkStatusChanged.indication to the network
   layer.  Then, MN sends the FBU message to PAR as the beginning of the
   L3 handover procedure.  The NCoA required for the FBU message is
   determined according to the MN's policy database and the received
   PrRtAdv message.  As a response to the FBU message, MN receives the
   FBack message and then immediately switches its link by
   L2-LinkConnect.request with the specific "PoA" parameter.  The
   handover policy of the MN is outside the scope of this document.

   After L2 handover, the link layer of the MN sends
   L2-LinkUp.indication to the network layer.  MN immediately sends the
   FNA message to the New Access Router (NAR).  The NAR will send
   tunneled and buffered packets to MN.



























<span class="grey">Teraoka, et al.               Experimental                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/B.2.%20%20Example%20Operation-2%20for%20FMIPv6"></a><a class="selflink" href="#appendix-B.2" name="appendix-B.2">B.2</a>.  Example Operation-2 for FMIPv6</span>

   Figure 5 shows the predictive mode of FMIPv6 operation with an
   L3-driven link-switching mechanism.

      MN-L2                            MN-L3        PAR-L3
        |                                |             |
       AP&lt;----------PoAList.req----------|             |
      Scan----------PoAList.cnf---------&gt;|             |
        |                                |---RtSolPr--&gt;|
        |                                |&lt;--PrRtAdv---|
        |----------PoAFound.ind---------&gt;|             |
        |                                |---RtSolPr--&gt;|
        |                                |&lt;--PrRtAdv---|
        |                                |             |
        ~                                ~             ~
        |                                |             |
       Low                               |             |
      Signal---LinkStatusChanged.ind----&gt;|             |        NAR-L3
        |                                |-----FBU----&gt;|           |
        |&lt;-------LinkConnect.req---L3 Handover         |           |
    L2 Handover--LinkConnect.cnf--------&gt;:             |           |
        |                                |             |----HI----&gt;|
        |                                |             |&lt;--HAck----|
        |                                |     &lt;-FBack-|---FBack--&gt;|
        |                                |&lt;----FBack---------------|
        :                                :                         |
     finish---------LinkUp.ind----------&gt;:                         |
        |                                :-----------FNA----------&gt;|
        |                             finish&lt;======packets=========|
        |                                |                         |

   MN-L2   : Link Layer on Mobile Node
   MN-L3   : Network Layer on Mobile Node
   PAR-L3  : Network Layer on Previous Access Router
   NAR-L3  : Network Layer on New Access Router
   req     : Request
   cnf     : Confirm
   ind     : Indication
   RtSolPr : Router Solicitation for Proxy
   PrRtAdv : Proxy Router Advertisement
   FBU     : Fast Binding Update
   FBack   : Fast Binding Acknowledgment
   FNA     : Fast Neighbor Advertisement
   HI      : Handover Initiate
   HAck    : Handover Acknowledge

   Figure 5: L3-Driven Fast Handover Mechanism with FMIPv6 Scenario 2



<span class="grey">Teraoka, et al.               Experimental                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   Unlike scenario 1, MN in scenario 2 sends LinkConnect.req from the
   network layer to the link layer after MN sends the FBU message.  As
   PAR sends the FBack messages not only to PAR's subnet but also to
   NAR's subnet, MN can get the FBack message sent by PAR through NAR,
   and then it moves to NAR.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/B.3.%20%20Experiment"></a><a class="selflink" href="#appendix-B.3" name="appendix-B.3">B.3</a>.  Experiment</span>

   We implemented FMIPv6 and the proposed L2 primitives on FreeBSD-5.4.
   Figure 6 shows our test network.  MN is connected to access routers
   by using IEEE802.11a wireless LAN.  MN moves from PAR to NAR.

                  |
               +--+---+
               |Router|
               +--+---+
                  |                                 100BaseTX
      ---+--------+---------+---------+---------+------------
         |                  |         |         |
      +--+--+            +--+--+   +--+--+   +--+--+
      | PAR |            | NAR |   | HA  |   | CN  |
      +-----+            +-----+   +-----+   +-----+
         |                  |
          IEEE802.11a        IEEE802.11a         PAR, NAR: nexcom EBC
         |Channel 7         |Channel7            MN: ThinkPad X31
                                                 OS: FreeBSD-5.4
         |                  |                        KAME/SHISA/TARZAN
      +-----+            +-----+
      | MN  |  -------&gt;  | MN  |
      +-----+            +-----+

      Figure 6: Test Network

   Scenario 1 was used in this experiment since it was more stable than
   scenario 2.  Upon receiving L2-LinkStatusChanged.indication, L3 of MN
   sent the FBU message and then received the FBack message.  It took
   20ms from the transmission of the FBU message to the reception of the
   FBack message.  After receiving the FBack message, L3 of MN issued
   L2-LinkConnect.request to L2.  When L2 handover finished, L3 received
   L2-LinkUp.indication from L2.  It took 1ms for an L2 handover.  Next,
   MN sent the FNA message to NAR.  Upon receiving the FNA message, NAR
   started forwarding packets to NM.  ICMP echo request packets were
   sent at 10ms intervals.  It was observed that zero or one ICMP echo
   reply packet was lost during a handover.







<span class="grey">Teraoka, et al.               Experimental                     [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


                  MN                PAR                NAR
                  |                  |                  |
                  |----- RtSolPr ---&gt;|                  |
                  |&lt;---- PrRtAdv ----|                  |
                  |                  |                  |
            +---  |------ FBU ------&gt;|                  |
            |     |                  |------- HI ------&gt;|
        20ms|     |                  |                  |
            |     |                  |&lt;----- HAck ------|
            |     |                  |                  |
            +---  |&lt;-------------- FBack --------------&gt;|
                  |                  |                  |
            +-- disconnect           |                  |
            |  1ms|                  |                  |
            |   connect              |                  |
      8-10ms|     |                  |                  |
            |  7ms|                  |                  |
            |     |                  |                  |
            |     +----- FNA --------------------------&gt;|
            +--   |&lt;------------------------ deliver packets
                  |                  |                  |

                   Figure 7: Measured Results

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20C.%20%20Example%20Mapping%20between%20L2%20Primitives%20and%20the%20Primitives%20in"></a><a class="selflink" href="#appendix-C" name="appendix-C">Appendix C</a>.  Example Mapping between L2 Primitives and the Primitives in</span>
             IEEE 802.11 and IEEE 802.16e

   This section shows example mapping between the L2 primitives and the
   primitives in IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>] and IEEE 802.16e [<a href="#ref-9" title='"802.16e-2005 &amp; 802.16/COR1 Part 16: Amendment for Physical &amp; Medium Access Control Layers for Combined Fixed &amp; Mobile Operation"'>9</a>] in Table 1.






















<span class="grey">Teraoka, et al.               Experimental                     [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


      +-------------------+----------------------+------------------+
      | L2 Primitive      | IEEE802.11           | IEEE802.16e      |
      +-------------------+----------------------+------------------+
      | L2-LinkStatus     | PMD_RSSI             | Available        |
      |                   |                      |                  |
      |                   | PMD_RATE             |                  |
      |                   |                      |                  |
      | L2-PoAList        | MLME-SCAN            | M_ScanScheduling |
      |                   |                      |                  |
      |                   |                      | M_Scanning       |
      |                   |                      |                  |
      | L2-PoAFound       | MLME-SCAN            | M_Neighbor       |
      |                   |                      |                  |
      |                   |                      | M_Scanning       |
      |                   |                      |                  |
      | L2-PoALost        | MLME-SCAN            | M_Neighbor       |
      |                   |                      |                  |
      |                   |                      | M_Scanning       |
      |                   |                      |                  |
      | L2-LinkUp         | MLME-ASSOCIATE       | M_Registration   |
      |                   |                      |                  |
      |                   | MLME-AUTHENTICATE    |                  |
      |                   |                      |                  |
      | L2-LinkDown       | MLME-DEASSOCIATE     | M_Ranging        |
      |                   |                      |                  |
      |                   | MLME-DISAUTHENTICATE |                  |
      |                   |                      |                  |
      | L2-StatusChanged  | PMD_RSSI             | M_Ranging        |
      |                   |                      |                  |
      |                   |                      | M_ScanReport     |
      |                   |                      |                  |
      |                   |                      | M_Scanning       |
      |                   |                      |                  |
      | L2-LinkConnect    | MLME-JOIN            | M_MACHandover    |
      |                   |                      |                  |
      |                   | MLME-ASSOCIATE       | M_HOIND          |
      |                   |                      |                  |
      |                   | MLME-REASSOCIATE     |                  |
      |                   |                      |                  |
      |                   | MLME-AUTHENTICATE    |                  |
      |                   |                      |                  |
      | L2-LinkDisconnect | MLME-DISASSOCIATE    | M_Management     |
      |                   |                      |                  |
      |                   | MLME-DEASSOCIATE     | (Deregistration) |
      +-------------------+----------------------+------------------+

      Table 1: Mapping between L2 Primitives and the Primitives in
               IEEE 802.11 and IEEE 802.16e



<span class="grey">Teraoka, et al.               Experimental                     [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20D.%20%20Example%20Mapping%20of%20Primitives%20and%20IEEE%20802.11"></a><a class="selflink" href="#appendix-D" name="appendix-D">Appendix D</a>.  Example Mapping of Primitives and IEEE 802.11</span>

   This section shows examples of the mapping between primitives and
   IEEE 802.11 [<a href="#ref-7" title='"802.11-2007 IEEE Standard for LAN/MAN - Specific requirements Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications"'>7</a>] parameters.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.1.%20%20L2-LinkStatus"></a><a class="selflink" href="#appendix-D.1" name="appendix-D.1">D.1</a>.  L2-LinkStatus</span>

   Most parameters of L2-LinkStatus are related to the configuration of
   network-interface hardware.  The operating system and the
   device-driver module can easily collect such information.  However,
   to create the "Condition" parameter, the MN should maintain
   statistics and parameters related to the current wireless
   environment.

   There are two sub-parameters of the "Condition" parameter: available
   bandwidth and link quality level.  The available bandwidth of the
   current PoA can be obtained by maintaining the transmission rate
   indication and the statistics of frame transmission every time a
   frame is sent.  A link quality level can be updated by maintaining
   the following parameters and statistics every time a frame is
   received: Received Signal Strength Indicator (RSSI), transmission/
   reception rate indication, transmit/receive latency, bit-error rate,
   frame-error rate, and noise level.  Link quality level is divided
   into five levels: EXCELLENT, GOOD, FAIR, BAD, and NONE, in descending
   order.  Some parameters can be managed by setting thresholds from
   software.  When the parameters cross the threshold, an interrupt is
   generated for the software.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.2.%20%20L2-PoAList"></a><a class="selflink" href="#appendix-D.2" name="appendix-D.2">D.2</a>.  L2-PoAList</span>

   In IEEE 802.11 networks, L2-PoAList returns the detected APs whose
   quality level exceeds the specified threshold for PoA candidates (by
   the "PoA List" parameter).  Therefore, an MN should always maintain
   the database of available access points according to reception of
   beacon frame, probe response frame, and all frames.  This AP database
   is managed in consideration of time, number of frames, and signal
   strength.  There are some kinds of network-interface hardware that
   can notify events to operating system only when the desired event
   occurs by setting a threshold from software.  Moreover, MN can
   transmit the probe request frame for access point discovery, if
   needed.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.3.%20%20L2-PoAFound"></a><a class="selflink" href="#appendix-D.3" name="appendix-D.3">D.3</a>.  L2-PoAFound</span>

   In IEEE 802.11 networks, L2-PoAFound is notified when new PoAs whose
   link quality level exceeds the specified threshold are detected by
   listening beacons or scanning APs.  If the received frame (mainly the




<span class="grey">Teraoka, et al.               Experimental                     [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   beacon or the probe response) is not in the AP database described in
   <a href="#appendix-D.2">Appendix D.2</a>, then the link layer creates L2-PoAFound.indication.

   For example, if the threshold of link quality level specified by
   L2-PoAFound.request is GOOD, L2-PoAFound.indication is created and
   sent to the upper layer when PoA's link quality becomes better than
   GOOD.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.4.%20%20L2-PoALost"></a><a class="selflink" href="#appendix-D.4" name="appendix-D.4">D.4</a>.  L2-PoALost</span>

   In IEEE 802.11 networks, L2-PoALost is notified when an AP included
   in the list of candidate APs is lost by listening beacons or scanning
   APs.  If the entry in the AP database described in <a href="#appendix-D.2">Appendix D.2</a>
   expires, or link quality level goes under the threshold, then the
   link layer creates L2-PoALost.indication.  To calculate the link
   quality level, the signal strength of the received frame (mainly the
   beacon or the probe response) can be used.  For example, if the
   threshold of the link quality specified by L2-PoALost is BAD,
   L2-PoALost.indication is created and sent to the upper layer when
   PoA's link quality becomes worse than BAD.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.5.%20%20L2-LinkUp"></a><a class="selflink" href="#appendix-D.5" name="appendix-D.5">D.5</a>.  L2-LinkUp</span>

   In IEEE 802.11 networks, L2-LinkUp is notified when association or
   reassociation event occurs.  When such an event occurs, MN receives
   the association response frame or the reassociation response frame.
   Immediately after receiving it, the link layer creates
   L2-LinkUp.indication.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.6.%20%20L2-LinkDown"></a><a class="selflink" href="#appendix-D.6" name="appendix-D.6">D.6</a>.  L2-LinkDown</span>

   In IEEE 802.11 networks, L2-LinkDown is notified when a
   disassociation event occurs or when no beacon is received during a
   certain time.  When such an event occurs, MN sends the disassociation
   frame to AP, or the entry of the specific AP is deleted from the AP
   database described in <a href="#appendix-D.2">Appendix D.2</a>.  By detecting such events, the
   link layer creates an L2-LinkDown.indication.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.7.%20%20L2-LinkStatusChanged"></a><a class="selflink" href="#appendix-D.7" name="appendix-D.7">D.7</a>.  L2-LinkStatusChanged</span>

   In IEEE 802.11 networks, L2-LinkStatusChanged is notified when the
   radio signal strength of the connected AP drops below the specified
   threshold.








<span class="grey">Teraoka, et al.               Experimental                     [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.8.%20%20L2-LinkConnect"></a><a class="selflink" href="#appendix-D.8" name="appendix-D.8">D.8</a>.  L2-LinkConnect</span>

   In IEEE 802.11 networks, each AP is identified by the BSSID and the
   service set of several APs is identified by the SSID.  When
   L2-LinkConnect is used to connect a specific AP or a service set, the
   link layer should set the Basic Service Set Identifier (BSSID) or the
   Service Set Identifier (SSID).  Also, the channel should be set
   appropriately at the same time by searching the database described in
   <a href="#appendix-D.2">Appendix D.2</a>.  To connect to AP, MN should be authenticated by AP.
   MN sends the authentication message to AP, and then MN sends the
   association message to associate with AP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/D.9.%20%20L2-LinkDisconnect"></a><a class="selflink" href="#appendix-D.9" name="appendix-D.9">D.9</a>.  L2-LinkDisconnect</span>

   In IEEE 802.11 networks, MN sends the disassociation message to AP
   for disconnection.  When L2-LinkDisconnect is used for disconnection
   from the current AP, the link layer should send the disassociation
   message to the appropriate AP, and stop data transmission.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20E.%20%20Implementation%20and%20Evaluation%20of%20the%20Proposed%20Model"></a><a class="selflink" href="#appendix-E" name="appendix-E">Appendix E</a>.  Implementation and Evaluation of the Proposed Model</span>

   This section describes an implementation of the proposed link
   indication architecture and its evaluation.

   An IEEE 802.11a wireless LAN device driver was modified to provide
   abstract link-layer information in the form of primitives defined in
   <a href="#section-4">Section 4</a>.  The modified driver has two AP lists.  One contains the
   device-dependent information such as RSSI, retransmission count,
   various AP parameters, and various statistics.  The device-dependent
   information, except for the AP parameters, is updated whenever the
   device receives a frame.  If the received frame is the management
   frame, the AP parameters are also updated according to the parameters
   in the frame.

   Another AP list contains the abstract information.  The abstract
   information is updated periodically by using the device-dependent
   information.  In the abstraction processing, for example, RSSI or the
   retransmission count is converted to the common indicator "link
   quality".  In our outdoor testbed described below, the thresholds of
   the RSSI value between the link quality levels were defined as
   follows:

   o  EXCELLENT -- 34 -- GOOD

   o  GOOD -- 27 -- FAIR

   o  FIAR -- 22 -- BAD




<span class="grey">Teraoka, et al.               Experimental                     [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   o  BAD -- 15 -- NONE

   L2-PoAList and L2-LinkStatus were implemented by using only the
   abstract information.  Thus, the upper layers can use information of
   the current AP and the adjacent APs without depending on the devices.
   L2-PoAFound or L2-PoALost is notified if the link quality rises or
   falls beyond the thresholds when the abstract information is updated.
   If the link quality of the current AP goes below the specific
   threshold, L2-LinkStatusChanged is notified.  L2-LinkUp or
   L2-LinkDown is notified when an association with an AP is established
   or destroyed.  To realize L2-LinkConnect and L2-LinkDisconnect,
   functions to connect or disconnect to the specified AP were
   implemented.  In these functions, since only abstract information is
   needed to specify the AP, other layers need not know the
   device-dependent information.

   In our outdoor testbed, there are eight Access Routers (ARs) located
   at 80-100m intervals.  AP is collocated at AR.  IEEE 802.11a was used
   as the link layer.  The same wireless channel was used at all APs.
   Thus, there are eight wireless IPv6 subnets in the testbed.  The
   mobile node was in a car moving at a speed of 30-40 km/h.  When link
   quality of the current AP goes down, the mobile node executes
   L3-driven handover, described in <a href="#appendix-A">Appendix A</a>.  An application called
   Digital Video Transport System (DVTS) was running on the mobile node
   and sent digital video data at a data rate of about 15Mbps through
   the wireless IPv6 subnet to the correspondent node, which replayed
   received digital video data.  In this environment, the L2 handover
   required less than 1 msec, and the mobility protocol Location
   Independent Networking in IPv6 (LIN6) [<a href="#ref-13" title='"LINA: A New Approach to Mobility Support in Wide Area Networks"'>13</a>] required a few msecs for
   location registration.  Thus, the total gap time due to the handover
   was 3-4 msec.  In most cases, there was no effect on the replayed
   pictures due to handover.

Authors' Addresses

   Fumio Teraoka
   Faculty of Science and Technology, KEIO University
   3-14-1 Hiyoshi, Kohoku-ku
   Yokohama, Kanagawa  223-8522
   Japan

   Phone: +81-45-566-1425
   EMail: tera@ics.keio.ac.jp
   URI:   <a href="http://www.tera.ics.keio.ac.jp/">http://www.tera.ics.keio.ac.jp/</a>







<span class="grey">Teraoka, et al.               Experimental                     [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


   Kazutaka Gogo
   Graduate School of Science and Technology, KEIO University
   3-14-1 Hiyoshi, Kohoku-ku
   Yokohama, Kanagawa  223-8522
   Japan

   Phone: +81-45-566-1425
   EMail: gogo@tera.ics.keio.ac.jp
   URI:   <a href="http://www.tera.ics.keio.ac.jp/">http://www.tera.ics.keio.ac.jp/</a>


   Koshiro Mitsuya
   Jun Murai Lab, Shonan Fujisawa Campus, KEIO University
   5322 Endo
   Fujisawa, Kanagawa  252-8520
   Japan

   Phone: +81-466-49-1100
   EMail: mitsuya@sfc.wide.ad.jp


   Rie Shibui
   Graduate School of Science and Technology, KEIO University
   3-14-1 Hiyoshi, Kohoku-ku
   Yokohama, Kanagawa  223-8522
   Japan

   Phone: +81-45-566-1425
   EMail: shibrie@tera.ics.keio.ac.jp
   URI:   <a href="http://www.tera.ics.keio.ac.jp/">http://www.tera.ics.keio.ac.jp/</a>

   Koki Mitani
   Graduate School of Science and Technology, KEIO University
   3-14-1 Hiyoshi, Kohoku-ku
   Yokohama, Kanagawa  223-8522
   Japan

   Phone: +81-45-566-1425
   EMail: koki@tera.ics.keio.ac.jp
   URI:   <a href="http://www.tera.ics.keio.ac.jp/">http://www.tera.ics.keio.ac.jp/</a>











<span class="grey">Teraoka, et al.               Experimental                     [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc5184.html">RFC 5184</a>      L2 Abstractions for L3-Driven Fast Handover       May 2008</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and at <a href="http://www.rfc-editor.org/copyright.html">http://www.rfc-editor.org/copyright.html</a>,
   and except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.












Teraoka, et al.               Experimental                     [Page 29]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc5184 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:37 GMT --></html>