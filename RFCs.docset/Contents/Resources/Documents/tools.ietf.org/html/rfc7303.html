<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc7303 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:30:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129c" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Relation.Replaces" content="rfc3023" />
<meta name="DC.Identifier" content="urn:ietf:rfc:7303" />
<meta name="DC.Date.Issued" content="July, 2014" />
<meta name="DC.Creator" content="Thompson, Henry" />
<meta name="DC.Creator" content="Lilley, Chris" />
<meta name="DC.Description.Abstract" content="This specification standardizes three media types -- application/xml,
application/xml-external-parsed-entity, and application/xml-dtd -- for
use in exchanging network entities that are related to the Extensible
Markup Language (XML) while defining text/xml and text/ xml-external-
parsed-entity as aliases for the respective application/ types. This
specification also standardizes the '+xml' suffix for naming
media types outside of these five types when those media types
represent XML MIME entities." />
<meta name="DC.Title" content="XML Media Types" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 7303 - XML Media Types</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgblue"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7303.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7303" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-appsawg-xml-mediatypes" title="draft-ietf-appsawg-xml-mediatypes">draft-ietf-apps...</a>] [<a href='https://datatracker.ietf.org/doc/rfc7303' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7303" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7303" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=7303">Errata</a>]</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br />
<span class="pre noprint docinfo">                                                            <span style='color: #C00;'>Errata Exist</span></span><br />
<pre>
Internet Engineering Task Force (IETF)                       H. Thompson
Request for Comments: 7303                       University of Edinburgh
Obsoletes: <a href="rfc3023.html">3023</a>                                                C. Lilley
Updates: <a href="rfc6839.html">6839</a>                                                        W3C
Category: Standards Track                                      July 2014
ISSN: 2070-1721


                            <span class="h1">XML Media Types</span>

Abstract

   This specification standardizes three media types -- application/xml,
   application/xml-external-parsed-entity, and application/xml-dtd --
   for use in exchanging network entities that are related to the
   Extensible Markup Language (XML) while defining text/xml and text/
   xml-external-parsed-entity as aliases for the respective application/
   types.  This specification also standardizes the '+xml' suffix for
   naming media types outside of these five types when those media types
   represent XML MIME entities.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7303">http://www.rfc-editor.org/info/rfc7303</a>.

















<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-2">2</a>.  Notational Conventions  . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.1">2.1</a>.  Requirements Language . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.2">2.2</a>.  Characters, Encodings, Charsets . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.3">2.3</a>.  MIME Entities, XML Entities . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  Encoding Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-3.1">3.1</a>.  XML MIME Producers  . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-3.2">3.2</a>.  XML MIME Consumers  . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-3.3">3.3</a>.  The BOM and Encoding Conversions  . . . . . . . . . . . .   <a href="#page-8">8</a>
   <a href="#section-4">4</a>.  XML Media Types . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-4.1">4.1</a>.  XML MIME Entities . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-4.2">4.2</a>.  Using '+xml' when Registering XML-Based Media Types . . .  <a href="#page-11">11</a>
     4.3.  Registration Guidelines for XML-Based Media Types Not
           Using   '+xml'  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-5">5</a>.  Fragment Identifiers  . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-6">6</a>.  The Base URI  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   <a href="#section-7">7</a>.  XML Versions  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   <a href="#section-8">8</a>.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-8.1">8.1</a>.  UTF-8 Charset . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>



<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


     <a href="#section-8.2">8.2</a>.  UTF-16 Charset  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-8.3">8.3</a>.  Omitted Charset and 8-Bit MIME Entity . . . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-8.4">8.4</a>.  Omitted Charset and 16-Bit MIME Entity  . . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-8.5">8.5</a>.  Omitted Charset, No Internal Encoding Declaration . . . .  <a href="#page-17">17</a>
     <a href="#section-8.6">8.6</a>.  UTF-16BE Charset  . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
     <a href="#section-8.7">8.7</a>.  Non-UTF Charset . . . . . . . . . . . . . . . . . . . . .  <a href="#page-18">18</a>
     8.8.  INCONSISTENT EXAMPLE: Conflicting Charset and Internal
           Encoding Declaration  . . . . . . . . . . . . . . . . . .  <a href="#page-18">18</a>
     <a href="#section-8.9">8.9</a>.  INCONSISTENT EXAMPLE: Conflicting Charset and BOM . . . .  <a href="#page-18">18</a>
   <a href="#section-9">9</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-9.1">9.1</a>.  application/xml Registration  . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-9.2">9.2</a>.  text/xml Registration . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
     <a href="#section-9.3">9.3</a>.  application/xml-external-parsed-entity Registration . . .  <a href="#page-21">21</a>
     <a href="#section-9.4">9.4</a>.  text/xml-external-parsed-entity Registration  . . . . . .  <a href="#page-22">22</a>
     <a href="#section-9.5">9.5</a>.  application/xml-dtd Registration  . . . . . . . . . . . .  <a href="#page-22">22</a>
     9.6.  The '+xml' Naming Convention for XML-Based Media Types  .  23
       <a href="#section-9.6.1">9.6.1</a>.  The '+xml' Structured Syntax Suffix Registration  . .  <a href="#page-23">23</a>
   <a href="#section-10">10</a>. Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-25">25</a>
   <a href="#section-11">11</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-27">27</a>
     <a href="#section-11.1">11.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-27">27</a>
     <a href="#section-11.2">11.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-29">29</a>
   <a href="#appendix-A">Appendix A</a>.  Why Use the '+xml' Suffix for XML-Based MIME Types?   32
   <a href="#appendix-B">Appendix B</a>.  Core XML Specifications  . . . . . . . . . . . . . .  <a href="#page-32">32</a>
   <a href="#appendix-C">Appendix C</a>.  Operational Considerations . . . . . . . . . . . . .  <a href="#page-32">32</a>
     <a href="#appendix-C.1">C.1</a>.  General Considerations  . . . . . . . . . . . . . . . . .  <a href="#page-33">33</a>
     <a href="#appendix-C.2">C.2</a>.  Considerations for Producers  . . . . . . . . . . . . . .  <a href="#page-33">33</a>
     <a href="#appendix-C.3">C.3</a>.  Considerations for Consumers  . . . . . . . . . . . . . .  <a href="#page-34">34</a>
   <a href="#appendix-D">Appendix D</a>.  Changes from <a href="rfc3023.html">RFC 3023</a>  . . . . . . . . . . . . . . .  <a href="#page-34">34</a>
   <a href="#appendix-E">Appendix E</a>.  Acknowledgements . . . . . . . . . . . . . . . . . .  <a href="#page-35">35</a>






















<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   The World Wide Web Consortium has issued the Extensible Markup
   Language (XML) 1.0 [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] and Extensible Markup Language (XML) 1.1
   [<a href="#ref-XML1.1" title="&quot;Extensible Markup Language (XML) 1.1 (Second Edition)&quot;">XML1.1</a>] specifications.  To enable the exchange of XML network
   entities, this specification standardizes three media types
   (application/xml, application/xml-external-parsed-entity, and
   application/xml-dtd), two aliases (text/xml and text/xml-external-
   parsed-entity), and a naming convention for identifying XML-based
   MIME media types (using '+xml').

   XML has been used as a foundation for other media types, including
   types in every branch of the IETF media types tree.  To facilitate
   the processing of such types, and in line with the recognition in
   [<a href="rfc6838.html" title="&quot;Media Type Specifications and Registration Procedures&quot;">RFC6838</a>] of structured syntax name suffixes, a suffix of '+xml' is
   registered in <a href="#section-9.6">Section 9.6</a>.  This will allow generic XML-based tools
   -- browsers, editors, search engines, and other processors -- to work
   with all XML-based media types.

   This specification replaces [<a href="rfc3023.html" title="&quot;XML Media Types&quot;">RFC3023</a>].  Major differences are in the
   areas of alignment of text/xml and text/xml-external-parsed-entity
   with application/xml and application/xml-external-parsed-entity
   respectively, the addition of XPointer and XML Base as fragment
   identifiers and base URIs, respectively, integration of the XPointer
   Registry and updating of many references.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  Notational Conventions</span>

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this specification are to be interpreted as described
   in [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a>.  Characters, Encodings, Charsets</span>

   Both XML (in an XML or Text declaration using the encoding pseudo-
   attribute) and MIME (in a Content-Type header field using the charset
   parameter) use a common set of labels [<a href="#ref-IANA-CHARSETS" title="&quot;Character Sets Registry&quot;">IANA-CHARSETS</a>] to identify the
   MIME charset (mapping from byte stream to character sequence
   [<a href="rfc2978.html" title="&quot;IANA Charset Registration Procedures&quot;">RFC2978</a>]).

   In this specification, we will use the phrases "charset parameter"
   and "encoding declaration" to refer to whatever MIME charset is
   specified by a MIME charset parameter or XML encoding declaration,





<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   respectively.  We reserve the phrase "character encoding" (or, when
   the context makes the intention clear, simply "encoding") for the
   MIME charset actually used in a particular XML MIME entity.

   [<a name="ref-UNICODE" id="ref-UNICODE">UNICODE</a>] defines three "encoding forms", namely UTF-8, UTF-16, and
   UTF-32.  As UTF-8 can only be serialized in one way, the only
   possible label for UTF-8-encoded documents when serialised into MIME
   entities is "utf-8".  UTF-16 XML documents, however, can be
   serialised into MIME entities in one of two ways: either big-endian,
   labelled (optionally) "utf-16" or "utf-16be", or little-endian,
   labelled (optionally) "utf-16" or "utf-16le".  See <a href="#section-3.3">Section 3.3</a> below
   for how a Byte Order Mark (BOM) is required when the "utf-16"
   serialization is used.

   UTF-32 has four potential serializations, of which only two (UTF-32BE
   and UTF-32LE) are given names in [<a href="#ref-UNICODE" title="&quot;The Unicode Standard, Version 7.0.0&quot;">UNICODE</a>].  Support for the various
   serializations varies widely, and security concerns about their use
   have been raised (for example, see [<a href="#ref-Sivonen" title="&quot;Mozilla bug: Remove support for UTF-32 per HTML5 spec&quot;">Sivonen</a>]).  The use of UTF-32 is
   NOT RECOMMENDED for XML MIME entities.

<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a>.  MIME Entities, XML Entities</span>

   As sometimes happens between two communities, both MIME and XML have
   defined the term entity, with different meanings.  <a href="rfc2045.html#section-2.4">Section&nbsp;2.4 of
   [RFC2045]</a> says:

      The term "entity", refers specifically to the MIME-defined header
      fields and contents of either a message or one of the parts in the
      body of a multipart entity.

   Section 4 of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] says:

      An XML document may consist of one or many storage units.  These
      are called entities; they all have content and are all (except for
      the document entity and the external DTD subset) identified by
      entity name.

   In this specification, "XML MIME entity" is defined as the latter (an
   XML entity) encapsulated in the former (a MIME entity).

   Furthermore, XML provides for the naming and referencing of entities
   for purposes of inclusion and/or substitution.  In this
   specification, "XML-entity declaration/reference/..." is used to
   avoid confusion when referring to such cases.







<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  Encoding Considerations</span>

   The registrations below all address issues around character encoding
   in the same way, by referencing this section.

   As many as three distinct sources of information about character
   encoding may be present for an XML MIME entity: a charset parameter,
   a BOM (see <a href="#section-3.3">Section 3.3</a> below), and an XML encoding declaration (see
   Section 4.3.3 of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>]).  Ensuring consistency among these sources
   requires coordination between entity authors and MIME agents (that
   is, processes that package, transfer, deliver, and/or receive MIME
   entities).

   The use of UTF-8, without a BOM, is RECOMMENDED for all XML MIME
   entities.

   Some MIME agents will be what we will call "XML-aware", that is,
   capable of processing XML MIME entities as XML and detecting the XML
   encoding declaration (or its absence).  All three sources of
   information about encoding are available to them, and they can be
   expected to be aware of this specification.

   Other MIME agents will not be XML-aware; thus, they cannot know
   anything about the XML encoding declaration.  Not only do they lack
   one of the three sources of information about encoding, they are also
   less likely to be aware of or responsive to this specification.

   Some MIME agents, such as proxies and transcoders, both consume and
   produce MIME entities.

   This mixture of two kinds of agents handling XML MIME entities
   increases the complexity of the coordination task.  The
   recommendations given below are intended to maximise interoperability
   in the face of this: on the one hand, by mandating consistent
   production and encouraging maximally robust forms of production and,
   on the other, by specifying recovery strategies to maximize the
   interoperability of consumers when the production rules are broken.

<span class="h3"><a class="selflink" name="section-3.1" href="#section-3.1">3.1</a>.  XML MIME Producers</span>

   XML-aware MIME producers SHOULD supply a charset parameter and/or an
   appropriate BOM with non-UTF-8-encoded XML MIME entities that lack an
   encoding declaration.  Such producers SHOULD remove or correct an
   encoding declaration that is known to be incorrect (for example, as a
   result of transcoding).






<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   XML-aware MIME producers MUST supply an XML text declaration at the
   beginning of non-UNICODE XML external parsed entities that would
   otherwise begin with the hexadecimal octet sequences 0xFE 0xFF, 0xFF
   0xFE or 0xEF 0xBB 0xBF, in order to avoid the mistaken detection of a
   BOM.

   XML-unaware MIME producers MUST NOT supply a charset parameter with
   an XML MIME entity unless the entity's character encoding is reliably
   known.  Note that this is particularly relevant for central
   configuration of web servers, where configuring a default for the
   charset parameter will almost certainly violate this requirement.

   XML MIME producers are RECOMMENDED to provide means for users to
   control what value, if any, is given to charset parameters for XML
   MIME entities, for example, by giving users control of the
   configuration of Web server filename-to-Content-Type-header mappings
   on a file-by-file or suffix basis.

<span class="h3"><a class="selflink" name="section-3.2" href="#section-3.2">3.2</a>.  XML MIME Consumers</span>

   For XML MIME consumers, the question of priority arises in cases when
   the available character encoding information is not consistent.
   Again, we must distinguish between XML-aware and XML-unaware agents.

   When a charset parameter is specified for an XML MIME entity, the
   normative component of the [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] specification leaves the question
   open as to how to determine the encoding with which to attempt to
   process the entity.  This is true independently of whether or not the
   entity contains in-band encoding information, that is, either a BOM
   (<a href="#section-3.3">Section 3.3</a>) or an XML encoding declaration, both, or neither.  In
   particular, in the case where there is in-band information and it
   conflicts with the charset parameter, the [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] specification does
   not specify which is authoritative.  In its (non-normative)
   <a href="#appendix-F">Appendix F</a>, it defers to this specification:

      [T]he preferred method of handling conflict should be specified as
      part of the higher-level protocol used to deliver XML.  In
      particular, please refer to [IETF <a href="rfc3023.html">RFC 3023</a>] or its successor...

   Accordingly, to conform with deployed processors and content and to
   avoid conflicting with this or other normative specifications, this
   specification sets the priority as follows:

      A BOM (<a href="#section-3.3">Section 3.3</a>) is authoritative if it is present in an XML
      MIME entity;

      In the absence of a BOM (<a href="#section-3.3">Section 3.3</a>), the charset parameter is
      authoritative if it is present.



<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Whenever the above determines a source of encoding information as
   authoritative, consumers SHOULD process XML MIME entities based on
   that information.

   When MIME producers conform to the requirements stated above
   (<a href="#section-3.1">Section 3.1</a>, <a href="#section-3">Section 3</a>) inconsistencies will not arise -- the above
   statement of priorities only has practical impact in the case of non-
   conforming XML MIME entities.  In the face of inconsistencies, no
   uniform strategy can deliver the 'right' answer every time: the
   purpose of specifying one here is to encourage convergence over time,
   first on the part of consumers, then on the part of producers.

   For XML-aware consumers, note that Section 4.3.3 of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] does _not_
   make it an error for the charset parameter and the XML encoding
   declaration (or the UTF-8 default in the absence of encoding
   declaration and BOM) to be inconsistent, although such consumers
   might choose to issue a warning in this case.

   If an XML MIME entity is received where the charset parameter is
   omitted, no information is being provided about the character
   encoding by the MIME Content-Type header.  XML-aware consumers MUST
   follow the requirements in section 4.3.3 of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] that directly
   address this case.  XML-unaware MIME consumers SHOULD NOT assume a
   default encoding in this case.

<span class="h3"><a class="selflink" name="section-3.3" href="#section-3.3">3.3</a>.  The BOM and Encoding Conversions</span>

   Section 4.3.3 of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] specifies that UTF-16 XML MIME entities not
   labelled as "utf-16le" or "utf-16be" MUST begin with a BOM, U+FEFF,
   which appears as the hexadecimal octet sequence 0xFE 0xFF (big-
   endian) or 0xFF 0xFE (little-endian).  [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] further states that the
   BOM is an encoding signature and is not part of either the markup or
   the character data of the XML document.

   Due to the presence of the BOM, applications that convert XML from
   UTF-16 to an encoding other than UTF-8 MUST strip the BOM before
   conversion.  Similarly, when converting from another encoding into
   UTF-16, either without a charset parameter or labelled "utf-16", the
   BOM MUST be added unless the original encoding was UTF-8 and a BOM
   was already present, in which case it MUST be transcoded into the
   appropriate UTF-16 BOM.

   Section 4.3.3 of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] also allows for UTF-8 XML MIME entities to
   begin with a BOM, which appears as the hexadecimal octet sequence
   0xEF 0xBB 0xBF.  This is likewise defined to be an encoding
   signature, and not part of either the markup or the character data of
   the XML document.




<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Applications that convert XML from UTF-8 to an encoding other than
   UTF-16 MUST strip the BOM, if present, before conversion.
   Applications that convert XML into UTF-8 MAY add a BOM.

   In addition to the MIME charset "utf-16", [<a href="rfc2781.html" title="&quot;UTF-16, an encoding of ISO 10646&quot;">RFC2781</a>] introduces
   "utf-16le" (little-endian) and "utf-16be" (big-endian).  When an XML
   MIME entity is encoded in "utf-16le" or "utf-16be", it MUST NOT begin
   with the BOM but SHOULD contain an in-band XML encoding declaration.
   Conversion from UTF-8 or UTF-16 (unlabelled, or labelled with
   "utf-16") to "utf-16be" or "utf-16le" MUST strip a BOM if present.
   Conversion from UTF-16 labelled "utf-16le" or "utf-16be" to UTF-16
   without a label or labelled "utf-16" MUST add the appropriate BOM.
   Conversion from UTF-16 labelled "utf-16le" or "utf-16be" to UTF-8 MAY
   add a UTF-8 BOM, but this is NOT RECOMMENDED.

   <a href="#appendix-F">Appendix F</a> of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] also implies that a UTF-32 BOM may be used in
   conjunction with UTF-32-encoded documents.  As noted above, this
   specification recommends against the use of UTF-32.  If it is used,
   the same considerations as UTF-16 apply with respect to its being a
   signature (not part of the document), transcoding into or out of it,
   and transcoding into or out of the MIME charsets "utf-32le" and "utf-
   32be".  Consumers that do not support UTF-32 SHOULD nonetheless
   recognise UTF-32 signatures in order to give helpful error messages
   (instead of treating them as invalid UTF-16).

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  XML Media Types</span>

<span class="h3"><a class="selflink" name="section-4.1" href="#section-4.1">4.1</a>.  XML MIME Entities</span>

   Within the XML specification, XML MIME entities can be classified
   into four types.  In the XML terminology, they are called "document
   entities", "external DTD subsets", "external parsed entities", and
   "external parameter entities".  Appropriate usage for the types
   registered below is as follows:

   document entities:  The media types application/xml or text/xml, or a
      more specific media type (see <a href="#section-9.6">Section 9.6</a>), SHOULD be used.

   external DTD subsets:  The media type application/xml-dtd SHOULD be
      used.  The media types application/xml and text/xml MUST NOT be
      used.

   external parsed entities:  The media types application/xml-external-
      parsed-entity or text/xml-external-parsed-entity SHOULD be used.
      The media types application/xml and text/xml MUST NOT be used
      unless the parsed entities are also well-formed "document
      entities".




<span class="grey">Thompson &amp; Lilley            Standards Track                    [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   external parameter entities:  The media type application/xml-dtd
      SHOULD be used.  The media types application/xml and text/xml MUST
      NOT be used.

   Note that [<a href="rfc3023.html" title="&quot;XML Media Types&quot;">RFC3023</a>] (which this specification obsoletes) recommended
   the use of text/xml and text/xml-external-parsed-entity for document
   entities and external parsed entities, respectively, but described
   handling of character encoding that differed from common
   implementation practice.  These media types are still commonly used,
   and this specification aligns the handling of character encoding with
   industry practice.

   Note that [<a href="rfc2376.html" title="&quot;XML Media Types&quot;">RFC2376</a>] (which is obsolete) allowed application/xml and
   text/xml to be used for any of the four types, although in practice
   it is likely to have been rare.

   Neither external DTD subsets nor external parameter entities parse as
   XML documents, and while some XML document entities may be used as
   external parsed entities and vice versa, there are many cases where
   the two are not interchangeable.  XML also has unparsed entities,
   internal parsed entities, and internal parameter entities, but they
   are not XML MIME entities.

   Compared to [<a href="rfc2376.html" title="&quot;XML Media Types&quot;">RFC2376</a>] or [<a href="rfc3023.html" title="&quot;XML Media Types&quot;">RFC3023</a>], this specification alters the
   handling of character encoding of text/xml and text/xml-external-
   parsed-entity, treating them no differently from the respective
   application/ types.  However, application/xml and application/xml-
   external-parsed-entity are still RECOMMENDED, to avoid possible
   confusion based on the earlier distinction.  The former confusion
   around the question of default character sets for the two text/ types
   no longer arises because

      [<a name="ref-RFC7231" id="ref-RFC7231">RFC7231</a>] changes [<a href="rfc2616.html" title="&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;">RFC2616</a>] by removing the ISO-8859-1 default and
      not defining any default at all;

      [<a name="ref-RFC6657" id="ref-RFC6657">RFC6657</a>] updates [<a href="rfc2046.html" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types&quot;">RFC2046</a>] to remove the US-ASCII [<a href="#ref-ASCII" title="&quot;Coded Character Set -- 7-bit American Standard Code for Information Interchange&quot;">ASCII</a>]
      default.

   See <a href="#section-3">Section 3</a> for the now-unified approach to the charset parameter
   that results.

   XML provides a general framework for defining sequences of structured
   data.  It is often appropriate to define new media types that use XML
   but define a specific application of XML, due to domain-specific
   display, editing, security considerations, or runtime information.
   Furthermore, such media types may allow only UTF-8 and/or UTF-16 and
   prohibit other character sets.  This specification does not prohibit
   such media types; in fact, they are expected to proliferate.



<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   However, developers of such media types are RECOMMENDED to use this
   specification as a basis for their registration.  See <a href="#section-4.2">Section 4.2</a> for
   more detailed recommendations on using the '+xml' suffix for
   registration of such media types.

   An XML document labeled as application/xml or text/xml, or with a
   '+xml' media type, might contain namespace declarations, stylesheet-
   linking processing instructions (PIs), schema information, or other
   declarations that might be used to suggest how the document is to be
   processed.  For example, a document might have the XHTML namespace
   and a reference to a Cascading Style Sheets (CSS) stylesheet.  Such a
   document might be handled by applications that would use this
   information to dispatch the document for appropriate processing.
   <a href="#appendix-B">Appendix B</a> lists the core XML specifications that, taken together
   with [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] itself, show how to determine an XML document's language-
   level semantics and suggest how information about its application-
   level semantics may be locatable.

<span class="h3"><a class="selflink" name="section-4.2" href="#section-4.2">4.2</a>.  Using '+xml' when Registering XML-Based Media Types</span>

   In <a href="#section-9.6">Section 9.6</a>, this specification updates the registration in
   [<a href="rfc6839.html" title="&quot;Additional Media Type Structured Syntax Suffixes&quot;">RFC6839</a>] for XML-based MIME types (the '+xml' types).

   When a new media type is introduced for an XML-based format, the name
   of the media type SHOULD end with '+xml' unless generic XML
   processing is in some way inappropriate for documents of the new
   type.  This convention will allow applications that can process XML
   generically to detect that the MIME entity is supposed to be an XML
   document, verify this assumption by invoking some XML processor, and
   then process the XML document accordingly.  Applications may check
   for types that represent XML MIME entities by comparing the last four
   characters of the subtype to the string '+xml'.  (However, note that
   four of the five media types defined in this specification -- text/
   xml, application/xml, text/xml-external-parsed-entity, and
   application/xml-external-parsed-entity -- also represent XML MIME
   entities while not ending with '+xml'.)

      NOTE: <a href="rfc7231.html#section-5.3.2">Section&nbsp;5.3.2 of [RFC7231]</a> does not support any form of
      Accept header that will match only '+xml' types.  In particular,
      Accept headers of the form "Accept: */*+xml" are not allowed, and
      will not work for this purpose.

   Media types following the naming convention '+xml' SHOULD define the
   charset parameter for consistency, since XML-generic processing by
   definition treats all XML MIME entities uniformly as regards
   character encoding information.  However, there are some cases that
   the charset parameter need not be defined.  For example:




<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


      When an XML-based media type is restricted to UTF-8, it is not
      necessary to define the charset parameter.  UTF-8 is the default
      for XML.

      When an XML-based media type is restricted to UTF-8 and UTF-16, it
      might not be unreasonable to omit the charset parameter.  Neither
      UTF-8 nor UTF-16 require XML encoding declarations.

   XML generic processing is not always appropriate for XML-based media
   types.  For example, authors of some such media types may wish that
   the types remain entirely opaque except to applications that are
   specifically designed to deal with that media type.  By NOT following
   the naming convention '+xml', such media types can avoid XML-generic
   processing.  Since generic processing will be useful in many cases,
   however -- including in some situations that are difficult to predict
   ahead of time -- the '+xml' convention is to be preferred unless
   there is some particularly compelling reason not to use it.

   The registration process for specific '+xml' media types is described
   in [<a href="rfc6838.html" title="&quot;Media Type Specifications and Registration Procedures&quot;">RFC6838</a>].  New XML-based media type registrations in the IETF
   must follow these guidelines.  When other organisations register XML-
   based media types via the "Specification Required" IANA registration
   policy [<a href="rfc5226.html" title="&quot;Guidelines for Writing an IANA Considerations Section in RFCs&quot;">RFC5226</a>], the relevant Media Reviewer should ensure that they
   use the '+xml' convention, in order to ensure maximum
   interoperability of their XML-based documents.  Only media subtypes
   that represent XML MIME entities are allowed to register with a
   '+xml' suffix.

   In addition to the changes described above, the change controller has
   been changed to be the World Wide Web Consortium (W3C).

<span class="h3"><a class="selflink" name="section-4.3" href="#section-4.3">4.3</a>.  Registration Guidelines for XML-Based Media Types Not Using '+xml'</span>

   Registrations for new XML-based media types that do _not_ use the
   '+xml' suffix SHOULD, in specifying the charset parameter and
   encoding considerations, define them as: "Same as [charset parameter
   / encoding considerations] of application/xml as specified in <a href="rfc7303.html">RFC</a>
   <a href="rfc7303.html">7303</a>".

   Defining the charset parameter is RECOMMENDED, since this information
   can be used by XML processors to determine authoritatively the
   character encoding of the XML MIME entity in the absence of a BOM.
   If there are some reasons not to follow this advice, they SHOULD be
   included as part of the registration.  As shown above, two such
   reasons are "UTF-8 only" or "UTF-8 or UTF-16 only".






<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   These registrations SHOULD specify that the XML-based media type
   being registered has all of the security considerations described in
   this specification plus any additional considerations specific to
   that media type.

   These registrations SHOULD also make reference to this specification
   in specifying magic numbers, base URIs, and use of the BOM.

   These registrations MAY reference the application/xml registration in
   this document in specifying interoperability and fragment identifier
   considerations, if these considerations are not overridden by issues
   specific to that media type.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Fragment Identifiers</span>

   Uniform Resource Identifiers (URIs) can contain fragment identifiers
   (see <a href="rfc3986.html#section-3.5">Section&nbsp;3.5 of [RFC3986]</a>).  Specifying the syntax and semantics
   of fragment identifiers is devolved by [<a href="rfc3986.html" title="&quot;Uniform Resource Identifier (URI): Generic Syntax&quot;">RFC3986</a>] to the appropriate
   media type registration.

   The syntax and semantics of fragment identifiers for the XML media
   types defined in this specification are based on the
   [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>] W3C Recommendation.  It allows simple names and
   more complex constructions based on named schemes.  When the syntax
   of a fragment identifier part of any URI or Internationalized
   Resource Identifier (IRI) ([<a href="rfc3987.html" title="&quot;Internationalized Resource Identifiers (IRIs)&quot;">RFC3987</a>]) with a retrieved media type
   governed by this specification conforms to the syntax specified in
   [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>], conforming applications MUST interpret such
   fragment identifiers as designating whatever is specified by the
   [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>] together with any other specifications governing
   the XPointer schemes used in those identifiers that the applications
   support.  Conforming applications MUST support the 'element' scheme
   as defined in [<a href="#ref-XPointerElement" title="&quot;XPointer element() Scheme&quot;">XPointerElement</a>], but need not support other schemes.

   If an XPointer error is reported in the attempt to process the part,
   this specification does not define an interpretation for the part.

   A registry of XPointer schemes [<a href="#ref-XPtrReg" title="&quot;XPointer Registry&quot;">XPtrReg</a>] is maintained at the W3C.
   Generic processors of XML MIME entities SHOULD NOT implement
   unregistered XPointer schemes ([<a href="#ref-XPtrRegPolicy" title="&quot;XPointer Scheme Name Registry Policy&quot;">XPtrRegPolicy</a>] describes requirements
   and procedures for registering schemes).

   See <a href="#section-4.2">Section 4.2</a> for additional requirements that apply when an XML-
   based media type follows the naming convention '+xml'.

   If [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>] and [<a href="#ref-XPointerElement" title="&quot;XPointer element() Scheme&quot;">XPointerElement</a>] are inappropriate for
   some XML-based media type, it SHOULD NOT follow the naming convention
   '+xml'.



<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   When a URI has a fragment identifier, it is encoded by a limited
   subset of the repertoire of US-ASCII characters, see
   [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>] for details.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  The Base URI</span>

   An XML MIME entity of type application/xml, text/xml, application/
   xml-external-parsed-entity, or text/xml-external-parsed-entity MAY
   use the xml:base attribute, as described in [<a href="#ref-XMLBase" title="&quot;XML Base (Second Edition)&quot;">XMLBase</a>], to embed a
   base URI in that entity for use in resolving relative URI references
   (see <a href="rfc3986.html#section-5.1">Section&nbsp;5.1 of [RFC3986]</a>).

   Note that the base URI itself might be embedded in a different MIME
   entity, since the default value for the xml:base attribute can be
   specified in an external DTD subset or external parameter entity.
   Since conforming XML processors need not always read and process
   external entities, the effect of such an external default is
   uncertain; therefore, its use is NOT RECOMMENDED.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  XML Versions</span>

   application/xml, application/xml-external-parsed-entity, application/
   xml-dtd, text/xml, and text/xml-external-parsed-entity are to be used
   with [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>].  In all examples herein where version="1.0" is shown, it
   is understood that version="1.1" might also appear, providing the
   content does indeed conform to [<a href="#ref-XML1.1" title="&quot;Extensible Markup Language (XML) 1.1 (Second Edition)&quot;">XML1.1</a>].

   The normative requirement of this specification upon XML documents
   and processors is to follow the requirements of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>], Section 4.3.3.

   Except for minor clarifications, that section is substantially
   identical from the first edition to the current (5th) edition of XML
   1.0, and for XML 1.1 first or second edition [<a href="#ref-XML1.1" title="&quot;Extensible Markup Language (XML) 1.1 (Second Edition)&quot;">XML1.1</a>].  Therefore,
   references herein to [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] may be interpreted as referencing any
   existing version or edition of XML, or any subsequent edition or
   version that makes no incompatible changes to that section.

   Specifications and recommendations based on or referring to this RFC
   SHOULD indicate any limitations on the particular versions or
   editions of XML to be used.

<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  Examples</span>

   This section is non-normative.  In particular, note that all
   [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] language herein reproduces or summarizes the consequences
   of normative statements already made above, and has no independent
   normative force, and accordingly does not appear in uppercase.




<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 14]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   The examples below give the MIME Content-Type header, including the
   charset parameter, if present and the XML declaration or Text
   declaration (which includes the encoding declaration) inside the XML
   MIME entity.  For UTF-16 examples, the Byte Order Mark character
   appropriately UTF-16 encoded is denoted as "{BOM}", and the XML or
   Text declaration is assumed to come at the beginning of the XML MIME
   entity, immediately following the encoded BOM.  Note that other MIME
   headers may be present, and the XML MIME entity will normally contain
   other data in addition to the XML declaration; the examples focus on
   the Content-Type header and the encoding declaration for clarity.

   Although they show a content type of 'application/xml', all the
   examples below apply to all five media types declared below in
   <a href="#section-9">Section 9</a>, as well as to any media types declared using the '+xml'
   convention (with the exception of the examples involving the charset
   parameter for any such media types that do not enable its use).  See
   the XML MIME entities table (<a href="#section-4.1">Section 4.1</a>, Paragraph 1) for discussion
   of which types are appropriate for which varieties of XML MIME
   entity.

<span class="h3"><a class="selflink" name="section-8.1" href="#section-8.1">8.1</a>.  UTF-8 Charset</span>

   Content-Type: application/xml; charset=utf-8

   &lt;?xml version="1.0" encoding="utf-8"?&gt;

   or

   &lt;?xml version="1.0"?&gt;

   UTF-8 is the recommended encoding for use with all the media types
   defined in this specification.  Since the charset parameter is
   provided and there is no overriding BOM, conformant MIME and XML
   processors must treat the enclosed entity as UTF-8 encoded.

   If sent using a 7-bit transport (e.g., SMTP [<a href="rfc5321.html" title="&quot;Simple Mail Transfer Protocol&quot;">RFC5321</a>]), in general, a
   UTF-8 XML MIME entity must use a content-transfer-encoding of either
   quoted-printable or base64.  For an 8-bit clean transport (e.g.,
   8BITMIME ESMTP or NNTP), or a binary clean transport (e.g., BINARY
   ESMTP or HTTP), no content-transfer-encoding is necessary (or even
   possible, in the case of HTTP).










<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 15]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-16" id="page-16" href="#page-16" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h3"><a class="selflink" name="section-8.2" href="#section-8.2">8.2</a>.  UTF-16 Charset</span>

   Content-Type: application/xml; charset=utf-16

   {BOM}&lt;?xml version="1.0" encoding="utf-16"?&gt;

   or

   {BOM}&lt;?xml version="1.0"?&gt;

   For the three application/media types defined above, if sent using a
   7-bit transport (e.g., SMTP) or an 8-bit clean transport (e.g.,
   8BITMIME ESMTP or NNTP), the XML MIME entity must be encoded in
   quoted-printable or base64; for a binary clean transport (e.g.,
   BINARY ESMTP or HTTP), no content-transfer-encoding is necessary (or
   even possible, in the case of HTTP).

   As described in [<a href="rfc2781.html" title="&quot;UTF-16, an encoding of ISO 10646&quot;">RFC2781</a>], the UTF-16 family must not be used with
   media types under the top-level type "text" except over HTTP or HTTPS
   (see Section A.2 of HTTP [<a href="rfc7231.html" title="&quot;Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content&quot;">RFC7231</a>] for details).  Hence, one of the
   two text/media types defined above can be used with this example only
   when the XML MIME entity is transmitted via HTTP or HTTPS, which use
   a MIME-like mechanism and are binary-clean protocols and hence do not
   perform CR and LF transformations and allow NUL octets.  Since HTTP
   is binary clean, no content-transfer-encoding is necessary (or even
   possible).

<span class="h3"><a class="selflink" name="section-8.3" href="#section-8.3">8.3</a>.  Omitted Charset and 8-Bit MIME Entity</span>

   Content-Type: application/xml

   &lt;?xml version="1.0" encoding="iso-8859-1"?&gt;

   Since the charset parameter is not provided in the Content-Type
   header and there is no overriding BOM, conformant XML processors must
   treat the "iso-8859-1" encoding as authoritative.  Conformant XML-
   unaware MIME processors should make no assumptions about the
   character encoding of the XML MIME entity.

<span class="h3"><a class="selflink" name="section-8.4" href="#section-8.4">8.4</a>.  Omitted Charset and 16-Bit MIME Entity</span>

   Content-Type: application/xml

   {BOM}&lt;?xml version="1.0" encoding="utf-16"?&gt;

   or

   {BOM}&lt;?xml version="1.0"?&gt;



<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 16]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-17" id="page-17" href="#page-17" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   This example shows a 16-bit MIME entity with no charset parameter.
   However, since there is a BOM, conformant processors must treat the
   entity as UTF-16 encoded.

   Omitting the charset parameter is not recommended in conjunction with
   media types under the top-level type "application" when used with
   transports other than HTTP or HTTPS.  Media types under the top-level
   type "text" should not be used for 16-bit MIME with transports other
   than HTTP or HTTPS (see discussion above in
   <a href="#section-8.2">Section 8.2</a>, Paragraph 7).

<span class="h3"><a class="selflink" name="section-8.5" href="#section-8.5">8.5</a>.  Omitted Charset, No Internal Encoding Declaration</span>

   Content-Type: application/xml

   &lt;?xml version='1.0'?&gt;

   In this example, the charset parameter has been omitted, there is no
   internal encoding declaration, and there is no BOM.  Since there is
   no BOM or charset parameter, the XML processor follows the
   requirements in <a href="#section-4.3.3">Section 4.3.3</a>, and optionally applies the mechanism
   described in <a href="#appendix-F">Appendix F</a> (which is non-normative) of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] to
   determine an encoding of UTF-8.  Although the XML MIME entity does
   not contain an encoding declaration, provided the encoding actually
   _is_ UTF-8, this is a conforming XML MIME entity.

   A conformant XML-unaware MIME processor should make no assumptions
   about the character encoding of the XML MIME entity.

   See <a href="#section-8.1">Section 8.1</a> for transport-related issues for UTF-8 XML MIME
   entities.

<span class="h3"><a class="selflink" name="section-8.6" href="#section-8.6">8.6</a>.  UTF-16BE Charset</span>

   Content-Type: application/xml; charset=utf-16be

   &lt;?xml version='1.0' encoding='utf-16be'?&gt;

   Observe that, as required for this encoding, there is no BOM.  Since
   the charset parameter is provided and there is no overriding BOM,
   conformant MIME and XML processors must treat the enclosed entity as
   UTF-16BE encoded.

   See also the additional considerations in the UTF-16 example in
   <a href="#section-8.2">Section 8.2</a>.






<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 17]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-18" id="page-18" href="#page-18" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h3"><a class="selflink" name="section-8.7" href="#section-8.7">8.7</a>.  Non-UTF Charset</span>

   Content-Type: application/xml; charset=iso-2022-kr

   &lt;?xml version="1.0" encoding="iso-2022-kr"?&gt;

   This example shows the use of a non-UTF character encoding (in this
   case Hangul, but this example is intended to cover all non-UTF-family
   character encodings).  Since the charset parameter is provided and
   there is no overriding BOM, conformant processors must treat the
   enclosed entity as encoded per <a href="rfc1557.html">RFC 1557</a>.

   Since ISO-2022-KR [<a href="rfc1557.html" title="&quot;Korean Character Encoding for Internet Messages&quot;">RFC1557</a>] has been defined to use only 7 bits of
   data, no content-transfer-encoding is necessary with any transport:
   for character sets needing 8 or more bits, considerations such as
   those discussed above (Sections <a href="#section-8.1">8.1</a> and <a href="#section-8.2">8.2</a>) would apply.

<span class="h3"><a class="selflink" name="section-8.8" href="#section-8.8">8.8</a>.  INCONSISTENT EXAMPLE: Conflicting Charset and Internal Encoding</span>
<span class="h3">      Declaration</span>

   Content-Type: application/xml; charset=iso-8859-1

   &lt;?xml version="1.0" encoding="utf-8"?&gt;

   Although the charset parameter is provided in the Content-Type header
   and there is no BOM and the charset parameter differs from the XML
   encoding declaration, conformant MIME and XML processors will
   interoperate.  Since the charset parameter is authoritative in the
   absence of a BOM, conformant processors will treat the enclosed
   entity as iso-8859-1 encoded.  That is, the "UTF-8" encoding
   declaration will be ignored.

   Conformant processors generating XML MIME entities must not label
   conflicting character encoding information between the MIME Content-
   Type and the XML declaration unless they have definitive information
   about the actual encoding, for example, as a result of systematic
   transcoding.  In particular, the addition by servers of an explicit,
   site-wide charset parameter default has frequently lead to
   interoperability problems for XML documents.

<span class="h3"><a class="selflink" name="section-8.9" href="#section-8.9">8.9</a>.  INCONSISTENT EXAMPLE: Conflicting Charset and BOM</span>

   Content-Type: application/xml; charset=iso-8859-1

   {BOM}&lt;?xml version="1.0"?&gt;






<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 18]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-19" id="page-19" href="#page-19" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Although the charset parameter is provided in the Content-Type
   header, there is a BOM, so MIME and XML processors may not
   interoperate.  Since the BOM parameter is authoritative for
   conformant XML processors, they will treat the enclosed entity as
   UTF-16 encoded.  That is, the "iso-8859-1" charset parameter will be
   ignored.  XML-unaware MIME processors on the other hand may be
   unaware of the BOM and so treat the entity as encoded in iso-8859-1.

   Conformant processors generating XML MIME entities must not label
   conflicting character encoding information between the MIME Content-
   Type and an entity-initial BOM.

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  IANA Considerations</span>

<span class="h3"><a class="selflink" name="section-9.1" href="#section-9.1">9.1</a>.  application/xml Registration</span>

   Type name:  application

   Subtype name:  xml

   Required parameters:  none

   Optional parameters:  charset

      See <a href="#section-3">Section 3</a>.

   Encoding considerations:  Depending on the character encoding used,
      XML MIME entities can consist of 7bit, 8bit, or binary data
      [<a href="rfc6838.html" title="&quot;Media Type Specifications and Registration Procedures&quot;">RFC6838</a>].  For 7-bit transports, 7bit data, for example, US-
      ASCII-encoded data, does not require content-transfer-encoding,
      but 8bit or binary data, for example, UTF-8 or UTF-16 data, MUST
      be content-transfer-encoded in quoted-printable or base64.  For
      8-bit clean transport (e.g., 8BITMIME ESMTP [<a href="rfc6152.html" title="&quot;SMTP Service Extension for 8-bit MIME Transport&quot;">RFC6152</a>] or NNTP
      [<a href="rfc3977.html" title="&quot;Network News Transfer Protocol (NNTP)&quot;">RFC3977</a>]), 7bit or 8bit data, for example, US-ASCII or UTF-8
      data, does not require content-transfer-encoding, but binary data,
      for example, data with a UTF-16 encoding, MUST be content-
      transfer-encoded in base64.  For binary clean transports (e.g.,
      BINARY ESMTP [<a href="rfc3030.html" title="&quot;SMTP Service Extensions for Transmission of Large and Binary MIME Messages&quot;">RFC3030</a>] or HTTP [<a href="rfc7230.html" title="&quot;Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing&quot;">RFC7230</a>]), no content-transfer-
      encoding is necessary (or even possible, in the case of HTTP) for
      7bit, 8bit, or binary data.

   Security considerations:  See <a href="#section-10">Section 10</a>.

   Interoperability considerations:  XML has proven to be interoperable
      across both generic and task-specific applications and for import
      and export from multiple XML authoring and editing tools.
      Validating processors provide maximum interoperability, because
      they have to handle all aspects of XML.  Although a non-validating



<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 19]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-20" id="page-20" href="#page-20" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


      processor may be more efficient, it might not handle all aspects.
      For further information, see <a href="#section-2.9">Section 2.9</a> "Standalone Document
      Declaration" and <a href="#section-5">Section 5</a> "Conformance" of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] .

      In practice, character set issues have proved to be the biggest
      source of interoperability problems.  The use of UTF-8, and
      careful attention to the guidelines set out in <a href="#section-3">Section 3</a>, are the
      best ways to avoid such problems.

   Published specification:  Extensible Markup Language (XML) 1.0 (Fifth
      Edition) [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] or subsequent editions or versions thereof.

   Applications that use this media type:  XML is device, platform, and
      vendor neutral and is supported by generic and task-specific
      applications and a wide range of generic XML tools (editors,
      parsers, Web agents, ...).

   Additional information:

      Magic number(s):  None.

         Although no byte sequences can be counted on to always be
         present, XML MIME entities in ASCII-compatible character sets
         (including UTF-8) often begin with hexadecimal 3C 3F 78 6D 6C
         ("&lt;?xml"), and those in UTF-16 often begin with hexadecimal FE
         FF 00 3C 00 3F 00 78 00 6D 00 6C or FF FE 3C 00 3F 00 78 00 6D
         00 6C 00 (the BOM followed by "&lt;?xml").  For more information,
         see <a href="#appendix-F">Appendix F</a> of [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>].

      File extension(s):  .xml

      Macintosh File Type Code(s):  "TEXT"

      Base URI:  See <a href="#section-6">Section 6</a>

   Person and email address for further information:  See Authors'
      Addresses section

   Intended usage:  COMMON

   Author:  See Authors' Addresses section

   Change controller:  The XML specification is a work product of the
      World Wide Web Consortium's XML Core Working Group.  The W3C has
      change control over <a href="rfc7303.html">RFC 7303</a>.






<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 20]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-21" id="page-21" href="#page-21" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h3"><a class="selflink" name="section-9.2" href="#section-9.2">9.2</a>.  text/xml Registration</span>

   The registration information for text/xml is in all respects the same
   as that given for application/xml above (<a href="#section-9.1">Section 9.1</a>), except that
   the "Type name" is "text".

<span class="h3"><a class="selflink" name="section-9.3" href="#section-9.3">9.3</a>.  application/xml-external-parsed-entity Registration</span>

   Type name:  application

   Subtype name:  xml-external-parsed-entity

   Required parameters:  none

   Optional parameters:  charset

      See <a href="#section-3">Section 3</a>.

   Encoding considerations:  Same as for application/xml (<a href="#section-9.1">Section 9.1</a>).

   Security considerations:  See <a href="#section-10">Section 10</a>.

   Interoperability considerations:  XML external parsed entities are as
      interoperable as XML documents, though they have a less tightly
      constrained structure and therefore need to be referenced by XML
      documents for proper handling by XML processors.  Similarly, XML
      documents cannot be reliably used as external parsed entities
      because external parsed entities are prohibited from having
      standalone document declarations or DTDs.  Identifying XML
      external parsed entities with their own content type enhances
      interoperability of both XML documents and XML external parsed
      entities.

   Published specification:  Same as for application/xml (<a href="#section-9.1">Section 9.1</a>).

   Applications which use this media type:  Same as for application/xml
      (<a href="#section-9.1">Section 9.1</a>).

   Additional information:

      Magic number(s):  Same as for application/xml (<a href="#section-9.1">Section 9.1</a>).

      File extension(s):  .xml or .ent

      Macintosh File Type Code(s):  "TEXT"

      Base URI:  See <a href="#section-6">Section 6</a>




<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 21]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-22" id="page-22" href="#page-22" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Person and email address for further information:  See Authors'
      Addresses section.

   Intended usage:  COMMON

   Author:  See Authors' Addresses section.

   Change controller:  The XML specification is a work product of the
      World Wide Web Consortium's XML Core Working Group.  The W3C has
      change control over <a href="rfc7303.html">RFC 7303</a>.

<span class="h3"><a class="selflink" name="section-9.4" href="#section-9.4">9.4</a>.  text/xml-external-parsed-entity Registration</span>

   The registration information for text/xml-external-parsed-entity is
   in all respects the same as that given for application/xml-external-
   parsed-entity above (<a href="#section-9.3">Section 9.3</a>), except that the "Type name" is
   "text".

<span class="h3"><a class="selflink" name="section-9.5" href="#section-9.5">9.5</a>.  application/xml-dtd Registration</span>

   Type name:  application

   Subtype name:  xml-dtd

   Required parameters:  none

   Optional parameters:  charset

      See <a href="#section-3">Section 3</a>.

   Encoding considerations:  Same as for application/xml (<a href="#section-9.1">Section 9.1</a>).

   Security considerations:  See <a href="#section-10">Section 10</a>.

   Interoperability considerations:  XML DTDs have proven to be
      interoperable by DTD authoring tools and XML validators, among
      others.

   Published specification:  Same as for application/xml (<a href="#section-9.1">Section 9.1</a>).

   Applications which use this media type:  DTD authoring tools handle
      external DTD subsets as well as external parameter entities.  XML
      validators may also access external DTD subsets and external
      parameter entities.







<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 22]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-23" id="page-23" href="#page-23" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Additional information:

      Magic number(s):  Same as for application/xml (<a href="#section-9.1">Section 9.1</a>).

      File extension(s):  .dtd or .mod

      Macintosh File Type Code(s):  "TEXT"

   Person and email address for further information:  See Authors'
      Addresses section.

   Intended usage:  COMMON

   Author:  See Authors' Addresses section.

   Change controller:  The XML specification is a work product of the
      World Wide Web Consortium's XML Core Working Group.  The W3C has
      change control over <a href="rfc7303.html">RFC 7303</a>.

<span class="h3"><a class="selflink" name="section-9.6" href="#section-9.6">9.6</a>.  The '+xml' Naming Convention for XML-Based Media Types</span>

   This section supersedes the earlier registration of the '+xml' suffix
   [<a href="rfc6839.html" title="&quot;Additional Media Type Structured Syntax Suffixes&quot;">RFC6839</a>].

   This specification recommends the use of the '+xml' naming convention
   for identifying XML-based media types, in line with the recognition
   in [<a href="rfc6838.html" title="&quot;Media Type Specifications and Registration Procedures&quot;">RFC6838</a>] of structured syntax name suffixes.  This allows the use
   of generic XML processors and technologies on a wide variety of
   different XML document types at a minimum cost, using existing
   frameworks for media type registration.

   See <a href="#section-4.2">Section 4.2</a> for guidance on when and how to register a media
   subtype that is '+xml' based, and <a href="#section-4.3">Section 4.3</a> on registering a media
   subtype for XML but _not_ using '+xml'.

<span class="h4"><a class="selflink" name="section-9.6.1" href="#section-9.6.1">9.6.1</a>.  The '+xml' Structured Syntax Suffix Registration</span>

   Name:  Extensible Markup Language (XML)

   +suffix:  +xml

   Reference:  <a href="rfc7303.html">RFC 7303</a>

   Encoding considerations:  Same as <a href="#section-9.1">Section 9.1</a>.

   Fragment identifier considerations:  Registrations that use this
      '+xml' convention MUST also make reference to this document,
      specifically <a href="#section-5">Section 5</a>, in specifying fragment identifier syntax



<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 23]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-24" id="page-24" href="#page-24" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


      and semantics, and they MAY restrict the syntax to a specified
      subset of schemes, except that they MUST NOT disallow barenames or
      'element' scheme pointers.  They MAY further require support for
      other registered schemes.  They also MAY add additional syntax
      (which MUST NOT overlap with [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>] syntax) together
      with associated semantics, and they MAY add additional semantics
      for barename XPointers that, as provided for in <a href="#section-5">Section 5</a>, will
      only apply when this document does not define an interpretation.

         In practice, these constraints imply that for a fragment
         identifier addressed to an instance of a specific "xxx/yyy+xml"
         type, there are three cases:

            For fragment identifiers matching the syntax defined in
            [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>], where the fragment identifier resolves
            per the rules specified there, then process as specified
            there;

            For fragment identifiers matching the syntax defined in
            [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>], where the fragment identifier does
            _not_ resolve per the rules specified there, then process as
            specified in "xxx/yyy+xml";

            For fragment identifiers _not_ matching the syntax defined
            in [<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>], then process as specified in "xxx/
            yyy+xml".  A fragment identifier of the form
            "xywh=160,120,320,240", as defined in [<a href="#ref-MediaFrags" title="&quot;Media Fragments URI 1.0 (basic)&quot;">MediaFrags</a>], which
            might be used in a URI for an XML-encoded image, would fall
            in this category.

   Interoperability considerations:  Same as <a href="#section-9.1">Section 9.1</a>.  See above,
      and also <a href="#section-3">Section 3</a>, for guidelines on the use of the 'charset'
      parameter.

   Security considerations:  See <a href="#section-10">Section 10</a>.

   Contact:  See Authors' Addresses section.

   Author:  See Authors' Addresses section.

   Change controller:  The XML specification is a work product of the
      World Wide Web Consortium's XML Core Working Group.  The W3C has
      change control over <a href="rfc7303.html">RFC 7303</a>.








<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 24]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-25" id="page-25" href="#page-25" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>.  Security Considerations</span>

   XML MIME entities contain information that may be parsed and further
   processed by the recipient.  These entities may contain, and
   recipients may permit, explicit system level commands to be executed
   while processing the data.  To the extent that a recipient
   application executes arbitrary command strings from within XML MIME
   entities, they may be at risk.

   In general, any information stored outside of the direct control of
   the user -- including CSS style sheets, XSL transformations, XML-
   entity declarations, and DTDs -- can be a source of insecurity, by
   either obvious or subtle means.  For example, a tiny "whiteout
   attack" modification made to a "master" style sheet could make words
   in critical locations disappear in user documents, without directly
   modifying the user document or the stylesheet it references.  Thus,
   the security of any XML document is vitally dependent on all of the
   documents recursively referenced by that document.

   The XML-entity lists and DTDs for XHTML 1.0 [<a href="#ref-XHTML" title="&quot;XHTML 1.0: The Extensible HyperText Markup Language&quot;">XHTML</a>], for instance,
   are likely to be a widely exploited set of resources.  They will be
   used and trusted by many developers, few of whom will know much about
   the level of security on the W3C's servers, or on any similarly
   trusted repository.

   The simplest attack involves adding declarations that break
   validation.  Adding extraneous declarations to a list of character
   XML-entities can effectively "break the contract" used by documents.
   A tiny change that produces a fatal error in a DTD could halt XML
   processing on a large scale.  Extraneous declarations are fairly
   obvious, but more sophisticated tricks, like changing attributes from
   being optional to required, can be difficult to track down.  Perhaps
   the most dangerous option available to attackers, when external DTD
   subsets or external parameter entities or other externally specified
   defaulting is involved, is redefining default values for attributes:
   for example, if developers have relied on defaulted attributes for
   security, a relatively small change might expose enormous quantities
   of information.

   Apart from the structural possibilities, another option, "XML-entity
   spoofing," can be used to insert text into documents, vandalizing and
   perhaps conveying an unintended message.  Because XML permits
   multiple XML-entity declarations, and the first declaration takes
   precedence, it is possible to insert malicious content where an XML-
   entity reference is used, such as by inserting the full text of
   Winnie the Pooh in place of every occurrence of &amp;mdash;.





<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 25]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-26" id="page-26" href="#page-26" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Security considerations will vary by domain of use.  For example, XML
   medical records will have much more stringent privacy and security
   considerations than XML library metadata.  Similarly, use of XML as a
   parameter marshalling syntax necessitates a case by case security
   review.

   XML may also have some of the same security concerns as plain text.
   Like plain text, XML can contain escape sequences that, when
   displayed, have the potential to change the display processor
   environment in ways that adversely affect subsequent operations.
   Possible effects include, but are not limited to, locking the
   keyboard, changing display parameters so subsequent displayed text is
   unreadable, or even changing display parameters to deliberately
   obscure or distort subsequent displayed material so that its meaning
   is lost or altered.  Display processors SHOULD either filter such
   material from displayed text or else make sure to reset all important
   settings after a given display operation is complete.

   With some terminal devices, sending particular character sequences to
   the display processor can change the output of subsequent key
   presses.  If this is possible the display of a text object containing
   such character sequences could reprogram keys to perform some illicit
   or dangerous action when the key is subsequently pressed by the user.
   In some cases not only can keys be programmed, they can be triggered
   remotely, making it possible for a text display operation to directly
   perform some unwanted action.  As such, the ability to program keys
   SHOULD be blocked either by filtering or by disabling the ability to
   program keys entirely.

   Note that it is also possible to construct XML documents that make
   use of what XML terms "[XML-]entity references" to construct repeated
   expansions of text.  Recursive expansions are prohibited by [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] and
   XML processors are required to detect them.  However, even non-
   recursive expansions may cause problems with the finite computing
   resources of computers, if they are performed many times.  For
   example, consider the case where XML-entity A consists of 100 copies
   of XML-entity B, which in turn consists of 100 copies of XML-entity
   C, and so on.













<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 26]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-27" id="page-27" href="#page-27" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>.  References</span>

<span class="h3"><a class="selflink" name="section-11.1" href="#section-11.1">11.1</a>.  Normative References</span>

   [<a name="ref-IANA-CHARSETS" id="ref-IANA-CHARSETS">IANA-CHARSETS</a>]
              IANA, "Character Sets Registry", 2013,
              &lt;<a href="http://www.iana.org/assignments/character-sets/">http://www.iana.org/assignments/character-sets/</a>&gt;.

   [<a name="ref-RFC2045" id="ref-RFC2045">RFC2045</a>]  Freed, N. and N. Borenstein, "Multipurpose Internet Mail
              Extensions (MIME) Part One: Format of Internet Message
              Bodies", <a href="rfc2045.html">RFC 2045</a>, November 1996.

   [<a name="ref-RFC2046" id="ref-RFC2046">RFC2046</a>]  Freed, N. and N. Borenstein, "Multipurpose Internet Mail
              Extensions (MIME) Part Two: Media Types", <a href="rfc2046.html">RFC 2046</a>,
              November 1996.

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a name="ref-RFC2781" id="ref-RFC2781">RFC2781</a>]  Hoffman, P. and F. Yergeau, "UTF-16, an encoding of ISO
              10646", <a href="rfc2781.html">RFC 2781</a>, February 2000.

   [<a name="ref-RFC2978" id="ref-RFC2978">RFC2978</a>]  Freed, N. and J. Postel, "IANA Charset Registration
              Procedures", <a href="https://tools.ietf.org/html/bcp19">BCP 19</a>, <a href="rfc2978.html">RFC 2978</a>, October 2000.

   [<a name="ref-RFC3986" id="ref-RFC3986">RFC3986</a>]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66, <a href="rfc3986.html">RFC</a>
              <a href="rfc3986.html">3986</a>, January 2005.

   [<a name="ref-RFC3987" id="ref-RFC3987">RFC3987</a>]  Duerst, M. and M. Suignard, "Internationalized Resource
              Identifiers (IRIs)", <a href="rfc3987.html">RFC 3987</a>, January 2005.

   [<a name="ref-RFC6657" id="ref-RFC6657">RFC6657</a>]  Melnikov, A. and J. Reschke, "Update to MIME regarding
              "charset" Parameter Handling in Textual Media Types", <a href="rfc6657.html">RFC</a>
              <a href="rfc6657.html">6657</a>, July 2012.

   [<a name="ref-RFC6838" id="ref-RFC6838">RFC6838</a>]  Freed, N., Klensin, J., and T. Hansen, "Media Type
              Specifications and Registration Procedures", <a href="https://tools.ietf.org/html/bcp13">BCP 13</a>, <a href="rfc6838.html">RFC</a>
              <a href="rfc6838.html">6838</a>, January 2013.

   [<a name="ref-RFC6839" id="ref-RFC6839">RFC6839</a>]  Hansen, T. and A. Melnikov, "Additional Media Type
              Structured Syntax Suffixes", <a href="rfc6839.html">RFC 6839</a>, January 2013.

   [<a name="ref-RFC7230" id="ref-RFC7230">RFC7230</a>]  Fielding, R. and J. Reschke, "Hypertext Transfer Protocol
              (HTTP/1.1): Message Syntax and Routing", <a href="rfc7230.html">RFC 7230</a>, June
              2014.





<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 27]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-28" id="page-28" href="#page-28" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   [<a name="ref-RFC7231" id="ref-RFC7231">RFC7231</a>]  Fielding, R. and J. Reschke, "Hypertext Transfer Protocol
              (HTTP/1.1): Semantics and Content", <a href="rfc7231.html">RFC 7231</a>, June 2014.

   [<a name="ref-UNICODE" id="ref-UNICODE">UNICODE</a>]  The Unicode Consortium, "The Unicode Standard, Version
              7.0.0", (Mountain View, CA: The Unicode Consortium, 2014
              ISBN 978-1-936213-09-2),
              &lt;<a href="http://www.unicode.org/versions/Unicode7.0.0/">http://www.unicode.org/versions/Unicode7.0.0/</a>&gt;.

   [<a name="ref-XML" id="ref-XML">XML</a>]      Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and
              F. Yergeau, "Extensible Markup Language (XML) 1.0 (Fifth
              Edition)", W3C Recommendation REC-xml, November 2008,
              &lt;<a href="http://www.w3.org/TR/2008/REC-xml-20081126/">http://www.w3.org/TR/2008/REC-xml-20081126/</a>&gt;.

              Latest version available at &lt;<a href="http://www.w3.org/TR/xml">http://www.w3.org/TR/xml</a>&gt;.

   [<a name="ref-XML1.1" id="ref-XML1.1">XML1.1</a>]   Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E.,
              Yergeau, F., and J. Cowan, "Extensible Markup Language
              (XML) 1.1 (Second Edition)", W3C Recommendation REC-xml,
              September 2006,
              &lt;<a href="http://www.w3.org/TR/2006/REC-xml11-20060816/">http://www.w3.org/TR/2006/REC-xml11-20060816/</a>&gt;.

              Latest version available at &lt;<a href="http://www.w3.org/TR/xml11">http://www.w3.org/TR/xml11</a>&gt;.

   [<a name="ref-XMLBase" id="ref-XMLBase">XMLBase</a>]  Marsh, J. and R. Tobin, "XML Base (Second Edition)", W3C
              Recommendation REC-xmlbase-20090128, January 2009,
              &lt;<a href="http://www.w3.org/TR/2009/REC-xmlbase-20090128/">http://www.w3.org/TR/2009/REC-xmlbase-20090128/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xmlbase">http://www.w3.org/TR/xmlbase</a>&gt;.

   [<a name="ref-XPointerElement" id="ref-XPointerElement">XPointerElement</a>]
              Grosso, P., Maler, E., Marsh, J., and N. Walsh, "XPointer
              element() Scheme", W3C Recommendation REC-XPointer-
              Element, March 2003,
              &lt;<a href="http://www.w3.org/TR/2003/REC-xptr-element-20030325/">http://www.w3.org/TR/2003/REC-xptr-element-20030325/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xptr-element">http://www.w3.org/TR/xptr-element</a>&gt;.

   [<a name="ref-XPointerFramework" id="ref-XPointerFramework">XPointerFramework</a>]
              Grosso, P., Maler, E., Marsh, J., and N. Walsh, "XPointer
              Framework", W3C Recommendation REC-XPointer-Framework,
              March 2003,
              &lt;<a href="http://www.w3.org/TR/2003/REC-xptr-framework-20030325/">http://www.w3.org/TR/2003/REC-xptr-framework-20030325/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xptr-framework">http://www.w3.org/TR/xptr-framework</a>&gt;.




<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 28]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-29" id="page-29" href="#page-29" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   [<a name="ref-XPtrReg" id="ref-XPtrReg">XPtrReg</a>]  Hazael-Massieux, D., "XPointer Registry", 2005,
              &lt;<a href="http://www.w3.org/2005/04/xpointer-schemes/">http://www.w3.org/2005/04/xpointer-schemes/</a>&gt;.

   [<a name="ref-XPtrRegPolicy" id="ref-XPtrRegPolicy">XPtrRegPolicy</a>]
              Hazael-Massieux, D., "XPointer Scheme Name Registry
              Policy", 2005,
              &lt;<a href="http://www.w3.org/2005/04/xpointer-policy.html">http://www.w3.org/2005/04/xpointer-policy.html</a>&gt;.

<span class="h3"><a class="selflink" name="section-11.2" href="#section-11.2">11.2</a>.  Informative References</span>

   [<a name="ref-ASCII" id="ref-ASCII">ASCII</a>]    American National Standards Institute, "Coded Character
              Set -- 7-bit American Standard Code for Information
              Interchange", ANSI X3.4, 1986.

   [<a name="ref-AWWW" id="ref-AWWW">AWWW</a>]     Jacobs, I. and N. Walsh, "Architecture of the World Wide
              Web, Volume One", W3C Recommendation REC-webarch-20041215,
              December 2004,
              &lt;<a href="http://www.w3.org/TR/2004/REC-webarch-20041215/">http://www.w3.org/TR/2004/REC-webarch-20041215/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/webarch">http://www.w3.org/TR/webarch</a>&gt;.

   [<a name="ref-FYN" id="ref-FYN">FYN</a>]      Mendelsohn, N., "The Self-Describing Web", W3C TAG Finding
              selfDescribingDocuments-2009-02-07, February 2009,
              &lt;<a href="http://www.w3.org/2001/tag/doc/selfDescribingDocuments-2009-02-07.html">http://www.w3.org/2001/tag/doc/</a>
              <a href="http://www.w3.org/2001/tag/doc/selfDescribingDocuments-2009-02-07.html">selfDescribingDocuments-2009-02-07.html</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/2001/tag/doc/selfDescribingDocuments.html">http://www.w3.org/2001/tag/doc/</a>
              <a href="http://www.w3.org/2001/tag/doc/selfDescribingDocuments.html">selfDescribingDocuments.html</a>&gt;

   [<a name="ref-Infoset" id="ref-Infoset">Infoset</a>]  Cowan, J. and R. Tobin, "XML Information Set (Second
              Edition)", W3C Recommendation REC-xml-infoset-20040204,
              Febuary 2004,
              &lt;<a href="http://www.w3.org/TR/2004/REC-xml-infoset-20040204/">http://www.w3.org/TR/2004/REC-xml-infoset-20040204/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xml-infoset/">http://www.w3.org/TR/xml-infoset/</a>&gt;.

   [<a name="ref-MediaFrags" id="ref-MediaFrags">MediaFrags</a>]
              Troncy, R., Mannens, E., Pfeiffer, S., and D. Van Deursen,
              "Media Fragments URI 1.0 (basic)", W3C Recommendation
              media-frags, September 2012,
              &lt;<a href="http://www.w3.org/TR/2012/REC-media-frags-20120925/">http://www.w3.org/TR/2012/REC-media-frags-20120925/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/media-frags">http://www.w3.org/TR/media-frags</a>&gt;.




<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 29]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-30" id="page-30" href="#page-30" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   [<a name="ref-RFC1557" id="ref-RFC1557">RFC1557</a>]  Choi, U., Chon, K., and H. Park, "Korean Character
              Encoding for Internet Messages", <a href="rfc1557.html">RFC 1557</a>, December 1993.

   [<a name="ref-RFC2376" id="ref-RFC2376">RFC2376</a>]  Whitehead, E. and M. Murata, "XML Media Types", <a href="rfc2376.html">RFC 2376</a>,
              July 1998.

   [<a name="ref-RFC2616" id="ref-RFC2616">RFC2616</a>]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
              Transfer Protocol -- HTTP/1.1", <a href="rfc2616.html">RFC 2616</a>, June 1999.

   [<a name="ref-RFC3023" id="ref-RFC3023">RFC3023</a>]  Murata, M., St. Laurent, S., and D. Kohn, "XML Media
              Types", <a href="rfc3023.html">RFC 3023</a>, January 2001.

   [<a name="ref-RFC3030" id="ref-RFC3030">RFC3030</a>]  Vaudreuil, G., "SMTP Service Extensions for Transmission
              of Large and Binary MIME Messages", <a href="rfc3030.html">RFC 3030</a>, December
              2000.

   [<a name="ref-RFC3977" id="ref-RFC3977">RFC3977</a>]  Feather, C., "Network News Transfer Protocol (NNTP)", <a href="rfc3977.html">RFC</a>
              <a href="rfc3977.html">3977</a>, October 2006.

   [<a name="ref-RFC5226" id="ref-RFC5226">RFC5226</a>]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", <a href="https://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc5226.html">RFC 5226</a>,
              May 2008.

   [<a name="ref-RFC5321" id="ref-RFC5321">RFC5321</a>]  Klensin, J., "Simple Mail Transfer Protocol", <a href="rfc5321.html">RFC 5321</a>,
              October 2008.

   [<a name="ref-RFC6152" id="ref-RFC6152">RFC6152</a>]  Klensin, J., Freed, N., Rose, M., and D. Crocker, "SMTP
              Service Extension for 8-bit MIME Transport", STD 71, <a href="rfc6152.html">RFC</a>
              <a href="rfc6152.html">6152</a>, March 2011.

   [<a name="ref-Sivonen" id="ref-Sivonen">Sivonen</a>]  Sivonen, H. and others, "Mozilla bug: Remove support for
              UTF-32 per HTML5 spec", October 2011,
              &lt;<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=604317#c6">https://bugzilla.mozilla.org/show_bug.cgi?id=604317#c6</a>&gt;.

   [<a name="ref-TAGMIME" id="ref-TAGMIME">TAGMIME</a>]  Bray, T., Ed., "Internet Media Type registration,
              consistency of use", April 2004,
              &lt;<a href="http://www.w3.org/2001/tag/2004/0430-mime">http://www.w3.org/2001/tag/2004/0430-mime</a>&gt;.

   [<a name="ref-XHTML" id="ref-XHTML">XHTML</a>]    Pemberton, S. and et al, "XHTML 1.0: The Extensible
              HyperText Markup Language", W3C Recommendation xhtml1,
              December 1999,
              &lt;<a href="http://www.w3.org/TR/2000/REC-xhtml1-20000126/">http://www.w3.org/TR/2000/REC-xhtml1-20000126/</a>&gt;.

              Latest version available at &lt;<a href="http://www.w3.org/TR/xhtml1">http://www.w3.org/TR/xhtml1</a>&gt;.






<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 30]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-31" id="page-31" href="#page-31" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   [<a name="ref-XMLModel" id="ref-XMLModel">XMLModel</a>] Grosso, P. and J. Kosek, "Associating Schemas with XML
              documents 1.0 (Third Edition)", W3C Working Group Note
              NOTE-xml-model-20121009, October 2012,
              &lt;<a href="http://www.w3.org/TR/2012/NOTE-xml-model-20121009/">http://www.w3.org/TR/2012/NOTE-xml-model-20121009/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xml-model">http://www.w3.org/TR/xml-model</a>&gt;.

   [<a name="ref-XMLNS10" id="ref-XMLNS10">XMLNS10</a>]  Bray, T., Hollander, D., Layman, A., Tobin, R., and H.
              Thompson, "Namespaces in XML 1.0 (Third Edition)", W3C
              Recommendation REC-xml-names-20091208, December 2009,
              &lt;<a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/">http://www.w3.org/TR/2009/REC-xml-names-20091208/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xml-names">http://www.w3.org/TR/xml-names</a>&gt;.

   [<a name="ref-XMLNS11" id="ref-XMLNS11">XMLNS11</a>]  Bray, T., Hollander, D., Layman, A., and R. Tobin,
              "Namespaces in XML 1.1 (Second Edition)", W3C
              Recommendation REC-xml-names11-20060816, August 2006,
              &lt;<a href="http://www.w3.org/TR/2006/REC-xml-names11-20060816/">http://www.w3.org/TR/2006/REC-xml-names11-20060816/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xml-names11">http://www.w3.org/TR/xml-names11</a>&gt;.

   [<a name="ref-XMLSS" id="ref-XMLSS">XMLSS</a>]    Clark, J., Pieters, S., and H. Thompson, "Associating
              Style Sheets with XML documents 1.0 (Second Edition)", W3C
              Recommendation REC-xml-stylesheet-20101028, October 2010,
              &lt;<a href="http://www.w3.org/TR/2010/REC-xml-stylesheet-20101028/">http://www.w3.org/TR/2010/REC-xml-stylesheet-20101028/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xml-stylesheet">http://www.w3.org/TR/xml-stylesheet</a>&gt;.

   [<a name="ref-XMLid" id="ref-XMLid">XMLid</a>]    Marsh, J., Veillard, D., and N. Walsh, "xml:id Version
              1.0", W3C Recommendation REC-xml-id-20050909, September
              2005, &lt;<a href="http://www.w3.org/TR/2005/REC-xml-id-20050909/">http://www.w3.org/TR/2005/REC-xml-id-20050909/</a>&gt;.

              Latest version available at
              &lt;<a href="http://www.w3.org/TR/xml-id">http://www.w3.org/TR/xml-id</a>&gt;.













<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 31]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-32" id="page-32" href="#page-32" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h2"><a class="selflink" name="appendix-A" href="#appendix-A">Appendix A</a>.  Why Use the '+xml' Suffix for XML-Based MIME Types?</span>

   [<a name="ref-RFC3023" id="ref-RFC3023">RFC3023</a>] contains a detailed discussion of the (at the time) novel
   use of a suffix, a practice that has since become widespread.  Those
   interested in a historical perspective on this topic are referred to
   <a href="rfc3023.html#appendix-A">[RFC3023], Appendix&nbsp;A</a>.

   The registration process for new '+xml' media types is described in
   [<a href="rfc6838.html" title="&quot;Media Type Specifications and Registration Procedures&quot;">RFC6838</a>].

<span class="h2"><a class="selflink" name="appendix-B" href="#appendix-B">Appendix B</a>.  Core XML Specifications</span>

   The following specifications each articulate key aspects of XML
   document semantics:

      Namespaces in XML 1.0 [<a href="#ref-XMLNS10" title="&quot;Namespaces in XML 1.0 (Third Edition)&quot;">XMLNS10</a>]/Namespaces in XML 1.1 [<a href="#ref-XMLNS11" title="&quot;Namespaces in XML 1.1 (Second Edition)&quot;">XMLNS11</a>]

      XML Information Set [<a href="#ref-Infoset" title="&quot;XML Information Set (Second Edition)&quot;">Infoset</a>]

      xml:id [<a href="#ref-XMLid" title="&quot;xml:id Version 1.0&quot;">XMLid</a>]

      XML Base [<a href="#ref-XMLBase" title="&quot;XML Base (Second Edition)&quot;">XMLBase</a>]

      Associating Style Sheets with XML documents [<a href="#ref-XMLSS" title="&quot;Associating Style Sheets with XML documents 1.0 (Second Edition)&quot;">XMLSS</a>]

      Associating Schemas with XML documents [<a href="#ref-XMLModel" title="&quot;Associating Schemas with XML documents 1.0 (Third Edition)&quot;">XMLModel</a>]

   The W3C Technical Architecture group has produced two documents that
   are also relevant:

      The Self-Describing Web [<a href="#ref-FYN" title="&quot;The Self-Describing Web&quot;">FYN</a>] discusses the overall principles of
      how document semantics are determined on the Web.

      Architecture of the World Wide Web, Volume One [<a href="#ref-AWWW" title="&quot;Architecture of the World Wide Web, Volume One&quot;">AWWW</a>],
      Section 4.5.4, discusses the specific role of XML Namespace
      documents in this process.

<span class="h2"><a class="selflink" name="appendix-C" href="#appendix-C">Appendix C</a>.  Operational Considerations</span>

   This section provides an informal summary of the major operational
   considerations that arise when exchanging XML MIME entities over a
   network.









<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 32]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-33" id="page-33" href="#page-33" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h3"><a class="selflink" name="appendix-C.1" href="#appendix-C.1">C.1</a>.  General Considerations</span>

   The existence of both XML-aware and XML-unaware agents handling XML
   MIME entities can compromise introperability.  Generic transcoding
   proxies pose a particular risk in this regard.  Detailed advice about
   the handling of BOMs when transcoding can be found in <a href="#section-3.3">Section 3.3</a>.

   This specification requires XML consumers to treat BOMs as
   authoritative: this is in principle a backwards-incompatibility.  In
   practice, serious interoperability issues already exist when BOMs are
   used.  Making BOMs authoritative, in conjunction with the deprecation
   of the UTF-32 encoding form and the requirement to include an XML
   encoding declaration in certain cases (<a href="#section-3.1">Section 3.1</a>), is intended to
   improve in-practice interoperability as much as possible over time.

   This specification establishes <a href="#section-5">Section 5</a> as the basis for
   interpreting URIs for XML MIME entities that include fragment
   identifiers, mandates support only for shorthand ("simple name") and
   'element'-scheme fragments and deprecates support for unregistered
   XPointer schemes by XML MIME entity processors.  Accordingly, URIs
   will interoperate best if they use only simple names and 'element'-
   scheme fragment identifiers, with registered schemes varying widely
   in the degree of support to be found in generic tools.  XPointer
   scheme authors can only expect generic tool support if they register
   their schemes.

<span class="h3"><a class="selflink" name="appendix-C.2" href="#appendix-C.2">C.2</a>.  Considerations for Producers</span>

   Interoperability for all XML MIME entities is maximized by the use of
   UTF-8, without a BOM.  When UTF-8 is _not_ used, a charset parameter
   and/or a BOM improve interoperability, particularly when XML-unaware
   consumers may be involved.

   In the very rare case where the substantive content of a non-UNICODE
   XML external parsed entity begins with the hexadecimal octet
   sequences 0xFE 0xFF, 0xFF 0xFE or 0xEF 0xBB 0xBF, including an XML
   text declaration will forestall the mistaken detection of a BOM.

   The use of UTF-32 for XML MIME entities puts interoperability at very
   high risk.

   Web-server configurations that supply default charset parameters risk
   misrepresenting XML MIME entities.  Allowing users to control the
   value of charset parameters improves interoperability.







<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 33]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-34" id="page-34" href="#page-34" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


   Supplying a mistaken charset parameter is worse than supplying none
   at all.  In particular, generic processors such as transcoders, when
   processing based on a mistaken charset parameter, if they do not fail
   altogether are likely to produce arbitrarily bogus results from which
   the original is not recoverable.

<span class="h3"><a class="selflink" name="appendix-C.3" href="#appendix-C.3">C.3</a>.  Considerations for Consumers</span>

   Consumers of XML MIME entities can maximize interoperability by

   1.  Taking a BOM as authoritative if it is present in an XML MIME
       entity;

   2.  In the absence of a BOM, taking a charset parameter as
       authoritative if it is present.

   Assuming a default character encoding in the absence of a charset
   parameter harms interoperability.

   Although support for UTF-32 is not required by [<a href="#ref-XML" title="&quot;Extensible Markup Language (XML) 1.0 (Fifth Edition)&quot;">XML</a>] itself, and this
   specification deprecates its use, consumers that check for UTF-32
   BOMs can thereby avoid mistakenly processing UTF-32 entities as
   (invalid) UTF-16 entities.

<span class="h2"><a class="selflink" name="appendix-D" href="#appendix-D">Appendix D</a>.  Changes from <a href="rfc3023.html">RFC 3023</a></span>

   There are numerous and significant differences between this
   specification and [<a href="rfc3023.html" title="&quot;XML Media Types&quot;">RFC3023</a>], which it obsoletes.  This appendix
   summarizes the major differences only.

      XPointer ([<a href="#ref-XPointerFramework" title="&quot;XPointer Framework&quot;">XPointerFramework</a>] and [<a href="#ref-XPointerElement" title="&quot;XPointer element() Scheme&quot;">XPointerElement</a>]) has been
      added as fragment identifier syntax for all the XML media types,
      and the XPointer Registry ([<a href="#ref-XPtrReg" title="&quot;XPointer Registry&quot;">XPtrReg</a>]) mentioned

      [<a name="ref-XMLBase" id="ref-XMLBase">XMLBase</a>] has been added as a mechanism for specifying base URIs

      The language regarding character sets was updated to correspond to
      the W3C TAG finding Internet Media Type registration, consistency
      of use [<a href="#ref-TAGMIME" title="&quot;Internet Media Type registration, consistency of use&quot;">TAGMIME</a>]

      Priority is now given to a BOM if present

      Many references are updated, and the existence of XML 1.1 and
      relevance of this specification to it acknowledged

      A number of justifications and contextualizations that were
      appropriate when XML was new have been removed, including the
      whole of the original <a href="#appendix-A">Appendix A</a>



<span class="grey">Thompson &amp; Lilley            Standards Track                   [Page 34]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-35" id="page-35" href="#page-35" class="invisible"> </a>
<span class="grey"><a href="rfc7303.html">RFC 7303</a>                     XML Media Types                   July 2014</span>


<span class="h2"><a class="selflink" name="appendix-E" href="#appendix-E">Appendix E</a>.  Acknowledgements</span>

   MURATA Makoto (FAMILY Given) and Alexey Melnikov made early and
   important contributions to the effort to revise [<a href="rfc3023.html" title="&quot;XML Media Types&quot;">RFC3023</a>].

   This specification reflects the input of numerous participants to the
   ietf-xml-mime@imc.org, xml-mime@ietf.org, and apps-discuss@ietf.org
   mailing lists, though any errors are the responsibility of the
   authors.  Special thanks to:

   Mark Baker, James Clark, Dan Connolly, Martin Duerst, Ned Freed,
   Yaron Goland, Bjoern Hoehrmann, Rick Jelliffe, Murray S.  Kucherawy,
   Larry Masinter, David Megginson, S.  Moonesamy, Keith Moore, Chris
   Newman, Gavin Nicol, Julian Reschke, Marshall Rose, Jim Whitehead,
   Erik Wilde, and participants of the XML activity and the TAG at the
   W3C.

   Jim Whitehead and Simon St. Laurent were editors of [<a href="rfc2376.html" title="&quot;XML Media Types&quot;">RFC2376</a>] and
   [<a href="rfc3023.html" title="&quot;XML Media Types&quot;">RFC3023</a>], respectively.

Authors' Addresses

   Henry S. Thompson
   University of Edinburgh

   EMail: ht@inf.ed.ac.uk
   URI:   <a href="http://www.ltg.ed.ac.uk/~ht/">http://www.ltg.ed.ac.uk/~ht/</a>


   Chris Lilley
   World Wide Web Consortium
   2004, Route des Lucioles - B.P. 93 06902
   Sophia Antipolis Cedex
   France

   EMail: chris@w3.org
   URI:   <a href="http://www.w3.org/People/chris/">http://www.w3.org/People/chris/</a>














Thompson &amp; Lilley            Standards Track                   [Page 35]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129c, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc7303 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:30:21 GMT -->
</html>
