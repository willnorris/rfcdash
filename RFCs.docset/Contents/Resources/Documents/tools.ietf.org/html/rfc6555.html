<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6555 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:29 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-wing-v6ops-happy-eyeballs-ipv6" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6555" name="DC.Identifier"/>
<meta content="April, 2012" name="DC.Date.Issued"/>
<meta content="Wing, Dan" name="DC.Creator"/>
<meta content="Yourtchenko, Andrew" name="DC.Creator"/>
<meta content="When a server's IPv4 path and protocol are working, but the
server's IPv6 path and protocol are not working, a dual-stack
client application experiences significant connection delay compared
to an IPv4-only client. This is undesirable because it causes the
dual- stack client to have a worse user experience. This document
specifies requirements for algorithms that reduce this user-visible
delay and provides an algorithm. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Happy Eyeballs: Success with Dual-Stack Hosts" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6555 - Happy Eyeballs: Success with Dual-Stack Hosts</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6555.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6555" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-v6ops-happy-eyeballs" title="draft-ietf-v6ops-happy-eyeballs">draft-ietf-v6op...</a>] [<a href="https://datatracker.ietf.org/doc/rfc6555" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6555" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6555" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=6555&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=6555">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc8305.html">8305</a>                                     PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Internet Engineering Task Force (IETF)                           D. Wing
Request for Comments: 6555                                A. Yourtchenko
Category: Standards Track                                          Cisco
ISSN: 2070-1721                                               April 2012


             <span class="h1">Happy Eyeballs: Success with Dual-Stack Hosts</span>

Abstract

   When a server's IPv4 path and protocol are working, but the server's
   IPv6 path and protocol are not working, a dual-stack client
   application experiences significant connection delay compared to an
   IPv4-only client.  This is undesirable because it causes the dual-
   stack client to have a worse user experience.  This document
   specifies requirements for algorithms that reduce this user-visible
   delay and provides an algorithm.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6555">http://www.rfc-editor.org/info/rfc6555</a>.

Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Additional Network and Host Traffic  . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Notational Conventions . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Problem Statement  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-3.1">3.1</a>.  Hostnames  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-3.2">3.2</a>.  Delay When IPv6 Is Not Accessible  . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-4">4</a>.  Algorithm Requirements . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
     <a href="#section-4.1">4.1</a>.  Delay IPv4 . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-4.2">4.2</a>.  Stateful Behavior When IPv6 Fails  . . . . . . . . . . . .  <a href="#page-8">8</a>
     <a href="#section-4.3">4.3</a>.  Reset on Network (Re-)Initialization . . . . . . . . . . .  <a href="#page-9">9</a>
     <a href="#section-4.4">4.4</a>.  Abandon Non-Winning Connections  . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-5">5</a>.  Additional Considerations  . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-5.1">5.1</a>.  Determining Address Type . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-5.2">5.2</a>.  Debugging and Troubleshooting  . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-5.3">5.3</a>.  Three or More Interfaces . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-5.4">5.4</a>.  A and AAAA Resource Records  . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-5.5">5.5</a>.  Connection Timeout . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
     <a href="#section-5.6">5.6</a>.  Interaction with Same-Origin Policy  . . . . . . . . . . . <a href="#page-11">11</a>
     <a href="#section-5.7">5.7</a>.  Implementation Strategies  . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-6">6</a>.  Example Algorithm  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-7">7</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-8">8</a>.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-9">9</a>.  References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-9.1">9.1</a>.  Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-9.2">9.2</a>.  Informative References . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
























<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   In order to use applications over IPv6, it is necessary that users
   enjoy nearly identical performance as compared to IPv4.  A
   combination of today's applications, IPv6 tunneling, IPv6 service
   providers, and some of today's content providers all cause the user
   experience to suffer (<a href="#section-3">Section 3</a>).  For IPv6, a content provider may
   ensure a positive user experience by using a DNS white list of IPv6
   service providers who peer directly with them (e.g., [<a href="#ref-WHITELIST" title='"Google over IPv6"'>WHITELIST</a>]).
   However, this does not scale well (to the number of DNS servers
   worldwide or the number of content providers worldwide) and does
   react to intermittent network path outages.

   Instead, applications reduce connection setup delays themselves, by
   more aggressively making connections on IPv6 and IPv4.  There are a
   variety of algorithms that can be envisioned.  This document
   specifies requirements for any such algorithm, with the goals that
   the network and servers not be inordinately harmed with a simple
   doubling of traffic on IPv6 and IPv4 and the host's address
   preference be honored (e.g., [<a href="rfc3484.html" title='"Default Address Selection for Internet Protocol version 6 (IPv6)"'>RFC3484</a>]).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Additional%20Network%20and%20Host%20Traffic"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Additional Network and Host Traffic</span>

   Additional network traffic and additional server load is created due
   to the recommendations in this document, especially when connections
   to the preferred address family (usually IPv6) are not completing
   quickly.

   The procedures described in this document retain a quality user
   experience while transitioning from IPv4-only to dual stack, while
   still giving IPv6 a slight preference over IPv4 (in order to remove
   load from IPv4 networks and, most importantly, to reduce the load on
   IPv4 network address translators).  The user experience is improved
   to the slight detriment of the network, DNS server, and server that
   are serving the user.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Notational%20Conventions"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Notational Conventions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].










<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Problem%20Statement"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Problem Statement</span>

   The basis of the IPv6/IPv4 selection problem was first described in
   1994 in [<a href="rfc1671.html" title='"IPng White Paper on Transition and Other Considerations"'>RFC1671</a>]:

      The dual-stack code may get two addresses back from DNS; which
      does it use?  During the many years of transition the Internet
      will contain black holes.  For example, somewhere on the way from
      IPng host A to IPng host B there will sometimes (unpredictably) be
      IPv4-only routers which discard IPng packets.  Also, the state of
      the DNS does not necessarily correspond to reality.  A host for
      which DNS claims to know an IPng address may in fact not be
      running IPng at a particular moment; thus an IPng packet to that
      host will be discarded on delivery.  Knowing that a host has both
      IPv4 and IPng addresses gives no information about black holes.  A
      solution to this must be proposed and it must not depend on
      manually maintained information.  (If this is not solved, the
      dual-stack approach is no better than the packet translation
      approach.)

   As discussed in more detail in <a href="#section-3.1">Section 3.1</a>, it is important that the
   same hostname be used for IPv4 and IPv6.

   As discussed in more detail in <a href="#section-3.2">Section 3.2</a>, IPv6 connectivity is
   broken to specific prefixes or specific hosts or is slower than
   native IPv4 connectivity.

   The mechanism described in this document is directly applicable to
   connection-oriented transports (e.g., TCP, SCTP), which is the scope
   of this document.  For connectionless transport protocols (e.g.,
   UDP), a similar mechanism can be used if the application has request/
   response semantics (e.g., as done by Interactive Connectivity
   Establishment (ICE) to select a working IPv6 or IPv4 media path
   [<a href="rfc6157.html" title='"IPv6 Transition in the Session Initiation Protocol (SIP)"'>RFC6157</a>]).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Hostnames"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Hostnames</span>

   Hostnames are often used between users to exchange pointers to
   content -- such as on social networks, email, instant messaging, or
   other systems.  Using separate namespaces (e.g., "ipv6.example.com"),
   which are only accessible with certain client technology (e.g., an
   IPv6 client) and dependencies (e.g., a working IPv6 path), causes
   namespace fragmentation and reduces the ability for users to share
   hostnames.  It also complicates printed material that includes the
   hostname.

   The algorithm described in this document allows production hostnames
   to avoid these problematic references to IPv4 or IPv6.



<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Delay%20When%20IPv6%20Is%20Not%20Accessible"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Delay When IPv6 Is Not Accessible</span>

   When IPv6 connectivity is impaired, today's IPv6-capable applications
   (e.g., web browsers, email clients, instant messaging clients) incur
   many seconds of delay before falling back to IPv4.  This delays
   overall application operation, including harming the user's
   experience with IPv6, which will slow the acceptance of IPv6, because
   IPv6 is frequently disabled in its entirety on the end systems to
   improve the user experience.

   Reasons for such failure include no connection to the IPv6 Internet,
   broken 6to4 or Teredo tunnels, and broken IPv6 peering.  The
   following diagram shows this behavior.

   The algorithm described in this document allows clients to connect to
   servers without significant delay, even if a path or the server is
   slow or down.

           DNS Server                  Client                  Server
               |                          |                       |
         1.    |&lt;--www.example.com A?-----|                       |
         2.    |&lt;--www.example.com AAAA?--|                       |
         3.    |---192.0.2.1-------------&gt;|                       |
         4.    |---2001:db8::1-----------&gt;|                       |
         5.    |                          |                       |
         6.    |                          |==TCP SYN, IPv6===&gt;X   |
         7.    |                          |==TCP SYN, IPv6===&gt;X   |
         8.    |                          |==TCP SYN, IPv6===&gt;X   |
         9.    |                          |                       |
         10.   |                          |--TCP SYN, IPv4-------&gt;|
         11.   |                          |&lt;-TCP SYN+ACK, IPv4----|
         12.   |                          |--TCP ACK, IPv4-------&gt;|

                 Figure 1: Existing Behavior Message Flow

   The client obtains the IPv4 and IPv6 records for the server (1-4).
   The client attempts to connect using IPv6 to the server, but the IPv6
   path is broken (6-8), which consumes several seconds of time.
   Eventually, the client attempts to connect using IPv4 (10), which
   succeeds.

   Delays experienced by users of various browser and operating system
   combinations have been studied [<a href="#ref-Experiences" title='"Experiences of host behavior in broken IPv6 networks"'>Experiences</a>].








<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Algorithm%20Requirements"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Algorithm Requirements</span>

   A "Happy Eyeballs" algorithm has two primary goals:

   1.  Provides fast connection for users, by quickly attempting to
       connect using IPv6 and (if that connection attempt is not quickly
       successful) to connect using IPv4.

   2.  Avoids thrashing the network, by not (always) making simultaneous
       connection attempts on both IPv6 and IPv4.

   The basic idea is depicted in the following diagram:

           DNS Server                  Client                  Server
               |                          |                       |
         1.    |&lt;--www.example.com A?-----|                       |
         2.    |&lt;--www.example.com AAAA?--|                       |
         3.    |---192.0.2.1-------------&gt;|                       |
         4.    |---2001:db8::1-----------&gt;|                       |
         5.    |                          |                       |
         6.    |                          |==TCP SYN, IPv6===&gt;X   |
         7.    |                          |--TCP SYN, IPv4-------&gt;|
         8.    |                          |&lt;-TCP SYN+ACK, IPv4----|
         9.    |                          |--TCP ACK, IPv4-------&gt;|
        10.    |                          |==TCP SYN, IPv6===&gt;X   |

               Figure 2: Happy Eyeballs Flow 1, IPv6 Broken

   In the diagram above, the client sends two TCP SYNs at the same time
   over IPv6 (6) and IPv4 (7).  In the diagram, the IPv6 path is broken
   but has little impact to the user because there is no long delay
   before using IPv4.  The IPv6 path is retried until the application
   gives up (10).

   After performing the above procedure, the client learns whether
   connections to the host's IPv6 or IPv4 address were successful.  The
   client MUST cache information regarding the outcome of each
   connection attempt, and it uses that information to avoid thrashing
   the network with subsequent attempts.  In the example above, the
   cache indicates that the IPv6 connection attempt failed, and
   therefore the system will prefer IPv4 instead.  Cache entries should
   be flushed when their age exceeds a system-defined maximum on the
   order of 10 minutes.








<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


           DNS Server                  Client                  Server
               |                          |                       |
         1.    |&lt;--www.example.com A?-----|                       |
         2.    |&lt;--www.example.com AAAA?--|                       |
         3.    |---192.0.2.1-------------&gt;|                       |
         4.    |---2001:db8::1-----------&gt;|                       |
         5.    |                          |                       |
         6.    |                          |==TCP SYN, IPv6=======&gt;|
         7.    |                          |--TCP SYN, IPv4-------&gt;|
         8.    |                          |&lt;=TCP SYN+ACK, IPv6====|
         9.    |                          |&lt;-TCP SYN+ACK, IPv4----|
        10.    |                          |==TCP ACK, IPv6=======&gt;|
        11.    |                          |--TCP ACK, IPv4-------&gt;|
        12.    |                          |--TCP RST, IPv4-------&gt;|

               Figure 3: Happy Eyeballs Flow 2, IPv6 Working

   The diagram above shows a case where both IPv6 and IPv4 are working,
   and IPv4 is abandoned (12).

   Any Happy Eyeballs algorithm will persist in products for as long as
   the client host is dual-stacked, which will persist as long as there
   are IPv4-only servers on the Internet -- the so-called "long tail".
   Over time, as most content is available via IPv6, the amount of IPv4
   traffic will decrease.  This means that the IPv4 infrastructure will,
   over time, be sized to accommodate that decreased (and decreasing)
   amount of traffic.  It is critical that a Happy Eyeballs algorithm
   not cause a surge of unnecessary traffic on that IPv4 infrastructure.
   To meet that goal, compliant Happy Eyeballs algorithms must adhere to
   the requirements in this section.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Delay%20IPv4"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Delay IPv4</span>

   The transition to IPv6 is likely to produce a mix of different hosts
   within a subnetwork -- hosts that are IPv4-only, hosts that are IPv6-
   only (e.g., sensors), and dual-stack hosts.  This mix of hosts will
   exist both within an administrative domain (a single home,
   enterprise, hotel, or coffee shop) and between administrative
   domains.  For example, a single home might have an IPv4-only
   television in one room and a dual-stack television in another room.
   As another example, another subscriber might have hosts that are all
   capable of dual-stack operation.

   Due to IPv4 exhaustion, it is likely that a subscriber's hosts (both
   IPv4-only hosts and dual-stack hosts) will be sharing an IPv4 address
   with other subscribers.  The dual-stack hosts have an advantage: they
   can utilize IPv6 or IPv4, which means they can utilize the technique
   described in this document.  The IPv4-only hosts have a disadvantage:



<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


   they can only utilize IPv4.  If all hosts (dual-stack and IPv4-only)
   are using IPv4, there is additional contention for the shared IPv4
   address.  The IPv4-only hosts cannot avoid that contention (as they
   can only use IPv4), while the dual-stack hosts can avoid it by using
   IPv6.

   As dual-stack hosts proliferate and content becomes available over
   IPv6, there will be proportionally less IPv4 traffic.  This is true
   especially for dual-stack hosts that do not implement Happy Eyeballs,
   because those dual-stack hosts have a very strong preference to use
   IPv6 (with timeouts in the tens of seconds before they will attempt
   to use IPv4).

   When deploying IPv6, both content providers and Internet Service
   Providers (who supply mechanisms for IPv4 address sharing such as
   Carrier-Grade NAT (CGN)) will want to reduce their investment in IPv4
   equipment -- load-balancers, peering links, and address sharing
   devices.  If a Happy Eyeballs implementation treats IPv6 and IPv4
   equally by connecting to whichever address family is fastest, it will
   contribute to load on IPv4.  This load impacts IPv4-only devices (by
   increasing contention of IPv4 address sharing and increasing load on
   IPv4 load-balancers).  Because of this, ISPs and content providers
   will find it impossible to reduce their investment in IPv4 equipment.
   This means that costs to migrate to IPv6 are increased because the
   investment in IPv4 cannot be reduced.  Furthermore, using only a
   metric that measures the connection speed ignores the benefits that
   IPv6 brings when compared with IPv4 address sharing, such as improved
   geo-location [<a href="rfc6269.html" title='"Issues with IP Address Sharing"'>RFC6269</a>] and the lack of fate-sharing due to traversing
   a large translator.

   Thus, to avoid harming IPv4-only hosts, implementations MUST prefer
   the first IP address family returned by the host's address preference
   policy, unless implementing a stateful algorithm described in
   <a href="#section-4.2">Section 4.2</a>.  This usually means giving preference to IPv6 over IPv4,
   although that preference can be overridden by user configuration or
   by network configuration [<a href="#ref-ADDR-SELECT" title='"Distributing Address Selection Policy using DHCPv6"'>ADDR-SELECT</a>].  If the host's policy is
   unknown or not attainable, implementations MUST prefer IPv6 over
   IPv4.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Stateful%20Behavior%20When%20IPv6%20Fails"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Stateful Behavior When IPv6 Fails</span>

   Some Happy Eyeballs algorithms are stateful -- that is, the algorithm
   will remember that IPv6 always fails, or that IPv6 to certain
   prefixes always fails, and so on.  This section describes such
   algorithms.  Stateless algorithms, which do not remember the success/
   failure of previous connections, are not discussed in this section.





<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


   After making a connection attempt on the preferred address family
   (e.g., IPv6) and failing to establish a connection within a certain
   time period (see <a href="#section-5.5">Section 5.5</a>), a Happy Eyeballs implementation will
   decide to initiate a second connection attempt using the same address
   family or the other address family.

   Such an implementation MAY make subsequent connection attempts (to
   the same host or to other hosts) on the successful address family
   (e.g., IPv4).  So long as new connections are being attempted by the
   host, such an implementation MUST occasionally make connection
   attempts using the host's preferred address family, as it may have
   become functional again, and it SHOULD do so every 10 minutes.  The
   10-minute delay before retrying a failed address family avoids the
   simple doubling of connection attempts on both IPv6 and IPv4.
   Implementation note: this can be achieved by flushing Happy Eyeballs
   state every 10 minutes, which does not significantly harm the
   application's subsequent connection setup time.  If connections using
   the preferred address family are again successful, the preferred
   address family SHOULD be used for subsequent connections.  Because
   this implementation is stateful, it MAY track connection success (or
   failure) based on IPv6 or IPv4 prefix (e.g., connections to the same
   prefix assigned to the interface are successful whereas connections
   to other prefixes are failing).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Reset%20on%20Network%20%28Re-%29Initialization"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Reset on Network (Re-)Initialization</span>

   Because every network has different characteristics (e.g., working or
   broken IPv6 or IPv4 connectivity), a Happy Eyeballs algorithm SHOULD
   re-initialize when the interface is connected to a new network.
   Interfaces can determine network (re-)initialization by a variety of
   mechanisms (e.g., Detecting Network Attachment in IPv4 (DNAv4)
   [<a href="rfc4436.html" title='"Detecting Network Attachment in IPv4 (DNAv4)"'>RFC4436</a>], DNAv6 [<a href="rfc6059.html" title='"Simple Procedures for Detecting Network Attachment in IPv6"'>RFC6059</a>]).

   If the client application is a web browser, see also <a href="#section-5.6">Section 5.6</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Abandon%20Non-Winning%20Connections"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Abandon Non-Winning Connections</span>

   It is RECOMMENDED that the non-winning connections be abandoned, even
   though they could -- in some cases -- be put to reasonable use.

      Justification: This reduces the load on the server (file
      descriptors, TCP control blocks) and stateful middleboxes (NAT and
      firewalls).  Also, if the abandoned connection is IPv4, this
      reduces IPv4 address sharing contention.

      HTTP: The design of some sites can break because of HTTP cookies
      that incorporate the client's IP address and require all
      connections be from the same IP address.  If some connections from



<span class="grey">Wing &amp; Yourtchenko           Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


      the same client are arriving from different IP addresses (or
      worse, different IP address families), such applications will
      break.  Additionally, for HTTP, using the non-winning connection
      can interfere with the browser's same-origin policy (see
      <a href="#section-5.6">Section 5.6</a>).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Additional%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Additional Considerations</span>

   This section discusses considerations related to Happy Eyeballs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Determining%20Address%20Type"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Determining Address Type</span>

   For some transitional technologies such as a dual-stack host, it is
   easy for the application to recognize the native IPv6 address
   (learned via a AAAA query) and the native IPv4 address (learned via
   an A query).  While IPv6/IPv4 translation makes that difficult, IPv6/
   IPv4 translators do not need to be deployed on networks with dual-
   stack clients because dual-stack clients can use their native IP
   address family.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Debugging%20and%20Troubleshooting"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Debugging and Troubleshooting</span>

   This mechanism is aimed at ensuring a reliable user experience
   regardless of connectivity problems affecting any single transport.
   However, this naturally means that applications employing these
   techniques are by default less useful for diagnosing issues with a
   particular address family.  To assist in that regard, the
   implementations MAY also provide a mechanism to disable their Happy
   Eyeballs behavior via a user setting, and to provide data useful for
   debugging (e.g., a log or way to review current preferences).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20Three%20or%20More%20Interfaces"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  Three or More Interfaces</span>

   A dual-stack host normally has two logical interfaces: an IPv6
   interface and an IPv4 interface.  However, a dual-stack host might
   have more than two logical interfaces because of a VPN (where a third
   interface is the tunnel address, often assigned by the remote
   corporate network), because of multiple physical interfaces such as
   wired and wireless Ethernet, because the host belongs to multiple
   VLANs, or other reasons.  The interaction of Happy Eyeballs with more
   than two logical interfaces is for further study.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.4.%20%20A%20and%20AAAA%20Resource%20Records"></a><a class="selflink" href="#section-5.4" name="section-5.4">5.4</a>.  A and AAAA Resource Records</span>

   It is possible that a DNS query for an A or AAAA resource record will
   return more than one A or AAAA address.  When this occurs, it is
   RECOMMENDED that a Happy Eyeballs implementation order the responses
   following the host's address preference policy and then try the first



<span class="grey">Wing &amp; Yourtchenko           Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


   address.  If that fails after a certain time (see <a href="#section-5.5">Section 5.5</a>), the
   next address SHOULD be the IPv4 address.

   If that fails to connect after a certain time (see <a href="#section-5.5">Section 5.5</a>), a
   Happy Eyeballs implementation SHOULD try the other addresses
   returned; the order of these connection attempts is not important.

   On the Internet today, servers commonly have multiple A records to
   provide load-balancing across their servers.  This same technique
   would be useful for AAAA records, as well.  However, if multiple AAAA
   records are returned to a client that is not using Happy Eyeballs and
   that has broken IPv6 connectivity, it will further increase the delay
   to fall back to IPv4.  Thus, web site operators with native IPv6
   connectivity SHOULD NOT offer multiple AAAA records.  If Happy
   Eyeballs is widely deployed in the future, this recommendation might
   be revisited.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.5.%20%20Connection%20Timeout"></a><a class="selflink" href="#section-5.5" name="section-5.5">5.5</a>.  Connection Timeout</span>

   The primary purpose of Happy Eyeballs is to reduce the wait time for
   a dual-stack connection to complete, especially when the IPv6 path is
   broken and IPv6 is preferred.  Aggressive timeouts (on the order of
   tens of milliseconds) achieve this goal, but at the cost of network
   traffic.  This network traffic may be billable on certain networks,
   will create state on some middleboxes (e.g., firewalls, intrusion
   detection systems, NATs), and will consume ports if IPv4 addresses
   are shared.  For these reasons, it is RECOMMENDED that connection
   attempts be paced to give connections a chance to complete.  It is
   RECOMMENDED that connection attempts be paced 150-250 ms apart to
   balance human factors against network load.  Stateful algorithms are
   expected to be more aggressive (that is, make connection attempts
   closer together), as stateful algorithms maintain an estimate of the
   expected connection completion time.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.6.%20%20Interaction%20with%20Same-Origin%20Policy"></a><a class="selflink" href="#section-5.6" name="section-5.6">5.6</a>.  Interaction with Same-Origin Policy</span>

   Web browsers implement a same-origin policy [<a href="rfc6454.html" title='"The Web Origin Concept"'>RFC6454</a>] that causes
   subsequent connections to the same hostname to go to the same IPv4
   (or IPv6) address as the previous successful connection.  This is
   done to prevent certain types of attacks.

   The same-origin policy harms user-visible responsiveness if a new
   connection fails (e.g., due to a transient event such as router
   failure or load-balancer failure).  While it is tempting to use Happy
   Eyeballs to maintain responsiveness, web browsers MUST NOT change
   their same-origin policy because of Happy Eyeballs, as that would
   create an additional security exposure.




<span class="grey">Wing &amp; Yourtchenko           Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.7.%20%20Implementation%20Strategies"></a><a class="selflink" href="#section-5.7" name="section-5.7">5.7</a>.  Implementation Strategies</span>

   The simplest venue for the implementation of Happy Eyeballs is within
   the application itself.  The algorithm specified in this document is
   relatively simple to implement and would require no specific support
   from the operating system beyond the commonly available APIs that
   provide transport service.  It could also be added to applications by
   way of a specific Happy Eyeballs API, replacing or augmenting the
   transport service APIs.

   To improve the IPv6 connectivity experience for legacy applications
   (e.g., applications that simply rely on the operating system's
   address preference order), operating systems may consider more
   sophisticated approaches.  These can include changing default address
   selection sorting [<a href="rfc3484.html" title='"Default Address Selection for Internet Protocol version 6 (IPv6)"'>RFC3484</a>] based on configuration received from the
   network, or observing connection failures to IPv6 and IPV4
   destinations.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Example%20Algorithm"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Example Algorithm</span>

   What follows is the algorithm implemented in Google Chrome and
   Mozilla Firefox.

   1.  Call getaddinfo(), which returns a list of IP addresses sorted by
       the host's address preference policy.

   2.  Initiate a connection attempt with the first address in that list
       (e.g., IPv6).

   3.  If that connection does not complete within a short period of
       time (Firefox and Chrome use 300 ms), initiate a connection
       attempt with the first address belonging to the other address
       family (e.g., IPv4).

   4.  The first connection that is established is used.  The other
       connection is discarded.

   If an algorithm were to cache connection success/failure, the caching
   would occur after step 4 determined which connection was successful.

   Other example algorithms include [<a href="#ref-Perreault" title='"Happy Eyeballs in Erlang"'>Perreault</a>] and [<a href="#ref-Andrews" title='"How to connect to a multi-homed server over TCP"'>Andrews</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   See Sections <a href="#section-4.4">4.4</a> and <a href="#section-5.6">5.6</a>.






<span class="grey">Wing &amp; Yourtchenko           Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgements"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgements</span>

   The mechanism described in this paper was inspired by Stuart
   Cheshire's discussion at the IAB Plenary at IETF 72, the author's
   understanding of Safari's operation with SRV records, ICE [<a href="rfc5245.html" title='"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols"'>RFC5245</a>],
   the current IPv4/IPv6 behavior of SMTP mail transfer agents, and the
   implementation of Happy Eyeballs in Google Chrome and Mozilla
   Firefox.

   Thanks to Fred Baker, Jeff Kinzli, Christian Kuhtz, and Iljitsch van
   Beijnum for fostering the creation of this document.

   Thanks to Scott Brim, Rick Jones, Stig Venaas, Erik Kline, Bjoern
   Zeeb, Matt Miller, Dave Thaler, Dmitry Anipko, Brian Carpenter, and
   David Crocker for their feedback.

   Thanks to Javier Ubillos, Simon Perreault, and Mark Andrews for the
   active feedback and the experimental work on the independent
   practical implementations that they created.

   Also the authors would like to thank the following individuals who
   participated in various email discussions on this topic: Mohacsi
   Janos, Pekka Savola, Ted Lemon, Carlos Martinez-Cagnazzo, Simon
   Perreault, Jack Bates, Jeroen Massar, Fred Baker, Javier Ubillos,
   Teemu Savolainen, Scott Brim, Erik Kline, Cameron Byrne, Daniel
   Roesen, Guillaume Leclanche, Mark Smith, Gert Doering, Martin
   Millnert, Tim Durack, and Matthew Palmer.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]     Bradner, S., "Key words for use in RFCs to Indicate
                 Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3484" name="ref-RFC3484">RFC3484</a>]     Draves, R., "Default Address Selection for Internet
                 Protocol version 6 (IPv6)", <a href="rfc3484.html">RFC 3484</a>, February 2003.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-ADDR-SELECT" name="ref-ADDR-SELECT">ADDR-SELECT</a>] Matsumoto, A., Fujisaki, T., Kato, J., and T. Chown,
                 "Distributing Address Selection Policy using DHCPv6",
                 Work in Progress, February 2012.

   [<a id="ref-Andrews" name="ref-Andrews">Andrews</a>]     Andrews, M., "How to connect to a multi-homed server
                 over TCP", January 2011, &lt;<a href="http://www.isc.org/community/blog/201101/how-to-connect-to-a-multi-homed-server-over-tcp">http://www.isc.org/community/</a>
                 <a href="http://www.isc.org/community/blog/201101/how-to-connect-to-a-multi-homed-server-over-tcp">blog/201101/how-to-connect-to-a-multi-homed-server-</a>
                 <a href="http://www.isc.org/community/blog/201101/how-to-connect-to-a-multi-homed-server-over-tcp">over-tcp</a>&gt;.



<span class="grey">Wing &amp; Yourtchenko           Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


   [<a id="ref-Experiences" name="ref-Experiences">Experiences</a>] Savolainen, T., Miettinen, N., Veikkolainen, S., Chown,
                 T., and J. Morse, "Experiences of host behavior in
                 broken IPv6 networks", March 2011,
                 &lt;<a href="http://www.ietf.org/proceedings/80/slides/v6ops-12.pdf">http://www.ietf.org/proceedings/80/slides/</a>
                 <a href="http://www.ietf.org/proceedings/80/slides/v6ops-12.pdf">v6ops-12.pdf</a>&gt;.

   [<a id="ref-Perreault" name="ref-Perreault">Perreault</a>]   Perreault, S., "Happy Eyeballs in Erlang", February
                 2011, &lt;<a href="http://www.viagenie.ca/news/index.html#happy_eyeballs_erlang">http://www.viagenie.ca/news/</a>
                 <a href="http://www.viagenie.ca/news/index.html#happy_eyeballs_erlang">index.html#happy_eyeballs_erlang</a>&gt;.

   [<a id="ref-RFC1671" name="ref-RFC1671">RFC1671</a>]     Carpenter, B., "IPng White Paper on Transition and
                 Other Considerations", <a href="rfc1671.html">RFC 1671</a>, August 1994.

   [<a id="ref-RFC4436" name="ref-RFC4436">RFC4436</a>]     Aboba, B., Carlson, J., and S. Cheshire, "Detecting
                 Network Attachment in IPv4 (DNAv4)", <a href="rfc4436.html">RFC 4436</a>, March
                 2006.

   [<a id="ref-RFC5245" name="ref-RFC5245">RFC5245</a>]     Rosenberg, J., "Interactive Connectivity Establishment
                 (ICE): A Protocol for Network Address Translator (NAT)
                 Traversal for Offer/Answer Protocols", <a href="rfc5245.html">RFC 5245</a>, April
                 2010.

   [<a id="ref-RFC6059" name="ref-RFC6059">RFC6059</a>]     Krishnan, S. and G. Daley, "Simple Procedures for
                 Detecting Network Attachment in IPv6", <a href="rfc6059.html">RFC 6059</a>,
                 November 2010.

   [<a id="ref-RFC6157" name="ref-RFC6157">RFC6157</a>]     Camarillo, G., El Malki, K., and V. Gurbani, "IPv6
                 Transition in the Session Initiation Protocol (SIP)",
                 <a href="rfc6157.html">RFC 6157</a>, April 2011.

   [<a id="ref-RFC6269" name="ref-RFC6269">RFC6269</a>]     Ford, M., Boucadair, M., Durand, A., Levis, P., and P.
                 Roberts, "Issues with IP Address Sharing", <a href="rfc6269.html">RFC 6269</a>,
                 June 2011.

   [<a id="ref-RFC6454" name="ref-RFC6454">RFC6454</a>]     Barth, A., "The Web Origin Concept", <a href="rfc6454.html">RFC 6454</a>, December
                 2011.

   [<a id="ref-WHITELIST" name="ref-WHITELIST">WHITELIST</a>]   Google, "Google over IPv6",
                 &lt;<a href="http://www.google.com/intl/en/ipv6">http://www.google.com/intl/en/ipv6</a>&gt;.












<span class="grey">Wing &amp; Yourtchenko           Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6555.html">RFC 6555</a>                Happy Eyeballs Dual Stack             April 2012</span>


Authors' Addresses

   Dan Wing
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA  95134
   USA

   EMail: dwing@cisco.com


   Andrew Yourtchenko
   Cisco Systems, Inc.
   De Kleetlaan, 7
   Diegem  B-1831
   Belgium

   EMail: ayourtch@cisco.com

































Wing &amp; Yourtchenko           Standards Track                   [Page 15]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc6555 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:29 GMT --></html>