<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc1545 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 14:27:55 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.127" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:1545" name="DC.Identifier"/>
<meta content='This RFC specifies a method for assigning long addresses in the HOST-
PORT specification for the data port to be used in establishing a data
connection for File Transfer Protocol, FTP (STD 9, RFC 959). This is a
general solution, applicable for all "next generation" IP
alternatives, and can also be extended to allow FTP operation over
transport interfaces other than TCP. This memo defines an Experimental
Protocol for the Internet community. This memo does not specify an
Internet standard of any kind.' name="DC.Description.Abstract"/>
<meta content="D. Piscitello" name="DC.Creator"/>
<meta content="November, 1993" name="DC.Date.Issued"/>
<meta content="FTP Operation Over Big Address Records (FOOBAR)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 1545 - FTP Operation Over Big Address Records (FOOBAR)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc1545.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc1545" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-piscitello-ftp-bigports" title="draft-piscitello-ftp-bigports">draft-piscitell...</a>] [<a href="https://datatracker.ietf.org/doc/rfc1545" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc1545" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc1545" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc1639.html">1639</a>                                          EXPERIMENTAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                      D. Piscitello
Request for Comments: 1545                                      Bellcore
Category: Experimental                                     November 1993


            <span class="h1">FTP Operation Over Big Address Records (FOOBAR)</span>

Status of this Memo

   This memo defines an Experimental Protocol for the Internet
   community.  This memo does not specify an Internet standard of any
   kind.  Discussion and suggestions for improvement are requested.
   Distribution of this memo is unlimited.

Abstract

   This paper describes a convention for specifying longer addresses in
   the PORT command.

Introduction

   This RFC specifies a method for assigning long addresses in the
   HOST-PORT specification for the data port to be used in establishing
   a data connection for File Transfer Protocol, FTP (STD 9, <a href="rfc959.html">RFC 959</a>).
   This is a general solution, applicable for all "next generation" IP
   alternatives, and can also be extended to allow FTP operation over
   transport interfaces other than TCP.

Acknowledgments

   Many thanks to all the folks in the IETF who casually mentioned how
   to do this, but who left it to me to write this RFC.  Special thanks
   to Rich Colella, Bob Ullmann, Shawn Ostermann, Steve Lunt, and Brian
   Carpenter who had the time and decency to comment on the initial
   draft.  :-)

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Background"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Background</span>

   The PORT command of File Transfer Protocol allows users to specify an
   address other than the default data port for the transport connection
   over which data are transferred. The PORT command syntax is:

      PORT &lt;SP&gt; &lt;host-port&gt; &lt;CRLF&gt;

   The &lt;host-port&gt; argument is the concatenation of a 32-bit internet
   &lt;host-address&gt; and a 16-bit TCP &lt;port-address&gt;.  This address
   information is broken into 8-bit fields and the value of each field
   is transmitted as a decimal number (in character string



<span class="grey">Piscitello                                                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc1545.html">RFC 1545</a>                  FTP Over Big Address             November 1993</span>


   representation).  The fields are separated by commas.  A port command
   is thus of the general form "PORT h1,h2,h3,h4,p1,p2", where h1 is the
   high order 8 bits of the internet host address.

   To accommodate larger network addresses anticipated for all IP "next
   generation" alternatives, new commands and reply codes are needed for
   FTP.  This memo addresses these needs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20The%20LPRT%20Command"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  The LPRT Command</span>

   The LPRT command allows users to specify a "long" address for the
   transport connection over which data are transferred. The LPRT
   command syntax is:

      LPRT &lt;SP&gt; &lt;long-host-port&gt; &lt;CRLF&gt;

   The &lt;long-host-port&gt; argument is the concatenation of the following
   fields;

   o  an 8-bit &lt;address-family&gt; argument (af)

   o  an 8-bit &lt;host-address-length&gt; argument (hal)

   o  a &lt;host-address&gt; of &lt;host-address-length&gt; (h1, h2, ...)

   o  an 8-bit &lt;port-address-length&gt; (pal)

   o  a &lt;port-address&gt; of &lt;port-address-length&gt; (p1, p2, ...)

   The &lt;address-family&gt; argument takes the value of the version number
   of IP (see Assigned Numbers, STD 2, <a href="rfc1340.html">RFC 1340</a>), or generally speaking,
   an Internet layer protocol.  Relevant assigned IPng version numbers
   are:

     Decimal         Keyword
     ------          -------
     0               reserved
     1-3             unassigned
     4               Internet Protocol (IP)
     5               ST Datagram Mode
     6               SIP
     7               TP/IX
     8               PIP
     9               TUBA
     10-14           unassigned
     15              reserved





<span class="grey">Piscitello                                                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc1545.html">RFC 1545</a>                  FTP Over Big Address             November 1993</span>


   The value of each field is broken into 8-bit fields and the value of
   each field is transmitted as an unsigned decimal number (in character
   string representation, note that negative numbers are explicitly not
   permitted).  The fields are separated by commas.

   A LPRT command is thus of the general form

      LPRT af,hal,h1,h2,h3,h4...,pal,p1,p2...

   where h1 is the high order 8 bits of the internet host address, and
   p1 is the high order 8 bits of the port number (transport address).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20The%20LPSV%20Command"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  The LPSV Command</span>

   The L(ONG) PASSIVE command requests the server-DTP to listen on a
   data port other than its default data port and to wait for a
   connection rather than initiate one upon receipt of a transfer
   command.  The response to this command includes the address family,
   host address length indicator, host address, port address length, and
   port address this server is listening on.  The reply code and text
   for entering the passive mode using a long address is 228
   (Interpretation according to FTP is: positive completion reply 2yz,
   connections x2z, passive mode entered using long address xy8).  The
   suggested textual message to accompany this reply code is:

      228 Entering Long Passive Mode (af,hal,h1,h2,h3,h4...,pal,p1,p2...)

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Permanent%20Negative%20Completion%20Reply%20Codes"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Permanent Negative Completion Reply Codes</span>

   The negative completion reply codes that are associated with syntax
   errors in the PORT and PASV commands are appropriate for the LPRT and
   LPSV commands (500, 501).  An additional negative completion reply
   code is needed to distinguish the case where a host supports the LPRT
   or LPSV command, but does not support the address family specified.
   Of the FTP function groupings currently defined for reply codes
   (syntax, information, connections, authentication and accounting, and
   file system), "connections" seems the most logical choice; thus, an
   additional negative command completion reply code, 521 is added, with
   the following suggested textual message:

      521 Supported address families are (af1, af2, ..., afn)

   Where (af1, af2, ..., afn) are the values of the version numbers of
   the "next generation" or other protocol families supported.  IP
   address noted earlier.






<span class="grey">Piscitello                                                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc1545.html">RFC 1545</a>                  FTP Over Big Address             November 1993</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Rationale"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Rationale</span>

   An explicit address family argument in the LPRT command and LPSV
   reply allows the Internet community to experiment with a variety of
   "next generation IP" alternatives within a common FTP implementation
   framework.  (It also allows the use of a different address family on
   the command and data connections.)  An explicit length indicator for
   the host address is necessary because some of the IPNG alternatives
   make use of variable length addresses.  An explicit host address is
   necessary because FTP says it's necessary.

   The decision to provide a length indicator for the port number is not
   as obvious, and certainly goes beyond the necessary condition of
   having to support TCP port numbers. Currently, at least one IPng
   alternative (TP/IX) supports longer port addresses.  And given the
   increasingly "multi-protocol" nature of the Internet, it seems
   reasonable that someone, somewhere, might wish to operate FTP operate
   over Appletalk, IPX, and OSI networks as well as TCP/IP networks.
   (In theory, FTP should operate over *any* transport protocol that
   offers the same service as TCP.) Since some of these transport
   protocols may offer transport selectors or port numbers that exceed
   16 bits, a length indicator may be desirable.  If FTP must indeed be
   changed to accommodate larger network addresses, it may be prudent to
   determine at this time whether the same flexibility is useful or
   necessary with respect to transport addresses.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Conclusions"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Conclusions</span>

   The mechanism defined here is simple, extensible, and meets both IPNG
   and possibly multi-protocol internet needs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

   STD 9, <a href="rfc959.html">RFC 959</a>  Postel, J., and J. Reynolds, "File Transfer Protocol",
                   STD 9, <a href="rfc959.html">RFC 959</a>, USC/Information Sciences Institute,
                   October 1985.

   STD 2, <a href="rfc1340.html">RFC 1340</a> Reynolds, J., and J. Postel, "Assigned Numbers",
                   STD 2, <a href="rfc1340.html">RFC 1340</a>, USC/Information Sciences Institute,
                   July 1992.  (Does not include recently assigned IPv7
                   numbers).

   STD 3, <a href="rfc1123.html">RFC 1123</a> Braden, R., Editor, "Requirements for Internet
                   Hosts - Application and Support", STD 3, <a href="rfc1123.html">RFC 1123</a>,
                   USC/Information Sciences Institute, October 1989.






<span class="grey">Piscitello                                                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc1545.html">RFC 1545</a>                  FTP Over Big Address             November 1993</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   Security issues are not discussed in this memo.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Author%27s%20Address"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Author's Address</span>

   David M. Piscitello
   Bell Communications Research
   NVC 1C322
   331 Newman Springs Road
   Red Bank, NJ 07701

   EMail: dave@mail.bellcore.com






































Piscitello                                                      [Page 5]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc1545 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 14:27:55 GMT --></html>