<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6891 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:26 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="rfc2671" name="DC.Relation.Replaces"/>
<meta content="rfc2673" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6891" name="DC.Identifier"/>
<meta content="April, 2013" name="DC.Date.Issued"/>
<meta content="Damas, Joao" name="DC.Creator"/>
<meta content="Graff, Michael" name="DC.Creator"/>
<meta content="Vixie, Paul" name="DC.Creator"/>
<meta content="The Domain Name System's wire protocol includes a number of fixed
fields whose range has been or soon will be exhausted and does not
allow requestors to advertise their capabilities to responders. This
document describes backward-compatible mechanisms for allowing the
protocol to grow.  This document updates the Extension Mechanisms for
DNS (EDNS(0)) specification (and obsoletes RFC 2671) based on feedback
from deployment experience in several implementations. It also
obsoletes RFC 2673 (&quot;Binary Labels in the Domain Name System&quot;) and
adds considerations on the use of extended labels in the DNS." name="DC.Description.Abstract"/>
<meta content="Extension Mechanisms for DNS (EDNS(0))" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6891 - Extension Mechanisms for DNS (EDNS(0))</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bggreen" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6891.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6891" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-dnsext-rfc2671bis-edns0" title="draft-ietf-dnsext-rfc2671bis-edns0">draft-ietf-dnse...</a>] [<a href="https://datatracker.ietf.org/doc/rfc6891" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6891" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6891" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=6891">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       INTERNET STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Internet Engineering Task Force (IETF)                          J. Damas
Request for Comments: 6891                         Bond Internet Systems
STD: 75                                                         M. Graff
Obsoletes: <a href="rfc2671.html">2671</a>, <a href="rfc2673.html">2673</a>
Category: Standards Track                                       P. Vixie
ISSN: 2070-1721                              Internet Systems Consortium
                                                              April 2013


                 <span class="h1">Extension Mechanisms for DNS (EDNS(0))</span>

Abstract

   The Domain Name System's wire protocol includes a number of fixed
   fields whose range has been or soon will be exhausted and does not
   allow requestors to advertise their capabilities to responders.  This
   document describes backward-compatible mechanisms for allowing the
   protocol to grow.

   This document updates the Extension Mechanisms for DNS (EDNS(0))
   specification (and obsoletes <a href="rfc2671.html">RFC 2671</a>) based on feedback from
   deployment experience in several implementations.  It also obsoletes
   <a href="rfc2673.html">RFC 2673</a> ("Binary Labels in the Domain Name System") and adds
   considerations on the use of extended labels in the DNS.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6891">http://www.rfc-editor.org/info/rfc6891</a>.













<span class="grey">Damas, et al.                Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


Copyright Notice

   Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

























<span class="grey">Damas, et al.                Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-2">2</a>.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  EDNS Support Requirement . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-4">4</a>.  DNS Message Changes  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-4.1">4.1</a>.  Message Header . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-4.2">4.2</a>.  Label Types  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-4.3">4.3</a>.  UDP Message Size . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-5">5</a>.  Extended Label Types . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-6">6</a>.  The OPT Pseudo-RR  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
     <a href="#section-6.1">6.1</a>.  OPT Record Definition  . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
       <a href="#section-6.1.1">6.1.1</a>.  Basic Elements . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
       <a href="#section-6.1.2">6.1.2</a>.  Wire Format  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
       <a href="#section-6.1.3">6.1.3</a>.  OPT Record TTL Field Use . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
       <a href="#section-6.1.4">6.1.4</a>.  Flags  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
     <a href="#section-6.2">6.2</a>.  Behaviour  . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
       <a href="#section-6.2.1">6.2.1</a>.  Cache Behaviour  . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
       <a href="#section-6.2.2">6.2.2</a>.  Fallback . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
       <a href="#section-6.2.3">6.2.3</a>.  Requestor's Payload Size . . . . . . . . . . . . . . . <a href="#page-10">10</a>
       <a href="#section-6.2.4">6.2.4</a>.  Responder's Payload Size . . . . . . . . . . . . . . . <a href="#page-11">11</a>
       <a href="#section-6.2.5">6.2.5</a>.  Payload Size Selection . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
       <a href="#section-6.2.6">6.2.6</a>.  Support in Middleboxes . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-7">7</a>.  Transport Considerations . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-8">8</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-9">9</a>.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-9.1">9.1</a>.  OPT Option Code Allocation Procedure . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-10">10</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-10.1">10.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-10.2">10.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#appendix-A">Appendix A</a>.  Changes since RFCs 2671 and 2673  . . . . . . . . . . <a href="#page-16">16</a>




















<span class="grey">Damas, et al.                Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   DNS [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>] specifies a message format, and within such messages
   there are standard formats for encoding options, errors, and name
   compression.  The maximum allowable size of a DNS message over UDP
   not using the extensions described in this document is 512 bytes.
   Many of DNS's protocol limits, such as the maximum message size over
   UDP, are too small to efficiently support the additional information
   that can be conveyed in the DNS (e.g., several IPv6 addresses or DNS
   Security (DNSSEC) signatures).  Finally, <a href="rfc1035.html">RFC 1035</a> does not define any
   way for implementations to advertise their capabilities to any of the
   other actors they interact with.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] added extension mechanisms to DNS.  These mechanisms are
   widely supported, and a number of new DNS uses and protocol
   extensions depend on the presence of these extensions.  This memo
   refines and obsoletes [<a href="rfc2671.html" title='"Extension Mechanisms for DNS (EDNS0)"'>RFC2671</a>].

   Unextended agents will not know how to interpret the protocol
   extensions defined in [<a href="rfc2671.html" title='"Extension Mechanisms for DNS (EDNS0)"'>RFC2671</a>] and restated here.  Extended agents
   need to be prepared for handling the interactions with unextended
   clients in the face of new protocol elements and fall back gracefully
   to unextended DNS.

   EDNS is a hop-by-hop extension to DNS.  This means the use of EDNS is
   negotiated between each pair of hosts in a DNS resolution process,
   for instance, the stub resolver communicating with the recursive
   resolver or the recursive resolver communicating with an
   authoritative server.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] specified extended label types.  The only such label
   proposed was in [<a href="rfc2673.html" title='"Binary Labels in the Domain Name System"'>RFC2673</a>] for a label type called "Bit-String Label"
   or "Binary Labels", with this latest term being the one in common
   use.  For various reasons, introducing a new label type was found to
   be extremely difficult, and [<a href="rfc2673.html" title='"Binary Labels in the Domain Name System"'>RFC2673</a>] was moved to Experimental.
   This document obsoletes [<a href="rfc2673.html" title='"Binary Labels in the Domain Name System"'>RFC2673</a>], deprecating Binary Labels.
   Extended labels remain defined, but their use is discouraged due to
   practical difficulties with deployment; their use in the future
   SHOULD only be considered after careful evaluation of the deployment
   hindrances.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   "Requestor" refers to the side that sends a request.  "Responder"
   refers to an authoritative, recursive resolver or other DNS component
   that responds to questions.  Other terminology is used here as
   defined in the RFCs cited by this document.




<span class="grey">Damas, et al.                Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20EDNS%20Support%20Requirement"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  EDNS Support Requirement</span>

   EDNS provides a mechanism to improve the scalability of DNS as its
   uses get more diverse on the Internet.  It does this by enabling the
   use of UDP transport for DNS messages with sizes beyond the limits
   specified in <a href="rfc1035.html">RFC 1035</a> as well as providing extra data space for
   additional flags and return codes (RCODEs).  However, implementation
   experience indicates that adding new RCODEs should be avoided due to
   the difficulty in upgrading the installed base.  Flags SHOULD be used
   only when necessary for DNS resolution to function.

   For many uses, an EDNS Option Code may be preferred.

   Over time, some applications of DNS have made EDNS a requirement for
   their deployment.  For instance, DNSSEC uses the additional flag
   space introduced in EDNS to signal the request to include DNSSEC data
   in a DNS response.

   Given the increase in DNS response sizes when including larger data
   items such as AAAA records, DNSSEC information (e.g., RRSIG or
   DNSKEY), or large TXT records, the additional UDP payload
   capabilities provided by EDNS can help improve the scalability of the
   DNS by avoiding widespread use of TCP for DNS transport.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20DNS%20Message%20Changes"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  DNS Message Changes</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Message%20Header"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Message Header</span>

   The DNS message header's second full 16-bit word is divided into a
   4-bit OPCODE, a 4-bit RCODE, and a number of 1-bit flags (see <a href="rfc1035.html#section-4.1.1">Section</a>
   <a href="rfc1035.html#section-4.1.1">4.1.1 of [RFC1035]</a>).  Some of these flag values were marked for
   future use, and most of these have since been allocated.  Also, most
   of the RCODE values are now in use.  The OPT pseudo-RR specified
   below contains extensions to the RCODE bit field as well as
   additional flag bits.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Label%20Types"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Label Types</span>

   The first 2 bits of a wire format domain label are used to denote the
   type of the label.  [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>] allocates 2 of the 4 possible types and
   reserves the other 2.  More label types were defined in [<a href="rfc2671.html" title='"Extension Mechanisms for DNS (EDNS0)"'>RFC2671</a>].
   The use of the 2-bit combination defined by [<a href="rfc2671.html" title='"Extension Mechanisms for DNS (EDNS0)"'>RFC2671</a>] to identify
   extended label types remains valid.  However, it has been found that
   deployment of new label types is noticeably difficult and so is only



<span class="grey">Damas, et al.                Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   recommended after careful evaluation of alternatives and the need for
   deployment.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20UDP%20Message%20Size"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  UDP Message Size</span>

   Traditional DNS messages are limited to 512 octets in size when sent
   over UDP [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>].  Fitting the increasing amounts of data that can
   be transported in DNS in this 512-byte limit is becoming more
   difficult.  For instance, inclusion of DNSSEC records frequently
   requires a much larger response than a 512-byte message can hold.

   EDNS(0) specifies a way to advertise additional features such as
   larger response size capability, which is intended to help avoid
   truncated UDP responses, which in turn cause retry over TCP.  It
   therefore provides support for transporting these larger packet sizes
   without needing to resort to TCP for transport.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Extended%20Label%20Types"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Extended Label Types</span>

   The first octet in the on-the-wire representation of a DNS label
   specifies the label type; the basic DNS specification [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>]
   dedicates the 2 most significant bits of that octet for this purpose.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] defined DNS label type 0b01 for use as an indication for
   extended label types.  A specific extended label type was selected by
   the 6 least significant bits of the first octet.  Thus, extended
   label types were indicated by the values 64-127 (0b01xxxxxx) in the
   first octet of the label.

   Extended label types are extremely difficult to deploy due to lack of
   support in clients and intermediate gateways, as described in
   [<a href="rfc3363.html" title='"Representing Internet Protocol version 6 (IPv6) Addresses in the Domain Name System (DNS)"'>RFC3363</a>], which moved [<a href="rfc2673.html" title='"Binary Labels in the Domain Name System"'>RFC2673</a>] to Experimental status; and
   [<a href="rfc3364.html" title='"Tradeoffs in Domain Name System (DNS) Support for Internet Protocol version 6 (IPv6)"'>RFC3364</a>], which describes the pros and cons.  As such, proposals
   that contemplate extended labels SHOULD weigh this deployment cost
   against the possibility of implementing functionality in other ways.

   Finally, implementations MUST NOT generate or pass Binary Labels in
   their communications, as they are now deprecated.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20The%20OPT%20Pseudo-RR"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  The OPT Pseudo-RR</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20OPT%20Record%20Definition"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  OPT Record Definition</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.1.%20%20Basic%20Elements"></a><a class="selflink" href="#section-6.1.1" name="section-6.1.1">6.1.1</a>.  Basic Elements</span>

   An OPT pseudo-RR (sometimes called a meta-RR) MAY be added to the
   additional data section of a request.




<span class="grey">Damas, et al.                Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   The OPT RR has RR type 41.

   If an OPT record is present in a received request, compliant
   responders MUST include an OPT record in their respective responses.

   An OPT record does not carry any DNS data.  It is used only to
   contain control information pertaining to the question-and-answer
   sequence of a specific transaction.  OPT RRs MUST NOT be cached,
   forwarded, or stored in or loaded from master files.

   The OPT RR MAY be placed anywhere within the additional data section.
   When an OPT RR is included within any DNS message, it MUST be the
   only OPT RR in that message.  If a query message with more than one
   OPT RR is received, a FORMERR (RCODE=1) MUST be returned.  The
   placement flexibility for the OPT RR does not override the need for
   the TSIG or SIG(0) RRs to be the last in the additional section
   whenever they are present.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.2.%20%20Wire%20Format"></a><a class="selflink" href="#section-6.1.2" name="section-6.1.2">6.1.2</a>.  Wire Format</span>

   An OPT RR has a fixed part and a variable set of options expressed as
   {attribute, value} pairs.  The fixed part holds some DNS metadata,
   and also a small collection of basic extension elements that we
   expect to be so popular that it would be a waste of wire space to
   encode them as {attribute, value} pairs.

   The fixed part of an OPT RR is structured as follows:

       +------------+--------------+------------------------------+
       | Field Name | Field Type   | Description                  |
       +------------+--------------+------------------------------+
       | NAME       | domain name  | MUST be 0 (root domain)      |
       | TYPE       | u_int16_t    | OPT (41)                     |
       | CLASS      | u_int16_t    | requestor's UDP payload size |
       | TTL        | u_int32_t    | extended RCODE and flags     |
       | RDLEN      | u_int16_t    | length of all RDATA          |
       | RDATA      | octet stream | {attribute,value} pairs      |
       +------------+--------------+------------------------------+

                               OPT RR Format











<span class="grey">Damas, et al.                Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   The variable part of an OPT RR may contain zero or more options in
   the RDATA.  Each option MUST be treated as a bit field.  Each option
   is encoded as:

                  +0 (MSB)                            +1 (LSB)
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
    0: |                          OPTION-CODE                          |
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
    2: |                         OPTION-LENGTH                         |
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
    4: |                                                               |
       /                          OPTION-DATA                          /
       /                                                               /
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+

   OPTION-CODE
      Assigned by the Expert Review process as defined by the DNSEXT
      working group and the IESG.

   OPTION-LENGTH
      Size (in octets) of OPTION-DATA.

   OPTION-DATA
      Varies per OPTION-CODE.  MUST be treated as a bit field.

   The order of appearance of option tuples is not defined.  If one
   option modifies the behaviour of another or multiple options are
   related to one another in some way, they have the same effect
   regardless of ordering in the RDATA wire encoding.

   Any OPTION-CODE values not understood by a responder or requestor
   MUST be ignored.  Specifications of such options might wish to
   include some kind of signaled acknowledgement.  For example, an
   option specification might say that if a responder sees and supports
   option XYZ, it MUST include option XYZ in its response.
















<span class="grey">Damas, et al.                Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.3.%20%20OPT%20Record%20TTL%20Field%20Use"></a><a class="selflink" href="#section-6.1.3" name="section-6.1.3">6.1.3</a>.  OPT Record TTL Field Use</span>

   The extended RCODE and flags, which OPT stores in the RR Time to Live
   (TTL) field, are structured as follows:

                  +0 (MSB)                            +1 (LSB)
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
    0: |         EXTENDED-RCODE        |            VERSION            |
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
    2: | DO|                           Z                               |
       +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+

   EXTENDED-RCODE
      Forms the upper 8 bits of extended 12-bit RCODE (together with the
      4 bits defined in [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>].  Note that EXTENDED-RCODE value 0
      indicates that an unextended RCODE is in use (values 0 through
      15).

   VERSION
      Indicates the implementation level of the setter.  Full
      conformance with this specification is indicated by version '0'.
      Requestors are encouraged to set this to the lowest implemented
      level capable of expressing a transaction, to minimise the
      responder and network load of discovering the greatest common
      implementation level between requestor and responder.  A
      requestor's version numbering strategy MAY ideally be a run-time
      configuration option.
      If a responder does not implement the VERSION level of the
      request, then it MUST respond with RCODE=BADVERS.  All responses
      MUST be limited in format to the VERSION level of the request, but
      the VERSION of each response SHOULD be the highest implementation
      level of the responder.  In this way, a requestor will learn the
      implementation level of a responder as a side effect of every
      response, including error responses and including RCODE=BADVERS.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.4.%20%20Flags"></a><a class="selflink" href="#section-6.1.4" name="section-6.1.4">6.1.4</a>.  Flags</span>

   DO
      DNSSEC OK bit as defined by [<a href="rfc3225.html" title='"Indicating Resolver Support of DNSSEC"'>RFC3225</a>].

   Z
      Set to zero by senders and ignored by receivers, unless modified
      in a subsequent specification.








<span class="grey">Damas, et al.                Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Behaviour"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Behaviour</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.1.%20%20Cache%20Behaviour"></a><a class="selflink" href="#section-6.2.1" name="section-6.2.1">6.2.1</a>.  Cache Behaviour</span>

   The OPT record MUST NOT be cached.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.2.%20%20Fallback"></a><a class="selflink" href="#section-6.2.2" name="section-6.2.2">6.2.2</a>.  Fallback</span>

   If a requestor detects that the remote end does not support EDNS(0),
   it MAY issue queries without an OPT record.  It MAY cache this
   knowledge for a brief time in order to avoid fallback delays in the
   future.  However, if DNSSEC or any future option using EDNS is
   required, no fallback should be performed, as these options are only
   signaled through EDNS.  If an implementation detects that some
   servers for the zone support EDNS(0) while others would force the use
   of TCP to fetch all data, preference MAY be given to servers that
   support EDNS(0).  Implementers SHOULD analyse this choice and the
   impact on both endpoints.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.3.%20%20Requestor%27s%20Payload%20Size"></a><a class="selflink" href="#section-6.2.3" name="section-6.2.3">6.2.3</a>.  Requestor's Payload Size</span>

   The requestor's UDP payload size (encoded in the RR CLASS field) is
   the number of octets of the largest UDP payload that can be
   reassembled and delivered in the requestor's network stack.  Note
   that path MTU, with or without fragmentation, could be smaller than
   this.

   Values lower than 512 MUST be treated as equal to 512.

   The requestor SHOULD place a value in this field that it can actually
   receive.  For example, if a requestor sits behind a firewall that
   will block fragmented IP packets, a requestor SHOULD NOT choose a
   value that will cause fragmentation.  Doing so will prevent large
   responses from being received and can cause fallback to occur.  This
   knowledge may be auto-detected by the implementation or provided by a
   human administrator.

   Note that a 512-octet UDP payload requires a 576-octet IP reassembly
   buffer.  Choosing between 1280 and 1410 bytes for IP (v4 or v6) over
   Ethernet would be reasonable.

   Where fragmentation is not a concern, use of bigger values SHOULD be
   considered by implementers.  Implementations SHOULD use their largest
   configured or implemented values as a starting point in an EDNS
   transaction in the absence of previous knowledge about the
   destination server.





<span class="grey">Damas, et al.                Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   Choosing a very large value will guarantee fragmentation at the IP
   layer, and may prevent answers from being received due to loss of a
   single fragment or to misconfigured firewalls.

   The requestor's maximum payload size can change over time.  It MUST
   NOT be cached for use beyond the transaction in which it is
   advertised.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.4.%20%20Responder%27s%20Payload%20Size"></a><a class="selflink" href="#section-6.2.4" name="section-6.2.4">6.2.4</a>.  Responder's Payload Size</span>

   The responder's maximum payload size can change over time but can
   reasonably be expected to remain constant between two closely spaced
   sequential transactions, for example, an arbitrary QUERY used as a
   probe to discover a responder's maximum UDP payload size, followed
   immediately by an UPDATE that takes advantage of this size.  This is
   considered preferable to the outright use of TCP for oversized
   requests, if there is any reason to suspect that the responder
   implements EDNS, and if a request will not fit in the default
   512-byte payload size limit.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.5.%20%20Payload%20Size%20Selection"></a><a class="selflink" href="#section-6.2.5" name="section-6.2.5">6.2.5</a>.  Payload Size Selection</span>

   Due to transaction overhead, it is not recommended to advertise an
   architectural limit as a maximum UDP payload size.  Even on system
   stacks capable of reassembling 64 KB datagrams, memory usage at low
   levels in the system will be a concern.  A good compromise may be the
   use of an EDNS maximum payload size of 4096 octets as a starting
   point.

   A requestor MAY choose to implement a fallback to smaller advertised
   sizes to work around firewall or other network limitations.  A
   requestor SHOULD choose to use a fallback mechanism that begins with
   a large size, such as 4096.  If that fails, a fallback around the
   range of 1280-1410 bytes SHOULD be tried, as it has a reasonable
   chance to fit within a single Ethernet frame.  Failing that, a
   requestor MAY choose a 512-byte packet, which with large answers may
   cause a TCP retry.

   Values of less than 512 bytes MUST be treated as equal to 512 bytes.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.6.%20%20Support%20in%20Middleboxes"></a><a class="selflink" href="#section-6.2.6" name="section-6.2.6">6.2.6</a>.  Support in Middleboxes</span>

   In a network that carries DNS traffic, there could be active
   equipment other than that participating directly in the DNS
   resolution process (stub and caching resolvers, authoritative
   servers) that affects the transmission of DNS messages (e.g.,
   firewalls, load balancers, proxies, etc.), referred to here as
   "middleboxes".



<span class="grey">Damas, et al.                Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   Conformant middleboxes MUST NOT limit DNS messages over UDP to 512
   bytes.

   Middleboxes that simply forward requests to a recursive resolver MUST
   NOT modify and MUST NOT delete the OPT record contents in either
   direction.

   Middleboxes that have additional functionality, such as answering
   queries or acting as intelligent forwarders, SHOULD be able to
   process the OPT record and act based on its contents.  These
   middleboxes MUST consider the incoming request and any outgoing
   requests as separate transactions if the characteristics of the
   messages are different.

   A more in-depth discussion of this type of equipment and other
   considerations regarding their interaction with DNS traffic is found
   in [<a href="rfc5625.html" title='"DNS Proxy Implementation Guidelines"'>RFC5625</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Transport%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Transport Considerations</span>

   The presence of an OPT pseudo-RR in a request should be taken as an
   indication that the requestor fully implements the given version of
   EDNS and can correctly understand any response that conforms to that
   feature's specification.

   Lack of presence of an OPT record in a request MUST be taken as an
   indication that the requestor does not implement any part of this
   specification and that the responder MUST NOT include an OPT record
   in its response.

   Extended agents MUST be prepared for handling interactions with
   unextended clients in the face of new protocol elements and fall back
   gracefully to unextended DNS when needed.

   Responders that choose not to implement the protocol extensions
   defined in this document MUST respond with a return code (RCODE) of
   FORMERR to messages containing an OPT record in the additional
   section and MUST NOT include an OPT record in the response.

   If there is a problem with processing the OPT record itself, such as
   an option value that is badly formatted or that includes out-of-range
   values, a FORMERR MUST be returned.  If this occurs, the response
   MUST include an OPT record.  This is intended to allow the requestor
   to distinguish between servers that do not implement EDNS and format
   errors within EDNS.






<span class="grey">Damas, et al.                Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   The minimal response MUST be the DNS header, question section, and an
   OPT record.  This MUST also occur when a truncated response (using
   the DNS header's TC bit) is returned.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   Requestor-side specification of the maximum buffer size may open a
   DNS denial-of-service attack if responders can be made to send
   messages that are too large for intermediate gateways to forward,
   thus leading to potential ICMP storms between gateways and
   responders.

   Announcing very large UDP buffer sizes may result in dropping of DNS
   messages by middleboxes (see <a href="#section-6.2.6">Section 6.2.6</a>).  This could cause
   retransmissions with no hope of success.  Some devices have been
   found to reject fragmented UDP packets.

   Announcing UDP buffer sizes that are too small may result in fallback
   to TCP with a corresponding load impact on DNS servers.  This is
   especially important with DNSSEC, where answers are much larger.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  IANA Considerations</span>

   The IANA has assigned RR type code 41 for OPT.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] specified a number of IANA subregistries within "DOMAIN
   NAME SYSTEM PARAMETERS":

   o  DNS EDNS(0) Options

   o  EDNS Version Number

   o  EDNS Header Flags

   Additionally, two entries were generated in existing registries:

   o  EDNS Extended Label Type in the DNS Label Types registry

   o  Bad OPT Version in the DNS RCODES registry

   IANA has updated references to [<a href="rfc2671.html" title='"Extension Mechanisms for DNS (EDNS0)"'>RFC2671</a>] in these entries and
   subregistries to this document.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] created the DNS Label Types registry.  This registry is to
   remain open.

   The registration procedure for the DNS Label Types registry is
   Standards Action.



<span class="grey">Damas, et al.                Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


   This document assigns option code 65535 in the DNS EDNS0 Options
   registry to "Reserved for future expansion".

   The current status of the IANA registry for EDNS Option Codes at the
   time of publication of this document is

   o  0-4 assigned, per references in the registry

   o  5-65000 Available for assignment, unassigned

   o  65001-65534 Local/Experimental use

   o  65535 Reserved for future expansion

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] expands the RCODE space from 4 bits to 12 bits.  This
   allows more than the 16 distinct RCODE values allowed in [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>].
   IETF Review is required to add a new RCODE.

   This document assigns EDNS Extended RCODE 16 to "BADVERS" in the DNS
   RCODES registry.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>] called for the recording of assignment of extended label
   types 0bxx111111 as "Reserved for future extended label types"; the
   IANA registry currently contains "Reserved for future expansion".
   This request implied, at that time, a request to open a new registry
   for extended label types, but due to the possibility of ambiguity,
   new text registrations were instead made within the general DNS Label
   Types registry, which also registers entries originally defined by
   [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>].  There is therefore no Extended Label Types registry, with
   all label types registered in the DNS Label Types registry.

   This document deprecates Binary Labels.  Therefore, the status for
   the DNS Label Types registration "Binary Labels" is now "Historic".

   IETF Standards Action is required for assignments of new EDNS(0)
   flags.  Flags SHOULD be used only when necessary for DNS resolution
   to function.  For many uses, an EDNS Option Code may be preferred.

   IETF Standards Action is required to create new entries in the EDNS
   Version Number registry.  Within the EDNS Option Code space, Expert
   Review is required for allocation of an EDNS Option Code.  Per this
   document, IANA maintains a registry for the EDNS Option Code space.









<span class="grey">Damas, et al.                Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20OPT%20Option%20Code%20Allocation%20Procedure"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  OPT Option Code Allocation Procedure</span>

   OPT Option Codes are assigned by Expert Review.

   Assignment of Option Codes should be liberal, but duplicate
   functionality is to be avoided.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20References"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Normative%20References"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-RFC1035" name="ref-RFC1035">RFC1035</a>]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, <a href="rfc1035.html">RFC 1035</a>, November 1987.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2671" name="ref-RFC2671">RFC2671</a>]  Vixie, P., "Extension Mechanisms for DNS (EDNS0)",
              <a href="rfc2671.html">RFC 2671</a>, August 1999.

   [<a id="ref-RFC3225" name="ref-RFC3225">RFC3225</a>]  Conrad, D., "Indicating Resolver Support of DNSSEC",
              <a href="rfc3225.html">RFC 3225</a>, December 2001.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20Informative%20References"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-RFC2673" name="ref-RFC2673">RFC2673</a>]  Crawford, M., "Binary Labels in the Domain Name System",
              <a href="rfc2673.html">RFC 2673</a>, August 1999.

   [<a id="ref-RFC3363" name="ref-RFC3363">RFC3363</a>]  Bush, R., Durand, A., Fink, B., Gudmundsson, O., and T.
              Hain, "Representing Internet Protocol version 6 (IPv6)
              Addresses in the Domain Name System (DNS)", <a href="rfc3363.html">RFC 3363</a>,
              August 2002.

   [<a id="ref-RFC3364" name="ref-RFC3364">RFC3364</a>]  Austein, R., "Tradeoffs in Domain Name System (DNS)
              Support for Internet Protocol version 6 (IPv6)", <a href="rfc3364.html">RFC 3364</a>,
              August 2002.

   [<a id="ref-RFC5625" name="ref-RFC5625">RFC5625</a>]  Bellis, R., "DNS Proxy Implementation Guidelines",
              <a href="https://tools.ietf.org/html/bcp152">BCP 152</a>, <a href="rfc5625.html">RFC 5625</a>, August 2009.












<span class="grey">Damas, et al.                Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6891.html">RFC 6891</a>                   EDNS(0) Extensions                 April 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Changes%20since%20RFCs%202671%20and%202673"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Changes since RFCs 2671 and 2673</span>

   Following is a list of high-level changes to RFCs 2671 and 2673.

   o  Support for the OPT record is now mandatory.

   o  Extended label types remain available, but their use is
      discouraged as a general solution due to observed difficulties in
      their deployment on the Internet, as illustrated by the work with
      the "Binary Labels" type.

   o  <a href="rfc2673.html">RFC 2673</a>, which defined the "Binary Labels" type and is currently
      Experimental, is requested to be moved to Historic.

   o  Made changes in how EDNS buffer sizes are selected, and provided
      recommendations on how to select them.

Authors' Addresses

   Joao Damas
   Bond Internet Systems
   Av Albufera 14
   S.S. Reyes, Madrid  28701
   ES

   Phone: +1 650.423.1312
   EMail: joao@bondis.org


   Michael Graff

   EMail: explorer@flame.org


   Paul Vixie
   Internet Systems Consortium
   950 Charter Street
   Redwood City, California  94063
   US

   Phone: +1 650.423.1301
   EMail: vixie@isc.org









Damas, et al.                Standards Track                   [Page 16]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc6891 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:26 GMT --></html>