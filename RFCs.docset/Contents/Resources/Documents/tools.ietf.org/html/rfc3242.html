<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc3242 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:48 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:3242" name="DC.Identifier"/>
<meta content="This document defines a ROHC (Robust Header Compression) profile for
compression of IP/UDP/RTP (Internet Protocol/User Datagram Protocol
/Real-Time Transport Protocol) packets, utilizing functionality
provided by the lower layers to increase compression efficiency by
completely eliminating the header for most packets during optimal
operation. The profile is built as an extension to the ROHC RTP
profile. It defines additional mechanisms needed in ROHC, states
requirements on the assisting layer to guarantee transparency, and
specifies general logic for compression and decompression making use
of this header-free packet. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Ghyslain Pelletier" name="DC.Creator"/>
<meta content="April, 2002" name="DC.Date.Issued"/>
<meta content="RObust Header Compression (ROHC): A Link-Layer Assisted Profile for IP/UDP/RTP" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3242 - RObust Header Compression (ROHC): A Link-Layer Assisted Profile for IP/UDP/RTP</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3242.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3242" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-rohc-rtp-lla" title="draft-ietf-rohc-rtp-lla">draft-ietf-rohc...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3242" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3242" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3242" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc4362.html">4362</a>                                     PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                       L-E. Jonsson
Request for Comments: 3242                                  G. Pelletier
Category: Standards Track                                       Ericsson
                                                              April 2002


                   <span class="h1">RObust Header Compression (ROHC):</span>
              <span class="h1">A Link-Layer Assisted Profile for IP/UDP/RTP</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

Abstract

   This document defines a ROHC (Robust Header Compression) profile for
   compression of IP/UDP/RTP (Internet Protocol/User Datagram
   Protocol/Real-Time Transport Protocol) packets, utilizing
   functionality provided by the lower layers to increase compression
   efficiency by completely eliminating the header for most packets
   during optimal operation.  The profile is built as an extension to
   the ROHC RTP profile.  It defines additional mechanisms needed in
   ROHC, states requirements on the assisting layer to guarantee
   transparency, and specifies general logic for compression and
   decompression making use of this header-free packet.

Table of Contents

   <a href="#section-1">1</a>.  Introduction....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology.....................................................<a href="#page-4">4</a>
   <a href="#section-3">3</a>.  Overview of the Link-Layer Assisted Profile.....................<a href="#page-5">5</a>
        <a href="#section-3.1">3.1</a>.  Providing Packet Type Identification.....................<a href="#page-6">6</a>
        <a href="#section-3.2">3.2</a>.  Replacing the Sequence Number............................<a href="#page-6">6</a>
        <a href="#section-3.3">3.3</a>.  CRC Replacement..........................................<a href="#page-7">7</a>
        <a href="#section-3.4">3.4</a>.  Applicability of This Profile............................<a href="#page-7">7</a>
   <a href="#section-4">4</a>.  Additions and Exceptions Compared to ROHC RTP...................<a href="#page-8">8</a>
        <a href="#section-4.1">4.1</a>.  Additional Packet Types..................................<a href="#page-8">8</a>
               <a href="#section-4.1.1">4.1.1</a>.  No-Header Packet (NHP)..........................<a href="#page-8">8</a>
               <a href="#section-4.1.2">4.1.2</a>.  Context Synchronization Packet (CSP)............<a href="#page-8">8</a>
               <a href="#section-4.1.3">4.1.3</a>.  Context Check Packet (CCP)......................<a href="#page-9">9</a>



<span class="grey">Jonsson, et. al             Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


        <a href="#section-4.2">4.2</a>.  Interfaces Towards the Assisting Layer..................<a href="#page-11">11</a>
               <a href="#section-4.2.1">4.2.1</a>.  Interface, Compressor to Assisting Layer.......<a href="#page-11">11</a>
               <a href="#section-4.2.2">4.2.2</a>.  Interface, Assisting Layer to Decompressor.....<a href="#page-12">12</a>
        <a href="#section-4.3">4.3</a>.  Optimistic Approach Agreement...........................<a href="#page-13">13</a>
        <a href="#section-4.4">4.4</a>.  Fast Context Initialization, IR Redefinition............<a href="#page-13">13</a>
        <a href="#section-4.5">4.5</a>.  Feedback Option, CV-REQUEST.............................<a href="#page-14">14</a>
        <a href="#section-4.6">4.6</a>.  Periodic Context Verification...........................<a href="#page-15">15</a>
        <a href="#section-4.7">4.7</a>.  Use of Context Identifier...............................<a href="#page-15">15</a>
   <a href="#section-5">5</a>.  Implementation Issues..........................................<a href="#page-15">15</a>
        <a href="#section-5.1">5.1</a>.  Implementation Parameters and Signals...................<a href="#page-15">15</a>
               <a href="#section-5.1.1">5.1.1</a>.  Implementation Parameters at the Compressor....<a href="#page-16">16</a>
               <a href="#section-5.1.2">5.1.2</a>.  Implementation Parameters at the Decompressor..17
        <a href="#section-5.2">5.2</a>.  Implementation over Various Link Technologies...........<a href="#page-18">18</a>
   <a href="#section-6">6</a>.  IANA Considerations............................................<a href="#page-18">18</a>
   <a href="#section-7">7</a>.  Security Considerations........................................<a href="#page-18">18</a>
   <a href="#section-8">8</a>.  Acknowledgements...............................................<a href="#page-18">18</a>
   <a href="#section-9">9</a>.  References.....................................................<a href="#page-19">19</a>
   <a href="#section-10">10</a>. Authors' Addresses.............................................<a href="#page-20">20</a>
   <a href="#section-11">11</a>. Full Copyright Statement.......................................<a href="#page-21">21</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Header compression is a technique used to compress and transparently
   decompress the header information of a packet on a per-hop basis,
   utilizing redundancy within individual packets and between
   consecutive packets within a packet stream.  Over the years, several
   protocols [<a href="#ref-VJHC" title='"Compressing TCP/IP Headers for Low-Speed Serial Links"'>VJHC</a>, <a href="#ref-IPHC" title='"IP Header Compression"'>IPHC</a>] have been developed to compress the network
   and transport protocol headers [<a href="#ref-IPv4" title='"Internet Protocol"'>IPv4</a>, <a href="#ref-IPv6" title='"Internet Protocol, Version 6 (IPv6) Specification"'>IPv6</a>, <a href="#ref-UDP" title='"User Datagram Protocol"'>UDP</a>, <a href="#ref-TCP" title='"Transmission Control Protocol"'>TCP</a>], and these
   schemes have been successful in improving efficiency over many wired
   bottleneck links, such as modem connections over telephone networks.
   In addition to IP, UDP, and TCP compression, an additional
   compression scheme called Compressed RTP [<a href="#ref-CRTP" title='"Compressing IP/UDP/RTP Headers for Low-Speed Serial Links"'>CRTP</a>] has been developed to
   further improve compression efficiency for the case of real-time
   traffic using the Real-Time Transport Protocol [<a href="#ref-RTP" title='"RTP: A Transport Protocol for Real-Time Applications"'>RTP</a>].

   The schemes mentioned above have all been designed taking into
   account normal assumptions about link characteristics, which
   traditionally have been based on wired links only.  However, with an
   increasing number of wireless links in the Internet paths, these
   assumptions are no longer generally valid.  In wireless environments,
   especially wide coverage cellular environments, relatively high error
   rates are tolerated in order to allow efficient usage of the radio
   resources.  For real-time traffic, which is more sensitive to delays
   than to errors, such operating conditions will be norm over, for
   example, 3rd generation cellular links, and header compression must
   therefore tolerate packet loss.  However, with the previously
   mentioned schemes, especially for real-time traffic compressed by
   CRTP, high error rates have been shown to significantly degrade



<span class="grey">Jonsson, et. al             Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   header compression performance [<a href="#ref-CRTPC" title='"Evaluation of CRTP Performance over Cellular Radio Networks"'>CRTPC</a>].  This problem was the driving
   force behind the creation of the RObust Header Compression (ROHC) WG
   in the IETF.

   The ROHC WG has developed a header compression framework on top of
   which profiles can be defined for different protocol sets, or for
   different compression strategies.  Due to the limited packet loss
   robustness of CRTP, and the demands of the cellular industry for an
   efficient way of transporting voice over IP over wireless, the main
   focus of ROHC has so far been on compression of IP/UDP/RTP headers,
   which are generous in size, especially compared to the payloads often
   carried by packets with such headers.

   ROHC RTP has become a very efficient, robust and capable compression
   scheme, able to compress the headers down to a total size of one
   octet only.  Also, transparency is guaranteed to an extremely great
   extent even when residual bit errors are present in compressed
   headers delivered to the decompressor.  The requirements for RTP
   compression [<a href="#ref-RTP-REQ" title='"Requirements for IP/UDP/RTP Header Compression"'>RTP-REQ</a>], defined by the WG before and during the
   development process, have thus been fulfilled.

   As mentioned above, the 3rd generation cellular systems, where IP
   will be used end-to-end, have been one of the driving forces behind
   ROHC RTP, and the scheme has been designed to also suit new cellular
   air interfaces, such as WCDMA, making it possible to run even speech
   services with spectrum efficiency insignificantly lower than for
   existing one-service circuit switched solutions [<a href="#ref-VTC2000" title='"Wireless real time IP-services enabled by header compression"'>VTC2000</a>].  However,
   other air interfaces such as those based on GSM and IS-95 will also
   be used in all-IP networks, with further implications for the header
   compression issue.  These older air interfaces are less flexible,
   with radio bearers optimized for specific payload sizes.  This means
   that not even a single octet of header can be added without using the
   next higher fixed packet size supported by the link, something which
   is obviously very costly.  For the already deployed speech vocoders,
   the spectrum efficiency over these links will thus be low compared to
   existing circuit switched solutions.  To achieve high spectrum
   efficiency overall with any application, more flexible air interfaces
   must be deployed, and then the ROHC RTP scheme will perform
   excellently, as shown for WCDMA [<a href="#ref-MOMUC01" title='"Experimental field trials results of Voice-over IP over WCDMA links"'>MOMUC01</a>].  However, for deployment
   reasons, it is however important to also provide a suitable header
   compression strategy for already existing vocoders and air
   interfaces, such as for GERAN and for CDMA2000, with minimal effects
   on spectral efficiency.

   This document defines a new link-layer assisted ROHC RTP profile
   extending ROHC RTP (profile 0x0001) [<a href="#ref-ROHC" title='"RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed"'>ROHC</a>], compliant with the ROHC
   0-byte requirements [<a href="#ref-0B-REQ" title='"RObust Header Compression (ROHC): Requirements and Assumptions for 0-byte IP/UDP/RTP Compression"'>0B-REQ</a>].  The purpose of this new profile is to
   provide a header-free packet format that, for a certain application



<span class="grey">Jonsson, et. al             Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   behavior, can replace a majority of the 1-octet header ROHC RTP
   packets during normal U/O-mode operation, while still being fully
   transparent and complying with all the requirements of ROHC RTP
   [<a href="#ref-RTP-REQ" title='"Requirements for IP/UDP/RTP Header Compression"'>RTP-REQ</a>].  For other applications, compression will be carried out
   as with normal ROHC RTP.

   To completely eliminate the compressed header, all functionality
   normally provided by the 1-octet header has to be provided by other
   means, typically by utilizing functionality provided by the lower
   layers and sacrificing efficiency for less frequently occurring
   larger compressed headers.  The latter is not a contradiction since
   the argument for eliminating the last octet for most packets is not
   overall efficiency in general.  It is important to remember that the
   purpose of this profile is to provide efficient matching of existing
   applications to existing link technologies, not efficiency in
   general.  The additional complexity introduced by this profile,
   although minimized by a tight integration with already existing ROHC
   functionality, implies that it should therefore only be used to
   optimize performance of specific applications over specific links.

   When implementing this profile over various link technologies, care
   must be taken to guarantee that all the functionality needed is
   provided by ROHC and the lower layers together.  Therefore,
   additional documents should specify how to incorporate this profile
   on top of various link technologies.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a>.

   CCP    Context Check Packet
   CRC    Cyclic Redundancy Check
   CSP    Context Synchronization Packet
   LLA    Link Layer Assisted ROHC RTP profile
   NHP    No Header Packet
   ROHC   RObust Header Compression
   RHP    ROHC Header Packet (a non-NHP packet, i.e., RRP, CSP or CCP)
   RRP    ROHC RTP Packet as defined in [ROHC, profile 0x0001]

   Assisting layer

      "Assisting layer" refers to any entity implementing the interface
      to ROHC (<a href="#section-4.2">section 4.2</a>).  It may, for example, refer to a sub-layer
      used to adapt the ROHC implementation and the physical link layer.
      This layer is assumed to have knowledge of the physical layer
      synchronization.



<span class="grey">Jonsson, et. al             Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   Compressing side

      "Compressing side" refers to the combination of the header
      compressor, operating with the LLA profile, and its associated
      assisting layer.

   Lower layers

      "Lower layers" in this document refers to entities located below
      ROHC in the protocol stack, including the assisting layer.

   ROHC RTP

      "ROHC RTP" in this document refers to the IP/UDP/RTP profile
      (profile 0x0001) as defined in [<a href="#ref-ROHC" title='"RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed"'>ROHC</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Overview%20of%20the%20Link-Layer%20Assisted%20Profile"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Overview of the Link-Layer Assisted Profile</span>

   The ROHC IP/UDP/RTP profile defined in this document, profile 0x0005
   (hex), is designed to be used over channels that have been optimized
   for specific payload sizes and therefore cannot efficiently
   accommodate header information when transmitted together with
   payloads corresponding to these optimal sizes.

   The LLA profile extends, and thus also inherits all functionality
   from, the ROCH RTP profile by defining some additional functionality
   and an interface from the ROHC component towards an assisting lower
   layer.

                  +---------------------------------------+
                  |                                       |
     The LLA      |    ROHC RTP,                          |
     profile      |    Profile #1       +-----------------+
                  |                     |  LLA Additions  |
                  +---------------------+-----------------+

   By imposing additional requirements on the lower layers compared to
   [<a href="#ref-ROHC" title='"RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed"'>ROHC</a>], it is possible to infer the information needed to maintain
   robust and transparent header compression even though the headers are
   completely eliminated during most of the operation time.

   Basically, what this profile does is to replace the smallest and most
   frequent ROHC U/O-mode headers with a no-header format, for which the
   header functionality must be provided by other means.







<span class="grey">Jonsson, et. al             Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


     Smallest header in                 Smallest header in
     ROHC RTP (profile #1)              LLA (profile #5)
   +--+--+--+--+--+--+--+--+              ++
   |        1 octet        |  -----&gt;      ||  No Header
   +--+--+--+--+--+--+--+--+              ++
               |
               |                        Header field functionality
               +-------------------&gt;    provided by other means

   The fields present in the ROHC RTP headers for U/O-mode PT0 are the
   packet type identifier, the sequence number and the CRC.  The
   subsequent sections elaborate more on how the functionality of these
   fields is replaced for NHP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Providing%20Packet%20Type%20Identification"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Providing Packet Type Identification</span>

   All ROHC headers carry a packet type identifier, indicating to the
   decompressor how the header should be interpreted.  This is a
   function that must be provided by some means in 0-byte header
   compression.  ROHC RTP packets with compressed headers will be
   possible to distinguish thanks to the packet type identifier, but a
   mechanism is needed to separate packets with a header from packets
   without a header.  This function MUST therefore be provided by the
   assisting layer in one way or another.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Replacing%20the%20Sequence%20Number"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Replacing the Sequence Number</span>

   From the sending application, the RTP sequence number is increased by
   one for each packet sent.  The purpose of the sequence number is to
   cope with packet reordering and packet loss.  If reordering or loss
   has occurred before the transmission point, if needed the compressing
   side can easily avoid problems by not allowing the use of a header-
   free packet.

   However, at the transmission point, loss or reordering that may occur
   over the link can not be anticipated and covered for.  Therefore, for
   NHP the assisting layer MUST guarantee in-order delivery over the
   link (already assumed by [<a href="#ref-ROHC" title='"RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed"'>ROHC</a>]) and at the receiving side it MUST
   provide an indication for each packet loss over the link.  This is
   basically the same principle as the VJ header compression [<a href="#ref-VJHC" title='"Compressing TCP/IP Headers for Low-Speed Serial Links"'>VJHC</a>]
   relies on.

   Note that guaranteeing in-order delivery and packet loss indication
   over the link not only makes it possible to infer the sequence number
   information, but also supersedes the main function of the CRC, which
   normally takes care of errors due to long link losses and bit errors
   in the compressed sequence number.




<span class="grey">Jonsson, et. al             Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20CRC%20Replacement"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  CRC Replacement</span>

   All context updating RRP packets carry a CRC calculated over the
   uncompressed header.  The CRC is used by the decompressor to verify
   that the updated context is correct.  This verification serves three
   purposes in U/O-mode:

      1) Detection of longer losses than can be covered by the sequence
         number LSBs
      2) Protection against failures caused by residual bit errors in
         compressed headers
      3) Protection against faulty implementations and other causes of
         error

   Since this profile defines an NHP packet without this CRC, care must
   be taken to fulfill these purposes by other means, when an NHP is
   used as a replacement for a context updating packet.  Detection of
   long losses (1) is already covered since the assisting layer MUST
   provide indication of all packet losses.  Furthermore, the NHP packet
   has one important advantage over RHP packets in that residual bit
   errors (2) cannot damage a header that is not even sent.

   It is thus reasonable to assume that compression and decompression
   transparency can be assured with high confidence even without a CRC
   in header-free packets.  However, to provide additional protection
   against damage propagation due to undetected residual bit errors in
   context updating packets (2) or other unexpected errors (3), periodic
   context verifications SHOULD be performed (see <a href="#section-4.6">section 4.6</a>).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Applicability%20of%20This%20Profile"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Applicability of This Profile</span>

   The LLA profile can be used with any link technology capable of
   providing the required functionality described in previous sections.
   Whether LLA or ROHC RTP should be implemented thus depends on the
   characteristics of the link itself.  For most RTP packet streams, LLA
   will work exactly as ROHC RTP, while it will be more efficient for
   packet streams with certain characteristics.  LLA will never be less
   efficient than ROHC RTP.

   Note as well that LLA, like all other ROHC profiles, is fully
   transparent to any packet stream reaching the compressor.  LLA does
   not make any assumptions about the packet stream but will perform
   optimally for packet streams with certain characteristics, e.g.,
   synchronized streams exactly timed with the assisting link over which
   the LLA profile is implemented.






<span class="grey">Jonsson, et. al             Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   The LLA profile is obviously not applicable if the UDP checksum (2
   bytes) is enabled, which is always the case for IPv6/UDP.  For
   IPv4/UDP, the sender may choose to disable the UDP checksum.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Additions%20and%20Exceptions%20Compared%20to%20ROHC%20RTP"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Additions and Exceptions Compared to ROHC RTP</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Additional%20Packet%20Types"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Additional Packet Types</span>

   The LLA profile defines three new packet types to be used in addition
   to the RRP packet types defined by [<a href="#ref-ROHC" title='"RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed"'>ROHC</a>].  The following sections
   describe these packet types and their purpose in detail.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.1.%20%20No-Header%20Packet%20%28NHP%29"></a><a class="selflink" href="#section-4.1.1" name="section-4.1.1">4.1.1</a>.  No-Header Packet (NHP)</span>

   A No-Header Packet (NHP), i.e., a packet consisting only of a
   payload, is defined and MAY be used when only sequencing must be
   conveyed, i.e., when all header fields are either unchanged or follow
   the currently established change pattern.  In addition, there are
   some considerations for the use of the NHP (see 4.3, 4.5 and 4.6).
   An LLA compressor is not allowed to deliver NHP packets when
   operating in R-mode.

   The assisting layer MAY send the NHP for RTP SN = X only if an NHP
   was delivered by the LLA compressor AND the assisting layer can
   guarantee that the decompressor will infer the proper sequencing for
   this NHP.  This guarantee is based on the confidence that the
   decompressor

   a) has the means to infer proper sequencing for the packet
      corresponding to SN = X-1, AND
   b) has either received a loss indication or the packet itself for the
      packet corresponding to SN = X-1.

   Updating properties: NHP packets update context (RTP Sequence
   Number).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.2.%20%20Context%20Synchronization%20Packet%20%28CSP%29"></a><a class="selflink" href="#section-4.1.2" name="section-4.1.2">4.1.2</a>.  Context Synchronization Packet (CSP)</span>

   The case where the packet stream overruns the channel bandwidth may
   lead to data being discarded, which may result in decompressor
   context invalidation.  It might therefore be beneficial to send a
   packet with only the header information and discard the payload.
   This would be helpful to maintain synchronization of the decompressor
   context, while efficiently using the available bandwidth.







<span class="grey">Jonsson, et. al             Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   This case can be handled with the Context Synchronization Packet
   (CSP), which has the following format:

     0   1   2   3   4   5   6   7
   +---+---+---+---+---+---+---+---+
   | 1   1   1   1   1   0   1   0 | Packet type identifier
   +===+===+===+===+===+===+===+===+
   :  ROHC header without padding  :
   :    see [ROHC, <a href="#section-5.7">section 5.7</a>]    :
   +---+---+---+---+---+---+---+---+

   Updating properties: CSP maintains the updating properties of the
   ROHC header it carries.

   The CSP is defined by one of the unused packet type identifiers from
   ROHC RTP, carried in the one-octet base header.  As for any ROHC
   packet, except the NHP, the packet may begin with ROHC padding and/or
   feedback.  It may also carry context identification after the packet
   type identifier.  It is possible to have two CID fields present, one
   after the packet type ID and one within the encapsulated ROHC header.
   If a decompressor receives a CSP with two non-equal CID values
   included, the packet MUST be discarded.  ROHC segmentation may also
   be applied to the CSP.

   Note that when the decompressor has received and processed a CSP, the
   packet (including any possible data following the CSP encapsulated
   compressed header) MUST be discarded.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.3.%20%20Context%20Check%20Packet%20%28CCP%29"></a><a class="selflink" href="#section-4.1.3" name="section-4.1.3">4.1.3</a>.  Context Check Packet (CCP)</span>

   A Context Check Packet (CCP), which does not carry any payload but
   only an optional CRC value in addition to the packet type identifier,
   is defined.

   The purpose of the CCP is to provide a useful packet that MAY be sent
   by a synchronized physical link layer in the case where data must be
   sent at fixed intervals, even if no compressed packet is available.
   Whether the CCP is sent over the link and delivered to the
   decompressor is decided by the assisting layer.  The CCP has the
   following format:











<span class="grey">Jonsson, et. al             Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


     0   1   2   3   4   5   6   7
   +---+---+---+---+---+---+---+---+
   | 1   1   1   1   1   0   1   1 | Packet type identifier
   +===+===+===+===+===+===+===+===+
   | C |          CRC              |
   +---+---+---+---+---+---+---+---+

     C: C = 0 indicates that the CRC field is not used;
        C = 1 indicates that a valid CRC is present.

   Updating properties: CCP packets do not update context.

   The CCP is defined by one of the unused packet type identifiers from
   ROHC RTP, carried in the first octet of the base header.  The first
   bit of the second octet, the C bit, indicates whether the CRC field
   is used or not.  If C=1, the CRC field MUST be set to the 7-bits CRC
   calculated over the original uncompressed header defined in [ROHC
   <a href="#section-5.9.2">section 5.9.2</a>].  As for any ROHC packet, except NHP, the packet MAY
   begin with ROHC padding and/or carry context identification.

   The use of the CRC field to perform decompressor context verification
   is optional and is therefore a compressor implementation issue.
   However, a CCP MUST always be made available to the assisting layer.

   If the assisting layer receives CCPs with the C-bit set (C=1) from
   the compressor, it MUST use the last CCP received if a CCP is to be
   sent, i.e., the CCP corresponding to the last non-CCP packet sent
   (NHP, RRP or CSP).  An assisting layer MAY use the CCP for other
   purposes, such as signaling a packet loss before the link.

   The decompressor is REQUIRED to handle a CCP received with the C bit
   set (C=1), indicating a valid CRC field, and perform context
   verification.  The received CRC MUST then be applied to the last
   decompressed packet, unless a packet loss indication was previously
   received.  Upon CRC failure, actions MUST be taken as specified in
   [ROHC, <a href="#section-5.3.2.2.3">section 5.3.2.2.3</a>].  A CCP received with C=0 MUST be ignored
   by the decompressor.  The decompressor is not allowed to make any
   further interpretation of the CCP.

   The use of CCP by an assisting layer is optional and depends on the
   characteristics of the actual link.  Whether it is used or not MUST
   therefore be specified in link layer implementation specifications
   for this profile.








<span class="grey">Jonsson, et. al             Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Interfaces%20Towards%20the%20Assisting%20Layer"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Interfaces Towards the Assisting Layer</span>

   This profile relies on the lower layers to provide the necessary
   functionality to allow NHP packets to be sent.  This interaction
   between LLA and the assisting layer is defined as interfaces between
   the LLA compressor/decompressor and the LLA applicable link
   technology.

                |                              |
                +                              +
   +-------------------------+    +-------------------------+
   |       ROHC RTP HC       |    |       ROHC RTP HD       |
   +-------------------------+    +-------------------------+
   |       LLA profile       |    |       LLA profile       |
   +=========================+    +=========================+
   |       Interface         |    |        Interface        |
   | ROHC to assisting layer |    | Assisting layer to ROHC |
   +=========================+    +=========================+
   |       Applicable        |    |       Applicable        |
   |     link technology     |    |     link technology     |
   +=========================+    +=========================+
                |                              |
                +------&gt;---- CHANNEL ----&gt;-----+

   The figure above shows the various levels, as defined in [<a href="#ref-ROHC" title='"RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed"'>ROHC</a>] and
   this document, constituting a complete implementation of the LLA
   profile.  The figure also underlines the need for additional
   documents to specify how to implement these interfaces for a link
   technology for which this profile is relevant.

   This section defines the information to be exchanged between the LLA
   compressor and the assisting layer for this profile to operate
   properly.  While it does define semantics, it does not specify how
   these interfaces are to be implemented.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.1.%20%20Interface%2C%20Compressor%20to%20Assisting%20Layer"></a><a class="selflink" href="#section-4.2.1" name="section-4.2.1">4.2.1</a>.  Interface, Compressor to Assisting Layer</span>

   This section defines the interface semantics between the compressor
   and the assisting layer, providing rules for packet delivery from the
   compressor.

   The interface defines the following parameters: RRP, RRP segmentation
   flag, CSP, CSP segmentation flag, NHP, and RTP Sequence Number.  All
   parameters, except the NHP, MUST always be delivered to the assisting
   layer.  This leads to two possible delivery scenarios:

   a. RRP, CSP, CCP, NHP and RTP Sequence Number are delivered, along
      with the corresponding segmentation flags set accordingly.



<span class="grey">Jonsson, et. al             Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


      This corresponds to the case when the compressor allows sending of
      an NHP packet, with or without segmentation being applied to the
      corresponding RRP/CSP packets.

      Recall that delivery of an NHP packet occurs when the ROHC RTP
      compressor would have used a ROHC UO-0.

   b. RRP, CSP, CCP and RTP Sequence Number are delivered, along with
      the corresponding segmentation flags set accordingly.

      This corresponds to the case when the compressor does not allow
      sending of an NHP packet.  Segmentation might be applied to the
      corresponding RRP and CSP packets.

   Segmentation may be applied independently to an RRP or a CSP packet
   if its size exceeds the largest value provided in the PREFERRED
   PACKET_SIZES list and if the LARGE_PACKET_ALLOWED parameter is set to
   false.  The segmentation flags are explicitly stated in the interface
   definition to emphasize that the RRP and the CSP may be delivered by
   the compressor as segmented packets.

   The RTP SN MUST be delivered for each packet by the compressor to
   allow the assisting layer to maintain the necessary sequencing
   information.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.2.%20%20Interface%2C%20Assisting%20Layer%20to%20Decompressor"></a><a class="selflink" href="#section-4.2.2" name="section-4.2.2">4.2.2</a>.  Interface, Assisting Layer to Decompressor</span>

   Here the interface semantics between the assisting layer and the
   decompressor are defined, providing simple rules for the delivery of
   received packets to the decompressor.  The decompressor needs a way
   to distinguish NHP packets from RHP packets.  Also, when receiving
   packets without a header, the decompressor needs a way to infer the
   sequencing information to keep synchronization between the received
   payload and the sequence information of the decompressed headers.  To
   achieve this, the decompressor MUST receive the following from the
   assisting layer:

   -  an indication for each packet loss over the link between the
      compressing and decompressing sides for CID=0
   -  the received packet together with an indication whether the packet
      received is an NHP or not

   Note that the context is updated from a packet loss indication.








<span class="grey">Jonsson, et. al             Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Optimistic%20Approach%20Agreement"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Optimistic Approach Agreement</span>

   ROHC defines an optimistic approach for updates to reduce the header
   overhead.  This approach is fully exploited in the Optimistic and
   Unidirectional modes of operation.  Due to the presence of a CRC in
   all compressed headers, the optimistic approach is defined as a
   compressor issue only because the decompressor will always be able to
   detect an invalid context through the CRC verification.

   However, no CRC is present in the NHP packet defined by the LLA
   profile.  Therefore the loss of an RHP packet updating the context
   may not always be detected.  To avoid this problem, the compressing
   and decompressing sides must agree on the principles for the
   optimistic approach, and the agreed principles MUST be enforced not
   only by the compressor but also by the transmitting assisting layer.
   If, for example, three consecutive updates are sent to convey a
   header field change, the decompressor must know this and invalidate
   the context in case of three or more consecutive physical packet
   losses.  Note that the mechanism used to enforce the optimistic
   approach must be reinitialized if a new field change needs to be
   conveyed while the compressing side is already sending packets to
   convey non-linear context updates.

   An LLA decompressor MUST use the optimistic approach knowledge to
   detect possible context loss events.  If context loss is suspected it
   MUST invalidate the context and not forward any packets before the
   context has been synchronized.

   It is REQUIRED that all documents, describing how the LLA profile is
   implemented over a certain link technology, define how the optimistic
   approach is agreed between the compressing side and the decompressing
   side.  It could be handled with a fixed principle, negotiation at
   startup, or by other means, but the method must be unambiguously
   defined.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Fast%20Context%20Initialization%2C%20IR%20Redefinition"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Fast Context Initialization, IR Redefinition</span>

   As initial IR packets might overrun the channel bandwidth and
   significantly delay decompressor context establishment, it might be
   beneficial to initially discard the payload.  This allows state
   transitions and higher compression efficiency to be achieved with
   minimal delay.

   To serve this purpose, the D-bit from the basic structure of the ROHC
   RTP IR packet [ROHC <a href="#section-5.7.7.1">section 5.7.7.1</a>] is redefined for the LLA
   profile.  For D=0 (no dynamic chain), the meaning of the D-bit is





<span class="grey">Jonsson, et. al             Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   extended to indicate that the payload has been discarded when
   assembling the IR packet.  All other fields keep their meanings as
   defined for ROHC RTP.

   The resulting structure, using small CIDs and CID=0, becomes:

     0   1   2   3   4   5   6   7
   +---+---+---+---+---+---+---+---+
   | 1 | 1 | 1 | 1 | 1 | 1 | 0 | D |
   +---+---+---+---+---+---+---+---+
   |            Profile            | 1 octet
   +---+---+---+---+---+---+---+---+
   |              CRC              | 1 octet
   +---+---+---+---+---+---+---+---+
   |            Static             | variable length
   |             chain             |
    - - - - - - - - - - - - - - - -
   |            Dynamic            | not present if D = 0
   |             chain             | present if D = 1, variable length
    - - - - - - - - - - - - - - - -
   |            Payload            | not present if D = 0
   |                               | present if D = 1, variable length
    - - - - - - - - - - - - - - - -

        D:   D = 0 indicates that the dynamic chain is not present
             and the payload has been discarded.

   After an IR packet with D=0 has been processed by the decompressor,
   the packet MUST be discarded.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5.%20%20Feedback%20Option%2C%20CV-REQUEST"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a>.  Feedback Option, CV-REQUEST</span>

   The CV-REQUEST option MAY be used by the decompressor to request an
   RRP or CSP for context verification.  This option should be used if
   only NHP have been received for a long time and the context therefore
   has not been verified recently.

   +---+---+---+---+---+---+---+---+
   |  Opt Type = 8 |  Opt Len = 0  |
   +---+---+---+---+---+---+---+---+

   If the compressor receives a feedback packet with this option, the
   next packet compressed SHOULD NOT be delivered to the assisting layer
   as an NHP.







<span class="grey">Jonsson, et. al             Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.6.%20%20Periodic%20Context%20Verification"></a><a class="selflink" href="#section-4.6" name="section-4.6">4.6</a>.  Periodic Context Verification</span>

   As described in <a href="#section-3.3">section 3.3</a>, transparency is expected to be
   guaranteed by the functionality provided by the lower layers.  This
   ROHC profile would therefore be at least as reliable as the older
   header compression schemes [<a href="#ref-VJHC" title='"Compressing TCP/IP Headers for Low-Speed Serial Links"'>VJHC</a>, <a href="#ref-IPHC" title='"IP Header Compression"'>IPHC</a>, <a href="#ref-CRTP" title='"Compressing IP/UDP/RTP Headers for Low-Speed Serial Links"'>CRTP</a>], which do not make use
   of a header compression CRC.  However, since ROHC RTP normally is
   extremely safe to use from a transparency point of view, it would be
   desirable to be able to achieve this with LLA also.

   To provide an additional guarantee for transparency and also catch
   unexpected errors, such as errors due to faulty implementations, it
   is RECOMMENDED to periodically send context updating packets, even
   when the compressor logic allows NHP packets to be used.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.7.%20%20Use%20of%20Context%20Identifier"></a><a class="selflink" href="#section-4.7" name="section-4.7">4.7</a>.  Use of Context Identifier</span>

   Since an NHP cannot carry a context identifier (CID), there is a
   restriction on how this profile may be used, related to context
   identification.  Independent of which CID size has been negotiated,
   NHP packets can only be used for CID=0.  If the decompressor receives
   an NHP packet, it can only belong to CID=0.

   Note that if multiple packet streams are handled by a compressor
   operating using LLA, the assisting layer must in case of physical
   packet loss be able to tell for which CID the loss occurred, or at
   least it MUST be able to tell if packets with CID=0 (packet stream
   with NHPs) have been lost.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Implementation%20Issues"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Implementation Issues</span>

   This document specifies mechanisms for the protocol and leaves
   details on the use of these mechanisms to the implementers.  The
   present chapter aims to provide guidelines, ideas and suggestions for
   implementation of LLA.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Implementation%20Parameters%20and%20Signals"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Implementation Parameters and Signals</span>

   As described in [ROHC, <a href="#section-6.3">section 6.3</a>], implementations use parameters
   to set up configuration information and to stipulate how a ROHC
   implementation is to operate.  The following parameters are
   additions, useful to LLA, to the parameter set defined for ROHC RTP
   implementations.  Note that if the PREFERRED_PACKET_SIZES parameters
   defined here are used, they obsolete all PACKET_SIZE and PAYLOAD_SIZE
   parameters of ROHC RTP.






<span class="grey">Jonsson, et. al             Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.1.%20%20Implementation%20Parameters%20at%20the%20Compressor"></a><a class="selflink" href="#section-5.1.1" name="section-5.1.1">5.1.1</a>.  Implementation Parameters at the Compressor</span>

   ALWAYS_PAD -- value: boolean

      This parameter may be set by an external entity to specify to the
      compressor that every RHP packet MUST be padded with a minimum of
      one octet ROHC padding.

      The assisting layer MUST provide a packet type identification.  If
      no field is available for this purpose from the protocol at the
      link layer, then a leading sequence may be used to distinguish RHP
      packets from NHP packets.  Although the use of a leading sequence
      is obviously not efficient, since it sacrifices efficiency for RHP
      packets, the efficiency loss should be insignificant because the
      leading sequence applies only to packets with headers in order to
      favor the use of packets without headers.  If a leading sequence
      is desired for RHP identification, the lower layer MAY use ROHC
      padding for the leading sequence by setting the ALWAYS_PAD
      parameter. Note that in such cases, possible collisions of the
      padding with the NHP payload must be avoided.

      By default, this parameter is set to FALSE.

   PREFERRED_PACKET_SIZES -- list of:
         SIZE -- value: integer (octets)
         RESTRICTED_TYPE -- values: [NHP_ONLY, RHP_ONLY, NO_RESTRICTION]

      This parameter set governs which packet sizes are preferred by the
      assisting layer.  If this parameter set is used, all RHP packets
      MUST be padded to fit the smallest possible preferred size.  If
      the size of the unpadded packet (or, in the case of ALWAYS_PAD
      being set, the packet with minimal one octet padding) is larger
      than the maximal preferred packet size, the compressor has two
      options.  Either, it may deliver this larger packet with an
      arbitrary size, or it may split the packet into several segments
      using ROHC segmentation and pad each segment to one of the
      preferred sizes.  Which method to use depends on the value of the
      LARGE_PACKETS_ALLOWED parameter below.

      NHP packets can be delivered to the lower layer only if the
      payload size is part of the preferred packet size set.
      Furthermore, if RESTRICTED_TYPE is set to one of NHP_ONLY or
      RHP_ONLY for any of the preferred packet sizes, that size is
      allowed only for packets of the specified type.

      By default, no preferred packet sizes are specified.  When sizes
      are specified, the default value for RESTRICTED_TYPE is
      NO_RESTRICTION.



<span class="grey">Jonsson, et. al             Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   LARGE_PACKETS_ALLOWED -- value: boolean

      This parameter may be set by an external entity to specify how to
      handle packets that do not fit any of the preferred packet sizes
      specified.  If it is set to TRUE, the compressor MUST deliver the
      larger packet as-is and MUST NOT use segmentation.  If it is set
      to FALSE, the ROHC segmentation scheme MUST be used to split the
      packet into two or more segments, and each segment MUST further be
      padded to fit one of the preferred packet sizes.

      By default, this parameter is set to TRUE, which means that
      segmentation is disabled.

   VERIFICATION_PERIOD -- value: integer

      This parameter may be set by an external entity to specify to the
      compressor the minimum frequency with which a packet validating
      the context must be sent.  This tells the compressor that a packet
      containing a CRC field MUST be sent at least once every N packets,
      where N=VERIFICATION_PERIOD (see <a href="#section-4.6">section 4.6</a>).

      By default, this parameter is set to 0, which indicates that
      periodical verifications are disabled.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.2.%20%20Implementation%20Parameters%20at%20the%20Decompressor"></a><a class="selflink" href="#section-5.1.2" name="section-5.1.2">5.1.2</a>.  Implementation Parameters at the Decompressor</span>

   NHP_PACKET -- value: boolean

      This parameter informs the decompressor that the packet being
      delivered is an NHP packet.  The decompressor MUST accept this
      packet type indicator from the lower layer.  An assisting layer
      MUST set this indicator to true for every NHP packet delivered,
      and to false for any other packet.

   PHYSICAL_PACKET_LOSS -- signal

      This signal indicates to the decompressor that a packet has been
      lost on the link between the compressing and the decompressing
      sides, due to a physical link error.  The signal is given once for
      each packet that was lost, and a decompressor must increase the
      sequence number accordingly when this signal is received.

   PRE_LINK_PACKET_LOSS -- signal

      This signal tells the decompressor to increase the sequence number
      due to a gap in the sequencing, not related to a physical link
      error.  A receiving assisting layer may for example use this




<span class="grey">Jonsson, et. al             Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


      signal to indicate to the decompressor that a packet was lost
      before the compressor, or that a packet was discarded by the
      transmitting assisting layer.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Implementation%20over%20Various%20Link%20Technologies"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Implementation over Various Link Technologies</span>

   This document provides the semantics and requirements of the
   interface needed from the ROHC compressor and decompressor towards
   the assisting layer to perform link-layer assisted header
   compression.

   However, this document does not provide any link layer specific
   operational information, except for some implementation suggestions.
   Further details about how this profile is to be implemented over
   various link technologies must be described in other documents, where
   specific characteristics of each link layer can be taken into account
   to provide optimal usage of this profile.

   These specifications MAY use a packet type bit pattern unused by this
   profile to implement signaling on the lower layer.  The pattern
   available to lower layer implementations is [11111001].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  IANA Considerations</span>

   ROHC profile identifier 0x0005 has been reserved by the IANA for the
   IP/UDP/RTP profile defined in this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   The security considerations of ROHC RTP [ROHC <a href="#section-7">section 7</a>] apply also
   to this document with one addition: in the case of a denial-of-
   service attack scenario where an intruder injects bogus CCP packets
   onto the link using random CRC values, the CRC check will fail for
   incorrect reasons at the decompressor side.  This would obviously
   greatly reduce the advantages of ROHC and any extra efficiency
   provided by this profile due to unnecessary context invalidation,
   feedback messages and refresh packets.  However, the same remarks
   related to the presence of such an intruder apply.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgements"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgements</span>

   The authors would like to thank Lila Madour, Ulises Olvera-Hernandez
   and Francis Lupien for input regarding the typical links in which LLA
   can be applied.  Thanks also to Mikael Degermark for fruitful
   discussions that led to improvements of this profile, and to Zhigang
   Liu for many valuable comments.





<span class="grey">Jonsson, et. al             Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

   [<a id="ref-ROHC" name="ref-ROHC">ROHC</a>]      Bormann, C., Burmeister, C., Degermark, M., Fukushima,
               H., Hannu, H., Jonsson, L., Hakenberg, R., Koren, T., Le,
               K., Liu, Z., Martensson, A., Miyazaki, A., Svanbro, K.,
               Wiebke, T., Yoshimura, T. and H. Zheng, "RObust Header
               Compression (ROHC): Framework and four profiles: RTP,
               UDP, ESP, and uncompressed", <a href="rfc3095.html">RFC 3095</a>, July 2001.

   [<a id="ref-IPv4" name="ref-IPv4">IPv4</a>]      Postel, J., "Internet Protocol", STD 5, <a href="rfc791.html">RFC 791</a>,
               September 1981.

   [<a id="ref-IPv6" name="ref-IPv6">IPv6</a>]      Deering, S. and R. Hinden, "Internet Protocol, Version 6
               (IPv6) Specification", <a href="rfc2460.html">RFC 2460</a>, December 1998.

   [<a id="ref-UDP" name="ref-UDP">UDP</a>]       Postel, J., "User Datagram Protocol", STD 6, <a href="rfc768.html">RFC 768</a>,
               August 1980.

   [<a id="ref-RTP" name="ref-RTP">RTP</a>]       Schulzrinne, H., Casner S., Frederick, R. and V.
               Jacobson, "RTP: A Transport Protocol for Real-Time
               Applications", <a href="rfc1889.html">RFC 1889</a>, January 1996.

   [<a id="ref-TCP" name="ref-TCP">TCP</a>]       Postel, P., "Transmission Control Protocol", STD 7, <a href="rfc793.html">RFC</a>
               <a href="rfc793.html">793</a>, September 1981.

   [<a id="ref-RTP-REQ" name="ref-RTP-REQ">RTP-REQ</a>]   Degermark, M., "Requirements for IP/UDP/RTP Header
               Compression", <a href="rfc3096.html">RFC 3096</a>, July 2001.

   [<a id="ref-0B-REQ" name="ref-0B-REQ">0B-REQ</a>]    Jonsson, L-E., "RObust Header Compression (ROHC):
               Requirements and Assumptions for 0-byte IP/UDP/RTP
               Compression", <a href="rfc3243.html">RFC 3243</a>, April 2002.

   [<a id="ref-VJHC" name="ref-VJHC">VJHC</a>]      Jacobson, V., "Compressing TCP/IP Headers for Low-Speed
               Serial Links", <a href="rfc1144.html">RFC 1144</a>, February 1990.

   [<a id="ref-IPHC" name="ref-IPHC">IPHC</a>]      Degermark, M., Nordgren, B. and S. Pink, "IP Header
               Compression", <a href="rfc2507.html">RFC 2507</a>, February 1999.

   [<a id="ref-CRTP" name="ref-CRTP">CRTP</a>]      Casner, S. and V. Jacobson, "Compressing IP/UDP/RTP
               Headers for Low-Speed Serial Links", <a href="rfc2508.html">RFC 2508</a>, February
               1999.

   [<a id="ref-CRTPC" name="ref-CRTPC">CRTPC</a>]     Degermark, M., Hannu, H., Jonsson, L-E. and K. Svanbro,
               "Evaluation of CRTP Performance over Cellular Radio
               Networks", IEEE Personal Communications Magazine, Volume
               7, number 4, pp. 20-25, August 2000.





<span class="grey">Jonsson, et. al             Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


   [<a id="ref-VTC2000" name="ref-VTC2000">VTC2000</a>]   Svanbro, K., Hannu, H., Jonsson, L-E. and M. Degermark,
               "Wireless real time IP-services enabled by header
               compression", proceedings of IEEE VTC2000, May 2000.

   [<a id="ref-MOMUC01" name="ref-MOMUC01">MOMUC01</a>]   Liu, G., et al., "Experimental field trials results of
               Voice-over IP over WCDMA links", MoMuC'01 - The
               International Workshop on Mobile Multimedia
               Communications, Conference proceedings, February 2001.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Authors%27%20Addresses"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Authors' Addresses</span>

   Lars-Erik Jonsson
   Ericsson AB
   Box 920
   SE-971 28 Lulea
   Sweden

   Phone: +46 920 20 21 07
   Fax:   +46 920 20 20 99
   EMail: lars-erik.jonsson@ericsson.com


   Ghyslain Pelletier
   Ericsson AB
   Box 920
   SE-971 28 Lulea
   Sweden

   Phone: +46 920 20 24 32
   Fax:   +46 920 20 20 99
   EMail: ghyslain.pelletier@epl.ericsson.se




















<span class="grey">Jonsson, et. al             Standards Track                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc3242.html">RFC 3242</a>             A Link-Layer Assisted ROHC RTP           April 2002</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Jonsson, et. al             Standards Track                    [Page 21]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc3242 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:48 GMT --></html>