<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc3481 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 13:17:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129c" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Identifier" content="urn:ietf:rfc:3481" />
<meta name="DC.Description.Abstract" content="This document describes a profile for optimizing TCP to adapt so that
it handles paths including second (2.5G) and third (3G) generation
wireless networks. It describes the relevant characteristics of 2.5G
and 3G networks, and specific features of example deployments of such
networks. It then recommends TCP algorithm choices for nodes known to
be starting or ending on such paths, and it also discusses open
issues. The configuration options recommended in this document are
commonly found in modern TCP stacks, and are widely available
standards-track mechanisms that the community considers safe for use
on the general Internet. This document specifies an Internet Best
Current Practices for the Internet Community, and requests discussion
and suggestions for improvements." />
<meta name="DC.Creator" content="Khafizov, Farid" />
<meta name="DC.Creator" content="Montenegro, Gabriel" />
<meta name="DC.Creator" content="Gurtov, Andrei" />
<meta name="DC.Creator" content="Inamura, Hiroshi" />
<meta name="DC.Creator" content="Ludwig, Reiner" />
<meta name="DC.Date.Issued" content="February, 2003" />
<meta name="DC.Title" content="TCP over Second (2.5G) and Third (3G) Generation Wireless Networks" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 3481 - TCP over Second (2.5G) and Third (3G) Generation Wireless Networks</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgmagenta"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3481.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3481" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-pilc-2.5g3g" title="draft-ietf-pilc-2.5g3g">draft-ietf-pilc...</a>] [<a href='https://datatracker.ietf.org/doc/rfc3481' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3481" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3481" title="Side-by-side diff">Diff2</a>]         </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                   BEST CURRENT PRACTICE</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Network Working Group                                    H. Inamura, Ed.
Request for Comments: 3481                              NTT DoCoMo, Inc.
BCP: 71                                               G. Montenegro, Ed.
Category: Best Current Practice            Sun Microsystems Laboratories
                                                                  Europe
                                                               R. Ludwig
                                                       Ericsson Research
                                                               A. Gurtov
                                                                  Sonera
                                                             F. Khafizov
                                                         Nortel Networks
                                                           February 2003


   <span class="h1">TCP over Second (2.5G) and Third (3G) Generation Wireless Networks</span>

Status of this Memo

   This document specifies an Internet Best Current Practices for the
   Internet Community, and requests discussion and suggestions for
   improvements.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document describes a profile for optimizing TCP to adapt so that
   it handles paths including second (2.5G) and third (3G) generation
   wireless networks.  It describes the relevant characteristics of 2.5G
   and 3G networks, and specific features of example deployments of such
   networks.  It then recommends TCP algorithm choices for nodes known
   to be starting or ending on such paths, and it also discusses open
   issues.  The configuration options recommended in this document are
   commonly found in modern TCP stacks, and are widely available
   standards-track mechanisms that the community considers safe for use
   on the general Internet.













<span class="grey">Inamura, et al.          Best Current Practice                  [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction. . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  2.5G and 3G Link Characteristics. . . . . . . . . . . . . . .   <a href="#page-4">4</a>
       <a href="#section-2.1">2.1</a>  Latency. . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
       <a href="#section-2.2">2.2</a>  Data Rates . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
       <a href="#section-2.3">2.3</a>  Asymmetry  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
       <a href="#section-2.4">2.4</a>  Delay Spikes . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
       <a href="#section-2.5">2.5</a>  Packet Loss Due to Corruption. . . . . . . . . . . . . .   <a href="#page-7">7</a>
       <a href="#section-2.6">2.6</a>  Intersystem Handovers. . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
       <a href="#section-2.7">2.7</a>  Bandwidth Oscillation. . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-3">3</a>.  Example 2.5G and 3G Deployments . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-3.1">3.1</a>  2.5G Technologies: GPRS, HSCSD and CDMA2000 1XRTT. . . .   <a href="#page-8">8</a>
       <a href="#section-3.2">3.2</a>  A 3G Technology: W-CDMA. . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-3.3">3.3</a>  A 3G Technology: CDMA2000 1X-EV. . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-4">4</a>.  TCP over 2.5G and 3G. . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
       <a href="#section-4.1">4.1</a>  Appropriate Window Size (Sender &amp; Receiver). . . . . . .  <a href="#page-11">11</a>
       <a href="#section-4.2">4.2</a>  Increased Initial Window (Sender). . . . . . . . . . . .  <a href="#page-11">11</a>
       <a href="#section-4.3">4.3</a>  Limited Transmit (Sender). . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
       <a href="#section-4.4">4.4</a>  IP MTU Larger than Default . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
       <a href="#section-4.5">4.5</a>  Path MTU Discovery (Sender &amp; Intermediate Routers) . . .  <a href="#page-13">13</a>
       <a href="#section-4.6">4.6</a>  Selective Acknowledgments (Sender &amp; Receiver). . . . . .  <a href="#page-13">13</a>
       4.7  Explicit Congestion Notification (Sender, Receiver &amp;
            Intermediate Routers). . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
       <a href="#section-4.8">4.8</a>  TCP Timestamps Option (Sender &amp; Receiver). . . . . . . .  <a href="#page-13">13</a>
       4.9  Disabling <a href="rfc1144.html">RFC 1144</a> TCP/IP Header Compression (Wireless
            Host)   . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
       <a href="#section-4.10">4.10</a> Summary . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-5">5</a>.  Open Issues  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-6">6</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-18">18</a>
   <a href="#section-7">7</a>.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-18">18</a>
   <a href="#section-8">8</a>.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-9">9</a>.  Normative References . . . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-10">10</a>. Informative References . . . . . . . . . . . . . . . . . . . . <a href="#page-21">21</a>
   <a href="#section-11">11</a>. Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . <a href="#page-25">25</a>
   <a href="#section-12">12</a>. Full Copyright Statement . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>















<span class="grey">Inamura, et al.          Best Current Practice                  [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>. Introduction</span>

   The second generation cellular systems are commonly referred to as
   2G.  The 2G phase began in the 1990s when digital voice encoding had
   replaced analog systems (1G).  2G systems are based on various radio
   technologies including frequency-, code- and time- division multiple
   access.  Examples of 2G systems include GSM (Europe), PDC (Japan),
   and IS-95 (USA).  Data links provided by 2G systems are mostly
   circuit-switched and have transmission speeds of 10-20 kbps uplink
   and downlink.  Demand for higher data rates, instant availability and
   data volume-based charging, as well as lack of radio spectrum
   allocated for 2G led to the introduction of 2.5G (for example, GPRS
   and PDC-P) and 3G (for example, Wideband CDMA and cdma2000) systems.

   Radio technology for both Wideband CDMA (W-CDMA) (adopted, for
   example, in Europe, Japan, etc) and cdma2000 (adopted, for example,
   in US, South Korea, etc) is based on code division multiple access
   allowing for higher data rates and more efficient spectrum
   utilization than 2G systems.  3G systems provide both packet-switched
   and circuit-switched connectivity in order to address the quality of
   service requirements of conversational, interactive, streaming, and
   bulk transfer applications.  The transition to 3G is expected to be a
   gradual process.  Initially, 3G will be deployed to introduce high
   capacity and high speed access in densely populated areas.  Mobile
   users with multimode terminals will be able to utilize existing
   coverage of 2.5G systems on the rest of territory.

   Much development and deployment activity has centered around 2.5G and
   3G technologies.  Along with objectives like increased capacity for
   voice channels, a primary motivation for these is data communication,
   and, in particular, Internet access.  Accordingly, key issues are TCP
   performance and the several techniques which can be applied to
   optimize it over different wireless environments [<a href="#ref-19" title="&quot;Long Thin Networks&quot;">19</a>].

   This document proposes a profile of such techniques, (particularly
   effective for use with 2.5G and 3G wireless networks).  The
   configuration options in this document are commonly found in modern
   TCP stacks, and are widely available IETF standards-track mechanisms
   that the community has judged to be safe on the general Internet
   (that is, even in predominantly non-wireless scenarios).
   Furthermore, this document makes one set of recommendations that
   covers both 2.5G and 3G networks.  Since both generations of wireless
   technologies exhibit similar challenges to TCP performance (see
   <a href="#section-2">Section 2</a>), one common set is warranted.







<span class="grey">Inamura, et al.          Best Current Practice                  [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   Two example applications of the recommendations in this document are:

   o  The WAP Forum [<a href="#ref-25" title="&quot;WAP Specifications&quot;">25</a>] (part of the Open Mobile Alliance [<a href="#ref-26" title="&quot;Open Mobile Alliance&quot;">26</a>] as of
      June 2002) is an industry association that has developed standards
      for wireless information and telephony services on digital mobile
      phones.  In order to address WAP functionality for higher speed
      networks such as 2.5G and 3G networks, and to aim at convergence
      with Internet standards, the WAP Forum thoroughly revised its
      specifications.  The resultant version 2.0 [<a href="#ref-31" title="&quot;WAP Wireless Profiled TCP&quot;">31</a>] adopts TCP as its
      transport protocol, and recommends TCP optimization mechanisms
      closely aligned with those described in this document.

   o  I-mode [<a href="#ref-33" title="&quot;Special Issue on i-mode Service&quot;">33</a>] is a wireless Internet service deployed on handsets in
      Japan.  The newer version of i-mode runs on FOMA [<a href="#ref-34" title="&quot;Special Article on IMT-2000 Services&quot;">34</a>], an
      implementation of W-CDMA.  I-mode over FOMA deploys the profile of
      TCP described in this document.

   This document is structured as follows: <a href="#section-2">Section 2</a> reviews the link
   layer characteristics of 2.5G/3G networks; <a href="#section-3">Section 3</a> gives a brief
   overview of some representative 2.5G/3G technologies like W-CDMA,
   cdma2000 and GPRS; <a href="#section-4">Section 4</a> recommends mechanisms and configuration
   options for TCP implementations used in 2.5G/3G networks, including a
   summary in chart form at the end of the section; finally, <a href="#section-5">Section 5</a>
   discusses some open issues.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>. 2.5G and 3G Link Characteristics</span>

   Link layer characteristics of 2.5G/3G networks have significant
   effects on TCP performance.  In this section we present various
   aspects of link characteristics unique to the 2.5G/3G networks.

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a> Latency</span>

   The latency of 2.5G/3G links is high mostly due to the extensive
   processing required at the physical layer of those networks, e.g.,
   for FEC and interleaving, and due to transmission delays in the radio
   access network [<a href="#ref-58" title="&quot;WCDMA - The Radio Interface for Future Mobile Multimedia Communications&quot;">58</a>] (including link-level retransmissions).  A
   typical RTT varies between a few hundred milliseconds and one second.
   The associated radio channels suffer from difficult propagation
   environments.  Hence, powerful but complex physical layer techniques
   need to be applied to provide high capacity in a wide coverage area
   in a resource efficient way.  Hopefully, rapid improvements in all
   areas of wireless networks ranging from radio layer techniques over
   signal processing to system architecture will ultimately also lead to
   reduced delays in 3G wireless systems.






<span class="grey">Inamura, et al.          Best Current Practice                  [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a> Data Rates</span>

   The main incentives for transition from 2G to 2.5G to 3G are the
   increase in voice capacity and in data rates for the users.  2.5G
   systems have data rates of 10-20 kbps in uplink and 10-40 kbps in
   downlink.  Initial 3G systems are expected to have bit rates around
   64 kbps in uplink and 384 kbps in downlink.  Considering the
   resulting bandwidth-delay product (BDP) of around 1-5 KB for 2.5G and
   8-50 KB for 3G, 2.5G links can be considered LTNs (Long Thin Networks
   [<a href="#ref-19" title="&quot;Long Thin Networks&quot;">19</a>]), and 3G links approach LFNs (Long Fat Networks [<a href="#ref-2" title="&quot;TCP Extensions for High Performance&quot;">2</a>], as
   exemplified by some satellite networks [<a href="#ref-48" title="&quot;Ongoing TCP Research Related to Satellites&quot;">48</a>]).  Accordingly,
   interested readers might find related and potentially relevant issues
   discussed in <a href="rfc2488.html">RFC 2488</a> [<a href="#ref-49" title="&quot;Enhancing TCP Over Satellite Channels using Standard Mechanisms&quot;">49</a>].  For good TCP performance both LFNs and
   LTNs require maintaining a large enough window of outstanding data.
   For LFNs, utilizing the available network bandwidth is of particular
   concern.   LTNs need a sufficiently large window for efficient loss
   recovery.  In particular, the fast retransmit algorithm cannot be
   triggered if the window is less than four segments.  This leads to a
   lengthy recovery through retransmission timeouts.  The Limited
   Transmit algorithm <a href="rfc3042.html">RFC 3042</a> [<a href="#ref-10" title="&quot;Enhancing TCP's Loss Recovery Using Limited Transmit&quot;">10</a>] helps avoid the deleterious effects
   of timeouts on connections with small windows.  Nevertheless, making
   full use of the SACK <a href="rfc2018.html">RFC 2018</a> [<a href="#ref-3" title="&quot;TCP Selective Acknowledgment Options&quot;">3</a>] information for loss recovery in
   both LFNs and LTNs may require twice the window otherwise sufficient
   to utilize the available bandwidth.

   This document recommends only standard mechanisms suitable both for
   LTNs and LFNs, and to any network in general.  However, experimental
   mechanisms suggested in <a href="#section-5">Section 5</a> can be targeted either for LTNs
   [<a href="#ref-19" title="&quot;Long Thin Networks&quot;">19</a>] or LFNs [<a href="#ref-48" title="&quot;Ongoing TCP Research Related to Satellites&quot;">48</a>].

   Data rates are dynamic due to effects from other users and from
   mobility.  Arriving and departing users can reduce or increase the
   available bandwidth in a cell.  Increasing the distance from the base
   station decreases the link bandwidth due to reduced link quality.
   Finally, by simply moving into another cell the user can experience a
   sudden change in available bandwidth.  For example, if upon changing
   cells a connection experiences a sudden increase in available
   bandwidth, it can underutilize it, because during congestion
   avoidance TCP increases the sending rate slowly.  Changing from a
   fast to a slow cell normally is handled well by TCP due to the self-
   clocking property.  However, a sudden increase in RTT in this case
   can cause a spurious TCP timeout as described in <a href="#section-2.7">Section 2.7</a>.  In
   addition, a large TCP window used in the fast cell can create
   congestion resulting in overbuffering in the slow cell.







<span class="grey">Inamura, et al.          Best Current Practice                  [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a> Asymmetry</span>

   2.5G/3G systems may run asymmetric uplink and downlink data rates.
   The uplink data rate is limited by battery power consumption and
   complexity limitations of mobile terminals.  However, the asymmetry
   does not exceed 3-6 times, and can be tolerated by TCP without the
   need for techniques like ACK congestion control or ACK filtering
   [<a href="#ref-50" title="&quot;TCP Performance Implications of Network Asymmetry&quot;">50</a>].  Accordingly, this document does not include recommendations
   meant for such highly asymmetric networks.

<span class="h3"><a class="selflink" name="section-2.4" href="#section-2.4">2.4</a> Delay Spikes</span>

   A delay spike is a sudden increase in the latency of the
   communication path.  2.5G/3G links are likely to experience delay
   spikes exceeding the typical RTT by several times due to the
   following reasons.

   1. A long delay spike can occur during link layer recovery from a
      link outage due to temporal loss of radio coverage, for example,
      while driving into a tunnel or within an elevator.

   2. During a handover the mobile terminal and the new base station
      must exchange messages and perform some other time-consuming
      actions before data can be transmitted in a new cell.

   3. Many wide area wireless networks provide seamless mobility by
      internally re-routing packets from the old to the new base station
      which may cause extra delay.

   4. Blocking by high-priority traffic may occur when an arriving
      circuit-switched call or higher priority data temporarily preempts
      the radio channel.  This happens because most current terminals
      are not able to handle a voice call and a data connection
      simultaneously and suspend the data connection in this case.

   5. Additionally, a scheduler in the radio network can suspend a low-
      priority data transfer to give the radio channel to higher
      priority users.

   Delay spikes can cause spurious TCP timeouts, unnecessary
   retransmissions and a multiplicative decrease in the congestion
   window size.









<span class="grey">Inamura, et al.          Best Current Practice                  [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h3"><a class="selflink" name="section-2.5" href="#section-2.5">2.5</a> Packet Loss Due to Corruption</span>

   Even in the face of a high probability of physical layer frame
   errors, 2.5G/3G systems have a low rate of packet losses thanks to
   link-level retransmissions.  Justification for link layer ARQ is
   discussed in [<a href="#ref-23" title="&quot;Advice for Internet Subnetwork Designers&quot;">23</a>], [<a href="#ref-22" title="&quot;Advice to link designers on link Automatic Repeat reQuest (ARQ)&quot;">22</a>], [<a href="#ref-44" title="&quot;Optimizing the End-to-End Performance of Reliable Flows over Wireless Links&quot;">44</a>].  In general, link layer ARQ and FEC
   can provide a packet service with a negligibly small probability of
   undetected errors (failures of the link CRC), and a low level of loss
   (non-delivery) for the upper layer traffic, e.g., IP.  The loss rate
   of IP packets is low due to the ARQ, but the recovery at the link
   layer appears as delay jitter to the higher layers lengthening the
   computed RTO value.

<span class="h3"><a class="selflink" name="section-2.6" href="#section-2.6">2.6</a> Intersystem Handovers</span>

   In the initial phase of deployment, 3G systems will be used as a 'hot
   spot' technology in high population areas, while 2.5G systems will
   provide lower speed data service elsewhere.  This creates an
   environment where a mobile user can roam between 2.5G and 3G networks
   while keeping ongoing TCP connections.  The inter-system handover is
   likely to trigger a high delay spike (<a href="#section-2.4">Section 2.4</a>), and can result in
   data loss.  Additional problems arise because of context transfer,
   which is out of scope of this document, but is being addressed
   elsewhere in the IETF in activities addressing seamless mobility
   [<a href="#ref-51" title="&quot;Problem Description: Reasons For Performing Context Transfers Between Nodes in an IP Access Network&quot;">51</a>].

   Intersystem handovers can adversely affect ongoing TCP connections
   since features may only be negotiated at connection establishment and
   cannot be changed later.  After an intersystem handover, the network
   characteristics may be radically different, and, in fact, may be
   negatively affected by the initial configuration.  This point argues
   against premature optimization by the TCP implementation.

<span class="h3"><a class="selflink" name="section-2.7" href="#section-2.7">2.7</a> Bandwidth Oscillation</span>

   Given the limited RF spectrum, satisfying the high data rate needs of
   2.5G/3G wireless systems requires dynamic resource sharing among
   concurrent data users.  Various scheduling mechanisms can be deployed
   in order to maximize resource utilization.  If multiple users wish to
   transfer large amounts of data at the same time, the scheduler may
   have to repeatedly allocate and de-allocate resources for each user.
   We refer to periodic allocation and release of high-speed channels as
   Bandwidth Oscillation.  Bandwidth Oscillation effects such as
   spurious retransmissions were identified elsewhere (e.g., [<a href="#ref-30" title="&quot;The Eifel Algorithm: Making TCP Robust Against Spurious Retransmissions&quot;">30</a>]) as
   factors that degrade throughput.  There are research studies [<a href="#ref-52" title="&quot;Running TCP over IS-2000&quot;">52</a>],
   [<a href="#ref-54" title="&quot;TCP over Wireless Links with Variable Bandwidth&quot;">54</a>], which show that in some cases Bandwidth Oscillation can be the
   single most important factor in reducing throughput.  For fixed TCP
   parameters the achievable throughput depends on the pattern of



<span class="grey">Inamura, et al.          Best Current Practice                  [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   resource allocation.  When the frequency of resource allocation and
   de-allocation is sufficiently high, there is no throughput
   degradation.  However, increasing the frequency of resource
   allocation/de-allocation may come at the expense of increased
   signaling, and, therefore, may not be desirable.  Standards for 3G
   wireless technologies provide mechanisms that can be used to combat
   the adverse effects of Bandwidth Oscillation.  It is the consensus of
   the PILC Working Group that the best approach for avoiding adverse
   effects of Bandwidth Oscillation is proper wireless sub-network
   design [<a href="#ref-23" title="&quot;Advice for Internet Subnetwork Designers&quot;">23</a>].

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>. Example 2.5G and 3G Deployments</span>

   This section provides further details on a few example 2.5G/3G
   technologies.  The objective is not completeness, but merely to
   discuss some representative technologies and the issues that may
   arise with TCP performance.  Other documents discuss the underlying
   technologies in more detail.  For example, ARQ and FEC are discussed
   in [<a href="#ref-23" title="&quot;Advice for Internet Subnetwork Designers&quot;">23</a>], while further justification for link layer ARQ is discussed
   in [<a href="#ref-22" title="&quot;Advice to link designers on link Automatic Repeat reQuest (ARQ)&quot;">22</a>], [<a href="#ref-44" title="&quot;Optimizing the End-to-End Performance of Reliable Flows over Wireless Links&quot;">44</a>].

<span class="h3"><a class="selflink" name="section-3.1" href="#section-3.1">3.1</a> 2.5G Technologies: GPRS, HSCSD and CDMA2000 1XRTT</span>

   High Speed Circuit-Switched Data (HSCSD) and General Packet Radio
   Service (GPRS) are extensions of GSM providing high data rates for a
   user.  Both extensions were developed first by ETSI and later by
   3GPP.  In GSM, a user is assigned one timeslot downlink and one
   uplink.  HSCSD allocates multiple timeslots to a user creating a fast
   circuit-switched link.  GPRS is based on packet-switched technology
   that allows efficient sharing of radio resources among users and
   always-on capability.  Several terminals can share timeslots.  A GPRS
   network uses an updated base station subsystem of GSM as the access
   network; the GPRS core network includes Serving GPRS Support Nodes
   (SGSN) and Gateway GPRS Support Nodes (GGSN).  The RLC protocol
   operating between a base station controller and a terminal provides
   ARQ capability over the radio link.  The Logical Link Control (LLC)
   protocol between the SGSN and the terminal also has an ARQ capability
   utilized during handovers.

<span class="h3"><a class="selflink" name="section-3.2" href="#section-3.2">3.2</a> A 3G Technology: W-CDMA</span>

   The International Telecommunication Union (ITU) has selected Wideband
   Code Division Multiple Access (W-CDMA) as one of the global telecom
   systems for the IMT-2000 3G mobile communications standard.  W-CDMA
   specifications are created in the 3rd Generation Partnership Project
   (3GPP).





<span class="grey">Inamura, et al.          Best Current Practice                  [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   The link layer characteristics of the 3G network which have the
   largest effect on TCP performance over the link are error controlling
   schemes such as layer two ARQ (L2 ARQ) and FEC (forward error
   correction).

   W-CDMA uses RLC (Radio Link Control) [<a href="#ref-20" title="&quot;RLC Protocol Specification (3G TS 25.322:)&quot;">20</a>], a Selective Repeat and
   sliding window ARQ.  RLC uses protocol data units (PDUs) with a 16
   bit RLC header.  The size of the PDUs may vary.  Typically, 336 bit
   PDUs are implemented [<a href="#ref-34" title="&quot;Special Article on IMT-2000 Services&quot;">34</a>].  This is the unit for link layer
   retransmission.  The IP packet is fragmented into PDUs for
   transmission by RLC.  (For more fragmentation discussion, see <a href="#section-4.4">Section</a>
   <a href="#section-4.4">4.4</a>.)

   In W-CDMA, one to twelve PDUs (RLC frames) constitute one FEC frame,
   the actual size of which depends on link conditions and bandwidth
   allocation.  The FEC frame is the unit of interleaving.  This
   accumulation of PDUs for FEC adds part of the latency mentioned in
   <a href="#section-2.1">Section 2.1</a>.

   For reliable transfer, RLC has an acknowledged mode for PDU
   retransmission.  RLC uses checkpoint ARQ [<a href="#ref-20" title="&quot;RLC Protocol Specification (3G TS 25.322:)&quot;">20</a>] with "status report"
   type acknowledgments; the poll bit in the header explicitly solicits
   the peer for a status report containing the sequence number that the
   peer acknowledges.  The use of the poll bit is controlled by timers
   and by the size of available buffer space in RLC.  Also, when the
   peer detects a gap between sequence numbers in received frames, it
   can issue a status report to invoke retransmission.  RLC preserves
   the order of packet delivery.

   The maximum number of retransmissions is a configurable RLC parameter
   that is specified by RRC [<a href="#ref-39" title="&quot;RRC Protocol Specification (3GPP TS 25.331:)&quot;">39</a>] (Radio Resource Controller) through RLC
   connection initialization.  The RRC can set the maximum number of
   retransmissions (up to a maximum of 40).  Therefore, RLC can be
   described as an ARQ that can be configured for either HIGH-
   PERSISTENCE or LOW-PERSISTENCE, not PERFECT-PERSISTENCE, according to
   the terminology in [<a href="#ref-22" title="&quot;Advice to link designers on link Automatic Repeat reQuest (ARQ)&quot;">22</a>].

   Since the RRC manages RLC connection state, Bandwidth Oscillation
   (<a href="#section-2.7">Section 2.7</a>) can be eliminated by the RRC's keeping RF resource on
   an RLC connection with data in its queue.  This avoids resource de-
   allocation in the middle of transferring data.

   In summary, the link layer ARQ and FEC can provide a packet service
   with a negligibly small probability of undetected error (failure of
   the link CRC), and a low level of loss (non-delivery) for the upper
   layer traffic, i.e., IP.  Retransmission of PDUs by ARQ introduces
   latency and delay jitter to the IP flow.  This is why the transport
   layer sees the underlying W-CDMA network as a network with a



<span class="grey">Inamura, et al.          Best Current Practice                  [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   relatively large BDP (Bandwidth-Delay Product) of up to 50 KB for the
   384 kbps radio bearer.

<span class="h3"><a class="selflink" name="section-3.3" href="#section-3.3">3.3</a> A 3G Technology: CDMA2000 1X-EV</span>

   One of the Terrestrial Radio Interface standards for 3G wireless
   systems, proposed under the International Mobile Telecommunications-
   2000 umbrella, is cdma2000 [<a href="#ref-55" title="&quot;Mobile Station - Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular Systems&quot;">55</a>].  It employs Multi-Carrier Code
   Division Multiple Access (CDMA) technology with a single-carrier RF
   bandwidth of 1.25 MHz.  cdma2000 evolved from IS-95 [<a href="#ref-56" title="&quot;Mobile Station - Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular Systems&quot;">56</a>], a 2G
   standard based on CDMA technology.  The first phase of cdma2000
   utilizes a single carrier and is designed to double the voice
   capacity of existing CDMA (IS-95) networks and to support always-on
   data transmission speeds of up to 316.8 kbps.  As mentioned above,
   these enhanced capabilities are delivered by cdma2000 1XRTT.  3G
   speeds of 2 Mbps are offered by cdma2000 1X-EV.  At the physical
   layer, the standard allows transmission in 5,10,20,40 or 80 ms time
   frames.  Various orthogonal (Walsh) codes are used for channel
   identification and to achieve higher data rates.

   Radio Link Protocol Type 3 (RLP) [<a href="#ref-57" title="&quot;Data Service Options for Spread Spectrum Systems: Radio Link Protocol Type 3&quot;">57</a>] is used with a cdma2000 Traffic
   Channel to support CDMA data services.  RLP provides an octet stream
   transport service and is unaware of higher layer framing.  There are
   several RLP frame formats.  RLP frame formats with higher payload
   were designed for higher data rates.  Depending on the channel speed,
   one or more RLP frames can be transmitted in a single physical layer
   frame.

   RLP can substantially decrease the error rate exhibited by CDMA
   traffic channels [<a href="#ref-53" title="&quot;Analytical Model of RLP in IS-2000 CDMA Networks&quot;">53</a>].  When transferring data, RLP is a pure NAK-
   based finite selective repeat protocol.  The receiver does not
   acknowledge successfully received data frames.  If one or more RLP
   data frames are missing, the receiving RLP makes several attempts
   (called NAK rounds) to recover them by sending one or more NAK
   control frames to the transmitter.  Each NAK frame must be sent in a
   separate physical layer frame.  When RLP supplies the last NAK
   control frame of a particular NAK round, a retransmission timer is
   set.  If the missing frame is not received when the timer expires,
   RLP may try another NAK round.  RLP may not recover all missing
   frames.  If after all RLP rounds, a frame is still missing, RLP
   supplies data with a missing frame to the higher layer protocols.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>. TCP over 2.5G and 3G</span>

   What follows is a set of recommendations for configuration parameters
   for protocol stacks which will be used to support TCP connections
   over 2.5G and 3G wireless networks.  Some of these recommendations
   imply special configuration:



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   o  at the data receiver (frequently a stack at or near the wireless
      device),

   o  at the data sender (frequently a host in the Internet or possibly
      a gateway or proxy at the edge of a wireless network), or

   o  at both.

   These configuration options are commonly available IETF standards-
   track mechanisms considered safe on the general Internet.  System
   administrators are cautioned, however, that increasing the MTU size
   (<a href="#section-4.4">Section 4.4</a>) and disabling <a href="rfc1144.html">RFC 1144</a> header compression (<a href="#section-4.9">Section 4.9</a>)
   could affect host efficiency, and that changing such parameters
   should be done with care.

<span class="h3"><a class="selflink" name="section-4.1" href="#section-4.1">4.1</a> Appropriate Window Size (Sender &amp; Receiver)</span>

   TCP over 2.5G/3G should support appropriate window sizes based on the
   Bandwidth Delay Product (BDP) of the end-to-end path (see <a href="#section-2.2">Section</a>
   <a href="#section-2.2">2.2</a>).  The TCP specification [<a href="#ref-14" title="&quot;Transmission Control Protocol - DARPA Internet Program Protocol Specification&quot;">14</a>] limits the receiver window size to
   64 KB.  If the end-to-end BDP is expected to be larger than 64 KB,
   the window scale option [<a href="#ref-2" title="&quot;TCP Extensions for High Performance&quot;">2</a>] can be used to overcome that limitation.
   Many operating systems by default use small TCP receive and send
   buffers around 16KB.  Therefore, even for a BDP below 64 KB, the
   default buffer size setting should be increased at the sender and at
   the receiver to allow a large enough window.

<span class="h3"><a class="selflink" name="section-4.2" href="#section-4.2">4.2</a> Increased Initial Window (Sender)</span>

   TCP controls its transmit rate using the congestion window mechanism.
   The traditional initial window value of one segment, coupled with the
   delayed ACK mechanism [<a href="#ref-17" title="&quot;Requirements for Internet Hosts - Communication Layers&quot;">17</a>] implies unnecessary idle times in the
   initial phase of the connection, including the delayed ACK timeout
   (typically 200 ms, but potentially as much as 500 ms) [<a href="#ref-4" title="&quot;Increasing TCP's Initial Window&quot;">4</a>].  Senders
   can avoid this by using a larger initial window of up to four
   segments (not to exceed roughly 4 KB) [<a href="#ref-4" title="&quot;Increasing TCP's Initial Window&quot;">4</a>].  Experiments with
   increased initial windows  and related measurements have shown (1)
   that it is safe to deploy this mechanism (i.e., it does not lead to
   congestion collapse), and (2) that it is especially effective for the
   transmission of a few TCP segments' worth of data (which is the
   behavior commonly seen in such applications as Internet-enabled
   mobile wireless devices).  For large data transfers, on the other
   hand, the effect of this mechanism is negligible.

   TCP over 2.5G/3G SHOULD set the initial CWND (congestion window)
   according to Equation 1 in [<a href="#ref-4" title="&quot;Increasing TCP's Initial Window&quot;">4</a>]:

                   min (4*MSS, max (2*MSS, 4380 bytes))



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   This increases the permitted initial window from one to between two
   and four segments (not to exceed approximately 4 KB).

<span class="h3"><a class="selflink" name="section-4.3" href="#section-4.3">4.3</a> Limited Transmit (Sender)</span>

   <a href="rfc3042.html">RFC 3042</a> [<a href="#ref-10" title="&quot;Enhancing TCP's Loss Recovery Using Limited Transmit&quot;">10</a>], Limited Transmit, extends Fast Retransmit/Fast
   Recovery for TCP connections with small congestion windows that are
   not likely to generate the three duplicate acknowledgements required
   to trigger Fast Retransmit [<a href="#ref-1" title="&quot;TCP Congestion Control&quot;">1</a>].  If a sender has previously unsent
   data queued for transmission, the limited transmit mechanism calls
   for sending a new data segment in response to each of the first two
   duplicate acknowledgments that arrive at the sender.  This mechanism
   is effective when the congestion window size is small or if a large
   number of segments in a window are lost.  This may avoid some
   retransmissions due to TCP timeouts.  In particular, some studies
   [<a href="#ref-10" title="&quot;Enhancing TCP's Loss Recovery Using Limited Transmit&quot;">10</a>] have shown that over half of a busy server's retransmissions
   were due to RTO expiration (as opposed to Fast Retransmit), and that
   roughly 25% of those could have been avoided using Limited Transmit.
   Similar to the discussion in <a href="#section-4.2">Section 4.2</a>, this mechanism is useful
   for small amounts of data to be transmitted.  TCP over 2.5G/3G
   implementations SHOULD implement Limited Transmit.

<span class="h3"><a class="selflink" name="section-4.4" href="#section-4.4">4.4</a> IP MTU Larger than Default</span>

   The maximum size of an IP datagram supported by a link layer is the
   MTU (Maximum Transfer Unit).  The link layer may, in turn, fragment
   IP datagrams into PDUs.  For example, on links with high error rates,
   a smaller link PDU size increases the chance of successful
   transmission.  With layer two ARQ and transparent link layer
   fragmentation, the network layer can enjoy a larger MTU even in a
   relatively high BER (Bit Error Rate) condition.  Without these
   features in the link, a smaller MTU is suggested.

   TCP over 2.5G/3G should allow freedom for designers to choose MTU
   values ranging from small values (such as 576 bytes) to a large value
   that is supported by the type of link in use (such as 1500 bytes for
   IP packets on Ethernet).  Given that the window is counted in units
   of segments, a larger MTU allows TCP to increase the congestion
   window faster [<a href="#ref-5" title="&quot;End-to-end Performance Implications of Slow Links&quot;">5</a>].  Hence, designers are generally encouraged to
   choose larger values.  These may exceed the default IP MTU values of
   576 bytes for IPv4 <a href="rfc1191.html">RFC 1191</a> [<a href="#ref-6" title="&quot;Path MTU Discovery&quot;">6</a>] and 1280 bytes for IPv6 [<a href="#ref-18" title="&quot;Internet Protocol, Version 6 (IPv6) Specification&quot;">18</a>].  While
   this recommendation is applicable to 3G networks, operation over 2.5G
   networks should exercise caution as per the recommendations in <a href="rfc3150.html">RFC</a>
   <a href="rfc3150.html">3150</a> [<a href="#ref-5" title="&quot;End-to-end Performance Implications of Slow Links&quot;">5</a>].







<span class="grey">Inamura, et al.          Best Current Practice                 [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h3"><a class="selflink" name="section-4.5" href="#section-4.5">4.5</a> Path MTU Discovery (Sender &amp; Intermediate Routers)</span>

   Path MTU discovery allows a sender to determine the maximum end-to-
   end transmission unit (without IP fragmentation) for a given routing
   path.  <a href="rfc1191.html">RFC 1191</a> [<a href="#ref-6" title="&quot;Path MTU Discovery&quot;">6</a>] and <a href="rfc1981.html">RFC 1981</a> [<a href="#ref-8" title="&quot;Path MTU Discovery for IP version 6&quot;">8</a>] describe the MTU discovery
   procedure for IPv4 and IPv6, respectively.  This allows TCP senders
   to employ larger segment sizes (without causing IP layer
   fragmentation) instead of assuming the small default MTU.  TCP over
   2.5G/3G implementations should implement Path MTU Discovery.  Path
   MTU Discovery requires intermediate routers to support the generation
   of the necessary ICMP messages.  <a href="rfc1435.html">RFC 1435</a> [<a href="#ref-7" title="&quot;IESG Advice from Experience with Path MTU Discovery&quot;">7</a>] provides
   recommendations that may be relevant for some router implementations.

<span class="h3"><a class="selflink" name="section-4.6" href="#section-4.6">4.6</a> Selective Acknowledgments (Sender &amp; Receiver)</span>

   The selective acknowledgment option (SACK), <a href="rfc2018.html">RFC 2018</a> [<a href="#ref-3" title="&quot;TCP Selective Acknowledgment Options&quot;">3</a>], is
   effective when multiple TCP segments are lost in a single TCP window
   [<a href="#ref-24" title="&quot;End-to-end Performance Implications of Links with Errors&quot;">24</a>].  In particular, if the end-to-end path has a large BDP and a
   high packet loss rate, the probability of multiple segment losses in
   a single window of data increases.  In such cases, SACK provides
   robustness beyond TCP-Tahoe and TCP-Reno [<a href="#ref-21" title="&quot;Simulation-based Comparisons of Tahoe, Reno, and SACK TCP&quot;">21</a>].  TCP over 2.5G/3G
   SHOULD support SACK.

   In the absence of SACK feature, the TCP should use NewReno <a href="rfc2582.html">RFC 2582</a>
   [<a href="#ref-15" title="&quot;The NewReno Modification to TCP's Fast Recovery Algorithm&quot;">15</a>].

<span class="h3"><a class="selflink" name="section-4.7" href="#section-4.7">4.7</a> Explicit Congestion Notification (Sender, Receiver &amp; Intermediate</span>
<span class="h3">    Routers)</span>

   Explicit Congestion Notification, <a href="rfc3168.html">RFC 3168</a> [<a href="#ref-9" title="&quot;The Addition of Explicit Congestion Notification (ECN) to IP&quot;">9</a>], allows a TCP receiver
   to inform the sender of congestion in the network by setting the
   ECN-Echo flag upon receiving an IP packet marked with the CE bit(s).
   The TCP sender will then reduce its congestion window.  Thus, the use
   of ECN is believed to provide performance benefits [<a href="#ref-32" title="&quot;Performance Evaluation of Explicit Congestion Notification (ECN) in IP Networks&quot;">32</a>], [<a href="#ref-43" title="&quot;Multi-layer tracing of TCP over a reliable wireless link&quot;">43</a>].  <a href="rfc3168.html">RFC</a>
   <a href="rfc3168.html">3168</a> [<a href="#ref-9" title="&quot;The Addition of Explicit Congestion Notification (ECN) to IP&quot;">9</a>] also places requirements on intermediate routers (e.g.,
   active queue management and setting of the CE bit(s) in the IP header
   to indicate congestion).  Therefore, the potential improvement in
   performance can only be achieved when ECN capable routers are
   deployed along the path.  TCP over 2.5G/3G SHOULD support ECN.

<span class="h3"><a class="selflink" name="section-4.8" href="#section-4.8">4.8</a> TCP Timestamps Option (Sender &amp; Receiver)</span>

   Traditionally, TCPs collect one RTT sample per window of data [<a href="#ref-14" title="&quot;Transmission Control Protocol - DARPA Internet Program Protocol Specification&quot;">14</a>],
   [<a href="#ref-17" title="&quot;Requirements for Internet Hosts - Communication Layers&quot;">17</a>].  This can lead to an underestimation of the RTT, and spurious
   timeouts on paths in which the packet transmission delay dominates
   the RTT.  This holds despite a conservative retransmit timer such as
   the one specified in <a href="rfc2988.html">RFC 2988</a> [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>].  TCP connections with large
   windows may benefit from more frequent RTT samples provided with



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   timestamps by adapting quicker to changing network conditions [<a href="#ref-2" title="&quot;TCP Extensions for High Performance&quot;">2</a>].
   However, there is some empirical evidence that for TCPs with an <a href="rfc2988.html">RFC</a>
   <a href="rfc2988.html">2988</a> timer [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>], timestamps provide little or no benefits on backbone
   Internet paths [<a href="#ref-59" title="&quot;On Estimating End-to-End Network Path Properties&quot;">59</a>].   Using the TCP Timestamps option has the
   advantage that retransmitted segments can be used for RTT
   measurement, which is otherwise forbidden by Karn's algorithm [<a href="#ref-17" title="&quot;Requirements for Internet Hosts - Communication Layers&quot;">17</a>],
   [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>].  Furthermore, the TCP Timestamps option is the basis for
   detecting spurious retransmits using the Eifel algorithm [<a href="#ref-30" title="&quot;The Eifel Algorithm: Making TCP Robust Against Spurious Retransmissions&quot;">30</a>].

   A 2.5/3G link (layer) is dedicated to a single host.  It therefore
   only experiences a low degree of statistical multiplexing between
   different flows.  Also, the packet transmission and queuing delays of
   a 2.5/3G link often dominate the path's RTT.  This already results in
   large RTT variations as packets fill the queue while a TCP sender
   probes for more bandwidth, or as packets drain from the queue while a
   TCP sender reduces its load in response to a packet loss.  In
   addition, the delay spikes across a 2.5/3G link (see <a href="#section-2.4">Section 2.4</a>) may
   often exceed the end-to-end RTT.  The thus resulting large variations
   in the path's RTT may often cause spurious timeouts.

   When running TCP in such an environment, it is therefore advantageous
   to sample the path's RTT more often than only once per RTT.  This
   allows the TCP sender to track changes in the RTT more closely.  In
   particular, a TCP sender can react more quickly to sudden increases
   of the RTT by sooner updating the RTO to a more conservative value.
   The TCP Timestamps option [<a href="#ref-2" title="&quot;TCP Extensions for High Performance&quot;">2</a>] provides this capability, allowing the
   TCP sender to sample the RTT from every segment that is acknowledged.
   Using timestamps in the mentioned scenario leads to a more
   conservative TCP retransmission timer and reduces the risk of
   triggering spurious timeouts [<a href="#ref-45" title="&quot;Making TCP Robust Against Delay Spikes&quot;">45</a>], [<a href="#ref-52" title="&quot;Running TCP over IS-2000&quot;">52</a>], [<a href="#ref-54" title="&quot;TCP over Wireless Links with Variable Bandwidth&quot;">54</a>], [<a href="#ref-60" title="&quot;Responding to Spurious Timeouts in TCP&quot;">60</a>].

   There are two problematic issues with using timestamps:

   o  12 bytes of overhead are introduced by carrying the TCP Timestamps
      option and padding in the TCP header.  For a small MTU size, it
      can present a considerable overhead.  For example, for an MTU of
      296 bytes the added overhead is 4%.  For an MTU of 1500 bytes, the
      added overhead is only 0.8%.

   o  Current TCP header compression schemes are limited in their
      handling of the TCP options field.  For <a href="rfc2507.html">RFC 2507</a> [<a href="#ref-13" title="&quot;IP Header Compression&quot;">13</a>], any change
      in the options field (caused by timestamps or SACK, for example)
      renders the entire field uncompressible (leaving the TCP/IP header
      itself compressible, however).  Even worse, for <a href="rfc1144.html">RFC 1144</a> [<a href="#ref-40" title="&quot;Compressing TCP/IP Headers for Low-Speed Serial Links&quot;">40</a>] such
      a change in the options field effectively disables TCP/IP header
      compression altogether.  This is the case when a connection uses
      the TCP Timestamps option.  That option field is used both in the
      data and the ACK path, and its value typically changes from one



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 14]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


      packet to the next.  The IETF is currently specifying a robust
      TCP/IP header compression scheme with better support for TCP
      options [<a href="#ref-29" title="&quot;Robust Header Compression&quot;">29</a>].

   The original definition of the timestamps option [<a href="#ref-2" title="&quot;TCP Extensions for High Performance&quot;">2</a>] specifies that
   duplicate segments below cumulative ACK do not update the cached
   timestamp value at the receiver.  This may lead to overestimating of
   RTT for retransmitted segments.  A possible solution [<a href="#ref-47" title="&quot;TCP Extensions for High Performance: An Update&quot;">47</a>] allows the
   receiver to use a more recent timestamp from a duplicate segment.
   However, this suggestion allows for spoofing attacks against the TCP
   receiver.  Therefore,  careful consideration is needed in
   implementing this solution.

   Recommendation: TCP SHOULD use the TCP Timestamps option.  It allows
   for better RTT estimation and reduces the risk of spurious timeouts.

<span class="h3"><a class="selflink" name="section-4.9" href="#section-4.9">4.9</a> Disabling <a href="rfc1144.html">RFC 1144</a> TCP/IP Header Compression (Wireless Host)</span>

   It is well known (and has been shown with experimental data) that <a href="rfc1144.html">RFC</a>
   <a href="rfc1144.html">1144</a> [<a href="#ref-40" title="&quot;Compressing TCP/IP Headers for Low-Speed Serial Links&quot;">40</a>] TCP header compression does not perform well in the
   presence of packet losses [<a href="#ref-43" title="&quot;Multi-layer tracing of TCP over a reliable wireless link&quot;">43</a>], [<a href="#ref-52" title="&quot;Running TCP over IS-2000&quot;">52</a>].  If a wireless link error is
   not recovered, it will cause TCP segment loss between the compressor
   and decompressor, and then <a href="rfc1144.html">RFC 1144</a> header compression does not allow
   TCP to take advantage of Fast Retransmit Fast Recovery mechanism.
   The <a href="rfc1144.html">RFC 1144</a> header compression algorithm does not transmit the
   entire TCP/IP headers, but only the changes in the headers of
   consecutive segments.  Therefore, loss of a single TCP segment on the
   link causes the transmitting and receiving TCP sequence numbers to
   fall out of synchronization.   Hence, when a TCP segment is lost
   after the compressor, the decompressor will generate false TCP
   headers.  Consequently, the TCP receiver will discard all remaining
   packets in the current window because of a checksum error.  This
   continues until the compressor receives the first retransmission
   which is forwarded uncompressed to synchronize the decompressor [<a href="#ref-40" title="&quot;Compressing TCP/IP Headers for Low-Speed Serial Links&quot;">40</a>].

   As previously recommended in <a href="rfc3150.html">RFC 3150</a> [<a href="#ref-5" title="&quot;End-to-end Performance Implications of Slow Links&quot;">5</a>], <a href="rfc1144.html">RFC 1144</a> header
   compression SHOULD NOT be enabled unless the packet loss probability
   between the compressor and decompressor is very low.  Actually,
   enabling the Timestamps Option effectively accomplishes the same
   thing (see <a href="#section-4.8">Section 4.8</a>).  Other header compression schemes like <a href="rfc2507.html">RFC</a>
   <a href="rfc2507.html">2507</a> [<a href="#ref-13" title="&quot;IP Header Compression&quot;">13</a>] and Robust Header Compression [<a href="#ref-12" title="&quot;RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed&quot;">12</a>] are meant to address
   deficiencies in <a href="rfc1144.html">RFC 1144</a> header compression.  At the time of this
   writing, the IETF was working on multiple extensions to Robust Header
   Compression (negotiating Robust Header Compression over PPP,
   compressing TCP options, etc) [<a href="#ref-16" title="&quot;Robust Header Compression (ROHC) over PPP&quot;">16</a>].






<span class="grey">Inamura, et al.          Best Current Practice                 [Page 15]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-16" id="page-16" href="#page-16" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h3"><a class="selflink" name="section-4.10" href="#section-4.10">4.10</a> Summary</span>

   Items                                   Comments
   ----------------------------------------------------------------
   Appropriate Window Size         (sender &amp; receiver)
                                   based on end-to-end BDP

   Window Scale Option             (sender &amp; receiver)
   [<a href="rfc1323.html">RFC1323</a>]                       Window size &gt; 64KB

   Increased Initial Window        (sender)
   [<a href="rfc3390.html">RFC3390</a>]                       CWND = min (4*MSS,
                                   max (2*MSS, 4380 bytes))

   Limited Transmit                (sender)
   [<a href="rfc3042.html">RFC3042</a>]

   IP MTU larger than              more applicable to 3G
   Default

   Path MTU Discovery              (sender &amp; intermediate routers)
   [RFC1191,<a href="rfc1981.html">RFC1981</a>]

   Selective Acknowledgment
   option (SACK)
   [<a href="rfc2018.html">RFC2018</a>]                       (sender &amp; receiver)

   Explicit Congestion
   Notification(ECN)
   [<a href="rfc3168.html">RFC3168</a>]                       (sender, receiver &amp;
                                   intermediate routers)

   Timestamps Option               (sender &amp; receiver)
   [RFC1323, R.T.Braden's ID]

   Disabling <a href="rfc1144.html">RFC1144</a>
   TCP/IP Header Compression
   [<a href="rfc1144.html">RFC1144</a>]                       (wireless host)

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>. Open Issues</span>

   This section outlines additional mechanisms and parameter settings
   that may increase end-to-end performance when running TCP across
   2.5G/3G networks.  Note, that apart from the discussion of the RTO's
   initial value, those mechanisms and parameter settings are not part
   of any standards track RFC at the time of this writing.  Therefore,
   they cannot be recommended for the Internet in general.




<span class="grey">Inamura, et al.          Best Current Practice                 [Page 16]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-17" id="page-17" href="#page-17" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   Other mechanisms for increasing TCP performance include enhanced TCP/
   IP header compression schemes [<a href="#ref-29" title="&quot;Robust Header Compression&quot;">29</a>], active queue management <a href="rfc2309.html">RFC 2309</a>
   [<a href="#ref-28" title="&quot;Recommendations on Queue Management and Congestion Avoidance in the Internet&quot;">28</a>], link layer retransmission schemes [<a href="#ref-23" title="&quot;Advice for Internet Subnetwork Designers&quot;">23</a>], and caching packets
   during transient link outages to retransmit them locally when the
   link is restored to operation [<a href="#ref-23" title="&quot;Advice for Internet Subnetwork Designers&quot;">23</a>].

   Shortcomings of existing TCP/IP header compression schemes (<a href="rfc1144.html">RFC 1144</a>
   [<a href="#ref-40" title="&quot;Compressing TCP/IP Headers for Low-Speed Serial Links&quot;">40</a>], <a href="rfc2507.html">RFC 2507</a> [<a href="#ref-13" title="&quot;IP Header Compression&quot;">13</a>]) are that they do not compress headers of
   handshaking packets (SYNs and FINs), and that they lack proper
   handling of TCP option fields (e.g., SACK or timestamps) (see <a href="#section-4.8">Section</a>
   <a href="#section-4.8">4.8</a>).   Although <a href="rfc3095.html">RFC 3095</a> [<a href="#ref-12" title="&quot;RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed&quot;">12</a>] does not yet address this issue, the
   IETF is developing improved TCP/IP header compression schemes,
   including better handling of TCP options such as timestamps and
   selective acknowledgements.  Especially, if many short-lived TCP
   connections run across the link, the compression of the handshaking
   packets may greatly improve the overall header compression ratio.

   Implementing active queue management is attractive for a number of
   reasons as outlined in <a href="rfc2309.html">RFC 2309</a> [<a href="#ref-28" title="&quot;Recommendations on Queue Management and Congestion Avoidance in the Internet&quot;">28</a>].  One important benefit for
   2.5G/ 3G networks, is that it minimizes the amount of potentially
   stale data that may be queued in the network ("clicking from page to
   page" before the download of the previous page is complete).
   Avoiding the transmission of stale data across the 2.5G/3G radio link
   saves transmission (battery) power, and increases the ratio of useful
   data over total data transmitted.  Another important benefit of
   active queue management for 2.5G/3G networks, is that it reduces the
   risk of a spurious timeout for the first data segment as outlined
   below.

   Since 2.5G/3G networks are commonly characterized by high delays,
   avoiding unecessary round-trip times is particularly attractive.
   This is specially beneficial for short-lived, transactional (request/
   response-style) TCP sessions that typically result from browsing the
   Web from a smart phone.  However, existing solutions such as T/TCP
   <a href="rfc1644.html">RFC 1644</a> [<a href="#ref-27" title="&quot;T/TCP -- TCP Extensions for Transactions&quot;">27</a>], have not been adopted due to known security concerns
   [<a href="#ref-38" title="&quot;Internet Vulnerabilities Related to TCP/IP and T/TCP&quot;">38</a>].

   Spurious timeouts, packet re-ordering, and packet duplication may
   reduce TCP's performance.  Thus, making TCP more robust against those
   events is desirable.  Solutions to this problem have been proposed
   [<a href="#ref-30" title="&quot;The Eifel Algorithm: Making TCP Robust Against Spurious Retransmissions&quot;">30</a>], [<a href="#ref-35" title="&quot;An Extension to the Selective Acknowledgement (SACK) Option for TCP&quot;">35</a>], [<a href="#ref-41" title="&quot;On Making TCP More Robust to Packet Reordering&quot;">41</a>], and standardization work within the IETF is ongoing
   at the time of writing.  Those solutions include reverting congestion
   control state after such an event has been detected, and adapting the
   retransmission timer and duplicate acknowledgement threshold.  The
   deployment of such solutions may be particularly beneficial when
   running TCP across wireless networks because wireless access links
   may often be subject to handovers and resource preemption, or the
   mobile transmitter may traverse through a radio coverage hole.  Such



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 17]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-18" id="page-18" href="#page-18" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   disrupting events may easily trigger a spurious timeout despite a
   conservative retransmission timer.  Also, the mobility mechanisms of
   some wireless networks may cause packet duplication.

   The algorithm for computing TCP's retransmission timer is specified
   in <a href="rfc2988.html">RFC 2988</a> [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>].  The standard specifies that the initial setting of
   the retransmission timeout value (RTO) should not be less than 3
   seconds.  This value might be too low when running TCP across 2.5G/3G
   networks.  In addition to its high latencies, those networks may be
   run at bit rates of as low as about 10 kb/s which results in large
   packet transmission delays.  In this case, the RTT for the first data
   segment may easily exceed the initial TCP retransmission timer
   setting of 3 seconds.  This would then cause a spurious timeout for
   that segment.  Hence, in such situations it may be advisable to set
   TCP's initial RTO to a value larger than 3 seconds.  Furthermore, due
   to the potentially large packet transmission delays, a TCP sender
   might choose to refrain from initializing its RTO from the RTT
   measured for the SYN, but instead take the RTT measured for the first
   data segment.

   Some of the recommendations in <a href="rfc2988.html">RFC 2988</a> [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>] are optional, and are
   not followed by all TCP implementations.  Specifically, some TCP
   stacks allow a minimum RTO less than the recommended value of 1
   second (section 2.4 of [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>]), and some implementations do not
   implement the recommended restart of the RTO timer when an ACK is
   received (section 5.3 of [<a href="#ref-11" title="&quot;Computing TCP's Retransmission Timer&quot;">11</a>]).  Some experiments [<a href="#ref-52" title="&quot;Running TCP over IS-2000&quot;">52</a>], [<a href="#ref-54" title="&quot;TCP over Wireless Links with Variable Bandwidth&quot;">54</a>], have
   shown that in the face of bandwidth oscillation, using the
   recommended minimum RTO value of 1 sec (along with the also
   recommended initial RTO of 3 sec) reduces the number of spurious
   retransmissions as compared to using small minimum RTO values of 200
   or 400 ms.  Furthermore, TCP stacks that restart the retransmission
   timer when an ACK is received experience far less spurious
   retransmissions than implementations that do not restart the RTO
   timer when an ACK is received.  Therefore, at the time of this
   writing, it seems preferable for TCP implementations used in 3G
   wireless data transmission to comply with all recommendations of <a href="rfc2988.html">RFC</a>
   <a href="rfc2988.html">2988</a>.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>. Security Considerations</span>

   In 2.5G/3G wireless networks, data is transmitted as ciphertext over
   the air and as cleartext between the Radio Access Network (RAN) and
   the core network.  IP security <a href="rfc2401.html">RFC 2401</a> [<a href="#ref-37" title="&quot;Security Architecture for the Internet Protocol&quot;">37</a>] or TLS <a href="rfc2246.html">RFC 2246</a> [<a href="#ref-36" title="&quot;The TLS Protocol Version 1.0&quot;">36</a>] can
   be deployed by user devices for end-to-end security.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>. IANA Considerations</span>

   This specification requires no IANA actions.



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 18]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-19" id="page-19" href="#page-19" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>. Acknowledgements</span>

   The authors would like to acknowledge contributions to the text from
   the following individuals:

      Max Hata, NTT DoCoMo, Inc.  (hata@mml.yrp.nttdocomo.co.jp)

      Masahiro Hara, Fujitsu, Inc.  (mhara@FLAB.FUJITSU.CO.JP)

      Joby James, Motorola, Inc.  (joby@MIEL.MOT.COM)

      William Gilliam, Hewlett-Packard Company (wag@cup.hp.com)

      Alan Hameed, Fujitsu FNC, Inc. (Alan.Hameed@fnc.fujitsu.com)

      Rodrigo Garces, Mobility Network Systems
                             (rodrigo.garces@mobilitynetworks.com)

      Peter Ford, Microsoft (peterf@Exchange.Microsoft.com)

      Fergus Wills, Openwave (fergus.wills@openwave.com)

      Michael Meyer (Michael.Meyer@eed.ericsson.se)

   The authors gratefully acknowledge the valuable advice from the
   following individuals:

      Gorry Fairhurst (gorry@erg.abdn.ac.uk)

      Mark Allman (mallman@grc.nasa.gov)

      Aaron Falk (falk@ISI.EDU)

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>. Normative References</span>

   [<a name="ref-1" id="ref-1">1</a>]  Allman, M., Paxson, V. and W. Stevens, "TCP Congestion Control",
        <a href="rfc2581.html">RFC 2581</a>, April 1999.

   [<a name="ref-2" id="ref-2">2</a>]  Jacobson, V., Braden, R. and D. Borman, "TCP Extensions for High
        Performance", <a href="rfc1323.html">RFC 1323</a>, May 1992.

   [<a name="ref-3" id="ref-3">3</a>]  Mathis, M., Mahdavi, J., Floyd, S. and R. Romanow, "TCP
        Selective Acknowledgment Options", <a href="rfc2018.html">RFC 2018</a>, October 1996.

   [<a name="ref-4" id="ref-4">4</a>]  Allman, M., Floyd, S. and C. Partridge, "Increasing TCP's
        Initial Window", <a href="rfc3390.html">RFC 3390</a>, October 2002.





<span class="grey">Inamura, et al.          Best Current Practice                 [Page 19]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-20" id="page-20" href="#page-20" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


   [<a name="ref-5" id="ref-5">5</a>]  Dawkins, S., Montenegro, G., Kojo, M. and V. Magret, "End-to-end
        Performance Implications of Slow Links", <a href="https://tools.ietf.org/html/bcp48">BCP 48</a>, <a href="rfc3150.html">RFC 3150</a>, July
        2001.

   [<a name="ref-6" id="ref-6">6</a>]  Mogul, J. and S. Deering, "Path MTU Discovery", <a href="rfc1191.html">RFC 1191</a>,
        November 1990.

   [<a name="ref-7" id="ref-7">7</a>]  Knowles, S., "IESG Advice from Experience with Path MTU
        Discovery", <a href="rfc1435.html">RFC 1435</a>, March 1993.

   [<a name="ref-8" id="ref-8">8</a>]  McCann, J., Deering, S. and J. Mogul, "Path MTU Discovery for IP
        version 6", <a href="rfc1981.html">RFC 1981</a>, August 1996.

   [<a name="ref-9" id="ref-9">9</a>]  Ramakrishnan, K., Floyd, S. and D. Black, "The Addition of
        Explicit Congestion Notification (ECN) to IP", <a href="rfc3168.html">RFC 3168</a>,
        September 2001.

  [<a name="ref-10" id="ref-10">10</a>]  Allman, M., Balakrishnan, H. and S. Floyd, "Enhancing TCP's Loss
        Recovery Using Limited Transmit", <a href="rfc3042.html">RFC 3042</a>, January 2001.

  [<a name="ref-11" id="ref-11">11</a>]  Paxson, V. and M. Allman, "Computing TCP's Retransmission
        Timer", <a href="rfc2988.html">RFC 2988</a>, November 2000.

  [<a name="ref-12" id="ref-12">12</a>]  Bormann, C., Burmeister, C., Degermark, M., Fukushima, H.,
        Hannu, H., Jonsson, L-E., Hakenberg, R., Koren, T., Le, K., Liu,
        Z., Martensson, A., Miyazaki, A., Svanbro, K., Wiebke, T.,
        Yoshimura, T. and H. Zheng, "RObust Header Compression (ROHC):
        Framework and four profiles: RTP, UDP, ESP, and uncompressed",
        <a href="rfc3095.html">RFC 3095</a>, July 2001.

  [<a name="ref-13" id="ref-13">13</a>]  Degermark, M., Nordgren, B. and S. Pink, "IP Header
        Compression", <a href="rfc2507.html">RFC 2507</a>, February 1999.

  [<a name="ref-14" id="ref-14">14</a>]  Postel, J., "Transmission Control Protocol - DARPA Internet
        Program Protocol Specification", STD 7, <a href="rfc793.html">RFC 793</a>, September 1981.

  [<a name="ref-15" id="ref-15">15</a>]  Floyd, S. and T. Henderson, "The NewReno Modification to TCP's
        Fast Recovery Algorithm", <a href="rfc2582.html">RFC 2582</a>, April 1999.

  [<a name="ref-16" id="ref-16">16</a>]  Bormann, C., "Robust Header Compression (ROHC) over PPP", <a href="rfc3241.html">RFC</a>
        <a href="rfc3241.html">3241</a>, April 2002.

  [<a name="ref-17" id="ref-17">17</a>]  Braden, R., "Requirements for Internet Hosts - Communication
        Layers", STD 3, <a href="rfc1122.html">RFC 1122</a>, October 1989.

  [<a name="ref-18" id="ref-18">18</a>]  Deering, S. and R. Hinden, "Internet Protocol, Version 6 (IPv6)
        Specification", <a href="rfc2460.html">RFC 2460</a>, December 1998.




<span class="grey">Inamura, et al.          Best Current Practice                 [Page 20]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-21" id="page-21" href="#page-21" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>. Informative References</span>

  [<a name="ref-19" id="ref-19">19</a>]  Montenegro, G., Dawkins, S., Kojo, M., Magret, V. and N.
        Vaidya, "Long Thin Networks", <a href="rfc2757.html">RFC 2757</a>, January 2000.

  [<a name="ref-20" id="ref-20">20</a>]  Third Generation Partnership Project, "RLC Protocol
        Specification (3G TS 25.322:)", 1999.

  [<a name="ref-21" id="ref-21">21</a>]  Fall, K. and S. Floyd, "Simulation-based Comparisons of Tahoe,
        Reno, and SACK TCP", Computer Communication Review, 26(3) , July
        1996.

  [<a name="ref-22" id="ref-22">22</a>]  Fairhurst, G. and L. Wood, "Advice to link designers on link
        Automatic Repeat reQuest (ARQ)", <a href="https://tools.ietf.org/html/bcp62">BCP 62</a>, <a href="rfc3366.html">RFC 3366</a>, August 2002.

  [<a name="ref-23" id="ref-23">23</a>]  Karn, P., <a style="text-decoration: none" href='https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Advice+for+Internet+Subnetwork+Designers%22'>"Advice for Internet Subnetwork Designers"</a>, Work in
        Progress.

  [<a name="ref-24" id="ref-24">24</a>]  Dawkins, S., Montenegro, G., Magret, V., Vaidya, N. and M.
        Kojo, "End-to-end Performance Implications of Links with
        Errors", <a href="https://tools.ietf.org/html/bcp50">BCP 50</a>, <a href="rfc3135.html">RFC 3135</a>, August 2001.

  [<a name="ref-25" id="ref-25">25</a>]  Wireless Application Protocol, "WAP Specifications", 2002,
        &lt;<a href="http://www.wapforum.org/">http://www.wapforum.org</a>&gt;.

  [<a name="ref-26" id="ref-26">26</a>]  Open Mobile Alliance, "Open Mobile Alliance", 2002,
        &lt;<a href="http://www.openmobilealliance.org/">http://www.openmobilealliance.org/</a>&gt;.

  [<a name="ref-27" id="ref-27">27</a>]  Braden, R., "T/TCP -- TCP Extensions for Transactions", <a href="rfc1644.html">RFC</a>
        <a href="rfc1644.html">1644</a>, July 1994.

  [<a name="ref-28" id="ref-28">28</a>]  Braden, R., Clark, D., Crowcroft, J., Davie, B., Deering, S.,
        Estrin, D., Floyd, S., Jacobson, V., Minshall, G., Partridge,
        C., Peterson, L., Ramakrishnan, K., Shenker, S., Wroclawski, J.
        and L. Zhang, "Recommendations on Queue Management and
        Congestion Avoidance in the Internet", <a href="rfc2309.html">RFC 2309</a>, April 1998.

  [<a name="ref-29" id="ref-29">29</a>]  IETF, "Robust Header Compression", 2001,
        &lt;<a href="http://www.ietf.org/html.charters/rohc-charter.html">http://www.ietf.org/html.charters/rohc-charter.html</a>&gt;.

  [<a name="ref-30" id="ref-30">30</a>]  Ludwig, R. and R. H. Katz, "The Eifel Algorithm: Making TCP
        Robust Against Spurious Retransmissions", ACM Computer
        Communication Review 30(1), January 2000.

  [<a name="ref-31" id="ref-31">31</a>]  Wireless Application Protocol, "WAP Wireless Profiled TCP",
        WAP-225-TCP-20010331-a, April 2001,
        &lt;<a href="http://www.wapforum.com/what/technical.htm">http://www.wapforum.com/what/technical.htm</a>&gt;.




<span class="grey">Inamura, et al.          Best Current Practice                 [Page 21]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-22" id="page-22" href="#page-22" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


  [<a name="ref-32" id="ref-32">32</a>]  Hadi Salim, J. and U. Ahmed, "Performance Evaluation of Explicit
        Congestion Notification (ECN) in IP Networks", <a href="rfc2884.html">RFC 2884</a>, July
        2000.

  [<a name="ref-33" id="ref-33">33</a>]  NTT DoCoMo Technical Journal, "Special Issue on i-mode Service",
        October 1999.

  [<a name="ref-34" id="ref-34">34</a>]  NTT DoCoMo Technical Journal, "Special Article on IMT-2000
        Services", September 2001.

  [<a name="ref-35" id="ref-35">35</a>]  Floyd, S., Mahdavi, J., Mathis, M. and M. Podolsky, "An
        Extension to the Selective Acknowledgement (SACK) Option for
        TCP", <a href="rfc2883.html">RFC 2883</a>, July 2000.

  [<a name="ref-36" id="ref-36">36</a>]  Dierks, T. and C. Allen, "The TLS Protocol Version 1.0", <a href="rfc2246.html">RFC</a>
        <a href="rfc2246.html">2246</a>, January 1999.

  [<a name="ref-37" id="ref-37">37</a>]  Kent, S. and R. Atkinson, "Security Architecture for the
        Internet Protocol", <a href="rfc2401.html">RFC 2401</a>, November 1998.

  [<a name="ref-38" id="ref-38">38</a>]  de Vivo, M., O. de Vivo, G., Koeneke, R. and G. Isern, "Internet
        Vulnerabilities Related to TCP/IP and T/TCP", ACM Computer
        Communication Review 29(1), January 1999.

  [<a name="ref-39" id="ref-39">39</a>]  Third Generation Partnership Project, "RRC Protocol
        Specification (3GPP TS 25.331:)", September 2001.

  [<a name="ref-40" id="ref-40">40</a>]  Jacobson, V., "Compressing TCP/IP Headers for Low-Speed Serial
        Links", <a href="rfc1144.html">RFC 1144</a>, February 1990.

  [<a name="ref-41" id="ref-41">41</a>]  Blanton, E. and M. Allman, "On Making TCP More Robust to Packet
        Reordering", ACM Computer Communication Review 32(1), January
        2002, &lt;<a href="http://roland.grc.nasa.gov/~mallman/papers/tcp-reorder-ccr.ps">http://roland.grc.nasa.gov/~mallman/papers/tcp-reorder-</a>
        <a href="http://roland.grc.nasa.gov/~mallman/papers/tcp-reorder-ccr.ps">ccr.ps</a>&gt;.

  [<a name="ref-42" id="ref-42">42</a>]  Karn, P. and C. Partridge, "Improving Round-Trip Time Estimates
        in Reliable Transport Protocols", ACM SIGCOMM 87, 1987.

  [<a name="ref-43" id="ref-43">43</a>]  Ludwig, R., Rathonyi, B., Konrad, A. and A. Joseph, "Multi-layer
        tracing of TCP over a reliable wireless link", ACM SIGMETRICS
        99, May 1999.

  [<a name="ref-44" id="ref-44">44</a>]  Ludwig, R., Konrad, A., Joseph, A. and R. Katz, "Optimizing the
        End-to-End Performance of Reliable Flows over Wireless Links",
        Kluwer/ACM Wireless Networks Journal Vol. 8, Nos. 2/3, pp. 289-
        299, March-May 2002.





<span class="grey">Inamura, et al.          Best Current Practice                 [Page 22]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-23" id="page-23" href="#page-23" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


  [<a name="ref-45" id="ref-45">45</a>]  Gurtov, A., "Making TCP Robust Against Delay Spikes", University
        of Helsinki, Department of Computer Science, Series of
        Publications C, C-2001-53, Nov 2001,
        &lt;<a href="http://www.cs.helsinki.fi/u/gurtov/papers/report01.html">http://www.cs.helsinki.fi/u/gurtov/papers/report01.html</a>&gt;.

  [<a name="ref-46" id="ref-46">46</a>]  Stevens, W., "TCP/IP Illustrated, Volume 1; The Protocols",
        Addison Wesley, 1995.

  [<a name="ref-47" id="ref-47">47</a>]  Braden, R., <a style="text-decoration: none" href='https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22TCP+Extensions+for+High+Performance%3A+An+Update%22'>"TCP Extensions for High Performance: An Update"</a>,
        Work in Progress.

  [<a name="ref-48" id="ref-48">48</a>]  Allman, M., Dawkins, S., Glover, D., Griner, J., Tran, D.,
        Henderson, T., Heidemann, J., Touch, J., Kruse, H., Ostermann,
        S., Scott, K. and J. Semke, "Ongoing TCP Research Related to
        Satellites", <a href="rfc2760.html">RFC 2760</a>, February 2000.

  [<a name="ref-49" id="ref-49">49</a>]  Allman, M., Glover, D. and L. Sanchez, "Enhancing TCP Over
        Satellite Channels using Standard Mechanisms", <a href="https://tools.ietf.org/html/bcp28">BCP 28</a>, <a href="rfc2488.html">RFC 2488</a>,
        January 1999.

  [<a name="ref-50" id="ref-50">50</a>]  Balakrishnan, H., Padmanabhan, V., Fairhurst, G. and M.
        Sooriyabandara, "TCP Performance Implications of Network
        Asymmetry", <a href="rfc3449.html">RFC 3449</a>, December 2002.

  [<a name="ref-51" id="ref-51">51</a>]  Kempf, J., "Problem Description: Reasons For Performing Context
        Transfers Between Nodes in an IP Access Network", <a href="rfc3374.html">RFC 3374</a>,
        September 2002.

  [<a name="ref-52" id="ref-52">52</a>]  Khafizov, F. and M. Yavuz, "Running TCP over IS-2000", Proc. of
        IEEE ICC, 2002.

  [<a name="ref-53" id="ref-53">53</a>]  Khafizov, F. and M. Yavuz, "Analytical Model of RLP in IS-2000
        CDMA Networks", Proc. of IEEE Vehicular Technology Conference,
        September 2002.

  [<a name="ref-54" id="ref-54">54</a>]  Yavuz, M. and F. Khafizov, "TCP over Wireless Links with
        Variable Bandwidth", Proc. of IEEE Vehicular Technology
        Conference, September 2002.

  [<a name="ref-55" id="ref-55">55</a>]  TIA/EIA/cdma2000, "Mobile Station - Base Station Compatibility
        Standard for Dual-Mode Wideband Spread Spectrum Cellular
        Systems", Washington: Telecommunication Industry Association,
        1999.

  [<a name="ref-56" id="ref-56">56</a>]  TIA/EIA/IS-95 Rev A, "Mobile Station - Base Station
        Compatibility Standard for Dual-Mode Wideband Spread Spectrum
        Cellular Systems", Washington: Telecommunication Industry
        Association, 1995.



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 23]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-24" id="page-24" href="#page-24" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


  [<a name="ref-57" id="ref-57">57</a>]  TIA/EIA/IS-707-A-2.10, "Data Service Options for Spread Spectrum
        Systems: Radio Link Protocol Type 3", January 2000.

  [<a name="ref-58" id="ref-58">58</a>]  Dahlman, E., Beming, P., Knutsson, J., Ovesjo, F., Persson, M.
        and C. Roobol, "WCDMA - The Radio Interface for Future Mobile
        Multimedia Communications", IEEE Trans. on Vehicular Technology,
        vol. 47, no. 4, pp. 1105-1118, November 1998.

  [<a name="ref-59" id="ref-59">59</a>]  Allman, M. and V. Paxson, "On Estimating End-to-End Network Path
        Properties", ACM SIGCOMM 99, September 1999.

  [<a name="ref-60" id="ref-60">60</a>]  Gurtov, A. and R. Ludwig, "Responding to Spurious Timeouts in
        TCP", IEEE INFOCOM'03, March 2003.






































<span class="grey">Inamura, et al.          Best Current Practice                 [Page 24]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-25" id="page-25" href="#page-25" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>. Authors' Addresses</span>

   Hiroshi Inamura
   NTT DoCoMo, Inc.
   3-5 Hikarinooka
   Yokosuka Shi, Kanagawa Ken  239-8536
   Japan

   EMail: inamura@mml.yrp.nttdocomo.co.jp
   URI:   <a href="http://www.nttdocomo.co.jp/">http://www.nttdocomo.co.jp/</a>


   Gabriel Montenegro
   Sun Microsystems Laboratories, Europe
   Avenue de l'Europe
   ZIRST de Montbonnot
   38334 Saint Ismier CEDEX
   France

   EMail: gab@sun.com


   Reiner Ludwig
   Ericsson Research
   Ericsson Allee 1
   52134 Herzogenrath
   Germany

   EMail: Reiner.Ludwig@Ericsson.com


   Andrei Gurtov
   Sonera
   P.O. Box 970, FIN-00051
   Helsinki,
   Finland

   EMail: andrei.gurtov@sonera.com
   URI:   <a href="http://www.cs.helsinki.fi/u/gurtov/">http://www.cs.helsinki.fi/u/gurtov/</a>


   Farid Khafizov
   Nortel Networks
   2201 Lakeside Blvd
   Richardson, TX 75082,
   USA

   EMail: faridk@nortelnetworks.com



<span class="grey">Inamura, et al.          Best Current Practice                 [Page 25]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-26" id="page-26" href="#page-26" class="invisible"> </a>
<span class="grey"><a href="rfc3481.html">RFC 3481</a>                    TCP over 2.5G/3G               February 2003</span>


<span class="h2"><a class="selflink" name="section-12" href="#section-12">12</a>. Full Copyright Statement</span>

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Inamura, et al.          Best Current Practice                 [Page 26]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129c, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc3481 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 13:17:15 GMT -->
</html>
