<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc5497 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.126" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Relation.Replaces" content="draft-clausen-manet-timetlv" />
<meta name="DC.Identifier" content="urn:ietf:rfc:5497" />
<meta name="DC.Date.Issued" content="March, 2009" />
<meta name="DC.Creator" content="Clausen, Thomas Heide" />
<meta name="DC.Creator" content="Dearlove, Christopher" />
<meta name="DC.Description.Abstract" content="This document describes a general and flexible TLV (type-length-value
structure) for representing time using the generalized MANET packet/
message format. It defines two message and two address block TLVs for
representing validity and interval times for MANET routing protocols." />
<meta name="DC.Title" content="Representing multi-value time in MANETs" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 5497 - Representing multi-value time in MANETs</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgblue"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5497.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5497" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-manet-timetlv" title="draft-ietf-manet-timetlv">draft-ietf-mane...</a>] [<a href='https://datatracker.ietf.org/doc/rfc5497' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5497" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5497" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=5497">Errata</a>]</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br />
<span class="pre noprint docinfo">                                                            <span style='color: #C00;'>Errata Exist</span></span><br />
<pre>
Network Working Group                                         T. Clausen
Request for Comments: 5497                      LIX, Ecole Polytechnique
Category: Standards Track                                    C. Dearlove
                                                         BAE Systems ATC
                                                              March 2009


    <span class="h1">Representing Multi-Value Time in Mobile Ad Hoc Networks (MANETs)</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Abstract

   This document describes a general and flexible TLV (type-length-value
   structure) for representing time-values, such as an interval or a
   duration, using the generalized Mobile Ad hoc NETwork (MANET) packet/
   message format.  It defines two Message TLVs and two Address Block
   TLVs for representing validity and interval times for MANET routing
   protocols.



<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Motivation and Rationale . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  Applicability Statement  . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-4">4</a>.  Protocol Overview and Functioning  . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-5">5</a>.  Representing Time  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-6">6</a>.  General Time TLV Structure . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
     <a href="#section-6.1">6.1</a>.  Single-Value Time TLVs . . . . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
     <a href="#section-6.2">6.2</a>.  Multi-Value Time TLVs  . . . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-7">7</a>.  Message TLVs . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-7.1">7.1</a>.  INTERVAL_TIME TLV  . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-7.2">7.2</a>.  VALIDITY_TIME TLV  . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
   <a href="#section-8">8</a>.  Address Block TLVs . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-8.1">8.1</a>.  INTERVAL_TIME TLV  . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-8.2">8.2</a>.  VALIDITY_TIME TLV  . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-9">9</a>.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
     <a href="#section-9.1">9.1</a>.  Expert Review: Evaluation Guidelines . . . . . . . . . . . <a href="#page-11">11</a>
     <a href="#section-9.2">9.2</a>.  Message TLV Types  . . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
     <a href="#section-9.3">9.3</a>.  Address Block TLV Types  . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-10">10</a>. Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-11">11</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-11.1">11.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-11.2">11.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#appendix-A">Appendix A</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>

























<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   The generalized packet/message format [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>] specifies a signaling
   format that MANET routing protocols can employ for exchanging
   protocol information.  This format presents the ability to express
   and associate attributes to packets, messages, or addresses, by way
   of a general TLV (type-length-value) mechanism.

   This document specifies a general Time TLV structure, which can be
   used by any MANET routing protocol that needs to express either
   single time-values or a set of time-values with each time-value
   associated with a range of hop counts, as provided by the Message
   Header of [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].  This allows a receiving node to determine a
   single time-value if either it knows its hop count from the
   originator node or the Time TLV specifies a single time-value.

   A time-value is, in this context, not an "absolute point in time",
   but rather an interval or a duration.  An instance of a Time TLV can,
   therefore, express an interval or a duration such as "10 seconds".

   This document also specifies two Message TLV Types, which use the TLV
   structure proposed.  These TLV Types are INTERVAL_TIME and
   VALIDITY_TIME, specifying, respectively, the maximum time before
   another message of the same type as this message from the same
   originator should be received, and the duration for which the
   information in this message is valid after receipt.  Note that, if
   both are present, then the latter will usually be greater than the
   former in order to allow for possible message loss.

   This document also specifies two Address Block TLV Types, which use
   the TLV structure proposed.  These TLV Types are INTERVAL_TIME and
   VALIDITY_TIME, defined equivalently to the two Message TLVs with the
   same names.

<span class="h3"><a class="selflink" name="section-1.1" href="#section-1.1">1.1</a>.  Motivation and Rationale</span>

   The Time TLV structure, specified in this document, is intended to be
   used as a component in a MANET routing protocol, e.g., to indicate
   the expected spacing between successive transmissions of a given
   Message Type, by including a Time TLV in transmitted messages.

   Some MANET routing protocols may employ very short spacing for some
   messages and very long spacing for others, or may change the message
   transmission rate according to observed behavior.  For example, if a
   network is observed at some point in time to exhibit a highly dynamic
   topology, a very short (sub-second) message spacing could be
   appropriate, whereas if the network later is observed to stabilize,
   multi-hour message spacing may become appropriate.  Different MANET



<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   routing protocols and different deployments of MANET routing
   protocols may have different granularity requirements and bounds on
   shortest and longest spacing between successive message
   transmissions.

   In addition, MANET routing protocol deployments typically use
   bandwidth-limited wireless network interfaces, and therefore prefer
   to trade off computational complexity for a saving in the number of
   bits transmitted.  This is practical in this case, because the
   intended usages of Time TLVs, including the specified examples of
   message interval time and information validity time, do not require
   high-precision values of time.

   The Time TLV structure, specified in this document, caters to these
   characteristics by:

   o  encoding time-values, such as an interval or a duration, in an
      8-bit field; while

   o  allowing these time-values to range from "very small" (e.g.,
      1/1024 second) to "very long" (e.g., 45 days); and

   o  allowing a MANET routing protocol, or a deployment, to
      parameterize this (e.g., to attain finer granularity at the
      expense of a lower upper bound) through a single parameter, C.

   The parameter C must be the same for all MANET routers in the same
   deployment.

   The TLV mechanism as specified in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>] allows associating a
   "value" to either a packet, a message, or to addresses.  The data
   structure for doing so -- the TLV -- is identical in each of the
   three cases; however, the TLV's position in a received packet allows
   determining if that TLV is a "Packet TLV" (it appears in the Packet
   Header, before any messages), a "Message TLV" (it appears in the TLV
   Block immediately following a Message Header), or an "Address Block
   TLV" (it appears in the TLV Block immediately following an Address
   Block).

   While TLVs may be structurally identical, that which they express may
   be different.  This is determined from the kind (packet, message, or
   Address Block) and type of the TLV.  For example, one TLV might
   associate a lifetime to an address, another a content sequence number
   to a message, and another a cryptographic signature to a packet.  For
   this reason, [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>] specifies separate registries for Packet TLV
   Types, Message TLV Types, and Address Block TLV Types, and it does
   not specify any structure in the TLV Value field.




<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   The TLVs defined in this document express, essentially, that "this
   information will be refreshed within X seconds" and that "this
   information is valid for X seconds after being received", each
   allowing the "X seconds" to be specified as a function of the number
   of hops from the originator of the information.  This document
   specifies a general format allowing expressing and encoding this as
   the value field of a TLV.  This representation uses a compact (8-bit)
   representation of time, as message size is an issue in many MANETs,
   and the offered precision and range is appropriate for MANET routing
   protocols.

   A TLV of this format may be used for packets, messages, or addresses.
   For example, a proactive MANET routing protocol periodically
   reporting link-state information could include a TLV of this format
   as a Message TLV.  This may indicate a different periodicity in
   different scopes (possibly frequently up to a few hops, less
   frequently beyond that) because some messages may be sent with
   limited scope, as specified in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].  A reactive MANET routing
   protocol could include a TLV of this format as an Address Block TLV
   for reporting the lifetime of routes to individual addresses.

   In addition to defining the general format as outlined above, this
   document requests IANA assignments for INTERVAL_TIME and
   VALIDITY_TIME TLVs.  These IANA assignments are requested in this
   document in order to avoid interdependencies between otherwise
   unrelated MANET protocols and in order to not exhaust the TLV Type
   spaces by having different protocols request types for essentially
   identical data structures.  Only Message TLVs and Address Block TLVs
   are requested, as these are those for which a need has been
   demonstrated.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

   Additionally, this document uses terminology from [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>], and
   introduces the following terminology:

   hop count  - the number of hops from the message originator to the
      message recipient.  This is defined to equal the &lt;msg-hop-count&gt;
      field in the &lt;msg-header&gt; element defined in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>], if
      present, after it is incremented on reception.  If the &lt;msg-hop-
      count&gt; field is not present, or in a Packet TLV, then hop count is
      defined to equal 255.




<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   time-value  - a time, measured in seconds.

   time-code  - an 8-bit field, representing a time-value.

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  Applicability Statement</span>

   The TLV structure described in this document is applicable whenever a
   single time-value, or a time-value that varies with the number of
   hops from the originator of a message, is required in a protocol
   using the generalized MANET packet/message format [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].

   Examples of time-values that may be included in a protocol message
   are:

   o  The maximum time interval until the next message of the same type
      is to be generated by the message's originator node.

   o  The validity time of the information with which the time-value is
      associated.

   Either of these may vary with the hop count between the originating
   and receiving nodes, e.g., if messages of the same type are sent with
   different hop limits as defined in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].

   Parts of this document have been generalized from material in the
   proactive MANET routing protocol OLSR (Optimized Link State Routing
   Protocol) [<a href="rfc3626.html" title="&quot;The Optimized Link State Routing Protocol&quot;">RFC3626</a>].

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  Protocol Overview and Functioning</span>

   This document does not specify a protocol nor does it mandate
   specific node or protocol behavior.  Rather, it outlines mechanisms
   for encoding time-values using the TLV mechanism of [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Representing Time</span>

   This document specifies a TLV structure in which time-values are each
   represented in an 8-bit time-code, one or more of which may be used
   in a TLV's &lt;value&gt; field.  Of these 8 bits, the least significant 3
   bits represent the mantissa (a), and the most significant 5 bits
   represent the exponent (b), so that:

   o  time-value := (1 + a/8) * 2^b * C

   o  time-code := 8 * b + a






<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   All nodes in the MANET MUST use the same value of the constant C,
   which will be specified in seconds, hence so will be all time-values.
   C MUST be greater than 0 seconds.  Note that ascending values of the
   time-code represent ascending time-values; time-values may thus be
   compared by comparison of time-codes.

   An algorithm for computing the time-code representing the smallest
   representable time-value not less than the time-value t is:

   1.  find the largest integer b such that t/C &gt;= 2^b;

   2.  set a := 8 * (t / (C * 2^b) - 1), rounded up to the nearest
       integer;

   3.  if a = 8, then set b := b + 1 and set a := 0;

   4.  if 0 &lt;= a &lt;= 7, and 0 &lt;= b &lt;= 31, then the required time-value
       can be represented by the time-code 8 * b + a, otherwise it
       cannot.

   The minimum time-value that can be represented in this manner is C.
   The maximum time-value that can be represented in this manner is 15 *
   2^28 * C, or about 4.0 * 10^9 * C.  If, for example, C = 1/1024
   second, then this is about 45 days.

   A protocol using this time representation MUST define the value of C.
   A protocol using this specification MAY specify that the all-bits
   zero time-value (0) represents a time-value of zero and/or that the
   all-bits one time-value (255) represents an indefinitely large time-
   value.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  General Time TLV Structure</span>

   The following data structure allows the representation of a single
   time-value, or of a default time-value plus pairs of (time-values,
   hop counts) for when hop-count-dependent time-values are required.
   The time-values are represented as time-codes as defined in
   <a href="#section-5">Section 5</a>.  This &lt;time-data&gt; data structure is specified, using the
   regular expression syntax of [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>], by:

       &lt;time-data&gt; = (&lt;time-code&gt;&lt;hop-count&gt;)*&lt;time-code&gt;

   where:

   &lt;time-code&gt;  is an 8-bit unsigned integer field containing a time-
      code as defined in <a href="#section-5">Section 5</a>.





<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   &lt;hop-count&gt;  is an 8-bit unsigned integer field specifying a hop
      count from the message originator.

   A &lt;time-data&gt; structure thus consists of an odd number of octets;
   with a repetition factor of n for the (time, hop count) pairs in the
   regular expression syntax, it contains 2n+1 octets.  On reception, n
   is determined from the length.

   A &lt;time-data&gt; field may be thus represented by:

       &lt;t_1&gt;&lt;d_1&gt;&lt;t_2&gt;&lt;d_2&gt; ... &lt;t_i&gt;&lt;d_i&gt; ...  &lt;t_n&gt;&lt;d_n&gt;&lt;t_default&gt;

   &lt;d_1&gt;, ... &lt;d_n&gt;, if present, MUST be a strictly increasing sequence,
   with &lt;d_n&gt; &lt; 255.  Then, at the receiving node's hop count from the
   originator node, the time-value indicated is that represented by the
   time-code:

   o  &lt;t_1&gt;, if n &gt; 0 and hop count &lt;= &lt;d_1&gt;;

   o  &lt;t_i+1&gt;, if n &gt; 1 and &lt;d_i&gt; &lt; hop count &lt;= &lt;d_i+1&gt; for some i such
      that 1 &lt;= i &lt; n;

   o  &lt;t_default&gt; otherwise, i.e. if n = 0 or hop count &gt; &lt;d_n&gt;.

   If included in a message without a &lt;msg-hop-count&gt; field in its
   Message Header, or in a Packet TLV, then the form of this data
   structure with a single time-code in &lt;time-data&gt; (i.e., n = 0) SHOULD
   be used.

<span class="h3"><a class="selflink" name="section-6.1" href="#section-6.1">6.1</a>.  Single-Value Time TLVs</span>

   The purpose of a single value Time TLV is to allow a single time-
   value to be determined by a node receiving an entity containing the
   Time TLV, based on its hop count from the entity's originator.  The
   Time TLV may contain information that allows that time-value to be a
   function of the hop count; thus, different receiving nodes may
   determine different time-values.

   A single-value Time TLV may be a Packet TLV, a Message TLV, or an
   Address Block TLV.

   A Time TLV that has the tismultivalue flag cleared ('0') in its &lt;tlv-
   flags&gt; field, as defined in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>], contains a single &lt;time-data&gt;,
   as defined above, in its &lt;value&gt; field.  For such a Time TLV:

   o  The &lt;length&gt; field in the TLV MUST contain the value 2n+1, with n
      being the number of (time-value, hop count) pairs in the Time TLV.




<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   o  The number of (time-value, hop count) pairs MUST be identified by
      inspecting the &lt;length&gt; field in the TLV.  The number of such
      pairs, n, is:

      *  n := (&lt;length&gt; - 1) / 2

      This MUST be an integer value.

<span class="h3"><a class="selflink" name="section-6.2" href="#section-6.2">6.2</a>.  Multi-Value Time TLVs</span>

   The purpose of a multi-value Time TLV is to associate a set of &lt;time-
   data&gt; structures to an identically sized set of addresses, as
   described in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].  For each of these &lt;time-data&gt; structures, a
   single time-value can be determined by a node receiving an entity
   containing the Time TLV, based on its hop count from the entity's
   originator.  The Time TLV may contain information that allows that
   time-value to be a function of the hop count, and thus different
   receiving nodes may determine different time-values.

   Multi-value Time TLVs MUST be Address Block TLVs.  A multi-value Time
   TLV MUST NOT be a Packet TLV or Message TLV.

   A Time TLV that has the tismultivalue flag set ('1') in its &lt;tlv-
   flags&gt; field, as defined in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>], contains a sequence of &lt;time-
   data&gt; structures, as defined above, in its &lt;value&gt; field.  For such a
   Time TLV:

   o  The &lt;length&gt; field in the TLV MUST contain the value m * (2n+1),
      with n being the number of (time-value, hop count) pairs in the
      Time TLV, and m being number-values as defined in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].

   o  The number of &lt;time-data&gt; structures included in the &lt;value&gt; field
      is equal to number-values as defined in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].

   o  The number of (time-value, hop count) pairs in each &lt;time-data&gt;
      structure MUST be the same, and MUST be identified by inspecting
      the &lt;length&gt; field in the TLV and using number-values as defined
      in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].  The number of such pairs in each &lt;time-data&gt;
      structure, n, is:

      *  n := ((&lt;length&gt; / number-values) - 1) / 2

      This MUST be an integer value.  The lists of hop count values MAY
      be different.







<span class="grey">Clausen &amp; Dearlove          Standards Track                     [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  Message TLVs</span>

   Two Message TLVs are defined, for signaling message interval
   (INTERVAL_TIME) and message validity time (VALIDITY_TIME).

<span class="h3"><a class="selflink" name="section-7.1" href="#section-7.1">7.1</a>.  INTERVAL_TIME TLV</span>

   An INTERVAL_TIME TLV is a Message TLV that defines the maximum time
   before another message of the same type as this message from the same
   originator should be received.  This interval time MAY be specified
   to depend on the hop count from the originator.  (This is appropriate
   if messages are sent with different hop limits so that receiving
   nodes at greater hop counts have an increased interval time.)

   A message MUST NOT include more than one INTERVAL_TIME TLV.

   An INTERVAL_TIME TLV is an example of a Time TLV specified as in
   <a href="#section-5">Section 5</a>.

<span class="h3"><a class="selflink" name="section-7.2" href="#section-7.2">7.2</a>.  VALIDITY_TIME TLV</span>

   A VALIDITY_TIME TLV is a Message TLV that defines the validity time
   of the information carried in the message in which the TLV is
   contained.  After this time, the receiving node MUST consider the
   message content to no longer be valid (unless repeated in a later
   message).  The validity time of a message MAY be specified to depend
   on the hop count from its originator.  (This is appropriate if
   messages are sent with different hop limits so that receiving nodes
   at greater hop counts receive information less frequently and must
   treat is as valid for longer.)

   A message MUST NOT include more than one VALIDITY_TIME TLV.

   A VALIDITY_TIME TLV is an example of a Time TLV specified as in
   <a href="#section-5">Section 5</a>.

<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  Address Block TLVs</span>

   Two Address Block TLVs are defined, for signaling address
   advertisement interval (INTERVAL_TIME) and address validity time
   (VALIDITY_TIME).

<span class="h3"><a class="selflink" name="section-8.1" href="#section-8.1">8.1</a>.  INTERVAL_TIME TLV</span>

   An INTERVAL_TIME TLV is an Address Block TLV that defines the maximum
   time before this address from the same originator should be received
   again.  This interval time MAY be specified to depend on the hop
   count from the originator.  (This is appropriate if addresses are



<span class="grey">Clausen &amp; Dearlove          Standards Track                    [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


   contained in messages sent with different hop limits so that
   receiving nodes at greater hop counts have an increased interval
   time.)

   A protocol using this TLV and the same named Message TLV MUST specify
   how to interpret the case when both are present (typically, that the
   former overrides the latter for those addresses that are covered by
   the former).

   An INTERVAL_TIME TLV is an example of a Time TLV specified as in
   <a href="#section-5">Section 5</a>.

<span class="h3"><a class="selflink" name="section-8.2" href="#section-8.2">8.2</a>.  VALIDITY_TIME TLV</span>

   A VALIDITY_TIME TLV is an Address Block TLV that defines the validity
   time of the addresses to which the TLV is associated.  After this
   time, the receiving node MUST consider the addresses to no longer be
   valid (unless these are repeated in a later message).  The validity
   time of an address MAY be specified to depend on the hop count from
   its originator.  (This is appropriate if addresses are contained in
   messages sent with different hop limits so that receiving nodes at
   greater hop counts receive information less frequently and must treat
   is as valid for longer.)

   A protocol using this TLV and the same named Message TLV MUST specify
   how to interpret the case when both are present (typically, that the
   former overrides the latter for those addresses that are covered by
   the former).

   A VALIDITY_TIME TLV is an example of a Time TLV specified as in
   <a href="#section-5">Section 5</a>.

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  IANA Considerations</span>

   This specification defines two Message TLV Types, which have been
   allocated from the "Assigned Message TLV Types" repository of
   [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>] as specified in Table 1, and two Address Block TLV Types,
   which have been allocated from the "Assigned Address Block TLV Types"
   repository of [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>] as specified in Table 2.

   IANA has assigned the same numerical value to the Message TLV Type
   and Address Block TLV Type with the same name.

<span class="h3"><a class="selflink" name="section-9.1" href="#section-9.1">9.1</a>.  Expert Review: Evaluation Guidelines</span>

   For the registries for TLV Type Extensions where an Expert Review is
   required, the designated expert SHOULD take the same general
   recommendations into consideration as are specified by [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].



<span class="grey">Clausen &amp; Dearlove          Standards Track                    [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


<span class="h3"><a class="selflink" name="section-9.2" href="#section-9.2">9.2</a>.  Message TLV Types</span>

   +---------------+------+-----------+--------------------------------+
   |      Name     | Type |    Type   | Description                    |
   |               |      | Extension |                                |
   +---------------+------+-----------+--------------------------------+
   | INTERVAL_TIME |   0  |     0     | The maximum time before        |
   |               |      |           | another message of the same    |
   |               |      |           | type as this message from the  |
   |               |      |           | same originator should be      |
   |               |      |           | received                       |
   |   Unassigned  |   0  |   1-223   | Expert Review                  |
   |               |      |  224-255  | Experimental Use               |
   | VALIDITY_TIME |   1  |     0     | The time from receipt of the   |
   |               |      |           | message during which the       |
   |               |      |           | information contained in the   |
   |               |      |           | message is to be considered    |
   |               |      |           | valid                          |
   |   Unassigned  |   1  |   1-223   | Expert Review                  |
   |               |      |  224-255  | Experimental Use               |
   +---------------+------+-----------+--------------------------------+

                                  Table 1

<span class="h3"><a class="selflink" name="section-9.3" href="#section-9.3">9.3</a>.  Address Block TLV Types</span>

   +---------------+------+-----------+--------------------------------+
   |      Name     | Type |    Type   | Description                    |
   |               |      | extension |                                |
   +---------------+------+-----------+--------------------------------+
   | INTERVAL_TIME |   0  |     0     | The maximum time before        |
   |               |      |           | another message of the same    |
   |               |      |           | type as this message from the  |
   |               |      |           | same originator and containing |
   |               |      |           | this address should be         |
   |               |      |           | received                       |
   |   Unassigned  |   0  |   1-223   | Expert Review                  |
   |               |      |  224-255  | Experimental Use               |
   | VALIDITY_TIME |   1  |     0     | The time from receipt of the   |
   |               |      |           | address during which the       |
   |               |      |           | information regarding this     |
   |               |      |           | address is to be considered    |
   |               |      |           | valid                          |
   |   Unassigned  |   0  |   1-223   | Expert Review                  |
   |               |      |  224-255  | Experimental Use               |
   +---------------+------+-----------+--------------------------------+

                                  Table 2



<span class="grey">Clausen &amp; Dearlove          Standards Track                    [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>.  Security Considerations</span>

   This document specifies how to add data structures (TLVs) that
   provide timing information to packets and messages specified using
   [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>].  In particular, information validity durations and
   reporting intervals may be added.

   The general security threats that apply are those general to
   [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>] and described therein, problems of integrity and
   confidentiality.  With regard to the former, modification of a Time
   TLV can cause information to have an invalid validity time, or
   expected interval time.  This may cause incorrect protocol
   performance.  Modification or addition of timed information can add
   to a protocol's workload (especially if a short validity time is
   specified) and storage requirements (especially if a long validity
   time is specified).

   To counter these threats, the security suggestions in [<a href="rfc5444.html" title="&quot;Generalized Mobile Ad Hoc Network (MANET) Packet/Message Format&quot;">RFC5444</a>], for
   the use of authentication and encryption, are appropriate.

<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>.  References</span>

<span class="h3"><a class="selflink" name="section-11.1" href="#section-11.1">11.1</a>.  Normative References</span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a name="ref-RFC5444" id="ref-RFC5444">RFC5444</a>]  Clausen, T., Dearlove, C., Dean, J., and C. Adjih,
              "Generalized Mobile Ad Hoc Network (MANET) Packet/Message
              Format", <a href="rfc5444.html">RFC 5444</a>, February 2009.

<span class="h3"><a class="selflink" name="section-11.2" href="#section-11.2">11.2</a>.  Informative References</span>

   [<a name="ref-RFC3626" id="ref-RFC3626">RFC3626</a>]  Clausen, T. and P. Jacquet, "The Optimized Link State
              Routing Protocol", <a href="rfc3626.html">RFC 3626</a>, October 2003.
















<span class="grey">Clausen &amp; Dearlove          Standards Track                    [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc5497.html">RFC 5497</a>                        Time TLV                      March 2009</span>


<span class="h2"><a class="selflink" name="appendix-A" href="#appendix-A">Appendix A</a>.  Acknowledgements</span>

   The authors would like to thank Brian Adamson and Justin Dean (both
   NRL) and Ian Chakeres (Motorola) for their contributions, and Alan
   Cullen (BAE Systems) and Jari Arkko (Ericsson, Finland) for their
   careful reviews of this specification.

Authors' Addresses

   Thomas Heide Clausen
   LIX, Ecole Polytechnique, France

   Phone: +33 6 6058 9349
   EMail: T.Clausen@computer.org
   URI:   <a href="http://www.thomasclausen.org/">http://www.ThomasClausen.org/</a>


   Christopher Dearlove
   BAE Systems Advanced Technology Centre

   Phone: +44 1245 242194
   EMail: chris.dearlove@baesystems.com
   URI:   <a href="http://www.baesystems.com/">http://www.baesystems.com/</a>




























Clausen &amp; Dearlove          Standards Track                    [Page 14]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc5497 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:35 GMT -->
</html>
