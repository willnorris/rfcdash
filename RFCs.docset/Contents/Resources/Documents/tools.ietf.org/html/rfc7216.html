<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7216 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:22 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-thomson-geopriv-res-gw-lis-discovery" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7216" name="DC.Identifier"/>
<meta content="April, 2014" name="DC.Date.Issued"/>
<meta content="Thomson, Martin" name="DC.Creator"/>
<meta content="Bellis, Ray" name="DC.Creator"/>
<meta content="The residential gateway is a device that has become an integral part
of home networking equipment. Discovering a Location Information
Server (LIS) is a necessary part of acquiring location information for
location-based services. However, discovering a LIS when a residential
gateway is present poses a configuration challenge, requiring a method
that is able to work around the obstacle presented by the gateway.
This document describes a solution to this problem. The solution
provides alternative domain names as input to the LIS discovery
process based on the network addresses assigned to a Device." name="DC.Description.Abstract"/>
<meta content="Location Information Server (LIS) Discovery Using IP Addresses and Reverse DNS" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7216 - Location Information Server (LIS) Discovery Using IP Addresses and Reverse DNS</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7216.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7216" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-geopriv-res-gw-lis-discovery" title="draft-ietf-geopriv-res-gw-lis-discovery">draft-ietf-geop...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7216" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7216" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7216" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                        M. Thomson
Request for Comments: 7216                                       Mozilla
Category: Standards Track                                      R. Bellis
ISSN: 2070-1721                                               Nominet UK
                                                              April 2014


              <span class="h1">Location Information Server (LIS) Discovery</span>
                   <span class="h1">Using IP Addresses and Reverse DNS</span>

Abstract

   The residential gateway is a device that has become an integral part
   of home networking equipment.  Discovering a Location Information
   Server (LIS) is a necessary part of acquiring location information
   for location-based services.  However, discovering a LIS when a
   residential gateway is present poses a configuration challenge,
   requiring a method that is able to work around the obstacle presented
   by the gateway.

   This document describes a solution to this problem.  The solution
   provides alternative domain names as input to the LIS discovery
   process based on the network addresses assigned to a Device.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7216">http://www.rfc-editor.org/info/rfc7216</a>.














<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Conventions Used in This Document . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  Problem Statement . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-3.1">3.1</a>.  Residential Gateway . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-3.2">3.2</a>.  Security Features of Residential Gateways . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-4">4</a>.  IP-based DNS Solution . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-4.1">4.1</a>.  Identification of IP Addresses  . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-4.2">4.2</a>.  Domain Name Selection . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-4.3">4.3</a>.  Shortened DNS Names . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-4.4">4.4</a>.  When To Use the Reverse DNS Method  . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-4.5">4.5</a>.  Private Address Spaces  . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-4.6">4.6</a>.  Necessary Assumptions and Restrictions  . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-4.7">4.7</a>.  Failure Modes . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-4.8">4.8</a>.  Deployment Considerations . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-5">5</a>.  Privacy Considerations  . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-6">6</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-7">7</a>.  IAB Considerations  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   <a href="#section-8">8</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   <a href="#section-9">9</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-9.1">9.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-9.2">9.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>













<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   A Location Information Server (LIS) is a service provided by an
   access network.  The LIS uses knowledge of the access network
   topology and other information to generate location information for
   Devices.  Devices within an access network are able to acquire
   location information from a LIS.

   The relationship between a Device and an access network might be
   transient.  Configuration of the correct LIS at the Device ensures
   that accurate location information is available.  Without location
   information, some network services are not available.

   The configuration of a LIS IP address on a Device requires some
   automated process.  This is particularly relevant when one considers
   that Devices might move between different access networks served by
   different LISs.  LIS Discovery [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] describes a method that
   employs the Dynamic Host Configuration Protocol (DHCPv4 [<a href="rfc2131.html" title='"Dynamic Host Configuration Protocol"'>RFC2131</a>],
   DHCPv6 [<a href="rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>]) as input to U-NAPTR [<a href="rfc4848.html" title='"Domain-Based Application Service Location Using URIs and the Dynamic Delegation Discovery Service (DDDS)"'>RFC4848</a>] discovery.

   A residential gateway, or home router, provides a range of networking
   functions for Devices within the network it serves.  Unfortunately,
   in most cases these functions effectively prevent the successful use
   of DHCP for LIS discovery.

   One drawback with DHCP is that universal deployment of a new option
   takes a considerable amount of time.  Often, networking equipment
   needs to be updated in order to support the new option.  Of
   particular concern are the millions of residential gateway devices
   used to provide Internet access to homes and businesses.  While
   [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] describes functions that can be provided by residential
   gateways to support LIS discovery, gateways built before the
   publication of this specification are not expected (and are likely
   not able) to provide these functions.

   This document explores the problem of configuring Devices with a LIS
   address when a residential gateway is interposed between the Device
   and access network.  <a href="#section-3">Section 3</a> defines the problem, and <a href="#section-4">Section 4</a>
   describes a method for determining a domain name that can be used for
   discovery of the LIS.

   In some cases, the solution described in this document is based on a
   UNilateral Self-Address Fixing (UNSAF) [<a href="rfc3424.html" title='"IAB Considerations for UNilateral Self-Address Fixing (UNSAF) Across Network Address Translation"'>RFC3424</a>] method.  For those
   cases, this solution is considered transitional until such time as
   the recommendations for residential gateways in [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] are more
   widely deployed.  Considerations relating to UNSAF applications are
   described in <a href="#section-7">Section 7</a>.




<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   This document uses terminology established in [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>] and
   [<a href="rfc5012.html" title='"Requirements for Emergency Context Resolution with Internet Technologies"'>RFC5012</a>].  The terms "Device" and "LIS" are capitalized throughout
   when they are used to identify the roles defined in [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Problem%20Statement"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Problem Statement</span>

   Figure 1 shows a simplified network topology for fixed wire-line
   Internet access.  This arrangement is typical when wired Internet
   access is provided.  The diagram shows two network segments: the
   access network provided by an Internet service provider (ISP), and
   the residential network served by the residential gateway.

   There are a number of variations on this arrangement, as documented
   in <a href="rfc5687.html#section-3.1">Section 3.1 of [RFC5687]</a>.  In each of these variations, the goal
   of LIS discovery is to identify the LIS in the access network.






























<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


                    ________
                  (/        \)
                 (( Internet ))
                  (\________/)
                       |
                       |
                 .- - -|- - - - - - - - - - - -.
                (      |                        )
               (   +--------+       +-------+    )
     Access    (   | Access |. . . .|  LIS  |    )
     Network   (   |  Node  |       |       |    )
      (ISP)    (   +--------+       +-------+    )
                (       \               \       )
                 `- - - -\- - - - - - - -\- - -'
                          \               \
                           \               |
                  .- - - - -\- - - - - - - + -.
                 (           \             |   )
                (      +-------------+     :    )
                (      | Residential |     |    )
    Residential (      |   Gateway   |     :    )
      Network   (      +-------------+     |    )
                (         /        \      /     )
                (        /          \    /      )
                (   +--------+    +--------+    )
                (   | Device |    | Device |    )
                (   +--------+    +--------+    )
                 (                             )
                  `- - - - - - - - - - - - - -'

                   Figure 1: Simplified Network Topology

   A particularly important characteristic of this arrangement is the
   relatively small geographical area served by the residential gateway.
   Given a small enough area, it is reasonable to delegate the
   responsibility for providing Devices within the residential network
   with location information to the ISP.  The ISP is able to provide
   location information that identifies the residence, which should be
   adequate for a wide range of purposes.

   A residential network that covers a larger geographical area might
   require a dedicated LIS, a case that is outside the scope of this
   document.








<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   The goal of LIS discovery is to identify a LIS that is able to
   provide the Device with accurate location information.  In the
   network topology described, this means identifying the LIS in the
   access network.  The residential gateway is a major obstacle in
   achieving this goal.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Residential%20Gateway"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Residential Gateway</span>

   A residential gateway can encompass several different functions
   including: modem, Ethernet switch, wireless access point, router,
   network address translation (NAT), DHCP server, DNS relay, and
   firewall.  Of the common functions provided, the NAT function of a
   residential gateway has the greatest impact on LIS discovery.

   An ISP is typically parsimonious about their IP address allocations;
   each customer is allocated a limited number of IP addresses.
   Therefore, NAT is an extremely common function of gateways.  NAT
   enables the use of multiple Devices within the residential network.
   However, NAT also means that Devices within the residence are not
   configured by the ISP directly.

   When it comes to discovering a LIS, the fact that Devices are not
   configured by the ISP causes a significant problem.  Configuration is
   the ideal method of conveying the information necessary for
   discovery.  Devices attached to residential gateways are usually
   given a generic configuration that includes no information about the
   ISP network.  For instance, DNS configuration typically points to a
   DNS relay on the gateway device.  This approach ensures that the
   local network served by the gateway is able to operate without a
   connection to the ISP, but it also means that Devices are effectively
   ignorant of the ISP network.

   [<a id="ref-RFC5986" name="ref-RFC5986">RFC5986</a>] describes several methods that can be applied by a
   residential gateway to assist Devices in acquiring location
   information.  For instance, the residential gateway could forward LIS
   address information to hosts within the network it serves.
   Unfortunately, such an active involvement in the discovery process
   only works for new residential gateway devices that implement those
   recommendations.

   Where residential gateways already exist, direct involvement of the
   gateway in LIS discovery requires that the residential gateway be
   updated or replaced.  The cost of replacement is difficult to justify
   to the owner of the gateway, especially when it is considered that
   the gateway still fills its primary function: Internet access.
   Furthermore, updating the software in such devices is not feasible in





<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   many cases.  Even if software updates were made available, many
   residential gateways cannot be updated remotely, inevitably leading
   to some proportion that is not updated.

   This document therefore describes a method that can be used by
   Devices to discover their LIS without any assistance from the
   network.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Security%20Features%20of%20Residential%20Gateways"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Security Features of Residential Gateways</span>

   A network firewall function is often provided by residential gateways
   as a security measure.  Security features like intrusion detection
   systems help protect users from attacks.  Amongst these protections
   is a port filter that prevents both inbound and outbound traffic on
   certain TCP and UDP ports.  Therefore, any solution needs to consider
   the likelihood of traffic being blocked.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20IP-based%20DNS%20Solution"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  IP-based DNS Solution</span>

   LIS discovery [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] uses a DNS-based Dynamic Delegation Discovery
   Service (DDDS) system as the basis of discovery.  Input to this
   process is a domain name.  Use of DHCP for acquiring the domain name
   is specified, but alternative methods of acquisition are permitted.

   This document specifies a means for a Device to discover several
   alternative domain names that can be used as input to the DDDS
   process.  These domain names are based on the IP address of the
   Device.  Specifically, the domain names are a portion of the reverse
   DNS trees -- either the ".in-addr.arpa." or ".ip6.arpa." tree.

   The goal of this process is to make a small number of DDDS queries in
   order to find a LIS.  After LIS discovery using the DHCP-based
   process in [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] has failed, a Device can:

   1.  Collect a set of IP addresses that refer to the Device
       (<a href="#section-4.1">Section 4.1</a>).

   2.  Convert each IP address into DNS names in the "in-addr.arpa." or
       "ip6.arpa." tree (<a href="#section-4.2">Section 4.2</a>).

   3.  Perform the DDDS process for LIS discovery on those DNS names
       ([<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>]).

   4.  Shorten the DNS names by some number of labels and repeat the
       DDDS process (<a href="#section-4.3">Section 4.3</a>).






<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   A Device might be reachable at one of a number of IP addresses.  In
   the process described, a Device first identifies each IP address from
   which it is potentially reachable.  From each of these addresses, the
   Device then selects up to three domain names for use in discovery.
   These domain names are then used as input to the DDDS process.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Identification%20of%20IP%20Addresses"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Identification of IP Addresses</span>

   A Device identifies a set of potential IP addresses that currently
   result in packets being routed to it.  These are ordered by
   proximity, with those addresses that are used in adjacent network
   segments being favored over those used in public or remote networks.
   The first addresses in the set are those that are assigned to local
   network interfaces.

   A Device can use the Session Traversal Utilities for NAT (STUN)
   [<a href="rfc5389.html" title='"Session Traversal Utilities for NAT (STUN)"'>RFC5389</a>] mechanism to determine its public, reflexive transport
   address.  The host uses the "Binding Request" message and the
   resulting "XOR-MAPPED-ADDRESS" parameter that is returned in the
   response.

   Alternative methods for determining other IP addresses MAY be used by
   the Device.  If enabled, the Port Control Protocol (PCP) [<a href="rfc6887.html" title='"Port Control Protocol (PCP)"'>RFC6887</a>],
   Universal Plug and Play (UPnP) [<a href="#ref-UPnP-IGD-WANIPConnection1">UPnP-IGD-WANIPConnection1</a>], and NAT
   Port Mapping Protocol (NAT-PMP) [<a href="rfc6886.html" title='"NAT Port Mapping Protocol (NAT-PMP)"'>RFC6886</a>] are each able to provide
   the external address of a residential gateway device.  These, as well
   as proprietary methods for determining other addresses, might be
   available.  Because there is no assurance that these methods will be
   supported by any access network, these methods are not mandated.
   Note also that in some cases, methods that rely on the view of the
   network from the residential gateway device could reveal an address
   in a private address range (see <a href="#section-4.6">Section 4.6</a>).

   In many instances, the IP address produced might be from a private
   address range.  For instance, the address on a local network
   interface could be from a private range allocated by the residential
   gateway.  In other cases, methods that rely on the view of the
   network (UPnP, NAT-PMP) from the residential gateway device could
   reveal an address in a private address range if the access network
   also uses NAT.  For a private IP address, the derived domain name is
   only usable where the employed DNS server contains data for the
   corresponding private IP address range.









<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Domain%20Name%20Selection"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Domain Name Selection</span>

   The domain name selected for each resulting IP address is the name
   that would be used for a reverse DNS lookup.  The domain name derived
   from an IP version 4 address is in the ".in-addr.arpa." tree and
   follows the construction rules in <a href="rfc1035.html#section-3.5">Section 3.5 of [RFC1035]</a>.  The
   domain name derived from an IP version 6 address is in the
   ".ip6.arpa." tree and follows the construction rules in <a href="rfc3596.html#section-2.5">Section 2.5
   of [RFC3596]</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Shortened%20DNS%20Names"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Shortened DNS Names</span>

   Additional domain names are added to allow for a single DNS record to
   cover a larger set of addresses.  If the search on the domain derived
   from the full IP address does not produce a NAPTR record with the
   desired service tag (e.g., "LIS:HELD"), a similar search is repeated
   based on a shorter domain name, using a part of the IP address:

   o  For IP version 4, the resulting domain name SHOULD be shortened
      successively by one and two labels, and the query repeated.  This
      corresponds to a search on a /24 or /16 network prefix.  This
      allows for fewer DNS records in the case where a single access
      network covering an entire /24 or /16 network is served by the
      same LIS.

   o  For IP version 6, the resulting domain SHOULD be shortened
      successively by 16, 18, 20, and 24 labels, and the query repeated.
      This corresponds to a search on a /64, /56, /48, or /32 network
      prefix.

   This set of labels is intended to provide network operators with a
   degree of flexibility in where LIS discovery records can be placed
   without significantly increasing the number of DNS names that are
   searched.  This does not attach any other significance to these
   specific zone cuts or create a classful addressing hierarchy based on
   the reverse DNS tree.

   For example, the IPv4 address "192.0.2.75" could result in queries
   to:

   o  75.2.0.192.in-addr.arpa.

   o  2.0.192.in-addr.arpa.

   o  0.192.in-addr.arpa.






<span class="grey">Thomson &amp; Bellis             Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   Similarly, the IPv6 address "2001:DB8::28e4:3a93:4429:dfb5" could
   result in queries to:

   o  5.b.f.d.9.2.4.4.3.9.a.3.4.e.8.2.0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2
      .ip6.arpa.

   o  0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.

   o  0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.

   o  0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.

   o  8.b.d.0.1.0.0.2.ip6.arpa.

   The limited number of labels by which each name is shortened is
   intended to limit the number of DNS queries performed by Devices.  If
   no LIS is discovered by this method, the result will be that no more
   than five U-NAPTR resolutions are invoked for each IP address.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20When%20To%20Use%20the%20Reverse%20DNS%20Method"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  When To Use the Reverse DNS Method</span>

   The DHCP method described in [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] MUST be attempted on all local
   network interfaces before attempting this method.  This method is
   employed either because DHCP is unavailable, when the DHCP server
   does not provide a value for the access network domain name option,
   or because a request to the resulting LIS results in a HELD
   "notLocatable" error or equivalent.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5.%20%20Private%20Address%20Spaces"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a>.  Private Address Spaces</span>

   Addresses from a private-use address space can be used as input to
   this method.  In many cases, this applies to addresses defined in
   [<a href="rfc1918.html" title='"Address Allocation for Private Internets"'>RFC1918</a>], though other address ranges could have limited
   reachability where this advice also applies.  This is only possible
   if a DNS server with a view of the same address space is used.
   Public DNS servers cannot provide useful records for private
   addresses.

   Using an address from a private space in discovery can provide a more
   specific answer if the DNS server has records for that space.
   Figure 2 shows a network configuration where addresses from an ISP
   network could better indicate the correct LIS.  Records in DNS B can
   be provided for the 10.0.0.0/8 range, potentially dividing that range
   so that a more local LIS can be selected.







<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


     _____        ________
    ( DNS ).....(/        \)      Public
    (__A__)    (( Internet ))     Address
                (\________/)      Space
                      |
                    [NAT]
     _____       _____|_____
    ( DNS )....(/           \)    Private
    (__B__)   (( ISP Network ))   Address Space
               (\___________/)    (e.g., 10.0.0.0/8)
                      |
                  [Gateway]
                  ____|____
                (/         \)     Private
               (( Residence ))    Address Space
                (\_________/)     (e.g., 192.168.0.0/16)

                      Figure 2: Address Space Example

   The goal of automatic DNS configuration is usually to select a local
   DNS, which suits configurations like the one shown.  However, use of
   public DNS or STUN servers means that a public IP address is likely
   to be found.  For STUN in particular, selecting a public server
   minimizes the need for reconfiguration when a Device moves.  Adding
   records for the public address space used by an access network
   ensures that the discovery process succeeds when a public address is
   used.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.6.%20%20Necessary%20Assumptions%20and%20Restrictions"></a><a class="selflink" href="#section-4.6" name="section-4.6">4.6</a>.  Necessary Assumptions and Restrictions</span>

   When used by a Device for LIS discovery, this is an UNSAF application
   and is subject to the limitations described in <a href="#section-7">Section 7</a>.

   It is not necessary that the IP address used is unique to the Device,
   only that the address can be somehow related to the Device or the
   access network that serves the Device.  This allows a degree of
   flexibility in determining this value, although security
   considerations (<a href="#section-6">Section 6</a>) might require that the address be verified
   to limit the chance of falsification.

   This solution assumes that the public, reflexive transport address
   used by a Device is in some way controlled by the access network
   provider or some other related party.  This implies that the
   corresponding ".in-addr.arpa." or ".ip6.arpa." record can be updated
   by that entity to include a useful value for the LIS address.






<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.7.%20%20Failure%20Modes"></a><a class="selflink" href="#section-4.7" name="section-4.7">4.7</a>.  Failure Modes</span>

   Successful use of private addresses relies on a DNS server that has
   records for the address space that is used.  Using a public IP
   address increases the likelihood of this.  This document relies on
   STUN to provide the Device with a public, reflexive transport
   address.  Configuration of a STUN server is necessary to ensure that
   this is successful.

   In cases where a virtual private network (VPN) or other tunnel is
   used, the entity providing a public IP address might not be able to
   provide the Device with location information.  It is assumed that
   this entity is able to identify this problem and indicate this to the
   Device (using the "notLocatable" HELD error or similar).  This
   problem is described in more detail in [<a href="rfc5985.html" title='"HTTP-Enabled Location Delivery (HELD)"'>RFC5985</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.8.%20%20Deployment%20Considerations"></a><a class="selflink" href="#section-4.8" name="section-4.8">4.8</a>.  Deployment Considerations</span>

   An access network provider SHOULD provide NAPTR records for each
   public IP address that is used for Devices within the access network.

   Any DNS server internal to a NAT SHOULD also include records for the
   private address range.  These records might only be provided to
   clients making requests from the private address range.  Doing so
   allows clients within the private address range to discover a LIS
   based on their IP address prior to any address translation.  In
   geographically distributed networks that use a private address range,
   this enables the use of a different LIS for different locations,
   based on the IP address range used at each location.  Use of a
   public, translated IP address for the network can still work, but it
   might result in a suboptimal LIS selection.

   A network that operates network address translation SHOULD provide
   NAPTR records that reference a LIS endpoint with a public address.
   This requires the reservation of an IP address and port for the LIS.
   To ensure requests toward the LIS from within the private address
   space do not traverse the NAT and have source addresses mapped by the
   NAT, networks can provide a direct route to the LIS.  Clients that
   perform discovery based on public DNS or STUN servers are thereby
   easier to trace based on source address information.

   NAPTR records can be provided for individual IP addresses.  To limit
   the proliferation of identical records, a single record can be placed
   at higher nodes of the tree (corresponding to /24 and /16 for IPv4;
   /64, /56, /48, and /32 for IPv6).  A record at a higher point in the
   tree (those with a shorter prefix) applies to all addresses lower in





<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   the tree (those with a longer prefix); records at the lower point
   override those at higher points, thus allowing for exceptions to be
   specified.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Privacy%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Privacy Considerations</span>

   As with all uses of geolocation information, it is very important
   that measures be taken to ensure that location information is not
   provided to unauthorized parties.  The mechanism defined in this
   document is focused on the case where a device is learning its own
   location so that it can provide that location information to
   applications.  We assume that the device learning its own location is
   not a privacy risk.  There are then two remaining privacy risks: the
   use of geolocation by applications, and the abuse of the location
   configuration protocol.

   The privacy considerations around the use of geolocation by
   applications vary considerably by application context.  A framework
   for location privacy in applications is provided in [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>].

   The mechanism specified in this document allows a device to discover
   its local LIS, from which it then acquires its location using a
   Location Configuration Protocol (LCP) [<a href="rfc5687.html" title='"GEOPRIV Layer 7 Location Configuration Protocol: Problem Statement and Requirements"'>RFC5687</a>].  If an unauthorized
   third party can spoof the LCP to obtain a target's location
   information, then the mechanism in this document could allow them to
   discover the proper server to attack for a given IP address.  Thus,
   it is important that a LIS meet the security requirements of the LCP
   it implements.  For HELD, these requirements are laid out in
   <a href="rfc5985.html#section-9">Section 9 of [RFC5985]</a>.

   A Device that discovers a LIS using the methods in this document MUST
   NOT provide that LIS with additional information that might reveal
   its position, such as the location measurements described in
   [<a href="rfc7105.html" title='"Using Device-Provided Location-Related Measurements in Location Configuration Protocols"'>RFC7105</a>], unless it has a secondary method for determining the
   authenticity of the LIS, such as a white list.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   The security considerations described in [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>] apply to the
   discovery process as a whole.  The primary security concern is with
   the potential for an attacker to impersonate a LIS.

   The added ability for a third party to discover the identity of a LIS
   does not add any concerns, since the identity of a LIS is considered
   public information.






<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   In addition to existing considerations, this document introduces
   further security considerations relating to the identification of the
   IP address.  It is possible that an attacker could attempt to provide
   a falsified IP address in an attempt to subvert the rest of the
   process.

   [<a id="ref-RFC5389" name="ref-RFC5389">RFC5389</a>] describes attacks where an attacker is able to ensure that
   a Device receives a falsified reflexive address.  An on-path attacker
   might be able to ensure that a falsified address is provided to the
   Device.  Even though STUN messages are protected by a STUN MESSAGE-
   INTEGRITY attribute, which is an HMAC that uses a shared secret, an
   on-path attacker can capture and modify packets, altering source and
   destination addresses to provide falsified addresses.

   This attack could result in an effective means of denial of service,
   or a means to provide a deliberately misleading service.  Notably,
   any LIS that is identified based on a falsified IP address could
   still be a valid LIS for the given IP address, just not one that is
   useful for providing the Device with location information.  In this
   case, the LIS provides a HELD "notLocatable" error or an equivalent.
   If the falsified IP address is under the control of the attacker, it
   is possible that misleading (but verifiable) DNS records could
   indicate a malicious LIS that provides false location information.

   In all cases of falsification, the best remedy is to perform some
   form of independent verification of the result.  No specific
   mechanism is currently available to prevent attacks based on
   falsification of reflexive addresses; it is suggested that Devices
   attempt to independently verify that the reflexive transport address
   provided is accurate.  An independent, trusted source of location
   information could aid in verification, even if the trusted source is
   unable to provide information with the same degree of accuracy as the
   discovered LIS.

   Use of private address space effectively prevents use of the usual
   set of trust anchors for DNSSEC.  Only a DNS server that is able to
   see the same private address space can provide useful records.  A
   Device that relies on DNS records in the private address space
   portion of the ".in-addr.arpa." or ".ip6.arpa." trees MUST either use
   an alternative trust anchor for these records or rely on other means
   of ensuring the veracity of the DNS records.

   DNS queries that are not blocked as [<a href="rfc6303.html" title='"Locally Served DNS Zones"'>RFC6303</a>] demands, or directed to
   servers outside the network, can cause the addresses that are in use
   within the network to be exposed outside of the network.  For
   resolvers within the network, implementing [<a href="rfc6303.html" title='"Locally Served DNS Zones"'>RFC6303</a>] avoids this
   issue; otherwise, the problem cannot be avoided without blocking DNS
   queries to external servers.



<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20IAB%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  IAB Considerations</span>

   The IAB has studied the problem of Unilateral Self-Address Fixing
   (UNSAF) [<a href="rfc3424.html" title='"IAB Considerations for UNilateral Self-Address Fixing (UNSAF) Across Network Address Translation"'>RFC3424</a>], which is the general process by which a client
   attempts to determine its address in another realm on the other side
   of a NAT through a collaborative protocol reflection mechanism, such
   as STUN.

   This section only applies to the use of this method of LIS discovery
   by Devices and does not apply to its use for third-party LIS
   discovery.

   The IAB requires that protocol specifications that define UNSAF
   mechanisms document a set of considerations.

   1.  Precise definition of a specific, limited-scope problem that is
       to be solved with the UNSAF proposal.

       <a href="#section-3">Section 3</a> describes the limited scope of the problem addressed in
       this document.

   2.  Description of an exit strategy/transition plan.

       [<a id="ref-RFC5986" name="ref-RFC5986">RFC5986</a>] describes behavior that residential gateways require in
       order for this short-term solution to be rendered unnecessary.
       When implementations of the recommendations in LIS discovery are
       widely available, this UNSAF mechanism can be made obsolete.

   3.  Discussion of specific issues that may render systems more
       "brittle".

       A description of the necessary assumptions and limitations of
       this solution are included in <a href="#section-4.6">Section 4.6</a>.

       Use of STUN for discovery of a reflexive transport address is
       inherently brittle in the presence of multiple NATs or address
       realms.  In particular, brittleness is added by the requirement
       of using a DNS server that is able to view the address realm that
       contains the IP address in question.  If address realms use
       overlapping addressing space, then there is a risk that the DNS
       server provides information that is not useful to the Device.

   4.  Identify requirements for longer-term, sound technical solutions;
       contribute to the process of finding the right longer-term
       solution.






<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


       A longer-term solution is already provided in [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>].
       However, that solution relies on widespread deployment.  The
       UNSAF solution provided here is an interim solution that enables
       LIS access for Devices that are not able to benefit from
       deployment of the recommendations in [<a href="rfc5986.html" title='"Discovering the Local Location Information Server (LIS)"'>RFC5986</a>].

   5.  Discussion of the impact of the noted practical issues with
       existing deployed NATs and experience reports.

       The UNSAF mechanism depends on the experience in deployment of
       STUN [<a href="rfc5389.html" title='"Session Traversal Utilities for NAT (STUN)"'>RFC5389</a>].  On the whole, existing residential gateway
       devices are able to provide access to STUN and DNS service
       reliably, although regard should be given to the size of the DNS
       response (see [<a href="rfc5625.html" title='"DNS Proxy Implementation Guidelines"'>RFC5625</a>]).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgements"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgements</span>

   Richard Barnes provided the text in <a href="#section-5">Section 5</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC1035" name="ref-RFC1035">RFC1035</a>]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, <a href="rfc1035.html">RFC 1035</a>, November 1987.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3596" name="ref-RFC3596">RFC3596</a>]  Thomson, S., Huitema, C., Ksinant, V., and M. Souissi,
              "DNS Extensions to Support IP Version 6", <a href="rfc3596.html">RFC 3596</a>,
              October 2003.

   [<a id="ref-RFC5986" name="ref-RFC5986">RFC5986</a>]  Thomson, M. and J. Winterbottom, "Discovering the Local
              Location Information Server (LIS)", <a href="rfc5986.html">RFC 5986</a>, September
              2010.

   [<a id="ref-RFC7105" name="ref-RFC7105">RFC7105</a>]  Thomson, M. and J. Winterbottom, "Using Device-Provided
              Location-Related Measurements in Location Configuration
              Protocols", <a href="rfc7105.html">RFC 7105</a>, January 2014.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC1918" name="ref-RFC1918">RFC1918</a>]  Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and
              E. Lear, "Address Allocation for Private Internets", <a href="https://tools.ietf.org/html/bcp5">BCP</a>
              <a href="https://tools.ietf.org/html/bcp5">5</a>, <a href="rfc1918.html">RFC 1918</a>, February 1996.





<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   [<a id="ref-RFC2131" name="ref-RFC2131">RFC2131</a>]  Droms, R., "Dynamic Host Configuration Protocol", <a href="rfc2131.html">RFC</a>
              <a href="rfc2131.html">2131</a>, March 1997.

   [<a id="ref-RFC3315" name="ref-RFC3315">RFC3315</a>]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", <a href="rfc3315.html">RFC 3315</a>, July 2003.

   [<a id="ref-RFC3424" name="ref-RFC3424">RFC3424</a>]  Daigle, L. and IAB, "IAB Considerations for UNilateral
              Self-Address Fixing (UNSAF) Across Network Address
              Translation", <a href="rfc3424.html">RFC 3424</a>, November 2002.

   [<a id="ref-RFC4848" name="ref-RFC4848">RFC4848</a>]  Daigle, L., "Domain-Based Application Service Location
              Using URIs and the Dynamic Delegation Discovery Service
              (DDDS)", <a href="rfc4848.html">RFC 4848</a>, April 2007.

   [<a id="ref-RFC5012" name="ref-RFC5012">RFC5012</a>]  Schulzrinne, H. and R. Marshall, "Requirements for
              Emergency Context Resolution with Internet Technologies",
              <a href="rfc5012.html">RFC 5012</a>, January 2008.

   [<a id="ref-RFC5389" name="ref-RFC5389">RFC5389</a>]  Rosenberg, J., Mahy, R., Matthews, P., and D. Wing,
              "Session Traversal Utilities for NAT (STUN)", <a href="rfc5389.html">RFC 5389</a>,
              October 2008.

   [<a id="ref-RFC5687" name="ref-RFC5687">RFC5687</a>]  Tschofenig, H. and H. Schulzrinne, "GEOPRIV Layer 7
              Location Configuration Protocol: Problem Statement and
              Requirements", <a href="rfc5687.html">RFC 5687</a>, March 2010.

   [<a id="ref-RFC6280" name="ref-RFC6280">RFC6280</a>]  Barnes, R., Lepinski, M., Cooper, A., Morris, J.,
              Tschofenig, H., and H. Schulzrinne, "An Architecture for
              Location and Location Privacy in Internet Applications",
              <a href="https://tools.ietf.org/html/bcp160">BCP 160</a>, <a href="rfc6280.html">RFC 6280</a>, July 2011.

   [<a id="ref-RFC6303" name="ref-RFC6303">RFC6303</a>]  Andrews, M., "Locally Served DNS Zones", <a href="https://tools.ietf.org/html/bcp163">BCP 163</a>, <a href="rfc6303.html">RFC</a>
              <a href="rfc6303.html">6303</a>, July 2011.

   [<a id="ref-RFC6887" name="ref-RFC6887">RFC6887</a>]  Wing, D., Cheshire, S., Boucadair, M., Penno, R., and P.
              Selkirk, "Port Control Protocol (PCP)", <a href="rfc6887.html">RFC 6887</a>, April
              2013.

   [<a id="ref-UPnP-IGD-WANIPConnection1" name="ref-UPnP-IGD-WANIPConnection1">UPnP-IGD-WANIPConnection1</a>]
              UPnP Forum, "Internet Gateway Device (IGD) Standardized
              Device Control Protocol V 1.0: WANIPConnection:1 Service
              Template Version 1.01 For UPnP Version 1.0", DCP 05-001,
              Nov. 2001, &lt;<a href="http://upnp.org/specs/gw/UPnP-gw-WANIPConnection-v1-Service.pdf">http://upnp.org/specs/gw/</a>
              <a href="http://upnp.org/specs/gw/UPnP-gw-WANIPConnection-v1-Service.pdf">UPnP-gw-WANIPConnection-v1-Service.pdf</a>&gt;.

   [<a id="ref-RFC6886" name="ref-RFC6886">RFC6886</a>]  Cheshire, S. and M. Krochmal, "NAT Port Mapping Protocol
              (NAT-PMP)", <a href="rfc6886.html">RFC 6886</a>, April 2013.



<span class="grey">Thomson &amp; Bellis             Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7216.html">RFC 7216</a>                   LIS Discovery by IP                April 2014</span>


   [<a id="ref-RFC5625" name="ref-RFC5625">RFC5625</a>]  Bellis, R., "DNS Proxy Implementation Guidelines", <a href="https://tools.ietf.org/html/bcp152">BCP</a>
              <a href="https://tools.ietf.org/html/bcp152">152</a>, <a href="rfc5625.html">RFC 5625</a>, August 2009.

   [<a id="ref-RFC5985" name="ref-RFC5985">RFC5985</a>]  Barnes, M., "HTTP-Enabled Location Delivery (HELD)", <a href="rfc5985.html">RFC</a>
              <a href="rfc5985.html">5985</a>, September 2010.

Authors' Addresses

   Martin Thomson
   Mozilla
   Suite 300
   650 Castro Street
   Mountain View, CA  94041
   US

   EMail: martin.thomson@gmail.com


   Ray Bellis
   Nominet UK
   Edmund Halley Road
   Oxford  OX4 4DQ
   United Kingdom

   Phone: +44 1865 332211
   EMail: ray.bellis@nominet.org.uk
   URI:   <a href="http://www.nominet.org.uk/">http://www.nominet.org.uk/</a>
























Thomson &amp; Bellis             Standards Track                   [Page 18]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7216 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:22 GMT --></html>