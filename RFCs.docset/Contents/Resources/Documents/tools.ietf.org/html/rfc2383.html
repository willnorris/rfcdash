<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc2383 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:53 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.107" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:2383" name="DC.Identifier"/>
<meta content="This document specifies an ATM-based protocol for communication\nbetween ST2+ agents. This memo provides information for the Internet\ncommunity. It does not specify an Internet standard of any kind." name="DC.Description.Abstract"/>
<meta content="Muneyoshi Suzuki &lt;suzuki@nal.ecl.net&gt;" name="DC.Creator"/>
<meta content="August, 1998" name="DC.Date.Issued"/>
<meta content="ST2+ over ATM Protocol Specification - UNI 3.1 Version" name="DC.Title"/>

    <link href="http://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="http://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 2383 - ST2+ over ATM Protocol Specification - UNI 3.1 Version</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="http://tools.ietf.org/rfc/rfc2383.txt" title="Plaintext version of this document">txt</a>|<a href="http://tools.ietf.org/pdf/rfc2383" title="PDF version of this document">pdf</a>] [<a href="http://tools.ietf.org/html/draft-suzuki-st2-over-atm" title="draft-suzuki-st2-over-atm">draft-suzuki-st2-...</a>] [<a href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc2383" title="Inline diff (wdiff)">Diff1</a>] [<a href="http://tools.ietf.org/rfcdiff?url2=rfc2383" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                          M. Suzuki
Request for Comments: 2383                                           NTT
Category: Informational                                      August 1998


                             <span class="h1">ST2+ over ATM</span>
                <span class="h1">Protocol Specification - UNI 3.1 Version</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (1998).  All Rights Reserved.

Abstract

   This document specifies an ATM-based protocol for communication
   between ST2+ agents. The ST2+ over ATM protocol supports the matching
   of one hop in an ST2+ tree-structure stream with one ATM connection.
   In this document, ATM is a subnet technology for the ST2+ stream.

   The ST2+ over ATM protocol is designed to achieve resource-
   reservation communications across ATM and non-ATM networks, to extend
   the UNI 3.1/4.0 signaling functions, and to reduce the UNI 4.0 LIJ
   signaling limitations.

   The specifications of the ST2+ over ATM protocol consist of a
   revision of <a href="rfc1819.html">RFC 1819</a> ST2+ and specifications of protocol interaction
   between ST2+ and ATM on the user plane, management plane, and control
   plane which correspond to the three planes of the B-ISDN protocol
   reference model.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Introduction</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1%20Purpose%20of%20Document"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a> Purpose of Document</span>

   The purpose of this document is to specify an ATM-based protocol for
   communication between ST2+ agents.

   The ST2+ over ATM protocol is designed to support the matching of one
   hop in an ST2+ tree-structure stream with one ATM connection; it is
   not designed to support an entire ST2+ tree-structure stream with a
   point-to-multipoint ATM connection only.




<span class="grey">Suzuki                       Informational                      [Page 1]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   Therefore, in this document, ATM is only a subnet technology for the
   ST2+ stream.  This specification is designed to enable resource-
   reservation communications across ATM and non-ATM networks.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2%20Features%20of%20ST2%2B%20over%20ATM%20Protocol"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a> Features of ST2+ over ATM Protocol</span>

   o Enables resource-reservation communications across ATM and non-ATM
     networks.

     ATM native API supports resource-reservation communications only
     within an ATM network; it cannot support interworking with non-ATM
     networks. This is because

     - ATM native API cannot connect terminals without an ATM interface.

     - ATM native API does not support IP addressing and SAP (port)
       addressing systems.

   o Extends UNI 3.1/4.0 signaling functions.

     ST2+ SCMP supports MTU-size negotiation at all hops in an ST2+
     tree-structure stream. UNI 3.1/4.0 supports only max CPCS_SDU
     (i.e., MTU) negotiation with the called party of a point-to-point
     call or with the first leaf of a point-to-multipoint call.

   o Reduces UNI 4.0 LIJ signaling limitations.

     The ST2+ over ATM protocol supports UNI 4.0 LIJ Call Identifier
     notification from the root to the leaf by using an ST2+ SCMP
     extension.  LIJ Call Identifier discovery at the leaf is one of the
     major unsolved problems of UNI 4.0, and the ST2+ over ATM protocol
     provides a solution.

     Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
     support the above feature. It will be supported by the UNI 3.1/4.0
     version.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.3%20Goals%20and%20Non-goals%20of%20ST2%2B%20over%20ATM%20Protocol"></a><a class="selflink" href="#section-1.3" name="section-1.3">1.3</a> Goals and Non-goals of ST2+ over ATM Protocol</span>

   The ST2+ over ATM protocol is designed to achieve the following
   goals.

   o Specify protocol interaction between ST2+ [<a href="#ref-4" title='"Internet Stream Protocol Version 2 (ST2) Protocol Specification - Version ST2+"'>4</a>] and ATM on the ATM
     Forum Private UNI 3.1/4.0 (Sb point) [<a href="#ref-10" title='"ATM User-Network Interface Specification Version 3.1"'>10</a>, <a href="#ref-11" title='"ATM User-Network Interface (UNI) Signaling Specification Version 4.0"'>11</a>].

     Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
     support UNI 4.0. It will be supported by the UNI 3.1/4.0 version.




<span class="grey">Suzuki                       Informational                      [Page 2]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o Support ST2+ stream across ATM and non-ATM networks.

   o Define one VC on the UNI corresponding to one ST2+ hop; this VC is
     not shared with other ST2+ hops, and also this ST2+ hop is not
     divided into multiple VCs.

   o Support both SVC and PVC.

   o Not require any ATM specification changes.

   o Coexist with <a href="rfc1483.html">RFC 1483</a> [<a href="#ref-16" title='"Multiprotocol Encapsulation over ATM Adaptation Layer 5"'>16</a>] IPv4 encapsulation.

   o Coexist with <a href="rfc1577.html">RFC 1577</a> [<a href="#ref-17" title='"Classical IP and ARP over ATM"'>17</a>] ATMarp.

   o Coexist with <a href="rfc1755.html">RFC 1755</a> [<a href="#ref-18" title='"ATM Signaling Support for IP over ATM"'>18</a>] ATM signaling for IPv4.

   o Coexist with NHRP [<a href="#ref-19" title='"NBMA Next Hop Resolution Protocol (NHRP)"'>19</a>].

   Because ST2+ is independent of both routing and IP address resolution
   protocols, the ST2+ over ATM protocol does not specify the following
   protocols.

   o IP-ATM address resolution protocol

   o Routing protocol

   Because the ST2+ over ATM protocol is specified for the UNI, it is
   independent of:

   o NNI protocol

   o Router/switch architecture



















<span class="grey">Suzuki                       Informational                      [Page 3]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Protocol%20Architecture"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Protocol Architecture</span>

   The ST2+ over ATM protocol specifies the interaction between ST2+ and
   ATM on the user, management, and control planes, which correspond to
   the three planes in ITU-T Recommendation I.321 B-ISDN Protocol
   Reference Model [<a href="#ref-14" title='"B-ISDN Protocol Reference Model and its Application"'>14</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1%20User%20Plane%20Architecture"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a> User Plane Architecture</span>

   The user plane specifies the rules for encapsulating the ST2+ Data
   PDU into the AAL5 [<a href="#ref-15" title='"B-ISDN ATM Adaptation Layer (AAL) type 5 specification"'>15</a>] PDU. An user plane protocol stack is shown in
   Fig. 2.1.

   +---------------------------------+
   |           <a href="rfc1819.html">RFC 1819</a> ST2+         |
   |           (ST2+ Data)           |
   +---------------------------------+      Point of ST2+ over ATM
   |/////////////////////////////////| &lt;--- protocol specification of
   +---------------------------------+      user plane
   |                                 |
   |                                 |
   |             I.363.5             |
   |                                 |
   |               AAL5              |
   |                                 |
   |                                 |
   +---------------------------------+
   |           I.361 ATM             |
   +---------------------------------+
   |               PHY               |
   +----------------+----------------+
                    |        UNI
                    +--------||-------

                   Fig. 2.1: User plane protocol stack.
















<span class="grey">Suzuki                       Informational                      [Page 4]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   An example of interworking from an ATM network to an IEEE 802.X LAN
   is shown in Fig. 2.2.

      ST2+                               ST2+                   ST2+
     Origin        ATM Cloud      Intermediate Agent           Target
   +---------+                                              +---------+
   |   AP    |---------------------------------------------&gt;|   AP    |
   +---------+                   +-------------------+      +---------+
   |ST2+ Data|------------------&gt;| <a href="rfc1819.html">RFC 1819</a> ST2+ Data|-----&gt;|ST2+ Data|
   +---------+                   +---------+---------+      +---------+
   |I.363 AAL|------------------&gt;|I.363 AAL|  SNAP   |-----&gt;|  SNAP   |
   +---------+    +---------+    +---------+---------+      +---------+
   |I.361 ATM|---&gt;|I.361 ATM|---&gt;|I.361 ATM|   LLC   |-----&gt;|   LLC   |
   +---------+    +---------+    +---------+---------+      +---------+
   |         |    |         |    |         |IEEE802.X|      |IEEE802.X|
   |   PHY   |---&gt;|   PHY   |---&gt;|   PHY   | &amp; 802.1p|-----&gt;| &amp; 802.1p|
   +---------+    +---------+    +---------+---------+      +---------+

                  Fig. 2.2: Example of interworking from
                   an ATM network to an IEEE 802.X LAN.

   The ATM cell supports priority indication using the CLP field;
   indication is also supported by the ST2+ Data PDU by using the Pri
   field.  It may be feasible to map these fields to each other.  The
   ST2+ over ATM protocol specifies an optional function that maps the
   Pri field in the ST header to the CLP field in the ATM cell.
   However, implementors should note that current ATM standardization
   tends not to support tagging.























<span class="grey">Suzuki                       Informational                      [Page 5]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2%20Management%20Plane%20Architecture"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a> Management Plane Architecture</span>

   The management plane specifies the Null FlowSpec, the Controlled-Load
   Service [<a href="#ref-5" title='"Specification of the Controlled-Load Network Element Service"'>5</a>] FlowSpec, and the Guaranteed Service [<a href="#ref-6" title='"Specification of Guaranteed Quality of Service"'>6</a>] FlowSpec mapping
   rules [<a href="#ref-8" title='"Interoperation of Controlled-Load Service and Guaranteed Service with ATM"'>8</a>] for UNI 3.1 traffic management.  A management plane
   protocol stack is shown in Fig. 2.3.

   +---------------------------------+
   |          Null FlowSpec          |
   |Controlled-Load Service FlowSpec |
   |   Guaranteed Service FlowSpec   |
   +---------------------------------+      Point of ST2+ over ATM
   |/////////////////////////////////| &lt;--- protocol specification of
   +---------------------------------+      management plane
   |                                 |
   |            UNI 3.1              |
   |                                 |
   |                                 |
   |       Traffic Management        |
   |                                 |
   |                                 |
   |            VBR/UBR              |
   |                                 |
   +---------------------------------+

                Fig. 2.3: Management plane protocol stack.

   Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
   support Guaranteed Services. It will be supported by the UNI 3.1/4.0
   version.

   The ST2+ over ATM protocol specifies the ST FlowSpec format for the
   Integrated Services.  Basically, FlowSpec parameter negotiation,
   except for the MTU, is not supported.  This is because, in the ST2+
   environment, negotiated FlowSpec parameters are not always unique to
   each target.  The current ATM standard does not support heterogeneous
   QoS to receivers.

   The ST2+ over ATM protocol supports FlowSpec changes by using the
   CHANGE message (<a href="rfc1819.html#section-4.6.5">RFC 1819, Section 4.6.5</a>) if the I-bit in the CHANGE
   message is set to one and if the CHANGE message affects all targets
   in the stream. This is because the UNI 3.1 does not support QoS
   changes. The ST2+ over ATM protocol supports FlowSpec changes by
   releasing old ATM connections and establishing new ones.

   The ST2+ over ATM protocol does not support stream preemption (<a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a>, <a href="#section-6.3">Section 6.3</a>).  This is because the Integrated Services FlowSpec
   does not support the concept of precedence.



<span class="grey">Suzuki                       Informational                      [Page 6]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   It does not support the ST2+ FlowSpec (<a href="rfc1819.html#section-9.2">RFC 1819, Section 9.2</a>).  ST2+
   FlowSpec specifies useful services, but requires a datalink layer to
   support heterogeneous QoS to receivers.  The current ATM standard
   does not support heterogeneous QoS to receivers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3%20Control%20Plane%20Architecture"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a> Control Plane Architecture</span>

   The control plane specifies the rules for encapsulating the ST2+ SCMP
   PDU into the AAL5 [<a href="#ref-15" title='"B-ISDN ATM Adaptation Layer (AAL) type 5 specification"'>15</a>] PDU, the relationship between ST2+ SCMP and
   PVC management for ST2+ data, and the protocol interaction between
   ST2+ SCMP and UNI 3.1 signaling [<a href="#ref-10" title='"ATM User-Network Interface Specification Version 3.1"'>10</a>]. A control plane protocol stack
   is shown in Fig. 2.4.

   +---------------------------------+
   |           <a href="rfc1819.html">RFC 1819</a> ST2+         |
   |           (ST2+ SCMP)           |
   +---------------------------------+      Point of ST2+ over ATM
   |/////////////////////////////////| &lt;--- protocol specification of
   +------------+---+----------------+      control plane
   |  IEEE 802  |   |UNI3.1 Signaling|
   |    SNAP    |   +----------------+
   +------------+   |  Q.2130 SSCF   |
   | ISO 8802-2 |   +----------------+
   |  LLC Type1 |   |  Q.2110 SSCOP  |
   +------------+   +----------------+
   |          I.363.5 AAL5           |
   +---------------------------------+
   |           I.361 ATM             |
   +---------------------------------+
   |               PHY               |
   +----------------+----------------+
                    |        UNI
                    +--------||-------

                  Fig. 2.4: Control plane protocol stack.

   The ST2+ over ATM protocol does not cover a VC (SVC/PVC) that
   transfers ST2+ SCMP. VCs for IPv4 transfer may be used for ST2+ SCMP
   transfer, and implementations may provide particular VCs for ST2+
   SCMP transfer. Selection of these VCs depends on the implementation.

   Implementors should note that when ST2+ data and SCMP belong to a
   stream, the routing directions on the ST2+ layer must be the same.
   Implementors should also note that ST2+ and IPv4 directions for
   routing to the same IP destination address are not always the same.






<span class="grey">Suzuki                       Informational                      [Page 7]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   The ST2+ over ATM protocol supports both SVC and PVC for ST2+ Data
   PDU transfer.  If SVC is used, the ST2+ and ATM layers establish a
   connection sequentially by using respectively ST2+ SCMP and UNI 3.1
   signaling. An example of ST2+ SCMP and UNI 3.1 signaling message
   flows for establishing and releasing of ST2+ data connections is
   shown in Fig. 2.5, where (S) means an ST2+ entity and (Q) means a UNI
   3.1 signaling entity.

                           ATM SW      ATM SW
       +------------+ UNI  +----+ NNI  +----+ UNI  +------------+
   ____|Intermediate|--||--| \/ |______| \/ |--||--|Intermediate|____
       | (Upstream) |      | /\ |      | /\ |      |(Downstream)|
       +------------+      +----+      +----+      +------------+
                                  SCMP
   -------&gt;(S)&lt;------------------------------------------&gt;(S)&lt;-------
             \     UNI Sig.                   UNI Sig.    /
   CONNECT  | (Q)&lt;---------&gt;(Q)&lt;--------&gt;(Q)&lt;---------&gt;(Q) |
   --------&gt;|                                              |
   ACK &lt;----|--------------------CONNECT------------------&gt;| CONNECT
            |&lt;---------------------ACK---------------------|--------&gt;
            |                                              |&lt;--- ACK
            |                                              | ACCEPT
            |                                              |&lt;--------
            |&lt;-------------------ACCEPT--------------------|---&gt; ACK
            |----------------------ACK--------------------&gt;|
            |                                              |
            |-&gt;|----SETUP---&gt;|            |             |  |
            |  |&lt;-CALL PROC--|-----------&gt;|----SETUP---&gt;|-&gt;|
            |  |             |            |&lt;----CONN----|&lt;-|
   ACCEPT   |  |&lt;----CONN----|&lt;-----------|--CONN ACK--&gt;|-&gt;|
   &lt;--------|&lt;-|--CONN ACK--&gt;|            |             |  |
   ACK ----&gt;|                                              |
            |                                              |
   -------\ |--------------------------------------------\ |-------\
           &gt;|                   ST2+ Data                 &gt;|        &gt;
   -------/ |--------------------------------------------/ |-------/
            |                                              |
   DISCONN  |                                              |
   --------&gt;|                                              |
   ACK &lt;----|-------------------DISCONNECT----------------&gt;|
            |&lt;---------------------ACK---------------------|
            |                                              |
            |-&gt;|---RELEASE--&gt;|            |             |  |
            |&lt;-|&lt;--REL COMP--|-----------&gt;|---RELEASE--&gt;|-&gt;| DISCONN
            |  |             |            |&lt;--REL COMP--|&lt;-|--------&gt;
            |                                              |&lt;--- ACK

    Fig. 2.5: Example of ST2+ SCMP and UNI 3.1 signaling message flows.



<span class="grey">Suzuki                       Informational                      [Page 8]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   UNI 3.1/4.0 specifies PVC, point-to-point SVC, and point-to-
   multipoint SVC as VC styles. However, in actual ATM network
   environments, especially public ATM WANs, only PVC and bi-directional
   point-to-point SVC may be supported.  To support the diverse VC
   styles, the ST2+ over ATM protocol supports the following VC styles
   for ST2+ Data PDU transfer.

   o PVC

   o Reuse of reverse channel of bi-directional point-to-point SVC that
     is used by existing stream.

   o Point-to-point SVC initiated from upstream side.

   o Point-to-multipoint SVC initiated from upstream side.

   o Point-to-point SVC initiated from downstream side.

   o Point-to-multipoint SVC initiated from downstream side (LIJ).

     Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
     support LIJ.  LIJ will be supported by the UNI 3.1/4.0 version.

   The second style is needed in environments supporting bi-directional
   point-to-point SVC only.  The selection of PVC and SVC styles in the
   ST2+ agent is based on preconfigured implementation-dependent rules.

   SVC supports both upstream and downstream call initiation styles.
   Implementors should note that this is independent of the sender-
   oriented and receiver-oriented ST2+ stream-building process (<a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a>, <a href="#section-4.1.1">Section 4.1.1</a>).  This is because the ST2+ over ATM protocol
   specifies the process for establishing ST2+ data hops on the UNI, and
   because the ST2+ stream building process belongs to another layer.
   The SVC initiation side should be determined based on the operational
   and billing policies between ST2+ agents; this is basically
   independent of the sender-oriented and receiver-oriented ST2+
   stream-building process.














<span class="grey">Suzuki                       Informational                      [Page 9]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   An example of ST2+ SCMP interworking is shown in Fig. 2.6.

                        _____
                       /     \
                      (Origin )
                       \     /
                      A ~~|~~ A
                      |   =   | UNI Signaling
                      |   |   |
                      | +-+-+ V
                      | | X |   ATM SW
                      | +-+-+ A
                 SCMP |   |   | NNI Signaling
                      | +-+-+ V
                      | | X |   ATM SW
                      | +-+-+ A
                      |   |   |
                      |   =   | UNI Signaling
                      V   |   V
                    +-----+------+   IEEE 802.X &amp; 802.1p
                    |            |&lt;---------------------+
                    |Intermediate|--------------------+ |
                    |            |&lt;-----------------+ | |
                    +------------+      L2 Signaling| | |
                      A   |   A                     | | |
                      |   =   | UNI Signaling       | | | SCMP
                      |   |   |                     | | |
                      | +-+-+ V                     | | |
                      | | X |   ATM SW              V | |
                      | +-+-+ A                   +---+-|-+
                 SCMP |   |   | NNI Signaling     |  \ /| |
                      | +-+-+ V                   |   X | |LAN SW
                      | | X |   ATM SW            |  / \| |
                      | +-+-+ A                   +---+-|-+
                      |   |   |                     A | |
                      |   =   | UNI Signaling       | | |
                      V __|__ V                     V_|_V
                       /     \                     /     \
                      (Target )                   (Target )
                       \     /                     \     /
                        ~~~~~                       ~~~~~

              Fig. 2.6: Example of ST2+ SCMP interworking.








<span class="grey">Suzuki                       Informational                     [Page 10]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20Revision%20of%20RFC%201819%20ST2%2B"></a><a class="selflink" href="#section-3" name="section-3">3</a>. Revision of <a href="rfc1819.html">RFC 1819</a> ST2+</span>

   To specify the ST2+ over ATM protocol, the functions in <a href="rfc1819.html">RFC 1819</a> ST2+
   must be extended to support ATM.  However, it is difficult for the
   current ATM standard to support part of the specifications in <a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a> ST2+. This section specifies the extended, restricted,
   unsupported, and modified functions in <a href="rfc1819.html">RFC 1819</a> ST2+.  Errata for <a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a> appears in <a href="#appendix-A">Appendix A</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1%20Extended%20Functions%20of%20RFC%201819%20ST2%2B"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a> Extended Functions of <a href="rfc1819.html">RFC 1819</a> ST2+</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.1%20ST%20FlowSpec%20for%20Controlled-Load%20Service"></a><a class="selflink" href="#section-3.1.1" name="section-3.1.1">3.1.1</a> ST FlowSpec for Controlled-Load Service</span>

   The ST2+ over ATM protocol specifies the ST FlowSpec format for the
   Integrated Services.  Basically, FlowSpec parameter negotiation,
   except for the MTU, is not supported.  The ST2+ intermediate agent
   and the target decide whether to accept or refuse the FlowSpec
   parameters, except for the MTU.  Therefore, each of the FlowSpec
   parameter values other than MTU is the same at each target in the
   stream.

   The format of the ST FlowSpec for the Controlled-Load Service is
   shown in Fig. 3.1.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   PCode = 1   |  PBytes = 36  | ST FS Ver = 8 |   0(unused)   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Ver=0 |      0(reserved)      |      Overall Length = 7       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  SVC Number   |0| 0(reserved) |        SVC Length = 6         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Param Num = 127|   Flags = 0   |       Param Length = 5        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Token Bucket Rate [r] (32-bit IEEE floating point number)    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Token Bucket Size [b] (32-bit IEEE floating point number)    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Peak Data Rate [p] (32-bit IEEE floating point number)      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Minimum Policed Unit [m]                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Maximum Packet Size [M]                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

       Fig. 3.1: Format of ST FlowSpec for Controlled-Load Service.




<span class="grey">Suzuki                       Informational                     [Page 11]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


     The PCode field identifies common SCMP elements.  The PCode value
     for the ST2+ FlowSpec is 1.

     The PBytes field for the Controlled-Load Service is 36 bytes.

     The ST FS Ver (ST FlowSpec Version) field identifies the ST
     FlowSpec version.  The ST FlowSpec version number for the
     Integrated Services is 8.

     The Ver (Message Format Version) field identifies the Integrated
     Services FlowSpec message format version.  The current version is
     zero.

     The Overall Length field for the Controlled-Load Service is 7
     words.

     The SVC Number (Service ID Number) field identifies the Integrated
     Services.  If the Integrated Services FlowSpec appears in the
     CONNECT or CHANGE message, the value of the SVC Number field is 1.
     If it appears in the ACCEPT, NOTIFY, or STATUS-RESPONSE message,
     the value of the SVC Number field is 5.

     The SVC Length (Service-specific Data Length) field for the
     Controlled-Load Service is 6 words.

     The Param Num (Parameter Number) field is 127.

     The Flags (Per-parameter Flags) field is zero.

     The Param Length (Length of Per-parameter Data) field is 5 words.

     Definitions of the Token Bucket Rate [r], the Token Bucket Size
     [b], the Peak Data Rate [p], the Minimum Policed Unit [m], and the
     Maximum Packet Size [M] fields are given in [<a href="#ref-5" title='"Specification of the Controlled-Load Network Element Service"'>5</a>].  See section 5 of
     [<a href="#ref-5" title='"Specification of the Controlled-Load Network Element Service"'>5</a>] for details.

   The ST2+ agent, that creates the FlowSpec element in the SCMP
   message, must assign valid values to all fields. The other agents
   must not modify any values in the element.

   The MaxMsgSize field in the CONNECT message is assigned by the origin
   or the intermediate agent acting as origin, and updated by each agent
   based on the MTU value of the datalink layer.

   The negotiated value of MaxMsgSize is set back to the origin or the
   intermediate agent acting as origin using the [M] field and the
   MaxMsgSize field in the ACCEPT message that corresponds to the
   CONNECT message.



<span class="grey">Suzuki                       Informational                     [Page 12]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   In the original definition of the Controlled-Load Service, the value
   of the [m] field must be less than or equal to the value of the [M]
   field.  However, in the ST FlowSpec for the Controlled-Load Service,
   if the value of the [m] field is more than that of the [M] field, the
   value of the [m] field is regarded as the same value as the [M]
   field, and must not generate an error. This is because there is a
   possibility that the value of the [M] field in the ACCEPT message may
   be decreased by negotiation.

   In the ST2+ SCMP messages, the value of the [M] field must be equal
   to or less than 65,535.  In the ACCEPT message that responds to
   CONNECT, or the NOTIFY message that contains the FlowSpec field, the
   value of the [M] field must be equal to the MaxMsgSize field in the
   message.  If these values are not the same, FlowSpec is regarded as
   an error.

   If the ST2+ agent receives the CONNECT message that contains
   unacceptable FlowSpec, the agent must generate a REFUSE message.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.2%20ST%20FlowSpec%20for%20Guaranteed%20Service"></a><a class="selflink" href="#section-3.1.2" name="section-3.1.2">3.1.2</a> ST FlowSpec for Guaranteed Service</span>

   Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
   support Guaranteed Services. It will be supported by the UNI 3.1/4.0
   version.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.3%20VC-type%20common%20SCMP%20element"></a><a class="selflink" href="#section-3.1.3" name="section-3.1.3">3.1.3</a> VC-type common SCMP element</span>

   The ST2+ over ATM protocol specifies an additional common SCMP
   element that designates the VC type used to support the diverse VC
   styles.  The CONNECT and CHANGE messages that establish a hop with a
   VC must contain a VC-type common SCMP element.  This element is valid
   between neighboring ST2+ agents, but must not propagate beyond the
   previous-hop or next-hop ST2+ agent.


















<span class="grey">Suzuki                       Informational                     [Page 13]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   The format of the VC-type common SCMP element is shown in Fig. 3.2.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   PCode = 8   |  PBytes = 20  |            VCType             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          PVCIdentifer                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          0(unused)            |           UniqueID            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        OriginIPAddress                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        LIJCallIdentifer                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Fig. 3.2: Format of VC-type common SCMP element.

     The PCode field identifies the common SCMP elements. The PCode
     value for the VC type is 8.

     The PBytes field for the VC type is 20 bytes.

     The VCType field identifies the VC type.  The correspondence
     between the value in this field and the meaning is as follows:

       0: ST2+ data stream uses a PVC.

       1: ST2+ data stream uses the reverse channel of the bi-
          directional point-to-point SVC used by the existing stream.

       2: ST2+ data stream is established by a point-to-point SVC
          initiated from the upstream side.

       3: ST2+ data stream is established by a point-to-multipoint SVC
          initiated from the upstream side.

       4: ST2+ data stream is established by a point-to-point SVC
          initiated from the downstream side.

       5: ST2+ data stream is established by a point-to-multipoint SVC
          initiated from the downstream side.

       Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
       support VCType 5. It will be supported by the UNI 3.1/4.0
       version.





<span class="grey">Suzuki                       Informational                     [Page 14]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


     The PVCIdentifer field identifies the PVC identifier uniquely
     assigned between neighboring ST2+ agents. This field is valid only
     when the VCType field is zero.

     The UniqueID and OriginIPAddress fields identify the reverse
     channel of the bi-directional point-to-point SVC that is used by
     this SID.  These fields are valid only when the VCType field is 1.

     The LIJCallIdentifer field identifies the LIJ Call Identifier for
     point-to-multipoint SVC. This field is valid only when the VCType
     field is 5.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.4%20Reason%20Code"></a><a class="selflink" href="#section-3.1.4" name="section-3.1.4">3.1.4</a> Reason Code</span>

   The extension of the Reason Code (<a href="rfc1819.html#section-10.5.3">RFC 1819, Section 10.5.3</a>) to the
   ST2+ over ATM protocol is shown below.

     57 CantChange   Partial changes not supported.
     58 NoRecover    Stream recovery not supported.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2%20Restricted%20Functions%20of%20RFC%201819%20ST2%2B"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a> Restricted Functions of <a href="rfc1819.html">RFC 1819</a> ST2+</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.1%20FlowSpec%20changes"></a><a class="selflink" href="#section-3.2.1" name="section-3.2.1">3.2.1</a> FlowSpec changes</span>

   In the following case, the ST2+ over ATM protocol supports stream
   FlowSpec changes by using the CHANGE message.

   o The I-bit is set to 1 and the G-bit is set to 1.

   In the following case, the CHANGE fails and a REFUSE message, with
   the E and N-bits set to 1 and the ReasonCode set to CantChange, is
   propagated upstream.

   o The I and/or G-bits are set to zero.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3%20Unsupported%20Functions%20of%20RFC%201819%20ST2%2B"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a> Unsupported Functions of <a href="rfc1819.html">RFC 1819</a> ST2+</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.1%20ST2%2B%20FlowSpec"></a><a class="selflink" href="#section-3.3.1" name="section-3.3.1">3.3.1</a> ST2+ FlowSpec</span>

   The ST2+ over ATM protocol does not support the ST2+ FlowSpec (<a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a>, <a href="#section-9.2">Section 9.2</a>).  The ST2+ FlowSpec specifies useful services, but
   requires the datalink layer to support heterogeneous QoS to
   receivers.  The current ATM standard does not support heterogeneous
   QoS to receivers.







<span class="grey">Suzuki                       Informational                     [Page 15]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.2%20Stream%20preemption"></a><a class="selflink" href="#section-3.3.2" name="section-3.3.2">3.3.2</a> Stream preemption</span>

   The ST2+ over ATM protocol does not support stream preemption (<a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a>, <a href="#section-6.3">Section 6.3</a>).  This is because the Integrated Services FlowSpec
   does not support the concept of precedence.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.3%20HELLO%20message"></a><a class="selflink" href="#section-3.3.3" name="section-3.3.3">3.3.3</a> HELLO message</span>

   Implementations may not support the HELLO message (<a href="rfc1819.html#section-10.4.7">RFC 1819, Section </a>
   <a href="#section-10.4.7">10.4.7</a>) and thus ST2+ agent failure detection using the HELLO message
   (<a href="rfc1819.html#section-6.1.2">RFC 1819, Section 6.1.2</a>). This is because ATM has an adequate
   failure detection mechanism, and the HELLO message is not sufficient
   for detecting link failure in the ST2+ over ATM protocol, because the
   ST2+ data and the ST2+ SCMP are forwarded through another VC.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.4%20Stream%20recovery"></a><a class="selflink" href="#section-3.3.4" name="section-3.3.4">3.3.4</a> Stream recovery</span>

   Implementors must select the NoRecover option of the CONNECT message
   (<a href="rfc1819.html#section-4.4.1">RFC 1819, Section 4.4.1</a>) with the S-bit set to 1.  This is because
   the descriptions of the stream recovery process in <a href="rfc1819.html">RFC 1819</a> (Sections
   5.3.2, 6.2, and 6.2.1) are unclear and incomplete. It is thus
   possible that if a link failure occurs and several ST2+ agents detect
   it simultaneously, the recovery process may encounter problems.

   The ST2+ over ATM protocol does not support stream recovery. If
   recovery is needed, the application should support it. A CONNECT
   message in which the NoRecover option is not selected will fail; a
   REFUSE message in which the N-bit is set to 1 and the ReaseonCode is
   set to NoRecover is then propagated upstream.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.5%20Subnet%20Resources%20Sharing"></a><a class="selflink" href="#section-3.3.5" name="section-3.3.5">3.3.5</a> Subnet Resources Sharing</span>

   The ST2+ over ATM protocol does not support subnet resources sharing
   (<a href="rfc1819.html#section-7.1.4">RFC 1819, Section 7.1.4</a>).  This is because ATM does not support the
   concept of the MAC layer.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.6%20IP%20encapsulation%20of%20ST"></a><a class="selflink" href="#section-3.3.6" name="section-3.3.6">3.3.6</a> IP encapsulation of ST</span>

   The ST2+ over ATM protocol does not support IP encapsulation of ST
   (<a href="rfc1819.html#section-8.7">RFC 1819, Section 8.7</a>), because there is no need to implement IP
   encapsulation in this protocol.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.3.7%20IP%20Multicasting"></a><a class="selflink" href="#section-3.3.7" name="section-3.3.7">3.3.7</a> IP Multicasting</span>

   The ST2+ over ATM protocol does not support IP multicasting (<a href="rfc1819.html">RFC</a>
   <a href="rfc1819.html">1819</a>, <a href="#section-8.8">Section 8.8</a>), because this protocol does not support IP
   encapsulation of ST.




<span class="grey">Suzuki                       Informational                     [Page 16]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4%20Modified%20Functions%20of%20RFC%201819%20ST2%2B"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a> Modified Functions of <a href="rfc1819.html">RFC 1819</a> ST2+</span>

   The ST2+ receiver-oriented stream creation procedure has some fatal
   problems: the value of the LnkReferecnce field in the CONNECT message
   that is a response to a JOIN message is not valid, ST2+ agent cannot
   update the LnkReference field in the JOIN-REJECT message, and ST2+
   agent cannot deliver the JOIN-REJECT message to the target because
   the JOIN-REJECT message does not contain a TargetList field.  To
   solve these problems, the ST2+ over ATM protocol modifies the ST2+
   protocol processing rules.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.4.1%20Modifications%20of%20Message%20Processing%20Rules"></a><a class="selflink" href="#section-3.4.1" name="section-3.4.1">3.4.1</a> Modifications of Message Processing Rules</span>

   Modifications of the CONNECT, JOIN, and JOIN-REJECT message
   processing rules in the ST2+ over ATM protocol are described in the
   following.

   o The target that creates a JOIN message assigns the same value as in
     the Reference field to the LnkReference field.

   o The agent that creates a CONNECT message as a response to a JOIN
     message assigns the same value as in the LnkReference field in the
     JOIN message to the LnkReference field.  In other cases, the value
     of the LnkReference field in a CONNECT message is zero.

   o The agent that creates a JOIN-REJECT message assigns the same value
     as in the LnkReference field in the JOIN message to the
     LnkReference field.

   o An intermediate agent must not modify the value of the LnkReference
     field in the CONNECT, JOIN, or JOIN-REJECT message.  Note that this
     rule differs from the LnkReference field processing rule in the
     ACCEPT and REFUSE messages.


















<span class="grey">Suzuki                       Informational                     [Page 17]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.4.2%20Modified%20JOIN-REJECT%20Control%20Message"></a><a class="selflink" href="#section-3.4.2" name="section-3.4.2">3.4.2</a> Modified JOIN-REJECT Control Message</span>

   The modified JOIN-REJECT control message in the ST2+ over ATM
   protocol is shown in Fig. 3.3

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  OpCode = 9   |       0       |           TotalBytes          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Reference           |          LnkReference         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         SenderIPAddress                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Checksum            |           ReasonCode          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       GeneratorIPAddress                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   :                          TargetList                           :
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                 Fig. 3.3: JOIN-REJECT Control Message.

   The TargetList is assigned the same TargetList in the JOIN message as
   the one that corresponds to the JOIN-REJECT message.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20Protocol%20Specification%20of%20the%20User%20Plane"></a><a class="selflink" href="#section-4" name="section-4">4</a>. Protocol Specification of the User Plane</span>

   This section specifies the AAL5 PDU encapusulation for the ST2+ Data
   PDU.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1%20Service%20Primitives%20Provided%20by%20User%20Plane"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a> Service Primitives Provided by User Plane</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.1%20Overview%20of%20interactions"></a><a class="selflink" href="#section-4.1.1" name="section-4.1.1">4.1.1</a> Overview of interactions</span>

   The ST2+ data layer entity on the user plane of the ST2+ over ATM
   protocol provides the following services to the upper layer.

   o st2p_unitdata.req

   o st2p_unitdata.ind

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/4.1.1.1%20St2p_unitdata.req"></a><a class="selflink" href="#section-4.1.1.1" name="section-4.1.1.1">4.1.1.1</a> St2p_unitdata.req</span>

   The st2p_unitdata.req primitive sends a request for an ST2+ Data PDU
   transfer to the ST2+ data layer entity.  The semantics of the
   primitive are as follows:




<span class="grey">Suzuki                       Informational                     [Page 18]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   st2p_unitdata.req (
           pri,
           sid,
           data
           )

   The pri parameter specifies priority of ST2+ Data PDU.  The sid
   parameter specifies SID of ST2+ Data PDU.  The data parameter
   specifies ST2+ data to be transferred.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/4.1.1.2%20St2p_unitdata.ind"></a><a class="selflink" href="#section-4.1.1.2" name="section-4.1.1.2">4.1.1.2</a> St2p_unitdata.ind</span>

   The st2p_unitdata.ind primitive indicates an ST2+ Data PDU delivery
   from the ST2+ data layer entity.  The semantics of the primitive are
   as follows:

   st2p_unitdata.ind (
           pri [optional],
           sid,
           data,
           status [optional]
           )

   The pri parameter indicates priority of ST2+ Data PDU, if AAL5 is
   used for encapsulating the ST2+ Data PDU.  The sid parameter
   indicates SID of ST2+ Data PDU.  The data parameter indicates
   delivered ST2+ data.  The status is an optional parameter that
   indicates whether the delivered ST2+ data is corrupt or not.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2%20Service%20Primitives%20Provided%20by%20AAL5"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a> Service Primitives Provided by AAL5</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.1%20Requirements%20for%20AAL5"></a><a class="selflink" href="#section-4.2.1" name="section-4.2.1">4.2.1</a> Requirements for AAL5</span>

   The requirements for the AAL5 layer on the ST2+ over ATM user plane
   are as follows:

   o The SSCS must be null.

   o Implementations must use message-mode service.

     Note: Selection of the corrupted SDU delivery option on the
     receiver side depends on the implementation, so the receiver may or
     may not be able to select this option.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.2%20Overview%20of%20Interactions"></a><a class="selflink" href="#section-4.2.2" name="section-4.2.2">4.2.2</a> Overview of Interactions</span>

   The AAL5 layer entity on the ST2+ over ATM user plane provides the
   following services to the ST2+ data layer.



<span class="grey">Suzuki                       Informational                     [Page 19]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o AAL5_UNITDATA.req

   o AAL5_UNITDATA.ind

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/4.2.2.1%20AAL5_UNITDATA.req"></a><a class="selflink" href="#section-4.2.2.1" name="section-4.2.2.1">4.2.2.1</a> AAL5_UNITDATA.req</span>

   The AAL5_UNITDATA.req primitive sends a request for an AAL5 data
   (AAL5 CPCS_SDU) transfer from the ST2+ data layer entity to the AAL5
   layer entity.  The semantics of the primitive are as follows:

   AAL5_UNITDATA.req (
           DATA,
           CPCS_LP,
           CPCS_UU
           )

   The DATA parameter specifies the AAL5 data to be transferred.  The
   CPCS_LP parameter specifies the value of the CLP field in the ATM
   cell.  The CPCS_UU parameter specifies the user-to-user data to be
   transferred.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/4.2.2.2%20AAL5_UNITDATA.ind"></a><a class="selflink" href="#section-4.2.2.2" name="section-4.2.2.2">4.2.2.2</a> AAL5_UNITDATA.ind</span>

   The AAL5_UNITDATA.ind indicates an AAL5 data (AAL5 CPCS_SDU) delivery
   from the AAL5 layer entity to the ST2+ data layer entity.  The
   semantics of the primitive are as follows:

   AAL5_UNITDATA.ind (
           DATA,
           CPCS_LP,
           CPCS_UU,
           STATUS [optional]
           )

   The DATA parameter indicates the delivered AAL5 data.  The CPCS_LP
   parameter indicates the value of the CLP field in the ATM cell.  The
   CPCS_UU parameter indicates the delivered user-to-user data.  The
   STATUS parameter indicates whether the delivered AAL5 data is corrupt
   or not.  The STATUS parameter is an optional parameter, and valid
   only when the corrupted SDU delivery option is selected.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3%20AAL5%20Encapsulation%20for%20ST2%2B%20Data%20PDU"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a> AAL5 Encapsulation for ST2+ Data PDU</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.3.1%20Mapping%20from%20st2_unitdata.req%20to%20AAL5_UNITDATA.req"></a><a class="selflink" href="#section-4.3.1" name="section-4.3.1">4.3.1</a> Mapping from st2_unitdata.req to AAL5_UNITDATA.req</span>

   The ST2+ Data PDU is directly assigned to the DATA parameter in
   AAL5_UNITDATA.req.  That is, as shown in Fig. 4.1, the ST2+ Data PDU
   is mapped to the payload of AAL5 CPCS_PDU.



<span class="grey">Suzuki                       Informational                     [Page 20]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   +-------+---------------------------+
   |  ST   |        ST2+ data          |               ST2+
   | header|                           |               Data PDU
   +-------+---------------------------+
   :                                   :
   :                                   :
   +---------------------------------------+--------+
   |             CPCS_PDU              |PAD|CPCS_PDU|  AAL5
   |             payload               |   |trailer |  CPCS_PDU
   +---------------------------------------+--------+

         Fig. 4.1: Mapping of ST2+ data to AAL5 CPCS_PDU payload.

   The value of CPCS_LP in AAL5_UNITDATA.req depends on the
   implementation: 1 (low priority) or zero (high priority) may be
   assigned permanently, or they may be assigned depending on the value
   of pri in st2_unitdata.req.

   The value of the CPCS_UU indication field in AAL5_UNITDATA.req is set
   to zero.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.3.2%20Mapping%20from%20AAL5_UNITDATA.ind%20to%20st2p_unitdata.ind"></a><a class="selflink" href="#section-4.3.2" name="section-4.3.2">4.3.2</a> Mapping from AAL5_UNITDATA.ind to st2p_unitdata.ind</span>

   The DATA parameter in AL5_UNITDATA.ind is directly assigned to the
   ST2+ Data PDU.  That is, the payload in AAL5 CPCS_PDU is mapped to
   the ST2+ Data PDU.

   If the value of STATUS in AAL5_UNITDATA.ind is valid, it is assigned
   to the status in st2p_unitdata.ind.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.3.3%20Value%20of%20MTU"></a><a class="selflink" href="#section-4.3.3" name="section-4.3.3">4.3.3</a> Value of MTU</span>

   The value of MTU is Maximum CPCS_SDU size.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20Protocol%20Specification%20of%20the%20Management%20Plane"></a><a class="selflink" href="#section-5" name="section-5">5</a>. Protocol Specification of the Management Plane</span>

   The management plane specifies the Null FlowSpec, the Controlled-Load
   Service FlowSpec, and the Guaranteed Service FlowSpec mapping rules
   for UNI 3.1 traffic management.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1%20Mapping%20of%20the%20Null%20FlowSpec"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a> Mapping of the Null FlowSpec</span>

   The Null FlowSpec is mapped to the UBR (VBR with the Best Effort
   Indicator).

   The value of the PCR (CLP=0+1) is shown in <a href="#section-6.7.2">section 6.7.2</a>.





<span class="grey">Suzuki                       Informational                     [Page 21]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2%20Mapping%20of%20the%20Controlled-Load%20Service%20FlowSpec"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a> Mapping of the Controlled-Load Service FlowSpec</span>

   The Controlled-Load FlowSpec is mapped to the VBR whose PCR
   (CLP=0+1), SCR (CLP=0+1), and MBS (CLP=0+1) are specified.

   The value of the PCR (CLP=0+1) is shown in <a href="#section-6.7.2">section 6.7.2</a>.

   Let scr be the calculated value of the SCR (CLP=0+1).  Based on the
   value of the [r] field in the Controlled-Load FlowSpec, it is given
   by:
                           scr = ([r] / 48) * S,

   where S is the coefficient of segmentation, and in an implementation,
   it must be configurable to any value between 1.0 and 56.0.  The
   recommended default value is 1.2.  The value of the SCR (CLP=0+1) is
   a minimum integer equal to or more than the calculated value of the
   scr.

   Let mbs be the calculated value of the MBS (CLP=0+1).  Based on the
   value of the [b] field in the Controlled-Load FlowSpec, it is given
   by:
                           mbs = ([b] / 48) * S.

   The value of the MBS (CLP=0+1) is a minimum integer equal to or more
   than the calculated value of the mbs.

   The values of the [p] and [m] fields in the Controlled-Load FlowSpec
   are ignored.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3%20Mapping%20of%20the%20Guaranteed%20Service%20FlowSpec"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a> Mapping of the Guaranteed Service FlowSpec</span>

   Note: The UNI 3.1 version of the ST2+ over ATM protocol does not
   support Guaranteed Services. It will be supported by the UNI 3.1/4.0
   version.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20Protocol%20Specification%20of%20the%20Control%20Plane"></a><a class="selflink" href="#section-6" name="section-6">6</a>. Protocol Specification of the Control Plane</span>

   This section specifies the rules for encapsulating the ST2+ SCMP PDU
   into the AAL5 PDU, the relationship between ST2+ SCMP and PVC
   management for ST2+ data, and the protocol interaction between ST2+
   SCMP and UNI 3.1 signaling.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1%20AAL5%20Encapsulation%20for%20ST2%2B%20SCMP%20PDU"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a> AAL5 Encapsulation for ST2+ SCMP PDU</span>

   This subsection describes AAL5 PDU encapsulation for the ST2+ SCMP
   PDU.  ST2+ Data PDU compatible encapsulation, AAL5 encapsulation
   based on <a href="rfc1483.html">RFC 1483</a>, and on the <a href="rfc1483.html">RFC 1483</a> extension are specified.
   Selection of which one to use depends on the implementation.



<span class="grey">Suzuki                       Informational                     [Page 22]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   The ST2+ over ATM protocol does not cover a VC (SVC/PVC) that
   transfers ST2+ SCMP. VCs for IPv4 transfer may be used for ST2+ SCMP
   transfer, and implementations may provide particular VCs for ST2+
   SCMP transfer. Selection of these VCs depends on the implementation.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.1%20ST2%2B%20Data%20PDU%20compatible%20encapsulation"></a><a class="selflink" href="#section-6.1.1" name="section-6.1.1">6.1.1</a> ST2+ Data PDU compatible encapsulation</span>

   The ST2+ Data PDU compatible encapsulation is shown in Fig. 6.1: the
   ST2+ SCMP PDU is mapped to the payload of AAL5 CPCS_PDU.
   Implementors should note that this encapsulation is not applicable
   when the ST2+ SCMP PDU is multiplexed with other protocols.

   +-------+---------------------------+
   |  ST   |        ST2+ SCMP          |               ST2+
   | header|                           |               SCMP PDU
   +-------+---------------------------+
   :                                   :
   :                                   :
   +---------------------------------------+--------+
   |             CPCS_PDU              |PAD|CPCS_PDU|  AAL5
   |             payload               |   |trailer |  CPCS_PDU
   +---------------------------------------+--------+

             Fig. 6.1: ST2+ Data PDU conpatible encapsulation.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.2%20RFC%201483%20base%20encapsulation"></a><a class="selflink" href="#section-6.1.2" name="section-6.1.2">6.1.2</a> <a href="rfc1483.html">RFC 1483</a> base encapsulation</span>

   The <a href="rfc1483.html">RFC 1483</a> base encapsulation is shown in Fig. 6.2: the ST2+ SCMP
   PDU with the <a href="rfc1483.html">RFC 1483</a> LLC encapsulation for routed protocol format is
   mapped to the payload in AAL5 CPCS_PDU.

               +------+----------------+
               |  ST  |   ST2+ SCMP    |               ST2+
               |header|                |               SCMP PDU
               +------+----------------+
               :                       :
   +---+---+---+-----------------------+
   |LLC|OUI|PID|     Information       |               IEEE 802 SNAP
   |   |   |   |                       |               ISO 8802-2 LLC
   +---+---+---+-----------------------+
   :                                   :
   +---------------------------------------+--------+
   |             CPCS_PDU              |PAD|CPCS_PDU|  AAL5
   |             payload               |   |trailer |  CPCS_PDU
   +---------------------------------------+--------+

                  Fig. 6.2: <a href="rfc1483.html">RFC 1483</a> base encapsulation.




<span class="grey">Suzuki                       Informational                     [Page 23]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   The value of the LLC is 0xAA-AA-03, the value of the OUI is 0x00-00-
   00, and the value of the PID is 0x08-00.  The classification of the
   IPv4 and the ST2+ SCMP is determined by the IP version number, which
   is located in the first four bits of the IPv4 or ST headers.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.3%20RFC%201483%20extension%20base%20encapsulation"></a><a class="selflink" href="#section-6.1.3" name="section-6.1.3">6.1.3</a> <a href="rfc1483.html">RFC 1483</a> extension base encapsulation</span>

   The <a href="rfc1483.html">RFC 1483</a> extension base encapsulation is the same as for <a href="rfc1483.html">RFC 1483</a>
   base encapsulation, except that the value of the OUI is 0x00-00-5E
   (IANA) and the value of the PID is 0xXX-XX (TBD).

   The <a href="rfc1483.html">RFC 1483</a> base encapsulation for the SCMP is ideal, but requires
   modifying the IPv4 processing in the driver software of the WS or PC.
   Therefore, the <a href="rfc1483.html">RFC 1483</a> base encapsulation may be difficult to
   implement.  This encapsulation is designed to solve this problem.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2%20Service%20Primitives%20Provided%20by%20Control%20Plane"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a> Service Primitives Provided by Control Plane</span>

   <a href="rfc1819.html">RFC 1819</a> ST2+ does not specify SCMP state machines.  And the ST2+
   over ATM protocol does not correspond to SCMP state machines.
   Therefore, the control plane specification assumes the following.

   o The ST2+ agent has ST2+ SCMP layer entities that correspond to the
     next hops and the previous hop in the stream.

   o The SCMP layer entity terminates ACK, ERROR, and timeout processing
     and provides reliable SCMP delivery.

   o The origin consists of an upper layer entity, ST2+ SCMP layer
     entities for next hops, and a routing machine that delivers SCMP
     messages between these entities.

   o The intermediate agent consists of ST2+ SCMP layer entities for a
     previous hop and for next hops and a routing machine that delivers
     SCMP messages between these entities.

   o The target consists of an upper layer entity, an ST2+ SCMP layer
     entity for a previous hop, and a routing machine that delivers SCMP
     messages between these entities.

   At least, the ST2+ SCMP layer entity for the next hop provides the
   following services to the routing machine.

   o connect.req
     This primitive sends a request for a CONNECT message transfer to
     the ST2+ SCMP layer entity.





<span class="grey">Suzuki                       Informational                     [Page 24]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o change.req
     This primitive sends a request for a CHANGE message transfer to the
     ST2+ SCMP layer entity.

   o accept.ind
     This primitive indicates an ACCEPT message delivery from the ST2+
     SCMP layer entity.

   o disconnect.req
     This primitive sends a request for a DISCONNECT message transfer to
     the ST2+ SCMP layer entity.

   o refuse.ind
     This primitive indicates a REFUSE message delivery from the ST2+
     SCMP layer entity, or indicates detection of an abnormal status
     such as an illegal message or timeout in the ST2+ SCMP layer
     entity.

   At least, the ST2+ SCMP layer entity for the previous hop provides
   the following services to the routing machine.

   o connect.ind
     This primitive indicates a CONNECT message delivery from the ST2+
     SCMP layer entity.

   o change.ind
     This primitive indicates a CHANGE message delivery from the ST2+
     SCMP layer entity.

   o accept.req
     This primitive sends a request for an ACCEPT message transfer to
     the ST2+ SCMP layer entity.

   o disconnect.ind
     This primitive indicates a DISCONNECT message delivery from the
     ST2+ SCMP layer entity, or indicates detection of an abnormal
     status such as an illegal message or timeout in the ST2+ SCMP layer
     entity.

   o refuse.req
     This primitive sends a request for a REFUSE message transfer to the
     ST2+ SCMP layer entity.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3%20Service%20Primitives%20Provided%20by%20UNI%203.1%20Signaling"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a> Service Primitives Provided by UNI 3.1 Signaling</span>

   The UNI 3.1 signaling layer entity on the ST2+ over ATM control plane
   provides the following services to the ST2+ SCMP layer entity.  The
   ST2+ over ATM protocol does not specify the UNI 3.1 signaling state



<span class="grey">Suzuki                       Informational                     [Page 25]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   machines.  These are defined in [<a href="#ref-10" title='"ATM User-Network Interface Specification Version 3.1"'>10</a>, <a href="#ref-12" title='"Broadband Integrated Services Digital Network (B-ISDN)- Digital Subscriber Signaling System No. 2 (DSS 2)-User-Network Interface (UNI) Layer 3 Specification for Basic Call/Connection Control"'>12</a>, <a href="#ref-13" title='"Broadband Integrated Services Digital Network (B-ISDN)- Digital Subscriber Signaling System No. 2 (DSS 2)-User-Network Interface Layer 3 Specification for Point-to-Multipoint Call/Connection Control"'>13</a>].

   o setup.req
     This primitive sends a request for a SETUP message transfer from
     the ST2+ SCMP layer entity to the UNI 3.1 signaling layer entity.
     The ST2+ SCMP layer entity that sent this primitive receives an
     acknowledgment.  If the setup succeeds the acknowledgment is a
     setup.conf primitive and if the setup fails it is a release.ind or
     release.conf primitive.

   o setup.conf
     This primitive indicates a CONNECT message delivery from the UNI
     3.1 signaling layer entity to the ST2+ SCMP layer entity.

   o setup.ind
     This primitive indicates a SETUP message delivery from the UNI 3.1
     signaling layer entity to the ST2+ SCMP layer entity.  The ST2+
     SCMP layer entity that received this primitive sends an
     acknowledgment.  If the setup is accepted the acknowledgment is a
     setup.resp primitive and if the setup is rejected it is a
     release.resp primitive if the state of the UNI 3.1 signaling layer
     entity is U6; otherwise it is a release.req primitive.

   o setup.resp
     This primitive sends a request for a CONNECT message transfer from
     the ST2+ SCMP layer entity to the UNI 3.1 signaling layer entity.
     The ST2+ SCMP layer entity that sent this primitive receives an
     acknowledgment.  If the setup is completed the acknowledgment is a
     setup-complete.ind primitive and if the setup fails it is a
     release.ind or release.conf primitive.

   o setup-complete.ind
     This primitive indicates a CONNECT ACKNOWLEDGE message delivery
     from the UNI 3.1 signaling layer entity to the ST2+ SCMP layer
     entity.

   o release.req
     This primitive sends a request for a RELEASE message transfer from
     the ST2+ SCMP layer entity to the UNI 3.1 signaling layer entity.
     The ST2+ SCMP layer entity that sent this primitive receives an
     acknowledgment that is a release.conf primitive.

   o release.conf
     This primitive indicates a RELEASE COMPLETE message delivery, or
     indicates a RELEASE message delivery when the status of the UNI 3.1
     signaling layer entity is U11, or indicates detection of an
     abnormal status such as an illegal message or timeout in the UNI
     3.1 signaling layer entity, from the UNI 3.1 signaling layer entity



<span class="grey">Suzuki                       Informational                     [Page 26]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


     to the ST2+ SCMP layer entity.

   o release.ind
     This primitive indicates a RELEASE message delivery from the UNI
     3.1 signaling layer entity to the ST2+ SCMP layer entity when the
     status of the UNI 3.1 signaling layer entity is other than U11.
     The ST2+ SCMP layer entity that received this primitive sends an
     acknowledgment that is a release.resp primitive.  And this
     primitive also indicates detection of an abnormal status such as an
     illegal message or timeout in the UNI 3.1 signaling layer entity
     and then a REFUSE message is transferred.  In this case, the ST2+
     SCMP layer entity that received this primitive receives a
     release.conf primitive in succession.

   o release.resp
     This primitive sends a request for a RELEASE COMPLETE message
     transfer from the ST2+ SCMP layer entity to the UNI 3.1 signaling
     layer entity.

   o add-party.req
     This primitive sends a request for an ADD PARTY message transfer
     from the ST2+ SCMP layer entity to the UNI 3.1 signaling layer
     entity.  The ST2+ SCMP layer entity that sent this primitive
     receives an acknowledgment.  If the setup is succeeds the
     acknowledgment is an add-party.conf primitive and if the setup
     fails it is a drop-party.conf primitive.

   o add-party.conf
     This primitive indicates an ADD PARTY ACKNOWLEDGE message delivery
     from the UNI 3.1 signaling layer entity to the ST2+ SCMP layer
     entity.

   o drop-party.req
     This primitive sends a request for a DROP PARTY message transfer
     from the ST2+ SCMP layer entity to the UNI 3.1 signaling layer
     entity.  The ST2+ SCMP layer entity that sent this primitive
     receives an acknowledgment that is a drop-party.conf primitive.

   o drop-party.conf
     This primitive indicates an ADD PARTY REJECT message delivery, or
     indicates a DROP PARTY ACKNOWLEDGE message delivery, or indicates
     detection of an abnormal status such as an illegal message or
     timeout in the UNI 3.1 signaling layer entity, from the UNI 3.1
     signaling layer entity to the ST2+ SCMP layer entity.

   o drop-party.ind
     This primitive indicates a DROP PARTY message delivery from the UNI
     3.1 signaling layer entity to the ST2+ SCMP layer entity.  The ST2+



<span class="grey">Suzuki                       Informational                     [Page 27]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


     SCMP layer entity that sent this primitive receives an
     acknowledgment that is a drop-party.resp primitive.

   o drop-party.resp
     This primitive sends a request for a DROP PARTY ACKNOWLEDGE message
     transfer from the ST2+ SCMP layer entity to the UNI 3.1 signaling
     layer entity.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4%20VC%20Style%20Selection%20Criteria"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a> VC Style Selection Criteria</span>

   The ST2+ over ATM protocol supports PVC, the reverse channel of bi-
   directional SVC, point-to-point SVC, and point-to-multipoint SVC for
   ST2+ Data PDU transfer.  And SVC supports both upstream and
   downstream call initiation styles.

   A 32-bit PVC identifier that is unique between neighboring ST2+
   agents is assigned to each PVC.  And the reverse channel of the bi-
   directional point-to-point SVC used by the existing stream is
   identified by the SID of the stream that occupies the forward
   channel.

   When the ST2+ agent sets up a stream or changes QoS, the ST2+ agent
   must select one VC style from these SVC and PVC styles as a hop that
   is part of the stream.  In the ST2+ over ATM protocol, VC style
   selection criteria depend on the implementation.

   This subsection describes examples of VC style selection criteria for
   the ST2+ over ATM protocol as a reference for implementors.  Note
   that the following descriptions in this subsection are not part of
   the ST2+ over ATM protocol specification.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.4.1%20Examples%20of%20PVC%20selection%20criteria"></a><a class="selflink" href="#section-6.4.1" name="section-6.4.1">6.4.1</a> Examples of PVC selection criteria</span>

   At least, the ST2+ agent may have to manage the following information
   for each PVC that can be used by ST2+ Data PDU transfer.

   o PVC identifier

   o ATM interface identifier in the ST2+ agent

   o VPI/VCI

   o State of VC: e.g. enabled or disabled, occupied or vacant

   o QoS of VC

   o Nexthop IP address




<span class="grey">Suzuki                       Informational                     [Page 28]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   When a PVC is selected for a hop of a stream, at least confirmations,
   that is the state of the PVC is vacant and the next hop IP address
   and QoS are consistent with the requirements from the stream, may be
   needed.

   It is also feasible to introduce access lists to each PVC and to
   consider the access lists in the selection process.  Examples of an
   access list are shown in the following.

   o Permit or deny use by a stream whose the previous hop is specified.

   o Permit or deny use by a stream whose the origin is specified.

   o Permit or deny use by a stream whose the SID is specified.

   o Permit or deny use by a stream whose the target is specified.

   o Permit or deny use by a stream whose the target and SAP are
     specified.

   o Any combination of the above.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.4.2%20Examples%20of%20reverse%20channel%20of%20bi-directional%20SVC%20selection"></a><a class="selflink" href="#section-6.4.2" name="section-6.4.2">6.4.2</a> Examples of reverse channel of bi-directional SVC selection</span>
<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/criteria"></a>      criteria</span>

   At least, the ST2+ agent may have to manage the following information
   for each reverse channel of bi-directional SVCs.

   o SID of the stream that occupies the forward channel

   o ATM interface identifier in the ST2+ agent

   o VPI/VCI

   o State of the reverse channel in the VC: e.g. enabled or disabled,
     occupied or vacant

   o QoS of VC

   o Nexthop IP address

   When a reverse channel of the bi-directional point-to-point SVC used
   by the existing stream is selected for a hop of a stream, at least
   confirmations, that is the state of the channel is vacant and the
   next hop IP address and QoS are consistent with the requirements from
   the stream, may be needed.





<span class="grey">Suzuki                       Informational                     [Page 29]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   It is also feasible to introduce selection rules to the ST2+ agent.
   Examples of selection rule are shown in the following.

   o Permit reuse of the reverse channel by a stream whose the origin is
     one of targets in the stream that occupies the forward channel.

   o Permit reuse of the reverse channel by a stream whose one of
     targets is the origin in the stream that occupies the forward
     channel.

   o Permit reuse of the reverse channel by a stream whose the previous
     hop is one of the next hops in the stream that occupies the forward
     channel.

   o Any combination of the avobe.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.4.3%20Examples%20of%20SVC%20selection%20criteria"></a><a class="selflink" href="#section-6.4.3" name="section-6.4.3">6.4.3</a> Examples of SVC selection criteria</span>

   When an SVC is used for a hop of a stream, at first, the ST2+ agent
   must select point-to-point or point-to-multipoint SVC.  Examples of
   this selection rule are shown in the following.

   o If the network supports only point-to-point SVC, select it.

   o If the network supports point-to-multipoint SVC, select it.

   If point-to-point SVC is selected, the ST2+ agent must select
   upstream or downstream call initiation style.  Examples of this
   selection rule are shown in the following.

   o A VC for a stream whose previous hop is specified is initiated from
     upstream or downstream.

   o A VC for a stream whose next hop is specified is initiated from
     upstream or downstream.

   o A VC for a stream whose origin is specified is initiated from
     upstream or downstream.

   o A VC for a stream whose SID is specified is initiated from upstream
     or downstream.

   o A VC for a stream whose target is specified is initiated from
     upstream or downstream.

   o A VC for a stream whose target and SAP are specified is initiated
     from upstream or downstream.




<span class="grey">Suzuki                       Informational                     [Page 30]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o Any combination of the above.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.5%20VC%20Management"></a><a class="selflink" href="#section-6.5" name="section-6.5">6.5</a> VC Management</span>

   This subsection specifies VC management in the ST2+ over ATM
   protocol.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.5.1%20Outgoing%20call%20processing%20of%20SVC"></a><a class="selflink" href="#section-6.5.1" name="section-6.5.1">6.5.1</a> Outgoing call processing of SVC</span>

   When outgoing call processing of the first leaf of a point-to-
   multipoint SVC or a point-to-point SVC is required inside the ST2+
   SCMP layer entity, a setup.req primitive is sent to the UNI 3.1
   signaling layer entity.  If the UNI 3.1 signaling layer entity
   responds with a setup.conf primitive, the call processing is assumed
   to have succeeded.  If the UNI 3.1 signaling layer entity responds
   with anything other than this primitive, the processing rule is the
   same as the SVC disconnect processing that is shown in <a href="#section-6.5.4">section 6.5.4</a>
   and the outgoing call processing is assumed to have failed.

   When outgoing call processing of a later leaf of a point-to-
   multipoint SVC is required, an add-party.req primitive is sent to the
   UNI 3.1 signaling layer entity.  If the UNI 3.1 signaling layer
   entity responds with an add-party.conf primitive, the call processing
   is assumed to have succeeded.  If the UNI 3.1 signaling layer entity
   responds with anything other than this primitive, the processing rule
   is the same as the SVC disconnect processing that is shown in <a href="#section-6.5.4">section</a>
   <a href="#section-6.5.4">6.5.4</a> and the outgoing call processing is assumed to have failed.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.5.2%20Incoming%20call%20processing%20of%20SVC"></a><a class="selflink" href="#section-6.5.2" name="section-6.5.2">6.5.2</a> Incoming call processing of SVC</span>

   When an incoming call processing of SVC is required inside the ST2+
   SCMP layer entity, it sets a watchdog timer.  The time interval of
   the timer depends on the implementation.

   The ST2+ SCMP layer entity waits for a setup.ind primitive indication
   from the UNI 3.1 signaling layer entity.  When this primitive is
   indicated and the parameters in it are acceptable, the ST2+ SCMP
   layer entity responds with a setup.resp primitive.  If the parameters
   are not acceptable, the ST2+ SCMP layer entity stops the timer, and
   if the state of the UNI 3.1 signaling layer entity is U6, the entity
   responds with a release.resp primitive, and if the state is other
   than this, the entity responds with a release.req primitive, and then
   waits for a release.conf primitive response and the incoming call
   processing is assumed to have failed.

   If the ST2+ SCMP layer entity responds with a setup.resp primitive,
   then the entity waits for the next primitive indication, and when the
   next primitive is indicated, the ST2+ SCMP layer entity stops the



<span class="grey">Suzuki                       Informational                     [Page 31]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-32" id="page-32" name="page-32"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   timer.  If a setup-complete.ind primitive is indicated, the incoming
   call processing is assumed to have succeeded.  If the UNI 3.1
   signaling layer entity responds with anything other than this
   primitive or if the timer expires, the processing rule is the same as
   the SVC disconnect processing that is shown in <a href="#section-6.5.4">section 6.5.4</a> and the
   incoming call processing is assumed to have failed.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.5.3%20VC%20release%20processing%20inside%20ST2%2B%20SCMP%20layer"></a><a class="selflink" href="#section-6.5.3" name="section-6.5.3">6.5.3</a> VC release processing inside ST2+ SCMP layer</span>

   When a VC release is required inside an ST2+ SCMP layer entity, if
   the previous hop or next hop is connected with a PVC, the PVC state
   is set to vacant and the VC release processing is assumed to be
   completed.

   If the previous hop or next hop is connected with a point-to-point
   SVC whose reverse channel is occupied, the state of the channel in
   the VC is set to vacant, the SID information of the VC is updated,
   and the VC release processing is assumed to be completed.

   If the previous hop or next hop is connected with a point-to-point
   SVC whose reverse channel is vacant, if the previous hop is connected
   with a point-to-multipoint SVC, or if the next hop is connected with
   a point-to-multipoint SVC and the number of leaves is 1, then the
   ST2+ SCMP layer entity sends a release.req primitive to the UNI 3.1
   signaling layer entity, then waits for a release.conf primitive
   indication; when one is indicated, the VC release processing is
   assumed to be completed.

   If the next hop is connected with a point-to-multipoint SVC and the
   number of leaves is other than 1, the ST2+ SCMP layer entity sends a
   drop-party.req primitive to the UNI 3.1 signaling layer entity, then
   waits for a drop-party.conf primitive indication; when one is
   indicated, the VC release processing is assumed to be completed.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.5.4%20VC%20disconnect%20processing%20from%20UNI%203.1%20signaling%20layer"></a><a class="selflink" href="#section-6.5.4" name="section-6.5.4">6.5.4</a> VC disconnect processing from UNI 3.1 signaling layer</span>

   If an ST2+ SCMP layer entity corresponds to a UNI 3.1 signaling layer
   entity, and if the ST2+ SCMP layer entity is sent a release.ind
   primitive from the UNI 3.1 signaling layer entity, whose cause is a
   delivery of a RELEASE message, the ST2+ SCMP layer entity responds
   with a release.resp primitive, and then the VC disconnect processing
   is assumed to be completed.  If the ST2+ SCMP layer entity is sent a
   release.ind primitive, whose cause is other than the previous case,
   the ST2+ SCMP layer entity waits for a release.conf primitive
   response.  When a release.conf primitive is indicated, the VC
   disconnect processing is assumed to be completed.





<span class="grey">Suzuki                       Informational                     [Page 32]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-33" id="page-33" name="page-33"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   Note that if next hops from ST2+ SCMP layer entities are connected
   with a point-to-multipoint SVC, the ST2+ SCMP layer entities to next
   hops correspond to a UNI 3.1 signaling layer entity.  In this case,
   if the ST2+ SCMP layer entities are sent release.ind primitives from
   the UNI 3.1 signaling layer entity, whose cause is the delivery of a
   RELEASE message, one of the ST2+ SCMP layer entities responds with a
   release.resp primitive, and then the VC disconnect processing in the
   entities that are sent release.ind primitives are assumed to be
   completed.  If the ST2+ SCMP layer entities are sent release.ind
   primitives, whose cause is other than the previous case, the ST2+
   SCMP layer entities wait for release.conf primitives responses.  When
   release.conf primitives are indicated, the VC disconnect processing
   in the entities that are indicated release.ind primitives are assumed
   to be completed.

   If the ST2+ SCMP layer entity is sent a drop-party.ind primitive from
   the UNI 3.1 signaling layer entity, the ST2+ SCMP layer entity
   responds with a drop-party.resp primitive, and then the VC disconnect
   processing is assumed to be completed.  If the ST2+ SCMP layer entity
   is sent a drop-party.conf primitive, the VC disconnect processing is
   assumed to be completed.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.6%20Additional%20SCMP%20Processing%20Rules"></a><a class="selflink" href="#section-6.6" name="section-6.6">6.6</a> Additional SCMP Processing Rules</span>

   This subsection specifies the additional SCMP processing rules that
   are defined in <a href="rfc1819.html">RFC 1819</a> ST2+ protocol specification.  The following
   additional rules are applied when the previous hop or next hop is
   connected with an ATM connection in the ST2+ SCMP layer entity.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.1%20Additional%20connect.req%20processing%20rules"></a><a class="selflink" href="#section-6.6.1" name="section-6.6.1">6.6.1</a> Additional connect.req processing rules</span>

   When a connect.req primitive is sent to the ST2+ SCMP layer entity
   for the next hop, the entity confirms whether or not the VC for the
   next hop exists.

   If it does, the entity forwards a CONNECT message that does not
   include a VC-type common SCMP element to the next hop.

   If it does not, the entity selects a VC style.  If the result is a
   PVC or a reverse channel of a bi-directional point-to-point SVC used
   by an existing stream, the VC state is set to occupied.  The entity
   forwards a CONNECT message with a VC-type common SCMP element that
   reflects the result of the selection to the next hop.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.2%20Additional%20connect.ind%20processing%20rules"></a><a class="selflink" href="#section-6.6.2" name="section-6.6.2">6.6.2</a> Additional connect.ind processing rules</span>

   The ST2+ SCMP layer entity for the previous hop confirms whether or
   not the CONNECT message includes a VC-type common SCMP element.



<span class="grey">Suzuki                       Informational                     [Page 33]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-34" id="page-34" name="page-34"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   If a VC-type common SCMP element is not included and the VC for the
   next hop exists, a connect.ind primitive is sent to the routing
   machine.  If the VC for the next hop does not exist, a REFUSE message
   is forwarded to the previous hop.

   If a VC-type common SCMP element is included and a point-to-point
   SVC, whose calling party is the upstream or downstream, or a point-
   to-multipoint SVC is specified, a connect.ind primitive is sent to
   the routing machine.  If a PVC or a reverse channel of a bi-
   directional point-to-point SVC used by an existing stream is
   specified and the specified VC exists, the VC state is set to
   occupied and a connect.ind primitive is sent to the routing machine.
   Otherwise, a REFUSE message is forwarded to the previous hop.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.3%20Additional%20change.req%20processing%20rules"></a><a class="selflink" href="#section-6.6.3" name="section-6.6.3">6.6.3</a> Additional change.req processing rules</span>

   When a change.req primitive is sent to the ST2+ SCMP layer entity for
   the next hop, the entity releases the VC whose process is shown in
   <a href="#section-6.5.3">section 6.5.3</a>.

   Then, the entity selects a VC style.  If the result is a PVC or a
   reverse channel of a bi-directional point-to-point SVC used by an
   existing stream, the VC state is set to occupied.  The entity
   forwards a CHANGE message with a VC-type common SCMP element that
   reflects the result of the selection to the next hop.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.4%20Additional%20change.ind%20processing%20rules"></a><a class="selflink" href="#section-6.6.4" name="section-6.6.4">6.6.4</a> Additional change.ind processing rules</span>

   The ST2+ SCMP layer entity for the previous hop confirms whether the
   CHANGE message includes a VC-type common SCMP element.  If a VC-type
   common SCMP element is not included, a REFUSE message is forwarded to
   the previous hop.

   If a VC-type common SCMP element is included, the entity releases the
   VC whose process is shown in <a href="#section-6.5.3">section 6.5.3</a>.  If the element specifies
   a point-to-point SVC, whose calling party is the upstream or
   downstream, or a point-to-multipoint SVC, a change.ind primitive is
   sent to the routing machine.  If a PVC or a reverse channel of a bi-
   directional point-to-point SVC used by an existing stream is
   specified and the specified VC exists, the VC state is set to
   occupied and a change.ind primitive is sent to the routing machine.
   Otherwise, a REFUSE message is forwarded to the previous hop.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.5%20Additional%20accept.req%20processing%20rules"></a><a class="selflink" href="#section-6.6.5" name="section-6.6.5">6.6.5</a> Additional accept.req processing rules</span>

   When an accept.req primitive is sent to the ST2+ SCMP layer entity
   for the previous hop, the entity confirms the state of the UNI 3.1
   signaling layer entity.  If the state of the entity is other than U0



<span class="grey">Suzuki                       Informational                     [Page 34]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-35" id="page-35" name="page-35"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   or U10, the accept.req primitive is queued and is processed after the
   state changes to U0 or U10.

   If the state of the entity is U0 or U10, the ST2+ SCMP layer entity
   confirms whether or not the VC for the previous hop exists.  If it
   does, an ACCEPT message is forwarded to the previous hop.

   If it does not and the CONNECT or CHANGE message that corresponds to
   the accept.req primitive specified a point-to-point SVC whose calling
   party is the upstream or a point-to-multipoint SVC, then the entity
   processes an incoming call that is shown in <a href="#section-6.5.2">section 6.5.2</a>.  If the
   incoming call processing succeeds, an ACCEPT message is forwarded to
   the previous hop.  If the CONNECT or CHANGE message that corresponds
   to the accept.req primitive specified a point-to-point SVC whose
   calling party is downstream, the entity converts from the IP address
   of the previous hop to the ATM address, and then the entity processes
   an outgoing call that is shown in <a href="#section-6.5.1">section 6.5.1</a>.  If the outgoing
   call processing succeeds, an ACCEPT message is forwarded to the
   previous hop.  For cases other than those described above or if the
   incoming or outgoing call processing fails, a REFUSE message is
   forwarded to the previous hop and a disconnect.ind primitive is sent
   to the routing machine.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.6%20Additional%20accept.ind%20processing%20rules"></a><a class="selflink" href="#section-6.6.6" name="section-6.6.6">6.6.6</a> Additional accept.ind processing rules</span>

   When an ACCEPT message is processed in the ST2+ SCMP layer entity for
   the next hop, the entity confirms the state of the UNI 3.1 signaling
   layer entity.  If the state of the entity is other than U0 or U10,
   the ACCEPT message is queued and is processed after the state changes
   to U0 or U10.

   If the state of the entity is U0 or U10, the ST2+ SCMP layer entity
   confirms whether or not the VC for the next hop exists.  If it does,
   an accept.ind primitive is sent to the routing machine.

   If it does not and the CONNECT or CHANGE message that corresponds to
   the ACCEPT message specified a point-to-point SVC whose calling party
   is the upstream or a point-to-multipoint SVC, then the entity
   converts from the IP address of the next hop to the ATM address, and
   then the entity processes an outgoing call that is shown in <a href="#section-6.5.1">section</a>
   <a href="#section-6.5.1">6.5.1</a>.  If the outgoing call processing succeeds, an accept.ind
   primitive is sent to the routing machine.  If the CONNECT or CHANGE
   message that corresponds to the ACCEPT message specified a point-to-
   point SVC whose calling party is downstream, the entity processes an
   incoming call that is shown in <a href="#section-6.5.2">section 6.5.2</a>.  If the incoming call
   processing succeeds, an accept.ind primitive is sent to the routing
   machine.  For cases other than those described above or if the
   incoming or outgoing call processing fails, a refuse.ind primitive is



<span class="grey">Suzuki                       Informational                     [Page 35]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-36" id="page-36" name="page-36"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   sent to the routing machine and a DISCONNECT message is forwarded to
   the next hop.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.7%20Additional%20disconnect.req%20processing%20rules"></a><a class="selflink" href="#section-6.6.7" name="section-6.6.7">6.6.7</a> Additional disconnect.req processing rules</span>

   At first, the ST2+ SCMP layer entity for the next hop forwards a
   DISCONNECT message to the next hop.

   And then, after the disconnect.req processing, if there are no more
   targets that are connected downstream of the entity and the entity is
   not waiting for an ACCEPT or REFUSE message response from targets,
   the entity releases the VC whose process is shown in <a href="#section-6.5.3">section 6.5.3</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.8%20Additional%20disconnect.ind%20processing%20rules"></a><a class="selflink" href="#section-6.6.8" name="section-6.6.8">6.6.8</a> Additional disconnect.ind processing rules</span>

   AT first, after the disconnect.ind processing, if there are no more
   targets that are connected downstream of the ST2+ SCMP layer entity
   for the previous hop and the entity is not waiting for an ACCEPT or
   REFUSE message response from targets, the entity releases the VC
   whose process is shown in <a href="#section-6.5.3">section 6.5.3</a>.

   And then, the entity sends a disconnect.ind primitive to the routing
   machine.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.9%20Additional%20refuse.req%20processing%20rules"></a><a class="selflink" href="#section-6.6.9" name="section-6.6.9">6.6.9</a> Additional refuse.req processing rules</span>

   At first, the ST2+ SCMP layer entity for the previous hop forwards a
   REFUSE message to the previous hop.

   And then, after the refuse.req processing, if there are no more
   targets that are connected downstream of the entity and the entity is
   not waiting for an ACCEPT or REFUSE message response from targets,
   the entity releases the VC whose process is shown in <a href="#section-6.5.3">section 6.5.3</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.10%20Additional%20refuse.ind%20processing%20rules"></a><a class="selflink" href="#section-6.6.10" name="section-6.6.10">6.6.10</a> Additional refuse.ind processing rules</span>

   At first, after the refuse.ind processing, if there are no more
   targets that are connected downstream of the ST2+ SCMP layer entity
   for the next hop and the entity is not waiting for an ACCEPT or
   REFUSE message response from targets, the entity releases the VC
   whose process is shown in <a href="#section-6.5.3">section 6.5.3</a>.

   And then, the entity sends a refuse.ind primitive to the routing
   machine.







<span class="grey">Suzuki                       Informational                     [Page 36]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-37" id="page-37" name="page-37"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.6.11%20SVC%20disconnect%20processing"></a><a class="selflink" href="#section-6.6.11" name="section-6.6.11">6.6.11</a> SVC disconnect processing</span>

   When the ST2+ SCMP layer entity for the previous hop is sent a SVC
   disconnect processing from the UNI 3.1 signaling layer entity and
   then the SVC disconnect processing is completed, the entity forwards
   a REFUSE message to the previous hop and sends a disconnect.ind
   primitive to the routing machine.

   When the ST2+ SCMP layer entity for the next hop is sent a SVC
   disconnect processing from the UNI 3.1 signaling layer entity and
   then the SVC disconnect processing is completed, the entity sends a
   refuse.ind primitive to the routing machine and forwards a DISCONNECT
   message to the previous hop.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.7%20UNI%203.1%20Signaling%20Information%20Element%20Coding%20Rules"></a><a class="selflink" href="#section-6.7" name="section-6.7">6.7</a> UNI 3.1 Signaling Information Element Coding Rules</span>

   The ST2+ over ATM protocol does not specify the coding rules needed
   for the following information elements in UNI 3.1 signaling.  The
   usages of these information elements are specified in [<a href="#ref-10" title='"ATM User-Network Interface Specification Version 3.1"'>10</a>].

   o Protocol discriminator

   o Call reference

   o Message type

   o Message length

   o Call state

   o Called party number

   o Called party subaddress

   o Calling party number

   o Calling party subaddress

   o Cause

   o Connection identifier

   o Broadband repeat indicator

   o Restart indicator

   o Broadband sending complete




<span class="grey">Suzuki                       Informational                     [Page 37]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-38" id="page-38" name="page-38"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o Transit network selection

   o Endpoint reference

   o Endpoint state

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.7.1%20ATM%20adaptation%20layer%20parameters%20coding"></a><a class="selflink" href="#section-6.7.1" name="section-6.7.1">6.7.1</a> ATM adaptation layer parameters coding</span>

   The SETUP and ADD PARTY messages in the ST2+ over ATM protocol must
   include an ATM adaptation layer parameters information element.  The
   CONNECT message may or may not include this element.  The coding
   rules for the fields are as follows.

   o The AAL Type is set to AAL5.

   o The value of the Forward maximum CPCS size field is set to the same
     as that of the MaxMsgSize field in the CONNECT SCMP message
     corresponding to the SETUP or ADD PARTY message.

   o If the VC is established as a point-to-point call, the value of the
     Backward maximum CPCS size field is set the same as that of the
     Forward maximum CPCS size field.  If the VC is established as a
     point-to-multipoint call, the value of the Backward maximum CPCS
     size field is set to zero.

   o The SSCS type is set to null.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.7.2%20ATM%20traffic%20descriptor%20coding"></a><a class="selflink" href="#section-6.7.2" name="section-6.7.2">6.7.2</a> ATM traffic descriptor coding</span>

   If the Null FlowSpec is specified in the ST2+ over ATM protocol, the
   coding rules for the fields in the ATM traffic descriptor information
   element in the SETUP message are as follows.

   o The value of the Forward PCR (CLP=0+1) field depends on the
     specification of the ATM network.  The Forward PCR (CLP=0+1) field
     in each ATM interface in an implementation must be configurable to
     any value between zero and 16,777,215.

   o If the VC is established as a point-to-point call, the value of the
     Backward PCR (CLP=0+1) field is set the same as that of the Forward
     PCR (CLP=0+1) field.  If the VC is established as a point-to-
     multipoint call, the value of the Backward PCR (CLP=0+1) field is
     set to zero.

   o The Best effort indication must be present.

   If the Controlled-Load Service FlowSpec is specified, the coding
   rules for the fields are as follows.



<span class="grey">Suzuki                       Informational                     [Page 38]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-39" id="page-39" name="page-39"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o The value of the Forward PCR (CLP=0+1) field depends on the
     specification of the ATM network.  The Forward PCR (CLP=0+1) field
     in each ATM interface in an implementation must be configurable to
     any value between zero and 16,777,215.

   o If the VC is established as a point-to-point call, the value of the
     Backward PCR (CLP=0+1) field is set the same as that of the Forward
     PCR (CLP=0+1) field.  If the VC is established as a point-to-
     multipoint call, the value of the Backward PCR (CLP=0+1) field is
     set to zero.

   o The method for calculating the Forward SCR (CLP=0+1) field is shown
     in <a href="#section-5">section 5</a>.

   o If the VC is established as a point-to-point call, the value of the
     Backward SCR (CLP=0+1) field is set the same as that of the Forward
     SCR (CLP=0+1) field.  If the VC is established as a point-to-
     multipoint call, this field must not be present.

   o The method for calculating the Forward MBS (CLP=0+1) field is shown
     in <a href="#section-5">section 5</a>.

   o If the VC is established as a point-to-point call, the value of the
     Backward MBS (CLP=0+1) field is set the same as that of the Forward
     MBS (CLP=0+1) field.  If the VC is established as a point-to-
     multipoint call, this field must not be present.

   o The Best effort indication, Tagging backward, and Tagging forward
     fields must not be present.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.7.3%20Broadband%20bearer%20capability%20coding"></a><a class="selflink" href="#section-6.7.3" name="section-6.7.3">6.7.3</a> Broadband bearer capability coding</span>

   If the Null FlowSpec is specified in the ST2+ over ATM protocol, the
   coding rules for the fields in the Broadband bearer capability
   information element in the SETUP message are as follows.

   o The Bearer class depends on the specification of the ATM network.
     The Bearer class in each ATM interface in an implementation must be
     configurable as either BCOB-X or BCOB-C.  BCOB-X is recommended as
     the default configuration.

   o The Traffic type and Timing requirements fields must not be
     present.

   o The Susceptibility to clipping field is set to not susceptible to
     clipping.





<span class="grey">Suzuki                       Informational                     [Page 39]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-40" id="page-40" name="page-40"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   o If the VC is established as a point-to-point call, the User plane
     connection configuration field is set to point-to-point, and if the
     VC is established as a point-to-multipoint call, it is set to
     point-to-multipoint.

   If the Controlled-Load Service FlowSpec is specified, the coding
   rules for the fields are as follows.

   o The Bearer class depends on the specification of the ATM network.
     The Bearer class in each ATM interface in an implementation must be
     configurable as either BCOB-X or BCOB-C.  BCOB-X is recommended as
     the default configuration.

   o If the Bearer class is BCOB-X, the Traffic type and Timing
     requirements fields depend on the specification of the ATM network.
     The Traffic type and Timing requirements fields in each ATM
     interface in an implementation must be configurable as either no
     indication or VBR and Not required, respectively.  No indication is
     recommended as the default configuration.  If the Bearer class is
     BCOB-C, the Traffic type and Timing requirements fields must not be
     present.

   o The Susceptibility to clipping field depends on the specification
     of the ATM network.  The Susceptibility to clipping field in each
     ATM interface in an implementation must be configurable as either
     not susceptible to clipping or susceptible to clipping.  Not
     susceptible to clipping is recommended as the default
     configuration.

   o If the VC is established as a point-to-point call, the User plane
     connection configuration field is set to point-to-point, and if the
     VC is established as a point-to-multipoint call, it is set to
     point-to-multipoint.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.7.4%20Broadband%20high%20layer%20information%20coding"></a><a class="selflink" href="#section-6.7.4" name="section-6.7.4">6.7.4</a> Broadband high layer information coding</span>

   The SETUP and ADD PARTY messages in the ST2+ over ATM protocol must
   include a Broadband high layer information information element. The
   coding rules for the fields are as follows.

   o The High layer information type is set to User specific.

   o The first 6 bytes in the High layer information field are set to
     the SID of the stream corresponding to the VC.







<span class="grey">Suzuki                       Informational                     [Page 40]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-41" id="page-41" name="page-41"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.7.5%20Broadband%20low%20layer%20information%20coding"></a><a class="selflink" href="#section-6.7.5" name="section-6.7.5">6.7.5</a> Broadband low layer information coding</span>

   The SETUP and ADD PARTY messages in the ST2+ over ATM protocol must
   include a Broadband low layer information information element. The
   CONNECT message may or may not include this element.  The coding
   rules for the fields are as follows.

   o The User information layer 3 protocol field is set to ISO/IEC TR
     9577.

   o The IPI field is set to IEEE 802.1 SNAP (0x80).

   o The OUI field is set to IANA (0x00-00-5E).

   o The PID field is set to ST2+ (TBD).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.7.6%20QoS%20parameter%20coding"></a><a class="selflink" href="#section-6.7.6" name="section-6.7.6">6.7.6</a> QoS parameter coding</span>

   If the Null FlowSpec is specified in the ST2+ over ATM protocol, the
   coding rules for the fields in the QoS parameter in the SETUP message
   are as follows.

   o The QoS class forward and QoS class backward fields are set to QoS
     class 0.

   If the Controlled-Load Service FlowSpec is specified, the coding
   rules for the fields are as follows.

   o The QoS class forward and QoS class backward fields depend on the
     specification of the ATM network.  The QoS class forward and QoS
     class backward fields in each ATM interface in an implementation
     must be configurable as either QoS class 0 or QoS class 3.  QoS
     class 0 is recommended as the default configuration.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>. Security Considerations</span>

   The ST2+ over ATM protocol modifies <a href="rfc1819.html">RFC 1819</a> ST2+ protocol, but
   basically these modifications are minimum extensions for ATM support
   and bug fixes, so they do not weaken the security of the ST2+
   protocol.

   The ST2+ over ATM protocol specifies protocol interaction between
   ST2+ and UNI 3.1, and this does not weaken the security of the UNI
   3.1 protocol.

   In an ST2+ agent that processes an incoming call of SVC, if the
   incoming SETUP message contains the calling party number and if it is
   verified and passed by the ATM network or it is provided by the



<span class="grey">Suzuki                       Informational                     [Page 41]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-42" id="page-42" name="page-42"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   network, then it is feasible to use the calling party number for part
   of the calling party authentication to strengthen security.

References

   [<a id="ref-1" name="ref-1">1</a>] Borden, M., Crawley, E., Davie, B., and S. Batsell, "Integration
       of Real-time Services in an IP-ATM Network Architecture", <a href="rfc1821.html">RFC</a>
       <a href="rfc1821.html">1821</a>, August 1995.

   [<a id="ref-2" name="ref-2">2</a>] Jackowski, S., "Native ATM Support for ST2+", <a href="rfc1946.html">RFC 1946</a>, May 1996.

   [<a id="ref-3" name="ref-3">3</a>] S. Damaskos and A. Gavras, "Connection Oriented Protocols over
       ATM: A case study", Proc. SPIE, Vol. 2188, pp.226-278, February
       1994.

   [<a id="ref-4" name="ref-4">4</a>] Delgrossi, L., and L. Berger, Ed., "Internet Stream Protocol
       Version 2 (ST2) Protocol Specification - Version ST2+", <a href="rfc1819.html">RFC 1819</a>,
       August 1995.

   [<a id="ref-5" name="ref-5">5</a>] Wroclawski, J., "Specification of the Controlled-Load Network
       Element Service", <a href="rfc2211.html">RFC 2211</a>, September 1997.

   [<a id="ref-6" name="ref-6">6</a>] Shenker, S., Partridge, C., and R. Guerin, "Specification of
       Guaranteed Quality of Service", <a href="rfc2212.html">RFC 2212</a>, September 1997.

   [<a id="ref-7" name="ref-7">7</a>] Wroclawski, J., "The Use of RSVP with IETF Integrated Services",
       <a href="rfc2210.html">RFC 2210</a>, September 1997.

   [<a id="ref-8" name="ref-8">8</a>] Garrett, M., and M. Borden, "Interoperation of Controlled-Load
       Service and Guaranteed Service with ATM", <a href="rfc2381.html">RFC 2381</a>, August 1998.

   [<a id="ref-9" name="ref-9">9</a>] Ghanwani, A., Pace, J., and V. Srinivasan, "A Framework for
       Providing Integrated Services Over Shared and Switched LAN
       Technologies", Work in Progress.

   [<a id="ref-10" name="ref-10">10</a>] The ATM Forum, "ATM User-Network Interface Specification
        Version 3.1", September 1994.

   [<a id="ref-11" name="ref-11">11</a>] The ATM Forum, "ATM User-Network Interface (UNI) Signaling
        Specification Version 4.0", af-sig-0061.000, July 1996.

   [<a id="ref-12" name="ref-12">12</a>] ITU-T, "Broadband Integrated Services Digital Network (B-ISDN)-
        Digital Subscriber Signaling System No. 2 (DSS 2)-User-Network
        Interface (UNI) Layer 3 Specification for Basic Call/Connection
        Control", ITU-T Recommendation Q.2931, September 1995.






<span class="grey">Suzuki                       Informational                     [Page 42]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-43" id="page-43" name="page-43"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


   [<a id="ref-13" name="ref-13">13</a>] ITU-T, "Broadband Integrated Services Digital Network (B-ISDN)-
        Digital Subscriber Signaling System No. 2 (DSS 2)-User-Network
        Interface Layer 3 Specification for Point-to-Multipoint
        Call/Connection Control", ITU-T Recommendation Q.2971, October
        1995.

   [<a id="ref-14" name="ref-14">14</a>] ITU-T, "B-ISDN Protocol Reference Model and its Application",
        CCITT Recommendation I.321, April 1991.

   [<a id="ref-15" name="ref-15">15</a>] ITU-T, "B-ISDN ATM Adaptation Layer (AAL) type 5 specification",
        Draft new ITU-T Recommendation I.363.5, September 1995.

   [<a id="ref-16" name="ref-16">16</a>] Heinanen, J., "Multiprotocol Encapsulation over ATM Adaptation
        Layer 5", <a href="rfc1483.html">RFC 1483</a>, July 1993.

   [<a id="ref-17" name="ref-17">17</a>] Laubach, M., "Classical IP and ARP over ATM", <a href="rfc1577.html">RFC 1577</a>, January
        1994.

   [<a id="ref-18" name="ref-18">18</a>] Perez, M., Liaw, F., Mankin, A., Hoffman, E., Grossman, D., and
        A.  Malis, "ATM Signaling Support for IP over ATM", <a href="rfc1755.html">RFC 1755</a>,
        February 1995.

   [<a id="ref-19" name="ref-19">19</a>] Luciani, J., Katz, D., Piscitello, D., and B. Cole, "NBMA Next
        Hop Resolution Protocol (NHRP)", <a href="rfc2332.html">RFC 2332</a>, April 1998.



























<span class="grey">Suzuki                       Informational                     [Page 43]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-44" id="page-44" name="page-44"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


Acknowledgments

   ATM is a huge technology and without the help of many colleagues at
   NTT who are involved in ATM research and development, it would have
   been impossible for me to complete this protocol specification.  I
   would like to thank Hideaki Arai and Naotaka Morita of the NTT
   Network Strategy Planning Dept., Shin-ichi Kuribayashi, Jun Aramomi,
   and Takumi Ohba of the NTT Network Service Systems Labs., and also
   Hisao Uose and Yoshikazu Oda of the NTT Multimedia Networks Labs.
   for their valuable comments and discussions.

   And I would also like to especially thank Eric Crawley of Gigapacket
   Networks, John Wroclawski of MIT, Steven Jackowski of Net Manage,
   Louis Berger of FORE Systems, Steven Willis of Bay Networks, Greg
   Burch of Qosnetics, and Denis Gallant, James Watt, and Joel Halpern
   of Newbridge Networks for their valuable comments and suggestions.

   Also this specification is based on various discussions during NTT
   Multimedia Joint Project with NACSIS.  I would like to thank
   Professor Shoichiro Asano of the National Center for Science
   Information Systems for his invaluable advice in this area.

Author's Address

   Muneyoshi Suzuki
   NTT Multimedia Networks Laboratories
   3-9-11, Midori-cho
   Musashino-shi, Tokyo 180-8585, Japan

   Phone: +81-422-59-2119
   Fax:   +81-422-59-2829
   EMail: suzuki@nal.ecl.net



















<span class="grey">Suzuki                       Informational                     [Page 44]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-45" id="page-45" name="page-45"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20RFC%201819%20ST2%2B%20Errata"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>. <a href="rfc1819.html">RFC 1819</a> ST2+ Errata</span>

<span class="h1"><a class="selflink" href="#appendix-A.1" name="appendix-A.1">A.1</a>  4.3 SCMP Reliability</span>

The following sentence in the second paragraph:

&lt; For some SCMP messages (CONNECT, CHANGE, JOIN, and STATUS) the

should be changed to

&gt; For some SCMP messages (CONNECT, CHANGE, and JOIN) the

<span class="h1"><a class="selflink" href="#appendix-A.2" name="appendix-A.2">A.2</a>  4.4.4 User Data</span>

The following sentence:

&lt; option can be included with ACCEPT, CHANGE, CONNECT, DISCONNECT, and
&lt; REFUSE messages. The format of the UserData parameter is shown in

should be changed to

&gt; option can be included with ACCEPT, CHANGE, CONNECT, DISCONNECT, NOTIFY,
&gt; and REFUSE messages. The format of the UserData parameter is shown in

<span class="h1"><a class="selflink" href="#appendix-A.3" name="appendix-A.3">A.3</a>  5.3.2  Other Cases</span>

The following sentence:

&lt; CONNECT with a REFUSE message with the affected targets specified in
&lt; the TargetList and an appropriate ReasonCode (StreamExists).

should be changed to

&gt; CONNECT with a REFUSE message with the affected targets specified in
&gt; the TargetList and an appropriate ReasonCode (TargetExists).

<span class="h1"><a class="selflink" href="#appendix-A.4" name="appendix-A.4">A.4</a>  5.5.1 Mismatched FlowSpecs</span>

The following sentence:

&lt; notifies the processing ST agent which should respond with ReasonCode
&lt; (FlowSpecMismatch).

should be changed to

&gt; notifies the processing ST agent which should respond with a REFUSE
&gt; message with ReasonCode (FlowSpecMismatch).




<span class="grey">Suzuki                       Informational                     [Page 45]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-46" id="page-46" name="page-46"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h1"><a class="selflink" href="#appendix-A.5" name="appendix-A.5">A.5</a>  6.2.1  Problems in Stream Recovery</span>

The following sentence:

&lt; some time after a failure. As a result, the ST agent attempting the
&lt; recovery may receive ERROR messages for the new CONNECTs that are
&lt; ...
&lt; failure, and will interpret the new CONNECT as resulting from a
&lt; routing failure. It will respond with an ERROR message with the
&lt; appropriate ReasonCode (StreamExists). Since the timeout that the ST
&lt; ...
&lt; remnants of the broken stream will soon be torn down by a DISCONNECT
&lt; message. Therefore, the ST agent that receives the ERROR message with
&lt; ReasonCode (StreamExists) should retransmit the CONNECT message after

should be changed to

&gt; some time after a failure. As a result, the ST agent attempting the
&gt; recovery may receive REFUSE messages for the new CONNECTs that are
&gt; ...
&gt; failure, and will interpret the new CONNECT as resulting from a
&gt; routing failure. It will respond with a REFUSE message with the
&gt; appropriate ReasonCode (TargetExists). Since the timeout that the ST
&gt; ...
&gt; remnants of the broken stream will soon be torn down by a DISCONNECT
&gt; message. Therefore, the ST agent that receives the REFUSE message with
&gt; ReasonCode (TargetExists) should retransmit the CONNECT message after

<span class="h1"><a class="selflink" href="#appendix-A.6" name="appendix-A.6">A.6</a>  6.3  Stream Preemption}</span>

The following sentence:

&lt;    (least important) to 256 (most important). This value is

should be changed to

&gt;    (least important) to 255 (most important). This value is

<span class="h1"><a class="selflink" href="#appendix-A.7" name="appendix-A.7">A.7</a>  10.2 Control PDUs</span>

The following sentence:

&lt;o  Reference is a transaction number. Each sender of a request control
&lt;   message assigns a Reference number to the message that is unique
&lt;   with respect to the stream.

should be changed to




<span class="grey">Suzuki                       Informational                     [Page 46]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-47" id="page-47" name="page-47"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


&gt;o  Reference is a transaction number. Each sender of a request control
&gt;   message assigns a Reference number to the message that is unique
&gt;   with respect to the stream for messages generated by each agent.

<span class="h1"><a class="selflink" href="#appendix-A.8" name="appendix-A.8">A.8</a>  10.3.4 Origin</span>

The following:

&lt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;   |  PCode = 5    |   PBytes      | NextPcol      |OriginSAPBytes |
&lt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

should be changed to

&gt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&gt;   |  PCode = 4    |   PBytes      | NextPcol      |OriginSAPBytes |
&gt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

<span class="h1"><a class="selflink" href="#appendix-A.9" name="appendix-A.9">A.9</a>  10.4.1  ACCEPT</span>

The following sentence:

&lt;o   IPHops is the number of IP encapsulated hops traversed by the
&lt;    stream. This field is set to zero by the origin, and is incremented
&lt;    at each IP encapsulating agent.

should be changed to

&gt;o   IPHops is the number of IP encapsulated hops traversed by the
&gt;    stream.

<span class="h1"><a class="selflink" href="#appendix-A.10" name="appendix-A.10">A.10</a>  10.4.2  ACK</span>

The following:

&lt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;   |  OpCode = 2   |     0         |           TotalBytes          |
&lt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

should be changed to

&gt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&gt;   |  OpCode = 2   |     0         |         TotalBytes = 16       |
&gt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+







<span class="grey">Suzuki                       Informational                     [Page 47]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-48" id="page-48" name="page-48"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h1"><a class="selflink" href="#appendix-A.11" name="appendix-A.11">A.11</a>  10.4.3  CHANGE</span>

The following sentence:

&lt;o   I (bit 7) is used to indicate that the LRM is permitted to interrupt

should be changed to

&gt;o   I (bit 9) is used to indicate that the LRM is permitted to interrupt

<span class="h1"><a class="selflink" href="#appendix-A.12" name="appendix-A.12">A.12</a>  10.4.7  HELLO</span>

The following:

&lt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;   |  OpCode = 7   |R|    0        |           TotalBytes          |
&lt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

should be changed to

&gt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&gt;   |  OpCode = 7   |R|    0        |         TotalBytes = 20       |
&gt;   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

<span class="h1"><a class="selflink" href="#appendix-A.13" name="appendix-A.13">A.13</a>  10.4.9  JOIN-REJECT</span>

The following sentence:

&lt;o   Reference contains a number assigned by the ST agent sending the
&lt;    REFUSE for use in the acknowledging ACK.

should be changed to

&gt;o   Reference contains a number assigned by the ST agent sending the
&gt;    JOIN-REJECT for use in the acknowledging ACK.

<span class="h1"><a class="selflink" href="#appendix-A.14" name="appendix-A.14">A.14</a>  10.4.13  STATUS-RESPONSE</span>

The following sentence:

&lt;   possibly Groups of the stream. It the full target list can not fit in

should be changed to

&gt;   possibly Groups of the stream. If the full target list can not fit in






<span class="grey">Suzuki                       Informational                     [Page 48]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-49" id="page-49" name="page-49"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


<span class="h1"><a class="selflink" href="#appendix-A.15" name="appendix-A.15">A.15</a>  10.5.3 ReasonCode</span>

The following:

&lt; 32      PCodeUnknown    Control PDU has a parameter with an invalid
&lt;                         PCode.

should be removed because a common SCMP element with an unknown PCode
is equivalent to the UserData (<a href="rfc1819.html#section-10.3.8">RFC 1819, Section 10.3.8</a>).










































<span class="grey">Suzuki                       Informational                     [Page 49]</span>
</pre><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-50" id="page-50" name="page-50"> </a>
<span class="grey"><a href="rfc2383.html">RFC 2383</a>                     ST2+ over ATM                   August 1998</span>


Full Copyright Statement

   Copyright (C) The Internet Society (1998).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























Suzuki                       Informational                     [Page 50]

</pre><br/>
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.107, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>



</body><!-- Mirrored from tools.ietf.org/html/rfc2383 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 07 Jun 2014 20:18:53 GMT --></html>