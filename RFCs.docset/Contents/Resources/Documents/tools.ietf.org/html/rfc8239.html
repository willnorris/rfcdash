<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc8239 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:15 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-bmwg-dcbench-methodology" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:8239" name="DC.Identifier"/>
<meta content="August, 2017" name="DC.Date.Issued"/>
<meta content="Lucien Avramov &lt;lucien.avramov@gmail.com&gt;" name="DC.Creator"/>
<meta content="The purpose of this informational document is to establish test and
evaluation methodology and measurement techniques for physical network
equipment in the data center. RFC 8238 is a prerequisite for this
document, as it contains terminology that is considered normative.
Many of these terms and methods may be applicable beyond the scope of
this document as the technologies originally applied in the data
center are deployed elsewhere." name="DC.Description.Abstract"/>
<meta content="Data Center Benchmarking Methodology" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 8239 - Data Center Benchmarking Methodology</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc8239.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc8239" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-bmwg-dcbench-methodology" title="draft-ietf-bmwg-dcbench-methodology">draft-ietf-bmwg...</a>] [<a href="https://datatracker.ietf.org/doc/rfc8239" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc8239" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc8239" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                        L. Avramov
Request for Comments: 8239                                        Google
Category: Informational                                          J. Rapp
ISSN: 2070-1721                                                   VMware
                                                             August 2017


                  <span class="h1">Data Center Benchmarking Methodology</span>

Abstract

   The purpose of this informational document is to establish test and
   evaluation methodology and measurement techniques for physical
   network equipment in the data center.  <a href="rfc8238.html">RFC 8238</a> is a prerequisite for
   this document, as it contains terminology that is considered
   normative.  Many of these terms and methods may be applicable beyond
   the scope of this document as the technologies originally applied in
   the data center are deployed elsewhere.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc7841.html#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc8239">http://www.rfc-editor.org/info/rfc8239</a>.

















<span class="grey">Avramov &amp; Rapp                Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Requirements Language ......................................<a href="#page-4">4</a>
      <a href="#section-1.2">1.2</a>. Methodology Format and Repeatability Recommendation ........<a href="#page-4">4</a>
   <a href="#section-2">2</a>. Line-Rate Testing ...............................................<a href="#page-4">4</a>
      <a href="#section-2.1">2.1</a>. Objective ..................................................<a href="#page-4">4</a>
      <a href="#section-2.2">2.2</a>. Methodology ................................................<a href="#page-4">4</a>
      <a href="#section-2.3">2.3</a>. Reporting Format ...........................................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. Buffering Testing ...............................................<a href="#page-6">6</a>
      <a href="#section-3.1">3.1</a>. Objective ..................................................<a href="#page-6">6</a>
      <a href="#section-3.2">3.2</a>. Methodology ................................................<a href="#page-7">7</a>
      <a href="#section-3.3">3.3</a>. Reporting Format ...........................................<a href="#page-9">9</a>
   <a href="#section-4">4</a>. Microburst Testing .............................................<a href="#page-10">10</a>
      <a href="#section-4.1">4.1</a>. Objective .................................................<a href="#page-10">10</a>
      <a href="#section-4.2">4.2</a>. Methodology ...............................................<a href="#page-10">10</a>
      <a href="#section-4.3">4.3</a>. Reporting Format ..........................................<a href="#page-11">11</a>
   <a href="#section-5">5</a>. Head-of-Line Blocking ..........................................<a href="#page-12">12</a>
      <a href="#section-5.1">5.1</a>. Objective .................................................<a href="#page-12">12</a>
      <a href="#section-5.2">5.2</a>. Methodology ...............................................<a href="#page-12">12</a>
      <a href="#section-5.3">5.3</a>. Reporting Format ..........................................<a href="#page-14">14</a>
   <a href="#section-6">6</a>. Incast Stateful and Stateless Traffic ..........................<a href="#page-15">15</a>
      <a href="#section-6.1">6.1</a>. Objective .................................................<a href="#page-15">15</a>
      <a href="#section-6.2">6.2</a>. Methodology ...............................................<a href="#page-15">15</a>
      <a href="#section-6.3">6.3</a>. Reporting Format ..........................................<a href="#page-17">17</a>
   <a href="#section-7">7</a>. Security Considerations ........................................<a href="#page-17">17</a>
   <a href="#section-8">8</a>. IANA Considerations ............................................<a href="#page-17">17</a>
   <a href="#section-9">9</a>. References .....................................................<a href="#page-18">18</a>
      <a href="#section-9.1">9.1</a>. Normative References ......................................<a href="#page-18">18</a>
      <a href="#section-9.2">9.2</a>. Informative References ....................................<a href="#page-18">18</a>
   Acknowledgments ...................................................<a href="#page-19">19</a>
   Authors' Addresses ................................................<a href="#page-19">19</a>




<span class="grey">Avramov &amp; Rapp                Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Traffic patterns in the data center are not uniform and are
   constantly changing.  They are dictated by the nature and variety of
   applications utilized in the data center.  They can be largely
   east-west traffic flows (server to server inside the data center) in
   one data center and north-south (from the outside of the data center
   to the server) in another, while others may combine both.  Traffic
   patterns can be bursty in nature and contain many-to-one,
   many-to-many, or one-to-many flows.  Each flow may also be small and
   latency sensitive or large and throughput sensitive while containing
   a mix of UDP and TCP traffic.  All of these can coexist in a single
   cluster and flow through a single network device simultaneously.
   Benchmarking tests for network devices have long used [<a href="rfc1242.html" title='"Benchmarking Terminology for Network Interconnection Devices"'>RFC1242</a>],
   [<a href="rfc2432.html" title='"Terminology for IP Multicast Benchmarking"'>RFC2432</a>], [<a href="rfc2544.html" title='"Benchmarking Methodology for Network Interconnect Devices"'>RFC2544</a>], [<a href="rfc2889.html" title='"Benchmarking Methodology for LAN Switching Devices"'>RFC2889</a>], and [<a href="rfc3918.html" title='"Methodology for IP Multicast Benchmarking"'>RFC3918</a>], which have largely
   been focused around various latency attributes and throughput
   [<a href="rfc2889.html" title='"Benchmarking Methodology for LAN Switching Devices"'>RFC2889</a>] of the Device Under Test (DUT) being benchmarked.  These
   standards are good at measuring theoretical throughput, forwarding
   rates, and latency under testing conditions; however, they do not
   represent real traffic patterns that may affect these networking
   devices.

   Currently, typical data center networking devices are
   characterized by:

   -  High port density (48 ports or more).

   -  High speed (currently, up to 100 GB/s per port).

   -  High throughput (line rate on all ports for Layer 2 and/or
      Layer 3).

   -  Low latency (in the microsecond or nanosecond range).

   -  Low amount of buffer (in the MB range per networking device).

   -  Layer 2 and Layer 3 forwarding capability (Layer 3 not mandatory).

   This document provides a methodology for benchmarking data center
   physical network equipment DUTs, including congestion scenarios,
   switch buffer analysis, microburst, and head-of-line blocking, while
   also using a wide mix of traffic conditions.  [<a href="rfc8238.html" title='"Data Center Benchmarking Terminology"'>RFC8238</a>] is a
   prerequisite for this document, as it contains terminology that is
   considered normative.







<span class="grey">Avramov &amp; Rapp                Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Requirements%20Language"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   <a href="https://tools.ietf.org/html/bcp14">BCP 14</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>] [<a href="rfc8174.html" title='"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"'>RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Methodology%20Format%20and%20Repeatability%20Recommendation"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Methodology Format and Repeatability Recommendation</span>

   The following format is used in Sections <a href="#section-2">2</a> through <a href="#section-6">6</a> of this
   document:

   -  Objective

   -  Methodology

   -  Reporting Format

   For each test methodology described in this document, it is critical
   that repeatability of the results be obtained.  The recommendation is
   to perform enough iterations of the given test and to make sure that
   the result is consistent.  This is especially important in the
   context of the tests described in <a href="#section-3">Section 3</a>, as the buffering testing
   has historically been the least reliable.  The number of iterations
   SHOULD be explicitly reported.  The relative standard deviation
   SHOULD be below 10%.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Line-Rate%20Testing"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Line-Rate Testing</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Objective"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Objective</span>

   The objective of this test is to provide a "maximum rate" test for
   the performance values for throughput, latency, and jitter.  It is
   meant to provide (1) the tests to perform and (2) methodology for
   verifying that a DUT is capable of forwarding packets at line rate
   under non-congested conditions.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Methodology"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Methodology</span>

   A traffic generator SHOULD be connected to all ports on the DUT.  Two
   tests MUST be conducted: (1) a port-pair test [<a href="rfc2544.html" title='"Benchmarking Methodology for Network Interconnect Devices"'>RFC2544</a>] [<a href="rfc3918.html" title='"Methodology for IP Multicast Benchmarking"'>RFC3918</a>] and
   (2) a test using a full-mesh DUT [<a href="rfc2889.html" title='"Benchmarking Methodology for LAN Switching Devices"'>RFC2889</a>] [<a href="rfc3918.html" title='"Methodology for IP Multicast Benchmarking"'>RFC3918</a>].

   For all tests, the traffic generator's sending rate MUST be less than
   or equal to 99.98% of the nominal value of the line rate (with no
   further Parts Per Million (PPM) adjustment to account for interface
   clock tolerances), to ensure stressing of the DUT in reasonable



<span class="grey">Avramov &amp; Rapp                Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


   worst-case conditions (see <a href="rfc8238.html#section-5">[RFC8238], Section 5</a> for more details).
   Test results at a lower rate MAY be provided for better understanding
   of performance increase in terms of latency and jitter when the rate
   is lower than 99.98%.  The receiving rate of the traffic SHOULD be
   captured during this test as a percentage of line rate.

   The test MUST provide the statistics of minimum, average, and
   maximum of the latency distribution, for the exact same iteration of
   the test.

   The test MUST provide the statistics of minimum, average, and maximum
   of the jitter distribution, for the exact same iteration of the test.

   Alternatively, when a traffic generator cannot be connected to all
   ports on the DUT, a snake test MUST be used for line-rate testing,
   excluding latency and jitter, as those would become irrelevant.  The
   snake test is performed as follows:

   -  Connect the first and last port of the DUT to a traffic generator.

   -  Connect, back to back and sequentially, all the ports in between:
      port 2 to port 3, port 4 to port 5, etc., to port N-2 to port N-1,
      where N is the total number of ports of the DUT.

   -  Configure port 1 and port 2 in the same VLAN X, port 3 and port 4
      in the same VLAN Y, etc., and port N-1 and port N in the same
      VLAN Z.

   This snake test provides the capability to test line rate for Layer 2
   and Layer 3 [<a href="rfc2544.html" title='"Benchmarking Methodology for Network Interconnect Devices"'>RFC2544</a>] [<a href="rfc3918.html" title='"Methodology for IP Multicast Benchmarking"'>RFC3918</a>] in instances where a traffic
   generator with only two ports is available.  Latency and jitter are
   not to be considered for this test.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Reporting%20Format"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Reporting Format</span>

   The report MUST include the following:

   -  Physical-layer calibration information, as defined in <a href="rfc8238.html#section-4">[RFC8238],
      Section 4</a>.

   -  Number of ports used.

   -  Reading for "throughput received as a percentage of bandwidth",
      while sending 99.98% of the nominal value of the line rate on each
      port, for each packet size from 64 bytes to 9216 bytes.  As
      guidance, with a packet-size increment of 64 bytes between each
      iteration being ideal, 256-byte and 512-byte packets are also




<span class="grey">Avramov &amp; Rapp                Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


      often used.  The most common packet-size ordering for the report
      is 64 bytes, 128 bytes, 256 bytes, 512 bytes, 1024 bytes,
      1518 bytes, 4096 bytes, 8000 bytes, and 9216 bytes.

      The pattern for testing can be expressed using [<a href="rfc6985.html" title='"IMIX Genome: Specification of Variable Packet Sizes for Additional Testing"'>RFC6985</a>].

   -  Throughput needs to be expressed as a percentage of total
      transmitted frames.

   -  Packet drops MUST be expressed as a count of packets and SHOULD be
      expressed as a percentage of line rate.

   -  For latency and jitter, values are expressed in units of time
      (usually microseconds or nanoseconds), reading across packet sizes
      from 64 bytes to 9216 bytes.

   -  For latency and jitter, provide minimum, average, and maximum
      values.  If different iterations are done to gather the minimum,
      average, and maximum values, this SHOULD be specified in the
      report, along with a justification for why the information could
      not have been gathered in the same test iteration.

   -  For jitter, a histogram describing the population of packets
      measured per latency or latency buckets is RECOMMENDED.

   -  The tests for throughput, latency, and jitter MAY be conducted as
      individual independent trials, with proper documentation provided
      in the report, but SHOULD be conducted at the same time.

   -  The methodology assumes that the DUT has at least nine ports, as
      certain methodologies require nine or more ports.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Buffering%20Testing"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Buffering Testing</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Objective"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Objective</span>

   The objective of this test is to measure the size of the buffer of a
   DUT under typical/many/multiple conditions.  Buffer architectures
   between multiple DUTs can differ and include egress buffering, shared
   egress buffering SoC (Switch-on-Chip), ingress buffering, or a
   combination thereof.  The test methodology covers the buffer
   measurement, regardless of buffer architecture used in the DUT.









<span class="grey">Avramov &amp; Rapp                Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Methodology"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Methodology</span>

   A traffic generator MUST be connected to all ports on the DUT.  The
   methodology for measuring buffering for a data center switch is based
   on using known congestion of known fixed packet size, along with
   maximum latency value measurements.  The maximum latency will
   increase until the first packet drop occurs.  At this point, the
   maximum latency value will remain constant.  This is the point of
   inflection of this maximum latency change to a constant value.  There
   MUST be multiple ingress ports receiving a known amount of frames at
   a known fixed size, destined for the same egress port in order to
   create a known congestion condition.  The total amount of packets
   sent from the oversubscribed port minus one, multiplied by the packet
   size, represents the maximum port buffer size at the measured
   inflection point.

   Note that the tests described in procedures 1), 2), 3), and 4) in
   this section have iterations called "first iteration", "second
   iteration", and "last iteration".  The idea is to show the first
   two iterations so the reader understands the logic of how to keep
   incrementing the iterations.  The last iteration shows the end state
   of the variables.

   1) Measure the highest buffer efficiency.

      o  First iteration: Ingress port 1 sending 64-byte packets at line
         rate to egress port 2, while port 3 is sending a known low
         amount of oversubscription traffic (1% recommended) with the
         same packet size of 64 bytes to egress port 2.  Measure the
         buffer size value of the number of frames sent from the port
         sending the oversubscribed traffic up to the inflection point
         multiplied by the frame size.

      o  Second iteration: Ingress port 1 sending 65-byte packets at
         line rate to egress port 2, while port 3 is sending a known low
         amount of oversubscription traffic (1% recommended) with the
         same packet size of 65 bytes to egress port 2.  Measure the
         buffer size value of the number of frames sent from the port
         sending the oversubscribed traffic up to the inflection point
         multiplied by the frame size.

      o  Last iteration: Ingress port 1 sending packets of size B bytes
         at line rate to egress port 2, while port 3 is sending a known
         low amount of oversubscription traffic (1% recommended) with
         the same packet size of B bytes to egress port 2.  Measure the
         buffer size value of the number of frames sent from the port
         sending the oversubscribed traffic up to the inflection point
         multiplied by the frame size.



<span class="grey">Avramov &amp; Rapp                Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


      When the B value is found to provide the largest buffer size, then
      size B allows the highest buffer efficiency.

   2) Measure maximum port buffer size.

      At fixed packet size B as determined in procedure 1), for a fixed
      default Differentiated Services Code Point (DSCP) / Class of
      Service (CoS) value of 0 and for unicast traffic, proceed with the
      following:

      o  First iteration: Ingress port 1 sending line rate to egress
         port 2, while port 3 is sending a known low amount of
         oversubscription traffic (1% recommended) with the same packet
         size to egress port 2.  Measure the buffer size value by
         multiplying the number of extra frames sent by the frame size.

      o  Second iteration: Ingress port 2 sending line rate to egress
         port 3, while port 4 is sending a known low amount of
         oversubscription traffic (1% recommended) with the same packet
         size to egress port 3.  Measure the buffer size value by
         multiplying the number of extra frames sent by the frame size.

      o  Last iteration: Ingress port N-2 sending line rate to egress
         port N-1, while port N is sending a known low amount of
         oversubscription traffic (1% recommended) with the same packet
         size to egress port N.  Measure the buffer size value by
         multiplying the number of extra frames sent by the frame size.

      This test series MAY be repeated using all different DSCP/CoS
      values of traffic, and then using multicast traffic, in order to
      find out if there is any DSCP/CoS impact on the buffer size.

   3) Measure maximum port pair buffer sizes.

      o  First iteration: Ingress port 1 sending line rate to egress
         port 2, ingress port 3 sending line rate to egress port 4, etc.
         Ingress port N-1 and port N will oversubscribe, at 1% of line
         rate, egress port 2 and port 3, respectively.  Measure the
         buffer size value by multiplying the number of extra frames
         sent by the frame size for each egress port.

      o  Second iteration: Ingress port 1 sending line rate to egress
         port 2, ingress port 3 sending line rate to egress port 4, etc.
         Ingress port N-1 and port N will oversubscribe, at 1% of line
         rate, egress port 4 and port 5, respectively.  Measure the
         buffer size value by multiplying the number of extra frames
         sent by the frame size for each egress port.




<span class="grey">Avramov &amp; Rapp                Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


      o  Last iteration: Ingress port 1 sending line rate to egress
         port 2, ingress port 3 sending line rate to egress port 4, etc.
         Ingress port N-1 and port N will oversubscribe, at 1% of line
         rate, egress port N-3 and port N-2, respectively.  Measure the
         buffer size value by multiplying the number of extra frames
         sent by the frame size for each egress port.

      This test series MAY be repeated using all different DSCP/CoS
      values of traffic and then using multicast traffic.

   4) Measure maximum DUT buffer size with many-to-one ports.

      o  First iteration: Ingress ports 1,2,... N-1 each sending
         [(1/[N-1])*99.98]+[1/[N-1]] % of line rate per port to egress
         port N.

      o  Second iteration: Ingress ports 2,... N each sending
         [(1/[N-1])*99.98]+[1/[N-1]] % of line rate per port to egress
         port 1.

      o  Last iteration: Ingress ports N,1,2...N-2 each sending
         [(1/[N-1])*99.98]+[1/[N-1]] % of line rate per port to egress
         port N-1.

   This test series MAY be repeated using all different CoS values of
   traffic and then using multicast traffic.

   Unicast traffic, and then multicast traffic, SHOULD be used in order
   to determine the proportion of buffer for the documented selection of
   tests.  Also, the CoS value for the packets SHOULD be provided for
   each test iteration, as the buffer allocation size MAY differ per CoS
   value.  It is RECOMMENDED that the ingress and egress ports be varied
   in a random but documented fashion in multiple tests in order to
   measure the buffer size for each port of the DUT.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Reporting%20Format"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Reporting Format</span>

   The report MUST include the following:

   -  The packet size used for the most efficient buffer used,
      along with the DSCP/CoS value.

   -  The maximum port buffer size for each port.

   -  The maximum DUT buffer size.

   -  The packet size used in the test.




<span class="grey">Avramov &amp; Rapp                Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


   -  The amount of oversubscription, if different than 1%.

   -  The number of ingress and egress ports, along with their location
      on the DUT.

   -  The repeatability of the test needs to be indicated: the number of
      iterations of the same test and the percentage of variation
      between results for each of the tests (min, max, avg).

   The percentage of variation is a metric providing a sense of how big
   the difference is between the measured value and the previous values.

   For example, for a latency test where the minimum latency is
   measured, the percentage of variation (PV) of the minimum latency
   will indicate by how much this value has varied between the current
   test executed and the previous one.

   PV = ((x2-x1)/x1)*100, where x2 is the minimum latency value in the
   current test and x1 is the minimum latency value obtained in the
   previous test.

   The same formula is used for maximum and average variations measured.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Microburst%20Testing"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Microburst Testing</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Objective"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Objective</span>

   The objective of this test is to find the maximum amount of packet
   bursts that a DUT can sustain under various configurations.

   This test provides additional methodology that supplements the tests
   described in [<a href="rfc1242.html" title='"Benchmarking Terminology for Network Interconnection Devices"'>RFC1242</a>], [<a href="rfc2432.html" title='"Terminology for IP Multicast Benchmarking"'>RFC2432</a>], [<a href="rfc2544.html" title='"Benchmarking Methodology for Network Interconnect Devices"'>RFC2544</a>], [<a href="rfc2889.html" title='"Benchmarking Methodology for LAN Switching Devices"'>RFC2889</a>], and
   [<a href="rfc3918.html" title='"Methodology for IP Multicast Benchmarking"'>RFC3918</a>].

   -  All bursts should be sent with 100% intensity.  Note: "Intensity"
      is defined in <a href="rfc8238.html#section-6.1.1">[RFC8238], Section 6.1.1</a>.

   -  All ports of the DUT must be used for this test.

   -  It is recommended that all ports be tested simultaneously.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Methodology"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Methodology</span>

   A traffic generator MUST be connected to all ports on the DUT.  In
   order to cause congestion, two or more ingress ports MUST send bursts
   of packets destined for the same egress port.  The simplest of the
   setups would be two ingress ports and one egress port (2 to 1).




<span class="grey">Avramov &amp; Rapp                Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


   The burst MUST be sent with an intensity (as defined in <a href="rfc8238.html#section-6.1.1">[RFC8238],
   Section 6.1.1</a>) of 100%, meaning that the burst of packets will be
   sent with a minimum interpacket gap.  The amount of packets contained
   in the burst will be trial variable and increase until there is a
   non-zero packet loss measured.  The aggregate amount of packets from
   all the senders will be used to calculate the maximum microburst
   amount that the DUT can sustain.

   It is RECOMMENDED that the ingress and egress ports be varied in
   multiple tests in order to measure the maximum microburst capacity.

   The intensity of a microburst (see <a href="rfc8238.html#section-6.1.1">[RFC8238], Section 6.1.1</a>) MAY be
   varied in order to obtain the microburst capacity at various
   ingress rates.

   It is RECOMMENDED that all ports on the DUT be tested simultaneously,
   and in various configurations, in order to understand all the
   combinations of ingress ports, egress ports, and intensities.

   An example would be:

   o  First iteration: N-1 ingress ports sending to one egress port.

   o  Second iteration: N-2 ingress ports sending to two egress ports.

   o  Last iteration: Two ingress ports sending to N-2 egress ports.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Reporting%20Format"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Reporting Format</span>

   The report MUST include the following:

   -  The maximum number of packets received per ingress port with the
      maximum burst size obtained with zero packet loss.

   -  The packet size used in the test.

   -  The number of ingress and egress ports, along with their location
      on the DUT.

   -  The repeatability of the test needs to be indicated: the number of
      iterations of the same test and the percentage of variation
      between results (min, max, avg).









<span class="grey">Avramov &amp; Rapp                Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Head-of-Line%20Blocking"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Head-of-Line Blocking</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Objective"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Objective</span>

   Head-of-line blocking (HOLB) is a performance-limiting phenomenon
   that occurs when packets are held up by the first packet ahead
   waiting to be transmitted to a different output port.  This is
   defined in <a href="rfc2889.html#section-5.5">RFC 2889, Section 5.5</a> ("Congestion Control").  This
   section expands on <a href="rfc2889.html">RFC 2889</a> in the context of data center
   benchmarking.

   The objective of this test is to understand the DUT's behavior in the
   HOLB scenario and measure the packet loss.

   The differences between this HOLB test and <a href="rfc2889.html">RFC 2889</a> are as follows:

   -  This HOLB test starts with eight ports in two groups of four ports
      each, instead of four ports (as compared with <a href="rfc2889.html#section-5.5">Section 5.5 of
      RFC 2889</a>).

   -  This HOLB test shifts all the port numbers by one in a second
      iteration of the test; this is new, as compared to the HOLB test
      described in <a href="rfc2889.html">RFC 2889</a>.  The shifting port numbers continue until
      all ports are the first in the group; the purpose of this is to
      make sure that all permutations are tested in order to cover
      differences in behavior in the SoC of the DUT.

   -  Another test within this HOLB test expands the group of ports,
      such that traffic is divided among four ports instead of two
      (25% instead of 50% per port).

   -  <a href="#section-5.3">Section 5.3</a> lists requirements that supplement the requirements
      listed in <a href="rfc2889.html#section-5.5">RFC 2889, Section 5.5</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Methodology"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Methodology</span>

   In order to cause congestion in the form of HOLB, groups of
   four ports are used.  A group has two ingress ports and two
   egress ports.  The first ingress port MUST have two flows configured,
   each going to a different egress port.  The second ingress port will
   congest the second egress port by sending line rate.  The goal is to
   measure if there is loss on the flow for the first egress port, which
   is not oversubscribed.

   A traffic generator MUST be connected to at least eight ports on the
   DUT and SHOULD be connected using all the DUT ports.





<span class="grey">Avramov &amp; Rapp                Informational                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


   Note that the tests described in procedures 1) and 2) in this section
   have iterations called "first iteration", "second iteration", and
   "last iteration".  The idea is to show the first two iterations so
   the reader understands the logic of how to keep incrementing the
   iterations.  The last iteration shows the end state of the variables.

   1) Measure two groups with eight DUT ports.

      o  First iteration: Measure the packet loss for two groups with
         consecutive ports.

         The composition of the first group is as follows:

         Ingress port 1 sending 50% of traffic to egress port 3
         and ingress port 1 sending 50% of traffic to egress port 4.
         Ingress port 2 sending line rate to egress port 4.
         Measure the amount of traffic loss for the traffic from ingress
         port 1 to egress port 3.

         The composition of the second group is as follows:

         Ingress port 5 sending 50% of traffic to egress port 7
         and ingress port 5 sending 50% of traffic to egress port 8.
         Ingress port 6 sending line rate to egress port 8.
         Measure the amount of traffic loss for the traffic from ingress
         port 5 to egress port 7.

      o  Second iteration: Repeat the first iteration by shifting all
         the ports from N to N+1.

         The composition of the first group is as follows:

         Ingress port 2 sending 50% of traffic to egress port 4
         and ingress port 2 sending 50% of traffic to egress port 5.
         Ingress port 3 sending line rate to egress port 5.
         Measure the amount of traffic loss for the traffic from ingress
         port 2 to egress port 4.

         The composition of the second group is as follows:

         Ingress port 6 sending 50% of traffic to egress port 8
         and ingress port 6 sending 50% of traffic to egress port 9.
         Ingress port 7 sending line rate to egress port 9.
         Measure the amount of traffic loss for the traffic from ingress
         port 6 to egress port 8.






<span class="grey">Avramov &amp; Rapp                Informational                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


      o  Last iteration: When the first port of the first group is
         connected to the last DUT port and the last port of the second
         group is connected to the seventh port of the DUT.

      Measure the amount of traffic loss for the traffic from ingress
      port N to egress port 2 and from ingress port 4 to egress port 6.

   2) Measure with N/4 groups with N DUT ports.

      The traffic from the ingress port is split across four egress
      ports (100/4 = 25%).

      o  First iteration: Expand to fully utilize all the DUT ports in
         increments of four.  Repeat the methodology of procedure 1)
         with all the groups of ports possible to achieve on the device,
         and measure the amount of traffic loss for each port group.

      o  Second iteration: Shift by +1 the start of each consecutive
         port of the port groups.

      o  Last iteration: Shift by N-1 the start of each consecutive port
         of the port groups, and measure the amount of traffic loss for
         each port group.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20Reporting%20Format"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  Reporting Format</span>

   For each test, the report MUST include the following:

   -  The port configuration, including the number and location of
      ingress and egress ports located on the DUT.

   -  If HOLB was observed in accordance with the HOLB test described in
      <a href="#section-5">Section 5</a>.

   -  Percent of traffic loss.

   -  The repeatability of the test needs to be indicated: the number of
      iterations of the same test and the percentage of variation
      between results (min, max, avg).












<span class="grey">Avramov &amp; Rapp                Informational                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Incast%20Stateful%20and%20Stateless%20Traffic"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Incast Stateful and Stateless Traffic</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Objective"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Objective</span>

   The objective of this test is to measure the values for TCP Goodput
   [<a href="#ref-TCP-INCAST">TCP-INCAST</a>] and latency with a mix of large and small flows.  The
   test is designed to simulate a mixed environment of stateful flows
   that require high rates of goodput and stateless flows that require
   low latency.  Stateful flows are created by generating TCP traffic,
   and stateless flows are created using UDP traffic.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Methodology"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Methodology</span>

   In order to simulate the effects of stateless and stateful traffic on
   the DUT, there MUST be multiple ingress ports receiving traffic
   destined for the same egress port.  There also MAY be a mix of
   stateful and stateless traffic arriving on a single ingress port.
   The simplest setup would be two ingress ports receiving traffic
   destined to the same egress port.

   One ingress port MUST maintain a TCP connection through the ingress
   port to a receiver connected to an egress port.  Traffic in the TCP
   stream MUST be sent at the maximum rate allowed by the traffic
   generator.  At the same time, the TCP traffic is flowing through the
   DUT, and the stateless traffic is sent destined to a receiver on the
   same egress port.  The stateless traffic MUST be a microburst of
   100% intensity.

   It is RECOMMENDED that the ingress and egress ports be varied in
   multiple tests in order to measure the maximum microburst capacity.

   The intensity of a microburst MAY be varied in order to obtain the
   microburst capacity at various ingress rates.

   It is RECOMMENDED that all ports on the DUT be used in the test.

   The tests described below have iterations called "first iteration",
   "second iteration", and "last iteration".  The idea is to show the
   first two iterations so the reader understands the logic of how to
   keep incrementing the iterations.  The last iteration shows the
   end state of the variables.










<span class="grey">Avramov &amp; Rapp                Informational                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


   For example:

   Stateful traffic port variation (TCP traffic):

   TCP traffic needs to be generated for this test.  During the
   iterations, the number of egress ports MAY vary as well.

   o  First iteration: One ingress port receiving stateful TCP traffic
      and one ingress port receiving stateless traffic destined to
      one egress port.

   o  Second iteration: Two ingress ports receiving stateful TCP traffic
      and one ingress port receiving stateless traffic destined to
      one egress port.

   o  Last iteration: N-2 ingress ports receiving stateful TCP traffic
      and one ingress port receiving stateless traffic destined to
      one egress port.

   Stateless traffic port variation (UDP traffic):

   UDP traffic needs to be generated for this test.  During the
   iterations, the number of egress ports MAY vary as well.

   o  First iteration: One ingress port receiving stateful TCP traffic
      and one ingress port receiving stateless traffic destined to
      one egress port.

   o  Second iteration: One ingress port receiving stateful TCP traffic
      and two ingress ports receiving stateless traffic destined to
      one egress port.

   o  Last iteration: One ingress port receiving stateful TCP traffic
      and N-2 ingress ports receiving stateless traffic destined to
      one egress port.
















<span class="grey">Avramov &amp; Rapp                Informational                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Reporting%20Format"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Reporting Format</span>

   The report MUST include the following:

   -  Number of ingress and egress ports, along with designation of
      stateful or stateless flow assignment.

   -  Stateful flow goodput.

   -  Stateless flow latency.

   -  The repeatability of the test needs to be indicated: the number of
      iterations of the same test and the percentage of variation
      between results (min, max, avg).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   Benchmarking activities as described in this memo are limited to
   technology characterization using controlled stimuli in a laboratory
   environment, with dedicated address space and the constraints
   specified in the sections above.

   The benchmarking network topology will be an independent test setup
   and MUST NOT be connected to devices that may forward the test
   traffic into a production network or misroute traffic to the test
   management network.

   Further, benchmarking is performed on a "black-box" basis, relying
   solely on measurements observable external to the DUT.

   Special capabilities SHOULD NOT exist in the DUT specifically for
   benchmarking purposes.  Any implications for network security arising
   from the DUT SHOULD be identical in the lab and in production
   networks.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IANA Considerations</span>

   This document does not require any IANA actions.













<span class="grey">Avramov &amp; Rapp                Informational                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC1242" name="ref-RFC1242">RFC1242</a>]  Bradner, S., "Benchmarking Terminology for Network
              Interconnection Devices", <a href="rfc1242.html">RFC 1242</a>, DOI 10.17487/RFC1242,
              July 1991, &lt;<a href="https://www.rfc-editor.org/info/rfc1242">https://www.rfc-editor.org/info/rfc1242</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2544" name="ref-RFC2544">RFC2544</a>]  Bradner, S. and J. McQuaid, "Benchmarking Methodology for
              Network Interconnect Devices", <a href="rfc2544.html">RFC 2544</a>,
              DOI 10.17487/RFC2544, March 1999,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2544">https://www.rfc-editor.org/info/rfc2544</a>&gt;.

   [<a id="ref-RFC8174" name="ref-RFC8174">RFC8174</a>]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in
              <a href="rfc2119.html">RFC 2119</a> Key Words", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc8174.html">RFC 8174</a>,
              DOI 10.17487/RFC8174, May 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC8238" name="ref-RFC8238">RFC8238</a>]  Avramov, L. and J. Rapp, "Data Center Benchmarking
              Terminology", <a href="rfc8238.html">RFC 8238</a>, DOI 10.17487/RFC8238, August 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8238">https://www.rfc-editor.org/info/rfc8238</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC2432" name="ref-RFC2432">RFC2432</a>]  Dubray, K., "Terminology for IP Multicast Benchmarking",
              <a href="rfc2432.html">RFC 2432</a>, DOI 10.17487/RFC2432, October 1998,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2432">https://www.rfc-editor.org/info/rfc2432</a>&gt;.

   [<a id="ref-RFC2889" name="ref-RFC2889">RFC2889</a>]  Mandeville, R. and J. Perser, "Benchmarking Methodology
              for LAN Switching Devices", <a href="rfc2889.html">RFC 2889</a>,
              DOI 10.17487/RFC2889, August 2000,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2889">https://www.rfc-editor.org/info/rfc2889</a>&gt;.

   [<a id="ref-RFC3918" name="ref-RFC3918">RFC3918</a>]  Stopp, D. and B. Hickman, "Methodology for IP Multicast
              Benchmarking", <a href="rfc3918.html">RFC 3918</a>, DOI 10.17487/RFC3918,
              October 2004, &lt;<a href="https://www.rfc-editor.org/info/rfc3918">https://www.rfc-editor.org/info/rfc3918</a>&gt;.










<span class="grey">Avramov &amp; Rapp                Informational                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc8239.html">RFC 8239</a>          Data Center Benchmarking Methodology       August 2017</span>


   [<a id="ref-RFC6985" name="ref-RFC6985">RFC6985</a>]  Morton, A., "IMIX Genome: Specification of Variable Packet
              Sizes for Additional Testing", <a href="rfc6985.html">RFC 6985</a>,
              DOI 10.17487/RFC6985, July 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6985">https://www.rfc-editor.org/info/rfc6985</a>&gt;.

   [<a id="ref-TCP-INCAST" name="ref-TCP-INCAST">TCP-INCAST</a>]
              Chen, Y., Griffith, R., Zats, D., Joseph, A., and R. Katz,
              "Understanding TCP Incast and Its Implications for Big
              Data Workloads", April 2012, &lt;<a href="http://yanpeichen.com/professional/usenixLoginIncastReady.pdf">http://yanpeichen.com/</a>
              <a href="http://yanpeichen.com/professional/usenixLoginIncastReady.pdf">professional/usenixLoginIncastReady.pdf</a>&gt;.

Acknowledgments

   The authors would like to thank Al Morton and Scott Bradner for their
   reviews and feedback.

Authors' Addresses

   Lucien Avramov
   Google
   1600 Amphitheatre Parkway
   Mountain View, CA  94043
   United States of America

   Email: lucien.avramov@gmail.com


   Jacob Rapp
   VMware
   3401 Hillview Ave.
   Palo Alto, CA  94304
   United States of America

   Email: jhrapp@gmail.com

















Avramov &amp; Rapp                Informational                    [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc8239 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:15 GMT --></html>