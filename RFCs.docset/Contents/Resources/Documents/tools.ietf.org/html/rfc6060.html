<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6060 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:32 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:6060" name="DC.Identifier"/>
<meta content="This specification is complementary to the GMPLS Ethernet Label
Switching Architecture and Framework and describes the technology-
specific aspects of GMPLS control for Provider Backbone Bridge Traffic
Engineering (PBB-TE). The necessary GMPLS extensions and mechanisms
are described to establish Ethernet PBB-TE point-to-point (P2P) and
point-to-multipoint (P2MP) connections. This document supports, but
does not modify, the standard IEEE data plane. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Fedyk, Don" name="DC.Creator"/>
<meta content="Bitar, Nabil" name="DC.Creator"/>
<meta content="Shah, Himanshu" name="DC.Creator"/>
<meta content="Takacs, Attila" name="DC.Creator"/>
<meta content="March, 2011" name="DC.Date.Issued"/>
<meta content="Generalized Multiprotocol Label Switching (GMPLS) Control of Ethernet Provider Backbone Traffic Engineering (PBB-TE)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6060 - Generalized Multiprotocol Label Switching (GMPLS) Control of Ethernet Provider Backbone Traffic Engineering (PBB-TE)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6060.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6060" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-ccamp-gmpls-ethernet-pbb-te" title="draft-ietf-ccamp-gmpls-ethernet-pbb-te">draft-ietf-ccam...</a>] [<a href="https://datatracker.ietf.org/doc/rfc6060" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6060" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6060" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=6060&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                          D. Fedyk
Request for Comments: 6060                                Alcatel-Lucent
Category: Standards Track                                        H. Shah
ISSN: 2070-1721                                                    Ciena
                                                                N. Bitar
                                                                 Verizon
                                                               A. Takacs
                                                                Ericsson
                                                              March 2011


      <span class="h1">Generalized Multiprotocol Label Switching (GMPLS) Control of</span>
        <span class="h1">Ethernet Provider Backbone Traffic Engineering (PBB-TE)</span>

Abstract

   This specification is complementary to the GMPLS Ethernet Label
   Switching Architecture and Framework and describes the technology-
   specific aspects of GMPLS control for Provider Backbone Bridge
   Traffic Engineering (PBB-TE).  The necessary GMPLS extensions and
   mechanisms are described to establish Ethernet PBB-TE point-to-point
   (P2P) and point-to-multipoint (P2MP) connections.  This document
   supports, but does not modify, the standard IEEE data plane.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6060">http://www.rfc-editor.org/info/rfc6060</a>.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



<span class="grey">Fedyk, et al.                Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Co-Authors .................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Terminology .....................................................<a href="#page-4">4</a>
      <a href="#section-2.1">2.1</a>. PBB-TE and GMPLS Terminology ...............................<a href="#page-5">5</a>
      <a href="#section-2.2">2.2</a>. Conventions Used in This Document ..........................<a href="#page-6">6</a>
   <a href="#section-3">3</a>. Creation and Maintenance of PBB-TE Paths Using GMPLS ............<a href="#page-6">6</a>
      <a href="#section-3.1">3.1</a>. Shared Forwarding ..........................................<a href="#page-9">9</a>
      <a href="#section-3.2">3.2</a>. P2P Connections Procedures for Shared Forwarding ..........<a href="#page-10">10</a>
   <a href="#section-4">4</a>. Specific Procedures ............................................<a href="#page-10">10</a>
      <a href="#section-4.1">4.1</a>. P2P Ethernet LSPs .........................................<a href="#page-10">10</a>
           <a href="#section-4.1.1">4.1.1</a>. P2P Path Maintenance ...............................<a href="#page-11">11</a>
      <a href="#section-4.2">4.2</a>. P2MP Ethernet-LSPs ........................................<a href="#page-12">12</a>
      <a href="#section-4.3">4.3</a>. PBB-TE Ethernet Label .....................................<a href="#page-12">12</a>
      <a href="#section-4.4">4.4</a>. Protection Paths ..........................................<a href="#page-13">13</a>
      <a href="#section-4.5">4.5</a>. Service Instance Identification ...........................<a href="#page-13">13</a>
   <a href="#section-5">5</a>. Error Conditions ...............................................<a href="#page-15">15</a>
      <a href="#section-5.1">5.1</a>. ESP-VID-Related Errors ....................................<a href="#page-15">15</a>
           5.1.1. Invalid ESP-VID Value in the PBB-TE
                  Ethernet Label .....................................<a href="#page-15">15</a>
           <a href="#section-5.1.2">5.1.2</a>. Allocated ESP-VID Range is Exhausted ...............<a href="#page-16">16</a>
      <a href="#section-5.2">5.2</a>. Invalid MAC Address .......................................<a href="#page-16">16</a>
   <a href="#section-6">6</a>. Security Considerations ........................................<a href="#page-16">16</a>
   <a href="#section-7">7</a>. IANA Considerations ............................................<a href="#page-17">17</a>
   <a href="#section-8">8</a>. References .....................................................<a href="#page-17">17</a>
      <a href="#section-8.1">8.1</a>. Normative References ......................................<a href="#page-17">17</a>
      <a href="#section-8.2">8.2</a>. Informative References ....................................<a href="#page-19">19</a>
   <a href="#section-9">9</a>. Acknowledgments ................................................<a href="#page-19">19</a>





<span class="grey">Fedyk, et al.                Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The IEEE 802.1 Provider Backbone Bridge Traffic Engineering (PBB-TE)
   [<a href="#ref-IEEE802.1Qay">IEEE802.1Qay</a>] standard supports the establishment of explicitly
   routed traffic engineered paths within Provider Backbone Bridged
   (PBB) networks.  PBB-TE allows the disabling of:

      - the Spanning Tree Protocol
      - unknown destination address forwarding
      - source address learning

   for administratively selected VLAN Identifiers.  With PBB-TE an
   external provisioning system or control plane can be used to
   configure static entries in the managed objects of bridges and so
   establish traffic engineered paths in the network.

   Generalized MPLS (GMPLS) [<a href="rfc3945.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Architecture"'>RFC3945</a>] is a family of control plane
   protocols designed to operate in connection oriented and traffic
   engineering transport networks.  GMPLS is applicable to a range of
   network technologies including L2SC networks (Layer 2 Switching
   Capable).  The purpose of this document is to specify extensions for
   a GMPLS-based control plane to manage PBB-TE explicitly routed
   traffic engineered paths.  This specification is complementary to the
   GMPLS Ethernet Label Switching Architecture and Framework document
   [<a href="rfc5828.html" title='"Generalized Multiprotocol Label Switching (GMPLS) Ethernet Label Switching Architecture and Framework"'>RFC5828</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Co-Authors"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Co-Authors</span>

   This document is the result of a large team of authors and
   contributors.  The following is a list of the co-authors:

   David Allan
   Ericsson
   EMail: david.i.allan@ericsson.com

   Diego Caviglia
   Ericsson
   Via Negrone 1/A
   Genoa, Italy 16153
   EMail: diego.caviglia@ericsson.com

   Alan McGuire
   BT Group PLC
   OP6 Polaris House,
   Adastral Park, Martlesham Heath,
   Ipswich, Suffolk, IP5 3RE, UK
   EMail: alan.mcguire@bt.com




<span class="grey">Fedyk, et al.                Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   Nurit Sprecher
   Nokia Siemens Networks,
   GmbH &amp; Co. KG
   COO RTP IE Fixed
   3 Hanagar St. Neve Ne'eman B,
   45241 Hod Hasharon, Israel
   EMail: nurit.sprecher@nsn.com

   Lou Berger
   LabN Consulting, L.L.C.
   Phone: +1-301-468-9228
   EMail: lberger@labn.net

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   In addition to well-understood GMPLS terms, this memo uses the
   following terminology from IEEE 802.1 [<a href="#ref-IEEE802.1ah">IEEE802.1ah</a>] [<a href="#ref-IEEE802.1Qay">IEEE802.1Qay</a>]:

      - BCB         Backbone Core Bridge
      - BEB         Backbone Edge Bridge
      - B-MAC       Backbone MAC
      - B-VID       Backbone VLAN ID
      - B-VLAN      Backbone VLAN
      - CBP         Customer Backbone Port
      - CCM         Continuity Check Message
      - CNP         Customer Network Port
      - C-MAC       Customer MAC
      - C-VID       Customer VLAN ID
      - C-VLAN      Customer VLAN
      - ESP         Ethernet Switched Path
      - ESP-MAC SA  ESP Source MAC Address
      - ESP-MAC DA  ESP Destination MAC Address
      - ESP-VID     ESP VLAN ID
      - Eth-LSP     Ethernet Label Switched Path
      - IB-BEB      A BEB comprised of both I- and B-components
      - I-SID       Ethernet Service Instance Identifier
      - TAG         An Ethernet Header Field with Type and Values
      - MAC         Media Access Control
      - PBB         Provider Backbone Bridges
      - PBB-TE      Provider Backbone Bridges Traffic Engineering
      - PIP         Provider Instance Port
      - PNP         Provider Network Port
      - PS          Protection Switching
      - P2P         Point-to-Point
      - P2MP        Point-to-Multipoint
      - SVL         Shared VLAN Learning





<span class="grey">Fedyk, et al.                Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


      - TESI        Traffic Engineering Service Instance
      - VID         VLAN ID
      - VIP         Virtual Instance Port
      - VLAN        Virtual LAN

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20PBB-TE%20and%20GMPLS%20Terminology"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  PBB-TE and GMPLS Terminology</span>

   The PBB-TE specification [<a href="#ref-IEEE802.1Qay">IEEE802.1Qay</a>] defines some additional
   terminology to clarify the PBB-TE functions.  We repeat these here in
   expanded context to translate from IEEE to GMPLS terminology.  The
   terms "bridge" and "switch" are used interchangeably in this
   document.  The signaling extensions described here apply equally well
   to a PBB-TE-capable bridge supporting GMPLS signaling or to a GMPLS-
   capable switch supporting Ethernet PBB-TE forwarding.

      - Ethernet Switched Path (ESP):

        A provisioned traffic engineered unidirectional connectivity
        path between two or more Customer Backbone Ports (CBPs) that
        extends over a Provider Backbone Bridge Network (PBBN).  The
        path is identified by the 3-tuple &lt;ESP-MAC DA, ESP-MAC SA, ESP-
        VID&gt;.  An ESP is point-to-point (P2P) or point-to-multipoint
        (P2MP).  An ESP is analogous to a (unidirectional) point-to-
        point or point-to-multipoint LSP.  We use the term Ethernet-LSP
        (Eth-LSP) for GMPLS established ESPs.

      - Point-to-Point ESP:

        An ESP between two CBPs.  The ESP-DA and the ESP-SA in the ESP's
        3-tuple identifier are the individual MAC addresses of the two
        CBPs.

      - Point-to-Multipoint ESP:

        An ESP among one root CBP and n leaf CBPs.  The ESP-DA in the
        ESP's 3-tuple identifier is a group MAC address identifying the
        n leaf CBPs, and the ESP-SA is the individual MAC address of the
        root.

      - Point-to-Point PBB-TE Service Instance (P2P TESI):

        A service instance supported by two point-to-point ESPs where
        the ESPs' endpoints have the same CBP MAC addresses.  The two
        unidirectional ESPs are forming a bidirectional service.  The
        PBB-TE standard [<a href="#ref-IEEE802.1Qay">IEEE802.1Qay</a>] notes the following: for reasons
        relating to TE service monitoring diagnostics, operational
        simplicity, etc., the IEEE PBB-TE standard assumes that the
        point-to-point ESPs associated with a point-to-point TESI are



<span class="grey">Fedyk, et al.                Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


        co-routed.  Support for a point-to-point TE services that
        comprises non-co-routed ESPs is problematic, and is not defined
        in this standard.  Hence, a GMPLS bidirectional LSP is analogous
        to a P2P TE Service Instance.  We use the term "bidirectional
        Ethernet-LSP" for GMPLS-established P2P PBB-TE Service
        Instances.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Creation%20and%20Maintenance%20of%20PBB-TE%20Paths%20Using%20GMPLS"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Creation and Maintenance of PBB-TE Paths Using GMPLS</span>

   IEEE PBB-TE is a connection-oriented Ethernet technology.  PBB-TE
   ESPs are created bridge by bridge (or switch by switch) by simple
   configuration of Ethernet forwarding entries.  This document
   describes the use of GMPLS as a valid control plane for the setup,
   teardown, protection, and recovery of ESPs and TESIs and specifies
   the required RSVP-TE extensions for the control of PBB-TE Service
   Instances.

   PBB-TE ESP and services are always originated and terminated on
   IB-Backbone Edge Bridges (IB-BEBs).  IB-BEBs are constituted of I and
   B components, this is illustrated in Figure 1.  A B-component refers
   to the structure and mechanisms that support the relaying of frames
   identified by Backbone VLANs in a Provider Backbone Bridge.  An
   I-component refers to the structure and mechanisms that support the
   relaying of frames identified by service instances (I-SIDs) in a
   Provider Backbone Bridge.  PBB and PBB-TE relay frames with added
   I-Component TAGs in the I-component and VLAN TAGs in the B-component.
   PBB and PBB-TE forward frames based on VLAN ID in the VLAN TAG (in
   the PBB case a B-VID) until the destination MAC address is supported
   locally by a B-component on this bridge indicating the destination
   has been reached.  At that point, the B-VLAN tag is removed and
   processing or forwarding on the next TAG begins (in the PBB case an
   I-Component TAG) until the I-component identified by the I-SID is
   reached.  At the I-component, the I-Component TAG is removed and the
   next Ethernet type identifies the TAG, etc.

   An Ethernet service supported by a PBB-TE TESI is always attached to
   a Customer Network Port (CNP) of the I-component.  A Service Instance
   Identifier (I-SID) is assigned for the service.  I-SIDs are only
   looked at by source and destination (edge) bridges, so I-SIDs are
   transparent to path operations and MAY be signaled.  The I- and
   B-components have internal ports that are connected via an internal
   LAN.  These internal ports are the Provider Instance Ports (PIPs) and



<span class="grey">Fedyk, et al.                Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   Customer Backbone Ports (CBPs).  PIPs and CBPs are not visible
   outside the IB-BEB.  ESPs are always originated and terminated on CBP
   ports and use the MAC address of that port.  The I-component
   encapsulates the service frames arriving from the CNP by adding an
   I-SID and a complete Ethernet MAC header with an ESP-MAC DA and
   ESP-MAC SA.  The B-component adds the ESP-VID.

   This document defines extensions to GMPLS to establish ESPs and
   TESIs.  As can be seen from the above, this requires configuration of
   both the I- and B-components of the IB-BEBs connected by the ESPs.

   In the GMPLS control plane, TE Router IDs are used to identify the
   IB-BEBs and Backbone Core Bridges (BCBs), and TE Links describe links
   connected to PNPs and CNPs.  TE Links are not associated with CBPs or
   PIPs.

   Note that since multiple internal CBPs may exist, an IB-BEB receiving
   a PATH message MUST be able to determine the appropriate CBP that is
   the termination point of the Eth-LSP.  To this end, IB-BEBs SHOULD
   advertise the CNP TE Links in the GMPLS control plane and RSVP-TE
   signaling SHOULD use the CNP TE Links to identify the termination
   point of Eth-LSPs.  An IB-BEB receiving a PATH message specifying one
   of its CNPs can locally determine which CBPs have internal
   connectivity to the I-component supporting the given CNP.  In the
   case that there is more than one suitable CBP, and no I-SID
   information is provided in the PATH message or previously in the
   associated Call setup, then the IB-BEB can decide freely which CBP to
   assign to the requested connection.  On the other hand, if there is
   information on the service (I-SID) that the given ESP will support,
   then the IB-BEB MUST first determine which PIP and associated CBP is
   configured with the I-SID and MUST assign that CBP to the ESP.




















<span class="grey">Fedyk, et al.                Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


                      Backbone Edge Bridge (BEB)
     +------------------------------------------------------+
     |                    &lt;TE - Router ID &gt;                 |
     |                                                      |
     |  I-Component Relay             B-Component Relay     |
     | +-----------------------+    +---------------------+ |
     | |          +---+        |    |         B-VID       | |
     | |          |VIP|        |    | +---+         +---+ | | &lt;TE Link&gt;
     | |          +---+        |  +---|CBP|         |PNP|------
     | |                       |  | | +---+         +---+ | |
     | |  +---+          +---+ |  | |                     | |
    ------|CNP|          |PIP|----+ |                     | |
     | |  +---+          +---+ |    |                     | |
     | +-----------------------+    +---------------------+ |
     |                                                      |
     |                   PBB Edge Bridge                    |
     +------------------------------------------------------+

     ^--------Configured--------------^
                            ^-----------GMPLS or Configured------^

                  Figure 1: IB-BEBs and GMPLS Identifiers

   Control  TE Router ID                     TE Router ID
   Plane       |  (TE Link)                       |
               V     |                            V
             +----+  |                         +-----+
   Data      |    |  |                         |     |
   Plane     |    |  V    label=ESP:VID/MAC DA |     |
        -----N    N----------------------------N     N----------
             |    |          PBB-TE            |     |   \ Network
             |    |                            /     |     Or
             +----+                           /+-----+     Customer
              BCB                       ESP:MAC IB-BEB     Facing
                                                           Ethernet
                                                           Ports

            Figure 2: Ethernet/GMPLS Addressing and Label Space

   PBB-TE defines the tuple of &lt;ESP-MAC DA, ESP-MAC SA, ESP-VID&gt; as a
   unique connection identifier in the data plane, but the forwarding
   operation only uses the ESP-MAC DA and the ESP-VID in each direction.
   The ESP-VID typically comes from a small number of VIDs dedicated to
   PBB-TE.  ESP-VIDs can be reused across ESPs.  There is no requirement
   that ESP-VIDs for two ESPs that form a P2P TESI be the same.






<span class="grey">Fedyk, et al.                Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   When configuring an ESP with GMPLS, the ESP-MAC DA and ESP-VID are
   carried in a generalized label object and are assigned hop by hop,
   but are invariant within a domain.  This invariance is similar to
   GMPLS operation in transparent optical networks.  As is typical with
   other technologies controlled by GMPLS, the data plane receiver MUST
   accept, and usually assigns, labels from its available label pool.
   This, together with the label invariance requirement mentioned above,
   result in each PBB-TE Ethernet Label being a domain-wide unique
   label, with a unique ESP-VID + ESP-MAC DA, for each direction.

   The following illustrates PBB-TE Ethernet Labels and ESPs for a P2P
   TESI.

      GMPLS Upstream Label          &lt;ESP:MAC1(DA), VID1&gt; (60 bits)
      GMPLS Downstream Label        &lt;ESP:MAC2(DA), VID2&gt; (60 bits)
      Upstream PBB-TE ESP 3-tuple   &lt;ESP:MAC1, MAC2, VID1&gt; (108 bits)
      Downstream PBB-TE ESP 3-tuple &lt;ESP:MAC2, MAC1, VID2&gt; (108 bits)

                           Table 1: Labels and ESPs

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Shared%20Forwarding"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Shared Forwarding</span>

   One capability of a connectionless Ethernet data plane is to reuse
   destination forwarding entries for packets from any source within a
   VLAN to a destination.  When setting up P2P PBB-TE connections for
   multiple sources sharing a common destination, this capability MAY be
   preserved provided certain requirements are met.  We refer to this
   capability as "shared forwarding".  Shared forwarding is invoked
   based on policy when conditions are met.  It is a local decision by
   label allocation at each end plus the path constraints.  Shared
   forwarding has no impact on the actual paths that are set up, but it
   allows the reduction of forwarding entries.  Shared forwarding paths
   are identical in function to independently routed paths that share a
   path from an intersecting bridge or link except they share a single
   forwarding entry.

   The forwarding memory savings from shared forwarding can be quite
   dramatic in some topologies where a high degree of meshing is
   required; however, it is typically easier to achieve when the
   connectivity is known in advance.  Normally, the originating GMPLS
   switch will not have knowledge of the set of shared forwarding paths
   rooted on the source or destination switch.

   Use of a Path Computation Element [<a href="rfc4655.html" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>] or other planning style
   of tool with more complete knowledge of the network configuration is
   a way to impose pre-selection of shared forwarding with multiple
   paths using a single forwarding entry and optimizing for both




<span class="grey">Fedyk, et al.                Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   directions.  In this scenario, the originating bridge uses the
   LABEL_SET and UPSTREAM_LABEL objects to indicate the selection of the
   shared forwarding labels at both ends.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20P2P%20Connections%20Procedures%20for%20Shared%20Forwarding"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  P2P Connections Procedures for Shared Forwarding</span>

   The ESP-VID/ESP-MAC DA can be considered to be a shared forwarding
   identifier or label consisting of some number of P2P connections
   distinctly identified by the &lt;ESP-MAC DA, ESP-MAC SA, ESP-VID&gt; tuple.
   This is analogous to an LDP label merge, but in the shared forwarding
   case, the ESP header contains sufficient information to identify the
   flow to which a packet belongs.  Resources can continue to be
   allocated per LSP with shared forwarding.

   VLAN-tagged Ethernet packets include priority marking.  Priority bits
   MAY be used to indicate Class of Service (COS) and drop priority.
   Thus, traffic from multiple COSs could be multiplexed on the same
   Eth-LSP (i.e., similar to E-LSPs) and queuing and drop decisions are
   made based on the p-bits.  This means that the queue selection can be
   done based on a per-flow basis (i.e., Eth-LSP + priority) and is
   decoupled from the actual steering of the packet at any given bridge.

   A bridge terminating an Eth-LSP will frequently have more than one
   suitable candidate for sharing a forwarding entry (common
   ESP-VID/ESP-MAC DA, unique ESP-MAC SA).  It is a local decision of
   how this is performed but a good choice is a path that reduces the
   requirement for new forwarding entries by reusing common existing
   paths.

   The concept of bandwidth management still applies equally well with
   shared forwarding.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Specific%20Procedures"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Specific Procedures</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20P2P%20Ethernet%20LSPs"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  P2P Ethernet LSPs</span>

   PBB-TE is designed to be bidirectional and symmetrically routed just
   like Ethernet.  That is, complete and proper functionality of
   Ethernet protocols is only guaranteed for bidirectional Eth-LSPs.  In
   this section, we discuss the establishment of bidirectional Eth-LSPs.

   Note, however, that it is also possible to use RSVP-TE to configure
   unidirectional ESPs, if the UPSTREAM_LABEL is not included in the
   PATH message.







<span class="grey">Fedyk, et al.                Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   To initiate a bidirectional Eth-LSP, the initiator of the PATH
   message MUST use the procedures outlined in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] with the
   following specifics:

      1) it MUST set the LSP encoding type to Ethernet (2) [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Swicthing (GMPLS) Signaling Functional Description"'>RFC3471</a>].

      2) it MUST set the LSP switching type to "802_1 PBB-TE", value 40.

      3) it SHOULD set the Generalized Payload Identifier (G-PID) to
         Ethernet (33) [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Swicthing (GMPLS) Signaling Functional Description"'>RFC3471</a>].

      4) it MUST set the UPSTREAM_LABEL to the ESP-VID1/ESP-MAC1 tuple
         where the ESP-VID1 is administered locally for the local MAC
         address: MAC1.

      5) it SHOULD set the LABEL_SET or SUGGESTED_LABEL if it chooses to
         influence the choice of ESP-VID/ESP-MAC DA.

      6) it MAY carry an I-SID via Call/Connection ID [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].

   Intermediate and egress bridge processing is not modified by this
   document, i.e., is per [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].  However, as previously stated,
   intermediate bridges supporting the 802_1 PBB-TE switching type MUST
   NOT modify LABEL values.

   The ESP-VID1/ESP-MAC1 tuple contained in the UPSTREAM_LABEL is used
   to create a static forwarding entry in the Filtering Database of
   bridges at each hop for the upstream direction.  This behavior is
   inferred from the switching type, which is 802_1 PBB-TE.  The port
   derived from the RSVP_HOP object and the ESP-VID1 and ESP-MAC1
   included in the PBB-TE Ethernet Label constitute the static entry.

   At the destination, an ESP-VID (ESP-VID2) is allocated for the local
   MAC address: MAC2, the ESP-VID2/ESP-MAC2 tuple is passed in the LABEL
   object in the RESV message.  As with the PATH message, intermediate
   bridge processing is per [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>], and the LABEL object MUST be
   passed on unchanged, upstream.  The ESP-VID2/ESP-MAC2 tuple contained
   in the LABEL object is installed in the forwarding table as a static
   forwarding entry at each hop.  This creates a bidirectional Eth-LSP
   as the PATH and RESV messages follow the same path.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.1.%20%20P2P%20Path%20Maintenance"></a><a class="selflink" href="#section-4.1.1" name="section-4.1.1">4.1.1</a>.  P2P Path Maintenance</span>

   Make-before-break procedures can be employed to modify the
   characteristics of a P2P Eth-LSP.  As described in [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>], the LSP
   ID in the sender template is updated as the new path is signaled.
   The procedures (including those for shared forwarding) are identical
   to those employed in establishing a new LSP, with the extended tunnel



<span class="grey">Fedyk, et al.                Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   ID in the signaling exchange ensuring that double booking of an
   associated resource does not occur.

   Where individual paths in a protection group are modified, signaling
   procedures MAY be combined with Protection Switching (PS)
   coordination to administratively force PS operations such that
   modification is only ever performed on the protection path.  PS is a
   native capability of PBB-TE [<a href="#ref-IEEE802.1Qay">IEEE802.1Qay</a>] that can operate when two
   paths are set up between two common endpoints.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20P2MP%20Ethernet-LSPs"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  P2MP Ethernet-LSPs</span>

   PBB-TE supports P2MP VID/Multicast MAC (MMAC) forwarding.  In this
   case, the PBB-TE Ethernet Label consists of a VID and a Group MAC
   address.  The procedures outlined in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] and [<a href="rfc4875.html" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>] could be
   adapted to signal P2MP LSPs for the source (point) to destination
   (multipoint) direction.  Each one of the branches of the P2MP Eth-LSP
   would be associated with a reverse-path symmetric and congruent P2P
   Eth-LSP.

   Complete procedures for signaling bidirectional P2MP E-LSPs are out
   of scope for this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20PBB-TE%20Ethernet%20Label"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  PBB-TE Ethernet Label</span>

   The PBB-TE Ethernet Label is a new generalized label with the
   following format:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |0 0 0 0|      ESP VID          |    ESP MAC (highest 2 bytes)  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            ESP MAC                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                       Figure 3: PBB-TE Ethernet Label

   This format MUST be used for both P2P and P2MP Eth-LSPs.  For P2P
   Eth-LSPs, the fields specify a VID and a unicast MAC address;
   whereas, for P2MP Eth-LSPs, a VID and a group MAC address is carried
   in the label.  The PBB-TE Ethernet Label is a domain-wide unique
   label and MUST be passed unchanged at each hop.  This has similarity
   to the way in which a wavelength label is handled at an intermediate
   bridge that cannot perform wavelength conversion, and is described in
   [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].





<span class="grey">Fedyk, et al.                Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Protection%20Paths"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Protection Paths</span>

   When protection is used for path recovery, it is required to
   associate the working and protection paths into a protection group.
   This is achieved as defined in [<a href="rfc4872.html" title='"RSVP-TE Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery"'>RFC4872</a>] and [<a href="rfc4873.html" title='"GMPLS Segment Recovery"'>RFC4873</a>] using the
   ASSOCIATION and PROTECTION objects.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5.%20%20Service%20Instance%20Identification"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a>.  Service Instance Identification</span>

   The I-SID is used to uniquely identify services within the network.
   Unambiguous identification is achieved by ensuring global uniqueness
   of the I-SIDs within the network or at least between any pair of edge
   bridges.  On IB-BEBs, the Backbone Service Instance Table is used to
   configure the mapping between I-SIDs and ESPs.  This configuration
   can be either manual or semi-automated by signaling described here.

   RSVP-TE Signaling MAY be used to automate I-SID to ESP mapping.  By
   relying on signaling, it is ensured that the same I-SID is assigned
   to the service and mapped to the same ESP.  Note, by signaling the
   I-SID associated to the ESP, one can ensure that IB-BEBs select the
   appropriate CBP port.

   CALL signaling [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>] MAY be used to create an association between
   the Eth-LSP endpoints prior to establishment of the LSP.  The
   CALL_ATTRIBUTES object can be used during CALL signaling, as
   described in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>], to indicate properties of the CALL.  The
   Service ID TLV, defined below, can be carried in the CALL_ATTRIBUTES
   object to indicate the I-SID to ESP mapping for the Eth-LSP that will
   be set up in association with the CALL.

   Alternatively, the GMPLS RSVP-TE PATH message can carry the I-SID
   association using the Service ID TLV in the LSP_ATTRIBUTES object
   [<a href="rfc5420.html" title='"Encoding of Attributes for MPLS LSP Establishment Using Resource Reservation Protocol Traffic Engineering (RSVP-TE)"'>RFC5420</a>] at the time of Eth-LSP signaling.  Using this mechanism, it
   is possible to create the I-SID association, either when the path is
   set up or at a later time using a PATH refresh.

   A new Service ID TLV is defined for the CALL_ATTRIBUTES and
   LSP_ATTRIBUTES objects.  The type value is 3 when carried in the
   CALL_ATTRIBUTES object and the type value is 2 when carried in the
   LSP_ATTRIBUTES object. The format is depicted below.











<span class="grey">Fedyk, et al.                Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |      Length (variable)        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       I-SID Set Object 1                      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      :                               :                               :
      :                               :                               :
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       I-SID Set Object n                      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                           Figure 4: Service ID TLV

      - I-SID Set Object: is used to define a list or range of I-SIDs.
        Multiple I-SID Set Objects can be present.  At least one I-SID
        Set Object MUST be present.  In most of the cases, a single
        I-SID Set Object with a single I-SID value is used.  The I-SID
        Set Object is used to define a list or range of I-SIDs.  The
        format of the I-SID Set Object is based on the LABEL_SET Object:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Action     |  Reserved     |        Length                 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Reserved    |            I-SID 1                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      :                               :                               :
      :                               :                               :
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Reserved    |            I-SID n                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                          Figure 5: I-SID Set Object

      - Action: 8 bits

        The following actions are defined: list (0), range (1).  When a
        range is defined, there are only two I-SIDs that follow the
        beginning I-SID and the end of the range I-SID.  When list is
        defined, a number of I-SIDs may be defined.

      - Length: 16 bits

        This indicates the length of the I-SID Set object.




<span class="grey">Fedyk, et al.                Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


      - I-SID: 24 bits

        The I-SID value identifies a particular backbone service
        instance.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Error%20Conditions"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Error Conditions</span>

   The following errors identify Eth-LSP-specific problems.

   In PBB-TE, a set of ESP-VIDs allocated to PBB-TE must be configured.
   Therefore, it is possible in some situations that the configuration
   of a bridge is not the same as other bridges.  If the ESP-VIDs of
   various bridges have some ESP-VIDs in common, it is possible some
   paths may be set up before encountering issues.  This is a management
   issue since all bridges should have the same ESP-VID range.
   Configuration should be consistent.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20ESP-VID-Related%20Errors"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  ESP-VID-Related Errors</span>

   The network operator administratively selects a set of VLAN
   Identifiers that can be used to set up ESPs.  Consequently, any VID
   outside the allocated range is invalid, and an error MUST be
   generated where the mismatch is discovered.  The Error indication is
   carried in the PathErr message from any intermediate bridge that does
   not support the signaled source VID or optionally the destination
   VID.  The Error MAY be indicated in the ResvErr if the allocation
   error happens on the RESV message.  In this case, a bridge that does
   not support the signaled destination VID MUST signal the error.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.1.%20%20Invalid%20ESP-VID%20Value%20in%20the%20PBB-TE%20Ethernet%20Label"></a><a class="selflink" href="#section-5.1.1" name="section-5.1.1">5.1.1</a>.  Invalid ESP-VID Value in the PBB-TE Ethernet Label</span>

   If a bridge is not configured to use the ESP-VID value, carried in
   the Label object, for PBB-TE ESPs, it MUST immediately generate an
   error: Routing problem (24) / Unacceptable label value (6).  Handling
   of this error is according to [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>].

   Note that an originating bridge can reuse an ESP-VID with a different
   source or destination B-MAC address.  By allocating a number of
   B-MACs and a number of ESP-VIDs, a large number of PBB-TE connections
   may be supported.

   Note, this error may be originated by any bridge along the path.









<span class="grey">Fedyk, et al.                Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.2.%20%20Allocated%20ESP-VID%20Range%20is%20Exhausted"></a><a class="selflink" href="#section-5.1.2" name="section-5.1.2">5.1.2</a>.  Allocated ESP-VID Range is Exhausted</span>

   The destination bridge, after receiving the PATH message, has to
   assign a VID, which, together with its MAC address, will constitute
   the PBB-TE Ethernet Label.  An existing VID may be reused when shared
   forwarding is used or when there are no path conflicts; otherwise,
   the bridge has to allocate a VID.

   Depending on the size of the allocated VLAN range and the number of
   Eth-LSPs terminated on a particular bridge, it is possible that the
   available VIDs are exhausted; hence, no PBB-TE Ethernet Label can be
   allocated.  In this case, the destination bridge SHOULD generate a
   PathErr message with error code: Routing problem (24) and error
   value: MPLS Label allocation failure (9).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Invalid%20MAC%20Address"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Invalid MAC Address</span>

   IEEE defines a set of reserved MAC addresses from 01-80-C2-00-00-00
   to 01-80-C2-00-00-0F as explained in [<a href="#ref-IEEE802.1Q">IEEE802.1Q</a>] that have special
   meaning, processing, and follow specific forwarding rules.  These
   addresses cannot be used for PBB-TE ESPs.  In the case the PBB-TE
   Ethernet Label refers to such a MAC address, a bridge encountering
   the mismatch MUST immediately generate an error: Routing problem (24)
   / Unacceptable label value (6).  Handling of this error is according
   to [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   This document does not introduce new security issues; the
   considerations in [<a href="rfc4872.html" title='"RSVP-TE Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery"'>RFC4872</a>] and [<a href="rfc4873.html" title='"GMPLS Segment Recovery"'>RFC4873</a>] apply.

   A GMPLS-controlled Ethernet PBB-TE system assumes that users and
   devices attached to User-to-Network Interfaces (UNIs) may behave
   maliciously, negligently, or incorrectly.  Intra-provider control
   traffic is trusted not to be malicious.  In general, these
   requirements are no different from the security requirements for
   operating any GMPLS network.  Access to the trusted network will only
   occur through the protocols defined for the UNI or Network-to-Network
   Interface (NNI) or through protected management interfaces.

   When in-band GMPLS signaling is used for the control plane, the
   security of the control plane and the data plane may affect each
   other.  When out-of-band GMPLS signaling is used for the control
   plane, the data-plane security is decoupled from the control plane;
   therefore, the security of the data plane has less impact on overall
   security.





<span class="grey">Fedyk, et al.                Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   Where GMPLS is applied to the control of VLAN only, the commonly
   known techniques for mitigation of Ethernet denial-of-service (DoS)
   attacks may be required on UNI ports.  PBB-TE has been designed to
   interwork with legacy VLANs and the VLANs provide isolation from
   Ethernet legacy control planes.

   Where control-plane communications are point-to-point over links that
   employ 802.1AE Media Access Control Security [<a href="#ref-MACSEC" title='"IEEE Standard for Local and metropolitan area networks Media Access Control (MAC) Security"'>MACSEC</a>], it may
   reasonably be determined that no further security measures are used.
   In other cases, it is appropriate to use control-plane security where
   it is deemed necessary to secure the signaling messages.  GMPLS
   signaling security measures are described in [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Swicthing (GMPLS) Signaling Functional Description"'>RFC3471</a>] and [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>],
   and they inherit security techniques applicable to RSVP-TE, as
   described in [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>] and [<a href="rfc2205.html" title='"Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification"'>RFC2205</a>].  For a fuller overview of GMPLS
   security techniques, see [<a href="rfc5920.html" title='"Security Framework for MPLS and GMPLS Networks"'>RFC5920</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  IANA Considerations</span>

   A new Switching Type, "802_1 PBB-TE" (40), has been assigned in the
   Switching Types registry of the GMPLS Signaling Parameters registry.

   The Service ID TLV has been assigned in the Attributes TLV Space in
   the RSVP-TE Parameters registry.  It is carried in the LSP_ATTRIBUTES
   object (class = 197, C-Type = 1) [<a href="rfc5420.html" title='"Encoding of Attributes for MPLS LSP Establishment Using Resource Reservation Protocol Traffic Engineering (RSVP-TE)"'>RFC5420</a>].  This new type has been
   registered as follows:

      Type: 2
      Name: Service ID TLV
      Allowed on LSP_ATTRIBUTES: Yes
      Allowed on LSP_REQUIRED_ATTRIBUTES: No

   The Service ID TLV has been assigned value 3 in the Call Attributes
   TLV registry in the RSVP Parameters registry.  It is carried in the
   CALL_ATTRIBUTES object (class = 202, C-Type = 1) defined by
   [<a href="rfc6001.html" title='"Generalized MPLS (GMPLS) Protocol Extensions for Multi-Layer and Multi-Region Networks (MLN/MRN)"'>RFC6001</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20References"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2205" name="ref-RFC2205">RFC2205</a>]  Braden, R., Ed., Zhang, L., Berson, S., Herzog, S., and S.
              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1
              Functional Specification", <a href="rfc2205.html">RFC 2205</a>, September 1997.





<span class="grey">Fedyk, et al.                Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


   [<a id="ref-RFC3209" name="ref-RFC3209">RFC3209</a>]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", <a href="rfc3209.html">RFC 3209</a>, December 2001.

   [<a id="ref-RFC3471" name="ref-RFC3471">RFC3471</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Swicthing (GMPLS) Signaling Functional Description", <a href="rfc3471.html">RFC</a>
              <a href="rfc3471.html">3471</a>, January 2003.

   [<a id="ref-RFC3473" name="ref-RFC3473">RFC3473</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Resource ReserVation Protocol-
              Traffic Engineering (RSVP-TE) Extensions", <a href="rfc3473.html">RFC 3473</a>,
              January 2003.

   [<a id="ref-RFC3945" name="ref-RFC3945">RFC3945</a>]  Mannie, E., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Architecture", <a href="rfc3945.html">RFC 3945</a>, October 2004.

   [<a id="ref-RFC4872" name="ref-RFC4872">RFC4872</a>]  Lang, J., Ed., Rekhter, Y., Ed., and D. Papadimitriou,
              Ed., "RSVP-TE Extensions in Support of End-to-End
              Generalized Multi-Protocol Label Switching (GMPLS)
              Recovery", <a href="rfc4872.html">RFC 4872</a>, May 2007.

   [<a id="ref-RFC4873" name="ref-RFC4873">RFC4873</a>]  Berger, L., Bryskin, I., Papadimitriou, D., and A. Farrel,
              "GMPLS Segment Recovery", <a href="rfc4873.html">RFC 4873</a>, May 2007.

   [<a id="ref-RFC4974" name="ref-RFC4974">RFC4974</a>]  Papadimitriou, D. and A. Farrel, "Generalized MPLS (GMPLS)
              RSVP-TE Signaling Extensions in Support of Calls", <a href="rfc4974.html">RFC</a>
              <a href="rfc4974.html">4974</a>, August 2007.

   [<a id="ref-RFC5420" name="ref-RFC5420">RFC5420</a>]  Farrel, A., Ed., Papadimitriou, D., Vasseur, JP., and A.
              Ayyangarps, "Encoding of Attributes for MPLS LSP
              Establishment Using Resource Reservation Protocol Traffic
              Engineering (RSVP-TE)", <a href="rfc5420.html">RFC 5420</a>, February 2009.

   [<a id="ref-RFC6001" name="ref-RFC6001">RFC6001</a>]  Papadimitriou, D., Vigoureux, M., Shiomoto, K., Brungard,
              D., and JL. Le Roux, "Generalized MPLS (GMPLS) Protocol
              Extensions for Multi-Layer and Multi-Region Networks
              (MLN/MRN)", <a href="rfc6001.html">RFC 6001</a>, October 2010.














<span class="grey">Fedyk, et al.                Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-IEEE802.1ah" name="ref-IEEE802.1ah">IEEE802.1ah</a>]
              "IEEE Standard for Local and Metropolitan Area Networks -
              Virtual Bridged Local Area Networks - Amendment 6:
              Provider Backbone Bridges", (2008)

   [<a id="ref-IEEE802.1Q" name="ref-IEEE802.1Q">IEEE802.1Q</a>]
              "IEEE Standard for Local and Metropolitan Area Networks -
              Virtual Bridged Local Area Networks", IEEE Std
              802.1Q-2005, May 19, 2006.

   [<a id="ref-IEEE802.1Qay" name="ref-IEEE802.1Qay">IEEE802.1Qay</a>]
              "IEEE Standard for Local and Metropolitan Area Networks -
              Virtual Bridged Local Area Networks - Amendment : Provider
              Backbone Bridges Traffic Engineering", 2009.

   [<a id="ref-MACSEC" name="ref-MACSEC">MACSEC</a>]   "IEEE Standard for Local and metropolitan area networks
              Media Access Control (MAC) Security", IEEE 802.1AE-2006,
              August 18, 2006.

   [<a id="ref-RFC4875" name="ref-RFC4875">RFC4875</a>]  Aggarwal, R., Ed., Papadimitriou, D., Ed., and S.
              Yasukawa, Ed., "Extensions to Resource Reservation
              Protocol - Traffic Engineering (RSVP-TE) for Point-to-
              Multipoint TE Label Switched Paths (LSPs)", <a href="rfc4875.html">RFC 4875</a>, May
              2007.

   [<a id="ref-RFC4655" name="ref-RFC4655">RFC4655</a>]  Farrel, A., Vasseur, J.-P., and J. Ash, "A Path
              Computation Element (PCE)-Based Architecture", <a href="rfc4655.html">RFC 4655</a>,
              August 2006.

   [<a id="ref-RFC5828" name="ref-RFC5828">RFC5828</a>]  Fedyk, D., Berger, L., and L. Andersson, "Generalized
              Multiprotocol Label Switching (GMPLS) Ethernet Label
              Switching Architecture and Framework", <a href="rfc5828.html">RFC 5828</a>, March
              2010.

   [<a id="ref-RFC5920" name="ref-RFC5920">RFC5920</a>]   Fang, L., Ed., "Security Framework for MPLS and GMPLS
              Networks", <a href="rfc5920.html">RFC 5920</a>, July 2010.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Acknowledgments"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Acknowledgments</span>

   The authors would like to thank Dinesh Mohan, Nigel Bragg, Stephen
   Shew, Dave Martin and Sandra Ballarte for their contributions to this
   document.  The authors thank Deborah Brungard and Adrian Farrel for
   their review and suggestions to this document.






<span class="grey">Fedyk, et al.                Standards Track                   [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc6060.html">RFC 6060</a>            GMPLS Control of Ethernet PBB-TE          March 2011</span>


Authors' Addresses

   Don Fedyk
   Alcatel-Lucent
   Groton, MA  01450
   Phone: +1-978-467-5645
   EMail: donald.fedyk@alcatel-lucent.com

   Himanshu Shah
   Ciena
   1741 Technology Dr, #400
   San Jose, CA  95110
   Phone: 508-435-0448
   EMail: hshah@ciena.com

   Nabil Bitar
   Verizon
   40 Sylvan Rd.
   Waltham, MA  02451
   EMail: nabil.n.bitar@verizon.com

   Attila Takacs
   Ericsson
   1. Laborc u.
   Budapest, HUNGARY 1037
   EMail: attila.takacs@ericsson.com

























Fedyk, et al.                Standards Track                   [Page 20]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc6060 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:32 GMT --></html>