<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc8106 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:15 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="rfc6106" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:8106" name="DC.Identifier"/>
<meta content="March, 2017" name="DC.Date.Issued"/>
<meta content="Madanapalli, Syam" name="DC.Creator"/>
<meta content="Park, Soohong" name="DC.Creator"/>
<meta content="Jeong, Jaehoon" name="DC.Creator"/>
<meta content="Beloeil, Luc" name="DC.Creator"/>
<meta content='This document specifies IPv6 Router Advertisement (RA) options (called
"DNS RA options") to allow IPv6 routers to advertise a list of DNS
Recursive Server Addresses and a DNS Search List to IPv6 hosts.  This
document, which obsoletes RFC 6106, defines a higher default value of
the lifetime of the DNS RA options to reduce the likelihood of expiry
of the options on links with a relatively high rate of packet loss.' name="DC.Description.Abstract"/>
<meta content="IPv6 Router Advertisement Options for DNS Configuration" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 8106 - IPv6 Router Advertisement Options for DNS Configuration</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc8106.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc8106" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-6man-rdnss-rfc6106bis" title="draft-ietf-6man-rdnss-rfc6106bis">draft-ietf-6man...</a>] [<a href="https://datatracker.ietf.org/doc/rfc8106" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc8106" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc8106" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                          J. Jeong
Request for Comments: 8106                       Sungkyunkwan University
Obsoletes: <a href="rfc6106.html">6106</a>                                                  S. Park
Category: Standards Track                            Samsung Electronics
ISSN: 2070-1721                                               L. Beloeil
                                                                  Orange
                                                          S. Madanapalli
                                                                NTT Data
                                                              March 2017


        <span class="h1">IPv6 Router Advertisement Options for DNS Configuration</span>

Abstract

   This document specifies IPv6 Router Advertisement (RA) options
   (called "DNS RA options") to allow IPv6 routers to advertise a list
   of DNS Recursive Server Addresses and a DNS Search List to IPv6
   hosts.

   This document, which obsoletes <a href="rfc6106.html">RFC 6106</a>, defines a higher default
   value of the lifetime of the DNS RA options to reduce the likelihood
   of expiry of the options on links with a relatively high rate of
   packet loss.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc7841.html#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc8106">http://www.rfc-editor.org/info/rfc8106</a>.













<span class="grey">Jeong, et al.                Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Applicability Statements ...................................<a href="#page-3">3</a>
      1.2. Coexistence of RA Options and DHCP Options for DNS
           Configuration ..............................................<a href="#page-4">4</a>
   <a href="#section-2">2</a>. Requirements Language ...........................................<a href="#page-4">4</a>
   <a href="#section-3">3</a>. Terminology .....................................................<a href="#page-4">4</a>
   <a href="#section-4">4</a>. Overview ........................................................<a href="#page-5">5</a>
   <a href="#section-5">5</a>. Neighbor Discovery Extension ....................................<a href="#page-5">5</a>
      <a href="#section-5.1">5.1</a>. Recursive DNS Server Option ................................<a href="#page-6">6</a>
      <a href="#section-5.2">5.2</a>. DNS Search List Option .....................................<a href="#page-7">7</a>
      <a href="#section-5.3">5.3</a>. DNS Configuration Procedure ................................<a href="#page-8">8</a>
           <a href="#section-5.3.1">5.3.1</a>. Procedure in IPv6 Hosts .............................<a href="#page-9">9</a>
           <a href="#section-5.3.2">5.3.2</a>. Warnings for DNS Options Configuration ..............<a href="#page-9">9</a>
   <a href="#section-6">6</a>. Implementation Considerations ..................................<a href="#page-10">10</a>
      <a href="#section-6.1">6.1</a>. DNS Repository Management .................................<a href="#page-10">10</a>
      6.2. Synchronization between DNS Server List and
           Resolver Repository .......................................<a href="#page-11">11</a>
      6.3. Synchronization between DNS Search List and
           Resolver Repository .......................................<a href="#page-12">12</a>
   <a href="#section-7">7</a>. Security Considerations ........................................<a href="#page-12">12</a>
      <a href="#section-7.1">7.1</a>. Security Threats ..........................................<a href="#page-12">12</a>
      <a href="#section-7.2">7.2</a>. Recommendations ...........................................<a href="#page-13">13</a>
   <a href="#section-8">8</a>. IANA Considerations ............................................<a href="#page-13">13</a>
   <a href="#section-9">9</a>. References .....................................................<a href="#page-14">14</a>
      <a href="#section-9.1">9.1</a>. Normative References ......................................<a href="#page-14">14</a>
      <a href="#section-9.2">9.2</a>. Informative References ....................................<a href="#page-14">14</a>
   <a href="#appendix-A">Appendix A</a>. Changes from <a href="rfc6106.html">RFC 6106</a> .................................<a href="#page-17">17</a>
   Acknowledgements ..................................................<a href="#page-18">18</a>
   Authors' Addresses ................................................<a href="#page-19">19</a>





<span class="grey">Jeong, et al.                Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The purpose of this document is to standardize IPv6 Router
   Advertisement (RA) options (DNS RA options) for DNS Recursive Server
   Addresses used for DNS name resolution in IPv6 hosts, and also for a
   DNS Search List (DNSSL) of domain suffixes.

   IPv6 Neighbor Discovery (ND) and IPv6 Stateless Address
   Autoconfiguration (SLAAC) provide ways to configure either fixed or
   mobile nodes with one or more IPv6 addresses, default routers, and
   some other parameters [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>] [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>].

   It is infeasible to manually configure nomadic hosts each time they
   connect to a different network.  While a one-time static
   configuration is possible, it is generally not desirable on general-
   purpose hosts such as laptops.  For instance, locally defined
   namespaces would not be available to the host if it were to run its
   own recursive name server directly connected to the global DNS.

   The DNS information can also be provided through DHCPv6 [<a href="rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>]
   [<a href="rfc3736.html" title='"Stateless Dynamic Host Configuration Protocol (DHCP) Service for IPv6"'>RFC3736</a>] [<a href="rfc3646.html" title='"DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3646</a>].  However, access to DNS is a fundamental
   requirement for almost all hosts, so IPv6 SLAAC cannot stand on its
   own as an alternative deployment model in any practical network
   without any support for DNS configuration.

   These issues are not pressing in dual-stack networks as long as a DNS
   server is available on the IPv4 side, but they become more critical
   with the deployment of IPv6-only networks.  As a result, this
   document defines a mechanism based on DNS RA options to allow IPv6
   hosts to perform automatic DNS configuration.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Applicability%20Statements"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Applicability Statements</span>

   RA-based DNS configuration is a useful alternative in networks where
   an IPv6 host's address is autoconfigured through IPv6 SLAAC and where
   either (i) there is no DHCPv6 infrastructure at all or (ii) some
   hosts do not have a DHCPv6 client.  The intention is to enable the
   full configuration of basic networking information for hosts without
   requiring DHCPv6.  However, for networks that need to distribute
   additional information, DHCPv6 is likely to be employed.  In these
   networks, RA-based DNS configuration may not be needed.

   RA-based DNS configuration allows an IPv6 host to acquire the DNS
   configuration (i.e., DNS Recursive Server Addresses and the DNSSL)
   for the link(s) to which the host is connected.  Furthermore, the
   host learns this DNS configuration from the same RA message that
   provides configuration information for the link.




<span class="grey">Jeong, et al.                Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


   The advantages and disadvantages of the RA-based approach are
   discussed in [<a href="rfc4339.html" title='"IPv6 Host Configuration of DNS Server Information Approaches"'>RFC4339</a>] along with other approaches, such as the DHCP
   and well-known anycast address approaches.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Coexistence%20of%20RA%20Options%20and%20DHCP%20Options%20for%20DNS%20Configuration"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Coexistence of RA Options and DHCP Options for DNS Configuration</span>

   Two protocols exist to configure the DNS information on a host: the
   RA options specified in this document and the DHCPv6 options
   specified in [<a href="rfc3646.html" title='"DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3646</a>].  They can be used together.  The rules
   governing the decision to use stateful configuration mechanisms are
   specified in [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>].  Hosts conforming to this specification MUST
   extract DNS information from RA messages, unless static DNS
   configuration has been specified by the user.  If there is DNS
   information available from multiple RAs and/or from DHCP, the host
   MUST maintain an ordered list of this information as specified in
   <a href="#section-5.3.1">Section 5.3.1</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Requirements%20Language"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Terminology"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Terminology</span>

   This document uses the terminology defined in [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>] and
   [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>].  In addition, six new terms are defined below:

   o  Recursive DNS Server (RDNSS): A server that provides a recursive
      DNS resolution service for translating domain names into IP
      addresses or resolving PTR records as defined in [<a href="rfc1034.html" title='"Domain names - concepts and facilities"'>RFC1034</a>] and
      [<a href="rfc1035.html" title='"Domain names - implementation and specification"'>RFC1035</a>].

   o  RDNSS Option: An IPv6 RA option to deliver the RDNSS information
      to IPv6 hosts [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>].

   o  DNS Search List (DNSSL): The list of DNS suffix domain names used
      by IPv6 hosts when they perform DNS query searches for short,
      unqualified domain names.

   o  DNSSL Option: An IPv6 RA option to deliver the DNSSL information
      to IPv6 hosts.

   o  DNS Repository: Two data structures for managing DNS configuration
      information in the IPv6 protocol stack, in addition to the
      Neighbor Cache and Destination Cache for Neighbor Discovery





<span class="grey">Jeong, et al.                Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


      [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>].  The first data structure is the DNS Server List for
      RDNSS addresses, and the second is the DNSSL for DNS search domain
      names.

   o  Resolver Repository: Configuration repository with RDNSS addresses
      and a DNSSL that a DNS resolver on the host uses for DNS name
      resolution -- for example, the UNIX resolver file (i.e.,
      /etc/resolv.conf) and the Windows registry.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Overview"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Overview</span>

   This document standardizes an ND option called the "RDNSS option",
   which contains the addresses of RDNSSes.  This document also
   standardizes an ND option called the "DNSSL option", which contains
   the DNSSL.  This is to maintain parity with the DHCPv6 options and to
   ensure that there is necessary functionality to determine the search
   domains.

   The existing ND message (i.e., RA) is used to carry this information.
   An IPv6 host can configure the IPv6 addresses of one or more RDNSSes
   via RA messages.  Through the RDNSS and DNSSL options, along with the
   Prefix Information option based on the ND protocol [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>]
   [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>], an IPv6 host can perform the network configuration of its
   IPv6 address and the DNS information simultaneously without needing
   DHCPv6 for the DNS configuration.  The RA options for RDNSS and DNSSL
   can be used on networks that support the use of ND.

   This approach requires manual configuration or automatic mechanisms
   (e.g., DHCPv6 or vendor-proprietary configuration mechanisms) to
   configure the DNS information in routers sending the advertisements.
   The automatic configuration of RDNSS addresses and a DNSSL in routers
   is out of scope for this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Neighbor%20Discovery%20Extension"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Neighbor Discovery Extension</span>

   The IPv6 DNS configuration mechanism described in this document needs
   two ND options in Neighbor Discovery: (i) the RDNSS option and
   (ii) the DNSSL option.













<span class="grey">Jeong, et al.                Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Recursive%20DNS%20Server%20Option"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Recursive DNS Server Option</span>

   The RDNSS option contains one or more IPv6 addresses of RDNSSes.  All
   of the addresses share the same Lifetime value.  If it is desirable
   to have different Lifetime values, multiple RDNSS options can be
   used.  Figure 1 shows the format of the RDNSS option.

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |     Length    |           Reserved            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                           Lifetime                            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     :            Addresses of IPv6 Recursive DNS Servers            :
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                       Figure 1: RDNSS Option Format

   Fields:

   Type        8-bit identifier of the RDNSS option type as assigned by
               IANA: 25

   Length      8-bit unsigned integer.  The length of the option
               (including the Type and Length fields) is in units of
               8 octets.  The minimum value is 3 if one IPv6 address is
               contained in the option.  Every additional RDNSS address
               increases the length by 2.  The Length field is used by
               the receiver to determine the number of IPv6 addresses in
               the option.

   Lifetime    32-bit unsigned integer.  The maximum time in seconds
               (relative to the time the packet is received) over which
               these RDNSS addresses MAY be used for name resolution.
               The value of Lifetime SHOULD by default be at least
               3 * MaxRtrAdvInterval, where MaxRtrAdvInterval is the
               maximum RA interval as defined in [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>].  A value of
               all one bits (0xffffffff) represents infinity.  A value
               of zero means that the RDNSS addresses MUST no longer
               be used.








<span class="grey">Jeong, et al.                Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


   Addresses of IPv6 Recursive DNS Servers
               One or more 128-bit IPv6 addresses of the RDNSSes.  The
               number of addresses is determined by the Length field.
               That is, the number of addresses is equal to
               (Length - 1) / 2.

   Note: The addresses for RDNSSes in the RDNSS option MAY be link-local
         addresses.  Such link-local addresses SHOULD be registered in
         the Resolver Repository along with the corresponding link zone
         indices of the links that receive the RDNSS option(s) for them.
         The link-local addresses MAY be represented in the Resolver
         Repository with their link zone indices in the textual format
         for scoped addresses as described in [<a href="rfc4007.html" title='"IPv6 Scoped Address Architecture"'>RFC4007</a>].  When a
         resolver sends a DNS query message to an RDNSS identified by a
         link-local address, it MUST use the corresponding link.

         The rationale of the default value of the Lifetime field is as
         follows.  The Router Lifetime field, set by AdvDefaultLifetime,
         has the default of 3 * MaxRtrAdvInterval as specified in
         [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>], so such a default or a larger default can allow for
         the reliability of DNS options even under the loss of RAs on
         links with a relatively high rate of packet loss.  Note that
         the ratio of AdvDefaultLifetime to MaxRtrAdvInterval is the
         number of unsolicited multicast RAs sent by the router.  Since
         the DNS option entries can survive for at most three
         consecutive losses of RAs containing DNS options, the default
         value of the Lifetime lets the DNS option entries be resilient
         to packet-loss environments.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20DNS%20Search%20List%20Option"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  DNS Search List Option</span>

   The DNSSL option contains one or more domain names of DNS suffixes.
   All of the domain names share the same Lifetime value.  If it is
   desirable to have different Lifetime values, multiple DNSSL options
   can be used.  Figure 2 shows the format of the DNSSL option.

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |     Length    |           Reserved            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                           Lifetime                            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     :                Domain Names of DNS Search List                :
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




<span class="grey">Jeong, et al.                Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


                       Figure 2: DNSSL Option Format

   Fields:

   Type        8-bit identifier of the DNSSL option type as assigned by
               IANA: 31

   Length      8-bit unsigned integer.  The length of the option
               (including the Type and Length fields) is in units of
               8 octets.  The minimum value is 2 if at least one domain
               name is contained in the option.  The Length field is set
               to a multiple of 8 octets to accommodate all the domain
               names in the "Domain Names of DNS Search List" field.

   Lifetime    32-bit unsigned integer.  The maximum time in seconds
               (relative to the time the packet is received) over which
               these DNSSL domain names MAY be used for name resolution.
               The Lifetime value has the same semantics as the
               semantics for the RDNSS option.  That is, Lifetime SHOULD
               by default be at least 3 * MaxRtrAdvInterval.  A value of
               all one bits (0xffffffff) represents infinity.  A value
               of zero means that the DNSSL domain names MUST no longer
               be used.

   Domain Names of DNS Search List
               One or more domain names of the DNSSL that MUST be
               encoded as described in <a href="rfc1035.html#section-3.1">Section 3.1 of [RFC1035]</a>.  With
               this technique, each domain name is represented as a
               sequence of labels ending in a zero octet, defined as a
               domain name representation.  For more than one domain
               name, the corresponding domain name representations are
               concatenated as they are.  Note that for the simple
               decoding, the domain names MUST NOT be encoded in the
               compressed form described in <a href="rfc1035.html#section-4.1.4">Section 4.1.4 of [RFC1035]</a>.
               Because the size of this field MUST be a multiple of
               8 octets, for the minimum multiple including the domain
               name representations, the remaining octets other than the
               encoding parts of the domain name representations MUST be
               padded with zeros.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20DNS%20Configuration%20Procedure"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  DNS Configuration Procedure</span>

   The procedure for DNS configuration through the RDNSS and DNSSL
   options is the same as it is with any other ND option [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>].







<span class="grey">Jeong, et al.                Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.3.1.%20%20Procedure%20in%20IPv6%20Hosts"></a><a class="selflink" href="#section-5.3.1" name="section-5.3.1">5.3.1</a>.  Procedure in IPv6 Hosts</span>

   When an IPv6 host receives DNS options (i.e., RDNSS and DNSSL
   options) through RA messages, it processes the options as follows:

   o  The validity of DNS options is checked with the Length field;
      that is, the value of the Length field in the RDNSS option is
      greater than or equal to the minimum value (3) and satisfies the
      requirement that (Length - 1) % 2 == 0.  The value of the Length
      field in the DNSSL option is greater than or equal to the minimum
      value (2).  Also, the validity of the RDNSS option is checked with
      the "Addresses of IPv6 Recursive DNS Servers" field; that is, the
      addresses should be unicast addresses.

   o  If the DNS options are valid, the host SHOULD copy the values of
      the options into the DNS Repository and the Resolver Repository in
      order.  Otherwise, the host MUST discard the options.  Refer to
      <a href="#section-6">Section 6</a> for the detailed procedure.

   In the case where the DNS information of RDNSS and DNSSL can be
   obtained from multiple sources, such as RAs and DHCP, the IPv6 host
   SHOULD keep some DNS options from all sources.  Unless explicitly
   specified for the discovery mechanism, the exact number of addresses
   and domain names to keep is a matter of local policy and
   implementation choice as a local configuration option.  However, in
   the case of multiple sources, the ability to store a total of at
   least three RDNSS addresses (or DNSSL domain names) from the multiple
   sources is RECOMMENDED.  The DNS options from RAs and DHCP SHOULD be
   stored in the DNS Repository and Resolver Repository so that
   information from DHCP appears there first and therefore takes
   precedence.  Thus, the DNS information from DHCP takes precedence
   over that from RAs for DNS queries.  On the other hand, for DNS
   options announced by RAs, if some RAs use the Secure Neighbor
   Discovery (SEND) protocol [<a href="rfc3971.html" title='"SEcure Neighbor Discovery (SEND)"'>RFC3971</a>] for RA security, they MUST be
   preferred over those that do not use SEND.  Also, DNS options
   announced by RAs via SEND MUST be preferred over those announced by
   unauthenticated DHCP [<a href="rfc3118.html" title='"Authentication for DHCP Messages"'>RFC3118</a>].  Refer to <a href="#section-7">Section 7</a> for a detailed
   discussion of SEND for DNS RA options.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.3.2.%20%20Warnings%20for%20DNS%20Options%20Configuration"></a><a class="selflink" href="#section-5.3.2" name="section-5.3.2">5.3.2</a>.  Warnings for DNS Options Configuration</span>

   There are two warnings for DNS options configuration: (i) warning for
   multiple sources of DNS options and (ii) warning for multiple network
   interfaces.  First, in the case of multiple sources for DNS options
   (e.g., RAs and DHCP), an IPv6 host can configure its IP addresses
   from these sources.  In this case, it is not possible to control how
   the host uses DNS information and what source addresses it uses to
   send DNS queries.  As a result, configurations where different



<span class="grey">Jeong, et al.                Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


   information is provided by different mechanisms for autoconfiguration
   may lead to problems.  Therefore, the network administrator needs to
   carefully configure different DNS options in the multiple mechanisms
   for autoconfiguration in order to minimize the impact of such
   problems [<a href="#ref-DHCPv6-SLAAC">DHCPv6-SLAAC</a>].

   Second, if different DNS information is provided on different network
   interfaces, this can lead to inconsistent behavior.  The IETF worked
   on solving this problem for both DNS and other information obtained
   from multiple interfaces [<a href="rfc6418.html" title='"Multiple Interfaces and Provisioning Domains Problem Statement"'>RFC6418</a>] [<a href="rfc6419.html" title='"Current Practices for Multiple-Interface Hosts"'>RFC6419</a>] and standardized a
   DHCP-based solution for RDNSS selection for multi-interfaced nodes as
   described in [<a href="rfc6731.html" title='"Improved Recursive DNS Server Selection for Multi-Interfaced Nodes"'>RFC6731</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Implementation%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Implementation Considerations</span>

   The implementation considerations in this document include the
   following three: (i) DNS repository management, (ii) synchronization
   between the DNS Server List and the Resolver Repository, and
   (iii) synchronization between the DNSSL and the Resolver Repository.

   Note: The implementations that are updated according to this document
         will still interoperate with the existing implementations
         according to [<a href="rfc6106.html" title='"IPv6 Router Advertisement Options for DNS Configuration"'>RFC6106</a>].  This is because the main change in
         this document is the increase of the default Lifetime of DNS
         options, considering lossy links.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20DNS%20Repository%20Management"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  DNS Repository Management</span>

   For DNS repository management, the following two data structures
   SHOULD be synchronized with the Resolver Repository: (i) the DNS
   Server List, which keeps the list of RDNSS addresses and (ii) the
   DNSSL, which keeps the list of DNS search domain names.  Each entry
   in these two lists consists of a pair of an RDNSS address (or DNSSL
   domain name) and Expiration-time as follows:

   o  RDNSS address for DNS Server List: IPv6 address of the RDNSS that
      is available for recursive DNS resolution service in the network
      advertising the RDNSS option.

   o  DNSSL domain name for DNSSL: DNS suffix domain name that is used
      to perform DNS query searches for short, unqualified domain names.

   o  Expiration-time for DNS Server List or DNSSL: The time when this
      entry becomes invalid.  Expiration-time is set to the value of the
      Lifetime field of the RDNSS option or DNSSL option plus the
      current time.  Whenever a new RDNSS option with the same address
      (or DNSSL option with the same domain name) is received on the
      same interface as a previous RDNSS option (or DNSSL option), this



<span class="grey">Jeong, et al.                Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


      field is updated to have a new Expiration-time.  When the current
      time becomes larger than Expiration-time, this entry is regarded
      as expired, so it should not be used any more.  Note that the DNS
      information for the RDNSS and DNSSL options need not be dropped if
      the expiry of the RA router lifetime happens.  This is because
      these options have their own lifetime values.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Synchronization%20between%20DNS%20Server%20List%20and%20Resolver%20Repository"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Synchronization between DNS Server List and Resolver Repository</span>

   When an IPv6 host receives the information of multiple RDNSS
   addresses within a network (e.g., campus network and company network)
   through an RA message with RDNSS option(s), it stores the RDNSS
   addresses (in order) in both the DNS Server List and the Resolver
   Repository.  The processing of the RDNSS consists of (i) the
   processing of RDNSS option(s) included in an RA message and (ii) the
   handling of expired RDNSSes.  The processing of RDNSS option(s) is as
   follows:

   o  Step (a): Receive and parse the RDNSS option(s).  For the RDNSS
      addresses in each RDNSS option, perform Steps (b) through (d).

   o  Step (b): For each RDNSS address, check the following: If the
      RDNSS address already exists in the DNS Server List and the RDNSS
      option's Lifetime field is set to zero, delete the corresponding
      RDNSS entry from both the DNS Server List and the Resolver
      Repository in order to prevent the RDNSS address from being used
      any more for certain reasons in network management, e.g., the
      termination of the RDNSS or a renumbering scenario.  That is, the
      RDNSS can resign from its DNS service because the machine running
      the RDNSS is out of service intentionally or unintentionally.
      Also, in the renumbering scenario, the RDNSS's IPv6 address will
      be changed, so the previous RDNSS address should not be used any
      more.  The processing of this RDNSS address is finished here.
      Otherwise, go to Step (c).

   o  Step (c): For each RDNSS address, if it already exists in the DNS
      Server List and the RDNSS option's Lifetime field is not set to
      zero, then just update the value of the Expiration-time field
      according to the procedure specified in the third bullet of
      <a href="#section-6.1">Section 6.1</a>.  Otherwise, go to Step (d).

   o  Step (d): For each RDNSS address, if it does not exist in the DNS
      Server List, register the RDNSS address and Lifetime with the DNS
      Server List and then insert the RDNSS address as the first one in
      the Resolver Repository.  In the case where the data structure for
      the DNS Server List is full of RDNSS entries (that is, has more
      RDNSSes than the sufficient number discussed in <a href="#section-5.3.1">Section 5.3.1</a>),
      delete from the DNS Server List the entry with the shortest



<span class="grey">Jeong, et al.                Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


      Expiration-time (i.e., the entry that will expire first).  The
      corresponding RDNSS address is also deleted from the Resolver
      Repository.  For the ordering of RDNSS addresses in an RDNSS
      option, position the first RDNSS address in the RDNSS option as
      the first one in the Resolver Repository, the second RDNSS address
      in the option as the second one in the repository, and so on.
      This ordering allows the RDNSS addresses in the RDNSS option to be
      preferred according to their order in the RDNSS option for DNS
      name resolution.  The processing of these RDNSS addresses is
      finished here.

   The handling of expired RDNSSes is as follows: Whenever an entry
   expires in the DNS Server List, the expired entry is deleted from the
   DNS Server List, and also the RDNSS address corresponding to the
   entry is deleted from the Resolver Repository.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Synchronization%20between%20DNS%20Search%20List%20and%20Resolver%20Repository"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Synchronization between DNS Search List and Resolver Repository</span>

   When an IPv6 host receives the information of multiple DNSSL domain
   names within a network through an RA message with DNSSL option(s), it
   stores the DNSSL domain names (in order) in both the DNSSL and the
   Resolver Repository.  The processing of the DNSSL consists of (i) the
   processing of DNSSL option(s) included in an RA message and (ii) the
   handling of expired DNSSLs.  The processing of DNSSL option(s) is the
   same as the processing of RDNSS option(s) as described in
   <a href="#section-6.2">Section 6.2</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   In this section, we analyze security threats related to DNS options
   and then make recommendations to cope with such security threats.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Security%20Threats"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Security Threats</span>

   For the RDNSS option, an attacker could send an RA with a fraudulent
   RDNSS address, misleading IPv6 hosts into contacting an unintended
   DNS server for DNS name resolution.  Also, for the DNSSL option, an
   attacker can let IPv6 hosts resolve a hostname without a DNS suffix
   into an unintended host's IP address with a fraudulent DNSSL.  These
   attacks are similar to ND attacks specified in [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>] that use
   Redirect or Neighbor Advertisement messages to redirect traffic to
   individual addresses of malicious parties.









<span class="grey">Jeong, et al.                Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


   However, the security of these RA options for DNS configuration does
   not affect ND protocol security [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>].  This is because learning
   DNS information via the RA options cannot be worse than learning bad
   router information via the RA options.  Therefore, the vulnerability
   of ND is not worse and is a subset of the attacks that any node
   attached to a LAN can do.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Recommendations"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Recommendations</span>

   The Secure Neighbor Discovery (SEND) protocol [<a href="rfc3971.html" title='"SEcure Neighbor Discovery (SEND)"'>RFC3971</a>] is designed
   as a security mechanism for ND.  In this case, ND can use SEND to
   allow all the ND options, including the RDNSS and DNSSL options, to
   be automatically signed with digital signatures.

   It is common for network devices such as switches to include
   mechanisms to block unauthorized ports from running a DHCPv6 server
   to provide protection from rogue DHCPv6 servers [<a href="rfc7610.html" title='"DHCPv6-Shield: Protecting against Rogue DHCPv6 Servers"'>RFC7610</a>].  That
   means that an attacker on other ports cannot insert bogus DNS servers
   using DHCPv6.  The corresponding technique for network devices is
   RECOMMENDED to block rogue RA messages that include the RDNSS and
   DNSSL options from unauthorized nodes [<a href="rfc6104.html" title='"Rogue IPv6 Router Advertisement Problem Statement"'>RFC6104</a>] [<a href="rfc6105.html" title='"IPv6 Router Advertisement Guard"'>RFC6105</a>].

   An attacker may provide a bogus DNSSL option in order to cause the
   victim to send DNS queries to a specific DNS server when the victim
   queries non-FQDNs (fully qualified domain names).  For this attack,
   the DNS resolver in IPv6 hosts can mitigate the vulnerability with
   the recommendations mentioned in [<a href="rfc1535.html" title='"A Security Problem and Proposed Correction With Widely Deployed DNS Software"'>RFC1535</a>], [<a href="rfc1536.html" title='"Common DNS Implementation Errors and Suggested Fixes"'>RFC1536</a>], and [<a href="rfc3646.html" title='"DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3646</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IANA Considerations</span>

   The RDNSS option defined in this document uses the IPv6 Neighbor
   Discovery Option type assigned by IANA as follows:

      Option Name                    Type
      -----------------------------------
      Recursive DNS Server Option    25

   The DNSSL option defined in this document uses the IPv6 Neighbor
   Discovery Option type assigned by IANA as follows:

      Option Name                    Type
      -----------------------------------
      DNS Search List Option         31

   These options are registered in the "IPv6 Neighbor Discovery Option
   Formats" registry [<a href="#ref-ICMPv6" title='"Internet Control Message Protocol version 6 (ICMPv6) Parameters"'>ICMPv6</a>].





<span class="grey">Jeong, et al.                Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC4861" name="ref-RFC4861">RFC4861</a>]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", <a href="rfc4861.html">RFC 4861</a>,
              DOI 10.17487/RFC4861, September 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4861">http://www.rfc-editor.org/info/rfc4861</a>&gt;.

   [<a id="ref-RFC4862" name="ref-RFC4862">RFC4862</a>]  Thomson, S., Narten, T., and T. Jinmei, "IPv6 Stateless
              Address Autoconfiguration", <a href="rfc4862.html">RFC 4862</a>,
              DOI 10.17487/RFC4862, September 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4862">http://www.rfc-editor.org/info/rfc4862</a>&gt;.

   [<a id="ref-RFC1035" name="ref-RFC1035">RFC1035</a>]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, <a href="rfc1035.html">RFC 1035</a>, DOI 10.17487/RFC1035,
              November 1987, &lt;<a href="http://www.rfc-editor.org/info/rfc1035">http://www.rfc-editor.org/info/rfc1035</a>&gt;.

   [<a id="ref-RFC4007" name="ref-RFC4007">RFC4007</a>]  Deering, S., Haberman, B., Jinmei, T., Nordmark, E., and
              B. Zill, "IPv6 Scoped Address Architecture", <a href="rfc4007.html">RFC 4007</a>,
              DOI 10.17487/RFC4007, March 2005,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4007">http://www.rfc-editor.org/info/rfc4007</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC1034" name="ref-RFC1034">RFC1034</a>]  Mockapetris, P., "Domain names - concepts and facilities",
              STD 13, <a href="rfc1034.html">RFC 1034</a>, DOI 10.17487/RFC1034, November 1987,
              &lt;<a href="http://www.rfc-editor.org/info/rfc1034">http://www.rfc-editor.org/info/rfc1034</a>&gt;.

   [<a id="ref-RFC3315" name="ref-RFC3315">RFC3315</a>]  Droms, R., Ed., Bound, J., Volz, B., Lemon, T., Perkins,
              C., and M. Carney, "Dynamic Host Configuration Protocol
              for IPv6 (DHCPv6)", <a href="rfc3315.html">RFC 3315</a>, DOI 10.17487/RFC3315,
              July 2003, &lt;<a href="http://www.rfc-editor.org/info/rfc3315">http://www.rfc-editor.org/info/rfc3315</a>&gt;.

   [<a id="ref-RFC3736" name="ref-RFC3736">RFC3736</a>]  Droms, R., "Stateless Dynamic Host Configuration Protocol
              (DHCP) Service for IPv6", <a href="rfc3736.html">RFC 3736</a>, DOI 10.17487/RFC3736,
              April 2004, &lt;<a href="http://www.rfc-editor.org/info/rfc3736">http://www.rfc-editor.org/info/rfc3736</a>&gt;.

   [<a id="ref-RFC3646" name="ref-RFC3646">RFC3646</a>]  Droms, R., Ed., "DNS Configuration options for Dynamic
              Host Configuration Protocol for IPv6 (DHCPv6)", <a href="rfc3646.html">RFC 3646</a>,
              DOI 10.17487/RFC3646, December 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3646">http://www.rfc-editor.org/info/rfc3646</a>&gt;.




<span class="grey">Jeong, et al.                Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


   [<a id="ref-RFC6106" name="ref-RFC6106">RFC6106</a>]  Jeong, J., Park, S., Beloeil, L., and S. Madanapalli,
              "IPv6 Router Advertisement Options for DNS Configuration",
              <a href="rfc6106.html">RFC 6106</a>, DOI 10.17487/RFC6106, November 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6106">http://www.rfc-editor.org/info/rfc6106</a>&gt;.

   [<a id="ref-RFC4339" name="ref-RFC4339">RFC4339</a>]  Jeong, J., Ed., "IPv6 Host Configuration of DNS Server
              Information Approaches", <a href="rfc4339.html">RFC 4339</a>, DOI 10.17487/RFC4339,
              February 2006, &lt;<a href="http://www.rfc-editor.org/info/rfc4339">http://www.rfc-editor.org/info/rfc4339</a>&gt;.

   [<a id="ref-RFC3971" name="ref-RFC3971">RFC3971</a>]  Arkko, J., Ed., Kempf, J., Zill, B., and P. Nikander,
              "SEcure Neighbor Discovery (SEND)", <a href="rfc3971.html">RFC 3971</a>,
              DOI 10.17487/RFC3971, March 2005,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3971">http://www.rfc-editor.org/info/rfc3971</a>&gt;.

   [<a id="ref-RFC3118" name="ref-RFC3118">RFC3118</a>]  Droms, R., Ed., and W. Arbaugh, Ed., "Authentication for
              DHCP Messages", <a href="rfc3118.html">RFC 3118</a>, DOI 10.17487/RFC3118, June 2001,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3118">http://www.rfc-editor.org/info/rfc3118</a>&gt;.

   [<a id="ref-RFC6104" name="ref-RFC6104">RFC6104</a>]  Chown, T. and S. Venaas, "Rogue IPv6 Router Advertisement
              Problem Statement", <a href="rfc6104.html">RFC 6104</a>, DOI 10.17487/RFC6104,
              February 2011, &lt;<a href="http://www.rfc-editor.org/info/rfc6104">http://www.rfc-editor.org/info/rfc6104</a>&gt;.

   [<a id="ref-RFC6105" name="ref-RFC6105">RFC6105</a>]  Levy-Abegnoli, E., Van de Velde, G., Popoviciu, C., and J.
              Mohacsi, "IPv6 Router Advertisement Guard", <a href="rfc6105.html">RFC 6105</a>,
              DOI 10.17487/RFC6105, February 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6105">http://www.rfc-editor.org/info/rfc6105</a>&gt;.

   [<a id="ref-RFC7610" name="ref-RFC7610">RFC7610</a>]  Gont, F., Liu, W., and G. Van de Velde, "DHCPv6-Shield:
              Protecting against Rogue DHCPv6 Servers", <a href="https://tools.ietf.org/html/bcp199">BCP 199</a>,
              <a href="rfc7610.html">RFC 7610</a>, DOI 10.17487/RFC7610, August 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7610">http://www.rfc-editor.org/info/rfc7610</a>&gt;.

   [<a id="ref-RFC1535" name="ref-RFC1535">RFC1535</a>]  Gavron, E., "A Security Problem and Proposed Correction
              With Widely Deployed DNS Software", <a href="rfc1535.html">RFC 1535</a>,
              DOI 10.17487/RFC1535, October 1993,
              &lt;<a href="http://www.rfc-editor.org/info/rfc1535">http://www.rfc-editor.org/info/rfc1535</a>&gt;.

   [<a id="ref-RFC1536" name="ref-RFC1536">RFC1536</a>]  Kumar, A., Postel, J., Neuman, C., Danzig, P., and S.
              Miller, "Common DNS Implementation Errors and Suggested
              Fixes", <a href="rfc1536.html">RFC 1536</a>, DOI 10.17487/RFC1536, October 1993,
              &lt;<a href="http://www.rfc-editor.org/info/rfc1536">http://www.rfc-editor.org/info/rfc1536</a>&gt;.

   [<a id="ref-DHCPv6-SLAAC" name="ref-DHCPv6-SLAAC">DHCPv6-SLAAC</a>]
              Liu, B., Jiang, S., Gong, X., Wang, W., and E. Rey,
              "DHCPv6/SLAAC Interaction Problems on Address and
              DNS Configuration", Work in Progress,
              <a href="https://tools.ietf.org/html/draft-ietf-v6ops-dhcpv6-slaac-problem-07">draft-ietf-v6ops-dhcpv6-slaac-problem-07</a>, August 2016.




<span class="grey">Jeong, et al.                Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


   [<a id="ref-RFC6418" name="ref-RFC6418">RFC6418</a>]  Blanchet, M. and P. Seite, "Multiple Interfaces and
              Provisioning Domains Problem Statement", <a href="rfc6418.html">RFC 6418</a>,
              DOI 10.17487/RFC6418, November 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6418">http://www.rfc-editor.org/info/rfc6418</a>&gt;.

   [<a id="ref-RFC6419" name="ref-RFC6419">RFC6419</a>]  Wasserman, M. and P. Seite, "Current Practices for
              Multiple-Interface Hosts", <a href="rfc6419.html">RFC 6419</a>, DOI 10.17487/RFC6419,
              November 2011, &lt;<a href="http://www.rfc-editor.org/info/rfc6419">http://www.rfc-editor.org/info/rfc6419</a>&gt;.

   [<a id="ref-RFC6731" name="ref-RFC6731">RFC6731</a>]  Savolainen, T., Kato, J., and T. Lemon, "Improved
              Recursive DNS Server Selection for Multi-Interfaced
              Nodes", <a href="rfc6731.html">RFC 6731</a>, DOI 10.17487/RFC6731, December 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6731">http://www.rfc-editor.org/info/rfc6731</a>&gt;.

   [<a id="ref-ICMPv6" name="ref-ICMPv6">ICMPv6</a>]   IANA, "Internet Control Message Protocol version 6
              (ICMPv6) Parameters",
              &lt;<a href="http://www.iana.org/assignments/icmpv6-parameters/">http://www.iana.org/assignments/icmpv6-parameters/</a>&gt;.


































<span class="grey">Jeong, et al.                Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Changes%20from%20RFC%206106"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Changes from <a href="rfc6106.html">RFC 6106</a></span>

   The following changes were made from <a href="rfc6106.html">RFC 6106</a> ("IPv6 Router
   Advertisement Options for DNS Configuration"):

   o  This document allows a higher default value of the lifetime of the
      DNS RA options than <a href="rfc6106.html">RFC 6106</a> in order to avoid the frequent expiry
      of the options on links with a relatively high rate of packet
      loss; at the same time, this document also makes additional
      clarifications.  The lifetime's lower bound of
      2 * MaxRtrAdvInterval was shown to lead to the expiry of these
      options on links with a relatively high rate of packet loss.  To
      avoid this problem, this revision relaxes the lower bound and sets
      a higher default value of 3 * MaxRtrAdvInterval.

   o  The text regarding the generation of a Router Solicitation message
      to ensure that the RDNSS information is fresh before the expiry of
      the RDNSS option is removed in order to prevent multicast traffic
      on the link from increasing.

   o  The addresses for RDNSSes in the RDNSS option can be not only
      global addresses but also link-local addresses.  The link-local
      addresses for RDNSSes should be registered in the Resolver
      Repository along with the corresponding link zone indices.

   o  <a href="rfc6106.html">RFC 6106</a> recommended that the number of RDNSS addresses that
      should be learned and maintained through the RDNSS RA option
      should be limited to three.  This document removes that
      recommendation; thus, the number of RDNSS addresses to maintain is
      determined by an implementer's local policy.

   o  <a href="rfc6106.html">RFC 6106</a> recommended that the number of DNS search domains that
      should be learned and maintained through the DNSSL RA option
      should be limited to three.  This document removes that
      recommendation; thus, when the set of unique DNSSL values are not
      equivalent, none of them may be ignored for hostname lookups
      according to an implementer's local policy.

   o  The guidance of the specific implementation for the
      synchronization of the DNS Repository and Resolver Repository in
      the kernel space and user space is removed.

   o  The key words "SHOULD" and "RECOMMENDED" (<a href="rfc2119.html">RFC 2119</a>) are removed in
      the recommendation of using SEND as a security mechanism for ND.
      Instead of using these key words, SEND is specified as only a
      possible security mechanism for ND.





<span class="grey">Jeong, et al.                Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


Acknowledgements

   This document has greatly benefited from inputs by Robert Hinden,
   Pekka Savola, Iljitsch van Beijnum, Brian Haberman, Tim Chown, Erik
   Nordmark, Dan Wing, Jari Arkko, Ben Campbell, Vincent Roca, Tony
   Cheneau, Fernando Gont, Jen Linkova, Ole Troan, Mark Smith, Tatuya
   Jinmei, Lorenzo Colitti, Tore Anderson, David Farmer, Bing Liu, and
   Tassos Chatzithomaoglou.  The authors sincerely appreciate their
   contributions.

   This document was supported by an Institute for Information &amp;
   communications Technology Promotion (IITP) grant funded by the Korean
   government (MSIP) [10041244, Smart TV 2.0 Software Platform].






































<span class="grey">Jeong, et al.                Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc8106.html">RFC 8106</a>                   IPv6 DNS RA Options                March 2017</span>


Authors' Addresses

   Jaehoon Paul Jeong
   Department of Software
   Sungkyunkwan University
   2066 Seobu-Ro, Jangan-Gu
   Suwon, Gyeonggi-Do  16419
   Republic of Korea

   Phone: +82 31 299 4957
   Fax:   +82 31 290 7996
   Email: pauljeong@skku.edu
   URI:   <a href="http://iotlab.skku.edu/people-jaehoon-jeong.php">http://iotlab.skku.edu/people-jaehoon-jeong.php</a>


   Soohong Daniel Park
   Software R&amp;D Center
   Samsung Electronics
   Seoul R&amp;D Campus D-Tower, 56, Seongchon-Gil, Seocho-Gu
   Seoul  06765
   Republic of Korea

   Email: soohong.park@samsung.com


   Luc Beloeil
   Orange
   5 rue Maurice Sibille
   BP 44211
   44042 Nantes Cedex 1
   France

   Phone: +33 2 28 56 11 84
   Email: luc.beloeil@orange.com


   Syam Madanapalli
   NTT Data
   #H304, Shriram Samruddhi, Thubarahalli
   Bangalore  560066
   India

   Phone: +91 959 175 7926
   Email: smadanapalli@gmail.com







Jeong, et al.                Standards Track                   [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc8106 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:15 GMT --></html>