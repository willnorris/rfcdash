<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7549 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:21 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:7549" name="DC.Identifier"/>
<meta content="In 3GPP networks, the signaling path between a calling user and a
called user can be partitioned into segments, referred to as traffic
legs. Each traffic leg may span networks belonging to different
operators and will have its own characteristics that can be different
from other traffic legs in the same call. A traffic leg might be
associated with multiple SIP dialogs, e.g., in case a Back-to-Back
User Agent (B2BUA) that modifies the SIP dialog identifier is located
within the traffic leg.  This document defines a new SIP URI
parameter, 'iotl' (an abbreviation for Inter-Operator Traffic
Leg). The parameter can be used in a SIP URI to indicate that the
entity associated with the address, or an entity responsible for the
host part of the address, represents the end of a specific traffic leg
(or multiple traffic legs)." name="DC.Description.Abstract"/>
<meta content="Jesske, Roland" name="DC.Creator"/>
<meta content="Holmberg, Christer" name="DC.Creator"/>
<meta content="Dolly, Martin" name="DC.Creator"/>
<meta content="Holm, Jan" name="DC.Creator"/>
<meta content="May, 2015" name="DC.Date.Issued"/>
<meta content="3GPP SIP URI Inter-Operator Traffic Leg Parameter" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7549 - 3GPP SIP URI Inter-Operator Traffic Leg Parameter</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7549.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7549" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-holmberg-dispatch-iotl" title="draft-holmberg-dispatch-iotl">draft-holmberg-...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7549" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7549" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7549" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=7549&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                       C. Holmberg
Request for Comments: 7549                                       J. Holm
Category: Standards Track                                       Ericsson
ISSN: 2070-1721                                                R. Jesske
                                                        Deutsche Telekom
                                                                M. Dolly
                                                                    AT&amp;T
                                                                May 2015


           3GPP SIP URI Inter-Operator Traffic Leg Parameter

Abstract

   In 3GPP networks, the signaling path between a calling user and a
   called user can be partitioned into segments, referred to as traffic
   legs.  Each traffic leg may span networks belonging to different
   operators and will have its own characteristics that can be different
   from other traffic legs in the same call.  A traffic leg might be
   associated with multiple SIP dialogs, e.g., in case a Back-to-Back
   User Agent (B2BUA) that modifies the SIP dialog identifier is located
   within the traffic leg.

   This document defines a new SIP URI parameter, 'iotl' (an
   abbreviation for Inter-Operator Traffic Leg).  The parameter can be
   used in a SIP URI to indicate that the entity associated with the
   address, or an entity responsible for the host part of the address,
   represents the end of a specific traffic leg (or multiple traffic
   legs).

   The SIP URI 'iotl' parameter defined in this document has known uses
   in 3GPP networks.  Usage in other networks is also possible.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">SectionÂ 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7549">http://www.rfc-editor.org/info/rfc7549</a>.





<span class="grey">Holmberg, et al.             Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





































<span class="grey">Holmberg, et al.             Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-2">2</a>.  Conventions . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-3">3</a>.  Applicability . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-4">4</a>.  Traffic Leg Examples  . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-4.1">4.1</a>.  General . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-4.2">4.2</a>.  Originating Roaming Call  . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-4.3">4.3</a>.  Terminating Roaming Call  . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-4.4">4.4</a>.  Call from Originating Home to Terminating Home  . . . . .   <a href="#page-7">7</a>
   <a href="#section-5">5</a>.  'iotl' SIP URI Parameter  . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-5.1">5.1</a>.  Usage . . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-5.2">5.2</a>.  Parameter Values  . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-5.2.1">5.2.1</a>.  General . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-5.2.2">5.2.2</a>.  homea-homeb . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-5.2.3">5.2.3</a>.  homeb-visitedb  . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
       <a href="#section-5.2.4">5.2.4</a>.  visiteda-homea  . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
       <a href="#section-5.2.5">5.2.5</a>.  homea-visiteda  . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
       <a href="#section-5.2.6">5.2.6</a>.  visiteda-homeb  . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-6">6</a>.  Syntax  . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-6.1">6.1</a>.  General . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-6.2">6.2</a>.  ABNF  . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-7">7</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-8">8</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-9">9</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-9.1">9.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-9.2">9.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#appendix-A">Appendix A</a>.  3GPP Examples  . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#appendix-A.1">A.1</a>.  General . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#appendix-A.2">A.2</a>.  The UE Registers via P-CSCF . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#appendix-A.3">A.3</a>.  Originating IMS Call  . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#appendix-A.4">A.4</a>.  Terminating IMS Call  . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     A.5.  Call between Originating Home and Terminating Home
           Network . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>















<span class="grey">Holmberg, et al.             Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   In a 3GPP network, an end-user device can be attached (e.g., using a
   radio access network) to its own operator network (home network)
   [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>] or to another operator's network (visited network)
   [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>].  In the latter case, the user is referred to as a
   roaming user.

   3GPP operator networks are often not connected directly to each
   other.  Instead, there might be intermediate networks, referred to as
   3GPP transit networks, between them.  Such transit networks act on
   the SIP level or the IP level.

   In 3GPP networks, the signaling path between a calling user and a
   called user can be partitioned into segments, referred to as traffic
   legs.  Each traffic leg may span networks belonging to different
   operators and will have its own characteristics that can be different
   from other traffic legs in the same call.  A traffic leg might be
   associated with multiple SIP dialogs, e.g., in case a B2BUA [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>]
   that modifies the SIP dialog identifier is located within the traffic
   leg.

   The traffic leg information can be used by intermediary entities to
   make policy decisions related to, e.g., media anchoring, signaling
   policy, insertion of media functions (e.g., transcoder), and
   charging.

   The figure below shows two users (Alice and Bob) and the different
   type of networks that the signaling might traverse.  The signaling
   path can be divided into multiple traffic legs, and the type of
   traffic legs depends on how the signaling is routed.




















<span class="grey">Holmberg, et al.             Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


   Alice -- ORIG HNW +++++ TRANSIT NW +++++ TERM HNW -- Bob
   Home           +     +                +    +   +    Home
                  +     ++++++++++++++++++    +   +
                  +                           +   +
                  +                           +   +
                  +     +++++++++++++++++++++++   +
                  +     +              +          +
   Alice -- ORIG VNW +++++ TRANSIT NW ++    TERM VNW -- Bob
   Visited                                           Visited

   ORIG HNW  =     Originating 3GPP Home Network
   TERM HNW  =     Terminating 3GPP Home Network
   ORIG VNW  =     Originating 3GPP Visited Network
   TERM VNW  =     Terminating 3GPP Visited Network
   TRANSIT NW =    3GPP Transit Network

               Figure 1: 3GPP Operator Network Roaming Roles

   In Figure 1, Alice is a user initiating communication with Bob. Also,
   consider the following information:

   Alice is attached to an originating network, which is either the home
   network of Alice or a visited network (in case Alice is roaming).  In
   both cases, any originating service is provided by the home network
   of Alice.

   Bob is attached to a terminating network, which is either the home
   network of Bob or a visited network (in case Bob is roaming).  In
   both cases, any terminating service is provided by the home network
   of Bob.

   A transit network providing transit functions (e.g., translation of
   free phone numbers) may be included between the originating and
   terminating networks and between visited and home networks.

   This document defines a new SIP URI parameter [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], 'iotl' (an
   abbreviation for Inter-Operator Traffic Leg).  The parameter can be
   used in a SIP URI to indicate that the entity associated with the
   address, or an entity responsible for the host part of the address,
   represents the end of a specific traffic leg (or multiple traffic
   legs).










<span class="grey">Holmberg, et al.             Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


   This document defines the following 'iotl' parameter values:

   o  homea-homeb

   o  homeb-visitedb

   o  visiteda-homea

   o  homea-visiteda

   o  visiteda-homeb

   SIP entities that do not support the SIP URI 'iotl' parameter will
   simply ignore it, if received, as defined in [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Conventions"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Conventions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Applicability"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Applicability</span>

   The SIP URI 'iotl' parameter defined in this document has known uses
   in 3GPP networks.  Usage in other networks is also possible.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Traffic%20Leg%20Examples"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Traffic Leg Examples</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20General"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  General</span>

   This section describes examples of different types of traffic legs in
   3GPP networks.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Originating%20Roaming%20Call"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Originating Roaming Call</span>

   In this case, Alice is located in a visited network.  When Alice
   sends the initial SIP INVITE request for a call, one traffic leg
   (referred to as the 'visiteda-homea' traffic leg) represents the
   signaling path between the User Agent (UA) of Alice and the home
   Serving Call Session Control Function (S-CSCF) [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>] of
   Alice.










<span class="grey">Holmberg, et al.             Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Terminating%20Roaming%20Call"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Terminating Roaming Call</span>

   In this case, Bob is located in a visited network.  When the home
   S-CSCF of Bob forwards the initial SIP INVITE request for a call
   towards Bob, one traffic leg (referred to as the 'homeb-visitedb'
   traffic leg) represents the signaling path between the home S-CSCF of
   Bob and the UA of Bob.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Call%20from%20Originating%20Home%20to%20Terminating%20Home"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Call from Originating Home to Terminating Home</span>

   In this case, the home S-CSCF of Alice forwards the initial SIP
   INVITE request towards the home S-CSCF of Bob. The signaling path
   between the S-CSCFs represents one traffic leg (referred to as the
   'homea-homeb' traffic leg).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20%27iotl%27%20SIP%20URI%20Parameter"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  'iotl' SIP URI Parameter</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Usage"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Usage</span>

   As specified in [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], when a SIP entity inserts a SIP URI in an
   initial request for a dialog, or in a stand-alone request, the SIP
   URI will be used to route the request to another SIP entity,
   addressed by the SIP URI, or to a SIP entity responsible for the host
   part of the SIP URI (e.g., a SIP registrar).  If such an entity
   represents the end of one or more traffic legs, the SIP entity
   inserting the SIP URI can add a SIP URI 'iotl' parameter to the SIP
   URI to indicate the type(s) of traffic leg.  Each parameter value
   indicates a type of traffic leg.

   For routing of an initial SIP request for a dialog, or a stand-alone
   SIP request, a SIP entity can add the 'iotl' parameter to (a) the SIP
   URI of the Request-URI [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>] or (b) the SIP URI of a Route header
   field [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>] of the SIP request.  SIP entities can add the 'iotl'
   parameter to the SIP URI of a Path header field [<a href="rfc3327.html" title='"Session Initiation Protocol (SIP) Extension Header Field for Registering Non-Adjacent Contacts"'>RFC3327</a>] or a
   Service-Route header field [<a href="rfc3608.html" title='"Session Initiation Protocol (SIP) Extension Header Field for Service Route Discovery During Registration"'>RFC3608</a>] in order for the parameter to
   later occur in a Route header field.

   When a SIP entity receives an initial request for a dialog or a
   stand-alone request, which contains one or more SIP URI 'iotl'
   parameters, it identifies the type of traffic leg in the following
   way:

   o  if the SIP request contains a single Route header field containing
      a SIP URI with an 'iotl' parameter, that parameter identifies the
      type of traffic leg;






<span class="grey">Holmberg, et al.             Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


   o  if the SIP request contains multiple Route header fields
      containing a SIP URI with an 'iotl' parameter, the 'iotl'
      parameter associated with the SIP URI of the topmost Route header
      field (or, if the SIP URI of the topmost Route header field does
      not contain an 'iotl' parameter, the SIP URI of the Route header
      field closest to the topmost) identifies the type of traffic leg;
      or

   o  if a SIP request contains an 'iotl' parameter only in the Request-
      URI SIP URI, the 'iotl' parameter identifies the type of traffic
      leg.

   During SIP registration [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], entities can add the 'iotl'
   parameter to the SIP URI of a Path or Service-Route header field if
   the entity is aware that the SIP URI will be used to indicate the end
   of a specific traffic leg for initial requests for dialogs or stand-
   alone requests sent on the registration path.

   As defined in [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], a SIP proxy must not modify or remove URI
   parameters from SIP URIs associated with other entities.  This also
   applies to the 'iotl' parameter.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Parameter%20Values"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Parameter Values</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.1.%20%20General"></a><a class="selflink" href="#section-5.2.1" name="section-5.2.1">5.2.1</a>.  General</span>

   This section describes the SIP URI 'iotl' parameter values defined in
   this specification.

   Note that, when a request is routed between different networks, the
   request might traverse one or more IBCFs (Interconnection Border
   Control Functions) acting as network border entities.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.2.%20%20homea-homeb"></a><a class="selflink" href="#section-5.2.2" name="section-5.2.2">5.2.2</a>.  homea-homeb</span>

   This value indicates that a SIP entity responsible for the host part
   of the SIP URI associated with the parameter represents the end of a
   traffic leg between the home network (originating) of the calling
   user and the home network (terminating) of the called user.

   In 3GPP, this traffic leg is between two S-CSCFs.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.3.%20%20homeb-visitedb"></a><a class="selflink" href="#section-5.2.3" name="section-5.2.3">5.2.3</a>.  homeb-visitedb</span>

   This value indicates that the SIP entity addressed by the SIP URI
   associated with the parameter represents the end of a traffic leg
   between the home network (terminating) of the called user and the
   visited network (terminating) in which the called user is located.



<span class="grey">Holmberg, et al.             Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


   In 3GPP, this traffic leg is between the home S-CSCF and the User
   Equipment (UE) of the called user or between the Service
   Centralization and Continuity Application Server (SCC AS) in the home
   network of the called user and Access Transfer Control Function
   (ATCF) in the visited network of the called user.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.4.%20%20visiteda-homea"></a><a class="selflink" href="#section-5.2.4" name="section-5.2.4">5.2.4</a>.  visiteda-homea</span>

   This value indicates that a SIP entity responsible for the host part
   of the SIP URI associated with the parameter represents the end of a
   traffic leg between the visited network (originating) in which the
   calling user is located and the home network (originating) of the
   calling user.

   In 3GPP, this traffic leg is between the UE and the home S-CSCF of
   the calling user or between the Proxy Call Session Control Function
   (P-CSCF) in the visited network, serving the calling user and the
   home S-CSCF of the calling user.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.5.%20%20homea-visiteda"></a><a class="selflink" href="#section-5.2.5" name="section-5.2.5">5.2.5</a>.  homea-visiteda</span>

   This value indicates that the SIP entity addressed by the SIP URI
   associated with the parameter represents the end of a traffic leg
   between the home network (originating) and the visited network
   (originating) in which the calling user is located.

   In 3GPP, this traffic leg is between the home S-CSCF of the calling
   user and the Transit and Roaming Function (TRF) [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>]
   serving the calling user and exists in scenarios where the home
   S-CSCF of the calling user forwards a request back to the visited
   network where the UE of the calling user is located.  An example of
   this is when the Roaming Architecture for Voice over IMS with Local
   Breakout (RAVEL) [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>] feature is enabled.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.6.%20%20visiteda-homeb"></a><a class="selflink" href="#section-5.2.6" name="section-5.2.6">5.2.6</a>.  visiteda-homeb</span>

   This value indicates that a SIP entity responsible for the host part
   of the SIP URI associated with the parameter represents the end of a
   traffic leg between the visited network (originating) of the calling
   user and the home network (terminating) of the called user.

   In 3GPP, this traffic leg is between the TRF [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>] serving
   the calling user and the home S-CSCF of the called user and exists in
   scenarios where a request is forwarded from the visited network where
   the calling user is located directly to the home S-CSCF of the called
   user.  An example of this is when the RAVEL [<a href="#ref-TS.3GPP.24.229">TS.3GPP.24.229</a>] feature
   is enabled.




<span class="grey">Holmberg, et al.             Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Syntax"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Syntax</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20General"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  General</span>

   This section defines the ABNF for the 'iotl' SIP URI parameter.  The
   ABNF defined in this specification is conformant to <a href="rfc5234.html">RFC 5234</a>
   [<a href="rfc5234.html" title='"Augmented BNF for Syntax Specifications: ABNF"'>RFC5234</a>].

   This specification does not create an IANA registry for 'iotl'
   parameter values.  A registry should be considered if new parameter
   values are defined in the future.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20ABNF"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  ABNF</span>

   The ABNF [<a href="rfc5234.html" title='"Augmented BNF for Syntax Specifications: ABNF"'>RFC5234</a>] grammar for this SIP URI parameter is:

   uri-parameter =/ iotl-param
   iotl-param    = iotl-tag "=" iotl-value ["." iotl-value]
   iotl-tag      = "iotl"
   iotl-value    = "homea-homeb" / "homeb-visitedb" / "visiteda-homea"
                    / "homea-visiteda" / "visiteda-homeb" / other-iotl
   other-iotl    = 1*iotl-char
   iotl-char     = alphanum / "-"
   ;; alphanum defined in <a href="rfc3261.html">RFC 3261</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   The information in the 'iotl' parameter is used for making policy
   decisions.  Such policies can be related to charging and triggering
   of services.  In order to prevent abuse, which could cause user
   billing or service failure, the parameter SHOULD only be used for
   making policy decisions based on the role by nodes within the same
   trust domain [<a href="rfc3325.html" title='"Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks"'>RFC3325</a>], and network boundary entities MUST NOT
   forward information received from untrusted entities.  In addition,
   an agreement MUST exist between the operators for usage of the
   roaming role information.

   General security considerations for SIP are defined in [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>]

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IANA Considerations</span>

   Per this specification, IANA has added one new value to the "SIP/SIPS
   URI Parameters" registry as defined in [<a href="rfc3969.html" title='"The Internet Assigned Number Authority (IANA) Uniform Resource Identifier (URI) Parameter Registry for the Session Initiation Protocol (SIP)"'>RFC3969</a>].

         Parameter Name  Predefined Values  Reference
         ____________________________________________
                   iotl      Yes            <a href="rfc7549.html">RFC 7549</a>




<span class="grey">Holmberg, et al.             Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3261" name="ref-RFC3261">RFC3261</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, "SIP: Session Initiation Protocol", <a href="rfc3261.html">RFC 3261</a>,
              DOI 10.17487/RFC3261, June 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3261">http://www.rfc-editor.org/info/rfc3261</a>&gt;.

   [<a id="ref-RFC3327" name="ref-RFC3327">RFC3327</a>]  Willis, D. and B. Hoeneisen, "Session Initiation Protocol
              (SIP) Extension Header Field for Registering Non-Adjacent
              Contacts", <a href="rfc3327.html">RFC 3327</a>, DOI 10.17487/RFC3327, December 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3327">http://www.rfc-editor.org/info/rfc3327</a>&gt;.

   [<a id="ref-RFC3608" name="ref-RFC3608">RFC3608</a>]  Willis, D. and B. Hoeneisen, "Session Initiation Protocol
              (SIP) Extension Header Field for Service Route Discovery
              During Registration", <a href="rfc3608.html">RFC 3608</a>, DOI 10.17487/RFC3608,
              October 2003, &lt;<a href="http://www.rfc-editor.org/info/rfc3608">http://www.rfc-editor.org/info/rfc3608</a>&gt;.

   [<a id="ref-RFC3969" name="ref-RFC3969">RFC3969</a>]  Camarillo, G., "The Internet Assigned Number Authority
              (IANA) Uniform Resource Identifier (URI) Parameter
              Registry for the Session Initiation Protocol (SIP)", <a href="https://tools.ietf.org/html/bcp99">BCP</a>
              <a href="https://tools.ietf.org/html/bcp99">99</a>, <a href="rfc3969.html">RFC 3969</a>, DOI 10.17487/RFC3969, December 2004,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3969">http://www.rfc-editor.org/info/rfc3969</a>&gt;.

   [<a id="ref-RFC5234" name="ref-RFC5234">RFC5234</a>]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, <a href="rfc5234.html">RFC 5234</a>,
              DOI 10.17487/RFC5234, January 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5234">http://www.rfc-editor.org/info/rfc5234</a>&gt;.

   [<a id="ref-TS.3GPP.24.229" name="ref-TS.3GPP.24.229">TS.3GPP.24.229</a>]
              3GPP, "Vocabulary for 3GPP Specifications", 3GPP TS 24.229
              12.6.0, September 2014.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC3325" name="ref-RFC3325">RFC3325</a>]  Jennings, C., Peterson, J., and M. Watson, "Private
              Extensions to the Session Initiation Protocol (SIP) for
              Asserted Identity within Trusted Networks", <a href="rfc3325.html">RFC 3325</a>,
              DOI 10.17487/RFC3325, November 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3325">http://www.rfc-editor.org/info/rfc3325</a>&gt;.




<span class="grey">Holmberg, et al.             Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%203GPP%20Examples"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  3GPP Examples</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.1.%20%20General"></a><a class="selflink" href="#appendix-A.1" name="appendix-A.1">A.1</a>.  General</span>

   This section contains example call flows based on 3GPP usage of the
   SIP URI 'iotl' parameter.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.2.%20%20The%20UE%20Registers%20via%20P-CSCF"></a><a class="selflink" href="#appendix-A.2" name="appendix-A.2">A.2</a>.  The UE Registers via P-CSCF</span>

   The Visited Proxy (P-CSCF) adds the 'iotl' value 'homeb-visitedb' to
   the Path header field of the REGISTER request to be used for
   terminating routing towards Alice.  The Home Proxy (S-CSCF) adds the
   'iotl' value 'visiteda-homea' to the Service-Route header field to be
   used for originating initial/stand-alone requests from Alice.

             Visited Proxy    Visited Proxy      Home Proxy   Home Proxy
Alice's . . . . P-CSCF . . . . .  IBCF-V . . . . . IBCF-H . . . . S-CSCF
  |                |                |                |                |
  |   REGISTER F1  |                |                |                |
  |---------------&gt;|   REGISTER F2  |                |                |
  |                |---------------&gt;|   REGISTER F3  |                |
  |                |                |---------------&gt;|  REGISTER F4   |
  |                |                |                |---------------&gt;|
  |                |                |                |                |
  |                |                |                |  200 (OK) F5   |
  |                |                |                |&lt;---------------|
  |                |                |  200 (OK) F6   |                |
  |                |                |&lt;---------------|                |
  |                |  200 (OK) F7   |                |                |
  |                |&lt;---------------|                |                |
  |  200 (OK) F8   |                |                |                |
  |&lt;---------------|                |                |                |


   F1 REGISTER Alice -&gt; P-CSCF
   REGISTER sip:registrar.home1.net SIP/2.0

   F2 REGISTER P-CSCF -&gt; IBCF-V
   REGISTER sip:registrar.home1.net SIP/2.0
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;

   F3 REGISTER IBCF-V -&gt; IBCF-H
   REGISTER sip:registrar.home1.net SIP/2.0
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;

   F4 REGISTER IBCF-H -&gt; S-CSCF
   REGISTER sip:registrar.home1.net SIP/2.0
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;



<span class="grey">Holmberg, et al.             Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


   F5 200 OK S-CSCF -&gt; IBCF-H
   200 OK
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;
   Service-Route: &lt;s-cscf URI;iotl=visiteda-homea&gt;

   F6 200 OK IBCF-H -&gt; IBCF-V
   200 OK
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;
   Service-Route: &lt;s-cscf URI;iotl=visiteda-homea&gt;

   F7 200 OK IBCF-V -&gt; P-CSCF
   200 OK
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;
   Service-Route: &lt;s-cscf URI;iotl=visiteda-homea&gt;

   F8 200 OK P-CSCF -&gt; Alice
   200 OK
   Path: &lt;p-cscf URI;iotl=homeb-visitedb&gt;
   Service-Route: &lt;s-cscf URI;iotl=visiteda-homea&gt;

                   Figure 2: The UE Registers via P-CSCF






























<span class="grey">Holmberg, et al.             Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.3.%20%20Originating%20IMS%20Call"></a><a class="selflink" href="#appendix-A.3" name="appendix-A.3">A.3</a>.  Originating IMS Call</span>

   In the originating INVITE request from Alice, the 'iotl' value
   'visiteda-homea', received in the Service-Route header field during
   registration, is added to the Route header field representing the
   Home Proxy (S-CSCF) to indicate the traffic leg type between the
   Visited Proxy (P-CSCF) and the Home Proxy (S-CSCF).

             Visited Proxy    Visited Proxy      Home Proxy   Home Proxy
Alice's . . . . P-CSCF . . . . .  IBCF-V . . . . . IBCF-H . . . . S-CSCF
  |                |                |                |                |
  |   INVITE F1    |                |                |                |
  |---------------&gt;|   INVITE F2    |                |                |
  |                |---------------&gt;|   INVITE F3    |                |
  |                |                |---------------&gt;|   INVITE F4    |
  |                |                |                |---------------&gt;|
  |                |                |                |                |
  |                |                |                |    180   F5    |
  |                |                |    180   F6    |&lt;---------------|
  |                |    180   F7    |&lt;---------------|                |
  |    180   F8    |&lt;---------------|                |                |
  |&lt;---------------|                |                |                |
  |                |                |                |                |


   F1 INVITE Alice -&gt; P-CSCF
   INVITE sip:Bob@homeb.net SIP/2.0
   Route: &lt;p-cscf URI&gt;,&lt;s-cscf URI;iotl=visiteda-homea&gt;

   F2 INVITE P-CSCF -&gt; IBCF-V
   INVITE sip:Bob@homeb.net SIP/2.0
   Route: &lt;ibcf-v URI&gt;,&lt;s-cscf URI;iotl=visiteda-homea&gt;

   F3 INVITE IBCF-V -&gt; IBCF-H
   INVITE sip:Bob@homeb.net SIP/2.0
   Route: &lt;ibcf-h URI&gt;,&lt;s-cscf URI;iotl=visiteda-homea&gt;

   F4 INVITE IBCF-H -&gt; S-CSCF
   INVITE sip:Bob@homeb.net SIP/2.0
   Route: &lt;s-cscf URI;iotl=visiteda-homea&gt;

         Figure 3: Originating IP Multimedia Subsystem (IMS) Call









<span class="grey">Holmberg, et al.             Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.4.%20%20Terminating%20IMS%20Call"></a><a class="selflink" href="#appendix-A.4" name="appendix-A.4">A.4</a>.  Terminating IMS Call</span>

   In the terminating INVITE request towards Alice, the 'iotl' value
   'homeb-visitedb' provided to the Home Proxy (S-CSCF) during
   registration is added to the Route header field representing the
   Visited Proxy (P-CSCF) to indicate the traffic leg type between the
   Home Proxy (S-CSCF) and the Visited Proxy (P-CSCF).

Home Proxy    Home Proxy      Visited Proxy     Visited Proxy
S-CSCF  . . . . IBCF-H . . . . .  IBCF-V . . . . . P-CSCF . . . . .  Bob
  |                |                |                |                |
  |   INVITE F1    |                |                |                |
  |---------------&gt;|   INVITE F2    |                |                |
  |                |---------------&gt;|   INVITE F3    |                |
  |                |                |---------------&gt;|   INVITE F4    |
  |                |                |                |---------------&gt;|
  |                |                |                |                |
  |                |                |                |    180   F5    |
  |                |                |    180   F6    |&lt;---------------|
  |                |    180   F7    |&lt;---------------|                |
  |    180   F8    |&lt;---------------|                |                |
  |&lt;---------------|                |                |                |
  |                |                |                |                |


   F1 INVITE S-CSCF -&gt; IBCF-H
   INVITE sip:Bob@visitedb.net SIP/2.0
   Route: &lt;ibcf-h URI&gt;,&lt;p-cscf-v URI;iotl=homeb-visitedb

   F2 INVITE IBCF-H -&gt; IBCF-V
   INVITE sip:Bob@visitedb.net SIP/2.0
   Route: &lt;ibcf-v URI&gt;,&lt;p-cscf-v URI;iotl=homeb-visitedb

   F3 INVITE IBCF-V -&gt; P-CSCF
   INVITE sip:Bob@visitedb.net SIP/2.0
   Route: &lt;p-cscf-v URI;iotl=homeb-visitedb

   F4 INVITE P-CSCF -&gt; Bob
   INVITE sip:Bob@visitedb.net SIP/2.0

                      Figure 4: Terminating IMS Call










<span class="grey">Holmberg, et al.             Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.5.%20%20Call%20between%20Originating%20Home%20and%20Terminating%20Home%20Network"></a><a class="selflink" href="#appendix-A.5" name="appendix-A.5">A.5</a>.  Call between Originating Home and Terminating Home Network</span>

   The S-CSCF of the originating home network adds the 'iotl' value
   'homea-homeb' in the Request-URI of the INVITE, sent towards the
   S-CSCF of the terminating network to indicate the traffic leg type
   between the S-CSCFs.

Home-A Proxy   Home-A Proxy    Home-B Proxy    Home-B Proxy Home-B Proxy
S-CSCF-A  . . . . IBCF-A . . . . .IBCF-B . . . . .I-CSCF-B . . .S-CSCF-B
  |                |                |                |                |
  |   INVITE F1    |                |                |                |
  |---------------&gt;|   INVITE F2    |                |                |
  |                |---------------&gt;|   INVITE F3    |                |
  |                |                |---------------&gt;|   INVITE F4    |
  |                |                |                |---------------&gt;|
  |                |                |                |                |
  |                |                |                |    180   F5    |
  |                |                |    180   F6    |&lt;---------------|
  |                |    180   F7    |&lt;---------------|                |
  |    180   F8    |&lt;---------------|                |                |
  |&lt;---------------|                |                |                |
  |                |                |                |                |


   F1 INVITE S-CSCF-A -&gt; IBCF-A
   INVITE sip:Bob@visitedb.net;iotl=homea-homeb SIP/2.0

   F2 INVITE IBCF-a -&gt; IBCF-B
   INVITE sip:Bob@visitedb.net;iotl=homea-homeb SIP/2.0

   F3 INVITE IBCF-B -&gt; I-CSCF-B
   INVITE sip:Bob@visitedb.net;iotl=homea-homeb SIP/2.0

   F4 INVITE I-CSCF-B -&gt; S-CSCF-B
   INVITE sip:Bob@visitedb.net;iotl=homea-homeb SIP/2.0

   Figure 5: Call between Originating Home and Terminating Home Network














<span class="grey">Holmberg, et al.             Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7549.html">RFC 7549</a>                       3GPP 'iotl'                      May 2015</span>


Acknowledgements

   The authors wish to thank everyone in the 3GPP community that gave
   comments on the initial version of this document and contributed with
   comments and suggestions during the work.  A special thanks to Paul
   Kyziwat, Dale Worley, and Michael Hammer.  Robert Sparks performed
   the Gen-ART review of the document.

Authors' Addresses

   Christer Holmberg
   Ericsson
   Hirsalantie 11
   Jorvas  02420
   Finland

   EMail: christer.holmberg@ericsson.com


   Jan Holm
   Ericsson
   Kistavagen 25
   Stockholm16480
   Sweden

   EMail: jan.holm@ericsson.com


   Roland Jesske
   Deutsche Telekom
   Heinrich-Hertz-Strasse 3-7
   Darmstadt  64307
   Germany

   Phone: +4961515812766
   EMail: r.jesske@telekom.de


   Martin Dolly
   AT&amp;T
   718 Clairmore Ave
   Lanoka Harbor  08734
   United States

   EMail: md3135@att.com






Holmberg, et al.             Standards Track                   [Page 17]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7549 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:21 GMT --></html>