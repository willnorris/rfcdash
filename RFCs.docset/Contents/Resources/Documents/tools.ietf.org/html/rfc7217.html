<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7217 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:22 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-gont-6man-stable-privacy-addresses" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7217" name="DC.Identifier"/>
<meta content="April, 2014" name="DC.Date.Issued"/>
<meta content="Fernando Gont &lt;fgont@si6networks.com&gt;" name="DC.Creator"/>
<meta content="This document specifies a method for generating IPv6 Interface
Identifiers to be used with IPv6 Stateless Address Autoconfiguration
(SLAAC), such that an IPv6 address configured using this method is
stable within each subnet, but the corresponding Interface Identifier
changes when the host moves from one network to another. This method
is meant to be an alternative to generating Interface Identifiers
based on hardware addresses (e.g., IEEE LAN Media Access Control (MAC)
addresses), such that the benefits of stable addresses can be achieved
without sacrificing the security and privacy of users. The method
specified in this document applies to all prefixes a host may be
employing, including link-local, global, and unique-local prefixes
(and their corresponding addresses)." name="DC.Description.Abstract"/>
<meta content="A Method for Generating Semantically Opaque Interface Identifiers with IPv6 Stateless Address Autoconfiguration (SLAAC)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7217 - A Method for Generating Semantically Opaque Interface Identifiers with IPv6 Stateless Address Autoconfiguration (SLAAC)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7217.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7217" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-6man-stable-privacy-addresses" title="draft-ietf-6man-stable-privacy-addresses">draft-ietf-6man...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7217" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7217" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7217" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                           F. Gont
Request for Comments: 7217                        SI6 Networks / UTN-FRH
Category: Standards Track                                     April 2014
ISSN: 2070-1721


   <span class="h1">A Method for Generating Semantically Opaque Interface Identifiers</span>
         <span class="h1">with IPv6 Stateless Address Autoconfiguration (SLAAC)</span>

Abstract

   This document specifies a method for generating IPv6 Interface
   Identifiers to be used with IPv6 Stateless Address Autoconfiguration
   (SLAAC), such that an IPv6 address configured using this method is
   stable within each subnet, but the corresponding Interface Identifier
   changes when the host moves from one network to another.  This method
   is meant to be an alternative to generating Interface Identifiers
   based on hardware addresses (e.g., IEEE LAN Media Access Control
   (MAC) addresses), such that the benefits of stable addresses can be
   achieved without sacrificing the security and privacy of users.  The
   method specified in this document applies to all prefixes a host may
   be employing, including link-local, global, and unique-local prefixes
   (and their corresponding addresses).

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7217">http://www.rfc-editor.org/info/rfc7217</a>.














<span class="grey">Gont                         Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  Relationship to Other Standards . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-4">4</a>.  Design Goals  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-5">5</a>.  Algorithm Specification . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-6">6</a>.  Resolving DAD Conflicts . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-7">7</a>.  Specified Constants . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-8">8</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-9">9</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   <a href="#section-10">10</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-10.1">10.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-10.2">10.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   <a href="#appendix-A">Appendix A</a>.  Possible Sources for the Net_Iface Parameter . . . .  <a href="#page-19">19</a>
     <a href="#appendix-A.1">A.1</a>.  Interface Index . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#appendix-A.2">A.2</a>.  Interface Name  . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#appendix-A.3">A.3</a>.  Link-Layer Addresses  . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#appendix-A.4">A.4</a>.  Logical Network Service Identity  . . . . . . . . . . . .  <a href="#page-20">20</a>

















<span class="grey">Gont                         Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   [<a id="ref-RFC4862" name="ref-RFC4862">RFC4862</a>] specifies Stateless Address Autoconfiguration (SLAAC) for
   IPv6 [<a href="rfc2460.html" title='"Internet Protocol, Version 6 (IPv6) Specification"'>RFC2460</a>], which typically results in hosts configuring one or
   more "stable" addresses composed of a network prefix advertised by a
   local router, and an Interface Identifier (IID) that typically embeds
   a hardware address (e.g., an IEEE LAN MAC address) [<a href="rfc4291.html" title='"IP Version 6 Addressing Architecture"'>RFC4291</a>].
   Cryptographically Generated Addresses (CGAs) [<a href="rfc3972.html" title='"Cryptographically Generated Addresses (CGA)"'>RFC3972</a>] are yet
   another method for generating Interface Identifiers; CGAs bind a
   public signature key to an IPv6 address in the SEcure Neighbor
   Discovery (SEND) [<a href="rfc3971.html" title='"SEcure Neighbor Discovery (SEND)"'>RFC3971</a>] protocol.

   Generally, the traditional SLAAC addresses are thought to simplify
   network management, since they simplify Access Control Lists (ACLs)
   and logging.  However, they have a number of drawbacks:

   o  Since the resulting Interface Identifiers do not vary over time,
      they allow correlation of host activities within the same network,
      thus negatively affecting the privacy of users (see
      [<a href="#ref-ADDR-GEN-PRIVACY">ADDR-GEN-PRIVACY</a>] and [<a href="#ref-IAB-PRIVACY">IAB-PRIVACY</a>]).

   o  Since the resulting Interface Identifiers are constant across
      networks, the resulting IPv6 addresses can be leveraged to track
      and correlate the activity of a host across multiple networks
      (e.g., track and correlate the activities of a typical client
      connecting to the public Internet from different locations), thus
      negatively affecting the privacy of users.

   o  Since embedding the underlying link-layer address in the Interface
      Identifier will result in specific address patterns, such patterns
      may be leveraged by attackers to reduce the search space when
      performing address-scanning attacks [<a href="#ref-IPV6-RECON">IPV6-RECON</a>].  For example,
      the IPv6 addresses of all hosts manufactured by the same vendor
      (within a given time frame) will likely contain the same IEEE
      Organizationally Unique Identifier (OUI) in the Interface
      Identifier.

   o  Embedding the underlying hardware address in the Interface
      Identifier leaks device-specific information that could be
      leveraged to launch device-specific attacks.

   o  Embedding the underlying link-layer address in the Interface
      Identifier means that replacement of the underlying interface
      hardware will result in a change of the IPv6 address(es) assigned
      to that interface.






<span class="grey">Gont                         Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   [<a id="ref-ADDR-GEN-PRIVACY" name="ref-ADDR-GEN-PRIVACY">ADDR-GEN-PRIVACY</a>] provides additional details regarding how the
   aforementioned vulnerabilities could be exploited and the extent to
   which the method discussed in this document mitigates them.

   The "Privacy Extensions for Stateless Address Autoconfiguration in
   IPv6" [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>] (henceforth referred to as "temporary addresses")
   were introduced to complicate the task of eavesdroppers and other
   information collectors (e.g., IPv6 addresses in web server logs or
   email headers, etc.) to correlate the activities of a host, and
   basically result in temporary (and random) Interface Identifiers.
   These temporary addresses are generated in addition to the
   traditional IPv6 addresses based on IEEE LAN MAC addresses, with the
   temporary addresses being employed for "outgoing communications", and
   the traditional SLAAC addresses being employed for "server" functions
   (i.e., receiving incoming connections).

   It should be noted that temporary addresses can be challenging in a
   number of areas.  For example, from a network-management point of
   view, they tend to increase the complexity of event logging,
   troubleshooting, enforcement of access controls, and quality of
   service, etc.  As a result, some organizations disable the use of
   temporary addresses even at the expense of reduced privacy
   [<a href="#ref-BROERSMA" title='"IPv6 Everywhere: Living with a Fully IPv6-enabled environment"'>BROERSMA</a>].  Temporary addresses may also result in increased
   implementation complexity, which might not be possible or desirable
   in some implementations (e.g., some embedded devices).

   In scenarios in which temporary addresses are deliberately not used
   (possibly for any of the aforementioned reasons), all a host is left
   with is the stable addresses that have typically been generated from
   the underlying hardware addresses.  In such scenarios, it may still
   be desirable to have addresses that mitigate address-scanning attacks
   and that, at the very least, do not reveal the host's identity when
   roaming from one network to another -- without complicating the
   operation of the corresponding networks.

   However, even with temporary addresses in place, a number of issues
   remain to be mitigated.  Namely,

   o  since temporary addresses [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>] do not eliminate the use of
      fixed identifiers for server-like functions, they only partially
      mitigate host-tracking and activity correlation across networks
      (see [<a href="#ref-ADDR-GEN-PRIVACY">ADDR-GEN-PRIVACY</a>] for some example attacks that are still
      possible with temporary addresses).

   o  since temporary addresses [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>] do not replace the traditional
      SLAAC addresses, an attacker can still leverage patterns in SLAAC
      addresses to greatly reduce the search space for "alive" nodes
      [<a href="#ref-GONT-DEEPSEC2011">GONT-DEEPSEC2011</a>] [<a href="#ref-CPNI-IPV6">CPNI-IPV6</a>] [<a href="#ref-IPV6-RECON">IPV6-RECON</a>].



<span class="grey">Gont                         Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   Hence, there is a motivation to improve the properties of "stable"
   addresses regardless of whether or not temporary addresses are
   employed.

   This document specifies a method to generate Interface Identifiers
   that are stable for each network interface within each subnet, but
   that change as a host moves from one network to another.  Thus, this
   method enables keeping the "stability" properties of the Interface
   Identifiers specified in [<a href="rfc4291.html" title='"IP Version 6 Addressing Architecture"'>RFC4291</a>], while still mitigating address-
   scanning attacks and preventing correlation of the activities of a
   host as it moves from one network to another.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Relationship%20to%20Other%20Standards"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Relationship to Other Standards</span>

   The method specified in this document is orthogonal to the use of
   temporary addresses [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>], since it is meant to improve the
   security and privacy properties of the stable addresses that are
   employed along with the aforementioned temporary addresses.  In
   scenarios in which temporary addresses are employed, implementation
   of the mechanism described in this document (in replacement of stable
   addresses based on, e.g., IEEE LAN MAC addresses) will mitigate
   address-scanning attacks and also mitigate the remaining vectors for
   correlating host activities based on the host's constant (i.e.,
   stable across networks) Interface Identifiers.  On the other hand,
   for hosts that currently disable temporary addresses [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>],
   implementation of this mechanism would mitigate the host-tracking and
   address-scanning issues discussed in <a href="#section-1">Section 1</a>.

   While the method specified in this document is meant to be used with
   SLAAC, this does not preclude this algorithm from being used with
   other address configuration mechanisms, such as DHCPv6 [<a href="rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>] or
   manual address configuration.













<span class="grey">Gont                         Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Design%20Goals"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Design Goals</span>

   This document specifies a method for generating Interface Identifiers
   to be used with IPv6 SLAAC, with the following goals:

   o  The resulting Interface Identifiers remain stable for each prefix
      used with SLAAC within each subnet for the same network interface.
      That is, the algorithm generates the same Interface Identifier
      when configuring an address (for the same interface) belonging to
      the same prefix within the same subnet.

   o  The resulting Interface Identifiers must change when addresses are
      configured for different prefixes.  That is, if different
      autoconfiguration prefixes are used to configure addresses for the
      same network interface card, the resulting Interface Identifiers
      must be (statistically) different.  This means that, given two
      addresses produced by the method specified in this document, it
      must be difficult for an attacker to tell whether the addresses
      have been generated by the same host.

   o  It must be difficult for an outsider to predict the Interface
      Identifiers that will be generated by the algorithm, even with
      knowledge of the Interface Identifiers generated for configuring
      other addresses.

   o  Depending on the specific implementation approach (see <a href="#section-5">Section 5</a>
      and <a href="#appendix-A">Appendix A</a>), the resulting Interface Identifiers may be
      independent of the underlying hardware (e.g., IEEE LAN MAC
      address).  For example, this means that replacing a Network
      Interface Card (NIC) or adding links dynamically to a Link
      Aggregation Group (LAG) will not have the (generally undesirable)
      effect of changing the IPv6 addresses used for that network
      interface.

   o  The method specified in this document is meant to be an
      alternative to producing IPv6 addresses based on hardware
      addresses (e.g., IEEE LAN MAC addresses, as specified in
      [<a href="rfc2464.html" title='"Transmission of IPv6 Packets over Ethernet Networks"'>RFC2464</a>]).  That is, this document does not formally obsolete or
      deprecate any of the existing algorithms to generate Interface
      Identifiers.  It is meant to be employed for all of the stable
      (i.e., non-temporary) IPv6 addresses configured with SLAAC for a
      given interface, including global, link-local, and unique-local
      IPv6 addresses.

   We note that this method is incrementally deployable, since it does
   not pose any interoperability implications when deployed on networks
   where other nodes do not implement or employ it.  Additionally, we
   note that this document does not update or modify IPv6 Stateless



<span class="grey">Gont                         Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   Address Autoconfiguration (SLAAC) [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>] itself, but rather it
   only specifies an alternative algorithm to generate Interface
   Identifiers.  Therefore, the usual address lifetime properties (as
   specified in the corresponding Prefix Information Options) apply when
   IPv6 addresses are generated as a result of employing the algorithm
   specified in this document with SLAAC [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>].  Additionally, from
   the point of view of renumbering, we note that these addresses behave
   like the traditional IPv6 addresses (that embed a hardware address)
   resulting from SLAAC [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Algorithm%20Specification"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Algorithm Specification</span>

   IPv6 implementations conforming to this specification MUST generate
   Interface Identifiers using the algorithm specified in this section
   as a replacement for any other algorithms for generating "stable"
   addresses with SLAAC (such as those specified in [<a href="rfc2464.html" title='"Transmission of IPv6 Packets over Ethernet Networks"'>RFC2464</a>],
   [<a href="rfc2467.html" title='"Transmission of IPv6 Packets over FDDI Networks"'>RFC2467</a>], and [<a href="rfc2470.html" title='"Transmission of IPv6 Packets over Token Ring Networks"'>RFC2470</a>]).  However, implementations conforming to
   this specification MAY employ the algorithm specified in [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>] to
   generate temporary addresses in addition to the addresses generated
   with the algorithm specified in this document.  The method specified
   in this document MUST be employed for generating the Interface
   Identifiers with SLAAC for all the stable addresses, including IPv6
   global, link-local, and unique-local addresses.

   Implementations conforming to this specification SHOULD provide the
   means for a system administrator to enable or disable the use of this
   algorithm for generating Interface Identifiers.

   Unless otherwise noted, all of the parameters included in the
   expression below MUST be included when generating an Interface
   Identifier.

   1.  Compute a random (but stable) identifier with the expression:

       RID = F(Prefix, Net_Iface, Network_ID, DAD_Counter, secret_key)

       Where:

       RID:
          Random (but stable) Identifier

       F():
          A pseudorandom function (PRF) that MUST NOT be computable from
          the outside (without knowledge of the secret key).  F() MUST
          also be difficult to reverse, such that it resists attempts to
          obtain the secret_key, even when given samples of the output
          of F() and knowledge or control of the other input parameters.
          F() SHOULD produce an output of at least 64 bits.  F() could



<span class="grey">Gont                         Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


          be implemented as a cryptographic hash of the concatenation of
          each of the function parameters.  SHA-1 [<a href="#ref-FIPS-SHS" title='"Secure Hash Standard (SHS)"'>FIPS-SHS</a>] and SHA-256
          are two possible options for F().  Note: MD5 [<a href="rfc1321.html" title='"The MD5 Message-Digest Algorithm"'>RFC1321</a>] is
          considered unacceptable for F() [<a href="rfc6151.html" title='"Updated Security Considerations for the MD5 Message-Digest and the HMAC-MD5 Algorithms"'>RFC6151</a>].

       Prefix:
          The prefix to be used for SLAAC, as learned from an ICMPv6
          Router Advertisement message, or the link-local IPv6 unicast
          prefix [<a href="rfc4291.html" title='"IP Version 6 Addressing Architecture"'>RFC4291</a>].

       Net_Iface:
          An implementation-dependent stable identifier associated with
          the network interface for which the RID is being generated.
          An implementation MAY provide a configuration option to select
          the source of the identifier to be used for the Net_Iface
          parameter.  A discussion of possible sources for this value
          (along with the corresponding trade-offs) can be found in
          <a href="#appendix-A">Appendix A</a>.

       Network_ID:
          Some network-specific data that identifies the subnet to which
          this interface is attached -- for example, the IEEE 802.11
          Service Set Identifier (SSID) corresponding to the network to
          which this interface is associated.  Additionally, Simple DNA
          [<a href="rfc6059.html" title='"Simple Procedures for Detecting Network Attachment in IPv6"'>RFC6059</a>] describes ideas that could be leveraged to generate
          a Network_ID parameter.  This parameter is OPTIONAL.

       DAD_Counter:
          A counter that is employed to resolve Duplicate Address
          Detection (DAD) conflicts.  It MUST be initialized to 0, and
          incremented by 1 for each new tentative address that is
          configured as a result of a DAD conflict.  Implementations
          that record DAD_Counter in non-volatile memory for each
          {Prefix, Net_Iface, Network_ID} tuple MUST initialize
          DAD_Counter to the recorded value if such an entry exists in
          non-volatile memory.  See <a href="#section-6">Section 6</a> for additional details.

       secret_key:
          A secret key that is not known by the attacker.  The secret
          key SHOULD be of at least 128 bits.  It MUST be initialized to
          a pseudo-random number (see [<a href="rfc4086.html" title='"Randomness Requirements for Security"'>RFC4086</a>] for randomness
          requirements for security) when the operating system is
          installed or when the IPv6 protocol stack is "bootstrapped"
          for the first time.  An implementation MAY provide the means
          for the system administrator to display and change the secret
          key.





<span class="grey">Gont                         Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   2.  The Interface Identifier is finally obtained by taking as many
       bits from the RID value (computed in the previous step) as
       necessary, starting from the least significant bit.

          We note that [<a href="rfc4291.html" title='"IP Version 6 Addressing Architecture"'>RFC4291</a>] requires that the Interface IDs of all
          unicast addresses (except those that start with the binary
          value 000) be 64 bits long.  However, the method discussed in
          this document could be employed for generating Interface IDs
          of any arbitrary length, albeit at the expense of reduced
          entropy (when employing Interface IDs smaller than 64 bits).

       The resulting Interface Identifier SHOULD be compared against the
       reserved IPv6 Interface Identifiers [<a href="rfc5453.html" title='"Reserved IPv6 Interface Identifiers"'>RFC5453</a>] [<a href="#ref-IANA-RESERVED-IID">IANA-RESERVED-IID</a>]
       and against those Interface Identifiers already employed in an
       address of the same network interface and the same network
       prefix.  In the event that an unacceptable identifier has been
       generated, this situation SHOULD be handled in the same way as
       the case of duplicate addresses (see <a href="#section-6">Section 6</a>).

   This document does not require the use of any specific PRF for the
   function F() above, since the choice of such PRF is usually a trade-
   off between a number of properties (processing requirements, ease of
   implementation, possible intellectual property rights, etc.), and
   since the best possible choice for F() might be different for
   different types of devices (e.g., embedded systems vs. regular
   servers) and might possibly change over time.

   Including the SLAAC prefix in the PRF computation causes the
   Interface Identifier to vary across each prefix (link-local, global,
   etc.) employed by the host and, consequently, also across networks.
   This mitigates the correlation of activities of multihomed hosts
   (since each of the corresponding addresses will typically employ a
   different prefix), host-tracking (since the network prefix will
   change as the host moves from one network to another), and any other
   attacks that benefit from predictable Interface Identifiers (such as
   IPv6 address-scanning attacks).

   The Net_Iface is a value that identifies the network interface for
   which an IPv6 address is being generated.  The following properties
   are required for the Net_Iface parameter:

   o  It MUST be constant across system bootstrap sequences and other
      network events (e.g., bringing another interface up or down).

   o  It MUST be different for each network interface simultaneously in
      use.





<span class="grey">Gont                         Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   Since the stability of the addresses generated with this method
   relies on the stability of all arguments of F(), it is key that the
   Net_Iface parameter be constant across system bootstrap sequences and
   other network events.  Additionally, the Net_Iface parameter must
   uniquely identify an interface within the host, such that two
   interfaces connecting to the same network do not result in duplicate
   addresses.  Different types of operating systems might benefit from
   different stability properties of the Net_Iface parameter.  For
   example, a client-oriented operating system might want to employ
   Net_Iface identifiers that are attached to the NIC, such that a
   removable NIC always gets the same IPv6 address, irrespective of the
   system communications port to which it is attached.  On the other
   hand, a server-oriented operating system might prefer Net_Iface
   identifiers that are attached to system slots/ports, such that
   replacement of a NIC does not result in an IPv6 address change.
   <a href="#appendix-A">Appendix A</a> discusses possible sources for the Net_Iface along with
   their pros and cons.

   Including the optional Network_ID parameter when computing the RID
   value above causes the algorithm to produce a different Interface
   Identifier when connecting to different networks, even when
   configuring addresses belonging to the same prefix.  This means that
   a host would employ a different Interface Identifier as it moves from
   one network to another even for IPv6 link-local addresses or Unique
   Local Addresses (ULAs) [<a href="rfc4193.html" title='"Unique Local IPv6 Unicast Addresses"'>RFC4193</a>].  In those scenarios where the
   Network_ID is unknown to the attacker, including this parameter might
   help mitigate attacks where a victim host connects to the same subnet
   as the attacker and the attacker tries to learn the Interface
   Identifier used by the victim host for a remote network (see
   <a href="#section-8">Section 8</a> for further details).

   The DAD_Counter parameter provides the means to intentionally cause
   this algorithm to produce different IPv6 addresses (all other
   parameters being the same).  This could be necessary to resolve DAD
   conflicts, as discussed in detail in <a href="#section-6">Section 6</a>.

   Note that the result of F() in the algorithm above is no more secure
   than the secret key.  If an attacker is aware of the PRF that is
   being used by the victim (which we should expect), and the attacker
   can obtain enough material (i.e., addresses configured by the
   victim), the attacker may simply search the entire secret-key space
   to find matches.  To protect against this, key lengths of at least
   128 bits should be adequate.  The secret key is initialized at system
   installation time to a pseudorandom number, thus allowing this
   mechanism to be enabled and used automatically, without user
   intervention.  Providing a mechanism to display and change the
   secret_key would allow an administrator to cause a new/replacement
   system (with the same implementation of this specification) to



<span class="grey">Gont                         Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   generate the same IPv6 addresses as the system being replaced.  We
   note that since the privacy of the scheme specified in this document
   relies on the secrecy of the secret_key parameter, implementations
   should constrain access to the secret_key parameter to the extent
   practicable (e.g., require superuser privileges to access it).
   Furthermore, in order to prevent leakages of the secret_key
   parameter, it should not be used for any purposes other than being a
   parameter to the scheme specified in this document.

   We note that all of the bits in the resulting Interface IDs are
   treated as "opaque" bits [<a href="rfc7136.html" title='"Significance of IPv6 Interface Identifiers"'>RFC7136</a>].  For example, the universal/local
   bit of Modified EUI-64 format identifiers is treated as any other bit
   of such an identifier.  In theory, this might result in IPv6 address
   collisions and DAD failures that would otherwise not be encountered.
   However, this is not deemed as a likely issue because of the
   following considerations:

   o  The interface IDs of all addresses (except those of addresses that
      start with the binary value 000) are 64 bits long.  Since the
      method specified in this document results in random Interface IDs,
      the probability of DAD failures is very small.

   o  Real-world data indicates that MAC address reuse is far more
      common than assumed [<a href="#ref-HD-MOORE" title='"The Wild West"'>HD-MOORE</a>].  This means that even IPv6
      addresses that employ (allegedly) unique identifiers (such as IEEE
      LAN MAC addresses) might result in DAD failures and, hence,
      implementations should be prepared to gracefully handle such
      occurrences.  Additionally, some virtualization technologies
      already employ hardware addresses that are randomly selected, and,
      hence, cannot be guaranteed to be unique [<a href="#ref-IPV6-RECON">IPV6-RECON</a>].

   o  Since some popular and widely deployed operating systems (such as
      Microsoft Windows) do not embed hardware addresses in the
      Interface IDs of their stable addresses, reliance on such unique
      identifiers is reduced in the deployed world (fewer deployed
      systems rely on them for the avoidance of address collisions).

   Finally, we note that since different implementations are likely to
   use different values for the secret_key parameter, and may also
   employ different PRFs for F() and different sources for the Net_Iface
   parameter, the addresses generated by this scheme should not expected
   to be stable across different operating-system installations.  For
   example, a host that is dual-boot or that is reinstalled may result
   in different IPv6 addresses for each operating system and/or
   installation.






<span class="grey">Gont                         Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Resolving%20DAD%20Conflicts"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Resolving DAD Conflicts</span>

   If, as a result of performing DAD [<a href="rfc4862.html" title='"IPv6 Stateless Address Autoconfiguration"'>RFC4862</a>], a host finds that the
   tentative address generated with the algorithm specified in <a href="#section-5">Section 5</a>
   is a duplicate address, it SHOULD resolve the address conflict by
   trying a new tentative address as follows:

   o  DAD_Counter is incremented by 1.

   o  A new Interface Identifier is generated with the algorithm
      specified in <a href="#section-5">Section 5</a>, using the incremented DAD_Counter value.

   Hosts SHOULD introduce a random delay between 0 and IDGEN_DELAY
   seconds (see <a href="#section-7">Section 7</a>) before trying a new tentative address, to
   avoid lockstep behavior of multiple hosts.

   This procedure may be repeated a number of times until the address
   conflict is resolved.  Hosts SHOULD try at least IDGEN_RETRIES (see
   <a href="#section-7">Section 7</a>) tentative addresses if DAD fails for successive generated
   addresses, in the hopes of resolving the address conflict.  We also
   note that hosts MUST limit the number of tentative addresses that are
   tried (rather than indefinitely try a new tentative address until the
   conflict is resolved).

   In those unlikely scenarios in which duplicate addresses are detected
   and the order in which the conflicting hosts configure their
   addresses varies (e.g., because they may be bootstrapped in different
   orders), the algorithm specified in this section for resolving DAD
   conflicts could lead to addresses that are not stable within the same
   subnet.  In order to mitigate this potential problem, hosts MAY
   record the DAD_Counter value employed for a specific {Prefix,
   Net_Iface, Network_ID} tuple in non-volatile memory, such that the
   same DAD_Counter value is employed when configuring an address for
   the same Prefix and subnet at any other point in time.  We note that
   the use of non-volatile memory is OPTIONAL, and hosts that do not
   implement this feature are still compliant to this protocol
   specification.

   In the event that a DAD conflict cannot be solved (possibly after
   trying a number of different addresses), address configuration would
   fail.  In those scenarios, hosts MUST NOT automatically fall back to
   employing other algorithms for generating Interface Identifiers.









<span class="grey">Gont                         Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Specified%20Constants"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Specified Constants</span>

   This document specifies the following constant:

   IDGEN_RETRIES:
      defaults to 3.

   IDGEN_DELAY:
      defaults to 1 second.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   This document specifies an algorithm for generating Interface
   Identifiers to be used with IPv6 Stateless Address Autoconfiguration
   (SLAAC), as an alternative to e.g., Interface Identifiers that embed
   hardware addresses (such as those specified in [<a href="rfc2464.html" title='"Transmission of IPv6 Packets over Ethernet Networks"'>RFC2464</a>], [<a href="rfc2467.html" title='"Transmission of IPv6 Packets over FDDI Networks"'>RFC2467</a>],
   and [<a href="rfc2470.html" title='"Transmission of IPv6 Packets over Token Ring Networks"'>RFC2470</a>]).  When compared to such identifiers, the identifiers
   specified in this document have a number of advantages:

   o  They prevent trivial host-tracking based on the IPv6 address,
      since when a host moves from one network to another the network
      prefix used for autoconfiguration and/or the Network ID (e.g.,
      IEEE 802.11 SSID) will typically change; hence, the resulting
      Interface Identifier will also change (see [<a href="#ref-ADDR-GEN-PRIVACY">ADDR-GEN-PRIVACY</a>]).

   o  They mitigate address-scanning techniques that leverage
      predictable Interface Identifiers (e.g., known Organizationally
      Unique Identifiers) [<a href="#ref-IPV6-RECON">IPV6-RECON</a>].

   o  They may result in IPv6 addresses that are independent of the
      underlying hardware (i.e., the resulting IPv6 addresses do not
      change if a network interface card is replaced) if an appropriate
      source for Net_Iface (see <a href="#section-5">Section 5</a>) is employed.

   o  They prevent the information leakage produced by embedding
      hardware addresses in the Interface Identifier (which could be
      exploited to launch device-specific attacks).

   o  Since the method specified in this document will result in
      different Interface Identifiers for each configured address,
      knowledge or leakage of the Interface Identifier employed for one
      stable address will not negatively affect the security/privacy of
      other stable addresses configured for other prefixes (whether at
      the same time or at some other point in time).

   We note that while some probing techniques (such as the use of ICMPv6
   Echo Request and ICMPv6 Echo Response packets) could be mitigated by
   a personal firewall at the target host, for other probing vectors,



<span class="grey">Gont                         Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   such as listening to ICMPv6 "Destination Unreachable, Address
   Unreachable" (Type 1, Code 3) error messages that refer to the target
   addresses [<a href="#ref-IPV6-RECON">IPV6-RECON</a>], there is nothing a host can do (e.g., a
   personal firewall at the target host would not be able to mitigate
   this probing technique).  Hence, the method specified in this
   document is still of value for hosts that employ personal firewalls.

   In scenarios in which an attacker can connect to the same subnet as a
   victim host, the attacker might be able to learn the Interface
   Identifier employed by the victim host for an arbitrary prefix by
   simply sending a forged Router Advertisement [<a href="rfc4861.html" title='"Neighbor Discovery for IP version 6 (IPv6)"'>RFC4861</a>] for that
   prefix, and subsequently learning the corresponding address
   configured by the victim host (either listening to the Duplicate
   Address Detection packets or to any other traffic that employs the
   newly configured address).  We note that a number of factors might
   limit the ability of an attacker to successfully perform such an
   attack:

   o  First-Hop security mechanisms such as Router Advertisement Guard
      (RA-Guard) [<a href="rfc6105.html" title='"IPv6 Router Advertisement Guard"'>RFC6105</a>] [<a href="rfc7113.html" title='"Implementation Advice for IPv6 Router Advertisement Guard (RA-Guard)"'>RFC7113</a>] could prevent the forged Router
      Advertisement from reaching the victim host.

   o  If the victim implementation includes the (optional) Network_ID
      parameter for computing F() (see <a href="#section-5">Section 5</a>), and the Network_ID
      employed by the victim for a remote network is unknown to the
      attacker, the Interface Identifier learned by the attacker would
      differ from the one used by the victim when connecting to the
      legitimate network.

   In any case, we note that at the point in which this kind of attack
   becomes a concern, a host should consider employing SEND [<a href="rfc3971.html" title='"SEcure Neighbor Discovery (SEND)"'>RFC3971</a>] to
   prevent an attacker from illegitimately claiming authority for a
   network prefix.

   We note that this algorithm is meant to be an alternative to
   Interface Identifiers such as those specified in [<a href="rfc2464.html" title='"Transmission of IPv6 Packets over Ethernet Networks"'>RFC2464</a>], but it is
   not meant as an alternative to temporary Interface Identifiers (such
   as those specified in [<a href="rfc4941.html" title='"Privacy Extensions for Stateless Address Autoconfiguration in IPv6"'>RFC4941</a>]).  Clearly, temporary addresses may
   help to mitigate the correlation of activities of a host within the
   same network, and they may also reduce the attack exposure window
   (since temporary addresses are short-lived when compared to the
   addresses generated with the method specified in this document).  We
   note that the implementation of this specification would still
   benefit those hosts employing temporary addresses, since it would
   mitigate host-tracking vectors still present when such addresses are
   used (see [<a href="#ref-ADDR-GEN-PRIVACY">ADDR-GEN-PRIVACY</a>]) and would also mitigate address-
   scanning techniques that leverage patterns in IPv6 addresses that
   embed IEEE LAN MAC addresses.  Finally, we note that the method



<span class="grey">Gont                         Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   described in this document addresses some of the privacy concerns
   arising from the use of IPv6 addresses that embed IEEE LAN MAC
   addresses, without the use of temporary addresses, thus possibly
   offering an interesting trade-off for those scenarios in which the
   use of temporary addresses is not feasible.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Acknowledgements"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Acknowledgements</span>

   The algorithm specified in this document has been inspired by Steven
   Bellovin's work ([<a href="rfc1948.html" title='"Defending Against Sequence Number Attacks"'>RFC1948</a>]) in the area of TCP sequence numbers.

   The author would like to thank (in alphabetical order) Mikael
   Abrahamsson, Ran Atkinson, Karl Auer, Steven Bellovin, Matthias
   Bethke, Ben Campbell, Brian Carpenter, Tassos Chatzithomaoglou, Tim
   Chown, Alissa Cooper, Dominik Elsbroek, Stephen Farrell, Eric Gray,
   Brian Haberman, Bob Hinden, Christian Huitema, Ray Hunter, Jouni
   Korhonen, Suresh Krishnan, Eliot Lear, Jong-Hyouk Lee, Andrew
   McGregor, Thomas Narten, Simon Perreault, Tom Petch, Michael
   Richardson, Vincent Roca, Mark Smith, Hannes Frederic Sowa, Martin
   Stiemerling, Dave Thaler, Ole Troan, Lloyd Wood, James Woodyatt, and
   He Xuan, for providing valuable comments on earlier versions of this
   document.

   Hannes Frederic Sowa produced a reference implementation of this
   specification for the Linux kernel.

   Finally, the author wishes to thank Nelida Garcia and Guillermo Gont
   for their love and support.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20References"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Normative%20References"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2460" name="ref-RFC2460">RFC2460</a>]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", <a href="rfc2460.html">RFC 2460</a>, December 1998.

   [<a id="ref-RFC3315" name="ref-RFC3315">RFC3315</a>]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", <a href="rfc3315.html">RFC 3315</a>, July 2003.

   [<a id="ref-RFC3971" name="ref-RFC3971">RFC3971</a>]  Arkko, J., Kempf, J., Zill, B., and P. Nikander, "SEcure
              Neighbor Discovery (SEND)", <a href="rfc3971.html">RFC 3971</a>, March 2005.

   [<a id="ref-RFC3972" name="ref-RFC3972">RFC3972</a>]  Aura, T., "Cryptographically Generated Addresses (CGA)",
              <a href="rfc3972.html">RFC 3972</a>, March 2005.



<span class="grey">Gont                         Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   [<a id="ref-RFC4086" name="ref-RFC4086">RFC4086</a>]  Eastlake, D., Schiller, J., and S. Crocker, "Randomness
              Requirements for Security", <a href="https://tools.ietf.org/html/bcp106">BCP 106</a>, <a href="rfc4086.html">RFC 4086</a>, June 2005.

   [<a id="ref-RFC4122" name="ref-RFC4122">RFC4122</a>]  Leach, P., Mealling, M., and R. Salz, "A Universally
              Unique IDentifier (UUID) URN Namespace", <a href="rfc4122.html">RFC 4122</a>, July
              2005.

   [<a id="ref-RFC4193" name="ref-RFC4193">RFC4193</a>]  Hinden, R. and B. Haberman, "Unique Local IPv6 Unicast
              Addresses", <a href="rfc4193.html">RFC 4193</a>, October 2005.

   [<a id="ref-RFC4291" name="ref-RFC4291">RFC4291</a>]  Hinden, R. and S. Deering, "IP Version 6 Addressing
              Architecture", <a href="rfc4291.html">RFC 4291</a>, February 2006.

   [<a id="ref-RFC4861" name="ref-RFC4861">RFC4861</a>]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", <a href="rfc4861.html">RFC 4861</a>,
              September 2007.

   [<a id="ref-RFC4862" name="ref-RFC4862">RFC4862</a>]  Thomson, S., Narten, T., and T. Jinmei, "IPv6 Stateless
              Address Autoconfiguration", <a href="rfc4862.html">RFC 4862</a>, September 2007.

   [<a id="ref-RFC4941" name="ref-RFC4941">RFC4941</a>]  Narten, T., Draves, R., and S. Krishnan, "Privacy
              Extensions for Stateless Address Autoconfiguration in
              IPv6", <a href="rfc4941.html">RFC 4941</a>, September 2007.

   [<a id="ref-RFC5453" name="ref-RFC5453">RFC5453</a>]  Krishnan, S., "Reserved IPv6 Interface Identifiers", <a href="rfc5453.html">RFC</a>
              <a href="rfc5453.html">5453</a>, February 2009.

   [<a id="ref-RFC7136" name="ref-RFC7136">RFC7136</a>]  Carpenter, B. and S. Jiang, "Significance of IPv6
              Interface Identifiers", <a href="rfc7136.html">RFC 7136</a>, February 2014.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20Informative%20References"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-ADDR-GEN-PRIVACY" name="ref-ADDR-GEN-PRIVACY">ADDR-GEN-PRIVACY</a>]
              Cooper, A., Gont, F., and D. Thaler, "Privacy
              Considerations for IPv6 Address Generation Mechanisms",
              Work in Progress, February 2014.

   [<a id="ref-BROERSMA" name="ref-BROERSMA">BROERSMA</a>] Broersma, R., "IPv6 Everywhere: Living with a Fully
              IPv6-enabled environment", Australian IPv6 Summit 2010,
              Melbourne, VIC Australia, October 2010,
              &lt;<a href="http://www.ipv6.org.au/10ipv6summit/talks/Ron_Broersma.pdf">http://www.ipv6.org.au/10ipv6summit/talks/</a>
              <a href="http://www.ipv6.org.au/10ipv6summit/talks/Ron_Broersma.pdf">Ron_Broersma.pdf</a>&gt;.

   [<a id="ref-CPNI-IPV6" name="ref-CPNI-IPV6">CPNI-IPV6</a>]
              Gont, F., "Security Assessment of the Internet Protocol
              version 6 (IPv6)", UK Centre for the Protection of
              National Infrastructure, (available on request).




<span class="grey">Gont                         Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   [<a id="ref-FIPS-SHS" name="ref-FIPS-SHS">FIPS-SHS</a>] NIST, "Secure Hash Standard (SHS)", FIPS Publication
              180-4, March 2012, &lt;<a href="http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf">http://csrc.nist.gov/publications/</a>
              <a href="http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf">fips/fips180-4/fips-180-4.pdf</a>&gt;.

   [<a id="ref-GONT-DEEPSEC2011" name="ref-GONT-DEEPSEC2011">GONT-DEEPSEC2011</a>]
              Gont, F., "Results of a Security Assessment of the
              Internet Protocol version 6 (IPv6)", DEEPSEC 2011
              Conference, Vienna, Austria, November 2011,
              &lt;<a href="http://www.si6networks.com/presentations/deepsec2011/fgont-deepsec2011-ipv6-security.pdf">http://www.si6networks.com/presentations/deepsec2011/</a>
              <a href="http://www.si6networks.com/presentations/deepsec2011/fgont-deepsec2011-ipv6-security.pdf">fgont-deepsec2011-ipv6-security.pdf</a>&gt;.

   [<a id="ref-HD-MOORE" name="ref-HD-MOORE">HD-MOORE</a>] Moore, HD., "The Wild West", Louisville, Kentucky, U.S.A,
              DerbyCon 2012, September 2012, &lt;<a href="https://speakerdeck.com/hdm/derbycon-2012-the-wild-west">https://speakerdeck.com/</a>
              <a href="https://speakerdeck.com/hdm/derbycon-2012-the-wild-west">hdm/derbycon-2012-the-wild-west</a>&gt;.

   [<a id="ref-IAB-PRIVACY" name="ref-IAB-PRIVACY">IAB-PRIVACY</a>]
              IAB, "Privacy and IPv6 Addresses", July 2011,
              &lt;<a href="http://www.iab.org/wp-content/IAB-uploads/2011/07/IPv6-addresses-privacy-review.txt">http://www.iab.org/wp-content/IAB-uploads/2011/07/</a>
              <a href="http://www.iab.org/wp-content/IAB-uploads/2011/07/IPv6-addresses-privacy-review.txt">IPv6-addresses-privacy-review.txt</a>&gt;.

   [<a id="ref-IANA-RESERVED-IID" name="ref-IANA-RESERVED-IID">IANA-RESERVED-IID</a>]
              IANA, "Reserved IPv6 Interface Identifiers",
              &lt;<a href="http://www.iana.org/assignments/ipv6-interface-ids">http://www.iana.org/assignments/ipv6-interface-ids</a>&gt;.

   [<a id="ref-IPV6-RECON" name="ref-IPV6-RECON">IPV6-RECON</a>]
              Gont, F. and T. Chown, "Network Reconnaissance in IPv6
              Networks", Work in Progress, January 2014.

   [<a id="ref-RFC1321" name="ref-RFC1321">RFC1321</a>]  Rivest, R., "The MD5 Message-Digest Algorithm", <a href="rfc1321.html">RFC 1321</a>,
              April 1992.

   [<a id="ref-RFC1948" name="ref-RFC1948">RFC1948</a>]  Bellovin, S., "Defending Against Sequence Number Attacks",
              <a href="rfc1948.html">RFC 1948</a>, May 1996.

   [<a id="ref-RFC2464" name="ref-RFC2464">RFC2464</a>]  Crawford, M., "Transmission of IPv6 Packets over Ethernet
              Networks", <a href="rfc2464.html">RFC 2464</a>, December 1998.

   [<a id="ref-RFC2467" name="ref-RFC2467">RFC2467</a>]  Crawford, M., "Transmission of IPv6 Packets over FDDI
              Networks", <a href="rfc2467.html">RFC 2467</a>, December 1998.

   [<a id="ref-RFC2470" name="ref-RFC2470">RFC2470</a>]  Crawford, M., Narten, T., and S. Thomas, "Transmission of
              IPv6 Packets over Token Ring Networks", <a href="rfc2470.html">RFC 2470</a>, December
              1998.

   [<a id="ref-RFC3493" name="ref-RFC3493">RFC3493</a>]  Gilligan, R., Thomson, S., Bound, J., McCann, J., and W.
              Stevens, "Basic Socket Interface Extensions for IPv6", <a href="rfc3493.html">RFC</a>
              <a href="rfc3493.html">3493</a>, February 2003.




<span class="grey">Gont                         Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   [<a id="ref-RFC3542" name="ref-RFC3542">RFC3542</a>]  Stevens, W., Thomas, M., Nordmark, E., and T. Jinmei,
              "Advanced Sockets Application Program Interface (API) for
              IPv6", <a href="rfc3542.html">RFC 3542</a>, May 2003.

   [<a id="ref-RFC6059" name="ref-RFC6059">RFC6059</a>]  Krishnan, S. and G. Daley, "Simple Procedures for
              Detecting Network Attachment in IPv6", <a href="rfc6059.html">RFC 6059</a>, November
              2010.

   [<a id="ref-RFC6105" name="ref-RFC6105">RFC6105</a>]  Levy-Abegnoli, E., Van de Velde, G., Popoviciu, C., and J.
              Mohacsi, "IPv6 Router Advertisement Guard", <a href="rfc6105.html">RFC 6105</a>,
              February 2011.

   [<a id="ref-RFC6151" name="ref-RFC6151">RFC6151</a>]  Turner, S. and L. Chen, "Updated Security Considerations
              for the MD5 Message-Digest and the HMAC-MD5 Algorithms",
              <a href="rfc6151.html">RFC 6151</a>, March 2011.

   [<a id="ref-RFC7113" name="ref-RFC7113">RFC7113</a>]  Gont, F., "Implementation Advice for IPv6 Router
              Advertisement Guard (RA-Guard)", <a href="rfc7113.html">RFC 7113</a>, February 2014.

































<span class="grey">Gont                         Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Possible%20Sources%20for%20the%20Net_Iface%20Parameter"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Possible Sources for the Net_Iface Parameter</span>

   The following subsections describe a number of possible sources for
   the Net_Iface parameter employed by the F() function in <a href="#section-5">Section 5</a>.
   The choice of a specific source for this value represents a number of
   trade-offs, which may vary from one implementation to another.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.1.%20%20Interface%20Index"></a><a class="selflink" href="#appendix-A.1" name="appendix-A.1">A.1</a>.  Interface Index</span>

   The Interface Index [<a href="rfc3493.html" title='"Basic Socket Interface Extensions for IPv6"'>RFC3493</a>] [<a href="rfc3542.html" title='"Advanced Sockets Application Program Interface (API) for IPv6"'>RFC3542</a>] of an interface uniquely
   identifies that interface within the node.  However, these
   identifiers might or might not have the stability properties required
   for the Net_Iface value employed by this method.  For example, the
   Interface Index might change upon removal or installation of a
   network interface (typically one with a smaller value for the
   Interface Index, when such a naming scheme is used) or when network
   interfaces happen to be initialized in a different order.  We note
   that some implementations are known to provide configuration knobs to
   set the Interface Index for a given interface.  Such configuration
   knobs could be employed to prevent the Interface Index from changing
   (e.g., as a result of the removal of a network interface).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.2.%20%20Interface%20Name"></a><a class="selflink" href="#appendix-A.2" name="appendix-A.2">A.2</a>.  Interface Name</span>

   The Interface Name (e.g., "eth0", "em0", etc.) tends to be more
   stable than the underlying Interface Index, since such stability is
   required or desired when interface names are employed in network
   configuration (firewall rules, etc.).  The stability properties of
   Interface Names depend on implementation details, such as what is the
   namespace used for Interface Names.  For example, "generic" interface
   names such as "eth0" or "wlan0" will generally be invariant with
   respect to network interface card replacements.  On the other hand,
   vendor-dependent interface names such as "rtk0" or the like will
   generally change when a network interface card is replaced with one
   from a different vendor.

   We note that Interface Names might still change when network
   interfaces are added or removed once the system has been bootstrapped
   (for example, consider USB-based network interface cards that might
   be added or removed once the system has been bootstrapped).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.3.%20%20Link-Layer%20Addresses"></a><a class="selflink" href="#appendix-A.3" name="appendix-A.3">A.3</a>.  Link-Layer Addresses</span>

   Link-layer addresses typically provide for unique identifiers for
   network interfaces; although, for obvious reasons, they generally
   change when a network interface card is replaced.  In scenarios in
   which neither Interface Indexes nor Interface Names have the
   stability properties specified in <a href="#section-5">Section 5</a> for Net_Iface, an



<span class="grey">Gont                         Standards Track                   [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7217.html">RFC 7217</a>            Stable and Opaque IIDs with SLAAC         April 2014</span>


   implementation might want to employ the link-layer address of the
   interface for the Net_Iface parameter, albeit at the expense of
   making the corresponding IPv6 addresses dependent on the underlying
   network interface card (i.e., the corresponding IPv6 addresses would
   typically change upon replacement of the underlying network interface
   card).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.4.%20%20Logical%20Network%20Service%20Identity"></a><a class="selflink" href="#appendix-A.4" name="appendix-A.4">A.4</a>.  Logical Network Service Identity</span>

   Host operating systems with a conception of logical network service
   identity, distinct from network interface identity or index, may keep
   a Universally Unique Identifier (UUID) [<a href="rfc4122.html" title='"A Universally Unique IDentifier (UUID) URN Namespace"'>RFC4122</a>] or similar
   identifier with the stability properties appropriate for use as the
   Net_Iface parameter.

Author's Address

   Fernando Gont
   SI6 Networks / UTN-FRH
   Evaristo Carriego 2644
   Haedo, Provincia de Buenos Aires  1706
   Argentina

   Phone: +54 11 4650 8472
   EMail: fgont@si6networks.com
   URI:   <a href="http://www.si6networks.com/">http://www.si6networks.com</a>

























Gont                         Standards Track                   [Page 20]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7217 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:22 GMT --></html>