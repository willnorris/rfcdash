<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc2779 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:50:06 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.119" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:2779" name="DC.Identifier"/>
<meta content="This document defines a minimal set of requirements that IMPP must
meet. This memo provides information for the Internet community." name="DC.Description.Abstract"/>
<meta content="Aggarwal, Sonu" name="DC.Creator"/>
<meta content="Vincent, Jesse" name="DC.Creator"/>
<meta content="Mohr, Gordon" name="DC.Creator"/>
<meta content="Day, Mark" name="DC.Creator"/>
<meta content="February, 2000" name="DC.Date.Issued"/>
<meta content="Instant Messaging / Presence Protocol Requirements" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 2779 - Instant Messaging / Presence Protocol Requirements</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc2779.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc2779" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-impp-reqts" title="draft-ietf-impp-reqts">draft-ietf-impp-r...</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc2779" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc2779" title="Side-by-side diff">Diff2</a>]                 </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                            M. Day
Request for Comments: 2779                                        Lotus
Category: Informational                                     S. Aggarwal
                                                              Microsoft
                                                                G. Mohr
                                                              Activerse
                                                             J. Vincent
                                                          Into Networks
                                                          February 2000


           <span class="h1">Instant Messaging / Presence Protocol Requirements</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

Abstract

   Presence and Instant Messaging have recently emerged as a new medium
   of communications over the Internet.  Presence is a means for
   finding, retrieving, and subscribing to changes in the presence
   information (e.g. "online" or "offline") of other users. Instant
   messaging is a means for sending small, simple messages that are
   delivered immediately to online users.

   Applications of presence and instant messaging currently use
   independent, non-standard and non-interoperable protocols developed
   by various vendors.  The goal of the Instant Messaging and Presence
   Protocol (IMPP) Working Group is to define a standard protocol so
   that independently developed applications of instant messaging and/or
   presence can interoperate across the Internet. This document defines
   a minimal set of requirements that IMPP must meet.












<span class="grey">Day, et al.                  Informational                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


Table of Contents

   <a href="#section-1">1</a>. Terminology...................................................  <a href="#page-3">3</a>
   <a href="#section-2">2</a>. Shared Requirements...........................................  <a href="#page-4">4</a>
    <a href="#section-2.1">2.1</a>. Namespace and Administration...............................  <a href="#page-5">5</a>
    <a href="#section-2.2">2.2</a>. Scalability................................................  <a href="#page-5">5</a>
    <a href="#section-2.3">2.3</a>. Access Control.............................................  <a href="#page-6">6</a>
    <a href="#section-2.4">2.4</a>. Network Topology...........................................  <a href="#page-6">6</a>
    <a href="#section-2.5">2.5</a>. Message Encryption and Authentication......................  <a href="#page-7">7</a>
   <a href="#section-3">3</a>. Additional Requirements for PRESENCE INFORMATION..............  <a href="#page-7">7</a>
    <a href="#section-3.1">3.1</a>. Common Presence Format.....................................  <a href="#page-7">7</a>
    <a href="#section-3.2">3.2</a>. Presence Lookup and Notification...........................  <a href="#page-8">8</a>
    <a href="#section-3.3">3.3</a>. Presence Caching and Replication...........................  <a href="#page-8">8</a>
    <a href="#section-3.4">3.4</a>. Performance................................................  <a href="#page-9">9</a>
   <a href="#section-4">4</a>. Additional Requirements for INSTANT MESSAGES..................  <a href="#page-9">9</a>
    <a href="#section-4.1">4.1</a>. Common Message Format......................................  <a href="#page-9">9</a>
    <a href="#section-4.2">4.2</a>. Reliability................................................ <a href="#page-10">10</a>
    <a href="#section-4.3">4.3</a>. Performance................................................ <a href="#page-10">10</a>
    <a href="#section-4.4">4.4</a>. Presence Format............................................ <a href="#page-10">10</a>
   <a href="#section-5">5</a>. Security Considerations....................................... <a href="#page-11">11</a>
    <a href="#section-5.1">5.1</a>. Requirements related to SUBSCRIPTIONS...................... <a href="#page-11">11</a>
    <a href="#section-5.2">5.2</a>. Requirements related to NOTIFICATION....................... <a href="#page-12">12</a>
    <a href="#section-5.3">5.3</a>. Requirements related to receiving a NOTIFICATION........... <a href="#page-13">13</a>
    <a href="#section-5.4">5.4</a>. Requirements related to INSTANT MESSAGES................... <a href="#page-13">13</a>
   <a href="#section-6">6</a>. References.................................................... <a href="#page-14">14</a>
   <a href="#section-7">7</a>. Authors' Addresses............................................ <a href="#page-15">15</a>
   <a href="#section-8">8</a>. Appendix: Security Expectations and Deriving Requirements..... <a href="#page-16">16</a>
    <a href="#section-8.1">8.1</a>. Presence Information....................................... <a href="#page-16">16</a>
     <a href="#section-8.1.1">8.1.1</a>. Subscription............................................ <a href="#page-16">16</a>
     <a href="#section-8.1.2">8.1.2</a>. Publication............................................. <a href="#page-19">19</a>
     <a href="#section-8.1.3">8.1.3</a>. Publication for Notification............................ <a href="#page-19">19</a>
     <a href="#section-8.1.4">8.1.4</a>. Receiving a Notification................................ <a href="#page-20">20</a>
    <a href="#section-8.2">8.2</a>. Instant Messaging.......................................... <a href="#page-21">21</a>
     <a href="#section-8.2.1">8.2.1</a>. Named Instant Messaging................................. <a href="#page-21">21</a>
     <a href="#section-8.2.2">8.2.2</a>. Anonymous Instant Messaging............................. <a href="#page-23">23</a>
     <a href="#section-8.2.3">8.2.3</a>. Administrator Expectations.............................. <a href="#page-24">24</a>
   Full Copyright Statement......................................... <a href="#page-26">26</a>














<span class="grey">Day, et al.                  Informational                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Terminology"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Terminology</span>

   The following terms are defined in [<a href="rfc2778.html">RFC 2778</a>] and are used with those
   definitions in this document:

   ACCESS RULES
   CLOSED
   FETCHER
   INSTANT INBOX
   INSTANT MESSAGE
   NOTIFICATION
   OPEN
   POLLER
   PRESENCE INFORMATION
   PRESENCE SERVICE
   PRESENTITY
   PRINCIPAL
   PROXY
   SERVER
   STATUS
   SUBSCRIBER
   SUBSCRIPTION
   WATCHER

   The terms MUST and SHOULD are used in the following sense while
   specifying requirements:

   MUST: A proposed solution will have to meet this requirement.
   SHOULD: A proposed solution may choose not to meet this requirement.

   Note that this usage of MUST and SHOULD differs from that of <a href="rfc2119.html">RFC</a>
   <a href="rfc2119.html">2119</a>.

   Additionally, the following terms are used in this document and
   defined here:

   ADMINISTRATOR: A PRINCIPAL with authority over local computer and
   network resources, who manages local DOMAINS or FIREWALLS. For
   security and other purposes, an ADMINISTRATOR often needs or wants to
   impose restrictions on network usage based on traffic type, content,
   volume, or endpoints. A PRINCIPAL's ADMINISTRATOR has authority over
   some or all of that PRINCIPAL's computer and network resources.

   DOMAIN: A portion of a NAMESPACE.

   ENTITY: Any of PRESENTITY, SUBSCRIBER, FETCHER, POLLER, or WATCHER
   (all defined in [<a href="rfc2778.html">RFC 2778</a>]).




<span class="grey">Day, et al.                  Informational                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   FIREWALL: A point of administrative control over connectivity.
   Depending on the policies being enforced, parties may need to take
   unusual measures to establish communications through the FIREWALL.

   IDENTIFIER: A means of indicating a point of contact, intended for
   public use such as on a business card. Telephone numbers, email
   addresses, and typical home page URLs are all examples of IDENTIFIERS
   in other systems.  Numeric IP addresses like 10.0.0.26 are not, and
   neither are URLs containing numerous CGI parameters or long arbitrary
   identifiers.

   INTENDED RECIPIENT: The PRINCIPAL to whom the sender of an INSTANT
   MESSAGE is sending it.

   NAMESPACE: The system that maps from a name of an ENTITY to the
   concrete implementation of that ENTITY. A NAMESPACE may be composed
   of a number of distinct DOMAINS.

   OUT OF CONTACT: A situation in which some ENTITY and the PRESENCE
   SERVICE cannot communicate.

   SUCCESSFUL DELIVERY: A situation in which an INSTANT MESSAGE was
   transmitted to an INSTANT INBOX for the INTENDED RECIPIENT, and the
   INSTANT INBOX acknowledged its receipt. SUCCESSFUL DELIVERY usually
   also implies that an INBOX USER AGENT has handled the message in a
   way chosen by the PRINCIPAL. However, SUCCESSFUL DELIVERY does not
   imply that the message was actually seen by that PRINCIPAL.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Shared%20Requirements"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Shared Requirements</span>

   This section describes non-security requirements that are common to
   both an PRESENCE SERVICE and an INSTANT MESSAGE SERVICE.  <a href="#section-6">Section 6</a>
   describes requirements specific to a PRESENCE SERVICE, while <a href="#section-7">Section</a>
   <a href="#section-7">7</a> describes requirements specific to an INSTANT MESSAGE SERVICE.
   <a href="#section-8">Section 8</a> describes security considerations. The reader should note
   that <a href="#section-11">Section 11</a> is an appendix that provides historical context and
   aids in tracing the origins of requirements in <a href="#section-8">Section 8</a>. <a href="#section-11">Section 11</a>
   is not, however, a statement of current IMPP requirements.

   It is expected that Presence and Instant Messaging services will be
   particularly valuable to users over mobile IP wireless access
   devices.  Indeed the number of devices connected to the Internet via
   wireless means is expected to grow substantially in the coming years.
   It is not reasonable to assume that separate protocols will be
   available for the wireless portions of the Internet. In addition, we
   note that wireless infrastructure is maturing rapidly; the work
   undertaken by this group should take into account the expected state
   of the maturity of the technology in the time-frame in which the



<span class="grey">Day, et al.                  Informational                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   Presence and Instant Messaging protocols are expected to be deployed.

   To this end, the protocols designed by this Working Group must be
   suitable for operation in a context typically associated with mobile
   wireless access devices, viz.  high latency, low bandwidth and
   possibly intermittent connectivity (which lead to a desire to
   minimize round-trip delays), modest computing power, battery
   constraints, small displays, etc. In particular, the protocols must
   be designed to be reasonably efficient for small payloads.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20Namespace%20and%20Administration"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>. Namespace and Administration</span>

   2.1.1. The protocols MUST allow a PRESENCE SERVICE to be available
   independent of whether an INSTANT MESSAGE SERVICE is available, and
   vice-versa.

   2.1.2. The protocols must not assume that an INSTANT INBOX is
   necessarily reached by the same IDENTIFIER as that of a PRESENTITY.
   Specifically, the protocols must assume that some INSTANT INBOXes may
   have no associated PRESENTITIES, and vice versa.

   2.1.3. The protocols MUST also allow an INSTANT INBOX to be reached
   via the same IDENTIFIER as the IDENTIFIER of some PRESENTITY.

   2.1.4. The administration and naming of ENTITIES within a given
   DOMAIN MUST be able to operate independently of actions in any other
   DOMAIN.

   2.1.5. The protocol MUST allow for an arbitrary number of DOMAINS
   within the NAMESPACE.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20Scalability"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>. Scalability</span>

   2.2.1. It MUST be possible for ENTITIES in one DOMAIN to interoperate
   with ENTITIES in another DOMAIN, without the DOMAINS having
   previously been aware of each other.

   The protocol MUST be capable of meeting  its other functional and
   performance requirements even when

      -- (2.2.2) there are millions of ENTITIES within a single DOMAIN.

      -- (2.2.3) there are millions of DOMAINS within the single
         NAMESPACE.







<span class="grey">Day, et al.                  Informational                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


      -- (2.2.4) every single SUBSCRIBER has SUBSCRIPTIONS to hundreds
         of PRESENTITIES.

      -- (2.2.5) hundreds of distinct SUBSCRIBERS have SUBSCRIPTIONS to
         a single PRESENTITY.

      -- (2.2.6) every single SUBSCRIBER has SUBSCRIPTIONS to
         PRESENTITIES in hundreds of distinct DOMAINS.

   These are protocol design goals; implementations may choose to place
   lower limits.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20Access%20Control"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>. Access Control</span>

   The PRINCIPAL controlling a PRESENTITY MUST be able to control

      -- (2.3.1) which WATCHERS can observe that PRESENTITY's PRESENCE
         INFORMATION.

      -- (2.3.2) which WATCHERS can have SUBSCRIPTIONS to that
         PRESENTITY's PRESENCE INFORMATION.

      -- (2.3.3) what PRESENCE INFORMATION a particular WATCHER will see
         for that PRESENTITY, regardless of whether the WATCHER gets it
         by fetching or NOTIFICATION.

      -- (2.3.4) which other PRINCIPALS, if any, can update the PRESENCE
         INFORMATION of that PRESENTITY.

   The PRINCIPAL controlling an INSTANT INBOX MUST be able to control

      -- (2.3.5) which other PRINCIPALS, if any, can send INSTANT
         MESSAGES to that INSTANT INBOX.

      -- (2.3.6) which other PRINCIPALS, if any, can read INSTANT
         MESSAGES from that INSTANT INBOX.

   2.3.7. Access control MUST be independent of presence: the PRESENCE
   SERVICE MUST be able to make access control decisions even when the
   PRESENTITY is OUT OF CONTACT.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20Network%20Topology"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>. Network Topology</span>

   Note that intermediaries such as PROXIES may be necessitated between
   IP and non-IP networks, and by an end-user's desire to provide
   anonymity and hide their IP address.





<span class="grey">Day, et al.                  Informational                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   2.4.1. The protocol MUST allow the creation of a SUBSCRIPTION both
   directly and via intermediaries, such as PROXIES.

   2.4.2. The protocol MUST allow the sending of a NOTIFICATION both
   directly and via intermediaries, such as PROXIES.

   2.4.3. The protocol MUST allow the sending of an INSTANT MESSAGE both
   directly and via intermediaries, such as PROXIES.

   2.4.4. The protocol proxying facilities and transport practices MUST
   allow ADMINISTRATORS ways to enable and disable protocol activity
   through existing and commonly-deployed FIREWALLS.  The protocol MUST
   specify how it can be effectively filtered by such FIREWALLS.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5.%20Message%20Encryption%20and%20Authentication"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a>. Message Encryption and Authentication</span>

   2.5.1. The protocol MUST provide means to ensure confidence that a
   received message (NOTIFICATION or INSTANT MESSAGE) has not been
   corrupted or tampered with.

   2.5.2. The protocol MUST provide means to ensure confidence that a
   received message (NOTIFICATION or INSTANT MESSAGE) has not been
   recorded and played back by an adversary.

   2.5.3. The protocol MUST provide means to ensure that a sent message
   (NOTIFICATION or INSTANT MESSAGE) is only readable by ENTITIES that
   the sender allows.

   2.5.4. The protocol MUST allow any client to use the means to ensure
   non-corruption, non-playback, and privacy, but the protocol MUST NOT
   require that all clients use these means at all times.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20Additional%20Requirements%20for%20PRESENCE%20INFORMATION"></a><a class="selflink" href="#section-3" name="section-3">3</a>. Additional Requirements for PRESENCE INFORMATION</span>

   The requirements in <a href="#section-6">section 6</a> are applicable only to PRESENCE
   INFORMATION and not to INSTANT MESSAGES.  Additional constraints on
   PRESENCE INFORMATION in a system supporting INSTANT MESSAGES appear
   in <a href="#section-7.4">Section 7.4</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20Common%20Presence%20Format"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>. Common Presence Format</span>

   3.1.1. All ENTITIES MUST produce and consume at least a common base
   format for PRESENCE INFORMATION.

   3.1.2. The common presence format MUST include a means to uniquely
   identify the PRESENTITY whose PRESENCE INFORMATION is reported.





<span class="grey">Day, et al.                  Informational                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   3.1.3. The common presence format MUST include a means to encapsulate
   contact information for the PRESENTITY's PRINCIPAL (if applicable),
   such as email address, telephone number, postal address, or the like.

   3.1.4. There MUST be a means of extending the common presence format
   to represent additional information not included in the common
   format, without undermining or rendering invalid the fields of the
   common format.

   3.1.5. The working group must define the extension and registration
   mechanisms for presence information schema, including new STATUS
   conditions and new forms for OTHER PRESENCE MARKUP.

   3.1.6. The presence format SHOULD be based on IETF standards such as
   vCard [<a href="rfc2426.html">RFC 2426</a>] if possible.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20Presence%20Lookup%20and%20Notification"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>. Presence Lookup and Notification</span>

   3.2.1. A FETCHER MUST be able to fetch a PRESENTITY's PRESENCE
   INFORMATION even when the PRESENTITY is OUT OF CONTACT.

   3.2.2. A SUBSCRIBER MUST be able to request a SUBSCRIPTION to a
   PRESENTITY's PRESENCE INFORMATION, even when the PRESENTITY is OUT OF
   CONTACT.

   3.2.3. If the PRESENCE SERVICE has SUBSCRIPTIONS for a PRESENTITY's
   PRESENCE INFORMATION, and that PRESENCE INFORMATION changes, the
   PRESENCE SERVICE MUST deliver a NOTIFICATION to each SUBSCRIBER,
   unless prevented by the PRESENTITY's ACCESS RULES.

   3.2.4. The protocol MUST provide a mechanism for detecting when a
   PRESENTITY or SUBSCRIBER has gone OUT OF CONTACT.

   3.2.5. The protocol MUST NOT depend on a PRESENTITY or SUBSCRIBER
   gracefully telling the service that it will no longer be in
   communication, since a PRESENTITY or SUBSCRIBER may go OUT OF CONTACT
   due to unanticipated failures.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20Presence%20Caching%20and%20Replication"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>. Presence Caching and Replication</span>

   3.3.1. The protocol MUST include mechanisms to allow PRESENCE
   INFORMATION to be cached.

   3.3.2. The protocol MUST include mechanisms to allow cached PRESENCE
   INFORMATION to be updated when the master copy changes.






<span class="grey">Day, et al.                  Informational                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   3.3.3 The protocol caching facilities MUST NOT circumvent established
   ACCESS RULES or restrict choice of authentication/encryption
   mechanisms.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4%20Performance"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a> Performance</span>

   3.4.1 When a PRESENTITY changes its PRESENCE INFORMATION, any
   SUBSCRIBER to that information MUST be notified of the changed
   information rapidly, except when such notification is entirely
   prevented by ACCESS RULES. This requirement is met if each
   SUBSCRIBER's NOTIFICATION is transported as rapidly as an INSTANT
   MESSAGE would be transported to an INSTANT INBOX.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20Additional%20Requirements%20for%20INSTANT%20MESSAGES"></a><a class="selflink" href="#section-4" name="section-4">4</a>. Additional Requirements for INSTANT MESSAGES</span>

   The requirements in <a href="#section-4">section 4</a> are applicable only to INSTANT MESSAGES
   and not to PRESENCE INFORMATION, with the exception of <a href="#section-4.4">Section 4.4</a>.
   <a href="#section-4.4">Section 4.4</a> describes constraints on PRESENCE INFORMATION that are
   relevant only to systems that support both INSTANT MESSAGES and
   PRESENCE INFORMATION.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20Common%20Message%20Format"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>. Common Message Format</span>

   4.1.1. All ENTITIES sending and receiving INSTANT MESSAGES MUST
   implement at least a common base format for INSTANT MESSAGES.

   4.1.2. The common base format for an INSTANT MESSAGE MUST identify
   the sender and intended recipient.

   4.1.3. The common message format MUST include a return address for
   the receiver to reply to the sender with another INSTANT MESSAGE.

   4.1.4. The common message format SHOULD include standard forms of
   addresses or contact means for media other than INSTANT MESSAGES,
   such as telephone numbers or email addresses.

   4.1.5. The common message format MUST permit the encoding and
   identification of the message payload to allow for non-ASCII or
   encrypted content.

   4.1.6. The protocol must reflect best current practices related to
   internationalization.

   4.1.7. The protocol must reflect best current practices related to
   accessibility.






<span class="grey">Day, et al.                  Informational                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   4.1.8. The working group MUST define the extension and registration
   mechanisms for the message format, including new fields and new
   schemes for INSTANT INBOX ADDRESSES.

   4.1.9. The working group MUST determine whether the common message
   format includes fields for numbering or identifying messages. If
   there are such fields, the working group MUST define the scope within
   which such identifiers are unique and the acceptable means of
   generating such identifiers.

   4.1.10. The common message format SHOULD be based on IETF-standard
   MIME [<a href="rfc2045.html">RFC 2045</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20Reliability"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>. Reliability</span>

   4.2.1. The protocol MUST include mechanisms so that a sender can be
   informed of the SUCCESSFUL DELIVERY of an INSTANT MESSAGE or reasons
   for failure.  The working group must determine what mechanisms apply
   when final delivery status is unknown, such as when a message is
   relayed to non-IMPP systems.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3%20Performance"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a> Performance</span>

   4.3.1. The transport of INSTANT MESSAGES MUST be sufficiently rapid
   to allow for comfortable conversational exchanges of short messages.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4%20Presence%20Format"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a> Presence Format</span>

   4.4.1. The common presence format MUST define a minimum standard
   presence schema suitable for INSTANT MESSAGE SERVICES.

   4.4.2. When used in a system supporting INSTANT MESSAGES, the common
   presence format MUST include a means to represent the STATUS
   conditions OPEN and CLOSED.

   4.4.3. The STATUS conditions OPEN and CLOSED may also be applied to
   messaging or communication modes other than INSTANT MESSAGE SERVICES.














<span class="grey">Day, et al.                  Informational                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>. Security Considerations</span>

   Security considerations are addressed in <a href="#section-2.3">section 2.3</a>, Access Control,
   and <a href="#section-2.5">section 2.5</a>, Message authentication and encryption.

   This section describes further security-related requirements that the
   protocol must meet.

   The security requirements were derived from a set of all-encompassing
   "security expectations" that were then evaluated for practicality and
   implementability and translated into requirements.  In the appendix,
   we describe the expectations and the process used to transform them
   into requirements. In this section, we simply list the consolidated
   set of derived requirements.

   Note that in the requirements, ADMINISTRATORs may have privileges
   beyond those allowed to PRINCIPALs referred to in the requirements.
   (Unless otherwise noted, the individual expectations specifically
   refer to PRINCIPALs.)  It is up to individual implementations to
   control administrative access and implement the security privileges
   of ADMINISTRATORs without compromising the requirements made on
   PRINCIPALs.

   Unless noted otherwise, A,B,C are all names of non-ADMINISTRATOR
   PRINCIPALS.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20Requirements%20related%20to%20SUBSCRIPTIONS"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>. Requirements related to SUBSCRIPTIONS</span>

   When A establishes a SUBSCRIPTION to B's PRESENCE INFORMATION:

   5.1.1. The protocol MUST provide A means of identifying and
   authenticating that the PRESENTITY subscribed to is controlled by B.

   5.1.2. If A so chooses, the protocol SHOULD NOT make A's SUBSCRIPTION
   to B obvious to a third party C.

   5.1.3. The protocol MUST provide B with means of allowing an
   unauthenticated subscription by A.

   5.1.4. The protocol MUST provide A means of verifying the accurate
   receipt of the content B chooses to disclose to A.

   5.1.5. B MUST inform A if B refuses A's SUBSCRIPTION. Note that B may
   choose to accept A's SUBSCRIPTION, but fail to deliver any
   information to it (so-called "polite blocking"). See 5.1.15.

   5.1.6. The protocol MUST NOT let any third party C force A to
   subscribe to B's PRESENCE INFORMATION without A's consent.



<span class="grey">Day, et al.                  Informational                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   5.1.7. A MUST be able to cancel her SUBSCRIPTION to B's PRESENCE
   INFORMATION at any time and for any reason.  When A does so, the
   PRESENCE SERVICE stops informing A of changes to B's PRESENCE
   INFORMATION.

   5.1.8. The protocol MUST NOT let an unauthorized party C cancel A's
   SUBSCRIPTION to B.

   5.1.9. If A's SUBSCRIPTION to B is cancelled, the service SHOULD
   inform A of the cancellation.

   5.1.10. A SHOULD be able to determine the status of A's SUBSCRIPTION
   to B, at any time.

   5.1.11. The protocol MUST provide B means of learning about A's
   SUBSCRIPTION to B, both at the time of establishing the SUBSCRIPTION
   and afterwards.

   5.1.12. The protocol MUST provide B means of identifying and
   authenticating the SUBSCRIBER's PRINCIPAL, A.

   5.1.13. It MUST be possible for B to prevent any particular PRINCIPAL
   from subscribing.

   5.1.14. It MUST be possible for B to prevent anonymous PRINCIPALS
   from subscribing.

   5.1.15. It MUST be possible for B to configure the PRESENCE SERVICE
   to deny A's subscription while appearing to A as if the subscription
   has been granted (this is sometimes called "polite blocking").  The
   protocol MUST NOT mandate the PRESENCE SERVICE to service
   subscriptions that are treated in this manner.

   5.1.16. B MUST be able to cancel A's subscription at will.

   5.1.17. The protocol MUST NOT require A to reveal A's IP address to
   B.

   5.1.18 The protocol MUST NOT require B to reveal B's IP address to A.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20Requirements%20related%20to%20NOTIFICATION"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>. Requirements related to NOTIFICATION</span>

   When a PRINCIPAL B publishes PRESENCE INFORMATION for NOTIFICATION to
   another PRINCIPAL A:

   5.2.1. The protocol MUST provide means of ensuring that only the
   PRINCIPAL A being sent the NOTIFICATION by B can read the
   NOTIFICATION.



<span class="grey">Day, et al.                  Informational                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   5.2.2. A should receive all NOTIFICATIONS intended for her.

   5.2.3. It MUST be possible for B to prevent A from receiving
   notifications, even if A is ordinarily permitted to see such
   notifications.  It MUST be possible for B to, at its choosing, notify
   different subscribers differently, through different notification
   mechanisms or through publishing different content. This is a
   variation on "polite blocking".

   5.2.4. The protocol MUST provide means of protecting B from another
   PRINCIPAL C "spoofing" notification messages about B.

   5.2.5. The protocol MUST NOT require that A reveal A's IP address to
   B.

   5.2.6. The protocol MUST NOT require that B reveal B's IP address to
   A.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20Requirements%20related%20to%20receiving%20a%20NOTIFICATION"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>. Requirements related to receiving a NOTIFICATION</span>

   When a PRINCIPAL A receives a notification message from another
   principal B, conveying PRESENCE INFORMATION,

   5.3.1. The protocol MUST provide A means of verifying that the
   presence information is accurate, as sent by B.

   5.3.2. The protocol MUST ensure that A is only sent NOTIFICATIONS
   from entities she has subscribed to.

   5.3.3. The protocol MUST provide A means of verifying that the
   notification was sent by B.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.4.%20Requirements%20related%20to%20INSTANT%20MESSAGES"></a><a class="selflink" href="#section-5.4" name="section-5.4">5.4</a>. Requirements related to INSTANT MESSAGES</span>

   When a user A sends an INSTANT MESSAGE M to another user B,

   5.4.1. A MUST receive confirmation of non-delivery.

   5.4.2. If M is delivered, B MUST receive the message only once.

   5.4.3. The protocol MUST provide B means of verifying that A sent the
   message.

   5.4.4. B MUST be able to reply to the message via another instant
   message.

   5.4.5. The protocol MUST NOT always require A to reveal A's IP
   address, for A to send an instant message.



<span class="grey">Day, et al.                  Informational                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   5.4.6. The protocol MUST provide A means of ensuring that no other
   PRINCIPAL C can see the content of M.

   5.4.7. The protocol MUST provide A means of ensuring that no other
   PRINCIPAL C can tamper with M, and B means to verify that no
   tampering has occurred.

   5.4.8. B must be able to read M.

   5.4.9. The protocol MUST allow A to sign the message, using existing
   standards for digital signatures.

   5.4.10. B MUST be able to prevent A from sending him messages

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20References"></a><a class="selflink" href="#section-6" name="section-6">6</a>. References</span>

   [<a id="ref-RFC 2778" name="ref-RFC 2778">RFC 2778</a>] Day, M., Rosenberg, J. and H. Sagano, "A Model for
              Presence and Instant Messaging", <a href="rfc2778.html">RFC 2778</a>, February 2000.

   [<a id="ref-RFC 2426" name="ref-RFC 2426">RFC 2426</a>] Dawson, F. and T. Howes, "vCard MIME Directory Profile",
              <a href="rfc2426.html">RFC 2426</a>, September 1998.

   [<a id="ref-RFC 2045" name="ref-RFC 2045">RFC 2045</a>] Freed, N. and N. Borenstein, "Multipurpose Internet Mail
              Extensions (MIME) - Part One: Format of Internet Message
              Bodies", <a href="rfc2045.html">RFC 2045</a>, November 1996.

   [<a id="ref-RFC 2119" name="ref-RFC 2119">RFC 2119</a>] Bradner, S., "Key Words for Use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.























<span class="grey">Day, et al.                  Informational                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20Authors%27%20Addresses"></a><a class="selflink" href="#section-7" name="section-7">7</a>. Authors' Addresses</span>

   Mark Day
   SightPath, Inc.
   135 Beaver Street
   Waltham, MA 02452
   USA

   EMail: mday@alum.mit.edu
   (Formerly Mark_Day@lotus.com)


   Sonu Aggarwal
   Microsoft Corporation
   One Microsoft Way
   Redmond, WA 98052
   USA

   EMail: sonuag@microsoft.com


   Gordon Mohr

   EMail: gojomo@usa.net
   (Formerly gojomo@activerse.com)


   Jesse Vincent
   Into Networks, Inc.
   150 Cambridgepark Drive
   Cambridge, MA 02140
   USA

   EMail: jesse@intonet.com
   (Formerly jvincent@microsoft.com)
















<span class="grey">Day, et al.                  Informational                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20Appendix%3A%20Security%20Expectations%20and%20Deriving%20Requirements"></a><a class="selflink" href="#section-8" name="section-8">8</a>. Appendix: Security Expectations and Deriving Requirements</span>

   This appendix is based on the security expectations discussed on the
   impp mailing list and assembled by Jesse Vincent.  The original form
   of numbering has been preserved in this appendix (so there are
   several different items labeled B1, for example). The derived
   requirements have new numbers that are consistent with the main body
   of the document.  This appendix is included to provide a connection
   from discussions on the list to the requirements of <a href="#section-8">Section 8</a>, but it
   is not intended to introduce any new requirements beyond those
   presented in Sections <a href="#section-5">5</a> through <a href="#section-8">8</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20PRESENCE%20INFORMATION"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>. PRESENCE INFORMATION</span>

   In the case of PRESENCE INFORMATION, the controlling PRINCIPAL's
   privacy interests are paramount; we agreed that "polite blocking"
   (denying without saying that the subscription is denied, or providing
   false information) should be possible.

   8.1.1. Subscription

   When a user Alice subscribes to another person, Bob's presence info,
   Alice expects:

   A1. the PRESENTITY's PRINCIPAL, B, is identifiable and authenticated

       Discussion: Stands as a requirement.  Note that the protocol
       should provide Alice the capability of authenticating, without
       requiring that Alice authenticate every SUBSCRIPTION.  This
       caveat is made necessary by performance concerns, among others,
       and applies to many of the other requirements derived below.
       [Requirement 5.1.1]

   A2. no third party will know that A has subscribed to B.

       Discussion: This is somewhat unreasonable to enforce as is.  For
       example, in some topologies, nothing can prevent someone doing
       traffic analysis to deduce that A has subscribed to B.  We should
       merely require that the protocol not expose subscription
       information in any obvious manner. [Requirement 5.1.2]











<span class="grey">Day, et al.                  Informational                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   A3. A has the capability to subscribe to B's presence without B's
   knowledge, if B permits anonymous subscriptions.

       Discussion: An "anonymous subscription" above can have two
       implications - (i) B may allow an unauthenticated subscription by
       A, and (ii) B may be unaware of A's stated identity.  Requirement
       (i) is reasonable [Requirement 8.1.3], but (ii) doesn't appear to
       be a core requirement -- it can be adequately simulated via a
       subscription pseudonym.

   A4. A will accurately receive what B chooses to disclose to A
   regarding B's presence.

       Discussion: Stands as a requirement, with the "optional"
       caveat. [Requirement 8.1.4]

   A5. B will inform A if B refuses A's subscription

       Discussion:  Stands as a requirement. [Requirement 5.1.5]

   A6. No third party, C can force A to subscribe to B's presence
   without A's consent.

       Discussion: Stands as a requirement. [Requirement 5.1.6]

   A7. A can cancel her subscription to B's presence at any time and for
   any reason. When A does so, she will receive no further information
   about B's presence information.

       Discussion: This essentially stands.  However, implementations
       may have to contend with a timing window where A receives, after
       sending her cancellation request, a notification sent by B before
       B received the cancellation request.  Therefore, the requirement
       should focus on B's ceasing to send presence information, rather
       than A's ceasing to receive it. [Requirement 5.1.7]

   A8. no third party, C, can cancel A's subscription to B.

       Discussion: Stands, although the administrative exception does
       apply. [Requirement 5.1.8]

   A9. A is notified if her subscription to B is cancelled for any
   reason.

       Discussion: Although the intent is reasonable, there are a number
       of scenarios (e.g. overburdened server, clogged network, server
       crash) where delivering a notification to A of the cancellation
       is undesirable or impossible.  Therefore, the service should make



<span class="grey">Day, et al.                  Informational                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


       an attempt to inform, but this is not required. [Requirement
       5.1.9]

   Bob expects:

   B1. B will be informed that A subscribed to B's presence information,
   as long as A has not subscribed anonymously.

       Discussion: This essentially stands.  However, B can also choose
       to determine A's subscription after the fact.  [Requirement
       5.1.10]

   B2. A is identifiable and authenticated.

       Discussion: This stands as a requirement. [Requirement 5.1.11]

   B3. B can prevent a particular user, D, from subscribing.

       Discussion:  This stands as a requirement. [Requirement 5.1.12]

   B4. B can prevent anonymous users from subscribing.

       Discussion:  This stands as a requirement. [Requirement 5.1.13]

   B5. B's presence information is not republished by A to a third
   party, E, who does not.

       Discussion: This is practically impossible to enforce, so it is
       omitted from the requirement set.

   B6. B can deny A's subscription without letting A know that she's
   been blocked.

       Discussion: This "polite blocking" capability essentially stands;
       accepting a "denied" subscription should bear no implication on
       servicing it for status notifications. [Requirement 5.1.14]

   B7. B can cancel A's subscription at will.

       Discussion:  Stands as a requirement. [Requirement 5.1.15]

   Charlie, bob's network administrator expects:

   C1. C knows who is subscribed to B at all times.

       Discussion: Administrators should be able to determine who is
       subscribed, but needn't be continuously informed of the list of
       subscribers.  Also, in some cases user agents (e.g. proxies) may



<span class="grey">Day, et al.                  Informational                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


       have subscribed on behalf of users, and in these cases the
       administrator can only determine the identity of these agents,
       not their users. [Requirement 5.1.16]

   C2. C can manage all aspects of A's presence information.

       Discussion: This stands as a requirement. [Requirement 5.1.17]

   C3. C can control who can access A's presence information and
   exchange instant messages with A.

       Discussion: This stands in principle, but C should be able to
       waive these capabilities if C desires. [Requirement 5.1.18]

   8.1.2. Publication

   The publisher of status information, Bob, expects:

   B1. That information about B is not provided to any entity without
   B's knowledge and consent.

       Discussion: This is nearly impossible to accomplish, so it is
       omitted from the requirements.

   8.1.3. Publication for Notification

   When information is published for notification, B expects:

   B1. only a person being sent a notification, A, can read the
   notification.

       Discussion: Stands as a requirement. [Requirement 5.2.1]

   B2. A reliably receives all notifications intended for her.

       Discussion: This stands, although "Reliably" is a little strong
       (e.g. network outages, etc.). [Requirement 5.2.2]

   B3. B can prevent A from receiving notifications, even if A is
   ordinarily permitted to see such notifications.  This is a variation
   on "polite blocking."

       Discussion: This stands as a requirement. Also incorporated into
       this requirement is the notifications equivalent of the next
       expectation, B4. [Requirement 5.2.3]






<span class="grey">Day, et al.                  Informational                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   B4. B can provide two interested parties A and E with different
   status information at the same time. (B could represent the same
   event differently to different people.)

       Discussion: This stands as a requirement; it has been
       incorporated into the corresponding requirement for B3 above.

   B5. B expects that malicious C cannot spoof notification messages
   about B.

       Discussion: Stands in principle, but it should be optional for B.
       [Requirement 5.2.4]

   8.1.4. Receiving a Notification

   When Alice receives a notification, the recipient, Alice, expects:

   A1. That the notification information is accurate, truthful.

       Discussion: Stands in principle, although being "truthful" can't
       be a requirement, and the verification is optional for Alice.
       [Requirement 5.3.1]

   A2. That information about subscriptions remains private; people do
   not learn that A's subscription to B's information exists by watching
   notifications occur.

       Discussion: This is omitted from the requirements, as traffic
       analysis, even of encrypted traffic, can convey this information
       in some situations.

   A3. That she only receives notifications of things she's subscribed
   to.

       Discussion:  Stands as a requirement. [Requirement 5.3.2]

   A4. Notifications come from the apparent sender, B.

       Discussion: Stands in principle, although the verification should
       be  optional for A. [Requirement 5.3.3]

   A5. A can tell the difference between a message generated by the
   user, and a message legitimately generated by the agent on behalf of
   the user.

       Discussion: This could be quite difficult to enforce and could
       unduly restrict usage scenarios; this is omitted from the
       requirements.



<span class="grey">Day, et al.                  Informational                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   A6. That information given by agents on behalf of users can also be
   expected to be truthful, complete, and legitimately offered; the user
   permitted the agent to publish these notifications.

       Discussion: This is difficult to enforce and is omitted from the
       requirements.

   A7. A can prove that a notification from B was delivered in a timely
   fashion and can prove exactly how long the message took to be
   delivered.

       Discussion: This is difficult to enforce and is omitted from the
       requirements.  For example, such proof may entail global time
       synchronization mechanisms (since any system clocks have
       associated unreliability), which is outside the scope of this
       effort.

   A8. A can prove that B was indeed the sender of a given message.

       Discussion: This is a duplication of expectation A4 above and is
       reflected in the corresponding requirement 5.3.3.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20INSTANT%20MESSAGEs"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>. INSTANT MESSAGEs</span>

   8.2.1. Named Instant Messaging

   When a user Alice sends an instant message M to another user Bob:

   Alice expects that she:

   A1. will receive notification of non-delivery

       Discussion: Stands as a requirement. [Requirement 5.4.1]

   Alice expects that Bob:

   B1. will receive the message

       Discussion: covered by A1 and is reflected in the corresponding
       requirement 5.4.1.

   B2. will receive the message quickly

       Discussion: Stands as a requirement, although this is also
       covered elsewhere (in the non-security requirements), so this is
       omitted from the security requirements.





<span class="grey">Day, et al.                  Informational                     [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   B3. will receive the message only once

       Discussion: Stands as a requirement. [Requirement 5.4.2]

   B4. will be able to verify that Alice sent the message

       Discussion:  Stands as a requirement. [Requirement 5.4.3]

   B5. will not know whether there were BCCs

       Discussion: Emulating e-mail conventions and social protocols is
       not a core goal of this effort, and therefore references to
       standard mail fields are omitted from the requirements.

   B6. will be able to reply to the message

       Discussion: Stands in principle; the recipient should be able to
       reply via an instant message. [Requirement 5.4.4]

   B7. will know if he was a bcc recipient

       Discussion: Omitted, as noted above.

   B8. will not be able to determine any information about A (such as
   her location or IP address) without A's knowledge and consent.

       Discussion: "Any information about A" is too general; the
       requirement should focus on IP address.  Further, "without A's
       knowledge and consent" may be overkill. [Requirement 5.4.5]

   Alice expects that no other user Charlie will be able to:

   C1. see the content of M

       Discussion: Stands in principle, although this should not be
       mandated for all IM communication. [Requirement 5.4.6]

   C2. tamper with M

       Discussion: Stands, with the same caveat as above.
       [Requirement 5.4.7]

   C3. know that M was sent

       Discussion: It is impossible to prevent traffic analysis, and
       this is therefore omitted from the requirements.





<span class="grey">Day, et al.                  Informational                     [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   When a user Bob receives an instant message M from another user
   Alice:

   Bob expects that Bob:

   D1. will be able to read M

       Discussion: Stands as a requirement. [Requirement 5.4.8]

   D2. will be able to verify M's authenticity (both Temporal and the
   sender's identity)

       Discussion: As noted earlier, it is not reasonable to directly
       require temporal checks.  The protocol should, however, allow
       signing messages using existing standards for signing.
       [Requirement 5.4.9]

   D3. will be able to verify M's integrity

       Discussion:  Stands as a requirement. [Requirement 5.4.10]

   D4. will be able to prevent A from sending him future messages

       Discussion: Stands as a requirement. [Requirement 5.4.11]

   Bob expects that Alice:

   E1. intended to send the message to Bob

       Discussion: This is covered by the corresponding requirement
       5.4.6 for C1 above.

   E2. informed Bob of all CCs.

       Discussion: As noted earlier, references to cc:'s are omitted
       from the requirements.

   8.2.2. Anonymous Instant Messaging

       Discussion: Anonymous instant messaging, as in "hiding the
       identity of the sender", is not deemed to be a core requirement
       of the protocol and references to it are therefore omitted from
       the requirements. Implementations may provide facilities for
       anonymous messaging if they wish, in ways that are consistent
       with the other requirements.

   When a user Alice sends an anonymous instant message to another user
   Bob:



<span class="grey">Day, et al.                  Informational                     [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   Alice expects that Bob:

   B1. will receive the message

   B2. will receive the message quickly

   B3. will receive the message only once

   AB4.1. cannot know Alice sent it

   AB4.2. will know that the IM is anonymous, and not from a specific
   named user

   AB4.3   may not allow anonymous IMs

   B5. will not know whether there were BCCs

   B6. will be able to reply to the message

   Alice expects that she:

   C1. will receive notification of non-delivery

   AC2. will receive an error if the IM was refused

   Bob expects that he:

   D1. will be able to read M

   D2. will be able to verify M's authenticity (both temporal and the
   sender's identity)

   D3. will be able to verify M's integrity

   AD4. will know if an IM was sent anonymously

   AD5. will be able to automatically discard anonymous IM if desired

   AD6. will be able to control whether an error is sent to Alice if M
   is discarded.

   8.2.3. Administrator Expectations

   Charlie, Alice's network administrator expects:

   C1. that C will be able to send A instant messages at any time.

   C2. that A will receive any message he sends while A is online.



<span class="grey">Day, et al.                  Informational                     [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


   C3. that A will not be able to refuse delivery of any instant
   messages sent by C.

       Discussion for C1-C3: It is not clear this needs to be specially
       handled at the protocol level; Administrators may accomplish the
       above objectives through other means.  For example, an
       administrator may send a message to a user through the normal
       mechanisms.  This is therefore omitted from the requirements.











































<span class="grey">Day, et al.                  Informational                     [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc2779.html">RFC 2779</a>          Instant Messaging/Presence Protocol      February 2000</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Day, et al.                  Informational                     [Page 26]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.119, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc2779 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:50:06 GMT --></html>