<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4848 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:39 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:4848" name="DC.Identifier"/>
<meta content="The purpose of this document is to define a new, straightforward
Dynamic Delegation Discovery Service (DDDS) application to allow
mapping of domain names to URIs for particular application services
and protocols. Although defined as a new DDDS application, dubbed
U-NAPTR, this is effectively an extension of the Straightforward NAPTR
(S-NAPTR) DDDS Application. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="Leslie Daigle &lt;ledaigle@cisco.com&gt;" name="DC.Creator"/>
<meta content="April, 2007" name="DC.Date.Issued"/>
<meta content="Domain-Based Application Service Location Using URIs and the Dynamic Delegation Discovery Service (DDDS)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4848 - Domain-Based Application Service Location Using URIs and the Dynamic Delegation Discovery Service (DDDS)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc4848.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc4848" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-daigle-unaptr" title="draft-daigle-unaptr">draft-daigle-un...</a>] [<a href="https://datatracker.ietf.org/doc/rfc4848" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4848" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc4848" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=4848">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                          L. Daigle
Request for Comments: 4848                                 Cisco Systems
Category: Standards Track                                     April 2007


        <span class="h1">Domain-Based Application Service Location Using URIs and</span>
            <span class="h1">the Dynamic Delegation Discovery Service (DDDS)</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   The purpose of this document is to define a new, straightforward
   Dynamic Delegation Discovery Service (DDDS) application to allow
   mapping of domain names to URIs for particular application services
   and protocols.  Although defined as a new DDDS application, dubbed
   U-NAPTR, this is effectively an extension of the Straightforward
   NAPTR (S-NAPTR) DDDS Application.























<span class="grey">Daigle                      Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Straightforward URI-Enabled NAPTR (U-NAPTR) . . . . . . . . . . <a href="#page-3">3</a>
     <a href="#section-2.1">2.1</a>.  Permitted Flags . . . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
     <a href="#section-2.2">2.2</a>.  Permitted Regular Expressions . . . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  Sample U-NAPTR DNS Records  . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  Formal Definition of U-NAPTR Application of DDDS  . . . . . . . <a href="#page-5">5</a>
     <a href="#section-4.1">4.1</a>.  Application Unique String . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
     <a href="#section-4.2">4.2</a>.  First Well Known Rule . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
     <a href="#section-4.3">4.3</a>.  Expected Output . . . . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
     <a href="#section-4.4">4.4</a>.  Flags . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
     <a href="#section-4.5">4.5</a>.  Service Parameters  . . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
       <a href="#section-4.5.1">4.5.1</a>.  Application Services  . . . . . . . . . . . . . . . . . <a href="#page-6">6</a>
       <a href="#section-4.5.2">4.5.2</a>.  Application Protocols . . . . . . . . . . . . . . . . . <a href="#page-6">6</a>
     <a href="#section-4.6">4.6</a>.  Valid Rules . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-6">6</a>
     <a href="#section-4.7">4.7</a>.  Valid Databases . . . . . . . . . . . . . . . . . . . . . . <a href="#page-7">7</a>
   <a href="#section-5">5</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . <a href="#page-7">7</a>
   <a href="#section-6">6</a>.  Security Considerations . . . . . . . . . . . . . . . . . . . . <a href="#page-8">8</a>
   <a href="#section-7">7</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-8">8</a>
   <a href="#section-8">8</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-8">8</a>
     <a href="#section-8.1">8.1</a>.  Normative References  . . . . . . . . . . . . . . . . . . . <a href="#page-8">8</a>
     <a href="#section-8.2">8.2</a>.  Informative References  . . . . . . . . . . . . . . . . . . <a href="#page-9">9</a>




























<span class="grey">Daigle                      Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The purpose of this document is to define a new, straightforward
   Dynamic Delegation Discovery Service (DDDS) [<a href="#ref-7" title='"Dynamic Delegation Discovery System (DDDS) Part One: The Comprehensive DDDS"'>7</a>] application to allow
   mapping of domain names to URIs for particular application services
   and protocols.  This allows the "lookup" of particular services
   available for given domains, for example.

   Although this is defining a new and separate DDDS Application, dubbed
   U-NAPTR, it is built from the same principles as the Straightforward
   NAPTR (S-NAPTR) application, specified in [<a href="#ref-2" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>2</a>].  This specification is
   not an update of S-NAPTR, but the reader is encouraged to review that
   document for extensive coverage of motivation and implementation
   considerations.

   S-NAPTR provides for application service location that does not rely
   on rigid domain naming conventions.  It is deemed "straightforward"
   in part because it rules out the use of regular expressions in NAPTR
   records (for the S-NAPTR DDDS Application).  However, that also rules
   out the possibility of providing a URI as the target of DDDS
   resolution.  A number of applications, specified (e.g., [<a href="#ref-9" title='"Attaching Meaning to Solicitation Class Keywords"'>9</a>]) and
   proposed, find the restriction too limiting, making S-NAPTR a near
   miss to suit their needs.

   This U-NAPTR is effectively a modest extension to S-NAPTR, to
   accommodate the use of URIs as targets, without allowing the full
   range of possible regular expressions in NAPTR records.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Straightforward%20URI-Enabled%20NAPTR%20%28U-NAPTR%29"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Straightforward URI-Enabled NAPTR (U-NAPTR)</span>

   This document assumes the reader is familiar with the S-NAPTR
   specification [<a href="#ref-2" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>2</a>].  The intention of U-NAPTR is to provide everything
   that S-NAPTR does, except that it allows the use of the "U" flag in
   the NAPTR record, and a specific form of REGEXP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Permitted%20Flags"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Permitted Flags</span>

   U-NAPTR permits the same flags as S-NAPTR ("S", "A", or empty), plus
   the "U" Flag.  For the U-NAPTR DDDS Application, the presence of the
   "U" Flag in the NAPTR record indicates the REGEXP field must be
   populated (and, consequently, the REPLACEMENT field is empty).  The
   regular expression in the REGEXP field must be of the limited form
   described below, and the result of the regular expression evaluation
   will be a URI that is the result of the DDDS resolution.







<span class="grey">Daigle                      Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Permitted%20Regular%20Expressions"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Permitted Regular Expressions</span>

   U-NAPTR permits regular expressions of a form that does a complete
   replacement of the matched string with a URI, expressed as a constant
   string.  This is essentially a dodge around the fact that the
   REPLACEMENT field in NAPTR is required to produce only a fully
   qualified domain name (and, therefore, cannot be used for a URI).

   The specific allowed syntax for U-NAPTR regular expressions is:

        u-naptr-regexp = "!.*!"&lt;URI&gt;"!"

   where &lt;URI&gt; is as defined in STD 66 [<a href="#ref-8" title='"Uniform Resource Identifier (URI): Generic Syntax"'>8</a>], the URI syntax
   specification.

   With this limited form of regular expression, applications using
   U-NAPTR need not implement full regular expression parsers.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Sample%20U-NAPTR%20DNS%20Records"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Sample U-NAPTR DNS Records</span>

   In the sample NAPTR RRs for example.com shown below, "WP" is the
   imagined application service tag for "white pages", and "EM" is the
   application service tag for an imagined "Extensible Messaging"
   application service.

   example.com.
   ;;       order pref flags
   IN NAPTR 100   10   ""    "WP:whois++"      ( ; service
                             ""                  ; regexp
                             bunyip.example.com. ; replacement
                                               )
   IN NAPTR 100   20   "s"   "WP:ldap"         ( ; service
                             ""                  ; regexp
                            _ldap._tcp.myldap.example.com. ; replacement
                                               )
   IN NAPTR 200   10   "u"    "EM:protA"        ( ; service
                             "!.*!prota://someisp.example.com!" ; regexp
                             ""                  ; replacement
                                               )
   IN NAPTR 200   30   "a"   "EM:protB"          ; service
                             ""                  ; regexp
                             myprotB.example.com.; replacement
                                               )








<span class="grey">Daigle                      Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Formal%20Definition%20of%20U-NAPTR%20Application%20of%20DDDS"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Formal Definition of U-NAPTR Application of DDDS</span>

   This section formally defines the DDDS Application, as described in
   [<a href="#ref-7" title='"Dynamic Delegation Discovery System (DDDS) Part One: The Comprehensive DDDS"'>7</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Application%20Unique%20String"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Application Unique String</span>

   The Application Unique String is a fully qualified domain name (FQDN)
   for which an authoritative server for a particular service is sought.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20First%20Well%20Known%20Rule"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  First Well Known Rule</span>

   The "First Well Known Rule" is identity -- that is, the output of the
   rule is the Application Unique String, the FQDN for which the
   authoritative server for a particular service is sought.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Expected%20Output"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Expected Output</span>

   The expected output of this Application is the information necessary
   to connect to authoritative server(s) (host, port, protocol, or URI)
   for an application service within a given domain.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Flags"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Flags</span>

   This DDDS Application uses only 3 of the Flags defined for the URI/
   URN Resolution Application [<a href="#ref-5" title='"Dynamic Delegation Discovery System (DDDS) Part Four: The Uniform Resource Identifiers (URI)"'>5</a>]: "S", "A", and "U".  No other Flags
   are valid.  If a client obtains a NAPTR RR for a U-NAPTR-using
   application that contains any other flag, that NAPTR RR should be
   ignored and processing continues with the next record (if any).

   These flags are for terminal lookups.  This means that the Rule is
   the last one and that the flag determines what the next stage should
   be.  The "S" flag means that the output of this Rule is a FQDN for
   which one or more SRV [<a href="#ref-3" title='"A DNS RR for specifying the location of services (DNS SRV)"'>3</a>] records exist.  "A" means that the output
   of the Rule is a domain name and should be used to lookup address
   records for that domain.  "U" means that the output of the Rule is a
   URI that should be resolved in order to obtain access to the
   described service.

   Consistent with the DDDS algorithm, if the Flag string is empty the
   next lookup is for another NAPTR record (for the replacement target).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5.%20%20Service%20Parameters"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a>.  Service Parameters</span>

   Service Parameters for this Application take the form of a string of
   characters that follow this ABNF [<a href="#ref-1" title='"Augmented BNF for Syntax Specifications: ABNF"'>1</a>]:





<span class="grey">Daigle                      Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


      service-parms = [ [app-service] *(":" app-protocol)]
      app-service   = experimental-service  / iana-registered-service
      app-protocol  = experimental-protocol / iana-registered-protocol
      experimental-service      = "x-" 1*30ALPHANUMSYM
      experimental-protocol     = "x-" 1*30ALPHANUMSYM
      iana-registered-service   = ALPHA *31ALPHANUMSYM
      iana-registered-protocol  = ALPHA *31ALPHANUMSYM
      ALPHA         =  %x41-5A / %x61-7A   ; A-Z / a-z
      DIGIT         =  %x30-39 ; 0-9
      SYM           =  %x2B / %x2D / %x2E  ; "+" / "-" / "."
      ALPHANUMSYM   =  ALPHA / DIGIT / SYM
      ; The app-service and app-protocol tags are limited to 32
      ; characters and must start with an alphabetic character.
      ; The service-parms are considered case-insensitive.

   Thus, the Service Parameters may consist of an empty string, just an
   app-service, or an app-service with one or more app-protocol
   specifications separated by the ":" symbol.

   Note that this is similar to, but not the same as the syntax used in
   the URI DDDS application [<a href="#ref-5" title='"Dynamic Delegation Discovery System (DDDS) Part Four: The Uniform Resource Identifiers (URI)"'>5</a>].  The DDDS DNS database requires each
   DDDS application to define the syntax of allowable service strings.
   The syntax here is expanded to allow the characters that are valid in
   any URI scheme name (see [<a href="#ref-8" title='"Uniform Resource Identifier (URI): Generic Syntax"'>8</a>]).  Since "+" (the separator used in the
   <a href="rfc3404.html">RFC3404</a> service parameter string) is an allowed character for URI
   scheme names, ":" is chosen as the separator here.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.5.1.%20%20Application%20Services"></a><a class="selflink" href="#section-4.5.1" name="section-4.5.1">4.5.1</a>.  Application Services</span>

   The "app-service" must be an IANA-registered service; see <a href="#section-5">Section 5</a>
   for instructions on registering new application service tags.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.5.2.%20%20Application%20Protocols"></a><a class="selflink" href="#section-4.5.2" name="section-4.5.2">4.5.2</a>.  Application Protocols</span>

   The protocol identifiers that are valid for the "app-protocol"
   production are standard, registered protocols; see <a href="#section-5">Section 5</a> for
   instructions on registering new application protocol tags.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.6.%20%20Valid%20Rules"></a><a class="selflink" href="#section-4.6" name="section-4.6">4.6</a>.  Valid Rules</span>

   Permitted rules are substitution rules and regular expressions of the
   following syntax (i.e., a regular expression to replace the domain
   name with a URI):

           u-naptr-regexp = "!.*!"&lt;URI&gt;"!"

   where &lt;URI&gt; is as defined in STD 66 [<a href="#ref-8" title='"Uniform Resource Identifier (URI): Generic Syntax"'>8</a>], the URI syntax
   specification.



<span class="grey">Daigle                      Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.7.%20%20Valid%20Databases"></a><a class="selflink" href="#section-4.7" name="section-4.7">4.7</a>.  Valid Databases</span>

   At present, only one DDDS Database is specified for this Application.
   [<a href="#ref-4" title='"Dynamic Delegation Discovery System (DDDS) Part Three: The Domain Name System (DNS) Database"'>4</a>] specifies a DDDS Database that uses the NAPTR DNS resource record
   to contain the rewrite rules.  The Keys for this database are encoded
   as domain names.

   The First Well Known Rule produces a domain name, and this is the Key
   that is used for the first lookup -- the NAPTR records for that
   domain are requested.

   DNS servers MAY interpret Flag values and use that information to
   include appropriate NAPTR, SRV, or A records in the Additional
   Information portion of the DNS packet.  Clients are encouraged to
   check for additional information but are not required to do so.  See
   the Additional Information Processing section of [<a href="#ref-4" title='"Dynamic Delegation Discovery System (DDDS) Part Three: The Domain Name System (DNS) Database"'>4</a>] for more
   information on NAPTR records and the Additional Information section
   of a DNS response packet.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  IANA Considerations</span>

   This document does not itself place any requirements on IANA, but
   provides the basis upon which U-NAPTR-using services can make use of
   the existing IANA registries for application service tags and
   application protocol tags (defined in <a href="rfc3958.html">RFC 3958</a> [<a href="#ref-2" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>2</a>]).

   As is the case for S-NAPTR, all application service and protocol tags
   that start with "x-" are considered experimental, and no provision is
   made to prevent duplicate use of the same string.  Use them at your
   own risk.

   All other application service and protocol tags are registered based
   on the "specification required" option defined in [<a href="#ref-6" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>6</a>], with the
   further stipulation that the "specification" is an RFC (of any
   category).

   There are no further restrictions placed on the tags other than that
   they must conform with the syntax defined above (<a href="#section-4.5">Section 4.5</a>).

   The defining RFC must clearly identify and describe, for each tag
   being registered:

   o  Application protocol or service tag

   o  Intended usage

   o  Interoperability considerations




<span class="grey">Daigle                      Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


   o  Security considerations (see <a href="#section-6">Section 6</a> of this document for
      further discussion of the types of considerations that are
      applicable)

   o  Any relevant related publications

   The defining RFC may also include further application-specific
   restrictions, such as limitations on the types of URIs that may be
   returned for the application service.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   U-NAPTR has the same considerations for security as S-NAPTR; see
   Section 8 of [<a href="#ref-2" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>2</a>].  U-NAPTR has the additional consideration that
   resolving URIs (from the result of the DDDS resolution) has its own
   set of security implications, covered in the URI specification (in
   particular, Section 7 of [<a href="#ref-8" title='"Uniform Resource Identifier (URI): Generic Syntax"'>8</a>]).  In essence, using DNSSEC, client
   software can be confident that the URI obtained using U-NAPTR is
   indeed the one specified by the administrator of the domain from
   which it was retrieved; but the validity of the service reached by
   resolving that URI is a matter of URI resolution security practices.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Acknowledgements"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Acknowledgements</span>

   Thanks to Martin Thomson, John Klensin, Bernard Aboba, Alfred Hoenes,
   Dan Romascanu, Suresh Krishnan, and Lars Eggert for reviewing earlier
   versions and catching errors!

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20References"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]  Crocker, D. and P. Overell, "Augmented BNF for Syntax
        Specifications: ABNF", <a href="rfc4234.html">RFC 4234</a>, October 2005.

   [<a id="ref-2" name="ref-2">2</a>]  Daigle, L. and A. Newton, "Domain-Based Application Service
        Location Using SRV RRs and the Dynamic Delegation Discovery
        Service (DDDS)", <a href="rfc3958.html">RFC 3958</a>, January 2005.

   [<a id="ref-3" name="ref-3">3</a>]  Gulbrandsen, A., Vixie, P., and L. Esibov, "A DNS RR for
        specifying the location of services (DNS SRV)", <a href="rfc2782.html">RFC 2782</a>,
        February 2000.

   [<a id="ref-4" name="ref-4">4</a>]  Mealling, M., "Dynamic Delegation Discovery System (DDDS) Part
        Three: The Domain Name System (DNS) Database", <a href="rfc3403.html">RFC 3403</a>,
        October 2002.





<span class="grey">Daigle                      Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


   [<a id="ref-5" name="ref-5">5</a>]  Mealling, M., "Dynamic Delegation Discovery System (DDDS) Part
        Four: The Uniform Resource Identifiers (URI)", <a href="rfc3404.html">RFC 3404</a>,
        October 2002.

   [<a id="ref-6" name="ref-6">6</a>]  Narten, T. and H. Alvestrand, "Guidelines for Writing an IANA
        Considerations Section in RFCs", <a href="https://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc2434.html">RFC 2434</a>, October 1998.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-7" name="ref-7">7</a>]  Mealling, M., "Dynamic Delegation Discovery System (DDDS) Part
        One: The Comprehensive DDDS", <a href="rfc3401.html">RFC 3401</a>, October 2002.

   [<a id="ref-8" name="ref-8">8</a>]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
        Resource Identifier (URI): Generic Syntax", <a href="rfc3986.html">RFC 3986</a>, STD 66,
        January 2005.

   [<a id="ref-9" name="ref-9">9</a>]  Malamud, C., "Attaching Meaning to Solicitation Class Keywords",
        <a href="rfc4095.html">RFC 4095</a>, May 2005.

Author's Address

   Leslie L. Daigle
   Cisco Systems
   13615 Dulles Technology Drive
   Herndon, VA  20171
   US

   EMail: ledaigle@cisco.com; leslie@thinkingcat.com























<span class="grey">Daigle                      Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4848.html">RFC 4848</a>                   URI-Enabled NAPTR                  April 2007</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Daigle                      Standards Track                    [Page 10]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc4848 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:39 GMT --></html>