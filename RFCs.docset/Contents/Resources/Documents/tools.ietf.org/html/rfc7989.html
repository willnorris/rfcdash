<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7989 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:19 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="rfc7329" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7989" name="DC.Identifier"/>
<meta content="October, 2016" name="DC.Date.Issued"/>
<meta content="Jones, Paul" name="DC.Creator"/>
<meta content="Pearce, Chris" name="DC.Creator"/>
<meta content="Giralt, Paul" name="DC.Creator"/>
<meta content="Salgueiro, Gonzalo" name="DC.Creator"/>
<meta content="This document describes an end-to-end session identifier for use in
IP-based multimedia communication systems that enables endpoints,
intermediary devices, and management systems to identify a session
end-to-end, associate multiple endpoints with a given multipoint
conference, track communication sessions when they are redirected, and
associate one or more media flows with a given communication session.
While the identifier is intended to work across multiple protocols,
this document describes its usage in the Session Initiation Protocol
(SIP).  This document also describes a backwards-compatibility
mechanism for an existing session identifier implementation (RFC 7329)
that is sufficiently different from the procedures defined in this
document.  This document obsoletes RFC 7329." name="DC.Description.Abstract"/>
<meta content="End-to-End Session Identification in IP-Based Multimedia Communication Networks" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7989 - End-to-End Session Identification in IP-Based Multimedia Communication Networks</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7989.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7989" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-insipid-session-id" title="draft-ietf-insipid-session-id">draft-ietf-insi...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7989" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7989" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7989" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=7989&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                          P. Jones
Request for Comments: 7989                                  G. Salgueiro
Obsoletes: <a href="rfc7329.html">7329</a>                                                C. Pearce
Category: Standards Track                                      P. Giralt
ISSN: 2070-1721                                      Cisco Systems, Inc.
                                                            October 2016


                  <span class="h1">End-to-End Session Identification in</span>
               <span class="h1">IP-Based Multimedia Communication Networks</span>

Abstract

   This document describes an end-to-end session identifier for use in
   IP-based multimedia communication systems that enables endpoints,
   intermediary devices, and management systems to identify a session
   end-to-end, associate multiple endpoints with a given multipoint
   conference, track communication sessions when they are redirected,
   and associate one or more media flows with a given communication
   session.  While the identifier is intended to work across multiple
   protocols, this document describes its usage in the Session
   Initiation Protocol (SIP).

   This document also describes a backwards-compatibility mechanism for
   an existing session identifier implementation (<a href="rfc7329.html">RFC 7329</a>) that is
   sufficiently different from the procedures defined in this document.

   This document obsoletes <a href="rfc7329.html">RFC 7329</a>.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc7841.html#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7989">http://www.rfc-editor.org/info/rfc7989</a>.









<span class="grey">Jones, et al.                Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





































<span class="grey">Jones, et al.                Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-4">4</a>
   <a href="#section-2">2</a>. Conventions Used in This Document ...............................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. Session Identifier Definitions, Requirements, and Use Cases .....<a href="#page-5">5</a>
   <a href="#section-4">4</a>. Constructing and Conveying the Session Identifier ...............<a href="#page-5">5</a>
      <a href="#section-4.1">4.1</a>. Constructing the Session Identifier ........................<a href="#page-5">5</a>
      <a href="#section-4.2">4.2</a>. Conveying the Session Identifier ...........................<a href="#page-6">6</a>
   <a href="#section-5">5</a>. The Session-ID Header Field .....................................<a href="#page-8">8</a>
   <a href="#section-6">6</a>. Endpoint Behavior ...............................................<a href="#page-9">9</a>
   <a href="#section-7">7</a>. Processing by Intermediaries ...................................<a href="#page-11">11</a>
   <a href="#section-8">8</a>. Handling of Remote UUID Changes ................................<a href="#page-14">14</a>
   <a href="#section-9">9</a>. Associating Endpoints in a Multipoint Conference ...............<a href="#page-16">16</a>
   <a href="#section-10">10</a>. Examples of Various Call Flow Operations ......................<a href="#page-17">17</a>
      <a href="#section-10.1">10.1</a>. Basic Call with Two UUIDs ................................<a href="#page-18">18</a>
      <a href="#section-10.2">10.2</a>. Basic Call Transfer Using REFER ..........................<a href="#page-22">22</a>
      <a href="#section-10.3">10.3</a>. Basic Call Transfer Using Re-INVITE ......................<a href="#page-24">24</a>
      <a href="#section-10.4">10.4</a>. Single Focus Conferencing ................................<a href="#page-26">26</a>
      10.5. Single Focus Conferencing Using a Web-Based
            Conference Service .......................................<a href="#page-28">28</a>
      <a href="#section-10.6">10.6</a>. Cascading Conference Bridges .............................<a href="#page-30">30</a>
           <a href="#section-10.6.1">10.6.1</a>. Establishing a Cascaded Conference ................<a href="#page-30">30</a>
           <a href="#section-10.6.2">10.6.2</a>. Calling Into Cascaded Conference Bridges ..........<a href="#page-31">31</a>
      <a href="#section-10.7">10.7</a>. Basic 3PCC for Two UAs ...................................<a href="#page-33">33</a>
      <a href="#section-10.8">10.8</a>. Handling in 100 Trying SIP Response and CANCEL Request ...<a href="#page-33">33</a>
           <a href="#section-10.8.1">10.8.1</a>. Handling in a 100 Trying SIP Response .............<a href="#page-34">34</a>
           <a href="#section-10.8.2">10.8.2</a>. Handling a CANCEL SIP Request .....................<a href="#page-35">35</a>
      <a href="#section-10.9">10.9</a>. Out-of-Dialog REFER Transaction ..........................<a href="#page-36">36</a>
   <a href="#section-11">11</a>. Compatibility with a Previous Implementation ..................<a href="#page-37">37</a>
   <a href="#section-12">12</a>. Security and Privacy Considerations ...........................<a href="#page-39">39</a>
   <a href="#section-13">13</a>. IANA Considerations ...........................................<a href="#page-40">40</a>
      <a href="#section-13.1">13.1</a>. Registration of the "Session-ID" Header Field ............<a href="#page-40">40</a>
      <a href="#section-13.2">13.2</a>. Registration of the "remote" Parameter ...................<a href="#page-40">40</a>
   <a href="#section-14">14</a>. References ....................................................<a href="#page-41">41</a>
      <a href="#section-14.1">14.1</a>. Normative References .....................................<a href="#page-41">41</a>
      <a href="#section-14.2">14.2</a>. Informative References ...................................<a href="#page-42">42</a>
   Acknowledgements ..................................................<a href="#page-44">44</a>
   Dedication ........................................................<a href="#page-44">44</a>
   Authors' Addresses ................................................<a href="#page-45">45</a>












<span class="grey">Jones, et al.                Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   IP-based multimedia communication systems, such as Session Initiation
   Protocol (SIP) [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>] and [<a href="#ref-H.323" title='"Packet-based multimedia communications systems"'>H.323</a>], have the concept of a "call
   identifier" that is globally unique.  The identifier is intended to
   represent an end-to-end communication session from the originating
   device to the terminating device.  Such an identifier is useful for
   troubleshooting, session tracking, and so forth.

   For several reasons, however, the current call identifiers defined in
   SIP and H.323 are not suitable for end-to-end session identification.
   A fundamental issue in protocol interworking is the fact that the
   syntax for the call identifier in SIP and H.323 is different.  Thus,
   if both protocols are used in a call, it is impossible to exchange
   the call identifier end-to-end.

   Another reason why the current call identifiers are not suitable to
   identify a session end-to-end is that, in real-world deployments,
   devices such as session border controllers [<a href="rfc7092.html" title='"A Taxonomy of Session Initiation Protocol (SIP) Back-to-Back User Agents"'>RFC7092</a>] often change the
   session signaling, including the value of the call identifier, as it
   passes through the device.  While this is deliberate and useful, it
   makes it very difficult to track a session end-to-end.

   This document defines a new identifier, referred to as the "session
   identifier", that is intended to overcome the issues that exist with
   the currently defined call identifiers used in SIP and other IP-based
   communication systems.  The identifier defined here has been adopted
   by the ITU ([<a href="#ref-H.460.27" title='"End-to-End Session Identifier for H.323 Systems"'>H.460.27</a>]) for use in H.323-based systems, allowing for
   the ability to trace a session end-to-end for sessions traversing
   both SIP and H.323-based systems.  This document defines its use in
   SIP.

   The procedures specified in this document attempt to comply with the
   requirements specified in [<a href="rfc7206.html" title='"Requirements for an End-to-End Session Identification in IP-Based Multimedia Communication Networks"'>RFC7206</a>].  The procedures also specify
   capabilities not mentioned in [<a href="rfc7206.html" title='"Requirements for an End-to-End Session Identification in IP-Based Multimedia Communication Networks"'>RFC7206</a>], shown in the call flows in
   <a href="#section-10">Section 10</a>.  Additionally, this specification attempts to account for
   a previous, pre-standard version of a SIP session identifier header
   [<a href="rfc7329.html" title='"A Session Identifier for the Session Initiation Protocol (SIP)"'>RFC7329</a>], specifying a backwards-compatibility approach in
   <a href="#section-11">Section 11</a>.












<span class="grey">Jones, et al.                Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>] when they
   appear in ALL CAPS.  These words may also appear in this document in
   lowercase, absent their normative meanings.

   The term "session identifier" refers to the value of the identifier,
   whereas "Session-ID" refers to the header field used to convey the
   identifier.  The session identifier is a set of two Universally
   Unique Identifiers (UUIDs) and each element of that set is simply
   referred to herein as a "UUID".

   Throughout this document, the term "endpoint" refers to a SIP User
   Agent (UA) that either initiates or terminates a SIP session, such as
   a user's mobile phone or a conference server, but excludes entities
   such as Back-to-Back User Agents (B2BUAs) that are generally located
   along the call-signaling path between endpoints.  The term
   "intermediary" refers to any entity along the call-signaling path
   between the aforementioned endpoints, including B2BUAs and SIP
   proxies.  In certain scenarios, intermediaries are allowed to
   originate and terminate SIP messages without an endpoint being part
   of the session or transaction.  An intermediary may be performing
   interworking between different protocols (e.g., SIP and H.323) that
   support the session identifier defined in this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Session%20Identifier%20Definitions%2C%20Requirements%2C%20and%20Use%20Cases"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Session Identifier Definitions, Requirements, and Use Cases</span>

   Requirements and use cases for the end-to-end session identifier,
   along with the definition of "session identifier", "communication
   session", and "end-to-end" can be found in [<a href="rfc7206.html" title='"Requirements for an End-to-End Session Identification in IP-Based Multimedia Communication Networks"'>RFC7206</a>].  Throughout
   this document, the term "session" refers to a "communication session"
   as defined in [<a href="rfc7206.html" title='"Requirements for an End-to-End Session Identification in IP-Based Multimedia Communication Networks"'>RFC7206</a>].

   As mentioned in <a href="rfc7206.html#section-6.1">Section 6.1 of [RFC7206]</a>, the ITU-T undertook a
   parallel effort to define compatible procedures for an H.323 session
   identifier.  They are documented in [<a href="#ref-H.460.27" title='"End-to-End Session Identifier for H.323 Systems"'>H.460.27</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Constructing%20and%20Conveying%20the%20Session%20Identifier"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Constructing and Conveying the Session Identifier</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Constructing%20the%20Session%20Identifier"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Constructing the Session Identifier</span>

   The session identifier comprises two UUIDs [<a href="rfc4122.html" title='"A Universally Unique IDentifier (UUID) URN Namespace"'>RFC4122</a>], with each UUID
   representing one of the endpoints participating in the session.






<span class="grey">Jones, et al.                Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   The version number in the UUID indicates the manner in which the UUID
   is generated, such as using random values or using the Media Access
   Control (MAC) address of the endpoint.  To satisfy the requirement
   that no user or device information be conveyed, endpoints MUST
   generate version 4 (random) or version 5 (SHA-1) UUIDs to address
   privacy concerns related to the use of MAC addresses in UUIDs.

   When generating a version 5 UUID, endpoints or intermediaries MUST
   utilize the procedures defined in <a href="rfc4122.html#section-4.3">Section 4.3 of [RFC4122]</a> and employ
   the following "namespace ID":

       uuid_t NameSpace_SessionID = {
           /* a58587da-c93d-11e2-ae90-f4ea67801e29 */
           0xa58587da,
           0xc93d,
           0x11e2,
           0xae, 0x90, 0xf4, 0xea, 0x67, 0x80, 0x1e, 0x29
       };

   Further, the "name" to utilize for version 5 UUIDs is the
   concatenation of the Call-ID header-value and the "tag" parameter
   that appears on the "From" or "To" line associated with the device
   for which the UUID is created.  Once an endpoint generates a UUID for
   a session, the UUID never changes, even if values originally used as
   input into its construction change over time.

   Stateless intermediaries that insert a Session-ID header field into a
   SIP message on behalf of an endpoint MUST utilize version 5 UUIDs to
   ensure that UUIDs for the communication session are consistently
   generated.  If a stateless intermediary does not know the tag value
   for the endpoint (e.g., a new INVITE request without a To: tag value
   or an older SIP implementation [<a href="rfc2543.html" title='"SIP: Session Initiation Protocol"'>RFC2543</a>] that did not include a "tag"
   parameter), the intermediary MUST NOT attempt to generate a UUID for
   that endpoint.  Note that, if an intermediary is stateless and the
   endpoint on one end of the call is replaced with another endpoint due
   to some service interaction, the values used to create the UUID
   should change and, if so, the intermediary will compute a different
   UUID.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Conveying%20the%20Session%20Identifier"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Conveying the Session Identifier</span>

   The SIP User Agent (UA) initiating a new session by transmitting a
   SIP request ("Alice"), i.e., a User Agent Client (UAC), MUST create a
   new, previously unused UUID and transmit that to the ultimate
   destination UA ("Bob").  Likewise, the destination UA ("Bob"), i.e.,
   a User Agent Server (UAS), MUST create a new, previously unused UUID
   and transmit that to the first UA ("Alice").  These two distinct
   UUIDs form what is referred to as the "session identifier" and is



<span class="grey">Jones, et al.                Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   represented in this document in set notation of the form {A,B}, where
   "A" is UUID value created by UA "Alice" and "B" is the UUID value
   created by UA "Bob".  The session identifier {A,B} is equal to the
   session identifier {B,A}.  <a href="#section-6">Section 6</a> describes how the UUIDs selected
   by the source and destination UAs persist for the duration of the
   session.

   In the case where only one UUID is known, such as when a UA first
   initiates a potentially dialog-initiating SIP request, the session
   identifier would be {A,N}, where "A" represents the UUID value
   transmitted by the UA "Alice", and "N" is what is referred to as the
   "nil UUID" [<a href="rfc4122.html" title='"A Universally Unique IDentifier (UUID) URN Namespace"'>RFC4122</a>] (see <a href="#section-5">Section 5</a> of this document).

   Since SIP sessions are subject to any number of service interactions,
   SIP INVITE requests might be forked as sessions are established, and
   since conferences might be established or expanded with endpoints
   calling in or the conference focus calling out, the construction of
   the session identifier as a set of UUIDs is important.

   To understand this better, consider that an endpoint participating in
   a communication session might be replaced with another, such as the
   case where two "legs" of a call are joined together by a Private
   Branch Exchange (PBX).  Suppose "Alice" and "Bob" both call UA "C"
   ("Carol").  There would be two distinctly identifiable session
   identifiers, namely {A,C} and {B,C}.  Then, suppose that "Carol" uses
   a local PBX function to join the call between herself and "Alice"
   with the call between herself and "Bob", resulting in a single
   remaining call between "Alice" and "Bob".  This merged call can be
   identified using two UUID values assigned by each entity in the
   communication session, namely {A,B} in this example.

   In the case of forking, "Alice" might send an INVITE request that
   gets forked to several different endpoints.  A means of identifying
   each of these separate communication sessions is needed; since each
   of the destination UAs will create its own UUID, each communication
   session would be uniquely identified by the values {A, B1}, {A, B2},
   {A, B3}, and so on, where each of the Bn values refers to the UUID
   created by the different UAs to which the SIP session is forked.

   For conferencing scenarios, it is also useful to have a two-part
   session identifier where the conference focus specifies the same UUID
   for each conference participant.  This allows for correlation among
   the participants in a single conference.  For example, in a
   conference with three participants, the session identifiers might be
   {A,M}, {B,M}, and {C,M}, where "M" is assigned by the conference
   focus.  Only a conference focus will purposely utilize the same UUID
   for more than one SIP session and, even then, such reuse MUST be
   restricted to the participants in the same conference.



<span class="grey">Jones, et al.                Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   How a device acting on session identifiers processes or utilizes the
   session identifier is outside the scope of this document.  However,
   devices storing a session identifier in a log file SHOULD follow the
   security considerations outlined in [<a href="rfc6872.html" title='"The Common Log Format (CLF) for the Session Initiation Protocol (SIP): Framework and Information Model"'>RFC6872</a>].  Note that the primary
   intent of a session identifier is for troubleshooting; therefore, it
   should be included in logs at rest that will be used for
   troubleshooting purposes.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20The%20Session-ID%20Header%20Field"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  The Session-ID Header Field</span>

   This document replaces the definition of the "Session-ID" token that
   was added to the definition of the element "message-header" in the
   SIP message grammar by [<a href="rfc7329.html" title='"A Session Identifier for the Session Initiation Protocol (SIP)"'>RFC7329</a>].  The Session-ID header is a single-
   instance header.

   Each endpoint participating in a communication session has a
   distinct, preferably locally generated UUID associated with it.  The
   endpoint's UUID value remains unchanged throughout the duration of
   the communication session.  Multipoint conferences can bridge
   sessions from multiple endpoints and impose unique requirements
   defined in <a href="#section-9">Section 9</a>.  An intermediary MAY generate a UUID on behalf
   of an endpoint that did not include a UUID of its own.

   The UUID values for each endpoint are inserted into the Session-ID
   header field of all transmitted SIP messages.  The Session-ID header
   field has the following ABNF [<a href="rfc5234.html" title='"Augmented BNF for Syntax Specifications: ABNF"'>RFC5234</a>] syntax:

     session-id          = "Session-ID" HCOLON session-id-value

     session-id-value    = local-uuid *(SEMI sess-id-param)

     local-uuid          = sess-uuid / nil

     remote-uuid         = sess-uuid / nil

     sess-uuid           = 32(DIGIT / %x61-66)  ;32 chars of [0-9a-f]

     sess-id-param       = remote-param / generic-param

     remote-param        = "remote" EQUAL remote-uuid

     nil                 = 32("0")

   The productions "SEMI", "EQUAL", and "generic-param" are defined in
   [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>].  The production DIGIT is defined in [<a href="rfc5234.html" title='"Augmented BNF for Syntax Specifications: ABNF"'>RFC5234</a>].






<span class="grey">Jones, et al.                Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   The Session-ID header field MUST NOT have more than one "remote"
   parameter.  In the case where an entity compliant with this
   specification is interworking with an entity that implemented a
   session identifier as defined in [<a href="rfc7329.html" title='"A Session Identifier for the Session Initiation Protocol (SIP)"'>RFC7329</a>], the "remote" parameter
   may be absent; otherwise, the "remote" parameter MUST be present.
   The details under which those conditions apply are described in
   <a href="#section-11">Section 11</a>.  Except for backwards compatibility with [<a href="rfc7329.html" title='"A Session Identifier for the Session Initiation Protocol (SIP)"'>RFC7329</a>], the
   "remote" parameter MUST be present.

   A special nil UUID value composed of 32 zeros is required in certain
   situations.  A nil UUID is expected as the "remote-uuid" of every
   initial standard SIP request since the initiating endpoint would not
   initially know the UUID value of the remote endpoint.  This nil value
   will get replaced by the ultimate destination UAS when that UAS
   generates a response message.  One caveat is explained in <a href="#section-11">Section 11</a>
   for a possible backwards-compatibility case.  A nil UUID value is
   also returned by some intermediary devices that send provisional or
   other responses as the "local-uuid" component of the Session-ID
   header field value, as described in <a href="#section-7">Section 7</a>.

   The "local-uuid" in the Session-ID header field represents the UUID
   value of the endpoint transmitting a message and the "remote-uuid" in
   the Session-ID header field represents the UUID of the endpoint's
   peer.  For example, a Session-ID header field might appear like this:

     Session-ID: ab30317f1a784dc48ff824d0d3715d86;
                 remote=47755a9de7794ba387653f2099600ef2

   While this is the general form of the Session-ID header field,
   exceptions to syntax and procedures are detailed in subsequent
   sections.

   The UUID values are presented as strings of lowercase hexadecimal
   characters, with the most significant octet of the UUID appearing
   first.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Endpoint%20Behavior"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Endpoint Behavior</span>

   To comply with this specification, endpoints (non-intermediaries)
   MUST include a Session-ID header field value in all SIP messages
   transmitted as a part of a communication session.  The locally
   generated UUID of the transmitter of the message MUST appear in the
   "local-uuid" portion of the Session-ID header field value.  The UUID
   of the peer device, if known, MUST appear as the "remote" parameter
   following the transmitter's UUID.  The nil UUID value MUST be used if
   the peer device's UUID is not known.





<span class="grey">Jones, et al.                Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   Once an endpoint allocates a UUID value for a communication session,
   the endpoint originating the request MUST NOT change that UUID value
   for the duration of the session, including when:

   o  communication attempts are retried due to receipt of 4xx messages
      or request timeouts;

   o  the session is redirected in response to a 3xx message;

   o  a session is transferred via a REFER message [<a href="rfc3515.html" title='"The Session Initiation Protocol (SIP) Refer Method"'>RFC3515</a>]; or

   o  a SIP dialog is replaced via an INVITE request with Replaces
      [<a href="rfc3891.html" title='"The Session Initiation Protocol (SIP) "'>RFC3891</a>].

   An endpoint that receives a Session-ID header field MUST take note of
   any non-nil "local-uuid" value that it receives and assume that is
   the UUID of the peer endpoint within that communication session.
   Endpoints MUST include this received UUID value as the "remote"
   parameter when transmitting subsequent messages, making sure not to
   change this UUID value in the process of moving the value internally
   from the "local-uuid" field to the "remote-uuid" field.

   If an endpoint receives a 3xx message, a REFER that directs the
   endpoint to a different peer, or an INVITE request with Replaces that
   also potentially results in communicating with a new peer, the
   endpoint MUST complete any message exchanges with its current peer
   using the existing session identifier, but it MUST NOT use the
   current peer's UUID value when sending the first message to what it
   believes may be a new peer endpoint (even if the exchange results in
   communicating with the same physical or logical entity).  The
   endpoint MUST retain its own UUID value, however, as described above.

   It should be noted that messages received by an endpoint might
   contain a "local-uuid" value that does not match what the endpoint
   expected its peer's UUID to be.  It is also possible for an endpoint
   to receive a "remote-uuid" value that does not match its generated
   UUID for the session.  Either might happen as a result of service
   interactions by intermediaries and MUST NOT affect how the endpoint
   processes the session; however, the endpoint may log this event for
   troubleshooting purposes.

   An endpoint MUST assume that the UUID value of the peer endpoint may
   change at any time due to service interactions.  <a href="#section-8">Section 8</a> discusses
   how endpoints must handle remote UUID changes.

   It is also important to note that if an intermediary in the network
   forks a session, the endpoint initiating a session may receive
   multiple responses back from different endpoints, each of which



<span class="grey">Jones, et al.                Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   contains a different UUID ("local-uuid") value.  Endpoints MUST
   ensure that the correct UUID value is returned in the "remote"
   parameter when interacting with each endpoint.  The one exception is
   when the endpoint sends a CANCEL request, in which case the Session-
   ID header field value MUST be identical to the Session-ID header
   field value sent in the original request.

   If an endpoint receives a message that does not contain a Session-ID
   header field, that message must have no effect on what the endpoint
   believes is the UUID value of the remote endpoint.  That is, the
   endpoint MUST NOT change the internally maintained "remote-uuid"
   value for the peer.

   If an endpoint receives a SIP response with a non-nil "local-uuid"
   that is not 32 octets long, this response comes from a misbehaving
   implementation, and its Session-ID header field MUST be discarded.
   That said, the response might still be valid according to the rules
   within SIP [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], and it SHOULD be checked further.

   A Multipoint Control Unit (MCU) is a special type of conferencing
   endpoint and is discussed in <a href="#section-9">Section 9</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Processing%20by%20Intermediaries"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Processing by Intermediaries</span>

   The following applies only to an intermediary that wishes to comply
   with this specification and does not impose a conformance requirement
   on intermediaries that elect not to provide any special treatment for
   the Session-ID header field.  Intermediaries that do not comply with
   this specification might pass the header unchanged or drop it
   entirely.

   The Call-ID often reveals personal, device, domain, or other
   sensitive information associated with a user, which is one reason why
   intermediaries, such as session border controllers, sometimes alter
   the Call-ID.  In order to ensure the integrity of the end-to-end
   session identifier, it is constructed in a way that does not reveal
   such information, removing the need for intermediaries to alter it.

   When an intermediary receives messages from one endpoint in a
   communication session that causes the transmission of one or more
   messages toward the second endpoint in a communication session, the
   intermediary MUST include the Session-ID header field in the
   transmitted messages with the same UUID values found in the received
   message, except as outlined in this section and in <a href="#section-8">Section 8</a>.

   If the intermediary aggregates several responses from different
   endpoints, as described in <a href="rfc3261.html#section-16.7">Section 16.7 of [RFC3261]</a>, the
   intermediary MUST set the local-uuid field to the nil UUID value when



<span class="grey">Jones, et al.                Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   forwarding the aggregated response to the endpoint since the true
   UUID value of the peer is undetermined at that point.  Note that an
   intermediary that does not implement this specification might forward
   a non-nil value, resulting in the originating endpoint receiving
   different UUID values in the responses.  It is possible for this to
   result in the endpoint temporarily using the wrong remote UUID.
   Subsequent messages in the dialog should resolve the temporary
   mismatch as long as the endpoint follows the rules outlined in
   <a href="#section-8">Section 8</a> dealing with the handling of remote UUID changes.

   Intermediary devices that transfer a call, such as by joining
   together two different "call legs", MUST properly construct a
   Session-ID header field that contains the UUID values associated with
   the endpoints involved in the joined session and correct placement of
   those values.  As described in <a href="#section-6">Section 6</a>, the endpoint receiving a
   message transmitted by the intermediary will assume that the first
   UUID value belongs to its peer endpoint.

   If an intermediary receives a SIP message without a Session-ID header
   field or valid header field value from an endpoint for which the
   intermediary is not storing a "remote-uuid" value, the intermediary
   MAY assign a "local-uuid" value to represent that endpoint and,
   having done so, MUST insert that assigned value into all signaling
   messages on behalf of the endpoint for that dialog.  In effect, the
   intermediary becomes dialog-stateful, and it MUST follow the endpoint
   procedures in <a href="#section-6">Section 6</a> with respect to Session-ID header field value
   treatment with itself acting as the endpoint (for the purposes of the
   Session-ID header field) for which it inserted a component into the
   Session-ID header field value.  If the intermediary is aware of the
   UUID value that identifies the endpoint to which a message is
   directed, it MUST insert that UUID value into the Session-ID header
   field value as the "remote-uuid" value.  If the intermediary is
   unaware of the UUID value that identifies the receiving endpoint, it
   MUST use the nil UUID value as the "remote-uuid" value.

   If an intermediary receives a SIP message without a Session-ID header
   field or a valid Session-ID header field value from an endpoint for
   which the intermediary has previously received a Session-ID and is
   storing a "remote-uuid" value for that endpoint, the lack of a
   Session-ID must have no effect on what the intermediary believes is
   the UUID value of the endpoint.  That is, the intermediary MUST NOT
   change the internally maintained "remote-uuid" value for the peer.

   When an intermediary originates a response, such as a provisional
   response or a response to a CANCEL request, the "remote-uuid" field
   will contain the UUID value of the receiving endpoint.  When the UUID
   of the peer endpoint is known, the intermediary MUST insert the UUID
   of the peer endpoint in the "local-uuid" field of the header value.



<span class="grey">Jones, et al.                Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   Otherwise, the intermediary MAY set the "local-uuid" field of the
   header value to the "nil" UUID value.

   When an intermediary originates a request message without first
   having received a SIP message that triggered the transmission of the
   message (e.g., sending a BYE message to terminate a call for policy
   reasons), the intermediary MUST, if it has knowledge of the UUID
   values for the two communicating endpoints, insert a Session-ID
   header field with the "remote-uuid" field of the header value set to
   the UUID value of the receiving endpoint and the "local-uuid" field
   of the header value set to the UUID value of the other endpoint.
   When the intermediary does not have knowledge of the UUID value of an
   endpoint in the communication session, the intermediary SHOULD set
   the unknown UUID value(s) to the "nil" UUID value.  (If both are
   unknown, the Session-ID header value SHOULD NOT be included at all,
   since it would have no practical value.)

   With respect to the previous two paragraphs, note that if an
   intermediary transmits a "nil" UUID value, the receiving endpoint
   might use that value in subsequent messages it sends.  This
   effectively violates the requirement of maintaining an end-to-end
   session identifier value for the communication session if a UUID for
   the peer endpoint had been previously conveyed.  Therefore, an
   intermediary MUST only send the "nil" UUID when the intermediary has
   not communicated with the peer endpoint to learn its UUID.  This
   means that intermediaries SHOULD maintain state related to the UUID
   values for both ends of a communication session if it intends to
   originate messages (versus merely conveying messages).  An
   intermediary that does not maintain this state and that originates a
   message as described in the previous two paragraphs MUST NOT insert a
   Session-ID header field in order to avoid unintended, incorrect
   reassignment of a UUID value.

   The Session-ID header field value included in a CANCEL request MUST
   be identical to the Session-ID header field value included in the
   corresponding request being cancelled.

   If a SIP intermediary initiates a dialog between two endpoints in a
   third-party call control (3PCC [<a href="rfc3725.html" title='"Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP)"'>RFC3725</a>]) scenario, the initial
   INVITE request will have a non-nil, locally fabricated "local-uuid"
   value; call this temporary UUID "X".  The request will still have a
   nil "remote-uuid" value; call this value "N".  The SIP server MUST be
   transaction-stateful.  The UUID pair in the INVITE request will be
   {X,N}.  A 1xx or 2xx response will have a UUID pair {A,X}.  This
   transaction-stateful, dialog-initiating SIP server MUST replace its
   own UUID, i.e.,"X", with a nil UUID (i.e., {A,N}) in the INVITE
   request sent towards the other UAS as expected (see <a href="#section-10.7">Section 10.7</a> for
   an example).



<span class="grey">Jones, et al.                Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   Intermediaries that manipulate messages containing a Session-ID
   header field SHOULD be aware of what UUID values it last sent towards
   an endpoint and, following any kind of service interaction initiated
   or affected by the intermediary, what UUID values the receiving
   endpoint should have knowledge of to ensure that both endpoints in
   the session have the correct and same UUID values.  If an
   intermediary can determine that an endpoint might not have received a
   current, correct Session-ID field, the intermediary SHOULD attempt to
   provide the correct Session-ID header field to the endpoint such as
   by sending a re-INVITE request.  Failure to take such measures may
   make troubleshooting more difficult because of the mismatched
   identifiers; therefore, it is strongly advised that intermediaries
   attempt to provide the correct session identifier if able to do so.

   If an intermediary receives a SIP response with a non-nil "local-
   uuid" that is not 32 octets long, this response comes from a
   misbehaving implementation, and its Session-ID header field MUST be
   discarded.  That said, the response might still be valid according to
   the rules within SIP [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], and it SHOULD be checked further.

   An intermediary MUST assume that the UUID value of session peers may
   change at any time due to service interactions and MAY itself change
   UUID values for sessions under its control to ensure that end-to-end
   session identifiers are consistent for all participants in a session.
   <a href="#section-8">Section 8</a> discusses how intermediaries must handle remote UUID
   changes if they maintain state of the session identifier.

   An intermediary may perform protocol interworking between different
   IP-based communications systems, e.g., interworking between H.323 and
   SIP.  If the intermediary supports the session identifier for both
   protocols for which it is interworking, it SHOULD pass the identifier
   between the two call legs to maintain an end-to-end identifier,
   regardless of protocol.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Handling%20of%20Remote%20UUID%20Changes"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Handling of Remote UUID Changes</span>

   It is desirable to have all endpoints and intermediaries involved in
   a session agree upon the current session identifier when these
   changes occur.  Due to race conditions or certain interworking
   scenarios, it is not always possible to guarantee session identifier
   consistency; however, in an attempt to ensure the highest likelihood
   of consistency, all endpoints and intermediaries involved in a
   session MUST accept a peer's new UUID under the following conditions:








<span class="grey">Jones, et al.                Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   o  When an endpoint or intermediary receives a mid-dialog request
      containing a new UUID from a peer, all responses to that request
      MUST contain the new UUID value as the "remote" parameter unless a
      subsequent successful transaction (for example, an UPDATE)
      contains a different UUID, in which case, the newest UUID MUST be
      used.

   o  If an endpoint or intermediary sends a successful (2xx) or
      redirection (3xx) response to the request containing the new UUID
      value, the endpoint or intermediary MUST accept the peer's UUID
      and include this new UUID as the "remote" parameter for any
      subsequent messages unless the UUID from a subsequent transaction
      has already been accepted.  The one exception is a CANCEL request,
      as outlined below.

   o  If the endpoint or intermediary sends a failure (4xx, 5xx, or 6xx)
      response, it MUST NOT accept the new UUID value and any subsequent
      messages MUST contain the previously stored UUID value in the
      "remote" parameter for any subsequent message.  Note that the
      failure response itself will contain the new UUID value from the
      request in the "remote" parameter.

   o  When an endpoint or intermediary receives an ACK for a successful
      (2xx) or redirection (3xx) response with a new UUID value, it MUST
      accept the peer's new UUID value and include this new UUID as the
      "remote" parameter for any subsequent messages.  If the ACK is for
      a failure (4xx, 5xx, or 6xx) response, the new value MUST NOT be
      used.

   o  As stated in Sections <a href="#section-6">6</a> and <a href="#section-7">7</a>, the Session-ID header field value
      included in a CANCEL request MUST be identical to the Session-ID
      header field value included in the corresponding INVITE request.
      Upon receiving a CANCEL request, an endpoint or intermediary would
      normally send a 487 Request Terminated response (see
      <a href="rfc3261.html#section-15.1.2">Section 15.1.2 of [RFC3261]</a>) which, by the rules outlined above,
      would result in the endpoint or intermediary not storing any UUID
      value contained in the CANCEL request.  <a href="rfc6141.html#section-3.8">Section 3.8 of [RFC6141]</a>
      specifies conditions where a CANCEL request can result in a 2xx
      response.  Because a CANCEL request is not passed end-to-end and
      will always contain the UUID from the original INVITE request,
      retaining a new UUID value received in a CANCEL request may result
      in inconsistency with the Session-ID value stored on the endpoints
      and intermediaries involved in the session.  To avoid this
      situation, an endpoint or intermediary MUST NOT accept the new
      UUID value received in a CANCEL request and any subsequent
      messages MUST contain the previously stored UUID value in the





<span class="grey">Jones, et al.                Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      "remote" parameter".  Note that the response to the CANCEL request
      will contain the UUID value from the CANCEL request in the
      "remote" parameter.

   o  When an endpoint or intermediary receives a response containing a
      new UUID from a peer, the endpoint or intermediary MUST accept the
      new UUID as the peer's UUID and include this new UUID as the
      "remote" parameter for any subsequent messages.

   When an intermediary accepts a new UUID from a peer, the intermediary
   SHOULD attempt to provide the correct Session-ID header field to
   other endpoints involved in the session, for example, by sending a
   re-INVITE request.  If an intermediary receives a message with a
   "remote" parameter in the session identifier that does not match the
   updated UUID, the intermediary MUST update the "remote" parameter
   with the latest stored UUID.

   If an intermediary is performing interworking between two different
   protocols that both support the session identifier defined in this
   document (e.g., SIP to H.323), UUID changes SHOULD be communicated
   between protocols to maintain the end-to-end session identifier.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Associating%20Endpoints%20in%20a%20Multipoint%20Conference"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Associating Endpoints in a Multipoint Conference</span>

   Multipoint Control Units (MCUs) group two or more sessions into a
   single multipoint conference and have a conference focus responsible
   for maintaining the dialogs connected to it [<a href="rfc4353.html" title='"A Framework for Conferencing with the Session Initiation Protocol (SIP)"'>RFC4353</a>].  MCUs,
   including cascaded MCUs, MUST utilize the same UUID value ("local-
   uuid" portion of the Session-ID header field value) with all
   participants in the conference.  In so doing, each individual session
   in the conference will have a unique session identifier (since each
   endpoint will create a unique UUID of its own), but will also have
   one UUID in common with all other participants in the conference.

   When creating a cascaded conference, an MCU MUST convey the UUID
   value to be utilized for a conference via the "local-uuid" portion of
   the Session-ID header field value in an INVITE request to a second
   MCU when using SIP to establish the cascaded conference.  A
   conference bridge, or MCU, needs a way to identify itself when
   contacting another MCU.  [<a href="rfc4579.html" title='"Session Initiation Protocol (SIP) Call Control - Conferencing for User Agents"'>RFC4579</a>] defines the "isfocus" Contact
   header field value parameter just for this purpose.  The initial MCU
   MUST include the UUID of that particular conference in the "local-
   uuid" of an INVITE request to the other MCU(s) participating in that
   conference.  Also included in this INVITE request is an "isfocus"
   Contact header field value parameter identifying that this INVITE
   request is coming from an MCU, and that this UUID is to be given out
   in all responses from endpoints into those MCUs participating in this




<span class="grey">Jones, et al.                Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   same conference.  This ensures that a single UUID is common across
   all participating MCUs of the same conference, but that it is unique
   between different conferences.

   In the case where two existing conferences are joined, there should
   be a session between the two MCUs where the session identifier is
   comprised of the UUID values of the two conferences.  This session
   identifier can be used to correlate the sessions between participants
   in the joined conference.  This specification does not impose any
   additional requirements when two existing conferences are joined.

   Intermediary devices or network-diagnostic equipment might assume
   that when they see two or more sessions with different session
   identifiers but with one UUID in common, the sessions are part of the
   same conference.  However, the assumption that two sessions having
   one common UUID being part of the same conference is not always
   correct.  In a SIP-forking scenario, for example, there might also
   exist what appears to be multiple sessions with a shared UUID value;
   this is intended.  The desire is to allow for the association of
   related sessions, regardless of whether a session is forked or part
   of a conference.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Examples%20of%20Various%20Call%20Flow%20Operations"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Examples of Various Call Flow Operations</span>

   Seeing something frequently makes understanding easier.  With that in
   mind, this section includes several call flow examples with the
   initial UUID and the complete session identifier indicated per
   message, as well as examples of when the session identifier changes
   according to the rules within this document during certain
   operations/functions.

   This section is for illustrative purposes only and is non-normative.
   In the following flows, "RTP" refers to the Real-time Transport
   Protocol [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>].

   In the examples in this section, "N" represents a nil UUID and other
   letters represent the unique UUID values corresponding to endpoints
   or MCUs.













<span class="grey">Jones, et al.                Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.1.%20%20Basic%20Call%20with%20Two%20UUIDs"></a><a class="selflink" href="#section-10.1" name="section-10.1">10.1</a>.  Basic Call with Two UUIDs</span>

   Session-ID
     ---     Alice            B2BUA             Bob            Carol
    {A,N}      |---INVITE F1---&gt;|                |
    {A,N}      |                |---INVITE F2---&gt;|
    {B,A}      |                |&lt;---200 OK F3---|
    {B,A}      |&lt;---200 OK F4---|                |
    {A,B}      |-----ACK F5----&gt;|                |
    {A,B}      |                |-----ACK F6----&gt;|
               |&lt;==============RTP==============&gt;|

            Figure 1: Session-ID Creation When Alice Calls Bob

   General operation of this example:

   o  UA-Alice populates the "local-uuid" portion of the Session-ID
      header field value.

   o  UA-Alice sends its UUID in the SIP INVITE request and populates
      the "remote" parameter with a nil value (32 zeros).

   o  The B2BUA receives an INVITE request with both a "local-uuid"
      portion of the Session-ID header field value from UA-Alice as well
      as the nil "remote-uuid" value and transmits the INVITE request
      towards UA-Bob with an unchanged Session-ID header field value.

   o  UA-Bob receives the Session-ID and generates its "local-uuid"
      portion of the Session-ID header field value UUID to construct the
      whole/complete Session-ID header field value, at the same time
      transferring UA-Alice's UUID unchanged to the "remote-uuid"
      portion of the Session-ID header field value in the 200 OK SIP
      response.

   o  The B2BUA receives the 200 OK response with a complete Session-ID
      header field value from UA-Bob and transmits the 200 OK response
      towards UA-Alice with an unchanged Session-ID header field value.

   o  UA-Alice, upon reception of the 200 OK from the B2BUA, transmits
      the ACK towards the B2BUA.  The construction of the Session-ID
      header field in this ACK is that of UA-Alice's UUID is the "local-
      uuid", and UA-Bob's UUID populates the "remote-uuid" portion of
      the header-value.

   o  The B2BUA receives the ACK with a complete Session-ID header field
      from UA-Alice and transmits the ACK towards UA-Bob with an
      unchanged Session-ID header field value.




<span class="grey">Jones, et al.                Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   Below is a SIP message exchange illustrating proper use of the
   Session-ID header field.  For the sake of brevity, non-essential
   headers and message bodies are omitted.


   F1 INVITE Alice -&gt; B2BUA

   INVITE sip:bob@biloxi.example.com SIP/2.0
   Via: SIP/2.0/UDP pc33.atlanta.example.com
    ;branch=z9hG4bK776asdhds
   Max-Forwards: 70
   To: Bob &lt;sip:bob@biloxi.example.com&gt;
   From: Alice &lt;sip:alice@atlanta.example.com&gt;;tag=1928301774
   Call-ID: a84b4c76e66710@pc33.atlanta.example.com
   Session-ID: ab30317f1a784dc48ff824d0d3715d86
    ;remote=00000000000000000000000000000000
   CSeq: 314159 INVITE
   Contact: &lt;sip:alice@pc33.atlanta.example.com&gt;
   Content-Type: application/sdp
   Content-Length: 142

   (Alice's SDP not shown)





























<span class="grey">Jones, et al.                Standards Track                   [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   F2 INVITE B2BUA -&gt; Bob

   INVITE sip:bob@192.168.10.20 SIP/2.0
   Via: SIP/2.0/UDP server10.biloxi.example.com
    ;branch=z9hG4bK4b43c2ff8.1
   Via: SIP/2.0/UDP pc33.atlanta.example.com
    ;branch=z9hG4bK776asdhds;received=10.1.3.33
   Max-Forwards: 69
   To: Bob &lt;sip:bob@biloxi.example.com&gt;
   From: Alice &lt;sip:alice@atlanta.example.com&gt;;tag=1928301774
   Call-ID: a84b4c76e66710@pc33.atlanta.example.com
   Session-ID: ab30317f1a784dc48ff824d0d3715d86
    ;remote=00000000000000000000000000000000
   CSeq: 314159 INVITE
   Contact: &lt;sip:alice@pc33.atlanta.example.com&gt;
   Record-Route: &lt;sip:server10.biloxi.example.com;lr&gt;
   Content-Type: application/sdp
   Content-Length: 142

   (Alice's SDP not shown)


   F3 200 OK Bob -&gt; B2BUA

   SIP/2.0 200 OK
   Via: SIP/2.0/UDP server10.biloxi.example.com
    ;branch=z9hG4bK4b43c2ff8.1;received=192.168.10.1
   Via: SIP/2.0/UDP pc33.atlanta.example.com
    ;branch=z9hG4bK776asdhds;received=10.1.3.33
   To: Bob &lt;sip:bob@biloxi.example.com&gt;;tag=a6c85cf
   From: Alice &lt;sip:alice@atlanta.example.com&gt;;tag=1928301774
   Call-ID: a84b4c76e66710@pc33.atlanta.example.com
   Session-ID: 47755a9de7794ba387653f2099600ef2
    ;remote=ab30317f1a784dc48ff824d0d3715d86
   CSeq: 314159 INVITE
   Contact: &lt;sip:bob@192.168.10.20&gt;
   Record-Route: &lt;sip:server10.biloxi.example.com;lr&gt;
   Content-Type: application/sdp
   Content-Length: 131

   (Bob's SDP not shown)










<span class="grey">Jones, et al.                Standards Track                   [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   F4 200 OK B2BUA -&gt; Alice

   SIP/2.0 200 OK
   Via: SIP/2.0/UDP pc33.atlanta.example.com
    ;branch=z9hG4bK776asdhds;received=10.1.3.33
   To: Bob &lt;sip:bob@biloxi.example.com&gt;;tag=a6c85cf
   From: Alice &lt;sip:alice@atlanta.example.com&gt;;tag=1928301774
   Call-ID: a84b4c76e66710@pc33.atlanta.example.com
   Session-ID: 47755a9de7794ba387653f2099600ef2
    ;remote=ab30317f1a784dc48ff824d0d3715d86
   CSeq: 314159 INVITE
   Contact: &lt;sip:bob@192.168.10.20&gt;
   Record-Route: &lt;sip:server10.biloxi.example.com;lr&gt;
   Content-Type: application/sdp
   Content-Length: 131

   (Bob's SDP not shown)


   F5 ACK Alice -&gt; B2BUA

   ACK sip:bob@192.168.10.20 SIP/2.0
   Via: SIP/2.0/UDP pc33.atlanta.example.com
    ;branch=z9hG4bKnashds8
   Route: &lt;sip:server10.biloxi.example.com;lr&gt;
   Max-Forwards: 70
   To: Bob &lt;sip:bob@biloxi.example.com&gt;;tag=a6c85cf
   From: Alice &lt;sip:alice@atlanta.example.com&gt;;tag=1928301774
   Call-ID: a84b4c76e66710@pc33.atlanta.example.com
   Session-ID: ab30317f1a784dc48ff824d0d3715d86
    ;remote=47755a9de7794ba387653f2099600ef2
   CSeq: 314159 ACK
   Content-Length: 0


















<span class="grey">Jones, et al.                Standards Track                   [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   F6 ACK B2BUA -&gt; Bob

   ACK sip:bob@192.168.10.20 SIP/2.0
   Via: SIP/2.0/UDP server10.biloxi.example.com
    ;branch=z9hG4bK4b43c2ff8.2
   Via: SIP/2.0/UDP pc33.atlanta.example.com
    ;branch=z9hG4bKnashds8;received=10.1.3.33
   Max-Forwards: 70
   To: Bob &lt;sip:bob@biloxi.example.com&gt;;tag=a6c85cf
   From: Alice &lt;sip:alice@atlanta.example.com&gt;;tag=1928301774
   Call-ID: a84b4c76e66710@pc33.atlanta.example.com
   Session-ID: ab30317f1a784dc48ff824d0d3715d86
    ;remote=47755a9de7794ba387653f2099600ef2
   CSeq: 314159 ACK
   Content-Length: 0


   The remaining examples in this section do not display the complete
   SIP message exchange.  Instead, they simply use the set notation
   described in <a href="#section-4.2">Section 4.2</a> to show the session identifier exchange
   throughout the particular call flow being illustrated.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.2.%20%20Basic%20Call%20Transfer%20Using%20REFER"></a><a class="selflink" href="#section-10.2" name="section-10.2">10.2</a>.  Basic Call Transfer Using REFER</span>

   From the example built within <a href="#section-10.1">Section 10.1</a>, we proceed to this 'Basic
   Call Transfer using REFER' example.  Note that this is a mid-dialog
   REFER in contrast with the out-of-dialog REFER in <a href="#section-10.9">Section 10.9</a>.
























<span class="grey">Jones, et al.                Standards Track                   [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      Session-ID
         ---     Alice            B2BUA             Bob            Carol
                   |                |                |               |
                   |&lt;==============RTP==============&gt;|               |
        {B,A}      |                |&lt;---re-INVITE---|               |
        {B,A}      |&lt;---re-INVITE---| (puts Alice on Hold)           |
        {A,B}      |-----200 OK----&gt;|                |               |
        {A,B}      |                |-----200 OK----&gt;|               |
        {B,A}      |                |&lt;-----ACK-------|               |
        {B,A}      |&lt;-----ACK-------|                |               |
                   |                |                |               |
        {B,A}      |                |&lt;----REFER------|               |
        {B,A}      |&lt;----REFER------|                |               |
        {A,B}      |-----200 OK----&gt;|                |               |
        {A,B}      |                |-----200 OK----&gt;|               |
        {A,B}      |-----NOTIFY----&gt;|                |               |
        {A,B}      |                |-----NOTIFY----&gt;|               |
        {B,A}      |                |&lt;----200 OK-----|               |
        {B,A}      |&lt;----200 OK-----|                |               |
                   |                |                |               |
        {A,N}      |-----INVITE----&gt;|                                |
        {A,N}      |                |-----INVITE--------------------&gt;|
        {C,A}      |                |&lt;----200 OK---------------------|
        {C,A}      |&lt;----200 OK-----|                                |
        {A,C}      |------ACK------&gt;|                                |
        {A,C}      |                |------ACK----------------------&gt;|
                   |                |                |               |
                   |&lt;======================RTP======================&gt;|
                   |                |                |               |
        {A,B}      |-----NOTIFY----&gt;|                |               |
        {A,B}      |                |-----NOTIFY----&gt;|               |
        {B,A}      |                |&lt;----200 OK-----|               |
        {B,A}      |&lt;----200 OK-----|                |               |
        {B,A}      |                |&lt;-----BYE-------|               |
        {B,A}      |&lt;-----BYE-------|                |               |
        {A,B}      |-----200 OK----&gt;|                |               |
        {A,B}      |                |-----200 OK----&gt;|               |
                   |                |                |               |

                    Figure 2: Call Transfer Using REFER











<span class="grey">Jones, et al.                Standards Track                   [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   General operation of this example:

   Starting from the existing Alice/Bob call described in Figure 1 of
   this document, which established an existing Session-ID header field
   value:

   o  UA-Bob requests Alice to call Carol, using a REFER transaction, as
      described in [<a href="rfc3515.html" title='"The Session Initiation Protocol (SIP) Refer Method"'>RFC3515</a>].  UA-Alice is initially put on hold, then
      told in the REFER who to contact with a new INVITE, in this case
      UA-Carol.  This Alice-to-Carol dialog will have a new Call-ID;
      therefore, it requires a new Session-ID header field value.  The
      wrinkle here is we can, and will, use Alice's UUID from her
      existing dialog with Bob in the new INVITE request to Carol.

   o  UA-Alice retains her UUID from the Alice-to-Bob call {A} when
      requesting a call with UA-Carol.  This is placed in the "local-
      uuid" portion of the Session-ID header field value, at the same
      time inserting a nil "remote-uuid" value (because Carol's UA has
      not yet received the UUID value).  This same UUID traverses the
      B2BUA unchanged.

   o  UA-Carol receives the INVITE request with a session identifier
      UUID {A,N}, replaces the "A" UUID value into the "remote-uuid"
      portion of the Session-ID header field value and creates its own
      UUID {C}, and places this value in the "local-uuid" portion of the
      Session-ID header field value, thereby removing the "N" (nil)
      value altogether.  This combination forms a full session
      identifier {C,A} in the 200 OK to the INVITE.  This Session-ID
      header field traverses the B2BUA unchanged towards UA-Alice.

   o  UA-Alice receives the 200 OK with the session identifier {C,A} and
      responds to UA-Carol with an ACK (just as in Figure 1, this
      switches the places of the two UUID fields), and generates a
      NOTIFY request to Bob with a session identifier {A,B} indicating
      that the call transfer was successful.

   o  It does not matter which UA terminates the Alice-to-Bob call;
      Figure 2 shows UA-Bob terminating the call.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.3.%20%20Basic%20Call%20Transfer%20Using%20Re-INVITE"></a><a class="selflink" href="#section-10.3" name="section-10.3">10.3</a>.  Basic Call Transfer Using Re-INVITE</span>

   From the example built within <a href="#section-10.1">Section 10.1</a>, we proceed to this 'Basic
   Call Transfer using re-INVITE' example.

   Alice is talking to Bob.  Bob pushes a button on his phone to
   transfer Alice to Carol via the B2BUA (using re-INVITE).





<span class="grey">Jones, et al.                Standards Track                   [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      Session-ID
         ---     Alice            B2BUA             Bob            Carol
                   |                |                |               |
                   |&lt;==============RTP==============&gt;|               |
                   |                |                |               |
                   |                | &lt;--- (non-standard signaling)  |
        {A,B}      |                |---re-INVITE---&gt;|               |
        {B,A}      |                |&lt;-----200 OK----|               |
        {A,B}      |                |-----ACK-------&gt;|               |
                   |                |                |               |
        {A,N}      |                |-----INVITE--------------------&gt;|
        {C,A}      |                |&lt;----200 OK---------------------|
        {A,C}      |                |------ACK----------------------&gt;|
                   |                |                |               |
                   |&lt;======================RTP======================&gt;|
                   |                |                |               |
        {A,B}      |                |------BYE------&gt;|               |
        {B,A}      |                |&lt;----200 OK-----|               |
                   |                |                |               |
        {C,A}      |&lt;--re-INVITE----|                |               |
        {A,C}      |----200 OK-----&gt;|                |               |
        {C,A}      |&lt;-----ACK-------|                |               |
                   | (Suppose Alice modifies the session)            |
        {A,C}      |---re-INVITE---&gt;|                |               |
        {A,C}      |                |---re-INVITE-------------------&gt;|
        {C,A}      |                |&lt;---200 OK----------------------|
        {C,A}      |&lt;---200 OK------|                |               |
        {A,C}      |------ACK------&gt;|                |               |
        {A,C}      |                |------ACK----------------------&gt;|
                   |                |                |               |

                  Figure 3: Call Transfer Using Re-INVITE

   General operation of this example:

   o  We assume the call between Alice and Bob from <a href="#section-10.1">Section 10.1</a> is
      operational with session identifier {A,B}.

   o  Bob uses non-standard signaling to the B2BUA to initiate a call
      transfer from Alice to Carol.  This could also be initiated via a
      REFER message from Bob, but the signaling that follows might still
      be similar to the above flow.  In either case, Alice is completely
      unaware of the call transfer until a future point in time when
      Alice receives a message from Carol.

   o  The B2BUA sends a re-INVITE request with the session identifier
      {"local-uuid" = "A", "remote-uuid" = "B"} to renegotiate the
      session with Bob.



<span class="grey">Jones, et al.                Standards Track                   [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   o  The B2BUA sends a new INVITE request with Alice's UUID {"local-
      uuid" = "A"} to Carol.

   o  Carol receives the INVITE request and accepts the request and adds
      her UUID {C} to the session identifier for this session {"local-
      uuid" = "C", "remote-uuid" = "A"}.

   o  The B2BUA then terminates the call to Bob with a BYE using the
      session identifier {"local-uuid" = "A", "remote-uuid" = "B"}.

   o  The B2BUA sends a re-INVITE request to Alice to update Alice's
      view of the session identifier.

   o  When Alice later attempts to modify the session with a re-INVITE,
      Alice will send "remote-uuid" = "C" toward Carol because it had
      previously received the updated UUID in the re-INVITE request from
      the B2BUA.  The B2BUA maintains the session identifier {"local-
      uuid" = "A", "remote-uuid" = "C"}.  Carol replies with the "local-
      uuid" = "C", "remote-uuid" = "A" to reflect what was received in
      the INVITE request (which Carol already knew from previous
      exchanges with the B2BUA).  Alice then includes "remote-uuid" =
      "C" in the subsequent ACK message.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.4.%20%20Single%20Focus%20Conferencing"></a><a class="selflink" href="#section-10.4" name="section-10.4">10.4</a>.  Single Focus Conferencing</span>

   Multiple users call into a conference server (for example, an MCU) to
   attend one of many conferences hosted on or managed by that server.
   Each user has to identify which conference they want to join, but
   this information is not necessarily in the SIP messaging.  It might
   be done by having a dedicated address for the conference or via an
   Interactive Voice Response (IVR), as assumed in this example and
   depicted with the use of M1, M2, and M3.  Each user in this example
   goes through a two-step process of signaling to gain entry onto their
   conference call, which the conference focus identifies as "M".

















<span class="grey">Jones, et al.                Standards Track                   [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      Session-ID                Conference
         ---     Alice            Focus             Bob            Carol
                   |                |                |               |
                   |                |                |               |
        {A,N}      |----INVITE-----&gt;|                |               |
        {M1,A}     |&lt;---200 OK------|                |               |
        {A,M1}     |-----ACK-------&gt;|                |               |
                   |&lt;====RTP=======&gt;|                |               |
        {M',A}     |&lt;---re-INVITE---|                |               |
        {A,M'}     |-----200 OK----&gt;|                |               |
        {M',A}     |&lt;-----ACK-------|                |               |
                   |                |                |               |
                   |                |                |               |
        {B,N}      |                |&lt;----INVITE-----|               |
        {M2,B}     |                |-----200 OK----&gt;|               |
        {B,M2}     |                |&lt;-----ACK-------|               |
                   |                |&lt;=====RTP======&gt;|               |
        {M',B}     |                |---re-INVITE---&gt;|               |
        {B,M'}     |                |&lt;----200 OK-----|               |
        {M',B}     |                |------ACK------&gt;|               |
                   |                |                |               |
                   |                |                |               |
        {C,N}      |                |&lt;--------------------INVITE-----|
        {M3,C}     |                |---------------------200 OK----&gt;|
        {C,M3}     |                |&lt;---------------------ACK-------|
                   |                |&lt;=====================RTP======&gt;|
        {M',C}     |                |-------------------re-INVITE---&gt;|
        {C,M'}     |                |&lt;--------------------200 OK-----|
        {M',C}     |                |----------------------ACK------&gt;|

                 Figure 4: Single Focus Conference Bridge

   General operation of this example:

   Alice calls into a conference server to attend a certain conference.
   This is a two-step operation since Alice cannot include the
   conference ID at this time and/or any passcode in the INVITE request.
   The first step is Alice's UA calling another UA to participate in a
   session.  This will appear to be similar as the call flow in Figure 1
   (in <a href="#section-10.1">Section 10.1</a>).  What is unique about this call is the second
   step: the conference server sends a re-INVITE request with its second
   UUID, but maintaining the UUID Alice sent in the first INVITE.  This
   subsequent UUID from the conference server will be the same for each
   UA that calls into this conference server participating in this same
   conference bridge/call, which is generated once Alice typically
   authenticates and identifies which bridge she wants to participate
   on.




<span class="grey">Jones, et al.                Standards Track                   [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   o  Alice sends an INVITE request to the conference server with her
      UUID {A} and a "remote-uuid" = "N".

   o  The conference server responds with a 200 OK response, which
      replaces the "N" UUID with a temporary UUID ("M1") as the "local-
      uuid" and a "remote-uuid" = "A".

   NOTE: this 'temporary' UUID is a real UUID; it is only temporary to
   the conference server because it knows that it is going to generate
   another UUID to replace the one just sent in the 200 OK response.

   o  Once Alice, the user, gains access to the IVR for this conference
      server, she enters a specific conference ID and whatever passcode
      (if needed) to enter a specific conference call.

   o  Once the conference server is satisfied Alice has identified which
      conference she wants to attend (including any passcode
      verification), the conference server re-INVITEs Alice to the
      specific conference and includes the Session-ID header field value
      component "local-uuid" = "M'" (and "remote-uuid" = "A") for that
      conference.  All valid participants in the same conference will
      receive this same UUID for identification purposes and to better
      enable monitoring and tracking functions.

   o  Bob goes through this two-step process of an INVITE transaction,
      followed by a re-INVITE transaction to get this same UUID ("M'")
      for the conference.

   o  In this example, Carol (and each additional user) goes through the
      same procedures as Alice and Bob to get on this same conference.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.5.%20%20Single%20Focus%20Conferencing%20Using%20a%20Web-Based%20Conference%20Service"></a><a class="selflink" href="#section-10.5" name="section-10.5">10.5</a>.  Single Focus Conferencing Using a Web-Based Conference Service</span>

   Alice, Bob, and Carol call into the same web-based conference.  Note
   that this is one of many ways of implementing this functionality, and
   it should not be construed as the preferred way of establishing a
   web-based conference.














<span class="grey">Jones, et al.                Standards Track                   [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      Session-ID                Conference
         ---     Alice            Focus             Bob            Carol
                   |                |                |               |
                   |&lt;** HTTPS *****&gt;|                |               |
                   |  Transaction   |                |               |
                   |                |                |               |
        {M,N}      |&lt;----INVITE-----|                |               |
        {A,M}      |-----200 OK----&gt;|                |               |
        {M,A}      |&lt;-----ACK-------|                |               |
                   |&lt;=====RTP======&gt;|                |               |
                   |                |                |               |
                   |                |&lt;** HTTPS *****&gt;|               |
                   |                |  Transaction   |               |
                   |                |                |               |
        {M,N}      |                |-----INVITE----&gt;|               |
        {B,M}      |                |&lt;----200 OK-----|               |
        {M,B}      |                |------ACK------&gt;|               |
                   |                |&lt;=====RTP======&gt;|               |
                   |                |                |               |
                   |                |&lt;****************** HTTPS *****&gt;|
                   |                |                   Transaction  |
                   |                |                |               |
        {M,N}      |                |--------------------INVITE-----&gt;|
        {C,M}      |                |&lt;-------------------200 OK------|
        {M,C}      |                |---------------------ACK-------&gt;|
                   |                |&lt;====================RTP=======&gt;|

                Figure 5: Single Focus Web-Based Conference

   General operation of this example:

   o  Alice communicates with the web server that she wants to join a
      certain meeting by using a meeting number and including UA-Alice's
      contact information (phone number, URI, and/or IP address, etc.)
      for each device she wants for this conference call.  For example,
      the audio and video (A/V) play-out devices could be separate
      units.

   o  The Conference Focus server sends the INVITE request (Session-ID
      header field value components "local-uuid" = "M" and a remote UUID
      of "N", where "M" equals the "local-uuid" for each participant on
      this conference bridge) to UA-Alice to start a session with that
      server for this A/V conference call.








<span class="grey">Jones, et al.                Standards Track                   [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   o  Upon receiving the INVITE request from the conference focus
      server, Alice responds with a 200 OK.  Her UA moves the "local-
      uuid" unchanged into the "remote-uuid" field, generates her own
      UUID, and places that into the "local-uuid" field to complete the
      Session-ID construction.

   o  Bob and Carol perform same function to join this same A/V
      conference call as Alice.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.6.%20%20Cascading%20Conference%20Bridges"></a><a class="selflink" href="#section-10.6" name="section-10.6">10.6</a>.  Cascading Conference Bridges</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/10.6.1.%20%20Establishing%20a%20Cascaded%20Conference"></a><a class="selflink" href="#section-10.6.1" name="section-10.6.1">10.6.1</a>.  Establishing a Cascaded Conference</span>

   Expanding conferencing capabilities requires cascading conference
   bridges.  A conference bridge, or MCU, needs a way to identify itself
   when contacting another MCU.  [<a href="rfc4579.html" title='"Session Initiation Protocol (SIP) Call Control - Conferencing for User Agents"'>RFC4579</a>] defines the "isfocus" Contact
   header field value parameter just for this purpose.


      Session-ID
         ---     MCU-1            MCU-2            MCU-3           MCU-4
                   |                |                |               |
        {M',N}     |----INVITE-----&gt;|                |               |
        {J,M'}     |&lt;---200 OK------|                |               |
        {M',J}     |-----ACK-------&gt;|                |               |

      Figure 6: MCUs Communicating Session Identifier UUID for Bridge

   Regardless of which MCU (1 or 2) a UA contacts for this conference,
   once the above exchange has been received and acknowledged, the UA
   will get the same {M',N} UUID pair from the MCU for the complete
   session identifier.

   A more complex form would be a series of MCUs all being informed of
   the same UUID to use for a specific conference.  This series of MCUs
   can be informed in one of two ways:

   o  All by one MCU (that initially generates the UUID for the
      conference).

   o  The MCU that generates the UUID informs one or several MCUs of
      this common UUID, and then they inform downstream MCUs of this
      common UUID that each will be using for this one conference.








<span class="grey">Jones, et al.                Standards Track                   [Page 30]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      Session-ID
         ---     MCU-1            MCU-2            MCU-3           MCU-4
                   |                |                |               |
        {M',N}     |----INVITE-----&gt;|                |               |
        {J,M'}     |&lt;---200 OK------|                |               |
        {M',J}     |-----ACK-------&gt;|                |               |
                   |                |                |               |
        {M',N}     |---------------------INVITE-----&gt;|               |
        {K,M'}     |&lt;--------------------200 OK------|               |
        {M',K}     |----------------------ACK-------&gt;|               |
                   |                |                |               |
        {M',N}     |-------------------------------------INVITE-----&gt;|
        {L,M'}     |&lt;------------------------------------200 OK------|
        {M',L}     |--------------------------------------ACK-------&gt;|

                        Figure 7: MCU Communicating
               Session Identifier UUID to More Than One MCU

   General operation of this example:

   o  The MCU generating the session identifier UUID communicates this
      in a separate INVITE, having a Contact header with the "isfocus"
      Contact header field value parameter.  This will identify the MCU
      as what [<a href="rfc4579.html" title='"Session Initiation Protocol (SIP) Call Control - Conferencing for User Agents"'>RFC4579</a>] calls a "conference-aware" SIP entity.

   o  An MCU that receives this {M',N} UUID pair in an inter-MCU
      transaction can communicate the M' UUID in a manner in which it
      was received to construct a hierarchical cascade (though this time
      this second MCU would be the UAC MCU).

   o  Once the conference is terminated, the cascaded MCUs will receive
      a BYE message to terminate the cascade.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/10.6.2.%20%20Calling%20Into%20Cascaded%20Conference%20Bridges"></a><a class="selflink" href="#section-10.6.2" name="section-10.6.2">10.6.2</a>.  Calling Into Cascaded Conference Bridges</span>

   Here is an example of how a UA, Robert for example, calls into a
   cascaded conference focus.  Because MCU-1 has already contacted MCU-3
   (the MCU where Robert is going to join the conference), MCU-3 already
   has the Session-ID (M') for this particular conference call.












<span class="grey">Jones, et al.                Standards Track                   [Page 31]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-32" id="page-32" name="page-32"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      Session-ID
         ---     MCU-1            MCU-2            MCU-3          Robert
                   |                |                |               |
        {M',N}     |----INVITE-----&gt;|                |               |
        {J,M'}     |&lt;---200 OK------|                |               |
        {M',J}     |-----ACK-------&gt;|                |               |
                   |                |                |               |
        {M',N}     |---------------------INVITE-----&gt;|               |
        {K,M'}     |&lt;--------------------200 OK------|               |
        {M',K}     |----------------------ACK-------&gt;|               |
                   |                |                |               |
        {R,N}      |                |                |&lt;---INVITE-----|
        (M',R}     |                |                |----200 OK----&gt;|
        {R,M'}     |                |                |&lt;----ACK-------|

              Figure 8: A UA Calling Into a Cascaded MCU UUID

   General operation of this example:

   o  The UA, Robert in this case, INVITEs the MCU to join a particular
      conference call.  Robert's UA does not know anything about whether
      this is the main MCU of the conference call or a cascaded MCU.
      Robert likely does not know MCUs can be cascaded, he just wants to
      join a particular call.  As is the case with any standard
      implementation, he includes a nil "remote-uuid".

   o  The cascaded MCU, upon receiving this INVITE request from Robert,
      replaces the nil UUID with the UUID value communicated from MCU-1
      for this conference call as the "local-uuid" in the SIP response,
      thus moving Robert's UUID "R" to the "remote-uuid" value.

   o  The ACK has the Session-ID {R,M'}, completing the three-way
      handshake for this call establishment.  Robert has now joined the
      conference call originated from MCU-1.

   o  Once the conference is terminated, the cascaded MCUs will receive
      a BYE message to terminate the cascade.














<span class="grey">Jones, et al.                Standards Track                   [Page 32]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-33" id="page-33" name="page-33"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.7.%20%20Basic%203PCC%20for%20Two%20UAs"></a><a class="selflink" href="#section-10.7" name="section-10.7">10.7</a>.  Basic 3PCC for Two UAs</span>

   An external entity sets up calls to both Alice and Bob for them to
   talk to each other.

      Session-ID
         ---     Alice            B2BUA             Bob            Carol
                   |                |                |
        {X,N}      |&lt;----INVITE-----|                |
        {A,X}      |-----200 OK----&gt;|                |
        {A,N}      |                |----INVITE-----&gt;|
        {B,A}      |                |&lt;---200 OK------|
        {B,A}      |&lt;-----ACK-------|                |
        {A,B}      |                |------ACK------&gt;|
                   |&lt;==============RTP==============&gt;|

            Figure 9: 3PCC-Initiated Call between Alice and Bob

   General operation of this example:

   o  Some out-of-band procedure directs a B2BUA (or other SIP server)
      to have Alice and Bob talk to each other.  In this case, the SIP
      server has to be transaction stateful, if not dialog stateful.

   o  The SIP server INVITEs Alice to a session and uses a temporary
      UUID {X} and a nil UUID pairing.

   o  Alice receives and accepts this call setup and replaces the nil
      UUID with her UUID {A} in the session identifier, now {A,X}.

   o  The transaction-stateful SIP server receives Alice's UUID {A} in
      the local UUID portion and keeps it there; and it discards its own
      UUID {X}, replacing this with a nil UUID value in the INVITE
      request to Bob as if this came from Alice originally.

   o  Bob receives and accepts this INVITE request and adds his own UUID
      {B} to the session identifier, now {B,A}, for the response.

   o  The session is established.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.8.%20%20Handling%20in%20100%20Trying%20SIP%20Response%20and%20CANCEL%20Request"></a><a class="selflink" href="#section-10.8" name="section-10.8">10.8</a>.  Handling in 100 Trying SIP Response and CANCEL Request</span>

   The following two subsections show examples of the session identifier
   for a 100 Trying response and a CANCEL request in a single call flow.







<span class="grey">Jones, et al.                Standards Track                   [Page 33]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-34" id="page-34" name="page-34"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/10.8.1.%20%20Handling%20in%20a%20100%20Trying%20SIP%20Response"></a><a class="selflink" href="#section-10.8.1" name="section-10.8.1">10.8.1</a>.  Handling in a 100 Trying SIP Response</span>

   The following 100 Trying response is taken from <a href="rfc5359.html#section-2.9">[RFC5359],
   Section 2.9</a> ("Call Forwarding - No Answer").

    Session-ID   Alice         SIP Server        Bob-1            Bob-2
                   |                |              |                |
      {A,N}        |----INVITE-----&gt;|              |                |
      {A,N}        |                |---INVITE----&gt;|                |
      {N,A}        |&lt;--100 Trying---|              |                |
      {B1,A}       |                |&lt;-180 Ringing-|                |
      {B1,A}       |&lt;--180 Ringing--|              |                |
                   |                |              |                |
                   |                *Request Timeout*               |
                   |                |              |                |
      {A,N}        |                |---CANCEL----&gt;|                |
      {B1,A}       |                |&lt;--200 OK-----|                |
      {B1,A}       |                |&lt;---487-------|                |
      {A,B1}       |                |---- ACK ----&gt;|                |
                   |                |              |                |
      {N,A}        |&lt;-181 Call Fwd--|              |                |
                   |                |              |                |
      {A,N}        |                |------------------INVITE------&gt;|
      {B2,A}       |                |&lt;----------------180 Ringing---|
      {B2,A}       |&lt;-180 Ringing---|              |                |
      {B2,A}       |                |&lt;-----------------200 OK ------|
      {B2,A}       |&lt;--200 OK-------|              |                |
      {A,B2}       |----ACK--------&gt;|              |                |
      {A,B2}       |                |------------------ACK---------&gt;|
                   |                |              |                |
                   |&lt;=========== Both way RTP Established =========&gt;|
                   |                |              |                |
      {A,B2}       |----BYE--------&gt;|              |                |
      {A,B2}       |                |--------------------BYE-------&gt;|
      {B2,A}       |                |&lt;------------------200 OK------|
      {B2,A}       |&lt;--200 OK-------|              |                |
                   |                |              |                |

   Figure 10: Session Identifier in the 100 Trying and CANCEL Messaging

   Below is the explanatory text from <a href="rfc5359.html#section-2.9">RFC 5359, Section 2.9</a>, detailing
   what the desired behavior is in the above call flow (i.e., what the
   call flow is attempting to achieve).

      Bob wants calls to B1 forwarded to B2 if B1 is not answered
      (information is known to the SIP server).  Alice calls B1, and no
      one answers.  The SIP server then places the call to B2.




<span class="grey">Jones, et al.                Standards Track                   [Page 34]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-35" id="page-35" name="page-35"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   General operation of this example:

   o  Alice generates an INVITE request because she wants to invite Bob
      to join her session.  She creates a UUID as described in
      <a href="#section-10.1">Section 10.1</a>, and she places that value in the "local-uuid" field
      of the Session-ID header field value.  Alice also generates a
      "remote-uuid" of nil and sends this along with the "local-uuid".

   o  The SIP server (imagine this is a B2BUA), upon receiving Alice's
      INVITE request, generates the optional provisional response 100
      Trying.  Since the SIP server has no knowledge of Bob's UUID for
      his part of the session identifier value, it cannot include his
      "local-uuid".  Rather, any 100 Trying response includes Alice's
      UUID in the "remote-uuid" portion of the Session-ID header-value
      with a nil "local-uuid" value in the response.  This is consistent
      with what Alice's UA expects to receive in any SIP response
      containing this UUID.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/10.8.2.%20%20Handling%20a%20CANCEL%20SIP%20Request"></a><a class="selflink" href="#section-10.8.2" name="section-10.8.2">10.8.2</a>.  Handling a CANCEL SIP Request</span>

   In the same call flow example as the 100 Trying response is a CANCEL
   request.  Please refer to Figure 10 for the CANCEL request example.

   General operation of this example:

   o  In Figure 10 above, Alice generates an INVITE request with her
      UUID value in the Session-ID header field.

   o  Bob-1 responds to this INVITE request with a 180 Ringing.  In that
      response, he includes his UUID in the Session-ID header field
      value (i.e., {B1,A}); thus completing the Session-ID header field
      for this session, even though no final response has been generated
      by any of Bob's UAs.

   o  While this means that if the SIP server were to generate a SIP
      request within this session it could include the complete
      SessionID, the server sends a CANCEL request and a CANCEL request
      always uses the same Session-ID header field as the original
      INVITE request.  Thus, the CANCEL request would have a session
      identifier with the "local-uuid" = "A", and the "remote-uuid" =
      "N".

   o  As it happens with this CANCEL, the SIP server intends to invite
      another UA of Bob's (i.e., B2) for Alice to communicate with.

   o  In this example call flow, taken from <a href="rfc5359.html#section-2.9">RFC 5359, Section 2.9</a>, a 181
      Call is Being Forwarded response is sent to Alice.  Since the SIP
      server generated this SIP request, and has no knowledge of Bob-2's



<span class="grey">Jones, et al.                Standards Track                   [Page 35]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-36" id="page-36" name="page-36"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


      UUID value, it cannot include that value in this 181.  Thus, and
      for the exact reasons the 100 Trying including the session
      identifier value, only Alice's UUID is included in the remote-uuid
      component of the Session-ID header field value, with a nil UUID
      present in the "local-uuid" component.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/10.9.%20%20Out-of-Dialog%20REFER%20Transaction"></a><a class="selflink" href="#section-10.9" name="section-10.9">10.9</a>.  Out-of-Dialog REFER Transaction</span>

   The following call flow was extracted from <a href="rfc5589.html#section-6.1">Section 6.1 of [RFC5589]</a>
   ("Successful Transfer"), with the only changes being the names of the
   UAs to maintain consistency within this document.

         Alice is the transferee
         Bob is the transferer
         and Carol is the transfer-target

     Session-ID     Bob                 Alice                 Carol
                     |                    |                     |
        {A,N}        |&lt;-----INVITE--------|                     |
        {B,A}        |------200 OK-------&gt;|                     |
        {A,B}        |&lt;------ACK----------|                     |
                     |                    |                     |
        {B,A}        |--INVITE {hold}----&gt;|                     |
        {A,B}        |&lt;-200 OK------------|                     |
        {B,A}        |--- ACK -----------&gt;|                     |
                     |                    |                     |
        {B,A}        |--REFER------------&gt;|(Refer-To:Carol)     |
        {A,B}        |&lt;-202 Accepted------|                     |
                     |                    |                     |
        {A,B}        |&lt;NOTIFY {100 Trying}|                     |
        {B,A}        |-200 OK------------&gt;|                     |
                     |                    |                     |
        {A,N}        |                    |--INVITE------------&gt;|
        {C,A}        |                    |&lt;-200 OK-------------|
        {A,C}        |                    |---ACK--------------&gt;|
                     |                    |                     |
        {A,B}        |&lt;--NOTIFY {200 OK}--|                     |
        {B,A}        |---200 OK----------&gt;|                     |
                     |                    |                     |
        {B,A}        |--BYE--------------&gt;|                     |
        {A,B}        |&lt;-200 OK------------|                     |
        {C,A}        |                    |&lt;------------BYE-----|
        {A,C}        |                    |-------------200 OK-&gt;|

                  Figure 11: Out-Of-Dialog Call Transfer






<span class="grey">Jones, et al.                Standards Track                   [Page 36]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-37" id="page-37" name="page-37"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   General operation of this example:

   o  Just as in <a href="#section-10.2">Section 10.2</a>, Figure 2, Alice invites Bob to a session,
      and Bob eventually transfers Alice to communicate with Carol.

   o  What is different about the call flow in Figure 11 is that Bob's
      REFER is not in-dialog.  Even so, this is treated as part of the
      same communication session and, thus, the session identifier in
      those messages is {A,B}.

   o  Alice will use her existing UUID and the nil UUID ({A,N}) in the
      INVITE request towards Carol (who generates UUID "C" for this
      session), thus maintaining the common UUID within the session
      identifier for this new Alice-to-Carol session.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20Compatibility%20with%20a%20Previous%20Implementation"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  Compatibility with a Previous Implementation</span>

   There is a much earlier document that specifies the use of a Session-
   ID header field (namely, [<a href="rfc7329.html" title='"A Session Identifier for the Session Initiation Protocol (SIP)"'>RFC7329</a>]) that we will herewith attempt to
   achieve backwards compatibility.  Neither Session-ID header field has
   any versioning information, so merely adding that this document
   describes "version 2" is insufficient.  This section contains the set
   of rules for compatibility between the two specifications.  Although
   the previous version was never standardized, it has been heavily
   implemented and adopted by other standards development organizations.
   For the purposes of this discussion, we will label the pre-standard
   specification of the Session-ID as the "old" version and this
   specification as the "new" version of the Session-ID.

   The previous (i.e., "old") version only has a single UUID value as a
   Session-ID header field value, but has a generic-parameter value that
   can be of use.

   In order to have an "old" version talk to an "old" version
   implementation, nothing needs to be done as far as the IETF is
   concerned.

   In order to have a "new" version talk to a "new" version
   implementation, both implementations need to follow this document (to
   the letter) and everything should be just fine.











<span class="grey">Jones, et al.                Standards Track                   [Page 37]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-38" id="page-38" name="page-38"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   For this "new" implementation to work with the "old" implementation
   and an "old" implementation to work with "new" implementations, there
   needs to be a set of rules that all "new" implementations MUST follow
   if the "new" implementation will be communicating with devices that
   have implemented the "old" implementation.

   o  Since no option tags or feature tags are to be used for
      distinguishing versions, the presence and order of any "remote-
      uuid" value within the Session-ID header field value is to be used
      to distinguish implementation versions.

   o  If a SIP request has a "remote-uuid" value, this comes from a
      standard implementation, and not a pre-standard one.

   o  If a SIP request has no "remote-uuid" value, this comes from a
      pre-standard implementation, and not a standard one.  In this
      case, one UUID is used to identify this dialog, even if the
      responder is a standard implementor of this specification.

   o  If a SIP response has a non-nil "local-uuid" that is 32 octets
      long and differs from the endpoint's own UUID value, this response
      comes from a standard implementation.

   o  If a SIP response arrives that has the same value of Session-ID
      UUIDs in the same order as was sent, this comes from a pre-
      standard implementation and MUST NOT be discarded even though the
      "remote-uuid" may be nil.  In this case, any new transaction
      within this dialog MUST preserve the order of the two UUIDs within
      all Session-ID header fields, including the ACK, until this dialog
      is terminated.

   o  If a SIP response only contains the "local-uuid" that was sent
      originally, this comes from a pre-standard implementation and MUST
      NOT be discarded for removing the nil "remote-uuid".  In this
      case, all future transactions within this dialog MUST contain only
      the UUID received in the first SIP response.  Any new transaction
      starting a new dialog from the standard Session-ID implementation
      MUST include a "local-uuid" and a nil "remote-uuid", even if that
      new dialog is between the same two UAs.

   o  Standard implementations should not expect pre-standard
      implementations to be consistent in their implementation, even
      within the same dialog.  For example, perhaps the first, third,
      and tenth responses contain a "remote-uuid", but all the others do
      not.  This behavior MUST be allowed by implementations of this
      specification.





<span class="grey">Jones, et al.                Standards Track                   [Page 38]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-39" id="page-39" name="page-39"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   o  The foregoing does not apply to other, presently unknown
      parameters that might be defined in the future.  They are ignored
      for the purposes of interoperability with previous
      implementations.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20Security%20and%20Privacy%20Considerations"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  Security and Privacy Considerations</span>

   The session identifier MUST be constructed in such a way that does
   not convey any user or device information as outlined in <a href="#section-4.1">Section 4.1</a>.
   This ensures that the data contained in the session identifier itself
   does not convey user or device information; however, the session
   identifier may reveal relationships between endpoints that might not
   be revealed by messages without a session identifier.

   <a href="#section-4.2">Section 4.2</a> requires that a UA always generate a new, previously
   unused UUID when transmitting a request to initiate a new session.
   This ensures that two unrelated sessions originating from the same UA
   will never have the same UUID value, thereby removing the ability for
   an attacker to use the session identifier to identify the two
   unrelated sessions as being associated with the same user.

   Because of the inherent property that session identifiers are
   conveyed end-to-end and remain unchanged by a UA for the duration of
   a session, the session identifier could be misused to discover
   relationships between two or more parties when multiple parties are
   involved in the same session such as the case of a redirect,
   transfer, or conference.  For example, suppose that Alice calls Bob
   and Bob, via his PBX (acting as a B2BUA), forwards or transfers the
   call to Carol.  Without use of the session identifier, an
   unauthorized third party that is observing the communications between
   Alice and Bob might not know that Alice is actually communicating
   with Carol.  If Alice, Bob, and Carol include the session identifier
   as a part of the signaling messages, it is possible for the third
   party to observe that the UA associated with Bob changed to some
   other UA.  If the third party also has access to signaling messages
   between Bob and Carol, the third party can then discover that Alice
   is communicating with Carol.  This would be true even if all other
   information relating to the session is changed by the PBX, including
   both signaling information and media address information.  That said,
   the session identifier would not reveal the identity of Alice, Bob,
   or Carol.  It would only reveal the fact that those endpoints were
   associated with the same session.

   This document allows for additional parameters (generic-param) to be
   included in the Session-ID header.  This is done to allow for future
   extensions while preserving backward compatibility with this
   document.  To protect privacy, the data for any generic-param
   included in the Session-ID header value MUST NOT include any user or



<span class="grey">Jones, et al.                Standards Track                   [Page 39]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-40" id="page-40" name="page-40"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   device information.  Additionally, any information conveyed through
   an additional parameter MUST NOT persist beyond the current session,
   and therefore MUST NOT be reused between unrelated sessions.
   Additional parameters MAY be used by future extensions of this
   document to correlate related communication sessions that cannot
   already be correlated by the procedures described in this document as
   long as the requirements regarding privacy and persistence defined
   above are followed.

   An intermediary implementing a privacy service that provides user
   privacy as per <a href="rfc3323.html#section-5.3">Section 5.3 of [RFC3323]</a> MAY choose to consider the
   Session-ID header as being a nonessential informational header with
   the understanding that doing so will impair the ability to use the
   session identifier for troubleshooting purposes.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-13" name="section-13">13</a>.  IANA Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.1.%20%20Registration%20of%20the%20%22Session-ID%22%20Header%20Field"></a><a class="selflink" href="#section-13.1" name="section-13.1">13.1</a>.  Registration of the "Session-ID" Header Field</span>

   The following is the registration for the Session-ID header field to
   the "Header Name" registry at

   &lt;<a href="http://www.iana.org/assignments/sip-parameters">http://www.iana.org/assignments/sip-parameters</a>&gt;:

   RFC number: <a href="rfc7989.html">RFC 7989</a>

   Header name: 'Session-ID'

   Compact form: none

   Note: This document replaces the Session-ID header originally
   registered via [<a href="rfc7329.html" title='"A Session Identifier for the Session Initiation Protocol (SIP)"'>RFC7329</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.2.%20%20Registration%20of%20the%20%22remote%22%20Parameter"></a><a class="selflink" href="#section-13.2" name="section-13.2">13.2</a>.  Registration of the "remote" Parameter</span>

   The following parameter has been added to the "Header Field
   Parameters and Parameter Values" section of the "Session Initiation
   Protocol (SIP) Parameters" registry:

     +--------------+----------------+-------------------+-----------+
     | Header Field | Parameter Name | Predefined Values | Reference |
     +--------------+----------------+-------------------+-----------+
     |  Session-ID  |     remote     |         No        | [<a href="rfc7989.html">RFC7989</a>] |
     +--------------+----------------+-------------------+-----------+







<span class="grey">Jones, et al.                Standards Track                   [Page 40]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-41" id="page-41" name="page-41"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/14.%20%20References"></a><a class="selflink" href="#section-14" name="section-14">14</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/14.1.%20%20Normative%20References"></a><a class="selflink" href="#section-14.1" name="section-14.1">14.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3261" name="ref-RFC3261">RFC3261</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, "SIP: Session Initiation Protocol", <a href="rfc3261.html">RFC 3261</a>,
              DOI 10.17487/RFC3261, June 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3261">http://www.rfc-editor.org/info/rfc3261</a>&gt;.

   [<a id="ref-RFC3515" name="ref-RFC3515">RFC3515</a>]  Sparks, R., "The Session Initiation Protocol (SIP) Refer
              Method", <a href="rfc3515.html">RFC 3515</a>, DOI 10.17487/RFC3515, April 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3515">http://www.rfc-editor.org/info/rfc3515</a>&gt;.

   [<a id="ref-RFC3891" name="ref-RFC3891">RFC3891</a>]  Mahy, R., Biggs, B., and R. Dean, "The Session Initiation
              Protocol (SIP) "Replaces" Header", <a href="rfc3891.html">RFC 3891</a>,
              DOI 10.17487/RFC3891, September 2004,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3891">http://www.rfc-editor.org/info/rfc3891</a>&gt;.

   [<a id="ref-RFC4122" name="ref-RFC4122">RFC4122</a>]  Leach, P., Mealling, M., and R. Salz, "A Universally
              Unique IDentifier (UUID) URN Namespace", <a href="rfc4122.html">RFC 4122</a>,
              DOI 10.17487/RFC4122, July 2005,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4122">http://www.rfc-editor.org/info/rfc4122</a>&gt;.

   [<a id="ref-RFC4579" name="ref-RFC4579">RFC4579</a>]  Johnston, A. and O. Levin, "Session Initiation Protocol
              (SIP) Call Control - Conferencing for User Agents",
              <a href="https://tools.ietf.org/html/bcp119">BCP 119</a>, <a href="rfc4579.html">RFC 4579</a>, DOI 10.17487/RFC4579, August 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4579">http://www.rfc-editor.org/info/rfc4579</a>&gt;.

   [<a id="ref-RFC5234" name="ref-RFC5234">RFC5234</a>]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, <a href="rfc5234.html">RFC 5234</a>,
              DOI 10.17487/RFC5234, January 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5234">http://www.rfc-editor.org/info/rfc5234</a>&gt;.

   [<a id="ref-RFC7206" name="ref-RFC7206">RFC7206</a>]  Jones, P., Salgueiro, G., Polk, J., Liess, L., and H.
              Kaplan, "Requirements for an End-to-End Session
              Identification in IP-Based Multimedia Communication
              Networks", <a href="rfc7206.html">RFC 7206</a>, DOI 10.17487/RFC7206, May 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7206">http://www.rfc-editor.org/info/rfc7206</a>&gt;.







<span class="grey">Jones, et al.                Standards Track                   [Page 41]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-42" id="page-42" name="page-42"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/14.2.%20%20Informative%20References"></a><a class="selflink" href="#section-14.2" name="section-14.2">14.2</a>.  Informative References</span>

   [<a id="ref-H.323" name="ref-H.323">H.323</a>]    International Telecommunications Union, "Packet-based
              multimedia communications systems", ITU-T
              Recommendation H.323, December 2009.

   [<a id="ref-H.460.27" name="ref-H.460.27">H.460.27</a>] International Telecommunications Union, "End-to-End
              Session Identifier for H.323 Systems", ITU-T
              Recommendation H.460.27, November 2015.

   [<a id="ref-RFC2543" name="ref-RFC2543">RFC2543</a>]  Handley, M., Schulzrinne, H., Schooler, E., and J.
              Rosenberg, "SIP: Session Initiation Protocol", <a href="rfc2543.html">RFC 2543</a>,
              DOI 10.17487/RFC2543, March 1999,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2543">http://www.rfc-editor.org/info/rfc2543</a>&gt;.

   [<a id="ref-RFC3323" name="ref-RFC3323">RFC3323</a>]  Peterson, J., "A Privacy Mechanism for the Session
              Initiation Protocol (SIP)", <a href="rfc3323.html">RFC 3323</a>,
              DOI 10.17487/RFC3323, November 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3323">http://www.rfc-editor.org/info/rfc3323</a>&gt;.

   [<a id="ref-RFC3550" name="ref-RFC3550">RFC3550</a>]  Schulzrinne, H., Casner, S., Frederick, R., and V.
              Jacobson, "RTP: A Transport Protocol for Real-Time
              Applications", STD 64, <a href="rfc3550.html">RFC 3550</a>, DOI 10.17487/RFC3550,
              July 2003, &lt;<a href="http://www.rfc-editor.org/info/rfc3550">http://www.rfc-editor.org/info/rfc3550</a>&gt;.

   [<a id="ref-RFC3725" name="ref-RFC3725">RFC3725</a>]  Rosenberg, J., Peterson, J., Schulzrinne, H., and G.
              Camarillo, "Best Current Practices for Third Party Call
              Control (3pcc) in the Session Initiation Protocol (SIP)",
              <a href="https://tools.ietf.org/html/bcp85">BCP 85</a>, <a href="rfc3725.html">RFC 3725</a>, DOI 10.17487/RFC3725, April 2004,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3725">http://www.rfc-editor.org/info/rfc3725</a>&gt;.

   [<a id="ref-RFC4353" name="ref-RFC4353">RFC4353</a>]  Rosenberg, J., "A Framework for Conferencing with the
              Session Initiation Protocol (SIP)", <a href="rfc4353.html">RFC 4353</a>,
              DOI 10.17487/RFC4353, February 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4353">http://www.rfc-editor.org/info/rfc4353</a>&gt;.

   [<a id="ref-RFC5359" name="ref-RFC5359">RFC5359</a>]  Johnston, A., Ed., Sparks, R., Cunningham, C., Donovan,
              S., and K. Summers, "Session Initiation Protocol Service
              Examples", <a href="https://tools.ietf.org/html/bcp144">BCP 144</a>, <a href="rfc5359.html">RFC 5359</a>, DOI 10.17487/RFC5359,
              October 2008, &lt;<a href="http://www.rfc-editor.org/info/rfc5359">http://www.rfc-editor.org/info/rfc5359</a>&gt;.

   [<a id="ref-RFC5589" name="ref-RFC5589">RFC5589</a>]  Sparks, R., Johnston, A., Ed., and D. Petrie, "Session
              Initiation Protocol (SIP) Call Control - Transfer",
              <a href="https://tools.ietf.org/html/bcp149">BCP 149</a>, <a href="rfc5589.html">RFC 5589</a>, DOI 10.17487/RFC5589, June 2009,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5589">http://www.rfc-editor.org/info/rfc5589</a>&gt;.






<span class="grey">Jones, et al.                Standards Track                   [Page 42]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-43" id="page-43" name="page-43"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


   [<a id="ref-RFC6141" name="ref-RFC6141">RFC6141</a>]  Camarillo, G., Ed., Holmberg, C., and Y. Gao, "Re-INVITE
              and Target-Refresh Request Handling in the Session
              Initiation Protocol (SIP)", <a href="rfc6141.html">RFC 6141</a>,
              DOI 10.17487/RFC6141, March 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6141">http://www.rfc-editor.org/info/rfc6141</a>&gt;.

   [<a id="ref-RFC6872" name="ref-RFC6872">RFC6872</a>]  Gurbani, V., Ed., Burger, E., Ed., Anjali, T., Abdelnur,
              H., and O. Festor, "The Common Log Format (CLF) for the
              Session Initiation Protocol (SIP): Framework and
              Information Model", <a href="rfc6872.html">RFC 6872</a>, DOI 10.17487/RFC6872,
              February 2013, &lt;<a href="http://www.rfc-editor.org/info/rfc6872">http://www.rfc-editor.org/info/rfc6872</a>&gt;.

   [<a id="ref-RFC7092" name="ref-RFC7092">RFC7092</a>]  Kaplan, H. and V. Pascual, "A Taxonomy of Session
              Initiation Protocol (SIP) Back-to-Back User Agents",
              <a href="rfc7092.html">RFC 7092</a>, DOI 10.17487/RFC7092, December 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7092">http://www.rfc-editor.org/info/rfc7092</a>&gt;.

   [<a id="ref-RFC7329" name="ref-RFC7329">RFC7329</a>]  Kaplan, H., "A Session Identifier for the Session
              Initiation Protocol (SIP)", <a href="rfc7329.html">RFC 7329</a>,
              DOI 10.17487/RFC7329, August 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7329">http://www.rfc-editor.org/info/rfc7329</a>&gt;.






























<span class="grey">Jones, et al.                Standards Track                   [Page 43]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-44" id="page-44" name="page-44"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


Acknowledgements

   The authors would like to thank Robert Sparks, Hadriel Kaplan,
   Christer Holmberg, Paul Kyzivat, Brett Tate, Keith Drage, Mary
   Barnes, Charles Eckel, Peter Dawes, Andrew Hutton, Arun Arunachalam,
   Adam Gensler, Roland Jesske, and Faisal Siyavudeen for their
   invaluable comments during the development of this document.

Dedication

   This document is dedicated to the memory of James Polk, a long-time
   friend and colleague.  James made important contributions to this
   specification, including being one of its primary editors.  The IETF
   global community mourns his loss, and he will be missed dearly.





































<span class="grey">Jones, et al.                Standards Track                   [Page 44]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-45" id="page-45" name="page-45"> </a>
<span class="grey"><a href="rfc7989.html">RFC 7989</a>                  End-To-End Session ID             October 2016</span>


Authors' Addresses

   Paul E. Jones
   Cisco Systems, Inc.
   7025 Kit Creek Rd.
   Research Triangle Park, NC  27709
   United States of America

   Phone: +1 919 476 2048
   Email: paulej@packetizer.com


   Gonzalo Salgueiro
   Cisco Systems, Inc.
   7025 Kit Creek Rd.
   Research Triangle Park, NC  27709
   United States of America

   Phone: +1 919 392 3266
   Email: gsalguei@cisco.com


   Chris Pearce
   Cisco Systems, Inc.
   2300 East President George Bush Highway
   Richardson, TX  75082
   United States of America

   Phone: +1 972 813 5123
   Email: chrep@cisco.com


   Paul Giralt
   Cisco Systems, Inc.
   7025 Kit Creek Rd.
   Research Triangle Park, NC  27709
   United States of America

   Phone: +1 919 991 5644
   Email: pgiralt@cisco.com











Jones, et al.                Standards Track                   [Page 45]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7989 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:19 GMT --></html>