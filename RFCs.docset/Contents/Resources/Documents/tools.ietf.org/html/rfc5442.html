<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc5442 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.126" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Identifier" content="urn:ietf:rfc:5442" />
<meta name="DC.Description.Abstract" content="This document specifies the architecture for mobile email, as
described by the Open Mobile Alliance (OMA), using Internet Mail
protocols. This architecture was an important consideration for much
of the work of the LEMONADE (Enhancements to Internet email to Support
Diverse Service Environments) working group in the IETF. This document
also describes how the LEMONADE architecture meets OMA's
requirements for their Mobile Email (MEM) service. This memo provides
information for the Internet community." />
<meta name="DC.Creator" content="Parsons, Glenn" />
<meta name="DC.Creator" content="Burger, Eric" />
<meta name="DC.Date.Issued" content="March, 2009" />
<meta name="DC.Title" content="LEMONADE Architecture - Supporting Open Mobile Alliance (OMA) Mobile Email (MEM) Using Internet Mail" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 5442 - LEMONADE Architecture - Supporting Open Mobile Alliance (OMA) Mobile Email (MEM) Using Internet Mail</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgorange"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5442.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5442" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-lemonade-architecture" title="draft-ietf-lemonade-architecture">draft-ietf-lemo...</a>] [<a href='https://datatracker.ietf.org/doc/rfc5442' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5442" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5442" title="Side-by-side diff">Diff2</a>]         </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Network Working Group                                          E. Burger
Request for Comments: 5442                                    Consultant
Category: Informational                                       G. Parsons
                                                         Nortel Networks
                                                              March 2009


    <span class="h1">LEMONADE Architecture - Supporting Open Mobile Alliance (OMA)</span>
                 <span class="h1">Mobile Email (MEM) Using Internet Mail</span>

Status of This Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Abstract

   This document specifies the architecture for mobile email, as
   described by the Open Mobile Alliance (OMA), using Internet Mail
   protocols.  This architecture was an important consideration for much
   of the work of the LEMONADE (Enhancements to Internet email to
   Support Diverse Service Environments) working group in the IETF.
   This document also describes how the LEMONADE architecture meets
   OMA's requirements for their Mobile Email (MEM) service.



<span class="grey">Burger &amp; Parsons             Informational                      [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. OMA Mobile Email (MEM) ..........................................<a href="#page-2">2</a>
      <a href="#section-2.1">2.1</a>. OMA MEM Requirements .......................................<a href="#page-2">2</a>
      <a href="#section-2.2">2.2</a>. OMA MEM Architecture .......................................<a href="#page-3">3</a>
           <a href="#section-2.2.1">2.2.1</a>. OMA MEM Logical Architecture ........................<a href="#page-3">3</a>
           <a href="#section-2.2.2">2.2.2</a>. OMA MEM Deployment Issues ...........................<a href="#page-4">4</a>
      <a href="#section-2.3">2.3</a>. OMA MEM Technical Specification ............................<a href="#page-6">6</a>
   <a href="#section-3">3</a>. IETF LEMONADE Architecture ......................................<a href="#page-6">6</a>
      3.1. Relationship between the OMA MEM and LEMONADE Logical
           Architectures ..............................................<a href="#page-7">7</a>
      3.2. LEMONADE Realization of OMA MEM with
           non-LEMONADE-Compliant Servers .............................<a href="#page-9">9</a>
           3.2.1. LEMONADE Realization of OMA MEM with
                  non-LEMONADE IMAP Servers ...........................<a href="#page-9">9</a>
           3.2.2. LEMONADE Realization of OMA MEM with non-IMAP
                  Servers ............................................<a href="#page-10">10</a>
   <a href="#section-4">4</a>. Filters and Server-to-Client Notifications and LEMONADE ........<a href="#page-11">11</a>
   <a href="#section-5">5</a>. Security Considerations ........................................<a href="#page-13">13</a>
   <a href="#section-6">6</a>. Acknowledgements ...............................................<a href="#page-13">13</a>
   <a href="#section-7">7</a>. Informative References .........................................<a href="#page-13">13</a>

<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   This document describes the architecture of OMA Mobile Email (MEM)
   using Internet Mail protocols defined by the IETF.  The LEMONADE
   working group has enhanced many of these protocols for use in the
   mobile environment.  The LEMONADE profile [<a href="#ref-PROFILE" title="&quot;Internet Email to Support Diverse Service Environments (Lemonade) Profile&quot;">PROFILE</a>] and its revision,
   [<a href="#ref-PROFILE-bis" title="&quot;The Lemonade Profile&quot;">PROFILE-bis</a>], summarize such protocols and protocol use.  This
   document shows how the OMA MEM Requirements document [<a href="#ref-MEM-req" title="&quot;Mobile Email Requirements Document&quot;">MEM-req</a>], OMA
   MEM Architecture [<a href="#ref-MEM-arch" title="&quot;Mobile Email Architecture Document&quot;">MEM-arch</a>], and OMA MEM Technical Specification
   [<a href="#ref-MEM-ts" title="&quot;Mobile Email Technical Specification&quot;">MEM-ts</a>] relate to the work of LEMONADE in the IETF.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  OMA Mobile Email (MEM)</span>

   The OMA Mobile Email (MEM) sub-working group has spent some time
   studying the requirements and architecture of mobile email.  IETF
   LEMONADE has been liaising with them and has based much of its
   Internet Mail enhancements on their input.  This section summarizes
   the output of the OMA.

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a>.  OMA MEM Requirements</span>

   The OMA MEM activity collected a set of use cases and derived
   requirements for a Mobile Email (MEM) enabler.  The OMA MEM
   Requirements document [<a href="#ref-MEM-req" title="&quot;Mobile Email Requirements Document&quot;">MEM-req</a>] summarizes this work.  Some
   requirements relate to email protocols, some involve other OMA



<span class="grey">Burger &amp; Parsons             Informational                      [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


   technologies outside the scope of the IETF, and some relate to
   implementations and normative interoperability statements for clients
   and servers.

<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a>.  OMA MEM Architecture</span>

   This section introduces the OMA MEM Architecture.

<span class="h4"><a class="selflink" name="section-2.2.1" href="#section-2.2.1">2.2.1</a>.  OMA MEM Logical Architecture</span>

   The OMA MEM activity has derived a logical architecture from the
   requirements and use cases described in [<a href="#ref-MEM-req" title="&quot;Mobile Email Requirements Document&quot;">MEM-req</a>].  A simplification
   for illustrative purposes is shown in Figure 1, where arrows indicate
   content flows.

                       __________
                      | Other    |
                  +---| Mobile   |&lt;--+
                  |   | Enablers |   |
                  |   |__________|   |
                  |ME-4              |ME-3
                 _v____           ___v____        ________
                |      |ME-1     |        |      |        |
                | MEM  |--------&gt;|  MEM   |  I2  |  Email |
                |Client|     ME-2| Server |&lt;----&gt;| Server |
                |______|&lt;--------|________|      |________|
                                     ^
                                     |ME-5
                                     |

               Figure 1: Basic OMA MEM Logical Architecture

   Figure 1 identifies the following elements:

   o  The MEM client that implements the client-side functionality of
      the OMA Mobile Email enabler.  It is also responsible for
      providing the mobile email user experience and interface to the
      user and storing the email and data to be sent to the MEM server
      when not connected.

   o  The MEM server that implements the server-side functionality of
      the OMA Mobile Email (MEM) enabler.

   o  The MEM protocol between the MEM client and MEM server.  It is
      responsible for all the in-band data exchanges that take place
      between the MEM client and server in order to update the MEM





<span class="grey">Burger &amp; Parsons             Informational                      [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


      client with email server changes and the email server with changes
      in the MEM client, and in order to send new email from the email
      server.

   o  Other OMA enablers that are needed to directly support the Mobile
      Email enabler.  They are out of the scope of the IETF but may
      include support for:

      *  Client provisioning and management for over-the-air
         installation of the MEM client on the device, provisioning of
         the client settings, and revocation of client privileges.

      *  Messaging enablers for out-of-band notification, where out-of-
         band notifications that are server-to-client event exchanges
         are not transported by the MEM protocol but via other channels.

      *  Billing, charging, and so on.

   OMA identifies different interfaces:

   o  ME-1: MEM client interface to interact via the MEM protocol with
      the MEM server.

   o  ME-2: Corresponding interface of the MEM server.

   o  ME-3: Out-of-band MEM server interfaces; for example, to support
      generation of server-to-client notifications.

   o  ME-4: Out-of-band MEM client interfaces (e.g., to receive server-
      to-client notifications).

   o  ME-5: Interface for management of MEM enabler server settings,
      user preferences, and filters, globally and per account.

   The MEM server enables an email server.  In a particular
   implementation, the email server may be packaged with (internal to
   it) the MEM server or be a separate component.  In such cases,
   interfaces to the email server are out of scope of the OMA MEM
   specifications.  In the present document, we focus on the case where
   the backend consists of IETF IMAP and SUBMIT servers.  However, we
   also discuss the relationship to other cases.  The I2 interface is an
   OMA notation to designate protocol / interfaces that are not
   specified by the MEM enabler but may be standardized elsewhere.

<span class="h4"><a class="selflink" name="section-2.2.2" href="#section-2.2.2">2.2.2</a>.  OMA MEM Deployment Issues</span>

   The OMA MEM Architecture document [<a href="#ref-MEM-arch" title="&quot;Mobile Email Architecture Document&quot;">MEM-arch</a>] further identifies
   deployment models.



<span class="grey">Burger &amp; Parsons             Informational                      [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


<span class="h5"><a class="selflink" name="section-2.2.2.1" href="#section-2.2.2.1">2.2.2.1</a>.  OMA MEM Proxy</span>

   The OMA MEM Architecture document [<a href="#ref-MEM-arch" title="&quot;Mobile Email Architecture Document&quot;">MEM-arch</a>] identifies OMA MEM
   server proxies as server components that may be deployed ahead of
   firewalls to facilitate firewall traversal.

<span class="h5"><a class="selflink" name="section-2.2.2.2" href="#section-2.2.2.2">2.2.2.2</a>.  OMA MEM Deployment Cases</span>

   OMA MEM identifies that each component (MEM client, MEM servers,
   other enablers, and the email server) may be deployed in different
   domains, possibly separated by firewalls and other network
   intermediaries.  MEM proxies may be involved in front of a firewall
   that protects the MEM server domain.

   OMA MEM targets support of configurations where:

   o  All components are within the same domain, such as in a mobile
      operator.

   o  The MEM client and other enablers are in the mobile operator
      domain, there is a MEM proxy, and the MEM server and email server
      are in the domain of the email service provider.

   o  The MEM client and other enablers as well as a MEM proxy are in
      the mobile operator domain, and the MEM server and email server
      are in the domain of the email service provider.

   o  The MEM client and other enablers are in the mobile operator
      domain, a MEM proxy is in a third-party service provider domain,
      and the MEM server and email server are in the domain of the email
      service provider.

   o  The MEM client, other enabler, and MEM server are in the mobile
      operator domain, and the email server is in the domain of the
      email service provider.

   o  The MEM client and other enablers are in the mobile operator
      domain, the MEM server is in a third-party service provider
      domain, and the email server is in the domain of the email service
      provider.

   The email service provider can be a third-party service provider, a
   network service provider, or an enterprise email service.








<span class="grey">Burger &amp; Parsons             Informational                      [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a>.  OMA MEM Technical Specification</span>

   The OMA MEM activity will conclude with a specification for a Mobile
   Email (MEM) enabler.  The ongoing work is in the OMA MEM Technical
   Specification [<a href="#ref-MEM-ts" title="&quot;Mobile Email Technical Specification&quot;">MEM-ts</a>].  LEMONADE is a basis for the mechanism.
   However, some additional details that are outside the scope of the
   IETF will also be included.

   OMA provides ways to perform provisioning via OMA client provisioning
   and device management.  Other provisioning specifications are
   available (e.g., SMS based).

   OMA provides enablers to support out-of-band notification mechanisms,
   filter specifications (such as XDM), and remote deactivate devices,
   and to perform other non-Internet activities.

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  IETF LEMONADE Architecture</span>

   This section introduces the LEMONADE Architecture.

   The IETF LEMONADE activity has derived a LEMONADE profile
   [<a href="#ref-PROFILE-bis" title="&quot;The Lemonade Profile&quot;">PROFILE-bis</a>] with the logical architecture represented in Figure 2,
   where arrows indicate content flows.

                            ______________
                           |              |
                  _________| Notification |
                 |         | Mechanism    |
                 |         |______________|
                 |Notif.              ^
                 |Protocol            |
                 |                 ___|______
                 |                |          |                 _____
               __v__    IMAP      | LEMONADE |      ESMTP     |     |
              |     |&lt;-----------&gt;| IMAP     |&lt;---------------| MTA |
              | MUA |-            | Store    |                |_____|
              |_____| \           |__________|
                       \               |
                        \              |URLAUTH
                         \SUBMIT       |
                          \        ____v_____
                           \      |          |                 _____
                            \     | LEMONADE |      ESMTP     |     |
                             ----&gt;| Submit   |---------------&gt;| MTA |
                                  | Server   |                |_____|
                                  |__________|

                  Figure 2: LEMONADE logical architecture



<span class="grey">Burger &amp; Parsons             Informational                      [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


   The LEMONADE profile [<a href="#ref-PROFILE" title="&quot;Internet Email to Support Diverse Service Environments (Lemonade) Profile&quot;">PROFILE</a>] assumes:

   o  IMAP protocol [<a href="rfc3501.html" title="&quot;INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1&quot;">RFC3501</a>], including LEMONADE profile extensions
      [<a href="#ref-PROFILE" title="&quot;Internet Email to Support Diverse Service Environments (Lemonade) Profile&quot;">PROFILE</a>].

   o  SUBMIT protocol [<a href="rfc4409.html" title="&quot;Message Submission for Mail&quot;">RFC4409</a>], including LEMONADE profile extensions.

   o  LEMONADE profile compliant IMAP store connected to an MTA (Mail
      Transfer Agent) via the ESMTP [<a href="#ref-EMAIL" title="&quot;Simple Mail Transfer Protocol&quot;">EMAIL</a>].

   o  LEMONADE profile compliant submit server connected to an MTA,
      often via the ESMTP.

   o  Out-of-band server-to-client notifications relying on external
      notification mechanisms (and notification protocols) that may be
      out of the scope of the LEMONADE profile.

   o  LEMONADE-aware MUA (Mail User Agent).  While use of out-of-band
      notification is described in the LEMONADE profile, support for the
      underlying notifications mechanisms/protocols is out of the scope
      of the LEMONADE specifications.

   Further details on the IETF email protocol stack and architecture can
   be found in [<a href="#ref-MAIL" title="&quot;Internet Mail Architecture&quot;">MAIL</a>].

<span class="h3"><a class="selflink" name="section-3.1" href="#section-3.1">3.1</a>.  Relationship between the OMA MEM and LEMONADE Logical</span>
<span class="h3">      Architectures</span>

   Figure 3 illustrates the mapping of the IETF LEMONADE logical
   architecture on the OMA MEM logical architecture.





















<span class="grey">Burger &amp; Parsons             Informational                      [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


                          _____________________
                         | Other_Mob. Enablers |
                         | |--------------|    |
                  _________| Notification |    |
                 |       | | Mechanism    |    |
                 |       | |______________|    |
                 |Notif. |____________^________|
                 |Protocol      ______|__________
            ME-4 |             |   ___|_ME-3_    |
              ___|____         |  |          |   |         _____
             | __v__ |  IMAP   |  | LEMONADE |   |  ESMTP |     |
             ||     |&lt;-----------&gt;| IMAP     |&lt;-----------| MTA |
             || MUA ||   ME-2a |  | Store    |   |        |_____|
             ||_____||\ME-1    |  |__________|   |
             | MEM   | \       |       |         |
             | Client|  \      |       |URLAUTH  |
             |_______|   \SUBMIT       |         |
                          \    |   ____v_____    |
                           \   |  |          |   |         _____
                            \  |  | LEMONADE |   |  ESMTP |     |
                             ----&gt;| Submit   |-----------&gt;| MTA |
                         ME-2b |  | Server   |   |        |_____|
                               |  |__________|   |
                               |MEM        Email |
                               |Server     Server|
                               |_________________|
                                        ^
                                        |ME-5
                                        |

            Figure 3: Mapping of LEMONADE Logical Architecture
                   onto the OMA MEM Logical Architecture

   As described in <a href="#section-3">Section 3</a>, the LEMONADE profile assumes LEMONADE
   profile compliant IMAP stores and SUBMIT servers.  Because the
   LEMONADE profile extends the IMAP store and the SUBMIT server, the
   mobile enablement of email provided by the LEMONADE profile is
   directly provided in these servers.  Mapping to the OMA MEM logical
   architecture for the case considered and specified by the LEMONADE
   profile, we logically combine the MEM server and email server.
   However, in LEMONADE we split them logically into a distinct LEMONADE
   message store and a LEMONADE SUBMIT server.  ME-2 consists of two
   interfaces.  ME-2a is IMAP extended according to the LEMONADE
   profile.  ME-2b is SUBMIT extended according to the LEMONADE profile.

   The MUA is part of the MEM client.





<span class="grey">Burger &amp; Parsons             Informational                      [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


   The external notifications mechanism is part of the OMA enablers
   specified by the OMA.

<span class="h3"><a class="selflink" name="section-3.2" href="#section-3.2">3.2</a>.  LEMONADE Realization of OMA MEM with non-LEMONADE-Compliant</span>
<span class="h3">      Servers</span>

   The OMA MEM activity is not limited to enabling LEMONADE-compliant
   servers.  It explicitly identifies the need to support other
   backends.  This is, of course, outside the scope of the IETF LEMONADE
   activity.

<span class="h4"><a class="selflink" name="section-3.2.1" href="#section-3.2.1">3.2.1</a>.  LEMONADE Realization of OMA MEM with non-LEMONADE IMAP Servers</span>

   Figure 4 illustrates the case of IMAP servers that are not LEMONADE-
   compliant.  In such case, the I2 interface between the MEM server
   components and the IMAP store and SUBMIT server are IMAP and SUBMIT
   without LEMONADE extensions.

   It is important to note the realizations are of a schematic nature
   and do not dictate actual implementation.  For example, one could
   envision collocating the LEMONADE MEM enabler server and the submit
   server shown in Figure 4 in a single instantiation of the
   implementation.  Likewise, we consciously label the LEMONADE MEM
   enabler as neither an IMAP proxy nor an IMAP back-to-back user agent.
   LEMONADE leaves the actual implementation to the developer.


























<span class="grey">Burger &amp; Parsons             Informational                      [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


                 ______________
                |              |
       _________| Notification |
      |         | Mechanism    |
      |         |______________|
      |Notif.            ^
      |Protocol          |
      |               ___|______          _____________
      |              | LEMONADE |        |             |        _____
    __v__    IMAP    | MEM      |  IMAP  |NON-LEMONADE | ESMTP |     |
   |     |&lt;---------&gt;|Enabler   |&lt;------&gt;|IMAP         |&lt;-----&gt;| MTA |
   | MUA |\   ME-2a  | Server   |        |Store        |       |_____|
   |_____| \         |__________|        |_____________|
            \             |
             \            |URLAUTH
              \SUBMIT     |
               \      ____v_____          _____________
                \    |          |        |             |        _____
                 \   | LEMONADE | SUBMIT |NON-LEMONADE | ESMTP |     |
                  --&gt;|  MEM     |        |Submit       |       |     |
                     | Enabler  |-------&gt;|Server       |------&gt;| MTA |
              ME-2b  | Server   |        |             |       |_____|
                     |__________|        |_____________|

       Figure 4: Architecture to Support Non-LEMONADE IMAP Servers
             with a LEMONADE Realization of an OMA MEM Enabler

<span class="h4"><a class="selflink" name="section-3.2.2" href="#section-3.2.2">3.2.2</a>.  LEMONADE Realization of OMA MEM with non-IMAP Servers</span>

   Figure 5 illustrates the cases where the message store and submit
   servers are not IMAP store or submit servers.  They may be Post
   Office Protocol (POP3) servers or other proprietary message stores.



















<span class="grey">Burger &amp; Parsons             Informational                     [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


                 ______________
                |              |
       _________| Notification |
      |         | Mechanism    |
      |         |______________|
      |Notif.            ^
      |Protocol          |
      |               ___|______          _____________
      |              | LEMONADE |        |             |        _____
    __v__    IMAP    | MEM      |    I2  |Proprietary  | ESMTP |     |
   |     |&lt;---------&gt;|Enabler   |&lt;------&gt;|Message      |&lt;-----&gt;| MTA |
   | MUA |\   ME-2a  | Server   |        |Store        |       |_____|
   |_____| \         |__________|        |_____________|
            \             |
             \            |URLAUTH
              \SUBMIT     |
               \      ____v_____          _____________
                \    |          |        |             |        _____
                 \   | LEMONADE |    I2  |Proprietary  | ESMTP |     |
                  --&gt;| MEM      |        |Submit       |       |     |
                     | Enabler  |-------&gt;|Server       |------&gt;| MTA |
              ME-2b  | Server   |        |             |       |_____|
                     |__________|        |_____________|

    Figure 5: Architecture to Support Non-IMAP Servers with a LEMONADE
                      Realization of OMA MEM Enabler

   I2 designates proprietary adapters to the backends.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  Filters and Server-to-Client Notifications and LEMONADE</span>

   OMA MEM Requirements [<a href="#ref-MEM-req" title="&quot;Mobile Email Requirements Document&quot;">MEM-req</a>] and Architecture [<a href="#ref-MEM-arch" title="&quot;Mobile Email Architecture Document&quot;">MEM-arch</a>] emphasize
   the need to provide mechanisms for server-to-client notifications of
   email events and filtering.  Figure 6 illustrates how notification
   and filtering works in the LEMONADE profile [<a href="#ref-PROFILE" title="&quot;Internet Email to Support Diverse Service Environments (Lemonade) Profile&quot;">PROFILE</a>].
















<span class="grey">Burger &amp; Parsons             Informational                     [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


                   ______________
                  |              |
         _________| Notification |
        |         | Mechanism    |
        |         |______________|
        |Notif.              ^
        |Protocol -------\  _|__
        |   ______|    ___\&gt;|NF|____
        |  |          |     ----    |                 _____
      __v__|   IMAP   |__  LEMONADE |___   ESMTP   __|     |
     |     |&lt;--------&gt;|VF| IMAP     |DF |&lt;--------|AF| MTA |
     | MUA |\   ME-2a |--  Store    |---           --|_____|
     |_____| \        |_____________| ^
            \_\_______________|_______|
               \              |URLAUTH
                \SUBMIT       |
                 \        ____v_____
                  \      |          |                 _____
                   \     | LEMONADE |      ESMTP     |     |
                    ----&gt;| Submit   |---------------&gt;| MTA |
                ME-2b    | Server   |                |_____|
                         |__________|

      Figure 6: Filtering Mechanism Defined in LEMONADE Architecture

   In Figure 6, we define four categories of filters:

   o  AF: Administrative Filters - The email service provider usually
      sets administrative filters.  The user typically does not
      configure AF.  AF applies policies covering content filtering,
      virus protection, spam filtering, etc.

   o  DF: Deposit Filters - Filters that are executed on deposit of new
      emails.  They can be defined as SIEVE filters [<a href="#ref-SIEVE" title="&quot;Seive: An Email Filtering Language&quot;">SIEVE</a>].  They can
      include vacation notices [<a href="rfc5230.html" title="&quot;Sieve Email Filtering: Vacation Extension&quot;">RFC5230</a>].  As SIEVE filters, one can
      administer them using the SIEVE management protocol [<a href="#ref-MANAGESIEVE" title="&quot;A Protocol for Remotely Managing Sieve Scripts&quot;">MANAGESIEVE</a>].

   o  VF: View Filters - Filters that define which emails are visible to
      the MUA.  View filters can be performed via IMAP using the
      facilities described in [<a href="#ref-NOTIFICATIONS" title="&quot;Lemonade Notifications Architecture&quot;">NOTIFICATIONS</a>].

   o  NF: Notification Filters - Filters that define for what email
      server event an out-of-band notification is sent to the client, as
      described in [<a href="#ref-NOTIFICATIONS" title="&quot;Lemonade Notifications Architecture&quot;">NOTIFICATIONS</a>].

   Refer to the aforementioned references for implementation and
   management of the respective filters.




<span class="grey">Burger &amp; Parsons             Informational                     [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Security Considerations</span>

   We note there are security risks associated with:

   o  Out-of-band notifications

   o  Server configuration by client

   o  Client configuration by server

   o  Presence of MEM proxy servers

   o  Presence of MEM servers as intermediaries

   o  Measures to address the need to traverse firewalls

   We refer the reader to the relevant Internet Mail, IMAP, SUBMIT, and
   Lemonade documents for how we address these issues.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  Acknowledgements</span>

   The authors acknowledge and appreciate the work and comments of the
   IETF LEMONADE working group and the OMA MEM working group.  We
   extracted the contents of this document from sections of
   [<a href="#ref-PROFILE-bis" title="&quot;The Lemonade Profile&quot;">PROFILE-bis</a>] by Stephane Maes, Alexey Melnikov, and Dave Cridland,
   as well as sections of [<a href="#ref-NOTIFICATIONS" title="&quot;Lemonade Notifications Architecture&quot;">NOTIFICATIONS</a>] by Stephane Maes and Ray
   Cromwell.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  Informative References</span>

   [<a name="ref-EMAIL" id="ref-EMAIL">EMAIL</a>]          Klensin, J., "Simple Mail Transfer Protocol",
                    <a href="rfc5321.html">RFC 5321</a>, October 2008.

   [<a name="ref-MAIL" id="ref-MAIL">MAIL</a>]           Crocker, D., <a style="text-decoration: none" href='https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Internet+Mail+Architecture%22'>"Internet Mail Architecture"</a>, Work
                    in Progress, October 2008.

   [<a name="ref-MANAGESIEVE" id="ref-MANAGESIEVE">MANAGESIEVE</a>]    Melnikov, A. and T. Martin, "A Protocol for Remotely
                    Managing Sieve Scripts", Work in Progress,
                    January 2009.

   [<a name="ref-MEM-arch" id="ref-MEM-arch">MEM-arch</a>]       Open Mobile Alliance, "Mobile Email Architecture
                    Document", OMA,
                    <a href="http://member.openmobilealliance.org/ftp/public_documents/mwg/MEM/Permanent_documents/">http://member.openmobilealliance.org/ftp/</a>
                    <a href="http://member.openmobilealliance.org/ftp/public_documents/mwg/MEM/Permanent_documents/">public_documents/mwg/MEM/Permanent_documents/</a>
                    OMA-AD-Mobile_Email-V1_0_0-20070614-D.zip,
                    June 2007.





<span class="grey">Burger &amp; Parsons             Informational                     [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


   [<a name="ref-MEM-req" id="ref-MEM-req">MEM-req</a>]        Open Mobile Alliance, "Mobile Email Requirements
                    Document", OMA, <a href="http://www.openmobilealliance.org/">http://www.openmobilealliance.org/</a>,
                    Oct 2005.

   [<a name="ref-MEM-ts" id="ref-MEM-ts">MEM-ts</a>]         Open Mobile Alliance, "Mobile Email Technical
                    Specification", OMA, Work in Progress,
                    <a href="http://www.openmobilealliance.org/">http://www.openmobilealliance.org/</a>, Oct 2007.

   [<a name="ref-NOTIFICATIONS" id="ref-NOTIFICATIONS">NOTIFICATIONS</a>]  Gellens, R. and S. Maes, "Lemonade Notifications
                    Architecture", Work in Progress, July 2008.

   [<a name="ref-PROFILE" id="ref-PROFILE">PROFILE</a>]        Maes, S. and A. Melnikov, "Internet Email to Support
                    Diverse Service Environments (Lemonade) Profile",
                    <a href="rfc4550.html">RFC 4550</a>, June 2006.

   [<a name="ref-PROFILE-bis" id="ref-PROFILE-bis">PROFILE-bis</a>]    Cridland, D., Melnikov, A., and S. Maes, "The
                    Lemonade Profile", Work in Progress, September 2008.

   [<a name="ref-RFC3501" id="ref-RFC3501">RFC3501</a>]        Crispin, M., "INTERNET MESSAGE ACCESS PROTOCOL -
                    VERSION 4rev1", <a href="rfc3501.html">RFC 3501</a>, March 2003.

   [<a name="ref-RFC4409" id="ref-RFC4409">RFC4409</a>]        Gellens, R. and J. Klensin, "Message Submission for
                    Mail", <a href="rfc4409.html">RFC 4409</a>, April 2006.

   [<a name="ref-RFC5230" id="ref-RFC5230">RFC5230</a>]        Showalter, T. and N. Freed, "Sieve Email Filtering:
                    Vacation Extension", <a href="rfc5230.html">RFC 5230</a>, January 2008.

   [<a name="ref-SIEVE" id="ref-SIEVE">SIEVE</a>]          Guenther, P. and T. Showalter, "Seive: An Email
                    Filtering Language", <a href="rfc5228.html">RFC 5228</a>, January 2008.






















<span class="grey">Burger &amp; Parsons             Informational                     [Page 14]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc5442.html">RFC 5442</a>                 LEMONADE Architecture                March 2009</span>


Authors' Addresses

   Eric W. Burger
   Consultant
   New Hampshire
   USA

   Phone:
   Fax:   +1 530-267-7447
   EMail: eburger@standardstrack.com
   URI:   <a href="http://www.standardstrack.com/">http://www.standardstrack.com</a>


   Glenn Parsons
   Nortel Networks
   3500 Carling Avenue
   Ottawa, ON  K2H 8E9
   Canada

   Phone: +1 613 763 7582
   EMail: gparsons@nortel.com






























Burger &amp; Parsons             Informational                     [Page 15]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc5442 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:35 GMT -->
</html>
