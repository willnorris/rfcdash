<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7890 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:19 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-willis-p2psip-concepts" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7890" name="DC.Identifier"/>
<meta content="June, 2016" name="DC.Date.Issued"/>
<meta content="Bryan, David" name="DC.Creator"/>
<meta content="Matthews, Philip" name="DC.Creator"/>
<meta content="Shim, Eunsoo" name="DC.Creator"/>
<meta content="Dawkins, Spencer" name="DC.Creator"/>
<meta content="Willis, Dean" name="DC.Creator"/>
<meta content="This document defines concepts and terminology for using the Session
Initiation Protocol in a peer-to-peer environment where the
traditional proxy-registrar and message-routing functions are replaced
by a distributed mechanism. These mechanisms may be implemented using
a Distributed Hash Table or other distributed data mechanism with
similar external properties. This document includes a high-level view
of the functional relationships between the network elements defined
herein, a conceptual model of operations, and an outline of the
related problems addressed by the P2PSIP working group, the REsource
LOcation And Discovery (RELOAD) protocol, and the SIP usage document
defined by the working group." name="DC.Description.Abstract"/>
<meta content="Concepts and Terminology for Peer-to-Peer SIP (P2PSIP)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7890 - Concepts and Terminology for Peer-to-Peer SIP (P2PSIP)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7890.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7890" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-p2psip-concepts" title="draft-ietf-p2psip-concepts">draft-ietf-p2ps...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7890" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7890" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7890" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                          D. Bryan
Request for Comments: 7890                             Cogent Force, LLC
Category: Informational                                      P. Matthews
ISSN: 2070-1721                                                    Nokia
                                                                 E. Shim
                                           Samsung Electronics Co., Ltd.
                                                               D. Willis
                                                       Softarmor Systems
                                                              S. Dawkins
                                                            Huawei (USA)
                                                               June 2016


         <span class="h1">Concepts and Terminology for Peer-to-Peer SIP (P2PSIP)</span>

Abstract

   This document defines concepts and terminology for using the Session
   Initiation Protocol in a peer-to-peer environment where the
   traditional proxy-registrar and message-routing functions are
   replaced by a distributed mechanism.  These mechanisms may be
   implemented using a Distributed Hash Table or other distributed data
   mechanism with similar external properties.  This document includes a
   high-level view of the functional relationships between the network
   elements defined herein, a conceptual model of operations, and an
   outline of the related problems addressed by the P2PSIP working
   group, the REsource LOcation And Discovery (RELOAD) protocol, and the
   SIP usage document defined by the working group.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc7841.html#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7890">http://www.rfc-editor.org/info/rfc7890</a>.







<span class="grey">Bryan, et al.                 Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Background  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  High-Level Description  . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.1">2.1</a>.  Services  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.2">2.2</a>.  Clients . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.3">2.3</a>.  Relationship between P2PSIP and RELOAD  . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-2.4">2.4</a>.  Relationship between P2PSIP and SIP . . . . . . . . . . .   <a href="#page-5">5</a>
     2.5.  Relationship between P2PSIP and Other AoR-Dereferencing
           Approaches  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-2.6">2.6</a>.  NAT Issues  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-3">3</a>.  Reference Model . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-4">4</a>.  Definitions . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
   <a href="#section-5">5</a>.  Discussion  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-5.1">5.1</a>.  The Distributed Database Function . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-5.2">5.2</a>.  Using the Distributed Database Function . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-5.3">5.3</a>.  NAT Traversal . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-5.4">5.4</a>.  Locating and Joining an Overlay . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-5.5">5.5</a>.  Clients and Connecting Unmodified SIP Devices . . . . . .  <a href="#page-15">15</a>
     <a href="#section-5.6">5.6</a>.  Architecture  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   <a href="#section-6">6</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   <a href="#section-7">7</a>.  Informative References  . . . . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>













<span class="grey">Bryan, et al.                 Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Background"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Background</span>

   One of the fundamental problems in multimedia communication between
   Internet nodes is the rendezvous problem, or discovering the host at
   which a given user can be reached.  In the Session Initiation
   Protocol (SIP) [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>], this problem is expressed as the problem of
   mapping an Address of Record (AoR) for a user into one or more
   Contact URIs [<a href="rfc3986.html" title='"Uniform Resource Identifier (URI): Generic Syntax"'>RFC3986</a>].  The AoR is a name for the user that is
   independent of the host or hosts where the user can be contacted,
   while a Contact URI indicates the host where the user can be
   contacted.

   In the common SIP-using architectures that we refer to as
   "Conventional SIP" or "Client/Server SIP", there is a relatively
   fixed hierarchy of SIP routing proxies and SIP user agents.  To
   deliver a SIP INVITE to the host or hosts at which the user can be
   contacted, a SIP UA follows the procedures specified in [<a href="rfc3263.html" title='"Session Initiation Protocol (SIP): Locating SIP Servers"'>RFC3263</a>] to
   determine the IP address of a SIP proxy, and then sends the INVITE to
   that proxy.  The proxy will then, in turn, deliver the SIP INVITE to
   the hosts where the user can be contacted.

   This document gives a high-level description of an alternative
   solution to this problem.  In this alternative solution, the
   relatively fixed hierarchy of Client/Server SIP is replaced by a
   peer-to-peer overlay network.  In this peer-to-peer overlay network,
   the various mappings of AoRs to Contact URIs are not centralized at
   proxy/registrar nodes but are instead distributed amongst the peers
   in the overlay.

   The details of this alternative solution are specified by the RELOAD
   protocol [<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>], which defines a mechanism for distribution using
   a Distributed Hash Table (DHT) and specifies the wire protocol,
   security, and authentication mechanisms needed to convey this
   information.  This DHT protocol was designed specifically with the
   purpose of enabling a distributed SIP registrar in mind.  While
   designing the protocol, other applications were considered, and then
   design decisions were made that allow RELOAD to be used in other
   instances where a DHT is desirable, but only when such decisions did
   not add undue complexity to the RELOAD protocol.  The RELOAD SIP
   document [<a href="#ref-P2PSIP" title='"A SIP Usage for RELOAD"'>P2PSIP</a>] specifies how RELOAD is used with the SIP protocol
   to enable a distributed, server-less SIP solution.










<span class="grey">Bryan, et al.                 Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20High-Level%20Description"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  High-Level Description</span>

   A Peer-to-Peer SIP (P2PSIP) Overlay is a collection of nodes
   organized in a peer-to-peer fashion for the purpose of enabling real-
   time communication using the Session Initiation Protocol (SIP).
   Collectively, the nodes in the Overlay provide a distributed
   mechanism for mapping names to Overlay locations.  This provides for
   the mapping of Addresses of Record (AoRs) to Contact URIs, thereby
   providing the "location server" function of [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>].  An Overlay
   also provides a transport function by which SIP messages can be
   transported between any two nodes in the Overlay.

   A P2PSIP Overlay consists of one or more nodes called "Peers".  The
   nodes in the Overlay collectively run a distributed database
   algorithm.  This distributed database algorithm allows data to be
   stored on nodes and retrieved in an efficient manner.  It may also
   ensure that a copy of a data item is stored on more than one node, so
   that the loss of a node does not result in the loss of the data item
   to the Overlay.

   One use of this distributed database is to store the information
   required to provide the mapping between AoRs and Contact URIs for the
   distributed location function.  This provides a location function
   within each Overlay that is an alternative to the location functions
   described in [<a href="rfc3263.html" title='"Session Initiation Protocol (SIP): Locating SIP Servers"'>RFC3263</a>].  However, the model of [<a href="rfc3263.html" title='"Session Initiation Protocol (SIP): Locating SIP Servers"'>RFC3263</a>] is used
   between Overlays.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Services"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Services</span>

   The nature of peer-to-peer computing is that each peer offers
   services to other peers to allow the overlay to collectively provide
   larger functions.  In P2PSIP, Peers offer both distributed storage
   and distributed message-routing services, allowing these functions to
   be implemented across the Overlay.  Additionally, the RELOAD protocol
   offers a simplistic discovery mechanism specific to the Traversal
   Using Relays around NAT (TURN) [<a href="rfc5766.html" title='"Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)"'>RFC5766</a>] protocol used for NAT
   traversal.  Individual Peers may also offer other services as an
   enhancement to P2PSIP functionality (for example, to support
   voicemail) or to support other applications beyond SIP.  To support
   these additional services, Peers may need to store additional
   information in the Overlay.  [<a href="rfc7374.html" title='"Service Discovery Usage for REsource LOcation And Discovery (RELOAD)"'>RFC7374</a>] describes the mechanism used
   in P2PSIP for resource discovery.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Clients"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Clients</span>

   An Overlay may or may not also include one or more nodes called
   "Clients".  Clients are supported in the RELOAD protocol as peers
   that have not joined the Overlay, and therefore do not route messages



<span class="grey">Bryan, et al.                 Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   or store information.  Clients access the services of the RELOAD
   protocol by connecting to a Peer that performs operations on the
   behalf of the Client.  Note that in RELOAD, there is no distinct
   client protocol.  Instead, a Client connects using the same protocol,
   but never joins the Overlay as a Peer.  For more information, see
   [<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>].

   A special Peer may also be a member of the P2PSIP Overlay and may
   present the functionality of one or all of a SIP registrar, proxy, or
   redirect server to conventional SIP devices (i.e., unmodified SIP
   user agent (UA) or client).  In this way, existing, unmodified SIP
   clients may connect to the P2PSIP network.  Note that in the context
   of P2PSIP, the unmodified SIP client is also sometimes referred to as
   a "client".  These unmodified SIP devices do not speak the RELOAD
   protocol, and this is a distinct concept from the notion of "Client"
   discussed in the previous paragraph.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Relationship%20between%20P2PSIP%20and%20RELOAD"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Relationship between P2PSIP and RELOAD</span>

   The RELOAD protocol defined by the P2PSIP working group implements a
   DHT primarily for use by server-less, peer-to-peer SIP deployments.
   However, the RELOAD protocol could be used for other applications as
   well.  As such, a "P2PSIP" deployment is generally assumed to be a
   use of RELOAD to implement distributed SIP, but it is possible that
   RELOAD is used as a mechanism to distribute other applications,
   completely unrelated to SIP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20Relationship%20between%20P2PSIP%20and%20SIP"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  Relationship between P2PSIP and SIP</span>

   Since P2PSIP is about peer-to-peer networks for real-time
   communication, it is expected that most Peers and Clients will be
   coupled with SIP entities (although RELOAD may be used for other
   applications than P2PSIP).  For example, one Peer might be coupled
   with a SIP UA, another might be coupled with a SIP proxy, while a
   third might be coupled with a SIP-to-PSTN gateway.  For such nodes,
   the Peer or Client portion of the node is logically distinct from the
   SIP entity portion.  However, there is no hard requirement that every
   P2PSIP node (Peer or Client) be coupled to a SIP entity.  As an
   example, additional Peers could be placed in the Overlay to provide
   additional storage or redundancy for the RELOAD Overlay, but might
   not have any direct SIP capabilities.










<span class="grey">Bryan, et al.                 Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5.%20%20Relationship%20between%20P2PSIP%20and%20Other%20AoR-Dereferencing%20Approaches"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a>.  Relationship between P2PSIP and Other AoR-Dereferencing Approaches</span>

   As noted above, the fundamental task of P2PSIP is to turn an AoR into
   a Contact.  This task might be approached using zero configuration
   techniques such as multicast DNS (mDNS) and DNS Service Discovery
   (DNS-SD) [<a href="rfc6762.html" title='"Multicast DNS"'>RFC6762</a>] [<a href="rfc6763.html" title='"DNS-Based Service Discovery"'>RFC6763</a>], Link-Local Multicast Name Resolution
   [<a href="rfc4795.html" title='"Link-local Multicast Name Resolution (LLMNR)"'>RFC4795</a>], and dynamic DNS [<a href="rfc2136.html" title='"Dynamic Updates in the Domain Name System (DNS UPDATE)"'>RFC2136</a>].

   These alternatives were discussed in the P2PSIP working group, and
   not pursued as a general solution for a number of reasons related to
   scalability, the ability to work in a disconnected state, partition
   recovery, and so on.  However, there does seem to be some continuing
   interest in the possibility of using mDNS and DNS-SD for the
   bootstrapping of P2PSIP overlays.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.6.%20%20NAT%20Issues"></a><a class="selflink" href="#section-2.6" name="section-2.6">2.6</a>.  NAT Issues</span>

   Network Address Translators (NATs) are impediments to establishing
   and maintaining peer-to-peer networks, since NATs hinder direct
   communication between nodes.  Some peer-to-peer network architectures
   avoid this problem by insisting that all nodes exist in the same
   address space.  However, RELOAD provides capabilities that allow
   nodes to be located in multiple address spaces interconnected by
   NATs, to allow RELOAD messages to traverse NATs, and to assist in
   transmitting application-level messages (for example, SIP messages)
   across NATs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Reference%20Model"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Reference Model</span>

   The following diagram shows a P2PSIP Overlay consisting of a number
   of Peers, one Client, and an ordinary SIP UA.  It illustrates a
   typical P2PSIP Overlay but does not limit other compositions or
   variations; for example, Proxy Peer P might also talk to an ordinary
   SIP proxy as well.  The figure is not intended to cover all possible
   architecture variations, but simply to show a deployment with many
   common P2PSIP elements.















<span class="grey">Bryan, et al.                 Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


                                                  ---&gt;PSTN
     +------+    N     +------+     +---------+  /
     |      |    A     |      |     | Gateway |-/
     |  UA  |####T#####|  UA  |#####|   Peer  |########
     | Peer |    N     | Peer |     |    G    |       #   RELOAD
     |  E   |    A     |  F   |     +---------+       #   P2PSIP
     |      |    T     |      |                       #   Protocol
     +------+    N     +------+                       #    |
        #        A                                    #    |
      NATNATNATNAT                                    #    |
        #                                             #    |   \__/
      NATNATNATNAT                              +-------+  v   /  \
        #        N                              |       |#####/ UA \
     +------+    A       P2PSIP Overlay         | Peer  |    /Client\
     |      |    T                              |   Q   |    |___C__|
     |  UA  |    N                              |       |
     | Peer |    A                              +-------+
     |  D   |    T                                    #
     |      |    N                                    #
     +------+    A                                    # RELOAD
        #        T                                    # P2PSIP
        #        N    +-------+        +-------+      # Protocol
        #        A    |       |        |       |      #
        #########T####| Proxy |########| Redir |#######
                 N    | Peer  |        | Peer  |
                 A    |   P   |        |   R   |
                 T    +-------+        +-------+
                        |                 /
                        | SIP            /
                  \__/  /               /
                   /\  / ______________/ SIP
                  /  \/ /
                 / UA \/
                /______\
                SIP UA A

                 Figure 1: P2PSIP Overlay Reference Model

   Here, the large perimeter depicted by "#" represents a stylized view
   of the Overlay (the actual connections could be a mesh, a ring, or
   some other structure).  Around the periphery of the Overlay
   rectangle, we have a number of Peers.  Each Peer is labeled with its
   coupled SIP entity -- for example, "Proxy Peer P" means that Peer P
   is coupled with a SIP proxy.  In some cases, a Peer or Client might
   be coupled with two or more SIP entities.  In this diagram, we have a
   Public Switched Telephone Network (PSTN) gateway coupled with Peer
   "G", three Peers ("D", "E", and "F") that are each coupled with a UA,
   a Peer "P" that is coupled with a SIP proxy, an ordinary Peer "Q"



<span class="grey">Bryan, et al.                 Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   with no SIP capabilities, and one Peer "R" that is coupled with a SIP
   redirector.  Note that because these are all Peers, each is
   responsible for storing Resource Records and transporting messages
   around the Overlay.

   To the left, two of the Peers ("D" and "E") are behind network
   address translators (NATs).  These Peers are included in the P2PSIP
   Overlay, and thus participate in storing resource records and routing
   messages, despite being behind the NATs.

   On the right side, we have a Client "C", which uses the RELOAD
   Protocol to communicate with Proxy Peer "Q".  The Client "C" uses
   RELOAD to obtain information from the Overlay, but has not inserted
   itself into the Overlay, and therefore does not participate in
   routing messages or storing information.

   Below the Overlay, we have a conventional SIP UA "A" that is not part
   of the Overlay, either directly as a Peer or indirectly as a Client.
   It does not speak the RELOAD P2PSIP protocol and is not participating
   in the Overlay as a Peer or a Client.  Instead, it uses SIP to
   interact with the Overlay via an adapter Peer or Peers that
   communicate with the Overlay using RELOAD.

   Both the SIP proxy coupled with Peer "P" and the SIP redirector
   coupled with Peer "R" can serve as adapters between ordinary SIP
   devices and the Overlay.  Each accepts standard SIP requests and
   resolves the next hop by using the P2PSIP protocol to interact with
   the routing knowledge of the Overlay, and then processes the SIP
   requests as appropriate (proxying or redirecting towards the next
   hop).  Note that proxy operation is bidirectional -- the proxy may be
   forwarding a request from an ordinary SIP device to the Overlay, or
   from the P2PSIP Overlay to an ordinary SIP device.

   The PSTN Gateway at Peer "G" provides a similar sort of adaptation to
   and from the PSTN.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Definitions"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Definitions</span>

   This section defines a number of concepts that are key to
   understanding the P2PSIP work.

   Overlay Network:  An overlay network is a computer network that is
      built on top of another network.  Nodes in the overlay can be
      thought of as being connected by virtual or logical links, each of
      which corresponds to a path, perhaps through many physical links,
      in the underlying network.  For example, many peer-to-peer





<span class="grey">Bryan, et al.                 Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


      networks are overlay networks because they run on top of the
      Internet.  Dial-up Internet is an overlay upon the telephone
      network.

   P2P Network:  A peer-to-peer (or P2P) computer network is a network
      that relies primarily on the computing power and bandwidth of the
      participants in the network rather than concentrating it in a
      relatively low number of servers.  P2P networks are typically used
      for connecting nodes via largely ad hoc connections.  Such
      networks are useful for many purposes.  Sharing content files
      containing audio, video, data, or anything in digital format is
      very common, and real-time data, such as telephony traffic, is
      also exchanged using P2P technology.  A P2P Network may also be
      called a "P2P Overlay", a "P2P Overlay Network", or a "P2P Network
      Overlay", since its organization is not at the physical layer, but
      is instead "on top of" an existing Internet Protocol network.

   P2PSIP:  A suite of communications protocols related to the Session
      Initiation Protocol (SIP) [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>] that enable SIP to use peer-
      to-peer techniques for resolving the targets of SIP requests,
      providing SIP message transport, and providing other SIP-related
      functions.  At present, these protocols include [<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>],
      [<a href="rfc7363.html" title='"Self-Tuning Distributed Hash Table (DHT) for REsource LOcation And Discovery (RELOAD)"'>RFC7363</a>], [<a href="rfc7374.html" title='"Service Discovery Usage for REsource LOcation And Discovery (RELOAD)"'>RFC7374</a>], [<a href="rfc7851.html" title='"Peer-to-Peer (P2P) Overlay Diagnostics"'>RFC7851</a>] and [<a href="#ref-P2PSIP" title='"A SIP Usage for RELOAD"'>P2PSIP</a>].

   User:  A human that interacts with the Overlay through SIP UAs
      located on Peers and Clients (and perhaps in other ways).

   The following terms are defined here only within the scope of P2PSIP.
   These terms may have conflicting definitions in other bodies of
   literature.  Some draft versions of this document prefixed each term
   with "P2PSIP" to clarify the term's scope.  This prefixing has been
   eliminated from the text; however, the scoping still applies.

   Overlay Name:  A human-friendly name that identifies a specific
      P2PSIP Overlay.  This is in the format of (a portion of) a URI,
      but may or may not have a related record in the DNS.

   Peer:  A node participating in a P2PSIP Overlay that provides storage
      and transport services to other nodes in that P2PSIP Overlay.
      Each Peer has a unique identifier, known as a Peer-ID, within the
      Overlay.  Each Peer may be coupled to one or more SIP entities.
      Within the Overlay, the Peer is capable of performing several
      different operations, including: joining and leaving the Overlay,
      transporting SIP messages within the Overlay, storing information
      on behalf of the Overlay, putting information into the Overlay,
      and getting information from the Overlay.





<span class="grey">Bryan, et al.                 Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   Node-ID:  Information that uniquely identifies each Node within a
      given Overlay.  This value is not human-friendly -- in a DHT
      approach, this is a numeric value in the hash space.  These Node-
      IDs are completely independent of the identifier of any user of a
      user agent associated with a Peer.

   Client:  A node that participates in a P2PSIP Overlay but does not
      store information or forward messages.  A Client can also be
      thought of as a peer that has not joined the Overlay.  Clients can
      store and retrieve information from the Overlay.

   User Name:  A human-friendly name for a user.  This name must be
      unique within the Overlay, but may be unique in a wider scope.
      User Names are formatted so that they can be used within a URI
      (likely a SIP URI), perhaps in combination with the Overlay Name.

   Service:  A capability contributed by a Peer to an Overlay or to the
      members of an Overlay.  Not all Peers and Clients will offer the
      same set of services, and P2PSIP provides service discovery
      mechanisms to locate services.

   Service Name:  A unique, human-friendly name for a service.

   Resource:  Anything about which information can be stored in the
      Overlay.  Both Users and Services are examples of Resources.

   Resource-ID:  A non-human-friendly value that uniquely identifies a
      resource and that is used as a key for storing and retrieving data
      about the resource.  One way to generate a Resource-ID is by
      applying a mapping function to some other unique name (e.g., User
      Name or Service Name) for the resource.  The Resource-ID is used
      by the distributed database algorithm to determine the Peer or
      Peers that are responsible for storing data for the Overlay.

   Resource Record:  A block of data, stored using the distributed
      database mechanism of the Overlay, that includes information
      relevant to a specific resource.  We presume that there may be
      multiple types of resource records.  Some may hold data about
      Users, and others may hold data about Services, and the working
      group may define other types.  The types, usages, and formats of
      the records are a question for future study.

   Responsible Peer  The Peer that is responsible for storing the
      Resource Record for a Resource.  In the literature, the term "Root
      Peer" is also used for this concept.






<span class="grey">Bryan, et al.                 Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   Peer Protocol:  The protocol spoken between P2PSIP Overlay Peers to
      share information and organize the P2PSIP Overlay Network.  In
      P2PSIP, this is implemented using the RELOAD protocol [<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>].

   Client Protocol:  The protocol spoken between Clients and Peers.  In
      P2PSIP and RELOAD, this is syntactically the same protocol as the
      Peer Protocol.  The only difference is that Clients are not
      routing messages or routing information, and have not (or cannot)
      insert themselves into the Overlay.

   Peer Protocol Connection / P2PSIP Client Protocol Connection:
      The Transport Layer Security (TLS), Datagram Transport Layer
      Security (DTLS), TCP, UDP, or other transport-layer protocol
      connection over which the RELOAD Peer Protocol messages are
      transported.

   Neighbors:  The set of P2PSIP Peers that a Peer or Client know of
      directly and can reach without further lookups.

   Joining Peer:  A node that is attempting to become a Peer in a
      particular Overlay.

   Bootstrap Peer:  A Peer in the Overlay that is the first point of
      contact for a Joining Peer.  It selects the Peer that will serve
      as the Admitting Peer and helps the Joining Peer contact the
      Admitting Peer.

   Admitting Peer:  A Peer in the Overlay that helps the Joining Peer
      join the Overlay.  The choice of the Admitting Peer may depend on
      the Joining Peer (e.g., depend on the Joining Peer's Peer-ID).
      For example, the Admitting Peer might be chosen as the Peer which
      is "closest" in the logical structure of the Overlay to the future
      position of the Joining Peer.  The selection of the Admitting Peer
      is typically done by the Bootstrap Peer.  It is allowable for the
      Bootstrap Peer to select itself as the Admitting Peer.

   Bootstrap Server:  A network node used by Joining Peers to locate a
      Bootstrap Peer.  A Bootstrap Server may act as a proxy for
      messages between the Joining Peer and the Bootstrap Peer.  The
      Bootstrap Server itself is typically a stable host with a DNS name
      that is somehow communicated (for example, through configuration,
      specification on a web page, or using DHCP) to Peers that want to
      join the Overlay.  A Bootstrap Server is NOT required to be a Peer
      or Client, though it may be if desired.







<span class="grey">Bryan, et al.                 Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   Peer Admission:  The act of admitting a node (the "Joining Peer")
      into an Overlay as a Peer.  After the admission process is over,
      the Joining Peer is a fully functional Peer of the Overlay.
      During the admission process, the Joining Peer may need to present
      credentials to prove that it has sufficient authority to join the
      Overlay.

   Resource Record Insertion:  The act of inserting a P2PSIP Resource
      Record into the distributed database.  Following insertion, the
      data will be stored at one or more Peers.  The data can be
      retrieved or updated using the Resource-ID as a key.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Discussion"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Discussion</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20The%20Distributed%20Database%20Function"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  The Distributed Database Function</span>

   A P2PSIP Overlay functions as a distributed database.  The database
   serves as a way to store information about Resources.  A piece of
   information, called a "Resource Record", can be stored by and
   retrieved from the database using a key associated with the Resource
   Record called its "Resource-ID".  Each Resource must have a unique
   Resource-ID.  In addition to uniquely identifying the Resource, the
   Resource-ID is also used by the distributed database algorithm to
   determine the Peer or Peers that store the Resource Record in the
   Overlay.

   Users are humans that can use the Overlay to do things like making
   and receiving calls.  Information stored in the resource record
   associated with a user can include things like the full name of the
   user and the location of the UAs that the user is using (the user's
   SIP AoR).  Full details of how this is implemented using RELOAD are
   provided in [<a href="#ref-P2PSIP" title='"A SIP Usage for RELOAD"'>P2PSIP</a>].

   Before information about a user can be stored in the Overlay, a user
   needs a User Name.  The User Name is a human-friendly identifier that
   uniquely identifies the user within the Overlay.  In RELOAD, users
   are issued certificates, which in the case of centrally signed
   certificates, identify the User Name as well as a certain number of
   Resource-IDs where the user may store their information.  For more
   information, see [<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>].

   The P2PSIP suite of protocols also standardizes information about how
   to locate services.  Services represent actions that a Peer (and
   perhaps a Client) can do to benefit other Peers and Clients in the
   Overlay.  Information that might be stored in the resource record
   associated with a service might include the Peers (and perhaps
   Clients) offering the service.  Service discovery for P2PSIP is
   defined in [<a href="rfc7374.html" title='"Service Discovery Usage for REsource LOcation And Discovery (RELOAD)"'>RFC7374</a>].



<span class="grey">Bryan, et al.                 Informational                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   Each service has a human-friendly Service Name that uniquely
   identifies the service.  Like User Names, the Service Name is not a
   Resource-ID, rather the Resource-ID is derived from the service name
   using some function defined by the distributed database algorithm
   used by the Overlay.

   A class of algorithms known as Distributed Hash Tables (DHTs) are one
   way to implement the distributed database.  The RELOAD protocol is
   extensible and allows many different DHTs to be implemented, but
   specifies a mandatory-to-implement DHT in the form of a modified
   Chord DHT.  For more information, see [<a href="#ref-Chord" title='"Chord: A scalable peer-to-peer lookup protocol for internet applications"'>Chord</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Using%20the%20Distributed%20Database%20Function"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Using the Distributed Database Function</span>

   While there are a number of ways the distributed database described
   in the previous section can be used to establish multimedia sessions
   using SIP, the basic mechanism defined in the RELOAD protocol and SIP
   usage is summarized below.  This is a very simplistic overview.  For
   more detailed information, please see the RELOAD protocol [<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>].

   Contact information for a user is stored in the resource record for
   that user.  Assume that a user is using a device, here called "Peer
   A", that serves as the contact point for this user.  The user adds
   contact information to this resource record, as authorized by the
   RELOAD certificate mechanism.  The resource record itself is stored
   with Peer Z in the network, where Peer Z is chosen by the particular
   distributed database algorithm in use by the Overlay.

   When the SIP entity coupled with Peer B has an INVITE message
   addressed to this user, it retrieves the resource record from Peer Z.
   It then extracts the contact information for the various Peers that
   are a contact point for the user, including Peer A, and uses the
   Overlay to establish a connection to Peer A, including any
   appropriate NAT traversal (the details of which are not shown).

   Note that RELOAD is used only to establish the connection.  Once the
   connection is established, messages between the Peers are sent using
   ordinary SIP.

   This exchange is illustrated in the following figure.  The notation
   "Store(U@A)" is used to show the distributed database operation of
   updating the resource record for user U with the contract A, and
   "Fetch(U)" illustrates the distributed database operation of
   retrieving the resource record for user U.  Note that the messages
   between the Peers A, B, and Z may actually travel via intermediate
   Peers (not shown) as part of the distributed lookup process or so as
   to traverse intervening NATs.




<span class="grey">Bryan, et al.                 Informational                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


         Peer B           Peer Z           Peer A
         |                    |                   |
         |                    |         Store(U@A)|
         |                    |&lt;------------------|
         |                    |Store-Resp(OK)     |
         |                    |------------------&gt;|
         |                    |                   |
         |Fetch(U)            |                   |
         |-------------------&gt;|                   |
         |     Fetch-Resp(U@A)|                   |
         |&lt;-------------------|                   |
         |                    |                   |
          (RELOAD IS USED TO ESTABLISH CONNECTION)
         |                    |                   |
         | SIP INVITE(To:U)   |                   |
         |---------------------------------------&gt;|
         |                    |                   |

        Figure 2: SIP Exchange Using Distributed Database Function

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20NAT%20Traversal"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  NAT Traversal</span>

   NAT traversal in P2PSIP using RELOAD treats all Peers as equal and
   establishes a partial mesh of connections between them.  Messages
   from one Peer to another are routed along the edges in the mesh of
   connections until they reach their destination.  To make the routing
   efficient and to avoid the use of standard Internet routing
   protocols, the partial mesh is organized in a structured manner.  If
   the structure is based on any one of a number of common DHT
   algorithms, then the maximum number of hops between any two Peers is
   log N, where N is the number of peers in the overlay.  Existing
   connections, along with the Interactive Connectivity Establishment
   (ICE) NAT traversal techniques [<a href="rfc5245.html" title='"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols"'>RFC5245</a>], are used to establish new
   connections between Peers, and also to allow the applications running
   on Peers to establish a connection to communicate with one another.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.4.%20%20Locating%20and%20Joining%20an%20Overlay"></a><a class="selflink" href="#section-5.4" name="section-5.4">5.4</a>.  Locating and Joining an Overlay</span>

   Before a Peer can attempt to join a P2PSIP Overlay, it must first
   obtain a Node-ID, configuration information, and optionally a set of
   credentials.  The Node-ID is an identifier that uniquely identifies
   the Peer within the Overlay, while the credentials show that the Peer
   is allowed to join the Overlay.








<span class="grey">Bryan, et al.                 Informational                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   The P2PSIP WG does not impose a particular mechanism for how the
   Peer-ID and the credentials are obtained, but the RELOAD protocol
   does specify the format for the configuration information and how
   this information may be obtained, along with credentials and a
   Node-ID, from an offline enrollment server.

   Once the configuration information is obtained, RELOAD specifies a
   mechanism whereby a Peer may obtain a multicast-bootstrap address in
   the configuration file and broadcast to this address to attempt
   locating a Bootstrap Peer.  Additionally, the Peer may store previous
   Peers it has seen and attempt using these as Bootstrap Peers, or it
   may obtain an address for a Bootstrap Peer by some other mechanism.
   For more information, see the RELOAD protocol.

   The job of the Bootstrap Peer is simple: refer the Joining Peer to a
   Peer (called the "Admitting Peer") that will help the Joining Peer
   join the network.  The choice of the Admitting Peer will often depend
   on the Joining Peer -- for example, the Admitting Peer may be a Peer
   that will become a neighbor of the Joining Peer in the Overlay.  It
   is possible that the Bootstrap Peer might also serve as the Admitting
   Peer.

   The Admitting Peer will help the Joining Peer learn about other Peers
   in the Overlay and establish connections to them as appropriate.  The
   Admitting Peer and/or the other Peers in the Overlay will also do
   whatever else is required to help the Joining Peer become a fully
   functional Peer.  The details of how this is done will depend on the
   distributed database algorithm used by the Overlay.

   At various stages in this process, the Joining Peer may be asked to
   present its credentials to show that it is authorized to join the
   Overlay.  Similarly, the various Peers contacted may be asked to
   present their credentials so the Joining Peer can verify that it is
   really joining the Overlay it wants to.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.5.%20%20Clients%20and%20Connecting%20Unmodified%20SIP%20Devices"></a><a class="selflink" href="#section-5.5" name="section-5.5">5.5</a>.  Clients and Connecting Unmodified SIP Devices</span>

   As mentioned above, in RELOAD, from the perspective of the protocol,
   Clients are simply peers that do not store information, do not route
   messages, and have not inserted themselves into the Overlay.  The
   same protocol is used for the actual message exchanged.  Note that
   while the protocol is the same, the Client need not implement all the
   capabilities of a Peer.  If, for example, it never routes messages,
   it will not need to be capable of processing such messages or
   understanding a DHT.






<span class="grey">Bryan, et al.                 Informational                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   For SIP devices, another way to realize this functionality is for a
   Peer to behave as a proxy/registrar as specified in [<a href="rfc3261.html" title='"SIP: Session Initiation Protocol"'>RFC3261</a>].  SIP
   devices then use standard SIP mechanisms to add, update, and remove
   registrations and to send SIP messages to Peers and other Clients.
   The authors here refer to these devices simply as a "SIP UA", not a
   "P2PSIP Client", to distinguish it from the concept described above.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.6.%20%20Architecture"></a><a class="selflink" href="#section-5.6" name="section-5.6">5.6</a>.  Architecture</span>

   The architecture adopted by RELOAD to implement P2PSIP is shown
   below.  An application (for example, SIP or another application using
   RELOAD) uses RELOAD to locate other Peers and (optionally) to
   establish connections to those Peers, potentially across NATs.
   Messages may still be exchanged directly between the Peers.  The
   overall block diagram for the architecture is as follows:

                       __________________________
                      |                          |
                      |    SIP, other apps...    |
                      |       ___________________|
                      |      |   RELOAD Layer    |
                      |______|___________________|
                      |     Transport Layer      |
                      |__________________________|

              Figure 3: Architecture for Implementing P2PSIP

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   This specification is an overview of existing specifications and does
   not introduce any security considerations on its own.  Please refer
   to the security considerations of the respective specifications,
   particularly the RELOAD protocol specification ([<a href="rfc6940.html" title='"REsource LOcation And Discovery (RELOAD) Base Protocol"'>RFC6940</a>]) for
   further details.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Informative%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Informative References</span>

   [<a id="ref-Chord" name="ref-Chord">Chord</a>]    Stoica, I., Morris, R., Liben-Nowell, D., Karger, D.,
              Kaashoek, M., Dabek, F., and H. Balakrishnan, "Chord: A
              scalable peer-to-peer lookup protocol for internet
              applications", IEEE/ACM Transactions on Networking,
              Volume 11, Issue 1, pp. 17-32,
              DOI 10.1109/TNET.2002.808407, February 2003.

   [<a id="ref-P2PSIP" name="ref-P2PSIP">P2PSIP</a>]   Jennings, C., Lowekamp, B., Rescorla, E., Baset, S.,
              Schulzrinne, H., and T. Schmidt, "A SIP Usage for RELOAD",
              Work in Progress, <a href="https://tools.ietf.org/html/draft-ietf-p2psip-sip-21">draft-ietf-p2psip-sip-21</a>, April 2016.




<span class="grey">Bryan, et al.                 Informational                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   [<a id="ref-RFC2136" name="ref-RFC2136">RFC2136</a>]  Vixie, P., Ed., Thomson, S., Rekhter, Y., and J. Bound,
              "Dynamic Updates in the Domain Name System (DNS UPDATE)",
              <a href="rfc2136.html">RFC 2136</a>, DOI 10.17487/RFC2136, April 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2136">http://www.rfc-editor.org/info/rfc2136</a>&gt;.

   [<a id="ref-RFC3261" name="ref-RFC3261">RFC3261</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, "SIP: Session Initiation Protocol", <a href="rfc3261.html">RFC 3261</a>,
              DOI 10.17487/RFC3261, June 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3261">http://www.rfc-editor.org/info/rfc3261</a>&gt;.

   [<a id="ref-RFC3263" name="ref-RFC3263">RFC3263</a>]  Rosenberg, J. and H. Schulzrinne, "Session Initiation
              Protocol (SIP): Locating SIP Servers", <a href="rfc3263.html">RFC 3263</a>,
              DOI 10.17487/RFC3263, June 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3263">http://www.rfc-editor.org/info/rfc3263</a>&gt;.

   [<a id="ref-RFC3986" name="ref-RFC3986">RFC3986</a>]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              <a href="rfc3986.html">RFC 3986</a>, DOI 10.17487/RFC3986, January 2005,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3986">http://www.rfc-editor.org/info/rfc3986</a>&gt;.

   [<a id="ref-RFC4795" name="ref-RFC4795">RFC4795</a>]  Aboba, B., Thaler, D., and L. Esibov, "Link-local
              Multicast Name Resolution (LLMNR)", <a href="rfc4795.html">RFC 4795</a>,
              DOI 10.17487/RFC4795, January 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4795">http://www.rfc-editor.org/info/rfc4795</a>&gt;.

   [<a id="ref-RFC5245" name="ref-RFC5245">RFC5245</a>]  Rosenberg, J., "Interactive Connectivity Establishment
              (ICE): A Protocol for Network Address Translator (NAT)
              Traversal for Offer/Answer Protocols", <a href="rfc5245.html">RFC 5245</a>,
              DOI 10.17487/RFC5245, April 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5245">http://www.rfc-editor.org/info/rfc5245</a>&gt;.

   [<a id="ref-RFC5766" name="ref-RFC5766">RFC5766</a>]  Mahy, R., Matthews, P., and J. Rosenberg, "Traversal Using
              Relays around NAT (TURN): Relay Extensions to Session
              Traversal Utilities for NAT (STUN)", <a href="rfc5766.html">RFC 5766</a>,
              DOI 10.17487/RFC5766, April 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5766">http://www.rfc-editor.org/info/rfc5766</a>&gt;.

   [<a id="ref-RFC6762" name="ref-RFC6762">RFC6762</a>]  Cheshire, S. and M. Krochmal, "Multicast DNS", <a href="rfc6762.html">RFC 6762</a>,
              DOI 10.17487/RFC6762, February 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6762">http://www.rfc-editor.org/info/rfc6762</a>&gt;.

   [<a id="ref-RFC6763" name="ref-RFC6763">RFC6763</a>]  Cheshire, S. and M. Krochmal, "DNS-Based Service
              Discovery", <a href="rfc6763.html">RFC 6763</a>, DOI 10.17487/RFC6763, February 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6763">http://www.rfc-editor.org/info/rfc6763</a>&gt;.






<span class="grey">Bryan, et al.                 Informational                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


   [<a id="ref-RFC6940" name="ref-RFC6940">RFC6940</a>]  Jennings, C., Lowekamp, B., Ed., Rescorla, E., Baset, S.,
              and H. Schulzrinne, "REsource LOcation And Discovery
              (RELOAD) Base Protocol", <a href="rfc6940.html">RFC 6940</a>, DOI 10.17487/RFC6940,
              January 2014, &lt;<a href="http://www.rfc-editor.org/info/rfc6940">http://www.rfc-editor.org/info/rfc6940</a>&gt;.

   [<a id="ref-RFC7363" name="ref-RFC7363">RFC7363</a>]  Maenpaa, J. and G. Camarillo, "Self-Tuning Distributed
              Hash Table (DHT) for REsource LOcation And Discovery
              (RELOAD)", <a href="rfc7363.html">RFC 7363</a>, DOI 10.17487/RFC7363, September 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7363">http://www.rfc-editor.org/info/rfc7363</a>&gt;.

   [<a id="ref-RFC7374" name="ref-RFC7374">RFC7374</a>]  Maenpaa, J. and G. Camarillo, "Service Discovery Usage for
              REsource LOcation And Discovery (RELOAD)", <a href="rfc7374.html">RFC 7374</a>,
              DOI 10.17487/RFC7374, October 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7374">http://www.rfc-editor.org/info/rfc7374</a>&gt;.

   [<a id="ref-RFC7851" name="ref-RFC7851">RFC7851</a>]  Song, H., Jiang, X., Even, R., Bryan, D., and Y. Sun,
              "Peer-to-Peer (P2P) Overlay Diagnostics", <a href="rfc7851.html">RFC 7851</a>,
              DOI 10.17487/RFC7851, May 2016,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7851">http://www.rfc-editor.org/info/rfc7851</a>&gt;.
































<span class="grey">Bryan, et al.                 Informational                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7890.html">RFC 7890</a>             P2PSIP Concepts and Terminology           June 2016</span>


Authors' Addresses

   David A. Bryan
   Cogent Force, LLC
   Cedar Park, Texas
   United States

   Email: dbryan@ethernot.org


   Philip Matthews
   Nokia
   600 March Road
   Ottawa, Ontario  K2K 2E6
   Canada

   Phone: +1 613 784 3139
   Email: philip_matthews@magma.ca


   Eunsoo Shim
   Samsung Electronics Co., Ltd.
   San 14, Nongseo-dong, Giheung-gu
   Yongin-si, Gyeonggi-do  446-712
   South Korea

   Email: eunsooshim@gmail.com


   Dean Willis
   Softarmor Systems
   3100 Independence Pkwy #311-164
   Plano, Texas  75075
   United States

   Phone: +1 214 504 1987
   Email: dean.willis@softarmor.com


   Spencer Dawkins
   Huawei Technologies (USA)

   Phone: +1 214 755 3870
   Email: spencerdawkins.ietf@gmail.com







Bryan, et al.                 Informational                    [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7890 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:19 GMT --></html>