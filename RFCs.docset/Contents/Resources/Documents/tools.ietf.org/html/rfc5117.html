<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc5117 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:42:29 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.119" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-wenger-avt-topologies" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:5117" name="DC.Identifier"/>
<meta content="January, 2008" name="DC.Date.Issued"/>
<meta content="Westerlund, Magnus" name="DC.Creator"/>
<meta content="Wenger, Stephan" name="DC.Creator"/>
<meta content="This document discusses multi-endpoint topologies used in Real-time
Transport Protocol (RTP)-based environments. In particular,
centralized topologies commonly employed in the video conferencing
industry are mapped to the RTP terminology. This memo provides
information for the Internet community." name="DC.Description.Abstract"/>
<meta content="RTP Topologies" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 5117 - RTP Topologies</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgbrown" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc5117.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc5117" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-avt-topologies" title="draft-ietf-avt-topologies">draft-ietf-avt-to...</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc5117" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc5117" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=5117">Errata</a>]        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Obsoleted by: <a href="rfc7667.html">7667</a>                                         INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                      M. Westerlund
Request for Comments: 5117                                      Ericsson
Category: Informational                                        S. Wenger
                                                                   Nokia
                                                            January 2008


                             <span class="h1">RTP Topologies</span>

Status of This Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Abstract

   This document discusses multi-endpoint topologies used in Real-time
   Transport Protocol (RTP)-based environments.  In particular,
   centralized topologies commonly employed in the video conferencing
   industry are mapped to the RTP terminology.






























<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Definitions .....................................................<a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>. Glossary ...................................................<a href="#page-3">3</a>
      <a href="#section-2.2">2.2</a>. Indicating Requirement Levels ..............................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. Topologies ......................................................<a href="#page-3">3</a>
      <a href="#section-3.1">3.1</a>. Point to Point .............................................<a href="#page-4">4</a>
      <a href="#section-3.2">3.2</a>. Point to Multipoint Using Multicast ........................<a href="#page-5">5</a>
      <a href="#section-3.3">3.3</a>. Point to Multipoint Using the <a href="rfc3550.html">RFC 3550</a> Translator ..........<a href="#page-6">6</a>
      <a href="#section-3.4">3.4</a>. Point to Multipoint Using the <a href="rfc3550.html">RFC 3550</a> Mixer Model .........<a href="#page-9">9</a>
      <a href="#section-3.5">3.5</a>. Point to Multipoint Using Video Switching MCUs ............<a href="#page-11">11</a>
      <a href="#section-3.6">3.6</a>. Point to Multipoint Using RTCP-Terminating MCU ............<a href="#page-12">12</a>
      <a href="#section-3.7">3.7</a>. Non-Symmetric Mixer/Translators ...........................<a href="#page-13">13</a>
      <a href="#section-3.8">3.8</a>. Combining Topologies ......................................<a href="#page-14">14</a>
   <a href="#section-4">4</a>. Comparing Topologies ...........................................<a href="#page-15">15</a>
      <a href="#section-4.1">4.1</a>. Topology Properties .......................................<a href="#page-15">15</a>
           <a href="#section-4.1.1">4.1.1</a>. All to All Media Transmission ......................<a href="#page-15">15</a>
           <a href="#section-4.1.2">4.1.2</a>. Transport or Media Interoperability ................<a href="#page-16">16</a>
           <a href="#section-4.1.3">4.1.3</a>. Per Domain Bit-Rate Adaptation .....................<a href="#page-16">16</a>
           <a href="#section-4.1.4">4.1.4</a>. Aggregation of Media ...............................<a href="#page-16">16</a>
           <a href="#section-4.1.5">4.1.5</a>. View of All Session Participants ...................<a href="#page-16">16</a>
           <a href="#section-4.1.6">4.1.6</a>. Loop Detection .....................................<a href="#page-17">17</a>
      <a href="#section-4.2">4.2</a>. Comparison of Topologies ..................................<a href="#page-17">17</a>
   <a href="#section-5">5</a>. Security Considerations ........................................<a href="#page-17">17</a>
   <a href="#section-6">6</a>. Acknowledgements ...............................................<a href="#page-19">19</a>
   <a href="#section-7">7</a>. References .....................................................<a href="#page-19">19</a>
      <a href="#section-7.1">7.1</a>. Normative References ......................................<a href="#page-19">19</a>
      <a href="#section-7.2">7.2</a>. Informative References ....................................<a href="#page-20">20</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   When working on the Codec Control Messages [<a href="#ref-CCM" title='"Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)"'>CCM</a>], considerable
   confusion was noticed in the community with respect to terms such as
   Multipoint Control Unit (MCU), Mixer, and Translator, and their usage
   in various topologies.  This document tries to address this confusion
   by providing a common information basis for future discussion and
   specification work.  It attempts to clarify and explain sections of
   the Real-time Transport Protocol (RTP) spec [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>] in an informal
   way.  It is not intended to update or change what is normatively
   specified within <a href="rfc3550.html">RFC 3550</a>.

   When the Audio-Visual Profile with Feedback (AVPF) [<a href="rfc4585.html" title='"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)"'>RFC4585</a>] was
   developed the main emphasis lay in the efficient support of point to
   point and small multipoint scenarios without centralized multipoint
   control.  However, in practice, many small multipoint conferences
   operate utilizing devices known as Multipoint Control Units (MCUs).
   MCUs may implement Mixer or Translator (in RTP [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>] terminology)



<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   functionality and signalling support.  They may also contain
   additional application functionality.  This document focuses on the
   media transport aspects of the MCU that can be realized using RTP, as
   discussed below.  Further considered are the properties of Mixers and
   Translators, and how some types of deployed MCUs deviate from these
   properties.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Definitions"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Definitions</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Glossary"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Glossary</span>

   ASM    - Any Source Multicast
   AVPF   - The Extended RTP Profile for RTCP-based Feedback
   CSRC   - Contributing Source
   Link   - The data transport to the next IP hop
   MCU    - Multipoint Control Unit
   Path   - The concatenation of multiple links, resulting in an
            end-to-end data transfer.
   PtM    - Point to Multipoint
   PtP    - Point to Point
   SSM    - Source-Specific Multicast
   SSRC   - Synchronization Source

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Indicating%20Requirement%20Levels"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Indicating Requirement Levels</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   The <a href="rfc2119.html">RFC 2119</a> language is used in this document to highlight those
   important requirements and/or resulting solutions that are necessary
   to address the issues raised in this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Topologies"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Topologies</span>

   This subsection defines several basic topologies that are relevant
   for codec control.  The first four relate to the RTP system model
   utilizing multicast and/or unicast, as envisioned in <a href="rfc3550.html">RFC 3550</a>.  The
   last two topologies, in contrast, describe the deployed system models
   as used in many H.323 [<a href="#ref-H323" title='"Packet-based multimedia communications systems"'>H323</a>] video conferences, where both the media
   streams and the RTP Control Protocol (RTCP) control traffic terminate
   at the MCU.  In these two cases, the media sender does not receive
   the (unmodified or Translator-modified) Receiver Reports from all
   sources (which it needs to interpret based on Synchronization Source
   (SSRC) values) and therefore has no full information about all the
   endpoint's situation as reported in RTCP Receiver Reports (RRs).
   More topologies can be constructed by combining any of the models;
   see <a href="#section-3.8">Section 3.8</a>.



<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   The topologies may be referenced in other documents by a shortcut
   name, indicated by the prefix "Topo-".

   For each of the RTP-defined topologies, we discuss how RTP, RTCP, and
   the carried media are handled.  With respect to RTCP, we also
   introduce the handling of RTCP feedback messages as defined in
   [<a href="rfc4585.html" title='"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)"'>RFC4585</a>] and [<a href="#ref-CCM" title='"Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)"'>CCM</a>].  Any important differences between the two will
   be illuminated in the discussion.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Point%20to%20Point"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Point to Point</span>

   Shortcut name: Topo-Point-to-Point

   The Point to Point (PtP) topology (Figure 1) consists of two
   endpoints, communicating using unicast.  Both RTP and RTCP traffic
   are conveyed endpoint-to-endpoint, using unicast traffic only (even
   if, in exotic cases, this unicast traffic happens to be conveyed over
   an IP-multicast address).

            +---+         +---+
            | A |&lt;-------&gt;| B |
            +---+         +---+

         Figure 1 - Point to Point

   The main property of this topology is that A sends to B, and only B,
   while B sends to A, and only A.  This avoids all complexities of
   handling multiple endpoints and combining the requirements from them.
   Note that an endpoint can still use multiple RTP Synchronization
   Sources (SSRCs) in an RTP session.

   RTCP feedback messages for the indicated SSRCs are communicated
   directly between the endpoints.  Therefore, this topology poses
   minimal (if any) issues for any feedback messages.

















<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Point%20to%20Multipoint%20Using%20Multicast"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Point to Multipoint Using Multicast</span>

   Shortcut name: Topo-Multicast

                       +-----+
            +---+     /      \    +---+
            | A |----/         \---| B |
            +---+   /   Multi-  \  +---+
                   +    Cast     +
            +---+   \  Network  /  +---+
            | C |----\         /---| D |
            +---+     \       /    +---+
                       +-----+

         Figure 2 - Point to Multipoint Using Multicast

   Point to Multipoint (PtM) is defined here as using a multicast
   topology as a transmission model, in which traffic from any
   participant reaches all the other participants, except for cases such
   as:

      o packet loss, or

      o when a participant does not wish to receive the traffic for a
        specific multicast group and therefore has not subscribed to the
        IP-multicast group in question.  This is for the cases where a
        multi-media session is distributed using two or more multicast
        groups.

   In the above context, "traffic" encompasses both RTP and RTCP
   traffic.  The number of participants can vary between one and many,
   as RTP and RTCP scale to very large multicast groups (the theoretical
   limit of the number of participants in a single RTP session is
   approximately two billion).  The above can be realized using Any
   Source Multicast (ASM).  Source-Specific Multicast (SSM) may be also
   be used with RTP.  However, then only the designated source may reach
   all receivers.  Please review [<a href="#ref-RTCP-SSM" title='"RTCP Extensions for Single-Source Multicast Sessions with Unicast Feedback,"'>RTCP-SSM</a>] for how RTCP can be made to
   work in combination with SSM.

   This document is primarily interested in that subset of multicast
   sessions wherein the number of participants in the multicast group is
   so low that it allows the participants to use early or immediate
   feedback, as defined in AVPF [<a href="rfc4585.html" title='"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)"'>RFC4585</a>].  This document refers to
   those groups as "small multicast groups".

   RTCP feedback messages in multicast will, like media, reach everyone
   (subject to packet losses and multicast group subscription).
   Therefore, the feedback suppression mechanism discussed in [<a href="rfc4585.html" title='"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)"'>RFC4585</a>]



<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   is required.  Each individual node needs to process every feedback
   message it receives to determine if it is affected or if the feedback
   message applies only to some other participant.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Point%20to%20Multipoint%20Using%20the%20RFC%203550%20Translator"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Point to Multipoint Using the <a href="rfc3550.html">RFC 3550</a> Translator</span>

   Shortcut name: Topo-Translator

   Two main categories of Translators can be distinguished:

   Transport Translators (Topo-Trn-Translator) do not modify the media
   stream itself, but are concerned with transport parameters.
   Transport parameters, in the sense of this section, comprise the
   transport addresses (to bridge different domains) and the media
   packetization to allow other transport protocols to be interconnected
   to a session (in gateways).  Of the transport Translators, this memo
   is primarily interested in those that use RTP on both sides, and this
   is assumed henceforth.  Translators that bridge between different
   protocol worlds need to be concerned about the mapping of the
   SSRC/CSRC (Contributing Source) concept to the non-RTP protocol.
   When designing a Translator to a non-RTP-based media transport, one
   crucial factor lies in how to handle different sources and their
   identities.  This problem space is not discussed henceforth.

   Media Translators (Topo-Media-Translator), in contrast, modify the
   media stream itself.  This process is commonly known as transcoding.
   The modification of the media stream can be as small as removing
   parts of the stream, and it can go all the way to a full transcoding
   (down to the sample level or equivalent) utilizing a different media
   codec.  Media Translators are commonly used to connect entities
   without a common interoperability point.

   Stand-alone Media Translators are rare.  Most commonly, a combination
   of Transport and Media Translators are used to translate both the
   media stream and the transport aspects of a stream between two
   transport domains (or clouds).

   Both Translator types share common attributes that separate them from
   Mixers.  For each media stream that the Translator receives, it
   generates an individual stream in the other domain.  A Translator
   always keeps the SSRC for a stream across the translation, where a
   Mixer can select a media stream, or send them out mixed, always under
   its own SSRC, using the CSRC field to indicate the source(s) of the
   content.







<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   The RTCP translation process can be trivial, for example, when
   Transport Translators just need to adjust IP addresses, or they can
   be quite complex as in the case of media Translators.  See <a href="#section-7.2">Section</a>
   <a href="#section-7.2">7.2</a> of [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>].

                    +-----+
         +---+     /       \     +------------+      +---+
         | A |&lt;---/         \    |            |&lt;----&gt;| B |
         +---+   /   Multi-  \   |            |      +---+
                +    Cast     +-&gt;| Translator |
         +---+   \  Network  /   |            |      +---+
         | C |&lt;---\         /    |            |&lt;----&gt;| D |
         +---+     \       /     +------------+      +---+
                    +-----+

      Figure 3 - Point to Multipoint Using a Translator

   Figure 3 depicts an example of a Transport Translator performing at
   least IP address translation.  It allows the (non-multicast-capable)
   participants B and D to take part in a multicast session by having
   the Translator forward their unicast traffic to the multicast
   addresses in use, and vice versa.  It must also forward B's traffic
   to D, and vice versa, to provide each of B and D with a complete view
   of the session.

   If B were behind a limited network path, the Translator may perform
   media transcoding to allow the traffic received from the other
   participants to reach B without overloading the path.

   When, in the example depicted in Figure 3, the Translator acts only
   as a Transport Translator, then the RTCP traffic can simply be
   forwarded, similar to the media traffic.  However, when media
   translation occurs, the Translator's task becomes substantially more
   complex, even with respect to the RTCP traffic.  In this case, the
   Translator needs to rewrite B's RTCP Receiver Report before
   forwarding them to D and the multicast network.  The rewriting is
   needed as the stream received by B is not the same stream as the
   other participants receive.  For example, the number of packets
   transmitted to B may be lower than what D receives, due to the
   different media format.  Therefore, if the Receiver Reports were
   forwarded without changes, the extended highest sequence number would
   indicate that B were substantially behind in reception, while it most
   likely it would not be.  Therefore, the Translator must translate
   that number to a corresponding sequence number for the stream the
   Translator received.  Similar arguments can be made for most other
   fields in the RTCP Receiver Reports.





<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   As specified in <a href="rfc3550.html#section-7.1">Section 7.1 of [RFC3550]</a>, the SSRC space is common
   for all participants in the session, independent of on which side
   they are of the Translator.  Therefore, it is the responsibility of
   the participants to run SSRC collision detection, and the SSRC is a
   field the Translator should not change.

         +---+      +------------+      +---+
         | A |&lt;----&gt;|            |&lt;----&gt;| B |
         +---+      |            |      +---+
                    | Translator |
         +---+      |            |      +---+
         | C |&lt;----&gt;|            |&lt;----&gt;| D |
         +---+      +------------+      +---+

      Figure 4 - RTP Translator (Relay) with Only Unicast Paths

   Another Translator scenario is depicted in Figure 4.  Herein, the
   Translator connects multiple users of a conference through unicast.
   This can be implemented using a very simple transport Translator,
   which in this document is called a relay.  The relay forwards all
   traffic it receives, both RTP and RTCP, to all other participants.
   In doing so, a multicast network is emulated without relying on a
   multicast-capable network infrastructure.

   A Translator normally does not use an SSRC of its own, and is not
   visible as an active participant in the session.  One exception can
   be conceived when a Translator acts as a quality monitor that sends
   RTCP reports and therefore is required to have an SSRC.  Another
   example is the case when a Translator is prepared to use RTCP
   feedback messages.  This may, for example, occur when it suffers
   packet loss of important video packets and wants to trigger repair by
   the media sender, by sending feedback messages.  To be able to do
   this it needs to have a unique SSRC.

   A media Translator may in some cases act on behalf of the "real"
   source and respond to RTCP feedback messages.  This may occur, for
   example, when a receiver requests a bandwidth reduction, and the
   media Translator has not detected any congestion or other reasons for
   bandwidth reduction between the media source and itself.  In that
   case, it is sensible that the media Translator reacts to the codec
   control messages itself, for example, by transcoding to a lower media
   rate.  If it were not reacting, the media quality in the media
   sender's domain may suffer, as a result of the media sender adjusting
   its media rate (and quality) according to the needs of the slow
   past-Translator endpoint, at the expense of the rate and quality of
   all other session participants.





<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   In general, a Translator implementation should consider which RTCP
   feedback messages or codec-control messages it needs to understand in
   relation to the functionality of the Translator itself.  This is
   completely in line with the requirement to also translate RTCP
   messages between the domains.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Point%20to%20Multipoint%20Using%20the%20RFC%203550%20Mixer%20Model"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Point to Multipoint Using the <a href="rfc3550.html">RFC 3550</a> Mixer Model</span>

   Shortcut name: Topo-Mixer

   A Mixer is a middlebox that aggregates multiple RTP streams, which
   are part of a session, by mixing the media data and generating a new
   RTP stream.  One common application for a Mixer is to allow a
   participant to receive a session with a reduced amount of resources.

                    +-----+
         +---+     /       \     +-----------+      +---+
         | A |&lt;---/         \    |           |&lt;----&gt;| B |
         +---+   /   Multi-  \   |           |      +---+
                +    Cast     +-&gt;|   Mixer   |
         +---+   \  Network  /   |           |      +---+
         | C |&lt;---\         /    |           |&lt;----&gt;| D |
         +---+     \       /     +-----------+      +---+
                    +-----+

      Figure 5 - Point to Multipoint Using the <a href="rfc3550.html">RFC 3550</a> Mixer Model

   A Mixer can be viewed as a device terminating the media streams
   received from other session participants.  Using the media data from
   the received media streams, a Mixer generates a media stream that is
   sent to the session participant.

   The content that the Mixer provides is the mixed aggregate of what
   the Mixer receives over the PtP or PtM paths, which are part of the
   same conference session.

   The Mixer is the content source, as it mixes the content (often in
   the uncompressed domain) and then encodes it for transmission to a
   participant.  The CSRC Count (CC) and CSRC fields in the RTP header
   are used to indicate the contributors of to the newly generated
   stream.  The SSRCs of the to-be-mixed streams on the Mixer input
   appear as the CSRCs at the Mixer output.  That output stream uses a
   unique SSRC that identifies the Mixer's stream.  The CSRC are
   forwarded between the two domains to allow for loop detection and
   identification of sources that are part of the global session.  Note
   that <a href="rfc3550.html#section-7.1">Section 7.1 of RFC 3550</a> requires the SSRC space to be shared
   between domains for these reasons.




<span class="grey">Westerlund &amp; Wenger          Informational                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   The Mixer is responsible for generating RTCP packets in accordance
   with its role.  It is a receiver and should therefore send reception
   reports for the media streams it receives.  In its role as a media
   sender, it should also generate Sender Reports for those media
   streams sent.  As specified in <a href="rfc3550.html#section-7.3">Section 7.3 of RFC 3550</a>, a Mixer must
   not forward RTCP unaltered between the two domains.

   The Mixer depicted in Figure 5 is involved in three domains that need
   to be separated: the multicast network, participant B, and
   participant D.  The Mixer produces different mixed streams to B and
   D, as the one to B may contain content received from D, and vice
   versa.  However, the Mixer only needs one SSRC in each domain that is
   the receiving entity and transmitter of mixed content.

   In the multicast domain, a Mixer still needs to provide a mixed view
   of the other domains.  This makes the Mixer simpler to implement and
   avoids any issues with advanced RTCP handling or loop detection,
   which would be problematic if the Mixer were providing non-symmetric
   behavior.  Please see <a href="#section-3.7">Section 3.7</a> for more discussion on this topic.

   A Mixer is responsible for receiving RTCP feedback messages and
   handling them appropriately.  The definition of "appropriate" depends
   on the message itself and the context.  In some cases, the reception
   of a codec-control message may result in the generation and
   transmission of RTCP feedback messages by the Mixer to the
   participants in the other domain.  In other cases, a message is
   handled by the Mixer itself and therefore not forwarded to any other
   domain.

   When replacing the multicast network in Figure 5 (to the left of the
   Mixer) with individual unicast paths as depicted in Figure 6, the
   Mixer model is very similar to the one discussed in <a href="#section-3.6">Section 3.6</a>
   below.  Please see the discussion in <a href="#section-3.6">Section 3.6</a> about the
   differences between these two models.

         +---+      +------------+      +---+
         | A |&lt;----&gt;|            |&lt;----&gt;| B |
         +---+      |            |      +---+
                    |   Mixer    |
         +---+      |            |      +---+
         | C |&lt;----&gt;|            |&lt;----&gt;| D |
         +---+      +------------+      +---+

      Figure 6 - RTP Mixer with Only Unicast Paths







<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.5.%20%20Point%20to%20Multipoint%20Using%20Video%20Switching%20MCUs"></a><a class="selflink" href="#section-3.5" name="section-3.5">3.5</a>.  Point to Multipoint Using Video Switching MCUs</span>

   Shortcut name: Topo-Video-switch-MCU

         +---+      +------------+      +---+
         | A |------| Multipoint |------| B |
         +---+      |  Control   |      +---+
                    |   Unit     |
         +---+      |   (MCU)    |      +---+
         | C |------|            |------| D |
         +---+      +------------+      +---+

      Figure 7 - Point to Multipoint Using a Video Switching MCU

   This PtM topology is still deployed today, although the
   RTCP-terminating MCUs, as discussed in the next section, are perhaps
   more common.  This topology, as well as the following one, reflect
   today's lack of wide availability of IP multicast technologies, as
   well as the simplicity of content switching when compared to content
   mixing.  The technology is commonly implemented in what is known as
   "Video Switching MCUs".

   A video switching MCU forwards to a participant a single media
   stream, selected from the available streams.  The criteria for
   selection are often based on voice activity in the audio-visual
   conference, but other conference management mechanisms (like
   presentation mode or explicit floor control) are known to exist as
   well.

   The video switching MCU may also perform media translation to modify
   the content in bit-rate, encoding, or resolution.  However, it still
   may indicate the original sender of the content through the SSRC.  In
   this case, the values of the CC and CSRC fields are retained.

   If not terminating RTP, the RTCP Sender Reports are forwarded for the
   currently selected sender.  All RTCP Receiver Reports are freely
   forwarded between the participants.  In addition, the MCU may also
   originate RTCP control traffic in order to control the session and/or
   report on status from its viewpoint.

   The video switching MCU has most of the attributes of a Translator.
   However, its stream selection is a mixing behavior.  This behavior
   has some RTP and RTCP issues associated with it.  The suppression of
   all but one media stream results in most participants seeing only a
   subset of the sent media streams at any given time, often a single
   stream per conference.  Therefore, RTCP Receiver Reports only report
   on these streams.  Consequently, the media senders that are not
   currently forwarded receive a view of the session that indicates



<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   their media streams disappear somewhere en route.  This makes the use
   of RTCP for congestion control, or any type of quality reporting,
   very problematic.

   To avoid the aforementioned issues, the MCU needs to implement two
   features.  First, it needs to act as a Mixer (see <a href="#section-3.4">Section 3.4</a>) and
   forward the selected media stream under its own SSRC and with the
   appropriate CSRC values.  Second, the MCU needs to modify the RTCP
   RRs it forwards between the domains.  As a result, it is RECOMMENDED
   that one implement a centralized video switching conference using a
   Mixer according to <a href="rfc3550.html">RFC 3550</a>, instead of the shortcut implementation
   described here.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.6.%20%20Point%20to%20Multipoint%20Using%20RTCP-Terminating%20MCU"></a><a class="selflink" href="#section-3.6" name="section-3.6">3.6</a>.  Point to Multipoint Using RTCP-Terminating MCU</span>

   Shortcut name: Topo-RTCP-terminating-MCU

         +---+      +------------+      +---+
         | A |&lt;----&gt;| Multipoint |&lt;----&gt;| B |
         +---+      |  Control   |      +---+
                    |   Unit     |
         +---+      |   (MCU)    |      +---+
         | C |&lt;----&gt;|            |&lt;----&gt;| D |
         +---+      +------------+      +---+

      Figure 8 - Point to Multipoint Using Content Modifying MCUs

   In this PtM scenario, each participant runs an RTP point-to-point
   session between itself and the MCU.  This is a very commonly deployed
   topology in multipoint video conferencing.  The content that the MCU
   provides to each participant is either:

   a) a selection of the content received from the other participants,
      or

   b) the mixed aggregate of what the MCU receives from the other PtP
      paths, which are part of the same conference session.

   In case a), the MCU may modify the content in bit-rate, encoding, or
   resolution.  No explicit RTP mechanism is used to establish the
   relationship between the original media sender and the version the
   MCU sends.  In other words, the outgoing sessions typically use a
   different SSRC, and may well use a different payload type (PT), even
   if this different PT happens to be mapped to the same media type.
   This is a result of the individually negotiated session for each
   participant.





<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   In case b), the MCU is the content source as it mixes the content and
   then encodes it for transmission to a participant.  According to RTP
   [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>], the SSRC of the contributors are to be signalled using the
   CSRC/CC mechanism.  In practice, today, most deployed MCUs do not
   implement this feature.  Instead, the identification of the
   participants whose content is included in the Mixer's output is not
   indicated through any explicit RTP mechanism.  That is, most deployed
   MCUs set the CSRC Count (CC) field in the RTP header to zero, thereby
   indicating no available CSRC information, even if they could identify
   the content sources as suggested in RTP.

   The main feature that sets this topology apart from what <a href="rfc3550.html">RFC 3550</a>
   describes is the breaking of the common RTP session across the
   centralized device, such as the MCU.  This results in the loss of
   explicit RTP-level indication of all participants.  If one were using
   the mechanisms available in RTP and RTCP to signal this explicitly,
   the topology would follow the approach of an RTP Mixer.  The lack of
   explicit indication has at least the following potential problems:

   1) Loop detection cannot be performed on the RTP level.  When
      carelessly connecting two misconfigured MCUs, a loop could be
      generated.

   2) There is no information about active media senders available in
      the RTP packet.  As this information is missing, receivers cannot
      use it.  It also deprives the client of information related to
      currently active senders in a machine-usable way, thus preventing
      clients from indicating currently active speakers in user
      interfaces, etc.

   Note that deployed MCUs (and endpoints) rely on signalling layer
   mechanisms for the identification of the contributing sources, for
   example, a SIP conferencing package [<a href="rfc4575.html" title='"A Session Initiation Protocol (SIP) Event Package for Conference State"'>RFC4575</a>].  This alleviates, to
   some extent, the aforementioned issues resulting from ignoring RTP's
   CSRC mechanism.

   As a result of the shortcomings of this topology, it is RECOMMENDED
   to instead implement the Mixer concept as specified by <a href="rfc3550.html">RFC 3550</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.7.%20%20Non-Symmetric%20Mixer%2FTranslators"></a><a class="selflink" href="#section-3.7" name="section-3.7">3.7</a>.  Non-Symmetric Mixer/Translators</span>

   Shortcut name: Topo-Asymmetric

   It is theoretically possible to construct an MCU that is a Mixer in
   one direction and a Translator in another.  The main reason to
   consider this would be to allow topologies similar to Figure 5, where
   the Mixer does not need to mix in the direction from B or D towards
   the multicast domains with A and C.  Instead, the media streams from



<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   B and D are forwarded without changes.  Avoiding this mixing would
   save media processing resources that perform the mixing in cases
   where it isn't needed.  However, there would still be a need to mix
   B's stream towards D.  Only in the direction B -&gt; multicast domain or
   D -&gt; multicast domain would it be possible to work as a Translator.
   In all other directions, it would function as a Mixer.

   The Mixer/Translator would still need to process and change the RTCP
   before forwarding it in the directions of B or D to the multicast
   domain.  One issue is that A and C do not know about the mixed-media
   stream the Mixer sends to either B or D.  Thus, any reports related
   to these streams must be removed.  Also, receiver reports related to
   A and C's media stream would be missing.  To avoid A and C thinking
   that B and D aren't receiving A and C at all, the Mixer needs to
   insert its Receiver Reports for the streams from A and C into B and
   D's Sender Reports.  In the opposite direction, the Receiver Reports
   from A and C about B's and D's stream also need to be aggregated into
   the Mixer's Receiver Reports sent to B and D.  Since B and D only
   have the Mixer as source for the stream, all RTCP from A and C must
   be suppressed by the Mixer.

   This topology is so problematic and it is so easy to get the RTCP
   processing wrong, that it is NOT RECOMMENDED to implement this
   topology.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.8.%20%20Combining%20Topologies"></a><a class="selflink" href="#section-3.8" name="section-3.8">3.8</a>.  Combining Topologies</span>

   Topologies can be combined and linked to each other using Mixers or
   Translators.  However, care must be taken in handling the SSRC/CSRC
   space.  A Mixer will not forward RTCP from sources in other domains,
   but will instead generate its own RTCP packets for each domain it
   mixes into, including the necessary Source Description (SDES)
   information for both the CSRCs and the SSRCs.  Thus, in a mixed
   domain, the only SSRCs seen will be the ones present in the domain,
   while there can be CSRCs from all the domains connected together with
   a combination of Mixers and Translators.  The combined SSRC and CSRC
   space is common over any Translator or Mixer.  This is important to
   facilitate loop detection, something that is likely to be even more
   important in combined topologies due to the mixed behavior between
   the domains.  Any hybrid, like the Topo-Video-switch-MCU or
   Topo-Asymmetric, requires considerable thought on how RTCP is dealt
   with.









<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Comparing%20Topologies"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Comparing Topologies</span>

   The topologies discussed in <a href="#section-3">Section 3</a> have different properties.
   This section first lists these properties and then maps the different
   topologies to them.  Please note that even if a certain property is
   supported within a particular topology concept, the necessary
   functionality may, in many cases, be optional to implement.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Topology%20Properties"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Topology Properties</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.1.%20%20All%20to%20All%20Media%20Transmission"></a><a class="selflink" href="#section-4.1.1" name="section-4.1.1">4.1.1</a>.  All to All Media Transmission</span>

   Multicast, at least Any Source Multicast (ASM), provides the
   functionality that everyone may send to, or receive from, everyone
   else within the session.  MCUs, Mixers, and Translators may all
   provide that functionality at least on some basic level.  However,
   there are some differences in which type of reachability they
   provide.

   The transport Translator function called "relay", in <a href="#section-3.3">Section 3.3</a>, is
   the one that provides the emulation of ASM that is closest to true
   IP-multicast-based, all to all transmission.  Media Translators,
   Mixers, and the MCU variants do not provide a fully meshed forwarding
   on the transport level; instead, they only allow limited forwarding
   of content from the other session participants.

   The "all to all media transmission" requires that any media
   transmitting entity considers the path to the least capable receiver.
   Otherwise, the media transmissions may overload that path.
   Therefore, a media sender needs to monitor the path from itself to
   any of the participants, to detect the currently least capable
   receiver, and adapt its sending rate accordingly.  As multiple
   participants may send simultaneously, the available resources may
   vary.  RTCP's Receiver Reports help performing this monitoring, at
   least on a medium time scale.

   The transmission of RTCP automatically adapts to any changes in the
   number of participants due to the transmission algorithm, defined in
   the RTP specification [<a href="rfc3550.html" title='"RTP: A Transport Protocol for Real-Time Applications"'>RFC3550</a>], and the extensions in AVPF [<a href="rfc4585.html" title='"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)"'>RFC4585</a>]
   (when applicable).  That way, the resources utilized for RTCP stay
   within the bounds configured for the session.










<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.2.%20%20Transport%20or%20Media%20Interoperability"></a><a class="selflink" href="#section-4.1.2" name="section-4.1.2">4.1.2</a>.  Transport or Media Interoperability</span>

   Translators, Mixers, and RTCP-terminating MCU all allow changing the
   media encoding or the transport to other properties of the other
   domain, thereby providing extended interoperability in cases where
   the participants lack a common set of media codecs and/or transport
   protocols.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.3.%20%20Per%20Domain%20Bit-Rate%20Adaptation"></a><a class="selflink" href="#section-4.1.3" name="section-4.1.3">4.1.3</a>.  Per Domain Bit-Rate Adaptation</span>

   Participants are most likely to be connected to each other with a
   heterogeneous set of paths.  This makes congestion control in a Point
   to Multipoint set problematic.  For the ASM and "relay" scenario,
   each individual sender has to adapt to the receiver with the least
   capable path.  This is no longer necessary when Media Translators,
   Mixers, or MCUs are involved, as each participant only needs to adapt
   to the slowest path within its own domain.  The Translator, Mixer, or
   MCU topologies all require their respective outgoing streams to
   adjust the bit-rate, packet-rate, etc., to adapt to the least capable
   path in each of the other domains.  That way one can avoid lowering
   the quality to the least-capable participant in all the domains at
   the cost (complexity, delay, equipment) of the Mixer or Translator.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.4.%20%20Aggregation%20of%20Media"></a><a class="selflink" href="#section-4.1.4" name="section-4.1.4">4.1.4</a>.  Aggregation of Media</span>

   In the all to all media property mentioned above and provided by ASM,
   all simultaneous media transmissions share the available bit-rate.
   For participants with limited reception capabilities, this may result
   in a situation where even a minimal acceptable media quality cannot
   be accomplished.  This is the result of multiple media streams
   needing to share the available resources.  The solution to this
   problem is to provide for a Mixer or MCU to aggregate the multiple
   streams into a single one.  This aggregation can be performed
   according to different methods.  Mixing or selection are two common
   methods.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.5.%20%20View%20of%20All%20Session%20Participants"></a><a class="selflink" href="#section-4.1.5" name="section-4.1.5">4.1.5</a>.  View of All Session Participants</span>

   The RTP protocol includes functionality to identify the session
   participants through the use of the SSRC and CSRC fields.  In
   addition, it is capable of carrying some further identity information
   about these participants using the RTCP Source Descriptors (SDES).
   To maintain this functionality, it is necessary that RTCP is handled
   correctly in domain bridging function.  This is specified for
   Translators and Mixers.  The MCU described in <a href="#section-3.5">Section 3.5</a> does not
   entirely fulfill this.  The one described in <a href="#section-3.6">Section 3.6</a> does not
   support this at all.




<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.6.%20%20Loop%20Detection"></a><a class="selflink" href="#section-4.1.6" name="section-4.1.6">4.1.6</a>.  Loop Detection</span>

   In complex topologies with multiple interconnected domains, it is
   possible to form media loops.  RTP and RTCP support detecting such
   loops, as long as the SSRC and CSRC identities are correctly set in
   forwarded packets.  It is likely that loop detection works for the
   MCU, described in <a href="#section-3.5">Section 3.5</a>, at least as long as it forwards the
   RTCP between the participants.  However, the MCU in <a href="#section-3.6">Section 3.6</a> will
   definitely break the loop detection mechanism.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Comparison%20of%20Topologies"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Comparison of Topologies</span>

   The table below attempts to summarize the properties of the different
   topologies.  The legend to the topology abbreviations are:
   Topo-Point-to-Point (PtP), Topo-Multicast (Multic),
   Topo-Trns-Translator (TTrn), Topo-Media-Translator (including
   Transport Translator) (MTrn), Topo-Mixer (Mixer), Topo-Asymmetric
   (ASY), Topo-Video-switch-MCU (MCUs), and Topo-RTCP-terminating-MCU
   (MCUt).  In the table below, Y indicates Yes or full support, N
   indicates No support, (Y) indicates partial support, and N/A
   indicates not applicable.

   Property               PtP  Multic TTrn MTrn Mixer ASY MCUs MCUt
   ------------------------------------------------------------------
   All to All media        N    Y      Y    Y   (Y)   (Y) (Y)  (Y)
   Interoperability        N/A  N      Y    Y    Y     Y   N    Y
   Per Domain Adaptation   N/A  N      N    Y    Y     Y   N    Y
   Aggregation of media    N    N      N    N    Y    (Y)  Y    Y
   Full Session View       Y    Y      Y    Y    Y     Y  (Y)   N
   Loop Detection          Y    Y      Y    Y    Y     Y  (Y)   N

   Please note that the Media Translator also includes the transport
   Translator functionality.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   The use of Mixers and Translators has impact on security and the
   security functions used.  The primary issue is that both Mixers and
   Translators modify packets, thus preventing the use of integrity and
   source authentication, unless they are trusted devices that take part
   in the security context, e.g., the device can send Secure Realtime
   Transport Protocol (SRTP) and Secure Realtime Transport Control
   Protocol (SRTCP) [<a href="rfc3711.html" title='"The Secure Real-time Transport Protocol (SRTP)"'>RFC3711</a>] packets to session endpoints.  If
   encryption is employed, the media Translator and Mixer need to be
   able to decrypt the media to perform its function.  A transport
   Translator may be used without access to the encrypted payload in
   cases where it translates parts that are not included in the
   encryption and integrity protection, for example, IP address and UDP



<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   port numbers in a media stream using SRTP [<a href="rfc3711.html" title='"The Secure Real-time Transport Protocol (SRTP)"'>RFC3711</a>].  However, in
   general, the Translator or Mixer needs to be part of the signalling
   context and get the necessary security associations (e.g., SRTP
   crypto contexts) established with its RTP session participants.

   Including the Mixer and Translator in the security context allows the
   entity, if subverted or misbehaving, to perform a number of very
   serious attacks as it has full access.  It can perform all the
   attacks possible (see <a href="rfc3550.html">RFC 3550</a> and any applicable profiles) as if the
   media session were not protected at all, while giving the impression
   to the session participants that they are protected.

   Transport Translators have no interactions with cryptography that
   works above the transport layer, such as SRTP, since that sort of
   Translator leaves the RTP header and payload unaltered.  Media
   Translators, on the other hand, have strong interactions with
   cryptography, since they alter the RTP payload.  A media Translator
   in a session that uses cryptographic protection needs to perform
   cryptographic processing to both inbound and outbound packets.

   A media Translator may need to use different cryptographic keys for
   the inbound and outbound processing.  For SRTP, different keys are
   required, because an <a href="rfc3550.html">RFC 3550</a> media Translator leaves the SSRC
   unchanged during its packet processing, and SRTP key sharing is only
   allowed when distinct SSRCs can be used to protect distinct packet
   streams.

   When the media Translator uses different keys to process inbound and
   outbound packets, each session participant needs to be provided with
   the appropriate key, depending on whether they are listening to the
   Translator or the original source.  (Note that there is an
   architectural difference between RTP media translation, in which
   participants can rely on the RTP Payload Type field of a packet to
   determine appropriate processing, and cryptographically protected
   media translation, in which participants must use information that is
   not carried in the packet.)

   When using security mechanisms with Translators and Mixers, it is
   possible that the Translator or Mixer could create different security
   associations for the different domains they are working in.  Doing so
   has some implications:

   First, it might weaken security if the Mixer/Translator accepts a
   weaker algorithm or key in one domain than in another.  Therefore,
   care should be taken that appropriately strong security parameters
   are negotiated in all domains.  In many cases, "appropriate"





<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   translates to "similar" strength.  If a key management system does
   allow the negotiation of security parameters resulting in a different
   strength of the security, then this system SHOULD notify the
   participants in the other domains about this.

   Second, the number of crypto contexts (keys and security related
   state) needed (for example, in SRTP [<a href="rfc3711.html" title='"The Secure Real-time Transport Protocol (SRTP)"'>RFC3711</a>]) may vary between
   Mixers and Translators.  A Mixer normally needs to represent only a
   single SSRC per domain and therefore needs to create only one
   security association (SRTP crypto context) per domain.  In contrast,
   a Translator needs one security association per participant it
   translates towards, in the opposite domain.  Considering Figure 3,
   the Translator needs two security associations towards the multicast
   domain, one for B and one for D.  It may be forced to maintain a set
   of totally independent security associations between itself and B and
   D respectively, so as to avoid two-time pad occurrences.  These
   contexts must also be capable of handling all the sources present in
   the other domains.  Hence, using completely independent security
   associations (for certain keying mechanisms) may force a Translator
   to handle N*DM keys and related state; where N is the total number of
   SSRCs used over all domains and DM is the total number of domains.

   There exist a number of different mechanisms to provide keys to the
   different participants.  One example is the choice between group keys
   and unique keys per SSRC.  The appropriate keying model is impacted
   by the topologies one intends to use.  The final security properties
   are dependent on both the topologies in use and the keying
   mechanisms' properties, and need to be considered by the application.
   Exactly which mechanisms are used is outside of the scope of this
   document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Acknowledgements"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Acknowledgements</span>

   The authors would like to thank Bo Burman, Umesh Chandra, Roni Even,
   Keith Lantz, Ladan Gharai, Geoff Hunt, and Mark Baugher for their
   help in reviewing this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]   Bradner, S., "Key words for use in RFCs to Indicate
               Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3550" name="ref-RFC3550">RFC3550</a>]   Schulzrinne, H., Casner, S., Frederick, R., and V.
               Jacobson, "RTP: A Transport Protocol for Real-Time
               Applications", STD 64, <a href="rfc3550.html">RFC 3550</a>, July 2003.




<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


   [<a id="ref-RFC3711" name="ref-RFC3711">RFC3711</a>]   Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K.
               Norrman, "The Secure Real-time Transport Protocol
               (SRTP)", <a href="rfc3711.html">RFC 3711</a>, March 2004.

   [<a id="ref-RFC4575" name="ref-RFC4575">RFC4575</a>]   Rosenberg, J., Schulzrinne, H., and O. Levin, Ed., "A
               Session Initiation Protocol (SIP) Event Package for
               Conference State", <a href="rfc4575.html">RFC 4575</a>, August 2006.

   [<a id="ref-RFC4585" name="ref-RFC4585">RFC4585</a>]   Ott, J., Wenger, S., Sato, N., Burmeister, C., and J.
               Rey, "Extended RTP Profile for Real-time Transport
               Control Protocol (RTCP)-Based Feedback (RTP/AVPF)", <a href="rfc4585.html">RFC</a>
               <a href="rfc4585.html">4585</a>, July 2006.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>. Informative References</span>

   [<a id="ref-CCM" name="ref-CCM">CCM</a>]       Wenger, S., Chandra, U., Westerlund, M., Burman, B.,
               "Codec Control Messages in the RTP Audio-Visual Profile
               with Feedback (AVPF)", Work in Progress, July 2007.

   [<a id="ref-H323" name="ref-H323">H323</a>]      ITU-T Recommendation H.323, "Packet-based multimedia
               communications systems", June 2006.

   [<a id="ref-RTCP-SSM" name="ref-RTCP-SSM">RTCP-SSM</a>]  J. Ott, J. Chesterfield, E. Schooler, "RTCP Extensions
               for Single-Source Multicast Sessions with Unicast
               Feedback," Work in Progress, March 2007.

Authors' Addresses

   Magnus Westerlund
   Ericsson Research
   Ericsson AB
   SE-164 80 Stockholm, SWEDEN

   Phone: +46 8 7190000
   EMail: magnus.westerlund@ericsson.com


   Stephan Wenger
   Nokia Corporation
   P.O. Box 100
   FIN-33721 Tampere
   FINLAND

   Phone: +358-50-486-0637
   EMail: stewe@stewe.org






<span class="grey">Westerlund &amp; Wenger          Informational                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc5117.html">RFC 5117</a>                     RTP Topologies                 January 2008</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.












Westerlund &amp; Wenger          Informational                     [Page 21]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.119, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc5117 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 23 Aug 2016 18:42:29 GMT --></html>