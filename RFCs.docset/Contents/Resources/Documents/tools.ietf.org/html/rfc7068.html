<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7068 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:25 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-mcmurry-dime-overload-reqs" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7068" name="DC.Identifier"/>
<meta content="November, 2013" name="DC.Date.Issued"/>
<meta content="Campbell, Ben" name="DC.Creator"/>
<meta content="McMurry, Eric" name="DC.Creator"/>
<meta content="When a Diameter server or agent becomes overloaded, it needs to be
able to gracefully reduce its load, typically by advising clients to
reduce traffic for some period of time. Otherwise, it must continue to
expend resources parsing and responding to Diameter messages, possibly
resulting in a progressively severe overload condition. The existing
Diameter mechanisms are not sufficient for managing overload
conditions. This document describes the limitations of the existing
mechanisms. Requirements for new overload management mechanisms are
also provided." name="DC.Description.Abstract"/>
<meta content="Diameter Overload Control Requirements" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7068 - Diameter Overload Control Requirements</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7068.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7068" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-dime-overload-reqs" title="draft-ietf-dime-overload-reqs">draft-ietf-dime...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7068" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7068" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7068" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                        E. McMurry
Request for Comments: 7068                                   B. Campbell
Category: Informational                                           Oracle
ISSN: 2070-1721                                            November 2013


                 <span class="h1">Diameter Overload Control Requirements</span>

Abstract

   When a Diameter server or agent becomes overloaded, it needs to be
   able to gracefully reduce its load, typically by advising clients to
   reduce traffic for some period of time.  Otherwise, it must continue
   to expend resources parsing and responding to Diameter messages,
   possibly resulting in a progressively severe overload condition.  The
   existing Diameter mechanisms are not sufficient for managing overload
   conditions.  This document describes the limitations of the existing
   mechanisms.  Requirements for new overload management mechanisms are
   also provided.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7068">http://www.rfc-editor.org/info/rfc7068</a>.
















<span class="grey">McMurry &amp; Campbell            Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


Copyright Notice

   Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





































<span class="grey">McMurry &amp; Campbell            Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-4">4</a>
      <a href="#section-1.1">1.1</a>. Documentation Conventions ..................................<a href="#page-4">4</a>
      <a href="#section-1.2">1.2</a>. Causes of Overload .........................................<a href="#page-5">5</a>
      <a href="#section-1.3">1.3</a>. Effects of Overload ........................................<a href="#page-6">6</a>
      <a href="#section-1.4">1.4</a>. Overload vs. Network Congestion ............................<a href="#page-6">6</a>
      <a href="#section-1.5">1.5</a>. Diameter Applications in a Broader Network .................<a href="#page-7">7</a>
   <a href="#section-2">2</a>. Overload Control Scenarios ......................................<a href="#page-7">7</a>
      <a href="#section-2.1">2.1</a>. Peer-to-Peer Scenarios .....................................<a href="#page-8">8</a>
      <a href="#section-2.2">2.2</a>. Agent Scenarios ...........................................<a href="#page-10">10</a>
      <a href="#section-2.3">2.3</a>. Interconnect Scenario .....................................<a href="#page-14">14</a>
   <a href="#section-3">3</a>. Diameter Overload Case Studies .................................<a href="#page-15">15</a>
      <a href="#section-3.1">3.1</a>. Overload in Mobile Data Networks ..........................<a href="#page-15">15</a>
      <a href="#section-3.2">3.2</a>. 3GPP Study on Core Network Overload .......................<a href="#page-16">16</a>
   <a href="#section-4">4</a>. Existing Mechanisms ............................................<a href="#page-17">17</a>
   <a href="#section-5">5</a>. Issues with the Current Mechanisms .............................<a href="#page-18">18</a>
      <a href="#section-5.1">5.1</a>. Problems with Implicit Mechanism ..........................<a href="#page-18">18</a>
      <a href="#section-5.2">5.2</a>. Problems with Explicit Mechanisms .........................<a href="#page-18">18</a>
   <a href="#section-6">6</a>. Extensibility and Application Independence .....................<a href="#page-19">19</a>
   <a href="#section-7">7</a>. Solution Requirements ..........................................<a href="#page-20">20</a>
      <a href="#section-7.1">7.1</a>. General ...................................................<a href="#page-20">20</a>
      <a href="#section-7.2">7.2</a>. Performance ...............................................<a href="#page-21">21</a>
      <a href="#section-7.3">7.3</a>. Heterogeneous Support for Solution ........................<a href="#page-22">22</a>
      <a href="#section-7.4">7.4</a>. Granular Control ..........................................<a href="#page-23">23</a>
      <a href="#section-7.5">7.5</a>. Priority and Policy .......................................<a href="#page-23">23</a>
      <a href="#section-7.6">7.6</a>. Security ..................................................<a href="#page-23">23</a>
      <a href="#section-7.7">7.7</a>. Flexibility and Extensibility .............................<a href="#page-24">24</a>
   <a href="#section-8">8</a>. Security Considerations ........................................<a href="#page-25">25</a>
      <a href="#section-8.1">8.1</a>. Access Control ............................................<a href="#page-25">25</a>
      <a href="#section-8.2">8.2</a>. Denial-of-Service Attacks .................................<a href="#page-26">26</a>
      <a href="#section-8.3">8.3</a>. Replay Attacks ............................................<a href="#page-26">26</a>
      <a href="#section-8.4">8.4</a>. Man-in-the-Middle Attacks .................................<a href="#page-26">26</a>
      <a href="#section-8.5">8.5</a>. Compromised Hosts .........................................<a href="#page-27">27</a>
   <a href="#section-9">9</a>. References .....................................................<a href="#page-27">27</a>
      <a href="#section-9.1">9.1</a>. Normative References ......................................<a href="#page-27">27</a>
      <a href="#section-9.2">9.2</a>. Informative References ....................................<a href="#page-27">27</a>
   <a href="#appendix-A">Appendix A</a>. Contributors ..........................................<a href="#page-29">29</a>
   <a href="#appendix-B">Appendix B</a>. Acknowledgements ......................................<a href="#page-29">29</a>












<span class="grey">McMurry &amp; Campbell            Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   A Diameter [<a href="rfc6733.html" title='"Diameter Base Protocol"'>RFC6733</a>] node is said to be overloaded when it has
   insufficient resources to successfully process all of the Diameter
   requests that it receives.  When a node becomes overloaded, it needs
   to be able to gracefully reduce its load, typically by advising
   clients to reduce traffic for some period of time.  Otherwise, it
   must continue to expend resources parsing and responding to Diameter
   messages, possibly resulting in a progressively severe overload
   condition.  The existing mechanisms provided by Diameter are not
   sufficient for managing overload conditions.  This document describes
   the limitations of the existing mechanisms and provides requirements
   for new overload management mechanisms.

   This document draws on the work done on SIP overload control
   ([<a href="rfc5390.html" title='"Requirements for Management of Overload in the Session Initiation Protocol"'>RFC5390</a>], [<a href="rfc6357.html" title='"Design Considerations for Session Initiation Protocol (SIP) Overload Control"'>RFC6357</a>]) as well as on experience gained via overload
   handling in Signaling System No. 7 (SS7) networks and studies done by
   the Third Generation Partnership Project (3GPP) (<a href="#section-3">Section 3</a>).

   Diameter is not typically an end-user protocol; rather, it is
   generally used as one component in support of some end-user activity.

   For example, a SIP server might use Diameter to authenticate and
   authorize user access.  Overload in the Diameter backend
   infrastructure will likely impact the experience observed by the end
   user in the SIP application.

   The impact of Diameter overload on the client application (a client
   application may use the Diameter protocol and other protocols to do
   its job) is beyond the scope of this document.

   This document presents non-normative descriptions of causes of
   overload, along with related scenarios and studies.  Finally, it
   offers a set of normative requirements for an improved overload
   indication mechanism.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Documentation%20Conventions"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Documentation Conventions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as defined in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>], with the
   exception that they are not intended for interoperability of
   implementations.  Rather, they are used to describe requirements
   towards future specifications where the interoperability requirements
   will be defined.

   The terms "client", "server", "agent", "node", "peer", "upstream",
   and "downstream" are used as defined in [<a href="rfc6733.html" title='"Diameter Base Protocol"'>RFC6733</a>].



<span class="grey">McMurry &amp; Campbell            Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Causes%20of%20Overload"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Causes of Overload</span>

   Overload occurs when an element, such as a Diameter server or agent,
   has insufficient resources to successfully process all of the traffic
   it is receiving.  Resources include all of the capabilities of the
   element used to process a request, including CPU processing, memory,
   I/O, and disk resources.  It can also include external resources such
   as a database or DNS server, in which case the CPU, processing,
   memory, I/O, and disk resources of those elements are effectively
   part of the logical element processing the request.

   External resources can include upstream Diameter nodes; for example,
   a Diameter agent can become effectively overloaded if one or more
   upstream nodes are overloaded.

   A Diameter node can become overloaded due to request levels that
   exceed its capacity, a reduction of available resources (for example,
   a local or upstream hardware failure), or a combination of the two.

   Overload can occur for many reasons, including:

   Inadequate capacity:  When designing Diameter networks, that is,
      application-layer multi-node Diameter deployments, it can be very
      difficult to predict all scenarios that may cause elevated
      traffic.  It may also be more costly to implement support for some
      scenarios than a network operator may deem worthwhile.  This
      results in the likelihood that a Diameter network will not have
      adequate capacity to handle all situations.

   Dependency failures:  A Diameter node can become overloaded because a
      resource on which it depends has failed or become overloaded,
      greatly reducing the logical capacity of the node.  In these
      cases, even minimal traffic might cause the node to go into
      overload.  Examples of such dependency overloads include DNS
      servers, databases, disks, and network interfaces that have failed
      or become overloaded.

   Component failures:  A Diameter node can become overloaded when it is
      a member of a cluster of servers that each share the load of
      traffic and one or more of the other members in the cluster fail.
      In this case, the remaining nodes take over the work of the failed
      nodes.  Normally, capacity planning takes such failures into
      account, and servers are typically run with enough spare capacity
      to handle failure of another node.  However, unusual failure
      conditions can cause many nodes to fail at once.  This is often
      the case with software failures, where a bad packet or bad
      database entry hits the same bug in a set of nodes in a cluster.




<span class="grey">McMurry &amp; Campbell            Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   Network-initiated traffic flood:  Certain access network events can
      precipitate floods of Diameter signaling traffic.  For example,
      operational changes can trigger avalanche restarts, or frequent
      radio overlay handovers can generate excessive authorization
      requests.  Failure of a Diameter proxy may also result in a large
      amount of signaling as connections and sessions are reestablished.

   Subscriber-initiated traffic flood:  Large gatherings of subscribers
      or events that result in many subscribers interacting with the
      network in close time proximity can result in Diameter signaling
      traffic floods.  For example, the finale of a large fireworks show
      could be immediately followed by many subscribers posting
      messages, pictures, and videos concentrated on one portion of a
      network.  Subscriber devices such as smartphones may use
      aggressive registration strategies that generate unusually high
      Diameter traffic loads.

   DoS attacks:  An attacker wishing to disrupt service in the network
      can cause a large amount of traffic to be launched at a target
      element.  This can be done from a central source of traffic or
      through a distributed DoS attack.  In all cases, the volume of
      traffic well exceeds the capacity of the element, sending the
      system into overload.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.3.%20%20Effects%20of%20Overload"></a><a class="selflink" href="#section-1.3" name="section-1.3">1.3</a>.  Effects of Overload</span>

   Modern Diameter networks, composed of application-layer multi-node
   deployments of Diameter elements, may operate at very large
   transaction volumes.  If a Diameter node becomes overloaded or, even
   worse, fails completely, a large number of messages may be lost very
   quickly.  Even with redundant servers, many messages can be lost in
   the time it takes for failover to complete.  While a Diameter client
   or agent should be able to retry such requests, an overloaded peer
   may cause a sudden large increase in the number of transactions
   needing to be retried, rapidly filling local queues or otherwise
   contributing to local overload.  Therefore, Diameter devices need to
   be able to shed load before critical failures can occur.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.4.%20%20Overload%20vs.%20Network%20Congestion"></a><a class="selflink" href="#section-1.4" name="section-1.4">1.4</a>.  Overload vs. Network Congestion</span>

   This document uses the term "overload" to refer to application-layer
   overload at Diameter nodes.  This is distinct from "network
   congestion", that is, congestion that occurs at the lower networking
   layers that may impact the delivery of Diameter messages between
   nodes.  This document recognizes that element overload and network
   congestion are interrelated, and that overload can contribute to
   network congestion and vice versa.




<span class="grey">McMurry &amp; Campbell            Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   Network congestion issues are better handled by the transport
   protocols.  Diameter uses TCP and the Stream Control Transmission
   Protocol (SCTP), both of which include congestion management
   features.  Analysis of whether those features are sufficient for
   transport-level congestion between Diameter nodes and of any work to
   further mitigate network congestion is out of scope for both this
   document and the work proposed by it.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.5.%20%20Diameter%20Applications%20in%20a%20Broader%20Network"></a><a class="selflink" href="#section-1.5" name="section-1.5">1.5</a>.  Diameter Applications in a Broader Network</span>

   Most elements using Diameter applications do not use Diameter
   exclusively.  It is important to realize that overload of an element
   can be caused by a number of factors that may be unrelated to the
   processing of Diameter or Diameter applications.

   An element that doesn't use Diameter exclusively needs to be able to
   signal to Diameter peers that it is experiencing overload regardless
   of the cause of the overload, since the overload will affect that
   element's ability to process Diameter transactions.  If the element
   communicates with protocols other than Diameter, it may also need to
   signal the overload situation on these protocols, depending on its
   function and the architecture of the network and application for
   which it is providing services.  Whether that is necessary can only
   be decided within the context of that architecture and use cases.
   This specification details the requirements for a mechanism for
   signaling overload with Diameter; this mechanism provides Diameter
   nodes the ability to inform their Diameter peers of overload,
   mitigating that part of the issue.  Diameter nodes may need to use
   this, as well as other mechanisms, to solve their broader overload
   issues.  Indicating overload on protocols other than Diameter is out
   of scope for this document and for the work proposed by it.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Overload%20Control%20Scenarios"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Overload Control Scenarios</span>

   Several Diameter deployment scenarios exist that may impact overload
   management.  The following scenarios help motivate the requirements
   for an overload management mechanism.

   These scenarios are by no means exhaustive and are in general
   simplified for the sake of clarity.  In particular, this document
   assumes for the sake of clarity that the client sends Diameter
   requests to the server, and the server sends responses to the client,
   even though Diameter supports bidirectional applications.  Each
   direction in such an application can be modeled separately.

   In a large-scale deployment, many of the nodes represented in these
   scenarios would be deployed as clusters of servers.  This document
   assumes that such a cluster is responsible for managing its own



<span class="grey">McMurry &amp; Campbell            Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   internal load-balancing and overload management so that it appears as
   a single Diameter node.  That is, other Diameter nodes can treat it
   as a single, monolithic node for the purposes of overload management.

   These scenarios do not illustrate the client application.  As
   mentioned in <a href="#section-1">Section 1</a>, Diameter is not typically an end-user
   protocol; rather, it is generally used in support of some other
   client application.  These scenarios do not consider the impact of
   Diameter overload on the client application.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Peer-to-Peer%20Scenarios"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Peer-to-Peer Scenarios</span>

   This section describes Diameter peer-to-peer scenarios, that is,
   scenarios where a Diameter client talks directly with a Diameter
   server, without the use of a Diameter agent.

   Figure 1 illustrates the simplest possible Diameter relationship.
   The client and server share a one-to-one peer-to-peer relationship.
   If the server becomes overloaded, either because the client exceeds
   the server's capacity or because the server's capacity is reduced due
   to some resource dependency, the client needs to reduce the amount of
   Diameter traffic it sends to the server.  Since the client cannot
   forward requests to another server, it must either queue requests
   until the server recovers or itself become overloaded in the context
   of the client application and other protocols it may also use.

                            +------------------+
                            |                  |
                            |                  |
                            |     Server       |
                            |                  |
                            +--------+---------+
                                     |
                                     |
                            +--------+---------+
                            |                  |
                            |                  |
                            |     Client       |
                            |                  |
                            +------------------+

                   Figure 1: Basic Peer-to-Peer Scenario









<span class="grey">McMurry &amp; Campbell            Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   Figure 2 shows a similar scenario, except in this case the client has
   multiple servers that can handle work for a specific realm and
   application.  If Server 1 becomes overloaded, the client can forward
   traffic to Server 2.  Assuming that Server 2 has sufficient reserve
   capacity to handle the forwarded traffic, the client should be able
   to continue serving client application protocol users.  If Server 1
   is approaching overload, but can still handle some number of new
   requests, it needs to be able to instruct the client to forward a
   subset of its traffic to Server 2.

               +------------------+     +------------------+
               |                  |     |                  |
               |                  |     |                  |
               |     Server 1     |     |     Server 2     |
               |                  |     |                  |
               +--------+-`.------+     +------.'+---------+
                            `.               .'
                              `.           .'
                                `.       .'
                                  `.   .'
                            +-------`.'--------+
                            |                  |
                            |                  |
                            |     Client       |
                            |                  |
                            +------------------+

              Figure 2: Multiple-Server Peer-to-Peer Scenario

   Figure 3 illustrates a peer-to-peer scenario with multiple Diameter
   realm and application combinations.  In this example, Server 2 can
   handle work for both applications.  Each application might have
   different resource dependencies.  For example, a server might need to
   access one database for Application A and another for Application B.
   This creates a possibility that Server 2 could become overloaded for
   Application A but not for Application B, in which case the client
   would need to divert some part of its Application A requests to
   Server 1, but the client should not divert any Application B
   requests.  This requires that Server 2 be able to distinguish between
   applications when it indicates an overload condition to the client.

   On the other hand, it's possible that the servers host many
   applications.  If Server 2 becomes overloaded for all applications,
   it would be undesirable for it to have to notify the client
   separately for each application.  Therefore, it also needs a way to
   indicate that it is overloaded for all possible applications.





<span class="grey">McMurry &amp; Campbell            Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   +---------------------------------------------+
   | Application A       +----------------------+----------------------+
   |+------------------+ |  +----------------+  |  +------------------+|
   ||                  | |  |                |  |  |                  ||
   ||                  | |  |                |  |  |                  ||
   ||     Server 1     | |  |    Server 2    |  |  |     Server 3     ||
   ||                  | |  |                |  |  |                  ||
   |+--------+---------+ |  +-------+--------+  |  +-+----------------+|
   |         |           |          |           |    |                 |
   +---------+-----------+----------+-----------+    |                 |
             |           |          |                |                 |
             |           |          |                |  Application B  |
             |           +----------+----------------+-----------------+
             ``-.._                 |                |
                   `-..__           |            _.-''
                        `--._       |        _.-''
                             ``-._  |   _.-''
                            +-----`-.-''-----+
                            |                |
                            |                |
                            |     Client     |
                            |                |
                            +----------------+

           Figure 3: Multiple-Application Peer-to-Peer Scenario

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Agent%20Scenarios"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Agent Scenarios</span>

   This section describes scenarios that include a Diameter agent, in
   the form of either a Diameter relay or Diameter proxy.  These
   scenarios do not consider Diameter redirect agents, since they are
   more readily modeled as end servers.  The examples have been kept
   simple deliberately, to illustrate basic concepts.  Significantly
   more complicated topologies are possible with Diameter, including
   multiple intermediate agents in a path connected in a variety
   of ways.















<span class="grey">McMurry &amp; Campbell            Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   Figure 4 illustrates a simple Diameter agent scenario with a single
   client, agent, and server.  In this case, overload can occur at the
   server, at the agent, or both.  But in most cases, client behavior is
   the same whether overload occurs at the server or at the agent.  From
   the client's perspective, server overload and agent overload are the
   same thing.

                           +------------------+
                           |                  |
                           |                  |
                           |     Server       |
                           |                  |
                           +--------+---------+
                                    |
                                    |
                           +--------+---------+
                           |                  |
                           |                  |
                           |      Agent       |
                           |                  |
                           +--------+---------+
                                    |
                                    |
                           +--------+---------+
                           |                  |
                           |                  |
                           |     Client       |
                           |                  |
                           +------------------+

                      Figure 4: Basic Agent Scenario

   Figure 5 shows an agent scenario with multiple servers.  If Server 1
   becomes overloaded but Server 2 has sufficient reserve capacity, the
   agent may be able to transparently divert some or all Diameter
   requests originally bound for Server 1 to Server 2.

   In most cases, the client does not have detailed knowledge of the
   Diameter topology upstream of the agent.  If the agent uses dynamic
   discovery to find eligible servers, the set of eligible servers may
   not be enumerable from the perspective of the client.  Therefore, in
   most cases the agent needs to deal with any upstream overload issues
   in a way that is transparent to the client.  If one server notifies
   the agent that it has become overloaded, the notification should not
   be passed back to the client in a way that the client could
   mistakenly perceive the agent itself as being overloaded.  If the set





<span class="grey">McMurry &amp; Campbell            Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   of all possible destinations upstream of the agent no longer has
   sufficient capacity for incoming load, the agent itself becomes
   effectively overloaded.

   On the other hand, there are cases where the client needs to be able
   to select a particular server from behind an agent.  For example, if
   a Diameter request is part of a multiple-round-trip authentication,
   or is otherwise part of a Diameter "session", it may have a
   Destination-Host Attribute-Value Pair (AVP) that requires that the
   request be served by Server 1.  Therefore, the agent may need to
   inform a client that a particular upstream server is overloaded or
   otherwise unavailable.  Note that there can be many ways a server can
   be specified, which may have different implications (e.g., by IP
   address, by host name, etc).

              +------------------+     +------------------+
              |                  |     |                  |
              |                  |     |                  |
              |     Server 1     |     |     Server 2     |
              |                  |     |                  |
              +--------+-`.------+     +------.'+---------+
                           `.               .'
                             `.           .'
                               `.       .'
                                 `.   .'
                           +-------`.'--------+
                           |                  |
                           |                  |
                           |     Agent        |
                           |                  |
                           +--------+---------+
                                    |
                                    |
                                    |
                           +--------+---------+
                           |                  |
                           |                  |
                           |     Client       |
                           |                  |
                           +------------------+

                 Figure 5: Multiple-Server Agent Scenario









<span class="grey">McMurry &amp; Campbell            Informational                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   Figure 6 shows a scenario where an agent routes requests to a set of
   servers for more than one Diameter realm and application.  In this
   scenario, if Server 1 becomes overloaded or unavailable while
   Server 2 still has available capacity, the agent may effectively
   operate at reduced capacity for Application A but at full capacity
   for Application B.  Therefore, the agent needs to be able to report
   that it is overloaded for one application but not for another.

   +--------------------------------------------+
   | Application A       +----------------------+----------------------+
   |+------------------+ |  +----------------+  |  +------------------+|
   ||                  | |  |                |  |  |                  ||
   ||                  | |  |                |  |  |                  ||
   ||     Server 1     | |  |    Server 2    |  |  |     Server 3     ||
   ||                  | |  |                |  |  |                  ||
   |+---------+--------+ |  +-------+--------+  |  +--+---------------+|
   |          |          |          |           |     |                |
   +----------+----------+----------+-----------+     |                |
              |          |          |                 |                |
              |          |          |                 | Application B  |
              |          +----------+-----------------+----------------+
              |                     |                 |
               ``--.__              |                _.
                      ``-.__        |          __.--''
                            `--.._  |    _..--'
                            +----``-+.''-----+
                            |                |
                            |                |
                            |    Agent       |
                            |                |
                            +-------+--------+
                                    |
                                    |
                            +-------+--------+
                            |                |
                            |                |
                            |    Client      |
                            |                |
                            +----------------+

               Figure 6: Multiple-Application Agent Scenario










<span class="grey">McMurry &amp; Campbell            Informational                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Interconnect%20Scenario"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Interconnect Scenario</span>

   Another scenario to consider when looking at Diameter overload is
   that of multiple network operators using Diameter components
   connected through an interconnect service, e.g., using IPX (IP Packet
   eXchange).  IPX [<a href="#ref-IR.34" title='"Inter-Service Provider IP Backbone Guidelines"'>IR.34</a>] is an Inter-Operator IP Backbone that
   provides a roaming interconnection network between mobile operators
   and service providers.  IPX is also used to transport Diameter
   signaling between operators [<a href="#ref-IR.88" title='"LTE Roaming Guidelines"'>IR.88</a>].  Figure 7 shows two network
   operators with an interconnect network between them.  There could be
   any number of these networks between any two network operators'
   networks.

               +-------------------------------------------+
               |               Interconnect                |
               |                                           |
               |   +--------------+      +--------------+  |
               |   |   Server 3   |------|   Server 4   |  |
               |   +--------------+      +--------------+  |
               |         .'                      `.        |
               +------.-'--------------------------`.------+
                    .'                               `.
                 .-'                                   `.
   ------------.'-----+                             +----`.-------------
         +----------+ |                             | +----------+
         | Server 1 | |                             | | Server 2 |
         +----------+ |                             | +----------+
                      |                             |
   Network Operator 1 |                             | Network Operator 2
   -------------------+                             +-------------------

                Figure 7: Two-Network Interconnect Scenario

   The characteristics of the information that an operator would want to
   share over such a connection are different from the information
   shared between components within a network operator's network.  For
   example, network operators may not want to convey topology or
   operational information; this would in turn limit how much overload
   and loading information can be sent.  For the interconnect scenario
   shown in Figure 7, Server 2 may want to signal overload to Server 1,
   to affect traffic coming from Network Operator 1.

   This case is distinct from those internal to a network operator's
   network, where there may be many more elements in a more complicated
   topology.  Also, the elements in the interconnect network may not
   support Diameter overload control, and the network operators may not
   want the interconnect network to use overload or loading information.
   They may only want the information to pass through the interconnect



<span class="grey">McMurry &amp; Campbell            Informational                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   network without further processing or action by the interconnect
   network, even if the elements in the interconnect network do support
   Diameter overload control.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Diameter%20Overload%20Case%20Studies"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Diameter Overload Case Studies</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Overload%20in%20Mobile%20Data%20Networks"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Overload in Mobile Data Networks</span>

   As the number of smartphone devices that are Third Generation (3G)
   and Long Term Evolution (LTE) enabled continues to expand in mobile
   networks, there have been situations where high signaling traffic
   load led to overload events at the Diameter-based Home Location
   Registers (HLRs) and/or Home Subscriber Servers (HSS) [<a href="#ref-TR23.843" title='"Study on Core Network (CN) overload solutions"'>TR23.843</a>].
   The root causes of the HLR overload events were manifold but included
   hardware failure and procedural errors.  The result was high
   signaling traffic load on the HLR and HSS.

   The 3GPP architecture [<a href="#ref-TS23.002" title='"Network Architecture"'>TS23.002</a>] makes extensive use of Diameter.  It
   is used for mobility management [<a href="#ref-TS29.272" title='"Evolved Packet System (EPS); Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) related interfaces based on Diameter protocol"'>TS29.272</a>], the IP Multimedia
   Subsystem (IMS) [<a href="#ref-TS29.228" title='"IP Multimedia (IM) Subsystem Cx and Dx interfaces; Signalling flows and message contents"'>TS29.228</a>], and policy and charging control
   [<a href="#ref-TS29.212" title='"Policy and Charging Control (PCC) over Gx/Sd reference point"'>TS29.212</a>], as well as other functions.  The details of the
   architecture are out of scope for this document, but it is worth
   noting that there are quite a few Diameter applications, some with
   quite large amounts of Diameter signaling in deployed networks.

   The 3GPP specifications do not currently address overload for
   Diameter applications or provide a load control mechanism equivalent
   to those provided in the more traditional SS7 elements in the Global
   System for Mobile Communications (GSM); see [<a href="#ref-TS29.002" title='"Mobile Application Part (MAP) specification"'>TS29.002</a>].  The
   capabilities specified in the 3GPP standards do not adequately
   address the abnormal condition where excessively high signaling
   traffic load situations are experienced.

   Smartphones, which comprise an increasingly large percentage of
   mobile devices, contribute much more heavily, relative to
   non-smartphones, to the continuation of a registration surge, due to
   their very aggressive registration algorithms.  Smartphone behavior
   contributes to network loading and can contribute to overload
   conditions.  The aggressive smartphone logic is designed to:

   a.  always have voice and data registration, and

   b.  constantly try to be on 3G or LTE data (and thus on 3G voice or
       Voice over LTE (VoLTE) [<a href="#ref-IR.92" title='"IMS Profile for Voice and SMS"'>IR.92</a>]) for their added benefits.

   Non-smartphones typically have logic to wait for a time period after
   registering successfully on voice and data.




<span class="grey">McMurry &amp; Campbell            Informational                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   The aggressive smartphone registration is problematic in two ways:

   o  first, by generating excessive signaling load towards the HSS that
      is ten times the load from a non-smartphone, and

   o  second, by causing continual registration attempts when a network
      failure affects registrations through the 3G data network.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%203GPP%20Study%20on%20Core%20Network%20Overload"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  3GPP Study on Core Network Overload</span>

   A study in the 3GPP System Aspects working group 2 (SA2) on core
   network overload has produced the technical report [<a href="#ref-TR23.843" title='"Study on Core Network (CN) overload solutions"'>TR23.843</a>].  This
   enumerates several causes of overload in mobile core networks,
   including portions that are signaled using Diameter.  [<a href="#ref-TR23.843" title='"Study on Core Network (CN) overload solutions"'>TR23.843</a>] is a
   work in progress and is not complete.  However, it is useful for
   pointing out scenarios and the general need for an overload control
   mechanism for Diameter.

   It is common for mobile networks to employ more than one radio
   technology and to do so in an overlay fashion with multiple
   technologies present in the same location (such as 2nd or 3rd
   generation mobile technologies, along with LTE).  This presents
   opportunities for traffic storms when issues occur on one overlay and
   not another as all devices that had been on the overlay with issues
   switch.  This causes a large amount of Diameter traffic as locations
   and policies are updated.

   Another scenario called out by this study is a flood of registration
   and mobility management events caused by some element in the core
   network failing.  This flood of traffic from end nodes falls under
   the network-initiated traffic flood category.  There is likely to
   also be traffic resulting directly from the component failure in this
   case.  A similar flood can occur when elements or components recover
   as well.

   Subscriber-initiated traffic floods are also indicated in this study
   as an overload mechanism where a large number of mobile devices are
   attempting to access services at the same time, such as in response
   to an entertainment event or a catastrophic event.

   While this 3GPP study is concerned with the broader effects of these
   scenarios on wireless networks and their elements, they have
   implications specifically for Diameter signaling.  One of the goals
   of this document is to provide guidance for a core mechanism that can
   be used to mitigate the scenarios called out by this study.






<span class="grey">McMurry &amp; Campbell            Informational                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Existing%20Mechanisms"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Existing Mechanisms</span>

   Diameter offers both implicit and explicit mechanisms for a Diameter
   node to learn that a peer is overloaded or unreachable.  The implicit
   mechanism is simply the lack of responses to requests.  If a client
   fails to receive a response in a certain time period, it assumes that
   the upstream peer is unavailable or is overloaded to the point of
   effective unavailability.  The watchdog mechanism [<a href="rfc3539.html" title='"Authentication, Authorization and Accounting (AAA) Transport Profile"'>RFC3539</a>] ensures
   that transaction responses occur at a certain rate even when there is
   otherwise little or no other Diameter traffic.

   The explicit mechanism can involve specific protocol error responses,
   where an agent or server tells a downstream peer that it is either
   too busy to handle a request (DIAMETER_TOO_BUSY) or unable to route a
   request to an upstream destination (DIAMETER_UNABLE_TO_DELIVER)
   perhaps because that destination itself is overloaded to the point of
   unavailability.

   Another explicit mechanism, a DPR (Disconnect-Peer-Request) message,
   can be sent with a Disconnect-Cause of BUSY.  This signals the
   sender's intent to close the transport connection and requests that
   the client not reconnect.

   Once a Diameter node learns via one of these mechanisms that an
   upstream peer has become overloaded, it can then attempt to take
   action to reduce the load.  This usually means forwarding traffic to
   an alternate destination, if available.  If no alternate destination
   is available, the node must either reduce the number of messages it
   originates (in the case of a client) or inform the client to reduce
   traffic (in the case of an agent).

   Diameter requires the use of a congestion-managed transport layer,
   currently TCP or SCTP, to mitigate network congestion.  It is
   expected that these transports manage network congestion and that
   issues with transport (e.g., congestion propagation and window
   management) are managed at that level.  But even with a congestion-
   managed transport, a Diameter node can become overloaded at the
   Diameter protocol or application layers due to the causes described
   in <a href="#section-1.2">Section 1.2</a>, and congestion-managed transports do not provide
   facilities (and are at the wrong level) to handle server overload.
   Transport-level congestion management is also not sufficient to
   address overload in cases of multi-hop and multi-destination
   signaling.








<span class="grey">McMurry &amp; Campbell            Informational                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Issues%20with%20the%20Current%20Mechanisms"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Issues with the Current Mechanisms</span>

   The currently available Diameter mechanisms for indicating an
   overload condition are not adequate to avoid service outages due to
   overload.  This inadequacy may, in turn, contribute to broader
   impacts resulting from overload due to unresponsive Diameter nodes
   causing application-layer or transport-layer retransmissions.  In
   particular, they do not allow a Diameter agent or server to shed load
   as it approaches overload.  At best, a node can only indicate that it
   needs to entirely stop receiving requests, i.e., that it has
   effectively failed.  Even that is problematic due to the inability to
   indicate durational validity on the transient errors available in the
   base Diameter protocol.  Diameter offers no mechanism to allow a node
   to indicate different overload states for different categories of
   messages, for example, if it is overloaded for one Diameter
   application but not another.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Problems%20with%20Implicit%20Mechanism"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Problems with Implicit Mechanism</span>

   The implicit mechanism doesn't allow an agent or server to inform the
   client of a problem until it is effectively too late to do anything
   about it.  The client does not know that it needs to take action
   until the upstream node has effectively failed.  A Diameter node has
   no opportunity to shed load early to avoid collapse in the first
   place.

   Additionally, the implicit mechanism cannot distinguish between
   overload of a Diameter node and network congestion.  Diameter treats
   the failure to receive an answer as a transport failure.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Problems%20with%20Explicit%20Mechanisms"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Problems with Explicit Mechanisms</span>

   The Diameter specification is ambiguous on how a client should handle
   receipt of a DIAMETER_TOO_BUSY response.  The base specification
   [<a href="rfc6733.html" title='"Diameter Base Protocol"'>RFC6733</a>] indicates that the sending client should attempt to send
   the request to a different peer.  It makes no suggestion that the
   receipt of a DIAMETER_TOO_BUSY response should affect future Diameter
   messages in any way.

   The Authentication, Authorization, and Accounting (AAA) Transport
   Profile [<a href="rfc3539.html" title='"Authentication, Authorization and Accounting (AAA) Transport Profile"'>RFC3539</a>] recommends that a AAA node that receives a "Busy"
   response failover all remaining requests to a different agent or
   server.  But while the Diameter base specification explicitly depends
   on [<a href="rfc3539.html" title='"Authentication, Authorization and Accounting (AAA) Transport Profile"'>RFC3539</a>] to define transport behavior, it does not refer to
   [<a href="rfc3539.html" title='"Authentication, Authorization and Accounting (AAA) Transport Profile"'>RFC3539</a>] in the description of behavior on receipt of a
   DIAMETER_TOO_BUSY error.  There's a strong likelihood that at least
   some implementations will continue to send Diameter requests to an
   upstream peer even after receiving a DIAMETER_TOO_BUSY error.



<span class="grey">McMurry &amp; Campbell            Informational                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   <a href="https://tools.ietf.org/html/bcp41">BCP 41</a> [<a href="rfc2914.html" title='"Congestion Control Principles"'>RFC2914</a>] describes, among other things, how end-to-end
   application behavior can help avoid congestion collapse.  In
   particular, an application should avoid sending messages that will
   never be delivered or processed.  The DIAMETER_TOO_BUSY behavior as
   described in the Diameter base specification fails at this, since if
   an upstream node becomes overloaded, a client attempts each request
   and does not discover the need to failover the request until the
   initial attempt fails.

   The situation is improved if implementations follow the [<a href="rfc3539.html" title='"Authentication, Authorization and Accounting (AAA) Transport Profile"'>RFC3539</a>]
   recommendation to keep state about upstream peer overload.  But even
   then, the Diameter specification offers no guidance on how long a
   client should wait before retrying the overloaded destination.  If an
   agent or server supports multiple realms and/or applications,
   DIAMETER_TOO_BUSY offers no way to indicate that it is overloaded for
   one application but not another.  A DIAMETER_TOO_BUSY error can only
   indicate overload at a "whole server" scope.

   Agent processing of a DIAMETER_TOO_BUSY response is also problematic
   as described in the base specification.  DIAMETER_TOO_BUSY is defined
   as a protocol error.  If an agent receives a protocol error, it may
   either handle it locally or forward the response back towards the
   downstream peer.  If a downstream peer receives the DIAMETER_TOO_BUSY
   response, it may stop sending all requests to the agent for some
   period of time, even though the agent may still be able to deliver
   requests to other upstream peers.

   DIAMETER_UNABLE_TO_DELIVER errors, or using DPR with cause code BUSY,
   also have no mechanisms for specifying the scope or cause of the
   failure, or the durational validity.

   The issues with error responses described in [<a href="rfc6733.html" title='"Diameter Base Protocol"'>RFC6733</a>] extend beyond
   the particular issues for overload control and have been addressed in
   an ad hoc fashion by various implementations.  Addressing these in a
   standard way would be a useful exercise, but it is beyond the scope
   of this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Extensibility%20and%20Application%20Independence"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Extensibility and Application Independence</span>

   Given the variety of scenarios in which Diameter elements can be
   deployed and the variety of roles they can fulfill with Diameter and
   other technologies, a single algorithm for handling overload may not
   be sufficient.  For purposes of this discussion, an algorithm is
   inclusive of behavior for control of overload but does not encompass
   the general mechanism for transporting control information.  This
   effort cannot anticipate all possible future scenarios and roles.
   Extensibility, particularly of algorithms used to deal with overload,
   will be important to cover these cases.



<span class="grey">McMurry &amp; Campbell            Informational                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   Similarly, the scopes to which overload information may apply may
   include cases that have not yet been considered.  Extensibility in
   this area will also be important.

   The basic mechanism is intended to be application independent, that
   is, a Diameter node can use it across any existing and future
   Diameter applications and expect reasonable results.  Certain
   Diameter applications might, however, benefit from application-
   specific behavior over and above the mechanism's defaults.  For
   example, an application specification might specify relative
   priorities of messages or selection of a specific overload control
   algorithm.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Solution%20Requirements"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Solution Requirements</span>

   This section proposes requirements for an improved mechanism to
   control Diameter overload, with the goals of addressing the issues
   described in <a href="#section-5">Section 5</a> and supporting the scenarios described in
   <a href="#section-2">Section 2</a>.  These requirements are stated primarily in terms of
   individual node behavior to inform the design of the improved
   mechanism; solution designers should keep in mind that the overall
   goal is improved overall system behavior across all the nodes
   involved, not just improved behavior from specific individual nodes.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20General"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  General</span>

   REQ 1:  The solution MUST provide a communication method for Diameter
           nodes to exchange load and overload information.

   REQ 2:  The solution MUST allow Diameter nodes to support overload
           control regardless of which Diameter applications they
           support.  Diameter clients and agents must be able to use the
           received load and overload information to support graceful
           behavior during an overload condition.  Graceful behavior
           under overload conditions is best described by REQ 3.

   REQ 3:  The solution MUST limit the impact of overload on the overall
           useful throughput of a Diameter server, even when the
           incoming load on the network is far in excess of its
           capacity.  The overall useful throughput under load is the
           ultimate measure of the value of a solution.

   REQ 4:  Diameter allows requests to be sent from either side of a
           connection, and either side of a connection may have need to
           provide its overload status.  The solution MUST allow each
           side of a connection to independently inform the other of its
           overload status.




<span class="grey">McMurry &amp; Campbell            Informational                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   REQ 5:  Diameter allows nodes to determine their peers via dynamic
           discovery or manual configuration.  The solution MUST work
           consistently without regard to how peers are determined.

   REQ 6:  The solution designers SHOULD seek to minimize the amount of
           new configuration required in order to work.  For example, it
           is better to allow peers to advertise or negotiate support
           for the solution, rather than to require that this knowledge
           be configured at each node.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Performance"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Performance</span>

   REQ 7:  The solution and any associated default algorithm(s) MUST
           ensure that the system remains stable.  At some point after
           an overload condition has ended, the solution MUST enable
           capacity to stabilize and become equal to what it would be in
           the absence of an overload condition.  Note that this also
           requires that the solution MUST allow nodes to shed load
           without introducing non-converging oscillations during or
           after an overload condition.

   REQ 8:  Supporting nodes MUST be able to distinguish current overload
           information from stale information.

   REQ 9:  The solution MUST function across fully loaded as well as
           quiescent transport connections.  This is partially derived
           from the requirement for stability in REQ 7.

   REQ 10: Consumers of overload information MUST be able to determine
           when the overload condition improves or ends.

   REQ 11: The solution MUST be able to operate in networks of different
           sizes.

   REQ 12: When a single network node fails, goes into overload, or
           suffers from reduced processing capacity, the solution MUST
           make it possible to limit the impact of the affected node on
           other nodes in the network.  This helps to prevent a small-
           scale failure from becoming a widespread outage.

   REQ 13: The solution MUST NOT introduce substantial additional work
           for a node in an overloaded state.  For example, a
           requirement for an overloaded node to send overload
           information every time it received a new request would
           introduce substantial work.






<span class="grey">McMurry &amp; Campbell            Informational                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   REQ 14: Some scenarios that result in overload involve a rapid
           increase of traffic with little time between normal levels
           and levels that induce overload.  The solution SHOULD provide
           for rapid feedback when traffic levels increase.

   REQ 15: The solution MUST NOT interfere with the congestion control
           mechanisms of underlying transport protocols.  For example, a
           solution that opened additional TCP connections when the
           network is congested would reduce the effectiveness of the
           underlying congestion control mechanisms.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.3.%20%20Heterogeneous%20Support%20for%20Solution"></a><a class="selflink" href="#section-7.3" name="section-7.3">7.3</a>.  Heterogeneous Support for Solution</span>

   REQ 16: The solution is likely to be deployed incrementally.  The
           solution MUST support a mixed environment where some, but not
           all, nodes implement it.

   REQ 17: In a mixed environment with nodes that support the solution
           and nodes that do not, the solution MUST NOT result in
           materially less useful throughput during overload as would
           have resulted if the solution were not present.  It SHOULD
           result in less severe overload in this environment.

   REQ 18: In a mixed environment of nodes that support the solution and
           nodes that do not, the solution MUST NOT preclude elements
           that support overload control from treating elements that do
           not support overload control in an equitable fashion relative
           to those that do.  Users and operators of nodes that do not
           support the solution MUST NOT unfairly benefit from the
           solution.  The solution specification SHOULD provide guidance
           to implementors for dealing with elements not supporting
           overload control.

   REQ 19: It MUST be possible to use the solution between nodes in
           different realms and in different administrative domains.

   REQ 20: Any explicit overload indication MUST be clearly
           distinguishable from other errors reported via Diameter.

   REQ 21: In cases where a network node fails, is so overloaded that it
           cannot process messages, or cannot communicate due to a
           network failure, it may not be able to provide explicit
           indications of the nature of the failure or its levels of
           overload.  The solution MUST result in at least as much
           useful throughput as would have resulted if the solution were
           not in place.





<span class="grey">McMurry &amp; Campbell            Informational                    [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.4.%20%20Granular%20Control"></a><a class="selflink" href="#section-7.4" name="section-7.4">7.4</a>.  Granular Control</span>

   REQ 22: The solution MUST provide a way for a node to throttle the
           amount of traffic it receives from a peer node.  This
           throttling SHOULD be graded so that it can be applied
           gradually as offered load increases.  Overload is not a
           binary state; there may be degrees of overload.

   REQ 23: The solution MUST provide sufficient information to enable a
           load-balancing node to divert messages that are rejected or
           otherwise throttled by an overloaded upstream node to other
           upstream nodes that are the most likely to have sufficient
           capacity to process them.

   REQ 24: The solution MUST provide a mechanism for indicating load
           levels, even when not in an overload condition, to assist
           nodes in making decisions to prevent overload conditions from
           occurring.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.5.%20%20Priority%20and%20Policy"></a><a class="selflink" href="#section-7.5" name="section-7.5">7.5</a>.  Priority and Policy</span>

   REQ 25: The base specification for the solution SHOULD offer general
           guidance on which message types might be desirable to send or
           process over others during times of overload, based on
           application-specific considerations.  For example, it may be
           more beneficial to process messages for existing sessions
           ahead of new sessions.  Some networks may have a requirement
           to give priority to requests associated with emergency
           sessions.  Any normative or otherwise detailed definition of
           the relative priorities of message types during an overload
           condition will be the responsibility of the application
           specification.

   REQ 26: The solution MUST NOT prevent a node from prioritizing
           requests based on any local policy, so that certain requests
           are given preferential treatment, given additional
           retransmission, not throttled, or processed ahead of others.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.6.%20%20Security"></a><a class="selflink" href="#section-7.6" name="section-7.6">7.6</a>.  Security</span>

   REQ 27: The solution MUST NOT provide new vulnerabilities to
           malicious attack or increase the severity of any existing
           vulnerabilities.  This includes vulnerabilities to DoS and
           DDoS attacks as well as replay and man-in-the-middle attacks.
           Note that the Diameter base specification [<a href="rfc6733.html" title='"Diameter Base Protocol"'>RFC6733</a>] lacks
           end-to-end security, and this must be considered (see
           Security Considerations in this document (<a href="#section-8">Section 8</a>)).  Note




<span class="grey">McMurry &amp; Campbell            Informational                    [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


           that this requirement was expressed at a high level so as to
           not preclude any particular solution.  Is is expected that
           the solution will address this in more detail.

   REQ 28: The solution MUST NOT depend on being deployed in
           environments where all Diameter nodes are completely trusted.
           It SHOULD operate as effectively as possible in environments
           where other nodes are malicious; this includes preventing
           malicious nodes from obtaining more than a fair share of
           service.  Note that this does not imply any responsibility on
           the solution to detect, or take countermeasures against,
           malicious nodes.

   REQ 29: It MUST be possible for a supporting node to make
           authorization decisions about what information will be sent
           to peer nodes based on the identity of those nodes.  This
           allows a domain administrator who considers the load of their
           nodes to be sensitive information to restrict access to that
           information.  Of course, in such cases, there is no
           expectation that the solution itself will help prevent
           overload from that peer node.

   REQ 30: The solution MUST NOT interfere with any Diameter-compliant
           method that a node may use to protect itself from overload
           from non-supporting nodes or from denial-of-service attacks.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.7.%20%20Flexibility%20and%20Extensibility"></a><a class="selflink" href="#section-7.7" name="section-7.7">7.7</a>.  Flexibility and Extensibility</span>

   REQ 31: There are multiple situations where a Diameter node may be
           overloaded for some purposes but not others.  For example,
           this can happen to an agent or server that supports multiple
           applications, or when a server depends on multiple external
           resources, some of which may become overloaded while others
           are fully available.  The solution MUST allow Diameter nodes
           to indicate overload with sufficient granularity to allow
           clients to take action based on the overloaded resources
           without unreasonably forcing available capacity to go unused.
           The solution MUST support specification of overload
           information with granularities of at least "Diameter node",
           "realm", and "Diameter application" and MUST allow
           extensibility for others to be added in the future.

   REQ 32: The solution MUST provide a method for extending the
           information communicated and the algorithms used for overload
           control.






<span class="grey">McMurry &amp; Campbell            Informational                    [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   REQ 33: The solution MUST provide a default algorithm that is
           mandatory to implement.

   REQ 34: The solution SHOULD provide a method for exchanging overload
           and load information between elements that are connected by
           intermediaries that do not support the solution.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   A Diameter overload control mechanism is primarily concerned with the
   load-related and overload-related behavior of nodes in a Diameter
   network, and the information used to affect that behavior.  Load and
   overload information is shared between nodes and directly affects the
   behavior, and thus the information is potentially vulnerable to a
   number of methods of attack.

   Load and overload information may also be sensitive from both
   business and network protection viewpoints.  Operators of Diameter
   equipment want to control the visibility of load and overload
   information to keep it from being used for competitive intelligence
   or for targeting attacks.  It is also important that the Diameter
   overload control mechanism not introduce any way in which any other
   information carried by Diameter is sent inappropriately.

   Note that the Diameter base specification [<a href="rfc6733.html" title='"Diameter Base Protocol"'>RFC6733</a>] lacks end-to-end
   security, making it difficult for non-adjacent nodes to verify the
   authenticity and ownership of load and overload information.
   Authentication of load and overload information helps to alleviate
   several of the security issues listed in this section.

   This document includes requirements intended to mitigate the effects
   of attacks and to protect the information used by the mechanism.
   This section discusses potential security considerations for overload
   control solutions.  This discussion provides the motivation for
   several normative requirements described in <a href="#section-7">Section 7</a>.  The
   discussion includes specific references to the normative requirements
   that apply for each issue.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20Access%20Control"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  Access Control</span>

   To control the visibility of load and overload information, sending
   should be subject to some form of authentication and authorization of
   the receiver.  It is also important to the receivers that they are
   confident the load and overload information they receive is from a
   legitimate source.  REQ 28 requires that the solution work without
   assuming that all Diameter nodes in a network are trusted for the
   purposes of exchanging overload and load information.  REQ 29
   requires that the solution let nodes restrict unauthorized parties



<span class="grey">McMurry &amp; Campbell            Informational                    [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   from seeing overload information.  Note that this implies a certain
   amount of configurability on the nodes supporting the Diameter
   overload control mechanism.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20Denial-of-Service%20Attacks"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  Denial-of-Service Attacks</span>

   An overload control mechanism provides a very attractive target for
   denial-of-service attacks.  A small number of messages may effect a
   large service disruption by falsely reporting overload conditions.
   Alternately, attacking servers nearing, or in, overload may also be
   facilitated by disrupting their overload indications, potentially
   preventing them from mitigating their overload condition.

   A design goal for the Diameter overload control mechanism is to
   minimize or eliminate the possibility of using the mechanism for this
   type of attack.  More strongly, REQ 27 forbids the solution from
   introducing new vulnerabilities to malicious attack.  Additionally,
   REQ 30 stipulates that the solution not interfere with other
   mechanisms used for protection against denial-of-service attacks.

   As the intent of some denial-of-service attacks is to induce overload
   conditions, an effective overload control mechanism should help to
   mitigate the effects of such an attack.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.3.%20%20Replay%20Attacks"></a><a class="selflink" href="#section-8.3" name="section-8.3">8.3</a>.  Replay Attacks</span>

   An attacker that has managed to obtain some messages from the
   overload control mechanism may attempt to affect the behavior of
   nodes supporting the mechanism by sending those messages at
   potentially inopportune times.  In addition to time shifting, replay
   attacks may send messages to other nodes as well (target shifting).

   A design goal for the Diameter overload control solution is to
   minimize or eliminate the possibility of causing disruption by using
   a replay attack on the Diameter overload control mechanism.
   (Allowing a replay attack using the overload control solution would
   violate REQ 27.)

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.4.%20%20Man-in-the-Middle%20Attacks"></a><a class="selflink" href="#section-8.4" name="section-8.4">8.4</a>.  Man-in-the-Middle Attacks</span>

   By inserting themselves between two nodes supporting the Diameter
   overload control mechanism, an attacker may potentially both access
   and alter the information sent between those nodes.  This can be used
   for information gathering for business intelligence and attack
   targeting, as well as direct attacks.






<span class="grey">McMurry &amp; Campbell            Informational                    [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   REQs 27, 28, and 29 imply a need to prevent man-in-the-middle attacks
   on the overload control solution.  A transport using Transport Layer
   Security (TLS) and/or IPsec may be desirable for this purpose.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.5.%20%20Compromised%20Hosts"></a><a class="selflink" href="#section-8.5" name="section-8.5">8.5</a>.  Compromised Hosts</span>

   A compromised host that supports the Diameter overload control
   mechanism could be used for information gathering as well as for
   sending malicious information to any Diameter node that would
   normally accept information from it.  While it is beyond the scope of
   the Diameter overload control mechanism to mitigate any operational
   interruption to the compromised host, REQs 28 and 29 imply a need to
   minimize the impact that a compromised host can have on other nodes
   through the use of the Diameter overload control mechanism.  Of
   course, a compromised host could be used to cause damage in a number
   of other ways.  This is out of scope for a Diameter overload control
   mechanism.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]   Bradner, S., "Key words for use in RFCs to Indicate
               Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC6733" name="ref-RFC6733">RFC6733</a>]   Fajardo, V., Arkko, J., Loughney, J., and G. Zorn,
               "Diameter Base Protocol", <a href="rfc6733.html">RFC 6733</a>, October 2012.

   [<a id="ref-RFC2914" name="ref-RFC2914">RFC2914</a>]   Floyd, S., "Congestion Control Principles", <a href="https://tools.ietf.org/html/bcp41">BCP 41</a>,
               <a href="rfc2914.html">RFC 2914</a>, September 2000.

   [<a id="ref-RFC3539" name="ref-RFC3539">RFC3539</a>]   Aboba, B. and J. Wood, "Authentication, Authorization and
               Accounting (AAA) Transport Profile", <a href="rfc3539.html">RFC 3539</a>, June 2003.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC5390" name="ref-RFC5390">RFC5390</a>]   Rosenberg, J., "Requirements for Management of Overload
               in the Session Initiation Protocol", <a href="rfc5390.html">RFC 5390</a>,
               December 2008.

   [<a id="ref-RFC6357" name="ref-RFC6357">RFC6357</a>]   Hilt, V., Noel, E., Shen, C., and A. Abdelal, "Design
               Considerations for Session Initiation Protocol (SIP)
               Overload Control", <a href="rfc6357.html">RFC 6357</a>, August 2011.

   [<a id="ref-TR23.843" name="ref-TR23.843">TR23.843</a>]  3GPP, "Study on Core Network (CN) overload solutions",
               TR 23.843 1.2.0, Work in Progress, October 2013.





<span class="grey">McMurry &amp; Campbell            Informational                    [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


   [<a id="ref-IR.34" name="ref-IR.34">IR.34</a>]     GSMA, "Inter-Service Provider IP Backbone Guidelines",
               IR 34 9.1, May 2013.

   [<a id="ref-IR.88" name="ref-IR.88">IR.88</a>]     GSMA, "LTE Roaming Guidelines", IR 88 9.0, January 2013.

   [<a id="ref-IR.92" name="ref-IR.92">IR.92</a>]     GSMA, "IMS Profile for Voice and SMS", IR 92 7.0,
               March 2013.

   [<a id="ref-TS23.002" name="ref-TS23.002">TS23.002</a>]  3GPP, "Network Architecture", TS 23.002 12.2.0,
               June 2013.

   [<a id="ref-TS29.272" name="ref-TS29.272">TS29.272</a>]  3GPP, "Evolved Packet System (EPS); Mobility Management
               Entity (MME) and Serving GPRS Support Node (SGSN) related
               interfaces based on Diameter protocol", TS 29.272 12.2.0,
               September 2013.

   [<a id="ref-TS29.212" name="ref-TS29.212">TS29.212</a>]  3GPP, "Policy and Charging Control (PCC) over Gx/Sd
               reference point", TS 29.212 12.2.0, September 2013.

   [<a id="ref-TS29.228" name="ref-TS29.228">TS29.228</a>]  3GPP, "IP Multimedia (IM) Subsystem Cx and Dx interfaces;
               Signalling flows and message contents", TS 29.228 12.0.0,
               September 2013.

   [<a id="ref-TS29.002" name="ref-TS29.002">TS29.002</a>]  3GPP, "Mobile Application Part (MAP) specification",
               TS 29.002 12.2.0, September 2013.


























<span class="grey">McMurry &amp; Campbell            Informational                    [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc7068.html">RFC 7068</a>         Diameter Overload Control Requirements    November 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Contributors"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Contributors</span>

   Significant contributions to this document were made by Adam Roach
   and Eric Noel.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20B.%20%20Acknowledgements"></a><a class="selflink" href="#appendix-B" name="appendix-B">Appendix B</a>.  Acknowledgements</span>

   Review of, and contributions to, this specification by Martin Dolly,
   Carolyn Johnson, Jianrong Wang, Imtiaz Shaikh, Jouni Korhonen, Robert
   Sparks, Dieter Jacobsohn, Janet Gunn, Jean-Jacques Trottin, Laurent
   Thiebaut, Andrew Booth, and Lionel Morand were most appreciated.  We
   would like to thank them for their time and expertise.

Authors' Addresses

   Eric McMurry
   Oracle
   17210 Campbell Rd.
   Suite 250
   Dallas, TX  75252
   US

   EMail: emcmurry@computer.org


   Ben Campbell
   Oracle
   17210 Campbell Rd.
   Suite 250
   Dallas, TX  75252
   US

   EMail: ben@nostrum.com


















McMurry &amp; Campbell            Informational                    [Page 29]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7068 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:25 GMT --></html>