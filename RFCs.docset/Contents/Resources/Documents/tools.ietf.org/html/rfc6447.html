<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6447 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:29 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-mahy-geopriv-loc-filters" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6447" name="DC.Identifier"/>
<meta content="January, 2012" name="DC.Date.Issued"/>
<meta content="Mahy, Rohan" name="DC.Creator"/>
<meta content="Rosen, Brian" name="DC.Creator"/>
<meta content="This document describes filters which limit asynchronous location
notifications to compelling events. The resulting location information
is conveyed in existing location formats wrapped in GEOPRIV privacy
extensions to the Presence Information Document Format (PIDF-LO)" name="DC.Description.Abstract"/>
<meta content="A Document Format for Filtering and Reporting Location Notications in the Presence Information Document Format Location Object (PIDF-LO)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6447 - A Document Format for Filtering and Reporting Location Notications in the Presence Information Document Format Location Object (PIDF-LO)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6447.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6447" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-geopriv-loc-filters" title="draft-ietf-geopriv-loc-filters">draft-ietf-geop...</a>] [<a href="https://datatracker.ietf.org/doc/rfc6447" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6447" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6447" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                           R. Mahy
Request for Comments: 6447                                    Individual
Category: Standards Track                                       B. Rosen
ISSN: 2070-1721                                                  NeuStar
                                                           H. Tschofenig
                                                  Nokia Siemens Networks
                                                            January 2012


                  <span class="h1">Filtering Location Notifications in</span>
                 <span class="h1">the Session Initiation Protocol (SIP)</span>

Abstract

   This document describes filters that limit asynchronous location
   notifications to compelling events.  These filters are designed as an
   extension to <a href="rfc4661.html">RFC 4661</a>, an XML-based format for event notification
   filtering, and based on <a href="rfc3856.html">RFC 3856</a>, the SIP presence event package.
   The resulting location information is conveyed in existing location
   formats wrapped in the Presence Information Data Format Location
   Object (PIDF-LO).

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6447">http://www.rfc-editor.org/info/rfc6447</a>.
















<span class="grey">Mahy, et al.                 Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  Filter Definitions . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-3.1">3.1</a>.  Movement . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
     <a href="#section-3.2">3.2</a>.  Speed Changes  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-3.3">3.3</a>.  Element Value Changes  . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-3.4">3.4</a>.  Entering or Exiting a Region . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
     <a href="#section-3.5">3.5</a>.  Location Type  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
     <a href="#section-3.6">3.6</a>.  Rate Control . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-4">4</a>.  XML Schema . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   <a href="#section-5">5</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-6">6</a>.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
     6.1.  URN Sub-Namespace Registration for
           urn:ietf:params:xml:ns:location-filter . . . . . . . . . . <a href="#page-16">16</a>
     <a href="#section-6.2">6.2</a>.  Schema Registration for location-filter  . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-7">7</a>.  Contributors . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-8">8</a>.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-9">9</a>.  References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
     <a href="#section-9.1">9.1</a>.  Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
     <a href="#section-9.2">9.2</a>.  Informative References . . . . . . . . . . . . . . . . . . <a href="#page-18">18</a>














<span class="grey">Mahy, et al.                 Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Conveying location information encapsulated with a Presence
   Information Data Format Location Object (PIDF-LO) [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>] document
   within SIP is described in [<a href="#ref-SIP-LOC" title='"Location Conveyance for the Session Initiation Protocol"'>SIP-LOC</a>].  An alternative signaling
   approach to location conveyance, which uses asynchronous
   communication, is available with the SIP event notification
   mechanisms (see <a href="rfc3265.html">RFC 3265</a> [<a href="rfc3265.html" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>RFC3265</a>]).  This approach conveys location
   information in PIDF-LO format using the presence event package
   [<a href="rfc3856.html" title='"A Presence Event Package for the Session Initiation Protocol (SIP)"'>RFC3856</a>].  This document focuses on the event notification paradigm.

   Determining when to send event notifications with location
   information is technically more challenging than deciding when to
   send other categories of notifications, since location may be
   measured as a continuous gradient.  Unlike notifications using
   discrete-valued quantities, it is difficult to know when a change in
   location is sufficiently large to warrant a notification.  Event
   notifications [<a href="rfc3265.html" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>RFC3265</a>] can be used with filters (see <a href="rfc4661.html">RFC 4661</a>
   [<a href="rfc4661.html" title='"An Extensible Markup Language (XML)- Based Format for Event Notification Filtering"'>RFC4661</a>]) that allow the number of notifications to be reduced.  The
   mechanism described in this document defines an extension to <a href="rfc4661.html">RFC 4661</a>
   [<a href="rfc4661.html" title='"An Extensible Markup Language (XML)- Based Format for Event Notification Filtering"'>RFC4661</a>], which limits location notification to events that are of
   relevance to the subscriber.  These filters persist until they are
   replaced with a newer filter or until the subscription itself is
   terminated.

   The frequency of notifications necessary for various geographic
   location applications varies dramatically.  The subscriber should be
   able to get asynchronous notifications with appropriate frequency and
   granularity, without being flooded with a large number of
   notifications that are not important to the application.

   This document defines new event filters and describes others using
   existing mechanisms that may be relevant to a subscriber in the
   context of location filtering.  Based on the functionality defined in
   this document, notifications can be provided in the following cases:

   1.  the Target moves more than a specified distance since the last
       notification (see <a href="#section-3.1">Section 3.1</a>).

   2.  the Target exceeds a specified speed (see <a href="#section-3.2">Section 3.2</a>).

   3.  the Target enters or exits a 2-dimensional region, described by a
       circle or a polygon (see <a href="#section-3.4">Section 3.4</a>).

   4.  one or more of the values of the specified civic location have
       changed for the location of the Target (see <a href="#section-3.3">Section 3.3</a>).  For
       example, the value of the civic address '&lt;A1&gt;' element has
       changed from 'California' to 'Nevada'.



<span class="grey">Mahy, et al.                 Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   5.  the type of location information requested (see <a href="#section-3.5">Section 3.5</a>)
       changes, for example, from civic to geodetic location or vice
       versa.

   6.  a certain amount of time passes (see <a href="#section-3.6">Section 3.6</a>).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   This document reuses terminology from [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Filter%20Definitions"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Filter Definitions</span>

   This specification builds on a number of other specifications, as
   noted in <a href="#section-1">Section 1</a>.  In order to reduce the number of options (and
   thereby decrease the chance of interoperability problems), the
   functionality described in the following sub-sections of [<a href="rfc4661.html" title='"An Extensible Markup Language (XML)- Based Format for Event Notification Filtering"'>RFC4661</a>]
   MUST be implemented: the &lt;ns-bindings&gt; element (see <a href="rfc4661.html#section-3.3">Section 3.3 of
   [RFC4661]</a>); the &lt;filter&gt; element (<a href="rfc4661.html#section-3.4">Section 3.4 of [RFC4661]</a>); and the
   &lt;trigger&gt; element (<a href="rfc4661.html#section-3.6">Section 3.6 of [RFC4661]</a>), except for the &lt;added&gt;
   and &lt;removed&gt; sub-elements.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Movement"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Movement</span>

   The &lt;moved&gt; element MUST contain a value in meters indicating the
   minimum distance that the resource must have moved from the location
   of the resource since the last notification was sent in order to
   trigger this event.  The distance MUST be measured in meters
   absolutely from the point of the last notification, and must include
   vertical movement.  The &lt;moved&gt; element MUST NOT appear more than
   once as a child element of the &lt;filter&gt; element.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set
       xmlns="urn:ietf:params:xml:ns:simple-filter"
       xmlns:lf="urn:ietf:params:xml:ns:location-filter"&gt;
       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;trigger&gt;
               &lt;lf:moved&gt;300&lt;/lf:moved&gt;
           &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

                     Figure 1: Movement Filter Example




<span class="grey">Mahy, et al.                 Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Speed%20Changes"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Speed Changes</span>

   Speed changes can be filtered by combining functionality from <a href="rfc4661.html">RFC</a>
   <a href="rfc4661.html">4661</a> with the PIDF-LO extensions for spatial orientation, speed,
   heading, and acceleration defined in [<a href="rfc5962.html" title='"Dynamic Extensions to the Presence Information Data Format Location Object (PIDF-LO)"'>RFC5962</a>].  The value of the
   &lt;speed&gt; element from [<a href="rfc5962.html" title='"Dynamic Extensions to the Presence Information Data Format Location Object (PIDF-LO)"'>RFC5962</a>] MUST be defined in meters per second.
   Note that the condition could be met by a change in any axis,
   including altitude.

   Figure 2 shows an example for a trigger that fires when the speed of
   the Target changes by 3 meters per second.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
       &lt;ns-bindings&gt;
           &lt;ns-binding prefix="dyn"
               urn="urn:ietf:params:xml:schema:pidf:dynamic"/&gt;
       &lt;/ns-bindings&gt;
       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;trigger&gt;
               &lt;changed by="3"&gt;
                 //dyn:speed
               &lt;/changed&gt;
           &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

                      Figure 2: Speed Change Example

   An implementation MUST support &lt;ns-bindings&gt; to replace the namespace
   prefix.  The XPath expression MUST start with a '//' followed by a
   single element.  No other form of XPath expression is supported.  The
   &lt;changed&gt; element comes with a few attributes but only the 'by'
   attribute MUST be implemented by this specification.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Element%20Value%20Changes"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Element Value Changes</span>

   Changes in values, for example related to civic location information,
   is provided by the base functionality offered with <a href="rfc4661.html">RFC 4661</a> utilizing
   the &lt;changed&gt; element.

   The following example illustrates a filter that triggers when the
   Target's location changes from 'FR' (France) to some other country.








<span class="grey">Mahy, et al.                 Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
       &lt;ns-bindings&gt;
           &lt;ns-binding prefix="ca"
               urn="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"/&gt;
       &lt;/ns-bindings&gt;
       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;trigger&gt;
               &lt;changed from="FR"&gt;//ca:country&lt;/changed&gt;
           &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

          Figure 3: Element Value Change Example (Country Change)

   At times when it is desirable to know if any one element of a list of
   CAtypes changes, then they have to be put into separate &lt;changes&gt;
   filters to ensure the subscriber is notified when any of the element
   values change.  Figure 4 shows such an example that illustrates the
   difference.































<span class="grey">Mahy, et al.                 Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   (A change in value of ANY of the five tokens triggers an event.)

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
       &lt;ns-bindings&gt;
           &lt;ns-binding prefix="ca"
               urn="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"/&gt;
       &lt;/ns-bindings&gt;
       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
              &lt;trigger&gt;
                  &lt;changed&gt;//ca:country&lt;/changed&gt;
              &lt;/trigger&gt;
              &lt;trigger&gt;
                  &lt;changed&gt;//ca:A1&lt;/changed&gt;
              &lt;/trigger&gt;
              &lt;trigger&gt;
                  &lt;changed&gt;//ca:A2&lt;/changed&gt;
              &lt;/trigger&gt;
              &lt;trigger&gt;
                  &lt;changed&gt;//ca:A3&lt;/changed&gt;
              &lt;/trigger&gt;
              &lt;trigger&gt;
                  &lt;changed&gt;//ca:PC&lt;/changed&gt;
              &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

                  Figure 4: Element Value Change Example

   Finally, Figure 5 shows an example where a notification is sent when
   the civic address tokens A3 and PC change (BOTH elements must change
   in order to let the &lt;trigger&gt; element evaluate to TRUE).



















<span class="grey">Mahy, et al.                 Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   (Only a change in BOTH tokens triggers an event.)

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
       &lt;ns-bindings&gt;
           &lt;ns-binding prefix="ca"
               urn="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"/&gt;
       &lt;/ns-bindings&gt;
       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;trigger&gt;
               &lt;changed&gt;//ca:A3&lt;/changed&gt;
               &lt;changed&gt;//ca:PC&lt;/changed&gt;
           &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

                  Figure 5: Element Value Change Example

   Note: The civic address tokens country, A1, A2, ..., A6 are
   hierarchical.  It is likely that a change in one civic address token
   therefore leads to changes of tokens lower in the hierarchy, e.g., a
   change in A3 ('city or town') may cause a change in A4, A5, and A6.

   An implementation MUST support &lt;ns-bindings&gt; to replace the namespace
   prefix.  The XPath expression MUST start with a '//' followed by a
   single element.  No other form of XPath expression is supported.  No
   other variant is supported.  The &lt;changed&gt; element comes with a few
   attributes and the 'by', 'to', and 'from' attribute MUST be
   implemented to support this specification.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Entering%20or%20Exiting%20a%20Region"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Entering or Exiting a Region</span>

   The &lt;enterOrExit&gt; condition is satisfied when the Target enters or
   exits a 2-dimensional region described by a polygon (as defined in
   <a href="rfc5491.html#section-5.2.2">Section 5.2.2 of [RFC5491]</a>) or a circle (as defined in <a href="rfc5491.html#section-5.2.3">Section 5.2.3
   of [RFC5491]</a>).  The &lt;enterOrExit&gt; element MUST contain either a
   polygon or a circle as a child element.  The &lt;enterOrExit&gt; element
   MUST NOT have more than one polygon and/or circle.

   If the Target was previously outside the region, the notifier sends a
   notification when the Target's location is within the region with at
   least 50% confidence.  Similarly, when a Target starts within the
   region, a notification is sent when the Target's location moves
   outside the region with at least 50% confidence.

   Note that having 50% confidence that the Target is inside the area
   does not correspond to 50% outside.  The confidence that the location
   is within the region, plus the confidence that the location is



<span class="grey">Mahy, et al.                 Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   outside the region is limited to the confidence of the location.  The
   total confidence depends on the confidence in the location, which is
   always less than 100% (95% is recommended in [<a href="rfc5491.html" title='"GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations"'>RFC5491</a>]).  The benefit
   of this is that notifications are naturally limited: small movements
   (relative to the uncertainty of the location) at the borders of the
   region do not trigger notifications.

   Figure 6 shows filter examples whereby a notification is sent when
   the Target enters or exits an area described by a circle, and
   Figure 7 describes an area using a polygon.

   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set
       xmlns="urn:ietf:params:xml:ns:simple-filter"
       xmlns:lf="urn:ietf:params:xml:ns:location-filter"
       xmlns:gml="http://www.opengis.net/gml"
       xmlns:gs="http://www.opengis.net/pidflo/1.0"&gt;

       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;trigger&gt;
               &lt;lf:enterOrExit&gt;
                   &lt;gs:Circle
                       srsName="urn:ogc:def:crs:EPSG::4326"&gt;
                       &lt;gml:pos&gt;42.5463 -73.2512&lt;/gml:pos&gt;
                       &lt;gs:radius
                           uom="urn:ogc:def:uom:EPSG::9001"&gt;
                           850.24
                       &lt;/gs:radius&gt;
                   &lt;/gs:Circle&gt;
               &lt;/lf:enterOrExit&gt;
           &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

               Figure 6: &lt;enterOrExit&gt; Circle Filter Example
















<span class="grey">Mahy, et al.                 Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set
       xmlns="urn:ietf:params:xml:ns:simple-filter"
       xmlns:lf="urn:ietf:params:xml:ns:location-filter"
       xmlns:gml="http://www.opengis.net/gml"&gt;

       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;trigger&gt;
               &lt;lf:enterOrExit&gt;
                   &lt;gml:Polygon srsName="urn:ogc:def:crs:EPSG::4326"&gt;
                       &lt;gml:exterior&gt;
                           &lt;gml:LinearRing&gt;
                               &lt;gml:pos&gt;43.311 -73.422&lt;/gml:pos&gt;
                               &lt;!--A--&gt;
                               &lt;gml:pos&gt;43.111 -73.322&lt;/gml:pos&gt;
                               &lt;!--F--&gt;
                               &lt;gml:pos&gt;43.111 -73.222&lt;/gml:pos&gt;
                               &lt;!--E--&gt;
                               &lt;gml:pos&gt;43.311 -73.122&lt;/gml:pos&gt;
                               &lt;!--D--&gt;
                               &lt;gml:pos&gt;43.411 -73.222&lt;/gml:pos&gt;
                               &lt;!--C--&gt;
                               &lt;gml:pos&gt;43.411 -73.322&lt;/gml:pos&gt;
                               &lt;!--B--&gt;
                               &lt;gml:pos&gt;43.311 -73.422&lt;/gml:pos&gt;
                               &lt;!--A--&gt;
                           &lt;/gml:LinearRing&gt;
                       &lt;/gml:exterior&gt;
                   &lt;/gml:Polygon&gt;
               &lt;/lf:enterOrExit&gt;
           &lt;/trigger&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

              Figure 7: &lt;enterOrExit&gt; Polygon Filter Example

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.5.%20%20Location%20Type"></a><a class="selflink" href="#section-3.5" name="section-3.5">3.5</a>.  Location Type</span>

   The &lt;locationType&gt; element MAY be included as a child element of the
   &lt;what&gt; element.  It contains a list of location information types
   that are requested by the subscriber.  The following list describes
   the possible values:

   any:  The Notifier SHOULD attempt to provide location information in
      all forms available to it.






<span class="grey">Mahy, et al.                 Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   geodetic:  The Notifier SHOULD return a location by value in the form
      of a geodetic location.

   civic:  The Notifier SHOULD return a location by value in the form of
      a civic address.

   The Notifier SHOULD return the requested location type or types.  The
   location types the Notifier returns also depends on the setting of
   the optional 'exact' attribute.  If the 'exact' attribute is set to
   "true", then the Notifier MUST return either the requested location
   type or no location information.  The 'exact' attribute does not
   apply (is ignored) for a request for a location type of "any".

   In the case of a request for specific locationType(s) and the 'exact'
   attribute is "false", the Notifier MAY provide additional location
   types, or it MAY provide alternative types if the request cannot be
   satisfied for a requested location type.

   If the &lt;locationType&gt; element is absent, a value of "any" MUST be
   assumed as the default.

   The Notifier SHOULD provide civic and geodetic location information
   in the response in the same order in which they were included in the
   "locationType" element in the request, if both were explicitly
   requested.  Indeed, the primary advantage of including specific
   location types in a request when the 'exact' attribute is set to
   "false" is to ensure that one receives the available locations in a
   specific order.  For example, a subscription for "civic" (with the
   'exact' attribute set to "false") could yield any of the following
   location types in the response:

   o  civic

   o  civic, geodetic

   o  geodetic (only if civic is not available)

   The default value of "false" for the 'exact' attribute allows the
   Notifier the option of returning something beyond what is specified,
   such as a set of location URIs when only a civic location was
   requested.

   An example is shown in Figure 8 that utilizes the &lt;locationType&gt;
   element with the 'exact' attribute.







<span class="grey">Mahy, et al.                 Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;filter-set
       xmlns="urn:ietf:params:xml:ns:simple-filter"
       xmlns:lf="urn:ietf:params:xml:ns:location-filter"&gt;
       &lt;filter id="123" uri="sip:presentity@example.com"&gt;
           &lt;what&gt;
               &lt;lf:locationType exact="true"&gt;
                 geodetic
               &lt;/lf:locationType&gt;
           &lt;/what&gt;
       &lt;/filter&gt;
   &lt;/filter-set&gt;

                  Figure 8: &lt;locationType&gt; Filter Example

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.6.%20%20Rate%20Control"></a><a class="selflink" href="#section-3.6" name="section-3.6">3.6</a>.  Rate Control</span>

   [<a id="ref-RFC6446" name="ref-RFC6446">RFC6446</a>] extends the SIP events framework by defining three Event
   header field parameters that allow a subscriber to set a minimum, a
   maximum, and an adaptive minimum of event notifications generated by
   the notifier.  This allows a subscriber to have overall control over
   the stream of notifications, for example to avoid being flooded.  Two
   of the parameters, namely "min-rate" (which specifies a minimum
   notification rate per second) and "max-rate" (which specifies a
   maximum notification rate per second) are used by this document.
   Only the implementation of these two attributes is required from the
   attributes defined in [<a href="rfc6446.html" title='"Session Initiation Protocol (SIP) Event Notification Extension for Notification Rate Control"'>RFC6446</a>].  Whenever the time since the most
   recent notification exceeds the interval corresponding to 1 / "min-
   rate", the current state would be sent in its entirety, just like
   after a subscription refresh.

   A notifier is required to send a NOTIFY request immediately after
   creation of a subscription.  If state is not available at that time,
   then the NOTIFY request may be sent with no content.  A separate
   NOTIFY containing location is subsequently generated so that the rate
   of notification since the last NOTIFY falls between "min-rate" and
   "max-rate".  An important use case for location-based applications
   focuses on the behavior of the initial NOTIFY message(s) and the
   information it returns, for example in case of emergency call
   routing.  When an initial NOTIFY is transmitted, it might not include
   complete state.










<span class="grey">Mahy, et al.                 Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


      Subscriber          Notifier
          |---SUBSCRIBE(1)---&gt;|  Create subscription (w/large value
          |&lt;-------200--------|    for min-rate and max-rate)
          |&lt;-----NOTIFY(2)----|  Return initial notify with no state
          |--------200-------&gt;|
          |        ...        |
          |&lt;-----NOTIFY(3)----|  Return full state (between min-rate
          |--------200-------&gt;|    and max-rate)
          |---SUBSCRIBE(4)---&gt;|  Update subscription (to update
          |&lt;-------200--------|    min-rate and max-rate)

               Figure 9: SUBSCRIBE/NOTIFY with Rate Control

   Figure 9 shows a SUBSCRIBE/NOTIFY exchange.  The initial SUBSCRIBE
   message (1) has filters attached and contains a "min-rate" rate
   control parameter.  In certain situations, it is important to obtain
   some amount of location information within a relatively short and
   pre-defined period of time, even if the obtained location information
   contains a high amount of uncertainty and location information with
   less uncertainty could be available at a later point in time.  An
   example is emergency call routing where an emergency services routing
   proxy may need to obtain location information suitable for routing
   rather quickly and subsequently a Public Safety Answering Point
   requests location information for dispatch.

   To obtain location information in a timely fashion using the
   SUBSCRIBE/NOTIFY mechanism, it is RECOMMENDED that the initial
   SUBSCRIBE contain a "min-rate" rate control parameter (with a large
   value, corresponding to a very short delay before the next
   notification) that is updated in a later message to a more sensible
   value.  This provides equivalent functionality to the 'responseTime'
   attribute in <a href="rfc5985.html#section-6.1">Section 6.1 of [RFC5985]</a>.  The "min-rate" for this first
   request is therefore much larger (much more rapid) than the updated
   "min-rate" value.  Depending on the value in the "min-rate"
   parameter, the Notifier may immediately send the initial NOTIFY
   message (see message 2) without a body if no location information is
   available at this point in time.  The desired location information
   may then arrive in the subsequent NOTIFY message (see message 3).
   Updating the "min-rate" for the subscription can be performed in the
   200 response (see message 3) to the NOTIFY that contains location
   state, or in a subsequent SUBSCRIBE request (as in message 4).










<span class="grey">Mahy, et al.                 Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20XML%20Schema"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  XML Schema</span>

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;xs:schema
      targetNamespace="urn:ietf:params:xml:ns:location-filter"
      xmlns:filter="urn:ietf:params:xml:ns:location-filter"
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
      xmlns:gml="http://www.opengis.net/gml"&gt;

      &lt;xs:element name="enterOrExit" type="gml:GeometryPropertyType"/&gt;

      &lt;xs:element name="moved" type="filter:movedType"/&gt;

      &lt;xs:complexType name="movedType"&gt;
         &lt;xs:simpleContent&gt;
            &lt;xs:extension base="xs:double"&gt;
              &lt;xs:anyAttribute namespace="##any" processContents="lax"/&gt;
            &lt;/xs:extension&gt;
         &lt;/xs:simpleContent&gt;
      &lt;/xs:complexType&gt;

      &lt;xs:element name="locationType" type="filter:locationTypeType"/&gt;

      &lt;xs:simpleType name="locationTypeBase"&gt;
          &lt;xs:union&gt;
              &lt;xs:simpleType&gt;
                  &lt;xs:restriction base="xs:token"&gt;
                      &lt;xs:enumeration value="any"/&gt;
                  &lt;/xs:restriction&gt;
              &lt;/xs:simpleType&gt;
              &lt;xs:simpleType&gt;
                  &lt;xs:restriction base="filter:locationTypeList"&gt;
                      &lt;xs:minLength value="1"/&gt;
                  &lt;/xs:restriction&gt;
              &lt;/xs:simpleType&gt;
          &lt;/xs:union&gt;
      &lt;/xs:simpleType&gt;

      &lt;xs:simpleType name="locationTypeList"&gt;
          &lt;xs:list&gt;
              &lt;xs:simpleType&gt;
                  &lt;xs:restriction base="xs:token"&gt;
                      &lt;xs:enumeration value="civic"/&gt;
                      &lt;xs:enumeration value="geodetic"/&gt;
                  &lt;/xs:restriction&gt;
              &lt;/xs:simpleType&gt;
          &lt;/xs:list&gt;
      &lt;/xs:simpleType&gt;



<span class="grey">Mahy, et al.                 Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


      &lt;xs:complexType name="locationTypeType"&gt;
            &lt;xs:simpleContent&gt;
                &lt;xs:extension base="filter:locationTypeBase"&gt;
                    &lt;xs:attribute name="exact" type="xs:boolean"
                        use="optional" default="false"/&gt;
                &lt;/xs:extension&gt;
            &lt;/xs:simpleContent&gt;
        &lt;/xs:complexType&gt;
  &lt;/xs:schema&gt;

                           Figure 10: XML Schema

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   This document specifies one element, namely filters, utilized in
   larger systems.  As such, this document builds on a number of
   specifications for the security of the complete solution, namely

   o  the SIP event notification mechanism, described in <a href="rfc3265.html">RFC 3265</a>
      [<a href="rfc3265.html" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>RFC3265</a>], defining the SUBSCRIBE/NOTIFY messages.

   o  the presence event package, described in <a href="rfc3856.html">RFC 3856</a> [<a href="rfc3856.html" title='"A Presence Event Package for the Session Initiation Protocol (SIP)"'>RFC3856</a>], which
      is a concrete instantiation of the general event notification
      framework.

   o  the filter framework, described in <a href="rfc4661.html">RFC 4661</a> [<a href="rfc4661.html" title='"An Extensible Markup Language (XML)- Based Format for Event Notification Filtering"'>RFC4661</a>], to offer
      the ability to reduce the amount of notifications being sent.

   Finally, this document indirectly (via the SIP presence event
   package) relies on PIDF-LO, described in <a href="rfc4119.html">RFC 4119</a> [<a href="rfc4119.html" title='"A Presence-based GEOPRIV Location Object Format"'>RFC4119</a>], as the
   XML container that carries location information.

   Each of the documents listed above comes with a Security
   Considerations section but the security and privacy aspects are best
   covered by the SIP presence event package; see <a href="rfc3856.html#section-9">Section 9 of
   [RFC3856]</a>, and with the GEOPRIV architectural description found in
   [<a href="rfc6280.html" title='"An Architecture for Location and Location Privacy in Internet Applications"'>RFC6280</a>].

   The functionality offered by authorization policies to limit access
   to location information is provided by other protocols, such as
   Common Policy [<a href="rfc4745.html" title='"Common Policy: A Document Format for Expressing Privacy Preferences"'>RFC4745</a>], Geolocation Policy [<a href="#ref-GEO-POLICY" title='"Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information"'>GEO-POLICY</a>], or more
   recent work around HTTP-Enabled Location Delivery (HELD) context
   [<a href="#ref-HELD" title='"Location URI Contexts in HTTP-Enabled Location Delivery (HELD)"'>HELD</a>].  Although [<a href="#ref-GEO-POLICY" title='"Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information"'>GEO-POLICY</a>] defines a standardized format for
   geolocation authorization policies, it does not define specific
   policies for controlling filters.

   The functionality described in this document extends the filter
   framework with location-specific filters.  Local policies might be



<span class="grey">Mahy, et al.                 Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   associated with the usage of certain filter constructs and with the
   amount of notifications that specific filter settings might cause.
   Uploading filters have a significant effect on the ways in which the
   request is handled at a server.  As a result, it is especially
   important that messages containing this extension be authenticated
   and authorized.  <a href="rfc4661.html">RFC 4661</a> [<a href="rfc4661.html" title='"An Extensible Markup Language (XML)- Based Format for Event Notification Filtering"'>RFC4661</a>] discusses this security threat
   and proposes authentication and authorization solutions applicable to
   this specification.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  IANA Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20URN%20Sub-Namespace%20Registration%20for"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  URN Sub-Namespace Registration for</span>
<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/urn%3Aietf%3Aparams%3Axml%3Ans%3Alocation-filter"></a>      urn:ietf:params:xml:ns:location-filter</span>

   This section registers a new XML namespace, as per the guidelines in
   [<a href="rfc3688.html" title='"The IETF XML Registry"'>RFC3688</a>].

   URI:  urn:ietf:params:xml:ns:location-filter

   Registrant Contact:  IETF, GEOPRIV working group, &lt;geopriv@ietf.org&gt;,
      as delegated by the IESG &lt;iesg@ietf.org&gt;.

   XML:

   BEGIN
   &lt;?xml version="1.0"?&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
             "<a href="http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd</a>"&gt;
   &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
   &lt;head&gt;
     &lt;meta http-equiv="content-type"
        content="text/html;charset=iso-8859-1"/&gt;
     &lt;title&gt;Location Filter Namespace&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
     &lt;h1&gt;Namespace for PIDF-LO Location Filters&lt;/h1&gt;
     &lt;h2&gt;urn:ietf:params:xml:ns:location-filter&lt;/h2&gt;
     &lt;p&gt;See &lt;a href="http://www.rfc-editor.org/rfc/rfc6447.txt"&gt;
            <a href="rfc6447.html">RFC 6447</a>&lt;/a&gt;.&lt;/p&gt;
   &lt;/body&gt;
   &lt;/html&gt;
   END

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Schema%20Registration%20for%20location-filter"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Schema Registration for location-filter</span>

   This specification registers a schema, as per the guidelines in
   [<a href="rfc3688.html" title='"The IETF XML Registry"'>RFC3688</a>].




<span class="grey">Mahy, et al.                 Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


      URI: urn:ietf:params:xml:schema:location-filter

      Registrant Contact: IETF, GEOPRIV Working Group
      (geopriv@ietf.org), as delegated by the IESG (iesg@ietf.org).

      XML: The XML can be found as the sole content of <a href="#section-4">Section 4</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Contributors"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Contributors</span>

   We would like to thank Martin Thomson and James Polk for their
   contributions to this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgments"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgments</span>

   Thanks to Richard Barnes, Alissa Cooper, Randall Gellens, Carl Reed,
   Ben Campbell, Adam Roach, Allan Thomson, and James Winterbottom for
   their comments.

   Furthermore, we would like to thank Alexey Melnikov for his IESG
   review comments.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-GML" name="ref-GML">GML</a>]         OpenGIS, "Open Geography Markup Language (GML)
                 Implementation Specification", OpenGIS OGC 02-023r4,
                 January 2003,
                 &lt;<a href="http://www.opengis.org/techno/implementation.htm">http://www.opengis.org/techno/implementation.htm</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]     Bradner, S., "Key words for use in RFCs to Indicate
                 Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3265" name="ref-RFC3265">RFC3265</a>]     Roach, A., "Session Initiation Protocol (SIP)-Specific
                 Event Notification", <a href="rfc3265.html">RFC 3265</a>, June 2002.

   [<a id="ref-RFC3856" name="ref-RFC3856">RFC3856</a>]     Rosenberg, J., "A Presence Event Package for the
                 Session Initiation Protocol (SIP)", <a href="rfc3856.html">RFC 3856</a>,
                 August 2004.

   [<a id="ref-RFC4119" name="ref-RFC4119">RFC4119</a>]     Peterson, J., "A Presence-based GEOPRIV Location Object
                 Format", <a href="rfc4119.html">RFC 4119</a>, December 2005.

   [<a id="ref-RFC4661" name="ref-RFC4661">RFC4661</a>]     Khartabil, H., Leppanen, E., Lonnfors, M., and J.
                 Costa-Requena, "An Extensible Markup Language (XML)-
                 Based Format for Event Notification Filtering",
                 <a href="rfc4661.html">RFC 4661</a>, September 2006.




<span class="grey">Mahy, et al.                 Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


   [<a id="ref-RFC5491" name="ref-RFC5491">RFC5491</a>]     Winterbottom, J., Thomson, M., and H. Tschofenig,
                 "GEOPRIV Presence Information Data Format Location
                 Object (PIDF-LO) Usage Clarification, Considerations,
                 and Recommendations", <a href="rfc5491.html">RFC 5491</a>, March 2009.

   [<a id="ref-RFC5962" name="ref-RFC5962">RFC5962</a>]     Schulzrinne, H., Singh, V., Tschofenig, H., and M.
                 Thomson, "Dynamic Extensions to the Presence
                 Information Data Format Location Object (PIDF-LO)",
                 <a href="rfc5962.html">RFC 5962</a>, September 2010.

   [<a id="ref-RFC6280" name="ref-RFC6280">RFC6280</a>]     Barnes, R., Lepinski, M., Cooper, A., Morris, J.,
                 Tschofenig, H., and H. Schulzrinne, "An Architecture
                 for Location and Location Privacy in Internet
                 Applications", <a href="https://tools.ietf.org/html/bcp160">BCP 160</a>, <a href="rfc6280.html">RFC 6280</a>, July 2011.

   [<a id="ref-RFC6446" name="ref-RFC6446">RFC6446</a>]     Niemi, A., Kiss, K., and S. Loreto, "Session Initiation
                 Protocol (SIP) Event Notification Extension for
                 Notification Rate Control", <a href="rfc6446.html">RFC 6446</a>, January 2012.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-GEO-POLICY" name="ref-GEO-POLICY">GEO-POLICY</a>]  Schulzrinne, H., Tschofenig, H., Cuellar, J., Polk, J.,
                 Morris, J., and M. Thomson, "Geolocation Policy: A
                 Document Format for Expressing Privacy Preferences for
                 Location Information", Work in Progress, October 2011.

   [<a id="ref-HELD" name="ref-HELD">HELD</a>]        Winterbottom, J., Tschofenig, H., and M. Thomson,
                 "Location URI Contexts in HTTP-Enabled Location
                 Delivery (HELD)", Work in Progress, October 2009.

   [<a id="ref-RFC3688" name="ref-RFC3688">RFC3688</a>]     Mealling, M., "The IETF XML Registry", <a href="https://tools.ietf.org/html/bcp81">BCP 81</a>,
                 <a href="rfc3688.html">RFC 3688</a>, January 2004.

   [<a id="ref-RFC4745" name="ref-RFC4745">RFC4745</a>]     Schulzrinne, H., Tschofenig, H., Morris, J., Cuellar,
                 J., Polk, J., and J. Rosenberg, "Common Policy: A
                 Document Format for Expressing Privacy Preferences",
                 <a href="rfc4745.html">RFC 4745</a>, February 2007.

   [<a id="ref-RFC5985" name="ref-RFC5985">RFC5985</a>]     Barnes, M., "HTTP-Enabled Location Delivery (HELD)",
                 <a href="rfc5985.html">RFC 5985</a>, September 2010.

   [<a id="ref-SIP-LOC" name="ref-SIP-LOC">SIP-LOC</a>]     Polk, J., Rosen, B., and J. Peterson, "Location
                 Conveyance for the Session Initiation Protocol", Work
                 in Progress, September 2011.







<span class="grey">Mahy, et al.                 Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc6447.html">RFC 6447</a>                    Location Filters                January 2012</span>


Authors' Addresses

   Rohan Mahy
   Individual

   EMail: rohan@ekabal.com


   Brian Rosen
   NeuStar
   470 Conrad Dr.
   Mars, PA  16046
   US

   Phone: +1 724 382 1051
   EMail: br@brianrosen.net


   Hannes Tschofenig
   Nokia Siemens Networks
   Linnoitustie 6
   Espoo  02600
   Finland

   Phone: +358 (50) 4871445
   EMail: Hannes.Tschofenig@gmx.net
   URI:   <a href="http://www.tschofenig.priv.at/">http://www.tschofenig.priv.at</a>
























Mahy, et al.                 Standards Track                   [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc6447 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:29 GMT --></html>