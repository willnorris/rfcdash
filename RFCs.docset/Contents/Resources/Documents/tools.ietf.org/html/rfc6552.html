<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc6552 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:43:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129c" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Identifier" content="urn:ietf:rfc:6552" />
<meta name="DC.Description.Abstract" content="The Routing Protocol for Low-Power and Lossy Networks (RPL)
specification defines a generic Distance Vector protocol that is
adapted to a variety of network types by the application of specific
Objective Functions (OFs). An OF states the outcome of the process
used by a RPL node to select and optimize routes within a RPL Instance
based on the Information Objects available; an OF is not an algorithm.
This document specifies a basic Objective Function that relies only on
the objects that are defined in the RPL and does not use any protocol
extensions. [STANDARDS-TRACK]" />
<meta name="DC.Creator" content="Pascal Thubert &lt;pthubert@cisco.com&gt;" />
<meta name="DC.Date.Issued" content="March, 2012" />
<meta name="DC.Title" content="Objective Function Zero for the Routing Protocol for Low-Power and Lossy Networks (RPL)" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 6552 - Objective Function Zero for the Routing Protocol for Low-Power and Lossy Networks (RPL)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgblue"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6552.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6552" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-roll-of0" title="draft-ietf-roll-of0">draft-ietf-roll...</a>] [<a href='https://datatracker.ietf.org/doc/rfc6552' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6552" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6552" title="Side-by-side diff">Diff2</a>]         </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Internet Engineering Task Force (IETF)                   P. Thubert, Ed.
Request for Comments: 6552                                 Cisco Systems
Category: Standards Track                                     March 2012
ISSN: 2070-1721


                    <span class="h1">Objective Function Zero for the</span>
        <span class="h1">Routing Protocol for Low-Power and Lossy Networks (RPL)</span>

Abstract

   The Routing Protocol for Low-Power and Lossy Networks (RPL)
   specification defines a generic Distance Vector protocol that is
   adapted to a variety of network types by the application of specific
   Objective Functions (OFs).  An OF states the outcome of the process
   used by a RPL node to select and optimize routes within a RPL
   Instance based on the Information Objects available; an OF is not an
   algorithm.

   This document specifies a basic Objective Function that relies only
   on the objects that are defined in the RPL and does not use any
   protocol extensions.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6552">http://www.rfc-editor.org/info/rfc6552</a>.

Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



<span class="grey">Thubert                      Standards Track                    [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Terminology .....................................................<a href="#page-4">4</a>
   <a href="#section-3">3</a>. Objective Function Zero Overview ................................<a href="#page-4">4</a>
   <a href="#section-4">4</a>. OF0 Operations ..................................................<a href="#page-5">5</a>
      <a href="#section-4.1">4.1</a>. Computing Rank .............................................<a href="#page-5">5</a>
      <a href="#section-4.2">4.2</a>. Parent Selection ...........................................<a href="#page-7">7</a>
           <a href="#section-4.2.1">4.2.1</a>. Selection of the Preferred Parent ...................<a href="#page-7">7</a>
           <a href="#section-4.2.2">4.2.2</a>. Selection of the Backup Feasible Successor ..........<a href="#page-8">8</a>
   <a href="#section-5">5</a>. Abstract Interface to OF0 .......................................<a href="#page-9">9</a>
   <a href="#section-6">6</a>. OF0 Operands ....................................................<a href="#page-9">9</a>
      <a href="#section-6.1">6.1</a>. Variables ..................................................<a href="#page-9">9</a>
      <a href="#section-6.2">6.2</a>. Configurable Parameters ...................................<a href="#page-10">10</a>
      <a href="#section-6.3">6.3</a>. Constants .................................................<a href="#page-10">10</a>
   <a href="#section-7">7</a>. Manageability Considerations ...................................<a href="#page-10">10</a>
      <a href="#section-7.1">7.1</a>. Device Configuration ......................................<a href="#page-11">11</a>
      <a href="#section-7.2">7.2</a>. Device Monitoring .........................................<a href="#page-11">11</a>
   <a href="#section-8">8</a>. IANA Considerations ............................................<a href="#page-12">12</a>
   <a href="#section-9">9</a>. Security Considerations ........................................<a href="#page-12">12</a>
   <a href="#section-10">10</a>. Acknowledgements ..............................................<a href="#page-12">12</a>
   <a href="#section-11">11</a>. References ....................................................<a href="#page-13">13</a>
      <a href="#section-11.1">11.1</a>. Normative References .....................................<a href="#page-13">13</a>
      <a href="#section-11.2">11.2</a>. Informative References ...................................<a href="#page-13">13</a>

<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   The Routing Protocol for Low-Power and Lossy Networks (RPL)
   specification [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>] defines a generic Distance Vector protocol
   that is adapted to a variety of Low-Power and Lossy Network (LLN)
   types by the application of specific Objective Functions (OFs).

   A RPL OF states the outcome of the process used by a RPL node to
   select and optimize routes within a RPL Instance based on the
   Information Objects available.  As a general concept, an OF is not an
   algorithm.  For example, outside RPL, "shortest path first" is an OF
   where the least cost path between two points is derived as an
   outcome; there are a number of algorithms that can be used to satisfy
   the OF, of which the well-known Dijkstra algorithm is an example.

   The separation of OFs from the core protocol specification allows RPL
   to be adapted to meet the different optimization criteria required by
   the wide range of deployments, applications, and network designs.




<span class="grey">Thubert                      Standards Track                    [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   RPL forms Directed Acyclic Graphs (DAGs) as collections of
   Destination-Oriented DAGs (DODAGs) within instances of the protocol.
   Each instance is associated with a specialized Objective Function.  A
   DODAG is periodically reconstructed as a new DODAG Version to enable
   a global reoptimization of the graph.

   An instance of RPL running on a device uses an Objective Function to
   help it determine which DODAG and which Version of that DODAG it
   should join.  The OF is also used by the RPL Instance to select a
   number of routers within the DODAG current and subsequent Versions to
   serve as parents or as feasible successors.

   The RPL Instance uses the OF to compute a Rank for the device.  This
   value represents an abstract distance to the root of the DODAG within
   the DODAG Version.  The Rank is exchanged between nodes using RPL and
   allows other RPL nodes to avoid loops and verify forward progression
   toward the destination, as specified in [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>].  Regardless of the
   particular OF used by a node, Rank will always increase; thus, post
   convergence, loop-free paths are always formed.

   The Objective Function Zero (OF0) operates on parameters that are
   obtained from provisioning, the RPL DODAG Configuration option and
   the RPL DODAG Information Object (DIO) base container [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>].

   The Rank of a node is obtained by adding a strictly positive,
   indirectly normalized scalar, rank_increase (<a href="#section-6.1">Section 6.1</a>), to the
   Rank of a selected preferred parent.  The rank_increase is based on a
   step_of_rank (<a href="#section-6.1">Section 6.1</a>) normalized scalar that can vary with a
   ratio from 1 (excellent) to 9 (worst acceptable) to represent the
   link properties.  The step_of_rank can be multiplied by a
   configurable factor called rank_factor (<a href="#section-6.2">Section 6.2</a>) that amplifies
   the rank_increase to reflect the relative preferences between
   different link types that would be used in the same RPL Instance.
   The rank_increase can be further adapted as detailed in <a href="#section-4.1">Section 4.1</a>.
   By default, OF0 encodes the 2-octet Rank in units of 256, and the
   default settings allow for the encoding of a minimum of 28 (worst
   acceptable) hops and a maximum of 255 (excellent) hops.

   The RPL specification [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>] requires the use of a common OF by
   all nodes in a network.  The possible use of multiple OFs with a
   single network is for further study.

   The RPL specification [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>] does not include any OF definitions.
   This is left for other documents specific to different deployments
   and application environments.  Since there is no default OF or metric
   container in the RPL main specification, it might happen that, unless





<span class="grey">Thubert                      Standards Track                    [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   two given implementations follow the same guidance for a specific
   problem or environment, those implementations will not support a
   common OF with which they could interoperate.

   OF0 is designed as a default OF that will allow interoperation
   between implementations in a wide spectrum of use cases.  This is why
   OF0 does not specify how the link properties are transformed into a
   rank_increase and leaves that responsibility to the implementation;
   rather, OF0 enforces the values for the rank_increase by normalizing
   the step_of_rank for a normal link and its acceptable range, as
   opposed to formulating the details of the step_of_rank computation.
   This is also why OF0 ignores metric containers.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  Terminology</span>

   The terminology used in this document is consistent with and
   incorporates that described in "Terminology in Low power And Lossy
   Networks" [<a href="#ref-ROLL-TERMS" title="&quot;Terminology in Low power And Lossy Networks&quot;">ROLL-TERMS</a>] and [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>].

   The term "feasible successor" is used to refer to a neighbor that can
   possibly be used as a next hop for Upward traffic following the loop
   avoidance and forwarding rules that the nodes implement and that are
   defined in the RPL specification [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>].

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in <a href="rfc2119.html">RFC</a>
   <a href="rfc2119.html">2119</a> [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  Objective Function Zero Overview</span>

   The RPL specification describes constraints on how nodes select
   potential parents, called a parent set, from their neighbors.  All
   parents are feasible successors for upward traffic (towards the
   root).  Additionally, RPL allows the use of parents in a subsequent
   Version of a same DODAG as feasible successors, in which case this
   node acts as a leaf in the subsequent DODAG Version.

   The Goal of the OF0 is for a node to join a DODAG Version that offers
   good enough connectivity to a specific set of nodes or to a larger
   routing infrastructure though there is no guarantee that the path
   will be optimized according to a specific metric.  This validation
   process for the connectivity is implementation and link type
   dependent and is out of scope.  The validation involves but is not
   limited to application of [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>], Sections <a href="#section-3.2.3">3.2.3</a> and <a href="#section-13">13</a>, as
   appropriate and may involve deployment specific policies as well.





<span class="grey">Thubert                      Standards Track                    [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   Thus, for the purpose of OF0, the term "Grounded" [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>] means
   that the DODAG root provides such connectivity.  How that
   connectivity is asserted and maintained is out of scope.

   Objective Function Zero is designed to find the nearest Grounded
   root.  This can be achieved if the Rank of a node is very close to an
   abstract function of its distance to the root.  This need is balanced
   with the other need of maintaining some path diversity, which may be
   achieved by increasing the Rank.  In the absence of a Grounded root,
   inner connectivity within the LLN is still desirable and floating
   DAGs will form, rooted at the nodes with the highest administrative
   preference.

   OF0 selects a preferred parent and a backup feasible successor if one
   is available.  All the upward traffic is normally routed via the
   preferred parent with no attempt to perform any load balancing.  When
   the link conditions do not let an upward packet through the preferred
   parent, the packet is passed to the backup feasible successor.

   A RPL node monitors links to a number of neighbor nodes and can use
   OF0 to assign a rank_increase to each link.  Though the exact method
   for computing the rank_increase is implementation dependent, the
   computation must follow the rules that are specified in <a href="#section-4.1">Section 4.1</a>.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  OF0 Operations</span>

<span class="h3"><a class="selflink" name="section-4.1" href="#section-4.1">4.1</a>.  Computing Rank</span>

   An OF0 implementation first computes a variable step_of_rank
   (<a href="#section-6.1">Section 6.1</a>) associated with a given parent from relevant link
   properties and metrics.  The step_of_rank is used to compute the
   amount by which to increase the rank along a particular link, as
   explained later in this section.

   Computing a step_of_rank based on a static metric such as an
   administrative cost implies that the OF0 implementation only
   considers parents with good enough connectivity, and results in a
   Rank that is analogous to hop-count.  In most LLNs, this favors paths
   with fewer but longer hops of poorer connectivity; it is thus
   RECOMMENDED to base the computation of the step_of_rank on dynamic
   link properties such as the expected transmission count (ETX) metric
   as introduced in [<a href="#ref-DeCouto03" title="&quot;A High-Throughput Path Metric for Multi-Hop Wireless Routing&quot;">DeCouto03</a>] and discussed in [<a href="rfc6551.html" title="&quot;Routing Metrics Used for Path Calculation in Low-Power and Lossy Networks&quot;">RFC6551</a>].  "Minimum
   Rank Objective Function with Hysteresis" [<a href="#ref-HYSTERESIS" title="&quot;The Minimum Rank Objective Function with Hysteresis&quot;">HYSTERESIS</a>] provides
   guidance on how link cost can be computed and on how hysteresis can
   improve Rank stability.






<span class="grey">Thubert                      Standards Track                    [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   OF0 allows an implementation to stretch the step_of_rank in order to
   enable the selection of at least one feasible successor and thus
   maintain path diversity.  Stretching the step_of_rank is NOT
   RECOMMENDED, because it augments the apparent distance from the node
   to the root, distorts the DODAG from the optimal shape and may cause
   instabilities due to greedy behaviors whereby depending nodes augment
   their Ranks to use each other as parents in a loop.  Still, an
   implementation may stretch the step_of_rank with at most a
   configurable stretch_of_rank (<a href="#section-6.2">Section 6.2</a>) of any value between 0 (no
   stretch) and the fixed constant MAXIMUM_RANK_STRETCH (<a href="#section-6.3">Section 6.3</a>).

   An implementation MUST maintain the stretched step_of_rank between
   the fixed constants MINIMUM_STEP_OF_RANK and MAXIMUM_STEP_OF_RANK
   (<a href="#section-6.3">Section 6.3</a>).  This range allows the reflection of a large variation
   of link quality.

   The gap between MINIMUM_STEP_OF_RANK and MAXIMUM_RANK_STRETCH may not
   be sufficient in every case to strongly distinguish links of
   different types or categories in order to favor, say, powered over
   battery-operated or high-speed (wired) over lower-speed (wireless)
   links, within the same DAG.  An implementation SHOULD allow the
   operator to configure a factor called rank_factor (<a href="#section-6.2">Section 6.2</a>) and
   to apply the factor on all links and peers to multiply the effect of
   the stretched step_of_rank in the rank_increase computation as
   further detailed below.

   Additionally, an implementation MAY recognize categories of peers and
   links, such as different link types, in which case it SHOULD be able
   to configure a more specific rank_factor to those categories.  The
   rank_factor MUST be set between the fixed constants
   MINIMUM_RANK_FACTOR and MAXIMUM_RANK_FACTOR (<a href="#section-6.3">Section 6.3</a>).

   The variable rank_increase is represented in units expressed by the
   variable MinHopRankIncrease, which defaults to the fixed constant
   DEFAULT_MIN_HOP_RANK_INCREASE ([<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>]); with that setting, the
   least significant octet in the RPL Rank field in the DIO Base Object
   is not used.

   The step_of_rank Sp that is computed for that link is multiplied by
   the rank_factor Rf and then possibly stretched by a term Sr that is
   less than or equal to the configured stretch_of_rank.  The resulting
   rank_increase is added to the Rank of preferred parent R(P) to obtain
   that of this node R(N):

   R(N) = R(P) + rank_increase where:

   rank_increase = (Rf*Sp + Sr) * MinHopRankIncrease




<span class="grey">Thubert                      Standards Track                    [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   Optionally, the administrative preference of a root MAY be configured
   to supersede the goal to join a Grounded DODAG.  In that case, nodes
   will associate with the root with the highest preference available,
   regardless of whether or not that root is Grounded.  Compared to a
   deployment with a multitude of Grounded roots that would result in
   the same multitude of DODAGs, such a configuration may result in
   possibly less but larger DODAGs, as many as roots configured with the
   highest priority in the reachable vicinity.

<span class="h3"><a class="selflink" name="section-4.2" href="#section-4.2">4.2</a>.  Parent Selection</span>

<span class="h4"><a class="selflink" name="section-4.2.1" href="#section-4.2.1">4.2.1</a>.  Selection of the Preferred Parent</span>

   As it scans all the candidate neighbors, OF0 keeps the parent that is
   the best for the following criteria (in order):

   1.   <a href="rfc6550.html#section-8">[RFC6550], Section&nbsp;8</a>, spells out the generic rules for a node to
        re-parent and in particular the boundaries to augment its Rank
        within a DODAG Version.  A candidate that would not satisfy
        those rules MUST NOT be considered.

   2.   Prior to selecting a router as the preferred parent, an
        implementation SHOULD validate the connectivity and suitability
        of the router as discussed in <a href="#section-3">Section 3</a>.  This validation
        involves checking the Layer 2 connectivity to the router, the
        Layer 3 connectivity offered by the router, and may involve
        examination of other factors such as locally or globally
        configured policies.

        In most cases, a router that does not succeed in the validation
        process cannot be further considered for selection as preferred
        parent.  In any case, a router that succeeded in that validation
        process SHOULD be preferred over one that did not succeed.

   3.   When multiple interfaces are available, a policy might be
        locally configured to order them and that policy applies first;
        that is, a router on a higher-order interface in the policy is
        preferable.

   4.   If the administrative preference of the root is configured to
        supersede the goal to join a Grounded DODAG, a router that
        offers connectivity to a more preferable root SHOULD be
        preferred.

   5.   A router that offers connectivity to a grounded DODAG Version
        SHOULD be preferred over one that does not.





<span class="grey">Thubert                      Standards Track                    [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   6.   A router that offers connectivity to a more preferable root
        SHOULD be preferred.

   7.   When comparing two parents that belong to the same DODAG, a
        router that offers connectivity to the most recent DODAG Version
        SHOULD be preferred.

   8.   The parent that causes the lesser resulting Rank for this node,
        as specified in <a href="#section-4.1">Section 4.1</a>, SHOULD be preferred.

   9.   A DODAG Version for which there is an alternate parent SHOULD be
        preferred.  This check is OPTIONAL.  It is performed by
        computing the backup feasible successor while assuming that the
        router that is currently examined is finally selected as
        preferred parent.

   10.  The preferred parent that was in use already SHOULD be
        preferred.

   11.  A router that has announced a DIO message more recently SHOULD
        be preferred.

   These rules and their order MAY be varied by an implementation
   according to configured policy.

<span class="h4"><a class="selflink" name="section-4.2.2" href="#section-4.2.2">4.2.2</a>.  Selection of the Backup Feasible Successor</span>

   When selecting a backup feasible successor, the OF performs in order
   the following checks:

   1.  The backup feasible successor MUST NOT be the preferred parent.

   2.  The backup feasible successor MUST be either in the same DODAG
       Version as this node or in an subsequent DODAG Version.

   3.  Along with RPL rules, a Router in the same DODAG Version as this
       node and with a Rank that is higher than the Rank computed for
       this node MUST NOT be selected as a feasible successor.

   4.  A router with a lesser Rank SHOULD be preferred.

   5.  A router that has been validated as usable by an implementation-
       dependent validation process SHOULD be preferred.

   6.  When multiple interfaces are available, a router on a higher
       order interface is preferable.





<span class="grey">Thubert                      Standards Track                    [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


   7.  The backup feasible successor that was in use already SHOULD be
       preferred.

   These rules and their order MAY be varied by an implementation
   according to configured policy.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Abstract Interface to OF0</span>

   Objective Function Zero interacts for its management and operations
   in the following ways:

   Processing DIO:  When a new DIO is received, the OF that corresponds
      to the Objective Code Point (OCP) in the DIO is triggered with the
      content of the DIO.  OF0 is identified by OCP 0 (see <a href="#section-8">Section 8</a>).

   Providing DAG Information:  The OF0 support provides an interface
      that returns information about a given instance.  This includes
      material from the DIO base header, the role (router, leaf), and
      the Rank of this node.

   Providing a Parent List:  The OF0 support provides an interface that
      returns the ordered list of the parents and feasible successors
      for a given instance to the RPL core.  This includes the material
      that is contained in the transit option for each entry.

   Triggered Updates:  The OF0 support provides events to inform it that
      a change in DAG information or Parent List has occurred.  This can
      be caused by an interaction with another system component such as
      configuration, timers, and device drivers, and the change may
      cause the RPL core to fire a new DIO or reset Trickle timers.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  OF0 Operands</span>

   On top of variables and constants defined in [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>], this
   specification introduces the following variables and constants:

<span class="h3"><a class="selflink" name="section-6.1" href="#section-6.1">6.1</a>.  Variables</span>

   OF0 uses the following variables:

   step_of_rank (strictly positive integer):  an intermediate
      computation based on the link properties with a certain neighbor.

   rank_increase (strictly positive integer):  delta between the Rank of
      the preferred parent and self






<span class="grey">Thubert                      Standards Track                    [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


<span class="h3"><a class="selflink" name="section-6.2" href="#section-6.2">6.2</a>.  Configurable Parameters</span>

   OF0 can use the following optional configurable values that are used
   as parameters to the rank_increase computation:

   stretch_of_rank (unsigned integer):  the maximum augmentation to the
      step_of_rank of a preferred parent to allow the selection of an
      additional feasible successor.  If none is configured to the
      device, then the step_of_rank is not stretched.

   rank_factor (strictly positive integer):  A configurable factor that
      is used to multiply the effect of the link properties in the
      rank_increase computation.  If none is configured, then a
      rank_factor of 1 is used.

<span class="h3"><a class="selflink" name="section-6.3" href="#section-6.3">6.3</a>.  Constants</span>

   <a href="rfc6550.html#section-17">Section&nbsp;17 of [RFC6550]</a> defines RPL constants.  OF0 fixes the values
   of the following constants:

   DEFAULT_STEP_OF_RANK:  3

   MINIMUM_STEP_OF_RANK:  1

   MAXIMUM_STEP_OF_RANK:  9

   DEFAULT_RANK_STRETCH:  0

   MAXIMUM_RANK_STRETCH:  5

   DEFAULT_RANK_FACTOR:  1

   MINIMUM_RANK_FACTOR:  1

   MAXIMUM_RANK_FACTOR:  4

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  Manageability Considerations</span>

   <a href="rfc6550.html#section-18">Section&nbsp;18 of [RFC6550]</a> depicts the management of the protocol.  This
   specification inherits from that section and its subsections, with
   the exception that metrics as specified in [<a href="rfc6551.html" title="&quot;Routing Metrics Used for Path Calculation in Low-Power and Lossy Networks&quot;">RFC6551</a>] are not used and
   do not require management.









<span class="grey">Thubert                      Standards Track                   [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


<span class="h3"><a class="selflink" name="section-7.1" href="#section-7.1">7.1</a>.  Device Configuration</span>

   An implementation SHOULD allows the configuration of at least a
   global rank_factor that applies to all links.  Additionally, the
   implementation may allow the grouping of interfaces, links, and/or
   neighbors and configure a more specific rank_factor to such groups.

   An implementation MAY allow the configuration of a maximum
   stretch_of_rank that MUST be less than or equal to
   MAXIMUM_RANK_STRETCH as discussed in <a href="#section-4.1">Section 4.1</a>.  If none is
   configured, a value of 0 is assumed and the step_of_rank is not
   stretched.

   An OF0 implementation SHOULD support the DODAG Configuration option
   as specified in <a href="rfc6550.html#section-6.7.6">Section&nbsp;6.7.6 of [RFC6550]</a> and apply the parameters
   contained therein.  As discussed in <a href="rfc6550.html#section-16">Section&nbsp;16 of [RFC6550]</a>, this
   requirement might be overridden by further guidance for certain
   application scenarios.  When the option is used, the parameters are
   configured to the nodes that may become DODAG roots, and the nodes
   are configured to redistribute the information using the DODAG
   Configuration option.  In particular, the value of MinHopRankIncrease
   can be distributed with that option and override the fixed constant
   of DEFAULT_MIN_HOP_RANK_INCREASE that is defined in <a href="rfc6550.html#section-17">Section&nbsp;17 of
   [RFC6550]</a> with a fixed value of 256.

   Out of the box, that is at initial factory time, the default constant
   values SHOULD be used, that is:

      the rank_factor is set to the fixed constant DEFAULT_RANK_FACTOR
      (<a href="#section-6.3">Section 6.3</a>).

      the maximum stretch_of_rank is set to the fixed constant
      DEFAULT_RANK_STRETCH (<a href="#section-6.3">Section 6.3</a>).

      the MinHopRankIncrease is set to the fixed constant
      DEFAULT_MIN_HOP_RANK_INCREASE ([<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>]).

   The values can be overridden at any time and apply at the next
   Version of the DODAG.  As discussed in <a href="rfc6550.html#section-16">Section&nbsp;16 of [RFC6550]</a>, this
   requirement might be overridden by further guidance for certain
   application scenarios.

<span class="h3"><a class="selflink" name="section-7.2" href="#section-7.2">7.2</a>.  Device Monitoring</span>

   As discussed in <a href="#section-5">Section 5</a>, the OF support must be able to provide
   information about its operations and trigger events when that
   information changes.  At a minimum, the information should include:




<span class="grey">Thubert                      Standards Track                   [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


      DAG information as specified in <a href="rfc6550.html#section-6.3.1">Section&nbsp;6.3.1 of [RFC6550]</a>, and
      including the DODAGID, the RPLInstanceID, the Mode of Operation,
      the Rank of this node, the current Version Number, and the value
      of the Grounded flag.

      A list of neighbors indicating the preferred parent and an
      alternate feasible if available.  For each neighbor, the Rank, the
      current Version Number, and the value of the Grounded flag should
      be indicated.

<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  IANA Considerations</span>

   Per this specification, an Objective Code Point (OCP) for OF0 has
   been assigned in the Objective Code Point Registry as described in
   <a href="rfc6550.html#section-20.5">Section&nbsp;20.5 of [RFC6550]</a>.

   OCP code:  0

   Description:  A basic Objective Function that relies only on the
                 objects that are defined in [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>].

   Defining RFC:  <a href="rfc6552.html">RFC 6552</a>

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  Security Considerations</span>

   This specification makes simple extensions to RPL and so is
   vulnerable to and benefits from the security issues and mechanisms
   described in [<a href="rfc6550.html" title="&quot;RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks&quot;">RFC6550</a>] and [<a href="#ref-ROLL-SECURITY" title="&quot;A Security Framework for Routing over Low Power and Lossy Networks&quot;">ROLL-SECURITY</a>].  This document does not
   introduce new flows or new messages; thus, it requires no specific
   mitigation for new threats.

   OF0 depends on information exchanged in the Rank and OCP protocol
   elements.  If those elements were compromised, then an implementation
   of OF0 might generate the wrong path for a packet, resulting in it
   being misrouted.  Therefore, deployments are RECOMMENDED to use RPL
   security mechanisms if there is a risk that routing information might
   be modified or spoofed.

<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>.  Acknowledgements</span>

   Specific thanks to Philip Levis and Phoebus Chen for their help in
   finalizing this document.

   Many thanks also to Adrian Farrel, Tim Winter, JP. Vasseur, Julien
   Abeille, Mathilde Durvy, Teco Boot, Navneet Agarwal, Meral
   Shirazipour, and Henning Rogge for in-depth review and first-hand
   implementers' feedback.




<span class="grey">Thubert                      Standards Track                   [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>.  References</span>

<span class="h3"><a class="selflink" name="section-11.1" href="#section-11.1">11.1</a>.  Normative References</span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]        Bradner, S., "Key words for use in RFCs to Indicate
                    Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a name="ref-RFC6550" id="ref-RFC6550">RFC6550</a>]        Winter, T., Ed., Thubert, P., Ed., Brandt, A., Hui,
                    J., Kelsey, R., Levis, P., Pister, K., Struik, R.,
                    Vasseur, JP., and R. Alexander, "RPL: IPv6 Routing
                    Protocol for Low-Power and Lossy Networks",
                    <a href="rfc6550.html">RFC 6550</a>, March 2012.

<span class="h3"><a class="selflink" name="section-11.2" href="#section-11.2">11.2</a>.  Informative References</span>

   [<a name="ref-DeCouto03" id="ref-DeCouto03">DeCouto03</a>]      De Couto, D., Aguayo, D., Bicket, J., and R. Morris,
                    "A High-Throughput Path Metric for Multi-Hop
                    Wireless Routing", MobiCom '03, The 9th ACM
                    International Conference on Mobile Computing and
                    Networking, San Diego, California, 2003,
                    &lt;<a href="http://pdos.csail.mit.edu/papers/grid:mobicom03/paper.pdf">http://pdos.csail.mit.edu/papers/grid:mobicom03/</a>
                    <a href="http://pdos.csail.mit.edu/papers/grid:mobicom03/paper.pdf">paper.pdf</a>&gt;.

   [<a name="ref-HYSTERESIS" id="ref-HYSTERESIS">HYSTERESIS</a>]     Gnawali, O. and P. Levis, "The Minimum Rank
                    Objective Function with Hysteresis", Work
                    in Progress, May 2011.

   [<a name="ref-RFC6551" id="ref-RFC6551">RFC6551</a>]        Vasseur, J., Ed., Kim, M., Ed., Pister, K., Dejean,
                    N., and D. Barthel, "Routing Metrics Used for Path
                    Calculation in Low-Power and Lossy Networks",
                    <a href="rfc6551.html">RFC 6551</a>, March 2012.

   [<a name="ref-ROLL-SECURITY" id="ref-ROLL-SECURITY">ROLL-SECURITY</a>]  Tsao, T., Alexander, R., Dohler, M., Daza, V., and
                    A. Lozano, "A Security Framework for Routing over
                    Low Power and Lossy Networks", Work in Progress,
                    March 2012.

   [<a name="ref-ROLL-TERMS" id="ref-ROLL-TERMS">ROLL-TERMS</a>]     Vasseur, JP., "Terminology in Low power And Lossy
                    Networks", Work in Progress, September 2011.












<span class="grey">Thubert                      Standards Track                   [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc6552.html">RFC 6552</a>               RPL Objective Function Zero            March 2012</span>


Author's Address

   Pascal Thubert (editor)
   Cisco Systems
   Village d'Entreprises Green Side
   400, Avenue de Roumanille
   Batiment T3
   Biot - Sophia Antipolis  06410
   FRANCE

   Phone: +33 497 23 26 34
   EMail: pthubert@cisco.com







































Thubert                      Standards Track                   [Page 14]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129c, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc6552 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:43:21 GMT -->
</html>
