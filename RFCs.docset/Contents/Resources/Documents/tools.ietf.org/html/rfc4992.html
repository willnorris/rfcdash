<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4992 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:38 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-newton-crisp-iris-xpc" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:4992" name="DC.Identifier"/>
<meta content="August, 2007" name="DC.Date.Issued"/>
<meta content="Andrew L. Newton &lt;andy@hxr.us&gt;" name="DC.Creator"/>
<meta content="This document describes a simple TCP transfer protocol for the
Internet Registry Information Service (IRIS). Data is transferred
between clients and servers using chunks to achieve pipelining.
[STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="XML Pipelining with Chunks for the Internet Registry Information Service" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4992 - XML Pipelining with Chunks for the Internet Registry Information Service</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc4992.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc4992" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-crisp-iris-xpc" title="draft-ietf-crisp-iris-xpc">draft-ietf-cris...</a>] [<a href="https://datatracker.ietf.org/doc/rfc4992" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4992" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc4992" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=4992">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                          A. Newton
Request for Comments: 4992                                VeriSign, Inc.
Updates: <a href="rfc3981.html">3981</a>                                                August 2007
Category: Standards Track


                      <span class="h1">XML Pipelining with Chunks</span>
             <span class="h1">for the Internet Registry Information Service</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   This document describes a simple TCP transfer protocol for the
   Internet Registry Information Service (IRIS).  Data is transferred
   between clients and servers using chunks to achieve pipelining.

























<span class="grey">Newton                      Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Document Terminology ............................................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. Request Block (RQB) .............................................<a href="#page-4">4</a>
   <a href="#section-4">4</a>. Response Blocks .................................................<a href="#page-4">4</a>
      <a href="#section-4.1">4.1</a>. Response Block (RSB) .......................................<a href="#page-5">5</a>
      <a href="#section-4.2">4.2</a>. Connection Response Block (CRB) ............................<a href="#page-5">5</a>
   <a href="#section-5">5</a>. Block Header ....................................................<a href="#page-6">6</a>
   <a href="#section-6">6</a>. Chunks ..........................................................<a href="#page-7">7</a>
      <a href="#section-6.1">6.1</a>. No Data Types ..............................................<a href="#page-9">9</a>
      <a href="#section-6.2">6.2</a>. Version Information Types ..................................<a href="#page-9">9</a>
      <a href="#section-6.3">6.3</a>. Size Information Types .....................................<a href="#page-9">9</a>
      <a href="#section-6.4">6.4</a>. Other Information Types ...................................<a href="#page-10">10</a>
      <a href="#section-6.5">6.5</a>. SASL Types ................................................<a href="#page-11">11</a>
      <a href="#section-6.6">6.6</a>. Authentication Success Information Types ..................<a href="#page-12">12</a>
      <a href="#section-6.7">6.7</a>. Authentication Failure Information Types ..................<a href="#page-12">12</a>
      <a href="#section-6.8">6.8</a>. Application Data Types ....................................<a href="#page-12">12</a>
   <a href="#section-7">7</a>. Idle Sessions ..................................................<a href="#page-13">13</a>
   <a href="#section-8">8</a>. Closing Sessions Due to an Error ...............................<a href="#page-13">13</a>
   <a href="#section-9">9</a>. Use over TLS ...................................................<a href="#page-13">13</a>
   <a href="#section-10">10</a>. Update to <a href="rfc3981.html">RFC 3981</a> ............................................<a href="#page-13">13</a>
   <a href="#section-11">11</a>. IRIS Transport Mapping Definitions ............................<a href="#page-14">14</a>
      <a href="#section-11.1">11.1</a>. URI Scheme ...............................................<a href="#page-14">14</a>
      <a href="#section-11.2">11.2</a>. Application Protocol Label ...............................<a href="#page-14">14</a>
   <a href="#section-12">12</a>. Internationalization Considerations ...........................<a href="#page-14">14</a>
   <a href="#section-13">13</a>. IANA Considerations ...........................................<a href="#page-14">14</a>
      <a href="#section-13.1">13.1</a>. XPC URI Scheme Registration ..............................<a href="#page-14">14</a>
      <a href="#section-13.2">13.2</a>. XPCS URI Scheme Registration .............................<a href="#page-15">15</a>
      <a href="#section-13.3">13.3</a>. S-NAPTR XPC Registration .................................<a href="#page-15">15</a>
      <a href="#section-13.4">13.4</a>. S-NAPTR XPCS Registration ................................<a href="#page-15">15</a>
      <a href="#section-13.5">13.5</a>. Well-Known TCP Port Registration for XPC .................<a href="#page-16">16</a>
      <a href="#section-13.6">13.6</a>. Well-Known TCP Port Registration for XPCS ................<a href="#page-16">16</a>
   <a href="#section-14">14</a>. Security Considerations .......................................<a href="#page-17">17</a>
      <a href="#section-14.1">14.1</a>. Security Mechanisms ......................................<a href="#page-17">17</a>
      <a href="#section-14.2">14.2</a>. SASL Compliance ..........................................<a href="#page-18">18</a>
   <a href="#section-15">15</a>. References ....................................................<a href="#page-19">19</a>
      <a href="#section-15.1">15.1</a>. Normative References .....................................<a href="#page-19">19</a>
      <a href="#section-15.2">15.2</a>. Informative References ...................................<a href="#page-19">19</a>
   <a href="#appendix-A">Appendix A</a>. Examples ..............................................<a href="#page-20">20</a>
   <a href="#appendix-B">Appendix B</a>. Contributors ..........................................<a href="#page-28">28</a>










<span class="grey">Newton                      Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Using S-NAPTR [<a href="#ref-5" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>5</a>], IRIS has the ability to define the use of multiple
   application transports (or transfer protocols) for different types of
   registry services, all at the discretion of the server operator.  The
   TCP transfer protocol defined in this document is completely modular
   and may be used by any registry types.

   This transfer protocol defines simple framing for sending XML in
   chunks so that XML fragments may be acted upon (or pipelined) before
   the reception of the entire XML instance.  This document calls this
   XML pipelining with chunks (XPC) and its use with IRIS as IRIS-XPC.

   XPC is for use with simple request and response interactions between
   clients and servers.  Clients send a series of requests to a server
   in data blocks.  The server will respond to each data block
   individually with a corresponding data block, but through the same
   connection.  Request and response data blocks are sent using the TCP
   SEND function and received using the TCP RECEIVE function.

   The lifecycle of an XPC session has the following phases:

   1.  A client establishes a TCP connection with a server.

   2.  The server sends a connection response block (CRB).

   3.  The client sends a request block (RQB).  In this request, the
       client can set a "keep open" flag requesting that the server keep
       the XPC session open following the response to this request.

   4.  The server responds with a response block (RSB).  In this
       response, the server can indicate to the client whether or not
       the XPC session will be closed.

   5.  If the XPC session is not to be terminated, then the lifecycle
       repeats from step 3.

   6.  The TCP connection is closed.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Document%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Document Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="#ref-8" title='"Key words for use in RFCs to Indicate Requirement Levels"'>8</a>].

   Octet fields with numeric values are given according to the
   conventions in <a href="rfc1166.html">RFC 1166</a> [<a href="#ref-12" title='"Internet numbers"'>12</a>]: the leftmost bit of the whole field is
   the most significant bit; when a multi-octet quantity is transmitted



<span class="grey">Newton                      Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   the most significant octet is transmitted first.  Bits signifying
   flags in an octet are numbered according to the conventions of <a href="rfc1166.html">RFC</a>
   <a href="rfc1166.html">1166</a> [<a href="#ref-12" title='"Internet numbers"'>12</a>]: bit 0 is the most significant bit and bit 7 is the least
   significant bit.  When a diagram describes a group of octets, the
   order of transmission for the octets starts from the left.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Request%20Block%20%28RQB%29"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Request Block (RQB)</span>

   The format for the request block (RQB) is as follows:

         +--------+-----------+-----------+-------------+
   field | header | authority | authority | chunks 1..n |
         |        |  length   |           |             |
         +--------+-----------+-----------+-------------+
   octets    1         1         0..255      variable

                               Request Block

   These fields have the following meanings:

   o  header - as described in <a href="#section-5">Section 5</a>.

   o  authority length - the length of the authority field in this
      request block.

   o  authority - a string of octets describing the authority against
      which this request is to be executed.  See [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>] for the definition
      and description of an authority.  The number of octets in this
      string MUST be no more and no less than the number specified by
      the authority length.

   o  chunks 1..n - the request data broken into chunks (<a href="#section-6">Section 6</a>).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Response%20Blocks"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Response Blocks</span>

   There are two types of blocks used by a server to respond to a
   client.  The first type is a response block (RSB) defined in <a href="#section-4.1">Section</a>
   <a href="#section-4.1">4.1</a>.  It is used by a server to respond to request blocks (RQBs).
   The second type is a specialized version of a response block called a
   connection response block (CRB) defined in <a href="#section-4.2">Section 4.2</a>.  It is sent
   by a server to a client when a connection is established to initiate
   protocol negotiation.  Conceptually, a CRB is a type of RQB; they
   share the same format, but a CRB is constrained in conveying only
   specific information and is only sent at the beginning of the session
   lifecycle.






<span class="grey">Newton                      Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Response%20Block%20%28RSB%29"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Response Block (RSB)</span>

   The format for the response block (RSB) is as follows:

         +--------+-------------+
   field | header | chunks 1..n |
         |        |             |
         +--------+-------------+
   octets    1       variable

                              Response Block

   These fields have the following meanings:

   o  header - as described in <a href="#section-5">Section 5</a>.

   o  chunks 1..n - the response data broken into chunks (<a href="#section-6">Section 6</a>).

   Servers SHOULD NOT send an RSB to a client until they have received
   the entire RQB.  Servers that do begin sending an RSB before the
   reception of the entire RQB must consider that clients will not be
   expected to start processing the RSB until they have fully sent the
   RQB, and that the RSB may fill the client's TCP buffers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Connection%20Response%20Block%20%28CRB%29"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Connection Response Block (CRB)</span>

   A connection response block (CRB) is a response block sent by a
   server to a client in response to the client initiating a session.  A
   connection response block has the same format as a response block
   (RSB) (<a href="#section-4.1">Section 4.1</a>).  The only difference is that it is constrained
   in one of two ways:

   1.  It contains only one chunk (see <a href="#section-6">Section 6</a>) containing version
       information (see <a href="#section-6.2">Section 6.2</a>) and the keep-open (KO) flag in the
       block header (see <a href="#section-5">Section 5</a>) has a value of 1 (meaning the
       connection is not closing).  Servers MUST use this type of CRB to
       indicate service availability.

   2.  It contains only one chunk (see <a href="#section-6">Section 6</a>) containing a system
       error (see 'system-error' under <a href="#section-6.4">Section 6.4</a>) and the keep-open
       (KO) flag in the block header (see <a href="#section-5">Section 5</a>) has a value of 0
       (meaning the server will close the connection immediately after
       sending the CRB).  Servers MUST use this type of CRB when they
       can accept connections but cannot process requests.







<span class="grey">Newton                      Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Block%20Header"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Block Header</span>

   Each data block starts with a one-octet header called the block
   header.  This header has the same format for both request and
   response data blocks, though some of the bits in the header only have
   meaning in one type of data block.  The bits are ordered according to
   the convention given in <a href="rfc1166.html">RFC 1166</a> [<a href="#ref-12" title='"Internet numbers"'>12</a>], where bit 0 is the most
   significant bit and bit 7 is the least significant bit.  Each bit in
   the block header has the following meaning:

   o  bits 0 and 1 - version (V field) - If 0 (both bits are zero), the
      protocol is the version defined in this document.  Otherwise, the
      rest of the bits in the header and the block may be interpreted as
      another version.  If a server receives a request for a version it
      does not support, it SHOULD follow the behavior described in
      <a href="#section-8">Section 8</a>.

   o  bit 2 - keep open (KO flag) - This flag is used to request that a
      connection stay open by a client and to indicate that a connection
      will stay open by a server, depending on the type of block.  In a
      request block (RQB): a value of 1 indicates that a client is
      requesting that the server not close the TCP session, and a value
      of 0 indicates the client will expect their server to close the
      TCP session immediately after sending the corresponding response.
      In a response block (RSB) or a connection response block (CRB): a
      value of 1 indicates that the server expects the client to keep
      the TCP session open for the server to receive another request,
      and a value of 0 indicates that the server expects the client to
      close the TCP session immediately following this block.

   o  bits 3, 4, 5, 6, and 7 - reserved - These MUST be 0.  If a server
      receives a request in which any of these bits is set to 1 and the
      server does not understand the purpose for the value, the server
      SHOULD follow the behavior described in <a href="#section-8">Section 8</a>.

         +---------+-----------+----------+
   field | Version | Keep Open | reserved |
         |   (V)   |   (KO)    |          |
         +---------+-----------+----------+
   bits    0 and 1       2        3 - 7

                               Block Header









<span class="grey">Newton                      Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Chunks"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Chunks</span>

   Request and response blocks break down the request and response XML
   data into chunks.  Request and response blocks MUST always have a
   minimum of 1 chunk.  Each chunk has a one-octet descriptor.  The
   first bit of the descriptor determines if the chunk is the last chunk
   in the block.

   The bits of the chunk descriptor octet are ordered according to the
   convention given in <a href="rfc1166.html">RFC 1166</a> [<a href="#ref-12" title='"Internet numbers"'>12</a>], where bit 0 is the most
   significant bit and bit 7 is the least significant bit.  The bits of
   the chunk descriptor octet have the following meaning:

   o  bit 0 - last chunk (LC flag) - If 1, this chunk is the last chunk
      in the block.

   o  bit 1 - data complete (DC flag) - If 1, the data in this chunk
      represents the end of the data for the chunk type given.  If this
      bit is never set to 1 in any chunk descriptor for chunks of the
      same type in a block, clients and servers MUST NOT assume the data
      will continue in another block.  If the block transitions from one
      type of chunk to another without signaling completion of the data,
      clients and servers MUST assume that the remaining data will not
      be sent in a remaining chunk.

   o  bits 2, 3, and 4 - reserved - These MUST be 0.

   o  bits 5, 6, and 7 - chunk type (CT field) - determines the type of
      data carried in the chunk.  These are the binary values for the
      chunk types:

      *  000 - no data or 'nd' type (see <a href="#section-6.1">Section 6.1</a>)

      *  001 - version information or 'vi' type (see <a href="#section-6.2">Section 6.2</a>)

      *  010 - size information or 'si' type (see <a href="#section-6.3">Section 6.3</a>)

      *  011 - other information or 'oi' type (see <a href="#section-6.4">Section 6.4</a>)

      *  100 - SASL (Simple Authentication and Security Layer) data or
         'sd' type (see <a href="#section-6.5">Section 6.5</a>)

      *  101 - authentication success information or 'as' type (see
         <a href="#section-6.6">Section 6.6</a>)

      *  110 - authentication failure information or 'af' type (see
         <a href="#section-6.7">Section 6.7</a>)




<span class="grey">Newton                      Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


      *  111 - application data or 'ad' type (see <a href="#section-6.8">Section 6.8</a>)

         +------------+---------------+----------+------------+
   field | Last Chunk | Data Complete | reserved | Chunk Type |
         |    (LC)    |     (DC)      |          |    (CT)    |
         +------------+---------------+----------+------------+
   bits         0             1          2 - 4       5 - 7

                             Chunk Descriptor

   A block MAY have multiple types of chunks, but all chunks of the same
   type MUST be contiguous in a block and MUST be ordered in the block
   in the order in which their data is to be interpreted.  Contiguous
   chunks must be ordered by type within a block in the following way:

   1.  authentication-related chunks - either SASL data chunks (type
       100), authentication success information chunks (type 101), or
       authentication failure information chunks (type 110), but not
       more than one type.  During the setup of security mechanisms
       using these chunks, clients MUST NOT send subsequent requests
       until they have received either an authentication success or
       failure chunk.

   2.  data chunks - either no data chunks (type 000) or application
       data chunks (type 111), but not both.

   3.  information chunks - either version information (type 001) or
       other information (type 011), but not both.

   A block MUST have at least one type of the above chunks.

   The format for a chunk is as follows:

         +-----------+------------+--------+
   field | chunk     | chunk data | chunk  |
         | descriptor| length     | data   |
         +-----------+------------+--------+
   octets      1            2      variable

                                   chunk

   These fields have the following meanings:

   o  chunk descriptor - as described above.
   o  chunk data length - the length of the data of the chunk.
   o  chunk data - the data of the chunk.





<span class="grey">Newton                      Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20No%20Data%20Types"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  No Data Types</span>

   Servers and clients MUST ignore data in chunk types labeled no data.
   There is no requirement for these types of chunks to be zero length.
   A client MAY send "no data" to a server, and the server MUST respond
   with either a chunk of the same type or other information (<a href="#section-6.4">Section</a>
   <a href="#section-6.4">6.4</a>).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Version%20Information%20Types"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Version Information Types</span>

   Chunks of this type contain XML conformant to the schema specified in
   [<a href="#ref-9" title='"A Common Schema for Internet Registry Information Service Transfer Protocols"'>9</a>] and MUST have the &lt;versions&gt; element as the root element.

   In the context of IRIS-XPC, the protocol identifiers for these
   elements are as follows:

   o  &lt;transferProtocol&gt; - the value "iris.xpc1" to indicate the
      protocol specified in this document.

   o  &lt;application&gt; - the XML namespace identifier for IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   o  &lt;dataModel&gt; - the XML namespace identifier for IRIS registries.

   In the context of IRIS-XPC, the authentication mechanism identifiers
   are the SASL mechanism names found in the IANA SASL mechanism
   registry defined by <a href="rfc4422.html">RFC 4422</a> [<a href="#ref-10" title='"Simple Authentication and Security Layer (SASL)"'>10</a>].

   This document defines no extension identifiers.

   Clients MAY send a block with this type of chunk to a server.  These
   chunks SHOULD be zero length, and servers MUST ignore any data in
   them.  When a server receives a chunk of this type, it MUST respond
   with a chunk of this type.  This interchange allows a client to query
   the version information of a server.

   The octet sizes for the 'requestSizeOctets' and 'responseSizeOctets'
   attributes of the &lt;tranferProtocol&gt; element are defined in <a href="#section-6.3">Section</a>
   <a href="#section-6.3">6.3</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Size%20Information%20Types"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Size Information Types</span>

   Chunks of this type contain XML conformant to the schema specified in
   <a href="rfc4991.html">RFC 4991</a> [<a href="#ref-9" title='"A Common Schema for Internet Registry Information Service Transfer Protocols"'>9</a>] and MUST have the &lt;size&gt; element as the root element.

   Octet counts provided by this information are defined as the sum of
   the count of all chunk data of a particular chunk type.  For
   instance, if an XML instance is broken up into chunks of 20, 30, and
   40 octets, the octet count would be 90 (20 + 30 + 40).



<span class="grey">Newton                      Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   Clients MUST NOT send chunks of this type, and servers MAY close down
   a session using the procedure in <a href="#section-8">Section 8</a> if a chunk of this type is
   received.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4.%20%20Other%20Information%20Types"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a>.  Other Information Types</span>

   Chunks of this type contain XML conformant to the schema specified in
   <a href="rfc4991.html">RFC 4991</a> [<a href="#ref-9" title='"A Common Schema for Internet Registry Information Service Transfer Protocols"'>9</a>] and MUST have the &lt;other&gt; element as the root element.

   The values for the 'type' attribute of &lt;other&gt; are as follows:

      'block-error' - indicates there was an error decoding a block.
      Servers SHOULD send a block error in the following cases:

      1.  When a request block is received containing a chunk of this
          type.

      2.  When a request block is received containing authentication
          success (see <a href="#section-6.6">Section 6.6</a>) or authentication failure (see
          <a href="#section-6.7">Section 6.7</a>) information.

      3.  When a request block is received containing size information
          (see <a href="#section-6.3">Section 6.3</a>).

      4.  When reserved bits in the request block are 1.

      5.  When a block has not been received in its entirety and the TCP
          session has been idle for a specific period of time (i.e., a
          data block has been received but no terminating chunk for the
          data block has been received).  Two minutes is RECOMMENDED for
          this timeout value.  Note, there is a difference between an
          idle condition due to the incomplete reception of a data block
          and an idle condition between request/response transactions
          associated with keeping the session open.  For the latter, see
          <a href="#section-7">Section 7</a>.

      'data-error' - indicates there was an error parsing data in chunks
      containing application or SASL data (e.g., XML is not valid in
      application data).

      'system-error' - indicates that the receiver cannot process the
      request due to a condition not related to this protocol.  Servers
      SHOULD send a system-error when they are capable of responding to
      requests but not capable of processing requests.







<span class="grey">Newton                      Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


      'authority-error' - indicates that the intended authority
      specified in the corresponding request is not served by the
      receiver.  Servers SHOULD send an authority error when they
      receive a request directed to an authority other than those they
      serve.

      'idle-timeout' - indicates that an XPC session has been idle for
      too long.  Usage of this value is defined in <a href="#section-7">Section 7</a>.  Note,
      there is a difference between an idle condition due to the
      incomplete reception of a data block and an idle condition between
      request/response transactions associated with keeping the session
      open.  For the former, see 'block-error' above.

   Clients MUST NOT send chunks of this type, and servers MAY close down
   a session using the procedure in <a href="#section-8">Section 8</a> if a chunk of this type is
   received.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.5.%20%20SASL%20Types"></a><a class="selflink" href="#section-6.5" name="section-6.5">6.5</a>.  SASL Types</span>

   The SASL chunk type allows clients and servers to exchange SASL data.

   The format for the data of this type of chunk is as follows:

         +-----------+-----------+-----------+-----------+
   field | mechanism | mechanism | mechanism | mechanism |
         |   name    |   name    |   data    |   data    |
         |  length   |           |  length   |           |
         +-----------+-----------+-----------+-----------+
   octets     1        variable       2        variable

                            SASL Authentication

   These fields have the following meaning:

   o  mechanism name length - the length of the SASL mechanism name.

   o  mechanism name - the name of the SASL mechanism as registered in
      the IANA SASL mechanism registry defined by [<a href="#ref-10" title='"Simple Authentication and Security Layer (SASL)"'>10</a>].

   o  mechanism data length - the length of the SASL data.

   o  mechanism data - the data used for SASL.

   These fields MUST NOT span multiple chunks.  Therefore, it should be
   noted that SASL data length exceeding the length of the chunk minus
   the length of SASL profile name minus one is an error.





<span class="grey">Newton                      Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   Depending on the nature of the SASL mechanism being used, SASL data
   is sent from clients to servers and from servers to clients and may
   require multiple request/response transactions to complete.  However,
   once a SASL exchange is complete and a server can determine
   authentication status, the server MUST send either authentication
   success information (see <a href="#section-6.6">Section 6.6</a>) or authentication failure
   information (see <a href="#section-6.7">Section 6.7</a>).

   When used as an initial challenge response for SASL mechanisms that
   support such a feature, the mechanism data length may be set to a
   decimal value of 65,535 to indicate an absent initial response.  A
   value of 0 indicates an empty initial response.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.6.%20%20Authentication%20Success%20Information%20Types"></a><a class="selflink" href="#section-6.6" name="section-6.6">6.6</a>.  Authentication Success Information Types</span>

   Chunks of this type contain XML conformant to the schema specified in
   <a href="rfc4991.html">RFC 4991</a> [<a href="#ref-9" title='"A Common Schema for Internet Registry Information Service Transfer Protocols"'>9</a>] and MUST have the &lt;authenticationSuccess&gt; element as the
   root element.

   This type of chunk is only sent from a server to a client.  If a
   client sends it to a server, this will result in a block error (see
   'block-error' in <a href="#section-6.4">Section 6.4</a>).  The usage of this chunk type is
   defined in <a href="#section-6.5">Section 6.5</a>.  A server MAY close down a session due to
   reception of this type of chunk using the procedure in <a href="#section-8">Section 8</a>.

   SASL mechanisms may use the &lt;data&gt; child element to pass back
   arbitrary binary data as base 64 binary.  The absence of this element
   indicates the absence of such data, where as the presence of the
   element with no content indicates an empty data set.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.7.%20%20Authentication%20Failure%20Information%20Types"></a><a class="selflink" href="#section-6.7" name="section-6.7">6.7</a>.  Authentication Failure Information Types</span>

   Chunks of this type contain XML conformant to the schema specified in
   <a href="rfc4991.html">RFC 4991</a> [<a href="#ref-9" title='"A Common Schema for Internet Registry Information Service Transfer Protocols"'>9</a>] and MUST have the &lt;authenticationFailure&gt; element as the
   root element.

   This type of chunk is only sent from a server to a client.  If a
   client sends it to a server, this will result in a block error (see
   'block-error' in <a href="#section-6.4">Section 6.4</a>).  The usage of this chunk type is
   defined in <a href="#section-6.5">Section 6.5</a>.  A server MAY close down a session due to
   reception of this type of chunk using the procedure in <a href="#section-8">Section 8</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.8.%20%20Application%20Data%20Types"></a><a class="selflink" href="#section-6.8" name="section-6.8">6.8</a>.  Application Data Types</span>

   These chunks contain application data.  For IRIS, these are IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>]
   XML instances.





<span class="grey">Newton                      Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Idle%20Sessions"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Idle Sessions</span>

   If a server needs to close a connection due to it being idle, it
   SHOULD do the following:

   1.  Send an unsolicited response block containing an idle timeout
       error (see 'idle-timeout' in <a href="#section-6.4">Section 6.4</a>) with the keep-open (KO)
       flag in the block header (<a href="#section-5">Section 5</a>) set to a value of 0.

   2.  Close the TCP connection.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Closing%20Sessions%20Due%20to%20an%20Error"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Closing Sessions Due to an Error</span>

   If a server is to close a session due to an error, it SHOULD do the
   following:

   1.  Send a response block containing either a block-error or data-
       error (see <a href="#section-6.4">Section 6.4</a>) or version information (see <a href="#section-6.2">Section 6.2</a>)
       with the keep-open (KO) flag in the block header (<a href="#section-5">Section 5</a>) set
       to a value of 0.

   2.  Close the TCP connection.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Use%20over%20TLS"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Use over TLS</span>

   XPC may be tunneled over TLS [<a href="#ref-4" title='"The Transport Layer Security (TLS) Protocol Version 1.1"'>4</a>] by establishing a TLS session
   immediately after a TCP session is opened and before any blocks are
   sent.  This type of session is known as XPCS.

   When using TLS, a convention must be established to allow a client to
   authenticate the validity of a server.  XPCS uses the same convention
   as described by IRIS-BEEP [<a href="#ref-2" title='"Using the Internet Registry Information Service over the Blocks Extensible Exchange Protocol"'>2</a>].

   TLS enables authentication and confidentiality.

   Implementers should note that while XPC and XPCS have separate URI
   scheme names and S-NAPTR application protocol labels, both are
   identified with the same &lt;transferProtocol&gt; value in version
   information chunks (see <a href="#section-6.2">Section 6.2</a>).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Update%20to%20RFC%203981"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Update to <a href="rfc3981.html">RFC 3981</a></span>

   <a href="rfc3981.html#section-6.2">Section 6.2 of RFC 3981</a> [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>] (IRIS-CORE) states that IRIS-BEEP [<a href="#ref-2" title='"Using the Internet Registry Information Service over the Blocks Extensible Exchange Protocol"'>2</a>] is
   the default transport for IRIS.  This document revises <a href="rfc3981.html">RFC 3981</a> and
   specifies IRIS-XPC as the default transport for IRIS.  The TCP well-
   known port registration is specified in <a href="#section-13.5">Section 13.5</a>.





<span class="grey">Newton                      Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20IRIS%20Transport%20Mapping%20Definitions"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  IRIS Transport Mapping Definitions</span>

   This section lists the definitions required by IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>] for transport
   mappings.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.1.%20%20URI%20Scheme"></a><a class="selflink" href="#section-11.1" name="section-11.1">11.1</a>.  URI Scheme</span>

   See <a href="#section-13.1">Section 13.1</a> and <a href="#section-13.2">Section 13.2</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.2.%20%20Application%20Protocol%20Label"></a><a class="selflink" href="#section-11.2" name="section-11.2">11.2</a>.  Application Protocol Label</span>

   See <a href="#section-13.3">Section 13.3</a> and <a href="#section-13.4">Section 13.4</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20Internationalization%20Considerations"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  Internationalization Considerations</span>

   XML processors are obliged to recognize both UTF-8 and UTF-16 [<a href="#ref-3" title='"The Unicode Standard, Version 3"'>3</a>]
   encodings.  Use of the XML defined by [<a href="#ref-9" title='"A Common Schema for Internet Registry Information Service Transfer Protocols"'>9</a>] MUST NOT use any other
   character encodings other than UTF-8 or UTF-16.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-13" name="section-13">13</a>.  IANA Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.1.%20%20XPC%20URI%20Scheme%20Registration"></a><a class="selflink" href="#section-13.1" name="section-13.1">13.1</a>.  XPC URI Scheme Registration</span>

   URL scheme name: iris.xpc

   Status: permanent

   URL scheme syntax: defined in [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Character encoding considerations: as defined in <a href="rfc3986.html">RFC 3986</a> [<a href="#ref-6" title='"Uniform Resource Identifier (URI): Generic Syntax"'>6</a>].

   Intended usage: identifies IRIS XML using chunks over TCP

   Applications using this scheme: defined in IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Interoperability considerations: n/a

   Security Considerations: defined in <a href="#section-14">Section 14</a>.

   Relevant Publications: IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Contact Information: Andrew Newton &lt;andy@hxr.us&gt;

   Author/Change controller: the IESG







<span class="grey">Newton                      Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.2.%20%20XPCS%20URI%20Scheme%20Registration"></a><a class="selflink" href="#section-13.2" name="section-13.2">13.2</a>.  XPCS URI Scheme Registration</span>

   URL scheme name: iris.xpcs

   Status: permanent

   URL scheme syntax: defined in [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Character encoding considerations: as defined in <a href="rfc3986.html">RFC 3986</a> [<a href="#ref-6" title='"Uniform Resource Identifier (URI): Generic Syntax"'>6</a>].

   Intended usage: identifies IRIS XML using chunks over TLS

   Applications using this scheme: defined in IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Interoperability considerations: n/a

   Security Considerations: defined in <a href="#section-14">Section 14</a>.

   Relevant Publications: IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Contact Information: Andrew Newton &lt;andy@hxr.us&gt;

   Author/Change controller: the IESG

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.3.%20%20S-NAPTR%20XPC%20Registration"></a><a class="selflink" href="#section-13.3" name="section-13.3">13.3</a>.  S-NAPTR XPC Registration</span>

   Application Protocol Label (see [<a href="#ref-5" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>5</a>]): iris.xpc

   Intended usage: identifies an IRIS server using XPC

   Interoperability considerations: n/a

   Security Considerations: defined in <a href="#section-14">Section 14</a>.

   Relevant Publications: IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Contact Information: Andrew Newton &lt;andy@hxr.us&gt;

   Author/Change controller: the IESG

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.4.%20%20S-NAPTR%20XPCS%20Registration"></a><a class="selflink" href="#section-13.4" name="section-13.4">13.4</a>.  S-NAPTR XPCS Registration</span>

   Application Protocol Label (see [<a href="#ref-5" title='"Domain-Based Application Service Location Using SRV RRs and the Dynamic Delegation Discovery Service (DDDS)"'>5</a>]): iris.xpcs

   Intended usage: identifies an IRIS server using secure XPCS

   Interoperability considerations: n/a




<span class="grey">Newton                      Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   Security Considerations: defined in <a href="#section-14">Section 14</a>.

   Relevant Publications: IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Contact Information: Andrew Newton &lt;andy@hxr.us&gt;

   Author/Change controller: the IESG

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.5.%20%20Well-Known%20TCP%20Port%20Registration%20for%20XPC"></a><a class="selflink" href="#section-13.5" name="section-13.5">13.5</a>.  Well-Known TCP Port Registration for XPC</span>

   Protocol Number: TCP

   TCP Port Number: 713

   Message Formats, Types, Opcodes, and Sequences: defined in <a href="#section-4.2">Section</a>
   <a href="#section-4.2">4.2</a>, <a href="#section-3">Section 3</a>, and <a href="#section-4.1">Section 4.1</a>.

   Functions: defined in IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Use of Broadcast/Multicast: none

   Proposed Name: IRIS over XPC

   Short name: iris.xpc

   Contact Information: Andrew Newton &lt;andy@hxr.us&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/13.6.%20%20Well-Known%20TCP%20Port%20Registration%20for%20XPCS"></a><a class="selflink" href="#section-13.6" name="section-13.6">13.6</a>.  Well-Known TCP Port Registration for XPCS</span>

   Protocol Number: TCP

   TCP Port Number: 714

   Message Formats, Types, Opcodes, and Sequences: defined in Sections
   9, 4.2, 3, and 4.1.

   Functions: defined in IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>].

   Use of Broadcast/Multicast: none

   Proposed Name: IRIS over XPCS

   Short name: iris.xpcs

   Contact Information: Andrew Newton &lt;andy@hxr.us&gt;






<span class="grey">Newton                      Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/14.%20%20Security%20Considerations"></a><a class="selflink" href="#section-14" name="section-14">14</a>.  Security Considerations</span>

   Implementers should be fully aware of the security considerations
   given by IRIS [<a href="#ref-1" title='"IRIS: The Internet Registry Information Service (IRIS) Core Protocol"'>1</a>] and TLS [<a href="#ref-4" title='"The Transport Layer Security (TLS) Protocol Version 1.1"'>4</a>].  With respect to server authentication
   with the use of TLS, see <a href="#section-6">Section 6</a> of IRIS-BEEP [<a href="#ref-2" title='"Using the Internet Registry Information Service over the Blocks Extensible Exchange Protocol"'>2</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/14.1.%20%20Security%20Mechanisms"></a><a class="selflink" href="#section-14.1" name="section-14.1">14.1</a>.  Security Mechanisms</span>

   Clients SHOULD be prepared to use the following security mechanisms
   in the following manner:

   o  SASL/DIGEST-MD5 - for user authentication without the need of
      session encryption.

   o  SASL/OTP - for user authentication without the need of session
      encryption.

   o  TLS using the TLS_RSA_WITH_3DES_EDE_CBC_SHA cipher - for
      encryption.

   o  TLS using the TLS_RSA_WITH_3DES_EDE_CBC_SHA cipher with client-
      side certificates - for encryption and user authentication.

   o  TLS using the TLS_RSA_WITH_AES_128_CBC_SHA cipher - for
      encryption.  See [<a href="#ref-7" title='"Advanced Encryption Standard (AES) Ciphersuites for Transport Layer Security (TLS)"'>7</a>].

   o  TLS using the TLS_RSA_WITH_AES_128_CBC_SHA cipher with client-side
      certificates - for encryption and user authentication.  See [<a href="#ref-7" title='"Advanced Encryption Standard (AES) Ciphersuites for Transport Layer Security (TLS)"'>7</a>].

   o  TLS using the TLS_RSA_WITH_AES_256_CBC_SHA cipher - for
      encryption.  See [<a href="#ref-7" title='"Advanced Encryption Standard (AES) Ciphersuites for Transport Layer Security (TLS)"'>7</a>].

   o  TLS using the TLS_RSA_WITH_AES_256_CBC_SHA cipher with client-side
      certificates - for encryption and user authentication.  See [<a href="#ref-7" title='"Advanced Encryption Standard (AES) Ciphersuites for Transport Layer Security (TLS)"'>7</a>].

      Anonymous client access SHOULD be considered in one of two
      methods:

   1.  When no authentication has been used.

   2.  Using the SASL anonymous profile: SASL/ANONYMOUS

   As specified by SASL/PLAIN, clients MUST NOT use the SASL/PLAIN
   mechanism without first encrypting the TCP session (e.g., such as
   with TLS).  Clients MUST implement SASL/PLAIN and TLS using the
   TLS_RSA_WITH_3DES_EDE_CBC_SHA cipher.





<span class="grey">Newton                      Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/14.2.%20%20SASL%20Compliance"></a><a class="selflink" href="#section-14.2" name="section-14.2">14.2</a>.  SASL Compliance</span>

   The following list details the compliance of IRIS-XPC for use with
   SASL, as specified by <a href="rfc4422.html">RFC 4422</a> [<a href="#ref-10" title='"Simple Authentication and Security Layer (SASL)"'>10</a>], Section 4.

   1.  The SASL service name to be used by IRIS-XPC is "iris-xpc".

   2.  <a href="#section-6.2">Section 6.2</a> describes the negotiation facility used to determine
       the available security mechanisms.  This facility may be used
       both before the initiation of SASL exchanges and after the
       installation of security mechanisms.

   3.

        a) <a href="#section-6.5">Section 6.5</a> describes the mechanism to initiate
           authentication exchanges.

        b) <a href="#section-6.5">Section 6.5</a> describes the mechanism to transfer server
           challenges and client responses.

        c) <a href="#section-6.6">Section 6.6</a> and <a href="#section-6.7">Section 6.7</a> describe the mechanisms to
           indicate the outcome of an authentication exchange.  <a href="#section-6.6">Section</a>
           <a href="#section-6.6">6.6</a> describes how additional data may be carried with this
           message.

   4.  Non-empty authorization identity strings used within IRIS-XPC
       MUST be normalized according to <a href="rfc4013.html">RFC 4013</a> [<a href="#ref-11" title='"SASLprep: Stringprep Profile for User Names and Passwords"'>11</a>].  The semantics of
       the non-empty authorization identity strings is server dependent,
       and clients MUST use the values for these strings as given by
       configuration or the user.

   5.  Clients or servers wishing to abort an ongoing authentication
       exchange MUST close the connection.

   6.  After new security layers are negotiated, they take effect on the
       first octet following the authentication success (as) (<a href="#section-6.6">Section</a>
       <a href="#section-6.6">6.6</a>) chunk sent by the server and on the first octet sent after
       receipt of the authentication success (as) chunk sent by the
       client.

   7.  IRIS-XPC can be used with both TLS and SASL.  When used in
       combination, TLS MUST always be applied before any SASL
       mechanism.

   8.  IRIS-XPC does not support multiple SASL authentications.
       However, if TLS is being used in combination with SASL, TLS
       authentication MUST occur before any SASL authentication.




<span class="grey">Newton                      Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/15.%20%20References"></a><a class="selflink" href="#section-15" name="section-15">15</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/15.1.%20%20Normative%20References"></a><a class="selflink" href="#section-15.1" name="section-15.1">15.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]   Newton, A. and M. Sanz, "IRIS: The Internet Registry
         Information Service (IRIS) Core Protocol", <a href="rfc3981.html">RFC 3981</a>, January
         2005.

   [<a id="ref-2" name="ref-2">2</a>]   Newton, A. and M. Sanz, "Using the Internet Registry
         Information Service over the Blocks Extensible Exchange
         Protocol", <a href="rfc3983.html">RFC 3983</a>, January 2005.

   [<a id="ref-3" name="ref-3">3</a>]   The Unicode Consortium, "The Unicode Standard, Version  3",
         ISBN 0-201-61633-5, 2000, &lt;The Unicode Standard, Version 3&gt;.

   [<a id="ref-4" name="ref-4">4</a>]   Dierks, T. and E. Rescorla, "The Transport Layer Security (TLS)
         Protocol Version 1.1", <a href="rfc4346.html">RFC 4346</a>, April 2006.

   [<a id="ref-5" name="ref-5">5</a>]   Daigle, L. and A. Newton, "Domain-Based Application Service
         Location Using SRV RRs and the Dynamic Delegation Discovery
         Service  (DDDS)", <a href="rfc3958.html">RFC 3958</a>, January 2005.

   [<a id="ref-6" name="ref-6">6</a>]   Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
         Resource Identifier (URI): Generic Syntax", STD 66, <a href="rfc3986.html">RFC 3986</a>,
         January 2005.

   [<a id="ref-7" name="ref-7">7</a>]   Chown, P., "Advanced Encryption Standard (AES) Ciphersuites for
         Transport Layer Security (TLS)", <a href="rfc3268.html">RFC 3268</a>, June 2002.

   [<a id="ref-8" name="ref-8">8</a>]   Bradner, S., "Key words for use in RFCs to  Indicate
         Requirement Levels", <a href="rfc2119.html">RFC 2119</a>, <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, March 1997.

   [<a id="ref-9" name="ref-9">9</a>]   Newton, A., "A Common Schema for Internet Registry Information
         Service Transfer Protocols", <a href="rfc4991.html">RFC 4991</a>, August 2007.

   [<a id="ref-10" name="ref-10">10</a>]  Melnikov, A. and K. Zeilenga, "Simple Authentication and
         Security Layer (SASL)", <a href="rfc4422.html">RFC 4422</a>, June 2006.

   [<a id="ref-11" name="ref-11">11</a>]  Zeilenga, K., "SASLprep: Stringprep Profile for User Names and
         Passwords", <a href="rfc4013.html">RFC 4013</a>, February 2005.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/15.2.%20%20Informative%20References"></a><a class="selflink" href="#section-15.2" name="section-15.2">15.2</a>.  Informative References</span>

   [<a id="ref-12" name="ref-12">12</a>]  Kirkpatrick, S., Stahl, M., and M. Recker, "Internet numbers",
         <a href="rfc1166.html">RFC 1166</a>, July 1990.






<span class="grey">Newton                      Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Examples"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Examples</span>

   This section gives examples of IRIS-XPC sessions.  Lines beginning
   with "C:" denote data sent by the client to the server, and lines
   beginning with "S:" denote data sent by the server to the client.
   Following the "C:" or "S:", the line contains either octet values in
   hexadecimal notation with comments or XML fragments.  No line
   contains both octet values with comments and XML fragments.  Comments
   are contained within parentheses.

   It should also be noted that flag values of "yes" and "no" reflect
   binary values 1 and 0.

   The following example demonstrates an IRIS client issuing two
   requests in one XPC session.  In the first request, the client is
   requesting status information for "example.com".  This request and
   its response are transferred with one chunk.  In the second request,
   the client is requesting status information for "milo.example.com",
   "felix.example.com", and "hobbes.example.com".  This request and its
   response are transferred with three chunks.

   S:           (connection response block)
   S: 0x20      (block header: V=0,KO=yes)
   S:           (chunk 1)
   S: 0xC1      (LC=yes,DC=yes,CT=vi)
   S: 0x01 0xBF (chunk length=447)
   S:           (Version Information)
   S: &lt;?xml version="1.0"?&gt;
   S: &lt;versions xmlns="urn:ietf:params:xml:ns:iris-transport"&gt;
   S:   &lt;transferProtocol protocolId="iris.xpc1"
   S:     authenticationIds="PLAIN EXTERNAL"&gt;
   S:     &lt;application protocolId="urn:ietf:params:xml:ns:iris1"
   S:       extensionIds="http://example.com/SIMPLEBAG"&gt;
   S:       &lt;dataModel protocolId="urn:ietf:params:xml:ns:dchk1"/&gt;
   S:       &lt;dataModel protocolId="urn:ietf:params:xml:ns:dreg1"/&gt;
   S:     &lt;/application&gt;
   S:   &lt;/transferProtocol&gt;
   S: &lt;/versions&gt;

   C:           (request block)
   C: 0x20      (block header: V=0,KO=yes)
   C: 0x0B      (authority length=11)
   C:           (authority="example.com")
   C: 0x65 0x78 0x61 0x6D 0x70 0x6C 0x65 0x23 0x63 0x6F 0x6D
   C:           (chunk 1)
   C: 0xC7      (LC=yes,DC=yes,CT=ad)
   C: 0x01 0x53 (chunk length=339)
   C:           (IRIS XML request)



<span class="grey">Newton                      Standards Track                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   C: &lt;request xmlns="urn:ietf:params:xml:ns:iris1"
   C:   xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd" &gt;
   C:   &lt;searchSet&gt;
   C:     &lt;lookupEntity
   C:       registryType="urn:ietf:params:xml:ns:dchk1"
   C:       entityClass="domain-name"
   C:       entityName="example.com" /&gt;
   C:   &lt;/searchSet&gt;
   C: &lt;/request&gt;

   S:           (response block)
   S: 0x20      (block header: V=0,KO=yes)
   S:           (chunk 1)
   S: 0xC7      (LC=yes,DC=yes,CT=ad)
   S: 0x01 0xE0 (chunk length=480)
   S:           (IRIS XML response)
   S: &lt;iris:response xmlns:iris="urn:ietf:params:xml:ns:iris1"&gt;
   S:   &lt;iris:resultSet&gt;
   S:     &lt;iris:answer&gt;
   S:       &lt;domain authority="example.com" registryType="dchk1"
   S:         entityClass="domain-name" entityName="example.com-1"
   S:         temporaryReference="true"
   S:         xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:         &lt;domainName&gt;example.com&lt;/domainName&gt;
   S:         &lt;status&gt;
   S:           &lt;assignedAndActive/&gt;
   S:         &lt;/status&gt;
   S:       &lt;/domain&gt;
   S:     &lt;/iris:answer&gt;
   S:   &lt;/iris:resultSet&gt;
   S: &lt;/iris:response&gt;

   C:           (request block)
   C: 0x00      (block header: V=0,KO=no)
   C: 0x0B      (authority length=11)
   C:           (authority="example.com")
   C: 0x65 0x78 0x61 0x6D 0x70 0x6C 0x65 0x23 0x63 0x6F 0x6D
   C:           (chunk 1)
   C: 0x07      (LC=no,DC=no,CT=ad)
   C: 0x01 0x4E (chunk length=339)
   C:           (IRIS XML request)
   C: &lt;request xmlns="urn:ietf:params:xml:ns:iris1"
   C:  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   C:  xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd" &gt;
   C:   &lt;searchSet&gt;
   C:    &lt;lookupEntity
   C:      registryType="urn:ietf:params:xml:ns:dchk1"
   C:      entityClass="domain-name"



<span class="grey">Newton                      Standards Track                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   C:      entityName="milo.example.com" /&gt;
   C:  &lt;/searchSet&gt;
   C:           (chunk 2)
   C: 0x07      (LC=no,DC=no,CT=ad)
   C: 0x00 0xA9 (chunk length=169)
   C:           (IRIS XML request)
   C:  &lt;searchSet&gt;
   C:    &lt;lookupEntity
   C:      registryType="urn:ietf:params:xml:ns:dchk1"
   C:      entityClass="domain-name"
   C:      entityName="felix.example.com" /&gt;
   C:  &lt;/searchSet&gt;
   C:           (chunk 3)
   C: 0xC7      (LC=yes,DC=yes,CT=ad)
   C: 0x00 0xB5 (chunk length=181)
   C:           (IRIS XML request)
   C:  &lt;searchSet&gt;
   C:    &lt;lookupEntity
   C:      registryType="urn:ietf:params:xml:ns:dchk1"
   C:      entityClass="domain-name"
   C:      entityName="hobbes.example.com" /&gt;
   C:  &lt;/searchSet&gt;
   C:&lt;/request&gt;

   S:           (response block)
   S: 0x00      (block header: V=0,KO=no)
   S:           (chunk 1)
   S: 0x07      (LC=no,DC=no,CT=ad)
   S: 0x01 0xDA (chunk length=474)
   S:           (IRIS XML response)
   S: &lt;iris:response xmlns:iris="urn:ietf:params:xml:ns:iris1"&gt;
   S:   &lt;iris:resultSet&gt;
   S:     &lt;iris:answer&gt;
   S:       &lt;domain authority="example.com" registryType="dchk1"
   S:         entityClass="domain-name" entityName="milo.example.com-1"
   S:         temporaryReference="true"
   S:         xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:         &lt;domainName&gt;milo.example.com&lt;/domainName&gt;
   S:         &lt;status&gt;
   S:           &lt;assignedAndActive/&gt;
   S:         &lt;/status&gt;
   S:       &lt;/domain&gt;
   S:     &lt;/iris:answer&gt;
   S:   &lt;/iris:resultSet&gt;
   S:           (chunk 2)
   S: 0x07      (LC=no,DC=no,CT=ad)
   S: 0x01 0xA2 (chunk length=418)
   S:           (IRIS XML response)



<span class="grey">Newton                      Standards Track                    [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   S:  &lt;iris:resultSet&gt;
   S:    &lt;iris:answer&gt;
   S:      &lt;domain authority="example.com" registryType="dchk1"
   S:        entityClass="domain-name" entityName="felix.example.com-1"
   S:        temporaryReference="true"
   S:        xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:        &lt;domainName&gt;felix.example.com&lt;/domainName&gt;
   S:        &lt;status&gt;
   S:          &lt;assignedAndActive/&gt;
   S:        &lt;/status&gt;
   S:      &lt;/domain&gt;
   S:    &lt;/iris:answer&gt;
   S:  &lt;/iris:resultSet&gt;
   S:           (chunk 3)
   S: 0xC7      (LC=yes,DC=yes,CT=ad)
   S: 0x01 0xB5 (chunk length=437)
   S:           (IRIS XML response)
   S:  &lt;iris:resultSet&gt;
   S:     &lt;iris:answer&gt;
   S:       &lt;domain authority="example.com" registryType="dchk1"
   S:         entityClass="domain-name"
   S:  entityName="hobbes.example.com-1"
   S:         temporaryReference="true"
   S:         xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:         &lt;domainName&gt;hobbes.example.com&lt;/domainName&gt;
   S:         &lt;status&gt;
   S:           &lt;assignedAndActive/&gt;
   S:         &lt;/status&gt;
   S:       &lt;/domain&gt;
   S:     &lt;/iris:answer&gt;
   S:   &lt;/iris:resultSet&gt;
   S: &lt;/iris:response&gt;

                             Example 1

   In the following example, an IRIS client requests domain status
   information for "milo.example.com", "felix.example.com", and
   "hobbes.example.com" in one request.  The request is sent with one
   chunk; however, the answer is returned in three chunks.

   S:           (connection response block)
   S: 0x20      (block header: V=0,KO=yes)
   S:           (chunk 1)
   S: 0xC1      (LC=yes,DC=yes,CT=vi)
   S: 0x01 0xBF (chunk length=447)
   S:           (Version Information)
   S: &lt;?xml version="1.0"?&gt;
   S: &lt;versions xmlns="urn:ietf:params:xml:ns:iris-transport"&gt;



<span class="grey">Newton                      Standards Track                    [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   S:   &lt;transferProtocol protocolId="iris.xpc1"
   S:     authenticationIds="PLAIN EXTERNAL"&gt;
   S:     &lt;application protocolId="urn:ietf:params:xml:ns:iris1"
   S:       extensionIds="http://example.com/SIMPLEBAG"&gt;
   S:       &lt;dataModel protocolId="urn:ietf:params:xml:ns:dchk1"/&gt;
   S:       &lt;dataModel protocolId="urn:ietf:params:xml:ns:dreg1"/&gt;
   S:     &lt;/application&gt;
   S:   &lt;/transferProtocol&gt;
   S: &lt;/versions&gt;

   C:           (request block)
   C: 0x00      (block header: V=0,KO=no)
   C: 0x0B      (authority length=11)
   C:           (authority="example.com")
   C: 0x65 0x78 0x61 0x6D 0x70 0x6C 0x65 0x23 0x63 0x6F 0x6D
   C:           (chunk 1)
   C: 0xC7      (LC=yes,DC=yes,CT=ad)
   C: 0x02 0xAB (chunk length=683)
   C:           (IRIS XML request)
   C: &lt;request xmlns="urn:ietf:params:xml:ns:iris1"
   C:   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   C:   xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd" &gt;
   C:    &lt;searchSet&gt;
   C:     &lt;lookupEntity
   C:       registryType="urn:ietf:params:xml:ns:dchk1"
   C:       entityClass="domain-name"
   C:       entityName="milo.example.com" /&gt;
   C:   &lt;/searchSet&gt;
   C:   &lt;searchSet&gt;
   C:     &lt;lookupEntity
   C:       registryType="urn:ietf:params:xml:ns:dchk1"
   C:       entityClass="domain-name"
   C:       entityName="felix.example.com" /&gt;
   C:   &lt;/searchSet&gt;
   C:   &lt;searchSet&gt;
   C:     &lt;lookupEntity
   C:       registryType="urn:ietf:params:xml:ns:dchk1"
   C:       entityClass="domain-name"
   C:       entityName="hobbes.example.com" /&gt;
   C:   &lt;/searchSet&gt;
   C: &lt;/request&gt;

   S:           (response block)
   S: 0x00      (block header: V=0,KO=no)
   S:           (chunk 1)
   S: 0x07      (LC=no,DC=no,CT=ad)
   S: 0x01 0xDA (chunk length=474)
   S:           (IRIS XML response)



<span class="grey">Newton                      Standards Track                    [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   S: &lt;iris:response xmlns:iris="urn:ietf:params:xml:ns:iris1"&gt;
   S:   &lt;iris:resultSet&gt;
   S:     &lt;iris:answer&gt;
   S:       &lt;domain authority="example.com" registryType="dchk1"
   S:         entityClass="domain-name" entityName="milo.example.com-1"
   S:         temporaryReference="true"
   S:         xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:         &lt;domainName&gt;milo.example.com&lt;/domainName&gt;
   S:         &lt;status&gt;
   S:           &lt;assignedAndActive/&gt;
   S:         &lt;/status&gt;
   S:       &lt;/domain&gt;
   S:     &lt;/iris:answer&gt;
   S:   &lt;/iris:resultSet&gt;
   S:           (chunk 2)
   S: 0x07      (LC=no,DC=no,CT=ad)
   S: 0x01 0xA2 (chunk length=418)
   S:           (IRIS XML response)
   S:  &lt;iris:resultSet&gt;
   S:    &lt;iris:answer&gt;
   S:      &lt;domain authority="example.com" registryType="dchk1"
   S:        entityClass="domain-name" entityName="felix.example.com-1"
   S:        temporaryReference="true"
   S:        xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:        &lt;domainName&gt;felix.example.com&lt;/domainName&gt;
   S:        &lt;status&gt;
   S:          &lt;assignedAndActive/&gt;
   S:        &lt;/status&gt;
   S:      &lt;/domain&gt;
   S:    &lt;/iris:answer&gt;
   S:  &lt;/iris:resultSet&gt;
   S:           (chunk 3)
   S: 0xC7      (LC=yes,DC=yes,CT=ad)
   S: 0x01 0xB5 (chunk length=437)
   S:           (IRIS XML response)
   S:  &lt;iris:resultSet&gt;
   S:     &lt;iris:answer&gt;
   S:       &lt;domain authority="example.com" registryType="dchk1"
   S:         entityClass="domain-name"
   S:  entityName="hobbes.example.com-1"
   S:         temporaryReference="true"
   S:         xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:         &lt;domainName&gt;hobbes.example.com&lt;/domainName&gt;
   S:         &lt;status&gt;
   S:           &lt;assignedAndActive/&gt;
   S:         &lt;/status&gt;
   S:       &lt;/domain&gt;
   S:     &lt;/iris:answer&gt;



<span class="grey">Newton                      Standards Track                    [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   S:   &lt;/iris:resultSet&gt;
   S: &lt;/iris:response&gt;

                            Example 2

   In the following example, an IRIS client sends a request containing
   SASL/PLAIN authentication data and a domain status check for
   "example.com".  The server responds with authentication success
   information and the domain status of "example.com".  Note that the
   client requests that the connection stay open for further requests,
   but the server does not honor this request.

   S:           (connection response block)
   S: 0x20      (block header: V=0,KO=yes)
   S:           (chunk 1)
   S: 0xC1      (LC=yes,DC=yes,CT=vi)
   S: 0x01 0xBF (chunk length=447)
   S:           (Version Information)
   S: &lt;?xml version="1.0"?&gt;
   S: &lt;versions xmlns="urn:ietf:params:xml:ns:iris-transport"&gt;
   S:   &lt;transferProtocol protocolId="iris.xpc1"
   S:     authenticationIds="PLAIN EXTERNAL"&gt;
   S:     &lt;application protocolId="urn:ietf:params:xml:ns:iris1"
   S:       extensionIds="http://example.com/SIMPLEBAG"&gt;
   S:       &lt;dataModel protocolId="urn:ietf:params:xml:ns:dchk1"/&gt;
   S:       &lt;dataModel protocolId="urn:ietf:params:xml:ns:dreg1"/&gt;
   S:     &lt;/application&gt;
   S:   &lt;/transferProtocol&gt;
   S: &lt;/versions&gt;

   C:           (request block)
   C: 0x00      (block header: V=0,KO=no)
   C: 0x0B      (authority length=11)
   C:           (authority="example.com")
   C: 0x65 0x78 0x61 0x6D 0x70 0x6C 0x65 0x23 0x63 0x6F 0x6D
   C:           (chunk 1)
   C: 0x44      (LC=no,DC=yes,CT=sd)
   C: 0x00 0x11 (chunk length=11)
   C:           (SASL data)
   C: 0x05      (mechanism length=5)
   C:           (mechanism name="PLAIN")
   C: 0x50 0x4C 0x41 0x49 0x43
   C: 0x00 0x0A (sasl PLAIN data length=10)
   C:           (sasl PLAIN data: authcid="bob")
   C:           (sasl PLAIN data: authzid=NULL)
   C:           (sasl PLAIN data: password="kEw1")
   C: 0x62 0x6F 0x62 0x20 0x00 0x20 0x6B 0x45 0x77 0x31
   C:           (chunk 2)



<span class="grey">Newton                      Standards Track                    [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


   C: 0xC7      (LC=yes,DC=yes,CT=ad)
   C: 0x01 0x53 (chunk length=339)
   C:           (IRIS XML request)
   C: &lt;request xmlns="urn:ietf:params:xml:ns:iris1"
   C:   xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd" &gt;
   C:   &lt;searchSet&gt;
   C:     &lt;lookupEntity
   C:       registryType="urn:ietf:params:xml:ns:dchk1"
   C:       entityClass="domain-name"
   C:       entityName="example.com" /&gt;
   C:   &lt;/searchSet&gt;
   C: &lt;/request&gt;

   S:           (response block)
   S: 0x00      (block header: V=0,KO=no)
   S:           (chunk 1)
   S: 0x45      (LC=no,DC=yes,CT=as)
   S: 0x00 0xD0 (chunk length=208)
   S:           (authentication success response)
   S: &lt;?xml version="1.0"?&gt;
   S: &lt;authenticationSuccess
   S:   xmlns="urn:ietf:params:xml:ns:iris-transport"&gt;
   S:   &lt;description language="en"&gt;
   S:     user 'bob' authenticates via password
   S:   &lt;/description&gt;
   S: &lt;/authenticationSuccess&gt;
   S:           (chunk 2)
   S: 0xC7      (LC=yes,DC=yes,CT=ad)
   S: 0x01 0xE0 (chunk length=480)
   S:           (IRIS XML response)
   S: &lt;iris:response xmlns:iris="urn:ietf:params:xml:ns:iris1"&gt;
   S:   &lt;iris:resultSet&gt;
   S:     &lt;iris:answer&gt;
   S:       &lt;domain authority="example.com" registryType="dchk1"
   S:         entityClass="domain-name" entityName="example.com-1"
   S:         temporaryReference="true"
   S:         xmlns="urn:ietf:params:xml:ns:dchk1"&gt;
   S:         &lt;domainName&gt;example.com&lt;/domainName&gt;
   S:         &lt;status&gt;
   S:           &lt;assignedAndActive/&gt;
   S:         &lt;/status&gt;
   S:       &lt;/domain&gt;
   S:     &lt;/iris:answer&gt;
   S:   &lt;/iris:resultSet&gt;
   S: &lt;/iris:response&gt;

                            Example 3




<span class="grey">Newton                      Standards Track                    [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20B.%20%20Contributors"></a><a class="selflink" href="#appendix-B" name="appendix-B">Appendix B</a>.  Contributors</span>

   Substantive contributions to this document have been provided by the
   members of the IETF's CRISP Working Group, especially Robert Martin-
   Legene, Milena Caires, and David Blacka.

Author's Address

   Andrew L. Newton
   VeriSign, Inc.
   21345 Ridgetop Circle
   Sterling, VA  20166
   USA

   Phone: +1 703 948 3382
   EMail: andy@hxr.us
   URI:   <a href="http://www.verisignlabs.com/">http://www.verisignlabs.com/</a>


































<span class="grey">Newton                      Standards Track                    [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc4992.html">RFC 4992</a>            IRIS XML Pipelining with Chunks          August 2007</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Newton                      Standards Track                    [Page 29]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc4992 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:38 GMT --></html>