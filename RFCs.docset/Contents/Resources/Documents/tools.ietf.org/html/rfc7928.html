<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc7928 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.126" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Relation.Replaces" content="draft-kuhn-aqm-eval-guidelines" />
<meta name="DC.Identifier" content="urn:ietf:rfc:7928" />
<meta name="DC.Date.Issued" content="July, 2016" />
<meta name="DC.Creator" content="Natarajan, Preethi" />
<meta name="DC.Creator" content="Khademi, Naeem" />
<meta name="DC.Creator" content="Kuhn, Nicolas" />
<meta name="DC.Creator" content="Ros, David" />
<meta name="DC.Description.Abstract" content="Unmanaged large buffers in today's networks have given rise to a
slew of performance issues. These performance issues can be addressed
by some form of Active Queue Management (AQM) mechanism, optionally in
combination with a packet-scheduling scheme such as fair queuing. This
document describes various criteria for performing characterizations
of AQM schemes that can be used in lab testing during development,
prior to deployment." />
<meta name="DC.Title" content="Characterization Guidelines for Active Queue Management (AQM)" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 7928 - Characterization Guidelines for Active Queue Management (AQM)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgorange"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7928.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7928" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-aqm-eval-guidelines" title="draft-ietf-aqm-eval-guidelines">draft-ietf-aqm-...</a>] [<a href='https://datatracker.ietf.org/doc/rfc7928' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7928" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7928" title="Side-by-side diff">Diff2</a>]         </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Internet Engineering Task Force (IETF)                      N. Kuhn, Ed.
Request for Comments: 7928                        CNES, Telecom Bretagne
Category: Informational                                P. Natarajan, Ed.
ISSN: 2070-1721                                            Cisco Systems
                                                         N. Khademi, Ed.
                                                      University of Oslo
                                                                  D. Ros
                                           Simula Research Laboratory AS
                                                               July 2016


     <span class="h1">Characterization Guidelines for Active Queue Management (AQM)</span>

Abstract

   Unmanaged large buffers in today's networks have given rise to a slew
   of performance issues.  These performance issues can be addressed by
   some form of Active Queue Management (AQM) mechanism, optionally in
   combination with a packet-scheduling scheme such as fair queuing.
   This document describes various criteria for performing
   characterizations of AQM schemes that can be used in lab testing
   during development, prior to deployment.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc7841.html#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7928">http://www.rfc-editor.org/info/rfc7928</a>.













<span class="grey">Kuhn, et al.                  Informational                     [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-1.1">1.1</a>.  Reducing the Latency and Maximizing the Goodput . . . . .   <a href="#page-5">5</a>
     <a href="#section-1.2">1.2</a>.  Goals of This Document  . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-1.3">1.3</a>.  Requirements Language . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-1.4">1.4</a>.  Glossary  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-2">2</a>.  End-to-End Metrics  . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.1">2.1</a>.  Flow Completion Time  . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-2.2">2.2</a>.  Flow Startup Time . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-2.3">2.3</a>.  Packet Loss . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-2.4">2.4</a>.  Packet Loss Synchronization . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-2.5">2.5</a>.  Goodput . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-2.6">2.6</a>.  Latency and Jitter  . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     2.7.  Discussion on the Trade-Off between Latency and Goodput .  11
   <a href="#section-3">3</a>.  Generic Setup for Evaluations . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-3.1">3.1</a>.  Topology and Notations  . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-3.2">3.2</a>.  Buffer Size . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-3.3">3.3</a>.  Congestion Controls . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   4.  Methodology, Metrics, AQM Comparisons, Packet Sizes,
       Scheduling, and ECN . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-4.1">4.1</a>.  Methodology . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
     <a href="#section-4.2">4.2</a>.  Comments on Metrics Measurement . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-4.3">4.3</a>.  Comparing AQM Schemes . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
       <a href="#section-4.3.1">4.3.1</a>.  Performance Comparison  . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
       <a href="#section-4.3.2">4.3.2</a>.  Deployment Comparison . . . . . . . . . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-4.4">4.4</a>.  Packet Sizes and Congestion Notification  . . . . . . . .  <a href="#page-16">16</a>
     <a href="#section-4.5">4.5</a>.  Interaction with ECN  . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
     <a href="#section-4.6">4.6</a>.  Interaction with Scheduling . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   <a href="#section-5">5</a>.  Transport Protocols . . . . . . . . . . . . . . . . . . . . .  <a href="#page-18">18</a>
     <a href="#section-5.1">5.1</a>.  TCP-Friendly Sender . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
       5.1.1.  TCP-Friendly Sender with the Same Initial Congestion
               Window  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>



<span class="grey">Kuhn, et al.                  Informational                     [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


       5.1.2.  TCP-Friendly Sender with Different Initial Congestion
               Windows . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-5.2">5.2</a>.  Aggressive Transport Sender . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-5.3">5.3</a>.  Unresponsive Transport Sender . . . . . . . . . . . . . .  <a href="#page-20">20</a>
     <a href="#section-5.4">5.4</a>.  Less-than-Best-Effort Transport Sender  . . . . . . . . .  <a href="#page-20">20</a>
   <a href="#section-6">6</a>.  Round-Trip Time Fairness  . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
     <a href="#section-6.1">6.1</a>.  Motivation  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
     <a href="#section-6.2">6.2</a>.  Recommended Tests . . . . . . . . . . . . . . . . . . . .  <a href="#page-21">21</a>
     <a href="#section-6.3">6.3</a>.  Metrics to Evaluate the RTT Fairness  . . . . . . . . . .  <a href="#page-22">22</a>
   <a href="#section-7">7</a>.  Burst Absorption  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-22">22</a>
     <a href="#section-7.1">7.1</a>.  Motivation  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-22">22</a>
     <a href="#section-7.2">7.2</a>.  Recommended Tests . . . . . . . . . . . . . . . . . . . .  <a href="#page-23">23</a>
   <a href="#section-8">8</a>.  Stability . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-24">24</a>
     <a href="#section-8.1">8.1</a>.  Motivation  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-24">24</a>
     <a href="#section-8.2">8.2</a>.  Recommended Tests . . . . . . . . . . . . . . . . . . . .  <a href="#page-24">24</a>
       <a href="#section-8.2.1">8.2.1</a>.  Definition of the Congestion Level  . . . . . . . . .  <a href="#page-25">25</a>
       <a href="#section-8.2.2">8.2.2</a>.  Mild Congestion . . . . . . . . . . . . . . . . . . .  <a href="#page-25">25</a>
       <a href="#section-8.2.3">8.2.3</a>.  Medium Congestion . . . . . . . . . . . . . . . . . .  <a href="#page-25">25</a>
       <a href="#section-8.2.4">8.2.4</a>.  Heavy Congestion  . . . . . . . . . . . . . . . . . .  <a href="#page-25">25</a>
       <a href="#section-8.2.5">8.2.5</a>.  Varying the Congestion Level  . . . . . . . . . . . .  <a href="#page-26">26</a>
       <a href="#section-8.2.6">8.2.6</a>.  Varying Available Capacity  . . . . . . . . . . . . .  <a href="#page-26">26</a>
     <a href="#section-8.3">8.3</a>.  Parameter Sensitivity and Stability Analysis  . . . . . .  <a href="#page-27">27</a>
   <a href="#section-9">9</a>.  Various Traffic Profiles  . . . . . . . . . . . . . . . . . .  <a href="#page-27">27</a>
     <a href="#section-9.1">9.1</a>.  Traffic Mix . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-28">28</a>
     <a href="#section-9.2">9.2</a>.  Bidirectional Traffic . . . . . . . . . . . . . . . . . .  <a href="#page-28">28</a>
   <a href="#section-10">10</a>. Example of a Multi-AQM Scenario . . . . . . . . . . . . . . .  <a href="#page-29">29</a>
     <a href="#section-10.1">10.1</a>.  Motivation . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-29">29</a>
     <a href="#section-10.2">10.2</a>.  Details on the Evaluation Scenario . . . . . . . . . . .  <a href="#page-29">29</a>
   <a href="#section-11">11</a>. Implementation Cost . . . . . . . . . . . . . . . . . . . . .  <a href="#page-30">30</a>
     <a href="#section-11.1">11.1</a>.  Motivation . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-30">30</a>
     <a href="#section-11.2">11.2</a>.  Recommended Discussion . . . . . . . . . . . . . . . . .  <a href="#page-30">30</a>
   <a href="#section-12">12</a>. Operator Control and Auto-Tuning  . . . . . . . . . . . . . .  <a href="#page-30">30</a>
     <a href="#section-12.1">12.1</a>.  Motivation . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-30">30</a>
     <a href="#section-12.2">12.2</a>.  Recommended Discussion . . . . . . . . . . . . . . . . .  <a href="#page-31">31</a>
   <a href="#section-13">13</a>. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-31">31</a>
   <a href="#section-14">14</a>. Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
   <a href="#section-15">15</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
     <a href="#section-15.1">15.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-32">32</a>
     <a href="#section-15.2">15.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-33">33</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-36">36</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-37">37</a>










<span class="grey">Kuhn, et al.                  Informational                     [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

   Active Queue Management (AQM) addresses the concerns arising from
   using unnecessarily large and unmanaged buffers to improve network
   and application performance, such as those presented in <a href="#section-1.2">Section 1.2</a>
   of the AQM recommendations document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].  Several AQM
   algorithms have been proposed in the past years, most notably Random
   Early Detection (RED) [<a href="#ref-FLOY1993" title="&quot;Random Early Detection (RED) Gateways for Congestion Avoidance&quot;">FLOY1993</a>], BLUE [<a href="#ref-FENG2002" title="&quot;The BLUE active queue management algorithms&quot;">FENG2002</a>], Proportional
   Integral controller (PI) [<a href="#ref-HOLLO2001">HOLLO2001</a>], and more recently, Controlled
   Delay (CoDel) [<a href="#ref-CODEL" title="&quot;Controlled Delay Active Queue Management&quot;">CODEL</a>] and Proportional Integral controller Enhanced
   (PIE) [<a href="#ref-AQMPIE" title="&quot;PIE: A Lightweight Control Scheme To Address the Bufferbloat Problem&quot;">AQMPIE</a>].  In general, these algorithms actively interact with
   the Transmission Control Protocol (TCP) and any other transport
   protocol that deploys a congestion control scheme to manage the
   amount of data they keep in the network.  The available buffer space
   in the routers and switches should be large enough to accommodate the
   short-term buffering requirements.  AQM schemes aim at reducing
   buffer occupancy, and therefore the end-to-end delay.  Some of these
   algorithms, notably RED, have also been widely implemented in some
   network devices.  However, the potential benefits of the RED scheme
   have not been realized since RED is reported to be usually turned
   off.

   A buffer is a physical volume of memory in which a queue or set of
   queues are stored.  When speaking of a specific queue in this
   document, "buffer occupancy" refers to the amount of data (measured
   in bytes or packets) that are in the queue, and the "maximum buffer
   size" refers to the maximum buffer occupancy.  In switches and
   routers, a global memory space is often shared between the available
   interfaces, and thus, the maximum buffer size for any given interface
   may vary over time.

   Bufferbloat [<a href="#ref-BB2011" title="&quot;BufferBloat: what's wrong with the internet?&quot;">BB2011</a>] is the consequence of deploying large, unmanaged
   buffers on the Internet -- the buffering has often been measured to
   be ten times or a hundred times larger than needed.  Large buffer
   sizes in combination with TCP and/or unresponsive flows increases
   end-to-end delay.  This results in poor performance for latency-
   sensitive applications such as real-time multimedia (e.g., voice,
   video, gaming, etc.).  The degree to which this affects modern
   networking equipment, especially consumer-grade equipment, produces
   problems even with commonly used web services.  Active queue
   management is thus essential to control queuing delay and decrease
   network latency.

   The Active Queue Management and Packet Scheduling Working Group (AQM
   WG) was chartered to address the problems with large unmanaged
   buffers in the Internet.  Specifically, the AQM WG is tasked with
   standardizing AQM schemes that not only address concerns with such
   buffers, but are also robust under a wide variety of operating



<span class="grey">Kuhn, et al.                  Informational                     [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   conditions.  This document provides characterization guidelines that
   can be used to assess the applicability, performance, and
   deployability of an AQM, whether it is a candidate for
   standardization at IETF or not.

   The AQM algorithm implemented in a router can be separated from the
   scheduling of packets sent out by the router as discussed in the AQM
   recommendations document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].  The rest of this memo refers to
   the AQM as a dropping/marking policy as a separate feature to any
   interface-scheduling scheme.  This document may be complemented with
   another one on guidelines for assessing the combination of packet
   scheduling and AQM.  We note that such a document will inherit all
   the guidelines from this document, plus any additional scenarios
   relevant for packet scheduling such as flow-starvation evaluation or
   the impact of the number of hash buckets.

<span class="h3"><a class="selflink" name="section-1.1" href="#section-1.1">1.1</a>.  Reducing the Latency and Maximizing the Goodput</span>

   The trade-off between reducing the latency and maximizing the goodput
   is intrinsically linked to each AQM scheme and is key to evaluating
   its performance.  To ensure the safety deployment of an AQM, its
   behavior should be assessed in a variety of scenarios.  Whenever
   possible, solutions ought to aim at both maximizing goodput and
   minimizing latency.

<span class="h3"><a class="selflink" name="section-1.2" href="#section-1.2">1.2</a>.  Goals of This Document</span>

   This document recommends a generic list of scenarios against which an
   AQM proposal should be evaluated, considering both potential
   performance gain and safety of deployment.  The guidelines help to
   quantify performance of AQM schemes in terms of latency reduction,
   goodput maximization, and the trade-off between these two.  The
   document presents central aspects of an AQM algorithm that should be
   considered, whatever the context, such as burst absorption capacity,
   RTT fairness, or resilience to fluctuating network conditions.  The
   guidelines also discuss methods to understand the various aspects
   associated with safely deploying and operating the AQM scheme.  Thus,
   one of the key objectives behind formulating the guidelines is to
   help ascertain whether a specific AQM is not only better than drop-
   tail (i.e., without AQM and with a BDP-sized buffer), but also safe
   to deploy: the guidelines can be used to compare several AQM
   proposals with each other, but should be used to compare a proposal
   with drop-tail.

   This memo details generic characterization scenarios against which
   any AQM proposal should be evaluated, irrespective of whether or not
   an AQM is standardized by the IETF.  This document recommends the
   relevant scenarios and metrics to be considered.  This document



<span class="grey">Kuhn, et al.                  Informational                     [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   presents central aspects of an AQM algorithm that should be
   considered whatever the context, such as burst absorption capacity,
   RTT fairness, or resilience to fluctuating network conditions.

   These guidelines do not define and are not bound to a particular
   deployment scenario or evaluation toolset.  Instead, the guidelines
   can be used to assert the potential gain of introducing an AQM for
   the particular environment, which is of interest to the testers.
   These guidelines do not cover every possible aspect of a particular
   algorithm.  These guidelines do not present context-dependent
   scenarios (such as IEEE 802.11 WLANs, data centers, or rural
   broadband networks).  To keep the guidelines generic, a number of
   potential router components and algorithms (such as Diffserv) are
   omitted.

   The goals of this document can thus be summarized as follows:

   o  The present characterization guidelines provide a non-exhaustive
      list of scenarios to help ascertain whether an AQM is not only
      better than drop-tail (with a BDP-sized buffer), but also safe to
      deploy; the guidelines can also be used to compare several AQM
      proposals with each other.

   o  The present characterization guidelines (1) are not bound to a
      particular evaluation toolset and (2) can be used for various
      deployment contexts; testers are free to select a toolset that is
      best suited for the environment in which their proposal will be
      deployed.

   o  The present characterization guidelines are intended to provide
      guidance for better selecting an AQM for a specific environment;
      it is not required that an AQM proposal is evaluated following
      these guidelines for its standardization.

<span class="h3"><a class="selflink" name="section-1.3" href="#section-1.3">1.3</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].












<span class="grey">Kuhn, et al.                  Informational                     [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-1.4" href="#section-1.4">1.4</a>.  Glossary</span>

   o  Application-limited traffic: A type of traffic that does not have
      an unlimited amount of data to transmit.

   o  AQM: The Active Queue Management (AQM) algorithm implemented in a
      router can be separated from the scheduling of packets sent by the
      router.  The rest of this memo refers to the AQM as a dropping/
      marking policy as a separate feature to any interface scheduling
      scheme [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].

   o  BDP: Bandwidth Delay Product.

   o  Buffer: A physical volume of memory in which a queue or set of
      queues are stored.

   o  Buffer Occupancy: The amount of data stored in a buffer, measured
      in bytes or packets.

   o  Buffer Size: The maximum buffer occupancy, that is the maximum
      amount of data that may be stored in a buffer, measured in bytes
      or packets.

   o  Initial Window 10 (IW10): TCP initial congestion window set to 10
      packets.

   o  Latency: One-way delay of packets across Internet paths.  This
      definition suits transport layer definition of the latency, which
      should not be confused with an application-layer view of the
      latency.

   o  Goodput: Goodput is defined as the number of bits per unit of time
      forwarded to the correct destination, minus any bits lost or
      retransmitted [<a href="rfc2647.html" title="&quot;Benchmarking Terminology for Firewall Performance&quot;">RFC2647</a>].  The goodput should be determined for
      each flow and not for aggregates of flows.

   o  SQRT: The square root function.

   o  ROUND: The round function.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.  End-to-End Metrics</span>

   End-to-end delay is the result of propagation delay, serialization
   delay, service delay in a switch, medium-access delay, and queuing
   delay, summed over the network elements along the path.  AQM schemes
   may reduce the queuing delay by providing signals to the sender on
   the emergence of congestion, but any impact on the goodput must be
   carefully considered.  This section presents the metrics that could



<span class="grey">Kuhn, et al.                  Informational                     [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   be used to better quantify (1) the reduction of latency, (2)
   maximization of goodput, and (3) the trade-off between these two.
   This section provides normative requirements for metrics that can be
   used to assess the performance of an AQM scheme.

   Some metrics listed in this section are not suited to every type of
   traffic detailed in the rest of this document.  It is therefore not
   necessary to measure all of the following metrics: the chosen metric
   may not be relevant to the context of the evaluation scenario (e.g.,
   latency vs. goodput trade-off in application-limited traffic
   scenarios).  Guidance is provided for each metric.

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a>.  Flow Completion Time</span>

   The flow completion time is an important performance metric for the
   end-user when the flow size is finite.  The definition of the flow
   size may be a source of contradictions, thus, this metric can
   consider a flow as a single file.  Considering the fact that an AQM
   scheme may drop/mark packets, the flow completion time is directly
   linked to the dropping/marking policy of the AQM scheme.  This metric
   helps to better assess the performance of an AQM depending on the
   flow size.  The Flow Completion Time (FCT) is related to the flow
   size (Fs) and the goodput for the flow (G) as follows:

   FCT [s] = Fs [byte] / ( G [bit/s] / 8 [bit/byte] )

   Where flow size is the size of the transport-layer payload in bits
   and goodput is the transport-layer payload transfer time (described
   in <a href="#section-2.5">Section 2.5</a>).

   If this metric is used to evaluate the performance of web transfers,
   it is suggested to rather consider the time needed to download all
   the objects that compose the web page, as this makes more sense in
   terms of user experience, rather than assessing the time needed to
   download each object.

<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a>.  Flow Startup Time</span>

   The flow startup time is the time between when the request was sent
   from the client and when the server starts to transmit data.  The
   amount of packets dropped by an AQM may seriously affect the waiting
   period during which the data transfer has not started.  This metric
   would specifically focus on the operations such as DNS lookups, TCP
   opens, and Secure Socket Layer (SSL) handshakes.







<span class="grey">Kuhn, et al.                  Informational                     [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a>.  Packet Loss</span>

   Packet loss can occur en route, this can impact the end-to-end
   performance measured at the receiver end.

   The tester should evaluate the loss experienced at the receiver end
   using one of two metrics:

   o  The packet loss ratio: This metric is to be frequently measured
      during the experiment.  The long-term loss ratio is of interest
      for steady-state scenarios only;

   o  The interval between consecutive losses: The time between two
      losses is to be measured.

   The packet loss ratio can be assessed by simply evaluating the loss
   ratio as a function of the number of lost packets and the total
   number of packets sent.  This might not be easily done in laboratory
   testing, for which these guidelines advise the tester:

   o  To check that for every packet, a corresponding packet was
      received within a reasonable time, as presented in the document
      that proposes a metric for one-way packet loss across Internet
      paths [<a href="rfc7680.html" title="&quot;A One-Way Loss Metric for IP Performance Metrics (IPPM)&quot;">RFC7680</a>].

   o  To keep a count of all packets sent, and a count of the non-
      duplicate packets received, as discussed in [<a href="rfc2544.html" title="&quot;Benchmarking Methodology for Network Interconnect Devices&quot;">RFC2544</a>], which
      presents a benchmarking methodology.

   The interval between consecutive losses, which is also called a
   "gap", is a metric of interest for Voice over IP (VoIP) traffic
   [<a href="rfc3611.html" title="&quot;RTP Control Protocol Extended Reports (RTCP XR)&quot;">RFC3611</a>].

<span class="h3"><a class="selflink" name="section-2.4" href="#section-2.4">2.4</a>.  Packet Loss Synchronization</span>

   One goal of an AQM algorithm is to help to avoid global
   synchronization of flows sharing a bottleneck buffer on which the AQM
   operates ([<a href="rfc2309.html" title="&quot;Recommendations on Queue Management and Congestion Avoidance in the Internet&quot;">RFC2309</a>] and [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>]).  The "degree" of packet-loss
   synchronization between flows should be assessed, with and without
   the AQM under consideration.

   Loss synchronization among flows may be quantified by several
   slightly different metrics that capture different aspects of the same
   issue [<a href="#ref-HASS2008" title="&quot;Loss Synchronization and Router Buffer Sizing with High-Speed Versions of TCP&quot;">HASS2008</a>].  However, in real-world measurements the choice of
   metric could be imposed by practical considerations -- e.g., whether
   fine-grained information on packet losses at the bottleneck is
   available or not.  For the purpose of AQM characterization, a good
   candidate metric is the global synchronization ratio, measuring the



<span class="grey">Kuhn, et al.                  Informational                     [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   proportion of flows losing packets during a loss event.  This metric
   can be used in real-world experiments to characterize synchronization
   along arbitrary Internet paths [<a href="#ref-JAY2006" title="&quot;A preliminary analysis of loss synchronisation between concurrent TCP flows&quot;">JAY2006</a>].

   If an AQM scheme is evaluated using real-life network environments,
   it is worth pointing out that some network events, such as failed
   link restoration may cause synchronized losses between active flows,
   and thus confuse the meaning of this metric.

<span class="h3"><a class="selflink" name="section-2.5" href="#section-2.5">2.5</a>.  Goodput</span>

   The goodput has been defined as the number of bits per the unit of
   time forwarded to the correct destination interface, minus any bits
   lost or retransmitted, such as proposed in <a href="rfc2647.html#section-3.17">Section&nbsp;3.17 of [RFC2647]</a>,
   which describes the benchmarking terminology for firewall
   performances.  This definition requires that the test setup needs to
   be qualified to assure that it is not generating losses on its own.

   Measuring the end-to-end goodput provides an appreciation of how well
   an AQM scheme improves transport and application performance.  The
   measured end-to-end goodput is linked to the dropping/marking policy
   of the AQM scheme -- e.g., the fewer the number of packet drops, the
   fewer packets need retransmission, minimizing the impact of AQM on
   transport and application performance.  Additionally, an AQM scheme
   may resort to Explicit Congestion Notification (ECN) marking as an
   initial means to control delay.  Again, marking packets instead of
   dropping them reduces the number of packet retransmissions and
   increases goodput.  End-to-end goodput values help to evaluate the
   AQM scheme's effectiveness in minimizing packet drops that impact
   application performance and to estimate how well the AQM scheme works
   with ECN.

   The measurement of the goodput allows the tester to evaluate to what
   extent an AQM is able to maintain a high bottleneck utilization.
   This metric should also be obtained frequently during an experiment,
   as the long-term goodput is relevant for steady-state scenarios only
   and may not necessarily reflect how the introduction of an AQM
   actually impacts the link utilization during a certain period of
   time.  Fluctuations in the values obtained from these measurements
   may depend on other factors than the introduction of an AQM, such as
   link-layer losses due to external noise or corruption, fluctuating
   bandwidths (IEEE 802.11 WLANs), heavy congestion levels, or the
   transport layer's rate reduction by the congestion control mechanism.








<span class="grey">Kuhn, et al.                  Informational                    [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-2.6" href="#section-2.6">2.6</a>.  Latency and Jitter</span>

   The latency, or the one-way delay metric, is discussed in [<a href="rfc7679.html" title="&quot;A One-Way Delay Metric for IP Performance Metrics (IPPM)&quot;">RFC7679</a>].
   There is a consensus on an adequate metric for the jitter that
   represents the one-way delay variations for packets from the same
   flow: the Packet Delay Variation (PDV) serves well in all use cases
   [<a href="rfc5481.html" title="&quot;Packet Delay Variation Applicability Statement&quot;">RFC5481</a>].

   The end-to-end latency includes components other than just the
   queuing delay, such as the signal-processing delay, transmission
   delay, and processing delay.  Moreover, the jitter is caused by
   variations in queuing and processing delay (e.g., scheduling
   effects).  The introduction of an AQM scheme would impact end-to-end
   latency and jitter, and therefore these metrics should be considered
   in the end-to-end evaluation of performance.

<span class="h3"><a class="selflink" name="section-2.7" href="#section-2.7">2.7</a>.  Discussion on the Trade-Off between Latency and Goodput</span>

   The metrics presented in this section may be considered in order to
   discuss and quantify the trade-off between latency and goodput.

   With regards to the goodput, and in addition to the long-term
   stationary goodput value, it is recommended to take measurements at
   every multiple of the minimum RTT (minRTT) between A and B.  It is
   suggested to take measurements at least every K * minRTT (to smooth
   out the fluctuations), with K=10.  Higher values for K can be
   considered whenever it is more appropriate for the presentation of
   the results, since the value for K may depend on the network's path
   characteristics.  The measurement period must be disclosed for each
   experiment, and when results/values are compared across different AQM
   schemes, the comparisons should use exactly the same measurement
   periods.  With regards to latency, it is recommended to take the
   samples on a per-packet basis whenever possible, depending on the
   features provided by the hardware and software and the impact of
   sampling itself on the hardware performance.

   From each of these sets of measurements, the cumulative density
   function (CDF) of the considered metrics should be computed.  If the
   considered scenario introduces dynamically varying parameters,
   temporal evolution of the metrics could also be generated.  For each
   scenario, the following graph may be generated: the x-axis shows a
   queuing delay (that is, the average per-packet delay in excess of
   minimum RTT), the y-axis the goodput.  Ellipses are computed as
   detailed in [<a href="#ref-WINS2014" title="&quot;Transport Architectures for an Evolving Internet&quot;">WINS2014</a>]: "We take each individual [...] run [...] as
   one point, and then compute the 1-epsilon elliptic contour of the
   maximum-likelihood 2D Gaussian distribution that explains the points.
   [...] we plot the median per-sender throughput and queueing delay as
   a circle. [...] The orientation of an ellipse represents the



<span class="grey">Kuhn, et al.                  Informational                    [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   covariance between the throughput and delay measured for the
   protocol."  This graph provides part of a better understanding of (1)
   the delay/goodput trade-off for a given congestion control mechanism
   (<a href="#section-5">Section 5</a>), and (2) how the goodput and average queue delay vary as
   a function of the traffic load (<a href="#section-8.2">Section 8.2</a>).

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  Generic Setup for Evaluations</span>

   This section presents the topology that can be used for each of the
   following scenarios, the corresponding notations, and discusses
   various assumptions that have been made in the document.

<span class="h3"><a class="selflink" name="section-3.1" href="#section-3.1">3.1</a>.  Topology and Notations</span>

   +--------------+                                +--------------+
   |sender A_i    |                                |receive B_i   |
   |--------------|                                |--------------|
   | SEN.Flow1.1 +---------+            +-----------+ REC.Flow1.1 |
   |        +     |        |            |          |        +     |
   |        |     |        |            |          |        |     |
   |        +     |        |            |          |        +     |
   | SEN.Flow1.X +-----+   |            |  +--------+ REC.Flow1.X |
   +--------------+    |   |            |  |       +--------------+
        +            +-+---+---+     +--+--+---+            +
        |            |Router L |     |Router R |            |
        |            |---------|     |---------|            |
        |            | AQM     |     |         |            |
        |            | BuffSize|     | BuffSize|            |
        |            | (Bsize) +-----+ (Bsize) |            |
        |            +-----+--++     ++-+------+            |
        +                  |  |       | |                   +
   +--------------+        |  |       | |          +--------------+
   |sender A_n    |        |  |       | |          |receive B_n   |
   |--------------|        |  |       | |          |--------------|
   | SEN.FlowN.1 +---------+  |       | +-----------+ REC.FlowN.1 |
   |        +     |           |       |            |        +     |
   |        |     |           |       |            |        |     |
   |        +     |           |       |            |        +     |
   | SEN.FlowN.Y +------------+       +-------------+ REC.FlowN.Y |
   +--------------+                                +--------------+

                     Figure 1: Topology and Notations









<span class="grey">Kuhn, et al.                  Informational                    [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   Figure 1 is a generic topology where:

   o  The traffic profile is a set of flows with similar characteristics
      -- RTT, congestion control scheme, transport protocol, etc.;

   o  Senders with different traffic characteristics (i.e., traffic
      profiles) can be introduced;

   o  The timing of each flow could be different (i.e., when does each
      flow start and stop?);

   o  Each traffic profile can comprise various number of flows;

   o  Each link is characterized by a couple (one-way delay, capacity);

   o  Sender A_i is instantiated for each traffic profile.  A
      corresponding receiver B_i is instantiated for receiving the flows
      in the profile;

   o  Flows share a bottleneck (the link between routers L and R);

   o  The tester should consider both scenarios of asymmetric and
      symmetric bottleneck links in terms of bandwidth.  In the case of
      an asymmetric link, the capacity from senders to receivers is
      higher than the one from receivers to senders; the symmetric link
      scenario provides a basic understanding of the operation of the
      AQM mechanism, whereas the asymmetric link scenario evaluates an
      AQM mechanism in a more realistic setup;

   o  In asymmetric link scenarios, the tester should study the
      bidirectional traffic between A and B (downlink and uplink) with
      the AQM mechanism deployed in one direction only.  The tester may
      additionally consider a scenario with the AQM mechanism being
      deployed in both directions.  In each scenario, the tester should
      investigate the impact of the drop policy of the AQM on TCP ACK
      packets and its impact on the performance (<a href="#section-9.2">Section 9.2</a>).

   Although this topology may not perfectly reflect actual topologies,
   the simple topology is commonly used in the world of simulations and
   small testbeds.  It can be considered as adequate to evaluate AQM
   proposals [<a href="#ref-TCPEVAL" title="&quot;Common TCP Evaluation Suite&quot;">TCPEVAL</a>].  Testers ought to pay attention to the topology
   used to evaluate an AQM scheme when comparing it with a newly
   proposed AQM scheme.








<span class="grey">Kuhn, et al.                  Informational                    [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-3.2" href="#section-3.2">3.2</a>.  Buffer Size</span>

   The size of the buffers should be carefully chosen, and may be set to
   the bandwidth-delay product; the bandwidth being the bottleneck
   capacity and the delay being the largest RTT in the considered
   network.  The size of the buffer can impact the AQM performance and
   is a dimensioning parameter that will be considered when comparing
   AQM proposals.

   If a specific buffer size is required, the tester must justify and
   detail the way the maximum queue size is set.  Indeed, the maximum
   size of the buffer may affect the AQM's performance and its choice
   should be elaborated for a fair comparison between AQM proposals.
   While comparing AQM schemes, the buffer size should remain the same
   across the tests.

<span class="h3"><a class="selflink" name="section-3.3" href="#section-3.3">3.3</a>.  Congestion Controls</span>

   This document considers running three different congestion control
   algorithms between A and B:

   o  Standard TCP congestion control: The base-line congestion control
      is TCP NewReno with selective acknowledgment (SACK) [<a href="rfc5681.html" title="&quot;TCP Congestion Control&quot;">RFC5681</a>].

   o  Aggressive congestion controls: A base-line congestion control for
      this category is CUBIC [<a href="#ref-CUBIC" title="&quot;CUBIC for Fast Long-Distance Networks&quot;">CUBIC</a>].

   o  Less-than-Best-Effort (LBE) congestion controls: Per [<a href="rfc6297.html" title="&quot;A Survey of Lower-than-Best-Effort Transport Protocols&quot;">RFC6297</a>], an
      LBE service "results in smaller bandwidth and/or delay impact on
      standard TCP than standard TCP itself, when sharing a bottleneck
      with it."  A base-line congestion control for this category is Low
      Extra Delay Background Transport (LEDBAT) [<a href="rfc6817.html" title="&quot;Low Extra Delay Background Transport (LEDBAT)&quot;">RFC6817</a>].

   Other transport congestion controls can OPTIONALLY be evaluated in
   addition.  Recent transport layer protocols are not mentioned in the
   following sections, for the sake of simplicity.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  Methodology, Metrics, AQM Comparisons, Packet Sizes, Scheduling, and</span>
<span class="h2">    ECN</span>

<span class="h3"><a class="selflink" name="section-4.1" href="#section-4.1">4.1</a>.  Methodology</span>

   A description of each test setup should be detailed to allow this
   test to be compared with other tests.  This also allows others to
   replicate the tests if needed.  This test setup should detail
   software and hardware versions.  The tester could make its data
   available.




<span class="grey">Kuhn, et al.                  Informational                    [Page 14]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   The proposals should be evaluated on real-life systems, or they may
   be evaluated with event-driven simulations (such as ns-2, ns-3,
   OMNET, etc.).  The proposed scenarios are not bound to a particular
   evaluation toolset.

   The tester is encouraged to make the detailed test setup and the
   results publicly available.

<span class="h3"><a class="selflink" name="section-4.2" href="#section-4.2">4.2</a>.  Comments on Metrics Measurement</span>

   This document presents the end-to-end metrics that ought to be used
   to evaluate the trade-off between latency and goodput as described in
   <a href="#section-2">Section 2</a>.  In addition to the end-to-end metrics, the queue-level
   metrics (normally collected at the device operating the AQM) provide
   a better understanding of the AQM behavior under study and the impact
   of its internal parameters.  Whenever it is possible (e.g., depending
   on the features provided by the hardware/software), these guidelines
   advise considering queue-level metrics, such as link utilization,
   queuing delay, queue size, or packet drop/mark statistics in addition
   to the AQM-specific parameters.  However, the evaluation must be
   primarily based on externally observed end-to-end metrics.

   These guidelines do not aim to detail the way these metrics can be
   measured, since that is expected to depend on the evaluation toolset.

<span class="h3"><a class="selflink" name="section-4.3" href="#section-4.3">4.3</a>.  Comparing AQM Schemes</span>

   This document recognizes that these guidelines may be used for
   comparing AQM schemes.

   AQM schemes need to be compared against both performance and
   deployment categories.  In addition, this section details how best to
   achieve a fair comparison of AQM schemes by avoiding certain
   pitfalls.

<span class="h4"><a class="selflink" name="section-4.3.1" href="#section-4.3.1">4.3.1</a>.  Performance Comparison</span>

   AQM schemes should be compared against the generic scenarios that are
   summarized in <a href="#section-13">Section 13</a>.  AQM schemes may be compared for specific
   network environments such as data centers, home networks, etc.  If an
   AQM scheme has parameter(s) that were externally tuned for
   optimization or other purposes, these values must be disclosed.

   AQM schemes belong to different varieties such as queue-length based
   schemes (for example, RED) or queuing-delay based scheme (for
   example, CoDel, PIE).  AQM schemes expose different control knobs
   associated with different semantics.  For example, while both PIE and
   CoDel are queuing-delay based schemes and each expose a knob to



<span class="grey">Kuhn, et al.                  Informational                    [Page 15]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-16" id="page-16" href="#page-16" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   control the queuing delay -- PIE's "queuing delay reference" vs.
   CoDel's "queuing delay target", the two tuning parameters of the two
   schemes have different semantics, resulting in different control
   points.  Such differences in AQM schemes can be easily overlooked
   while making comparisons.

   This document recommends the following procedures for a fair
   performance comparison between the AQM schemes:

   1.  Similar control parameters and implications: Testers should be
       aware of the control parameters of the different schemes that
       control similar behavior.  Testers should also be aware of the
       input value ranges and corresponding implications.  For example,
       consider two different schemes -- (A) queue-length based AQM
       scheme, and (B) queuing-delay based scheme.  A and B are likely
       to have different kinds of control inputs to control the target
       delay -- the target queue length in A vs. target queuing delay in
       B, for example.  Setting parameter values such as 100 MB for A
       vs. 10 ms for B will have different implications depending on
       evaluation context.  Such context-dependent implications must be
       considered before drawing conclusions on performance comparisons.
       Also, it would be preferable if an AQM proposal listed such
       parameters and discussed how each relates to network
       characteristics such as capacity, average RTT, etc.

   2.  Compare over a range of input configurations: There could be
       situations when the set of control parameters that affect a
       specific behavior have different semantics between the two AQM
       schemes.  As mentioned above, PIE has tuning parameters to
       control queue delay that have different semantics from those used
       in CoDel.  In such situations, these schemes need to be compared
       over a range of input configurations.  For example, compare PIE
       vs. CoDel over the range of target delay input configurations.

<span class="h4"><a class="selflink" name="section-4.3.2" href="#section-4.3.2">4.3.2</a>.  Deployment Comparison</span>

   AQM schemes must be compared against deployment criteria such as the
   parameter sensitivity (<a href="#section-8.3">Section 8.3</a>), auto-tuning (<a href="#section-12">Section 12</a>), or
   implementation cost (<a href="#section-11">Section 11</a>).

<span class="h3"><a class="selflink" name="section-4.4" href="#section-4.4">4.4</a>.  Packet Sizes and Congestion Notification</span>

   An AQM scheme may be considering packet sizes while generating
   congestion signals [<a href="rfc7141.html" title="&quot;Byte and Packet Congestion Notification&quot;">RFC7141</a>].  For example, control packets such as
   DNS requests/responses, TCP SYNs/ACKs are small, but their loss can
   severely impact application performance.  An AQM scheme may therefore
   be biased towards small packets by dropping them with lower
   probability compared to larger packets.  However, such an AQM scheme



<span class="grey">Kuhn, et al.                  Informational                    [Page 16]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-17" id="page-17" href="#page-17" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   is unfair to data senders generating larger packets.  Data senders,
   malicious or otherwise, are motivated to take advantage of such an
   AQM scheme by transmitting smaller packets, and this could result in
   unsafe deployments and unhealthy transport and/or application
   designs.

   An AQM scheme should adhere to the recommendations outlined in the
   Best Current Practice for dropping and marking packets [<a href="#ref-BCP41" title="&quot;Congestion Control Principles&quot;">BCP41</a>], and
   should not provide undue advantage to flows with smaller packets,
   such as discussed in <a href="#section-4.4">Section 4.4</a> of the AQM recommendation document
   [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].  In order to evaluate if an AQM scheme is biased towards
   flows with smaller size packets, traffic can be generated, as defined
   in <a href="#section-8.2.2">Section 8.2.2</a>, where half of the flows have smaller packets (e.g.,
   500-byte packets) than the other half of the flow (e.g., 1500-byte
   packets).  In this case, the metrics reported could be the same as in
   <a href="#section-6.3">Section 6.3</a>, where Category I is the set of flows with smaller
   packets and Category II the one with larger packets.  The
   bidirectional scenario could also be considered (<a href="#section-9.2">Section 9.2</a>).

<span class="h3"><a class="selflink" name="section-4.5" href="#section-4.5">4.5</a>.  Interaction with ECN</span>

   ECN [<a href="rfc3168.html" title="&quot;The Addition of Explicit Congestion Notification (ECN) to IP&quot;">RFC3168</a>] is an alternative that allows AQM schemes to signal to
   receivers about network congestion that does not use packet drops.
   There are benefits to providing ECN support for an AQM scheme
   [<a href="#ref-WELZ2015" title="&quot;The Benefits to Applications of using Explicit Congestion Notification (ECN)&quot;">WELZ2015</a>].

   If the tested AQM scheme can support ECN, the testers must discuss
   and describe the support of ECN, such as discussed in the AQM
   recommendation document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].  Also, the AQM's ECN support can
   be studied and verified by replicating tests in <a href="#section-6.2">Section 6.2</a> with ECN
   turned ON at the TCP senders.  The results can be used not only to
   evaluate the performance of the tested AQM with and without ECN
   markings, but also to quantify the interest of enabling ECN.

<span class="h3"><a class="selflink" name="section-4.6" href="#section-4.6">4.6</a>.  Interaction with Scheduling</span>

   A network device may use per-flow or per-class queuing with a
   scheduling algorithm to either prioritize certain applications or
   classes of traffic, limit the rate of transmission, or to provide
   isolation between different traffic flows within a common class, such
   as discussed in <a href="#section-2.1">Section 2.1</a> of the AQM recommendation document
   [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].

   The scheduling and the AQM conjointly impact the end-to-end
   performance.  Therefore, the AQM proposal must discuss the
   feasibility of adding scheduling combined with the AQM algorithm.  It
   can be explained whether the dropping policy is applied when packets
   are being enqueued or dequeued.



<span class="grey">Kuhn, et al.                  Informational                    [Page 17]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-18" id="page-18" href="#page-18" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   These guidelines do not propose guidelines to assess the performance
   of scheduling algorithms.  Indeed, as opposed to characterizing AQM
   schemes that is related to their capacity to control the queuing
   delay in a queue, characterizing scheduling schemes is related to the
   scheduling itself and its interaction with the AQM scheme.  As one
   example, the scheduler may create sub-queues and the AQM scheme may
   be applied on each of the sub-queues, and/or the AQM could be applied
   on the whole queue.  Also, schedulers might, such as FQ-CoDel
   [<a href="#ref-HOEI2015" title="&quot;The FlowQueue-CoDel Packet Scheduler and Active Queue Management Algorithm&quot;">HOEI2015</a>] or FavorQueue [<a href="#ref-ANEL2014" title="&quot;FavorQueue: a Parameterless Active Queue Management to Improve TCP Traffic Performance&quot;">ANEL2014</a>], introduce flow prioritization.
   In these cases, specific scenarios should be proposed to ascertain
   that these scheduler schemes not only help in tackling the
   bufferbloat, but also are robust under a wide variety of operating
   conditions.  This is out of the scope of this document, which focuses
   on dropping and/or marking AQM schemes.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Transport Protocols</span>

   Network and end-devices need to be configured with a reasonable
   amount of buffer space to absorb transient bursts.  In some
   situations, network providers tend to configure devices with large
   buffers to avoid packet drops triggered by a full buffer and to
   maximize the link utilization for standard loss-based TCP traffic.

   AQM algorithms are often evaluated by considering the Transmission
   Control Protocol (TCP) [<a href="rfc793.html" title="&quot;Transmission Control Protocol&quot;">RFC793</a>] with a limited number of
   applications.  TCP is a widely deployed transport.  It fills up
   available buffers until a sender transferring a bulk flow with TCP
   receives a signal (packet drop) that reduces the sending rate.  The
   larger the buffer, the higher the buffer occupancy, and therefore the
   queuing delay.  An efficient AQM scheme sends out early congestion
   signals to TCP to bring the queuing delay under control.

   Not all endpoints (or applications) using TCP use the same flavor of
   TCP.  A variety of senders generate different classes of traffic,
   which may not react to congestion signals (aka non-responsive flows
   in <a href="#section-3">Section 3</a> of the AQM recommendation document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>]) or may not
   reduce their sending rate as expected (aka Transport Flows that are
   less responsive than TCP, such as proposed in <a href="#section-3">Section 3</a> of the AQM
   recommendation document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>], also called "aggressive flows").
   In these cases, AQM schemes seek to control the queuing delay.

   This section provides guidelines to assess the performance of an AQM
   proposal for various traffic profiles -- different types of senders
   (with different TCP congestion control variants, unresponsive, and
   aggressive).






<span class="grey">Kuhn, et al.                  Informational                    [Page 18]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-19" id="page-19" href="#page-19" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-5.1" href="#section-5.1">5.1</a>.  TCP-Friendly Sender</span>

<span class="h4"><a class="selflink" name="section-5.1.1" href="#section-5.1.1">5.1.1</a>.  TCP-Friendly Sender with the Same Initial Congestion Window</span>

   This scenario helps to evaluate how an AQM scheme reacts to a TCP-
   friendly transport sender.  A single, long-lived, non-application-
   limited, TCP NewReno flow, with an Initial congestion Window (IW) set
   to 3 packets, transfers data between sender A and receiver B.  Other
   TCP-friendly congestion control schemes such as TCP-Friendly Rate
   Control [<a href="rfc5348.html" title="&quot;TCP Friendly Rate Control (TFRC): Protocol Specification&quot;">RFC5348</a>], etc., may also be considered.

   For each TCP-friendly transport considered, the graph described in
   <a href="#section-2.7">Section 2.7</a> could be generated.

<span class="h4"><a class="selflink" name="section-5.1.2" href="#section-5.1.2">5.1.2</a>.  TCP-Friendly Sender with Different Initial Congestion Windows</span>

   This scenario can be used to evaluate how an AQM scheme adapts to a
   traffic mix consisting of TCP flows with different values of the IW.

   For this scenario, two types of flows must be generated between
   sender A and receiver B:

   o  A single, long-lived non-application-limited TCP NewReno flow;

   o  A single, application-limited TCP NewReno flow, with an IW set to
      3 or 10 packets.  The size of the data transferred must be
      strictly higher than 10 packets and should be lower than 100
      packets.

   The transmission of the non-application-limited flow must start first
   and the transmission of the application-limited flow starts after the
   non-application-limited flow has reached steady state.  The steady
   state can be assumed when the goodput is stable.

   For each of these scenarios, the graph described in <a href="#section-2.7">Section 2.7</a> could
   be generated for each class of traffic (application-limited and non-
   application-limited).  The completion time of the application-limited
   TCP flow could be measured.

<span class="h3"><a class="selflink" name="section-5.2" href="#section-5.2">5.2</a>.  Aggressive Transport Sender</span>

   This scenario helps testers to evaluate how an AQM scheme reacts to a
   transport sender that is more aggressive than a single TCP-friendly
   sender.  We define 'aggressiveness' as a higher-than-standard
   increase factor upon a successful transmission and/or a lower-than-
   standard decrease factor upon a unsuccessful transmission (e.g., in
   case of congestion controls with the Additive Increase Multiplicative
   Decrease (AIMD) principle, a larger AI and/or MD factors).  A single



<span class="grey">Kuhn, et al.                  Informational                    [Page 19]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-20" id="page-20" href="#page-20" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   long-lived, non-application-limited, CUBIC flow transfers data
   between sender A and receiver B.  Other aggressive congestion control
   schemes may also be considered.

   For each flavor of aggressive transports, the graph described in
   <a href="#section-2.7">Section 2.7</a> could be generated.

<span class="h3"><a class="selflink" name="section-5.3" href="#section-5.3">5.3</a>.  Unresponsive Transport Sender</span>

   This scenario helps testers evaluate how an AQM scheme reacts to a
   transport sender that is less responsive than TCP.  Note that faulty
   transport implementations on an end host and/or faulty network
   elements en route that "hide" congestion signals in packet headers
   may also lead to a similar situation, such that the AQM scheme needs
   to adapt to unresponsive traffic (see <a href="#section-3">Section 3</a> of the AQM
   recommendation document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>]).  To this end, these guidelines
   propose the two following scenarios:

   o  The first scenario can be used to evaluate queue build up.  It
      considers unresponsive flow(s) whose sending rate is greater than
      the bottleneck link capacity between routers L and R.  This
      scenario consists of a long-lived non-application-limited UDP flow
      that transmits data between sender A and receiver B.  The graph
      described in <a href="#section-2.7">Section 2.7</a> could be generated.

   o  The second scenario can be used to evaluate if the AQM scheme is
      able to keep the responsive fraction under control.  This scenario
      considers a mixture of TCP-friendly and unresponsive traffic.  It
      consists of a long-lived UDP flow from unresponsive application
      and a single long-lived, non-application-limited (unlimited data
      available to the transport sender from the application layer), TCP
      New Reno flow that transmit data between sender A and receiver B.
      As opposed to the first scenario, the rate of the UDP traffic
      should not be greater than the bottleneck capacity, and should be
      higher than half of the bottleneck capacity.  For each type of
      traffic, the graph described in <a href="#section-2.7">Section 2.7</a> could be generated.

<span class="h3"><a class="selflink" name="section-5.4" href="#section-5.4">5.4</a>.  Less-than-Best-Effort Transport Sender</span>

   This scenario helps to evaluate how an AQM scheme reacts to LBE
   congestion control that "results in smaller bandwidth and/or delay
   impact on standard TCP than standard TCP itself, when sharing a
   bottleneck with it" [<a href="rfc6297.html" title="&quot;A Survey of Lower-than-Best-Effort Transport Protocols&quot;">RFC6297</a>].  There are potential fateful
   interactions when AQM and LBE techniques are combined [<a href="#ref-GONG2014" title="&quot;Fighting the bufferbloat: on the coexistence of AQM and low priority congestion control&quot;">GONG2014</a>];
   this scenario helps to evaluate whether the coexistence of the
   proposed AQM and LBE techniques may be possible.





<span class="grey">Kuhn, et al.                  Informational                    [Page 20]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-21" id="page-21" href="#page-21" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   A single long-lived non-application-limited TCP NewReno flow
   transfers data between sender A and receiver B.  Other TCP-friendly
   congestion control schemes may also be considered.  Single long-lived
   non-application-limited LEDBAT [<a href="rfc6817.html" title="&quot;Low Extra Delay Background Transport (LEDBAT)&quot;">RFC6817</a>] flows transfer data between
   sender A and receiver B.  We recommend setting the target delay and
   gain values of LEDBAT to 5 ms and 10, respectively [<a href="#ref-TRAN2014" title="&quot;On The Existence Of Optimal LEDBAT Parameters&quot;">TRAN2014</a>].  Other
   LBE congestion control schemes may also be considered and are listed
   in the IETF survey of LBE protocols [<a href="rfc6297.html" title="&quot;A Survey of Lower-than-Best-Effort Transport Protocols&quot;">RFC6297</a>].

   For each of the TCP-friendly and LBE transports, the graph described
   in <a href="#section-2.7">Section 2.7</a> could be generated.

<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  Round-Trip Time Fairness</span>

<span class="h3"><a class="selflink" name="section-6.1" href="#section-6.1">6.1</a>.  Motivation</span>

   An AQM scheme's congestion signals (via drops or ECN marks) must
   reach the transport sender so that a responsive sender can initiate
   its congestion control mechanism and adjust the sending rate.  This
   procedure is thus dependent on the end-to-end path RTT.  When the RTT
   varies, the onset of congestion control is impacted, and in turn
   impacts the ability of an AQM scheme to control the queue.  It is
   therefore important to assess the AQM schemes for a set of RTTs
   between A and B (e.g., from 5 to 200 ms).

   The asymmetry in terms of difference in intrinsic RTT between various
   paths sharing the same bottleneck should be considered, so that the
   fairness between the flows can be discussed.  In this scenario, a
   flow traversing on a shorter RTT path may react faster to congestion
   and recover faster from it compared to another flow on a longer RTT
   path.  The introduction of AQM schemes may potentially improve the
   RTT fairness.

   Introducing an AQM scheme may cause unfairness between the flows,
   even if the RTTs are identical.  This potential unfairness should be
   investigated as well.

<span class="h3"><a class="selflink" name="section-6.2" href="#section-6.2">6.2</a>.  Recommended Tests</span>

   The recommended topology is detailed in Figure 1.

   To evaluate the RTT fairness, for each run, two flows are divided
   into two categories.  Category I whose RTT between sender A and
   receiver B should be 100 ms.  Category II, in which the RTT between
   sender A and receiver B should be in the range [5 ms, 560 ms]
   inclusive.  The maximum value for the RTT represents the RTT of a
   satellite link [<a href="rfc2488.html" title="&quot;Enhancing TCP Over Satellite Channels using Standard Mechanisms&quot;">RFC2488</a>].




<span class="grey">Kuhn, et al.                  Informational                    [Page 21]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-22" id="page-22" href="#page-22" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   A set of evaluated flows must use the same congestion control
   algorithm: all the generated flows could be single long-lived non-
   application-limited TCP NewReno flows.

<span class="h3"><a class="selflink" name="section-6.3" href="#section-6.3">6.3</a>.  Metrics to Evaluate the RTT Fairness</span>

   The outputs that must be measured are: (1) the cumulative average
   goodput of the flow from Category I, goodput_Cat_I (see <a href="#section-2.5">Section 2.5</a>
   for the estimation of the goodput); (2) the cumulative average
   goodput of the flow from Category II, goodput_Cat_II (see <a href="#section-2.5">Section 2.5</a>
   for the estimation of the goodput); (3) the ratio goodput_Cat_II/
   goodput_Cat_I; and (4) the average packet drop rate for each category
   (<a href="#section-2.3">Section 2.3</a>).

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  Burst Absorption</span>

   "AQM mechanisms might need to control the overall queue sizes to
   ensure that arriving bursts can be accommodated without dropping
   packets" [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].

<span class="h3"><a class="selflink" name="section-7.1" href="#section-7.1">7.1</a>.  Motivation</span>

   An AQM scheme can face bursts of packet arrivals due to various
   reasons.  Dropping one or more packets from a burst can result in
   performance penalties for the corresponding flows, since dropped
   packets have to be retransmitted.  Performance penalties can result
   in failing to meet Service Level Agreements (SLAs) and can be a
   disincentive to AQM adoption.

   The ability to accommodate bursts translates to larger queue length
   and hence more queuing delay.  On the one hand, it is important that
   an AQM scheme quickly brings bursty traffic under control.  On the
   other hand, a peak in the packet drop rates to bring a packet burst
   quickly under control could result in multiple drops per flow and
   severely impact transport and application performance.  Therefore, an
   AQM scheme ought to bring bursts under control by balancing both
   aspects -- (1) queuing delay spikes are minimized and (2) performance
   penalties for ongoing flows in terms of packet drops are minimized.

   An AQM scheme that maintains short queues allows some remaining space
   in the buffer for bursts of arriving packets.  The tolerance to
   bursts of packets depends upon the number of packets in the queue,
   which is directly linked to the AQM algorithm.  Moreover, an AQM
   scheme may implement a feature controlling the maximum size of
   accepted bursts that can depend on the buffer occupancy or the
   currently estimated queuing delay.  The impact of the buffer size on
   the burst allowance may be evaluated.




<span class="grey">Kuhn, et al.                  Informational                    [Page 22]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-23" id="page-23" href="#page-23" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-7.2" href="#section-7.2">7.2</a>.  Recommended Tests</span>

   For this scenario, the tester must evaluate how the AQM performs with
   a traffic mix.  The traffic mix could be composed of (from sender A
   to receiver B):

   o  Burst of packets at the beginning of a transmission, such as web
      traffic with IW10;

   o  Applications that send large bursts of data, such as bursty video
      frames;

   o  Background traffic, such as Constant Bit Rate (CBR) UDP traffic
      and/or A single non-application-limited bulk TCP flow as
      background traffic.

   Figure 2 presents the various cases for the traffic that must be
   generated between sender A and receiver B.

   +-------------------------------------------------+
   |Case| Traffic Type                               |
   |    +-----+------------+----+--------------------+
   |    |Video|Web  (IW 10)| CBR| Bulk TCP Traffic   |
   +----|-----|------------|----|--------------------|
   |I   |  0  |     1      |  1 |         0          |
   +----|-----|------------|----|--------------------|
   |II  |  0  |     1      |  1 |         1          |
   |----|-----|------------|----|--------------------|
   |III |  1  |     1      |  1 |         0          |
   +----|-----|------------|----|--------------------|
   |IV  |  1  |     1      |  1 |         1          |
   +----+-----+------------+----+--------------------+

                    Figure 2: Bursty Traffic Scenarios

   A new web page download could start after the previous web page
   download is finished.  Each web page could be composed of at least 50
   objects and the size of each object should be at least 1 KB.  Six TCP
   parallel connections should be generated to download the objects,
   each parallel connection having an initial congestion window set to
   10 packets.

   For each of these scenarios, the graph described in <a href="#section-2.7">Section 2.7</a> could
   be generated for each application.  Metrics such as end-to-end
   latency, jitter, and flow completion time may be generated.  For the
   cases of frame generation of bursty video traffic as well as the
   choice of web traffic pattern, these details and their presentation
   are left to the testers.



<span class="grey">Kuhn, et al.                  Informational                    [Page 23]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-24" id="page-24" href="#page-24" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  Stability</span>

<span class="h3"><a class="selflink" name="section-8.1" href="#section-8.1">8.1</a>.  Motivation</span>

   The safety of an AQM scheme is directly related to its stability
   under varying operating conditions such as varying traffic profiles
   and fluctuating network conditions.  Since operating conditions can
   vary often, the AQM needs to remain stable under these conditions
   without the need for additional external tuning.

   Network devices can experience varying operating conditions depending
   on factors such as time of the day, deployment scenario, etc.  For
   example:

   o  Traffic and congestion levels are higher during peak hours than
      off-peak hours.

   o  In the presence of a scheduler, the draining rate of a queue can
      vary depending on the occupancy of other queues: a low load on a
      high-priority queue implies a higher draining rate for the lower-
      priority queues.

   o  The capacity available can vary over time (e.g., a lossy channel,
      a link supporting traffic in a higher Diffserv class).

   Whether or not the target context is a stable environment, the
   ability of an AQM scheme to maintain its control over the queuing
   delay and buffer occupancy can be challenged.  This document proposes
   guidelines to assess the behavior of AQM schemes under varying
   congestion levels and varying draining rates.

<span class="h3"><a class="selflink" name="section-8.2" href="#section-8.2">8.2</a>.  Recommended Tests</span>

   Note that the traffic profiles explained below comprises non-
   application-limited TCP flows.  For each of the below scenarios, the
   graphs described in <a href="#section-2.7">Section 2.7</a> should be generated, and the goodput
   of the various flows should be cumulated.  For <a href="#section-8.2.5">Section 8.2.5</a> and
   <a href="#section-8.2.6">Section 8.2.6</a>, they should incorporate the results in a per-phase
   basis as well.

   Wherever the notion of time has been explicitly mentioned in this
   subsection, time 0 starts from the moment all TCP flows have already
   reached their congestion avoidance phase.








<span class="grey">Kuhn, et al.                  Informational                    [Page 24]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-25" id="page-25" href="#page-25" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h4"><a class="selflink" name="section-8.2.1" href="#section-8.2.1">8.2.1</a>.  Definition of the Congestion Level</span>

   In these guidelines, the congestion levels are represented by the
   projected packet drop rate, which is determined when there is no AQM
   scheme (i.e., a drop-tail queue).  When the bottleneck is shared
   among non-application-limited TCP flows, l_r (the loss rate
   projection) can be expressed as a function of N, the number of bulk
   TCP flows, and S, the sum of the bandwidth-delay product and the
   maximum buffer size, both expressed in packets, based on Eq. 3 of
   [<a href="#ref-MORR2000" title="&quot;Scalable TCP congestion control&quot;">MORR2000</a>]:

   l_r = 0.76 * N^2 / S^2

   N = S * SQRT(1/0.76) * SQRT(l_r)

   These guidelines use the loss rate to define the different congestion
   levels, but they do not stipulate that in other circumstances,
   measuring the congestion level gives you an accurate estimation of
   the loss rate or vice versa.

<span class="h4"><a class="selflink" name="section-8.2.2" href="#section-8.2.2">8.2.2</a>.  Mild Congestion</span>

   This scenario can be used to evaluate how an AQM scheme reacts to a
   light load of incoming traffic resulting in mild congestion -- packet
   drop rates around 0.1%. The number of bulk flows required to achieve
   this congestion level, N_mild, is then:

   N_mild = ROUND (0.036*S)

<span class="h4"><a class="selflink" name="section-8.2.3" href="#section-8.2.3">8.2.3</a>.  Medium Congestion</span>

   This scenario can be used to evaluate how an AQM scheme reacts to
   incoming traffic resulting in medium congestion -- packet drop rates
   around 0.5%. The number of bulk flows required to achieve this
   congestion level, N_med, is then:

   N_med = ROUND (0.081*S)

<span class="h4"><a class="selflink" name="section-8.2.4" href="#section-8.2.4">8.2.4</a>.  Heavy Congestion</span>

   This scenario can be used to evaluate how an AQM scheme reacts to
   incoming traffic resulting in heavy congestion -- packet drop rates
   around 1%. The number of bulk flows required to achieve this
   congestion level, N_heavy, is then:

   N_heavy = ROUND (0.114*S)





<span class="grey">Kuhn, et al.                  Informational                    [Page 25]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-26" id="page-26" href="#page-26" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h4"><a class="selflink" name="section-8.2.5" href="#section-8.2.5">8.2.5</a>.  Varying the Congestion Level</span>

   This scenario can be used to evaluate how an AQM scheme reacts to
   incoming traffic resulting in various levels of congestion during the
   experiment.  In this scenario, the congestion level varies within a
   large timescale.  The following phases may be considered: phase I --
   mild congestion during 0-20 s; phase II -- medium congestion during
   20-40 s; phase III -- heavy congestion during 40-60 s; phase I again,
   and so on.

<span class="h4"><a class="selflink" name="section-8.2.6" href="#section-8.2.6">8.2.6</a>.  Varying Available Capacity</span>

   This scenario can be used to help characterize how the AQM behaves
   and adapts to bandwidth changes.  The experiments are not meant to
   reflect the exact conditions of Wi-Fi environments since it is hard
   to design repetitive experiments or accurate simulations for such
   scenarios.

   To emulate varying draining rates, the bottleneck capacity between
   nodes 'Router L' and 'Router R' varies over the course of the
   experiment as follows:

   o  Experiment 1: The capacity varies between two values within a
      large timescale.  As an example, the following phases may be
      considered: phase I -- 100 Mbps during 0-20 s; phase II -- 10 Mbps
      during 20-40 s; phase I again, and so on.

   o  Experiment 2: The capacity varies between two values within a
      short timescale.  As an example, the following phases may be
      considered: phase I -- 100 Mbps during 0-100 ms; phase II -- 10
      Mbps during 100-200 ms; phase I again, and so on.

   The tester may choose a phase time-interval value different than what
   is stated above, if the network's path conditions (such as bandwidth-
   delay product) necessitate.  In this case, the choice of such a time-
   interval value should be stated and elaborated.

   The tester may additionally evaluate the two mentioned scenarios
   (short-term and long-term capacity variations), during and/or
   including the TCP slow-start phase.

   More realistic fluctuating capacity patterns may be considered.  The
   tester may choose to incorporate realistic scenarios with regards to
   common fluctuation of bandwidth in state-of-the-art technologies.

   The scenario consists of TCP NewReno flows between sender A and
   receiver B.  To better assess the impact of draining rates on the AQM
   behavior, the tester must compare its performance with those of drop-



<span class="grey">Kuhn, et al.                  Informational                    [Page 26]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-27" id="page-27" href="#page-27" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   tail and should provide a reference document for their proposal
   discussing performance and deployment compared to those of drop-tail.
   Burst traffic, such as presented in <a href="#section-7.2">Section 7.2</a>, could also be
   considered to assess the impact of varying available capacity on the
   burst absorption of the AQM.

<span class="h3"><a class="selflink" name="section-8.3" href="#section-8.3">8.3</a>.  Parameter Sensitivity and Stability Analysis</span>

   The control law used by an AQM is the primary means by which the
   queuing delay is controlled.  Hence, understanding the control law is
   critical to understanding the behavior of the AQM scheme.  The
   control law could include several input parameters whose values
   affect the AQM scheme's output behavior and its stability.
   Additionally, AQM schemes may auto-tune parameter values in order to
   maintain stability under different network conditions (such as
   different congestion levels, draining rates, or network
   environments).  The stability of these auto-tuning techniques is also
   important to understand.

   Transports operating under the control of AQM experience the effect
   of multiple control loops that react over different timescales.  It
   is therefore important that proposed AQM schemes are seen to be
   stable when they are deployed at multiple points of potential
   congestion along an Internet path.  The pattern of congestion signals
   (loss or ECN-marking) arising from AQM methods also needs to not
   adversely interact with the dynamics of the transport protocols that
   they control.

   AQM proposals should provide background material showing theoretical
   analysis of the AQM control law and the input parameter space within
   which the control law operates, or they should use another way to
   discuss the stability of the control law.  For parameters that are
   auto-tuned, the material should include stability analysis of the
   auto-tuning mechanism(s) as well.  Such analysis helps to understand
   an AQM control law better and the network conditions/deployments
   under which the AQM is stable.

<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  Various Traffic Profiles</span>

   This section provides guidelines to assess the performance of an AQM
   proposal for various traffic profiles such as traffic with different
   applications or bidirectional traffic.









<span class="grey">Kuhn, et al.                  Informational                    [Page 27]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-28" id="page-28" href="#page-28" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h3"><a class="selflink" name="section-9.1" href="#section-9.1">9.1</a>.  Traffic Mix</span>

   This scenario can be used to evaluate how an AQM scheme reacts to a
   traffic mix consisting of different applications such as:

   o  Bulk TCP transfer

   o  Web traffic

   o  VoIP

   o  Constant Bit Rate (CBR) UDP traffic

   o  Adaptive video streaming (either unidirectional or bidirectional)

   Various traffic mixes can be considered.  These guidelines recommend
   examining at least the following example: 1 bidirectional VoIP; 6 web
   page downloads (such as those detailed in <a href="#section-7.2">Section 7.2</a>); 1 CBR; 1
   Adaptive Video; 5 bulk TCP.  Any other combinations could be
   considered and should be carefully documented.

   For each scenario, the graph described in <a href="#section-2.7">Section 2.7</a> could be
   generated for each class of traffic.  Metrics such as end-to-end
   latency, jitter, and flow completion time may be reported.

<span class="h3"><a class="selflink" name="section-9.2" href="#section-9.2">9.2</a>.  Bidirectional Traffic</span>

   Control packets such as DNS requests/responses, TCP SYNs/ACKs are
   small, but their loss can severely impact the application
   performance.  The scenario proposed in this section will help in
   assessing whether the introduction of an AQM scheme increases the
   loss probability of these important packets.

   For this scenario, traffic must be generated in both downlink and
   uplink, as defined in <a href="#section-3.1">Section 3.1</a>.  The amount of asymmetry between
   the uplink and the downlink depends on the context.  These guidelines
   recommend considering a mild congestion level and the traffic
   presented in <a href="#section-8.2.2">Section 8.2.2</a> in both directions.  In this case, the
   metrics reported must be the same as in <a href="#section-8.2">Section 8.2</a> for each
   direction.

   The traffic mix presented in <a href="#section-9.1">Section 9.1</a> may also be generated in
   both directions.








<span class="grey">Kuhn, et al.                  Informational                    [Page 28]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-29" id="page-29" href="#page-29" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h2"><a class="selflink" name="section-10" href="#section-10">10</a>.  Example of a Multi-AQM Scenario</span>

<span class="h3"><a class="selflink" name="section-10.1" href="#section-10.1">10.1</a>.  Motivation</span>

   Transports operating under the control of AQM experience the effect
   of multiple control loops that react over different timescales.  It
   is therefore important that proposed AQM schemes are seen to be
   stable when they are deployed at multiple points of potential
   congestion along an Internet path.  The pattern of congestion signals
   (loss or ECN-marking) arising from AQM methods also need to not
   adversely interact with the dynamics of the transport protocols that
   they control.

<span class="h3"><a class="selflink" name="section-10.2" href="#section-10.2">10.2</a>.  Details on the Evaluation Scenario</span>

   +---------+                              +-----------+
   |senders A|---+                      +---|receivers A|
   +---------+   |                      |   +-----------+
           +-----+---+  +---------+  +--+-----+
           |Router L |--|Router M |--|Router R|
           |AQM A    |  |AQM M    |  |No AQM  |
           +---------+  +--+------+  +--+-----+
   +---------+             |            |   +-----------+
   |senders B|-------------+            +---|receivers B|
   +---------+                              +-----------+

               Figure 3: Topology for the Multi-AQM Scenario

   Figure 3 describes topology options for evaluating multi-AQM
   scenarios.  The AQM schemes are applied in sequence and impact the
   induced latency reduction, the induced goodput maximization, and the
   trade-off between these two.  Note that AQM schemes A and B
   introduced in Routers L and M could be (I) same scheme with identical
   parameter values, (ii) same scheme with different parameter values,
   or (iii) two different schemes.  To best understand the interactions
   and implications, the mild congestion scenario as described in
   <a href="#section-8.2.2">Section 8.2.2</a> is recommended such that the number of flows is equally
   shared among senders A and B.  Other relevant combinations of
   congestion levels could also be considered.  We recommend measuring
   the metrics presented in <a href="#section-8.2">Section 8.2</a>.











<span class="grey">Kuhn, et al.                  Informational                    [Page 29]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-30" id="page-30" href="#page-30" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


<span class="h2"><a class="selflink" name="section-11" href="#section-11">11</a>.  Implementation Cost</span>

<span class="h3"><a class="selflink" name="section-11.1" href="#section-11.1">11.1</a>.  Motivation</span>

   Successful deployment of AQM is directly related to its cost of
   implementation.  Network devices may need hardware or software
   implementations of the AQM mechanism.  Depending on a device's
   capabilities and limitations, the device may or may not be able to
   implement some or all parts of their AQM logic.

   AQM proposals should provide pseudocode for the complete AQM scheme,
   highlighting generic implementation-specific aspects of the scheme
   such as "drop-tail" vs. "drop-head", inputs (e.g., current queuing
   delay, and queue length), computations involved, need for timers,
   etc.  This helps to identify costs associated with implementing the
   AQM scheme on a particular hardware or software device.  This also
   facilitates discussions around which kind of devices can easily
   support the AQM and which cannot.

<span class="h3"><a class="selflink" name="section-11.2" href="#section-11.2">11.2</a>.  Recommended Discussion</span>

   AQM proposals should highlight parts of their AQM logic that are
   device dependent and discuss if and how AQM behavior could be
   impacted by the device.  For example, a queuing-delay-based AQM
   scheme requires current queuing delay as input from the device.  If
   the device already maintains this value, then it can be trivial to
   implement the AQM logic on the device.  If the device provides
   indirect means to estimate the queuing delay (for example, timestamps
   and dequeuing rate), then the AQM behavior is sensitive to the
   precision of the queuing delay estimations are for that device.
   Highlighting the sensitivity of an AQM scheme to queuing delay
   estimations helps implementers to identify appropriate means of
   implementing the mechanism on a device.

<span class="h2"><a class="selflink" name="section-12" href="#section-12">12</a>.  Operator Control and Auto-Tuning</span>

<span class="h3"><a class="selflink" name="section-12.1" href="#section-12.1">12.1</a>.  Motivation</span>

   One of the biggest hurdles of RED deployment was/is its parameter
   sensitivity to operating conditions -- how difficult it is to tune
   RED parameters for a deployment to achieve acceptable benefit from
   using RED.  Fluctuating congestion levels and network conditions add
   to the complexity.  Incorrect parameter values lead to poor
   performance.

   Any AQM scheme is likely to have parameters whose values affect the
   control law and behavior of an AQM.  Exposing all these parameters as
   control parameters to a network operator (or user) can easily result



<span class="grey">Kuhn, et al.                  Informational                    [Page 30]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-31" id="page-31" href="#page-31" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   in an unsafe AQM deployment.  Unexpected AQM behavior ensues when
   parameter values are set improperly.  A minimal number of control
   parameters minimizes the number of ways a user can break a system
   where an AQM scheme is deployed at.  Fewer control parameters make
   the AQM scheme more user-friendly and easier to deploy and debug.

   "AQM algorithms SHOULD NOT require tuning of initial or configuration
   parameters in common use cases." such as stated in <a href="#section-4">Section 4</a> of the
   AQM recommendation document [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].  A scheme ought to expose only
   those parameters that control the macroscopic AQM behavior such as
   queue delay threshold, queue length threshold, etc.

   Additionally, the safety of an AQM scheme is directly related to its
   stability under varying operating conditions such as varying traffic
   profiles and fluctuating network conditions, as described in
   <a href="#section-8">Section 8</a>.  Operating conditions vary often and hence the AQM needs
   to remain stable under these conditions without the need for
   additional external tuning.  If AQM parameters require tuning under
   these conditions, then the AQM must self-adapt necessary parameter
   values by employing auto-tuning techniques.

<span class="h3"><a class="selflink" name="section-12.2" href="#section-12.2">12.2</a>.  Recommended Discussion</span>

   In order to understand an AQM's deployment considerations and
   performance under a specific environment, AQM proposals should
   describe the parameters that control the macroscopic AQM behavior,
   and identify any parameters that require tuning to operational
   conditions.  It could be interesting to also discuss that, even if an
   AQM scheme may not adequately auto-tune its parameters, the resulting
   performance may not be optimal, but close to something reasonable.

   If there are any fixed parameters within the AQM, their setting
   should be discussed and justified to help understand whether a fixed
   parameter value is applicable for a particular environment.

   If an AQM scheme is evaluated with parameter(s) that were externally
   tuned for optimization or other purposes, these values must be
   disclosed.

<span class="h2"><a class="selflink" name="section-13" href="#section-13">13</a>.  Summary</span>

   Figure 4 lists the scenarios for an extended characterization of an
   AQM scheme.  This table comes along with a set of requirements to
   present more clearly the weight and importance of each scenario.  The
   requirements listed here are informational and their relevance may
   depend on the deployment scenario.





<span class="grey">Kuhn, et al.                  Informational                    [Page 31]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-32" id="page-32" href="#page-32" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   +------------------------------------------------------------------+
   |Scenario                   |Sec.  |Informational requirement      |
   +------------------------------------------------------------------+
   +------------------------------------------------------------------+
   |Interaction with ECN       | 4.5  |must be discussed if supported |
   +------------------------------------------------------------------+
   |Interaction with Scheduling| 4.6  |should be discussed            |
   +------------------------------------------------------------------+
   |Transport Protocols        | 5    |                               |
   | TCP-friendly sender       | 5.1  |scenario must be considered    |
   | Aggressive sender         | 5.2  |scenario must be considered    |
   | Unresponsive sender       | 5.3  |scenario must be considered    |
   | LBE sender                | 5.4  |scenario may be considered     |
   +------------------------------------------------------------------+
   |Round-Trip Time Fairness   | 6.2  |scenario must be considered    |
   +------------------------------------------------------------------+
   |Burst Absorption           | 7.2  |scenario must be considered    |
   +------------------------------------------------------------------+
   |Stability                  | 8    |                               |
   | Varying congestion levels | 8.2.5|scenario must be considered    |
   | Varying available capacity| 8.2.6|scenario must be considered    |
   | Parameters and stability  | 8.3  |this should be discussed       |
   +------------------------------------------------------------------+
   |Various Traffic Profiles   | 9    |                               |
   | Traffic mix               | 9.1  |scenario is recommended        |
   | Bidirectional traffic     | 9.2  |scenario may be considered     |
   +------------------------------------------------------------------+
   |Multi-AQM                  | 10.2 |scenario may be considered     |
   +------------------------------------------------------------------+

         Figure 4: Summary of the Scenarios and their Requirements

<span class="h2"><a class="selflink" name="section-14" href="#section-14">14</a>.  Security Considerations</span>

   Some security considerations for AQM are identified in [<a href="rfc7567.html" title="&quot;IETF Recommendations Regarding Active Queue Management&quot;">RFC7567</a>].
   This document, by itself, presents no new privacy or security issues.

<span class="h2"><a class="selflink" name="section-15" href="#section-15">15</a>.  References</span>

<span class="h3"><a class="selflink" name="section-15.1" href="#section-15.1">15.1</a>.  Normative References</span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="rfc2119.html">RFC 2119</a>, 1997.

   [<a name="ref-RFC2544" id="ref-RFC2544">RFC2544</a>]  Bradner, S. and J. McQuaid, "Benchmarking Methodology for
              Network Interconnect Devices", <a href="rfc2544.html">RFC 2544</a>,
              DOI 10.17487/RFC2544, March 1999,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2544">http://www.rfc-editor.org/info/rfc2544</a>&gt;.



<span class="grey">Kuhn, et al.                  Informational                    [Page 32]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-33" id="page-33" href="#page-33" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   [<a name="ref-RFC2647" id="ref-RFC2647">RFC2647</a>]  Newman, D., "Benchmarking Terminology for Firewall
              Performance", <a href="rfc2647.html">RFC 2647</a>, DOI 10.17487/RFC2647, August 1999,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2647">http://www.rfc-editor.org/info/rfc2647</a>&gt;.

   [<a name="ref-RFC5481" id="ref-RFC5481">RFC5481</a>]  Morton, A. and B. Claise, "Packet Delay Variation
              Applicability Statement", <a href="rfc5481.html">RFC 5481</a>, DOI 10.17487/RFC5481,
              March 2009, &lt;<a href="http://www.rfc-editor.org/info/rfc5481">http://www.rfc-editor.org/info/rfc5481</a>&gt;.

   [<a name="ref-RFC7567" id="ref-RFC7567">RFC7567</a>]  Baker, F., Ed. and G. Fairhurst, Ed., "IETF
              Recommendations Regarding Active Queue Management",
              <a href="https://tools.ietf.org/html/bcp197">BCP 197</a>, <a href="rfc7567.html">RFC 7567</a>, DOI 10.17487/RFC7567, July 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7567">http://www.rfc-editor.org/info/rfc7567</a>&gt;.

   [<a name="ref-RFC7679" id="ref-RFC7679">RFC7679</a>]  Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,
              Ed., "A One-Way Delay Metric for IP Performance Metrics
              (IPPM)", STD 81, <a href="rfc7679.html">RFC 7679</a>, DOI 10.17487/RFC7679, January
              2016, &lt;<a href="http://www.rfc-editor.org/info/rfc7679">http://www.rfc-editor.org/info/rfc7679</a>&gt;.

   [<a name="ref-RFC7680" id="ref-RFC7680">RFC7680</a>]  Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,
              Ed., "A One-Way Loss Metric for IP Performance Metrics
              (IPPM)", STD 82, <a href="rfc7680.html">RFC 7680</a>, DOI 10.17487/RFC7680, January
              2016, &lt;<a href="http://www.rfc-editor.org/info/rfc7680">http://www.rfc-editor.org/info/rfc7680</a>&gt;.

<span class="h3"><a class="selflink" name="section-15.2" href="#section-15.2">15.2</a>.  Informative References</span>

   [<a name="ref-ANEL2014" id="ref-ANEL2014">ANEL2014</a>] Anelli, P., Diana, R., and E. Lochin, "FavorQueue: a
              Parameterless Active Queue Management to Improve TCP
              Traffic Performance", Computer Networks Vol. 60,
              DOI 10.1016/j.bjp.2013.11.008, 2014.

   [<a name="ref-AQMPIE" id="ref-AQMPIE">AQMPIE</a>]   Pan, R., Natarajan, P., Baker, F., and G. White, "PIE: A
              Lightweight Control Scheme To Address the Bufferbloat
              Problem", Work in Progress, <a href="https://tools.ietf.org/html/draft-ietf-aqm-pie-08">draft-ietf-aqm-pie-08</a>, June
              2016.

   [<a name="ref-BB2011" id="ref-BB2011">BB2011</a>]   Cerf, V., Jacobson, V., Weaver, N., and J. Gettys,
              "BufferBloat: what's wrong with the internet?", ACM
              Queue Vol. 55, DOI 10.1145/2076450.2076464, 2012.

   [<a name="ref-BCP41" id="ref-BCP41">BCP41</a>]    Floyd, S., "Congestion Control Principles", <a href="https://tools.ietf.org/html/bcp41">BCP 41</a>,
              <a href="rfc2914.html">RFC 2914</a>, September 2000.

              Briscoe, B. and J.  Manner, "Byte and Packet Congestion
              Notification", <a href="https://tools.ietf.org/html/bcp41">BCP 41</a>, <a href="rfc7141.html">RFC 7141</a>, February 2014.

              &lt;<a href="http://www.rfc-editor.org/info/bcp41">http://www.rfc-editor.org/info/bcp41</a>&gt;





<span class="grey">Kuhn, et al.                  Informational                    [Page 33]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-34" id="page-34" href="#page-34" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   [<a name="ref-CODEL" id="ref-CODEL">CODEL</a>]    Nichols, K., Jacobson, V., McGregor, A., and J. Iyengar,
              "Controlled Delay Active Queue Management", Work in
              Progress, <a href="https://tools.ietf.org/html/draft-ietf-aqm-codel-04">draft-ietf-aqm-codel-04</a>, June 2016.

   [<a name="ref-CUBIC" id="ref-CUBIC">CUBIC</a>]    Rhee, I., Xu, L., Ha, S., Zimmermann, A., Eggert, L., and
              R. Scheffenegger, "CUBIC for Fast Long-Distance Networks",
              Work in Progress, <a href="https://tools.ietf.org/html/draft-ietf-tcpm-cubic-01">draft-ietf-tcpm-cubic-01</a>, January 2016.

   [<a name="ref-FENG2002" id="ref-FENG2002">FENG2002</a>] Feng, W., Shin, K., Kandlur, D., and D. Saha, "The BLUE
              active queue management algorithms", IEEE Transactions on
              Networking Vol.10 Issue 4, DOI 10.1109/TNET.2002.801399,
              2002, &lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=1026008">http://ieeexplore.ieee.org/xpl/</a>
              <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=1026008">articleDetails.jsp?arnumber=1026008</a>&gt;.

   [<a name="ref-FLOY1993" id="ref-FLOY1993">FLOY1993</a>] Floyd, S. and V. Jacobson, "Random Early Detection (RED)
              Gateways for Congestion Avoidance", IEEE Transactions on
              Networking Vol. 1 Issue 4, DOI 10.1109/90.251892, 1993,
              &lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=251892">http://ieeexplore.ieee.org/xpl/</a>
              <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=251892">articleDetails.jsp?arnumber=251892</a>&gt;.

   [<a name="ref-GONG2014" id="ref-GONG2014">GONG2014</a>] Gong, Y., Rossi, D., Testa, C., Valenti, S., and D. Taht,
              "Fighting the bufferbloat: on the coexistence of AQM and
              low priority congestion control", Computer Networks,
              Elsevier, 2014, pp.115-128 Vol. 60,
              DOI 10.1109/INFCOMW.2013.6562885, 2014.

   [<a name="ref-HASS2008" id="ref-HASS2008">HASS2008</a>] Hassayoun, S. and D. Ros, "Loss Synchronization and Router
              Buffer Sizing with High-Speed Versions of TCP",
              IEEE INFOCOM Workshops, DOI 10.1109/INFOCOM.2008.4544632,
              2008, &lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4544632">http://ieeexplore.ieee.org/xpl/</a>
              <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4544632">articleDetails.jsp?arnumber=4544632</a>&gt;.

   [<a name="ref-HOEI2015" id="ref-HOEI2015">HOEI2015</a>] Hoeiland-Joergensen, T., McKenney, P.,
              dave.taht@gmail.com, d., Gettys, J., and E. Dumazet, "The
              FlowQueue-CoDel Packet Scheduler and Active Queue
              Management Algorithm", Work in Progress, <a href="https://tools.ietf.org/html/draft-ietf-aqm-fq-codel-06">draft-ietf-aqm-</a>
              <a href="https://tools.ietf.org/html/draft-ietf-aqm-fq-codel-06">fq-codel-06</a>, March 2016.

   [<a name="ref-HOLLO2001" id="ref-HOLLO2001">HOLLO2001</a>]
              Hollot, C., Misra, V., Towsley, V., and W. Gong, "On
              Designing Improved Controller for AQM Routers Supporting
              TCP Flows", IEEE INFOCOM, DOI 10.1109/INFCOM.2001.916670,
              2001, &lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=916670">http://ieeexplore.ieee.org/xpl/</a>
              <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=916670">articleDetails.jsp?arnumber=916670</a>&gt;.







<span class="grey">Kuhn, et al.                  Informational                    [Page 34]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-35" id="page-35" href="#page-35" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   [<a name="ref-JAY2006" id="ref-JAY2006">JAY2006</a>]  Jay, P., Fu, Q., and G. Armitage, "A preliminary analysis
              of loss synchronisation between concurrent TCP flows",
              Australian Telecommunication Networks and Application
              Conference (ATNAC), 2006.

   [<a name="ref-MORR2000" id="ref-MORR2000">MORR2000</a>] Morris, R., "Scalable TCP congestion control",
              IEEE INFOCOM, DOI 10.1109/INFCOM.2000.832487, 2000,
              &lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=832487">http://ieeexplore.ieee.org/xpl/</a>
              <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=832487">articleDetails.jsp?arnumber=832487</a>&gt;.

   [<a name="ref-RFC793" id="ref-RFC793">RFC793</a>]   Postel, J., "Transmission Control Protocol", STD 7,
              <a href="rfc793.html">RFC 793</a>, DOI 10.17487/RFC0793, September 1981,
              &lt;<a href="http://www.rfc-editor.org/info/rfc793">http://www.rfc-editor.org/info/rfc793</a>&gt;.

   [<a name="ref-RFC2309" id="ref-RFC2309">RFC2309</a>]  Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering,
              S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G.,
              Partridge, C., Peterson, L., Ramakrishnan, K., Shenker,
              S., Wroclawski, J., and L. Zhang, "Recommendations on
              Queue Management and Congestion Avoidance in the
              Internet", <a href="rfc2309.html">RFC 2309</a>, DOI 10.17487/RFC2309, April 1998,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2309">http://www.rfc-editor.org/info/rfc2309</a>&gt;.

   [<a name="ref-RFC2488" id="ref-RFC2488">RFC2488</a>]  Allman, M., Glover, D., and L. Sanchez, "Enhancing TCP
              Over Satellite Channels using Standard Mechanisms",
              <a href="https://tools.ietf.org/html/bcp28">BCP 28</a>, <a href="rfc2488.html">RFC 2488</a>, DOI 10.17487/RFC2488, January 1999,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2488">http://www.rfc-editor.org/info/rfc2488</a>&gt;.

   [<a name="ref-RFC3168" id="ref-RFC3168">RFC3168</a>]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition
              of Explicit Congestion Notification (ECN) to IP",
              <a href="rfc3168.html">RFC 3168</a>, DOI 10.17487/RFC3168, September 2001,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3168">http://www.rfc-editor.org/info/rfc3168</a>&gt;.

   [<a name="ref-RFC3611" id="ref-RFC3611">RFC3611</a>]  Friedman, T., Ed., Caceres, R., Ed., and A. Clark, Ed.,
              "RTP Control Protocol Extended Reports (RTCP XR)",
              <a href="rfc3611.html">RFC 3611</a>, DOI 10.17487/RFC3611, November 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3611">http://www.rfc-editor.org/info/rfc3611</a>&gt;.

   [<a name="ref-RFC5348" id="ref-RFC5348">RFC5348</a>]  Floyd, S., Handley, M., Padhye, J., and J. Widmer, "TCP
              Friendly Rate Control (TFRC): Protocol Specification",
              <a href="rfc5348.html">RFC 5348</a>, DOI 10.17487/RFC5348, September 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5348">http://www.rfc-editor.org/info/rfc5348</a>&gt;.

   [<a name="ref-RFC5681" id="ref-RFC5681">RFC5681</a>]  Allman, M., Paxson, V., and E. Blanton, "TCP Congestion
              Control", <a href="rfc5681.html">RFC 5681</a>, DOI 10.17487/RFC5681, September 2009,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5681">http://www.rfc-editor.org/info/rfc5681</a>&gt;.






<span class="grey">Kuhn, et al.                  Informational                    [Page 35]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-36" id="page-36" href="#page-36" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


   [<a name="ref-RFC6297" id="ref-RFC6297">RFC6297</a>]  Welzl, M. and D. Ros, "A Survey of Lower-than-Best-Effort
              Transport Protocols", <a href="rfc6297.html">RFC 6297</a>, DOI 10.17487/RFC6297, June
              2011, &lt;<a href="http://www.rfc-editor.org/info/rfc6297">http://www.rfc-editor.org/info/rfc6297</a>&gt;.

   [<a name="ref-RFC6817" id="ref-RFC6817">RFC6817</a>]  Shalunov, S., Hazel, G., Iyengar, J., and M. Kuehlewind,
              "Low Extra Delay Background Transport (LEDBAT)", <a href="rfc6817.html">RFC 6817</a>,
              DOI 10.17487/RFC6817, December 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6817">http://www.rfc-editor.org/info/rfc6817</a>&gt;.

   [<a name="ref-RFC7141" id="ref-RFC7141">RFC7141</a>]  Briscoe, B. and J. Manner, "Byte and Packet Congestion
              Notification", <a href="https://tools.ietf.org/html/bcp41">BCP 41</a>, <a href="rfc7141.html">RFC 7141</a>, DOI 10.17487/RFC7141,
              February 2014, &lt;<a href="http://www.rfc-editor.org/info/rfc7141">http://www.rfc-editor.org/info/rfc7141</a>&gt;.

   [<a name="ref-TCPEVAL" id="ref-TCPEVAL">TCPEVAL</a>]  Hayes, D., Ros, D., Andrew, L., and S. Floyd, "Common TCP
              Evaluation Suite", Work in Progress, <a href="https://tools.ietf.org/html/draft-irtf-iccrg-tcpeval-01">draft-irtf-iccrg-</a>
              <a href="https://tools.ietf.org/html/draft-irtf-iccrg-tcpeval-01">tcpeval-01</a>, July 2014.

   [<a name="ref-TRAN2014" id="ref-TRAN2014">TRAN2014</a>] Trang, S., Kuhn, N., Lochin, E., Baudoin, C., Dubois, E.,
              and P. Gelard, "On The Existence Of Optimal LEDBAT
              Parameters", IEEE ICC 2014 - Communication
              QoS, Reliability and Modeling Symposium,
              DOI 10.1109/ICC.2014.6883487, 2014,
              &lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=6883487">http://ieeexplore.ieee.org/xpl/</a>
              <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=6883487">articleDetails.jsp?arnumber=6883487</a>&gt;.

   [<a name="ref-WELZ2015" id="ref-WELZ2015">WELZ2015</a>] Welzl, M. and G. Fairhurst, "The Benefits to Applications
              of using Explicit Congestion Notification (ECN)", Work in
              Progress, <a href="https://tools.ietf.org/html/draft-welzl-ecn-benefits-02">draft-welzl-ecn-benefits-02</a>, March 2015.

   [<a name="ref-WINS2014" id="ref-WINS2014">WINS2014</a>] Winstein, K., "Transport Architectures for an Evolving
              Internet", PhD thesis, Massachusetts Institute of
              Technology, June 2014.

Acknowledgements

   This work has been partially supported by the European Community
   under its Seventh Framework Programme through the Reducing Internet
   Transport Latency (RITE) project (ICT-317700).

   Many thanks to S. Akhtar, A.B. Bagayoko, F. Baker, R. Bless, D.
   Collier-Brown, G. Fairhurst, J. Gettys, P. Goltsman, T. Hoiland-
   Jorgensen, K. Kilkki, C. Kulatunga, W. Lautenschlager, A.C. Morton,
   R. Pan, G. Skinner, D. Taht, and M. Welzl for detailed and wise
   feedback on this document.







<span class="grey">Kuhn, et al.                  Informational                    [Page 36]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-37" id="page-37" href="#page-37" class="invisible"> </a>
<span class="grey"><a href="rfc7928.html">RFC 7928</a>             AQM Characterization Guidelines           July 2016</span>


Authors' Addresses

   Nicolas Kuhn (editor)
   CNES, Telecom Bretagne
   18 avenue Edouard Belin
   Toulouse  31400
   France

   Phone: +33 5 61 27 32 13
   Email: nicolas.kuhn@cnes.fr


   Preethi Natarajan (editor)
   Cisco Systems
   510 McCarthy Blvd
   Milpitas, California
   United States of America

   Email: prenatar@cisco.com


   Naeem Khademi (editor)
   University of Oslo
   Department of Informatics, PO Box 1080 Blindern
   N-0316 Oslo
   Norway

   Phone: +47 2285 24 93
   Email: naeemk@ifi.uio.no


   David Ros
   Simula Research Laboratory AS
   P.O. Box 134
   Lysaker, 1325
   Norway

   Phone: +33 299 25 21 21
   Email: dros@simula.no












Kuhn, et al.                  Informational                    [Page 37]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc7928 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:18 GMT -->
</html>
