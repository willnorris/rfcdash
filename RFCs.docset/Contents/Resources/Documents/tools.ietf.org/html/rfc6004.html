<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc6004 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:31 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-berger-ccamp-gmpls-ether-svcs" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:6004" name="DC.Identifier"/>
<meta content="October, 2010" name="DC.Date.Issued"/>
<meta content="Berger, Lou" name="DC.Creator"/>
<meta content="Fedyk, Don" name="DC.Creator"/>
<meta content="This document describes a method for controlling two specific types of
Ethernet switching via Generalized Multi-Protocol Label Switching
(GMPLS). This document supports the types of switching required to
implied by the Ethernet services that have been defined in the context
of the Metro Ethernet Forum (MEF) and International Telecommunication
Union (ITU) G.8011. Specifically, switching in support of Ethernet
private line service and Ethernet virtual private line service.
Support for MEF and ITU defined parameters are also covered. Some of
the extensions defined in this document are generic in nature and not
specific to Ethernet." name="DC.Description.Abstract"/>
<meta content="Generalized MPLS (GMPLS) Support For Metro Ethernet Forum and G.8011 Ethernet Service Switching" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 6004 - Generalized MPLS (GMPLS) Support For Metro Ethernet Forum and G.8011 Ethernet Service Switching</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6004.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6004" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-ccamp-gmpls-ether-svcs" title="draft-ietf-ccamp-gmpls-ether-svcs">draft-ietf-ccam...</a>] [<a href="https://datatracker.ietf.org/doc/rfc6004" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6004" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6004" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                         L. Berger
Request for Comments: 6004                                          LabN
Category: Standards Track                                       D. Fedyk
ISSN: 2070-1721                                           Alcatel-Lucent
                                                            October 2010


       <span class="h1">Generalized MPLS (GMPLS) Support for Metro Ethernet Forum</span>
                 <span class="h1">and G.8011 Ethernet Service Switching</span>

Abstract

   This document describes a method for controlling two specific types
   of Ethernet switching via Generalized Multi-Protocol Label Switching
   (GMPLS).  This document supports the types of switching corresponding
   to the Ethernet services that have been defined in the context of the
   Metro Ethernet Forum (MEF) and International Telecommunication Union
   (ITU) G.8011.  Specifically, switching in support of Ethernet private
   line and Ethernet virtual private line services are covered.  Support
   for MEF- and ITU-defined parameters is also covered.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6004">http://www.rfc-editor.org/info/rfc6004</a>.

















<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Overview ...................................................<a href="#page-3">3</a>
      <a href="#section-1.2">1.2</a>. Conventions Used in This Document ..........................<a href="#page-4">4</a>
   <a href="#section-2">2</a>. Common Signaling Support ........................................<a href="#page-5">5</a>
      <a href="#section-2.1">2.1</a>. Ethernet Endpoint Identification ...........................<a href="#page-5">5</a>
           <a href="#section-2.1.1">2.1.1</a>. Endpoint ID TLV .....................................<a href="#page-5">5</a>
                  <a href="#section-2.1.1.1">2.1.1.1</a>. Procedures .................................<a href="#page-6">6</a>
      <a href="#section-2.2">2.2</a>. Connection Identification ..................................<a href="#page-6">6</a>
           <a href="#section-2.2.1">2.2.1</a>. Procedures ..........................................<a href="#page-6">6</a>
      <a href="#section-2.3">2.3</a>. Traffic Parameters .........................................<a href="#page-7">7</a>
           <a href="#section-2.3.1">2.3.1</a>. L2 Control Protocol TLV .............................<a href="#page-7">7</a>
      <a href="#section-2.4">2.4</a>. Bundling and VLAN Identification ...........................<a href="#page-9">9</a>
   <a href="#section-3">3</a>. EPL Service .....................................................<a href="#page-9">9</a>
      <a href="#section-3.1">3.1</a>. EPL Service Parameters .....................................<a href="#page-9">9</a>
   <a href="#section-4">4</a>. EVPL Service ...................................................<a href="#page-10">10</a>
      <a href="#section-4.1">4.1</a>. EVPL Generalized Label Format .............................<a href="#page-10">10</a>
      <a href="#section-4.2">4.2</a>. Egress VLAN ID Control and VLAN ID Preservation ...........<a href="#page-11">11</a>
      <a href="#section-4.3">4.3</a>. Single Call - Single LSP ..................................<a href="#page-11">11</a>
      <a href="#section-4.4">4.4</a>. Single Call - Multiple LSPs ...............................<a href="#page-11">11</a>
   <a href="#section-5">5</a>. IANA Considerations ............................................<a href="#page-12">12</a>
      <a href="#section-5.1">5.1</a>. Endpoint ID Attributes TLV ................................<a href="#page-12">12</a>
      <a href="#section-5.2">5.2</a>. Line LSP Encoding .........................................<a href="#page-12">12</a>
      <a href="#section-5.3">5.3</a>. Ethernet Virtual Private Line (EVPL) Switching Type .......<a href="#page-12">12</a>
   <a href="#section-6">6</a>. Security Considerations ........................................<a href="#page-13">13</a>
   <a href="#section-7">7</a>. References .....................................................<a href="#page-13">13</a>
      <a href="#section-7.1">7.1</a>. Normative References ......................................<a href="#page-13">13</a>
      <a href="#section-7.2">7.2</a>. Informative References ....................................<a href="#page-14">14</a>
   Acknowledgments ...................................................<a href="#page-14">14</a>






<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   [<a id="ref-MEF6" name="ref-MEF6">MEF6</a>] and [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>] provide parallel frameworks for defining network-
   oriented characteristics of Ethernet services in transport networks.
   The framework discusses general Ethernet connection characteristics,
   Ethernet User-Network Interfaces (UNIs) and Ethernet Network-Network
   Interfaces (NNIs).  Within this framework, [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] defines the
   Ethernet Private Line (EPL) service and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>] defines the
   Ethernet Virtual Private Line (EVPL) service. [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>] covers both
   service types.  [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>] defines service parameters and [<a href="#ref-MEF11" title='"User Network Interface (UNI) Requirements and Framework"'>MEF11</a>]
   provides UNI requirements and framework.

   [<a id="ref-MEF6" name="ref-MEF6">MEF6</a>] and [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>] are focused on service interfaces and not the
   underlying technology used to support the service.  For example,
   [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>] refers to the defined services being transported over one of
   several possible "server layers".  This document focuses on the types
   of switching that may directly support these services and provides a
   method for GMPLS-based control of such switching technologies.  This
   document defines the GMPLS extensions needed to support such
   switching, but does not define the UNI or External NNI (E-NNI)
   reference points.  See [<a href="rfc6005.html" title='"Generalized MPLS (GMPLS) Support for Metro Ethernet Forum and G.8011 User Network Interface (UNI)"'>RFC6005</a>] for a description of the UNI
   reference point.  This document makes use of the traffic parameters
   defined in [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>] and the generic extensions defined in [<a href="rfc6002.html" title='"Generalized MPLS (GMPLS) Data Channel Switching Capable (DCSC) and Channel Set Label Extensions"'>RFC6002</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Overview"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Overview</span>

   This document uses a common approach to supporting the switching
   corresponding to the Ethernet services defined in [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>],
   and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>].  The approach builds on standard GMPLS mechanisms to
   deliver the required control capabilities.  This document reuses the
   GMPLS mechanisms specified in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] and [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  The document
   uses the extensions defined in [<a href="rfc6002.html" title='"Generalized MPLS (GMPLS) Data Channel Switching Capable (DCSC) and Channel Set Label Extensions"'>RFC6002</a>].

   Two types of connectivity between Ethernet endpoints are defined in
   [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>] and [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>]: point-to-point (P2P) and multipoint-to-
   multipoint (MP2MP). [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>] uses the term Ethernet Line (E-line) to
   refer to point-to-point virtual connections, and Ethernet LAN (E-LAN)
   to refer to multipoint-to-multipoint virtual connections.  [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>]
   also identifies point-to-multipoint (P2MP) as an area for "further
   study".  Within the context of GMPLS, support is defined for point-
   to-point unidirectional and bidirectional Traffic Engineering Label
   Switched Paths (TE LSPs), see [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>], and unidirectional point-to-
   multipoint TE LSPs, see [<a href="rfc4875.html" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>].

   Support for P2P and MP2MP services is defined by [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>] and
   required by [<a href="#ref-MEF11" title='"User Network Interface (UNI) Requirements and Framework"'>MEF11</a>].  Note that while [<a href="#ref-MEF11" title='"User Network Interface (UNI) Requirements and Framework"'>MEF11</a>] and [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>] discuss
   MP2MP, [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>] only define support for P2P.  There
   is a clear correspondence between E-Line/P2P service and GMPLS P2P TE



<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


   LSPs, and support for such LSPs is included in the scope of this
   document.  There is no such clear correspondence between E-LAN/MP2MP
   service and GMPLS TE LSPs.  Although, it is possible to emulate this
   service using multiple P2P or P2MP TE LSPs, the definition of support
   for MP2MP service is left for future study and is not addressed in
   this document.

   [<a id="ref-MEF11" name="ref-MEF11">MEF11</a>] defines multiple types of control for UNI Ethernet services.
   In MEF UNI Type 1, services are configured manually.  In MEF UNI Type
   2, services may be configured manually or via a link management
   interface.  In MEF UNI Type 3, services may be established and
   managed via a signaling interface.  From the MEF perspective, this
   document, along with [<a href="rfc6005.html" title='"Generalized MPLS (GMPLS) Support for Metro Ethernet Forum and G.8011 User Network Interface (UNI)"'>RFC6005</a>], is aimed at the network control
   needed to support the MEF UNI Type 3 mode of operation.

   [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>], and [<a href="#ref-MEF11" title='"User Network Interface (UNI) Requirements and Framework"'>MEF11</a>], together with [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], define
   a set of service attributes that are associated with each Ethernet
   connection.  Some of these attributes are based on the provisioning
   of the local physical connection and are not modifiable or selectable
   per connection.  Other attributes are specific to a particular
   connection or must be consistent across the connection.  The approach
   taken in this document to communicate these attributes is to exclude
   the static class of attributes from signaling.  This class of
   attributes will not be explicitly discussed in this document.  The
   other class of attributes is communicated via signaling and will be
   reviewed in the sections below.  The major attributes that will be
   supported in signaling include:

      - Endpoint identifiers
      - Connection identifiers
      - Traffic parameters (see [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>])
      - Bundling / VLAN IDs map (EVPL only)
      - VLAN ID Preservation (EVPL only)

   Common procedures used to support Ethernet LSPs are described in
   <a href="#section-2">Section 2</a> of this document.  Procedures related to the signaling of
   switching in support of EPL services are described in <a href="#section-3">Section 3</a>.
   Procedures related to the signaling of switching in support of EVPL
   services are described in <a href="#section-4">Section 4</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].






<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Common%20Signaling%20Support"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Common Signaling Support</span>

   This section describes the common mechanisms for supporting GMPLS
   signaled control of LSPs that provide Ethernet connections as defined
   in [<a href="#ref-MEF11" title='"User Network Interface (UNI) Requirements and Framework"'>MEF11</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>].

   Except as specifically modified in this document, the procedures
   related to the processing of RSVP objects are not modified by this
   document.  The relevant procedures in existing documents, such as
   [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>], MUST be followed in all cases not explicitly described in
   this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Ethernet%20Endpoint%20Identification"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Ethernet Endpoint Identification</span>

   Ethernet endpoint identifiers, as they are defined in [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>] and
   [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], differ significantly from the identifiers used by GMPLS.
   Specifically, the Ethernet endpoint identifiers are character based
   as opposed to the GMPLS norm of being IP address based.

   The approach taken by this document to address this disparity
   leverages the solution used for connection identification, see
   <a href="#section-2.2">Section 2.2</a> and [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>], and a new CALL_ATTRIBUTES TLV defined in
   this document.  The solution makes use of the [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>] short Call
   ID, and supports the Ethernet endpoint identifier similar to how
   [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>] supports the long Call ID.  That is, the SENDER_TEMPLATE
   and SESSION objects carry IP addresses and a short Call ID, and long
   identifiers are carried in the CALL_ATTRIBUTES object.  As with the
   long Call ID, the Ethernet endpoint identifier is typically only
   relevant at the ingress and egress nodes.

   As defined below, the Ethernet endpoint identifier is carried in the
   CALL_ATTRIBUTES object in a new TLV.  The new TLV is referred to as
   the Endpoint ID TLV.  The processing of the Endpoint ID TLV parallels
   the processing of the long Call ID in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  This processing
   requires the inclusion of the CALL_ATTRIBUTES object in a Notify
   message.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.1.1.%20%20Endpoint%20ID%20TLV"></a><a class="selflink" href="#section-2.1.1" name="section-2.1.1">2.1.1</a>.  Endpoint ID TLV</span>

   The Endpoint ID TLV follows the Attributes TLV format defined in
   [<a href="rfc6001.html" title='"Generalized MPLS (GMPLS) Protocol Extensions for Multi-Layer and Multi-Region Networks (MLN/MRN)"'>RFC6001</a>].  The Endpoint ID TLV has the following format:










<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type (30)           |      Length (variable)        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Endpoint ID                          |
   |                              ...                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Type and Length fields are defined in [<a href="rfc6001.html" title='"Generalized MPLS (GMPLS) Protocol Extensions for Multi-Layer and Multi-Region Networks (MLN/MRN)"'>RFC6001</a>].  Note that as
   defined in [<a href="rfc6001.html" title='"Generalized MPLS (GMPLS) Protocol Extensions for Multi-Layer and Multi-Region Networks (MLN/MRN)"'>RFC6001</a>], the Length field is set to length of the whole
   TLV including the Type, Length, and Endpoint ID fields.

   Endpoint ID

      The Endpoint ID field is a variable-size field that carries an
      endpoint identifier, see [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>] and [<a href="#ref-G.8011" title='"Ethernet over Transport Ethernet services framework"'>G.8011</a>].  This field MUST
      be null padded as defined in [<a href="rfc6001.html" title='"Generalized MPLS (GMPLS) Protocol Extensions for Multi-Layer and Multi-Region Networks (MLN/MRN)"'>RFC6001</a>].

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/2.1.1.1.%20%20Procedures"></a><a class="selflink" href="#section-2.1.1.1" name="section-2.1.1.1">2.1.1.1</a>.  Procedures</span>

   The use of the Endpoint ID TLV is required during Call management.
   When a Call is established or torn down per [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>], a
   CALL_ATTRIBUTES object containing an Endpoint ID TLV MUST be included
   in the Notify message along with the long Call ID.

   Short Call ID processing, including those procedures related to Call
   and connection processing, is not modified by this document and MUST
   proceed according to [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Connection%20Identification"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Connection Identification</span>

   Signaling for Ethernet connections follows the procedures defined in
   [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  In particular, the Call-related mechanisms are used to
   support endpoint identification.  In the context of Ethernet
   connections, a Call is only established when one or more LSPs
   (connections in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>] terms) are needed.  An LSP will always be
   established within the context of a Call and, typically, only one LSP
   will be used per Call.  See <a href="#section-4.4">Section 4.4</a> for the case where more than
   one LSP may exist within a Call.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.2.1.%20%20Procedures"></a><a class="selflink" href="#section-2.2.1" name="section-2.2.1">2.2.1</a>.  Procedures</span>

   Any node that supports Ethernet connections MUST be able to accept
   and process Call setups per [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  Ethernet connections
   established according to this document MUST treat the Ethernet
   (virtual) connection identifier as the long "Call identifier (ID)",




<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


   described in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  The short Call ID MUST be used as described
   in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  Use of the LINK_CAPABILITY object is OPTIONAL.  Both
   network-initiated and user-initiated Calls MUST be supported.

   When establishing an Ethernet connection, the initiator MUST first
   establish a Call per the procedures defined in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].  LSP
   management, including removal and addition, then follows [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].
   As stated in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>], once a Call is established, the initiator
   SHOULD establish at least one Ethernet LSP.  Also, when the last LSP
   associated with a Call is removed, the Call SHOULD be torn down per
   the procedures in [<a href="rfc4974.html" title='"Generalized MPLS (GMPLS) RSVP-TE Signaling Extensions in Support of Calls"'>RFC4974</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3.%20%20Traffic%20Parameters"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a>.  Traffic Parameters</span>

   Several types of service attributes are carried in the traffic
   parameters defined in [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>].  These parameters are carried in the
   FLOWSPEC and TSPEC objects as discussed in [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>].  The service
   attributes that are carried are:

      - Bandwidth Profile
      - VLAN Class of Service (CoS) Preservation
      - Layer 2 Control Protocol (L2CP) Processing (see <a href="#section-2.3.1">Section 2.3.1</a>)

   Ethernet connections established according to this document MUST use
   the traffic parameters defined in [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>] in the FLOWSPEC and TSPEC
   objects.  Additionally, the Switching Granularity field of the
   Ethernet SENDER_TSPEC object MUST be set to zero (0).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.3.1.%20%20L2%20Control%20Protocol%20TLV"></a><a class="selflink" href="#section-2.3.1" name="section-2.3.1">2.3.1</a>.  L2 Control Protocol TLV</span>

   [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>] define service attributes that
   impact the layer two (L2) control protocol processing at the ingress
   and egress.  [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>] does not define support for these service
   attributes, but does allow the attributes to be carried in a TLV.
   This section defines the L2CP TLV to carry the L2CP-processing-
   related service attributes.

   The format of the L2 Control Protocol (L2CP) TLV is as follows:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type=3            |           Length=8            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | IL2CP | EL2CP |                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+





<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


      See [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>] for a description of the Type and Length fields.
      Per [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>], the Type field MUST be set to three (3), and the
      Length field MUST be set to eight (8) for the L2CP TLV.

      Ingress Layer 2 Control Processing (IL2CP): 4 bits

         This field controls processing of Layer 2 Control Protocols on
         a receiving interface.  Valid usage is service specific, see
         [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>].

         Permitted values are:

      Value  Description           Reference
      -----  -----------           ---------
        0    Reserved
        1    Discard/Block         [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>]
        2    Peer/Process          [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>]
        3    Pass to EVC/Pass      [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>], [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>]
        4    Peer and Pass to EVC  [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>]

      Egress Layer 2 Control Processing (EL2CP): 4 bits

   This field controls processing of Layer 2 Control Protocols on a
   transmitting interface.  When MEF services are used a value of 1 MUST
   be used, other valid usage is service specific, see [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] and
   [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>].

   Permitted values are:

   Value  Description             Reference
   -----  -----------             ---------
     0    Reserved
     1    Based on IL2CP Value    [<a href="#ref-MEF10.1" title='"Ethernet Services Attributes Phase 2"'>MEF10.1</a>]
     2    Generate                [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>]
     3    None                    [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] and [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>]
     4    Reserved

      Reserved: 24 bits

   This field is reserved.  It MUST be set to zero on transmission and
   MUST be ignored on receipt.  This field SHOULD be passed unmodified
   by transit nodes.

   Ethernet connections established according to this document MUST
   include the L2CP TLV in the [<a href="rfc6003.html" title='"Ethernet Traffic Parameters,"'>RFC6003</a>] traffic parameters carried in
   the FLOWSPEC and TSPEC objects.





<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4.%20%20Bundling%20and%20VLAN%20Identification"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a>.  Bundling and VLAN Identification</span>

   The control of bundling and listing of VLAN identifiers is only
   supported for EVPL services.  EVPL service specific details are
   provided in <a href="#section-4">Section 4</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20EPL%20Service"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  EPL Service</span>

   Both [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>] and [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] define an Ethernet Private Line (EPL)
   service.  In the words of [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>], EPL services carry "Ethernet
   characteristic information over dedicated bandwidth, point-to-point
   connections, provided by SDH, ATM, MPLS, PDH, ETY or OTH server layer
   networks".  [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] defines two types of Ethernet Private Line
   (EPL) services.  Both types present a service where all data
   presented on a port is transported to the corresponding connected
   port.  The types differ in that EPL type 1 service operates at the
   MAC frame layer, while EPL type 2 service operates at the line (e.g.,
   8B/10B) encoding layer. [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>] only defines one type of EPL service,
   and it matches [<a href="#ref-G.8011.1" title='"Ethernet private line service"'>G.8011.1</a>] EPL type 1 service.  Signaling for LSPs
   that support both types of EPL services are detailed below.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20EPL%20Service%20Parameters"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  EPL Service Parameters</span>

   Signaling for the EPL service types only differ in the LSP Encoding
   Type used.  The LSP Encoding Type used for each are:

      EPL Service     LSP Encoding Type (Value)  Reference
      -----------     -------------------------  ---------
      Type 1/MEF      Ethernet (2)               [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>]
      Type 2          Line (e.g., 8B/10B)(14)    [<a href="rfc6004.html">RFC6004</a>]

   The other LSP parameters specific to EPL Service are:

      Parameter       Name (Value)       Reference
      --------------  -----------------  ------------------
      Switching Type  DCSC (125)         [<a href="rfc6002.html" title='"Generalized MPLS (GMPLS) Data Channel Switching Capable (DCSC) and Channel Set Label Extensions"'>RFC6002</a>]
      G-PID           Ethernet PHY (33)  [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>][RFC4328]

   The parameters defined in this section MUST be used when establishing
   and controlling LSPs that provide EPL service type Ethernet
   switching.  The procedures defined in <a href="#section-2">Section 2</a> and the other
   procedures defined in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] for the establishment and management
   of bidirectional LSPs MUST be followed when establishing and
   controlling LSPs that provide EPL service type Ethernet switching.







<span class="grey">Berger &amp; Fedyk               Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20EVPL%20Service"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  EVPL Service</span>

   EVPL service is defined within the context of both [<a href="#ref-G.8011.2" title='"Ethernet virtual private line service"'>G.8011.2</a>] and
   [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>].  EVPL service allows for multiple Ethernet connections per
   port, each of which supports a specific set of VLAN IDs.  The service
   attributes identify different forms of EVPL services, e.g., bundled
   or unbundled.  Independent of the different forms, LSPs supporting
   EVPL Ethernet type switching are signaled using the same mechanisms
   to communicate the one or more VLAN IDs associated with a particular
   LSP (Ethernet connection).

   The relevant [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>] parameter values that MUST be used for EVPL
   connections are:

      Parameter          Name (Value)       Reference
      --------------     -----------------  ------------------
      Switching Type     EVPL (30)          [<a href="rfc6004.html">RFC6004</a>]
      LSP Encoding Type  Ethernet (2)       [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>]
      G-PID              Ethernet PHY (33)  [<a href="rfc3471.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>][RFC4328]

   As with EPL, the procedures defined in <a href="#section-2">Section 2</a> and the other
   procedures defined in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] for the establishment and management
   of bidirectional LSPs MUST be followed when establishing and
   controlling LSPs that provide EVPL service type Ethernet switching.

   LSPs that provide EVPL service type Ethernet switching MUST use the
   EVPL Generalized Label Format per <a href="#section-4.1">Section 4.1</a>, and the Generalized
   Channel_Set Label Objects per [<a href="rfc6002.html" title='"Generalized MPLS (GMPLS) Data Channel Switching Capable (DCSC) and Channel Set Label Extensions"'>RFC6002</a>].  A notable implication of
   bundled EVPL services and carrying multiple VLAN IDs is that a Path
   message may grow to be larger than a single (fragmented or non-
   fragmented) IP packet.  The basic approach to solving this is to
   allow for multiple LSPs which are associated with a single Call, see
   <a href="#section-2.2">Section 2.2</a>.  The specifics of this approach are describe below in
   <a href="#section-4.4">Section 4.4</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20EVPL%20Generalized%20Label%20Format"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  EVPL Generalized Label Format</span>

   Bundled EVPL services require the use of a service-specific label,
   called the EVPL Generalized Label.  For consistency, non-bundled EVPL
   services also use the same label.

   The format for the Generalized Label (Label Type value 2) used with
   EVPL services is:








<span class="grey">Berger &amp; Fedyk               Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


      0                   1
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Rsvd  |        VLAN ID        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Reserved: 4 bits

         This field is reserved.  It MUST be set to zero on transmission
         and MUST be ignored on receipt.  This field SHOULD be passed
         unmodified by transit nodes.

      VLAN ID: 12 bits

         A VLAN identifier.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Egress%20VLAN%20ID%20Control%20and%20VLAN%20ID%20Preservation"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Egress VLAN ID Control and VLAN ID Preservation</span>

   When an EVPL service is not configured for both bundling and VLAN ID
   preservation, [<a href="#ref-MEF6" title='"Ethernet Services Definitions - Phase I"'>MEF6</a>] allows VLAN ID mapping.  In particular, the
   single VLAN ID used at the incoming interface of the ingress may be
   mapped to a different VLAN ID at the outgoing interface at the egress
   UNI.  Such mapping MUST be requested and signaled based on the
   explicit label control mechanism defined in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] and clarified
   in [<a href="rfc4003.html" title='"GMPLS Signaling Procedure for Egress Control"'>RFC4003</a>].

   When the explicit label control mechanism is not used, VLAN IDs MUST
   be preserved, i.e., not modified, across an LSP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20Single%20Call%20-%20Single%20LSP"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  Single Call - Single LSP</span>

   For simplicity in management, a single LSP SHOULD be used for each
   EVPL type LSP whose Path and Resv messages fit within a single
   unfragmented IP packet.  This allows the reuse of all standard LSP
   modification procedures.  Of particular note is the modification of
   the VLAN IDs associated with the Ethernet connection.  Specifically,
   [<a href="rfc6002.html" title='"Generalized MPLS (GMPLS) Data Channel Switching Capable (DCSC) and Channel Set Label Extensions"'>RFC6002</a>], make-before-break procedures SHOULD be used to modify the
   Channel_Set LABEL object.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Single%20Call%20-%20Multiple%20LSPs"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Single Call - Multiple LSPs</span>

   Multiple LSPs MAY be used to support an EVPL service connection.  All
   such LSPs MUST be established within the same Call and follow Call-
   related procedures, see <a href="#section-2.2">Section 2.2</a>.  The primary purpose of multiple
   LSPs is to support the case in which the related objects result in a
   Path message being larger than a single unfragmented IP packet.





<span class="grey">Berger &amp; Fedyk               Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


   When using multiple LSPs, all LSPs associated with the same Call/EVPL
   connection MUST be signaled with the same LSP objects with the
   exception of the SENDER_TEMPLATE, SESSION, and label-related objects.
   All such LSPs SHOULD share resources.  When using multiple LSPs, VLAN
   IDs MAY be added to the EVPL connection using either a new LSP or
   make-before-break procedures, see [<a href="rfc3209.html" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>].  Make-before-break
   procedures on individual LSPs SHOULD be used to remove VLAN IDs.

   To change other service parameters it is necessary to re-signal all
   LSPs associated with the Call via make-before-break procedures.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  IANA Considerations</span>

   IANA has assigned new values for namespaces defined in this document
   and summarized in this section.  The registries are available from
   <a href="http://www.iana.org/">http://www.iana.org</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Endpoint%20ID%20Attributes%20TLV"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Endpoint ID Attributes TLV</span>

   IANA has made the following assignment in the "Call Attributes TLV"
   section of the "RSVP Parameters" registry.

   Type  Name         Reference
   ----  -----------  ---------
   2    Endpoint ID   [<a href="rfc6004.html">RFC6004</a>]

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Line%20LSP%20Encoding"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Line LSP Encoding</span>

   IANA has made the following assignment in the "LSP Encoding Types"
   section of the "GMPLS Signaling Parameters" registry.

   Value   Type                                 Reference
   -----   ---------------------------          ---------
      14   Line (e.g., 8B/10B)                  [<a href="rfc6004.html">RFC6004</a>]

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20Ethernet%20Virtual%20Private%20Line%20%28EVPL%29%20Switching%20Type"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  Ethernet Virtual Private Line (EVPL) Switching Type</span>

   IANA has made the following assignment in the "Switching Types"
   section of the "GMPLS Signaling Parameters" registry.

   Value   Type                                      Reference
   -----   ------------------------------------      ---------
      30   Ethernet Virtual Private Line (EVPL)      [<a href="rfc6004.html">RFC6004</a>]

   The assigned value has been reflected in IANAGmplsSwitchingTypeTC of
   the IANA-GMPLS-TC-MIB available from <a href="http://www.iana.org/">http://www.iana.org</a>.





<span class="grey">Berger &amp; Fedyk               Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   This document introduces new message object formats for use in GMPLS
   signaling [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].  It does not introduce any new signaling
   messages, nor change the relationship between Label Switching Routers
   (LSRs) that are adjacent in the control plane.  As such, this
   document introduces no additional security considerations to those
   discussed in [<a href="rfc3473.html" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3209" name="ref-RFC3209">RFC3209</a>]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", <a href="rfc3209.html">RFC 3209</a>, December 2001.

   [<a id="ref-RFC3471" name="ref-RFC3471">RFC3471</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Functional Description", <a href="rfc3471.html">RFC</a>
              <a href="rfc3471.html">3471</a>, January 2003.

   [<a id="ref-RFC3473" name="ref-RFC3473">RFC3473</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Resource ReserVation Protocol-
              Traffic Engineering (RSVP-TE) Extensions", <a href="rfc3473.html">RFC 3473</a>,
              January 2003.

   [<a id="ref-RFC4003" name="ref-RFC4003">RFC4003</a>]  Berger, L., "GMPLS Signaling Procedure for Egress
              Control", <a href="rfc4003.html">RFC 4003</a>, February 2005.

   [<a id="ref-RFC4974" name="ref-RFC4974">RFC4974</a>]  Papadimitriou, D. and A. Farrel, "Generalized MPLS (GMPLS)
              RSVP-TE Signaling Extensions in Support of Calls", <a href="rfc4974.html">RFC</a>
              <a href="rfc4974.html">4974</a>, August 2007.

   [<a id="ref-RFC6001" name="ref-RFC6001">RFC6001</a>]  Papadimitriou, D., Vigoureux, M., Shiomoto, K., Brungard,
              D. and JL. Le Roux, "Generalized MPLS (GMPLS) Protocol
              Extensions for Multi-Layer and Multi-Region Networks
              (MLN/MRN)", <a href="rfc6001.html">RFC 6001</a>, October 2010.

   [<a id="ref-RFC6002" name="ref-RFC6002">RFC6002</a>]  Berger, L. and D. Fedyk, "Generalized MPLS (GMPLS) Data
              Channel Switching Capable (DCSC) and Channel Set Label
              Extensions", <a href="rfc6002.html">RFC 6002</a>, October 2010.

   [<a id="ref-RFC6003" name="ref-RFC6003">RFC6003</a>]  Papadimitriou, D., "Ethernet Traffic Parameters," <a href="rfc6003.html">RFC</a>
              <a href="rfc6003.html">6003</a>, October 2010.




<span class="grey">Berger &amp; Fedyk               Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-G.8011" name="ref-G.8011">G.8011</a>]   ITU-T G.8011/Y.1307, "Ethernet over Transport Ethernet
              services framework", August 2004.

   [<a id="ref-G.8011.1" name="ref-G.8011.1">G.8011.1</a>] ITU-T G.G.8011.1/Y.1307.1, "Ethernet private line
              service", August 2004.

   [<a id="ref-G.8011.2" name="ref-G.8011.2">G.8011.2</a>] ITU-T G.8011.2/Y.1307.2, "Ethernet virtual private line
              service", September 2005.

   [<a id="ref-MEF6" name="ref-MEF6">MEF6</a>]     The Metro Ethernet Forum, "Ethernet Services Definitions -
              Phase I", MEF 6, June 2004.

   [<a id="ref-MEF10.1" name="ref-MEF10.1">MEF10.1</a>]  The Metro Ethernet Forum, "Ethernet Services Attributes
              Phase 2", MEF 10.1, November 2006.

   [<a id="ref-MEF11" name="ref-MEF11">MEF11</a>]    The Metro Ethernet Forum , "User Network Interface (UNI)
              Requirements and Framework", MEF 11, November 2004.

   [<a id="ref-RFC4328" name="ref-RFC4328">RFC4328</a>]  Papadimitriou, D., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Extensions for G.709 Optical
              Transport Networks Control", <a href="rfc4328.html">RFC 4328</a>, January 2006.

   [<a id="ref-RFC4875" name="ref-RFC4875">RFC4875</a>]  Aggarwal, R., Ed., Papadimitriou, D., Ed., and S.
              Yasukawa, Ed., "Extensions to Resource Reservation
              Protocol - Traffic Engineering (RSVP-TE) for Point-to-
              Multipoint TE Label Switched Paths (LSPs)", <a href="rfc4875.html">RFC 4875</a>, May
              2007.

   [<a id="ref-RFC6005" name="ref-RFC6005">RFC6005</a>]  Berger, L. and D. Fedyk,"Generalized MPLS (GMPLS) Support
              for Metro Ethernet Forum and G.8011 User Network Interface
              (UNI)", <a href="rfc6005.html">RFC 6005</a>, October 2010.

Acknowledgments

   Dimitri Papadimitriou provided substantial textual contributions to
   this document and coauthored earlier versions of this document.

   The authors would like to thank Evelyne Roch, Stephen Shew, and Yoav
   Cohen for their valuable comments.










<span class="grey">Berger &amp; Fedyk               Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc6004.html">RFC 6004</a>            GMPLS Support for MEF and G.8011        October 2010</span>


Authors' Addresses

   Lou Berger
   LabN Consulting, L.L.C.
   Phone: +1-301-468-9228
   EMail: lberger@labn.net

   Don Fedyk
   Alcatel-Lucent
   Groton, MA 01450
   Phone: +1-978-467-5645
   EMail: donald.fedyk@alcatel-lucent.com







































Berger &amp; Fedyk               Standards Track                   [Page 15]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc6004 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:31 GMT --></html>