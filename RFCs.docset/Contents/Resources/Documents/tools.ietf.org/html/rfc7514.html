<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7514 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:20 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:7514" name="DC.Identifier"/>
<meta content="This document proposes a new ICMP message that a router or host may
use to advise a host to reduce the rate at which it sends, in cases
where the host ignores other signals provided by packet loss and
Explicit Congestion Notification (ECN)." name="DC.Description.Abstract"/>
<meta content="M. Luckie" name="DC.Creator"/>
<meta content="April, 2015" name="DC.Date.Issued"/>
<meta content="Really Explicit Congestion Notification (RECN)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7514 - Really Explicit Congestion Notification (RECN)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgyellow" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7514.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7514" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-luckie-recn" title="draft-luckie-recn">draft-luckie-recn</a>] [<a href="https://datatracker.ietf.org/doc/rfc7514" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7514" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7514" title="Side-by-side diff">Diff2</a>]          </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                            EXPERIMENTAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Independent Submission                                         M. Luckie
Request for Comments: 7514                                         CAIDA
Category: Experimental                                      1 April 2015
ISSN: 2070-1721


             <span class="h1">Really Explicit Congestion Notification (RECN)</span>

Abstract

   This document proposes a new ICMP message that a router or host may
   use to advise a host to reduce the rate at which it sends, in cases
   where the host ignores other signals provided by packet loss and
   Explicit Congestion Notification (ECN).

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for examination, experimental implementation, and
   evaluation.

   This document defines an Experimental Protocol for the Internet
   community.  This is a contribution to the RFC Series, independently
   of any other RFC stream.  The RFC Editor has chosen to publish this
   document at its discretion and makes no statement about its value for
   implementation or deployment.  Documents approved for publication by
   the RFC Editor are not a candidate for any level of Internet
   Standard; see <a href="rfc5741.html#section-2">SectionÂ 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7514">http://www.rfc-editor.org/info/rfc7514</a>.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.







<span class="grey">Luckie                        Experimental                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7514.html">RFC 7514</a>                          RECN                      1 April 2015</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
     <a href="#section-1.1">1.1</a>.  Requirements Language . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  RECN Message Format . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
     <a href="#section-2.1">2.1</a>.  Advice to Implementers  . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.2">2.2</a>.  Relationship to ICMP Source Quench  . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-5">5</a>.  Normative References  . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The deployment of Explicit Congestion Notification (ECN) [<a href="rfc3168.html" title='"The Addition of Explicit Congestion Notification (ECN) to IP"'>RFC3168</a>]
   remains stalled.  While most operating systems support ECN, it is
   currently disabled by default because of fears that enabling ECN will
   break transport protocols.  This document proposes a new ICMP message
   that a router or host may use to advise a host to reduce the rate at
   which it sends, in cases where the host ignores other signals such as
   packet loss and ECN.  We call this message the "Really Explicit
   Congestion Notification" (RECN) message because it delivers a less
   subtle indication of congestion than packet loss and ECN.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Requirements%20Language"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20RECN%20Message%20Format"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  RECN Message Format</span>

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Explicit Notification                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           As much of the invoking packet as possible          |
   +           without the ICMP packet exceeding 576 bytes         |
   |               in IPv4 or the minimum MTU in IPv6              |

   Type

      IPv4: 4

      IPv6: 201



<span class="grey">Luckie                        Experimental                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7514.html">RFC 7514</a>                          RECN                      1 April 2015</span>


   Code

      0

   Checksum

      The checksum is the 16-bit ones's complement of the one's
      complement sum of the ICMP message starting with the ICMP type
      field.  When an RECN message is encapsulated in an IPv6 packet,
      the computation includes a "pseudo-header" of IPv6 header fields
      as specified in <a href="rfc2460.html#section-8.1">SectionÂ 8.1 of [RFC2460]</a>.  For computing the
      checksum, the checksum field is first set to zero.

   Explicit Notification

      A 4-byte value that conveys an explicit notification in the ASCII
      format defined in [<a href="rfc20.html" title='"ASCII format for network interchange"'>RFC20</a>].  This field MUST NOT be set to zero.

   Description

      An RECN message SHOULD be sent by a router in response to a host
      that is generating traffic at a rate persistently unfair to other
      competing flows and that has not reacted to previous packet losses
      or ECN marks.

      The contents of an RECN message MUST be conveyed to the user
      responsible for the traffic.  Precisely how this is accomplished
      will depend on the capabilities of the host.  If text-to-speech
      capabilities are available, the contents should be converted to
      sound form and audibly rendered.  If the system is currently
      muted, a pop-up message will suffice.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20Advice%20to%20Implementers"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  Advice to Implementers</span>

   As the Explicit Notification field is only 4 bytes, it is not
   required that the word be null terminated.  A client implementation
   should be careful not to use more than those 4 bytes.  If a router
   chooses a word less than 4 bytes in size, it should null-terminate
   that word.

   A router should not necessarily send an RECN message every time it
   discards a packet due to congestion.  Rather, a router should send
   these messages whenever it discards a burst of packets from a single
   sender.  For every packet a router discards in a single burst, it
   should send an RECN message.  A router may form short sentences
   composed of different 4-byte words, and a host should play these
   sentences back to the user.  A router may escalate the content in the
   Explicit Notification field if it determines that a sender has not



<span class="grey">Luckie                        Experimental                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7514.html">RFC 7514</a>                          RECN                      1 April 2015</span>


   adjusted its transmission rate in response to previous RECN messages.
   There is no upper bound on the intensity of the escalation, either in
   content or sentence length.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Relationship%20to%20ICMP%20Source%20Quench"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Relationship to ICMP Source Quench</span>

   The RECN message was inspired by the ICMP Source Quench message,
   which is now deprecated [<a href="rfc6633.html" title='"Deprecation of ICMP Source Quench Messages"'>RFC6633</a>].  Because the RECN message uses a
   similar approach, an RECN message uses the same ICMP type when
   encapsulated in IPv4 as was used by the ICMP Source Quench message.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  IANA Considerations</span>

   This is an Experimental RFC; the experiment will conclude two years
   after the publication of this RFC.  During the experiment,
   implementers are free to use words of their own choosing (up to four
   letters) in RECN messages.  If RECN becomes a Standard of any kind, a
   list of allowed words will be maintained in an IANA registry.  There
   are no IANA actions required at this time.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Security Considerations</span>

   ICMP messages may be used in various attacks [<a href="rfc5927.html" title='"ICMP Attacks against TCP"'>RFC5927</a>].  An attacker
   may use the RECN message to cause a host to reduce their transmission
   rate for no reason.  To prevent such an attack, a host must ensure
   the quoted message corresponds to an active flow on the system, and
   an attacker MUST set the security flag defined in [<a href="rfc3514.html" title='"The Security Flag in the IPv4 Header"'>RFC3514</a>] to 1 when
   the RECN message is carried in an IPv4 packet.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Normative%20References"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Normative References</span>

   [<a id="ref-RFC20" name="ref-RFC20">RFC20</a>]    Cerf, V., "ASCII format for network interchange", STD 80,
              <a href="rfc20.html">RFC 20</a>, October 1969,
              &lt;<a href="http://www.rfc-editor.org/info/rfc20">http://www.rfc-editor.org/info/rfc20</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2460" name="ref-RFC2460">RFC2460</a>]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", <a href="rfc2460.html">RFC 2460</a>, December 1998,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2460">http://www.rfc-editor.org/info/rfc2460</a>&gt;.

   [<a id="ref-RFC3168" name="ref-RFC3168">RFC3168</a>]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition
              of Explicit Congestion Notification (ECN) to IP", <a href="rfc3168.html">RFC</a>
              <a href="rfc3168.html">3168</a>, September 2001,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3168">http://www.rfc-editor.org/info/rfc3168</a>&gt;.




<span class="grey">Luckie                        Experimental                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7514.html">RFC 7514</a>                          RECN                      1 April 2015</span>


   [<a id="ref-RFC3514" name="ref-RFC3514">RFC3514</a>]  Bellovin, S., "The Security Flag in the IPv4 Header", <a href="rfc3514.html">RFC</a>
              <a href="rfc3514.html">3514</a>, April 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3514">http://www.rfc-editor.org/info/rfc3514</a>&gt;.

   [<a id="ref-RFC5927" name="ref-RFC5927">RFC5927</a>]  Gont, F., "ICMP Attacks against TCP", <a href="rfc5927.html">RFC 5927</a>, July 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5927">http://www.rfc-editor.org/info/rfc5927</a>&gt;.

   [<a id="ref-RFC6633" name="ref-RFC6633">RFC6633</a>]  Gont, F., "Deprecation of ICMP Source Quench Messages",
              <a href="rfc6633.html">RFC 6633</a>, May 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6633">http://www.rfc-editor.org/info/rfc6633</a>&gt;.

Author's Address

   Matthew Luckie
   CAIDA
   University of California, San Diego
   9500 Gilman Drive
   La Jolla, CA  92093-0505
   United States

   EMail: mjl@caida.org






























Luckie                        Experimental                      [Page 5]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7514 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:20 GMT --></html>