<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc785 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:19:01 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:785" name="DC.Identifier"/>
<meta content="Postel, J." name="DC.Creator"/>
<meta content="Sluizer, S." name="DC.Creator"/>
<meta content="July, 1981" name="DC.Date.Issued"/>
<meta content="Mail Transfer Protocol: ISI TOPS20 file definitions" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 785 - Mail Transfer Protocol: ISI TOPS20 file definitions</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgwhite" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc785.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc785" title="PDF version of this document">pdf</a>] [<a href="https://datatracker.ietf.org/doc/rfc785" title="IESG Datatracker information for this document">Tracker</a>]                                              </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                         S. Sluizer
Request for Comments: 785                                      J. Postel
                                                                     ISI
                                                               July 1981

                        <span class="h1">MAIL TRANSFER PROTOCOL:</span>
                      <span class="h1">ISI TOPS20 FILE DEFINITIONS</span>


INTRODUCTION

   This document defines the ISI TOPS20s interface between the Mail
   Transfer Protocol (MTP) and a mail creation system (e.g., MM, HERMES,
   etc.) in terms of the files which implement it.  The internal
   structure and name of each file is described below.

   For a complete understanding of the MTP protocol as well as the terms
   used within this document, see <a href="rfc780.html">RFC 780</a>, "Mail Transfer Protocol".

DESCRIPTION

   For each piece of mail, the TOPS20 interface between a mail creation
   system and MTP is comprised of two files.  The first file must be
   named "^V[--UNSENT-MAIL-CONTROL--^V].MTP.-1", where "^V" represents
   the character "control V" (ASCII code 026) and the generation number
   "-1" indicates the next higher generation number (at the time of the
   file's creation).  It is strongly suggested that the second file be
   named "^V[--UNSENT-MAIL-FILE--^V].MTP.-1", where "^V" and "-1" are as
   defined before.  (However, the actual file name may be chosen by the
   mail creation system.)  Both these files reside in the directory of
   the user who created the mail (as is currently the case with the
   MAILER-based system).

   "^V[--UNSENT-MAIL-CONTROL--^V].MTP.-1" is the control file.  It is an
   ASCIZ file and contains all information necessary to relay the mail
   through MTP.  It consists of a pointer to the mail text, the
   source-path, and all destination-paths.

   First is "FILE:" followed by the FULL mail text file name (which must
   include directory name and generation number) followed by &lt;CRLF&gt;
   (ASCII code 15 followed by ASCII code 12).  Note that a structure
   name is allowed; if not given "PS:" will be assumed.  Also note that
   for each character that must be quoted in a file name the quote
   character (^V) must be present in the string following "FILE:".  Next
   is "FROM:" followed by the &lt;FROM-path&gt; followed by &lt;CRLF&gt;.  Finally,
   each destination is given in the form "TO:" followed by the &lt;TO-path&gt;
   followed by &lt;CRLF&gt;.  The FROM- and TO-paths include surrounding angle
   brackets (i.e., &lt;...&gt;) and are identical respectively to the source-
   and destination-paths described in <a href="rfc780.html">RFC 780</a>.





Sluizer &amp; Postel                                                Page [1]</pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage">
July 1981                                                        <a href="rfc785.html">RFC 785</a>
ISI TOPS20 File Definitions



  ---------------------------------------------------------------------
                       +------------------------+
                       |FILE: &lt;File name&gt; &lt;CRLF&gt;|
                       +------------------------+
                       |FROM: &lt;FROM-path&gt; &lt;CRLF&gt;|
                       +------------------------+
                       |  TO: &lt;TO-path&gt; &lt;CRLF&gt;  |
                       +------------------------+
                       |           ...          |
                       +------------------------+
                       |  TO: &lt;TO-path&gt; &lt;CRLF&gt;  |
                       +------------------------+

        File structure for ^V[--UNSENT-MAIL-CONTROL--^V].MTP.-1
                                Figure 1
  ---------------------------------------------------------------------

   "^V[--UNSENT-MAIL-FILE--^V].MTP.-1" is the mail text file.  (Note
   that this is the file to which &lt;File name&gt; in the control file
   refers.)  It is mail which conforms to the standard described in <a href="rfc733.html">RFC</a>
   <a href="rfc733.html">733</a>, "Standard for the Format of ARPA Network Text Messages".

DISCUSSION

   The older mail creation systems create N copies of a mail text file,
   one for each of the N addresses in the TO, CC, and BCC fields.  Each
   file is named "^V[--UNSENT-MAIL--^V].&lt;mailbox&gt;^V@&lt;host&gt;.-1", where
   &lt;mailbox&gt; and &lt;host&gt; are as defined in MTP, and "^V" and "-1" are as
   defined above.

   The interface between the mail creation system and MTP requires only
   the creation of two files, regardless of the number of addresses in
   the TO, CC, and BCC fields.  The control file contains the
   source-path and destination-paths information as well as a pointer to
   the mail text file.  The mail text file contains the the <a href="rfc733.html">RFC 733</a>
   header and body.













Page [2]                                                Sluizer &amp; Postel</pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage">
<a href="rfc785.html">RFC 785</a>                                                        July 1981
                                                  Mail Transfer Protocol



EXAMPLE

   In this example, there were no previously existing versions of either
   the control file or the mail text file in directory &lt;LINDA&gt; where the
   message was created.  Figure 2 shows the mail text file and figure 3
   shows the control file.

   ------------------------------------------------------------------
      DATE: April 6, 1981
      Sender: Linda at ISIF
      From: Jon Postel &lt;postel@isif&gt;
      To: DCrocker at UDel, Cerf at ISIA
      Cc: postel@ISIF
      Bcc: sluizer@isif
      Subject: MTP discussion

      Your comments on the MTP document were most helpful.  A revised
      version will be forthcoming shortly.

      Thanks again,
      --jon

        File contents of &lt;LINDA&gt;^V[--UNSENT-MAIL-FILE--^V].MTP.1
                                Figure 2
   ------------------------------------------------------------------

   ------------------------------------------------------------------
          +--------------------------------------------------+
          |FILE:&lt;LINDA&gt;^V[--UNSENT-MAIL-FILE--^V].MTP.1&lt;CRLF&gt;|
          +--------------------------------------------------+
          |FROM:&lt;Linda@ISIF&gt;&lt;CRLF&gt;                           |
          +--------------------------------------------------+
          |TO:&lt;DCrocker@UDel&gt;&lt;CRLF&gt;                          |
          +--------------------------------------------------+
          |TO:&lt;Cerf@ISIA&gt;&lt;CRLF&gt;                              |
          +--------------------------------------------------+
          |TO:&lt;postel@ISIF&gt;&lt;CRLF&gt;                            |
          +--------------------------------------------------+
          |TO:&lt;sluizer@isif&gt;&lt;CRLF&gt;                           |
          +--------------------------------------------------+

          File contents of ^V[--UNSENT-MAIL-CONTROL--^V].MTP.1
                                Figure 3
   ------------------------------------------------------------------





Sluizer &amp; Postel                                                Page [3]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc785 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:19:01 GMT --></html>