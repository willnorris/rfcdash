<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from tools.ietf.org/html/rfc6534 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:43:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129c" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Identifier" content="urn:ietf:rfc:6534" />
<meta name="DC.Description.Abstract" content="The IETF has developed a one-way packet loss metric that measures the
loss rate on a Poisson and Periodic probe streams between two hosts.
However, the impact of packet loss on applications is, in general,
sensitive not just to the average loss rate but also to the way in
which packet losses are distributed in loss episodes (i.e., maximal
sets of consecutively lost probe packets). This document defines one-
way packet loss episode metrics, specifically, the frequency and
average duration of loss episodes and a probing methodology under
which the loss episode metrics are to be measured. [STANDARDS-TRACK]" />
<meta name="DC.Creator" content="Morton, Al" />
<meta name="DC.Creator" content="Duffield, Nick" />
<meta name="DC.Creator" content="Sommers, Joel" />
<meta name="DC.Date.Issued" content="May, 2012" />
<meta name="DC.Title" content="Loss Episode Metrics for IP Performance Metrics (IPPM)" />

    <link rel="icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="https://tools.ietf.org/images/rfc.png" type="image/png" />
    <title>RFC 6534 - Loss Episode Metrics for IP Performance Metrics (IPPM)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgblue"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc6534.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc6534" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-ippm-loss-episode-metrics" title="draft-ietf-ippm-loss-episode-metrics">draft-ietf-ippm...</a>] [<a href='https://datatracker.ietf.org/doc/rfc6534' title='IESG Datatracker information for this document'>Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc6534" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc6534" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=6534&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<pre>
Internet Engineering Task Force (IETF)                       N. Duffield
Request for Comments: 6534                            AT&amp;T Labs-Research
Category: Standards Track                                      A. Morton
ISSN: 2070-1721                                                AT&amp;T Labs
                                                              J. Sommers
                                                      Colgate University
                                                                May 2012


         <span class="h1">Loss Episode Metrics for IP Performance Metrics (IPPM)</span>

Abstract

   The IETF has developed a one-way packet loss metric that measures the
   loss rate on a Poisson and Periodic probe streams between two hosts.
   However, the impact of packet loss on applications is, in general,
   sensitive not just to the average loss rate but also to the way in
   which packet losses are distributed in loss episodes (i.e., maximal
   sets of consecutively lost probe packets).  This document defines
   one-way packet loss episode metrics, specifically, the frequency and
   average duration of loss episodes and a probing methodology under
   which the loss episode metrics are to be measured.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6534">http://www.rfc-editor.org/info/rfc6534</a>.

Copyright Notice

   Copyright (c) 2012 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



<span class="grey">Duffield, et al.             Standards Track                    [Page 1]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-4">4</a>
      <a href="#section-1.1">1.1</a>. Background and Motivation ..................................<a href="#page-4">4</a>
           <a href="#section-1.1.1">1.1.1</a>. Requirements Language ...............................<a href="#page-5">5</a>
      <a href="#section-1.2">1.2</a>. Loss Episode Metrics and Bi-Packet Probes ..................<a href="#page-5">5</a>
      <a href="#section-1.3">1.3</a>. Outline and Contents .......................................<a href="#page-6">6</a>
   <a href="#section-2">2</a>. Singleton Definition for Type-P-One-way Bi-Packet Loss ..........<a href="#page-7">7</a>
      <a href="#section-2.1">2.1</a>. Metric Name ................................................<a href="#page-7">7</a>
      <a href="#section-2.2">2.2</a>. Metric Parameters ..........................................<a href="#page-7">7</a>
      <a href="#section-2.3">2.3</a>. Metric Units ...............................................<a href="#page-7">7</a>
      <a href="#section-2.4">2.4</a>. Metric Definition ..........................................<a href="#page-7">7</a>
      <a href="#section-2.5">2.5</a>. Discussion .................................................<a href="#page-8">8</a>
      <a href="#section-2.6">2.6</a>. Methodologies ..............................................<a href="#page-8">8</a>
      <a href="#section-2.7">2.7</a>. Errors and Uncertainties ...................................<a href="#page-8">8</a>
      <a href="#section-2.8">2.8</a>. Reporting the Metric .......................................<a href="#page-8">8</a>
   3. General Definition of Samples for
      Type-P-One-way-Bi-Packet-Loss ...................................<a href="#page-8">8</a>
      <a href="#section-3.1">3.1</a>. Metric Name ................................................<a href="#page-9">9</a>
      <a href="#section-3.2">3.2</a>. Metric Parameters ..........................................<a href="#page-9">9</a>
      <a href="#section-3.3">3.3</a>. Metric Units ...............................................<a href="#page-9">9</a>
      <a href="#section-3.4">3.4</a>. Metric Definition ..........................................<a href="#page-9">9</a>
      <a href="#section-3.5">3.5</a>. Discussion .................................................<a href="#page-9">9</a>
      <a href="#section-3.6">3.6</a>. Methodologies .............................................<a href="#page-10">10</a>
      <a href="#section-3.7">3.7</a>. Errors and Uncertainties ..................................<a href="#page-10">10</a>
      <a href="#section-3.8">3.8</a>. Reporting the Metric ......................................<a href="#page-10">10</a>
   <a href="#section-4">4</a>. An Active Probing Methodology for Bi-Packet Loss ...............<a href="#page-10">10</a>
      <a href="#section-4.1">4.1</a>. Metric Name ...............................................<a href="#page-10">10</a>
      <a href="#section-4.2">4.2</a>. Metric Parameters .........................................<a href="#page-10">10</a>
      <a href="#section-4.3">4.3</a>. Metric Units ..............................................<a href="#page-11">11</a>
      <a href="#section-4.4">4.4</a>. Metric Definition .........................................<a href="#page-11">11</a>
      <a href="#section-4.5">4.5</a>. Discussion ................................................<a href="#page-11">11</a>



<span class="grey">Duffield, et al.             Standards Track                    [Page 2]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


      <a href="#section-4.6">4.6</a>. Methodologies .............................................<a href="#page-11">11</a>
      <a href="#section-4.7">4.7</a>. Errors and Uncertainties ..................................<a href="#page-12">12</a>
      <a href="#section-4.8">4.8</a>. Reporting the Metric ......................................<a href="#page-12">12</a>
   <a href="#section-5">5</a>. Loss Episode Proto-Metrics .....................................<a href="#page-12">12</a>
      <a href="#section-5.1">5.1</a>. Loss-Pair-Counts ..........................................<a href="#page-13">13</a>
      <a href="#section-5.2">5.2</a>. Bi-Packet-Loss-Ratio ......................................<a href="#page-13">13</a>
      <a href="#section-5.3">5.3</a>. Bi-Packet-Loss-Episode-Duration-Number ....................<a href="#page-13">13</a>
      <a href="#section-5.4">5.4</a>. Bi-Packet-Loss-Episode-Frequency-Number ...................<a href="#page-13">13</a>
   <a href="#section-6">6</a>. Loss Episode Metrics Derived from Bi-Packet Loss Probing .......<a href="#page-14">14</a>
      <a href="#section-6.1">6.1</a>. Geometric Stream: Loss Ratio ..............................<a href="#page-14">14</a>
           <a href="#section-6.1.1">6.1.1</a>. Metric Name ........................................<a href="#page-14">14</a>
           <a href="#section-6.1.2">6.1.2</a>. Metric Parameters ..................................<a href="#page-14">14</a>
           <a href="#section-6.1.3">6.1.3</a>. Metric Units .......................................<a href="#page-15">15</a>
           <a href="#section-6.1.4">6.1.4</a>. Metric Definition ..................................<a href="#page-15">15</a>
           <a href="#section-6.1.5">6.1.5</a>. Discussion .........................................<a href="#page-15">15</a>
           <a href="#section-6.1.6">6.1.6</a>. Methodologies ......................................<a href="#page-15">15</a>
           <a href="#section-6.1.7">6.1.7</a>. Errors and Uncertainties ...........................<a href="#page-15">15</a>
           <a href="#section-6.1.8">6.1.8</a>. Reporting the Metric ...............................<a href="#page-15">15</a>
      <a href="#section-6.2">6.2</a>. Geometric Stream: Loss Episode Duration ...................<a href="#page-16">16</a>
           <a href="#section-6.2.1">6.2.1</a>. Metric Name ........................................<a href="#page-16">16</a>
           <a href="#section-6.2.2">6.2.2</a>. Metric Parameters ..................................<a href="#page-16">16</a>
           <a href="#section-6.2.3">6.2.3</a>. Metric Units .......................................<a href="#page-16">16</a>
           <a href="#section-6.2.4">6.2.4</a>. Metric Definition ..................................<a href="#page-16">16</a>
           <a href="#section-6.2.5">6.2.5</a>. Discussion .........................................<a href="#page-16">16</a>
           <a href="#section-6.2.6">6.2.6</a>. Methodologies ......................................<a href="#page-16">16</a>
           <a href="#section-6.2.7">6.2.7</a>. Errors and Uncertainties ...........................<a href="#page-17">17</a>
           <a href="#section-6.2.8">6.2.8</a>. Reporting the Metric ...............................<a href="#page-17">17</a>
      <a href="#section-6.3">6.3</a>. Geometric Stream: Loss Episode Frequency ..................<a href="#page-17">17</a>
           <a href="#section-6.3.1">6.3.1</a>. Metric Name ........................................<a href="#page-17">17</a>
           <a href="#section-6.3.2">6.3.2</a>. Metric Parameters ..................................<a href="#page-17">17</a>
           <a href="#section-6.3.3">6.3.3</a>. Metric Units .......................................<a href="#page-17">17</a>
           <a href="#section-6.3.4">6.3.4</a>. Metric Definition ..................................<a href="#page-18">18</a>
           <a href="#section-6.3.5">6.3.5</a>. Discussion .........................................<a href="#page-18">18</a>
           <a href="#section-6.3.6">6.3.6</a>. Methodologies ......................................<a href="#page-18">18</a>
           <a href="#section-6.3.7">6.3.7</a>. Errors and Uncertainties ...........................<a href="#page-18">18</a>
           <a href="#section-6.3.8">6.3.8</a>. Reporting the Metric ...............................<a href="#page-18">18</a>
   <a href="#section-7">7</a>. Applicability of Loss Episode Metrics ..........................<a href="#page-18">18</a>
      <a href="#section-7.1">7.1</a>. Relation to Gilbert Model .................................<a href="#page-18">18</a>
   <a href="#section-8">8</a>. Security Considerations ........................................<a href="#page-19">19</a>
   <a href="#section-9">9</a>. References .....................................................<a href="#page-20">20</a>
      <a href="#section-9.1">9.1</a>. Normative References ......................................<a href="#page-20">20</a>
      <a href="#section-9.2">9.2</a>. Informative References ....................................<a href="#page-20">20</a>









<span class="grey">Duffield, et al.             Standards Track                    [Page 3]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-4" id="page-4" href="#page-4" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h2"><a class="selflink" name="section-1" href="#section-1">1</a>.  Introduction</span>

<span class="h3"><a class="selflink" name="section-1.1" href="#section-1.1">1.1</a>.  Background and Motivation</span>

   Packet loss in the Internet is a complex phenomenon due to the bursty
   nature of traffic and congestion processes, influenced by both end-
   users and applications and the operation of transport protocols such
   as TCP.  For these reasons, the simplest model of packet loss -- the
   single parameter Bernoulli (independent) loss model -- does not
   represent the complexity of packet loss over periods of time.
   Correspondingly, a single loss metric -- the average packet loss
   ratio over some period of time -- arising, e.g., from a stream of
   Poisson probes as in [<a href="rfc2680.html" title="&quot;A One-way Packet Loss Metric for IPPM&quot;">RFC2680</a>] is not sufficient to determine the
   effect of packet loss on traffic in general.

   Moving beyond single parameter loss models, Markovian and Markov-
   modulated loss models involving transitions between a good and bad
   state, each with an associated loss rate, have been proposed by
   Gilbert [<a href="#ref-Gilbert" title="&quot;Capacity of a Burst-Noise Channel. Bell System Technical Journal 39 pp 1253-1265&quot;">Gilbert</a>] and more generally by Elliot [<a href="#ref-Elliot" title="&quot;Estimates of Error Rates for Codes on Burst-Noise Channels. Bell System Technical Journal 42 pp 1977-1997&quot;">Elliot</a>].  In
   principle, Markovian models can be formulated over state spaces
   involving patterns of loss of any desired number of packets.
   However, further increase in the size of the state space makes such
   models cumbersome both for parameter estimation (accuracy decreases)
   and prediction in practice (due to computational complexity and
   sensitivity to parameter inaccuracy).  In general, the relevance and
   importance of particular models can change in time, e.g., in response
   to the advent of new applications and services.  For this reason, we
   are drawn to empirical metrics that do not depend on a particular
   model for their interpretation.

   An empirical measure of packet loss complexity, the index of
   dispersion of counts (IDC), comprise, for each t &gt;0, the ratio v(t) /
   a(t) of the variance v(t) and average a(t) of the number of losses
   over successive measurement windows of a duration t.  However, a full
   characterization of packet loss over time requires specification of
   the IDC for each window size t&gt;0.

   In the standards arena, loss pattern sample metrics are defined in
   [<a href="rfc3357.html" title="&quot;One-way Loss Pattern Sample Metrics&quot;">RFC3357</a>].  Following the Gilbert-Elliot model, burst metrics
   specific for Voice over IP (VoIP) that characterize complete episodes
   of lost, transmitted, and discarded packets are defined in [<a href="rfc3611.html" title="&quot;RTP Control Protocol Extended Reports (RTCP XR)&quot;">RFC3611</a>].

   The above considerations motivate the formulation of empirical
   metrics of one-way packet loss that provide the simplest
   generalization of [<a href="rfc2680.html" title="&quot;A One-way Packet Loss Metric for IPPM&quot;">RFC2680</a>] (which is widely adopted but only defines
   a single loss-to-total ratio metric).  The metrics defined here





<span class="grey">Duffield, et al.             Standards Track                    [Page 4]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-5" id="page-5" href="#page-5" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   capture deviations from independent packet loss in a robust model-
   independent manner.  The document also defines efficient measurement
   methodologies for these metrics.

<span class="h4"><a class="selflink" name="section-1.1.1" href="#section-1.1.1">1.1.1</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h3"><a class="selflink" name="section-1.2" href="#section-1.2">1.2</a>.  Loss Episode Metrics and Bi-Packet Probes</span>

   The losses experienced by the packet stream can be viewed as
   occurring in loss episodes, i.e., a maximal set of consecutively lost
   packets.  This memo describes one-way loss episode metrics: their
   frequency and average duration.  Although the average loss ratio can
   be expressed in terms of these quantities, they go further in
   characterizing the statistics of the patterns of packet loss within
   the stream of probes.  This is useful information in understanding
   the effect of packet losses on application performance, since
   different applications can have different sensitivities to patterns
   of loss, being sensitive not only to the long-term average loss rate,
   but how losses are distributed in time.  As an example, MPEG video
   traffic may be sensitive to loss involving the I-frame in a group of
   pictures, but further losses within an episode of sufficiently short
   duration have no further impact; the damage is already done.

   The loss episode metrics presented here have the following useful
   properties:

   1.  the metrics are empirical and do not depend on an underlying
       model; e.g., the loss process is not assumed to be Markovian.  On
       the other hand, it turns out that the metrics of this memo can be
       related to the special case of the Gilbert Model parameters; see
       <a href="#section-7">Section 7</a>.

   2.  the metric units can be directly compared with applications or
       user requirements or tolerance for network loss performance, in
       the frequency and duration of loss episodes, as well as the usual
       packet loss ratio, which can be recovered from the loss episode
       metrics upon dividing the average loss episode duration by the
       loss episode frequency.

   3.  the metrics provide the smallest possible increment in complexity
       beyond, but in the spirit of, the IP Performance Metrics (IPPM)
       average packet loss ratio metrics [<a href="rfc2680.html" title="&quot;A One-way Packet Loss Metric for IPPM&quot;">RFC2680</a>], i.e., moving from a
       single metric (average packet loss ratio) to a pair of metrics
       (loss episode frequency and average loss episode duration).



<span class="grey">Duffield, et al.             Standards Track                    [Page 5]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-6" id="page-6" href="#page-6" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   The document also describes a probing methodology under which loss
   episode metrics are to be measured.  The methodology comprises
   sending probe packets in pairs, where packets within each probe pair
   have a fixed separation, and the time between pairs takes the form of
   a geometric distributed number multiplied by the same separation.
   This can be regarded a generalization of Poisson probing where the
   probes are pairs rather than single packets as in [<a href="rfc2680.html" title="&quot;A One-way Packet Loss Metric for IPPM&quot;">RFC2680</a>], and also
   of geometric probing described in [<a href="rfc2330.html" title="&quot;Framework for IP Performance Metrics&quot;">RFC2330</a>].  However, it should be
   distinguished from back-to-back packet pairs whose change in
   separation on traversing a link is used to probe bandwidth.  In this
   document, the separation between the packets in a pair is the
   temporal resolution at which different loss episodes are to be
   distinguished.  The methodology does not measure episodes of loss of
   consecutive background packets on the measured path.  One key feature
   of this methodology is its efficiency: it estimates the average
   length of loss episodes without directly measuring the complete
   episodes themselves.  Instead, this information is encoded in the
   observed relative frequencies of the four possible outcomes arising
   from the loss or successful transmission of each of the two packets
   of the probe pairs.  This is distinct from the approach of [<a href="rfc3611.html" title="&quot;RTP Control Protocol Extended Reports (RTCP XR)&quot;">RFC3611</a>],
   which reports on directly measured episodes.

   The metrics defined in this memo are "derived metrics", according to
   <a href="rfc2330.html#section-6.1">Section&nbsp;6.1 of [RFC2330]</a> (the IPPM framework).  They are based on the
   singleton loss metric defined in <a href="rfc2680.html#section-2">Section&nbsp;2 of [RFC2680]</a> .

<span class="h3"><a class="selflink" name="section-1.3" href="#section-1.3">1.3</a>.  Outline and Contents</span>

   o  <a href="#section-2">Section 2</a> defines the fundamental singleton metric for the
      possible outcomes of a probe pair: Type-P-One-way-Bi-Packet-Loss.

   o  <a href="#section-3">Section 3</a> defines sample sets of this metric derived from a
      general probe stream: Type-P-One-way-Bi-Packet-Loss-Stream.

   o  <a href="#section-4">Section 4</a> defines the prime example of the Bi-Packet-Loss-Stream
      metrics, specifically Type-P-One-way-Bi-Packet-Loss-Geometric-
      Stream arising from the geometric stream of packet-pair probes
      that was described informally in <a href="#section-1">Section 1</a>.

   o  <a href="#section-5">Section 5</a> defines loss episode proto-metrics that summarize the
      outcomes from a stream metrics as an intermediate step to forming
      the loss episode metrics; they need not be reported in general.

   o  <a href="#section-6">Section 6</a> defines the final loss episode metrics that are the
      focus of this memo, the new metrics:

      *  Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-
         Duration, the average duration, in seconds, of a loss episode.



<span class="grey">Duffield, et al.             Standards Track                    [Page 6]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-7" id="page-7" href="#page-7" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


      *  Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-
         Frequency, the average frequency, per second, at which loss
         episodes start.

      *  Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio, which is
         the average packet loss ratio metric arising from the geometric
         stream probing methodology

   o  <a href="#section-7">Section 7</a> details applications and relations to existing loss
      models.

<span class="h2"><a class="selflink" name="section-2" href="#section-2">2</a>.   Singleton Definition for Type-P-One-way Bi-Packet Loss</span>

<span class="h3"><a class="selflink" name="section-2.1" href="#section-2.1">2.1</a>.  Metric Name</span>

   Type-P-One-way-Bi-Packet-Loss

<span class="h3"><a class="selflink" name="section-2.2" href="#section-2.2">2.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T1, a sending time of the first packet

   o  T2, a sending time of the second packet, with T2&gt;T1

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric

   o  P, the specification of the packet type, over and above the source
      and destination addresses

<span class="h3"><a class="selflink" name="section-2.3" href="#section-2.3">2.3</a>.  Metric Units</span>

   A Loss Pair is pair (l1, l2) where each of l1 and l2 is a binary
   value 0 or 1, where 0 signifies successful transmission of a packet
   and 1 signifies loss.

   The metric unit of Type-P-One-way-Bi-Packet-Loss is a Loss Pair.

<span class="h3"><a class="selflink" name="section-2.4" href="#section-2.4">2.4</a>.  Metric Definition</span>

   1.  "The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (1,1)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst at wire-time T2&gt;T1 and that neither packet was
       received at Dst.



<span class="grey">Duffield, et al.             Standards Track                    [Page 7]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-8" id="page-8" href="#page-8" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   2.  "The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (1,0)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst at wire-time T2&gt;T1 and that the first packet was
       not received at Dst, and the second packet was received at Dst

   3.  "The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (0,1)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst at wire-time T2&gt;T1 and that the first packet was
       received at Dst, and the second packet was not received at Dst

   4.  "The Type-P-One-way-Bi-Packet-Loss with parameters (Src, Dst, T1,
       T2, F, P) is (0,0)" means that Src sent the first bit of a Type-P
       packet to Dst at wire-time T1 and the first bit of a Type-P
       packet to Dst at wire-time T2&gt;T1 and that both packets were
       received at Dst.

<span class="h3"><a class="selflink" name="section-2.5" href="#section-2.5">2.5</a>.  Discussion</span>

   The purpose of the selection function is to specify exactly which
   packets are to be used for measurement.  The notion is taken from
   <a href="rfc3393.html#section-2.5">Section&nbsp;2.5 of [RFC3393]</a>, where examples are discussed.

<span class="h3"><a class="selflink" name="section-2.6" href="#section-2.6">2.6</a>.  Methodologies</span>

   The methodologies related to the Type-P-One-way-Packet-Loss metric in
   <a href="rfc2680.html#section-2.6">Section&nbsp;2.6 of [RFC2680]</a> are similar for the Type-P-One-way-Bi-
   Packet-Loss metric described above.  In particular, the methodologies
   described in <a href="rfc2680.html">RFC 2680</a> apply to both packets of the pair.

<span class="h3"><a class="selflink" name="section-2.7" href="#section-2.7">2.7</a>.  Errors and Uncertainties</span>

   Sources of error for the Type-P-One-way-Packet-Loss metric in <a href="rfc2680.html#section-2.7">Section</a>
   <a href="rfc2680.html#section-2.7">2.7 of [RFC2680]</a> apply to each packet of the pair for the Type-P-One-
   way-Bi-Packet-Loss metric.

<span class="h3"><a class="selflink" name="section-2.8" href="#section-2.8">2.8</a>.  Reporting the Metric</span>

   Refer to <a href="rfc2680.html#section-2.8">Section&nbsp;2.8 of [RFC2680]</a>.

<span class="h2"><a class="selflink" name="section-3" href="#section-3">3</a>.  General Definition of Samples for Type-P-One-way-Bi-Packet-Loss</span>

   Given the singleton metric for Type-P-One-way-Bi-Packet-Loss, we now
   define examples of samples of singletons.  The basic idea is as
   follows.  We first specify a set of times T1 &lt; T2 &lt;...&lt;Tn, each of





<span class="grey">Duffield, et al.             Standards Track                    [Page 8]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-9" id="page-9" href="#page-9" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   which acts as the first time of a packet pair for a single Type-P-
   One-way-Bi-Packet-Loss measurement.  This results is a set of n
   metric values of Type-P-One-way-Bi-Packet-Loss.

<span class="h3"><a class="selflink" name="section-3.1" href="#section-3.1">3.1</a>.  Metric Name</span>

   Type-P-One-way-Bi-Packet-Loss-Stream

<span class="h3"><a class="selflink" name="section-3.2" href="#section-3.2">3.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  (T11,T12), (T21,T22)....,(Tn1,Tn2) a set of n times of sending
      times for packet pairs, with T11 &lt; T12 &lt;= T21 &lt; T22 &lt;=...&lt;= Tn1 &lt;
      Tn2

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric

   o  P, the specification of the packet type, over and above the source
      and destination address

<span class="h3"><a class="selflink" name="section-3.3" href="#section-3.3">3.3</a>.  Metric Units</span>

   A set L1,L2,...,Ln of Loss Pairs

<span class="h3"><a class="selflink" name="section-3.4" href="#section-3.4">3.4</a>.  Metric Definition</span>

   Each Loss Pair Li for i = 1,....n is the Type-P-One-way-Bi-Packet-
   Loss with parameters (Src, Dst, Ti1, Ti2, Fi, P) where Fi is the
   restriction of the selection function F to the packet pair at time
   Ti1, Ti2.

<span class="h3"><a class="selflink" name="section-3.5" href="#section-3.5">3.5</a>.  Discussion</span>

   The metric definition of Type-P-One-way-Bi-Packet-Loss-Stream is
   sufficiently general to describe the case where packets are sampled
   from a preexisting stream.  This is useful in the case in which there
   is a general purpose measurement stream set up between two hosts, and
   we wish to select a substream from it for the purposes of loss
   episode measurement.  Packet pairs selected as bi-packet loss probes
   need not be consecutive within such a stream.  In the next section,
   we specialize this somewhat to more concretely describe a purpose
   built packet stream for loss episode measurement.





<span class="grey">Duffield, et al.             Standards Track                    [Page 9]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-10" id="page-10" href="#page-10" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h3"><a class="selflink" name="section-3.6" href="#section-3.6">3.6</a>.  Methodologies</span>

   The methodologies related to the Type-P-One-way-Packet-Loss metric in
   <a href="rfc2680.html#section-2.6">Section&nbsp;2.6 of [RFC2680]</a> are similar for the Type-P-One-way-Bi-
   Packet-Loss-Stream metric described above.  In particular, the
   methodologies described in <a href="rfc2680.html">RFC 2680</a> apply to both packets of each
   pair.

<span class="h3"><a class="selflink" name="section-3.7" href="#section-3.7">3.7</a>.  Errors and Uncertainties</span>

   Sources of error for the Type-P-One-way-Packet-Loss metric in <a href="rfc2680.html#section-2.7">Section</a>
   <a href="rfc2680.html#section-2.7">2.7 of [RFC2680]</a> apply to each packet of each pair for the Type-P-
   One-way-Bi-Packet-Loss-Stream metric.

<span class="h3"><a class="selflink" name="section-3.8" href="#section-3.8">3.8</a>.  Reporting the Metric</span>

   Refer to <a href="rfc2680.html#section-2.8">Section&nbsp;2.8 of [RFC2680]</a>.

<span class="h2"><a class="selflink" name="section-4" href="#section-4">4</a>.  An Active Probing Methodology for Bi-Packet Loss</span>

   This section specializes the preceding section for an active probing
   methodology.  The basic idea is a follows.  We set up a sequence of
   evenly spaced times T1 &lt; T2 &lt; ... &lt; Tn.  Each time Ti is potentially
   the first packet time for a packet pair measurement.  We make an
   independent random decision at each time, whether to initiate such a
   measurement.  Hence, the interval count between successive times at
   which a pair is initiated follows a geometric distribution.  We also
   specify that the spacing between successive times Ti is the same as
   the spacing between packets in a given pair.  Thus, if pairs happen
   to be launched at the successive times Ti and T(i+1), the second
   packet of the first pair is actually used as the first packet of the
   second pair.

<span class="h3"><a class="selflink" name="section-4.1" href="#section-4.1">4.1</a>.  Metric Name</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream

<span class="h3"><a class="selflink" name="section-4.2" href="#section-4.2">4.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [<a href="rfc3432.html" title="&quot;Network performance measurement with periodic streams&quot;">RFC3432</a>] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and T(i+1)




<span class="grey">Duffield, et al.             Standards Track                   [Page 10]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-11" id="page-11" href="#page-11" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   o  n, a count of potential measurement instants

   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric

   o  P, the specification of the packet type, over and above the source
      and destination address

<span class="h3"><a class="selflink" name="section-4.3" href="#section-4.3">4.3</a>.  Metric Units</span>

   A set of Loss Pairs L1, L2, ..., Lm for some m &lt;= n

<span class="h3"><a class="selflink" name="section-4.4" href="#section-4.4">4.4</a>.  Metric Definition</span>

   For each i = 0, 1, ..., n-1 we form the potential measurement time Ti
   = T0 + i*d.  With probability q, a packet pair measurement is
   launched at Ti, resulting in a Type-P-One-way-Bi-Packet-Loss with
   parameters (Src, Dst, Ti, T(i+1), Fi, P) where Fi is the restriction
   of the selection function F to the packet pair at times Ti, T(i+1).
   L1, L2,...Lm are the resulting Loss Pairs; m can be less than n since
   not all times Ti have an associated measurement.

<span class="h3"><a class="selflink" name="section-4.5" href="#section-4.5">4.5</a>.  Discussion</span>

   The above definition of Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream is equivalent to using Type-P-One-way-Bi-Packet-Loss-Stream
   with an appropriate statistical definition of the selection function
   F.

   The number m of Loss Pairs in the metric can be less than the number
   of potential measurement instants because not all instants may
   generate a probe when the launch probability q is strictly less than
   1.

<span class="h3"><a class="selflink" name="section-4.6" href="#section-4.6">4.6</a>.  Methodologies</span>

   The methodologies follow from:

   o  the specific time T0, from which all successive Ti follow, and

   o  the specific time spacing, and

   o  the methodologies discussion given above for the singleton Type-P-
      One-way-Bi-Packet-Loss metric.





<span class="grey">Duffield, et al.             Standards Track                   [Page 11]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-12" id="page-12" href="#page-12" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   The issue of choosing an appropriate time spacing (e.g., one that is
   matched to expected characteristics of loss episodes) is outside the
   scope of this document.

   Note that as with any active measurement methodology, consideration
   must be made to handle out-of-order arrival of packets; see also
   <a href="rfc2680.html#section-3.6">Section&nbsp;3.6. of [RFC2680]</a>.

<span class="h3"><a class="selflink" name="section-4.7" href="#section-4.7">4.7</a>.  Errors and Uncertainties</span>

   In addition to sources of errors and uncertainties related to
   methodologies for measuring the singleton Type-P-One-way-Bi-Packet-
   Loss metric, a key source of error when emitting packets for Bi-
   Packet Loss relates to resource limits on the host used to send the
   packets.  In particular, the choice of T0, the choice of the time
   spacing, and the choice of the launch probability results in a
   schedule for sending packets.  Insufficient CPU resources on the
   sending host may result in an inability to send packets according to
   schedule.  Note that the choice of time spacing directly affects the
   ability of the host CPU to meet the required schedule (e.g., consider
   a 100 microsecond spacing versus a 100 millisecond spacing).

   For other considerations, refer to <a href="rfc2680.html#section-3.7">Section&nbsp;3.7 of [RFC2680]</a>.

<span class="h3"><a class="selflink" name="section-4.8" href="#section-4.8">4.8</a>.  Reporting the Metric</span>

   Refer to <a href="rfc2680.html#section-3.8">Section&nbsp;3.8. of [RFC2680]</a>.

<span class="h2"><a class="selflink" name="section-5" href="#section-5">5</a>.  Loss Episode Proto-Metrics</span>

   This section describes four generic proto-metric quantities
   associated with an arbitrary set of Loss Pairs.  These are the Loss-
   Pair-Counts, Bi-Packet-Loss-Ratio, Bi-Packet-Loss-Episode-Duration-
   Number, Bi-Packet-Loss-Episode-Frequency-Number.  Specific loss
   episode metrics can then be constructed when these proto-metrics
   take, as their input, sets of Loss Pairs samples generated by the
   Type-P-One-way-Bi-Packet-Loss-Stream and Type-P-One-way-Bi-Packet-
   Loss-Geometric-Stream.  The second of these is described in
   <a href="#section-4">Section 4</a>.  It is not expected that these proto-metrics would be
   reported themselves.  Rather, they are intermediate quantities in the
   production of the final metrics of <a href="#section-6">Section 6</a> below, and could be
   rolled up into metrics in implementations.  The metrics report loss
   episode durations and frequencies in terms of packet counts, since
   they do not depend on the actual time between probe packets.  The
   final metrics of <a href="#section-6">Section 6</a> incorporate timescales and yield durations
   in seconds and frequencies as per second.





<span class="grey">Duffield, et al.             Standards Track                   [Page 12]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-13" id="page-13" href="#page-13" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h3"><a class="selflink" name="section-5.1" href="#section-5.1">5.1</a>.  Loss-Pair-Counts</span>

   Loss-Pair-Counts are the absolute frequencies of the four types of
   Loss Pair outcome in a sample.  More precisely, the Loss-Pair-Counts
   associated with a set of Loss Pairs L1,,,,Ln are the numbers N(i,j)
   of such Loss Pairs that take each possible value (i,j) in the set (
   (0,0), (0,1), (1,0), (1,1)).

<span class="h3"><a class="selflink" name="section-5.2" href="#section-5.2">5.2</a>.  Bi-Packet-Loss-Ratio</span>

   The Bi-Packet-Loss-Ratio associated with a set of n Loss Pairs
   L1,,,,Ln is defined in terms of their Loss-Pair-Counts by the
   quantity (N(1,0) + N(1,1))/n.

   Note this is formally equivalent to the loss metric Type-P-One-way-
   Packet-Loss-Average from [<a href="rfc2680.html" title="&quot;A One-way Packet Loss Metric for IPPM&quot;">RFC2680</a>], since it averages single packet
   losses.

<span class="h3"><a class="selflink" name="section-5.3" href="#section-5.3">5.3</a>.  Bi-Packet-Loss-Episode-Duration-Number</span>

   The Bi-Packet-Loss-Episode-Duration-Number associated with a set of n
   Loss Pairs L1,,,,Ln is defined in terms of their Loss-Pair-Counts in
   the following cases:

   o  (2*N(1,1) + N(0,1) + N(1,0)) / (N(0,1) + N(1,0)) if N(0,1) +
      N(1,0) &gt; 0

   o  0 if N(0,1) + N(1,0) + N(1,1) = 0 (no probe packets lost)

   o  Undefined if N(0,1) + N(1,0) + N(0,0) = 0 (all probe packets lost)

   Note N(0,1) + N(1,0) is zero if there are no transitions between loss
   and no-loss outcomes.

<span class="h3"><a class="selflink" name="section-5.4" href="#section-5.4">5.4</a>.  Bi-Packet-Loss-Episode-Frequency-Number</span>

   The Bi-Packet-Loss-Episode-Frequency-Number associated with a set of
   n Loss Pairs L1,,,,Ln is defined in terms of their Loss-Pair-Counts
   as Bi-Packet-Loss-Ratio / Bi-Packet-Loss-Episode-Duration-Number,
   when this can be defined, specifically, it is as follows:

   o  (N(1,0) + N(1,1)) * (N(0,1) + N(1,0)) / (2*N(1,1) + N(0,1) +
      N(1,0) ) / n if N(0,1) + N(1,0) &gt; 0

   o  0 if N(0,1) + N(1,0) + N(1,1) = 0 (no probe packets lost)

   o  1 if N(0,1) + N(1,0) + N(0,0) = 0 (all probe packets lost)




<span class="grey">Duffield, et al.             Standards Track                   [Page 13]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-14" id="page-14" href="#page-14" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h2"><a class="selflink" name="section-6" href="#section-6">6</a>.  Loss Episode Metrics Derived from Bi-Packet Loss Probing</span>

   Metrics for the time frequency and time duration of loss episodes are
   now defined as functions of the set of n Loss Pairs L1,....,Ln.
   Although a loss episode is defined as a maximal set of successive
   lost packets, the loss episode metrics are not defined directly in
   terms of the sequential patterns of packet loss exhibited by Loss
   Pairs.  This is because samples, including Type-P-One-way-Bi-Packet-
   Loss-Geometric-Stream, generally do not report all lost packets in
   each episode.  Instead, the metrics are defined as functions of the
   Loss-Pair-Counts of the sample, for reasons that are now described.

   Consider an idealized Type-P-One-way-Bi-Packet-Loss-Geometric-Stream
   sample in which the launch probability q =1.  It is shown in [<a href="#ref-SBDR08" title="&quot;A Geometric Approach to Improving Active Packet Loss Measurement&quot;">SBDR08</a>]
   that the average number of packets in a loss episode of this ideal
   sample is exactly the Bi-Packet-Loss-Episode-Duration derived from
   its set of Loss Pairs.  Note this computation makes no reference to
   the position of lost packet in the sequence of probes.

   A general Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with
   launch probability q &lt; 1, independently samples, with probability q,
   each Loss Pair of an idealized sample.  On average, the Loss-Pair-
   Counts (if normalized by the total number of pairs) will be the same
   as in the idealized sample.  The loss episode metrics in the general
   case are thus estimators of those for the idealized case; the
   statistical properties of this estimation, including a derivation of
   the estimation variance, is provided in [<a href="#ref-SBDR08" title="&quot;A Geometric Approach to Improving Active Packet Loss Measurement&quot;">SBDR08</a>].

<span class="h3"><a class="selflink" name="section-6.1" href="#section-6.1">6.1</a>.  Geometric Stream: Loss Ratio</span>

<span class="h4"><a class="selflink" name="section-6.1.1" href="#section-6.1.1">6.1.1</a>.  Metric Name</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio

<span class="h4"><a class="selflink" name="section-6.1.2" href="#section-6.1.2">6.1.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [<a href="rfc3432.html" title="&quot;Network performance measurement with periodic streams&quot;">RFC3432</a>] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and T(i+1)

   o  n, a count of potential measurement instants





<span class="grey">Duffield, et al.             Standards Track                   [Page 14]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-15" id="page-15" href="#page-15" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric

   o  P, the specification of the packet type, over and above the source
      and destination address

<span class="h4"><a class="selflink" name="section-6.1.3" href="#section-6.1.3">6.1.3</a>.  Metric Units</span>

   A decimal number in the interval [0,1]

<span class="h4"><a class="selflink" name="section-6.1.4" href="#section-6.1.4">6.1.4</a>.  Metric Definition</span>

   The result obtained by computing the Bi-Packet-Loss-Ratio over a
   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample with the metric
   parameters.

<span class="h4"><a class="selflink" name="section-6.1.5" href="#section-6.1.5">6.1.5</a>.  Discussion</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Ratio estimates the
   fraction of packets lost from the geometric stream of Bi-Packet
   probes.

<span class="h4"><a class="selflink" name="section-6.1.6" href="#section-6.1.6">6.1.6</a>.  Methodologies</span>

   Refer to <a href="#section-4.6">Section 4.6</a>.

<span class="h4"><a class="selflink" name="section-6.1.7" href="#section-6.1.7">6.1.7</a>.  Errors and Uncertainties</span>

   Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled in
   general (when the launch probability q &lt;1), the metrics described in
   this section can be regarded as statistical estimators of the
   corresponding idealized version corresponding to q = 1.  Estimation
   variance as it applies to Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream-Loss-Ratio is described in [<a href="#ref-SBDR08" title="&quot;A Geometric Approach to Improving Active Packet Loss Measurement&quot;">SBDR08</a>].

   For other issues, refer to <a href="#section-4.7">Section 4.7</a>

<span class="h4"><a class="selflink" name="section-6.1.8" href="#section-6.1.8">6.1.8</a>.  Reporting the Metric</span>

   Refer to <a href="#section-4.8">Section 4.8</a>.









<span class="grey">Duffield, et al.             Standards Track                   [Page 15]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-16" id="page-16" href="#page-16" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h3"><a class="selflink" name="section-6.2" href="#section-6.2">6.2</a>.  Geometric Stream: Loss Episode Duration</span>

<span class="h4"><a class="selflink" name="section-6.2.1" href="#section-6.2.1">6.2.1</a>.  Metric Name</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration

<span class="h4"><a class="selflink" name="section-6.2.2" href="#section-6.2.2">6.2.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [<a href="rfc3432.html" title="&quot;Network performance measurement with periodic streams&quot;">RFC3432</a>] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and T(i+1)

   o  n, a count of potential measurement instants

   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric

   o  P, the specification of the packet type, over and above the source
      and destination address

<span class="h4"><a class="selflink" name="section-6.2.3" href="#section-6.2.3">6.2.3</a>.  Metric Units</span>

   A non-negative number of seconds

<span class="h4"><a class="selflink" name="section-6.2.4" href="#section-6.2.4">6.2.4</a>.  Metric Definition</span>

   The result obtained by computing the Bi-Packet-Loss-Episode-Duration-
   Number over a Type-P-One-way-Bi-Packet-Loss-Geometric-Stream sample
   with the metric parameters, then multiplying the result by the launch
   spacing parameter d.

<span class="h4"><a class="selflink" name="section-6.2.5" href="#section-6.2.5">6.2.5</a>.  Discussion</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Duration
   estimates the average duration of a loss episode, measured in
   seconds.  The duration measured in packets is obtained by dividing
   the metric value by the packet launch spacing parameter d.

<span class="h4"><a class="selflink" name="section-6.2.6" href="#section-6.2.6">6.2.6</a>.  Methodologies</span>

   Refer to <a href="#section-4.6">Section 4.6</a>.



<span class="grey">Duffield, et al.             Standards Track                   [Page 16]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-17" id="page-17" href="#page-17" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h4"><a class="selflink" name="section-6.2.7" href="#section-6.2.7">6.2.7</a>.  Errors and Uncertainties</span>

   Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled in
   general (when the launch probability q &lt;1), the metrics described in
   this section can be regarded as statistical estimators of the
   corresponding idealized version corresponding to q = 1.  Estimation
   variance as it applies to Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream-Episode-Duration is described in [<a href="#ref-SBDR08" title="&quot;A Geometric Approach to Improving Active Packet Loss Measurement&quot;">SBDR08</a>].

   For other issues, refer to <a href="#section-4.7">Section 4.7</a>

<span class="h4"><a class="selflink" name="section-6.2.8" href="#section-6.2.8">6.2.8</a>.  Reporting the Metric</span>

   Refer to <a href="#section-4.8">Section 4.8</a>.

<span class="h3"><a class="selflink" name="section-6.3" href="#section-6.3">6.3</a>.  Geometric Stream: Loss Episode Frequency</span>

<span class="h4"><a class="selflink" name="section-6.3.1" href="#section-6.3.1">6.3.1</a>.  Metric Name</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency

<span class="h4"><a class="selflink" name="section-6.3.2" href="#section-6.3.2">6.3.2</a>.  Metric Parameters</span>

   o  Src, the IP address of a source host

   o  Dst, the IP address of a destination host

   o  T0, the randomly selected starting time [<a href="rfc3432.html" title="&quot;Network performance measurement with periodic streams&quot;">RFC3432</a>] for periodic
      launch opportunities

   o  d, the time spacing between potential launch times, Ti and T(i+1)

   o  n, a count of potential measurement instants

   o  q, a launch probability

   o  F, a selection function defining unambiguously the two packets
      from the stream selected for the metric

   o  P, the specification of the packet type, over and above the source
      and destination address

<span class="h4"><a class="selflink" name="section-6.3.3" href="#section-6.3.3">6.3.3</a>.  Metric Units</span>

   A positive number






<span class="grey">Duffield, et al.             Standards Track                   [Page 17]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-18" id="page-18" href="#page-18" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h4"><a class="selflink" name="section-6.3.4" href="#section-6.3.4">6.3.4</a>.  Metric Definition</span>

   The result obtained by computing the Bi-Packet-Loss-Episode-
   Frequency-Number over a Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream sample with the metric parameters, then dividing the result by
   the launch spacing parameter d.

<span class="h4"><a class="selflink" name="section-6.3.5" href="#section-6.3.5">6.3.5</a>.  Discussion</span>

   Type-P-One-way-Bi-Packet-Loss-Geometric-Stream-Episode-Frequency
   estimates the average frequency per unit time with which loss
   episodes start (or finish).  The frequency relative to the count of
   potential probe launches is obtained by multiplying the metric value
   by the packet launch spacing parameter d.

<span class="h4"><a class="selflink" name="section-6.3.6" href="#section-6.3.6">6.3.6</a>.  Methodologies</span>

   Refer to <a href="#section-4.6">Section 4.6</a>.

<span class="h4"><a class="selflink" name="section-6.3.7" href="#section-6.3.7">6.3.7</a>.  Errors and Uncertainties</span>

   Because Type-P-One-way-Bi-Packet-Loss-Geometric-Stream is sampled in
   general (when the launch probability q &lt;1), the metrics described in
   this section can be regarded as statistical estimators of the
   corresponding idealized version corresponding to q = 1.  Estimation
   variance as it applies to Type-P-One-way-Bi-Packet-Loss-Geometric-
   Stream-Episode-Frequency is described in [<a href="#ref-SBDR08" title="&quot;A Geometric Approach to Improving Active Packet Loss Measurement&quot;">SBDR08</a>].

   For other issues, refer to <a href="#section-4.7">Section 4.7</a>

<span class="h4"><a class="selflink" name="section-6.3.8" href="#section-6.3.8">6.3.8</a>.  Reporting the Metric</span>

   Refer to <a href="#section-4.8">Section 4.8</a>.

<span class="h2"><a class="selflink" name="section-7" href="#section-7">7</a>.  Applicability of Loss Episode Metrics</span>

<span class="h3"><a class="selflink" name="section-7.1" href="#section-7.1">7.1</a>.  Relation to Gilbert Model</span>

   The general Gilbert-Elliot model is a discrete time Markov chain over
   two states, Good (g) and Bad (b), each with its own independent
   packet loss ratio.  In the simplest case, the Good loss ratio is 0,
   while the Bad loss ratio is 1.  Correspondingly, there are two
   independent parameters, the Markov transition probabilities P(g|b) =
   1- P(b|b) and P(b|g) = 1- P(g|g), where P(i|j) is the probability to
   transition from state j and step n to state i at step n+1.  With
   these parameters, the fraction of steps spent in the bad state is
   P(b|g)/(P(b|g) + P(g|b)), while the average duration of a sojourn in
   the bad state is 1/P(g|b) steps.



<span class="grey">Duffield, et al.             Standards Track                   [Page 18]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-19" id="page-19" href="#page-19" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


   Now identify the steps of the Markov chain with the possible sending
   times of packets for a Type-P-One-way-Bi-Packet-Loss-Geometric-Stream
   with launch spacing d.  Suppose the loss episode metrics Type-P-One-
   way-Bi-Packet-Loss-Geometric-Stream-Ratio and Type-P-One-way-Bi-
   Packet-Loss-Geometric-Stream-Episode-Duration take the values r and
   m, respectively.  Then, from the discussion in <a href="#section-6.1.5">Section 6.1.5</a>, the
   following can be equated:

   r = P(b|g)/(P(b|g) + P(g|b)) and m/d = 1/P(g|b).

   These relationships can be inverted in order to recover the Gilbert
   model parameters:

   P(g|b) = d/m and P(b|g)=d/m/(1/r - 1)

<span class="h2"><a class="selflink" name="section-8" href="#section-8">8</a>.  Security Considerations</span>

   Conducting Internet measurements raises both security and privacy
   concerns.  This memo does not specify an implementation of the
   metrics, so it does not directly affect the security of the Internet
   or of applications that run on the Internet.  However,implementations
   of these metrics must be mindful of security and privacy concerns.

   There are two types of security concerns: potential harm caused by
   the measurements and potential harm to the measurements.  The
   measurements could cause harm because they are active and inject
   packets into the network.  The measurement parameters MUST be
   carefully selected so that the measurements inject trivial amounts of
   additional traffic into the networks they measure.  If they inject
   "too much" traffic, they can skew the results of the measurement and,
   in extreme cases, cause congestion and denial of service.  The
   measurements themselves could be harmed by routers giving measurement
   traffic a different priority than "normal" traffic, or by an attacker
   injecting artificial measurement traffic.  If routers can recognize
   measurement traffic and treat it separately, the measurements may not
   reflect actual user traffic.  If an attacker injects artificial
   traffic that is accepted as legitimate, the loss rate will be
   artificially lowered.  Therefore, the measurement methodologies
   SHOULD include appropriate techniques to reduce the probability that
   measurement traffic can be distinguished from "normal" traffic.
   Authentication techniques, such as digital signatures, may be used
   where appropriate to guard against injected traffic attacks.  The
   privacy concerns of network measurement are limited by the active
   measurements described in this memo: they involve no release of user
   data.






<span class="grey">Duffield, et al.             Standards Track                   [Page 19]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-20" id="page-20" href="#page-20" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


<span class="h2"><a class="selflink" name="section-9" href="#section-9">9</a>.  References</span>

<span class="h3"><a class="selflink" name="section-9.1" href="#section-9.1">9.1</a>.  Normative References</span>

   [<a name="ref-RFC2680" id="ref-RFC2680">RFC2680</a>]  Almes, G., Kalidindi, S., and M. Zekauskas, "A One-way
              Packet Loss Metric for IPPM", <a href="rfc2680.html">RFC 2680</a>, September 1999.

   [<a name="ref-RFC3393" id="ref-RFC3393">RFC3393</a>]  Demichelis, C. and P. Chimento, "IP Packet Delay Variation
              Metric for IP Performance Metrics (IPPM)", <a href="rfc3393.html">RFC 3393</a>,
              November 2002.

   [<a name="ref-RFC3611" id="ref-RFC3611">RFC3611</a>]  Friedman, T., Caceres, R., and A. Clark, "RTP Control
              Protocol Extended Reports (RTCP XR)", <a href="rfc3611.html">RFC 3611</a>,
              November 2003.

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a name="ref-RFC3432" id="ref-RFC3432">RFC3432</a>]  Raisanen, V., Grotefeld, G., and A. Morton, "Network
              performance measurement with periodic streams", <a href="rfc3432.html">RFC 3432</a>,
              November 2002.

<span class="h3"><a class="selflink" name="section-9.2" href="#section-9.2">9.2</a>.  Informative References</span>

   [<a name="ref-RFC2330" id="ref-RFC2330">RFC2330</a>]  Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,
              "Framework for IP Performance Metrics", <a href="rfc2330.html">RFC 2330</a>,
              May 1998.

   [<a name="ref-RFC3357" id="ref-RFC3357">RFC3357</a>]  Koodli, R. and R. Ravikanth, "One-way Loss Pattern Sample
              Metrics", <a href="rfc3357.html">RFC 3357</a>, August 2002.

   [<a name="ref-SBDR08" id="ref-SBDR08">SBDR08</a>]   IEEE/ACM Transactions on Networking, 16(2): 307-320, "A
              Geometric Approach to Improving Active Packet Loss
              Measurement", 2008.

   [<a name="ref-Gilbert" id="ref-Gilbert">Gilbert</a>]  Gilbert, E.N., "Capacity of a Burst-Noise Channel. Bell
              System Technical Journal 39 pp 1253-1265", 1960.

   [<a name="ref-Elliot" id="ref-Elliot">Elliot</a>]   Elliott, E.O., "Estimates of Error Rates for Codes on
              Burst-Noise Channels. Bell System Technical Journal 42 pp
              1977-1997", 1963.










<span class="grey">Duffield, et al.             Standards Track                   [Page 20]</span></pre>
<hr class='noprint' style='width: 96ex;' align='left'/><!--NewPage--><pre class='newpage'><a name="page-21" id="page-21" href="#page-21" class="invisible"> </a>
<span class="grey"><a href="rfc6534.html">RFC 6534</a>              Loss Episode Metrics for IPPM             May 2012</span>


Authors' Addresses

   Nick Duffield
   AT&amp;T Labs-Research
   180 Park Avenue
   Florham Park, NJ  07932
   USA

   Phone: +1 973 360 8726
   Fax:   +1 973 360 8871
   EMail: duffield@research.att.com
   URI:   <a href="http://www.research.att.com/people/Duffield_Nicholas_G">http://www.research.att.com/people/Duffield_Nicholas_G</a>


   Al Morton
   AT&amp;T Labs
   200 Laurel Avenue South
   Middletown,, NJ  07748
   USA

   Phone: +1 732 420 1571
   Fax:   +1 732 368 1192
   EMail: acmorton@att.com
   URI:   <a href="http://home.comcast.net/~acmacm/">http://home.comcast.net/~acmacm/</a>


   Joel Sommers
   Colgate University
   304 McGregory Hall
   Hamilton, NY  13346
   USA

   Phone: +1 315 228 7587
   Fax:
   EMail: jsommers@colgate.edu
   URI:   <a href="http://cs.colgate.edu/faculty/jsommers">http://cs.colgate.edu/faculty/jsommers</a>















Duffield, et al.             Standards Track                   [Page 21]

</pre><br />
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129c, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>
</body>

<!-- Mirrored from tools.ietf.org/html/rfc6534 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 28 Jul 2019 12:43:04 GMT -->
</html>
