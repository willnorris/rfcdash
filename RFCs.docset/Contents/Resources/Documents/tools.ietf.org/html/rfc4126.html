<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4126 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:43 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:4126" name="DC.Identifier"/>
<meta content="This document complements the Diffserv-aware MPLS Traffic Engineering
(DS-TE) requirements document by giving a functional specification for
the Maximum Allocation with Reservation (MAR) Bandwidth Constraints
Model. Assumptions, applicability, and examples of the operation of
the MAR Bandwidth Constraints Model are presented. MAR performance is
analyzed relative to the criteria for selecting a Bandwidth
Constraints Model, in order to provide guidance to user implementation
of the model in their networks. This memo defines an Experimental
Protocol for the Internet community." name="DC.Description.Abstract"/>
<meta content="Jerry Ash &lt;gash@att.com&gt;" name="DC.Creator"/>
<meta content="June, 2005" name="DC.Date.Issued"/>
<meta content="Max Allocation with Reservation Bandwidth Constraints Model for Diffserv-aware MPLS Traffic Engineering &amp;amp; Performance Comparisons" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4126 - Max Allocation with Reservation Bandwidth Constraints Model for Diffserv-aware MPLS Traffic Engineering &amp;amp; Performance Comparisons</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgyellow" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc4126.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc4126" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-tewg-diff-te-mar" title="draft-ietf-tewg-diff-te-mar">draft-ietf-tewg...</a>] [<a href="https://datatracker.ietf.org/doc/rfc4126" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4126" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc4126" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                            EXPERIMENTAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                             J. Ash
Request for Comments: 4126                                          AT&amp;T
Category: Experimental                                         June 2005


    <span class="h1">Max Allocation with Reservation Bandwidth Constraints Model for</span>
   <span class="h1">Diffserv-aware MPLS Traffic Engineering &amp; Performance Comparisons</span>

Status of This Memo

   This memo defines an Experimental Protocol for the Internet
   community.  It does not specify an Internet standard of any kind.
   Discussion and suggestions for improvement are requested.
   Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   This document complements the Diffserv-aware MPLS Traffic Engineering
   (DS-TE) requirements document by giving a functional specification
   for the Maximum Allocation with Reservation (MAR) Bandwidth
   Constraints Model.  Assumptions, applicability, and examples of the
   operation of the MAR Bandwidth Constraints Model are presented.  MAR
   performance is analyzed relative to the criteria for selecting a
   Bandwidth Constraints Model, in order to provide guidance to user
   implementation of the model in their networks.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
      <a href="#section-1.1">1.1</a>. Specification of Requirements ..............................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Definitions .....................................................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. Assumptions &amp; Applicability .....................................<a href="#page-5">5</a>
   4. Functional Specification of the MAR Bandwidth
      Constraints Model ...............................................<a href="#page-6">6</a>
   <a href="#section-5">5</a>. Setting Bandwidth Constraints ...................................<a href="#page-7">7</a>
   <a href="#section-6">6</a>. Example of MAR Operation ........................................<a href="#page-8">8</a>
   <a href="#section-7">7</a>. Summary .........................................................<a href="#page-9">9</a>
   <a href="#section-8">8</a>. Security Considerations ........................................<a href="#page-10">10</a>
   <a href="#section-9">9</a>. IANA Considerations ............................................<a href="#page-10">10</a>
   <a href="#section-10">10</a>. Acknowledgements ..............................................<a href="#page-10">10</a>
   <a href="#appendix-A">A</a>. MAR Operation &amp; Performance Analysis  ..........................<a href="#page-11">11</a>
   <a href="#appendix-B">B</a>. Bandwidth Prediction for Path Computation ......................<a href="#page-19">19</a>
   Normative References ..............................................<a href="#page-20">20</a>
   Informative References ............................................<a href="#page-20">20</a>



<span class="grey">Ash                           Experimental                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Diffserv-aware MPLS traffic engineering (DS-TE) requirements and
   protocol extensions are specified in [<a href="#ref-DSTE-REQ" title='"Requirements for Support of Differentiated Services-aware MPLS Traffic Engineering"'>DSTE-REQ</a>, <a href="#ref-DSTE-PROTO" title='"Protocol Extensions for Support of Diffserv-aware MPLS Traffic Engineering,"'>DSTE-PROTO</a>].  A
   requirement for DS-TE implementation is the specification of
   Bandwidth Constraints Models for use with DS-TE.  The Bandwidth
   Constraints Model provides the 'rules' to support the allocation of
   bandwidth to individual class types (CTs).  CTs are groupings of
   service classes in the DS-TE model, which are provided separate
   bandwidth allocations, priorities, and QoS objectives.  Several CTs
   can share a common bandwidth pool on an integrated, multiservice
   MPLS/Diffserv network.

   This document is intended to complement the DS-TE requirements
   document [<a href="#ref-DSTE-REQ" title='"Requirements for Support of Differentiated Services-aware MPLS Traffic Engineering"'>DSTE-REQ</a>] by giving a functional specification for the
   Maximum Allocation with Reservation (MAR) Bandwidth Constraints
   Model.  Examples of the operation of the MAR Bandwidth Constraints
   Model are presented.  MAR performance is analyzed relative to the
   criteria for selecting a Bandwidth Constraints Model, in order to
   provide guidance to user implementation of the model in their
   networks.

   Two other Bandwidth Constraints Models are being specified for use in
   DS-TE:

   1. Maximum Allocation Model (MAM) [<a href="#ref-MAM" title='"Maximum Allocation Bandwidth Constraints Model for Diffserv-aware MPLS Traffic Engineering"'>MAM</a>] - the maximum allowable
      bandwidth usage of each CT is explicitly specified.

   2. Russian Doll Model (RDM) [<a href="#ref-RDM" title='"Russian Dolls Bandwidth Constraints Model for Diffserv-aware MPLS Traffic Engineering"'>RDM</a>] - the maximum allowable bandwidth
      usage is done cumulatively by grouping successive CTs according to
      priority classes.

   MAR is similar to MAM in that a maximum bandwidth allocation is given
   to each CT.  However, through the use of bandwidth reservation and
   protection mechanisms, CTs are allowed to exceed their bandwidth
   allocations under conditions of no congestion but revert to their
   allocated bandwidths when overload and congestion occurs.

   All Bandwidth Constraints Models should meet these objectives:

   1. applies equally when preemption is either enabled or disabled
      (when preemption is disabled, the model still works 'reasonably'
      well),

   2. bandwidth efficiency, i.e., good bandwidth sharing among CTs under
      both normal and overload conditions,





<span class="grey">Ash                           Experimental                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   3. bandwidth isolation, i.e., a CT cannot hog the bandwidth of
      another CT under overload conditions,

   4. protection against QoS degradation, at least of the high-priority
      CTs (e.g., high-priority voice, high-priority data, etc.), and

   5. reasonably simple, i.e., does not require additional IGP
      extensions and minimizes signaling load processing requirements.

   In <a href="#appendix-A">Appendix A</a>, modeling analysis is presented that shows the MAR
   Model meets all of these objectives and provides good network
   performance, relative to MAM and full-sharing models, under normal
   and abnormal operating conditions.  It is demonstrated that MAR
   simultaneously achieves bandwidth efficiency, bandwidth isolation,
   and protection against QoS degradation without preemption.

   In <a href="#section-3">Section 3</a> we give the assumptions and applicability; in <a href="#section-4">Section 4</a>
   a functional specification of the MAR Bandwidth Constraints Model;
   and in <a href="#section-5">Section 5</a> we give examples of its operation.  In <a href="#appendix-A">Appendix A</a>,
   MAR performance is analyzed relative to the criteria for selecting a
   Bandwidth Constraints Model, in order to provide guidance to user
   implementation of the model in their networks.  In <a href="#appendix-B">Appendix B</a>,
   bandwidth prediction for path computation is discussed.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Specification%20of%20Requirements"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Specification of Requirements</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for Use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Definitions"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Definitions</span>

   For readability a number of definitions from [<a href="#ref-DSTE-REQ" title='"Requirements for Support of Differentiated Services-aware MPLS Traffic Engineering"'>DSTE-REQ</a>, <a href="#ref-DSTE-PROTO" title='"Protocol Extensions for Support of Diffserv-aware MPLS Traffic Engineering,"'>DSTE-PROTO</a>]
   are repeated here:

   Traffic Trunk:      an aggregation of traffic flows of the same class
                       (i.e., treated equivalently from the DS-TE
                       perspective), which is placed inside a Label
                       Switched Path (LSP).

   Class-Type (CT):    the set of Traffic Trunks crossing a link that is
                       governed by a specific set of bandwidth
                       constraints.  CT is used for the purposes of link
                       bandwidth allocation, constraint-based routing,
                       and admission control.  A given Traffic Trunk
                       belongs to the same CT on all links.





<span class="grey">Ash                           Experimental                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


                       Up to 8 CTs (MaxCT = 8) are supported.  They are
                       referred to as CTc, 0 &lt;= c &lt;= MaxCT-1 = 7.  Each
                       CT is assigned either a Bandwidth Constraint, or
                       a set of Bandwidth Constraints.  Up to 8
                       Bandwidth Constraints (MaxBC = 8) are supported
                       and they are referred to as BCc, 0 &lt;= c &lt;=
                       MaxBC-1 = 7.

   TE-Class:           A pair of: a) a CT, and b) a preemption priority
                       allowed for that CT.  This means that an LSP,
                       transporting a Traffic Trunk from that CT, can
                       use that preemption priority as the set-up
                       priority, the holding priority, or both.

   MAX_RESERVABLE_BWk: maximum reservable bandwidth on link k specifies
                       the maximum bandwidth that may be reserved; this
                       may be greater than the maximum link bandwidth,
                       in which case the link may be oversubscribed
                       [<a href="#ref-OSPF-TE" title='"Traffic Engineering (TE) Extensions to OSPF Version 2"'>OSPF-TE</a>].

   BCck:               bandwidth constraint for CTc on link k =
                       allocated (minimum guaranteed) bandwidth for CTc
                       on link k (see <a href="#section-4">Section 4</a>).

   RBW_THRESk:         reservation bandwidth threshold for link k (see
                       <a href="#section-4">Section 4</a>).

   RESERVED_BWck:      reserved bandwidth-in-progress on CTc on link k
                       (0 &lt;= c &lt;= MaxCT-1), RESERVED_BWck = total amount
                       of the bandwidth reserved by all the established
                       LSPs that belong to CTc.

   UNRESERVED_BWk:     unreserved link bandwidth on link k specifies the
                       amount of bandwidth not yet reserved for any CT,
                       UNRESERVED_BWk = MAX_RESERVABLE_BWk - sum
                       [RESERVED_BWck (0 &lt;= c &lt;= MaxCT-1)].

   UNRESERVED_BWck:    unreserved link bandwidth on CTc on link k
                       specifies the amount of bandwidth not yet
                       reserved for CTc, UNRESERVED_BWck =
                       UNRESERVED_BWk - delta0/1(CTck) * RBW-THRESk
                       where

                       delta0/1(CTck) = 0 if RESERVED_BWck &lt; BCck
                       delta0/1(CTck) = 1 if RESERVED_BWck &gt;= BCck






<span class="grey">Ash                           Experimental                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   A number of recovery mechanisms under investigation in the IETF take
   advantage of the concept of bandwidth sharing across particular sets
   of LSPs.  "Shared Mesh Restoration" in [<a href="#ref-GMPLS-RECOV" title='"Generalized MPLS Recovery Functional Specification"'>GMPLS-RECOV</a>] and "Facility-
   based Computation Model" in [<a href="#ref-MPLS-BACKUP" title='"MPLS Traffic Engineering Fast Reroute: Bypass Tunnel Path Computation for Bandwidth Protection"'>MPLS-BACKUP</a>] are example mechanisms that
   increase bandwidth efficiency by sharing bandwidth across backup LSPs
   protecting against independent failures.  To ensure that the notion
   of RESERVED_BWck introduced in [<a href="#ref-DSTE-REQ" title='"Requirements for Support of Differentiated Services-aware MPLS Traffic Engineering"'>DSTE-REQ</a>] is compatible with such a
   concept of bandwidth sharing across multiple LSPs, the wording of the
   definition provided in [<a href="#ref-DSTE-REQ" title='"Requirements for Support of Differentiated Services-aware MPLS Traffic Engineering"'>DSTE-REQ</a>] is generalized.  With this
   generalization, the definition is compatible with Shared Mesh
   Restoration defined in [<a href="#ref-GMPLS-RECOV" title='"Generalized MPLS Recovery Functional Specification"'>GMPLS-RECOV</a>], so that DS-TE and Shared Mesh
   Protection can operate simultaneously, under the assumption that
   Shared Mesh Restoration operates independently within each DS-TE
   Class-Type and does not operate across Class-Types.  For example,
   backup LSPs protecting primary LSPs of CTc also need to belong to
   CTc; excess traffic LSPs that share bandwidth with backup LSPs of CTc
   also need to belong to CTc.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Assumptions%20%26%20Applicability"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Assumptions &amp; Applicability</span>

   In general, DS-TE is a bandwidth allocation mechanism for different
   classes of traffic allocated to various CTs (e.g., voice, normal
   data, best-effort data).  Network operation functions such as
   capacity design, bandwidth allocation, routing design, and network
   planning are normally based on traffic-measured load and forecast
   [<a href="#ref-ASH1" title='"Dynamic Routing in Telecommunications Networks,"'>ASH1</a>].

   As such, the following assumptions are made according to the
   operation of MAR:

   1. Connection admission control (CAC) allocates bandwidth for network
      flows/LSPs according to the traffic load assigned to each CT,
      based on traffic measurement and forecast.

   2. CAC could allocate bandwidth per flow, per LSP, per traffic trunk,
      or otherwise.  That is, no specific assumption is made about a
      specific CAC method, except that CT bandwidth allocation is
      related to the measured/forecasted traffic load, as per assumption
      #1.

   3. CT bandwidth allocation is adjusted up or down according to
      measured/forecast traffic load.  No specific time period is
      assumed for this adjustment, it could be short term (seconds,
      minutes, hours), daily, weekly, monthly, or otherwise.







<span class="grey">Ash                           Experimental                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   4. Capacity management and CT bandwidth allocation thresholds (e.g.,
      BCc) are designed according to traffic load, and are based on
      traffic measurement and forecast.  Again, no specific time period
      is assumed for this adjustment, it could be short term (hours),
      daily, weekly, monthly, or otherwise.

   5. No assumption is made on the order in which traffic is allocated
      to various CTs; again traffic allocation is assumed to be based
      only on traffic load as it is measured and/or forecast.

   6. If link bandwidth is exhausted on a given path for a
      flow/LSP/traffic trunk, alternate paths may be attempted to
      satisfy CT bandwidth allocation.

   Note that the above assumptions are not unique to MAR, but are
   generic, common assumptions for all BC Models.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Functional%20Specification%20of%20the%20MAR%20Bandwidth%20Constraints%20Model"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Functional Specification of the MAR Bandwidth Constraints Model</span>

   A DS-TE Label Switching Router (LSR) that implements MAR MUST support
   enforcement of bandwidth constraints, in compliance with the
   specifications in this section.

   In the MAR Bandwidth Constraints Model, the bandwidth allocation
   control for each CT is based on estimated bandwidth needs, bandwidth
   use, and status of links.  The Label Edge Router (LER) makes needed
   bandwidth allocation changes, and uses [<a href="#ref-RSVP-TE" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RSVP-TE</a>], for example, to
   determine if link bandwidth can be allocated to a CT.  Bandwidth
   allocated to individual CTs is protected as needed, but otherwise it
   is shared.  Under normal, non-congested network conditions, all
   CTs/services fully share all available bandwidth.  When congestion
   occurs for a particular CTc, bandwidth reservation prohibits traffic
   from other CTs from seizing the allocated capacity for CTc.

   On a given link k, a small amount of bandwidth RBW_THRESk (the
   reservation bandwidth threshold for link k) is reserved and governs
   the admission control on link k.  Also associated with each CTc on
   link k are the allocated bandwidth constraints BCck to govern
   bandwidth allocation and protection.  The reservation bandwidth on a
   link (RBW_THRESk) can be accessed when a given CTc has bandwidth-in-
   use (RESERVED_BWck) below its allocated bandwidth constraint (BCck).
   However, if RESERVED_BWck exceeds its allocated bandwidth constraint
   (BCck), then the reservation bandwidth (RBW_THRESk) cannot be
   accessed.  In this way, bandwidth can be fully shared among CTs if
   available, but is otherwise protected by bandwidth reservation
   methods.





<span class="grey">Ash                           Experimental                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   Bandwidth can be accessed for a bandwidth request = DBW for CTc on a
   given link k based on the following rules:

   Table 1: Rules for Admitting LSP Bandwidth Request = DBW on Link k

   For LSP on a high priority or normal priority CTc:

  If RESERVED_BWck &lt;= BCck: admit if DBW &lt;= UNRESERVED_BWk
  If RESERVED_BWck &gt; BCck:  admit if DBW &lt;= UNRESERVED_BWk - RBW_THRESk;

   or, equivalently:

   If DBW &lt;= UNRESERVED_BWck, admit the LSP.

   For LSP on a best-effort priority CTc:
   allocated bandwidth BCck = 0;
   Diffserv queuing admits BE packets only if there is available link
   bandwidth.

   The normal semantics of setup and holding priority are applied in the
   MAR Bandwidth Constraints Model, and cross-CT preemption is permitted
   when preemption is enabled.

   The bandwidth allocation rules defined in Table 1 are illustrated
   with an example in <a href="#section-6">Section 6</a> and simulation analysis in <a href="#appendix-A">Appendix A</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Setting%20Bandwidth%20Constraints"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Setting Bandwidth Constraints</span>

   For a normal priority CTc, the bandwidth constraints BCck on link k
   are set by allocating the maximum reservable bandwidth
   (MAX_RESERVABLE_BWk) in proportion to the forecast or measured
   traffic load bandwidth (TRAF_LOAD_BWck) for CTc on link k.  That is:

PROPORTIONAL_BWck = TRAF_LOAD_BWck/[sum {TRAF_LOAD_BWck, c=0, MaxCT-1}]
                    X MAX_RESERVABLE_BWk

For normal priority CTc:
BCck = PROPORTIONAL_BWck

   For a high priority CT, the bandwidth constraint BCck is set to a
   multiple of the proportional bandwidth.  That is:

   For high priority CTc:
   BCck = FACTOR X PROPORTIONAL_BWck

   where FACTOR is set to a multiple of the proportional bandwidth
   (e.g., FACTOR = 2 or 3 is typical).  This results in some 'over-
   allocation' of the maximum reservable bandwidth, and gives priority



<span class="grey">Ash                           Experimental                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   to the high priority CTs.  Normally the bandwidth allocated to high
   priority CTs should be a relatively small fraction of the total link
   bandwidth, with a maximum of 10-15 percent being a reasonable
   guideline.

   As stated in <a href="#section-4">Section 4</a>, the bandwidth allocated to a best-effort
   priority CTc should be set to zero.  That is:

   For best-effort priority CTc:
   BCck = 0

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Example%20of%20MAR%20Operation"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Example of MAR Operation</span>

   In the example, assume there are three class-types: CT0, CT1, CT2.
   We consider a particular link with

   MAX-RESERVABLE_BW = 100

   And with the allocated bandwidth constraints set as follows:

   BC0 = 30
   BC1 = 20
   BC2 = 20

   These bandwidth constraints are based on the normal traffic loads, as
   discussed in <a href="#section-5">Section 5</a>.  With MAR, any of the CTs is allowed to
   exceed its bandwidth constraint (BCc) as long a there are at least
   RBW_THRES (reservation bandwidth threshold on the link) units of
   spare bandwidth remaining.  Let's assume

   RBW_THRES = 10

   So under overload, if

   RESERVED_BW0 = 50
   RESERVED_BW1 = 30
   RESERVED_BW2 = 10

   Therefore, for this loading

   UNRESERVED_BW = 100 - 50 - 30 - 10 = 10

   CT0 and CT1 can no longer increase their bandwidth on the link,
   because they are above their BC values and there is only RBW_THRES=10
   units of spare bandwidth left on the link.  But CT2 can take the
   additional bandwidth (up to 10 units) if the demand arrives, because
   it is below its BC value.




<span class="grey">Ash                           Experimental                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   As also discussed in <a href="#section-4">Section 4</a>, if best effort traffic is present, it
   can always seize whatever spare bandwidth is available on the link at
   the moment, but is subject to being lost at the queues in favor of
   the higher priority traffic.

   Let's say an LSP arrives for CT0 needing 5 units of bandwidth (i.e.,
   DBW = 5).  We need to decide, based on Table 1, whether to admit this
   LSP or not.  Since for CT0

   RESERVED_BW0 &gt; BC0 (50 &gt; 30), and
   DBW &gt; UNRESERVED_BW - RBW_THRES (i.e., 5 &gt; 10 - 10)

   Table 1 says the LSP is rejected/blocked.

   Now let's say an LSP arrives for CT2 needing 5 units of bandwidth
   (i.e., DBW = 5).  We need to decide based on Table 1 whether to admit
   this LSP or not.  Since for CT2

   RESERVED_BW2 &lt; BC2 (10 &lt; 20), and
   DBW &lt; UNRESERVED_BW (i.e., 5 &lt; 10)

   Table 1 says to admit the LSP.

   Hence, in the above example, in the current state of the link and in
   the current CT loading, CT0 and CT1 can no longer increase their
   bandwidth on the link, because they are above their BCc values and
   there is only RBW_THRES=10 units of spare bandwidth left on the link.
   But CT2 can take the additional bandwidth (up to 10 units) if the
   demand arrives, because it is below its BCc value.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Summary"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Summary</span>

   The proposed MAR Bandwidth Constraints Model includes the following:

   1. allocation of bandwidth to individual CTs,

   2. protection of allocated bandwidth by bandwidth reservation
      methods, as needed, but otherwise full sharing of bandwidth,

   3. differentiation between high-priority, normal-priority, and best-
      effort priority services, and

   4. provision of admission control to reject connection requests, when
      needed, in order to meet performance objectives.

   The modeling results presented in <a href="#appendix-A">Appendix A</a> show that MAR bandwidth
   allocation achieves a) greater efficiency in bandwidth sharing while
   still providing bandwidth isolation and protection against QoS



<span class="grey">Ash                           Experimental                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   degradation, and b) service differentiation for high-priority,
   normal-priority, and best-effort priority services.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   Security considerations related to the use of DS-TE are discussed in
   [<a href="#ref-DSTE-PROTO" title='"Protocol Extensions for Support of Diffserv-aware MPLS Traffic Engineering,"'>DSTE-PROTO</a>].  They apply independently of the Bandwidth Constraints
   Model, including the MAR specified in this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  IANA Considerations</span>

   [<a id="ref-DSTE-PROTO" name="ref-DSTE-PROTO">DSTE-PROTO</a>] defines a new name space for "Bandwidth Constraints
   Model Id".  The guidelines for allocation of values in that name
   space are detailed in Section 13.1 of [<a href="#ref-DSTE-PROTO" title='"Protocol Extensions for Support of Diffserv-aware MPLS Traffic Engineering,"'>DSTE-PROTO</a>].  In accordance
   with these guidelines, the IANA has assigned a Bandwidth Constraints
   Model Id for MAR from the range 0-239 (which is to be managed as per
   the "Specification Required" policy defined in [<a href="#ref-IANA-CONS" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>IANA-CONS</a>]).

   Bandwidth Constraints Model Id 2 was allocated by IANA to MAR.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Acknowledgements"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Acknowledgements</span>

   DS-TE and Bandwidth Constraints Models have been an active area of
   discussion in the TEWG.  I would like to thank Wai Sum Lai for his
   support and review of this document.  I also appreciate helpful
   discussions with Francois Le Faucheur.

























<span class="grey">Ash                           Experimental                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20MAR%20Operation%20%26%20Performance%20Analysis"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  MAR Operation &amp; Performance Analysis</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.1.%20%20MAR%20Operation"></a><a class="selflink" href="#appendix-A.1" name="appendix-A.1">A.1</a>.  MAR Operation</span>

   In the MAR Bandwidth Constraints Model, the bandwidth allocation
   control for each CT is based on estimated bandwidth needs, bandwidth
   use, and status of links.  The LER makes needed bandwidth allocation
   changes, and uses [<a href="#ref-RSVP-TE" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RSVP-TE</a>], for example, to determine if link
   bandwidth can be allocated to a CT.  Bandwidth allocated to
   individual CTs is protected as needed, but otherwise it is shared.
   Under normal, non-congested network conditions, all CTs/services
   fully share all available bandwidth.  When congestion occurs for a
   particular CTc, bandwidth reservation acts to prohibit traffic from
   other CTs from seizing the allocated capacity for CTc.  Associated
   with each CT is the allocated bandwidth constraint (BCc) which
   governs bandwidth allocation and protection; these parameters are
   illustrated with examples in this Appendix.

   In performing MAR bandwidth allocation for a given flow/LSP, the LER
   first determines the egress LSR address, service-identity, and CT.
   The connection request is allocated an equivalent bandwidth to be
   routed on a particular CT.  The LER then accesses the CT priority,
   QoS/traffic parameters, and routing table between the LER and egress
   LSR, and sets up the connection request using the MAR bandwidth
   allocation rules.  The LER selects a first-choice path and determines
   if bandwidth can be allocated on the path based on the MAR bandwidth
   allocation rules given in <a href="#section-4">Section 4</a>.  If the first choice path has
   insufficient bandwidth, the LER may then try alternate paths, and
   again applies the MAR bandwidth allocation rules now described.

   MAR bandwidth allocation is done on a per-CT basis, in which
   aggregated CT bandwidth is managed to meet the overall bandwidth
   requirements of CT service needs.  Individual flows/LSPs are
   allocated bandwidth in the corresponding CT according to CT bandwidth
   availability.  A fundamental principle applied in MAR bandwidth
   allocation methods is the use of bandwidth reservation techniques.

   Bandwidth reservation gives preference to the preferred traffic by
   allowing it to seize idle bandwidth on a link more easily than the
   non-preferred traffic.  Burke [<a href="#ref-BUR" title="P. J.">BUR</a>] first analyzed bandwidth
   reservation behavior from the solution of the birth-death equations
   for the bandwidth reservation model.  Burke's model showed the
   relative lost-traffic level for preferred traffic, which is not
   subject to bandwidth reservation restrictions, as compared to non-
   preferred traffic, which is subject to the restrictions.  Bandwidth
   reservation protection is robust to traffic variations and provides





<span class="grey">Ash                           Experimental                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   significant dynamic protection of particular streams of traffic.  It
   is widely used in large-scale network applications [ASH1, MUM, AKI,
   KRU, NAK].

   Bandwidth reservation is used in MAR bandwidth allocation to control
   sharing of link bandwidth across different CTs.  On a given link, a
   small amount of bandwidth (RBW_THRES) is reserved (perhaps 1% of the
   total link bandwidth), and the reservation bandwidth can be accessed
   when a given CT has reserved bandwidth-in-progress (RESERVED_BW)
   below its allocated bandwidth (BC).  That is, if the available link
   bandwidth (unreserved idle link bandwidth UNRESERVED_BW) exceeds
   RBW_THRES, then any CT is free to access the available bandwidth on
   the link.  However, if UNRESERVED_BW is less than RBW_THRES, then the
   CT can utilize the available bandwidth only if its current bandwidth
   usage is below the allocated amount (BC).  In this way, bandwidth can
   be fully shared among CTs if available, but it is protected by
   bandwidth reservation if below the reservation level.

   Through the bandwidth reservation mechanism, MAR bandwidth allocation
   also gives preference to high-priority CTs, in comparison to normal-
   priority and best-effort priority CTs.

   Hence, bandwidth allocated to each CT is protected by bandwidth
   reservation methods, as needed, but otherwise shared.  Each LER
   monitors CT bandwidth use on each CT, and determines if connection
   requests can be allocated to the CT bandwidth.  For example, for a
   bandwidth request of DBW on a given flow/LSP, the LER determines the
   CT priority (high, normal, or best-effort), CT bandwidth-in-use, and
   CT bandwidth allocation thresholds, and uses these parameters to
   determine the allowed load state threshold to which capacity can be
   allocated.  In allocating bandwidth DBW to a CT on given LSP (for
   example, A-B-E), each link in the path is checked for available
   bandwidth in comparison to the allowed load state.  If bandwidth is
   unavailable on any link in path A-B-E, another LSP could be tried,
   such as A-C-D-E.  Hence, determination of the link load state is
   necessary for MAR bandwidth allocation, and two link load states are
   distinguished: available (non-reserved) bandwidth (ABW_STATE), and
   reserved-bandwidth (RBW_STATE).  Management of CT capacity uses the
   link state and the allowed load state threshold to determine if a
   bandwidth allocation request can be accepted on a given CT.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.2.%20%20Analysis%20of%20MAR%20Performance"></a><a class="selflink" href="#appendix-A.2" name="appendix-A.2">A.2</a>.  Analysis of MAR Performance</span>

   In this Appendix, modeling analysis is presented in which MAR
   bandwidth allocation is shown to provide good network performance,
   relative to full sharing models, under normal and abnormal operating
   conditions.  A large-scale Diffserv-aware MPLS traffic engineering
   simulation model is used, in which several CTs with different



<span class="grey">Ash                           Experimental                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   priority classes share the pool of bandwidth on a multiservice,
   integrated voice/data network.  MAR methods have also been analyzed
   in practice for networks that use time division multiplexing (i.e.,
   TDM-based networks) [<a href="#ref-ASH1" title='"Dynamic Routing in Telecommunications Networks,"'>ASH1</a>], and in modeling studies for IP-based
   networks [<a href="#ref-ASH2" title='"Routing Evolution in Multiservice Integrated Voice/Data Networks,"'>ASH2</a>, <a href="#ref-ASH3" title='"Performance Evaluation of QoS-Routing Methods for IP-Based Multiservice Networks,"'>ASH3</a>, <a href="#ref-E.360" title='"QoS Routing &amp; Related Traffic Engineering Methods for Multiservice TDM-, ATM-, &amp; IP-Based Networks"'>E.360</a>].

   All Bandwidth Constraints Models should meet these objectives:

   1. applies equally when preemption is either enabled or disabled
      (when preemption is disabled, the model still works 'reasonably'
      well),

   2. bandwidth efficiency, i.e., good bandwidth sharing among CTs under
      both normal and overload conditions,

   3. bandwidth isolation, i.e., a CT cannot hog the bandwidth of
      another CT under overload conditions,

   4. protection against QoS degradation, at least of the high-priority
      CTs (e.g., high-priority voice, high-priority data, etc.), and

   5. reasonably simple, i.e., does not require additional IGP
      extensions and minimizes signaling load processing requirements.

   The use of any given Bandwidth Constraints Model has significant
   impacts on the performance of a network, as explained later.
   Therefore, the criteria used to select a model need to enable us to
   evaluate how a particular model delivers its performance, relative to
   other models.  Lai [<a href="#ref-LAI" title='"Traffic Engineering for MPLS, Internet Performance and Control of Network Systems III Conference"'>LAI</a>, <a href="#ref-DSTE-PERF" title='"Bandwidth Constraints Models for Differentiated Services-aware MPLS Traffic Engineering: Performance Evaluation"'>DSTE-PERF</a>] has analyzed the MAM and RDM
   Models and provided valuable insights into the relative performance
   of these models under various network conditions.

   In environments where preemption is not used, MAM is attractive
   because a) it is good at achieving isolation, and b) it achieves
   reasonable bandwidth efficiency with some QoS degradation of lower
   classes.  When preemption is used, RDM is attractive because it can
   achieve bandwidth efficiency under normal load.  However, RDM cannot
   provide service isolation under high load or when preemption is not
   used.

   Our performance analysis of MAR bandwidth allocation methods is based
   on a full-scale, 135-node simulation model of a national network,
   combined with a multiservice traffic demand model to study various
   scenarios and tradeoffs [<a href="#ref-ASH3" title='"Performance Evaluation of QoS-Routing Methods for IP-Based Multiservice Networks,"'>ASH3</a>, <a href="#ref-E.360" title='"QoS Routing &amp; Related Traffic Engineering Methods for Multiservice TDM-, ATM-, &amp; IP-Based Networks"'>E.360</a>].  Three levels of traffic
   priority -- high, normal, and best effort -- are given across 5 CTs:
   normal priority voice, high priority voice, normal priority data,
   high priority data, and best effort data.




<span class="grey">Ash                           Experimental                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   The performance analyses for overloads and failures include a) the
   MAR Bandwidth Constraints Model, as specified in <a href="#section-4">Section 4</a>, b) the
   MAM Bandwidth Constraints Model, and c) the No-DSTE Bandwidth
   Constraints Model.

   The allocated bandwidth constraints for MAR are described in <a href="#section-5">Section</a>
   <a href="#section-5">5</a> as:

   Normal priority CTs:      BCck = PROPORTIONAL_BWk,
   High priority CTs:        BCck = FACTOR X PROPORTIONAL_BWk
   Best-effort priority CTs: BCck = 0

   In the MAM Bandwidth Constraints Model, the bandwidth constraints for
   each CT are set to a multiple of the proportional bandwidth
   allocation:

   Normal priority CTs:      BCck = FACTOR1 X PROPORTIONAL_BWk,
   High priority CTs:        BCck = FACTOR2 X PROPORTIONAL_BWk
   Best-effort priority CTs: BCck = 0

   Simulations show that for MAM, the sum (BCc) should exceed
   MAX_RESERVABLE_BWk for better efficiency, as follows:

   1. The normal priority CTs and the BCc values need to be over-
      allocated to get reasonable performance.  It was found that over-
      allocating by 100% (i.e., setting FACTOR1 = 2), gave reasonable
      performance.

   2. The high priority CTs can be over-allocated by a larger multiple
      FACTOR2 in MAM and this gives better performance.

   The rather large amount of over-allocation improves efficiency, but
   somewhat defeats the 'bandwidth protection/isolation' needed with a
   BC Model, because one CT can now invade the bandwidth allocated to
   another CT.  Each CT is restricted to its allocated bandwidth
   constraint BCck, which is the maximum level of bandwidth allocated to
   each CT on each link, as in normal operation of MAM.

   In the No-DSTE Bandwidth Constraints Model, no reservation or
   protection of CT bandwidth is applied, and bandwidth allocation
   requests are admitted if bandwidth is available.  Furthermore, no
   queuing priority is applied to any of the CTs in the No-DSTE
   Bandwidth Constraints Model.

   Table 2 gives performance results for a six-times overload on a
   single network node at Oakbrook, Illinois.  The numbers given in the
   table are the total network percent lost (i.e., blocked) or delayed




<span class="grey">Ash                           Experimental                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   traffic.  Note that in the focused overload scenario studied here,
   the percentage of lost/delayed traffic on the Oakbrook node is much
   higher than the network-wide average values given.

                                   Table 2
               Performance Comparison for MAR, MAM, &amp; No-DSTE
                      Bandwidth Constraints (BC) Models
                       6X Focused Overload on Oakbrook
                    (Total Network % Lost/Delayed Traffic)

   Class Type                    MAR BC  MAM BC  No-DSTE BC
                                 Model   Model   Model
   NORMAL PRIORITY VOICE         0.00    1.97    10.30
   HIGH PRIORITY VOICE           0.00    0.00    7.05
   NORMAL PRIORITY DATA          0.00    6.63    13.30
   HIGH PRIORITY DATA            0.00    0.00    7.05
   BEST EFFORT PRIORITY DATA     12.33   11.92   9.65

   Clearly the performance is better with MAR bandwidth allocation, and
   the results show that performance improves when bandwidth reservation
   is used.  The reason for the poor performance of the No-DSTE Model,
   without bandwidth reservation, is due to the lack of protection of
   allocated bandwidth.  If we add the bandwidth reservation mechanism,
   then performance of the network is greatly improved.

   The simulations showed that the performance of MAM is quite sensitive
   to the over-allocation factors discussed above.  For example, if the
   BCc values are proportionally allocated with FACTOR1 = 1, then the
   results are much worse, as shown in Table 3:

                              Table 3
        Performance Comparison for MAM Bandwidth Constraints Model
             with Different Over-allocation Factors
                 6X Focused Overload on Oakbrook
             (Total Network % Lost/Delayed Traffic)

   Class Type                   (FACTOR1 = 1)   (FACTOR1 = 2)
   NORMAL PRIORITY VOICE        31.69           1.97
   HIGH PRIORITY VOICE          0.00            0.00
   NORMAL PRIORITY DATA         31.22           6.63
   HIGH PRIORITY DATA           0.00            0.00
   BEST EFFORT PRIORITY DATA    8.76            11.92









<span class="grey">Ash                           Experimental                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   Table 4 illustrates the performance of the MAR, MAM, and No-DSTE
   Bandwidth Constraints Models for a high-day network load pattern with
   a 50% general overload.  The numbers given in the table are the total
   network percent lost (i.e., blocked) or delayed traffic.

                                   Table 4
               Performance Comparison for MAR, MAM, &amp; No-DSTE
                      Bandwidth Constraints (BC) Models
        50% General Overload (Total Network % Lost/Delayed Traffic)

   Class Type                    MAR BC  MAM BC  No-DSTE BC
                                 Model   Model   Model
   NORMAL PRIORITY VOICE         0.02    0.13    7.98
   HIGH PRIORITY VOICE           0.00    0.00    8.94
   NORMAL PRIORITY DATA          0.00    0.26    6.93
   HIGH PRIORITY DATA            0.00    0.00    8.94
   BEST EFFORT PRIORITY DATA     10.41   10.39   8.40

   Again, we can see the performance is always better when MAR bandwidth
   allocation and reservation is used.

   Table 5 illustrates the performance of the MAR, MAM, and No-DSTE
   Bandwidth Constraints Models for a single link failure scenario (3
   OC-48).  The numbers given in the table are the total network percent
   lost (blocked) or delayed traffic.

                                   Table 5
               Performance Comparison for MAR, MAM, &amp; No-DSTE
                      Bandwidth Constraints (BC) Models
                       Single Link Failure (2 OC-48)
                   (Total Network % Lost/Delayed Traffic)

   Class Type                    MAR BC  MAM BC  No-DSTE BC
                                 Model   Model   Model
   NORMAL PRIORITY VOICE         0.00    0.62    0.63
   HIGH PRIORITY VOICE           0.00    0.31    0.32
   NORMAL PRIORITY DATA          0.00    0.48    0.50
   HIGH PRIORITY DATA            0.00    0.31    0.32
   BEST EFFORT PRIORITY DATA     0.12    0.72    0.63

   Again, we can see the performance is always better when MAR bandwidth
   allocation and reservation is used.









<span class="grey">Ash                           Experimental                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   Table 6 illustrates the performance of the MAR, MAM, and No-DSTE
   Bandwidth Constraints Models for a multiple link failure scenario (3
   links with 3 OC-48, 3 OC-3, 4 OC-3 capacity, respectively).  The
   numbers given in the table are the total network percent lost
   (blocked) or delayed traffic.

                                   Table 6
               Performance Comparison for MAR, MAM, &amp; No-DSTE
                      Bandwidth Constraints (BC) Models
                             Multiple Link Failure
             (3 Links with 2 OC-48, 2 OC-12, 1 OC-12, Respectively)
                   (Total Network % Lost/Delayed Traffic)

   Class Type                    MAR BC  MAM BC  No-DSTE BC
                                 Model   Model   Model
   NORMAL PRIORITY VOICE         0.00    0.91    0.92
   HIGH PRIORITY VOICE           0.00    0.44    0.44
   NORMAL PRIORITY DATA          0.00    0.70    0.72
   HIGH PRIORITY DATA            0.00    0.44    0.44
   BEST EFFORT PRIORITY DATA     0.14    1.03    1.04

   Again, we can see the performance is always better when MAR bandwidth
   allocation and reservation is used.

   Lai's results [<a href="#ref-LAI" title='"Traffic Engineering for MPLS, Internet Performance and Control of Network Systems III Conference"'>LAI</a>, <a href="#ref-DSTE-PERF" title='"Bandwidth Constraints Models for Differentiated Services-aware MPLS Traffic Engineering: Performance Evaluation"'>DSTE-PERF</a>] show the trade-off between bandwidth
   sharing and service protection/isolation, using an analytic model of
   a single link.  He shows that RDM has a higher degree of sharing than
   MAM.  Furthermore, for a single link, the overall loss probability is
   the smallest under full sharing and largest under MAM, with RDM being
   intermediate.  Hence, on a single link, Lai shows that the full
   sharing model yields the highest link efficiency, while MAM yields
   the lowest; and that full sharing has the poorest service protection
   capability.

   The results of the present study show that, when considering a
   network context in which there are many links and multiple-link
   routing paths are used, full sharing does not necessarily lead to
   maximum, network-wide bandwidth efficiency.  In fact, the results in
   Table 4 show that the No-DSTE Model not only degrades total network
   throughput, but also degrades the performance of every CT that should
   be protected.  Allowing more bandwidth sharing may improve
   performance up to a point, but it can severely degrade performance if
   care is not taken to protect allocated bandwidth under congestion.

   Both Lai's study and this study show that increasing the degree of
   bandwidth sharing among the different CTs leads to a tighter coupling
   between CTs.  Under normal loading conditions, there is adequate
   capacity for each CT, which minimizes the effect of such coupling.



<span class="grey">Ash                           Experimental                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   Under overload conditions, when there is a scarcity of capacity, such
   coupling can cause severe degradation of service, especially for the
   lower priority CTs.

   Thus, the objective of maximizing efficient bandwidth usage, as
   stated in Bandwidth Constraints Model objectives, needs to be
   exercised with care.  Due consideration also needs to be given to
   achieving bandwidth isolation under overload, in order to minimize
   the effect of interactions among the different CTs.  The proper
   tradeoff of bandwidth sharing and bandwidth isolation needs to be
   achieved in the selection of a Bandwidth Constraints Model.
   Bandwidth reservation supports greater efficiency in bandwidth
   sharing, while still providing bandwidth isolation and protection
   against QoS degradation.

   In summary, the proposed MAR Bandwidth Constraints Model includes the
   following: a) allocation of bandwidth to individual CTs, b)
   protection of allocated bandwidth by bandwidth reservation methods,
   as needed, but otherwise full sharing of bandwidth, c)
   differentiation between high-priority, normal-priority, and best-
   effort priority services, and d) provision of admission control to
   reject connection requests, when needed, in order to meet performance
   objectives.

   In the modeling results, the MAR Bandwidth Constraints Model compares
   favorably with methods that do not use bandwidth reservation.  In
   particular, some of the conclusions from the modeling are as follows:

   o MAR bandwidth allocation is effective in improving performance over
     methods that lack bandwidth reservation; this allows more bandwidth
     sharing under congestion.

   o MAR achieves service differentiation for high-priority, normal-
     priority, and best-effort priority services.

   o Bandwidth reservation supports greater efficiency in bandwidth
     sharing while still providing bandwidth isolation and protection
     against QoS degradation, and is critical to stable and efficient
     network performance.












<span class="grey">Ash                           Experimental                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20B.%20%20Bandwidth%20Prediction%20for%20Path%20Computation"></a><a class="selflink" href="#appendix-B" name="appendix-B">Appendix B</a>.  Bandwidth Prediction for Path Computation</span>

   As discussed in [<a href="#ref-DSTE-PROTO" title='"Protocol Extensions for Support of Diffserv-aware MPLS Traffic Engineering,"'>DSTE-PROTO</a>], there are potential advantages for a
   Head-end when predicting the impact of an LSP on the unreserved
   bandwidth for computing the path of the LSP.  One example would be to
   perform better load-distribution of multiple LSPs across multiple
   paths.  Another example would be to avoid CAC rejection when the LSP
   no longer fits on a link after establishment.

   Where such predictions are used on Head-ends, the optional Bandwidth
   Constraints sub-TLV and the optional Maximum Reservable Bandwidth
   sub-TLV MAY be advertised in the IGP.  This can be used by Head-ends
   to predict how an LSP affects unreserved bandwidth values.  Such
   predictions can be made with MAR by using the unreserved bandwidth
   values advertised by the IGP, as discussed in Sections <a href="#section-2">2</a> and <a href="#section-4">4</a>:

   UNRESERVED_BWck = MAX_RESERVABLE_BWk - UNRESERVED_BWk -
                     delta0/1(CTck) * RBW-THRESk

   where

   delta0/1(CTck) = 0 if RESERVED_BWck &lt; BCck
   delta0/1(CTck) = 1 if RESERVED_BWck &gt;= BCck

   Furthermore, the following estimate can be made for RBW_THRESk:

   RBW_THRESk = RBW_% * MAX_RESERVABLE_BWk,

   where RBW_% is a locally configured variable, which could take on
   different values for different link speeds.  This information could
   be used in conjunction with the BC sub-TLV, MAX_RESERVABLE_BW sub-
   TLV, and UNRESERVED_BW sub-TLV to make predictions of available
   bandwidth on each link for each CT.  Because admission control
   algorithms are left for vendor differentiation, predictions can only
   be performed effectively when the Head-end LSR predictions are based
   on the same (or a very close) admission control algorithm used by
   other LSRs.

   LSPs may occasionally be rejected when head-ends are establishing
   LSPs through a common link.  As an example, consider some link L, and
   two head-ends H1 and H2.  If only H1 or only H2 is establishing LSPs
   through L, then the prediction is accurate.  But if both H1 and H2
   are establishing LSPs through L at the same time, the prediction
   would not work perfectly.  In other words, the CAC will occasionally
   run into a rejected LSP on a link with such 'race' conditions.  Also,
   as mentioned in <a href="#appendix-A">Appendix A</a>, such a prediction is optional and outside
   the scope of the document.




<span class="grey">Ash                           Experimental                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


Normative References

   [<a id="ref-DSTE-REQ" name="ref-DSTE-REQ">DSTE-REQ</a>]    Le Faucheur, F. and W. Lai, "Requirements for Support
                 of Differentiated Services-aware MPLS Traffic
                 Engineering", <a href="rfc3564.html">RFC 3564</a>, July 2003.

   [<a id="ref-DSTE-PROTO" name="ref-DSTE-PROTO">DSTE-PROTO</a>]  Le Faucheur, F., Ed., "Protocol Extensions for Support
                 of Diffserv-aware MPLS Traffic Engineering," <a href="rfc4124.html">RFC 4124</a>,
                 June 2005.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]     Bradner, S., "Key words for Use in RFCs to Indicate
                 Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-IANA-CONS" name="ref-IANA-CONS">IANA-CONS</a>]   Narten, T. and H. Alvestrand, "Guidelines for Writing
                 an IANA Considerations Section in RFCs", <a href="https://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc2434.html">RFC</a>
                 <a href="rfc2434.html">2434</a>, October 1998.

Informative References

   [<a id="ref-AKI" name="ref-AKI">AKI</a>]         Akinpelu, J. M., "The Overload Performance of
                 Engineered Networks with Nonhierarchical &amp; Hierarchical
                 Routing," BSTJ, Vol. 63, 1984.

   [<a id="ref-ASH1" name="ref-ASH1">ASH1</a>]        Ash, G. R., "Dynamic Routing in Telecommunications
                 Networks," McGraw-Hill, 1998.

   [<a id="ref-ASH2" name="ref-ASH2">ASH2</a>]        Ash, G. R., et al., "Routing Evolution in Multiservice
                 Integrated Voice/Data Networks," Proceeding of ITC-16,
                 Edinburgh, June 1999.

   [<a id="ref-ASH3" name="ref-ASH3">ASH3</a>]        Ash, G. R., "Performance Evaluation of QoS-Routing
                 Methods for IP-Based Multiservice Networks," Computer
                 Communications Magazine, May 2003.

   [<a id="ref-BUR" name="ref-BUR">BUR</a>]         Burke, P. J., Blocking Probabilities Associated with
                 Directional Reservation, unpublished memorandum, 1961.

   [<a id="ref-DSTE-PERF" name="ref-DSTE-PERF">DSTE-PERF</a>]   Lai, W., "Bandwidth Constraints Models for
                 Differentiated Services-aware MPLS Traffic Engineering:
                 Performance Evaluation", <a href="rfc4128.html">RFC 4128</a>, June 2005.

   [<a id="ref-E.360" name="ref-E.360">E.360</a>]       ITU-T Recommendations E.360.1 - E.360.7, "QoS Routing &amp;
                 Related Traffic Engineering Methods for Multiservice
                 TDM-, ATM-, &amp; IP-Based Networks".

   [<a id="ref-GMPLS-RECOV" name="ref-GMPLS-RECOV">GMPLS-RECOV</a>] Lang, J., et al., "Generalized MPLS Recovery Functional
                 Specification", Work in Progress.




<span class="grey">Ash                           Experimental                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


   [<a id="ref-KRU" name="ref-KRU">KRU</a>]         Krupp, R. S., "Stabilization of Alternate Routing
                 Networks", Proceedings of ICC, Philadelphia, 1982.

   [<a id="ref-LAI" name="ref-LAI">LAI</a>]         Lai, W., "Traffic Engineering for MPLS, Internet
                 Performance and Control of Network Systems III
                 Conference", SPIE Proceedings Vol. 4865, pp. 256-267,
                 Boston, Massachusetts, USA, 29 July-1 August 2002.

   [<a id="ref-MAM" name="ref-MAM">MAM</a>]         Le Faucheur, F., Lai, W., "Maximum Allocation Bandwidth
                 Constraints Model for Diffserv-aware MPLS Traffic
                 Engineering", <a href="rfc4125.html">RFC 4125</a>, June 2005.

   [<a id="ref-MPLS-BACKUP" name="ref-MPLS-BACKUP">MPLS-BACKUP</a>] Vasseur, J. P., et al., "MPLS Traffic Engineering Fast
                 Reroute: Bypass Tunnel Path Computation for Bandwidth
                 Protection", Work in Progress.

   [<a id="ref-MUM" name="ref-MUM">MUM</a>]         Mummert, V. S., "Network Management and Its
                 Implementation on the No. 4ESS, International Switching
                 Symposium", Japan, 1976.

   [<a id="ref-NAK" name="ref-NAK">NAK</a>]         Nakagome, Y., Mori, H., Flexible Routing in the Global
                 Communication Network, Proceedings of ITC-7, Stockholm,
                 1973.

   [<a id="ref-OSPF-TE" name="ref-OSPF-TE">OSPF-TE</a>]     Katz, D., Kompella, K. and D. Yeung, "Traffic
                 Engineering (TE) Extensions to OSPF Version 2", <a href="rfc3630.html">RFC</a>
                 <a href="rfc3630.html">3630</a>, September 2003.

   [<a id="ref-RDM" name="ref-RDM">RDM</a>]         Le Faucheur, F., Ed., "Russian Dolls Bandwidth
                 Constraints Model for Diffserv-aware MPLS Traffic
                 Engineering", <a href="rfc4127.html">RFC 4127</a>, June 2005.

   [<a id="ref-RSVP-TE" name="ref-RSVP-TE">RSVP-TE</a>]     Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan,
                 V. and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
                 Tunnels", <a href="rfc3209.html">RFC 3209</a>, December 2001.

Author's Address

   Jerry Ash
   AT&amp;T
   Room MT D5-2A01
   200 Laurel Avenue
   Middletown, NJ 07748, USA

   Phone: +1 732-420-4578
   EMail: gash@att.com





<span class="grey">Ash                           Experimental                     [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc4126.html">RFC 4126</a>       MAR Bandwidth Constraints Model for DS-TE       June 2005</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2005).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Ash                           Experimental                     [Page 22]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc4126 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:43 GMT --></html>