<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7152 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:23 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:7152" name="DC.Identifier"/>
<meta content='This document provides functional requirements for the support of
Metro Ethernet Forum (MEF) Ethernet Tree (E-Tree) in multipoint Layer
2 Virtual Private Network solutions (referred to as simply "L2VPN").
It is intended that potential solutions will use these requirements as
guidelines.' name="DC.Description.Abstract"/>
<meta content="Paul, Manuel" name="DC.Creator"/>
<meta content="Huang, Lu" name="DC.Creator"/>
<meta content="Liu, Zhihua" name="DC.Creator"/>
<meta content="DeLord, Simon" name="DC.Creator"/>
<meta content="March, 2014" name="DC.Date.Issued"/>
<meta content="Requirements for Metro Ethernet Forum (MEF) Ethernet-Tree (E-Tree) Support in Layer 2 Virtual Private Network (L2VPN)" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7152 - Requirements for Metro Ethernet Forum (MEF) Ethernet-Tree (E-Tree) Support in Layer 2 Virtual Private Network (L2VPN)</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7152.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7152" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-l2vpn-etree-reqt" title="draft-ietf-l2vpn-etree-reqt">draft-ietf-l2vp...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7152" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7152" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7152" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                       R. Key, Ed.
Request for Comments: 7152                                     S. Delord
Category: Informational                                          Telstra
ISSN: 2070-1721                                                F. Jounay
                                                               Orange CH
                                                                L. Huang
                                                            China Mobile
                                                                  Z. Liu
                                                           China Telecom
                                                                 M. Paul
                                                        Deutsche Telekom
                                                              March 2014


   <span class="h1">Requirements for Metro Ethernet Forum (MEF) Ethernet-Tree (E-Tree)</span>
           <span class="h1">Support in Layer 2 Virtual Private Network (L2VPN)</span>

Abstract

   This document provides functional requirements for the support of
   Metro Ethernet Forum (MEF) Ethernet Tree (E-Tree) in multipoint Layer
   2 Virtual Private Network solutions (referred to as simply "L2VPN").
   It is intended that potential solutions will use these requirements
   as guidelines.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc5741.html#section-2">SectionÂ 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7152">http://www.rfc-editor.org/info/rfc7152</a>.











<span class="grey">Key, et al.                   Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Conventions Used in This Document ..........................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. IETF Multipoint Ethernet L2VPN Services .........................<a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>. VPLS .......................................................<a href="#page-3">3</a>
      <a href="#section-2.2">2.2</a>. Ethernet Virtual Private Network (E-VPN) ...................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. MEF Multipoint Ethernet Services ................................<a href="#page-4">4</a>
      <a href="#section-3.1">3.1</a>. Similarities between E-LAN and E-Tree ......................<a href="#page-4">4</a>
      <a href="#section-3.2">3.2</a>. Differences between E-LAN and E-Tree .......................<a href="#page-4">4</a>
      <a href="#section-3.3">3.3</a>. E-Tree Use Cases ...........................................<a href="#page-5">5</a>
      <a href="#section-3.4">3.4</a>. Generic E-Tree Service .....................................<a href="#page-6">6</a>
   <a href="#section-4">4</a>. Problem Statement ...............................................<a href="#page-6">6</a>
      <a href="#section-4.1">4.1</a>. Motivation .................................................<a href="#page-6">6</a>
      <a href="#section-4.2">4.2</a>. Leaf-to-Leaf Communication Restriction .....................<a href="#page-6">6</a>
   <a href="#section-5">5</a>. Requirements ....................................................<a href="#page-7">7</a>
      <a href="#section-5.1">5.1</a>. Functional Requirements ....................................<a href="#page-7">7</a>
      <a href="#section-5.2">5.2</a>. Applicability ..............................................<a href="#page-8">8</a>
      <a href="#section-5.3">5.3</a>. Backward Compatibility .....................................<a href="#page-8">8</a>
      <a href="#section-5.4">5.4</a>. External Network Network Interface (ENNI) ..................<a href="#page-8">8</a>
   <a href="#section-6">6</a>. Security Considerations .........................................<a href="#page-8">8</a>
   <a href="#section-7">7</a>. Contributors ....................................................<a href="#page-8">8</a>
   <a href="#section-8">8</a>. Acknowledgements ................................................<a href="#page-9">9</a>
   <a href="#section-9">9</a>. References ......................................................<a href="#page-9">9</a>
      <a href="#section-9.1">9.1</a>. Normative References .......................................<a href="#page-9">9</a>
      <a href="#section-9.2">9.2</a>. Informative References ....................................<a href="#page-10">10</a>
   <a href="#appendix-A">Appendix A</a>. Frequently Asked Question .............................<a href="#page-11">11</a>
   A.1. Are E-Tree Requirements Addressed in the Virtual
        Private Multicast Service (VPMS) Requirements? ...............<a href="#page-11">11</a>







<span class="grey">Key, et al.                   Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   This document provides functional requirements for the support of
   Metro Ethernet Forum (MEF) Ethernet Tree (E-Tree) in multipoint Layer
   2 Virtual Private Network solutions (referred to as simply "L2VPN").
   It is intended that potential solutions will use these requirements
   as guidelines.

   A considerable number of service providers have adopted Virtual
   Private LAN Service (VPLS) to provide MEF Ethernet LAN (E-LAN)
   services to customers.  Service providers currently need a simple and
   effective solution to emulate E-Tree services in addition to E-LAN
   services on their MPLS networks.

   Service providers also expect E-Tree support in any newly developed
   L2VPN technologies.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20IETF%20Multipoint%20Ethernet%20L2VPN%20Services"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  IETF Multipoint Ethernet L2VPN Services</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20VPLS"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  VPLS</span>

   VPLS [<a href="rfc4761.html" title='"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling"'>RFC4761</a>] [<a href="rfc4762.html" title='"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling"'>RFC4762</a>] is an L2VPN service that provides
   multipoint-to-multipoint connectivity for Ethernet across an IP or
   MPLS-enabled IP Packet Switched Network (IP/MPLS PSN).  VPLS emulates
   the Ethernet VLAN functionality of traditional Ethernet networks.
   Thus, in VPLS, the customer Ethernet frame is transported over the
   IP/MPLS PSN from the ingress Provider Edge (PE) to the egress PE
   where the destination is connected based on the Ethernet frame
   destination Media Access Control (MAC) address in the context of the
   virtual switching instance (VSI) to which it belongs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2.%20%20Ethernet%20Virtual%20Private%20Network%20%28E-VPN%29"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a>.  Ethernet Virtual Private Network (E-VPN)</span>

   E-VPN is an enhanced L2 service that emulates an Ethernet VLAN across
   an IP/MPLS PSN, primarily targeted to support large scale L2VPNs with
   resiliency requirements not satisfied by other L2VPN solutions.

   E-VPN is currently under development.  Please refer to [<a href="#ref-EVPN" title='"Requirements for Ethernet VPN (EVPN)"'>EVPN</a>].







<span class="grey">Key, et al.                   Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20MEF%20Multipoint%20Ethernet%20Services"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  MEF Multipoint Ethernet Services</span>

   MEF has defined two multipoint Ethernet service types:

      - E-LAN (Ethernet LAN), multipoint-to-multipoint service
      - E-Tree (Ethernet Tree), rooted-multipoint service

   For the full specifications, please refer to [<a href="#ref-MEF6.1" title='"Ethernet Services Definitions - Phase 2"'>MEF6.1</a>] and [<a href="#ref-MEF10.2" title='"Ethernet Services Attributes Phase 2"'>MEF10.2</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Similarities%20between%20E-LAN%20and%20E-Tree"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Similarities between E-LAN and E-Tree</span>

   The following are the similarities between E-LAN and E-Tree services.

      - Data frame is an Ethernet frame.
      - Data forwarding is MAC-based forwarding.
      - A generic E-LAN/E-Tree service is always bidirectional in the
        sense that ingress frames can originate at any endpoint in the
        service.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Differences%20between%20E-LAN%20and%20E-Tree"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Differences between E-LAN and E-Tree</span>

   Within the context of a multipoint Ethernet service, each endpoint is
   designated as either a Root or a Leaf.  A Root can communicate with
   all other endpoints in the same multipoint Ethernet service; however,
   a Leaf can only communicate with Roots but not Leaves.

   The only differences between E-LAN and E-Tree are:

      - E-LAN has Root endpoints only, which implies there is no
        communication restriction between endpoints.
      - E-Tree has both Root and Leaf endpoints, which implies there is
        a need to enforce communication restriction between Leaf
        endpoints.


















<span class="grey">Key, et al.                   Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20E-Tree%20Use%20Cases"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  E-Tree Use Cases</span>

   Table 1 presents some major E-Tree use cases.

       +---------------------------+--------------+------------+
       | Use Case                  | Root         | Leaf       |
   +---+---------------------------+--------------+------------+
   | 1 | Hub &amp; Spoke VPN           | Hub Site     | Spoke Site |
   +---+---------------------------+--------------+------------+
   | 2 | Wholesale Access          | Customer's   | Customer's |
   |   |                           | Interconnect | Subscriber |
   +---+---------------------------+--------------+------------+
   | 3 | Mobile Backhaul           | Radio Access | RAN Base   |
   |   |                           | Network (RAN)| Station    |
   |   |                           | Network      |            |
   |   |                           | Controller   |            |
   +---+---------------------------+--------------+------------+
   | 4 | IEEE 1588 PTPv2           | Precision    | PTP Client |
   |   | Clock Synchronisation     | Time Protocol|            |
   |   | [<a href="#ref-IEEE1588" title='"1588-2008 Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control Systems"'>IEEE1588</a>]                | (PTP) Server |            |
   +---+---------------------------+--------------+------------+
   | 5 | Internet Access           | Broadband    | Subscriber |
   |   | [<a href="#ref-TR-101" title='"Migration to Ethernet-Based DSL Aggregation"'>TR-101</a>]                  | Network      |            |
   |   |                           | Gateway      |            |
   +---+---------------------------+--------------+------------+
   | 6 | Broadcast Video           | Video Source | Subscriber |
   |   | (unidirectional only)     |              |            |
   +---+---------------------------+--------------+------------+
   | 7 | Broadcast/Multicast Video | Video Source | Subscriber |
   |   | plus Control Channel      |              |            |
   +---+---------------------------+--------------+------------+
   | 8 | Device Management         | Management   | Managed    |
   |   |                           | System       | Device     |
   +---+---------------------------+--------------+------------+

                     Table 1: E-Tree Use Cases

   Common to all use cases, direct L2 Leaf-to-Leaf communication is not
   required or must be inhibited.

   If direct L2 Leaf-to-Leaf communication is not allowed due to a
   security concern, then E-Tree should be used to prohibit
   communication between Leaf endpoints.  Otherwise, E-LAN is also a
   feasible option.







<span class="grey">Key, et al.                   Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.4.%20%20Generic%20E-Tree%20Service"></a><a class="selflink" href="#section-3.4" name="section-3.4">3.4</a>.  Generic E-Tree Service</span>

   A generic E-Tree service supports multiple Root endpoints.  The need
   for multiple Root endpoints is usually driven by a redundancy
   requirement.  Whether a particular E-Tree service needs to support
   single or multiple Roots depends on the target application.

   A generic E-Tree service supports all the following traffic flows:

      - Ethernet Unicast from Root to Leaf
      - Ethernet Unicast from Leaf to Root
      - Ethernet Unicast from Root to Root
      - Ethernet Broadcast/Multicast from Root to other Roots and Leaves
      - Ethernet Broadcast/Multicast from Leaf to Roots

   A particular E-Tree service may need to support all the above or only
   a subset depending on the target application.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Problem%20Statement"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Problem Statement</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Motivation"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Motivation</span>

   L2VPN can be used to emulate MEF E-LAN service over an IP/MPLS PSN.

   Service providers also require E-Tree support in L2VPN.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Leaf-to-Leaf%20Communication%20Restriction"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Leaf-to-Leaf Communication Restriction</span>

   In this section, VPLS is used to illustrate the problem; however, the
   same principle applies to other L2VPN technologies.

   VPLS treats all attachment circuits (ACs) equally (essentially as
   Roots, although they not classified into Root or Leaf) and provides
   any-to-any connectivity among all ACs.  VPLS does not include any
   mechanism for communication restriction between specific ACs.
   Therefore, it is insufficient for emulating generic E-Tree service
   over an IP/MPLS PSN.

   As an example of the problems not addressed in VPLS solutions,
   consider the scenario in Figure 1 where there are two PEs, each with
   a Root AC and a Leaf AC and where VPLS is used to emulate an E-Tree
   service interconnecting these ACs over an IP/MPLS PSN.









<span class="grey">Key, et al.                   Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


                     &lt;------------E-Tree------------&gt;
                    +---------+            +---------+
                    |   PE1   |            |   PE2   |
   +---+            |  +---+  |            |  +---+  |            +---+
   |CE1+-----AC1----+--+   |  |            |  |   +--+----AC3-----+CE3|
   +---+  (Root AC) |  | V |  |  Ethernet  |  | V |  | (Root AC)  +---+
                    |  | S +--+-----PW-----+--+ S |  |
   +---+            |  | I |  |            |  | I |  |            +---+
   |CE2+-----AC2----+--+   |  |            |  |   +--+----AC4-----+CE4|
   +---+  (Leaf AC) |  +---+  |            |  +---+  | (Leaf AC)  +---+
                    +---------+            +---------+

   Figure 1: Problem Scenario for Leaf-to-Leaf Communication Restriction

   When PE2 receives a frame from PE1 via the Ethernet pseudowire (PW),

      - PE2 does not know which AC on PE1 is the ingress AC
      - PE2 does not know whether or not the ingress AC is a Leaf AC
      - PE2 does not have sufficient information to enforce the Leaf-to-
        Leaf communication restriction

   Examples where the problems arise:

      - Customer Edge 2 (CE2) sends a Broadcast/Multicast Ethernet frame
        to PE1 via AC2
      - CE2 sends a Unicast Ethernet frame to PE1 via AC2 with a
        destination MAC address corresponding to CE4's MAC address

   Note: Figure 1 is a hypothetical case solely used for explaining the
   problem; it is not meant to represent a typical E-Tree service.

   There are some possible ways to get around this problem that do not
   require extensions to existing VPLS solutions, but they all come with
   significant design complexity or deployment constraints.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Requirements"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Requirements</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Functional%20Requirements"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Functional Requirements</span>

   The following are the E-Tree L2VPN functional requirements:

   (1) A solution MUST prohibit communication between any two Leaf ACs
       in an L2VPN instance.

   (2) A solution MUST allow multiple Root ACs in an L2VPN instance.






<span class="grey">Key, et al.                   Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


   (3) A solution MUST allow a Root AC and Leaf AC of an L2VPN instance
       to coexist on any PE.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Applicability"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Applicability</span>

   A solution MUST identify the L2VPN technology ([<a href="rfc4761.html" title='"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling"'>RFC4761</a>], [<a href="rfc4762.html" title='"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling"'>RFC4762</a>],
   [<a href="#ref-EVPN" title='"Requirements for Ethernet VPN (EVPN)"'>EVPN</a>]) to which the solution is applicable.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20Backward%20Compatibility"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  Backward Compatibility</span>

   A solution SHOULD minimise the impact on VPLS and E-VPN L2VPN
   solutions, especially for the MEF E-LAN services already in
   operation.

   A solution SHOULD be backward compatible with the VPLS and E-VPN
   L2VPN solutions.  It SHOULD allow a case where a common L2VPN
   instance is composed of both PEs supporting the solution and PEs not
   supporting it, and the Leaf-to-Leaf communication restriction is
   enforced within the scope of the compliant PEs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.4.%20%20External%20Network%20Network%20Interface%20%28ENNI%29"></a><a class="selflink" href="#section-5.4" name="section-5.4">5.4</a>.  External Network Network Interface (ENNI)</span>

   A solution SHOULD support Root Operator Virtual Connection (OVC) End
   Point, Leaf OVC End Point and Trunk OVC End Point specified in
   [<a href="#ref-MEF26.1" title='"External Network Network Interface (ENNI) Phase 2"'>MEF26.1</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Security Considerations</span>

   This document introduces a requirement of prohibiting communication
   between any two Leaf ACs in an L2VPN instance.  In some use cases,
   such a requirement is imposed because of security reasons.  Other
   than that, there are no additional security considerations beyond
   those already described in [<a href="rfc4761.html" title='"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling"'>RFC4761</a>], [<a href="rfc4762.html" title='"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling"'>RFC4762</a>], and [<a href="#ref-EVPN" title='"Requirements for Ethernet VPN (EVPN)"'>EVPN</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Contributors"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Contributors</span>

   Ruediger Kunze
   Deutsche Telekom
   Winterfeldtstr. 21-27
   10781 Berlin, Germany
   EMail: ruediger.kunze@telekom.de

   Nick Del Regno
   Verizon
   400 International Pkwy
   Richardson, TX 75081, USA
   EMail: nick.delregno@verizon.com




<span class="grey">Key, et al.                   Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


   Josh Rogers
   Time Warner Cable
   11921 N Mo Pac Expy
   Suite 210B
   Austin, TX 78759, USA
   EMail: josh.rogers@twcable.com

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Acknowledgements"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Acknowledgements</span>

   The authors would like to thank Lizhong Jin, Lucy Yong, Yuji Kamite,
   and Wim Henderickx for their valuable input and support.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-MEF6.1" name="ref-MEF6.1">MEF6.1</a>]     Metro Ethernet Forum, "Ethernet Services Definitions -
                Phase 2", Technical Specification MEF 6.1, April 2008,
                &lt;<a href="http://metroethernetforum.org/Assets/Technical_Specifications/PDF/MEF6-1.pdf">http://metroethernetforum.org/Assets/</a>
                <a href="http://metroethernetforum.org/Assets/Technical_Specifications/PDF/MEF6-1.pdf">Technical_Specifications/PDF/MEF6-1.pdf</a>&gt;.

   [<a id="ref-MEF10.2" name="ref-MEF10.2">MEF10.2</a>]    Metro Ethernet Forum, "Ethernet Services Attributes
                Phase 2", Technical Specification MEF 10.2, October
                2009, &lt;<a href="http://metroethernetforum.org/Assets/Technical_Specifications/PDF/MEF10.2.pdf">http://metroethernetforum.org/Assets/</a>
                <a href="http://metroethernetforum.org/Assets/Technical_Specifications/PDF/MEF10.2.pdf">Technical_Specifications/PDF/MEF10.2.pdf</a>&gt;.

   [<a id="ref-MEF26.1" name="ref-MEF26.1">MEF26.1</a>]    Metro Ethernet Forum, "External Network Network
                Interface (ENNI) Phase 2", Technical Specification, MEF
                26.1, January 2012,
                &lt;<a href="http://metroethernetforum.org/Assets/Technical_Specifications/PDF/MEF_26.1.pdf">http://metroethernetforum.org/Assets/</a>
                <a href="http://metroethernetforum.org/Assets/Technical_Specifications/PDF/MEF_26.1.pdf">Technical_Specifications/PDF/MEF_26.1.pdf</a>&gt;.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]    Bradner, S., "Key words for use in RFCs to Indicate
                Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC4761" name="ref-RFC4761">RFC4761</a>]    Kompella, K., Ed., and Y. Rekhter, Ed., "Virtual Private
                LAN Service (VPLS) Using BGP for Auto-Discovery and
                Signaling", <a href="rfc4761.html">RFC 4761</a>, January 2007.

   [<a id="ref-RFC4762" name="ref-RFC4762">RFC4762</a>]    Lasserre, M., Ed., and V. Kompella, Ed., "Virtual
                Private LAN Service (VPLS) Using Label Distribution
                Protocol (LDP) Signaling", <a href="rfc4762.html">RFC 4762</a>, January 2007.









<span class="grey">Key, et al.                   Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-EVPN" name="ref-EVPN">EVPN</a>]       Sajassi, A., Aggarwal, R., Uttaro, J., Bitar, N.,
                Henderickx, W., and A. Isaac, "Requirements for Ethernet
                VPN (EVPN)", Work in Progress, February 2014.

   [<a id="ref-IEEE1588" name="ref-IEEE1588">IEEE1588</a>]   IEEE, "1588-2008 Standard for a Precision Clock
                Synchronization Protocol for Networked Measurement and
                Control Systems", July 2008.

   [<a id="ref-TR-101" name="ref-TR-101">TR-101</a>]     Broadband Forum, "Migration to Ethernet-Based DSL
                Aggregation", Technical Report, DSL Forum TR-101, April
                2006, &lt;<a href="http://www.broadband-forum.org/technical/download/TR-101.pdf">http://www.broadband-forum.org/</a>
                <a href="http://www.broadband-forum.org/technical/download/TR-101.pdf">technical/download/TR-101.pdf</a>&gt;.

   [<a id="ref-VPMS" name="ref-VPMS">VPMS</a>]       Kamite, Y., Jounay, F., Niven-Jenkins, B., Brungard, D.,
                and L. Jin, "Framework and Requirements for Virtual
                Private Multicast Service (VPMS)", Work in Progress,
                October 2012.
































<span class="grey">Key, et al.                   Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Frequently%20Asked%20Question"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Frequently Asked Question</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.1.%20%20Are%20E-Tree%20Requirements%20Addressed%20in%20the%20Virtual%20Private%20Multicast"></a><a class="selflink" href="#appendix-A.1" name="appendix-A.1">A.1</a>.  Are E-Tree Requirements Addressed in the Virtual Private Multicast</span>
      Service (VPMS) Requirements?

   VPMS requirements are defined in [<a href="#ref-VPMS" title='"Framework and Requirements for Virtual Private Multicast Service (VPMS)"'>VPMS</a>].

   The focus of VPMS is to provide point-to-multipoint connectivity.

   VPMS provides single coverage of receiver membership (i.e., there is
   no distinct differentiation for multiple multicast groups).  A VPMS
   service supports single or multiple Root ACs.  All traffic from a
   Root AC will be forwarded to all Leaf ACs (i.e., Point-to-Multipoint
   (P2MP), from Root to all Leaves).  The destination address in an
   Ethernet frame is not used in data forwarding.  As an optional
   capability, a VPMS service may support reverse traffic from a Leaf AC
   to a Root AC (i.e., point-to-point (P2P), from Leaf to Root).

   In contrast, the focus of MEF E-Tree is that a Leaf can only
   communicate with Roots, not Leaves.

   A generic MEF E-Tree service supports multiple Root endpoints.
   Whether a particular E-Tree service needs to support single or
   multiple Root endpoints depends on the target application.

   As discussion in a previous section, a generic MEF E-Tree service
   supports all the following traffic flows:

      - Ethernet Unicast bidirectional Root to/from Root
      - Ethernet Unicast bidirectional Root to/from Leaf
      - Ethernet Broadcast/Multicast unidirectional Root to all Roots
        and Leaves
      - Ethernet Broadcast/Multicast unidirectional Leaf to all Roots

   A particular E-Tree service may need to support all the above or only
   a subset depending on the target application.

   The IETF's VPMS definition and MEF's E-Tree definition are
   significantly different.

   VPMS may be acceptable in cases where E-Tree service is needed, such
   as in the following cases:

      - No Unicast traffic from Root destined for a specific Leaf (or
        there is no concern if such Unicast traffic is forwarded to all
        Leaves)
      - No traffic between Roots




<span class="grey">Key, et al.                   Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7152.html">RFC 7152</a>               Requirement E-Tree in L2VPN            March 2014</span>


   For generic E-Tree service, VPMS will not be able to meet the
   requirements.

Authors' Addresses

   Raymond Key (editor)

   EMail: raymond.key@ieee.org


   Simon Delord
   Telstra

   EMail: simon.delord@gmail.com


   Frederic Jounay
   Orange CH
   4 rue caudray 1020 Renens
   Switzerland

   EMail: frederic.jounay@orange.ch


   Lu Huang
   China Mobile
   Unit 2, 28 Xuanwumenxi Ave, Xuanwu District
   Beijing 100053, China

   EMail: huanglu@chinamobile.com


   Zhihua Liu
   China Telecom
   109 Zhongshan Ave., Guangzhou
   510630, China

   EMail: zhliu@gsta.com


   Manuel Paul
   Deutsche Telekom
   Winterfeldtstr. 21-27
   10781 Berlin, Germany

   EMail: manuel.paul@telekom.de





Key, et al.                   Informational                    [Page 12]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7152 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:23 GMT --></html>