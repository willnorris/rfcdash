<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7121 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:23 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-ogawa-forces-ceha" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7121" name="DC.Identifier"/>
<meta content="February, 2014" name="DC.Date.Issued"/>
<meta content="Ogawa, Kentaro" name="DC.Creator"/>
<meta content="Haleplidis, Evangelos" name="DC.Creator"/>
<meta content="Salim, Jamal Hadi" name="DC.Creator"/>
<meta content="Wang, Weiming" name="DC.Creator"/>
<meta content="This document discusses Control Element (CE) High Availability (HA)
within a Forwarding and Control Element Separation (ForCES) Network
Element (NE). Additionally, this document updates RFC 5810 by
providing new normative text for the Cold Standby High Availability
mechanism." name="DC.Description.Abstract"/>
<meta content="High Availability within a Forwarding and Control Element Separation (ForCES) Network Element" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7121 - High Availability within a Forwarding and Control Element Separation (ForCES) Network Element</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7121.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7121" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-forces-ceha" title="draft-ietf-forces-ceha">draft-ietf-forc...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7121" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7121" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7121" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Updated by: <a href="rfc7391.html">7391</a>                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                          K. Ogawa
Request for Comments: 7121                               NTT Corporation
Updates: <a href="rfc5810.html">5810</a>                                                    W. Wang
Category: Standards Track                  Zhejiang Gongshang University
ISSN: 2070-1721                                            E. Haleplidis
                                                    University of Patras
                                                           J. Hadi Salim
                                                       Mojatatu Networks
                                                           February 2014


                       <span class="h1">High Availability within a</span>
   <span class="h1">Forwarding and Control Element Separation (ForCES) Network Element</span>

Abstract

   This document discusses Control Element (CE) High Availability (HA)
   within a Forwarding and Control Element Separation (ForCES) Network
   Element (NE).  Additionally, this document updates <a href="rfc5810.html">RFC 5810</a> by
   providing new normative text for the Cold Standby High Availability
   mechanism.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7121">http://www.rfc-editor.org/info/rfc7121</a>.
















<span class="grey">Ogawa, et al.                Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Quantifying Problem Scope . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-1.2">1.2</a>.  Definitions . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-2">2</a>.  <a href="rfc5810.html">RFC 5810</a> CE HA Framework  . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-2.1">2.1</a>.  <a href="rfc5810.html">RFC 5810</a> CE HA Support  . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
       <a href="#section-2.1.1">2.1.1</a>.  Cold Standby Interaction with the ForCES Protocol . .   <a href="#page-8">8</a>
       <a href="#section-2.1.2">2.1.2</a>.  Responsibilities for HA . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-3">3</a>.  CE HA Hot Standby . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-3.1">3.1</a>.  Changes to the FEPO Model . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-3.2">3.2</a>.  FEPO Processing . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-4">4</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   <a href="#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-18">18</a>
   <a href="#section-6">6</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-6.1">6.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
     <a href="#section-6.2">6.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-19">19</a>
   <a href="#appendix-A">Appendix A</a>.  New FEPO Version . . . . . . . . . . . . . . . . . .  <a href="#page-20">20</a>


















<span class="grey">Ogawa, et al.                Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Figure 1 illustrates a ForCES Network Element (NE) controlled by a
   set of redundant Control Elements (CEs) with CE1 being active and CE2
   and CEn being backups.

                           -----------------------------------------
                           | ForCES Network Element                |
                           |                        +-----------+  |
                           |                        |  CEn      |  |
                           |                        |  (Backup) |  |
     --------------   Fc   | +------------+      +------------+ |  |
     | CE Manager |--------+-|     CE1    |------|    CE2     |-+  |
     --------------        | |  (Active)  |  Fr  |  (Backup)  |    |
           |               | +-------+--+-+      +---+---+----+    |
           | Fl            |         |  |    Fp      /   |         |
           |               |         |  +---------+ /    |         |
           |               |       Fp|            |/     |Fp       |
           |               |         |            |      |         |
           |               |         |      Fp   /+--+   |         |
           |               |         |  +-------+    |   |         |
           |               |         |  |            |   |         |
     --------------    Ff  | --------+--+--      ----+---+----+    |
     | FE Manager |--------+-|     FE1    |  Fi  |     FE2    |    |
     --------------        | |            |------|            |    |
                           | --------------      --------------    |
                           |   |  |  |  |          |  |  |  |      |
                           ----+--+--+--+----------+--+--+--+-------
                               |  |  |  |          |  |  |  |
                               |  |  |  |          |  |  |  |
                                 Fi/f                   Fi/f

          Fp: CE-FE interface
          Fi: FE-FE interface
          Fr: CE-CE interface
          Fc: Interface between the CE manager and a CE
          Ff: Interface between the FE manager and an FE
          Fl: Interface between the CE manager and the FE manager
          Fi/f: FE external interface

                       Figure 1: ForCES Architecture

   The ForCES architecture allows Forwarding Elements (FEs) to be aware
   of multiple CEs but enforces that only one CE be the master
   controller.  This is known in the industry as 1+N redundancy.  The
   master CE controls the FEs via the ForCES protocol operating on the
   Fp interface.  If the master CE becomes faulty, i.e., crashes or
   loses connectivity, a backup CE takes over and NE operation



<span class="grey">Ogawa, et al.                Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   continues.  By definition, the current documented setup is known as
   cold standby.  The set of CEs controlling an FE is static and is
   passed to the FE by the FE Manager (FEM) via the Ff interface and to
   each CE by the CE Manager (CEM) in the Fc interface during the pre-
   association phase.

   From an FE perspective, the operational parameters for a CE set are
   defined as components in the FEPO LFB in <a href="rfc5810.html#appendix-B">[RFC5810], Appendix B</a>.  In
   <a href="#section-2.1">Section 2.1</a> of this document, we discuss further details of these
   parameters.

   It is assumed that the reader is aware of the ForCES architecture to
   make sense of the changes being described in this document.  This
   document provides background information to set the context of the
   discussion in <a href="#section-3">Section 3</a>.

   At the time of writing, the Fr interface is out of scope for the
   ForCES architecture.  However, it is expected that organizations
   implementing a set of CEs will need to have the CEs communicate to
   each other via the Fr interface in order to achieve the
   synchronization necessary for controlling the FEs.

   The problem scope addressed by this document falls into two areas:

   1.  To update the description of [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>] with more clarity on how
       the current cold standby approach operates within the NE cluster.

   2.  To describe how to evolve the [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>] cold standby setup to a
       hot standby redundancy setup to improve the failover time and NE
       availability.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Quantifying%20Problem%20Scope"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Quantifying Problem Scope</span>

   NE recovery and availability is dependent on several time-sensitive
   metrics:

   1.  How fast the CE plane failure is detected by the FE.

   2.  How fast a backup CE becomes operational.

   3.  How fast the FEs associate with the new master CE.

   4.  How fast the FEs recover their state and become operational.
       Each FE state is the collective state of all its instantiated
       LFBs.

   The design intent of [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>] as well as this document to meet the
   above goals is driven by desire for simplicity.



<span class="grey">Ogawa, et al.                Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   To quantify the above criteria with the current prescribed ForCES CE
   setup in [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>]:

   1.  How fast the FE side detects a CE failure is left undefined.  To
       illustrate an extreme scenario, we could have a human operator
       acting as the monitoring entity to detect faulty CEs.  How fast
       such detection happens could be in the range of seconds to days.
       A more active monitor on the Fp interface could improve this
       detection.  Usually, the FE will detect a CE failure either by
       the TML if the Fp interface terminates or by the ForCES protocol
       by utilizing the ForCES Heartbeat mechanism.

   2.  How fast the backup CE becomes operational is also currently out
       of scope.  In the current setup, a backup CE need not be
       operational at all (for example, to save power), and therefore it
       is feasible for a monitoring entity to boot up a backup CE after
       it detects the failure of the master CE.  In <a href="#section-3">Section 3</a> of this
       document, we suggest that at least one backup CE be online so as
       to improve this metric.

   3.  How fast an FE associates with a new master CE is also currently
       undefined.  The cost of an FE connecting and associating adds to
       the recovery overhead.  As mentioned above, we suggest having at
       least one backup CE online.  In <a href="#section-3">Section 3</a>, we propose to remove
       the connection and association cost on failover by having each FE
       associate with all online backup CEs after associating to an
       active/master CE.  Note that if an FE pre-associates with at
       least one backup CE, then the system will be technically
       operating in hot standby mode.

   4.  Finally, how fast an FE recovers its state depends on how much NE
       state exists.  By the ForCES current definition, the new master
       CE assumes zero state on the FE and starts from scratch to update
       the FE.  So, the larger the state, the longer the recovery.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Definitions"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Definitions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   The following definitions are taken from [<a href="rfc3654.html" title='"Requirements for Separation of IP Control and Forwarding"'>RFC3654</a>], [<a href="rfc3746.html" title='"Forwarding and Control Element Separation (ForCES) Framework"'>RFC3746</a>], and
   [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>].  They are repeated here for convenience as needed, but the
   normative definitions are found in the referenced RFCs:

   Logical Functional Block (LFB):  A template that represents fine-
      grained, logically separate aspects of FE processing.




<span class="grey">Ogawa, et al.                Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   Forwarding Element (FE):  A logical entity that implements the ForCES
      protocol.  FEs use the underlying hardware to provide per-packet
      processing and handling as directed by a CE via the ForCES
      protocol.

   Control Element (CE):  A logical entity that implements the ForCES
      protocol and uses it to instruct one or more FEs on how to process
      packets.  CEs handle functionality such as the execution of
      control and signaling protocols.

   ForCES Network Element (NE):  An entity composed of one or more CEs
      and one or more FEs.  An NE usually hides its internal
      organization from external entities and represents a single point
      of management to entities outside the NE.

   FE Manager (FEM):  A logical entity that operates in the pre-
      association phase and is responsible for determining to which
      CE(s) an FE should communicate.  This process is called CE
      discovery and may involve the FE manager learning the capabilities
      of available CEs.

   CE Manager (CEM):  A logical entity that operates in the pre-
      association phase and is responsible for determining to which
      FE(s) a CE should communicate.  This process is called FE
      discovery and may involve the CE manager learning the capabilities
      of available FEs.

   ForCES Protocol:  The protocol used for communication between CEs and
      FEs.  This protocol does not apply to CE-to-CE communication, FE-
      to-FE communication, or to communication between FE and CE
      managers.  The ForCES protocol is a master-slave protocol in which
      FEs are slaves and CEs are masters.  This protocol includes both
      the management of the communication channel (e.g., connection
      establishment and heartbeats) and the control messages themselves.

   ForCES Protocol Layer (ForCES PL):  A layer in the ForCES protocol
      architecture that defines the ForCES protocol messages, the
      protocol state transfer scheme, and the ForCES protocol
      architecture itself (including requirements of ForCES Transport
      Mapping Layer (TML) as shown below).  Specifications of ForCES PL
      are defined in [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>].

   ForCES Protocol Transport Mapping Layer (ForCES TML):  A layer in the
      ForCES protocol architecture that specifically addresses the
      protocol message transportation issues, such as how the protocol
      messages are mapped to different transport media (like Stream





<span class="grey">Ogawa, et al.                Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


      Control Transmission Protocol (SCTP), IP, TCP, UDP, ATM, Ethernet,
      etc.), and how to achieve and implement reliability, security,
      etc.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20RFC%205810%20CE%20HA%20Framework"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  <a href="rfc5810.html">RFC 5810</a> CE HA Framework</span>

   To achieve CE High Availability (HA), FEs and CEs MUST interoperate
   per the definition in [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>], which is repeated for contextual
   reasons in <a href="#section-2.1">Section 2.1</a>.  It should be noted that in this default
   setup, which MUST be implemented by CEs and FEs requiring HA, the Fr
   plane is out of scope (and if available, is proprietary to an
   implementation).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1.%20%20RFC%205810%20CE%20HA%20Support"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a>.  <a href="rfc5810.html">RFC 5810</a> CE HA Support</span>

   As mentioned earlier, although there can be multiple redundant CEs,
   only one CE actively controls FEs in a ForCES NE.  In practice, there
   may be only one backup CE.  At any moment in time, only one master CE
   can control an FE.  In addition, the FE connects and associates to
   only the master CE.  The FE and the CE are aware of the primary and
   one or more secondary CEs.  This information (primary and secondary
   CEs) is configured on the FE and the CE during pre-association by the
   FEM and the CEM, respectively.

   This section includes a new normative description that updates
   [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>] for the Cold Standby High Availability mechanism.

   Figure 2 below illustrates the ForCES message sequences that the FE
   uses to recover the connection in the currently defined cold standby
   scheme.





















<span class="grey">Ogawa, et al.                Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


         FE                       CE Primary         CE Secondary
         |                           |                     |
         | Association Establishment |                     |
         |   Capabilities Exchange   |                     |
       1 |&lt;-------------------------&gt;|                     |
         |                           |                     |
         |       State Update        |                     |
       2 |&lt;-------------------------&gt;|                     |
         |                           |                     |
         |                           |                     |
         |                        FAILURE                  |
         |                                                 |
         | Association Establishment, Capabilities Exchange|
       3 |&lt;-----------------------------------------------&gt;|
         |                                                 |
         |         Event Report (primary CE down)          |
       4 |------------------------------------------------&gt;|
         |                                                 |
         |                  State Update                   |
       5 |&lt;-----------------------------------------------&gt;|

                  Figure 2: CE Failover for Cold Standby

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.1.1.%20%20Cold%20Standby%20Interaction%20with%20the%20ForCES%20Protocol"></a><a class="selflink" href="#section-2.1.1" name="section-2.1.1">2.1.1</a>.  Cold Standby Interaction with the ForCES Protocol</span>

   HA parameterization in an FE is driven by configuring the FE Protocol
   Object (FEPO) LFB.

   The FEPO Control Element ID (CEID) component identifies the current
   master CE, and the component table BackupCEs identifies the
   configured backup CEs.  The FEPO FE Heartbeat Interval (FEHI), CE
   Heartbeat Dead Interval (CEHDI), and CE Heartbeat policy help in
   detecting connectivity problems between an FE and CE.  The CE
   failover policy defines how the FE should react on a detected
   failure.  The FEObject FEState component [<a href="rfc5812.html" title='"Forwarding and Control Element Separation (ForCES) Forwarding Element Model"'>RFC5812</a>] defines the
   operational forwarding status and control.  The CE can turn off the
   FE's forwarding operations by setting the FEState to AdminDisable and
   can turn it on by setting it to OperEnable.  Note: <a href="rfc5812.html#section-5.1">Section 5.1 of
   [RFC5812]</a> has been updated by an erratum ([<a href="#ref-Err3487" title="RFC 5812">Err3487</a>]) that describes
   the FEState as read-only when it should be read-write.

   Figure 3 illustrates the defined state machine that facilitates the
   recovery of the connection state.

   The FE connects to the CE specified on the FEPO CEID component.  If
   it fails to connect to the defined CE, it moves it to the bottom of
   table BackupCEs and sets its CEID component to be the first CE
   retrieved from table BackupCEs.  The FE then attempts to associate



<span class="grey">Ogawa, et al.                Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   with the CE designated as the new primary CE.  The FE continues
   through this procedure until it successfully connects to one of the
   CEs or until the CE Failover Timeout Interval (CEFTI) expires.

                             FE tries to associate
                                   +--&gt;-----+
                                   |        |
      (CE changes master ||        |        |
      CE issues Teardown ||    +---+--------v----+
        Lost association) &amp;&amp;   | Pre-association |
       CE failover policy = 0  | (Association    |
           +------------&gt;--&gt;--&gt;|   in            +&lt;----+
           |                   | progress)       |     |
           |                   |                 |     |
           |                   +--------+--------+     |
           |  CE Association        |                  | CEFTI
           |       Response         V                  | timer
           |     +------------------+                  | expires
           |     |FE issues CEPrimaryDown              ^
           |     V                                     |
         +-+-----------+                        +------+-----+
         |             |  (CE changes master || | Not        |
         |             |  CE issues Teardown || | Associated |
         |             |  Lost association) &amp;&amp;  |            +-&gt;---+
         | Associated  | CE failover policy = 1 |(May        | FE  |
         |             |                        | Continue   | try v
         |             |--------&gt;-------&gt;------&gt;| Forwarding)| assn|
         |             |   Start CEFTI timer    |            |-&lt;---+
         |             |                        |            |
         +-------------+                        +-------+----+
              ^                                         |
              |            Successful                   V
              |            Association                  |
              |            Setup                        |
              |            (Cancel CEFTI timer)         |
              +_________________________________________+
                       FE issues CEPrimaryDown event

                 Figure 3: FE State Machine Considering HA

   There are several events that trigger mastership changes.  The master
   CE may issue a mastership change (by changing the CEID component), it
   may tear down an existing association, or connectivity may be lost
   between the CE and FE.

   When communication fails between the FE and CE (which can be caused
   by either the CE or link failure but is not FE related), either the
   TML on the FE will trigger the FE PL regarding this failure or it



<span class="grey">Ogawa, et al.                Standards Track                    [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   will be detected using the Heartbeat messages between FEs and CEs.
   The communication failure, regardless of how it is detected, MUST be
   considered to be a loss of association between the CE and
   corresponding FE.

   If the FE's FEPO CE failover policy is configured to mode 0 (the
   default), it will immediately transition to the pre-association
   phase.  This means that if association is later re-established with a
   CE, all FE states will need to be re-created.

   If the FE's FEPO CE failover policy is configured to mode 1, it
   indicates that the FE will run in HA restart recovery.  In such a
   case, the FE transitions to the not associated state and the CEFTI
   timer [<a href="rfc5810.html" title='"Forwarding and Control Element Separation (ForCES) Protocol Specification"'>RFC5810</a>] is started.  The FE may continue to forward packets
   during this state, depending upon the value of the CEFailoverPolicy
   component of the FEPO LFB.  The FE recycles through any configured
   backup CEs in a round-robin fashion.  It first adds its primary CE to
   the bottom of table BackupCEs and sets its CEID component to be the
   first secondary retrieved from table BackupCEs.  The FE then attempts
   to associate with the CE designated as the new primary CE.  If it
   fails to re-associate with any CE and the CEFTI expires, the FE then
   transitions to the pre-association state and the FE will
   operationally bring down its forwarding path (and set the [<a href="rfc5812.html" title='"Forwarding and Control Element Separation (ForCES) Forwarding Element Model"'>RFC5812</a>]
   FEObject FEState component to OperDisable).

   If the FE, while in the not associated state, manages to reconnect to
   a new primary CE before the CEFTI expires, it transitions to the
   associated state.  Once re-associated, the CE may try to synchronize
   any state that the FE may have lost during disconnection.  How the CE
   re-synchronizes such a state is out of scope for the current ForCES
   architecture but would typically constitute the issuing of new Config
   messages and queries.

   An explicit message (a Config message setting the primary CE
   component in the ForCES Protocol Object) from the primary CE can also
   be used to change the primary CE for an FE during normal protocol
   operation.  In this case, the FE transitions to the not associated
   state and attempts to associate with the new CE.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.1.2.%20%20Responsibilities%20for%20HA"></a><a class="selflink" href="#section-2.1.2" name="section-2.1.2">2.1.2</a>.  Responsibilities for HA</span>

   TML Level:

   1.  The TML controls logical connection availability and failover.

   2.  The TML also controls peer HA management.





<span class="grey">Ogawa, et al.                Standards Track                   [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   At this level, control of all lower layers, for example, the
   transport level (such as IP addresses, Media Access Control (MAC)
   addresses, etc.), and associated links going down are the role of the
   TML.

   PL Level:
   All other functionality, including configuring the HA behavior during
   setup, Control Element IDs (CE IDs) used to identify primary and
   secondary CEs, protocol messages used to report CE failure (event
   report), Heartbeat messages used to detect association failure,
   messages to change the primary CE (Config), and other HA-related
   operations described in <a href="#section-2.1">Section 2.1</a>, are the PL's responsibility.

   To put the two together, if a path to a primary CE is down, the TML
   would help recover from a failure by switching over to a backup path,
   if one is available.  If the CE is totally unreachable, then the PL
   would be informed and it would take the appropriate actions described
   before.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20CE%20HA%20Hot%20Standby"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  CE HA Hot Standby</span>

   In this section, we describe small extensions to the existing scheme
   to enable hot standby HA.  To achieve hot standby HA, we aim to
   improve the specific goals defined in <a href="#section-1.1">Section 1.1</a>, namely:

   o  How fast a backup CE becomes operational.

   o  How fast the FEs associate with the new master CE.

   As described in <a href="#section-2.1">Section 2.1</a>, in the pre-association phase, the FEM
   configures the FE to make it aware of all the CEs in the NE.  The FEM
   MUST configure the FE to make it aware of which CE is the master and
   MAY specify any backup CE(s).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Changes%20to%20the%20FEPO%20Model"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Changes to the FEPO Model</span>

   In order for the above to be achievable, there is a need to make a
   few changes in the FEPO model.  <a href="#appendix-A">Appendix A</a> contains the xml
   definition of the new version 1.1 of the FEPO LFB.












<span class="grey">Ogawa, et al.                Standards Track                   [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   Changes from version 1 of the FEPO are:

   1.  Added four new datatypes:

       1.  CEStatusType -- an unsigned char to specify the status of a
           connection with a CE.  Special values are:

           +  0 (Disconnected) represents that no connection attempt has
              been made with the CE yet

           +  1 (Connected) represents that the FE connection with the
              CE at the TML has completed successfully

           +  2 (Associated) represents that the FE has successfully
              associated with the CE

           +  3 (IsMaster) represents that the FE has associated with
              the CE and is the master of the FE

           +  4 (LostConnection) represents that the FE was associated
              with the CE at one point but lost the connection

           +  5 (Unreachable) represents that the FE deems this CE
              unreachable, i.e., the FE has tried over a period to
              connect to it but has failed

       2.  HAModeValues -- an unsigned char to specify a selected HA
           mode.  Special values are:

           +  0 (No HA Mode) represents that the FE is not running in HA
              mode

           +  1 (HA Mode - Cold Standby) represents that the FE is in HA
              mode cold standby

           +  2 (HA Mode - Hot Standby) represents that the FE is in HA
              mode hot standby

       3.  Statistics -- a complex structure representing the
           communication statistics between the FE and CE.  The
           components are:

           +  RecvPackets, representing the packet count received from
              the CE

           +  RecvBytes, representing the byte count received from the
              CE




<span class="grey">Ogawa, et al.                Standards Track                   [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


           +  RecvErrPackets, representing the erroneous packets
              received from the CE.  This component logs badly formatted
              packets as well as good packets sent to the FE by the CE
              to set components whilst that CE is not the master.
              Erroneous packets are dropped (i.e., not responded to).

           +  RecvErrBytes, representing the RecvErrPackets byte count
              received from the CE

           +  TxmitPackets, representing the packet count transmitted to
              the CE

           +  TxmitErrPackets, representing the error packet count
              transmitted to the CE.  Typically, these would be failures
              due to communication.

           +  TxmitBytes, representing the byte count transmitted to the
              CE

           +  TxmitErrBytes, representing the byte count of errors from
              transmit to the CE

       4.  AllCEType -- a complex structure constituting the CE IDs,
           statistics, and CEStatusType to reflect connection
           information for one CE.  Used in the AllCE's component array.

   2.  Appended two new components:

       1.  Read-only AllCEs to hold the status for all CEs.  AllCEs is
           an array of the AllCEType.

       2.  Read-write HAMode of type HAModeValues to carry the HA mode
           used by the FE.

   3.  Added one additional event, PrimaryCEChanged, reporting the new
       master CE ID when there is a mastership change.

   Since no component from FEPO v1 has been changed, FEPO v1.1 retains
   backwards compatibility with CEs that know only version 1.0.  These
   CEs, however, cannot make use of the HA options that the new FEPO
   provides.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20FEPO%20Processing"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  FEPO Processing</span>

   The FE's FEPO LFB version 1.1 AllCEs table contains all the CE IDs
   with which the FE may connect and associate.  The ordering of the CE
   IDs in this table defines the priority order in which an FE will
   connect to the CEs.  This table is provisioned initially from the



<span class="grey">Ogawa, et al.                Standards Track                   [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   configuration plane (FEM).  In the pre-association phase, the first
   CE (lowest table index) in the AllCEs table MUST be the first CE with
   which the FE will attempt to connect and associate.  If the FE fails
   to connect and associate with the first listed CE, it will attempt to
   connect to the second CE and so forth, and it cycles back to the
   beginning of the list until there is a successful association.  The
   FE MUST associate with at least one CE.  Upon a successful
   association, a component of the FEPO LFB, specifically the CEID
   component, identifies the current associated master CE.

   While it would be much simpler to have the FE not respond to any
   messages from a CE other than the master, in practice it has been
   found to be useful to respond to queries and heartbeats from backup
   CEs.  For this reason, we allow backup CEs to issue queries to the
   FE.  Configuration messages (SET/DEL) from backup CEs MUST be dropped
   by the FE and logged as received errors.

   Asynchronous events that the master CE has subscribed to, as well as
   heartbeats, are sent to all associated CEs.  Packet redirects
   continue to be sent only to the master CE.  The Heartbeat Interval,
   the CE Heartbeat (CEHB) policy, and the FE Heartbeat (FEHB) policy
   are global for all CEs (and changed only by the master CE).

   Figure 4 illustrates the state machine that facilitates connection
   recovery with HA enabled.


























<span class="grey">Ogawa, et al.                Standards Track                   [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


                           FE tries to associate
                                +--&gt;-----+
                                |        |
   (CE changes master ||        |        |
   CE issues Teardown ||    +---+--------v----+
     Lost association) &amp;&amp;   | Pre-association |
    CE failover policy = 0  | (Association    |
        +------------&gt;--&gt;--&gt;|   in            +&lt;----+
        |                   | progress)       |     |
        |                   |                 |     |
        |                   +--------+--------+     |
        |  CE Association        |                  | CEFTI
        |       Response         V                  | timer
        |     +------------------+                  | expires
        |     |FE issues CEPrimaryDown              ^
        |     |FE issues PrimaryCEChanged           ^
        |     V                                     |
      +-+-----------+                        +------+-----+
      |             |  (CE changes master || | Not        |
      |             |  CE issues Teardown || | Associated |
      |             |  Lost association) &amp;&amp;  |            +-&gt;----------+
      | Associated  | CE failover policy = 1 |(May        | find first |
      |             |                        | Continue   | associated v
      |             |--------&gt;-------&gt;------&gt;| Forwarding)| CE or retry|
      |             |   Start CEFTI timer    |            | associating|
      |             |                        |            |-&lt;----------+
      |             |                        |            |
      +----+--------+                        +-------+----+
           |                                         |
           ^                                   Found | associated CE
           |                                or newly | associated CE
           |                                         V
           |            (Cancel CEFTI timer)         |
           +_________________________________________+
                    FE issues CEPrimaryDown event
                    FE issues PrimaryCEChanged event

                 Figure 4: FE State Machine Considering HA

   Once the FE has associated with a master CE, it moves to the post-
   association phase (associated state).  It is assumed that the master
   CE will communicate with other CEs within the NE for the purpose of
   synchronization via the CE-CE interface.  The CE-CE interface is out
   of scope for this document.  An election result amongst CEs may
   result in the desire to change the mastership to a different
   associated CE; at which point, the current assumed master CE will
   instruct the FE to use a different master CE.




<span class="grey">Ogawa, et al.                Standards Track                   [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


         FE                         CE#1         CE#2 ... CE#N
         |                           |            |        |
         | Association Establishment |            |        |
         |   Capabilities Exchange   |            |        |
       1 |&lt;-------------------------&gt;|            |        |
         |                           |            |        |
         |      State Update         |            |        |
       2 |&lt;-------------------------&gt;|            |        |
         |                           |            |        |
         |      Association Establishment         |        |
         |        Capabilities Exchange           |        |
       3I|&lt;--------------------------------------&gt;|        |
        ...                         ...          ...      ...
         |Association Establishment, Capabilities Exchange |
       3N|&lt;-----------------------------------------------&gt;|
         |                           |            |        |
       4 |&lt;-------------------------&gt;|            |        |
         .                           .            .        .
       4x|&lt;-------------------------&gt;|            |        |
         |                        FAILURE         |        |
         |                           |            |        |
         |    Event Report (LastCEID changed)     |        |
       5 |---------------------------------------&gt;|-------&gt;|
         |    Event Report (CE#2 is new master)   |        |
       6 |---------------------------------------&gt;|-------&gt;|
         |                                        |        |
       7 |&lt;--------------------------------------&gt;|        |
         .                           .            .        .
       7x|&lt;--------------------------------------&gt;|        |
         .                           .            .        .

                   Figure 5: CE Failover for Hot Standby

   While in the post-association phase, if the CE failover policy is set
   to 1 and the HAMode is set to 2 (hot standby), then the FE, after
   successfully associating with the master CE, MUST attempt to connect
   and associate with all the CEs of which it is aware.  Figure 5, steps
   #1 and #2 illustrates the FE associating with CE#1 as the master, and
   then proceeding to steps #3I to #3N, it shows the association with
   backup CEs CE#2 to CE#N.  If the FE fails to connect or associate
   with some CEs, the FE MAY flag them as unreachable to avoid
   continuous attempts to connect.  The FE MAY try to re-associate with
   unreachable CEs when possible.

   When the master CE, for any reason, is considered to be down, then
   the FE MUST try to find the first associated CE from the list of all
   CEs in a round-robin fashion.




<span class="grey">Ogawa, et al.                Standards Track                   [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   If the FE is unable to find an associated FE in its list of CEs, then
   it MUST attempt to connect and associate with the first from the list
   of all CEs and continue in a round-robin fashion until it connects
   and associates with a CE or the CEFTI timer expires.

   Once the FE selects an associated CE to use as the new master, the FE
   issues a PrimaryCEDown Event Notification to all associated CEs to
   notify them that the last primary CE went down (and what its identity
   was); a second event, PrimaryCEChanged, identifying the new master CE
   is sent as well to identify which CE the reporting FE considers to be
   the new master.

   In most HA architectures, there exists the possibility of split
   brain.  However, in our setup, since the FE will never accept any
   configuration messages from any other than the master CE, we consider
   the FE to be fenced against data corruption from the other CEs that
   consider themselves as the master.  The split-brain issue becomes
   mostly a CE-CE communication problem, which is considered to be out
   of scope.

   By virtue of having multiple CE connections, the FE switchover to a
   new master CE will be relatively much faster.  The overall effect is
   improving the NE recovery time in case of communication failure or
   faults of the master CE.  This satisfies the requirement we set to
   fulfill.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  IANA Considerations</span>

   Following the policies outlined in "Guidelines for Writing an IANA
   Considerations Section in RFCs" [<a href="rfc5226.html" title='"Guidelines for Writing an IANA Considerations Section in RFCs"'>RFC5226</a>], the "Logical Functional
   Block (LFB) Class Names and Class Identifiers" namespace has been
   updated.

   A new column, LFB version, has been added to the table after the LFB
   Class Name.  The table now reads as follows:

   +----------------+------------+-----------+-------------+-----------+
   |   LFB Class    | LFB Class  |    LFB    | Description | Reference |
   |   Identifier   |    Name    |  Version  |             |           |
   +----------------+------------+-----------+-------------+-----------+

     Logical Functional Block (LFB) Class Names and Class Identifiers

   The rules defined in [<a href="rfc5812.html" title='"Forwarding and Control Element Separation (ForCES) Forwarding Element Model"'>RFC5812</a>] apply, with the addition that entries
   must provide the LFB version as a string.






<span class="grey">Ogawa, et al.                Standards Track                   [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   Upon publication of this document, all current entries are assigned a
   value of 1.0.

   New versions of already defined LFBs MUST NOT remove the previous
   version entries.

   It would make sense to have LFB versions appear in sequence in the
   registry.  The table SHOULD be sorted, and the sorting should be done
   by Class ID first and then by version.

   This document introduces the FE Protocol Object version 1.1 as
   follows:

   +------------+----------+---------+---------------------+-----------+
   | LFB Class  |   LFB    |   LFB   |     Description     | Reference |
   | Identifier |  Class   | Version |                     |           |
   |            |   Name   |         |                     |           |
   +------------+----------+---------+---------------------+-----------+
   |     2      |    FE    |   1.1   |  Defines parameters | [<a href="rfc7121.html">RFC7121</a>] |
   |            | Protocol |         |    for the ForCES   |           |
   |            |  Object  |         |  protocol operation |           |
   +------------+----------+---------+---------------------+-----------+

     Logical Functional Block (LFB) Class Names and Class Identifiers

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   Security considerations, as defined in <a href="rfc5810.html#section-9">Section 9 of [RFC5810]</a>, apply
   to securing each CE-FE communication.  Multiple CEs associated with
   the same FE still require the same procedure to be followed on a per-
   association basis.

   It should be noted that since the FE is initiating the association
   with a CE, a CE cannot initiate association with the FE and such
   messages will be dropped.  Thus, the FE is secured from rogue CEs
   that are attempting to associate with it.

   CE implementers should have in mind that once associated, the FE
   cannot distinguish whether the CE has been compromised or has been
   malfunctioning while not losing connectivity.  Securing the CE is out
   of scope of this document.

   While the CE-CE plane is outside the current scope of ForCES, we
   recognize that it may be subjected to attacks that may affect the CE-
   FE communication.






<span class="grey">Ogawa, et al.                Standards Track                   [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   The following considerations should be made:

   1.  Secure communication channels should be used between CEs for
       coordination and keeping of state to at least avoid connection of
       malicious CEs.

   2.  The master CE should take into account DoS and Distributed
       Denial-of-Service (DDoS) attacks from malicious or malfunctioning
       CEs.

   3.  CEs should take into account the split-brain issue.  There are
       currently two fail-safes in the FE: Firstly, the FE has the CEID
       component that denotes which CE is the master.  Secondly, the FE
       does not allow BackupCEs to configure the FE.  However, backup
       CEs that consider that the master CE has dropped should, as
       masters themselves, first do a sanity check and query the FE CEID
       component.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20References"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Normative%20References"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC5226" name="ref-RFC5226">RFC5226</a>]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", <a href="https://tools.ietf.org/html/bcp26">BCP 26</a>, <a href="rfc5226.html">RFC 5226</a>,
              May 2008.

   [<a id="ref-RFC5810" name="ref-RFC5810">RFC5810</a>]  Doria, A., Hadi Salim, J., Haas, R., Khosravi, H., Wang,
              W., Dong, L., Gopal, R., and J. Halpern, "Forwarding and
              Control Element Separation (ForCES) Protocol
              Specification", <a href="rfc5810.html">RFC 5810</a>, March 2010.

   [<a id="ref-RFC5812" name="ref-RFC5812">RFC5812</a>]  Halpern, J. and J. Hadi Salim, "Forwarding and Control
              Element Separation (ForCES) Forwarding Element Model", <a href="rfc5812.html">RFC</a>
              <a href="rfc5812.html">5812</a>, March 2010.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Informative%20References"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Informative References</span>

   [<a id="ref-Err3487" name="ref-Err3487">Err3487</a>]  RFC Errata, Errata ID 3487, <a href="rfc5812.html">RFC 5812</a>,
              &lt;<a href="http://www.rfc-editor.org/">http://www.rfc-editor.org</a>&gt;.

   [<a id="ref-RFC3654" name="ref-RFC3654">RFC3654</a>]  Khosravi, H. and T. Anderson, "Requirements for Separation
              of IP Control and Forwarding", <a href="rfc3654.html">RFC 3654</a>, November 2003.






<span class="grey">Ogawa, et al.                Standards Track                   [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


   [<a id="ref-RFC3746" name="ref-RFC3746">RFC3746</a>]  Yang, L., Dantu, R., Anderson, T., and R. Gopal,
              "Forwarding and Control Element Separation (ForCES)
              Framework", <a href="rfc3746.html">RFC 3746</a>, April 2004.
















































<span class="grey">Ogawa, et al.                Standards Track                   [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20New%20FEPO%20Version"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  New FEPO Version</span>

   The xml has been validated against the schema defined in [<a href="rfc5812.html" title='"Forwarding and Control Element Separation (ForCES) Forwarding Element Model"'>RFC5812</a>].

&lt;LFBLibrary xmlns="urn:ietf:params:xml:ns:forces:lfbmodel:1.0"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="lfb-schema.xsd" provides="FEPO"&gt;
   &lt;!-- XXX --&gt;
   &lt;dataTypeDefs&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;CEHBPolicyValues&lt;/name&gt;
         &lt;synopsis&gt;
            The possible values of the CE Heartbeat policy
         &lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;CEHBPolicy0&lt;/name&gt;
                  &lt;synopsis&gt;
              The CE will send heartbeats to the FE
              every CEHDI timeout if no other messages
              have been sent since.
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="1"&gt;
                  &lt;name&gt;CEHBPolicy1&lt;/name&gt;
                  &lt;synopsis&gt;
              The CE will not send heartbeats to the FE
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;FEHBPolicyValues&lt;/name&gt;
         &lt;synopsis&gt;
            The possible values of the FE Heartbeat policy
         &lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;FEHBPolicy0&lt;/name&gt;
                  &lt;synopsis&gt;
        The FE will not generate any heartbeats to the CE
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


               &lt;specialValue value="1"&gt;
                  &lt;name&gt;FEHBPolicy1&lt;/name&gt;
                  &lt;synopsis&gt;
        The FE generates heartbeats to the CE every FEHI
        if no other messages have been sent to the CE.
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;FERestartPolicyValues&lt;/name&gt;
         &lt;synopsis&gt;
            The possible values of the FE restart policy
         &lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;FERestartPolicy0&lt;/name&gt;
                  &lt;synopsis&gt;
                     The FE restarts its state from scratch
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;HAModeValues&lt;/name&gt;
         &lt;synopsis&gt;
            The possible values of HA modes
         &lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;NoHA&lt;/name&gt;
                  &lt;synopsis&gt;
                     The FE is not running in HA mode
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="1"&gt;
                  &lt;name&gt;ColdStandby&lt;/name&gt;
                  &lt;synopsis&gt;
                     The FE is running in HA mode cold standby
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="2"&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


                  &lt;name&gt;HotStandby&lt;/name&gt;
                  &lt;synopsis&gt;
                     The FE is running in HA mode hot standby
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;CEFailoverPolicyValues&lt;/name&gt;
         &lt;synopsis&gt;
            The possible values of the CE failover policy
         &lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;CEFailoverPolicy0&lt;/name&gt;
                  &lt;synopsis&gt;
        The FE should stop functioning immediately and
        transition to the FE OperDisable state
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="1"&gt;
                  &lt;name&gt;CEFailoverPolicy1&lt;/name&gt;
                  &lt;synopsis&gt;
        The FE should continue forwarding even without an
        associated CE for CEFTI. The FE goes to FE
        OperDisable when the CEFTI expires and there is no
        association. Requires graceful restart support.
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;FEHACapab&lt;/name&gt;
         &lt;synopsis&gt;
            The supported HA features
         &lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;GracefullRestart&lt;/name&gt;
                  &lt;synopsis&gt;
                     The FE supports graceful restart
                  &lt;/synopsis&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


               &lt;/specialValue&gt;
               &lt;specialValue value="1"&gt;
                  &lt;name&gt;HA&lt;/name&gt;
                  &lt;synopsis&gt;
                     The FE supports HA
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;CEStatusType&lt;/name&gt;
         &lt;synopsis&gt;Status values. Status for each CE&lt;/synopsis&gt;
         &lt;atomic&gt;
            &lt;baseType&gt;uchar&lt;/baseType&gt;
            &lt;specialValues&gt;
               &lt;specialValue value="0"&gt;
                  &lt;name&gt;Disconnected&lt;/name&gt;
                  &lt;synopsis&gt;No connection attempt with the CE yet
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="1"&gt;
                  &lt;name&gt;Connected&lt;/name&gt;
                  &lt;synopsis&gt;The FE connection with the CE at the TML
                     has been completed
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="2"&gt;
                  &lt;name&gt;Associated&lt;/name&gt;
                  &lt;synopsis&gt;The FE has associated with the CE
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="3"&gt;
                  &lt;name&gt;IsMaster&lt;/name&gt;
                  &lt;synopsis&gt;The CE is the master (and associated)
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="4"&gt;
                  &lt;name&gt;LostConnection&lt;/name&gt;
                  &lt;synopsis&gt;The FE was associated with the CE but
                     lost the connection
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;
               &lt;specialValue value="5"&gt;
                  &lt;name&gt;Unreachable&lt;/name&gt;
                  &lt;synopsis&gt;The CE is deemed as unreachable by the FE
                  &lt;/synopsis&gt;
               &lt;/specialValue&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


            &lt;/specialValues&gt;
         &lt;/atomic&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;StatisticsType&lt;/name&gt;
         &lt;synopsis&gt;Statistics Definition&lt;/synopsis&gt;
         &lt;struct&gt;
            &lt;component componentID="1"&gt;
               &lt;name&gt;RecvPackets&lt;/name&gt;
               &lt;synopsis&gt;Packets received&lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="2"&gt;
               &lt;name&gt;RecvErrPackets&lt;/name&gt;
               &lt;synopsis&gt;Packets received from the CE with errors
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="3"&gt;
               &lt;name&gt;RecvBytes&lt;/name&gt;
               &lt;synopsis&gt;Bytes received from the CE&lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="4"&gt;
               &lt;name&gt;RecvErrBytes&lt;/name&gt;
               &lt;synopsis&gt;Bytes received from the CE in Error&lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="5"&gt;
               &lt;name&gt;TxmitPackets&lt;/name&gt;
               &lt;synopsis&gt;Packets transmitted to the CE&lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="6"&gt;
               &lt;name&gt;TxmitErrPackets&lt;/name&gt;
               &lt;synopsis&gt;
                  Packets transmitted to the CE that
                  incurred errors
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="7"&gt;
               &lt;name&gt;TxmitBytes&lt;/name&gt;
               &lt;synopsis&gt;Bytes transmitted to the CE&lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="8"&gt;
               &lt;name&gt;TxmitErrBytes&lt;/name&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


               &lt;synopsis&gt;
                  Bytes transmitted to the CE that
                  incurred errors
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint64&lt;/typeRef&gt;
            &lt;/component&gt;
         &lt;/struct&gt;
      &lt;/dataTypeDef&gt;
      &lt;dataTypeDef&gt;
         &lt;name&gt;AllCEType&lt;/name&gt;
         &lt;synopsis&gt;Table type for the AllCE component&lt;/synopsis&gt;
         &lt;struct&gt;
            &lt;component componentID="1"&gt;
               &lt;name&gt;CEID&lt;/name&gt;
               &lt;synopsis&gt;ID of the CE&lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="2"&gt;
               &lt;name&gt;Statistics&lt;/name&gt;
               &lt;synopsis&gt;Statistics per the CE&lt;/synopsis&gt;
               &lt;typeRef&gt;StatisticsType&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="3"&gt;
               &lt;name&gt;CEStatus&lt;/name&gt;
               &lt;synopsis&gt;Status of the CE&lt;/synopsis&gt;
               &lt;typeRef&gt;CEStatusType&lt;/typeRef&gt;
            &lt;/component&gt;
         &lt;/struct&gt;
      &lt;/dataTypeDef&gt;
   &lt;/dataTypeDefs&gt;
   &lt;LFBClassDefs&gt;
      &lt;LFBClassDef LFBClassID="2"&gt;
         &lt;name&gt;FEPO&lt;/name&gt;
         &lt;synopsis&gt;
            The FE Protocol Object, with new CEHA
         &lt;/synopsis&gt;
         &lt;version&gt;1.1&lt;/version&gt;
         &lt;components&gt;
            &lt;component componentID="1" access="read-only"&gt;
               &lt;name&gt;CurrentRunningVersion&lt;/name&gt;
               &lt;synopsis&gt;Currently running the ForCES version&lt;/synopsis&gt;
               &lt;typeRef&gt;uchar&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="2" access="read-only"&gt;
               &lt;name&gt;FEID&lt;/name&gt;
               &lt;synopsis&gt;Unicast FEID&lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


            &lt;component componentID="3" access="read-write"&gt;
               &lt;name&gt;MulticastFEIDs&lt;/name&gt;
               &lt;synopsis&gt;
                  The table of all multicast IDs
               &lt;/synopsis&gt;
               &lt;array type="variable-size"&gt;
                  &lt;typeRef&gt;uint32&lt;/typeRef&gt;
               &lt;/array&gt;
            &lt;/component&gt;
            &lt;component componentID="4" access="read-write"&gt;
               &lt;name&gt;CEHBPolicy&lt;/name&gt;
               &lt;synopsis&gt;
                  The CE Heartbeat policy
               &lt;/synopsis&gt;
               &lt;typeRef&gt;CEHBPolicyValues&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="5" access="read-write"&gt;
               &lt;name&gt;CEHDI&lt;/name&gt;
               &lt;synopsis&gt;
                  The CE Heartbeat Dead Interval in milliseconds
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="6" access="read-write"&gt;
               &lt;name&gt;FEHBPolicy&lt;/name&gt;
               &lt;synopsis&gt;
                  The FE Heartbeat policy
               &lt;/synopsis&gt;
               &lt;typeRef&gt;FEHBPolicyValues&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="7" access="read-write"&gt;
               &lt;name&gt;FEHI&lt;/name&gt;
               &lt;synopsis&gt;
                  The FE Heartbeat Interval in milliseconds
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="8" access="read-write"&gt;
               &lt;name&gt;CEID&lt;/name&gt;
               &lt;synopsis&gt;
                  The primary CE this FE is associated with
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="9" access="read-write"&gt;
               &lt;name&gt;BackupCEs&lt;/name&gt;





<span class="grey">Ogawa, et al.                Standards Track                   [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


               &lt;synopsis&gt;
                  The table of all backup CEs other than the
                  primary
               &lt;/synopsis&gt;
               &lt;array type="variable-size"&gt;
                  &lt;typeRef&gt;uint32&lt;/typeRef&gt;
               &lt;/array&gt;
            &lt;/component&gt;
            &lt;component componentID="10" access="read-write"&gt;
               &lt;name&gt;CEFailoverPolicy&lt;/name&gt;
               &lt;synopsis&gt;
                  The CE failover policy
               &lt;/synopsis&gt;
               &lt;typeRef&gt;CEFailoverPolicyValues&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="11" access="read-write"&gt;
               &lt;name&gt;CEFTI&lt;/name&gt;
               &lt;synopsis&gt;
                  The CE Failover Timeout Interval in milliseconds
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="12" access="read-write"&gt;
               &lt;name&gt;FERestartPolicy&lt;/name&gt;
               &lt;synopsis&gt;
                  The FE restart policy
               &lt;/synopsis&gt;
               &lt;typeRef&gt;FERestartPolicyValues&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="13" access="read-write"&gt;
               &lt;name&gt;LastCEID&lt;/name&gt;
               &lt;synopsis&gt;
                  The primary CE this FE was last associated
                  with
               &lt;/synopsis&gt;
               &lt;typeRef&gt;uint32&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="14" access="read-write"&gt;
               &lt;name&gt;HAMode&lt;/name&gt;
               &lt;synopsis&gt;
                  The HA mode used
               &lt;/synopsis&gt;
               &lt;typeRef&gt;HAModeValues&lt;/typeRef&gt;
            &lt;/component&gt;
            &lt;component componentID="15" access="read-only"&gt;
               &lt;name&gt;AllCEs&lt;/name&gt;
               &lt;synopsis&gt;The table of all CEs&lt;/synopsis&gt;
               &lt;array type="variable-size"&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


                  &lt;typeRef&gt;AllCEType&lt;/typeRef&gt;
               &lt;/array&gt;
            &lt;/component&gt;
         &lt;/components&gt;
         &lt;capabilities&gt;
            &lt;capability componentID="30"&gt;
               &lt;name&gt;SupportableVersions&lt;/name&gt;
               &lt;synopsis&gt;
                  The table of ForCES versions that FE supports
               &lt;/synopsis&gt;
               &lt;array type="variable-size"&gt;
                  &lt;typeRef&gt;uchar&lt;/typeRef&gt;
               &lt;/array&gt;
            &lt;/capability&gt;
            &lt;capability componentID="31"&gt;
               &lt;name&gt;HACapabilities&lt;/name&gt;
               &lt;synopsis&gt;
                  The table of HA capabilities the FE supports
               &lt;/synopsis&gt;
               &lt;array type="variable-size"&gt;
                  &lt;typeRef&gt;FEHACapab&lt;/typeRef&gt;
               &lt;/array&gt;
            &lt;/capability&gt;
         &lt;/capabilities&gt;
         &lt;events baseID="61"&gt;
            &lt;event eventID="1"&gt;
               &lt;name&gt;PrimaryCEDown&lt;/name&gt;
               &lt;synopsis&gt;
                  The primary CE has changed
               &lt;/synopsis&gt;
               &lt;eventTarget&gt;
                  &lt;eventField&gt;LastCEID&lt;/eventField&gt;
               &lt;/eventTarget&gt;
               &lt;eventChanged/&gt;
               &lt;eventReports&gt;
                  &lt;eventReport&gt;
                     &lt;eventField&gt;LastCEID&lt;/eventField&gt;
                  &lt;/eventReport&gt;
               &lt;/eventReports&gt;
            &lt;/event&gt;
            &lt;event eventID="2"&gt;
               &lt;name&gt;PrimaryCEChanged&lt;/name&gt;
               &lt;synopsis&gt;A new primary CE has been selected
               &lt;/synopsis&gt;
               &lt;eventTarget&gt;
                  &lt;eventField&gt;CEID&lt;/eventField&gt;
               &lt;/eventTarget&gt;
               &lt;eventChanged/&gt;



<span class="grey">Ogawa, et al.                Standards Track                   [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


               &lt;eventReports&gt;
                  &lt;eventReport&gt;
                     &lt;eventField&gt;CEID&lt;/eventField&gt;
                  &lt;/eventReport&gt;
               &lt;/eventReports&gt;
            &lt;/event&gt;
         &lt;/events&gt;
      &lt;/LFBClassDef&gt;
   &lt;/LFBClassDefs&gt;
&lt;/LFBLibrary&gt;









































<span class="grey">Ogawa, et al.                Standards Track                   [Page 30]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc7121.html">RFC 7121</a>            ForCES Intra-NE High Availability      February 2014</span>


Authors' Addresses

   Kentaro Ogawa
   NTT Corporation
   3-9-11 Midori-cho
   Musashino-shi, Tokyo  180-8585
   Japan

   EMail: k.ogawa@ntt.com


   Weiming Wang
   Zhejiang Gongshang University
   18 Xuezheng Str., Xiasha University Town
   Hangzhou  310018
   P.R. China

   Phone: +86 571 28877751
   EMail: wmwang@zjsu.edu.cn


   Evangelos Haleplidis
   University of Patras
   Department of Electrical and Computer Engineering
   Patras  26500
   Greece

   EMail: ehalep@ece.upatras.gr


   Jamal Hadi Salim
   Mojatatu Networks
   Suite 400, 303 Moodie Dr.
   Ottawa, Ontario  K2H 9R4
   Canada

   EMail: hadi@mojatatu.com














Ogawa, et al.                Standards Track                   [Page 31]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7121 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:23 GMT --></html>