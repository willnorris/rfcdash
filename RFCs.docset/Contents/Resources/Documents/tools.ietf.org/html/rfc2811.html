<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc2811 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:50 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:2811" name="DC.Identifier"/>
<meta content="This document specifies how channels, their characteristics and
properties are managed by IRC servers. This memo provides information
for the Internet community." name="DC.Description.Abstract"/>
<meta content="Christophe Kalt &lt;kalt@stealth.net&gt;" name="DC.Creator"/>
<meta content="April, 2000" name="DC.Date.Issued"/>
<meta content="Internet Relay Chat: Channel Management" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 2811 - Internet Relay Chat: Channel Management</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc2811.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc2811" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-kalt-irc-chan" title="draft-kalt-irc-chan">draft-kalt-irc-...</a>] [<a href="https://datatracker.ietf.org/doc/rfc2811" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc2811" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc2811" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                            C. Kalt
Request for Comments: 2811                                    April 2000
Updates: <a href="rfc1459.html">1459</a>
Category: Informational


                <span class="h1">Internet Relay Chat: Channel Management</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

Abstract

   One of the most notable characteristics of the IRC (Internet Relay
   Chat) protocol is to allow for users to be grouped in forums, called
   channels, providing a mean for multiple users to communicate
   together.

   There was originally a unique type of channels, but with the years,
   new types appeared either as a response to a need, or for
   experimental purposes.

   This document specifies how channels, their characteristics and
   properties are managed by IRC servers.

Table of Contents

   <a href="#section-1">1</a>.  Introduction ...............................................   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Channel Characteristics ....................................   <a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>  Namespace ..............................................   <a href="#page-3">3</a>
      <a href="#section-2.2">2.2</a>  Channel Scope ..........................................   <a href="#page-3">3</a>
      <a href="#section-2.3">2.3</a>  Channel Properties .....................................   <a href="#page-4">4</a>
      <a href="#section-2.4">2.4</a>  Privileged Channel Members .............................   <a href="#page-4">4</a>
         <a href="#section-2.4.1">2.4.1</a>  Channel Operators .................................   <a href="#page-5">5</a>
         <a href="#section-2.4.2">2.4.2</a>  Channel Creator ...................................   <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  Channel lifetime ...........................................   <a href="#page-5">5</a>
      <a href="#section-3.1">3.1</a>  Standard channels ......................................   <a href="#page-5">5</a>
      <a href="#section-3.2">3.2</a>  Safe Channels ..........................................   <a href="#page-6">6</a>
   <a href="#section-4">4</a>.  Channel Modes ..............................................   <a href="#page-7">7</a>
      <a href="#section-4.1">4.1</a>  Member Status ..........................................   <a href="#page-7">7</a>
         <a href="#section-4.1.1">4.1.1</a>  "Channel Creator" Status ..........................   <a href="#page-7">7</a>



<span class="grey">Kalt                         Informational                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


         <a href="#section-4.1.2">4.1.2</a>  Channel Operator Status ...........................   <a href="#page-8">8</a>
         <a href="#section-4.1.3">4.1.3</a>  Voice Privilege ...................................   <a href="#page-8">8</a>
      <a href="#section-4.2">4.2</a>  Channel Flags ..........................................   <a href="#page-8">8</a>
         <a href="#section-4.2.1">4.2.1</a>  Anonymous Flag ....................................   <a href="#page-8">8</a>
         <a href="#section-4.2.2">4.2.2</a>  Invite Only Flag ..................................   <a href="#page-8">8</a>
         <a href="#section-4.2.3">4.2.3</a>  Moderated Channel Flag ............................   <a href="#page-9">9</a>
         4.2.4  No Messages To Channel From Clients On The Outside    9
         <a href="#section-4.2.5">4.2.5</a>  Quiet Channel .....................................   <a href="#page-9">9</a>
         <a href="#section-4.2.6">4.2.6</a>  Private and Secret Channels .......................   <a href="#page-9">9</a>
         <a href="#section-4.2.7">4.2.7</a>  Server Reop Flag ..................................  <a href="#page-10">10</a>
         <a href="#section-4.2.8">4.2.8</a>  Topic .............................................  <a href="#page-10">10</a>
         <a href="#section-4.2.9">4.2.9</a>  User Limit ........................................  <a href="#page-10">10</a>
         <a href="#section-4.2.10">4.2.10</a>  Channel Key ......................................  <a href="#page-10">10</a>
      <a href="#section-4.3">4.3</a>  Channel Access Control .................................  <a href="#page-10">10</a>
         <a href="#section-4.3.1">4.3.1</a>  Channel Ban and Exception .........................  <a href="#page-11">11</a>
         <a href="#section-4.3.2">4.3.2</a>  Channel Invitation ................................  <a href="#page-11">11</a>
   <a href="#section-5">5</a>.  Current Implementations ....................................  <a href="#page-11">11</a>
      <a href="#section-5.1">5.1</a>  Tracking Recently Used Channels ........................  <a href="#page-11">11</a>
      <a href="#section-5.2">5.2</a>  Safe Channels ..........................................  <a href="#page-12">12</a>
         <a href="#section-5.2.1">5.2.1</a>  Channel Identifier ................................  <a href="#page-12">12</a>
         <a href="#section-5.2.2">5.2.2</a>  Channel Delay .....................................  <a href="#page-12">12</a>
         <a href="#section-5.2.3">5.2.3</a>  Abuse Window ......................................  <a href="#page-13">13</a>
         <a href="#section-5.2.4">5.2.4</a>  Preserving Sanity In The Name Space ...............  <a href="#page-13">13</a>
         <a href="#section-5.2.5">5.2.5</a>  Server Reop Mechanism .............................  <a href="#page-13">13</a>
   <a href="#section-6">6</a>.  Current problems ...........................................  <a href="#page-14">14</a>
      <a href="#section-6.1">6.1</a>  Labels .................................................  <a href="#page-14">14</a>
         <a href="#section-6.1.1">6.1.1</a>  Channel Delay .....................................  <a href="#page-14">14</a>
         <a href="#section-6.1.2">6.1.2</a>  Safe Channels .....................................  <a href="#page-15">15</a>
      <a href="#section-6.2">6.2</a>  Mode Propagation Delays ................................  <a href="#page-15">15</a>
      <a href="#section-6.3">6.3</a>  Collisions And Channel Modes ...........................  <a href="#page-15">15</a>
      <a href="#section-6.4">6.4</a>  Resource Exhaustion ....................................  <a href="#page-16">16</a>
   <a href="#section-7">7</a>.  Security Considerations ....................................  <a href="#page-16">16</a>
      <a href="#section-7.1">7.1</a>  Access Control .........................................  <a href="#page-16">16</a>
      <a href="#section-7.2">7.2</a>  Channel Privacy ........................................  <a href="#page-16">16</a>
      <a href="#section-7.3">7.3</a> Anonymity ...............................................  <a href="#page-17">17</a>
   <a href="#section-8">8</a>.  Current support and availability ...........................  <a href="#page-17">17</a>
   <a href="#section-9">9</a>.  Acknowledgements ...........................................  <a href="#page-17">17</a>
   <a href="#section-10">10</a>. References ................................................   <a href="#page-18">18</a>
   <a href="#section-11">11</a>. Author's Address ..........................................   <a href="#page-18">18</a>
   <a href="#section-12">12</a>. Full Copyright Statement ...................................  <a href="#page-19">19</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Introduction</span>

   This document defines in detail on how channels are managed by the
   IRC servers and will be mostly useful to people working on
   implementing an IRC server.





<span class="grey">Kalt                         Informational                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   While the concepts defined here are an important part of IRC, they
   remain non essential for implementing clients.  While the trend seems
   to be towards more and more complex and "intelligent" clients which
   are able to take advantage of knowing the internal workings of
   channels to provide the users with a more friendly interface, simple
   clients can be implemented without reading this document.

   Many of the concepts defined here were designed with the IRC
   architecture [<a href="#ref-IRC-ARCH" title='"Internet Relay Chat: Architecture"'>IRC-ARCH</a>] in mind and mostly make sense in this
   context.  However, many others could be applied to other
   architectures in order to provide forums for a conferencing system.

   Finally, it is to be noted that IRC users may find some of the
   following sections of interest, in particular sections <a href="#section-2">2</a> (Channel
   Characteristics) and 4 (Channel Modes).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Channel%20Characteristics"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Channel Characteristics</span>

   A channel is a named group of one or more users which will all
   receive messages addressed to that channel.  A channel is
   characterized by its name, properties and current members.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1%20Namespace"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a> Namespace</span>

   Channels names are strings (beginning with a '&amp;', '#', '+' or '!'
   character) of length up to fifty (50) characters.  Channel names are
   case insensitive.

   Apart from the the requirement that the first character being either
   '&amp;', '#', '+' or '!' (hereafter called "channel prefix"). The only
   restriction on a channel name is that it SHALL NOT contain any spaces
   (' '), a control G (^G or ASCII 7), a comma (',' which is used as a
   list item separator by the protocol).  Also, a colon (':') is used as
   a delimiter for the channel mask.  The exact syntax of a channel name
   is defined in "IRC Server Protocol" [<a href="#ref-IRC-SERVER" title='"Internet Relay Chat: Server Protocol"'>IRC-SERVER</a>].

   The use of different prefixes effectively creates four (4) distinct
   namespaces for channel names.  This is important because of the
   protocol limitations regarding namespaces (in general).  See <a href="#section-6.1">section</a>
   <a href="#section-6.1">6.1</a> (Labels) for more details on these limitations.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2%20Channel%20Scope"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a> Channel Scope</span>

   A channel entity is known by one or more servers on the IRC network.
   A user can only become member of a channel known by the server to
   which the user is directly connected.  The list of servers which know





<span class="grey">Kalt                         Informational                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   of the existence of a particular channel MUST be a contiguous part of
   the IRC network, in order for the messages addressed to the channel
   to be sent to all the channel members.

   Channels with '&amp;' as prefix are local to the server where they are
   created.

   Other channels are known to one (1) or more servers that are
   connected to the network, depending on the channel mask:

      If there is no channel mask, then the channel is known to all
      the servers.

      If there is a channel mask, then the channel MUST only be known
      to servers which has a local user on the channel, and to its
      neighbours if the mask matches both the local and neighbouring
      server names.  Since other servers have absolutely no knowledge of
      the existence of such a channel, the area formed by the servers
      having a name matching the mask has to be contiguous for the
      channel to be known by all these servers.  Channel masks are best
      used in conjunction with server hostmasking [<a href="#ref-IRC-SERVER" title='"Internet Relay Chat: Server Protocol"'>IRC-SERVER</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3%20Channel%20Properties"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a> Channel Properties</span>

   Each channel has its own properties, which are defined by channel
   modes.  Channel modes can be manipulated by the channel members.  The
   modes affect the way servers manage the channels.

   Channels with '+' as prefix do not support channel modes.  This means
   that all the modes are unset, with the exception of the 't' channel
   flag which is set.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4%20Privileged%20Channel%20Members"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a> Privileged Channel Members</span>

   In order for the channel members to keep some control over a channel,
   and some kind of sanity, some channel members are privileged.  Only
   these members are allowed to perform the following actions on the
   channel:

        INVITE  - Invite a client to an invite-only channel (mode +i)
        KICK    - Eject a client from the channel
        MODE    - Change the channel's mode, as well as
                  members' privileges
        PRIVMSG - Sending messages to the channel (mode +n, +m, +v)
        TOPIC   - Change the channel topic in a mode +t channel






<span class="grey">Kalt                         Informational                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.4.1%20Channel%20Operators"></a><a class="selflink" href="#section-2.4.1" name="section-2.4.1">2.4.1</a> Channel Operators</span>

   The channel operators (also referred to as a "chop" or "chanop") on a
   given channel are considered to 'own' that channel.  Ownership of a
   channel is shared among channel operators.

   Channel operators are identified by the '@' symbol next to their
   nickname whenever it is associated with a channel (i.e., replies to
   the NAMES, WHO and WHOIS commands).

   Since channels starting with the character '+' as prefix do not
   support channel modes, no member can therefore have the status of
   channel operator.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/2.4.2%20Channel%20Creator"></a><a class="selflink" href="#section-2.4.2" name="section-2.4.2">2.4.2</a> Channel Creator</span>

   A user who creates a channel with the character '!' as prefix is
   identified as the "channel creator".  Upon creation of the channel,
   this user is also given channel operator status.

   In recognition of this status, the channel creators are endowed with
   the ability to toggle certain modes of the channel which channel
   operators may not manipulate.

   A "channel creator" can be distinguished from a channel operator by
   issuing the proper MODE command.  See the "IRC Client Protocol"
   [<a href="#ref-IRC-CLIENT" title='"Internet Relay Chat: Client Protocol"'>IRC-CLIENT</a>] for more information on this topic.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20Channel%20lifetime"></a><a class="selflink" href="#section-3" name="section-3">3</a>. Channel lifetime</span>

   In regard to the lifetime of a channel, there are typically two
   groups of channels: standard channels which prefix is either '&amp;', '#'
   or '+', and "safe channels" which prefix is '!'.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1%20Standard%20channels"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a> Standard channels</span>

   These channels are created implicitly when the first user joins it,
   and cease to exist when the last user leaves it.  While the channel
   exists, any client can reference the channel using the name of the
   channel.

   The user creating a channel automatically becomes channel operator
   with the notable exception of channels which name is prefixed by the
   character '+', see <a href="#section-4">section 4</a> (Channel modes).  See <a href="#section-2.4.1">section 2.4.1</a>
   (Channel Operators) for more details on this title.






<span class="grey">Kalt                         Informational                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   In order to avoid the creation of duplicate channels (typically when
   the IRC network becomes disjoint because of a split between two
   servers), channel names SHOULD NOT be allowed to be reused by a user
   if a channel operator (See <a href="#section-2.4.1">Section 2.4.1</a> (Channel Operators)) has
   recently left the channel because of a network split.  If this
   happens, the channel name is temporarily unavailable.  The duration
   while a channel remains unavailable should be tuned on a per IRC
   network basis.  It is important to note that this prevents local
   users from creating a channel using the same name, but does not
   prevent the channel to be recreated by a remote user. The latter
   typically happens when the IRC network rejoins.  Obviously, this
   mechanism only makes sense for channels which name begins with the
   character '#', but MAY be used for channels which name begins with
   the character '+'.  This mechanism is commonly known as "Channel
   Delay".

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2%20Safe%20Channels"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a> Safe Channels</span>

   Unlike other channels, "safe channels" are not implicitly created.  A
   user wishing to create such a channel MUST request the creation by
   sending a special JOIN command to the server in which the channel
   identifier (then unknown) is replaced by the character '!'.  The
   creation process for this type of channel is strictly controlled.
   The user only chooses part of the channel name (known as the channel
   "short name"), the server automatically prepends the user provided
   name with a channel identifier consisting of five (5) characters.
   The channel name resulting from the combination of these two elements
   is unique, making the channel safe from abuses based on network
   splits.

   The user who creates such a channel automatically becomes "channel
   creator".  See <a href="#section-2.4.2">section 2.4.2</a> (Channel Creator) for more details on
   this title.

   A server MUST NOT allow the creation of a new channel if another
   channel with the same short name exists; or if another channel with
   the same short name existed recently AND any of its member(s) left
   because of a network split.  Such channel ceases to exist after last
   user leaves AND no other member recently left the channel because of
   a network split.

   Unlike the mechanism described in <a href="#section-5.2.2">section 5.2.2</a> (Channel Delay), in
   this case, channel names do not become unavailable: these channels
   may continue to exist after the last user left.  Only the user
   creating the channel becomes "channel creator", users joining an
   existing empty channel do not automatically become "channel creator"
   nor "channel operator".




<span class="grey">Kalt                         Informational                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   To ensure the uniqueness of the channel names, the channel identifier
   created by the server MUST follow specific rules.  For more details
   on this, see <a href="#section-5.2.1">section 5.2.1</a> (Channel Identifier).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20Channel%20Modes"></a><a class="selflink" href="#section-4" name="section-4">4</a>. Channel Modes</span>

   The various modes available for channels are as follows:

        O - give "channel creator" status;
        o - give/take channel operator privilege;
        v - give/take the voice privilege;

        a - toggle the anonymous channel flag;
        i - toggle the invite-only channel flag;
        m - toggle the moderated channel;
        n - toggle the no messages to channel from clients on the
            outside;
        q - toggle the quiet channel flag;
        p - toggle the private channel flag;
        s - toggle the secret channel flag;
        r - toggle the server reop channel flag;
        t - toggle the topic settable by channel operator only flag;

        k - set/remove the channel key (password);
        l - set/remove the user limit to channel;

        b - set/remove ban mask to keep users out;
        e - set/remove an exception mask to override a ban mask;
        I - set/remove an invitation mask to automatically override
            the invite-only flag;

   Unless mentioned otherwise below, all these modes can be manipulated
   by "channel operators" by using the MODE command defined in "IRC
   Client Protocol" [<a href="#ref-IRC-CLIENT" title='"Internet Relay Chat: Client Protocol"'>IRC-CLIENT</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1%20Member%20Status"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a> Member Status</span>

   The modes in this category take a channel member nickname as argument
   and affect the privileges given to this user.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.1%20%22Channel%20Creator%22%20Status"></a><a class="selflink" href="#section-4.1.1" name="section-4.1.1">4.1.1</a> "Channel Creator" Status</span>

   The mode 'O' is only used in conjunction with "safe channels" and
   SHALL NOT be manipulated by users.  Servers use it to give the user
   creating the channel the status of "channel creator".






<span class="grey">Kalt                         Informational                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.2%20Channel%20Operator%20Status"></a><a class="selflink" href="#section-4.1.2" name="section-4.1.2">4.1.2</a> Channel Operator Status</span>

   The mode 'o' is used to toggle the operator status of a channel
   member.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.1.3%20Voice%20Privilege"></a><a class="selflink" href="#section-4.1.3" name="section-4.1.3">4.1.3</a> Voice Privilege</span>

   The mode 'v' is used to give and take voice privilege to/from a
   channel member.  Users with this privilege can talk on moderated
   channels.  (See <a href="#section-4.2.3">section 4.2.3</a> (Moderated Channel Flag).

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2%20Channel%20Flags"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a> Channel Flags</span>

   The modes in this category are used to define properties which
   affects how channels operate.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.1%20Anonymous%20Flag"></a><a class="selflink" href="#section-4.2.1" name="section-4.2.1">4.2.1</a> Anonymous Flag</span>

   The channel flag 'a' defines an anonymous channel.  This means that
   when a message sent to the channel is sent by the server to users,
   and the origin is a user, then it MUST be masked.  To mask the
   message, the origin is changed to "anonymous!anonymous@anonymous."
   (e.g., a user with the nickname "anonymous", the username "anonymous"
   and from a host called "anonymous.").  Because of this, servers MUST
   forbid users from using the nickname "anonymous".  Servers MUST also
   NOT send QUIT messages for users leaving such channels to the other
   channel members but generate a PART message instead.

   On channels with the character '&amp;' as prefix, this flag MAY be
   toggled by channel operators, but on channels with the character '!'
   as prefix, this flag can be set (but SHALL NOT be unset) by the
   "channel creator" only.  This flag MUST NOT be made available on
   other types of channels.

   Replies to the WHOIS, WHO and NAMES commands MUST NOT reveal the
   presence of other users on channels for which the anonymous flag is
   set.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.2%20Invite%20Only%20Flag"></a><a class="selflink" href="#section-4.2.2" name="section-4.2.2">4.2.2</a> Invite Only Flag</span>

   When the channel flag 'i' is set, new members are only accepted if
   their mask matches Invite-list (See <a href="#section-4.3.2">section 4.3.2</a>) or they have been
   invited by a channel operator.  This flag also restricts the usage of
   the INVITE command (See "IRC Client Protocol" [<a href="#ref-IRC-CLIENT" title='"Internet Relay Chat: Client Protocol"'>IRC-CLIENT</a>]) to
   channel operators.






<span class="grey">Kalt                         Informational                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.3%20Moderated%20Channel%20Flag"></a><a class="selflink" href="#section-4.2.3" name="section-4.2.3">4.2.3</a> Moderated Channel Flag</span>

   The channel flag 'm' is used to control who may speak on a channel.
   When it is set, only channel operators, and members who have been
   given the voice privilege may send messages to the channel.

      This flag only affects users.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.4%20No%20Messages%20To%20Channel%20From%20Clients%20On%20The%20Outside"></a><a class="selflink" href="#section-4.2.4" name="section-4.2.4">4.2.4</a> No Messages To Channel From Clients On The Outside</span>

   When the channel flag 'n' is set, only channel members MAY send
   messages to the channel.

      This flag only affects users.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.5%20Quiet%20Channel"></a><a class="selflink" href="#section-4.2.5" name="section-4.2.5">4.2.5</a> Quiet Channel</span>

   The channel flag 'q' is for use by servers only.  When set, it
   restricts the type of data sent to users about the channel
   operations: other user joins, parts and nick changes are not sent.
   From a user's point of view, the channel contains only one user.

   This is typically used to create special local channels on which the
   server sends notices related to its operations.  This was used as a
   more efficient and flexible way to replace the user mode 's' defined
   in <a href="rfc1459.html">RFC 1459</a> [<a href="#ref-IRC" title='"Internet Relay Chat Protocol"'>IRC</a>].

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.6%20Private%20and%20Secret%20Channels"></a><a class="selflink" href="#section-4.2.6" name="section-4.2.6">4.2.6</a> Private and Secret Channels</span>

   The channel flag 'p' is used to mark a channel "private" and the
   channel flag 's' to mark a channel "secret".  Both properties are
   similar and conceal the existence of the channel from other users.

   This means that there is no way of getting this channel's name from
   the server without being a member.  In other words, these channels
   MUST be omitted from replies to queries like the WHOIS command.

   When a channel is "secret", in addition to the restriction above, the
   server will act as if the channel does not exist for queries like the
   TOPIC, LIST, NAMES commands.  Note that there is one exception to
   this rule: servers will correctly reply to the MODE command.
   Finally, secret channels are not accounted for in the reply to the
   LUSERS command (See "Internet Relay Chat: Client Protocol" [IRC-
   CLIENT]) when the &lt;mask&gt; parameter is specified.







<span class="grey">Kalt                         Informational                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   The channel flags 'p' and 's' MUST NOT both be set at the same time.
   If a MODE message originating from a server sets the flag 'p' and the
   flag 's' is already set for the channel, the change is silently
   ignored.  This should only happen during a split healing phase
   (mentioned in the "IRC Server Protocol" document [<a href="#ref-IRC-SERVER" title='"Internet Relay Chat: Server Protocol"'>IRC-SERVER</a>]).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.7%20Server%20Reop%20Flag"></a><a class="selflink" href="#section-4.2.7" name="section-4.2.7">4.2.7</a> Server Reop Flag</span>

   The channel flag 'r' is only available on channels which name begins
   with the character '!' and MAY only be toggled by the "channel
   creator".

   This flag is used to prevent a channel from having no channel
   operator for an extended period of time.  When this flag is set, any
   channel that has lost all its channel operators for longer than the
   "reop delay" period triggers a mechanism in servers to reop some or
   all of the channel inhabitants.  This mechanism is described more in
   detail in <a href="#section-5.2.4">section 5.2.4</a> (Channel Reop Mechanism).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.8%20Topic"></a><a class="selflink" href="#section-4.2.8" name="section-4.2.8">4.2.8</a> Topic</span>

   The channel flag 't' is used to restrict the usage of the TOPIC
   command to channel operators.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.9%20User%20Limit"></a><a class="selflink" href="#section-4.2.9" name="section-4.2.9">4.2.9</a> User Limit</span>

   A user limit may be set on channels by using the channel flag 'l'.
   When the limit is reached, servers MUST forbid their local users to
   join the channel.

   The value of the limit MUST only be made available to the channel
   members in the reply sent by the server to a MODE query.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.10%20Channel%20Key"></a><a class="selflink" href="#section-4.2.10" name="section-4.2.10">4.2.10</a> Channel Key</span>

   When a channel key is set (by using the mode 'k'), servers MUST
   reject their local users request to join the channel unless this key
   is given.

   The channel key MUST only be made visible to the channel members in
   the reply sent by the server to a MODE query.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3%20Channel%20Access%20Control"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a> Channel Access Control</span>

   The last category of modes is used to control access to the channel,
   they take a mask as argument.





<span class="grey">Kalt                         Informational                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   In order to reduce the size of the global database for control access
   modes set for channels, servers MAY put a maximum limit on the number
   of such modes set for a particular channel.  If such restriction is
   imposed, it MUST only affect user requests.  The limit SHOULD be
   homogeneous on a per IRC network basis.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.3.1%20Channel%20Ban%20and%20Exception"></a><a class="selflink" href="#section-4.3.1" name="section-4.3.1">4.3.1</a> Channel Ban and Exception</span>

   When a user requests to join a channel, his local server checks if
   the user's address matches any of the ban masks set for the channel.
   If a match is found, the user request is denied unless the address
   also matches an exception mask set for the channel.

   Servers MUST NOT allow a channel member who is banned from the
   channel to speak on the channel, unless this member is a channel
   operator or has voice privilege. (See <a href="#section-4.1.3">Section 4.1.3</a> (Voice
   Privilege)).

   A user who is banned from a channel and who carries an invitation
   sent by a channel operator is allowed to join the channel.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.3.2%20Channel%20Invitation"></a><a class="selflink" href="#section-4.3.2" name="section-4.3.2">4.3.2</a> Channel Invitation</span>

   For channels which have the invite-only flag set (See <a href="#section-4.2.2">Section 4.2.2</a>
   (Invite Only Flag)), users whose address matches an invitation mask
   set for the channel are allowed to join the channel without any
   invitation.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20Current%20Implementations"></a><a class="selflink" href="#section-5" name="section-5">5</a>. Current Implementations</span>

   The only current implementation of these rules as part of the IRC
   protocol is the IRC server, version 2.10.

   The rest of this section deals with issues that are mostly of
   importance to those who wish to implement a server but some parts may
   also be of interest for client writers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1%20Tracking%20Recently%20Used%20Channels"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a> Tracking Recently Used Channels</span>

   This mechanism is commonly known as "Channel Delay" and generally
   only applies to channels which names is prefixed with the character
   '#' (See <a href="#section-3.1">Section 3.1</a> "Standard channels").

   When a network split occurs, servers SHOULD keep track of which
   channels lost a "channel operator" as the result of the break.  These
   channels are then in a special state which lasts for a certain period
   of time.  In this particular state, the channels cannot cease to




<span class="grey">Kalt                         Informational                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   exist.  If all the channel members leave the channel, the channel
   becomes unavailable: the server local clients cannot join the channel
   as long as it is empty.

   Once a channel is unavailable, it will become available again either
   because a remote user has joined the channel (most likely because the
   network is healing), or because the delay period has expired (in
   which case the channel ceases to exist and may be re-created).

   The duration for which a channel death is delayed SHOULD be set
   considering many factors among which are the size (user wise) of the
   IRC network, and the usual duration of network splits.  It SHOULD be
   uniform on all servers for a given IRC network.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2%20Safe%20Channels"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a> Safe Channels</span>

   This document introduces the notion of "safe channels".  These
   channels have a name prefixed with the character '!' and great effort
   is made to avoid collisions in this name space.  Collisions are not
   impossible, however they are very unlikely.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.1%20Channel%20Identifier"></a><a class="selflink" href="#section-5.2.1" name="section-5.2.1">5.2.1</a> Channel Identifier</span>

   The channel identifier is a function of the time.  The current time
   (as defined under UNIX by the number of seconds elapsed since
   00:00:00 GMT, January 1, 1970) is converted in a string of five (5)
   characters using the following base:
   "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890" (each character has a decimal
   value starting from 0 for 'A' to 35 for '0').

   The channel identifier therefore has a periodicity of 36^5 seconds
   (about 700 days).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.2%20Channel%20Delay"></a><a class="selflink" href="#section-5.2.2" name="section-5.2.2">5.2.2</a> Channel Delay</span>

   These channels MUST be subject to the "channel delay" mechanism
   described in <a href="#section-5.1">section 5.1</a> (Channel Delay).  However, the mechanism is
   slightly adapted to fit better.

   Servers MUST keep track of all such channels which lose members as
   the result of a network split, no matter whether the user is a
   "channel operator" or not.

   However, these channels do NOT ever become unavailable, it is always
   possible to join them even when they are empty.






<span class="grey">Kalt                         Informational                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.3%20Abuse%20Window"></a><a class="selflink" href="#section-5.2.3" name="section-5.2.3">5.2.3</a> Abuse Window</span>

   Because the periodicity is so long, attacks on a particular channel
   (name) may only occur once in a very long while.  However, with luck
   and patience, it is still possible for a user to cause a channel
   collision.  In order to avoid this, servers MUST "look in the future"
   and keep a list of channel names which identifier is about to be used
   (in the coming few days for example). Such list should remain small,
   not be a burden for servers to maintain and be used to avoid channel
   collisions by preventing the re-creation of such channel for a longer
   period of time than channel delay does.

   Eventually a server MAY choose to extend this procedure to forbid
   creation of channels with the same shortname only (then ignoring the
   channel identifier).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.4%20Preserving%20Sanity%20In%20The%20Name%20Space"></a><a class="selflink" href="#section-5.2.4" name="section-5.2.4">5.2.4</a> Preserving Sanity In The Name Space</span>

   The combination of the mechanisms described in sections <a href="#section-5.2.2">5.2.2</a> and
   5.2.3 makes it quite difficult for a user to create a channel
   collision. However, another type of abuse consists of creating many
   channels having the same shortname, but different identifiers.  To
   prevent this from happening, servers MUST forbid the creation of a
   new channel which has the same shortname of a channel currently
   existing.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.2.5%20Server%20Reop%20Mechanism"></a><a class="selflink" href="#section-5.2.5" name="section-5.2.5">5.2.5</a> Server Reop Mechanism</span>

   When a channel has been opless for longer than the "reop delay"
   period and has the channel flag 'r' set (See <a href="#section-4.2.7">Section 4.2.7</a> (Server
   Reop Flag)), IRC servers are responsible for giving the channel
   operator status randomly to some of the members.

   The exact logic used for this mechanism by the current implementation
   is described below.  Servers MAY use a different logic, but that it
   is strongly RECOMMENDED that all servers use the same logic on a
   particular IRC network to maintain coherence as well as fairness.
   For the same reason, the "reop delay" SHOULD be uniform on all
   servers for a given IRC network.  As for the "channel delay", the
   value of the "reop delay" SHOULD be set considering many factors
   among which are the size (user wise) of the IRC network, and the
   usual duration of network splits.

   a) the reop mechanism is triggered after a random time following the
      expiration of the "reop delay".  This should limit the eventuality
      of the mechanism being triggered at the same time (for the same
      channel) on two separate servers.




<span class="grey">Kalt                         Informational                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   b) If the channel is small (five (5) users or less), and the "channel
      delay" for this channel has expired,
        Then reop all channel members if at least one member is local to
        the server.

   c) If the channel is small (five (5) users or less), and the "channel
      delay" for this channel has expired, and the "reop delay" has
      expired for longer than its value,
        Then reop all channel members.

   d) For other cases, reop at most one member on the channel, based on
      some method build into the server. If you don't reop a member, the
      method should be such that another server will probably op
      someone. The method SHOULD be the same over the whole network. A
      good heuristic could be just random reop.
      (The current implementation actually tries to choose a member
      local to the server who has not been idle for too long, eventually
      postponing action, therefore letting other servers have a chance
      to find a "not too idle" member.  This is over complicated due to
      the fact that servers only know the "idle" time of their local
      users)

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20Current%20problems"></a><a class="selflink" href="#section-6" name="section-6">6</a>. Current problems</span>

   There are a number of recognized problems with the way IRC channels
   are managed.  Some of these can be directly attributed to the rules
   defined in this document, while others are the result of the
   underlying "IRC Server Protocol" [<a href="#ref-IRC-SERVER" title='"Internet Relay Chat: Server Protocol"'>IRC-SERVER</a>].  Although derived from
   <a href="rfc1459.html">RFC 1459</a> [<a href="#ref-IRC" title='"Internet Relay Chat Protocol"'>IRC</a>], this document introduces several novelties in an
   attempt to solve some of the known problems.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1%20Labels"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a> Labels</span>

   This document defines one of the many labels used by the IRC
   protocol.  Although there are several distinct namespaces (based on
   the channel name prefix), duplicates inside each of these are not
   allowed.  Currently, it is possible for users on different servers to
   pick the label which may result in collisions (with the exception of
   channels known to only one server where they can be averted).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.1%20Channel%20Delay"></a><a class="selflink" href="#section-6.1.1" name="section-6.1.1">6.1.1</a> Channel Delay</span>

   The channel delay mechanism described in <a href="#section-5.1">section 5.1</a> (Tracking
   Recently Used Channels) and used for channels prefixed with the
   character '#' is a simple attempt at preventing collisions from
   happening.  Experience has shown that, under normal circumstances, it





<span class="grey">Kalt                         Informational                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   is very efficient; however, it obviously has severe limitations
   keeping it from being an adequate solution to the problem discussed
   here.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.2%20Safe%20Channels"></a><a class="selflink" href="#section-6.1.2" name="section-6.1.2">6.1.2</a> Safe Channels</span>

   "Safe channels" described in <a href="#section-3.2">section 3.2</a> (Safe Channels) are a better
   way to prevent collisions from happening as it prevents users from
   having total control over the label they choose.  The obvious
   drawback for such labels is that they are not user friendly.
   However, it is fairly trivial for a client program to improve on
   this.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2%20Mode%20Propagation%20Delays"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a> Mode Propagation Delays</span>

   Because of network delays induced by the network, and because each
   server on the path is REQUIRED to check the validity of mode changes
   (e.g., user exists and has the right privileges), it is not unusual
   for a MODE message to only affect part of the network, often creating
   a discrepancy between servers on the current state of a channel.

   While this may seem easy to fix (by having only the original server
   check the validity of mode changes), it was decided not to do so for
   various reasons.  One concern is that servers cannot trust each
   other, and that a misbehaving servers can easily be detected.  This
   way of doing so also stops wave effects on channels which are out of
   synch when mode changes are issued from different directions.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3%20Collisions%20And%20Channel%20Modes"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a> Collisions And Channel Modes</span>

   The "Internet Relay Chat: Server Protocol" document [<a href="#ref-IRC-SERVER" title='"Internet Relay Chat: Server Protocol"'>IRC-SERVER</a>]
   describes how channel data is exchanged when two servers connect to
   each other.  Channel collisions (either legitimate or not) are
   treated as inclusive events, meaning that the resulting channel has
   for members all the users who are members of the channel on either
   server prior to the connection.

   Similarly, each server sends the channel modes to the other one.
   Therefore, each server also receives these channel modes.  There are
   three types of modes for a given channel: flags, masks, and data.
   The first two types are easy to deal with as they are either set or
   unset.  If such a mode is set on one server, it MUST be set on the
   other server as a result of the connection.








<span class="grey">Kalt                         Informational                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


   As topics are not sent as part of this exchange, they are not a
   problem.  However, channel modes 'l' and 'k' are exchanged, and if
   they are set on both servers prior to the connection, there is no
   mechanism to decide which of the two values takes precedence.  It is
   left up to the users to fix the resulting discrepancy.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4%20Resource%20Exhaustion"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a> Resource Exhaustion</span>

   The mode based on masks defined in <a href="#section-4.3">section 4.3</a> make the IRC servers
   (and network) vulnerable to a simple abuse of the system: a single
   channel operator can set as many different masks as possible on a
   particular channel.  This can easily cause the server to waste
   memory, as well as network bandwidth (since the info is propagated to
   other servers).  For this reason it is RECOMMENDED that a limit be
   put on the number of such masks per channels as mentioned in <a href="#section-4.3">section</a>
   <a href="#section-4.3">4.3</a>.

   Moreover, more complex mechanisms MAY be used to avoid having
   redundant masks set for the same channel.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>. Security Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1%20Access%20Control"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a> Access Control</span>

   One of the main ways to control access to a channel is to use masks
   which are based on the username and hostname of the user connections.
   This mechanism can only be efficient and safe if the IRC servers have
   an accurate way of authenticating user connections, and if users
   cannot easily get around it.  While it is in theory possible to
   implement such a strict authentication mechanism, most IRC networks
   (especially public networks) do not have anything like this in place
   and provide little guaranty about the accuracy of the username and
   hostname for a particular client connection.

   Another way to control access is to use a channel key, but since this
   key is sent in plaintext, it is vulnerable to traditional man in the
   middle attacks.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2%20Channel%20Privacy"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a> Channel Privacy</span>

   Because channel collisions are treated as inclusive events (See
   <a href="#section-6.3">Section 6.3</a>), it is possible for users to join a channel overriding
   its access control settings.  This method has long been used by
   individuals to "take over" channels by "illegitimately" gaining
   channel operator status on the channel.  The same method can be used
   to find out the exact list of members of a channel, as well as to
   eventually receive some of the messages sent to the channel.




<span class="grey">Kalt                         Informational                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.3%20Anonymity"></a><a class="selflink" href="#section-7.3" name="section-7.3">7.3</a> Anonymity</span>

   The anonymous channel flag (See <a href="#section-4.2.1">Section 4.2.1</a>) can be used to render
   all users on such channel "anonymous" by presenting all messages to
   the channel as originating from a pseudo user which nickname is
   "anonymous".  This is done at the client-server level, and no
   anonymity is provided at the server-server level.

   It should be obvious to readers, that the level of anonymity offered
   is quite poor and insecure, and that clients SHOULD display strong
   warnings for users joining such channels.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20Current%20support%20and%20availability"></a><a class="selflink" href="#section-8" name="section-8">8</a>. Current support and availability</span>

     Mailing lists for IRC related discussion:
       General discussion: ircd-users@irc.org
       Protocol development: ircd-dev@irc.org

     Software implementations:
       <a href="ftp://ftp.irc.org/irc/server">ftp://ftp.irc.org/irc/server</a>
       <a href="ftp://ftp.funet.fi/pub/unix/irc">ftp://ftp.funet.fi/pub/unix/irc</a>
       <a href="ftp://coombs.anu.edu.au/pub/irc">ftp://coombs.anu.edu.au/pub/irc</a>

     Newsgroup: alt.irc

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20Acknowledgements"></a><a class="selflink" href="#section-9" name="section-9">9</a>. Acknowledgements</span>

   Parts of this document were copied from the <a href="rfc1459.html">RFC 1459</a> [<a href="#ref-IRC" title='"Internet Relay Chat Protocol"'>IRC</a>] which
   first formally documented the IRC Protocol.  It has also benefited
   from many rounds of review and comments.  In particular, the
   following people have made significant contributions to this
   document:

   Matthew Green, Michael Neumayer, Volker Paulsen, Kurt Roeckx, Vesa
   Ruokonen, Magnus Tjernstrom, Stefan Zehl.
















<span class="grey">Kalt                         Informational                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20References"></a><a class="selflink" href="#section-10" name="section-10">10</a>. References</span>

   [<a id="ref-KEYWORDS" name="ref-KEYWORDS">KEYWORDS</a>]   Bradner, S., "Key words for use in RFCs to Indicate
                Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-IRC" name="ref-IRC">IRC</a>]        Oikarinen, J. and D. Reed, "Internet Relay Chat
                Protocol", <a href="rfc1459.html">RFC 1459</a>, May 1993.

   [<a id="ref-IRC-ARCH" name="ref-IRC-ARCH">IRC-ARCH</a>]   Kalt, C., "Internet Relay Chat: Architecture", <a href="rfc2810.html">RFC 2810</a>,
                April 2000.

   [<a id="ref-IRC-CLIENT" name="ref-IRC-CLIENT">IRC-CLIENT</a>] Kalt, C., "Internet Relay Chat: Client Protocol", <a href="rfc2812.html">RFC</a>
                <a href="rfc2812.html">2812</a>, April 2000.

   [<a id="ref-IRC-SERVER" name="ref-IRC-SERVER">IRC-SERVER</a>] Kalt, C., "Internet Relay Chat: Server Protocol", <a href="rfc2813.html">RFC</a>
                <a href="rfc2813.html">2813</a>, April 2000.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20Author%27s%20Address"></a><a class="selflink" href="#section-11" name="section-11">11</a>. Author's Address</span>

   Christophe Kalt
   99 Teaneck Rd, Apt #117
   Ridgefield Park, NJ 07660
   USA

   EMail: kalt@stealth.net


























<span class="grey">Kalt                         Informational                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc2811.html">RFC 2811</a>        Internet Relay Chat: Channel Management       April 2000</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Kalt                         Informational                     [Page 19]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc2811 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:50 GMT --></html>