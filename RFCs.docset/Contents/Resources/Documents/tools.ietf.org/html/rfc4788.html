<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc4788 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:39 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-xie-avt-compact-bundle-evrc" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:4788" name="DC.Identifier"/>
<meta content="January, 2007" name="DC.Date.Issued"/>
<meta content="Kapoor, Rohit" name="DC.Creator"/>
<meta content="Xie, Qiaobing" name="DC.Creator"/>
<meta content="This document updates the Enhanced Variable Rate Codec (EVRC) RTP
payload formats defined in RFC 3558 with several enhancements and
extensions. In particular, it defines support for the header-free and
interleaved/bundled packet formats for the EVRC-B codec, a new compact
bundled format for the EVRC and EVRC-B codecs, as well as
discontinuous transmission (DTX) support for EVRC and EVRC-B-encoded
speech transported via RTP. Voice over IP (VoIP) applications
operating over low bandwidth dial-up and wireless networks require
such enhancements for efficient use of the bandwidth. [STANDARDS-
TRACK]" name="DC.Description.Abstract"/>
<meta content="Enhancements to RTP Payload Formats for EVRC Family Codecs" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 4788 - Enhancements to RTP Payload Formats for EVRC Family Codecs</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc4788.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc4788" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-avt-compact-bundled-evrc" title="draft-ietf-avt-compact-bundled-evrc">draft-ietf-avt-...</a>] [<a href="https://datatracker.ietf.org/doc/rfc4788" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc4788" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc4788" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Updated by: <a href="rfc5188.html">5188</a>                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                             Q. Xie
Request for Comments: 4788                                      Motorola
Updates: <a href="rfc3558.html">3558</a>                                                  R. Kapoor
Category: Standards Track                                       Qualcomm
                                                            January 2007


       <span class="h1">Enhancements to RTP Payload Formats for EVRC Family Codecs</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   This document updates the Enhanced Variable Rate Codec (EVRC) RTP
   payload formats defined in <a href="rfc3558.html">RFC 3558</a> with several enhancements and
   extensions.  In particular, it defines support for the header-free
   and interleaved/bundled packet formats for the EVRC-B codec, a new
   compact bundled format for the EVRC and EVRC-B codecs, as well as
   discontinuous transmission (DTX) support for EVRC and EVRC-B-encoded
   speech transported via RTP.  Voice over IP (VoIP) applications
   operating over low bandwidth dial-up and wireless networks require
   such enhancements for efficient use of the bandwidth.



















<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.1">1.1</a>.  Support of EVRC-B Codec  . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.2">1.2</a>.  Compact (Header-free) Bundled Format . . . . . . . . . . .  <a href="#page-3">3</a>
     <a href="#section-1.3">1.3</a>.  Discontinuous Transmission (DTX) . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-2">2</a>.  Conventions  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-3">3</a>.  EVRC-B Codec . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-4">4</a>.  Compact Bundled Format . . . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
     <a href="#section-4.1">4.1</a>.  Single-Rate Operation  . . . . . . . . . . . . . . . . . .  <a href="#page-5">5</a>
   <a href="#section-5">5</a>.  Storage Format for EVRC-B Codec  . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-6">6</a>.  Media Type Definitions . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
     <a href="#section-6.1">6.1</a>.  Registration of Media Type EVRC1 . . . . . . . . . . . . .  <a href="#page-6">6</a>
     <a href="#section-6.2">6.2</a>.  Registration of Media Type EVRCB . . . . . . . . . . . . .  <a href="#page-9">9</a>
     <a href="#section-6.3">6.3</a>.  Registration of Media Type EVRCB0  . . . . . . . . . . . . <a href="#page-11">11</a>
     <a href="#section-6.4">6.4</a>.  Registration of Media Type EVRCB1  . . . . . . . . . . . . <a href="#page-12">12</a>
     <a href="#section-6.5">6.5</a>.  Updated Registration of Media Type EVRC  . . . . . . . . . <a href="#page-13">13</a>
     <a href="#section-6.6">6.6</a>.  Updated Registration of Media Type EVRC0 . . . . . . . . . <a href="#page-15">15</a>
     <a href="#section-6.7">6.7</a>.  Mapping MIME Parameters into SDP . . . . . . . . . . . . . <a href="#page-17">17</a>
     <a href="#section-6.8">6.8</a>.  Usage in Offer/Answer  . . . . . . . . . . . . . . . . . . <a href="#page-18">18</a>
   <a href="#section-7">7</a>.  Backward Compatibility with <a href="rfc3558.html">RFC 3558</a> . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-8">8</a>.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-9">9</a>.  Security Considerations  . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-10">10</a>. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-11">11</a>. References . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-20">20</a>
     <a href="#section-11.1">11.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-20">20</a>
     <a href="#section-11.2">11.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-20">20</a>
























<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   This document defines support for the header-free and interleaved/
   bundled packet formats for the EVRC-B codec, a new compact bundled
   format for the EVRC and EVRC-B codecs, as well as discontinuous
   transmission (DTX) support for EVRC and EVRC-B-encoded speech
   transported via RTP.  Voice over IP (VoIP) applications operating
   over low bandwidth dial-up and wireless networks require such EVRC
   RTP payload capabilities for efficient use of the bandwidth.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Support%20of%20EVRC-B%20Codec"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Support of EVRC-B Codec</span>

   EVRC-B [<a href="#ref-3" title='"Enhanced Variable Rate Codec, Speech Service Option 3 and 68 for Wideband Spread Spectrum Digital Systems"'>3</a>] is an extension to EVRC [<a href="#ref-2" title='"Enhanced Variable Rate Codec, Speech Service Option 3 for Wideband Spread Spectrum Digital Systems"'>2</a>] developed in the Third
   Generation Partnership Project 2 (3GPP2).  EVRC-B [<a href="#ref-3" title='"Enhanced Variable Rate Codec, Speech Service Option 3 and 68 for Wideband Spread Spectrum Digital Systems"'>3</a>] compresses each
   20 milliseconds of 8000Hz, 16-bit sampled speech input into output
   frames of one of the four different sizes: Rate 1 (171 bits), Rate
   1/2 (80 bits), Rate 1/4 (40 bits), or Rate 1/8 (16 bits).  In
   addition, there are two zero-bit codec frame types: null frames and
   erasure frames, similar to EVRC [<a href="#ref-2" title='"Enhanced Variable Rate Codec, Speech Service Option 3 for Wideband Spread Spectrum Digital Systems"'>2</a>].  One significant enhancement in
   EVRC-B is the use of 1/4-rate frames that were not used in EVRC.
   This provides lower average data rates (ADRs) compared to EVRC, for a
   given voice quality.

   Since speech frames encoded by EVRC-B are different from those
   encoded by EVRC, EVRC-B and EVRC codecs do not interoperate with each
   other.  At the initiation of an RTP session, the RTP sender and
   receiver need to indicate (e.g., using MIME subtypes that are
   separate from those of EVRC) that EVRC-B is to be used for the
   ensuing session.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20Compact%20%28Header-free%29%20Bundled%20Format"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  Compact (Header-free) Bundled Format</span>

   The current interleaved/bundled packet format defined in <a href="rfc3558.html">RFC 3558</a>
   allows bundling of multiple speech frames of different rates in a
   single RTP packet, sending mode change requests, and interleaving.
   To support these functions, a Table of Contents (ToC) is used in each
   RTP packet, in addition to the standard RTP header.  The size of the
   ToC varies depending on the number of EVRC frames carried in the
   packet [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>].

   The current header-free packet format defined in <a href="rfc3558.html">RFC 3558</a> is more
   compact and optimized for use over wireless links.  It eliminates the
   need for a ToC by requiring that each RTP packet contain only one
   speech frame (of any allowable rate), i.e., bundling is not allowed.
   Moreover, interleaving and mode change requests are not supported in
   the header-free format [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>].





<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   The compact bundled format described in this document presents the
   user an alternative to the header-free format defined in <a href="rfc3558.html">RFC 3558</a>.
   This format allows bundling of multiple EVRC or EVRC-B frames without
   the addition of extra headers, as would be in the case of the
   interleaved/bundled format.  However, in order to use this compact
   bundled format, only one EVRC/EVRC-B rate (full rate or 1/2 rate) can
   be used in the session.  Similar to the header-free format defined in
   <a href="rfc3558.html">RFC 3558</a>, interleaving and mode change requests are not supported in
   the compact bundled format.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.3.%20%20Discontinuous%20Transmission%20%28DTX%29"></a><a class="selflink" href="#section-1.3" name="section-1.3">1.3</a>.  Discontinuous Transmission (DTX)</span>

   Information carried in frames of EVRC and EVRC-B codecs varies little
   during periods of silence.  The transmission of these frames across
   the radio interface in a wireless system is expensive, in terms of
   capacity; therefore, suppression of these frames is desirable.  Such
   an operation is called DTX, also known as silence suppression.

   In general, when DTX/silence suppression is applied, the first few
   frames of silence may be transmitted at the beginning of the period
   of silence to establish background noise.  Then, a portion of the
   stream of subsequent silence frames is not transmitted, and is
   discarded at the sender.  At the receiver, background or comfort
   noise may be generated by using the previously received silence
   frames.

   The full detail of DTX/silence suppression operation can be found in
   DTX [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>] as well as in <a href="rfc3551.html">RFC 3551</a> [<a href="#ref-9" title='"RTP Profile for Audio and Video Conferences with Minimal Control"'>9</a>], and in <a href="rfc3558.html">RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>].  This
   document only defines the additional optional MIME parameters
   (silencesupp, dtxmax, dtxmin, and hangover) for setting up a DTX/
   silence suppression session, where "silencesupp" is for indicating
   the capability and willingness of using DTX/silence suppression;
   "dtxmax" and "dtxmin", for indicating the desired range of DTX update
   interval; and "hangover", for indicating the desired number of
   silence frames at the beginning of each silence period to establish
   background noise at the receiver (see <a href="#section-6.1">Section 6.1</a> for detailed
   definition).

   The EVRC and EVRC-B codecs, in variable-rate operation mode, send
   1/8-rate frames during periods of silence, while in single-rate
   operation mode (see <a href="#section-4">Section 4</a>), silence is encoded and sent in frames
   of the same rate as that of speech frames.  The DTX parameters
   defined in this document apply to 1/8-rate frames in the variable-
   rate mode and to silence frames in the single-rate operation mode.

   For simplicity, in the rest of this document the term "silence frame"
   refers either to an 1/8-rate frame in variable-rate operation or a
   frame that contains only silence in the signal-rate operation.



<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Conventions"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Conventions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="#ref-1" title='"Key words for use in RFCs to Indicate Requirement Levels"'>1</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20EVRC-B%20Codec"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  EVRC-B Codec</span>

   Three RTP packet formats are supported for the EVRC-B codec: the
   interleaved/bundled packet format, the header-free packet format, and
   the compact bundled packet format.  For the interleaved/bundled and
   header-free packet formats, the operational details and capabilities,
   such as ToC, interleaving, and bundling, of EVRC-B, are exactly the
   same as those of EVRC, as defined in <a href="rfc3558.html">RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>], except that the
   mode change request field in the ToC MUST be interpreted according to
   the definition of the RATE_REDUC parameter in EVRC-B [<a href="#ref-3" title='"Enhanced Variable Rate Codec, Speech Service Option 3 and 68 for Wideband Spread Spectrum Digital Systems"'>3</a>].  The
   compact bundled packet format for EVRC-B is defined in <a href="#section-4">Section 4</a> of
   this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Compact%20Bundled%20Format"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Compact Bundled Format</span>

   A packet in the compact bundled format consists of an RTP header,
   followed by a sequence of one or more consecutive EVRC/EVRC-B codec
   data frames of the same rate, as shown below:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      RTP Header [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>]                           |
   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
   |                                                               |
   |       One or more EVRC/EVRC-B data frames of same rate        |
   |                             ....                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The codec data frames MUST be generated from the output of the codec
   following the procedure described in <a href="rfc3558.html#section-5.2">Section 5.2 in RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>], and
   all MUST be of the same rate and size.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Single-Rate%20Operation"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Single-Rate Operation</span>

   As mentioned earlier, in order to use the compact bundled format, all
   the EVRC/EVRC-B data frames in the session MUST be of the same rate.
   This packet format may carry only full or half-rate frames.







<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   For a session that uses the compact bundled format, the rate for the
   session can be determined during the session setup signaling, for
   example, via Session Description Protocol (SDP) exchanges.  See
   <a href="#section-6">Section 6</a> below for more details.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Storage%20Format%20for%20EVRC-B%20Codec"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Storage Format for EVRC-B Codec</span>

   The storage format is used for storing EVRC-B-encoded speech frames,
   e.g., as a file or e-mail attachment.

   The file begins with a magic number to identify the vocoder that is
   used.  The magic number for EVRC-B corresponds to the ASCII character
   string:

          "#!EVRC-B\n"
          (or 0x2321 0x4556 0x5243 0x2d42 0x0a in hexadecimal).

   Note that the "\n" is an important part of both this magic number and
   the "#!EVRC\n" magic number defined in <a href="rfc3558.html#section-11">Section 11 of RFC 3558</a>, and
   the "\n" MUST be included in any comparison of either magic number,
   since, otherwise, a prefix of the EVRC-B magic number could be
   mistaken for the EVRC magic number.

   The codec data frames are stored in consecutive order, with a single
   ToC entry field, extended to one octet, prefixing each codec data
   frame.  The ToC field, as defined in Section 5.1 of [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>], is extended
   to one octet by setting the four most significant bits of the octet
   to zero.  For example, a ToC value of 4 (a full-rate frame) is stored
   as 0x04.

   Speech frames lost in transmission and non-received frames MUST be
   stored as erasure frames to maintain synchronization with the
   original media.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Media%20Type%20Definitions"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Media Type Definitions</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Registration%20of%20Media%20Type%20EVRC1"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Registration of Media Type EVRC1</span>

   Type name:  audio

   Subtype names:  EVRC1

   Required parameters:  none








<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Optional parameters:

      ptime:  See <a href="rfc4566.html">RFC 4566</a> [<a href="#ref-7" title='"SDP: Session Description Protocol"'>7</a>].

      maxptime:  The maximum amount of media that can be encapsulated in
         each packet, expressed as time in milliseconds.  The time MUST
         be calculated as the sum of the time the media present in the
         packet represents.  The time SHOULD be a multiple of the
         duration of a single codec data frame (20 msec).  If not
         signaled, the default maxptime value MUST be 200 milliseconds.

      fixedrate:  Indicates the EVRC rate of the session while in
         single-rate operation.  Valid values include: 0.5 and 1, where
         a value of 0.5 indicates the 1/2 rate, while a value of 1
         indicates the full rate.  If this parameter is not present, 1/2
         rate is assumed.

      silencesupp:  Permissible values are 0 and 1.  A value of 1
         indicates that the sender of this parameter: a) is capable of
         receiving silence-suppressed speech using DTX, AND b) is
         capable of and will send out silence-suppressed speech using
         DTX, unless the other end indicates that it does not want to
         receive silence-suppressed speech using DTX.

         A value of 0 indicates that the sender of this parameter: a)
         does NOT want to receive silence-suppressed speech using DTX,
         AND b) will NOT send out silence-suppressed speech using DTX.

         If this parameter is not present, the default value 1 MUST be
         assumed.  If the RTP receiver indicates through the use of SIP
         signaling or other means that it is incapable of or unwilling
         to use silence suppression using DTX, silence suppression using
         DTX as specified in this document MUST NOT be used for the
         session.

      dtxmax:  Permissible values are from 0 to 255.  Indicates the
         maximum DTX update interval in number of frames.  During DTX,
         the RTP sender occasionally updates the RTP receiver about the
         change in background noise characteristics, etc., by sending a
         new silence frame to the RTP receiver.  The RTP receiver may
         use 'dtxmax' to indicate to the RTP sender the maximum interval
         (in number of frames) between any two DTX updates it expects to
         receive from the RTP sender.

         If this parameter is not present in a session that uses DTX,
         the default value 32, as specified in [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>], MUST be assumed.
         This parameter MUST be ignored if silence suppression using DTX
         is not used for the session.



<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


         Note also that if the RTP receiver elects to detect DTX using
         dtxmax, the dtxmax parameter will affect the amount of delay
         the RTP receiver sees before detecting DTX in the stream.

      dtxmin:  Permissible values are from 0 to 255.  Indicates the
         minimum DTX update interval in number of frames.  The RTP
         receiver may use 'dtxmin' to indicate to the RTP sender the
         minimal interval (in number of frames) between any two DTX
         updates it expects to receive from the RTP sender.

         If this parameter is not present, the default value 12, as
         specified in [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>] MUST be assumed.  This parameter MUST be
         ignored if silence suppression using DTX is not used for the
         session.

      hangover:  Permissible values are from 0 to 255.  Indicates the
         number of consecutive silence frames transmitted at the end of
         an active speech interval but before the DTX interval begins.
         When setting up an RTP session that uses DTX, an RTP receiver
         can use this parameter to signal the number of silence frames
         it expects to receive before the beginning of DTX.  While
         hangover=0 is allowed, it is RECOMMENDED that hangover be set
         to 1 or greater since the presence of silence frames at the end
         of an active speech can help the RTP receiver to identify the
         beginning of the DTX period.

         If this parameter is not present for a session that uses DTX,
         the default value 1, as specified in [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>] MUST be assumed.  This
         parameter MUST be ignored if silence suppression using DTX is
         not used for the session.

   Encoding considerations:
      This media type is framed binary data (see <a href="rfc4288.html#section-4.8">RFC 4288, Section 4.8</a>)
      and is defined for transfer of EVRC-encoded data via RTP, using
      the compact bundled format as described in <a href="rfc4788.html">RFC 4788</a>.

   Security considerations:  See <a href="rfc4788.html#section-9">Section 9 of RFC 4788</a>.

   Interoperability considerations:  none

   Published specification:
      The EVRC vocoder is specified in 3GPP2 C.S0014 [<a href="#ref-2" title='"Enhanced Variable Rate Codec, Speech Service Option 3 for Wideband Spread Spectrum Digital Systems"'>2</a>].  Transfer
      method with compact bundled RTP format is specified in <a href="rfc4788.html">RFC 4788</a>.

   Applications that use this media type:
      It is expected that many VoIP applications (as well as mobile
      applications) will use this type.




<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Additional information:  none

   Person &amp; email address to contact for further information:
      Qiaobing Xie &lt;Qiaobing.Xie@motorola.com&gt;

   Intended usage:  COMMON

   Restrictions on usage:
      This media type depends on RTP framing; hence, it is only defined
      for transfer via RTP (<a href="rfc3550.html">RFC 3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>]).  Transfer within other
      framing protocols is not defined at this time.

   Author:
      Qiaobing Xie

   Change controller:
      IETF Audio/Video Transport working group delegated from the IESG.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20Registration%20of%20Media%20Type%20EVRCB"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  Registration of Media Type EVRCB</span>

   Type name:  audio

   Subtype names:  EVRCB

   Required parameters:  none

   Optional parameters:

      ptime:  see <a href="rfc4566.html">RFC 4566</a> [<a href="#ref-7" title='"SDP: Session Description Protocol"'>7</a>].

      maxptime:  The maximum amount of media that can be encapsulated in
         each packet, expressed as time in milliseconds.  The time MUST
         be calculated as the sum of the time the media present in the
         packet represents.  The time SHOULD be a multiple of the
         duration of a single codec data frame (20 msec).  If not
         signaled, the default maxptime value MUST be 200 milliseconds.

      maxinterleave:  Maximum number for interleaving length (field LLL
         in the Interleaving Octet).  The interleaving lengths used in
         the entire session MUST NOT exceed this maximum value.  If not
         signaled, the maxinterleave length MUST be 5.

      silencesupp:  see <a href="#section-6.1">Section 6.1</a> for definition.  If this parameter
         is not present, the default value 1 MUST be assumed.







<span class="grey">Xie &amp; Kapoor                Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


      dtxmax:  see <a href="#section-6.1">Section 6.1</a>

      dtxmin:  see <a href="#section-6.1">Section 6.1</a>

      hangover:  see <a href="#section-6.1">Section 6.1</a>

   Encoding considerations:
      This media type is framed binary data (see <a href="rfc4288.html#section-4.8">RFC 4288, Section 4.8</a>)
      and is defined for transfer of EVRC-B-encoded data via RTP using
      the Interleaved/Bundled packet format specified in <a href="rfc3558.html">RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>].

   Security considerations:  See <a href="rfc4788.html#section-9">Section 9 of RFC 4788</a>.

   Interoperability considerations:  none

   Published specification:
      The EVRC-B vocoder is specified in 3GPP2 C.S0014-B [<a href="#ref-3" title='"Enhanced Variable Rate Codec, Speech Service Option 3 and 68 for Wideband Spread Spectrum Digital Systems"'>3</a>].  Transfer
      method with Interleaved/Bundled packet format via RTP is specified
      in <a href="rfc3558.html">RFC 3558</a>.

   Applications that use this media type:
      It is expected that many VoIP applications (as well as mobile
      applications) will use this type.

   Additional information:
      The following information applies for storage format only.

      Magic number: #!EVRC-B\n (see <a href="rfc4788.html#section-5">Section 5 of RFC 4788</a>)
      File extensions: evb, EVB
      Macintosh file type code: None
      Object identifier or OID: None

   Person &amp; email address to contact for further information:
      Qiaobing Xie &lt;Qiaobing.Xie@motorola.com&gt;

   Intended usage:  COMMON

   Restrictions on usage:
      This media type may be used with RTP framing (<a href="rfc3550.html">RFC 3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>]) and as
      a storage format.  When used with RTP, the procedures in <a href="#section-3">Section 3</a>
      MUST be followed.  In all other contexts, the storage format
      defined in <a href="#section-5">Section 5</a> MUST be used.

   Author:
      Qiaobing Xie






<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Change controller:
      IETF Audio/Video Transport working group delegated from the IESG.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20Registration%20of%20Media%20Type%20EVRCB0"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  Registration of Media Type EVRCB0</span>

   Type name:  audio

   Subtype names:  EVRCB0

   Required parameters:  none

   Optional parameters:

      silencesupp:  see <a href="#section-6.1">Section 6.1</a> for definition.  If this parameter
         is not present, the default value 1 MUST be assumed.

      dtxmax:  see <a href="#section-6.1">Section 6.1</a>

      dtxmin:  see <a href="#section-6.1">Section 6.1</a>

      hangover:  see <a href="#section-6.1">Section 6.1</a>

   Encoding considerations:
      This media type is framed binary data (see <a href="rfc4288.html#section-4.8">RFC 4288, Section 4.8</a>)
      and is defined for transfer of EVRC-B-encoded data via RTP using
      the Header-Free packet format specified in <a href="rfc3558.html">RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>].

   Security considerations:  See <a href="rfc4788.html#section-9">Section 9 of RFC 4788</a>.

   Interoperability considerations:  none

   Published specification:
      The EVRC-B vocoder is specified in 3GPP2 C.S0014-B [<a href="#ref-3" title='"Enhanced Variable Rate Codec, Speech Service Option 3 and 68 for Wideband Spread Spectrum Digital Systems"'>3</a>].  Transfer
      method with Header-Free packet format via RTP is specified in <a href="rfc3558.html">RFC</a>
      <a href="rfc3558.html">3558</a> and <a href="rfc4788.html">RFC 4788</a>.

   Applications that use this media type:
      It is expected that many VoIP applications (as well as mobile
      applications) will use this type.

   Additional information:  none

   Person &amp; email address to contact for further information:
      Qiaobing Xie &lt;Qiaobing.Xie@motorola.com&gt;







<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Intended usage:  COMMON

   Restrictions on usage:
      This media type depends on RTP framing; hence, it is only defined
      for transfer via RTP (<a href="rfc3550.html">RFC 3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>]).  Transfer within other
      framing protocols is not defined at this time.

   Author:
      Qiaobing Xie

   Change controller:
      IETF Audio/Video Transport working group delegated from the IESG.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4.%20%20Registration%20of%20Media%20Type%20EVRCB1"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a>.  Registration of Media Type EVRCB1</span>

   Type name:  audio

   Subtype names:  EVRCB1

   Required parameters:  none

   Optional parameters:

      ptime:  see <a href="rfc4566.html">RFC 4566</a> [<a href="#ref-7" title='"SDP: Session Description Protocol"'>7</a>].

      maxptime:  The maximum amount of media that can be encapsulated in
         each packet, expressed as time in milliseconds.  The time MUST
         be calculated as the sum of the time the media present in the
         packet represents.  The time SHOULD be a multiple of the
         duration of a single codec data frame (20 msec).  If not
         signaled, the default maxptime value MUST be 200 milliseconds.

      fixedrate:  Indicates the EVRC-B rate of the session while in
         single-rate operation.  Valid values include: 0.5 and 1, where
         a value of 0.5 indicates the 1/2 rate while a value of 1
         indicates the full rate.  If this parameter is not present, 1/2
         rate is assumed.

      silencesupp:  see <a href="#section-6.1">Section 6.1</a> for definition.  If this parameter
         is not present, the default value 1 MUST be assumed.

      dtxmax:  see <a href="#section-6.1">Section 6.1</a>

      dtxmin:  see <a href="#section-6.1">Section 6.1</a>







<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


      hangover:  see <a href="#section-6.1">Section 6.1</a>

   Encoding considerations:
      This media type is framed binary data (see <a href="rfc4288.html#section-4.8">RFC 4288, Section 4.8</a>)
      and is defined for transfer of EVRC-B-encoded data via RTP using
      the compact bundled format as described in <a href="rfc4788.html">RFC 4788</a>.

   Security considerations:  See <a href="rfc4788.html#section-9">Section 9 of RFC 4788</a>.

   Interoperability considerations:  none.

   Published specification:
      The EVRC-B vocoder is specified in 3GPP2 C.S0014-B [<a href="#ref-3" title='"Enhanced Variable Rate Codec, Speech Service Option 3 and 68 for Wideband Spread Spectrum Digital Systems"'>3</a>].  Transfer
      method with compact bundled RTP format is specified in <a href="rfc4788.html">RFC 4788</a>.

   Applications that use this media type:
      It is expected that many VoIP applications (as well as mobile
      applications) will use this type.

   Additional information:  none

   Person &amp; email address to contact for further information:
      Qiaobing Xie &lt;Qiaobing.Xie@motorola.com&gt;

   Intended usage:  COMMON

   Restrictions on usage:
      This media type depends on RTP framing; hence, it is only defined
      for transfer via RTP (<a href="rfc3550.html">RFC 3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>]).  Transfer within other
      framing protocols is not defined at this time.

   Author:
      Qiaobing Xie

   Change controller:
      IETF Audio/Video Transport working group delegated from the IESG.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.5.%20%20Updated%20Registration%20of%20Media%20Type%20EVRC"></a><a class="selflink" href="#section-6.5" name="section-6.5">6.5</a>.  Updated Registration of Media Type EVRC</span>

   (The definition is from <a href="rfc3558.html">RFC 3558</a>, added with the optional DTX
   parameters, and updated with the new template specified in [<a href="#ref-10" title='"Media Type Registration of RTP Payload Formats"'>10</a>].)

   Type name:  audio

   Subtype names:  EVRC






<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Required parameters:  none

   Optional parameters:

      ptime:  Defined as usual for RTP audio (see <a href="rfc4566.html">RFC 4566</a>).

      maxptime:  The maximum amount of media that can be encapsulated in
         each packet, expressed as time in milliseconds.  The time SHALL
         be calculated as the sum of the time the media present in the
         packet represents.  The time SHOULD be a multiple of the
         duration of a single codec data frame (20 msec).  If not
         signaled, the default maxptime value SHALL be 200 milliseconds.

      maxinterleave:  Maximum number for interleaving length (field LLL
         in the Interleaving Octet).  The interleaving lengths used in
         the entire session MUST NOT exceed this maximum value.  If not
         signaled, the maxinterleave length SHALL be 5.

      silencesupp:  see <a href="#section-6.1">Section 6.1</a> for definition.  If this parameter
         is not present, the default value 1 MUST be assumed.

      dtxmax:  see <a href="#section-6.1">Section 6.1</a>

      dtxmin:  see <a href="#section-6.1">Section 6.1</a>

      hangover:  see <a href="#section-6.1">Section 6.1</a>

   Encoding considerations:
      This media type is framed binary data (see <a href="rfc4288.html#section-4.8">RFC 4288, Section 4.8</a>),
      and is defined for transfer of EVRC-encoded data via RTP using the
      Interleaved/Bundled packet format specified in Sections <a href="#section-4.1">4.1</a>, <a href="#section-6">6</a>,
      and 7 of <a href="rfc3558.html">RFC 3558</a>.  It is also defined for other transfer methods
      using the storage format specified in <a href="rfc3558.html#section-11">Section 11 of RFC 3558</a>.

   Security considerations:  See <a href="#section-14">Section 14</a>, "Security Considerations",
      of <a href="rfc3558.html">RFC 3558</a>.

   Interoperability considerations:
      The DTX parameters are receiver options.  Existing <a href="rfc3558.html">RFC 3558</a>
      implementations will not send any of the DTX parameters in their
      SDP and will ignore any DTX parameters they receive.  The adaptive
      DTX behavior of DTX-capable EVRC codecs (as detailed in [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>],
      Section 4.3.5) ensures interoperability with non-DTX EVRC codecs.

   Published specification:
      The EVRC vocoder is specified in 3GPP2 C.S0014 [<a href="#ref-2" title='"Enhanced Variable Rate Codec, Speech Service Option 3 for Wideband Spread Spectrum Digital Systems"'>2</a>].  Transfer
      methods are specified in <a href="rfc3558.html">RFC 3558</a>.




<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Applications that use this media type:
      It is expected that many VoIP applications (as well as mobile
      applications) will use this type.

   Additional information:
      The following information applies for storage format only.

         Magic number: #!EVRC\n (see <a href="rfc3558.html#section-11">Section 11 of RFC 3558</a>)
         File extensions: evc, EVC
         Macintosh file type code: none
         Object identifier or OID: none

   Person &amp; email address to contact for further information:
      Qiaobing Xie &lt;Qiaobing.Xie@motorola.com&gt;

   Intended usage:  COMMON

   Restrictions on usage:
      This media type may be used with RTP framing (<a href="rfc3550.html">RFC 3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>]) and as
      a storage format.  When used with RTP, the procedures in <a href="rfc3558.html#section-4.1">RFC 3558,
      Section 4.1</a>, MUST be followed.  In all other contexts, the storage
      format defined in <a href="rfc3558.html#section-11">RFC 3558, Section 11</a>, MUST be used.

   Author:
      Adam Li/Qiaobing Xie

   Change controller:
      IETF Audio/Video Transport working group delegated from the IESG.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.6.%20%20Updated%20Registration%20of%20Media%20Type%20EVRC0"></a><a class="selflink" href="#section-6.6" name="section-6.6">6.6</a>.  Updated Registration of Media Type EVRC0</span>

   (The definition is from <a href="rfc3558.html">RFC 3558</a>, added with the optional DTX
   parameters, and updated with the new template specified in [<a href="#ref-10" title='"Media Type Registration of RTP Payload Formats"'>10</a>].)

   Type name:  audio

   Subtype names:  EVRC0

   Required parameters:  none

   Optional parameters:

      silencesupp:  see <a href="#section-6.1">Section 6.1</a> for definition.  If this parameter
         is not present, the default value 1 MUST be assumed.







<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


      dtxmax:  see <a href="#section-6.1">Section 6.1</a>

      dtxmin:  see <a href="#section-6.1">Section 6.1</a>

      hangover:  see <a href="#section-6.1">Section 6.1</a>

   Encoding considerations:
      This media type is framed binary data (see <a href="rfc4288.html#section-4.8">RFC 4288, Section 4.8</a>)
      and is only defined for transfer of EVRC-encoded data via RTP
      using the Header-Free packet format specified in <a href="rfc3558.html#section-4.2">Section 4.2 of
      RFC 3558</a>.

   Security considerations:  See <a href="#section-14">Section 14</a>, "Security Considerations",
      of <a href="rfc3558.html">RFC 3558</a>.

   Interoperability considerations:
      The DTX parameters are receiver options.  Existing <a href="rfc3558.html">RFC 3558</a>
      implementations will not send any of the DTX parameters in their
      SDP and will ignore any DTX parameters they receive.  The adaptive
      DTX behavior of DTX-capable EVRC codecs (as detailed in [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>],
      Section 4.3.5) ensures interoperability with non-DTX EVRC codecs.

   Published specification:
      The EVRC vocoder is specified in 3GPP2 C.S0014 [<a href="#ref-2" title='"Enhanced Variable Rate Codec, Speech Service Option 3 for Wideband Spread Spectrum Digital Systems"'>2</a>].  Transfer
      methods are specified in <a href="rfc3558.html">RFC 3558</a>.

   Applications that use this media type:
      It is expected that many VoIP applications (as well as mobile
      applications) will use this type.

   Additional information:  none

   Person &amp; email address to contact for further information:
      Qiaobing Xie &lt;Qiaobing.Xie@motorola.com&gt;

   Intended usage:  COMMON

   Restrictions on usage:
      This media type depends on RTP framing; hence, it is only defined
      for transfer via RTP (<a href="rfc3550.html">RFC 3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>]).  Transfer within other
      framing protocols is not defined at this time.

   Author:
      Adam Li/Qiaobing Xie







<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Change controller:
      IETF Audio/Video Transport working group delegated from the IESG.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.7.%20%20Mapping%20MIME%20Parameters%20into%20SDP"></a><a class="selflink" href="#section-6.7" name="section-6.7">6.7</a>.  Mapping MIME Parameters into SDP</span>

   The information carried in the MIME media type specification has a
   specific mapping to fields in the Session Description Protocol (SDP)
   [<a href="#ref-7" title='"SDP: Session Description Protocol"'>7</a>], which is commonly used to describe RTP sessions.  When SDP is
   used to specify sessions employing the compact bundled format for
   EVRC/EVRC-B-encoded speech, the mapping is as follows:

   o  The MIME type ("audio") goes in SDP "m=" as the media name.

   o  The MIME subtype ("EVRC", "EVRC0", "EVRC1", "EVRCB", EVRCB0", or
      "EVRCB1") goes in SDP "a=rtpmap" as the encoding name.

   o  The optional parameters "ptime" and "maxptime" (for subtypes EVRC,
      EVRC1, EVRCB, and EVRCB1) go in the SDP "a=ptime" and "a=maxptime"
      attributes, respectively.

   o  The optional parameter "maxinterleave" (for subtypes EVRC and
      EVRCB) goes in the SDP "a=fmtp" attribute by copying it directly
      from the MIME media type string as "maxinterleave=value".

   o  The optional parameter "fixedrate" (for subtypes EVRC1 and EVRCB1)
      goes in the "a=fmtp" attribute by copying it directly from the
      MIME media type string as "fixedrate=value".

   o  The optional parameters "silencesupp", "dtxmax", "dtxmin", and
      "hangover" go in the "a=fmtp" attribute by copying it directly
      from the MIME media type string as "silencesupp=value",
      "dtxmax=value", "dtxmin=value", and "hangover=value",
      respectively.

   Example of usage of EVRC1:

     m=audio 49120 RTP/AVP 97
     a=rtpmap:97 EVRC1/8000
     a=fmtp:97 fixedrate=0.5
     a=maxptime:120

   Example of usage of EVRCB:

     m=audio 49120 RTP/AVP 97
     a=rtpmap:97 EVRCB/8000
     a=maxptime:120





<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


   Example of usage of EVRCB0:

     m=audio 49120 RTP/AVP 97
     a=rtpmap:97 EVRCB0/8000

   Example of usage of EVRCB1:

     m=audio 49120 RTP/AVP 97
     a=rtpmap:97 EVRCB1/8000
     a=fmtp:97 fixedrate=0.5
     a=maxptime:100

   Example of usage of EVRC with DTX with silencesupp=1:

     m=audio 49120 RTP/AVP 97
     a=rtpmap:97 EVRC/8000
     a=fmtp:97 silencesupp=1 dtxmax=32 dtxmin=12 hangover=1

   Example of usage of EVRC with DTX with silencesupp=0:

     m=audio 49120 RTP/AVP 97
     a=rtpmap:97 EVRC/8000
     a=fmtp:97 silencesupp=0

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.8.%20%20Usage%20in%20Offer%2FAnswer"></a><a class="selflink" href="#section-6.8" name="section-6.8">6.8</a>.  Usage in Offer/Answer</span>

   All SDP parameters in this payload format are declarative, and all
   reasonable values are expected to be supported.  In particular, when
   DTX is supported, the RTP sender implementation SHOULD support
   hangover, dtxmin, and dtxmax values from 0 to 255.  Thus, the
   standard usage of Offer/Answer, as described in <a href="rfc3264.html">RFC 3264</a> [<a href="#ref-6" title='"An Offer/Answer Model with the Session Description Protocol (SDP)"'>6</a>], SHOULD
   be followed.

   In addition, the following rules MUST be followed while negotiating
   DTX parameters:

   1.  If any DTX parameter is not present in either offer and/or
       answer, the default value of the DTX parameter MUST be assumed.

   2.  If silencesupp is present and set to 0 in either offer or answer,
       the values of all received DTX parameters other than silencesupp
       SHOULD be ignored.

   3.  In an offer or answer, the value of dtxmax SHOULD always be
       larger than or equal to the value of dtxmin, regardless of
       whether the values are indicated explicitly or implicitly by
       default.  Moreover, if the indicated value of dtxmin is larger




<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


       than that of dtxmax, an RTP sender MUST ignore the indicated
       values and MUST fall back on using the default dtxmin and dtxmax
       values.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Backward%20Compatibility%20with%20RFC%203558"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Backward Compatibility with <a href="rfc3558.html">RFC 3558</a></span>

   This document adds new optional DTX parameters to the original EVRC
   payload subtypes "EVRC" and "EVRC0" defined in <a href="rfc3558.html">RFC 3558</a>.  Since the
   new DTX parameters are receiver options, we expect that the existing
   <a href="rfc3558.html">RFC 3558</a> implementations will not send any of the DTX parameters in
   their SDP and will ignore any DTX parameters they receive.  The
   adaptive DTX behavior of DTX-capable EVRC codecs (as detailed in [<a href="#ref-8" title='"Discontinuous Transmission (DTX) of Speech in cdma2000 Systems"'>8</a>],
   Section 4.3.5) ensures the backward interoperability between the DTX-
   capable EVRC codec and non-DTX EVRC codecs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IANA Considerations</span>

   Four (4) new MIME subtype registrations - "EVRC1", "EVRCB", "EVRCB0",
   and "EVRCB1" - are defined in this document (see <a href="#section-6.1">Section 6.1</a> -
   <a href="#section-6.4">Section 6.4</a>) for EVRC-B and compact bundled payload format support.

   For all the EVRC and EVRC-B RTP payload formats defined in <a href="rfc3558.html">RFC 3558</a>
   [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>] and <a href="rfc4788.html">RFC 4788</a>, four additional optional parameters -
   "silencesupp", "dtxmax", "dtxmin", and "hangover" - are defined and
   used in DTX.

   The MIME subtype registrations "EVRC" and "EVRC0", originally defined
   in <a href="rfc3558.html">RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>], are updated with the optional DTX parameters (see
   Sections <a href="#section-6.5">6.5</a> and <a href="#section-6.6">6.6</a>).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Security%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Security Considerations</span>

   Implementations using the payload defined in this specification are
   subject to the security considerations discussed in <a href="rfc3558.html">RFC 3558</a> [<a href="#ref-4" title='"RTP Payload Format for Enhanced Variable Rate Codecs (EVRC) and Selectable Mode Vocoders (SMV)"'>4</a>], <a href="rfc3550.html">RFC</a>
   <a href="rfc3550.html">3550</a> [<a href="#ref-5" title='"RTP: A Transport Protocol for Real-Time Applications"'>5</a>], and any appropriate profile (for example, <a href="rfc3551.html">RFC 3551</a> [<a href="#ref-9" title='"RTP Profile for Audio and Video Conferences with Minimal Control"'>9</a>]).
   This payload does not specify any different security services.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Acknowledgements"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Acknowledgements</span>

   The following people have made significant contributions to this
   document (in alphabetical order): Parag Agashe, Jim Ashley,
   Harikishan Desineni, Serafin Diaz, Harinath Garudadri, Gouri
   Johanssen, Ananth Kandhadai, Waqar Mohsin, Ashok Roy, Gino Scribano,
   and Gajinder Singh Vij.

   Special thanks to Colin Perkins, Magnus Westerlund, and Adam Li for
   their careful review and comments that significantly improved the
   quality of this document.



<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20References"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.1.%20%20Normative%20References"></a><a class="selflink" href="#section-11.1" name="section-11.1">11.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]   Bradner, S., "Key words for use in RFCs to Indicate Requirement
         Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-2" name="ref-2">2</a>]   "Enhanced Variable Rate Codec, Speech Service Option 3 for
         Wideband Spread Spectrum Digital Systems", 3GPP2 C.S0014,
         January 1997.

   [<a id="ref-3" name="ref-3">3</a>]   "Enhanced Variable Rate Codec, Speech Service Option 3 and 68
         for Wideband Spread Spectrum Digital Systems", 3GPP2 C.S0014-B
         v1.0, May 2006.

   [<a id="ref-4" name="ref-4">4</a>]   Li, A., "RTP Payload Format for Enhanced Variable Rate Codecs
         (EVRC) and Selectable Mode Vocoders (SMV)", <a href="rfc3558.html">RFC 3558</a>,
         July 2003.

   [<a id="ref-5" name="ref-5">5</a>]   Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson,
         "RTP: A Transport Protocol for Real-Time Applications",
         <a href="rfc3550.html">RFC 3550</a>, July 2003.

   [<a id="ref-6" name="ref-6">6</a>]   Rosenberg, J. and H. Schulzrinne, "An Offer/Answer Model with
         the Session Description Protocol (SDP)", <a href="rfc3264.html">RFC 3264</a>, June 2002.

   [<a id="ref-7" name="ref-7">7</a>]   Handley, M., Jacobson, V., and C. Perkins, "SDP: Session
         Description Protocol", <a href="rfc4566.html">RFC 4566</a>, July 2006.

   [<a id="ref-8" name="ref-8">8</a>]   "Discontinuous Transmission (DTX) of Speech in cdma2000
         Systems", 3GPP2 C.S0076-0, Version 1.0, December 2005.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.2.%20%20Informative%20References"></a><a class="selflink" href="#section-11.2" name="section-11.2">11.2</a>.  Informative References</span>

   [<a id="ref-9" name="ref-9">9</a>]   Schulzrinne, H. and S. Casner, "RTP Profile for Audio and Video
         Conferences with Minimal Control", <a href="rfc3551.html">RFC 3551</a>, July 2003.

   [<a id="ref-10" name="ref-10">10</a>]  Casner, S., <a href="https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Media+Type+Registration+of+RTP+Payload+Formats%22" style="text-decoration: none">"Media Type Registration of RTP Payload Formats"</a>,
         Work in Progress, March 2006.












<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


Authors' Addresses

   Qiaobing Xie
   Motorola, Inc.
   1501 W. Shure Drive, 2-F9
   Arlington Heights, IL  60004
   US

   Phone: +1-847-632-3028
   EMail: Qiaobing.Xie@Motorola.com


   Rohit Kapoor
   Qualcomm Inc.
   US

   Phone: +1-858-845-1161
   EMail: rkapoor@qualcomm.com

































<span class="grey">Xie &amp; Kapoor                Standards Track                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc4788.html">RFC 4788</a>              EVRC RTP Format Enhancements          January 2007</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST,
   AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
   THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
   IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
   PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.






Xie &amp; Kapoor                Standards Track                    [Page 22]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc4788 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:39 GMT --></html>