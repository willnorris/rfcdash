<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc3482 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:47 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-foster-e164-gstn-np" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:3482" name="DC.Identifier"/>
<meta content="February, 2003" name="DC.Date.Issued"/>
<meta content="Yu, James" name="DC.Creator"/>
<meta content="McGarry, Tom" name="DC.Creator"/>
<meta content="This document provides an overview of E.164 telephone number
portability (NP) in the Global Switched Telephone Network (GSTN). NP
is a regulatory imperative seeking to liberalize local telephony
service competition, by enabling end-users to retain telephone numbers
while changing service providers. NP changes the fundamental nature of
a dialed E.164 number from a hierarchical physical routing address to
a virtual address, thereby requiring the transparent translation of
the later to the former. In addition, there are various regulatory
constraints that establish relevant parameters for NP implementation,
most of which are not network technology specific. Consequently, the
implementation of NP behavior consistent with applicable regulatory
constraints, as well as the need for interoperation with the existing
GSTN NP implementations, are relevant topics for numerous areas of IP
telephony works-in-progress with the IETF. This memo provides
information for the Internet community." name="DC.Description.Abstract"/>
<meta content="Number Portability in the Global Switched Telephone Network (GSTN): An Overview" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3482 - Number Portability in the Global Switched Telephone Network (GSTN): An Overview</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3482.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3482" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-enum-e164-gstn-np" title="draft-ietf-enum-e164-gstn-np">draft-ietf-enum...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3482" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3482" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3482" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=3482&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                          M. Foster
Request for Comments: 3482                                    T. McGarry
Category: Informational                                            J. Yu
                                                           NeuStar, Inc.
                                                           February 2003


  <span class="h1">Number Portability in the Global Switched Telephone Network (GSTN):</span>
                              <span class="h1">An Overview</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document provides an overview of E.164 telephone number
   portability (NP) in the Global Switched Telephone Network (GSTN).
   NP is a regulatory imperative seeking to liberalize local telephony
   service competition, by enabling end-users to retain telephone
   numbers while changing service providers.  NP changes the fundamental
   nature of a dialed E.164 number from a hierarchical physical routing
   address to a virtual address, thereby requiring the transparent
   translation of the later to the former.  In addition, there are
   various regulatory constraints that establish relevant parameters for
   NP implementation, most of which are not network technology specific.
   Consequently, the implementation of NP behavior consistent with
   applicable regulatory constraints, as well as the need for
   interoperation with the existing GSTN NP implementations, are
   relevant topics for numerous areas of IP telephony works-in-progress
   with the IETF.














<span class="grey">Foster, et al.               Informational                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction .................................................  <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Abbreviations and Acronyms ...................................  <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  Types of Number Portability ..................................  <a href="#page-6">6</a>
   <a href="#section-4">4</a>.  Service Provider Number Portability Schemes ..................  <a href="#page-7">7</a>
       <a href="#section-4.1">4.1</a>   All Call Query (ACQ) ...................................  <a href="#page-8">8</a>
       <a href="#section-4.2">4.2</a>   Query on Release (QoR) .................................  <a href="#page-9">9</a>
       <a href="#section-4.3">4.3</a>   Call Dropback .......................................... <a href="#page-10">10</a>
       <a href="#section-4.4">4.4</a>   Onward Routing (OR) .................................... <a href="#page-11">11</a>
       <a href="#section-4.5">4.5</a>   Comparisons of the Four Schemes ........................ <a href="#page-11">11</a>
   <a href="#section-5">5</a>.  Database Queries in the NP Environment ....................... <a href="#page-13">13</a>
       <a href="#section-5.1">5.1</a>   U.S. and Canada ........................................ <a href="#page-13">13</a>
       <a href="#section-5.2">5.2</a>   Europe ................................................. <a href="#page-14">14</a>
   <a href="#section-6">6</a>.  Call Routing in the NP Environment ........................... <a href="#page-15">15</a>
       <a href="#section-6.1">6.1</a>   U.S. and Canada ........................................ <a href="#page-16">16</a>
       <a href="#section-6.2">6.2</a>   Europe ................................................. <a href="#page-17">17</a>
   <a href="#section-7">7</a>.  NP Implementations for Geographic E.164 Numbers .............. <a href="#page-19">19</a>
   <a href="#section-8">8</a>.  Number Conservation Method Enabled By NP ..................... <a href="#page-22">22</a>
       <a href="#section-8.1">8.1</a>   Block Pooling .......................................... <a href="#page-22">22</a>
       <a href="#section-8.2">8.2</a>   ITN Pooling ............................................ <a href="#page-23">23</a>
   <a href="#section-9">9</a>.  Potential Implications ....................................... <a href="#page-23">23</a>
   <a href="#section-10">10</a>. Security Considerations ...................................... <a href="#page-27">27</a>
   <a href="#section-11">11</a>. IANA Considerations .......................................... <a href="#page-27">27</a>
   <a href="#section-12">12</a>. Normative References ......................................... <a href="#page-27">27</a>
   <a href="#section-13">13</a>. Informative References ....................................... <a href="#page-28">28</a>
   <a href="#section-14">14</a>. Acknowledgement .............................................. <a href="#page-29">29</a>
   <a href="#section-15">15</a>. Authors' Addresses ........................................... <a href="#page-29">29</a>
   <a href="#section-16">16</a>. Full Copyright Statement ..................................... <a href="#page-30">30</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Introduction</span>

   This document provides an overview of E.164 telephone number [<a href="#ref-E164" title='"The International Public Telecommunications Numbering Plan,"'>E164</a>]
   portability in the Global Switched Telephone Network (GSTN).  There
   are considered to be three types of number portability (NP): service
   provider number portability (SPNP), location portability (not to be
   confused with terminal mobility), and service portability.

   SPNP, the focus of the present document, is a regulatory imperative
   in many countries seeking to liberalize telephony service
   competition, especially local service.  Historically, local telephony
   service (as compared to long distance or international service) has
   been regulated as a utility-like form of service.  While a number of
   countries had begun liberalization (e.g., privatization, de-
   regulation, or re-regulation) some years ago, the advent of NP is
   relatively recent (since ~1995).





<span class="grey">Foster, et al.               Informational                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   E.164 numbers can be non-geographic and geographic numbers.  Non-
   geographic numbers do not reveal the location information of those
   numbers.  Geographic E.164 numbers were intentionally designed as
   hierarchical routing addresses which could systematically be digit-
   analyzed to ascertain the country, serving network provider, serving
   end-office switch, and specific line of the called party.  As such,
   without NP a subscriber wishing to change service providers would
   incur a number change as a consequence of being served off of a
   different end-office switch operated by the new service provider.
   The impact in cost and convenience to the subscriber of changing
   numbers is seen as a barrier to competition.  Hence NP has become
   associated with GSTN infrastructure enhancements associated with a
   competitive environment driven by regulatory directives.

   Forms of SPNP have been deployed or are being deployed widely in the
   GSTN in various parts of the world, including the U.S., Canada,
   Western Europe, Australia, and the Pacific Rim (e.g., Hong Kong).
   Other regions, such as South America (e.g., Brazil), are actively
   considering it.

   Implementation of NP within a national telephony infrastructure
   entails potentially significant changes to numbering administration,
   network element signaling, call routing and processing, billing,
   service management, and other functions.

   NP changes the fundamental nature of a dialed E.164 number from a
   hierarchical physical routing address to a virtual address.  NP
   implementations attempt to encapsulate the impact to the GSTN and
   make NP transparent to subscribers by incorporating a translation
   function to map a dialed, potentially ported E.164 address, into a
   network routing address (either a number prefix or another E.164
   address) which can be hierarchically routed.

   This is roughly analogous to the use of network address translation
   on IP is that enables IP address portability by containing the
   address change to the edge of the network and retain the use of
   Classless Inter-Domain Routing (CIDR) blocks in the core which can be
   route aggregated by the network service provider to the rest of the
   internet.

   NP bifurcates the historical role of a subscriber's E.164 address
   into two or more data elements (a dialed or virtual address, and a
   network routing address) that must be made available to network
   elements through an NP translation database, carried by forward call
   signaling, and recorded on call detail records.  Not only is call
   processing and routing affected, but also Signaling System Number 7
   (SS7)/Common Channel Signaling System Number 7 (C7) messaging.  A
   number of Transaction Capabilities Application Part (TCAP)-based SS7



<span class="grey">Foster, et al.               Informational                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   messaging sets utilize an E.164 address as an application-level
   network element address in the global title address (GTA) field of
   the Signaling Connection Control Part (SCCP) message header.
   Consequently, SS7/C7 signaling transfer points (STPs) and gateways
   need to be able to perform n-digit global title translation (GTT) to
   translate a dialed E.164 address into its network address counterpart
   via the NP database.

   In addition, there are various national regulatory constraints that
   establish relevant parameters for NP implementation, most of which
   are not network technology specific.  Consequently, implementations
   of NP behavior in IP telephony, consistent with applicable regulatory
   constraints, as well as the need for interoperation with the existing
   GSTN NP implementations, are relevant topics for numerous areas of IP
   telephony works-in-progress with the IETF.

   This document describes three types of number portability and the
   four schemes that have been standardized to support SPNP for
   geographic E.164 numbers specifically.  Following that, specific
   information regarding the call routing and database query
   implementations are described for several regions (North American and
   Europe) and industries (wireless vs. wireline).  The Number
   Portability Database (NPDB) interfaces and the call routing schemes
   that are used in North America and Europe are described to show the
   variety of standards that may be implemented worldwide.  A glance at
   the NP implementations worldwide is provided.  Number pooling is
   briefly discussed to show how NP is being enhanced in the U.S. to
   conserve North American area codes.  The conclusion briefly touches
   the potential impacts of NP on IP and Telecommunications
   Interoperability.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Abbreviations%20and%20Acronyms"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Abbreviations and Acronyms</span>

   ACQ     All Call Query
   AIN     Advanced Intelligent Network
   AMPS    Advanced Mobile Phone System
   ANSI    American National Standards Institute
   API     Application Programming Interface
   C7      Common Channel Signaling System Number 7
   CDMA    Code Division Multiple Access
   CdPA    Called Party Address
   CdPN    Called Party Number
   CH      Code Holder
   CIC     Carrier Identification Code
   CIDR    Classless Inter-Domain Routing
   CMIP    Common Management Information Protocol
   CO      Central Office
   CS1     Capability Set 1



<span class="grey">Foster, et al.               Informational                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   CS2     Capability Set 2
   DN      Directory Number
   DNS     Domain Name System
   ENUM    Telephone Number Mapping
   ETSI    European Tecommunications Standards Institute
   FCI     Forward Call Indicator
   GAP     Generic Address Parameter
   GMSC    Gateway Mobile Services Switching Center or Gateway Mobile
           Switching Center
   GNP     Geographic Number Portability
   GSM     Global System for Mobile Communications
   GSTN    Global Switched Telephone Network
   GTT     Global Title Translation
   GW      Gateways
   HLR     Home Location Register
   IAM     Initial Address Message
   IETF    Internet Engineering Task Force
   ILNP    Interim LNP
   IN      Intelligent Network
   INAP    Intelligent Network Application Part
   INP     Interim NP
   IP      Internet Protocol
   IS-41   Interim Standards Number 41
   ISDN    Integrated Services Digital Network
   ISUP    ISDN User Part
   ITN     Individual Telephony Number
   ITU     International Telecommunication Union
   ITU-TS  ITU-Telecommunication Sector
   LDAP    Lightweight Directory Access Protocol
   LEC     Local Exchange Carrier
   LERG    Local Exchange Routing Guide
   LNP     Local Number Portability
   LRN     Location Routing Number
   MAP     Mobile Application Part
   MNP     Mobile Number Portability
   MSRN    Mobile Station Roaming Number
   MTP     Message Transfer Part
   NANP    North American Numbering Plan
   NGNP    Non-Geographic Number Portability
   NOA     Nature of Address
   NP      Number Portability
   NPA     Numbering Plan Area
   NPDB    Number Portability Database
   NRN     Network Routing Number
   OR      Onward Routing
   OSS     Operation Support System
   PCS     Personal Communication Services
   PNTI    Ported Number Translation Indicator



<span class="grey">Foster, et al.               Informational                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   PODP    Public Office Dialing Plan
   PUC     Public Utility Commission
   QoR     Query on Release
   RN      Routing Number
   RTP     Return to Pivot
   SCCP    Signaling Connection Control Part
   SCP     Service Control Point
   SIP     Session Initiation Protocol
   SMR     Special Mobile Radio
   SPNP    Service Provider Number Portability
   SRF     Signaling Relaying Function
   SRI     Send Routing Information
   SS7     Signaling System Number 7
   STP     Signaling Transfer Point
   TCAP    Transaction Capabilities Application Part
   TDMA    Time Division Multiple Access
   TN      Telephone Number
   TRIP    Telephony Routing Information Protocol
   URL     Universal Resource Locator
   U.S.    United States

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20Types%20of%20Number%20Portability"></a><a class="selflink" href="#section-3" name="section-3">3</a>. Types of Number Portability</span>

   As there are several types of E.164 numbers (telephone numbers, or
   just TN) in the GSTN, there are correspondingly several types of
   E.164 NP in the GSTN.  First there are so-called non-geographic E.164
   numbers, commonly used for service-specific applications such as
   freephone (800 or 0800).  Portability of these numbers is called
   non-geographic number portability (NGNP).  NGNP, for example, was
   deployed in the U.S. in 1986-92.

   Geographic number portability (GNP), which includes traditional fixed
   or wireline numbers, as well as mobile numbers which are allocated
   out of geographic number range prefixes, is called NP or GNP, or in
   the U.S. local number portability (LNP).

   Number portability allows the telephony subscribers in the GSTN to
   keep their phone numbers when they change their service providers or
   subscribed services, or when they move to a new location.

   The ability to change the service provider while keeping the same
   phone number is called service provider portability (SPNP), also
   known as "operator portability."

   The ability to change the subscriber's fixed service location while
   keeping the same phone number is called location portability.

   The ability to change the subscribed services (e.g., from the plain



<span class="grey">Foster, et al.               Informational                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   old telephone service to Integrated Services Digital Network (ISDN)
   services) while keeping the same phone number is called service
   portability.  Another aspect of service portability is to allow the
   subscribers to enjoy the subscribed services in the same way when
   they roam outside their home networks, as is supported by the
   cellular/wireless networks.

   In addition, mobile number portability (MNP) refers to specific NP
   implementation in mobile networks, either as part of a broader NP
   implementation in the GSTN or on a stand-alone basis.  Where
   interoperation of LNP and MNP is supported, service portability
   between fixed and mobile service types is possible.

   At present, SPNP has been the primary form of NP deployed due to its
   relevance in enabling local service competition.

   Also in use in the GSTN are the terms interim NP (INP) or Interim LNP
   (ILNP) and true NP.  Interim NP usually refers to the use of remote
   call forwarding-like measures to forward calls to ported numbers
   through the donor network to the new service network.  These are
   considered interim relative to true NP, which seeks to remove the
   donor network or old service provider from the call or signaling path
   altogether.  Often the distinction between interim and true NP is a
   national regulatory matter relative to the technical/operational
   requirements imposed on NP in that country.

   Implementations of true NP in certain countries (e.g., U.S., Canada,
   Spain, Belgium, Denmark) may pose specific requirements for IP
   telephony implementations as a result of regulatory and industry
   requirements for providing call routing and signaling independent of
   the donor network or last previous serving network.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20Service%20Provider%20Number%20Portability%20Schemes"></a><a class="selflink" href="#section-4" name="section-4">4</a>. Service Provider Number Portability Schemes</span>

   Four schemes can be used to support service provider portability and
   are briefly described below.  But first, some further terms are
   introduced.

   The donor network is the network that first assigned a telephone
   number (e.g., TN +1-202-533-1234) to a subscriber, out of a number
   range administratively (e.g., +1 202-533) assigned to it.  The
   current service provider (new SP), or new serving network, is the
   network that currently serves the ported number.  The old serving
   network (or old SP) is the network that previously served the ported
   number before the number was ported to the new serving network.
   Since a TN can port a number of times, the old SP is not necessarily
   the same as the donor network, except for the first time the TN ports
   away, or when the TN ports back into the donor network and away



<span class="grey">Foster, et al.               Informational                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   again.  While the new SP and old SP roles are transitory as a TN
   ports around, the donor network is always the same for any particular
   TN based on the service provider to whom the subtending number range
   was administratively assigned.  See the discussion below on number
   pooling, as this enhancement of NP further bifurcates the role of the
   donor network into two (the number range or code holder network, and
   the block holder network).

   To simplify the illustration, all the transit networks are ignored.
   The originating or donor network is the one that performs the
   database queries or call redirection, and the dialed directory number
   (TN) has previously been ported out of the donor network.

   It is assumed that the old serving network, the new serving network,
   and the donor network are different networks so as to show which
   networks are involved in call handling and routing and database
   queries in each of the four schemes.  Please note that the port of
   the number (process of moving it from one network to another)
   happened prior to the call setup and is not included in the call
   steps.  Information carried in the signaling messages to support each
   of the four schemes is not discussed to simplify the explanation.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1%20All%20Call%20Query%20%28ACQ%29"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a> All Call Query (ACQ)</span>

   Figure 1 shows the call steps for the ACQ scheme.  Those call steps
   are as follows:

   1) The Originating Network receives a call from the caller and sends
      a query to a centrally administered Number Portability Database
      (NPDB), a copy of which is usually resident on a network element
      within its network or through a third party provider.

   2) The NPDB returns the routing number associated with the dialed
      directory number.  The routing number is discussed later in
      <a href="#section-6">Section 6</a>.

   3) The Originating Network uses the routing number to route the call
      to the new serving network.













<span class="grey">Foster, et al.               Informational                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   +-------------+              +-----------+    Number   +-----------+
   | Centralized |              | New Serv. |    ported   | Old Serv. |
   |    NPDB     |    +--------&gt;|  Network  |&lt;------------|  Network  |
   +-------------+    |         +-----------+             +-----------+
       ^  |           |
       |  |           |
      1|  |         3.|
       |  | 2.        |
       |  |           |
       |  v           |
    +----------+      |         +----------+           +----------+
    |   Orig.  |------+         |   Donor  |           | Internal |
    |  Network |                |  Network |           |   NPDB   |
    +----------+                +----------+           +----------+

                 Figure 1 - All Call Query (ACQ) Scheme.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2%20Query%20on%20Release%20%28QoR%29"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a> Query on Release (QoR)</span>

   Figure 2 shows the call steps for the QoR scheme.  Those call steps
   are as follows:

   +-------------+              +-----------+    Number   +-----------+
   | Centralized |              | New Serv. |    ported   | Old Serv. |
   |    NPDB     |              |  Network  |&lt;------------|  Network  |
   +-------------+              +-----------+             +-----------+
       ^  |                          ^
       |  | 4.                       |
     3.|  |              5.          |
       |  |   +----------------------+
       |  |   |
       |  v   |
    +----------+      2.        +----------+           +----------+
    |   Orig.  |&lt;---------------|   Donor  |           | Internal |
    |  Network |---------------&gt;|  Network |           |   NPDB   |
    +----------+      1.        +----------+           +----------+

                Figure 2 - Query on Release (QoR) Scheme.

   1) The Originating Network receives a call from the caller and routes
      the call to the donor network.

   2) The donor network releases the call and indicates that the dialed
      directory number has been ported out of that switch.

   3) The Originating Network sends a query to its copy of the centrally
      administered NPDB.




<span class="grey">Foster, et al.               Informational                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   4) The NPDB returns the routing number associated with the dialed
      directory number.

   5) The Originating Network uses the routing number to route the call
      to the new serving network.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3%20Call%20Dropback"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a> Call Dropback</span>

   Figure 3 shows the call steps for the Dropback scheme.  This scheme
   is also known as "Return to Pivot (RTP)."  Those call steps are as
   follows:

   1) The Originating Network receives a call from the caller and routes
      the call to the donor network.

   2) The donor network detects that the dialed directory number has
      been ported out of the donor switch and checks with an internal
      network-specific NPDB.

   3) The internal NPDB returns the routing number associated with the
      dialed directory number.

   4) The donor network releases the call by providing the routing
      number.

   5) The Originating Network uses the routing number to route the call
      to the new serving network.

   +-------------+              +-----------+    Number   +-----------+
   | Centralized |              | New Serv. |    porting  | Old Serv. |
   |    NPDB     |              |  Network  |&lt;------------|  Network  |
   +-------------+              +-----------+             +-----------+
                                    /\
                                     |
                           5.        |
            +------------------------+
            |
            |
    +----------+       4.       +----------+     3.    +----------+
    |   Orig.  |&lt;---------------|   Donor  |&lt;----------| Internal |
    |  Network |---------------&gt;|  Network |----------&gt;|   NPDB   |
    +----------+      1.        +----------+    2.     +----------+

                       Figure 3 - Dropback Scheme.







<span class="grey">Foster, et al.               Informational                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4%20Onward%20Routing%20%28OR%29"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a> Onward Routing (OR)</span>

   Figure 4 shows the call steps for the OR scheme.  Those call steps
   are as follows:

   1) The Originating Network receives a call from the caller and routes
      the call to the donor network.

   2) The donor network detects that the dialed directory number has
      been ported out of the donor switch and checks with an internal
      network-specific NPDB.

   3) The internal NPDB returns the routing number associated with the
      dialed directory number.

   4) The donor network uses the routing number to route the call to the
      new serving network.

   +-------------+              +-----------+    Number   +-----------+
   | Centralized |              | New Serv. |    porting  | Old Serv. |
   |    NPDB     |              |  Network  |&lt;------------|  Network  |
   +-------------+              +-----------+             +-----------+
                                    /\
                                     |
                                   4.|
                                     |
    +----------+                +----------+     3.    +----------+
    |   Orig.  |                |   Donor  |&lt;----------| Internal |
    |  Network |---------------&gt;|  Network |----------&gt;|   NPDB   |
    +----------+      1.        +----------+    2.     +----------+

                  Figure 4 - Onward Routing (OR) Scheme.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5%20Comparisons%20of%20the%20Four%20Schemes"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a> Comparisons of the Four Schemes</span>

   Only the ACQ scheme does not involve the donor network when routing
   the call to the new serving network of the dialed ported number.  The
   other three schemes involve call setup to or signaling with the donor
   network.

   Only the OR scheme requires the setup of two physical call segments,
   one from the Originating Network to the donor network and the other
   from the donor network to the new serving network.  The OR scheme is
   the least efficient in terms of using the network transmission
   facilities.  The QoR and Dropback schemes set up calls to the donor
   network first but release the call back to the Originating Network
   that then initiates a new call to the Current Serving Network.  For
   the QoR and Dropback schemes, circuits are still reserved one by one



<span class="grey">Foster, et al.               Informational                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   between the Originating Network and the donor network when the
   Originating Network sets up the call towards the donor network.
   Those circuits are released one by one when the call is released from
   the donor network back to the Originating Network.  The ACQ scheme is
   the most efficient in terms of using the switching and transmission
   facilities for the call.

   Both the ACQ and QoR schemes involve Centralized NPDBs for the
   Originating Network to retrieve the routing information.  Centralized
   NPDB means that the NPDB contains ported number information from
   multiple networks.  This is in contrast to the internal network-
   specific NPDB that is used for the Dropback and OR schemes.  The
   internal NPDB only contains information about the numbers that were
   ported out of the donor network.  The internal NPDB can be a stand-
   alone database that contains information about all or some ported-out
   numbers from the donor network.  It can also reside on the donor
   switch and only contain information about those numbers ported out of
   the donor switch.  In that case, no query to a stand-alone internal
   NPDB is required.  The donor switch for a particular phone number is
   the switch to which the number range is assigned from which that
   phone number was originally assigned.

   For example, number ranges in the North American Numbering Plan
   (NANP) are usually assigned in the form of central office codes (CO
   codes) comprising a six-digit prefix formatted as a NPA+NXX.  Thus a
   switch serving +1-202-533 would typically serve +1-202-533-0000
   through +1-202-533-9999.  In major cities, switches usually host
   several CO codes.  NPA stands for Numbering Plan Area, which is also
   known as the area code.  It is three-digits long and has the format
   of NXX where N is any digit from 2 to 9 and X is any digit from 0 to
   9.  NXX, in the NPA+NXX format, is known as the office code that has
   the same format as the NPA.  When a NPA+NXX code is set as "portable"
   in the Local Exchange Routing Guide (LERG), it becomes a "portable
   NPA+NXX" code.

   Similarly, in other national E.164 numbering plans, number ranges
   cover a contiguous range of numbers within that range.  Once a number
   within that range has ported away from the donor network, all numbers
   in that range are considered potentially ported and should be queried
   in the NPDB.

   The ACQ scheme has two versions.  One version is for the Originating
   Network to always query the NPDB when a call is received from the
   caller regardless of whether the dialed directory number belongs to
   any number range that is portable or has at least one number ported
   out.  The other version is to check whether the dialed directory
   number belongs to any number range that is portable or has at least
   one number ported out.  If yes, an NPDB query is sent.  If not, no



<span class="grey">Foster, et al.               Informational                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   NPDB query is sent.  The former performs better when there are many
   portable number ranges.  The latter performs better when there are
   not too many portable number ranges at the expense of checking every
   call to see whether NPDB query is needed.  The latter ACQ scheme is
   similar to the QoR scheme, except that the QoR scheme uses call setup
   and relies on the donor network to indicate "number ported out"
   before launching the NPDB query.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20Database%20Queries%20in%20the%20NP%20Environment"></a><a class="selflink" href="#section-5" name="section-5">5</a>. Database Queries in the NP Environment</span>

   As indicated earlier, the ACQ and QoR schemes require that a switch
   query the NPDB for routing information.  Various standards have been
   defined for the switch-to-NPDB interface.  Those interfaces with
   their protocol stacks are briefly described below.  The term "NPDB"
   is used for a stand-alone database that may support just one or some
   or all of the interfaces mentioned below.  The NPDB query contains
   the dialed directory number and the NPDB response contains the
   routing number.  There is certainly other information that is sent in
   the query and response.  The primary interest is to get the routing
   number from the NPDB to the switch for call routing.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1%20U.S.%20and%20Canada"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a> U.S. and Canada</span>

   One of the following five NPDB interfaces can be used to query an
   NPDB:

   a) Advanced Intelligent Network (AIN) using the American National
      Standards Institute (ANSI) version of the Intelligent Network
      Application Part (INAP) [ANSI SS] [ANSI DB].  The INAP is carried
      on top of the protocol stack that includes the (ANSI) Message
      Transfer Part (MTP) Levels 1 through 3, ANSI SCCP and ANSI TCAP.
      This interface can be used by the wireline or wireless switches,
      is specific to the NP implementation in North America, and is
      modeled on the Public Office Dialing Plan (PODP) trigger defined
      in the Advanced Intelligent Network (AIN) 0.1 call model.

   b) Intelligent Network (IN), which is similar to the one used for
      querying the 800 databases.  The IN protocol is carried on top of
      the protocol stack that includes the ANSI MTP Levels 1 through 3,
      ANSI SCCP, and ANSI TCAP.  This interface can be used by the
      wireline or wireless switches.

   c) ANSI IS-41 [<a href="#ref-IS41" title='"TIA/EIA-41-D Enhancements for Wireless Number Portability Phase II (December 1998), "'>IS41</a>] [ISNP], which is carried on top of the protocol
      stack that includes the ANSI MTP Levels 1 through 3, ANSI SCCP,
      and ANSI TCAP.  This interface can be used by the IS-41 based
      cellular/Personal Communication Services (PCS) wireless switches
      (e.g., AMPS, TDMA and CDMA).  Cellular systems use spectrum at 800
      MHz range and PCS systems use spectrum at 1900 MHz range.



<span class="grey">Foster, et al.               Informational                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   d) Global System for Mobile Communication Mobile Application Part
      (GSM MAP) [<a href="#ref-GSM" title='"Digital cellular telecommunications system (Phase 2+); Mobile Application Part (MAP) specification"'>GSM</a>], which is carried on top of the protocol stack
      that includes the ANSI MTP Levels 1 through 3, ANSI SCCP, and
      International Telecommunication Union - Telecommunication Sector
      (ITU-TS) TCAP.  It can be used by the PCS1900 wireless switches
      that are based on the GSM technologies.  GSM is a series of
      wireless standards defined by the European Telecommunications
      Standards Institute (ETSI).

   e) ISUP triggerless translation.  NP translations are performed
      transparently to the switching network by the signaling network
      (e.g., Signaling Transfer Points (STPs) or signaling gateways).
      ISUP IAM messages are examined to determine if the CdPN field has
      already been translated, and if not, an NPDB query is performed,
      and the appropriate parameters in the IAM message modified to
      reflect the results of the translation.  The modified IAM message
      is forwarded by the signaling node on to the designated DPC in a
      transparent manner to continue call setup.  The NPDB can be
      integrated with the signaling node or, accessed via an Application
      Programming Interface (API) locally, or by a query to a remote
      NPDB using  a proprietary protocol or the schemes described above.

   Wireline switches have the choice of using either (a), (b), or (e).
   IS-41 based wireless switches have the choice of using (a), (b), (c),
   or (e).  PCS1900 wireless switches have the choice of using (a), (b),
   (d), or (e).  In the United States, service provider portability will
   be supported by both the wireline and wireless systems, not only
   within the wireline or wireless domain but also across the
   wireline/wireless boundary.  However, this is not true in Europe
   where service provider portability is usually supported only within
   the wireline or wireless domain, not across the wireline/wireless
   boundary due to explicit use of service-specific number range
   prefixes.  The reason is to avoid caller confusion about the call
   charge.  GSM systems in Europe are assigned distinctive destination
   network codes, and the caller pays a higher charge when calling a GSM
   directory number.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2%20Europe"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a> Europe</span>

   One of the following two interfaces can be used to query an NPDB:

   a) Capability Set 1 (CS1) of the ITU-TS INAP [<a href="#ref-CS1" title='"Number portability Capability set 1 requirements for service provider portability (All call query and onward routing),"'>CS1</a>], which is carried
      on top of the protocol stack that includes the ITU-TS MTP Levels 1
      through 3, ITU-TS SCCP, and ITU-TS TCAP.

   b) Capability Set 2 (CS2) of the ITU-TS INAP [<a href="#ref-CS2" title='"Number portability -Capability set 2 requirements for service provider portability (Query on release and Dropback),"'>CS2</a>], which is carried
      on top of the protocol stack that includes the ITU-TS MTP Levels 1
      through 3, ITU-TS SCCP, and ITU-TS TCAP.



<span class="grey">Foster, et al.               Informational                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   Wireline switches have the choice of using either (a) or (b);
   however, all the implementations in Europe so far are based on CS1.
   As indicated earlier that number portability in Europe does not go
   across the wireline/wireless boundary.  The wireless switches can
   also use (a) or (b) to query the NPDBs if those NPDBs contains ported
   wireless directory numbers.  The term "Mobile Number Portability
   (MNP)" is used for the support of service provider portability by the
   GSM networks in Europe.

   In most, if not all, cases in Europe, the calls to the wireless
   directory numbers are routed to the wireless donor network first.
   Over there, an internal NPDB is queried to determine whether the
   dialed wireless directory number has been ported out or not.  In this
   case, the interface to the internal NPDB is not subject to
   standardization.

   MNP in Europe can also be supported via the MNP Signaling Relay
   Function (MNP-SRF).  Again, an internal NPDB or a database integrated
   at the MNP-SRF is used to modify the SCCP Called Party Address
   parameter in the GSM MAP messages so that they can be re-directed to
   the wireless serving network.  Call routing involving MNP will be
   explained in <a href="#section-6.2">Section 6.2</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20Call%20Routing%20in%20the%20NP%20Environment"></a><a class="selflink" href="#section-6" name="section-6">6</a>. Call Routing in the NP Environment</span>

   This section discusses the call routing after the routing information
   has been retrieved either through an NPDB query or an internal
   database lookup at the donor switch, or from the Integrated Services
   Digital Network User Part (ISUP) signaling message (e.g., for the
   Dropback scheme).  For the ACQ, QoR and Dropback schemes, it is the
   Originating Network that has the routing information and is ready to
   route the call.  For the OR scheme, it is the donor network that has
   the routing information and is ready to route the call.

   A number of triggering schemes may be employed that determine where
   in the call path the NPDB query is performed.  In the U.S. a "N-1"
   policy is used, which essentially says that for local calls, the
   originating local carriers performs the query.  Otherwise, the long
   distance carrier is expected to follow through with the query.  To
   ensure independence of the actual trigger policy employed in any one
   carrier, forward call signaling is used to flag that an NPDB query
   has already been performed and to therefore suppress any subsequent
   NP triggers that may be encountered in downstream switches, in
   downstream networks.  This allows the earliest able network in the
   call path to perform the query without introducing additional costs
   and call setup delays when redundant queries are performed
   downstream.




<span class="grey">Foster, et al.               Informational                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1%20U.S.%20and%20Canada"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a> U.S. and Canada</span>

   In the U.S. and Canada, a ten-digit North American Numbering Plan
   (NANP) number called Location Routing Number (LRN) is assigned to
   every switch involved in NP.  In the NANP, a switch is not reachable
   unless it has a unique number range (CO code) assigned to it.
   Consequently, the LRN for a switch is always assigned out of a CO
   code that is assigned to that switch.

   The LRN assigned to a switch currently serving a particular ported
   telephone number is returned as the network routing address in the
   NPDB response.  The service portability scheme that was adopted in
   the North America is very often referred to as the LRN scheme or
   method.

   LRN serves as a network address for terminating calls served off that
   switch using ported numbers.  The LRN is assigned by the switch
   operator using any of the unique CO codes (NPA+NXX) assigned to that
   switch.  The LRN is considered a non-dialable address, as the same
   10-digit number value may be assigned to a line on that switch.  A
   switch may have more than one LRN.

   During call routing/processing, a switch performs an NPDB query to
   obtain the LRN associated with the dialed directory number.  NPDB
   queries are performed for all the dialed directory numbers whose
   NPA+NXX codes are marked as portable NPA+NXX at that switch.  When
   formulating the ISUP Initial Address Message (IAM) to be sent to the
   next switch, the switch puts the ten-digit LRN in the ISUP Called
   Party Number (CdPN) parameter and the originally dialed directory
   number in the ISUP Generic Address parameter (GAP).  A new code in
   the GAP was defined to indicate that the address information in the
   GAP is the dialed directory number.  A new bit in the ISUP Forward
   Call Indicator (FCI) parameter, the Ported Number Translation
   Indicator (PNTI) bit, is set to imply that NPDB query has already
   been performed.  All the switches in the downstream will not perform
   the NPDB query if the PNTI bit is set.

   When the terminating switch receives the IAM and sees the PNTI bit in
   the FCI parameter set and its own LRN in the CdPN parameter, it
   retrieves the originally dialed directory number from the GAP and
   uses the dialed directory number to terminate the call.

   A dialed directory number with a portable NPA+NXX does not imply that
   a directory number has been ported.  The NPDBs currently do not store
   records for non-ported directory numbers.  In that case, the NPDB
   will return the same dialed directory number instead of the LRN.  The
   switch will then set the PNTI bit, but keep the dialed directory
   number in the CdPN parameter.



<span class="grey">Foster, et al.               Informational                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   In the real world environment, the Originating Network is not always
   the one that performs the NPDB query.  For example, it is usually the
   long distance carriers that query the NPDBs for long distance calls.
   In that case, the Originating Network operated by the local exchange
   carrier (LEC) simply routes the call to the long distance carrier
   that is to handle that call.  A wireless network acting as the
   Originating Network can also route the call to the interconnected
   local exchange carrier network if it does not want to support the
   NPDB interface at its mobile switches.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2%20Europe"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a> Europe</span>

   In some European countries, a routing number is prefixed to the
   dialed directory number.  The ISUP CdPN parameter in the IAM will
   contain the routing prefix and the dialed directory number.  For
   example, United Kingdom uses routing prefixes with the format of
   5XXXXX and Italy uses C600XXXXX as the routing prefix.  The networks
   use the information in the ISUP CdPN parameter to route the call to
   the New/Current Serving Network.

   The routing prefix can identify the Current Serving Network or the
   Current Serving Switch of a ported number.  For the former case,
   another query to the "internal" NPDB at the Current Serving Network
   is required to identify the Current Serving Switch before routing the
   call to that switch.  This shields the Current Serving Switch
   information for a ported number from the other networks at the
   expense of an additional NPDB query.  Another routing number, that be
   meaningful within the Current Serving Network, will replace the
   previously prefixed routing number in the ISUP CdPN parameter.  For
   the latter case, the call is routed to the Current Serving Switch
   without an additional NPDB query.

   When the terminating switch receives the IAM and sees its own routing
   prefix in the CdPN parameter, it retrieves the originally dialed
   directory number after the routing prefix, and uses the dialed
   directory number to terminate the call.

   The call routing example described above shows one of the three
   methods that can be used to transport the Directory Number (DN) and
   the Routing Number (RN) in the ISUP IAM message.  In addition, some
   other information may be added/modified as is listed in the ETSI 302
   097 document [<a href="#ref-ETSIISUP" title="Integrated Services Digital Network (ISDN); Signalling System No.7 (SS7); ISDN User Part (ISUP); Enhancement for support of Number Portability (NP) [ITU-T Recommendation Q.769.1 (2000)">ETSIISUP</a>], which is based on the ITU-T Recommendation
   Q.769.1 [<a href="#ref-ITUISUP" title='"Signaling System No. 7 - ISDN User Part Enhancements for the Support of Number Portability,"'>ITUISUP</a>].  The three methods and the enhancements in ISUP to
   support number portability are briefly described below:

   a) Two separate parameters with the CdPN parameter containing the RN
      and a new Called Directory Number (CdDN) parameter containing the
      DN.  A new value for the Nature of Address (NOA) indicator in the



<span class="grey">Foster, et al.               Informational                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


      CdPN parameter is defined to indicate that the RN is in the CdPN
      parameter.  The switches use the CdPN parameter to route the call
      as is done today.

   b) Two separate parameters with the CdPN parameter containing the DN
      and a new Network Routing Number (NRN) parameter containing the
      RN.  This method requires that the switches use the NRN parameter
      to route the call.

   c) Concatenated parameter with the CdPN parameter containing the RN
      plus the DN.  A new Nature of Address (NOA) indicator in the CdPN
      parameter is defined to indicate that the RN is concatenated with
      the DN in the CdPN parameter.  Some countries may not use new NOA
      value because the routing prefix does not overlap with the dialed
      directory numbers.  But if the routing prefix overlaps with the
      dialed directory numbers, a new NOA value must be assigned.  For
      example, Spain uses "XXXXXX" as the routing prefix to identify the
      new serving network and uses a new NOA value of 126.

   There is also a network option to add a new ISUP parameter called
   Number Portability Forwarding Information parameter.  This parameter
   has a four-bit Number Portability Status Indicator field that can
   provide an indication whether number portability query is done for
   the called directory number and whether the called directory number
   is ported or not if the number portability query is done.

   Please note that all of the NP enhancements for a ported number can
   only be used in the country that defined them.  This is because
   number portability is supported within a nation.  Within each nation,
   the telecommunications industry or the regulatory bodies can decide
   which method or methods to use.  Number portability related
   parameters and coding are usually not passed across the national
   boundaries unless the interconnection agreements allow it.  For
   example, a UK routing prefix can only be used in the UK, and would
   cause a routing problem if it appears outside the UK.

   As indicated earlier, an originating wireless network can query the
   NPDB and concatenate the RN with DN in the CdPN parameter and route
   the call directly to the Current Serving Network.

   If NPDBs do not contain information about the wireless directory
   numbers, the call, originated from either a wireline or a wireless
   network, will be routed to the Wireless donor network.  Over there,
   an internal NPDB is queried to retrieve the RN that then is
   concatenated with the DN in the CdPN parameter.

   There are several ways of realizing MNP.  If MNP-SRF is supported,
   the Gateway Mobile Services Switching Center (GMSC) at the wireless



<span class="grey">Foster, et al.               Informational                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   donor network can send the GSM MAP Send Routing Information (SRI)
   message to the MNP-SRF when receiving a call from the wireline
   network.  The MNP-SRF interrogates an internal or integrated NPDB for
   the RN of the MNP-SRF of the wireless Current Serving Network and
   prefixes the RN to the dialed wireless directory number in the global
   title address information in the SCCP Called Party Address (CdPA)
   parameter.  This SRI message will be routed to the MNP-SRF of the
   wireless Current Serving Network, which then responds with an
   acknowledgement by providing the RN plus the dialed wireless
   directory number as the Mobile Station Roaming Number (MSRN).  The
   GMSC of the wireless donor network formulates the ISUP IAM with the
   RN plus the dialed wireless directory number in the CdPN parameter
   and routes the call to the wireless Current Serving Network.  A GMSC
   of the wireless Current Serving Network receives the call and sends
   an SRI message to the associated MNP-SRF where the global title
   address information of the SCCP CdPA parameter contains only the
   dialed wireless directory number.  The MNP-SRF then replaces the
   global title address information in the SCCP CdPA parameter with the
   address information associated with a Home Location Register (HLR)
   that hosts the dialed wireless directory number and forwards the
   message to that HLR after verifying that the dialed wireless
   directory number is a ported-in number.  The HLR then returns an
   acknowledgement by providing an MSRN for the GMSC to route the call
   to the MSC that currently serves the mobile station that is
   associated with the dialed wireless directory number.  Please see
   [<a href="#ref-MNP">MNP</a>] for details and additional scenarios.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20NP%20Implementations%20for%20Geographic%20E.164%20Numbers"></a><a class="selflink" href="#section-7" name="section-7">7</a>. NP Implementations for Geographic E.164 Numbers</span>

   This section shows the known SPNP implementations worldwide.

   +-------------+----------------------------------------------------+
   +   Country   +             SPNP Implementation                    +
   +-------------+----------------------------------------------------+
   +  Argentina  + Analyzing operative viability now. Will determine  +
   +             + whether portability should be made obligatory      +
   +             + after a technical solution has been determined.    +
   +-------------+----------------------------------------------------+
   +  Australia  + NP supported by wireline operators since 11/30/99. +
   +             + NP among wireless operators in March/April 2000,   +
   +             + but may be delayed to 1Q01. The access provider    +
   +             + or long distance provider has the obligation to    +
   +             + route the call to the correct destination. The     +
   +             + donor network is obligated to maintain and make    +
   +             + available a register of numbers ported away from   +
   +             + its network.  Telstra uses onward routing via an   +
   +             + on-switch solution.                                +
   +-------------+----------------------------------------------------+



<span class="grey">Foster, et al.               Informational                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   +-------------+----------------------------------------------------+
   +   Country   +             SPNP Implementation                    +
   +-------------+----------------------------------------------------+
   +   Austria   + Uses onward routing at the donor network.  Routing +
   +             + prefix is "86xx" where "xx" identifies the         +
   +             + recipient network.                                 +
   +-------------+----------------------------------------------------+
   +  Belgium    + ACQ selected by the industry. Routing prefix is    +
   +             + "Cxxxx" where "xxxx" identifies the recipient      +
   +             + switch. Another routing prefix is "C00xx" with "xx"+
   +             + identifying the recipient network.  Plan to use NOA+
   +             + to identify concatenated numbers and abandon the   +
   +             + hexadecimal routing prefix.                        +
   +-------------+----------------------------------------------------+
   +  Brazil     + Considering NP for wireless users.                 +
   +-------------+----------------------------------------------------+
   +  Chile      + There has been discussions lately on NP.           +
   +-------------+----------------------------------------------------+
   +  Colombia   + There was an Article 3.1 on NP to support NP prior +
   +             + to December 31, 1999 when NP became technically    +
   +             + possible. Regulator has not yet issued regulations +
   +             + concerning this matter.                            +
   +-------------+----------------------------------------------------+
   +  Denmark    + Uses ACQ. Routing number not passed between        +
   +             + operators; however, NOA is set to "112" to         +
   +             + indicate "ported number."  QoR can be used based   +
   +             + on bilateral agreements.                           +
   +-------------+----------------------------------------------------+
   +  Finland    + Uses ACQ.  Routing prefix is "1Dxxy" where "xxy"   +
   +             + identifies the recipient network and service type. +
   +-------------+----------------------------------------------------+
   +  France     + Uses onward routing.  Routing prefix is "Z0xxx"    +
   +             + where "xxx" identifies the recipient switch.       +
   +-------------+----------------------------------------------------+
   +  Germany    + The originating network needs to do necessary      +
   +             + rerouting.  Operators decide their own solution(s).+
   +             + Deutsche Telekom uses ACQ.  Routing prefix is      +
   +             + "Dxxx" where "xxx" identifies the recipient        +
   +             + network.                                           +
   +-------------+----------------------------------------------------+
   +  Hong Kong  + Recipient network informs other networks about     +
   +             + ported-in numbers.  Routing prefix is "14x" where  +
   +             + "14x" identifies the recipient network, or a       +
   +             + routing number of "4x" plus 7 or 8 digits is used  +
   +             + where "4x" identifies the recipient network and    +
   +             + the rest of digits identify the called party.      +
   +-------------+----------------------------------------------------+




<span class="grey">Foster, et al.               Informational                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   +-------------+----------------------------------------------------+
   +   Country   +             SPNP Implementation                    +
   +-------------+----------------------------------------------------+
   +  Ireland    + Operators choose their own solution but use onward +
   +             + routing now. Routing prefix is "1750" as the intra-+
   +             + network routing code (network-specific) and        +
   +             + "1752xxx" to "1759xxx" for GNP where "xxx"         +
   +             + identifies the recipient switch.                   +
   +-------------+----------------------------------------------------+
   +  Italy      + Uses onward routing. Routing prefix is "C600xxxxx" +
   +             + where "xxxxx" identifies the recipient switch.     +
   +             + Telecom Italia uses IN solution and other operators+
   +             + use on-switch solution.                            +
   +-------------+----------------------------------------------------+
   +  Japan      + Uses onward routing.  Donor switch uses IN to get  +
   +             + routing number.                                    +
   +-------------+----------------------------------------------------+
   +  Mexico     + NP is considered in the Telecom law; however, the  +
   +             + regulator (Cofetel) or the new local entrants have +
   +             + started no initiatives on this process.            +
   +-------------+----------------------------------------------------+
   + Netherlands + Operators decide NP scheme to use.  Operators have +
   +             + chosen ACQ or QoR.  KPN implemented IN solution    +
   +             + similar to U.S. solution.  Routing prefix is not   +
   +             + passed between operators.                          +
   +-------------+----------------------------------------------------+
   +  Norway     + OR for short-term and ACQ for long-term.  QoR is   +
   +             + optional. Routing prefix can be "xxx" with NOA=8,  +
   +             + or "142xx" with NOA=3 where "xxx" or "xx"          +
   +             + identifies the recipient network.                  +
   +------------ +----------------------------------------------------+
   +  Peru       + Wireline NP may be supported in 2001.              +
   +-------------+----------------------------------------------------+
   +  Portugal   + No NP today.                                       +
   +-------------+----------------------------------------------------+
   +  Spain      + Uses ACQ.  Telefonica uses QoR within its network. +
   +             + Routing prefix is  "xxyyzz" where "xxyyzz"         +
   +             + identifies the recipient network.  NOA is set to   +
   +             + 126.                                               +
   +-------------+----------------------------------------------------+
   +  Sweden     + Standardized the ACQ but OR for operators without  +
   +             + IN. Routing prefix is "xxx" with NOA=8 or "394xxx" +
   +             + with NOA=3 where "xxx" identifies the recipient    +
   +             + network. But operators decide NP scheme to use.    +
   +             + Telia uses onward routing between operators.       +
   +-------------+----------------------------------------------------+





<span class="grey">Foster, et al.               Informational                     [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   +-------------+----------------------------------------------------+
   +   Country   +             SPNP Implementation                    +
   +-------------+----------------------------------------------------+
   + Switzerland + Uses OR now and QoR in 2001.  Routing prefix is    +
   +             + "980xxx" where "xxx" identifies the recipient      +
   +             + network.                                           +
   +-------------+----------------------------------------------------+
   +  UK         + Uses onward routing. Routing prefix is "5xxxxx"    +
   +             + where "xxxxx" identifies the recipient switch. NOA +
   +             + is 126. BT uses the dropback scheme in some parts  +
   +             + of its network.                                    +
   +-------------+----------------------------------------------------+
   +  US         + Uses ACQ.  "Location Routing Number (LRN)" is used +
   +             + in the Called Party Number parameter.  Called party+
   +             + number is carried in the Generic Address Parameter +
   +             + Use a PNTI indicator in the Forward Call Indicator +
   +             + parameter to indicate that NPDB dip has been       +
   +             + performed.                                         +
   +-------------+----------------------------------------------------+

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20Number%20Conservation%20Methods%20Enabled%20by%20NP"></a><a class="selflink" href="#section-8" name="section-8">8</a>. Number Conservation Methods Enabled by NP</span>

   In addition to porting numbers NP provides the ability for number
   administrators to assign numbering resources to operators in smaller
   increments.  Today it is common for numbering resources to be
   assigned to telephone operators in a large block of consecutive
   telephone numbers (TNs).  For example, in North America each of these
   blocks contains 10,000 TNs and is of the format NXX+0000 to NXX+9999.
   Operators are assigned a specific NXX, or block.  That operator is
   referred to as the block holder.  In that block there are 10,000 TNs
   with line numbers ranging from 0000 to 9999.

   Instead of assigning an entire block to the operator, NP allows the
   administrator to assign a sub-block or even an individual telephone
   number.  This is referred to as block pooling and individual
   telephone number (ITN) pooling, respectively.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1%20Block%20Pooling"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a> Block Pooling</span>

   Block Pooling refers to the process whereby the number administrator
   assigns a range of numbers defined by a logical sub-block of the
   existing block.  Using North America as an example, block pooling
   would allow the administrator to assign sub-blocks of 1,000 TNs to
   multiple operators.  That is, NXX+0000 to NXX+0999 can be assigned to
   operator A, NXX+1000 to NXX+1999 can be assigned to operator B, NXX-
   2000 to 2999 can be assigned to operator C, etc.  In this example,
   block pooling divides one block of 10,000 TNs into ten blocks of
   1,000 TNs.



<span class="grey">Foster, et al.               Informational                     [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   Porting the sub-blocks from the block holder enables block pooling.
   Using the example above, operator A is the block holder, as well as
   the holder of the first sub-block, NXX+0000 to NXX+0999.  The second
   sub-block, NXX+1000 to NXX+1999, is ported from operator A to
   operator B.  The third sub-block, NXX+2000 to NXX+2999, is ported
   from operator A to operator C, and so on.  NP administrative
   processes and call processing will enable proper and efficient
   routing.

   From a number administration and NP administration perspective, block
   pooling introduces a new concept, that of the sub-block holder.
   Block pooling requires coordination between the number administrator,
   the NP administrator, the block holder, and the sub-block holder.
   Block pooling must be implemented in a manner that allows for NP
   within the sub-blocks.  Each TN can have a different serving
   operator, sub-block holder, and block holder.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2%20ITN%20Pooling"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a> ITN Pooling</span>

   ITN pooling refers to the process whereby the number administrator
   assigns individual telephone numbers to operators.  Using the North
   American example, one block of 10,000 TNs can be divided into 10,000
   ITNs.  ITN is more commonly deployed in freephone services.

   In ITN the block is not assigned to an operator but to a central
   administrator.  The administrator then assigns ITNs to operators.  NP
   administrative processes and call processing will enable proper and
   efficient routing.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20Potential%20Implications"></a><a class="selflink" href="#section-9" name="section-9">9</a>. Potential Implications</span>

   There are three general areas of impact to IP telephony works-in-
   progress with the IETF:

   - Interoperation between NP in GSTN and IP telephony
   - NP implementation or emulation in IP telephony
   - Interconnection to NP administrative environment

   A good understanding of how number portability is supported in the
   GSTN is important when addressing the interworking issues between
   IP-based networks and the GSTN.  This is especially important when
   the IP-based network needs to route the calls to the GSTN.  As shown
   in <a href="#section-5">Section 5</a>, there are a variety of standards with various protocol
   stacks for the switch-to-NPDB interface.  Furthermore, the national
   variations of the protocol standards make it very complicated to deal
   with in a global environment.  If an entity in the IP-based network
   needs to query those existing NPDBs for routing number information to
   terminate the calls to the destination GSTN, it would be an



<span class="grey">Foster, et al.               Informational                     [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   impractical, if not impossible, job for that entity to support all
   those interface standards to access the NPDBs in many countries.

   Several alternatives may address this particular problem.  One
   alternative is to use certain entities in the IP-based networks for
   dealing with NP query, similar to the International Switches that are
   used in the GSTN to interwork different national ISUP variations.
   This will force signaling information associated with the calls to
   certain NP-capable networks in the terminating GSTN to be routed to
   those IP entities that support the NP functions.  Those IP entities
   then query the NPDBs in the terminating country.  This will limit the
   number of NPDB interfaces that certain IP entities need to support.
   Another alternative can be to define a "common" interface to be
   supported by all the NPDBs so that all the IP entities use that
   standardized protocol to query them.  The existing NPDBs can support
   this additional interface, or new NPDBs that contain the same
   information but support the common IP interface can be deployed.  The
   candidates for such a common interface include ENUM (telephone number
   mapping) [<a href="#ref-ENUM" title='"E.164 number and DNS"'>ENUM</a>], Lightweight Directory Access Protocol (LDAP) and SIP
   [<a href="#ref-SIP" title='"SIP: Session Initiation Protocol"'>SIP</a>] (e.g., using the SIP redirection capability).  Certainly
   another possibility is to use an interworking function to convert
   from one protocol to another.

   IP-based networks can handle the domestic calls between two GSTNs.
   If the originating GSTN has performed NPDB query, SIP will need to
   transport and make use of some of the ISUP signaling information even
   if ISUP signaling may be encapsulated in SIP.  Also, IP-based
   networks may perform the NPDB queries, as the N-1 carrier.  In that
   case, SIP also needs to transport the NP related information while
   the call is being routed to the destination GSTN.  There are three
   pieces of NP related information that SIP needs to transport.  They
   are 1) the called directory number, 2) a routing number, and 3) a
   NPDB dip indicator.  The NPDB dip indicator is needed so that the
   terminating GSTN will not perform another NPDB dip.  The routing
   number is needed so that it is used to route the call to the
   destination network or switch in the destination GSTN.  The called
   directory number is needed so that the terminating GSTN switch can
   terminate the call.  When the routing number is present, the NPDB dip
   indicator may not be present because there are cases where the
   routing number is added for routing the call even if NP is not
   involved.  One issue is how to transport the NP related information
   via SIP.  The SIP Universal Resource Locator (URL) is one mechanism.
   Another better choice may be to add an extension to the "tel" URL
   [<a href="#ref-TEL" title='"URIs for Telephone Calls"'>TEL</a>] that is also supported by SIP.  Please see [<a href="#ref-TELNP" title='"Extensions to the "'>TELNP</a>] for the
   proposed extensions to the "tel" URL to support NP and freephone
   service.  Those extensions to the "tel" URL will be automatically
   supported by SIP because they can be carried as the optional
   parameters in the user portion of the "sip" URL.



<span class="grey">Foster, et al.               Informational                     [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   For a called directory number that belongs to a country that supports
   NP, and if the IP-based network is expected to perform the NPDB
   query, the logical step is to perform the NPDB dip first to retrieve
   the routing number and use that routing number to select the correct
   IP telephony gateways that can reach the serving switch that serves
   the called directory number.  Therefore, if the "rn" parameter is
   present in the "tel" URL or sip URL in the SIP INVITE message, it,
   instead of the called directory number, should be used for making
   routing decisions assuming that no other higher priority routing-
   related parameters such as the "cic" (Carrier Identification Code)
   are present.  If "rn" (Routing Number) is not present, then the
   dialed directory number can be used as the routing number for making
   routing decisions.

   Telephony Routing Information Protocol (TRIP) [<a href="#ref-TRIP" title='"Telephony Routing Information Protocol (TRIP)"'>TRIP</a>] is a policy
   driven inter-administrative domain protocol for advertising the
   reachability of telephony destinations between location servers, and
   for advertising attributes of the routes to those destinations.  With
   the NP in mind, it is very important to know, that if present, it is
   the routing number, not the called directory number, that should be
   used to check against the TRIP tables for making the routing
   decisions.

   Overlap signaling exists in the GSTN today.  For a call routing from
   the originating GSTN to the IP-based network that involves overlap
   signaling, NP will impact the call processing within the IP-based
   networks if they must deal with the overlap signaling.  The entities
   in the IP-based networks that are to retrieve the NP information
   (e.g., the routing number) must collect a complete called directory
   number information before retrieving the NP information for a ported
   number.  Otherwise, the information retrieval won't be successful.
   This is an issue for the IP-based networks if the originating GSTN
   does not handle the overlap signaling by collecting the complete
   called directory number.

   The IETF enum working group is defining the use of the Domain Name
   System (DNS) for identifying available services and/or Internet
   resources associated with a particular E.164 number.  [<a href="#ref-ENUMPO" title='"ENUM Service Specific Provisioning: Principles of Operations"'>ENUMPO</a>]
   outlines the principles for the operation of a telephone number
   service that resolves telephone numbers into Internet domain name
   addresses and service-specific directory discovery.  [<a href="#ref-ENUMPO" title='"ENUM Service Specific Provisioning: Principles of Operations"'>ENUMPO</a>]
   implements a three-level approach where the first level is the
   mapping of the telephone number delegation tree to the authority to
   which the number has been delegated, the second level is the
   provision of the requested DNS resource records from a service
   registrar, and the third level is the provision of service specific
   data from the service provider itself.  NP certainly must be
   considered at the first level because the telephony service providers



<span class="grey">Foster, et al.               Informational                     [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   do not "own" or control the telephone numbers under the NP
   environment; therefore, they may not be the proper entities to have
   the authority for a given E.164 number.  Not only that, there is a
   regulatory requirement on NP in some countries that the donor network
   should not be relied on to reach the delegated authority during the
   DNS process.  The delegated authority for a given E.164 number is
   likely to be an entity designated by the end user that owns/controls
   a specific telephone number, or one that is designated by the service
   registrar.

   Since the telephony service providers may have the need to use ENUM
   for their network-related services (e.g., map an E.164 number to a
   HLR Identifier in the wireless networks), their ENUM records must be
   collocated with those of the telephony subscribers.  If that is the
   case, NP will impact ENUM when a telephony subscriber who has ENUM
   service changes the telephony service provider.  This is because that
   the ENUM records from the new telephony service provider must replace
   those from the old telephony service provider.  To avoid the NP
   impact on ENUM, it is recommended that the telephony service
   providers use a different domain tree for their network-related
   service.  For example, if e164.arpa is chosen for "end user" ENUM, a
   domain tree different from e164.arpa should be used for "carrier"
   ENUM.

   The IP-based networks also may need to support some forms of number
   portability in the future if E.164 numbers are assigned to the IP-
   based end users.  One method is to assign a GSTN routing number for
   each IP-based network domain or entity in a NP-capable country.  This
   may increase the number of digits in the routing number to
   incorporate the IP entities and impact the existing routing in the
   GSTN.  Another method is to associate each IP entity with a
   particular GSTN gateway.  At that particular GSTN gateway, the called
   directory number is then used to locate the IP-entity that serves
   that dialed directory number.  Yet, another method can be to assign a
   special routing number so that the call to an end user currently
   served by an IP entity is routed to the nearest GSTN gateway.  The
   called directory number then is used to locate the IP-entity that
   serves that dialed directory number.  A mechanism can be developed or
   used for the IP-based network to locate the IP entity that serves a
   particular dialed directory number.  Many other types of networks use
   E.164 numbers to identify the end users or terminals in those
   networks.  Number portability among GSTN, IP-based network, and those
   various types of networks may also need to be supported in the
   future.







<span class="grey">Foster, et al.               Informational                     [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20Security%20Considerations"></a><a class="selflink" href="#section-10" name="section-10">10</a>. Security Considerations</span>

   In the PSTN, the NPDB queries are generated by the PSTN switches and
   carried over the SS7 networks to reach the NPDBs and back to the
   switches.  The SS7 networks are operated by telecommunications
   operators and signaling transport service providers in such a closed
   environment that make them difficult for the hackers to penetrate.
   However, when VoIP operators need the NP information and have to
   launch the NP queries from their softswitches, media gateway
   controllers or call managers, there would be security concerns if the
   NP queries and responses are transported over the Internet.  If the
   routing number or routing prefix in the response is altered during
   the message transport, the call will be routed to the wrong place.
   It is recommended that the NPDB queries be transported via a secure
   transport layer or with added security mechanisms to ensure the data
   integrity.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20IANA%20Considerations"></a><a class="selflink" href="#section-11" name="section-11">11</a>. IANA Considerations</span>

   This document introduces no new values for IANA registration.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20Normative%20References"></a><a class="selflink" href="#section-12" name="section-12">12</a>. Normative References</span>

   [ANSI OSS] ANSI Technical Requirements No. 1, "Number Portability -
              Operator Services Switching Systems," April 1999.

   [ANSI SS]  ANSI Technical Requirements No. 2, "Number Portability -
              Switching Systems," April 1999.

   [ANSI DB]  ANSI Technical Requirements No. 3, "Number Portability
              Database and Global Title Translation," April 1999.

   [<a id="ref-CS1" name="ref-CS1">CS1</a>]      ITU-T Q-series  Recommendations - Supplement 4, "Number
              portability Capability set 1 requirements for service
              provider portability (All call query and onward routing),"
              May 1998.

   [<a id="ref-CS2" name="ref-CS2">CS2</a>]      ITU-T Q-series  Recommendations - Supplement 5, "Number
              portability -Capability set 2 requirements for service
              provider portability (Query on release and Dropback),"
              March 1999.

   [<a id="ref-E164" name="ref-E164">E164</a>]     ITU-T Recommendation E.164, "The International Public
              Telecommunications Numbering Plan," 1997.

   [<a id="ref-ENUM" name="ref-ENUM">ENUM</a>]     Falstrom, P., "E.164 number and DNS", <a href="rfc2916.html">RFC 2916</a>, September
              2000.




<span class="grey">Foster, et al.               Informational                     [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


   [<a id="ref-ETSIISUP" name="ref-ETSIISUP">ETSIISUP</a>] ETSI EN 302 097 V.1.2.2, Integrated Services Digital
              Network (ISDN); Signalling System No.7 (SS7); ISDN User
              Part (ISUP); Enhancement for support of Number Portability
              (NP) [ITU-T Recommendation Q.769.1 (2000), modified]

   [<a id="ref-GSM" name="ref-GSM">GSM</a>]      GSM 09.02: "Digital cellular telecommunications system
              (Phase 2+); Mobile Application Part (MAP) specification".

   [<a id="ref-IS41" name="ref-IS41">IS41</a>]     TIA/EIA IS-756 Rev. A, "TIA/EIA-41-D Enhancements for
              Wireless Number Portability Phase II (December 1998),
              "Number Portability Network Support," April 1998.

   [<a id="ref-ITUISUP" name="ref-ITUISUP">ITUISUP</a>]  ITU-T Recommendation Q.769.1, "Signaling System No. 7 -
              ISDN User Part Enhancements for the Support of Number
              Portability," December 1999.

   [<a id="ref-MNP" name="ref-MNP">MNP</a>]      ETSI EN 301 716 (2000-10) European Standard
              (Telecommunications series) Digital cellular
              telecommunications system (Phase 2+); Support of Mobile
              Number Portability (MNP); Technical Realisation; Stage 2;
              (GSM 03.66 Version 7.2.0 Release 1998).

   [<a id="ref-RFC" name="ref-RFC">RFC</a>]      Bradner, S., "The Internet Standards Process -- Revision
              3", <a href="https://tools.ietf.org/html/bcp9">BCP 9</a>, <a href="rfc2026.html">RFC 2026</a>, October 1996.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20Informative%20References"></a><a class="selflink" href="#section-13" name="section-13">13</a>. Informative References</span>

   [<a id="ref-ENUMPO" name="ref-ENUMPO">ENUMPO</a>]   Brown A. and G. Vaudreuil, "ENUM Service Specific
              Provisioning: Principles of Operations", Work in Progress.

   [<a id="ref-SIP" name="ref-SIP">SIP</a>]      Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M. and E. Schooler,
              "SIP:  Session Initiation Protocol", <a href="rfc3461.html">RFC 3461</a>, June 2002.

   [<a id="ref-TEL" name="ref-TEL">TEL</a>]      Schulzrinne, H. and A. Vaha-Sipila, "URIs for Telephone
              Calls", Work in Progress.

   [<a id="ref-TELNP" name="ref-TELNP">TELNP</a>]    Yu, J., "Extensions to the "tel" URL to support Number
              Portability and Freephone Service", Work in Progress.

   [<a id="ref-TRIP" name="ref-TRIP">TRIP</a>]     Rosenberg, J., Salama, H. and M. Squire, "Telephony
              Routing Information Protocol (TRIP)", <a href="rfc3219.html">RFC 3219</a>, January
              2002.








<span class="grey">Foster, et al.               Informational                     [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/14.%20Acknowledgment"></a><a class="selflink" href="#section-14" name="section-14">14</a>. Acknowledgment</span>

   The authors would like to thank Monika Muench for providing
   information on ISUP and MNP.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/15.%20Authors%27%20Addresses"></a><a class="selflink" href="#section-15" name="section-15">15</a>. Authors' Addresses</span>

   Mark D. Foster
   NeuStar, Inc.
   46000 Center Oak Plaza
   Sterling, VA 20166
   United States

   Phone: +1-571-434-5410
   Fax:   +1-571-434-5401
   EMail: mark.foster@neustar.biz


   Tom McGarry
   NeuStar, Inc.
   46000 Center Oak Plaza
   Sterling, VA 20166
   United States

   Phone: +1-571-434-5570
   Fax:   +1-571-434-5401
   EMail: tom.mcgarry@neustar.biz


   James Yu
   NeuStar, Inc.
   46000 Center Oak Plaza
   Sterling, VA 20166
   United States

   Phone: +1-571-434-5572
   Fax:   +1-571-434-5401
   EMail: james.yu@neustar.biz













<span class="grey">Foster, et al.               Informational                     [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc3482.html">RFC 3482</a>      Number Portability in the GSTN: An Overview  February 2003</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/16.%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-16" name="section-16">16</a>. Full Copyright Statement</span>

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Foster, et al.               Informational                     [Page 30]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc3482 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:47 GMT --></html>