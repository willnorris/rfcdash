<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7028 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:25 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-zuniga-multimob-pmipv6-ropt" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7028" name="DC.Identifier"/>
<meta content="September, 2013" name="DC.Date.Issued"/>
<meta content="Jeon, Seil" name="DC.Creator"/>
<meta content="Kim, Younghan" name="DC.Creator"/>
<meta content="This document proposes some experimental enhancements to the base
solution to support IP multicasting in a Proxy Mobile IPv6 (PMIPv6)
domain. These enhancements include the use of a multicast tree
mobility anchor as the topological anchor point for multicast traffic,
as well as a direct routing option where the Mobile Access Gateway can
provide access to multicast content in the local network. The goal of
these enhancements is to provide benefits such as reducing multicast
traffic replication and supporting different PMIPv6 deployment
scenarios." name="DC.Description.Abstract"/>
<meta content="Multicast Mobility Routing Optimizations for Proxy Mobile IPv6" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7028 - Multicast Mobility Routing Optimizations for Proxy Mobile IPv6</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgyellow" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7028.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7028" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-multimob-pmipv6-ropt" title="draft-ietf-multimob-pmipv6-ropt">draft-ietf-mult...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7028" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7028" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7028" title="Side-by-side diff">Diff2</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=7028&amp;submit=rfc" title="IPR disclosures related to this document">IPR</a>]   </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                            EXPERIMENTAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                        JC. Zuniga
Request for Comments: 7028              InterDigital Communications, LLC
Category: Experimental                                     LM. Contreras
ISSN: 2070-1721                                           Telefonica I+D
                                                           CJ. Bernardos
                                                                    UC3M
                                                                 S. Jeon
                                           Instituto de Telecomunicacoes
                                                                  Y. Kim
                                                     Soongsil University
                                                          September 2013


     <span class="h1">Multicast Mobility Routing Optimizations for Proxy Mobile IPv6</span>

Abstract

   This document proposes some experimental enhancements to the base
   solution to support IP multicasting in a Proxy Mobile IPv6 (PMIPv6)
   domain.  These enhancements include the use of a multicast tree
   mobility anchor as the topological anchor point for multicast
   traffic, as well as a direct routing option where the Mobile Access
   Gateway can provide access to multicast content in the local network.
   The goal of these enhancements is to provide benefits such as
   reducing multicast traffic replication and supporting different
   PMIPv6 deployment scenarios.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for examination, experimental implementation, and
   evaluation.

   This document defines an Experimental Protocol for the Internet
   community.  This document is a product of the Internet Engineering
   Task Force (IETF).  It represents the consensus of the IETF
   community.  It has received public review and has been approved for
   publication by the Internet Engineering Steering Group (IESG).  Not
   all documents approved by the IESG are a candidate for any level of
   Internet Standard; see <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7028">http://www.rfc-editor.org/info/rfc7028</a>.







<span class="grey">Zuniga, et al.                Experimental                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


Copyright Notice

   Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Terminology .....................................................<a href="#page-4">4</a>
   <a href="#section-3">3</a>. Overview ........................................................<a href="#page-5">5</a>
      <a href="#section-3.1">3.1</a>. MTMA/Direct Routing Mode Selection .........................<a href="#page-5">5</a>
      <a href="#section-3.2">3.2</a>. Multicast Tree Mobility Anchor (Subscription via MTMA) .....<a href="#page-5">5</a>
      <a href="#section-3.3">3.3</a>. Direct Routing (Subscription via Direct Routing) ...........<a href="#page-7">7</a>
   <a href="#section-4">4</a>. Mobile Access Gateway Operation .................................<a href="#page-9">9</a>
      <a href="#section-4.1">4.1</a>. Extensions to Binding Update List Data Structure ...........<a href="#page-9">9</a>
      <a href="#section-4.2">4.2</a>. MAG as MLD Proxy ...........................................<a href="#page-9">9</a>
           <a href="#section-4.2.1">4.2.1</a>. MTMA Mode (Subscription via MTMA) ...................<a href="#page-9">9</a>
           4.2.2. Direct Routing Mode (Subscription via
                  Direct Routing) ....................................<a href="#page-11">11</a>
   <a href="#section-5">5</a>. Local Mobility Anchor Operation ................................<a href="#page-14">14</a>
      <a href="#section-5.1">5.1</a>. Dynamic IP Multicast Selector Option ......................<a href="#page-14">14</a>
           <a href="#section-5.1.1">5.1.1</a>. Option Application Rules ...........................<a href="#page-14">14</a>
           <a href="#section-5.1.2">5.1.2</a>. Option Format ......................................<a href="#page-14">14</a>
   <a href="#section-6">6</a>. Multicast Tree Mobility Anchor Operation .......................<a href="#page-16">16</a>
      <a href="#section-6.1">6.1</a>. Conceptual Data Structures ................................<a href="#page-17">17</a>
   <a href="#section-7">7</a>. Mobile Node Operation ..........................................<a href="#page-17">17</a>
   <a href="#section-8">8</a>. IPv4 Support ...................................................<a href="#page-17">17</a>
   <a href="#section-9">9</a>. IANA Considerations ............................................<a href="#page-18">18</a>
   <a href="#section-10">10</a>. Security Considerations .......................................<a href="#page-18">18</a>
   <a href="#section-11">11</a>. Contributors ..................................................<a href="#page-19">19</a>
   <a href="#section-12">12</a>. References ....................................................<a href="#page-20">20</a>
      <a href="#section-12.1">12.1</a>. Normative References .....................................<a href="#page-20">20</a>
      <a href="#section-12.2">12.2</a>. Informative References ...................................<a href="#page-21">21</a>
   <a href="#appendix-A">Appendix A</a>. MTMA Deployment Use Cases .............................<a href="#page-22">22</a>
     <a href="#appendix-A.1">A.1</a>. PMIPv6 Domain with Ratio 1:1 ...............................<a href="#page-22">22</a>
     <a href="#appendix-A.2">A.2</a>. PMIPv6 Domain with Ratio N:1 ...............................<a href="#page-22">22</a>
     <a href="#appendix-A.3">A.3</a>. PMIPv6 Domain with Ratio 1:N ...............................<a href="#page-24">24</a>
     <a href="#appendix-A.4">A.4</a>. PMIPv6 Domain with H-LMA ...................................<a href="#page-26">26</a>



<span class="grey">Zuniga, et al.                Experimental                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Proxy Mobile IPv6 [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] is a network-based approach to solving
   the IP mobility problem.  In a Proxy Mobile IPv6 (PMIPv6) domain, the
   Mobile Access Gateway (MAG) behaves as a proxy mobility agent in the
   network and performs the mobility management on behalf of the Mobile
   Node (MN).  The Local Mobility Anchor (LMA) is the home agent for the
   MN and the topological anchor point.  PMIPv6 was originally designed
   for unicast traffic.  However, a PMIPv6 domain may handle data from
   both unicast and multicast sources.

   The Internet Group Management Protocol (IGMPv3) [<a href="rfc3376.html" title='"Internet Group Management Protocol, Version 3"'>RFC3376</a>] is used by
   IPv4 hosts to report their IP multicast group memberships to
   neighboring multicast routers.  Multicast Listener Discovery Version
   2 (MLDv2) [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>] is used in a similar way by IPv6 routers to
   discover the presence of IPv6 multicast hosts.  Also, the IGMP/MLD
   proxy specification [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>] allows an intermediate (i.e., edge)
   node to appear as a multicast router to downstream hosts and as a
   host to upstream multicast routers.  IGMP- and MLD-related protocols
   however were not originally designed to address the IP mobility of
   multicast listeners (i.e., IGMP and MLD protocols were originally
   designed for fixed networks).

   A base solution to support both IPv4 and IPv6 multicast listener
   mobility in a PMIPv6 domain is specified in [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>], which
   describes deployment options without modifying mobility and multicast
   protocol standards.  PMIPv6 allows a mobile access gateway to
   establish multiple PMIPv6 tunnels with different local mobility
   anchors, e.g., up to one per mobile node.  In the presence of
   multicast traffic, multiple instances of the same traffic can
   converge to the same MAG.  Hence, when IP multicasting is applied
   into PMIPv6, it may lead to redundant traffic at a MAG.  This is the
   tunnel convergence problem.

   In order to address this issue, this document proposes an
   experimental solution, consisting of two complementary enhancements:
   multicast anchor and direct routing.  The first enhancement makes use
   of a Multicast Tree Mobility Anchor (MTMA) as the topological anchor
   point for remotely delivering multicast traffic, while the second
   enhancement uses direct routing taking advantage of local multicast
   source availability, allowing a mobile access gateway to connect
   directly to a multicast router for simple access to local content.
   Neither of the two schemes has any impact on the mobile node to
   support IPv4 and IPv6 multicast listener mobility, nor on the wider
   Internet, as they only affect the PMIPv6 domains where they are
   deployed.  Although references to "MLD proxy" are used in the
   document, it should be understood to also include "IGMP/MLD proxy"
   functionality (see <a href="#section-8">Section 8</a> for details).  The status of this



<span class="grey">Zuniga, et al.                Experimental                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   proposal is Experimental.  The status of this proposal may be
   reconsidered in the future, once more implementation feedback and
   deployment experience is gathered, reporting on the performance of
   the two proposed schemes as well as operational feedback on scheme
   selection.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   This document uses the terminology defined in [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>], [<a href="rfc6275.html" title='"Mobility Support in IPv6"'>RFC6275</a>],
   and [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>].  Specifically, the definition of PMIPv6 domain is
   reused from [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] and reproduced here for completeness.

   Proxy Mobile IPv6 Domain (PMIPv6-Domain):  Proxy Mobile IPv6 domain
      refers to the network where the mobility management of a mobile
      node is handled using the Proxy Mobile IPv6 protocol as defined in
      [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>].  The Proxy Mobile IPv6 domain includes local mobility
      anchors and mobile access gateways between which security
      associations can be set up and authorization for sending proxy
      binding updates on behalf of the mobile nodes can be ensured.

   In this document we refine the definition from the point of view of
   the kind of traffic served to the MN in the following way:

   PMIPv6 unicast domain:  PMIPv6 unicast domain refers to the network
      covered by one LMA for unicast service.  This service supports
      mobility as the MN moves from one MAG to another one, both
      associated with the same LMA regarding the MN unicast traffic.

   PMIPv6 multicast domain:  PMIPv6 multicast domain refers to the
      network covered by one network element named MTMA (defined below)
      for multicast service in such a way that an MN using that service
      is not aware of mobility as it moves from one MAG to another.

   From the definitions above, it can be stated that a PMIPv6 domain can
   have several PMIPv6 unicast domains and PMIPv6 multicast domains.
   Additionally, some other definitions are introduced, as follows.

   MTMA or multicast tree mobility anchor:  An entity working as
      topological anchor point for multicast traffic.  It manages the
      multicast groups subscribed by all (or a subset of) the MAGs in a
      PMIPv6 multicast domain, on behalf of the MNs attached to them.
      Hence, an MTMA performs the functions of either a designated
      multicast router or an MLD proxy.




<span class="grey">Zuniga, et al.                Experimental                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   H-LMA or Hybrid-LMA:  An entity that is dedicated to both unicast and
      multicast services and able to work as both LMA and MTMA
      simultaneously.

   Direct routing:  This scheme uses the native multicast infrastructure
      for retrieving multicast data.  For an operator having its own
      local content, this technique also includes the case where the
      content source is directly connected to the MAG.

   Subscription via MTMA:  Multicast subscription mode in which the
      content is retrieved from the remote (or home) MTMA.

   Subscription via direct routing:  Multicast subscription mode in
      which the content is retrieved using direct routing from the local
      domain.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Overview"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Overview</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20MTMA%2FDirect%20Routing%20Mode%20Selection"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  MTMA/Direct Routing Mode Selection</span>

   This specification describes two complementary operational modes that
   can be used to deliver multicast traffic in a PMIPv6 domain:
   multicast tree mobility anchor and direct routing.  There are
   different approaches that can be followed to perform this operational
   mode selection, depending on the operator's preferences and PMIPv6
   deployment characteristics.  For example, the mode can be manually
   configured at the mobile access gateway, according to the multicast
   tree deployment in the PMIPv6 domain, following operator's
   configuration of the multicast distribution on it.  Another option is
   the use of dynamic policies, conveyed in the PBU (Proxy Binding
   Update) / PBA (Proxy Binding Acknowledgement) signaling using the
   Dynamic IP Multicast Selector option described in <a href="#section-5.1">Section 5.1</a>.  Next,
   each of the two operational modes is introduced.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Multicast%20Tree%20Mobility%20Anchor%20%28Subscription%20via%20MTMA%29"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Multicast Tree Mobility Anchor (Subscription via MTMA)</span>

   A multicast tree mobility anchor is used to serve as the mobility
   anchor for multicast traffic.  The MTMA is either a designated
   multicast router or an MLD proxy.  Typically, the MTMA will be used
   to get access to remote multicast content.

   The multicast tree mobility anchor connects to the mobile access
   gateway, as described in [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>], and it can reuse native PMIPv6
   features such as tunnel establishment and security [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>],
   heartbeat [<a href="rfc5847.html" title='"Heartbeat Mechanism for Proxy Mobile IPv6"'>RFC5847</a>], etc.  Unicast traffic will go normally to the
   local mobility anchors in the PMIPv6 domain as described in
   [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>].  A MAG connecting to the MTMA acts as an MLD proxy.




<span class="grey">Zuniga, et al.                Experimental                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   This section describes how the MTMA works in scenarios of MN
   attachment and multicast mobility.  It concentrates on the case of
   both LMA and MTMA defining a unique PMIPv6 domain.  Some other
   deployment scenarios are presented in <a href="#appendix-A">Appendix A</a>.

   Figure 1 shows an example of a PMIPv6 domain supporting multicast
   mobility.  The local mobility anchor is dedicated to unicast traffic,
   and the multicast tree mobility anchor is dedicated to multicast
   traffic.  The MTMA can be considered to be a form of upstream
   multicast router with tunnel interfaces allowing subscription via
   MTMA for the MNs.

   As shown in Figure 1, MAG1 may connect to both unicast (LMA) and
   multicast (MTMA) entities.  Thus, a given MN may simultaneously
   receive both unicast and multicast traffic.  In Figure 1, MN1 and MN2
   receive unicast traffic, multicast traffic, or both, whereas MN3
   receives multicast traffic only.


































<span class="grey">Zuniga, et al.                Experimental                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


                                   +--------------+
                                   |Content Source|   || - PMIPv6 Tunnel
                                   +--------------+   |  - Multicast
                                          |                Data Path
                                          |
         ***  ***  ***  ***      ***  ***  ***  ***
        *   **   **   **   *    *   **   **   **    *
       *                    *  *                     *
       *  Unicast Traffic   *  *  Multicast Traffic  *
       *                    *  *                     *
        *   **   **   **   *    *   **   **   **   *
         ***  ***  ***  **       ***  ***  ***  ***
                 |                       |
                 |                       |
                 |                       |
              +-----+                 +------+
     Unicast  | LMA |                 | MTMA |     Multicast
      Anchor  +-----+                 +------+      Anchor
                  \\                    // ||
                   \\                  //  ||
                    \\                //   ||
                     \\              //    ||
                      \\            //     ||
                       \\          //      ||
                        \\        //       ||
                         \\      //        ||
                          \\    //         ||
                          +------+      +------+
                          | MAG1 |      | MAG2 |   MLD Proxy
                          +------+      +------+
                          |     |          |
                          |     |          |
                        {MN1} {MN2}      {MN3}

      Figure 1: Architecture of Multicast Tree Mobility Anchor (MTMA)

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Direct%20Routing%20%28Subscription%20via%20Direct%20Routing%29"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Direct Routing (Subscription via Direct Routing)</span>

   Direct routing uses a native multicast infrastructure, allowing a
   mobile access gateway to directly connect to a multicast router (as
   next hop) in the PMIPv6 domain.  A MAG acts as an MLD proxy.

   The main purpose of direct routing is to provide optimal connectivity
   for local content.  As a consequence, it replaces the MTMA of the
   channel management and data delivery of locally available content.
   Unicast traffic will go as normally to the LMAs in the PMIPv6 domain.





<span class="grey">Zuniga, et al.                Experimental                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   This section describes how the direct routing works in scenarios of
   MN attachment and multicast mobility.

                           Multicast Tree
                                  :
                                  :         || - PMIPv6 Tunnel
       +----------+         +----------+    |  - Multicast Data Path
       |   LMA    |         |    MR    |
       +----------+         +----------+
            ||  \\           /     |
            ||   \\         /      |
            ||    \\       /       |
            ||     \\     /        |
            ||      \\   /         |
            ||       \\ /          |
            ||        \\           |
            ||        /\\          |
            ||       /  \\         |
            ||      /    \\        |
            ||     /      \\       |
            ||    /        \\      |
         +--------+        +--------+
         |  MAG1  |        |  MAG2  |    MLD proxy
         +--------+        +--------+
            :                   :
        +------+             +------+
        |  MN1 |   -----&gt;    |  MN1 |
        +------+             +------+

    Figure 2: Architecture for Direct-Routing-Based PMIPv6 Multicasting

   Figure 2 shows the architecture for the local routing case using
   native multicasting infrastructure [<a href="#ref-PMIP6-REQ" title='"Multicast Support Requirements for Proxy Mobile IPv6"'>PMIP6-REQ</a>].

   The local mobility anchor is dedicated to unicast traffic, and the
   multicast traffic is obtained from an upstream multicast router
   present in the PMIPv6 domain.  Note that there can be multiple LMAs
   for unicast traffic (not shown in Figure 1 for simplicity) in a given
   PMIPv6 domain.

   As shown in Figure 2, a mobile access gateway may connect to both
   unicast (LMA) and multicast routers (MRs).  Thus, a given mobile node
   may simultaneously receive both unicast and multicast traffic.

   As seen in Figure 2, each MAG has a direct connection (i.e., not
   using the PMIPv6 tunnel interface) with a multicast router.
   Depending on the multicast support on the visited network, different
   schemas can be used to provide this direct connection between the



<span class="grey">Zuniga, et al.                Experimental                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   MAGs and the multicast router(s), e.g., being connected to the same
   shared link or using a tunneling approach, such as Generic Routing
   Encapsulation (GRE) tunnels [<a href="rfc2784.html" title='"Generic Routing Encapsulation (GRE)"'>RFC2784</a>] or Automatic Multicast
   Tunneling (AMT) [<a href="#ref-AUTO" title='"Automatic Multicast Tunneling"'>AUTO</a>].  To facilitate IGMP/MLD signaling and
   multicast traffic forwarding, an MLD proxy function defined in
   [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>] SHOULD be implemented in the MAG.  There SHOULD be direct
   connectivity between the MAG and the local multicast router (or
   additional MLD proxy).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Mobile%20Access%20Gateway%20Operation"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Mobile Access Gateway Operation</span>

   This section describes the operation of the mobile access gateway,
   considering that the MAG incorporates MLD proxy functions as per
   [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Extensions%20to%20Binding%20Update%20List%20Data%20Structure"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Extensions to Binding Update List Data Structure</span>

   A Binding Update List (BUL) at the MAG, like the one specified in
   [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>], MUST be maintained to handle the relationship between the
   serving entities (e.g., MTMA and LMA) and the mobile nodes for both
   unicast and multicast traffic.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20MAG%20as%20MLD%20Proxy"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  MAG as MLD Proxy</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.1.%20%20MTMA%20Mode%20%28Subscription%20via%20MTMA%29"></a><a class="selflink" href="#section-4.2.1" name="section-4.2.1">4.2.1</a>.  MTMA Mode (Subscription via MTMA)</span>

   In case of subscription via MTMA, all MAGs that are connected to the
   MTMA must support the MLD proxy function [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>].  Specifically in
   Figure 1, each of the MAG1-MTMA and MAG2-MTMA tunnel interfaces
   define an MLD proxy domain.  The mobile nodes are considered to be on
   the downstream interface of the MLD proxy (of the MAG), and the MTMA
   is considered to be on the upstream interface (of the MAG) as per
   [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>].  Note that the mobile access gateway could also be an IGMP
   proxy.

   Figure 3 shows the procedure when MN1 attaches to a MAG, and
   establishes associations with the LMA (unicast) and the MTMA
   (multicast).













<span class="grey">Zuniga, et al.                Experimental                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


           MN1                  MAG1       LMA        MTMA
           |                (MLD proxy) (Unicast) (Multicast)
           MN1 attaches to MAG1  |          |          |
           |                     |          |          |
           |----Rtr Sol---------&gt;|          |          |
           |                     |--PBU----&gt;|          |
           |                     |          |          |
           |                     |&lt;----PBA--|          |
           |                     |          |          |
           |                     |=Unicast==|          |
           |                     |  Tunnel  |          |
           |&lt;---------Rtr Adv----|          |          |
           |                     |          |          |
           |&lt; ------ Unicast Traffic-------&gt;|          |
           |                     |          |          |
           |                     |==Multicast Tunnel===|
           |                     |          |          |
           |&lt;-------MLD Query----|          |          |
           |                     |          |          |
           MN1 requires          |          |          |
           multicast services    |          |          |
           |                     |          |          |
           |----MLD Report (G)--&gt;|          |          |
           |                     |          |          |
           |                     |----Aggregated------&gt;|
           |                     |   MLD Report (G)    |
           |                     |          |          |
           |                     |          |          |
           |&lt;-----------Multicast Traffic-------------&gt;|
           |                     |          |          |

   Figure 3: MN Attachment and Multicast Service Establishment for MTMA

   In Figure 3, the MAG first establishes the PMIPv6 tunnel with LMA for
   unicast traffic as defined in [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] after being triggered by the
   Router Solicitation message from MN1.  Unicast traffic will then flow
   between MN1 and LMA.

   For multicast traffic, a multicast tunnel may have been pre-
   configured between MAG and MTMA, or may be dynamically established
   when the first MN appears at the MAG.

   MN1 sends the MLD report message (when required by its upper-layer
   applications) as defined in [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>] in response to an MLD Query
   from MAG (generated as defined by [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>] upon handover).  The MAG,
   acting as an MLD proxy defined in [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>], will then send an
   Aggregated MLD Report to the multicast anchor, MTMA (assuming that
   this is a new multicast group that the MAG had not previously



<span class="grey">Zuniga, et al.                Experimental                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   subscribed to).  Multicast traffic will then flow from the MTMA
   towards MN1.  The MTMA acts as an MLD Querier, so it will
   periodically query each mobile access gateway about the subscriptions
   it maintains (not shown in Figure 3).

   We next consider a mobility scenario in which MN1 with an ongoing
   multicast subscription moves from one MAG to another MAG.  According
   to the baseline solution signaling method described in [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>],
   after MN1 mobility, the new mobile access gateway acting in its role
   of MLD proxy will send an MLD Query to the newly observed mobile node
   on its downlink.  Assuming that the subsequent MLD Report from MN1
   requests membership for a new multicast group (from the new MAG's
   point of view), this will then result in an Aggregated MLD Report
   being sent to the MTMA from the new mobile access gateway.  This
   message will be sent through a multicast tunnel between the new MAG
   and MTMA (pre-established or dynamically established).

   When MN1 detaches, the old MAG may keep the multicast tunnel with the
   multicast MTMA if there are still other MNs using the multicast
   tunnel.  Even if there are no mobile nodes currently on the multicast
   tunnel, the old MAG may decide to keep the multicast tunnel
   temporarily for potential future use.

   As discussed above, existing MLD (and MLD proxy) signaling will
   handle a large part of the multicast mobility management for the
   mobile node.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.2.2.%20%20Direct%20Routing%20Mode%20%28Subscription%20via%20Direct%20Routing%29"></a><a class="selflink" href="#section-4.2.2" name="section-4.2.2">4.2.2</a>.  Direct Routing Mode (Subscription via Direct Routing)</span>

   In this case, the MLD proxy instance is configured to obtain the
   multicast traffic locally.  Figure 4 shows an example of multicast
   service establishment.  The mobile access gateway first establishes
   the PMIPv6 tunnel with the local mobility anchor for unicast traffic
   as defined in [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] after being triggered by the Router
   Solicitation message from the mobile node.  Unicast traffic will then
   flow between the MN and LMA.

   For multicast traffic, it is assumed that the upstream interface of
   the MLD proxy instance has been configured pointing to a multicast
   router internal to the PMIPv6 domain (or towards an additional MLD
   proxy node in the domain), for all the multicast channels (which, in
   consequence, have to be local).  There should be direct connectivity
   between the MAG and the local multicast router (or additional MLD
   proxy).







<span class="grey">Zuniga, et al.                Experimental                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


        MN1                   MAG1          LMA            MR
         |                (MLD proxy)    (Unicast)    (Multicast)
    MN1 attaches to MAG1       |             |             |
         |                     |             |             |
         |----Rtr Sol---------&gt;|             |             |
         |                     |--PBU-------&gt;|             |
         |                     |             |             |
         |                     |&lt;-------PBA--|             |
         |                     |             |             |
         |                     |===Unicast===|             |
         |                     |   Tunnel    |             |
         |&lt;---------Rtr Adv----|             |             |
         |                     |             |             |
         |&lt;--------Unicast Traffic----------&gt;|             |
         |                     |             |             |
         |                     |             |             |
         |&lt;-------MLD Query----|&lt;-------------MLD Query----|
         |                     |             |             |
     MN1 requires              |             |             |
     multicast services        |             |             |
         |                     |             |             |
         |--MLD Report (G)----&gt;|             |             |
         |                     |             |             |
         |                     |----Aggregated------------&gt;|
         |                     |   MLD Report (G)          |
         |                     |             |             |
         |                     |             |             |
         |&lt;-------------Multicast Traffic-----------------&gt;|
         |                     |             |             |

       Figure 4: Multicast Service Establishment for Direct Routing

   Upon detecting node attachment from an incoming interface, the MAG
   adds each downstream interface to the MLD proxy instance with an
   upstream link to an MR according to the standard MLD proxy operations
   [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>] and sends an MLD Query message towards the MN.  The mobile
   node sends the MLD report message (when required by its upper-layer
   applications) in response to an MLD Query from the MAG.  Upon
   receiving the MLD Report message from each incoming interface, the
   MAG checks the MLD proxy instance associated with the downstream
   interface and then the MLD Report messages will be aggregated and
   forwarded to the upstream link associated with the MR (assuming that
   this is a new multicast group that the MAG had not previously
   subscribed to).  Multicast traffic will then flow from the local
   multicast router towards the mobile node.






<span class="grey">Zuniga, et al.                Experimental                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


         MN1          P-MAG       N-MAG        LMA        MR
          |             |           |           |          |
          |             |           |           |          |
          |&lt;------------|&lt;-- Multicast Data----------------|
          |             |       .   |           |          |
          |             |       .   |           |          |
          |             |       .   |           |          |
       Link         Handover        |           |          |
    Disconnected    Detection       |           |          |
          |             |           |           |          |
          |             |           |           |          |
          |             |    MN Attachment      |          |
          |             |           |           |          |
          |             |           |           |          |
          |----Rtr Sol-------------&gt;|           |          |
          |             |           |           |          |
          |             |           |--PBU-----&gt;|          |
          |             |           |           |          |
          |             |           |&lt;-----PBA--|          |
          |             |           |           |          |
          |&lt;-----------MLD Query----|           |          |
          |             |           |           |          |
          |----MLD Report----------&gt;|           |          |
          |             |           |           |          |
          |             |           |----Aggregated-------&gt;|
          |             |           |    MLD Report        |
          |             |           |           |          |
          |&lt;------------------------|&lt;---Multicast Data----|
          |             |           |           |          |

         Figure 5: Multicast Mobility Signaling for Direct Routing

   Figure 5 shows the handover operation procedure for the direct
   routing operation mode.  When MN1 hands off to the next MAG (N-MAG)
   from the previous MAG (P-MAG), the N-MAG detects the newly arrived
   attached mobile node and performs binding update procedure by
   exchanging PBU/PBA signaling messages with LMA.  At the same time, an
   MLD proxy instance detecting MN1 transmits an MLD query message to
   the mobile node.  After receiving the MLD query message, MN1 sends an
   MLD report message that includes the multicast group information.
   The N-MAG then sends an aggregated MLD report message to the upstream
   link associated with the MR.  An upstream interface of MLD proxy
   instance is chosen towards certain multicast router.  The upstream
   interface selection can be done according to dynamic policies
   conveyed in the Dynamic IP Multicast Selector option (as described in
   <a href="#section-5.1">Section 5.1</a>) or according to manually configured policies.  Note that
   in the base solution defined in [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>], the interface selection is
   determined for each MN based on the Binding Update List.  When the



<span class="grey">Zuniga, et al.                Experimental                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   N-MAG receives the multicast packets from the MR, it then simply
   forwards them without tunnel encapsulation.  The N-MAG updates MN1's
   location information to the LMA by exchanging PBU/PBA signaling
   messages.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Local%20Mobility%20Anchor%20Operation"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Local Mobility Anchor Operation</span>

   This section includes a new mobility option to support dynamic
   policies on subscription via MTMA/direct routing based on the local
   mobility anchor conveying the required info to the mobile access
   gateway in the proxy binding acknowledgement message.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Dynamic%20IP%20Multicast%20Selector%20Option"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Dynamic IP Multicast Selector Option</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.1.%20%20Option%20Application%20Rules"></a><a class="selflink" href="#section-5.1.1" name="section-5.1.1">5.1.1</a>.  Option Application Rules</span>

   A new TLV-encoded mobility option, the Dynamic IP Multicast Selector
   option, is defined for use with the proxy binding acknowledgement
   message exchanged between an LMA and a MAG to convey dynamic policies
   on subscription via MTMA/direct routing.  This option is used for
   exchanging the IP addresses of both the group subscribed to by the
   MN, and the source(s) delivering it, as well as the applicable filter
   mode.  This information is carried by using directly the Multicast
   Address Record format defined in [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>].  There can be multiple
   "Dynamic IP Multicast Selector" options present in the message, up to
   one for each active subscription maintained by the MN.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/5.1.2.%20%20Option%20Format"></a><a class="selflink" href="#section-5.1.2" name="section-5.1.2">5.1.2</a>.  Option Format</span>

   The format of this new option is as follows:





















<span class="grey">Zuniga, et al.                Experimental                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                   |      Type     |     Length    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Protocol    |M| Reserved  |Nr of Mcast Address Records (N)|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                  Multicast Address Record [1]                 +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                  Multicast Address Record [2]                 +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                               .                               |
   |                               .                               |
   |                               .                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                  Multicast Address Record [N]                 +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Type:

      54

   Length:

      8-bit unsigned integer indicating the length of the option in
      octets, excluding the type and length fields.

   Protocol:

      Field used to identify the multicast membership protocol in use,
      and the corresponding format of the next Multicast Address Record.
      This field maps the type codification used in the original MLD
      specifications for the Report message, namely for MLDv2 [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>]
      the Protocol value MUST be 143, whereas for MLDv1 [<a href="rfc2710.html" title='"Multicast Listener Discovery (MLD) for IPv6"'>RFC2710</a>] the
      Protocol value MUST be 131.

   Dynamic IP Multicast Selector Mode Flag (M-bit):

      This field indicates the subscription via MTMA/direct routing
      mode.  If the (M) flag value is set to a value of (1), it is an
      indication that the IP multicast traffic associated with the
      multicast group(s) identified by the Multicast Address Record(s)



<span class="grey">Zuniga, et al.                Experimental                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


      in this mobility option SHOULD be routed locally (subscription via
      direct routing mode).  If the (M) flag value is set to a value of
      (0), it is an indication that IP multicast traffic associated with
      the multicast group(s) identified by the Multicast Address Record
      in this mobility option(s) SHOULD be routed to the home network,
      via the MTMA (subscription via MTMA mode).  The mobile access
      gateway MAY also choose to use static pre-established policies
      instead of following the indications provided by the local
      mobility anchor.  All other IP traffic associated with the mobile
      node is managed according to a default policy configured at the
      PMIPv6 multicast domain.

   Reserved:

      This field is unused for now.  The value MUST be initialized to 0
      by the sender and MUST be ignored by the receiver.

   Nr of Mcast Address Records (N)

      16-bit unsigned integer indicating the number of Mcast Address
      Records (N) present in this option.

   Multicast Address Record:

      Multicast subscription information corresponding to a single
      multicast address as defined in [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>], or as defined in
      [<a href="rfc2710.html" title='"Multicast Listener Discovery (MLD) for IPv6"'>RFC2710</a>] for MLDv1.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Multicast%20Tree%20Mobility%20Anchor%20Operation"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Multicast Tree Mobility Anchor Operation</span>

   The MTMA provides connectivity to the multicast infrastructure out of
   the PMIPv6 domain.  The MTMA itself either could act as an additional
   MLD proxy (only in the case where all the connected mobile access
   gateways act also as MLD proxies), reporting to a further node an
   aggregated view of the subscriptions in a PMIPv6 multicast domain, or
   can act as a designated multicast router for all the MAGs in a PMIPv6
   multicast domain.  The multicast tree mobility anchor will then
   request the multicast content on behalf of the MAGs (and mobile nodes
   behind them).  In addition, the MTMA will create and maintain the
   corresponding multicast forwarding states per each tunnel interface
   towards the MAGs.  Whatever the role played, when the MAGs act as MLD
   proxy, the MTMA becomes the MLD querier of the MLD proxy instance
   located in each MAG.








<span class="grey">Zuniga, et al.                Experimental                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20Conceptual%20Data%20Structures"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  Conceptual Data Structures</span>

   The multicast tree mobility anchor does not directly interact with
   the mobile nodes attached to any of the mobile access gateways.  The
   MTMA only manages the multicast groups subscribed per MAG on behalf
   of the MNs attached to it.  Having this in mind, the relevant
   information to be stored in the MTMA should be the tunnel interface
   identifier (tunnel-if-id) of the bidirectional tunnel for multicast
   between the MTMA and every MAG (e.g., similar to what is stated in
   [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] for the unicast case), the IP addresses of the multicast
   group delivered per tunnel to each of the MAGs, and the IP addresses
   of the sources injecting the multicast traffic per tunnel to the
   multicast domain defined by the MTMA.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Mobile%20Node%20Operation"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Mobile Node Operation</span>

   The mobile node operation is not impacted by the existence of an MTMA
   as anchor for the multicast traffic being subscribed or the use of
   direct routing.  The MN will act according to the stated operations
   in [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] and [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>].

   This document considers that every mobile node requesting multicast-
   only services is previously registered in a PMIPv6 unicast domain to
   get a unicast IP address.  The registration can also be required for
   several purposes such as remote management, billing, multicast
   configuration, etc.

   A given mobile node's policy profile information must be updated to
   be able to store the IPv6 addresses of both the local mobility anchor
   and multicast tree mobility anchor, the later for the subscription
   via MTMA case.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IPv4%20Support"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IPv4 Support</span>

   This document does not introduce any IPv4-specific issue regarding
   [<a href="rfc5844.html" title='"IPv4 Support for Proxy Mobile IPv6"'>RFC5844</a>].  In order for the solution to support IPv4, all the
   described network elements (i.e., MAG, MTMA, and MR) must support
   IGMP.  In this case, the functionalities of the MAG and MTMA would be
   as described in [<a href="rfc6224.html" title='"Base Deployment for Multicast Listener Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>RFC6224</a>], with the MTMA replicating the requirements
   described for the LMA.  For the case of the MR, it must also be dual-
   stack (i.e., IPv6/IPv4) enabled.

   Although references to "MLD proxy" have been used in the document, it
   should be understood to also include "IGMP/MLD proxy" functionality.

   Regarding the Dynamic IP Multicast Selector Option format, it SHOULD
   consider IPv4 compatibility in the following way:




<span class="grey">Zuniga, et al.                Experimental                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   Protocol field:

      For IPv4, this field maps the type codification used in the
      original IGMP specifications for the Report message, in the
      following way:

      It MUST be 0x12 in case of using IGMPv1.

      It MUST be 0x16 in case of using IGMPv2.

      It MUST be 0x22 in case of using IGMPv3.

   Multicast Address Record field:

      This field takes different formats depending on the IGMP version
      being used by the MN, as follows:

      *  For IGMPv1, it takes the format given by the Group Address in
         [<a href="rfc1112.html" title='"Host extensions for IP multicasting"'>RFC1112</a>].

      *  For IGMPv2, it takes the format given by the Group Address in
         [<a href="rfc2236.html" title='"Internet Group Management Protocol, Version 2"'>RFC2236</a>].

      *  For IGMPv3, it takes the format given by the Group Record in
         [<a href="rfc3376.html" title='"Internet Group Management Protocol, Version 3"'>RFC3376</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  IANA Considerations</span>

   This document defines a new mobility option, the Dynamic IP Multicast
   Selector, which has been assigned the Type 54 by IANA.  The Type
   value for these options has been assigned from the same numbering
   space as allocated for the other mobility options, as defined in
   [<a href="rfc6275.html" title='"Mobility Support in IPv6"'>RFC6275</a>]: <a href="http://www.iana.org/assignments/mobility-parameters">http://www.iana.org/assignments/mobility-parameters</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Security%20Considerations"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Security Considerations</span>

   This document describes two complementary operational modes that can
   be used to deliver multicast traffic in a PMIPv6 domain: multicast
   anchor and direct routing.  Different approaches are described in the
   document to decide which operational mode is selected: i) the use of
   pre-configured/pre-provisioned policies at the mobile access gateway,
   or ii) the use of dynamic policies.  Approach ii) could introduce a
   potential security issue if the protocol signaling is not properly
   secured.  The use of the Dynamic IP Multicast Selector option
   described in the document requires message integrity protection and
   source authentication.  Hence, the IPsec security mechanism





<span class="grey">Zuniga, et al.                Experimental                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   recommended by Proxy Mobile IPv6 [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>] MUST be used to secure the
   Dynamic IP Multicast Selector option conveyed in the PBA (Proxy
   Binding Acknowledgement).

   This document does not introduce any additional security threats
   beyond the current security considerations of PMIPv6 [<a href="rfc5213.html" title='"Proxy Mobile IPv6"'>RFC5213</a>], MLD
   [<a href="rfc3810.html" title='"Multicast Listener Discovery Version 2 (MLDv2) for IPv6"'>RFC3810</a>], IGMP [<a href="rfc3376.html" title='"Internet Group Management Protocol, Version 3"'>RFC3376</a>], and IGMP/MLD Proxying [<a href="rfc4605.html" title='"Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("'>RFC4605</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20Contributors"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  Contributors</span>

   The following individuals made significant contributions to this
   document.

   Akbar Rahman
   InterDigital Communications, LLC
   EMail: akbar.rahman@interdigital.com

   Ignacio Soto
   Universidad Carlos III de Madrid
   EMail: isoto@it.uc3m.es































<span class="grey">Zuniga, et al.                Experimental                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20References"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/12.1.%20%20Normative%20References"></a><a class="selflink" href="#section-12.1" name="section-12.1">12.1</a>.  Normative References</span>

   [<a id="ref-RFC1112" name="ref-RFC1112">RFC1112</a>]    Deering, S., "Host extensions for IP multicasting",
                STD 5, <a href="rfc1112.html">RFC 1112</a>, August 1989.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]    Bradner, S., "Key words for use in RFCs to Indicate
                Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2236" name="ref-RFC2236">RFC2236</a>]    Fenner, W., "Internet Group Management Protocol, Version
                2", <a href="rfc2236.html">RFC 2236</a>, November 1997.

   [<a id="ref-RFC2710" name="ref-RFC2710">RFC2710</a>]    Deering, S., Fenner, W., and B. Haberman, "Multicast
                Listener Discovery (MLD) for IPv6", <a href="rfc2710.html">RFC 2710</a>,
                October 1999.

   [<a id="ref-RFC2784" name="ref-RFC2784">RFC2784</a>]    Farinacci, D., Li, T., Hanks, S., Meyer, D., and P.
                Traina, "Generic Routing Encapsulation (GRE)", <a href="rfc2784.html">RFC 2784</a>,
                March 2000.

   [<a id="ref-RFC3376" name="ref-RFC3376">RFC3376</a>]    Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A.
                Thyagarajan, "Internet Group Management Protocol,
                Version 3", <a href="rfc3376.html">RFC 3376</a>, October 2002.

   [<a id="ref-RFC3810" name="ref-RFC3810">RFC3810</a>]    Vida, R. and L. Costa, "Multicast Listener Discovery
                Version 2 (MLDv2) for IPv6", <a href="rfc3810.html">RFC 3810</a>, June 2004.

   [<a id="ref-RFC4605" name="ref-RFC4605">RFC4605</a>]    Fenner, B., He, H., Haberman, B., and H. Sandick,
                "Internet Group Management Protocol (IGMP) / Multicast
                Listener Discovery (MLD)-Based Multicast Forwarding
                ("IGMP/MLD Proxying")", <a href="rfc4605.html">RFC 4605</a>, August 2006.

   [<a id="ref-RFC5213" name="ref-RFC5213">RFC5213</a>]    Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury,
                K., and B. Patil, "Proxy Mobile IPv6", <a href="rfc5213.html">RFC 5213</a>,
                August 2008.

   [<a id="ref-RFC5844" name="ref-RFC5844">RFC5844</a>]    Wakikawa, R. and S. Gundavelli, "IPv4 Support for Proxy
                Mobile IPv6", <a href="rfc5844.html">RFC 5844</a>, May 2010.

   [<a id="ref-RFC5847" name="ref-RFC5847">RFC5847</a>]    Devarapalli, V., Koodli, R., Lim, H., Kant, N.,
                Krishnan, S., and J. Laganier, "Heartbeat Mechanism for
                Proxy Mobile IPv6", <a href="rfc5847.html">RFC 5847</a>, June 2010.

   [<a id="ref-RFC6275" name="ref-RFC6275">RFC6275</a>]    Perkins, C., Johnson, D., and J. Arkko, "Mobility
                Support in IPv6", <a href="rfc6275.html">RFC 6275</a>, July 2011.





<span class="grey">Zuniga, et al.                Experimental                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/12.2.%20%20Informative%20References"></a><a class="selflink" href="#section-12.2" name="section-12.2">12.2</a>.  Informative References</span>

   [<a id="ref-AUTO" name="ref-AUTO">AUTO</a>]       Bumgardner, G., <a href="https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Automatic+Multicast+Tunneling%22" style="text-decoration: none">"Automatic Multicast Tunneling"</a>, Work in
                Progress, July 2013.

   [<a id="ref-MLDPROXY" name="ref-MLDPROXY">MLDPROXY</a>]   Asaeda, H. and S. Jeon, "Multiple Upstream Interface
                Support for IGMP/MLD Proxy", Work in Progress,
                February 2013.

   [<a id="ref-MUIIMP" name="ref-MUIIMP">MUIIMP</a>]     Zhang, H. and T. Schmidt, "Multi-Upstream Interfaces
                IGMP/MLD Proxy", Work in Progress, July 2013.

   [<a id="ref-MULTIMOB" name="ref-MULTIMOB">MULTIMOB</a>]   Schmidt, T., Gao, S., Zhang, H., and M. Waehlisch,
                "Mobile Multicast Sender Support in Proxy Mobile IPv6
                (PMIPv6) Domains", Work in Progress, July 2013.

   [<a id="ref-PMIP6-REQ" name="ref-PMIP6-REQ">PMIP6-REQ</a>]  Deng, H., Chen, G., Schmidt, T., Seite, P., and P. Yang,
                "Multicast Support Requirements for Proxy Mobile IPv6",
                Work in Progress, July 2009.

   [<a id="ref-RFC6224" name="ref-RFC6224">RFC6224</a>]    Schmidt, T., Waehlisch, M., and S. Krishnan, "Base
                Deployment for Multicast Listener Support in Proxy
                Mobile IPv6 (PMIPv6) Domains", <a href="rfc6224.html">RFC 6224</a>, April 2011.

   [<a id="ref-UPSTREAM" name="ref-UPSTREAM">UPSTREAM</a>]   Contreras, LM., Bernardos, CJ., and JC. Zuniga,
                "Extension of the MLD proxy functionality to support
                multiple upstream interfaces", Work in Progress,
                February 2013.























<span class="grey">Zuniga, et al.                Experimental                     [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20MTMA%20Deployment%20Use%20Cases"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  MTMA Deployment Use Cases</span>

   This informative appendix describes, from the network architecture
   point of view, several deployment options considering the MTMA.

   These options can be distinguished in terms of the number of LMAs and
   MTMAs present in a PMIPv6 domain and the service relationship that a
   set of MNs gets from them, in the form of a "LMA : MTMA" ratio.
   According to that, it is possible to differentiate the following
   approaches:

   o  A set of MNs is served in a PMIPv6 domain by two entities, one
      MTMA for multicast service, and one LMA for unicast, in such a way
      that the ratio is 1:1 (one common PMIPv6 unicast and multicast
      domain).

   o  A set of MNs is served in a PMIPv6 domain by several entities, one
      MTMA for multicast service, while the others (LMAs) for unicast,
      in such a way that the ratio is N:1 (N PMIPv6 unicast domains
      coexist with a unique multicast domain).

   o  A set of MNs is served in a PMIPv6 domain by several entities, one
      LMA for unicast, while the others (MTMAs) are devoted to multicast
      service, in such a way that the ratio is 1:N (one single PMIPv6
      unicast domain coexists with multiple multicast domains).

   Scenarios with an N:M ratio are considered to be a combination of the
   previous ones.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.1.%20%20PMIPv6%20Domain%20with%20Ratio%201%3A1"></a><a class="selflink" href="#appendix-A.1" name="appendix-A.1">A.1</a>.  PMIPv6 Domain with Ratio 1:1</span>

   This approach refers to the architecture presented in Figure 1.
   Within this approach, a common set of MNs is served by a couple of
   entities, one LMA for unicast and one MTMA for multicast.  All the
   MNs of the set are served by these two elements as they move in the
   PMIPv6 domain.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.2.%20%20PMIPv6%20Domain%20with%20Ratio%20N%3A1"></a><a class="selflink" href="#appendix-A.2" name="appendix-A.2">A.2</a>.  PMIPv6 Domain with Ratio N:1</span>

   This approach refers to the situation where a common set of MNs is
   served by a unique MTMA for multicast service, but simultaneously
   there are subsets from that group of MNs that are served by distinct
   LMAs for unicast service as they move in the PMIPv6 domain.  Each
   particular MN association with the LMAs (unicast) and MTMA
   (multicast) remains always the same as it moves in the PMIPv6 domain.

   Figure 6 shows the scenario here described.




<span class="grey">Zuniga, et al.                Experimental                     [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


            +----------------+       +----------------+
            |Content Source A|       |Content Source B|
            +----------------+       +----------------+
                   |                      |
                   |                      |
         ***  ***  ***  ***  ***  ***  ***  *** *** *** ***
        *   **   **   **   **  **   **   **   **   **  **  *
       *                                                    *
       *                 Fixed Internet                     *
       *        (Unicast &amp; Multicast Traffic)               *
        *   **   **   **   **  **   **   **   **   **  **  *
         ***  ***  ***  *** *** ***  ***  ***  ***  ***  ***
           |                     |                      |
           |                     |                      |
           |                     |                      |
        +------+        +-----------------+          +------+
        | LMA1 |        |       MTMA2     |          | LMA3 |
        +------+        +-----------------+          +------+
          || \\        oo    oo      oo   oo          //  ||
          ||  \\      oo     oo      oo    oo        //   ||
          ||   \\    oo      oo      oo     oo      //    ||
          ||    \\  oo       oo      oo      oo    //     ||
          ||     \\oo        oo      oo       oo  //      ||
          ||      \\         oo      oo        oo//       ||
          ||     oo\\        oo      oo         //        ||
          ||    oo  \\       oo      oo        //oo       ||
          ||   oo    \\      oo      oo       //  oo      ||
          ||  oo      \\     oo      oo      //    oo     ||
        +------+      +--------+     +--------+     +--------+
        | MAG1 |      |  MAG2  |     |  MAG3  |     |  MAG4  |
        +------+      +--------+     +--------+     +--------+
        |      |       |      |       |      |       |      |
        |      |       |      |       |      |       |      |
     {MN10}  {MN11}  {MN20} {MN21}  {MN30} {MN31} {MN40} {MN41}

                  Figure 6: PMIPv6 Domain with Ratio N:1

   Figure 6 proposes an architecture where there are two entities acting
   as LMAs, LMA1 and LMA3, while there is another one, named MTMA2,
   working as multicast tree mobility anchor.  LMA1 and LMA3 constitute
   two distinct unicast domains, whereas MTMA2 forms a single multicast
   domain.  The tunnels among MAGs and LMAs represented by lines ("||")
   indicate a tunnel transporting unicast traffic, while the tunnels
   among MAGs and MTMA2 depicted with circles ("o") show a tunnel
   transporting multicast traffic.

   In the figure, it can be observed that all the MNs are served by
   MTMA2 for the incoming multicast traffic from sources A or B.



<span class="grey">Zuniga, et al.                Experimental                     [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   However, there are different subsets regarding unicast traffic, which
   maintain distinct associations within the PMIPv6 domain.  For
   instance, the subset formed by MN10, MN11, MN20, and MN21 is served
   by LMA1 for unicast, and the rest of MNs are served by LMA3.  For the
   scenario described above, the association between each MN and the
   corresponding LMA and MTMA is permanently maintained.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.3.%20%20PMIPv6%20Domain%20with%20Ratio%201%3AN"></a><a class="selflink" href="#appendix-A.3" name="appendix-A.3">A.3</a>.  PMIPv6 Domain with Ratio 1:N</span>

   This approach is related to a scenario where a common group of MNs is
   served by a unique LMA for unicast service, but simultaneously there
   are subsets from that group of MNs that are served by distinct MTMAs
   for multicast service as they move in the PMIPv6 domain.  Different
   MTMAs might be associated with serving different multicast groups.
   These associations remain the same even if the MNs move within the
   PMIPv6 domain.

   Figure 7 shows the scenario here described.

































<span class="grey">Zuniga, et al.                Experimental                     [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


     +----------------+                    +----------------+
     |Content Source A|                    |Content Source B|
     +----------------+                    +----------------+
            |                                       |
            |          ********************         |
           ( )        *                    *       ( )
          (   )      *    Fixed Internet    *     (   )
         (     )     *   (Unicast Traffic)  *    (     )
          (   )       *                    *      (   )
           ( )         ********************        ( )
            |                   |                   |
            |                   |                   |
         +------+       +--------------+      +------+
         | MTMA1|       |     LMA2     |      | MTMA3|
         +------+       +--------------+      +------+
         oo      oo           // \\          ^^     ^^
          oo       oo        //   \\       ^^      ^^
           oo        oo     //     \\    ^^       ^^
            oo         oo  //       \\ ^^        ^^
             oo          oo/         ^^         ^^
              oo         //oo      ^^ \\       ^^
               oo       //   oo  ^^    \\     ^^
                oo     //      oo       \\   ^^
                 oo   //      ^^ oo      \\ ^^
                  oo //     ^^     oo     \^^
               +-------------+     +-------------+
               |   \      /  |     |  \     |    |
               |   ~o~~~~o~  |     |  ~o~~~~o~   |
               |  ( MLD w  ) |     | (  MLD w )  |
               |  ( multip ) |     | ( multip )  |
               |  (  i/f   ) |     | (  i/f   )  |
               |   ~~~~~~~~  |     |  ~~~~~~~~   |
               |             |     |             |
               |     MAG1    |     |     MAG2    |
              /+-------------+     +-------------+\
             |       |       |     |        |      |
             |       |       |     |        |      |
          {MN10}   {MN11} {MN12}  {MN20}  {MN21} {MN22}

                  Figure 7: PMIPv6 Domain with Ratio 1:N

   Figure 7 proposes an architecture where the LMA2 is the unique LMA
   for a certain group of MNs, while there are two other entities, MTMA1
   and MTMA3, acting as MTMAs for different subsets of multicast
   content.  MTMA1 and MTMA3 constitute two distinct multicast domains,
   whereas LMA2 forms a single unicast domain.  Each MTMA could be
   devoted to carry on a different content (for instance, MTMA1 for
   source A and MTMA3 for source B).  Looking at the figure, all MNs are



<span class="grey">Zuniga, et al.                Experimental                     [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   served by LMA2 for unicast, while they might be simultaneously served
   by MTMA1 and MTMA3, depending on the multicast content.  For the
   scenario described above, the association between multicast content
   and MTMA is permanently maintained.  Note that this scenario would
   require support for MLD proxy with multiple interfaces [<a href="#ref-MULTIMOB" title='"Mobile Multicast Sender Support in Proxy Mobile IPv6 (PMIPv6) Domains"'>MULTIMOB</a>],
   [<a href="#ref-UPSTREAM" title='"Extension of the MLD proxy functionality to support multiple upstream interfaces"'>UPSTREAM</a>], [<a href="#ref-MLDPROXY" title='"Multiple Upstream Interface Support for IGMP/MLD Proxy"'>MLDPROXY</a>], [<a href="#ref-MUIIMP" title='"Multi-Upstream Interfaces IGMP/MLD Proxy"'>MUIIMP</a>] at the MAGs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/A.4.%20%20PMIPv6%20Domain%20with%20H-LMA"></a><a class="selflink" href="#appendix-A.4" name="appendix-A.4">A.4</a>.  PMIPv6 Domain with H-LMA</span>

   The H-LMA is defined as an entity that simultaneously transports
   unicast and multicast service, that is, it simultaneously works as
   LMA and MTMA.  In the context of the MTMA solution, an H-LMA can play
   the role of MTMA for an entire group of MNs in a PMIPv6 domain, while
   acting simultaneously as LMA for a subset of them.  Figure 8 adapts
   the PMIPv6 domain with ratio N:1 scenario of Figure 6 to the case
   where MTMA2 is an H-LMA, which serves multicast traffic to all the
   MNs in the picture, and simultaneously, it is able to serve unicast
   traffic to the subset formed by MN21 and MN30.

































<span class="grey">Zuniga, et al.                Experimental                     [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


            +----------------+       +----------------+
            |Content Source A|       |Content Source B|
            +----------------+       +----------------+
                   |                      |
                   |                      |
         ***  ***  ***  ***  ***  ***  ***  *** *** *** ***
        *   **   **   **   **  **   **   **   **   **  **  *
       *                                                    *
       *                 Fixed Internet                     *
       *        (Unicast &amp; Multicast Traffic)               *
        *   **   **   **   **  **   **   **   **   **  **  *
         ***  ***  ***  *** *** ***  ***  ***  ***  ***  ***
           |                     |                      |
           |                     |                      |
           |                     |                      |
        +------+        +-----------------+          +------+
        | LMA1 |        |       H-LMA     |          | LMA3 |
        +------+        +-----------------+          +------+
          || \\        oo    db      db   oo          //  ||
          ||  \\      oo     db      db    oo        //   ||
          ||   \\    oo      db      db     oo      //    ||
          ||    \\  oo       db      db      oo    //     ||
          ||     \\oo        db      db       oo  //      ||
          ||      \\         db      db        oo//       ||
          ||     oo\\        db      db         //        ||
          ||    oo  \\       db      db        //oo       ||
          ||   oo    \\      db      db       //  oo      ||
          ||  oo      \\     db      db      //    oo     ||
        +------+      +--------+     +--------+     +--------+
        | MAG1 |      |  MAG2  |     |  MAG3  |     |  MAG4  |
        +------+      +--------+     +--------+     +--------+
        |      |       |      |       |      |       |      |
        |      |       |      |       |      |       |      |
     {MN10}  {MN11}  {MN20} {MN21}  {MN30} {MN31} {MN40} {MN41}


                    Figure 8: PMIPv6 Domain with H-LMA

   Figure 8 presents a PMIPv6 network where there are two pure unicast
   LMAs, LMA1, and LMA3, and a hybrid LMA, labeled as H-LMA in the
   figure.  The H-LMA is an MTMA from the perspective of MAG1 and MAG4.
   The tunnels among MAGs and LMAs represented by lines ("||") indicate
   a tunnel transporting exclusively unicast traffic, the tunnels
   depicted with circles ("o") show a tunnel transporting exclusively
   multicast traffic, and the tunnels with mixed lines and circles
   ("db") describe a tunnel transporting both types of traffic
   simultaneously.




<span class="grey">Zuniga, et al.                Experimental                     [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


   All of the MNs in the figure receive the multicast traffic from H-LMA
   (one single multicast domain), but it is possible to distinguish
   three subsets from the unicast service perspective (that is, three
   unicast domains).  The first subset is the one formed by MN10, MN11,
   and MN20, which receives unicast traffic from LMA1.  A second subset
   is the one formed by MN21 and MN30, which receives unicast traffic
   from H-LMA.  And finally, a third subset is built on MN31, MN40, and
   MN41, which receives unicast traffic from LMA3.  For the scenario
   described above, the association between each MN and the
   corresponding LMA and H-LMA is permanently maintained.









































<span class="grey">Zuniga, et al.                Experimental                     [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc7028.html">RFC 7028</a>        Multicast Mobility Routing Optimizations  September 2013</span>


Authors' Addresses

   Juan Carlos Zuniga
   InterDigital Communications, LLC
   1000 Sherbrooke Street West, 10th floor
   Montreal, Quebec  H3A 3G4
   Canada
   EMail: JuanCarlos.Zuniga@InterDigital.com
   URI:   <a href="http://www.interdigital.com/">http://www.InterDigital.com/</a>

   Luis M. Contreras
   Telefonica I+D
   Don Ramon de la Cruz, 82-84
   Madrid  28006
   Spain
   EMail: lmcm@tid.es

   Carlos J. Bernardos
   Universidad Carlos III de Madrid
   Av. Universidad, 30
   Leganes, Madrid  28911
   Spain
   Phone: +34 91624 6236
   EMail: cjbc@it.uc3m.es
   URI:   <a href="http://www.it.uc3m.es/cjbc/">http://www.it.uc3m.es/cjbc/</a>

   Seil Jeon
   Instituto de Telecomunicacoes
   Campus Universitario de Santiago
   Aveiro  3810-193
   Portugal
   EMail: seiljeon@av.it.pt
   URI:   <a href="https://atnog.av.it.pt/~sjeon/">https://atnog.av.it.pt/~sjeon/</a>

   Younghan Kim
   Soongsil University
   Sangdo-dong, Dongjak-gu
   Seoul  511
   Republic of Korea
   EMail: yhkim@dcn.ssu.ac.kr
   URI:   <a href="http://dcnlab.ssu.ac.kr/">http://dcnlab.ssu.ac.kr/</a>










Zuniga, et al.                Experimental                     [Page 29]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7028 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:25 GMT --></html>