<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc8115 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 13:49:48 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.127" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-qin-softwire-multicast-prefix-option" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:8115" name="DC.Identifier"/>
<meta content="March, 2017" name="DC.Date.Issued"/>
<meta content="Tsou, Tina" name="DC.Creator"/>
<meta content="Deng, Xiaohong" name="DC.Creator"/>
<meta content="Boucadair, Mohamed" name="DC.Creator"/>
<meta content="Qin, Jacni" name="DC.Creator"/>
<meta content="This document defines a Dynamic Host Configuration Protocol version 6
(DHCPv6) Option for multicast IPv4 service continuity solutions, which
is used to carry the IPv6 prefixes to be used to build unicast and
multicast IPv4-embedded IPv6 addresses." name="DC.Description.Abstract"/>
<meta content="DHCPv6 Option for IPv4-Embedded Multicast and Unicast IPv6 Prefixes" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 8115 - DHCPv6 Option for IPv4-Embedded Multicast and Unicast IPv6 Prefixes</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc8115.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc8115" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-softwire-multicast-prefix-option" title="draft-ietf-softwire-multicast-prefix-option">draft-ietf-soft...</a>] [<a href="https://datatracker.ietf.org/doc/rfc8115" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc8115" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc8115" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                      M. Boucadair
Request for Comments: 8115                                        Orange
Category: Standards Track                                         J. Qin
ISSN: 2070-1721                                                    Cisco
                                                                 T. Tsou
                                                        Philips Lighting
                                                                 X. Deng
                                       The University of New South Wales
                                                              March 2017


  <span class="h1">DHCPv6 Option for IPv4-Embedded Multicast and Unicast IPv6 Prefixes</span>

Abstract

   This document defines a Dynamic Host Configuration Protocol version 6
   (DHCPv6) Option for multicast IPv4 service continuity solutions,
   which is used to carry the IPv6 prefixes to be used to build unicast
   and multicast IPv4-embedded IPv6 addresses.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="rfc7841.html#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc8115">http://www.rfc-editor.org/info/rfc8115</a>.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



<span class="grey">Boucadair, et al.            Standards Track                    [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
     <a href="#section-1.1">1.1</a>.  Requirements Language . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-3">3</a>.  OPTION_V6_PREFIX64 DHCPv6 Option  . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-4">4</a>.  DHCPv6 Client Behavior  . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-6">6</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-7">7</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-7.1">7.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-7.2">7.2</a>.  Informative References  . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#appendix-A">Appendix A</a>.  Configuration Recommendations for DHCP Servers . . .   <a href="#page-8">8</a>
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   Several solutions (e.g., [<a href="rfc8114.html" title='"Delivery of IPv4 Multicast Services to IPv4 Clients over an IPv6 Multicast Network"'>RFC8114</a>]) are proposed for the delivery of
   multicast services in the context of transition to IPv6.  Even if
   these solutions may have different applicable use cases, they all use
   specific IPv6 addresses that embed IPv4 addresses, for both multicast
   group and source addresses.

   This document defines a DHCPv6 option [<a href="rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>] that carries the IPv6
   prefixes to be used for constructing these IPv4-embedded IPv6
   addresses.

   In particular, this option can be used in the context of Dual-Stack
   Lite (DS-Lite) [<a href="rfc6333.html" title='"Dual- Stack Lite Broadband Deployments Following IPv4 Exhaustion"'>RFC6333</a>], Stateless Address plus Port (A+P)
   [<a href="rfc6346.html" title='"The Address plus Port (A+P) Approach to the IPv4 Address Shortage"'>RFC6346</a>], and other IPv4-IPv6 transition techniques.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Requirements%20Language"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   This document makes use of the following terms:

   IPv4-embedded IPv6 address:  an IPv6 address that embeds a 32-bit-
      encoded IPv4 address [<a href="rfc6052.html" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>].  An IPv4-embedded IPv6 address can
      be a unicast or a multicast address.






<span class="grey">Boucadair, et al.            Standards Track                    [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


   Prefix64:  an IPv6 prefix used for synthesizing IPv4-embedded IPv6
      addresses.  A Prefix64 can be unicast or multicast.

         Note: "64" is used as an abbreviation for IPv6-IPv4
         interconnection.

   ASM_mPrefix64:  a multicast Prefix64 that belongs to the Any-Source
      Multicast (ASM) range.

   SSM_mPrefix64:  a multicast Prefix64 which belongs to the Source-
      Specific Multicast (SSM) [<a href="rfc4607.html" title='"Source-Specific Multicast for IP"'>RFC4607</a>] range.

   uPrefix64:  a unicast Prefix64 for building the IPv4-embedded IPv6
      addresses of multicast sources in SSM mode.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20OPTION_V6_PREFIX64%20DHCPv6%20Option"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  OPTION_V6_PREFIX64 DHCPv6 Option</span>

   OPTION_V6_PREFIX64 (Figure 1) conveys the IPv6 prefix(es) to be used
   (e.g., by an mB4 [<a href="rfc8114.html" title='"Delivery of IPv4 Multicast Services to IPv4 Clients over an IPv6 Multicast Network"'>RFC8114</a>]) to synthesize IPv4-embedded IPv6
   addresses.

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |        OPTION_V6_PREFIX64     |         option-length         |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |  asm-length   |                                               |
     +-+-+-+-+-+-+-+-+                                               :
     :                       ASM_mPrefix64                           :
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |  ssm-length   |                                               |
     +-+-+-+-+-+-+-+-+                                               :
     :                        SSM_mPrefix64                          :
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | unicast-length|                                               |
     +-+-+-+-+-+-+-+-+                                               :
     :                   uPrefix64 (Variable)                        :
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Figure 1: Option Format for OPTION_V6_PREFIX64

   The fields of the option shown in Figure 1 are as follows:

   option-code:  OPTION_V6_PREFIX64 (see <a href="#section-6">Section 6</a>).

   option-length:  length of the option, in octets.






<span class="grey">Boucadair, et al.            Standards Track                    [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


   asm-length:  the prefix length for the ASM IPv4-embedded prefix, as
      an 8-bit unsigned integer.  This field represents the number of
      valid leading bits in the prefix.  This field MUST be set to 96.

   ASM_mPrefix64:  this field identifies the IPv6 multicast prefix to be
      used to synthesize the IPv4-embedded IPv6 addresses of the
      multicast groups in the ASM mode.  The conveyed multicast IPv6
      prefix MUST belong to the ASM range.

   ssm-length:  the prefix length for the SSM IPv4-embedded prefix, as
      an 8-bit unsigned integer.  This field represents the number of
      valid leading bits in the prefix.  This field MUST be set to 96.

   SSM_mPrefix64:  this field identifies the IPv6 multicast prefix to be
      used to synthesize the IPv4-embedded IPv6 addresses of the
      multicast groups in SSM mode.  The conveyed multicast IPv6 prefix
      MUST belong to the SSM range.

   unicast-length:  the prefix length for the IPv6 unicast prefix to be
      used to synthesize the IPv4-embedded IPv6 addresses of the
      multicast sources, as an 8-bit unsigned integer.  As specified in
      [<a href="rfc6052.html" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>], the unicast-length MUST be one of 32, 40, 48, 56, 64,
      or 96.  This field represents the number of valid leading bits in
      the prefix.

   uPrefix64:  this field identifies the IPv6 unicast prefix to be used
      in SSM mode for constructing the IPv4-embedded IPv6 addresses
      representing the IPv4 multicast sources in the IPv6 domain.
      uPrefix64 may also be used to extract the IPv4 address from the
      received multicast data flows.  It is a variable-size field with
      the length of the field defined by the unicast-length field and is
      rounded up to the nearest octet boundary.  In this case, any
      additional padding bits must be zeroed.  The address mapping MUST
      follow the guidelines documented in [<a href="rfc6052.html" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>].

   Multiple instances of OPTION_V6_PREFIX64 may be returned to a DHCPv6
   client.  Configuration recommendations for DHCP servers are listed in
   <a href="#appendix-A">Appendix A</a>.

   Note that it was tempting to define three distinct DHCPv6 options,
   but that approach was not adopted because it has a side effect: the
   specification of a DHCPv6 option that could be used to discover
   unicast Prefix64s in environments where multicast is not enabled.
   Such a side effect conflicts with the recommendation to support the
   Well-Known DNS Name heuristic discovery-based method for unicast-only
   environments (<a href="rfc7051.html#section-6">Section 6 of [RFC7051]</a>).





<span class="grey">Boucadair, et al.            Standards Track                    [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20DHCPv6%20Client%20Behavior"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  DHCPv6 Client Behavior</span>

   To retrieve the IPv6 prefixes that will be used to synthesize unicast
   and multicast IPv4-embedded IPv6 addresses, the DHCPv6 client MUST
   include the OPTION_V6_PREFIX64 code in its OPTION_ORO.  If the DHCPv6
   client receives more than one OPTION_V6_PREFIX64 option from the
   DHCPv6 server:

   o  If each enclosed IPv6 multicast prefix has a distinct scope
      [<a href="rfc7346.html" title='"IPv6 Multicast Address Scopes"'>RFC7346</a>], the client MUST select the appropriate IPv6 multicast
      prefix whose scope matches the IPv4 multicast address used to
      synthesize an IPv4-embedded IPv6 multicast address.

   o  If at least two of the received options convey IPv6 multicast
      prefixes that have the same scope, the said options MUST be
      discarded.

   If asm-length, ssm-length and unicast-length fields are all set to 0,
   the DHCPv6 client MUST behave as if OPTION_V6_PREFIX64 had not been
   received in the response received from the DHCPv6 server.

   If the asm-length field is non-null, the IPv6 prefix identified by
   ASM_mPrefix64 is used to synthesize IPv4-embedded IPv6 multicast
   addresses in the ASM range.  This is achieved by concatenating the
   ASM_mPrefix64 and the IPv4 multicast address; the IPv4 multicast
   address is inserted in the last 32 bits of the IPv4-embedded IPv6
   multicast address.

   If the ssm-length field is non-null, the IPv6 prefix identified by
   SSM_mPrefix64 is used to synthesize IPv4-embedded IPv6 multicast
   addresses in the SSM range.  This is achieved by concatenating the
   SSM_mPrefix64 and the IPv4 multicast address; the IPv4 multicast
   address is inserted in the last 32 bits of the IPv4-embedded IPv6
   multicast address.

   If the unicast-length field is non-null, the IPv6 prefix identified
   by uPrefix64 is used to synthesize IPv4-embedded IPv6 unicast
   addresses as specified in [<a href="rfc6052.html" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Security Considerations</span>

   The security considerations documented in [<a href="rfc3315.html" title='"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"'>RFC3315</a>] and [<a href="rfc6052.html" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] are
   to be considered.








<span class="grey">Boucadair, et al.            Standards Track                    [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  IANA Considerations</span>

   IANA has assigned the following option code in the "Dynamic Host
   Configuration Protocol for IPv6 (DHCPv6)" registry
   &lt;<a href="http://www.iana.org/assignments/dhcpv6-parameters">http://www.iana.org/assignments/dhcpv6-parameters</a>&gt;:

      Option Name          Value
      ------------------   -----
      OPTION_V6_PREFIX64   113

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20References"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1.%20%20Normative%20References"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3315" name="ref-RFC3315">RFC3315</a>]  Droms, R., Ed., Bound, J., Volz, B., Lemon, T., Perkins,
              C., and M. Carney, "Dynamic Host Configuration Protocol
              for IPv6 (DHCPv6)", <a href="rfc3315.html">RFC 3315</a>, DOI 10.17487/RFC3315, July
              2003, &lt;<a href="http://www.rfc-editor.org/info/rfc3315">http://www.rfc-editor.org/info/rfc3315</a>&gt;.

   [<a id="ref-RFC4607" name="ref-RFC4607">RFC4607</a>]  Holbrook, H. and B. Cain, "Source-Specific Multicast for
              IP", <a href="rfc4607.html">RFC 4607</a>, DOI 10.17487/RFC4607, August 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4607">http://www.rfc-editor.org/info/rfc4607</a>&gt;.

   [<a id="ref-RFC6052" name="ref-RFC6052">RFC6052</a>]  Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X.
              Li, "IPv6 Addressing of IPv4/IPv6 Translators", <a href="rfc6052.html">RFC 6052</a>,
              DOI 10.17487/RFC6052, October 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6052">http://www.rfc-editor.org/info/rfc6052</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2.%20%20Informative%20References"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-RFC2365" name="ref-RFC2365">RFC2365</a>]  Meyer, D., "Administratively Scoped IP Multicast", <a href="https://tools.ietf.org/html/bcp23">BCP 23</a>,
              <a href="rfc2365.html">RFC 2365</a>, DOI 10.17487/RFC2365, July 1998,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2365">http://www.rfc-editor.org/info/rfc2365</a>&gt;.

   [<a id="ref-RFC6333" name="ref-RFC6333">RFC6333</a>]  Durand, A., Droms, R., Woodyatt, J., and Y. Lee, "Dual-
              Stack Lite Broadband Deployments Following IPv4
              Exhaustion", <a href="rfc6333.html">RFC 6333</a>, DOI 10.17487/RFC6333, August 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6333">http://www.rfc-editor.org/info/rfc6333</a>&gt;.

   [<a id="ref-RFC6346" name="ref-RFC6346">RFC6346</a>]  Bush, R., Ed., "The Address plus Port (A+P) Approach to
              the IPv4 Address Shortage", <a href="rfc6346.html">RFC 6346</a>,
              DOI 10.17487/RFC6346, August 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6346">http://www.rfc-editor.org/info/rfc6346</a>&gt;.



<span class="grey">Boucadair, et al.            Standards Track                    [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


   [<a id="ref-RFC7051" name="ref-RFC7051">RFC7051</a>]  Korhonen, J., Ed. and T. Savolainen, Ed., "Analysis of
              Solution Proposals for Hosts to Learn NAT64 Prefix",
              <a href="rfc7051.html">RFC 7051</a>, DOI 10.17487/RFC7051, November 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7051">http://www.rfc-editor.org/info/rfc7051</a>&gt;.

   [<a id="ref-RFC7346" name="ref-RFC7346">RFC7346</a>]  Droms, R., "IPv6 Multicast Address Scopes", <a href="rfc7346.html">RFC 7346</a>,
              DOI 10.17487/RFC7346, August 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7346">http://www.rfc-editor.org/info/rfc7346</a>&gt;.

   [<a id="ref-RFC8114" name="ref-RFC8114">RFC8114</a>]  Boucadair, M., Qin, C., Jacquenet, C., Lee, Y., and Q.
              Wang, "Delivery of IPv4 Multicast Services to IPv4 Clients
              over an IPv6 Multicast Network", <a href="rfc8114.html">RFC 8114</a>,
              DOI 10.17487/RFC8114, March 2017,
              &lt;<a href="http://www.rfc-editor.org/info/rfc8114">http://www.rfc-editor.org/info/rfc8114</a>&gt;.





































<span class="grey">Boucadair, et al.            Standards Track                    [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/Appendix%20A.%20%20Configuration%20Recommendations%20for%20DHCP%20Servers"></a><a class="selflink" href="#appendix-A" name="appendix-A">Appendix A</a>.  Configuration Recommendations for DHCP Servers</span>

   This appendix details a set of non-normative configuration
   recommendations:

   o  DHCP servers supporting OPTION_V6_PREFIX64 must be configured with
      ASM_mPrefix64 or SSM_mPrefix64, and may be configured with both.

   o  uPrefix64 must also be configured when SSM_mPrefix64 is provided.

   o  uPrefix64 may be configured when ASM_mPrefix64 is provided.

      Note that uPrefix64 is not mandatory for the ASM case if, for
      example, a local address mapping algorithm is supported or the
      Well-Known Prefix (64:ff9b::/96) is used.

   o  Both ASM_mPrefix64 and SSM_mPrefix64 may be configured and
      therefore be returned to a requesting DHCP client in the same
      OPTION_V6_PREFIX64.  In particular, if both SSM and ASM modes are
      supported, ASM_mPrefix64 and SSM_mPrefix64 prefixes must be
      configured.  For SSM deployments, both SSM_mPrefix64 and uPrefix64
      must be configured.

   o  When a multicast Prefix64 (ASM_mPrefix64 or SSM_mPrefix64) is
      configured, the length of the prefix must be /96.

   o  When distinct IPv6 multicast address scopes [<a href="rfc7346.html" title='"IPv6 Multicast Address Scopes"'>RFC7346</a>] are required
      to preserve the scope when translating IPv4 multicast addresses
      (<a href="rfc2365.html#section-8">Section 8 of [RFC2365]</a>), each scope is configured as a separate
      OPTION_V6_PREFIX64.  How DHCP servers are configured to separate
      multicast Prefix64 per scope is implementation specific and not
      covered by this document.

   o  When scope preservation is not required, only one instance of
      OPTION_V6_PREFIX64 is configured.

Acknowledgments

   Thanks to C. Jacquenet, S. Venaas, B. Volz, T. Taylor, R. Weber,
   R. Even, J. Sheng, T. Mrugalski, and T. Chown for their review.

   Many thanks to I. Farrer and T. Lemon for the comments.









<span class="grey">Boucadair, et al.            Standards Track                    [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc8115.html">RFC 8115</a>           IPv4/IPv6 Multicast Prefixes Option        March 2017</span>


Authors' Addresses

   Mohamed Boucadair
   Orange
   Rennes  35000
   France

   Email: mohamed.boucadair@orange.com


   Jacni Qin
   Cisco
   Shanghai
   China

   Email: jacni@jacni.com


   Tina Tsou
   Philips Lighting
   United States of America

   Email: tina.tsou@philips.com


   Xiaohong Deng
   The University of New South Wales
   Sydney  NSW 2052
   Australia

   Email: dxhbupt@gmail.com




















Boucadair, et al.            Standards Track                    [Page 9]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc8115 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 13:49:48 GMT --></html>