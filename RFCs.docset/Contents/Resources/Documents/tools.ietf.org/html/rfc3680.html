<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc3680 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:46 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-rosenberg-sip-reg" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:3680" name="DC.Identifier"/>
<meta content="March, 2004" name="DC.Date.Issued"/>
<meta content="Jonathan Rosenberg &lt;jdrosen@dynamicsoft.com&gt;" name="DC.Creator"/>
<meta content="This document defines a Session Initiation Protocol (SIP) event
package for registrations. Through its REGISTER method, SIP allows a
user agent to create, modify, and delete registrations. Registrations
can also be altered by administrators in order to enforce policy. As a
result, these registrations represent a piece of state in the network
that can change dynamically. There are many cases where a user agent
would like to be notified of changes in this state. This event package
defines a mechanism by which those user agents can request and obtain
such notifications. [STANDARDS-TRACK]" name="DC.Description.Abstract"/>
<meta content="A Session Initiation Protocol (SIP) Event Package for Registrations" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3680 - A Session Initiation Protocol (SIP) Event Package for Registrations</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgblue" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3680.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3680" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-sipping-reg-event" title="draft-ietf-sipping-reg-event">draft-ietf-sipp...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3680" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3680" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3680" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=3680">Errata</a>]</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">Updated by: <a href="rfc6140.html">6140</a>                                       PROPOSED STANDARD</span><br/>
<span class="pre noprint docinfo">                                                            <span style="color: #C00;">Errata Exist</span></span><br/>
<pre>Network Working Group                                       J. Rosenberg
Request for Comments: 3680                                   dynamicsoft
Category: Standards Track                                     March 2004


  <span class="h1">A Session Initiation Protocol (SIP) Event Package for Registrations</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

Abstract

   This document defines a Session Initiation Protocol (SIP) event
   package for registrations.  Through its REGISTER method, SIP allows a
   user agent to create, modify, and delete registrations.
   Registrations can also be altered by administrators in order to
   enforce policy.  As a result, these registrations represent a piece
   of state in the network that can change dynamically.  There are many
   cases where a user agent would like to be notified of changes in this
   state.  This event package defines a mechanism by which those user
   agents can request and obtain such notifications.

Table of Contents

   <a href="#section-1">1</a>.  Introduction .................................................  <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology ..................................................  <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Usage Scenarios ..............................................  <a href="#page-3">3</a>
       <a href="#section-3.1">3.1</a>.  Forcing Re-Authentication ..............................  <a href="#page-3">3</a>
       <a href="#section-3.2">3.2</a>.  Composing Presence .....................................  <a href="#page-3">3</a>
       <a href="#section-3.3">3.3</a>.  Welcome Notices ........................................  <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  Package Definition ...........................................  <a href="#page-4">4</a>
       <a href="#section-4.1">4.1</a>.  Event Package Name .....................................  <a href="#page-4">4</a>
       <a href="#section-4.2">4.2</a>.  Event Package Parameters ...............................  <a href="#page-5">5</a>
       <a href="#section-4.3">4.3</a>.  SUBSCRIBE Bodies .......................................  <a href="#page-5">5</a>
       <a href="#section-4.4">4.4</a>.  Subscription Duration ..................................  <a href="#page-5">5</a>
       <a href="#section-4.5">4.5</a>.  NOTIFY Bodies ..........................................  <a href="#page-6">6</a>
       <a href="#section-4.6">4.6</a>.  Notifier Processing of SUBSCRIBE Requests ..............  <a href="#page-6">6</a>
       <a href="#section-4.7">4.7</a>.  Notifier Generation of NOTIFY Requests .................  <a href="#page-7">7</a>
             <a href="#section-4.7.1">4.7.1</a>.  The Registration State Machine .................  <a href="#page-7">7</a>



<span class="grey">Rosenberg                   Standards Track                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


             <a href="#section-4.7.2">4.7.2</a>.  Applying the state machine .....................  <a href="#page-9">9</a>
       <a href="#section-4.8">4.8</a>.  Subscriber Processing of NOTIFY Requests ...............  <a href="#page-9">9</a>
       <a href="#section-4.9">4.9</a>.  Handling of Forked Requests ............................  <a href="#page-9">9</a>
       <a href="#section-4.10">4.10</a>. Rate of Notifications .................................. <a href="#page-10">10</a>
       <a href="#section-4.11">4.11</a>. State Agents ........................................... <a href="#page-10">10</a>
   <a href="#section-5">5</a>.  Registration Information ..................................... <a href="#page-10">10</a>
       <a href="#section-5.1">5.1</a>.  Structure of Registration Information .................. <a href="#page-10">10</a>
       <a href="#section-5.2">5.2</a>.  Computing Registrations from the Document .............. <a href="#page-14">14</a>
       <a href="#section-5.3">5.3</a>.  Example ................................................ <a href="#page-15">15</a>
       <a href="#section-5.4">5.4</a>.  XML Schema ............................................. <a href="#page-16">16</a>
   <a href="#section-6">6</a>.  Example Call Flow ............................................ <a href="#page-18">18</a>
   <a href="#section-7">7</a>.  Security Considerations ...................................... <a href="#page-21">21</a>
   <a href="#section-8">8</a>.  IANA Considerations .......................................... <a href="#page-21">21</a>
       <a href="#section-8.1">8.1</a>.  SIP Event Package Registration ......................... <a href="#page-21">21</a>
       <a href="#section-8.2">8.2</a>.  application/reginfo+xml MIME Registration .............. <a href="#page-22">22</a>
       8.3.  URN Sub-Namespace Registration for
             urn:ietf:params:xml:ns:reginfo ......................... <a href="#page-23">23</a>
   <a href="#section-9">9</a>.  References ................................................... <a href="#page-23">23</a>
       <a href="#section-9.1">9.1</a>.  Normative References ................................... <a href="#page-23">23</a>
       <a href="#section-9.2">9.2</a>.  Informative References ................................. <a href="#page-24">24</a>
   <a href="#section-10">10</a>. Contributors ................................................. <a href="#page-25">25</a>
   <a href="#section-11">11</a>. Acknowledgements ............................................. <a href="#page-25">25</a>
   <a href="#section-12">12</a>. Author's Address ............................................. <a href="#page-25">25</a>
   <a href="#section-13">13</a>. Full Copyright Statement ..................................... <a href="#page-26">26</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The Session Initiation Protocol (SIP) [<a href="#ref-1" title='"SIP: Session Initiation Protocol"'>1</a>] provides all of the
   functions needed for the establishment and maintenance of
   communications sessions between users.  One of the functions it
   provides is a registration operation.  A registration is a binding
   between a SIP URI, called an address-of-record, and one or more
   contact URIs.  These contact URIs represent additional resources that
   can be contacted in order to reach the user identified by the
   address-of-record.  When a proxy receives a request within its domain
   of administration, it uses the Request-URI as an address-of-record,
   and uses the contacts bound to the address-of-record to forward (or
   redirect) the request.

   The SIP REGISTER method provides a way for a user agent to manipulate
   registrations.  Contacts can be added or removed, and the current set
   of contacts can be queried.  Registrations can also change as a
   result of administrator policy.  For example, if a user is suspected
   of fraud, their registration can be deleted so that they cannot
   receive any requests.  Registrations also expire after some time if
   not refreshed.





<span class="grey">Rosenberg                   Standards Track                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   Registrations represent a dynamic piece of state maintained by the
   network.  There are many cases in which user agents would like to
   know about changes to the state of registrations.  The SIP Events
   Framework [<a href="#ref-2" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>2</a>] defines a generic framework for subscription to, and
   notification of, events related to SIP systems.  The framework
   defines the methods SUBSCRIBE and NOTIFY, and introduces the notion
   of a package.  A package is a concrete application of the event
   framework to a particular class of events.  Packages have been
   defined for user presence [<a href="#ref-9" title='"Session initiation protocol (SIP) extensions for presence"'>9</a>], for example.  This specification
   defines a package for registration state.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  Terminology</span>

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
   and "OPTIONAL" are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>
   [<a href="#ref-3" title='"Key words for use in RFCs to indicate requirement levels"'>3</a>] and indicate requirement levels for compliant implementations.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Usage%20Scenarios"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Usage Scenarios</span>

   There are many applications of this event package.  A few are
   documented here for illustrative purposes.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1.%20%20Forcing%20Re-Authentication"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a>.  Forcing Re-Authentication</span>

   It is anticipated that many SIP devices will be wireless devices that
   will be always-on, and therefore, continually registered to the
   network.  Unfortunately, history has shown that these devices can be
   compromised.  To deal with this, an administrator will want to
   terminate or shorten a registration, and ask the device to
   re-register so it can be re-authenticated.  To do this, the device
   subscribes to the registration event package for the
   address-of-record that it is registering contacts against.  When the
   administrator shortens registration (for example, when fraud is
   suspected) the registration server sends a notification to the
   device.  It can then re-register and re-authenticate itself.  If it
   cannot re-authenticate, the expiration will terminate shortly
   thereafter.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2.%20%20Composing%20Presence"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a>.  Composing Presence</span>

   An important concept to understand is the relationship between this
   event package and the event package for user presence [<a href="#ref-9" title='"Session initiation protocol (SIP) extensions for presence"'>9</a>].  User
   presence represents the willingness and ability of a user to
   communicate with other users on the network.  It is composed of a set
   of contact addresses that represent the various means for contacting
   the user.  Those contact addresses might represent the contact
   address for voice, for example.  Typically, the contact address



<span class="grey">Rosenberg                   Standards Track                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   listed for voice will be an address-of-record.  The status of that
   contact (whether its open or closed) may depend on any number of
   factors, including the state of any registrations against that
   address-of-record.  As a result, registration state can be viewed as
   an input to the process which determines the presence state of a
   user.  Effectively, registration state is "raw" data, which is
   combined with other information about a user to generate a document
   that describes the user's presence.

   In fact, this event package allows for a presence server to be
   separated from a SIP registration server, yet still use registration
   information to construct a presence document.  When a presence server
   receives a presence subscription for some user, the presence server
   itself would generate a subscription to the registration server for
   the registration event package.  As a result, the presence server
   would learn about the registration state for that user, and it could
   use that information to generate presence documents.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.3.%20%20Welcome%20Notices"></a><a class="selflink" href="#section-3.3" name="section-3.3">3.3</a>.  Welcome Notices</span>

   A common service in current mobile networks are "welcome notices".
   When the user turns on their phone in a foreign country, they receive
   a message that welcomes them to the country, and provides information
   on transportation services, for example.

   In order to implement this service in a SIP system, an application
   server can subscribe to the registration state of the user.  When the
   user turns on their phone, the phone will generate a registration.
   This will result in a notification being sent to the application that
   the user has registered.  The application can then send a SIP MESSAGE
   request [<a href="#ref-10" title='"Session Initiation Protocol (SIP) Extension for Instant Messaging"'>10</a>] to the device, welcoming the user and providing any
   necessary information.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Package%20Definition"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Package Definition</span>

   This section fills in the details needed to specify an event package
   as defined in Section 4.4 of [<a href="#ref-2" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>2</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Event%20Package%20Name"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Event Package Name</span>

   The SIP Events specification requires package definitions to specify
   the name of their package or template-package.

   The name of this package is "reg".  As specified in [<a href="#ref-2" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>2</a>], this value
   appears in the Event header present in SUBSCRIBE and NOTIFY requests.






<span class="grey">Rosenberg                   Standards Track                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   Example:

   Event: reg

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Event%20Package%20Parameters"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Event Package Parameters</span>

   The SIP Events specification requires package and template-package
   definitions to specify any package specific parameters of the Event
   header that are used by it.

   No package specific Event header parameters are defined for this
   event package.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3.%20%20SUBSCRIBE%20Bodies"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a>.  SUBSCRIBE Bodies</span>

   The SIP Events specification requires package or template-package
   definitions to define the usage, if any, of bodies in SUBSCRIBE
   requests.

   A SUBSCRIBE for registration events MAY contain a body.  This body
   would serve the purpose of filtering the subscription.  The
   definition of such a body is outside the scope of this specification.

   A SUBSCRIBE for the registration package MAY be sent without a body.
   This implies that the default registration filtering policy has been
   requested. The default policy is:

      o  Notifications are generated every time there is any change in
         the state of any of the registered contacts for the resource
         being subscribed to.  Those notifications only contain
         information on the contacts whose state has changed.

      o  Notifications triggered from a SUBSCRIBE contain full state
         (the list of all contacts bound to the address-of-record).

   Of course, the server can apply any policy it likes to the
   subscription.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.4.%20%20Subscription%20Duration"></a><a class="selflink" href="#section-4.4" name="section-4.4">4.4</a>.  Subscription Duration</span>

   The SIP Events specification requires package definitions to define a
   default value for subscription durations, and to discuss reasonable
   choices for durations when they are explicitly specified.

   Registration state changes as contacts are created through REGISTER
   requests, and then time out due to lack of refresh.  Their rate of
   change is therefore related to the typical registration expiration.
   Since the default expiration for registrations is 3600 seconds, the



<span class="grey">Rosenberg                   Standards Track                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   default duration of subscriptions to registration state is slightly
   longer, 3761 seconds. This helps avoid any potential problems with
   coupling of subscription and registration refreshes.  Of course,
   clients MAY include an Expires header in the SUBSCRIBE request asking
   for a different duration.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.5.%20%20NOTIFY%20Bodies"></a><a class="selflink" href="#section-4.5" name="section-4.5">4.5</a>.  NOTIFY Bodies</span>

   The SIP Events specification requires package definitions to describe
   the allowed set of body types in NOTIFY requests, and to specify the
   default value to be used when there is no Accept header in the
   SUBSCRIBE request.

   The body of a notification of a change in registration state contains
   a registration information document.  This document describes some or
   all of the contacts associated with a particular address-of-record.
   All subscribers and notifiers MUST support the
   "application/reginfo+xml" format described in <a href="#section-5">Section 5</a>.  The
   subscribe request MAY contain an Accept header field.  If no such
   header field is present, it has a default value of
   "application/reginfo+xml".  If the header field is present, it MUST
   include "application/reginfo+xml", and MAY include any other types
   capable of representing registration information.

   Of course, the notifications generated by the server MUST be in one
   of the formats specified in the Accept header field in the SUBSCRIBE
   request.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.6.%20%20Notifier%20Processing%20of%20SUBSCRIBE%20Requests"></a><a class="selflink" href="#section-4.6" name="section-4.6">4.6</a>.  Notifier Processing of SUBSCRIBE Requests</span>

   The SIP Events framework specifies that packages should define any
   package-specific processing of SUBSCRIBE requests at a notifier,
   specifically with regards to authentication and authorization.

   Registration state can be sensitive information.  Therefore, all
   subscriptions to it SHOULD be authenticated and authorized before
   approval.  Authentication MAY be performed using any of the
   techniques available through SIP, including digest, S/MIME, TLS or
   other transport specific mechanisms [<a href="#ref-1" title='"SIP: Session Initiation Protocol"'>1</a>].  Authorization policy is at
   the discretion of the administrator, as always.  However, a few
   recommendations can be made.

   It is RECOMMENDED that a user be allowed to subscribe to their own
   registration state.  Such subscriptions are useful when there are
   many devices that represent a user, each of which needs to learn the
   registration state of the other devices.  We also anticipate that
   applications and automata will frequently be subscribers to the




<span class="grey">Rosenberg                   Standards Track                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   registration state.  In those cases, authorization policy will
   typically be provided ahead of time.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.7.%20%20Notifier%20Generation%20of%20NOTIFY%20Requests"></a><a class="selflink" href="#section-4.7" name="section-4.7">4.7</a>.  Notifier Generation of NOTIFY Requests</span>

   The SIP Event framework requests that packages specify the conditions
   under which notifications are sent for that package, and how such
   notifications are constructed.

   To determine when a notifier should send notifications of changes in
   registration state, we define a finite state machine (FSM) that
   represents the state of a contact for a particular address-of-record.
   Transitions in this state machine MAY result in the generation of
   notifications.  These notifications will carry information on the new
   state and the event which triggered the state change.  It is
   important to note that this FSM is just a model of the registration
   state machinery maintained by a server.  An implementation would map
   its own state machines to this one in an implementation-specific
   manner.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.7.1.%20%20The%20Registration%20State%20Machine"></a><a class="selflink" href="#section-4.7.1" name="section-4.7.1">4.7.1</a>.  The Registration State Machine</span>

   The underlying state machine for a registration is shown in Figure 1.
   The machine is very simple.  An instance of this machine is
   associated with each address-of-record.  When there are no contacts
   registered to the address-of-record, the state machine is in the init
   state.  It is important to note that this state machine exists, and
   is well-defined, for each address-of-record in the domain, even if
   there are no contacts registered to it.  This allows a user agent to
   subscribe to an address-of-record, and learn that there are no
   contacts registered to it.  When the first contact is registered to
   that address-of-record, the state machine moves from init to active.



















<span class="grey">Rosenberg                   Standards Track                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


                           +------------+
                           |            |
                           |    Init    |
                           |            |
                           +------------+
                                  |
                                  V
                           +------------+
                           |            |
                           |   Active   |
                           |            |
                           +------------+
                                  |
                                  V
                           +------------+
                           |            |
                           | Terminated |
                           |            |
                           +------------+

                   Figure 1: Registration State Machine

   As long as there is at least one contact bound to the address-of-
   record, the state machine remains in the active state.  When the last
   contact expires or is removed, the registration transitions to
   terminated.  From there, it immediately transitions back to the init
   state.  This transition is invisible, in that it MUST NOT ever be
   reported to a subscriber in a NOTIFY request.

      This allows for an implementation optimization whereby the
      registrar can destroy the objects associated with the registration
      state machine once it enters the terminated state and a NOTIFY has
      been sent. Instead, the registrar can assume that, if the objects
      for that state machine no longer exist, the state machine is in
      the init state.

   In addition to this state machine, each registration is associated
   with a set of contacts, each of which is modeled with its own state
   machine.  Unlike the FSM for the address-of-record, which exists even
   when no contacts are registered, the per-contact FSM is instantiated
   when the contact is registered, and deleted when it is removed.  The
   diagram for the per-contact state machine is shown in Figure 2.  This
   FSM is identical to the registration state machine in terms of its
   states, but has many more transition events.

   When a new contact is added, the FSM for it is instantiated, and it
   moves into the active state. Because of that, the init state here is
   transient.  There are two ways in which it can become active.  One is



<span class="grey">Rosenberg                   Standards Track                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   through an actual SIP REGISTER request (corresponding to the
   registered event), and the other is when the contact is created
   administratively, or through some non-SIP means (the created event).

                                 +------+
                                 |      | refreshed
                                 |      | shortened
                                 V      |
    +------------+            +------------+            +------------+
    |            |            |            |            |            |
    |    Init    |-----------&gt;|   Active   |-----------&gt;| Terminated |
    |            |            |            |            |            |
    +------------+ registered +------------+ expired    +------------+
                   created                   deactivated
                                             probation
                                             unregistered
                                             rejected

                      Figure 2: Contact State Machine

   The FSM remains in the active state so long as the contact is bound
   to the address-of-record.  When a contact is refreshed through a
   REGISTER request, the FSM stays in the same state, but a refreshed
   event is generated.  Likewise, when an administrator modifies the
   expiration time of a binding (without deleting the binding) to
   trigger the contact to re-register and possibly re-authenticate, the
   FSM stays in the active state, but a shortened event is generated.

   When the contact is no longer bound to the address-of-record, the FSM
   moves to the terminated state, and once a NOTIFY is sent, the state
   machine is destroyed.  As a result, the terminated state is
   effectively transient.  There are several reasons this can happen.
   The first is an expiration, which occurs when the contact was not
   refreshed by a REGISTER request.  The second reason is deactivated.
   This occurs when the administrator has removed the contact as a valid
   binding, but still wishes the client to attempt to re-register the
   contact.  In contrast, the rejected event occurs when an active
   contact is removed by the administrator, but
   re-registrations will not help to re-establish it.  This might occur
   if a user does not pay their bills, for example.  The probation event
   occurs when an active contact is removed by the administrator, and
   the administrator wants the client to re-register, but to do so at a
   later time.  The unregistered event occurs when a REGISTER request
   sets the expiration time of that contact to zero.







<span class="grey">Rosenberg                   Standards Track                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/4.7.2.%20%20Applying%20the%20state%20machine"></a><a class="selflink" href="#section-4.7.2" name="section-4.7.2">4.7.2</a>.  Applying the state machine</span>

   The server MAY generate a notification to subscribers when any event
   occurs in either the address-of-record or per-contact state machines,
   except for the transition from terminated to init in the address-of-
   record state machine. As noted above, a notification MUST NOT be sent
   in this case. For other transitions, whether the server sends a
   notification or not is policy dependent. However, several guidelines
   are defined.

   As a general rule, when a subscriber is authorized to receive
   notifications about a set of registrations, it is RECOMMENDED that
   notifications contain information about those contacts which have
   changed state (and thus triggered a notification), instead of
   delivering the current state of every contact in all registrations.
   However, notifications triggered as a result of a fetch operation (a
   SUBSCRIBE with Expires of 0) SHOULD result in the full state of all
   contacts for all registrations to be present in the NOTIFY.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.8.%20%20Subscriber%20Processing%20of%20NOTIFY%20Requests"></a><a class="selflink" href="#section-4.8" name="section-4.8">4.8</a>.  Subscriber Processing of NOTIFY Requests</span>

   The SIP Events framework expects packages to specify how a subscriber
   processes NOTIFY requests in any package specific ways, and in
   particular, how it uses the NOTIFY requests to construct a coherent
   view of the state of the subscribed resource.  Typically, the NOTIFY
   will only contain information for contacts whose state has changed.
   To construct a coherent view of the total state of all registrations,
   the subscriber will need to combine NOTIFYs received over time.  The
   details of this process depend on the document format used to convey
   registration state.  <a href="#section-5">Section 5</a> outlines the process for the
   application/reginfo+xml format.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.9.%20%20Handling%20of%20Forked%20Requests"></a><a class="selflink" href="#section-4.9" name="section-4.9">4.9</a>.  Handling of Forked Requests</span>

   The SIP Events framework mandates that packages indicate whether or
   not forked SUBSCRIBE requests can install multiple subscriptions.

   Registration state is normally stored in some repository (whether it
   be co-located with a proxy/registrar or in a separate database).  As
   such, there is usually a single place where the contact information
   for a particular address-of-record is resident.  This implies that a
   subscription for this information is readily handled by a single
   element with access to this repository.  There is, therefore, no
   compelling need for a subscription to registration information to
   fork.  As a result, a subscriber MUST NOT create multiple dialogs as
   a result of a single subscription request.  The required processing
   to guarantee that only a single dialog is established is described in
   <a href="#section-4.4.9">Section 4.4.9</a> of the SIP Events framework [<a href="#ref-2" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>2</a>].



<span class="grey">Rosenberg                   Standards Track                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.10.%20%20Rate%20of%20Notifications"></a><a class="selflink" href="#section-4.10" name="section-4.10">4.10</a>.  Rate of Notifications</span>

   The SIP Events framework mandates that packages define a maximum rate
   of notifications for their package.

   For reasons of congestion control, it is important that the rate of
   notifications not become excessive.  As a result, it is RECOMMENDED
   that the server not generate notifications for a single subscriber at
   a rate faster than once every 5 seconds.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.11.%20%20State%20Agents"></a><a class="selflink" href="#section-4.11" name="section-4.11">4.11</a>.  State Agents</span>

   The SIP Events framework asks packages to consider the role of state
   agents in their design.

   State agents have no role in the handling of this package.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Registration%20Information"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Registration Information</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1.%20%20Structure%20of%20Registration%20Information"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a>.  Structure of Registration Information</span>

   Registration information is an XML document [<a href="#ref-4" title='"Extensible markup language (xml) 1.0."'>4</a>] that MUST be
   well-formed and SHOULD be valid.  Registration information documents
   MUST be based on XML 1.0 and MUST be encoded using UTF-8.  This
   specification makes use of XML namespaces for identifying
   registration information documents and document fragments.  The
   namespace URI for elements defined by this specification is a URN
   [<a href="#ref-5" title='"URN Syntax"'>5</a>], using the namespace identifier 'ietf' defined by [<a href="#ref-6" title='"A URN Namespace for IETF Documents"'>6</a>] and
   extended by [<a href="#ref-7" title='"The IETF XML Registry"'>7</a>].  This URN is:

      urn:ietf:params:xml:ns:reginfo

   A registration information document begins with the root element tag
   "reginfo".  It consists of any number of "registration" sub-elements,
   each of which contains the registration state for a particular
   address-of-record.  The registration information for a particular
   address-of-record MUST be contained within a single "registration"
   element; it cannot be spread across multiple "registration" elements
   within a document.  Other elements from different namespaces MAY be
   present for the purposes of extensibility; elements or attributes
   from unknown namespaces MUST be ignored.  There are two attributes
   associated with the "reginfo" element, both of which MUST be present:

        version: This attribute allows the recipient of registration
                 information documents to properly order them.  Versions
                 start at 0, and increment by one for each new document
                 sent to a subscriber.  Versions are scoped within a




<span class="grey">Rosenberg                   Standards Track                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


                 subscription.  Versions MUST be representable using a
                 32 bit integer.

        state:   This attribute indicates whether the document contains
                 the full registration state, or whether it contains
                 only information on those registrations which have
                 changed since the previous document (partial).

   Note that the document format explicitly allows for conveying
   information on multiple addresses-of-record.  This enables
   subscriptions to groups of registrations, where such a group is
   identified by some kind of URI.  For example, a domain might define
   sip:allusers@example.com as a subscribable resource that generates
   notifications when the state of any address-of-record in the domain
   changes.

   The "registration" element has a list of any number of "contact"
   sub-elements, each of which contains information on a single contact.
   Other elements from different namespaces MAY be present for the
   purposes of extensibility; elements or attributes from unknown
   namespaces MUST be ignored.  There are three attributes associated
   with the "registration" element, all of which MUST be present:

      aor:   The aor attribute contains a URI which is the address-of-
             record this registration refers to.

      id:    The id attribute identifies this registration.  It MUST be
             unique amongst all other id attributes present in other
             registration elements conveyed to the subscriber within the
             scope of their subscription.  In particular, if two URI
             identifying an address-of-record differ after their
             canonicalization according to the procedures in step 5 of
             <a href="rfc3261.html#section-10.3">Section 10.3 of RFC 3261</a> [<a href="#ref-1" title='"SIP: Session Initiation Protocol"'>1</a>], the id attributes in the
             "registration" elements for those addresses-of-record MUST
             differ.  Furthermore, the id attribute for a "registration"
             element for a particular address-of-record MUST be the same
             across all notifications sent within the subscription.

      state: The state attribute indicates the state of the
             registration.  The valid values are "init", "active" and
             "terminated".

   The "contact" element contains a "uri" element, an optional
   "display-name" element, and an optional "unknown-param" element.
   Other elements from different namespaces MAY be present for the
   purposes of extensibility; elements or attributes from unknown
   namespaces MUST be ignored.  There are several attributes associated
   with the "contact" element which MUST be present:



<span class="grey">Rosenberg                   Standards Track                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


      id:    The id attribute identifies this contact.  It MUST be
             unique amongst all other id attributes present in other
             contact elements conveyed to the subscriber within the
             scope of their subscription.  In particular, if the URI for
             two contacts differ (based on the URI comparison rules in
             <a href="rfc3261.html">RFC 3261</a> [<a href="#ref-1" title='"SIP: Session Initiation Protocol"'>1</a>]), the id attributes for those contacts MUST
             differ.  However, unlike the id attribute for an address-
             of-record, if the URI for two contacts are the same, their
             id attributes SHOULD be the same across notifications.
             This requirement is at SHOULD strength, and not MUST
             strength, since it is difficult to compute such an id as a
             function of the URI without retaining additional state.  No
             hash function applied to the URI can, in fact, meet a MUST
             requirement.  This is because equality of the SIP URI is
             not transitive.  However, a hash function which includes
             unknown URI parameters (that is, any not defined in <a href="rfc3261.html">RFC</a>
             <a href="rfc3261.html">3261</a>), will always result in a value that is the different
             if two URI are different, and usually the same if the URI
             are equal.

      state: The state attribute indicates the state of the contact.
             The valid values are "active" and "terminated".

      event: The event attribute indicates the event which caused the
             contact state machine to go into its current state.  Valid
             values are registered, created, refreshed, shortened,
             expired, deactivated, probation, unregistered and rejected.

   If the event attribute has a value of shortened, the "expires"
   attribute MUST be present.  It contains an unsigned long integer
   which indicates the number of seconds remaining until the binding is
   due to expire.  This attribute MAY be included with any event
   attribute value for which the state of the contact is active.

   If the event attribute has a value of probation, the "retry-after"
   attribute MUST be present.  It contains an unsigned long integer
   which indicates the amount of seconds after which the owner of the
   contact is expected to retry its registration.

   The optional "duration-registered" attribute conveys the amount of
   time that the contact has been bound to the address-of-record, in
   seconds.  The optional "q" attribute conveys the relative priority of
   this contact compared to other registered contacts.  The optional
   "callid" attribute contains the current Call-ID carried in the
   REGISTER that was last used to update this contact, and the optional
   "cseq" attribute contains the last CSeq value present in a REGISTER
   request that updated this contact value.




<span class="grey">Rosenberg                   Standards Track                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   The "uri" element contains the URI associated with that contact.  The
   "display-name" element contains the display name for the contact.
   The "display-name" element MAY contain the xml:lang attribute to
   indicate the language of the display name.

   The "unknown-param" element is used to convey contact header field
   parameters that are not specified in <a href="rfc3261.html">RFC 3261</a>.  One example are the
   user agent capability parameters specified in [<a href="#ref-11" title='"Session initiation protocol (SIP) caller preferences and callee capabilities"'>11</a>].  Each "unknown-
   param" element describes a single contact header field parameter.
   The name of the parameter is contained in the mandatory name
   attribute of the "unknown-param" element, and the value of the
   parameter is the content of the "unknown-param" element.  For contact
   header field parameters that have no value, the content of the
   "unknown-param" element is empty.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2.%20%20Computing%20Registrations%20from%20the%20Document"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a>.  Computing Registrations from the Document</span>

   Typically, the NOTIFY for registration information will only contain
   information about those contacts whose state has changed.  To
   construct a coherent view of the total state of all registrations, a
   subscriber will need to combine NOTIFYs received over time.  The
   subscriber maintains a table for each registration it receives
   information for.  Each registration is uniquely identified by the
   "id" attribute in the "registration" element.  Each table contains a
   row for each contact in that registration.  Each row is indexed by
   the unique ID for that contact.  It is conveyed in the "id" attribute
   of the "contact" element.  The contents of each row contain the state
   of that contact as conveyed in the "contact" element.  The tables are
   also associated with a version number.  The version number MUST be
   initialized with the value of the "version" attribute from the
   "reginfo" element in the first document received.  Each time a new
   document is received, the value of the local version number, and the
   "version" attribute in the new document, are compared.  If the value
   in the new document is one higher than the local version number, the
   local version number is increased by one, and the document is
   processed.  If the value in the document is more than one higher than
   the local version number, the local version number is set to the
   value in the new document, the document is processed, and the
   subscriber SHOULD generate a refresh request to trigger a full state
   notification.  If the value in the document is less than the local
   version, the document is discarded without processing.

   The processing of the document depends on whether it contains full or
   partial state.  If it contains full state, indicated by the value of
   the "state" attribute in the "reginfo" element, the contents of all
   tables associated with this subscription are flushed.  They are
   re-populated from the document.  A new table is created for each
   "registration" element, and a new row in each table is created for



<span class="grey">Rosenberg                   Standards Track                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   each "contact" element.  If the reginfo contains partial state, as
   indicated by the value of the "state" attribute in the "reginfo"
   element, the document is used to update the existing tables.  For
   each "registration" element, the subscriber checks to see if a table
   exists for that registration.  This check is done by comparing the
   value in the "id" attribute of the "registration" element with the ID
   associated with the table.  If a table doesn't exist for that
   registration, one is created.  For each "contact" element in the
   registration, the subscriber checks to see whether a row exists for
   that contact.  This check is done by comparing the ID in the "id"
   attribute of the "contact" element with the ID associated with the
   row.  If the contact doesn't exist in the table, a row is added, and
   its state is set to the information from that "contact" element.  If
   the contact does exist, its state is updated to be the information
   from that "contact" element.  If a row is updated or created, such
   that its state is now terminated, that entry MAY be removed from the
   table at any time.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3.%20%20Example"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a>.  Example</span>

   The following is an example registration information document:

   &lt;?xml version="1.0"?&gt;
       &lt;reginfo xmlns="urn:ietf:params:xml:ns:reginfo"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    version="0" state="full"&gt;
         &lt;registration aor="sip:user@example.com" id="as9"
                       state="active"&gt;
           &lt;contact id="76" state="active" event="registered"
                    duration-registered="7322"
                    q="0.8"&gt;
                    &lt;uri&gt;sip:user@pc887.example.com&lt;/uri&gt;
           &lt;/contact&gt;
           &lt;contact id="77" state="terminated" event="expired"
                    duration-registered="3600"
                    q="0.5"&gt;
                    &lt;uri&gt;sip:user@university.edu&lt;/uri&gt;
           &lt;/contact&gt;
         &lt;/registration&gt;
       &lt;/reginfo&gt;











<span class="grey">Rosenberg                   Standards Track                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.4.%20%20XML%20Schema"></a><a class="selflink" href="#section-5.4" name="section-5.4">5.4</a>.  XML Schema</span>

   The following is the schema definition of the reginfo format:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema targetNamespace="urn:ietf:params:xml:ns:reginfo"
xmlns:tns="urn:ietf:params:xml:ns:reginfo"
xmlns:xs="http://www.w3.org/2001/XMLSchema"
elementFormDefault="qualified" attributeFormDefault="unqualified"&gt;
  &lt;!-- This import brings in the XML language attribute xml:lang--&gt;
  &lt;xs:import namespace="http://www.w3.org/XML/1998/namespace"
schemaLocation="http://www.w3.org/2001/03/xml.xsd"/&gt;
  &lt;xs:element name="reginfo"&gt;
   &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
     &lt;xs:element ref="tns:registration" minOccurs="0"
maxOccurs="unbounded"/&gt;
     &lt;xs:any namespace="##other" processContents="lax" minOccurs="0"
maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="version" type="xs:nonNegativeInteger"
use="required"/&gt;
    &lt;xs:attribute name="state" use="required"&gt;
     &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:string"&gt;
       &lt;xs:enumeration value="full"/&gt;
       &lt;xs:enumeration value="partial"/&gt;
      &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
   &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name="registration"&gt;
   &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
     &lt;xs:element ref="tns:contact" minOccurs="0" maxOccurs="unbounded"/&gt;
     &lt;xs:any namespace="##other" processContents="lax" minOccurs="0"
maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="aor" type="xs:anyURI" use="required"/&gt;
    &lt;xs:attribute name="id" type="xs:string" use="required"/&gt;
    &lt;xs:attribute name="state" use="required"&gt;
     &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:string"&gt;
       &lt;xs:enumeration value="init"/&gt;
       &lt;xs:enumeration value="active"/&gt;
       &lt;xs:enumeration value="terminated"/&gt;
      &lt;/xs:restriction&gt;



<span class="grey">Rosenberg                   Standards Track                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


     &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
   &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name="contact"&gt;
   &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
     &lt;xs:element name="uri" type="xs:anyURI"/&gt;
     &lt;xs:element name="display-name" minOccurs="0"&gt;
      &lt;xs:complexType&gt;
       &lt;xs:simpleContent&gt;
        &lt;xs:extension base="xs:string"&gt;
         &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
        &lt;/xs:extension&gt;
       &lt;/xs:simpleContent&gt;
      &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;
     &lt;xs:element name="unknown-param" minOccurs="0"
maxOccurs="unbounded"&gt;
      &lt;xs:complexType&gt;
       &lt;xs:simpleContent&gt;
        &lt;xs:extension base="xs:string"&gt;
         &lt;xs:attribute name="name" type="xs:string" use="required"/&gt;
        &lt;/xs:extension&gt;
       &lt;/xs:simpleContent&gt;
      &lt;/xs:complexType&gt;
     &lt;/xs:element&gt;
     &lt;xs:any namespace="##other" processContents="lax" minOccurs="0"
maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="state" use="required"&gt;
     &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:string"&gt;
       &lt;xs:enumeration value="active"/&gt;
       &lt;xs:enumeration value="terminated"/&gt;
      &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name="event" use="required"&gt;
     &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:string"&gt;
       &lt;xs:enumeration value="registered"/&gt;
       &lt;xs:enumeration value="created"/&gt;
       &lt;xs:enumeration value="refreshed"/&gt;
       &lt;xs:enumeration value="shortened"/&gt;
       &lt;xs:enumeration value="expired"/&gt;
       &lt;xs:enumeration value="deactivated"/&gt;
       &lt;xs:enumeration value="probation"/&gt;



<span class="grey">Rosenberg                   Standards Track                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


       &lt;xs:enumeration value="unregistered"/&gt;
       &lt;xs:enumeration value="rejected"/&gt;
      &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name="duration-registered" type="xs:unsignedLong"/&gt;
    &lt;xs:attribute name="expires" type="xs:unsignedLong"/&gt;
    &lt;xs:attribute name="retry-after" type="xs:unsignedLong"/&gt;
    &lt;xs:attribute name="id" type="xs:string" use="required"/&gt;
    &lt;xs:attribute name="q" type="xs:string"/&gt;
    &lt;xs:attribute name="callid" type="xs:string"/&gt;
    &lt;xs:attribute name="cseq" type="xs:unsignedLong"/&gt;
   &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Example%20Call%20Flow"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Example Call Flow</span>

        User              Registrar          Application
          |                   |(1) SUBSCRIBE      |
          |                   |Event:reg          |
          |                   |&lt;------------------|
          |                   |(2) 200 OK         |
          |                   |------------------&gt;|
          |                   |(3) NOTIFY         |
          |                   |------------------&gt;|
          |                   |(4) 200 OK         |
          |                   |&lt;------------------|
          |(5) REGISTER       |                   |
          |------------------&gt;|                   |
          |(6) 200 OK         |                   |
          |&lt;------------------|                   |
          |                   |(7) NOTIFY         |
          |                   |------------------&gt;|
          |                   |(8) 200 OK         |
          |                   |&lt;------------------|
          |(9) MESSAGE        |                   |
          |&lt;--------------------------------------|

                Figure 3: Example Call Flow











<span class="grey">Rosenberg                   Standards Track                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   This section provides an example call flow, shown in Figure 3.  It
   shows an implementation of the welcome notice application described
   in <a href="#section-3.3">Section 3.3</a>.  First, the application SUBSCRIBEs to the
   registration event package for the desired user (1):

   SUBSCRIBE sip:joe@example.com SIP/2.0
   Via: SIP/2.0/UDP app.example.com;branch=z9hG4bKnashds7
   From: sip:app.example.com;tag=123aa9
   To: sip:joe@example.com
   Call-ID: 9987@app.example.com
   CSeq: 9887 SUBSCRIBE
   Contact: sip:app.example.com
   Event: reg
   Max-Forwards: 70
   Accept: application/reginfo+xml

   The registrar (which is acting as the notifier for the registration
   event package) generates a 200 OK to the SUBSCRIBE:

   SIP/2.0 200 OK
   Via: SIP/2.0/UDP app.example.com;branch=z9hG4bKnashds7
     ;received=192.0.2.1
   From: sip:app.example.com;tag=123aa9
   To: sip:joe@example.com;tag=xyzygg
   Call-ID: 9987@app.example.com
   CSeq: 9987 SUBSCRIBE
   Contact: sip:server19.example.com
   Expires: 3600

   The registrar then generates a notification (3) with the current
   state.  Since there is no active registration, the state of the
   registration is "init":

   NOTIFY sip:app.example.com SIP/2.0
   Via: SIP/2.0/UDP server19.example.com;branch=z9hG4bKnasaii
   From: sip:joe@example.com;tag=xyzygg
   To: sip:app.example.com;tag=123aa9
   Call-ID: 9987@app.example.com
   CSeq: 1288 NOTIFY
   Contact: sip:server19.example.com
   Event: reg
   Max-Forwards: 70
   Content-Type: application/reginfo+xml
   Content-Length: ...







<span class="grey">Rosenberg                   Standards Track                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   &lt;?xml version="1.0"?&gt;
   &lt;reginfo xmlns="urn:ietf:params:xml:ns:reginfo"
                version="0" state="full"&gt;
     &lt;registration aor="sip:joe@example.com" id="a7" state="init" /&gt;
   &lt;/reginfo&gt;

   Later on, the user registers (5):

   REGISTER sip:example.com SIP/2.0
   Via: SIP/2.0/UDP pc34.example.com;branch=z9hG4bKnaaff
   From: sip:joe@example.com;tag=99a8s
   To: sip:joe@example.com
   Call-ID: 88askjda9@pc34.example.com
   CSeq: 9976 REGISTER
   Contact: sip:joe@pc34.example.com

   This results in a NOTIFY being generated to the application (7):

   NOTIFY sip:app.example.com SIP/2.0
   Via: SIP/2.0/UDP server19.example.com;branch=z9hG4bKnasaij
   From: sip:joe@example.com;tag=xyzygg
   To: sip:app.example.com;tag=123aa9
   Call-ID: 9987@app.example.com
   CSeq: 1289 NOTIFY
   Contact: sip:server19.example.com
   Event: reg
   Max-Forwards: 70
   Content-Type: application/reginfo+xml
   Content-Length: ...

   &lt;?xml version="1.0"?&gt;
   &lt;reginfo xmlns="urn:ietf:params:xml:ns:reginfo"
             version="1" state="partial"&gt;
     &lt;registration aor="sip:joe@example.com" id="a7" state="active"&gt;
       &lt;contact id="76" state="active" event="registered"
             duration-registered="0"&gt;
          &lt;uri&gt;sip:joe@pc34.example.com&lt;/uri&gt;
       &lt;/contact&gt;
     &lt;/registration&gt;
   &lt;/reginfo&gt;











<span class="grey">Rosenberg                   Standards Track                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   The application can then send its instant message to the device (9):

   MESSAGE sip:joe@pc34.example.com SIP/2.0
   Via: SIP/2.0/UDP app.example.com;branch=z9hG4bKnashds8
   From: sip:app.example.com;tag=123aa10
   To: sip:joe@example.com
   Call-ID: 9988@app.example.com
   CSeq: 82779 MESSAGE
   Max-Forwards: 70
   Content-Type: text/plain
   Content-Length: ...

   Welcome to the example.com service!

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Security Considerations</span>

   Security considerations for SIP event packages are discussed in <a href="rfc3265.html">RFC</a>
   <a href="rfc3265.html">3265</a> [<a href="#ref-2" title='"Session Initiation Protocol (SIP)-Specific Event Notification"'>2</a>], and those considerations apply here.

   Registration information is sensitive, potentially private,
   information.  Subscriptions to this event package SHOULD be
   authenticated and authorized according to local policy.  Some policy
   guidelines are suggested in <a href="#section-4.6">Section 4.6</a>.  In addition, notifications
   SHOULD be sent in such a way to ensure confidentiality, message
   integrity and verification of subscriber identity, such as sending
   subscriptions and notifications using a SIPS URL or protecting the
   notification bodies with S/MIME.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  IANA Considerations</span>

   This document registers a new SIP Event Package, a new MIME type
   (application/reginfo+xml), and a new XML namespace.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1.%20%20SIP%20Event%20Package%20Registration"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a>.  SIP Event Package Registration</span>

   Package name: reg

   Type: package

   Contact: Jonathan Rosenberg, &lt;jdrosen@jdrosen.net&gt;

   Published Specification: <a href="rfc3680.html">RFC 3680</a>.









<span class="grey">Rosenberg                   Standards Track                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2.%20%20application%2Freginfo%2Bxml%20MIME%20Registration"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a>.  application/reginfo+xml MIME Registration</span>

   MIME media type name: application

   MIME subtype name: reginfo+xml

   Mandatory parameters: none

   Optional parameters: Same as charset parameter application/xml
        as specified in <a href="rfc3023.html">RFC 3023</a> [<a href="#ref-8" title='"XML media types"'>8</a>].

   Encoding considerations: Same as encoding considerations of
        application/xml as specified in <a href="rfc3023.html">RFC 3023</a> [<a href="#ref-8" title='"XML media types"'>8</a>].

   Security considerations: See <a href="rfc3023.html#section-10">Section 10 of RFC 3023</a> [<a href="#ref-8" title='"XML media types"'>8</a>] and
        <a href="#section-7">Section 7</a> of this specification.

   Interoperability considerations: none.

   Published specification: This document.

   Applications which use this media type: This document type is
        being used in notifications to alert SIP user agents that
        their registrations have expired and must be redone.

   Additional Information:

        Magic Number: None

        File Extension: .rif or .xml

        Macintosh file type code: "TEXT"

   Personal and email address for further information: Jonathan
        Rosenberg, &lt;jdrosen@jdrosen.net&gt;

   Intended usage: COMMON

   Author/Change controller: The IETF.












<span class="grey">Rosenberg                   Standards Track                    [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.3.%20%20URN%20Sub-Namespace%20Registration%20for%20urn%3Aietf%3Aparams%3Axml%3Ans%3Areginfo"></a><a class="selflink" href="#section-8.3" name="section-8.3">8.3</a>.  URN Sub-Namespace Registration for urn:ietf:params:xml:ns:reginfo</span>

   This section registers a new XML namespace, as per the guidelines in
   [<a href="#ref-7" title='"The IETF XML Registry"'>7</a>].

    URI: The URI for this namespace is
         urn:ietf:params:xml:ns:reginfo.

    Registrant Contact: IETF, SIMPLE working group,
         &lt;simple@ietf.org&gt;, Jonathan Rosenberg
         &lt;jdrosen@jdrosen.net&gt;.

    XML:

      BEGIN
      &lt;?xml version="1.0"?&gt;
      &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
                "<a href="http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd</a>"&gt;
      &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;head&gt;
        &lt;meta http-equiv="content-type"
           content="text/html;charset=iso-8859-1"/&gt;
        &lt;title&gt;Registration Information Namespace&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
         &lt;h1&gt;Namespace for Registration Information&lt;/h1&gt;
         &lt;h2&gt;urn:ietf:params:xml:ns:reginfo&lt;/h2&gt;
         &lt;p&gt;See &lt;a href="ftp://ftp.rfc-editor.org/in-notes/rfc3680.txt"&gt;
                <a href="rfc3680.html">RFC3680</a>&lt;/a&gt;.&lt;/p&gt;
       &lt;/body&gt;
      &lt;/html&gt;
      END

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20References"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-1" name="ref-1">1</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A.,
        Peterson, J., Sparks, R., Handley, M. and E. Schooler, "SIP:
        Session Initiation Protocol", <a href="rfc3261.html">RFC 3261</a>, June 2002.

   [<a id="ref-2" name="ref-2">2</a>]  Roach, A., "Session Initiation Protocol (SIP)-Specific Event
        Notification", <a href="rfc3265.html">RFC 3265</a>, June 2002.

   [<a id="ref-3" name="ref-3">3</a>]  Bradner, S., "Key words for use in RFCs to indicate requirement
        levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.





<span class="grey">Rosenberg                   Standards Track                    [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


   [<a id="ref-4" name="ref-4">4</a>]  W. W. W. C. (W3C), "Extensible markup language (xml) 1.0." The
        XML 1.0 spec can be found at
        <a href="http://www.w3.org/TR/1998/REC-xml-19980210">http://www.w3.org/TR/1998/REC-xml-19980210</a>.

   [<a id="ref-5" name="ref-5">5</a>]  Moats, R., "URN Syntax", <a href="rfc2141.html">RFC 2141</a>, May 1997.

   [<a id="ref-6" name="ref-6">6</a>]  Moats, R., "A URN Namespace for IETF Documents", <a href="rfc2648.html">RFC 2648</a>,
        August 1999.

   [<a id="ref-7" name="ref-7">7</a>]  Mealling, M., "The IETF XML Registry", <a href="https://tools.ietf.org/html/bcp81">BCP 81</a>, <a href="rfc3688.html">RFC 3688</a>, January
        2004.

   [<a id="ref-8" name="ref-8">8</a>]  Murata, M., St. Laurent, S. and D. Kohn, "XML media types", <a href="rfc3023.html">RFC</a>
        <a href="rfc3023.html">3023</a>, January 2001.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-9" name="ref-9">9</a>]  Rosenberg, J., "Session initiation protocol (SIP) extensions for
        presence", Work In Progress.

   [<a id="ref-10" name="ref-10">10</a>] Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema, C. and D.
        Gurle, "Session Initiation Protocol (SIP) Extension for Instant
        Messaging", <a href="rfc3428.html">RFC 3428</a>, December 2002.

   [<a id="ref-11" name="ref-11">11</a>] Schulzrinne, H. and J. Rosenberg, "Session initiation protocol
        (SIP) caller preferences and callee capabilities", Work In
        Progress.

   [<a id="ref-12" name="ref-12">12</a>] Mayer, G. and M. Beckmann, "Registration event package", Work In
        Progress.





















<span class="grey">Rosenberg                   Standards Track                    [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Contributors"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Contributors</span>

   This document is based heavily on the registration event package
   originally proposed by Beckmann and Mayer in [<a href="#ref-12" title='"Registration event package"'>12</a>].  They can be
   contacted at:

   Georg Mayer
   Siemens AG
   Hoffmannstr. 51
   Munich  81359
   Germany

   EMail: Georg.Mayer@icn.siemens.de


   Mark Beckmann
   Siemens AG
   P.O. Box 100702
   Salzgitter  38207
   Germany

   EMail: Mark.Beckmann@siemens.com

   Rohan Mahy provided editorial work in order to progress this
   specification.  His contact address is:

   Rohan Mahy
   Cisco Systems
   170 West Tasman Dr, MS: SJC-21/3/3

   Phone: +1 408 526 8570
   EMail: rohan@cisco.com

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20Acknowledgements"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  Acknowledgements</span>

   We would like to thank Dean Willis for his support.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/12.%20%20Author%27s%20Address"></a><a class="selflink" href="#section-12" name="section-12">12</a>.  Author's Address</span>

   Jonathan Rosenberg
   dynamicsoft
   600 Lanidex Plaza
   Parsippany, NJ 07054

   EMail: jdrosen@dynamicsoft.com






<span class="grey">Rosenberg                   Standards Track                    [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc3680.html">RFC 3680</a>                SIP Registrations Event               March 2004</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/13.%20%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-13" name="section-13">13</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and
   except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed
   to pertain to the implementation or use of the technology
   described in this document or the extent to which any license
   under such rights might or might not be available; nor does it
   represent that it has made any independent effort to identify any
   such rights.  Information on the procedures with respect to
   rights in RFC documents can be found in <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use
   of such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository
   at <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention
   any copyrights, patents or patent applications, or other
   proprietary rights that may cover technology that may be required
   to implement this standard.  Please address the information to the
   IETF at ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.









Rosenberg                   Standards Track                    [Page 26]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc3680 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:46 GMT --></html>