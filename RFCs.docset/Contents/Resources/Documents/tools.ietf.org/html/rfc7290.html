<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc7290 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 14:05:42 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.127" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="draft-morton-ippm-testplan-rfc2680" name="DC.Relation.Replaces"/>
<meta content="urn:ietf:rfc:7290" name="DC.Identifier"/>
<meta content="July, 2014" name="DC.Date.Issued"/>
<meta content="Morton, Al" name="DC.Creator"/>
<meta content="Ciavattone, Len" name="DC.Creator"/>
<meta content="Geib, Ruediger" name="DC.Creator"/>
<meta content="Wieser, Matthias" name="DC.Creator"/>
<meta content="This memo provides the supporting test plan and results to advance RFC
2680, a performance metric RFC defining one-way packet loss metrics,
along the Standards Track. Observing that the metric definitions
themselves should be the primary focus rather than the implementations
of metrics, this memo describes the test procedures to evaluate
specific metric requirement clauses to determine if the requirement
has been interpreted and implemented as intended. Two completely
independent implementations have been tested against the key
specifications of RFC 2680." name="DC.Description.Abstract"/>
<meta content="Test Plan and Results for Advancing RFC 2680 on the Standards Track" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 7290 - Test Plan and Results for Advancing RFC 2680 on the Standards Track</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc7290.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc7290" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-ippm-testplan-rfc2680" title="draft-ietf-ippm-testplan-rfc2680">draft-ietf-ippm...</a>] [<a href="https://datatracker.ietf.org/doc/rfc7290" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc7290" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc7290" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Internet Engineering Task Force (IETF)                     L. Ciavattone
Request for Comments: 7290                                     AT&amp;T Labs
Category: Informational                                          R. Geib
ISSN: 2070-1721                                         Deutsche Telekom
                                                               A. Morton
                                                               AT&amp;T Labs
                                                               M. Wieser
                                          Technical University Darmstadt
                                                               July 2014


  <span class="h1">Test Plan and Results for Advancing <a href="rfc2680.html">RFC 2680</a> on the Standards Track</span>

Abstract

   This memo provides the supporting test plan and results to advance
   <a href="rfc2680.html">RFC 2680</a>, a performance metric RFC defining one-way packet loss
   metrics, along the Standards Track.  Observing that the metric
   definitions themselves should be the primary focus rather than the
   implementations of metrics, this memo describes the test procedures
   to evaluate specific metric requirement clauses to determine if the
   requirement has been interpreted and implemented as intended.  Two
   completely independent implementations have been tested against the
   key specifications of <a href="rfc2680.html">RFC 2680</a>.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="rfc5741.html#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7290">http://www.rfc-editor.org/info/rfc7290</a>.











<span class="grey">Ciavattone, et al.            Informational                     [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents

   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.
























<span class="grey">Ciavattone, et al.            Informational                     [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Requirements Language ......................................<a href="#page-4">4</a>
      <a href="#section-1.2">1.2</a>. <a href="rfc2680.html">RFC 2680</a> Coverage ..........................................<a href="#page-5">5</a>
   <a href="#section-2">2</a>. A Definition-Centric Metric Advancement Process .................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. Test Configuration ..............................................<a href="#page-5">5</a>
   <a href="#section-4">4</a>. Error Calibration and <a href="rfc2680.html">RFC 2680</a> ..................................<a href="#page-9">9</a>
      <a href="#section-4.1">4.1</a>. Clock Synchronization Calibration ..........................<a href="#page-9">9</a>
      <a href="#section-4.2">4.2</a>. Packet Loss Determination Error ...........................<a href="#page-10">10</a>
   <a href="#section-5">5</a>. Predetermined Limits on Equivalence ............................<a href="#page-10">10</a>
   <a href="#section-6">6</a>. Tests to Evaluate <a href="rfc2680.html">RFC 2680</a> Specifications ......................<a href="#page-11">11</a>
      <a href="#section-6.1">6.1</a>. One-Way Loss: ADK Sample Comparison .......................<a href="#page-11">11</a>
           <a href="#section-6.1.1">6.1.1</a>. 340B/Periodic Cross-Implementation Results .........<a href="#page-12">12</a>
           <a href="#section-6.1.2">6.1.2</a>. 64B/Periodic Cross-Implementation Results ..........<a href="#page-14">14</a>
           <a href="#section-6.1.3">6.1.3</a>. 64B/Poisson Cross-Implementation Results ...........<a href="#page-15">15</a>
           6.1.4. Conclusions on the ADK Results for One-Way
                  Packet Loss ........................................<a href="#page-16">16</a>
      <a href="#section-6.2">6.2</a>. One-Way Loss: Delay Threshold .............................<a href="#page-16">16</a>
           <a href="#section-6.2.1">6.2.1</a>. NetProbe Results for Loss Threshold ................<a href="#page-17">17</a>
           <a href="#section-6.2.2">6.2.2</a>. Perfas+ Results for Loss Threshold .................<a href="#page-17">17</a>
           <a href="#section-6.2.3">6.2.3</a>. Conclusions for Loss Threshold .....................<a href="#page-17">17</a>
      <a href="#section-6.3">6.3</a>. One-Way Loss with Out-of-Order Arrival ....................<a href="#page-17">17</a>
      <a href="#section-6.4">6.4</a>. Poisson Sending Process Evaluation ........................<a href="#page-19">19</a>
           <a href="#section-6.4.1">6.4.1</a>. NetProbe Results ...................................<a href="#page-19">19</a>
           <a href="#section-6.4.2">6.4.2</a>. Perfas+ Results ....................................<a href="#page-20">20</a>
           <a href="#section-6.4.3">6.4.3</a>. Conclusions for Goodness-of-Fit ....................<a href="#page-22">22</a>
      <a href="#section-6.5">6.5</a>. Implementation of Statistics for One-Way Loss .............<a href="#page-23">23</a>
   <a href="#section-7">7</a>. Conclusions for a Revision of <a href="rfc2680.html">RFC 2680</a> .........................<a href="#page-23">23</a>
   <a href="#section-8">8</a>. Security Considerations ........................................<a href="#page-24">24</a>
   <a href="#section-9">9</a>. Acknowledgements ...............................................<a href="#page-24">24</a>
   <a href="#section-10">10</a>. Appendix - Network Configuration and Sample Commands ..........<a href="#page-25">25</a>
   <a href="#section-11">11</a>. References ....................................................<a href="#page-28">28</a>
      <a href="#section-11.1">11.1</a>. Normative References .....................................<a href="#page-28">28</a>
      <a href="#section-11.2">11.2</a>. Informative References ...................................<a href="#page-29">29</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>.  Introduction</span>

   The IETF IP Performance Metrics (IPPM) working group has considered
   how to advance their metrics along the Standards Track since 2001.

   The renewed work effort sought to investigate ways in which the
   measurement variability could be reduced in order to thereby simplify
   the problem of comparison for equivalence.  As a result, there is
   consensus (captured in [<a href="rfc6576.html" title='"IP Performance Metrics (IPPM) Standard Advancement Testing"'>RFC6576</a>]) that equivalent results from
   independent implementations of metric specifications are sufficient
   evidence that the specifications themselves are clear and
   unambiguous; it is the parallel concept of protocol interoperability



<span class="grey">Ciavattone, et al.            Informational                     [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   for metric specifications.  The advancement process either (1)
   produces confidence that the metric definitions and supporting
   material are clearly worded and unambiguous or (2) identifies ways in
   which the metric definitions should be revised to achieve clarity.
   It is a non-goal to compare the specific implementations themselves.

   The process also permits identification of options described in the
   metric RFC that were not implemented, so that they can be removed
   from the advancing specification (this is an aspect more typical of
   protocol advancement along the Standards Track).

   This memo's purpose is to implement the current approach for
   [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] and document the results.

   In particular, this memo documents consensus on the extent of
   tolerable errors when assessing equivalence in the results.  In
   discussions, the IPPM working group agreed that the test plan
   and procedures should include the threshold for determining
   equivalence, and this information should be available in advance of
   cross-implementation comparisons.  This memo includes procedures for
   same-implementation comparisons to help set the equivalence
   threshold.

   Another aspect of the metric RFC advancement process is the
   requirement to document the work and results.  The procedures of
   [<a href="rfc2026.html" title='"The Internet Standards Process -- Revision 3"'>RFC2026</a>] are expanded in [<a href="rfc5657.html" title='"Guidance on Interoperation and Implementation Reports for Advancement to Draft Standard"'>RFC5657</a>], including sample implementation
   and interoperability reports.  This memo follows the template in
   [<a href="rfc6808.html" title='"Test Plan and Results Supporting Advancement of RFC 2679 on the Standards Track"'>RFC6808</a>] for the report that accompanies the protocol action request
   submitted to the Area Director, including a description of the test
   setup, procedures, results for each implementation, and conclusions.

   The conclusion reached is that [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], with modifications, should
   be advanced on the Standards Track.  The revised text of <a href="rfc2680.html">RFC 2680</a>
   [<a href="#ref-LOSS-METRIC" title='"A One-Way Loss Metric for IPPM"'>LOSS-METRIC</a>] is ready for review but awaits work in progress to
   update the IPPM Framework [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>].  Therefore, this memo documents
   the information to support the advancement of [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], and the
   approval of a revision of <a href="rfc2680.html">RFC 2680</a> is left for future action.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.1.%20%20Requirements%20Language"></a><a class="selflink" href="#section-1.1" name="section-1.1">1.1</a>.  Requirements Language</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="rfc2119.html">RFC 2119</a> [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].
   Some of these key words were used in [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], but there are no
   requirements specified in this memo.






<span class="grey">Ciavattone, et al.            Informational                     [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/1.2.%20%20RFC%202680%20Coverage"></a><a class="selflink" href="#section-1.2" name="section-1.2">1.2</a>.  <a href="rfc2680.html">RFC 2680</a> Coverage</span>

   This plan is intended to cover all critical requirements and sections
   of [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>].

   Note that there are only five relevant instances of the requirement
   term "MUST" in [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], outside of the boilerplate and [<a href="rfc2119.html" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>]
   reference; the instance of "MUST" in the Security Considerations
   section of [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] is not a basis for implementation equivalence
   comparisons.

   Statements in <a href="rfc2680.html">RFC 2680</a> that have the character of requirements may be
   included if the community reaches consensus that the wording implies
   a requirement.  At least one instance of an implied requirement has
   been found in <a href="rfc2680.html#section-3.6">Section 3.6 of [RFC2680]</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20%20A%20Definition-Centric%20Metric%20Advancement%20Process"></a><a class="selflink" href="#section-2" name="section-2">2</a>.  A Definition-Centric Metric Advancement Process</span>

   The process described in <a href="rfc6576.html#section-3.5">Section 3.5 of [RFC6576]</a> takes as a first
   principle that the metric definitions, embodied in the text of the
   RFCs, are the objects that require evaluation and possible revision
   in order to advance to the next step on the Standards Track.  This
   memo follows that process.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20%20Test%20Configuration"></a><a class="selflink" href="#section-3" name="section-3">3</a>.  Test Configuration</span>

   One metric implementation used was NetProbe version 5.8.5 (an earlier
   version is used in the WIPM system and deployed worldwide [<a href="#ref-WIPM" title='"AT&amp;T Global IP Network"'>WIPM</a>]).
   NetProbe uses UDP packets of variable size and can produce test
   streams with Periodic [<a href="rfc3432.html" title='"Network performance measurement with periodic streams"'>RFC3432</a>] or Poisson [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>] sample
   distributions.

   The other metric implementation used was Perfas+ version 3.1,
   developed by Deutsche Telekom [<a href="#ref-Perfas" title='"Qualitaet in IP-Netzen Messverfahren"'>Perfas</a>].  Perfas+ uses UDP unicast
   packets of variable size (but also supports TCP and multicast).  Test
   streams with Periodic, Poisson, or uniform sample distributions may
   be used.














<span class="grey">Ciavattone, et al.            Informational                     [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   Figure 1 shows a view of the test path as each implementation's test
   flows pass through the Internet and the Layer 2 Tunneling Protocol
   version 3 (L2TPv3) [<a href="rfc3931.html" title='"Layer Two Tunneling Protocol - Version 3 (L2TPv3)"'>RFC3931</a>] tunnel IDs (1 and 2), based on Figure 1
   of [<a href="rfc6576.html" title='"IP Performance Metrics (IPPM) Standard Advancement Testing"'>RFC6576</a>].

          +------------+                                +------------+
          |   Imp 1    |           ,---.                |    Imp 2   |
          +------------+          /     \    +-------+  +------------+
            | V100 ^ V200        /       \   | Tunnel|   | V300  ^ V400
            |      |            (         )  | Head  |   |       |
           +--------+  +------+ |         |__| Router|  +----------+
           |Ethernet|  |Tunnel| |Internet |  +---B---+  |Ethernet  |
           |Switch  |--|Head  |-|         |      |      |Switch    |
           +-+--+---+  |Router| |         |  +---+---+--+--+--+----+
             |__|      +--A---+ (         )  |Network|     |__|
                                 \       /   |Emulat.|
           U-turn                 \     /    |"netem"|     U-turn
           V300 to V400            `-+-'     +-------+     V100 to V200



          Implementations                  ,---.       +--------+
                              +~~~~~~~~~~~/     \~~~~~~| Remote |
           +-------&gt;-----F2-&gt;-|          /       \     |-&gt;---.  |
           | +---------+      | Tunnel  (         )    |     |  |
           | | transmit|-F1-&gt;-|   ID 1  |         |    |-&gt;.  |  |
           | | Imp 1   |      +~~~~~~~~~|         |~~~~|  |  |  |
           | | receive |-&lt;--+           |         |    | F1  F2 |
           | +---------+    |           |Internet |    |  |  |  |
           *-------&lt;-----+  F1          |         |    |  |  |  |
             +---------+ |  | +~~~~~~~~~|         |~~~~|  |  |  |
             | transmit|-*  *-|         |         |    |&lt;-*  |  |
             | Imp 2   |      | Tunnel  (         )    |     |  |
             | receive |-&lt;-F2-|   ID 2   \       /     |&lt;----*  |
             +---------+      +~~~~~~~~~~~\     /~~~~~~| Switch |
                                           `-+-'       +--------+

          Illustrations of a test setup with a bidirectional tunnel.
          The upper diagram emphasizes the VLAN connectivity and
          geographical location (where "Imp #" is the sender and
          receiver of implementation 1 or 2 -- either Perfas+ or
          NetProbe in this test).  The lower diagram shows example
          flows traveling between two measurement implementations.
          For simplicity, only two flows are shown, and the netem
          emulator is omitted (it would appear before or after the
          Internet, depending on the flow).

                                 Figure 1



<span class="grey">Ciavattone, et al.            Informational                     [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   The testing employs the L2TPv3 [<a href="rfc3931.html" title='"Layer Two Tunneling Protocol - Version 3 (L2TPv3)"'>RFC3931</a>] tunnel between test sites on
   the Internet.  The tunnel IP and L2TPv3 headers are intended to
   conceal the test equipment addresses and ports from hash functions
   that would tend to spread different test streams across parallel
   network resources, with likely variation in performance as a result.

   At each end of the tunnel, one pair of VLANs encapsulated in the
   tunnel are looped back so that test traffic is returned to each test
   site.  Thus, test streams traverse the L2TP tunnel twice but appear
   to be one-way tests from the point of view of the test equipment.

   The network emulator is a host running Fedora 14 Linux [<a href="#ref-FEDORA" title='"Fedora"'>FEDORA</a>], with
   IP forwarding enabled and the "netem" Network emulator as part of the
   Fedora Kernel 2.6.35.11 [<a href="#ref-NETEM" title='"netem"'>NETEM</a>] loaded and operating.  The standard
   kernel is "tickless", replacing the previous periodic timer (250 Hz,
   with 4 ms uncertainty) interrupts with on-demand interrupts.
   Connectivity across the netem/Fedora host was accomplished by
   bridging Ethernet VLAN interfaces together with "brctl" commands
   (e.g., eth1.100 &lt;-&gt; eth2.100).  The netem emulator was activated on
   one interface (eth1) and only operated on test streams traveling in
   one direction.  In some tests, independent netem instances operated
   separately on each VLAN.  See the Appendix for more details.

   The links between the netem emulator host, the router, and the switch
   were found to be 100BaseTX-HD (100 Mbps half duplex), as reported by
   "mii-tool" [<a href="#ref-MII-TOOL" title="&quot;Linux System Administrator's Manual&quot;">MII-TOOL</a>] when testing was complete.  The use of half
   duplex was not intended but probably added a small amount of delay
   variation that could have been avoided in full-duplex mode.

   Each individual test was run with common packet rates (1 pps, 10 pps)
   Poisson/Periodic distributions, and IP packet sizes of 64, 340, and
   500 bytes.

   For these tests, a stream of at least 300 packets was sent from
   source to destination in each implementation.  Periodic streams (as
   per [<a href="rfc3432.html" title='"Network performance measurement with periodic streams"'>RFC3432</a>]) with 1-second spacing were used, except as noted.

   As required in <a href="rfc2680.html#section-2.8.1">Section 2.8.1 of [RFC2680]</a>, packet Type-P must be
   reported.  The packet Type-P for this test was IP-UDP with Best
   Effort Differentiated Services Code Point (DSCP).  These headers were
   encapsulated according to the L2TPv3 specification [<a href="rfc3931.html" title='"Layer Two Tunneling Protocol - Version 3 (L2TPv3)"'>RFC3931</a>] and were
   unlikely to influence the treatment received as the packets traversed
   the Internet.








<span class="grey">Ciavattone, et al.            Informational                     [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   With the L2TPv3 tunnel in use, the metric name for the testing
   configured here (with respect to the IP header exposed to Internet
   processing) is:

   Type-IP-protocol-115-One-way-Packet-Loss-&lt;StreamType&gt;-Stream

   With (<a href="rfc2680.html#section-3.2">Section 3.2 of [RFC2680]</a>) metric parameters:

   + Src, the IP address of a host (12.3.167.16 or 193.159.144.8)

   + Dst, the IP address of a host (193.159.144.8 or 12.3.167.16)

   + T0, a time

   + Tf, a time

   + lambda, a rate in reciprocal seconds

   + Thresh, a maximum waiting time in seconds (see <a href="rfc2680.html#section-2.8.2">Section 2.8.2 of
     [RFC2680]</a>)

   Metric Units: A sequence of pairs; the elements of each pair are:

   + T, a time, and

   + L, either a zero or a one

   The values of T in the sequence are monotonically increasing.
   Note that T would be a valid parameter of *singleton*
   Type-P-One-way-Packet-Loss and that L would be a valid value of
   Type-P-One-way-Packet-Loss (see <a href="rfc2680.html#section-3.3">Section 3.3 of [RFC2680]</a>).

   Also, <a href="rfc2680.html#section-2.8.4">Section 2.8.4 of [RFC2680]</a> recommends that the path SHOULD be
   reported.  In this test setup, most of the path details will be
   concealed from the implementations by the L2TPv3 tunnels; thus, a
   more informative path traceroute can be conducted by the routers at
   each location.

   When NetProbe is used in production, a traceroute is conducted in
   parallel at the outset of measurements.

   Perfas+ does not support traceroute.









<span class="grey">Ciavattone, et al.            Informational                     [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


 IPLGW#traceroute 193.159.144.8

 Type escape sequence to abort.
 Tracing the route to 193.159.144.8

   1 12.126.218.245 [AS 7018] 0 msec 0 msec 4 msec
   2 cr84.n54ny.ip.att.net (12.123.2.158) [AS 7018] 4 msec 4 msec
     cr83.n54ny.ip.att.net (12.123.2.26) [AS 7018] 4 msec
   3 cr1.n54ny.ip.att.net (12.122.105.49) [AS 7018] 4 msec
     cr2.n54ny.ip.att.net (12.122.115.93) [AS 7018] 0 msec
     cr1.n54ny.ip.att.net (12.122.105.49) [AS 7018] 0 msec
   4 n54ny02jt.ip.att.net (12.122.80.225) [AS 7018] 4 msec 0 msec
     n54ny02jt.ip.att.net (12.122.80.237) [AS 7018] 4 msec
   5 192.205.34.182 [AS 7018] 0 msec
     192.205.34.150 [AS 7018] 0 msec
     192.205.34.182 [AS 7018] 4 msec
   6 da-rg12-i.DA.DE.NET.DTAG.DE (62.154.1.30) [AS 3320] 88 msec 88 msec
 88 msec
   7 217.89.29.62 [AS 3320] 88 msec 88 msec 88 msec
   8 217.89.29.55 [AS 3320] 88 msec 88 msec 88 msec
   9  *  *  *

   NetProbe Traceroute

   It was only possible to conduct the traceroute for the measured path
   on one of the tunnel-head routers (the normal trace facilities of the
   measurement systems are confounded by the L2TPv3 tunnel
   encapsulation).

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20%20Error%20Calibration%20and%20RFC%202680"></a><a class="selflink" href="#section-4" name="section-4">4</a>.  Error Calibration and <a href="rfc2680.html">RFC 2680</a></span>

   An implementation is required to report calibration results on clock
   synchronization per <a href="rfc2680.html#section-2.8.3">Section 2.8.3 of [RFC2680]</a> (also required in
   <a href="rfc2680.html#section-3.7">Section 3.7 of [RFC2680]</a> for sample metrics).

   Also, it is recommended to report the probability that a packet
   successfully arriving at the destination network interface is
   incorrectly designated as lost due to resource exhaustion in
   <a href="rfc2680.html#section-2.8.3">Section 2.8.3 of [RFC2680]</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1.%20%20Clock%20Synchronization%20Calibration"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a>.  Clock Synchronization Calibration</span>

   For NetProbe and Perfas+ clock synchronization test results, refer to
   <a href="rfc6808.html#section-4">Section 4 of [RFC6808]</a>.







<span class="grey">Ciavattone, et al.            Informational                     [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2.%20%20Packet%20Loss%20Determination%20Error"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a>.  Packet Loss Determination Error</span>

   Since both measurement implementations have resource limitations, it
   is theoretically possible that these limits could be exceeded and a
   packet that arrived at the destination successfully might be
   discarded in error.

   In previous test efforts [<a href="#ref-ADV-METRICS" title='"Lab Test Results for Advancing Metrics on the Standards Track"'>ADV-METRICS</a>], NetProbe produced six
   multicast streams with an aggregate bit rate over 53 Mbit/s, in order
   to characterize the one-way capacity of an emulator based on NIST
   Net.  Neither the emulator nor the pair of NetProbe implementations
   used in this testing dropped any packets in these streams.

   The maximum load used here between any two NetProbe implementations
   was 11.5 Mbit/s divided equally among three unicast test streams.  We
   concluded that steady resource usage does not contribute error
   (additional loss) to the measurements.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20%20Predetermined%20Limits%20on%20Equivalence"></a><a class="selflink" href="#section-5" name="section-5">5</a>.  Predetermined Limits on Equivalence</span>

   In this section, we provide the numerical limits on comparisons
   between implementations in order to declare that the results are
   equivalent and that the tested specification is therefore clear.

   A key point is that the allowable errors, corrections, and confidence
   levels only need to be sufficient to detect any misinterpretation of
   the tested specification that would indicate diverging
   implementations.

   Also, the allowable error must be sufficient to compensate for
   measured path differences.  It was simply not possible to measure
   fully identical paths in the VLAN-loopback test configuration used,
   and this practical compromise must be taken into account.

   For Anderson-Darling K-sample (ADK) [<a href="#ref-ADK" title='"K-Sample Anderson-Darling Tests of Fit, for Continuous and Discrete Cases"'>ADK</a>] comparisons, the required
   confidence factor for the cross-implementation comparisons SHALL be
   the smallest of:

   o  0.95 confidence factor at 1-packet resolution, or

   o  the smallest confidence factor (in combination with resolution) of
      the two same-implementation comparisons for the same test
      conditions (if the number of streams is sufficient to allow such
      comparisons).







<span class="grey">Ciavattone, et al.            Informational                    [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   For Anderson-Darling Goodness-of-Fit (ADGoF) [<a href="#ref-RADGOF" title='"ADGofTest: Anderson-Darling Goodness-of-Fit Test. R package version 0.3."'>RADGOF</a>] comparisons,
   the required level of significance for the same-implementation
   Goodness-of-Fit (GoF) SHALL be 0.05 or 5%, as specified in
   <a href="rfc2330.html#section-11.4">Section 11.4 of [RFC2330]</a>.  This is equivalent to a 95% confidence
   factor.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20%20Tests%20to%20Evaluate%20RFC%202680%20Specifications"></a><a class="selflink" href="#section-6" name="section-6">6</a>.  Tests to Evaluate <a href="rfc2680.html">RFC 2680</a> Specifications</span>

   This section describes some results from production network (cross-
   Internet) tests with measurement devices implementing IPPM metrics
   and a network emulator to create relevant conditions, to determine
   whether the metric definitions were interpreted consistently by
   implementors.

   The procedures are similar to those contained in <a href="rfc6576.html#appendix-A.1">Appendix A.1 of
   [RFC6576]</a> for one-way delay.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1.%20%20One-Way%20Loss%3A%20ADK%20Sample%20Comparison"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a>.  One-Way Loss: ADK Sample Comparison</span>

   This test determines if implementations produce results that appear
   to come from a common packet loss distribution, as an overall
   evaluation of <a href="rfc2680.html#section-3">Section 3 of [RFC2680]</a> ("A Definition for Samples of
   One-way Packet Loss").  Same-implementation comparison results help
   to set the threshold of equivalence that will be applied to cross-
   implementation comparisons.

   This test is intended to evaluate measurements in Sections <a href="#section-2">2</a>, <a href="#section-3">3</a>, and
   4 of [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>].

   By testing the extent to which the counts of one-way packet loss on
   different test streams of two [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] implementations appear to be
   from the same loss process, we reduce comparison steps because
   comparing the resulting summary statistics (as defined in <a href="rfc2680.html#section-4">Section 4
   of [RFC2680]</a>) would require a redundant set of equivalence
   evaluations.  We can easily check whether the single statistic in
   <a href="rfc2680.html#section-4">Section 4 of [RFC2680]</a> was implemented and report on that fact.

   1.  Configure an L2TPv3 path between test sites, and each pair of
       measurement devices to operate tests in their designated pair of
       VLANs.

   2.  Measure a sample of one-way packet loss singletons with two or
       more implementations, using identical options and network
       emulator settings (if used).







<span class="grey">Ciavattone, et al.            Informational                    [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   3.  Measure a sample of one-way packet loss singletons with *four or
       more* instances of the *same* implementations, using identical
       options, noting that connectivity differences SHOULD be the same
       as for cross-implementation testing.

   4.  If less than ten test streams are available, skip to step 7.

   5.  Apply the ADK comparison procedures (see <a href="rfc6576.html#appendix-B">Appendix B of
       [RFC6576]</a>), and determine the resolution and confidence factor
       for distribution equivalence of each same-implementation
       comparison and each cross-implementation comparison.

   6.  Take the coarsest resolution and confidence factor for
       distribution equivalence from the same-implementation pairs, or
       the limit defined in <a href="#section-5">Section 5</a> above, as a limit on the
       equivalence threshold for these experimental conditions.

   7.  Compare the cross-implementation ADK performance with the
       equivalence threshold determined in step 5 to determine if
       equivalence can be declared.

   The metric parameters varied for each loss test, and they are listed
   first in each sub-section below.

   The cross-implementation comparison uses a simple ADK analysis
   [<a href="#ref-RTOOL" title='"R: A Language and Environment for Statistical Computing"'>RTOOL</a>] [<a href="#ref-RADK" title='"ADK: Anderson-Darling K-Sample Test and Combinations of Such Tests. R package version 1.0."'>RADK</a>], where all NetProbe loss counts are compared with all
   Perfas+ loss results.

   In the results analysis of this section:

   o  All comparisons used 1-packet resolution.

   o  No correction factors were applied.

   o  The 0.95 confidence factor (and ADK criterion for t.obs &lt; 1.960
      for cross-implementation comparison) was used.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.1.%20%20340B%2FPeriodic%20Cross-Implementation%20Results"></a><a class="selflink" href="#section-6.1.1" name="section-6.1.1">6.1.1</a>.  340B/Periodic Cross-Implementation Results</span>

   Tests described in this section used:

   o  IP header + payload = 340 octets

   o  Periodic sampling at 1 packet per second

   o  Test duration = 1200 seconds (during April 7, 2011, EDT)





<span class="grey">Ciavattone, et al.            Informational                    [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   The netem emulator was set for 100 ms constant delay, with a 10% loss
   ratio.  In this experiment, the netem emulator was configured to
   operate independently on each VLAN; thus, the emulator itself is a
   potential source of error when comparing streams that traverse the
   test path in different directions.

   =======================================

   A07bps_loss &lt;- c(114, 175, 138, 142, 181, 105)  (NetProbe)
   A07per_loss &lt;- c(115, 128, 136, 127, 139, 138)  (Perfas+)

   &gt; A07bps_loss &lt;- c(114, 175, 138, 142, 181, 105)
   &gt; A07per_loss &lt;- c(115, 128, 136, 127, 139, 138)
   &gt;
   &gt; A07cross_loss_ADK &lt;- adk.test(A07bps_loss, A07per_loss)
   &gt; A07cross_loss_ADK
   Anderson-Darling k-sample test.

   Number of samples:  2
   Sample sizes: 6 6
   Total number of values: 12
   Number of unique values: 11

   Mean of Anderson Darling Criterion: 1
   Standard deviation of Anderson Darling Criterion: 0.6569

   T = (Anderson Darling Criterion - mean)/sigma

   Null Hypothesis: All samples come from a common population.

                       t.obs P-value extrapolation
   not adj. for ties 0.52043 0.20604             0
   adj. for ties     0.62679 0.18607             0
   &gt;

   =======================================

   The cross-implementation comparisons pass the ADK criterion
   (t.obs &lt; 1.960).












<span class="grey">Ciavattone, et al.            Informational                    [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.2.%20%2064B%2FPeriodic%20Cross-Implementation%20Results"></a><a class="selflink" href="#section-6.1.2" name="section-6.1.2">6.1.2</a>.  64B/Periodic Cross-Implementation Results</span>

   Tests described in this section used:

   o  IP header + payload = 64 octets

   o  Periodic sampling at 1 packet per second

   o  Test duration = 300 seconds (during March 24, 2011, EDT)

   The netem emulator was set for 0 ms constant delay, with a 10% loss
   ratio.

   =======================================

   &gt; M24per_loss &lt;- c(42,34,35,35)         (Perfas+)
   &gt; M24apd_23BC_loss &lt;- c(27,39,29,24)    (NetProbe)
   &gt; M24apd_loss23BC_ADK &lt;- adk.test(M24apd_23BC_loss,M24per_loss)
   &gt; M24apd_loss23BC_ADK
   Anderson-Darling k-sample test.

   Number of samples:  2
   Sample sizes: 4 4
   Total number of values: 8
   Number of unique values: 7

   Mean of Anderson Darling Criterion: 1
   Standard deviation of Anderson Darling Criterion: 0.60978

   T = (Anderson Darling Criterion - mean)/sigma

   Null Hypothesis: All samples come from a common population.

                       t.obs P-value extrapolation
   not adj. for ties 0.76921 0.16200             0
   adj. for ties     0.90935 0.14113             0

   Warning: At least one sample size is less than 5.
            p-values may not be very accurate.
   &gt;

   =======================================

   The cross-implementation comparisons pass the ADK criterion.







<span class="grey">Ciavattone, et al.            Informational                    [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.3.%20%2064B%2FPoisson%20Cross-Implementation%20Results"></a><a class="selflink" href="#section-6.1.3" name="section-6.1.3">6.1.3</a>.  64B/Poisson Cross-Implementation Results</span>

   Tests described in this section used:

   o  IP header + payload = 64 octets

   o  Poisson sampling at lambda = 1 packet per second

   o  Test duration = 1200 seconds (during April 27, 2011, EDT)

   The netem configuration was 0 ms delay and 10% loss, but there were
   two passes through an emulator for each stream, and loss emulation
   was present for 18 minutes of the 20-minute (1200-second) test.

   =======================================

   A27aps_loss &lt;- c(91,110,113,102,111,109,112,113)  (NetProbe)
   A27per_loss &lt;- c(95,123,126,114)                  (Perfas+)

   A27cross_loss_ADK &lt;- adk.test(A27aps_loss, A27per_loss)

   &gt; A27cross_loss_ADK
   Anderson-Darling k-sample test.

   Number of samples:  2
   Sample sizes: 8 4
   Total number of values: 12
   Number of unique values: 11

   Mean of Anderson Darling Criterion: 1
   Standard deviation of Anderson Darling Criterion: 0.65642

   T = (Anderson Darling Criterion - mean)/sigma

   Null Hypothesis: All samples come from a common population.

                       t.obs P-value extrapolation
   not adj. for ties 2.15099 0.04145             0
   adj. for ties     1.93129 0.05125             0

   Warning: At least one sample size is less than 5.
            p-values may not be very accurate.
   &gt;

   =======================================

   The cross-implementation comparisons barely pass the ADK criterion at
   95% = 1.960 when adjusting for ties.



<span class="grey">Ciavattone, et al.            Informational                    [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.1.4.%20%20Conclusions%20on%20the%20ADK%20Results%20for%20One-Way%20Packet%20Loss"></a><a class="selflink" href="#section-6.1.4" name="section-6.1.4">6.1.4</a>.  Conclusions on the ADK Results for One-Way Packet Loss</span>

   We conclude that the two implementations are capable of producing
   equivalent one-way packet loss measurements based on their
   interpretation of [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2.%20%20One-Way%20Loss%3A%20Delay%20Threshold"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a>.  One-Way Loss: Delay Threshold</span>

   This test determines if implementations use the same configured
   maximum waiting time delay from one measurement to another under
   different delay conditions and correctly declare packets arriving in
   excess of the waiting time threshold as lost.

   See <a href="rfc2680.html#section-2.8.2">Section 2.8.2 of [RFC2680]</a>.

   1.  Configure an L2TPv3 path between test sites, and each pair of
       measurement devices to operate tests in their designated pair of
       VLANs.

   2.  Configure the network emulator to add 1 second of one-way
       constant delay in one direction of transmission.

   3.  Measure (average) one-way delay with two or more implementations,
       using identical waiting time thresholds (Thresh) for loss set at
       3 seconds.

   4.  Configure the network emulator to add 3 seconds of one-way
       constant delay in one direction of transmission equivalent to
       2 seconds of additional one-way delay (or change the path delay
       while the test is in progress, when there are sufficient packets
       at the first delay setting).

   5.  Repeat/continue measurements.

   6.  Observe that the increase measured in step 5 caused all packets
       with 2 seconds of additional delay to be declared lost and that
       all packets that arrive successfully in step 3 are assigned a
       valid one-way delay.

   The common parameters used for tests in this section are:

   o  IP header + payload = 64 octets

   o  Poisson sampling at lambda = 1 packet per second

   o  Test duration = 900 seconds total (March 21, 2011 EDT)





<span class="grey">Ciavattone, et al.            Informational                    [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   The netem emulator settings added constant delays as specified in the
   procedure above.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.1.%20%20NetProbe%20Results%20for%20Loss%20Threshold"></a><a class="selflink" href="#section-6.2.1" name="section-6.2.1">6.2.1</a>.  NetProbe Results for Loss Threshold</span>

   In NetProbe, the loss threshold was implemented uniformly over all
   packets as a post-processing routine.  With the loss threshold set at
   3 seconds, all packets with one-way delay &gt;3 seconds were marked
   "Lost" and included in the Lost Packet list with their transmission
   time (as required in <a href="rfc2680.html#section-3.3">Section 3.3 of [RFC2680]</a>).  This resulted in
   342 packets designated as lost in one of the test streams (with
   average delay = 3.091 sec).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.2.%20%20Perfas%2B%20Results%20for%20Loss%20Threshold"></a><a class="selflink" href="#section-6.2.2" name="section-6.2.2">6.2.2</a>.  Perfas+ Results for Loss Threshold</span>

   Perfas+ uses a fixed loss threshold, which was not adjustable during
   this study.  The loss threshold is approximately one minute, and
   emulation of a delay of this size was not attempted.  However, it is
   possible to implement any delay threshold desired with a
   post-processing routine and subsequent analysis.  Using this method,
   195 packets would be declared lost (with average delay = 3.091 sec).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.2.3.%20%20Conclusions%20for%20Loss%20Threshold"></a><a class="selflink" href="#section-6.2.3" name="section-6.2.3">6.2.3</a>.  Conclusions for Loss Threshold</span>

   Both implementations assume that any constant delay value desired can
   be used as the loss threshold, since all delays are stored as a pair
   &lt;Time, Delay&gt; as required in [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>].  This is a simple way to
   enforce the constant loss threshold envisioned in [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] (see
   <a href="rfc2680.html#section-2.8.2">Section 2.8.2 of [RFC2680]</a>).  We take the position that the
   assumption of post-processing is compliant and that the text of the
   revision of <a href="rfc2680.html">RFC 2680</a> should be revised slightly to include this
   point.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3.%20%20One-Way%20Loss%20with%20Out-of-Order%20Arrival"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a>.  One-Way Loss with Out-of-Order Arrival</span>

   <a href="rfc2680.html#section-3.6">Section 3.6 of [RFC2680]</a> indicates, with a lowercase "must" in the
   text, that implementations need to ensure that reordered packets are
   handled correctly.  In essence, this is an implied requirement
   because the correct packet must be identified as lost if it fails to
   arrive before its delay threshold under all circumstances, and
   reordering is always a possibility on IP network paths.  See
   [<a href="rfc4737.html" title='"Packet Reordering Metrics"'>RFC4737</a>] for the definition of reordering used in IETF
   standard-compliant measurements.

   The netem emulator can produce packet reordering because each
   packet's delay is drawn from an independent distribution.  Here,
   significant delay (2000 ms) and delay variation (1000 ms) were




<span class="grey">Ciavattone, et al.            Informational                    [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   sufficient to produce packet reordering.  Using the procedure
   described in <a href="#section-6.1">Section 6.1</a>, the netem emulator was set to introduce 10%
   loss while reordering was present.

   The tests described in this section used:

   o  IP header + payload = 64 octets

   o  Periodic sampling = 1 packet per second

   o  Test duration = 600 seconds (during May 2, 2011, EDT)

   =======================================

   &gt; Y02aps_loss &lt;- c(53,45,67,55)      (NetProbe)
   &gt; Y02per_loss &lt;- c(59,62,67,69)      (Perfas+)
   &gt; Y02cross_loss_ADK &lt;- adk.test(Y02aps_loss, Y02per_loss)
   &gt; Y02cross_loss_ADK
   Anderson-Darling k-sample test.

   Number of samples:  2
   Sample sizes: 4 4
   Total number of values: 8
   Number of unique values: 7

   Mean of Anderson Darling Criterion: 1
   Standard deviation of Anderson Darling Criterion: 0.60978

   T = (Anderson Darling Criterion - mean)/sigma

   Null Hypothesis: All samples come from a common population.

                       t.obs P-value extrapolation
   not adj. for ties 1.11282 0.11531             0
   adj. for ties     1.19571 0.10616             0

   Warning: At least one sample size is less than 5.
            p-values may not be very accurate.
   &gt;

   =======================================

   The test results indicate that extensive reordering was present.
   Both implementations capture the extensive delay variation between
   adjacent packets.  In NetProbe, packet arrival order is preserved in
   the raw measurement files, so an examination of arrival packet
   sequence numbers also reveals reordering.




<span class="grey">Ciavattone, et al.            Informational                    [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   Despite extensive continuous packet reordering present in the
   transmission path, the distributions of loss counts from the two
   implementations pass the ADK criterion at 95% = 1.960.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4.%20%20Poisson%20Sending%20Process%20Evaluation"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a>.  Poisson Sending Process Evaluation</span>

   <a href="rfc2680.html#section-3.7">Section 3.7 of [RFC2680]</a> indicates that implementations need to
   ensure that their sending process is reasonably close to a classic
   Poisson distribution when used.  Much more detail on sample
   distribution generation and Goodness-of-Fit testing is specified in
   <a href="rfc2330.html#section-11.4">Section 11.4 of [RFC2330]</a> and the Appendix of [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>].

   In this section, each implementation's Poisson distribution is
   compared with an idealistic version of the distribution available in
   the base functionality of the R-tool for Statistical Analysis [<a href="#ref-RTOOL" title='"R: A Language and Environment for Statistical Computing"'>RTOOL</a>]
   and performed using the Anderson-Darling Goodness-of-Fit test package
   (ADGofTest) [<a href="#ref-RADGOF" title='"ADGofTest: Anderson-Darling Goodness-of-Fit Test. R package version 0.3."'>RADGOF</a>].  The Goodness-of-Fit criterion derived from
   [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>] requires a test statistic value AD &lt;= 2.492 for 5%
   significance.  The Appendix of [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>] also notes that there may be
   difficulty satisfying the ADGofTest when the sample includes many
   packets (when 8192 were used, the test always failed, but smaller
   sets of the stream passed).

   Both implementations were configured to produce Poisson distributions
   with lambda = 1 packet per second and to assign received packet
   timestamps in the measurement application (above the UDP layer; see
   the calibration results in <a href="rfc6808.html#section-4">Section 4 of [RFC6808]</a> for error
   assessment).

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.4.1.%20%20NetProbe%20Results"></a><a class="selflink" href="#section-6.4.1" name="section-6.4.1">6.4.1</a>.  NetProbe Results</span>

   <a href="rfc2330.html#section-11.4">Section 11.4 of [RFC2330]</a> suggests three possible measurement points
   to evaluate the Poisson distribution.  The NetProbe analysis uses
   "user-level timestamps made just before or after the system call for
   transmitting the packet".

   The statistical summary for two NetProbe streams is below:

   =======================================

   &gt; summary(a27ms$s1[2:1152])
      Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
    0.0100  0.2900  0.6600  0.9846  1.3800  8.6390
   &gt; summary(a27ms$s2[2:1152])
      Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
     0.010   0.280   0.670   0.979   1.365   8.829

   =======================================



<span class="grey">Ciavattone, et al.            Informational                    [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   We see that both of the means are near the specified lambda = 1.

   The results of ADGoF tests for these two streams are shown below:

   =======================================

   &gt; ad.test( a27ms$s1[2:101], pexp, 1)

           Anderson-Darling GoF Test

   data:  a27ms$s1[2:101]  and  pexp
   AD = 0.8908, p-value = 0.4197
   alternative hypothesis: NA

   &gt; ad.test( a27ms$s1[2:1001], pexp, 1)

           Anderson-Darling GoF Test

   data:  a27ms$s1[2:1001]  and  pexp
   AD = 0.9284, p-value = 0.3971
   alternative hypothesis: NA

   &gt; ad.test( a27ms$s2[2:101], pexp, 1)

           Anderson-Darling GoF Test

   data:  a27ms$s2[2:101]  and  pexp
   AD = 0.3597, p-value = 0.8873
   alternative hypothesis: NA

   &gt; ad.test( a27ms$s2[2:1001], pexp, 1)

           Anderson-Darling GoF Test

   data:  a27ms$s2[2:1001]  and  pexp
   AD = 0.6913, p-value = 0.5661
   alternative hypothesis: NA

   =======================================

   We see that both sets of 100 packets and 1000 packets from two
   different streams (s1 and s2) all passed the AD &lt;= 2.492 criterion.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.4.2.%20%20Perfas%2B%20Results"></a><a class="selflink" href="#section-6.4.2" name="section-6.4.2">6.4.2</a>.  Perfas+ Results</span>

   <a href="rfc2330.html#section-11.4">Section 11.4 of [RFC2330]</a> suggests three possible measurement points
   to evaluate the Poisson distribution.  The Perfas+ analysis uses
   "wire times for the packets as recorded using a packet filter".



<span class="grey">Ciavattone, et al.            Informational                    [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   However, due to limited access at the Perfas+ side of the test setup,
   the captures were made after the Perfas+ streams traversed the
   production network, adding a small amount of unwanted delay variation
   to the wire times (and possibly error due to packet loss).

   The statistical summary for two Perfas+ streams is below:

   =======================================

   &gt; summary(a27pe$p1)
      Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
     0.004   0.347   0.788   1.054   1.548   4.231
   &gt; summary(a27pe$p2)
      Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
    0.0010  0.2710  0.7080  0.9696  1.3740  7.1160

   =======================================

   We see that both of the means are near the specified lambda = 1.

   The results of ADGoF tests for these two streams are shown below:

   =======================================

   &gt; ad.test(a27pe$p1, pexp, 1 )

           Anderson-Darling GoF Test

   data:  a27pe$p1  and  pexp
   AD = 1.1364, p-value = 0.2930
   alternative hypothesis: NA

   &gt; ad.test(a27pe$p2, pexp, 1 )

           Anderson-Darling GoF Test

   data:  a27pe$p2  and  pexp
   AD = 0.5041, p-value = 0.7424
   alternative hypothesis: NA

   &gt; ad.test(a27pe$p1[1:100], pexp, 1 )

           Anderson-Darling GoF Test

   data:  a27pe$p1[1:100]  and  pexp
   AD = 0.7202, p-value = 0.5419
   alternative hypothesis: NA




<span class="grey">Ciavattone, et al.            Informational                    [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   &gt; ad.test(a27pe$p1[101:193], pexp, 1 )

           Anderson-Darling GoF Test

   data:  a27pe$p1[101:193]  and  pexp
   AD = 1.4046, p-value = 0.201
   alternative hypothesis: NA

   &gt; ad.test(a27pe$p2[1:100], pexp, 1 )

           Anderson-Darling GoF Test

   data:  a27pe$p2[1:100]  and  pexp
   AD = 0.4758, p-value = 0.7712
   alternative hypothesis: NA

   &gt; ad.test(a27pe$p2[101:193], pexp, 1 )

           Anderson-Darling GoF Test

   data:  a27pe$p2[101:193]  and  pexp
   AD = 0.3381, p-value = 0.9068
   alternative hypothesis: NA

   &gt;

   =======================================

   We see that sets of 193, 100, and 93 packets from two different
   streams (p1 and p2) all passed the AD &lt;= 2.492 criterion.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/6.4.3.%20%20Conclusions%20for%20Goodness-of-Fit"></a><a class="selflink" href="#section-6.4.3" name="section-6.4.3">6.4.3</a>.  Conclusions for Goodness-of-Fit</span>

   Both NetProbe and Perfas+ implementations produce adequate Poisson
   distributions according to the Anderson-Darling Goodness-of-Fit at
   the 5% significance (1-alpha = 0.05, or 95% confidence level).















<span class="grey">Ciavattone, et al.            Informational                    [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.5.%20%20Implementation%20of%20Statistics%20for%20One-Way%20Loss"></a><a class="selflink" href="#section-6.5" name="section-6.5">6.5</a>.  Implementation of Statistics for One-Way Loss</span>

   We check to see which statistics were implemented and report on those
   facts, noting that <a href="rfc2680.html#section-4">Section 4 of [RFC2680]</a> does not specify the
   calculations exactly and only gives some illustrative examples.

                                                 NetProbe    Perfas+

        Type-P-One-way-Packet-Loss-Average       yes         yes
          (this is more commonly referred
           to as "loss ratio")

             Implementation of <a href="rfc2680.html#section-4">RFC 2680 Section 4</a> Statistics

   We note that implementations refer to this metric as a loss ratio,
   and this is an area for likely revision of the text to make it more
   consistent with widespread usage.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20%20Conclusions%20for%20a%20Revision%20of%20RFC%202680"></a><a class="selflink" href="#section-7" name="section-7">7</a>.  Conclusions for a Revision of <a href="rfc2680.html">RFC 2680</a></span>

   This memo concludes that [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] should be advanced on the
   Standards Track and recommends the following edits to improve the
   text (which are not deemed significant enough to affect maturity).

   o  Revise Type-P-One-way-Packet-Loss-Ave to
      Type-P-One-way-Delay-Packet-Loss-Ratio.

   o  Regarding implementation of the loss delay threshold
      (<a href="#section-6.2">Section 6.2</a>), the assumption of post-processing is compliant, and
      the text of the revision of <a href="rfc2680.html">RFC 2680</a> should be revised slightly to
      include this point.

   o  The IETF has reached consensus on guidance for reporting metrics
      [<a href="rfc6703.html" title='"Reporting IP Network Performance Metrics: Different Points of View"'>RFC6703</a>], and this memo should be referenced in a revision of
      <a href="rfc2680.html">RFC 2680</a> to incorporate recent experience where appropriate.

   We note that there are at least two errata for [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>], and it
   appears that these minor revisions should be incorporated in a
   revision of <a href="rfc2680.html">RFC 2680</a>.

   The authors that revise [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] should review all errata filed at
   the time the document is being written.  They should not rely upon
   this document to indicate all relevant errata updates.

   We recognize the existence of <a href="https://tools.ietf.org/html/bcp170">BCP 170</a> [<a href="rfc6390.html" title='"Guidelines for Considering New Performance Metric Development"'>RFC6390</a>], which provides
   guidelines for development of documents describing new performance
   metrics.  However, the advancement of [<a href="rfc2680.html" title='"A One-way Packet Loss Metric for IPPM"'>RFC2680</a>] represents fine-
   tuning of long-standing specifications based on experience that



<span class="grey">Ciavattone, et al.            Informational                    [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   helped to formulate <a href="https://tools.ietf.org/html/bcp170">BCP 170</a>, and material that satisfies some of the
   requirements of [<a href="rfc6390.html" title='"Guidelines for Considering New Performance Metric Development"'>RFC6390</a>] can be found in other RFCs, such as the
   IPPM Framework [<a href="rfc2330.html" title='"Framework for IP Performance Metrics"'>RFC2330</a>].  Thus, no specific changes to address
   <a href="https://tools.ietf.org/html/bcp170">BCP 170</a> guidelines are recommended for a revision of <a href="rfc2680.html">RFC 2680</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" name="section-8">8</a>.  Security Considerations</span>

   The security considerations that apply to any active measurement of
   live networks are relevant here as well.  See [<a href="rfc4656.html" title='"A One-way Active Measurement Protocol (OWAMP)"'>RFC4656</a>] and
   [<a href="rfc5357.html" title='"A Two-Way Active Measurement Protocol (TWAMP)"'>RFC5357</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20%20Acknowledgements"></a><a class="selflink" href="#section-9" name="section-9">9</a>.  Acknowledgements</span>

   The authors thank Lars Eggert for his continued encouragement to
   advance the IPPM metrics during his tenure as AD Advisor.

   Nicole Kowalski supplied the needed Customer Premises Equipment (CPE)
   router for the NetProbe side of the test setup and graciously managed
   her testing in spite of issues caused by dual-use of the router.
   Thanks, Nicole!

   The "NetProbe Team" also acknowledges many useful discussions on
   statistical interpretation with Ganga Maguluri.

   Constructive comments and helpful reviews were also provided by Bill
   Cerveny, Joachim Fabini, and Ann Cerveny.

























<span class="grey">Ciavattone, et al.            Informational                    [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20%20Appendix%20-%20Network%20Configuration%20and%20Sample%20Commands"></a><a class="selflink" href="#section-10" name="section-10">10</a>.  Appendix - Network Configuration and Sample Commands</span>

   This Appendix provides some background information on the host
   configuration and sample tc commands for the "netem" network
   emulator, as described in <a href="#section-3">Section 3</a> and Figure 1 of this memo.  These
   details are also applicable to the test plan in [<a href="rfc6808.html" title='"Test Plan and Results Supporting Advancement of RFC 2679 on the Standards Track"'>RFC6808</a>].

   The host interface and configuration are shown below.  Due to the
   limit of 72 characters per line, line breaks were added to the "tc"
   commands in the output below.

   [system@dell4-4 ~]$ su
   Password:
   [root@dell4-4 system]# service iptables save
   iptables: Saving firewall rules to /etc/sysconfig/iptables:[  OK  ]
   [root@dell4-4 system]# service iptables stop
   iptables: Flushing firewall rules:                         [  OK  ]
   iptables: Setting chains to policy ACCEPT: nat filter      [  OK  ]
   iptables: Unloading modules:                               [  OK  ]
   [root@dell4-4 system]# brctl show
   bridge name     bridge id               STP enabled     interfaces
   virbr0          8000.000000000000       yes
   [root@dell4-4 system]# ifconfig eth1.300 0.0.0.0 promisc up
   [root@dell4-4 system]# ifconfig eth1.400 0.0.0.0 promisc up
   [root@dell4-4 system]# ifconfig eth2.400 0.0.0.0 promisc up
   [root@dell4-4 system]# ifconfig eth2.300 0.0.0.0 promisc up
   [root@dell4-4 system]# brctl addbr br300
   [root@dell4-4 system]# brctl addif br300 eth1.300
   [root@dell4-4 system]# brctl addif br300 eth2.300
   [root@dell4-4 system]# ifconfig br300 up
   [root@dell4-4 system]# brctl addbr br400
   [root@dell4-4 system]# brctl addif br400 eth1.400
   [root@dell4-4 system]# brctl addif br400 eth2.400
   [root@dell4-4 system]# ifconfig br400 up
   [root@dell4-4 system]# brctl show
   bridge name     bridge id               STP enabled     interfaces
   br300           8000.0002b3109b8a       no              eth1.300
                                                           eth2.300
   br400           8000.0002b3109b8a       no              eth1.400
                                                           eth2.400
   virbr0          8000.000000000000       yes










<span class="grey">Ciavattone, et al.            Informational                    [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   [root@dell4-4 system]# brctl showmacs br300
   port no mac addr                is local?       ageing timer
     2     00:02:b3:10:9b:8a       yes                0.00
     1     00:02:b3:10:9b:99       yes                0.00
     1     00:02:b3:c4:c9:7a       no                 0.52
     2     00:02:b3:cf:02:c6       no                 0.52
     2     00:0b:5f:54:de:81       no                 0.01
   [root@dell4-4 system]# brctl showmacs br400
   port no mac addr                is local?       ageing timer
     2     00:02:b3:10:9b:8a       yes                0.00
     1     00:02:b3:10:9b:99       yes                0.00
     2     00:02:b3:c4:c9:7a       no                 0.60
     1     00:02:b3:cf:02:c6       no                 0.42
     2     00:0b:5f:54:de:81       no                 0.33
   [root@dell4-4 system]# tc qdisc add dev eth1.300 root netem
                          delay 100ms

   [root@dell4-4 system]# ifconfig eth1.200 0.0.0.0 promisc up
   [root@dell4-4 system]# vconfig add eth1 100
   Added VLAN with VID == 100 to IF -:eth1:-

   [root@dell4-4 system]# ifconfig eth1.100 0.0.0.0 promisc up

   [root@dell4-4 system]# vconfig add eth2 100
   Added VLAN with VID == 100 to IF -:eth2:-

   [root@dell4-4 system]# ifconfig eth2.100 0.0.0.0 promisc up
   [root@dell4-4 system]# ifconfig eth2.200 0.0.0.0 promisc up
   [root@dell4-4 system]# brctl addbr br100
   [root@dell4-4 system]# brctl addif br100 eth1.100
   [root@dell4-4 system]# brctl addif br100 eth2.100
   [root@dell4-4 system]# ifconfig br100 up
   [root@dell4-4 system]# brctl addbr br200
   [root@dell4-4 system]# brctl addif br200 eth1.200
   [root@dell4-4 system]# brctl addif br200 eth2.200
   [root@dell4-4 system]# ifconfig br200 up
   [root@dell4-4 system]# brctl show
   bridge name     bridge id               STP enabled     interfaces
   br100           8000.0002b3109b8a       no              eth1.100
                                                           eth2.100
   br200           8000.0002b3109b8a       no              eth1.200
                                                           eth2.200
   br300           8000.0002b3109b8a       no              eth1.300
                                                           eth2.300
   br400           8000.0002b3109b8a       no              eth1.400
                                                           eth2.400
   virbr0          8000.000000000000       yes




<span class="grey">Ciavattone, et al.            Informational                    [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   [root@dell4-4 system]# brctl showmacs br100
   port no mac addr                is local?       ageing timer
     2     00:02:b3:10:9b:8a       yes                0.00
     1     00:02:b3:10:9b:99       yes                0.00
     1     00:0a:e4:83:89:07       no                 0.19
     2     00:0b:5f:54:de:81       no                 0.91
     2     00:e0:ed:0f:72:86       no                 1.28
   [root@dell4-4 system]# brctl showmacs br200
   port no mac addr                is local?       ageing timer
     2     00:02:b3:10:9b:8a       yes                0.00
     1     00:02:b3:10:9b:99       yes                0.00
     2     00:0a:e4:83:89:07       no                 1.14
     2     00:0b:5f:54:de:81       no                 1.87
     1     00:e0:ed:0f:72:86       no                 0.24
   [root@dell4-4 system]# tc qdisc add dev eth1.100 root netem
                          delay 100ms
   [root@dell4-4 system]#

   =====================================================================

   Some sample tc command lines controlling netem and its impairments
   are given below.

   tc qdisc add dev eth1.100 root netem loss 0%
   tc qdisc add dev eth1.200 root netem loss 0%
   tc qdisc add dev eth1.300 root netem loss 0%
   tc qdisc add dev eth1.400 root netem loss 0%

   Add delay and delay variation:
   tc qdisc change dev eth1.100 root netem delay 100ms 50ms
   tc qdisc change dev eth1.200 root netem delay 100ms 50ms
   tc qdisc change dev eth1.300 root netem delay 100ms 50ms
   tc qdisc change dev eth1.400 root netem delay 100ms 50ms

   Add delay, delay variation, and loss:
   tc qdisc change dev eth1 root netem delay 2000ms 1000ms loss 10%

   =====================================================================













<span class="grey">Ciavattone, et al.            Informational                    [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/11.%20%20References"></a><a class="selflink" href="#section-11" name="section-11">11</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.1.%20%20Normative%20References"></a><a class="selflink" href="#section-11.1" name="section-11.1">11.1</a>.  Normative References</span>

   [<a id="ref-RFC2026" name="ref-RFC2026">RFC2026</a>]  Bradner, S., "The Internet Standards Process --
              Revision 3", <a href="https://tools.ietf.org/html/bcp9">BCP 9</a>, <a href="rfc2026.html">RFC 2026</a>, October 1996.

   [<a id="ref-RFC2119" name="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="rfc2119.html">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2330" name="ref-RFC2330">RFC2330</a>]  Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,
              "Framework for IP Performance Metrics", <a href="rfc2330.html">RFC 2330</a>,
              May 1998.

   [<a id="ref-RFC2680" name="ref-RFC2680">RFC2680</a>]  Almes, G., Kalidindi, S., and M. Zekauskas, "A One-way
              Packet Loss Metric for IPPM", <a href="rfc2680.html">RFC 2680</a>, September 1999.

   [<a id="ref-RFC3432" name="ref-RFC3432">RFC3432</a>]  Raisanen, V., Grotefeld, G., and A. Morton, "Network
              performance measurement with periodic streams", <a href="rfc3432.html">RFC 3432</a>,
              November 2002.

   [<a id="ref-RFC4656" name="ref-RFC4656">RFC4656</a>]  Shalunov, S., Teitelbaum, B., Karp, A., Boote, J., and M.
              Zekauskas, "A One-way Active Measurement Protocol
              (OWAMP)", <a href="rfc4656.html">RFC 4656</a>, September 2006.

   [<a id="ref-RFC4737" name="ref-RFC4737">RFC4737</a>]  Morton, A., Ciavattone, L., Ramachandran, G., Shalunov,
              S., and J. Perser, "Packet Reordering Metrics", <a href="rfc4737.html">RFC 4737</a>,
              November 2006.

   [<a id="ref-RFC5357" name="ref-RFC5357">RFC5357</a>]  Hedayat, K., Krzanowski, R., Morton, A., Yum, K., and J.
              Babiarz, "A Two-Way Active Measurement Protocol (TWAMP)",
              <a href="rfc5357.html">RFC 5357</a>, October 2008.

   [<a id="ref-RFC5657" name="ref-RFC5657">RFC5657</a>]  Dusseault, L. and R. Sparks, "Guidance on Interoperation
              and Implementation Reports for Advancement to Draft
              Standard", <a href="https://tools.ietf.org/html/bcp9">BCP 9</a>, <a href="rfc5657.html">RFC 5657</a>, September 2009.

   [<a id="ref-RFC6390" name="ref-RFC6390">RFC6390</a>]  Clark, A. and B. Claise, "Guidelines for Considering New
              Performance Metric Development", <a href="https://tools.ietf.org/html/bcp170">BCP 170</a>, <a href="rfc6390.html">RFC 6390</a>,
              October 2011.

   [<a id="ref-RFC6576" name="ref-RFC6576">RFC6576</a>]  Geib, R., Morton, A., Fardid, R., and A. Steinmitz, "IP
              Performance Metrics (IPPM) Standard Advancement Testing",
              <a href="https://tools.ietf.org/html/bcp176">BCP 176</a>, <a href="rfc6576.html">RFC 6576</a>, March 2012.







<span class="grey">Ciavattone, et al.            Informational                    [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   [<a id="ref-RFC6703" name="ref-RFC6703">RFC6703</a>]  Morton, A., Ramachandran, G., and G. Maguluri, "Reporting
              IP Network Performance Metrics: Different Points of View",
              <a href="rfc6703.html">RFC 6703</a>, August 2012.

   [<a id="ref-RFC6808" name="ref-RFC6808">RFC6808</a>]  Ciavattone, L., Geib, R., Morton, A., and M. Wieser, "Test
              Plan and Results Supporting Advancement of <a href="rfc2679.html">RFC 2679</a> on the
              Standards Track", <a href="rfc6808.html">RFC 6808</a>, December 2012.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/11.2.%20%20Informative%20References"></a><a class="selflink" href="#section-11.2" name="section-11.2">11.2</a>.  Informative References</span>

   [<a id="ref-ADK" name="ref-ADK">ADK</a>]      Scholz, F. and M. Stephens, "K-Sample Anderson-Darling
              Tests of Fit, for Continuous and Discrete Cases",
              University of Washington, Technical Report No. 81,
              May 1986.

   [<a id="ref-ADV-METRICS" name="ref-ADV-METRICS">ADV-METRICS</a>]
              Morton, A., "Lab Test Results for Advancing Metrics on the
              Standards Track", Work in Progress, October 2010.

   [<a id="ref-FEDORA" name="ref-FEDORA">FEDORA</a>]   "Fedora", &lt;<a href="http://fedoraproject.org/">http://fedoraproject.org/</a>&gt;.

   [<a id="ref-LOSS-METRIC" name="ref-LOSS-METRIC">LOSS-METRIC</a>]
              Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,
              Ed., "A One-Way Loss Metric for IPPM", Work in Progress,
              July 2014.

   [<a id="ref-MII-TOOL" name="ref-MII-TOOL">MII-TOOL</a>]
              Hinds, D., Becker, D., and B. Eckenfels, "Linux System
              Administrator's Manual", February 2013,
              &lt;<a href="http://man7.org/linux/man-pages/man8/mii-tool.8.html">http://man7.org/linux/man-pages/man8/mii-tool.8.html</a>&gt;.

   [<a id="ref-NETEM" name="ref-NETEM">NETEM</a>]    Linux Foundation, "netem",
              &lt;<a href="http://www.linuxfoundation.org/collaborate/workgroups/networking/netem">http://www.linuxfoundation.org/collaborate/workgroups/</a>
              <a href="http://www.linuxfoundation.org/collaborate/workgroups/networking/netem">networking/netem</a>&gt;.

   [<a id="ref-Perfas" name="ref-Perfas">Perfas</a>]   Heidemann, C., "Qualitaet in IP-Netzen Messverfahren",
              published by ITG Fachgruppe, 2nd meeting 5.2.3,
              November 2001, &lt;www.itg523.de/oeffentlich/01nov/
              Heidemann_QOS_Messverfahren.pdf&gt;.

   [<a id="ref-RADGOF" name="ref-RADGOF">RADGOF</a>]   Bellosta, C., "ADGofTest: Anderson-Darling Goodness-of-Fit
              Test.  R package version 0.3.", R-Package Version 0.3,
              December 2011, &lt;<a href="http://cran.r-project.org/web/packages/ADGofTest/index.html">http://cran.r-project.org/web/packages/</a>
              <a href="http://cran.r-project.org/web/packages/ADGofTest/index.html">ADGofTest/index.html</a>&gt;.

   [<a id="ref-RADK" name="ref-RADK">RADK</a>]     Scholz, F., "ADK: Anderson-Darling K-Sample Test and
              Combinations of Such Tests. R package version 1.0.", 2008.




<span class="grey">Ciavattone, et al.            Informational                    [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


   [<a id="ref-RFC3931" name="ref-RFC3931">RFC3931</a>]  Lau, J., Townsley, M., and I. Goyret, "Layer Two Tunneling
              Protocol - Version 3 (L2TPv3)", <a href="rfc3931.html">RFC 3931</a>, March 2005.

   [<a id="ref-RTOOL" name="ref-RTOOL">RTOOL</a>]    R Development Core Team, "R: A Language and Environment
              for Statistical Computing", ISBN 3-900051-07-0, 2014,
              &lt;<a href="http://www.r-project.org/">http://www.R-project.org/</a>&gt;.

   [<a id="ref-WIPM" name="ref-WIPM">WIPM</a>]     AT&amp;T, "AT&amp;T Global IP Network", 2014,
              &lt;<a href="http://ipnetwork.bgtmo.ip.att.net/pws/index.html">http://ipnetwork.bgtmo.ip.att.net/pws/index.html</a>&gt;.










































<span class="grey">Ciavattone, et al.            Informational                    [Page 30]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc7290.html">RFC 7290</a>           Standards Track Tests for <a href="rfc2680.html">RFC 2680</a>          July 2014</span>


Authors' Addresses

   Len Ciavattone
   AT&amp;T Labs
   200 Laurel Avenue South
   Middletown, NJ  07748
   USA

   Phone: +1 732 420 1239
   EMail: lencia@att.com


   Ruediger Geib
   Deutsche Telekom
   Heinrich Hertz Str. 3-7
   Darmstadt  64295
   Germany

   Phone: +49 6151 58 12747
   EMail: Ruediger.Geib@telekom.de


   Al Morton
   AT&amp;T Labs
   200 Laurel Avenue South
   Middletown, NJ  07748
   USA

   Phone: +1 732 420 1571
   Fax:   +1 732 368 1192
   EMail: acmorton@att.com
   URI:   <a href="http://home.comcast.net/~acmacm/">http://home.comcast.net/~acmacm/</a>


   Matthias Wieser
   Technical University Darmstadt
   Darmstadt
   Germany

   EMail: matthias_michael.wieser@stud.tu-darmstadt.de











Ciavattone, et al.            Informational                    [Page 31]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc7290 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 14 Aug 2018 14:05:42 GMT --></html>