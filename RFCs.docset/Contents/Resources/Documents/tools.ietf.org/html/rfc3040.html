<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><!-- Mirrored from tools.ietf.org/html/rfc3040 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:49 GMT --><!-- Added by HTTrack --><head><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="index,follow" name="robots"/>
    <meta content="rfcmarkup version 1.126" name="creator"/>
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC"/>
<meta content="urn:ietf:rfc:3040" name="DC.Identifier"/>
<meta content="This memo specifies standard terminology and the taxonomy of web
replication and caching infrastructure as deployed today. It
introduces standard concepts, and protocols used today within this
application domain. This memo provides information for the Internet
community." name="DC.Description.Abstract"/>
<meta content="Cooper, Ian" name="DC.Creator"/>
<meta content="Melve, Ingrid" name="DC.Creator"/>
<meta content="Tomlinson, Gary" name="DC.Creator"/>
<meta content="January, 2001" name="DC.Date.Issued"/>
<meta content="Internet Web Replication and Caching Taxonomy" name="DC.Title"/>

    <link href="https://tools.ietf.org/images/rfc.png" rel="icon" type="image/png"/>
    <link href="https://tools.ietf.org/images/rfc.png" rel="shortcut icon" type="image/png"/>
    <title>RFC 3040 - Internet Web Replication and Caching Taxonomy</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div class="pre noprint docinfo bgorange" onclick="showElem('legend');" onmouseout="hideElem('legend')" onmouseover="this.style.cursor='pointer';" style="height: 6px; position: absolute;" title="Click for colour legend.">                                                                        </div>
      <div class="docinfo noprint pre legend" id="legend" onmouseout="hideElem('legend');" onmouseover="showElem('legend');" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; ">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="index.html" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3040.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3040" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-wrec-taxonomy" title="draft-ietf-wrec-taxonomy">draft-ietf-wrec...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3040" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3040" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3040" title="Side-by-side diff">Diff2</a>]         </span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br/>
<span class="pre noprint docinfo">                                                                        </span><br/>
<pre>Network Working Group                                          I. Cooper
Request for Comments: 3040                                 Equinix, Inc.
Category: Informational                                         I. Melve
                                                                 UNINETT
                                                            G. Tomlinson
                                                          CacheFlow Inc.
                                                            January 2001


             <span class="h1">Internet Web Replication and Caching Taxonomy</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

Abstract

   This memo specifies standard terminology and the taxonomy of web
   replication and caching infrastructure as deployed today.  It
   introduces standard concepts, and protocols used today within this
   application domain.  Currently deployed solutions employing these
   technologies are presented to establish a standard taxonomy.  Known
   problems with caching proxies are covered in the document titled
   "Known HTTP Proxy/Caching Problems", and are not part of this
   document.  This document presents open protocols and points to
   published material for each protocol.

Table of Contents

   <a href="#section-1">1</a>.      Introduction . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.      Terminology  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-3">3</a>
   <a href="#section-2.1">2.1</a>     Base Terms . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
   <a href="#section-2.2">2.2</a>     First order derivative terms . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
   <a href="#section-2.3">2.3</a>     Second order derivatives . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
   <a href="#section-2.4">2.4</a>     Topological terms  . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
   <a href="#section-2.5">2.5</a>     Automatic use of proxies . . . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
   <a href="#section-3">3</a>.      Distributed System Relationships . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-3.1">3.1</a>     Replication Relationships  . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-3.1.1">3.1.1</a>   Client to Replica  . . . . . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-3.1.2">3.1.2</a>   Inter-Replica  . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-9">9</a>
   <a href="#section-3.2">3.2</a>     Proxy Relationships  . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
   <a href="#section-3.2.1">3.2.1</a>   Client to Non-Interception Proxy . . . . . . . . . . . . . <a href="#page-10">10</a>



<span class="grey">Cooper, et al.               Informational                      [Page 1]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-2" id="page-2" name="page-2"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   <a href="#section-3.2.2">3.2.2</a>   Client to Surrogate to Origin Server . . . . . . . . . . . <a href="#page-10">10</a>
   <a href="#section-3.2.3">3.2.3</a>   Inter-Proxy  . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-3.2.3.1">3.2.3.1</a> (Caching) Proxy Meshes . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-3.2.3.2">3.2.3.2</a> (Caching) Proxy Arrays . . . . . . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-3.2.4">3.2.4</a>   Network Element to Caching Proxy . . . . . . . . . . . . . <a href="#page-12">12</a>
   <a href="#section-4">4</a>.      Replica Selection  . . . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-4.1">4.1</a>     Navigation Hyperlinks  . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   <a href="#section-4.2">4.2</a>     Replica HTTP Redirection . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   <a href="#section-4.3">4.3</a>     DNS Redirection  . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   <a href="#section-5">5</a>.      Inter-Replica Communication  . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-5.1">5.1</a>     Batch Driven Replication . . . . . . . . . . . . . . . . . <a href="#page-15">15</a>
   <a href="#section-5.2">5.2</a>     Demand Driven Replication  . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-5.3">5.3</a>     Synchronized Replication . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-6">6</a>.      User Agent to Proxy Configuration  . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-6.1">6.1</a>     Manual Proxy Configuration . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-6.2">6.2</a>     Proxy Auto Configuration (PAC) . . . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-6.3">6.3</a>     Cache Array Routing Protocol (CARP) v1.0 . . . . . . . . . <a href="#page-18">18</a>
   <a href="#section-6.4">6.4</a>     Web Proxy Auto-Discovery Protocol (WPAD) . . . . . . . . . <a href="#page-18">18</a>
   <a href="#section-7">7</a>.      Inter-Proxy Communication  . . . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-7.1">7.1</a>     Loosely coupled Inter-Proxy Communication  . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-7.1.1">7.1.1</a>   Internet Cache Protocol (ICP)  . . . . . . . . . . . . . . <a href="#page-19">19</a>
   <a href="#section-7.1.2">7.1.2</a>   Hyper Text Caching Protocol  . . . . . . . . . . . . . . . <a href="#page-20">20</a>
   <a href="#section-7.1.3">7.1.3</a>   Cache Digest . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-21">21</a>
   <a href="#section-7.1.4">7.1.4</a>   Cache Pre-filling  . . . . . . . . . . . . . . . . . . . . <a href="#page-22">22</a>
   <a href="#section-7.2">7.2</a>     Tightly Coupled Inter-Cache Communication  . . . . . . . . <a href="#page-22">22</a>
   <a href="#section-7.2.1">7.2.1</a>   Cache Array Routing Protocol (CARP) v1.0 . . . . . . . . . <a href="#page-22">22</a>
   <a href="#section-8">8</a>.      Network Element Communication  . . . . . . . . . . . . . . <a href="#page-23">23</a>
   <a href="#section-8.1">8.1</a>     Web Cache Control Protocol (WCCP)  . . . . . . . . . . . . <a href="#page-23">23</a>
   <a href="#section-8.2">8.2</a>     Network Element Control Protocol (NECP)  . . . . . . . . . <a href="#page-24">24</a>
   <a href="#section-8.3">8.3</a>     SOCKS  . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-25">25</a>
   <a href="#section-9">9</a>.      Security Considerations  . . . . . . . . . . . . . . . . . <a href="#page-25">25</a>
   <a href="#section-9.1">9.1</a>     Authentication . . . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-9.1.1">9.1.1</a>   Man in the middle attacks  . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-9.1.2">9.1.2</a>   Trusted third party  . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-9.1.3">9.1.3</a>   Authentication based on IP number  . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-9.2">9.2</a>     Privacy  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-9.2.1">9.2.1</a>   Trusted third party  . . . . . . . . . . . . . . . . . . . <a href="#page-26">26</a>
   <a href="#section-9.2.2">9.2.2</a>   Logs and legal implications  . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-9.3">9.3</a>     Service security . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-9.3.1">9.3.1</a>   Denial of service  . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-9.3.2">9.3.2</a>   Replay attack  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-27">27</a>
   <a href="#section-9.3.3">9.3.3</a>   Stupid configuration of proxies  . . . . . . . . . . . . . <a href="#page-28">28</a>
   <a href="#section-9.3.4">9.3.4</a>   Copyrighted transient copies . . . . . . . . . . . . . . . <a href="#page-28">28</a>
   <a href="#section-9.3.5">9.3.5</a>   Application level access . . . . . . . . . . . . . . . . . <a href="#page-28">28</a>
   <a href="#section-10">10</a>.     Acknowledgements . . . . . . . . . . . . . . . . . . . . . <a href="#page-28">28</a>
           References . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-28">28</a>
           Authors' Addresses . . . . . . . . . . . . . . . . . . . . <a href="#page-31">31</a>
           Full Copyright Statement . . . . . . . . . . . . . . . . . <a href="#page-32">32</a>



<span class="grey">Cooper, et al.               Informational                      [Page 2]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-3" id="page-3" name="page-3"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/1.%20Introduction"></a><a class="selflink" href="#section-1" name="section-1">1</a>. Introduction</span>

   Since its introduction in 1990, the World-Wide Web has evolved from a
   simple client server model into a complex distributed architecture.
   This evolution has been driven largely due to the scaling problems
   associated with exponential growth.  Distinct paradigms and solutions
   have emerged to satisfy specific requirements.  Two core
   infrastructure components being employed to meet the demands of this
   growth are replication and caching.  In many cases, there is a need
   for web caches and replicated services to be able to coexist.

   This memo specifies standard terminology and the taxonomy of web
   replication and caching infrastructure deployed in the Internet
   today.  The principal goal of this document is to establish a common
   understanding and reference point of this application domain.

   It is also expected that this document will be used in the creation
   of a standard architectural framework for efficient, reliable, and
   predictable service in a web which includes both replicas and caches.

   Some of the protocols which this memo examines are specified only by
   company technical white papers or work in progress documents.  Such
   references are included to demonstrate the existence of such
   protocols, their experimental deployment in the Internet today, or to
   aid the reader in their understanding of this technology area.

   There are many protocols, both open and proprietary, employed in web
   replication and caching today.  A majority of the open protocols
   include DNS [<a href="#ref-8" title='"DNS Support for Load Balancing"'>8</a>], Cache Digests [<a href="#ref-21" title='"Cache Digest specification - version 5"'>21</a>][10], CARP [<a href="#ref-14" title='"Cache Array Routing Protocol"'>14</a>], HTTP [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>], ICP
   [<a href="#ref-2" title='"Internet Cache Protocol (ICP), Version 2"'>2</a>], PAC [<a href="#ref-12" title='"Navigator Proxy Auto-Config File Format"'>12</a>], SOCKS [<a href="#ref-7" title='"SOCKS Protocol Version 5"'>7</a>], WPAD [<a href="#ref-13" title='"The Web Proxy Auto-Discovery Protocol"'>13</a>], and WCCP [<a href="#ref-18" title='"Cisco Web Cache Coordination Protocol V1.0"'>18</a>][19].  These
   protocols, and their use within the caching and replication
   environments, are discussed below.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/2.%20Terminology"></a><a class="selflink" href="#section-2" name="section-2">2</a>. Terminology</span>

   The following terminology provides definitions of common terms used
   within the web replication and caching community.  Base terms are
   taken, where possible, from the HTTP/1.1 specification [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>] and are
   included here for reference.  First- and second-order derivatives are
   constructed from these base terms to help define the relationships
   that exist within this area.

   Terms that are in common usage and which are contrary to definitions
   in <a href="rfc2616.html">RFC 2616</a> and this document are highlighted.







<span class="grey">Cooper, et al.               Informational                      [Page 3]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-4" id="page-4" name="page-4"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.1%20Base%20Terms"></a><a class="selflink" href="#section-2.1" name="section-2.1">2.1</a> Base Terms</span>

   The majority of these terms are taken as-is from <a href="rfc2616.html">RFC 2616</a> [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>], and
   are included here for reference.

   client (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      A program that establishes connections for the purpose of sending
      requests.

   server (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      An application program that accepts connections in order to
      service requests by sending back responses.  Any given program may
      be capable of being both a client and a server; our use of these
      terms refers only to the role being performed by the program for a
      particular connection, rather than to the program's capabilities
      in general.  Likewise, any server may act as an origin server,
      proxy, gateway, or tunnel, switching behavior based on the nature
      of each request.

   proxy (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      An intermediary program which acts as both a server and a client
      for the purpose of making requests on behalf of other clients.
      Requests are serviced internally or by passing them on, with
      possible translation, to other servers.  A proxy MUST implement
      both the client and server requirements of this specification.  A
      "transparent proxy" is a proxy that does not modify the request or
      response beyond what is required for proxy authentication and
      identification.  A "non-transparent proxy" is a proxy that
      modifies the request or response in order to provide some added
      service to the user agent, such as group annotation services,
      media type transformation, protocol reduction, or anonymity
      filtering.  Except where either transparent or non-transparent
      behavior is explicitly stated, the HTTP proxy requirements apply
      to both types of proxies.

   Note: The term "transparent proxy" refers to a semantically
   transparent proxy as described in [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>], not what is commonly
   understood within the caching community.  We recommend that the term
   "transparent proxy" is always prefixed to avoid confusion (e.g.,
   "network transparent proxy").  However, see definition of
   "interception proxy" below.

   The above condition requiring implementation of both the server and
   client requirements of HTTP/1.1 is only appropriate for a non-network
   transparent proxy.






<span class="grey">Cooper, et al.               Informational                      [Page 4]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-5" id="page-5" name="page-5"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   cache (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      A program's local store of response messages and the subsystem
      that controls its message storage, retrieval, and deletion.  A
      cache stores cacheable responses in order to reduce the response
      time and network bandwidth consumption on future, equivalent
      requests.  Any client or server may include a cache, though a
      cache cannot be used by a server that is acting as a tunnel.

   Note: The term "cache" used alone often is meant as "caching proxy".

   Note: There are additional motivations for caching, for example
   reducing server load (as a further means to reduce response time).

   cacheable (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      A response is cacheable if a cache is allowed to store a copy of
      the response message for use in answering subsequent requests.
      The rules for determining the cacheability of HTTP responses are
      defined in <a href="#section-13">section 13</a>.  Even if a resource is cacheable, there may
      be additional constraints on whether a cache can use the cached
      copy for a particular request.

   gateway (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      A server which acts as an intermediary for some other server.
      Unlike a proxy, a gateway receives requests as if it were the
      origin server for the requested resource; the requesting client
      may not be aware that it is communicating with a gateway.

   tunnel (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      An intermediary program which is acting as a blind relay between
      two connections.  Once active, a tunnel is not considered a party
      to the HTTP communication, though the tunnel may have been
      initiated by an HTTP request.  The tunnel ceases to exist when
      both ends of the relayed connections are closed.

   replication
      "Creating and maintaining a duplicate copy of a database or file
      system on a different computer, typically a server."  - Free
      Online Dictionary of Computing (FOLDOC)

   inbound/outbound (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      Inbound and outbound refer to the request and response paths for
      messages: "inbound" means "traveling toward the origin server",
      and "outbound" means "traveling toward the user agent".

   network element
      A network device that introduces multiple paths between source and
      destination, transparent to HTTP.




<span class="grey">Cooper, et al.               Informational                      [Page 5]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-6" id="page-6" name="page-6"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.2%20First%20order%20derivative%20terms"></a><a class="selflink" href="#section-2.2" name="section-2.2">2.2</a> First order derivative terms</span>

   The following terms are constructed taking the above base terms as
   foundation.

   origin server (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      The server on which a given resource resides or is to be created.

   user agent (taken from [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>])
      The client which initiates a request.  These are often browsers,
      editors, spiders (web-traversing robots), or other end user tools.

   caching proxy
      A proxy with a cache, acting as a server to clients, and a client
      to servers.

      Caching proxies are often referred to as "proxy caches" or simply
      "caches".  The term "proxy" is also frequently misused when
      referring to caching proxies.

   surrogate
      A gateway co-located with an origin server, or at a different
      point in the network, delegated the authority to operate on behalf
      of, and typically working in close co-operation with, one or more
      origin servers.  Responses are typically delivered from an
      internal cache.

      Surrogates may derive cache entries from the origin server or from
      another of the origin server's delegates.  In some cases a
      surrogate may tunnel such requests.

      Where close co-operation between origin servers and surrogates
      exists, this enables modifications of some protocol requirements,
      including the Cache-Control directives in [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>].  Such modifications
      have yet to be fully specified.

      Devices commonly known as "reverse proxies" and "(origin) server
      accelerators" are both more properly defined as surrogates.

   reverse proxy
      See "surrogate".

   server accelerator
      See "surrogate".







<span class="grey">Cooper, et al.               Informational                      [Page 6]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-7" id="page-7" name="page-7"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.3%20Second%20order%20derivatives"></a><a class="selflink" href="#section-2.3" name="section-2.3">2.3</a> Second order derivatives</span>

   The following terms further build on first order derivatives:

   master origin server
      An origin server on which the definitive version of a resource
      resides.

   replica origin server
      An origin server holding a replica of a resource, but which may
      act as an authoritative reference for client requests.

   content consumer
      The user or system that initiates inbound requests, through use of
      a user agent.

   browser
      A special instance of a user agent that acts as a content
      presentation device for content consumers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.4%20Topological%20terms"></a><a class="selflink" href="#section-2.4" name="section-2.4">2.4</a> Topological terms</span>

   The following definitions are added to describe caching device
   topology:

   user agent cache
      The cache within the user agent program.

   local caching proxy
      The caching proxy to which a user agent connects.

   intermediate caching proxy
      Seen from the content consumer's view, all caches participating in
      the caching mesh that are not the user agent's local caching
      proxy.

   cache server
      A server to requests made by local and intermediate caching
      proxies, but which does not act as a proxy.

   cache array
      A cluster of caching proxies, acting logically as one service and
      partitioning the resource name space across the array.  Also known
      as "diffused array" or "cache cluster".







<span class="grey">Cooper, et al.               Informational                      [Page 7]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-8" id="page-8" name="page-8"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   caching mesh
      a loosely coupled set of co-operating proxy- and (optionally)
      caching-servers, or clusters, acting independently but sharing
      cacheable content between themselves using inter-cache
      communication protocols.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/2.5%20Automatic%20use%20of%20proxies"></a><a class="selflink" href="#section-2.5" name="section-2.5">2.5</a> Automatic use of proxies</span>

   Network administrators may wish to force or facilitate the use of
   proxies by clients, enabling such configuration within the network
   itself or within automatic systems in user agents, such that the
   content consumer need not be aware of any such configuration issues.

   The terms that describe such configurations are given below.

   automatic user-agent proxy configuration
      The technique of discovering the availability of one or more
      proxies and the automated configuration of the user agent to use
      them.  The use of a proxy is transparent to the content consumer
      but not to the user agent.  The term "automatic proxy
      configuration" is also used in this sense.

   traffic interception
      The process of using a network element to examine network traffic
      to determine whether it should be redirected.

   traffic redirection
      Redirection of client requests from a network element performing
      traffic interception to a proxy.  Used to deploy (caching) proxies
      without the need to manually reconfigure individual user agents,
      or to force the use of a proxy where such use would not otherwise
      occur.

   interception proxy (a.k.a. "transparent proxy", "transparent cache")
      The term "transparent proxy" has been used within the caching
      community to describe proxies used with zero configuration within
      the user agent.  Such use is somewhat transparent to user agents.
      Due to discrepancies with [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>] (see definition of "proxy" above),
      and objections to the use of the word "transparent", we introduce
      the term "interception proxy" to describe proxies that receive
      redirected traffic flows from network elements performing traffic
      interception.

      Interception proxies receive inbound traffic flows through the
      process of traffic redirection.  (Such proxies are deployed by
      network administrators to facilitate or require the use of
      appropriate services offered by the proxy).  Problems associated
      with the deployment of interception proxies are described in the



<span class="grey">Cooper, et al.               Informational                      [Page 8]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-9" id="page-9" name="page-9"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      document "Known HTTP Proxy/Caching Problems" [<a href="#ref-23" title='"Known HTTP Proxy/Caching Problems"'>23</a>].  The use of
      interception proxies requires zero configuration of the user agent
      which act as though communicating directly with an origin server.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/3.%20Distributed%20System%20Relationships"></a><a class="selflink" href="#section-3" name="section-3">3</a>. Distributed System Relationships</span>

   This section identifies the relationships that exist in a distributed
   replication and caching environment.  Having defined these
   relationships, later sections describe the communication protocols
   used in each relationship.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.1%20Replication%20Relationships"></a><a class="selflink" href="#section-3.1" name="section-3.1">3.1</a> Replication Relationships</span>

   The following sections describe relationships between clients and
   replicas and between replicas themselves.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.1%20Client%20to%20Replica"></a><a class="selflink" href="#section-3.1.1" name="section-3.1.1">3.1.1</a> Client to Replica</span>

   A client may communicate with one or more replica origin servers, as
   well as with master origin servers.  (In the absence of replica
   servers the client interacts directly with the origin server as is
   the normal case.)

      ------------------     -----------------     ------------------
      | Replica Origin |     | Master Origin |     | Replica Origin |
      |     Server     |     |    Server     |     |     Server     |
      ------------------     -----------------     ------------------
               \                    |                      /
                \                   |                     /
                 -----------------------------------------
                                    |                 Client to
                             -----------------        Replica Server
                             |     Client    |
                             -----------------

   Protocols used to enable the client to use one of the replicas can be
   found in <a href="#section-4">Section 4</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.1.2%20Inter-Replica"></a><a class="selflink" href="#section-3.1.2" name="section-3.1.2">3.1.2</a> Inter-Replica</span>

   This is the relationship between master origin server(s) and replica
   origin servers, to replicate data sets that are accessed by clients
   in the relationship shown in <a href="#section-3.1.1">Section 3.1.1</a>.








<span class="grey">Cooper, et al.               Informational                      [Page 9]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-10" id="page-10" name="page-10"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      ------------------     -----------------     ------------------
      | Replica Origin |-----| Master Origin |-----| Replica Origin |
      |     Server     |     |    Server     |     |     Server     |
      ------------------     -----------------     ------------------

   Protocols used in this relationship can be found in <a href="#section-5">Section 5</a>.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/3.2%20Proxy%20Relationships"></a><a class="selflink" href="#section-3.2" name="section-3.2">3.2</a> Proxy Relationships</span>

   There are a variety of ways in which (caching) proxies and cache
   servers communicate with each other, and with user agents.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.1%20Client%20to%20Non-Interception%20Proxy"></a><a class="selflink" href="#section-3.2.1" name="section-3.2.1">3.2.1</a> Client to Non-Interception Proxy</span>

   A client may communicate with zero or more proxies for some or all
   requests.  Where the result of communication results in no proxy
   being used, the relationship is between client and (replica) origin
   server (see <a href="#section-3.1.1">Section 3.1.1</a>).

      -----------------     -----------------     -----------------
      |     Local     |     |     Local     |     |     Local     |
      |     Proxy     |     |     Proxy     |     |     Proxy     |
      -----------------     -----------------     -----------------
               \                    |                      /
                \                   |                     /
                 -----------------------------------------
                                    |
                             -----------------
                             |     Client    |
                             -----------------

   In addition, a user agent may interact with an additional server -
   operated on behalf of a proxy for the purpose of automatic user agent
   proxy configuration.

   Schemes and protocols used in these relationships can be found in
   <a href="#section-6">Section 6</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.2%20Client%20to%20Surrogate%20to%20Origin%20Server"></a><a class="selflink" href="#section-3.2.2" name="section-3.2.2">3.2.2</a> Client to Surrogate to Origin Server</span>

   A client may communicate with zero or more surrogates for requests
   intended for one or more origin servers.  Where a surrogate is not
   used, the client communicates directly with an origin server.  Where
   a surrogate is used the client communicates as if with an origin
   server.  The surrogate fulfills the request from its internal cache,
   or acts as a gateway or tunnel to the origin server.





<span class="grey">Cooper, et al.               Informational                     [Page 10]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-11" id="page-11" name="page-11"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


            --------------  --------------   --------------
            |   Origin   |  |   Origin   |   |   Origin   |
            |   Server   |  |   Server   |   |   Server   |
            --------------  --------------   --------------
                          \        |        /
                           \       |       /
                           -----------------
                           |   Surrogate   |
                           |               |
                           -----------------
                                   |
                                   |
                             ------------
                             |  Client  |
                             ------------

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.3%20Inter-Proxy"></a><a class="selflink" href="#section-3.2.3" name="section-3.2.3">3.2.3</a> Inter-Proxy</span>

   Inter-Proxy relationships exist as meshes (loosely coupled) and
   clusters (tightly coupled).

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/3.2.3.1%20%28Caching%29%20Proxy%20Meshes"></a><a class="selflink" href="#section-3.2.3.1" name="section-3.2.3.1">3.2.3.1</a> (Caching) Proxy Meshes</span>

   Within a loosely coupled mesh of (caching) proxies, communication can
   happen at the same level between peers, and with one or more parents.

                        ---------------------  ---------------------
             -----------|    Intermediate   |  |    Intermediate   |
             |          | Caching Proxy (D) |  | Caching Proxy (E) |
             |(peer)    ---------------------  ---------------------
       --------------             | (parent)       / (parent)
       |   Cache    |             |         ------/
       | Server (C) |             |        /
       --------------             |       /
      (peer) |            -----------------       ---------------------
             -------------| Local Caching |-------|    Intermediate   |
                          |   Proxy (A)   | (peer)| Caching Proxy (B) |
                          -----------------       ---------------------
                                  |
                                  |
                              ----------
                              | Client |
                              ----------

   Client included for illustration purposes only






<span class="grey">Cooper, et al.               Informational                     [Page 11]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-12" id="page-12" name="page-12"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   An inbound request may be routed to one of a number of intermediate
   (caching) proxies based on a determination of whether that parent is
   better suited to resolving the request.

   For example, in the above figure, Cache Server C and Intermediate
   Caching Proxy B are peers of the Local Caching Proxy A, and may only
   be used when the resource requested by A already exists on either B
   or C.  Intermediate Caching Proxies D &amp; E are parents of A, and it is
   A's choice of which to use to resolve a particular request.

   The relationship between A &amp; B only makes sense in a caching
   environment, while the relationships between A &amp; D and A &amp; E are also
   appropriate where D or E are non-caching proxies.

   Protocols used in these relationships can be found in <a href="#section-7.1">Section 7.1</a>.

<span class="h5"><a class="dashAnchor" name="//apple_ref/Section/3.2.3.2%20%28Caching%29%20Proxy%20Arrays"></a><a class="selflink" href="#section-3.2.3.2" name="section-3.2.3.2">3.2.3.2</a> (Caching) Proxy Arrays</span>

   Where a user agent may have a relationship with a proxy, it is
   possible that it may instead have a relationship with an array of
   proxies arranged in a tightly coupled mesh.

                              ----------------------
                         ----------------------    |
                     ---------------------    |    |
                     |  (Caching) Proxy  |    |-----
                     |      Array        |----- ^ ^
                     --------------------- ^ ^  | |
                         ^            ^    | |--- |
                         |            |-----      |
                         --------------------------

   Protocols used in this relationship can be found in <a href="#section-7.2">Section 7.2</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/3.2.4%20Network%20Element%20to%20Caching%20Proxy"></a><a class="selflink" href="#section-3.2.4" name="section-3.2.4">3.2.4</a> Network Element to Caching Proxy</span>

   A network element performing traffic interception may choose to
   redirect requests from a client to a specific proxy within an array.
   (It may also choose not to redirect the traffic, in which case the
   relationship is between client and (replica) origin server, see
   <a href="#section-3.1.1">Section 3.1.1</a>.)










<span class="grey">Cooper, et al.               Informational                     [Page 12]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-13" id="page-13" name="page-13"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      -----------------     -----------------     -----------------
      | Caching Proxy |     | Caching Proxy |     | Caching Proxy |
      |     Array     |     |     Array     |     |     Array     |
      -----------------     -----------------     -----------------
                \                   |                     /
                 -----------------------------------------
                                    |
                              --------------
                              |  Network   |
                              |  Element   |
                              --------------
                                    |
                                   ///
                                    |
                               ------------
                               |  Client  |
                               ------------

   The interception proxy may be directly in-line of the flow of traffic
   - in which case the intercepting network element and interception
   proxy form parts of the same hardware system - or may be out-of-path,
   requiring the intercepting network element to redirect traffic to
   another network segment.  In this latter case, communication
   protocols enable the intercepting network element to stop and start
   redirecting traffic when the interception proxy becomes
   (un)available.  Details of these protocols can be found in <a href="#section-8">Section 8</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/4.%20Replica%20Selection"></a><a class="selflink" href="#section-4" name="section-4">4</a>. Replica Selection</span>

   This section describes the schemes and protocols used in the
   cooperation and communication between client and replica origin web
   servers.  The ideal situation is to discover an optimal replica
   origin server for clients to communicate with.  Optimality is a
   policy based decision, often based upon proximity, but may be based
   on other criteria such as load.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.1%20Navigation%20Hyperlinks"></a><a class="selflink" href="#section-4.1" name="section-4.1">4.1</a> Navigation Hyperlinks</span>

   Best known reference:
      This memo.

   Description:
      The simplest of client to replica communication mechanisms.  This
      utilizes hyperlink URIs embedded in web pages that point to the
      individual replica origin servers.  The content consumer manually
      selects the link of the replica origin server they wish to use.





<span class="grey">Cooper, et al.               Informational                     [Page 13]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-14" id="page-14" name="page-14"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Security:
      Relies on the protocol security associated with the appropriate
      URI scheme.

   Deployment:
      Probably the most commonly deployed client to replica
      communication mechanism.  Ubiquitous interoperability with humans.

   Submitter:
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.2%20Replica%20HTTP%20Redirection"></a><a class="selflink" href="#section-4.2" name="section-4.2">4.2</a> Replica HTTP Redirection</span>

   Best known reference:
      This memo.

   Description:
      A simple and commonly used mechanism to connect clients with
      replica origin servers is to use HTTP redirection.  Clients are
      redirected to an optimal replica origin server via the use of the
      HTTP [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>] protocol response codes, e.g., 302 "Found", or 307
      "Temporary Redirect".  A client establishes HTTP communication
      with one of the replica origin servers.  The initially contacted
      replica origin server can then either choose to accept the service
      or redirect the client again.  Refer to <a href="#section-10.3">section 10.3</a> in HTTP/1.1
      [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>] for information on HTTP response codes.

   Security:
      Relies entirely upon HTTP security.

   Deployment:
      Observed at a number of large web sites.  Extent of usage in the
      Internet is unknown.

   Submitter:
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/4.3%20DNS%20Redirection"></a><a class="selflink" href="#section-4.3" name="section-4.3">4.3</a> DNS Redirection</span>

   Best known references:

      *  <a href="rfc1794.html">RFC 1794</a> DNS Support for Load Balancing Proximity [<a href="#ref-8" title='"DNS Support for Load Balancing"'>8</a>]

      *  This memo

   Description:
      The Domain Name Service (DNS) provides a more sophisticated client
      to replica communication mechanism.  This is accomplished by DNS



<span class="grey">Cooper, et al.               Informational                     [Page 14]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-15" id="page-15" name="page-15"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      servers that sort resolved IP addresses based upon quality of
      service policies.  When a client resolves the name of an origin
      server, the enhanced DNS server sorts the available IP addresses
      of the replica origin servers starting with the most optimal
      replica and ending with the least optimal replica.

   Security:
      Relies entirely upon DNS security, and other protocols that may be
      used in determining the sort order.

   Deployment:
      Observed at a number of large web sites and large ISP web hosted
      services.  Extent of usage in the Internet is unknown, but is
      believed to be increasing.

   Submitter:
      Document editors.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/5.%20Inter-Replica%20Communication"></a><a class="selflink" href="#section-5" name="section-5">5</a>. Inter-Replica Communication</span>

   This section describes the cooperation and communication between
   master- and replica- origin servers.  Used in replicating data sets
   between origin servers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.1%20Batch%20Driven%20Replication"></a><a class="selflink" href="#section-5.1" name="section-5.1">5.1</a> Batch Driven Replication</span>

   Best known reference:
      This memo.

   Description:
      The replica origin server to be updated initiates communication
      with a master origin server.  The communication is established at
      intervals based upon queued transactions which are scheduled for
      deferred processing.  The scheduling mechanism policies vary, but
      generally are re-occurring at a specified time.  Once
      communication is established, data sets are copied to the
      initiating replica origin server.

   Security:
      Relies upon the protocol being used to transfer the data set.  FTP
      [<a href="#ref-4" title='"File Transfer Protocol (FTP)"'>4</a>] and RDIST are the most common protocols observed.

   Deployment:
      Very common for synchronization of mirror sites in the Internet.

   Submitter:
      Document editors.




<span class="grey">Cooper, et al.               Informational                     [Page 15]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-16" id="page-16" name="page-16"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.2%20Demand%20Driven%20Replication"></a><a class="selflink" href="#section-5.2" name="section-5.2">5.2</a> Demand Driven Replication</span>

   Best known reference:
      This memo.

   Description:
      Replica origin servers acquire content as needed due to client
      demand.  When a client requests a resource that is not in the data
      set of the replica origin server/surrogate, an attempt is made to
      resolve the request by acquiring the resource from the master
      origin server, returning it to the requesting client.

   Security:
      Relies upon the protocol being used to transfer the resources. FTP
      [<a href="#ref-4" title='"File Transfer Protocol (FTP)"'>4</a>], Gopher [<a href="#ref-5" title='"The Internet Gopher Protocol"'>5</a>], HTTP [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>] and ICP [<a href="#ref-2" title='"Internet Cache Protocol (ICP), Version 2"'>2</a>] are the most common
      protocols observed.

   Deployment:
      Observed at several large web sites.  Extent of usage in the
      Internet is unknown.

   Submitter:
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/5.3%20Synchronized%20Replication"></a><a class="selflink" href="#section-5.3" name="section-5.3">5.3</a> Synchronized Replication</span>

   Best known reference:
      This memo.

   Description:
      Replicated origin servers cooperate using synchronized strategies
      and specialized replica protocols to keep the replica data sets
      coherent.  Synchronization strategies range from tightly coherent
      (a few minutes) to loosely coherent (a few or more hours). Updates
      occur between replicas based upon the synchronization time
      constraints of the coherency model employed and are generally in
      the form of deltas only.

   Security:
      All of the known protocols utilize strong cryptographic key
      exchange methods, which are either based upon the Kerberos shared
      secret model or the public/private key RSA model.

   Deployment:
      Observed at a few sites, primarily at university campuses.

   Submitter:
      Document editors.



<span class="grey">Cooper, et al.               Informational                     [Page 16]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-17" id="page-17" name="page-17"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Note:
      The editors are aware of at least two open source protocols - AFS
      and CODA - as well as the proprietary NRS protocol from Novell.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/6.%20User%20Agent%20to%20Proxy%20Configuration"></a><a class="selflink" href="#section-6" name="section-6">6</a>. User Agent to Proxy Configuration</span>

   This section describes the configuration, cooperation and
   communication between user agents and proxies.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.1%20Manual%20Proxy%20Configuration"></a><a class="selflink" href="#section-6.1" name="section-6.1">6.1</a> Manual Proxy Configuration</span>

   Best known reference:
      This memo.

   Description:
      Each user must configure her user agent by supplying information
      pertaining to proxied protocols and local policies.

   Security:
      The potential for doing wrong is high; each user individually sets
      preferences.

   Deployment:
      Widely deployed, used in all current browsers.  Most browsers also
      support additional options.

   Submitter:
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.2%20Proxy%20Auto%20Configuration%20%28PAC%29"></a><a class="selflink" href="#section-6.2" name="section-6.2">6.2</a> Proxy Auto Configuration (PAC)</span>

   Best known reference:
      "Navigator Proxy Auto-Config File Format" [<a href="#ref-12" title='"Navigator Proxy Auto-Config File Format"'>12</a>]

   Description:
      A JavaScript script retrieved from a web server is executed for
      each URL accessed to determine the appropriate proxy (if any) to
      be used to access the resource.  User agents must be configured to
      request this script upon startup.  There is no bootstrap
      mechanism, manual configuration is necessary.

      Despite manual configuration, the process of proxy configuration
      is simplified by centralizing it within a script at a single
      location.

   Security:
      Common policy per organization possible but still requires initial
      manual configuration.  PAC is better than "manual proxy



<span class="grey">Cooper, et al.               Informational                     [Page 17]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-18" id="page-18" name="page-18"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      configuration" since PAC administrators may update the proxy
      configuration without further user intervention.

      Interoperability of PAC files is not high, since different
      browsers have slightly different interpretations of the same
      script, possibly leading to undesired effects.

   Deployment:
      Implemented in Netscape Navigator and Microsoft Internet Explorer.

   Submitter:
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.3%20Cache%20Array%20Routing%20Protocol%20%28CARP%29%20v1.0"></a><a class="selflink" href="#section-6.3" name="section-6.3">6.3</a> Cache Array Routing Protocol (CARP) v1.0</span>

   Best known references:

      *  "Cache Array Routing Protocol" [<a href="#ref-14" title='"Cache Array Routing Protocol"'>14</a>] (work in progress)

      *  "Cache Array Routing Protocol (CARP) v1.0 Specifications" [<a href="#ref-15" title='"Cache Array Routing Protocol (CARP) v1.0 Specifications, Technical Whitepaper"'>15</a>]

      *  "Cache Array Routing Protocol and Microsoft Proxy Server 2.0"
         [<a href="#ref-16" title='"Cache Array Routing Protocol and Microsoft Proxy Server 2.0, Technical White Paper"'>16</a>]

   Description:
      User agents may use CARP directly as a hash function based proxy
      selection mechanism.  They need to be configured with the location
      of the cluster information.

   Security:
      Security considerations are not covered in the specification works
      in progress.

   Deployment:
      Implemented in Microsoft Proxy Server, Squid.  Implemented in user
      agents via PAC scripts.

   Submitter:
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/6.4%20Web%20Proxy%20Auto-Discovery%20Protocol%20%28WPAD%29"></a><a class="selflink" href="#section-6.4" name="section-6.4">6.4</a> Web Proxy Auto-Discovery Protocol (WPAD)</span>

   Best known reference:
      "The Web Proxy Auto-Discovery Protocol" [<a href="#ref-13" title='"The Web Proxy Auto-Discovery Protocol"'>13</a>] (work in progress)

   Description:
      WPAD uses a collection of pre-existing Internet resource discovery
      mechanisms to perform web proxy auto-discovery.



<span class="grey">Cooper, et al.               Informational                     [Page 18]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-19" id="page-19" name="page-19"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      The only goal of WPAD is to locate the PAC URL [<a href="#ref-12" title='"Navigator Proxy Auto-Config File Format"'>12</a>].  WPAD does
      not specify which proxies will be used.  WPAD supplies the PAC
      URL, and the PAC script then operates as defined above to choose
      proxies per resource request.

      The WPAD protocol specifies the following:

      *  how to use each mechanism for the specific purpose of web proxy
         auto-discovery

      *  the order in which the mechanisms should be performed

      *  the minimal set of mechanisms which must be attempted by a WPAD
         compliant user agent

      The resource discovery mechanisms utilized by WPAD are as follows:

      *  Dynamic Host Configuration Protocol DHCP

      *  Service Location Protocol SLP

      *  "Well Known Aliases" using DNS A records

      *  DNS SRV records

      *  "service: URLs" in DNS TXT records

   Security:
      Relies upon DNS and HTTP security.

   Deployment:
      Implemented in some user agents and caching proxy servers.  More
      than two independent implementations.

   Submitter:
      Josh Cohen

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/7.%20Inter-Proxy%20Communication"></a><a class="selflink" href="#section-7" name="section-7">7</a>. Inter-Proxy Communication</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.1%20Loosely%20coupled%20Inter-Proxy%20Communication"></a><a class="selflink" href="#section-7.1" name="section-7.1">7.1</a> Loosely coupled Inter-Proxy Communication</span>

   This section describes the cooperation and communication between
   caching proxies.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/7.1.1%20Internet%20Cache%20Protocol%20%28ICP%29"></a><a class="selflink" href="#section-7.1.1" name="section-7.1.1">7.1.1</a> Internet Cache Protocol (ICP)</span>

   Best known reference:
      <a href="rfc2186.html">RFC 2186</a>  Internet Cache Protocol (ICP), version 2 [<a href="#ref-2" title='"Internet Cache Protocol (ICP), Version 2"'>2</a>]



<span class="grey">Cooper, et al.               Informational                     [Page 19]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-20" id="page-20" name="page-20"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Description:
      ICP is used by proxies to query other (caching) proxies about web
      resources, to see if the requested resource is present on the
      other system.

      ICP uses UDP.  Since UDP is an uncorrected network transport
      protocol, an estimate of network congestion and availability may
      be calculated by ICP loss.  This rudimentary loss measurement
      provides, together with round trip times, a load balancing method
      for caches.

   Security:
      See <a href="rfc2187.html">RFC 2187</a> [<a href="#ref-3" title='"Application of Internet Cache Protocol (ICP), Version 2"'>3</a>]

      ICP does not convey information about HTTP headers associated with
      resources.  HTTP headers may include access control and cache
      directives.  Since proxies ask for the availability of resources,
      and subsequently retrieve them using HTTP, false cache hits may
      occur (object present in cache, but not accessible to a sibling is
      one example).

      ICP suffers from all the security problems of UDP.

   Deployment:
      Widely deployed.  Most current caching proxy implementations
      support ICP in some form.

   Submitter:
      Document editors.

   See also:
      "Internet Cache Protocol Extension" [<a href="#ref-17" title='"Internet Cache Protocol Extension"'>17</a>] (work in progress)

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/7.1.2%20Hyper%20Text%20Caching%20Protocol"></a><a class="selflink" href="#section-7.1.2" name="section-7.1.2">7.1.2</a> Hyper Text Caching Protocol</span>

   Best known reference:
      <a href="rfc2756.html">RFC 2756</a> Hyper Text  Caching Protocol (HTCP/0.0) [<a href="#ref-9" title='"Hyper Text Caching Protocol (HTCP/0.0)"'>9</a>]

   Description:
      HTCP is a protocol for discovering HTTP caching proxies and cached
      data, managing sets of HTTP caching proxies, and monitoring cache
      activity.

      HTCP requests include HTTP header material, while ICPv2 does not,
      enabling HTCP replies to more accurately describe the behaviour
      that would occur as a result of a subsequent HTTP request for the
      same resource.




<span class="grey">Cooper, et al.               Informational                     [Page 20]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-21" id="page-21" name="page-21"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Security:
      Optionally uses HMAC-MD5 [<a href="#ref-11" title='"HMAC: Keyed-Hashing for Message Authentication"'>11</a>] shared secret authentication.
      Protocol is subject to attack if authentication is not used.

   Deployment:
      HTCP is implemented in Squid and the "Web Gateway Interceptor".

   Submitter:
      Document editors.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/7.1.3%20Cache%20Digest"></a><a class="selflink" href="#section-7.1.3" name="section-7.1.3">7.1.3</a> Cache Digest</span>

      Best known references:

      *  "Cache Digest Specification - version 5" [<a href="#ref-21" title='"Cache Digest specification - version 5"'>21</a>]

      *  "Summary Cache: A Scalable Wide-Area Web Cache Sharing
         Protocol" [<a href="#ref-10" title='"Summary Cache: A Scalable Wide-Area Web Cache Sharing Protocol"'>10</a>] (see note)

   Description:
      Cache Digests are a response to the problems of latency and
      congestion associated with previous inter-cache communication
      mechanisms such as the Internet Cache Protocol (ICP) [<a href="#ref-2" title='"Internet Cache Protocol (ICP), Version 2"'>2</a>] and the
      Hyper Text Cache Protocol [<a href="#ref-9" title='"Hyper Text Caching Protocol (HTCP/0.0)"'>9</a>].  Unlike these protocols, Cache
      Digests support peering between caching proxies and cache servers
      without a request-response exchange taking place for each inbound
      request.  Instead, a summary of the contents in cache (the Digest)
      is fetched by other systems that peer with it.  Using Cache
      Digests it is possible to determine with a relatively high degree
      of accuracy whether a given resource is cached by a particular
      system.

      Cache Digests are both an exchange protocol and a data format.

      Security:
      If the contents of a Digest are sensitive, they should be
      protected.  Any methods which would normally be applied to secure
      an HTTP connection can be applied to Cache Digests.

      A 'Trojan horse' attack is currently possible in a mesh: System A
      A can build a fake peer Digest for system B and serve it to B's
      peers if requested.  This way A can direct traffic toward/from B.
      The impact of this problem is minimized by the 'pull' model of
      transferring Cache Digests from one system to another.







<span class="grey">Cooper, et al.               Informational                     [Page 21]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-22" id="page-22" name="page-22"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


      Cache Digests provide knowledge about peer cache content on a URL
      level.  Hence, they do not dictate a particular level of policy
      management and can be used to implement various policies on any
      level (user, organization, etc.).

   Deployment:
      Cache Digests are supported in Squid.

      Cache Meshes: NLANR Mesh; TF-CACHE Mesh (European Academic
      networks

   Submitter:
      Alex Rousskov for [<a href="#ref-21" title='"Cache Digest specification - version 5"'>21</a>], Pei Cao for [<a href="#ref-10" title='"Summary Cache: A Scalable Wide-Area Web Cache Sharing Protocol"'>10</a>].

   Note: The technology of Summary Cache [<a href="#ref-10" title='"Summary Cache: A Scalable Wide-Area Web Cache Sharing Protocol"'>10</a>] is patent pending by the
   University of Wisconsin-Madison.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/7.1.4%20Cache%20Pre-filling"></a><a class="selflink" href="#section-7.1.4" name="section-7.1.4">7.1.4</a> Cache Pre-filling</span>

   Best known reference:
      "Pre-filling a cache - A satellite overview" [<a href="#ref-20" title='"Pre-filling a cache - A satellite overview"'>20</a>] (work in
      progress)

   Description:
      Cache pre-filling is a push-caching implementation.  It is
      particularly well adapted to IP-multicast networks because it
      allows preselected resources to be simultaneously inserted into
      caches within the targeted multicast group.  Different
      implementations of cache pre-filling already exist, especially in
      satellite contexts.  However, there is still no standard for this
      kind of push-caching and vendors propose solutions either based on
      dedicated equipment or public domain caches extended with a pre-
      filling module.

   Security:
      Relies on the inter-cache protocols being employed.

   Deployment:
      Observed in two commercial content distribution service providers.

   Submitter:
      Ivan Lovric

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/7.2%20Tightly%20Coupled%20Inter-Cache%20Communication"></a><a class="selflink" href="#section-7.2" name="section-7.2">7.2</a> Tightly Coupled Inter-Cache Communication</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/7.2.1%20Cache%20Array%20Routing%20Protocol%20%28CARP%29%20v1.0"></a><a class="selflink" href="#section-7.2.1" name="section-7.2.1">7.2.1</a> Cache Array Routing Protocol (CARP) v1.0</span>

   Also see <a href="#section-6.3">Section 6.3</a>



<span class="grey">Cooper, et al.               Informational                     [Page 22]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-23" id="page-23" name="page-23"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Best known references:

      *  "Cache Array Routing Protocol" [<a href="#ref-14" title='"Cache Array Routing Protocol"'>14</a>] (work in progress)

      *  "Cache Array Routing Protocol (CARP) v1.0 Specifications" [<a href="#ref-15" title='"Cache Array Routing Protocol (CARP) v1.0 Specifications, Technical Whitepaper"'>15</a>]

      *  "Cache Array Routing Protocol and Microsoft Proxy Server 2.0"
         [<a href="#ref-16" title='"Cache Array Routing Protocol and Microsoft Proxy Server 2.0, Technical White Paper"'>16</a>]

   Description:
      CARP is a hashing function for dividing URL-space among a cluster
      of proxies.  Included in CARP is the definition of a Proxy Array
      Membership Table, and ways to download this information.

      A user agent which implements CARP v1.0 can allocate and
      intelligently route requests for the URLs to any member of the
      Proxy Array.  Due to the resulting sorting of requests through
      these proxies, duplication of cache contents is eliminated and
      global cache hit rates may be improved.

   Security:
      Security considerations are not covered in the specification works
      in progress.

   Deployment:
      Implemented in caching proxy servers.  More than two independent
      implementations.

   Submitter:
      Document editors.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/8.%20Network%20Element%20Communication"></a><a class="selflink" href="#section-8" name="section-8">8</a>. Network Element Communication</span>

   This section describes the cooperation and communication between
   proxies and network elements.  Examples of such network elements
   include routers and switches.  Generally used for deploying
   interception proxies and/or diffused arrays.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.1%20Web%20Cache%20Control%20Protocol%20%28WCCP%29"></a><a class="selflink" href="#section-8.1" name="section-8.1">8.1</a> Web Cache Control Protocol (WCCP)</span>

   Best known references:
      "Web Cache Control Protocol" [<a href="#ref-18" title='"Cisco Web Cache Coordination Protocol V1.0"'>18</a>][19] (work in progress)

      Note: The name used for this protocol varies, sometimes referred
      to as the "Web Cache Coordination Protocol", but frequently just
      "WCCP" to avoid confusion





<span class="grey">Cooper, et al.               Informational                     [Page 23]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-24" id="page-24" name="page-24"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Description:
      WCCP V1 runs between a router functioning as a redirecting network
      element and out-of-path interception proxies.  The protocol allows
      one or more proxies to register with a single router to receive
      redirected traffic.  It also allows one of the proxies, the
      designated proxy, to dictate to the router how redirected traffic
      is distributed across the array.

      WCCP V2 additionally runs between multiple routers and the
      proxies.

   Security:
      WCCP V1 has no security features.
      WCCP V2 provides optional authentication of protocol packets.

   Deployment:
      Network elements: WCCP is deployed on a wide range of Cisco
      routers.
      Caching proxies: WCCP is deployed on a number of vendors' caching
      proxies.

   Submitter:
      David Forster
      Document editors.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.2%20Network%20Element%20Control%20Protocol%20%28NECP%29"></a><a class="selflink" href="#section-8.2" name="section-8.2">8.2</a> Network Element Control Protocol (NECP)</span>

   Best known reference:
      "NECP: The Network Element Control Protocol" [<a href="#ref-22" title='"NECP: The Network Element Control Protocol"'>22</a>] (work in
      progress)

   Description:
      NECP provides methods for network elements to learn about server
      capabilities, availability, and hints as to which flows can and
      cannot be serviced.  This allows network elements to perform load
      balancing across a farm of servers, redirection to interception
      proxies, and cut-through of flows that cannot be served by the
      farm.

   Security:
      Optionally uses HMAC-SHA-1 [<a href="#ref-11" title='"HMAC: Keyed-Hashing for Message Authentication"'>11</a>] shared secret authentication along
      with complex sequence numbers to provide moderately strong
      security.  Protocol is subject to attack if authentication is not
      used.

   Deployment:
      Unknown at present; several network element and caching proxy
      vendors have expressed intent to implement the protocol.



<span class="grey">Cooper, et al.               Informational                     [Page 24]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-25" id="page-25" name="page-25"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Submitter:
      Gary Tomlinson

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/8.3%20SOCKS"></a><a class="selflink" href="#section-8.3" name="section-8.3">8.3</a> SOCKS</span>

   Best known reference:
      <a href="rfc1928.html">RFC 1928</a> SOCKS Protocol Version 5 [<a href="#ref-7" title='"SOCKS Protocol Version 5"'>7</a>]

   Description:
      SOCKS is primarily used as a caching proxy to firewall protocol.
      Although firewalls don't conform to the narrowly defined network
      element definition above, they are a integral part of the network
      infrastructure.  When used in conjunction with a firewall, SOCKS
      provides a authenticated tunnel between the caching proxy and the
      firewall.

   Security:
      An extensive framework provides for multiple authentication
      methods.  Currently, SSL, CHAP, DES, 3DES are known to be
      available.

   Deployment:
      SOCKS is widely deployed in the Internet.

   Submitter:
      Document editors.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/9.%20Security%20Considerations"></a><a class="selflink" href="#section-9" name="section-9">9</a>. Security Considerations</span>

   This document provides a taxonomy for web caching and replication.
   Recommended practice, architecture and protocols are not described in
   detail.

   By definition, replication and caching involve the copying of
   resources.  There are legal implications of making and keeping
   transient or permanent copies; these are not covered here.

   Information on security of each protocol referred to by this memo is
   provided in the preceding sections, and in their accompanying
   documentation.  HTTP security is discussed in <a href="rfc2616.html#section-15">section15 of RFC 2616</a>
   [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>], the HTTP/1.1 specification, and to a lesser extent in <a href="rfc1945.html">RFC 1945</a>
   [<a href="#ref-6" title='"Hypertext Transfer Protocol -- HTTP/1.0"'>6</a>], the HTTP/1.0 specification.  <a href="rfc2616.html">RFC 2616</a> contains security
   considerations for HTTP proxies.








<span class="grey">Cooper, et al.               Informational                     [Page 25]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-26" id="page-26" name="page-26"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Caching proxies have the same security issues as other application
   level proxies.  Application level proxies are not covered in these
   security considerations.  IP number based authentication is
   problematic when a proxy is involved in the communications.  Details
   are not discussed here.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.1%20Authentication"></a><a class="selflink" href="#section-9.1" name="section-9.1">9.1</a> Authentication</span>

   Requests for web resources, and responses to such requests, may be
   directed to replicas and/or may flow through intermediate proxies.
   The integrity of communication needs to be preserved to ensure
   protection from both loss of access and from unintended change.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.1.1%20Man%20in%20the%20middle%20attacks"></a><a class="selflink" href="#section-9.1.1" name="section-9.1.1">9.1.1</a> Man in the middle attacks</span>

   HTTP proxies are men-in-the-middle, the perfect place for a man-in-
   the-middle-attack.  A discussion of this is found in <a href="rfc2616.html#section-15">section15 of
   RFC 2616</a> [<a href="#ref-1" title='"Hypertext Transfer Protocol -- HTTP/1.1"'>1</a>].

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.1.2%20Trusted%20third%20party"></a><a class="selflink" href="#section-9.1.2" name="section-9.1.2">9.1.2</a> Trusted third party</span>

   A proxy must either be trusted to act on behalf of the origin server
   and/or client, or it must act as a tunnel.  When presenting cached
   objects to clients, the clients need to trust the caching proxy to
   act on behalf on the origin server.

   A replica may get accreditation from the origin server.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.1.3%20Authentication%20based%20on%20IP%20number"></a><a class="selflink" href="#section-9.1.3" name="section-9.1.3">9.1.3</a> Authentication based on IP number</span>

   Authentication based on the client's IP number is problematic when
   connecting through a proxy, since the authenticating device only has
   access to the proxy's IP number.  One (problematic) solution to this
   is for the proxy to spoof the client's IP number for inbound
   requests.

   Authentication based on IP number assumes that the end-to-end
   properties of the Internet are preserved.  This is typically not the
   case for environments containing interception proxies.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.2%20Privacy"></a><a class="selflink" href="#section-9.2" name="section-9.2">9.2</a> Privacy</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.2.1%20Trusted%20third%20party"></a><a class="selflink" href="#section-9.2.1" name="section-9.2.1">9.2.1</a> Trusted third party</span>

   When using a replication service, one must trust both the replica
   origin server and the replica selection system.





<span class="grey">Cooper, et al.               Informational                     [Page 26]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-27" id="page-27" name="page-27"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   Redirection of traffic - either by automated replica selection
   methods, or within proxies - may introduce third parties the end user
   and/or origin server must to trust.  In the case of interception
   proxies, such third parties are often unknown to both end points of
   the communication.  Unknown third parties may have security
   implications.

   Both proxies and replica selection services may have access to
   aggregated access information.  A proxy typically knows about
   accesses by each client using it, information that is more sensitive
   than the information held by a single origin server.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.2.2%20Logs%20and%20legal%20implications"></a><a class="selflink" href="#section-9.2.2" name="section-9.2.2">9.2.2</a> Logs and legal implications</span>

   Logs from proxies should be kept secure, since they provide
   information about users and their patterns of behaviour.  A proxy's
   log is even more sensitive than a web server log, as every request
   from the user population goes through the proxy.  Logs from replica
   origin servers may need to be amalgamated to get aggregated
   statistics from a service, and transporting logs across borders may
   have legal implications.  Log handling is restricted by law in some
   countries.

   Requirements for object security and privacy are the same in a web
   replication and caching system as it is in the Internet at large. The
   only reliable solution is strong cryptography.  End-to-end encryption
   frequently makes resources uncacheable, as in the case of SSL
   encrypted web sessions.

<span class="h3"><a class="dashAnchor" name="//apple_ref/Section/9.3%20Service%20security"></a><a class="selflink" href="#section-9.3" name="section-9.3">9.3</a> Service security</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.3.1%20Denial%20of%20service"></a><a class="selflink" href="#section-9.3.1" name="section-9.3.1">9.3.1</a> Denial of service</span>

   Any redirection of traffic is susceptible to denial of service
   attacks at the redirect point, and both proxies and replica selection
   services may redirect traffic.

   By attacking a proxy, access to all servers may be denied for a large
   set of clients.

   It has been argued that introduction of an interception proxy is a
   denial of service attack, since the end-to-end nature of the Internet
   is destroyed without the content consumer's knowledge.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.3.2%20Replay%20attack"></a><a class="selflink" href="#section-9.3.2" name="section-9.3.2">9.3.2</a> Replay attack</span>

   A caching proxy is by definition a replay attack.




<span class="grey">Cooper, et al.               Informational                     [Page 27]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-28" id="page-28" name="page-28"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.3.3%20Stupid%20configuration%20of%20proxies"></a><a class="selflink" href="#section-9.3.3" name="section-9.3.3">9.3.3</a> Stupid configuration of proxies</span>

   It is quite easy to have a stupid configuration which will harm
   service for content consumers.  This is the most common security
   problem with proxies.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.3.4%20Copyrighted%20transient%20copies"></a><a class="selflink" href="#section-9.3.4" name="section-9.3.4">9.3.4</a> Copyrighted transient copies</span>

   The legislative forces of the world are considering the question of
   transient copies, like those kept in replication and caching system,
   being legal.  The legal implications of replication and caching are
   subject to local law.

   Caching proxies need to preserve the protocol output, including
   headers.  Replication services need to preserve the source of the
   objects.

<span class="h4"><a class="dashAnchor" name="//apple_ref/Section/9.3.5%20Application%20level%20access"></a><a class="selflink" href="#section-9.3.5" name="section-9.3.5">9.3.5</a> Application level access</span>

   Caching proxies are application level components in the traffic flow
   path, and may give intruders access to information that was
   previously only available at the network level in a proxy-free world.
   Some network level equipment may have required physical access to get
   sensitive information.  Introduction of application level components
   may require additional system security.

<span class="h2"><a class="dashAnchor" name="//apple_ref/Section/10.%20Acknowledgements"></a><a class="selflink" href="#section-10" name="section-10">10</a>. Acknowledgements</span>

   The editors would like to thank the following for their assistance:
   David Forster, Alex Rousskov, Josh Cohen, John Martin, John Dilley,
   Ivan Lovric, Joe Touch, Henrik Nordstrom, Patrick McManus, Duane
   Wessels, Wojtek Sylwestrzak, Ted Hardie, Misha Rabinovich, Larry
   Masinter, Keith Moore, Roy Fielding, Patrik Faltstrom, Hilarie Orman,
   Mark Nottingham and Oskar Batuner.

References

   [<a id="ref-1" name="ref-1">1</a>]   Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L.,
         Leach, P. and T. Berners-Lee, "Hypertext Transfer Protocol --
         HTTP/1.1", <a href="rfc2616.html">RFC 2616</a>, June 1999.

   [<a id="ref-2" name="ref-2">2</a>]   Wessels, D. and K. Claffy, "Internet Cache Protocol (ICP),
         Version 2", <a href="rfc2186.html">RFC 2186</a>, September 1997.

   [<a id="ref-3" name="ref-3">3</a>]   Wessels, D. and K. Claffy, "Application of Internet Cache
         Protocol (ICP), Version 2", <a href="rfc2187.html">RFC 2187</a>, September 1997.





<span class="grey">Cooper, et al.               Informational                     [Page 28]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-29" id="page-29" name="page-29"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   [<a id="ref-4" name="ref-4">4</a>]   Postel, J. and J. Reynolds, "File Transfer Protocol (FTP)", STD
         9, <a href="rfc959.html">RFC 959</a>, October 1985.

   [<a id="ref-5" name="ref-5">5</a>]   Anklesaria, F., McCahill, M., Lindner, P., Johnson, D., Torrey,
         D. and B. Alberti, "The Internet Gopher Protocol", <a href="rfc1436.html">RFC 1436</a>,
         March 1993.

   [<a id="ref-6" name="ref-6">6</a>]   Berners-Lee, T., Fielding, R. and H. Frystyk, "Hypertext
         Transfer Protocol -- HTTP/1.0", <a href="rfc1945.html">RFC 1945</a>, May 1996.

   [<a id="ref-7" name="ref-7">7</a>]   Leech, M., Ganis, M., Lee, Y., Kuris, R., Koblas, D. and L.
         Jones, "SOCKS Protocol Version 5", <a href="rfc1928.html">RFC 1928</a>, March 1996.

   [<a id="ref-8" name="ref-8">8</a>]   Brisco, T., "DNS Support for Load Balancing", <a href="rfc1794.html">RFC 1794</a>, April
         1995.

   [<a id="ref-9" name="ref-9">9</a>]   Vixie, P. and D. Wessels, "Hyper Text Caching Protocol
         (HTCP/0.0)", <a href="rfc2756.html">RFC 2756</a>, January 2000.

   [<a id="ref-10" name="ref-10">10</a>]  Fan, L., Cao, P., Almeida, J. and A. Broder, "Summary Cache: A
         Scalable Wide-Area Web Cache Sharing Protocol", Proceedings of
         ACM SIGCOMM'98 pp. 254-265, September 1998.

   [<a id="ref-11" name="ref-11">11</a>]  Krawczyk, H., Bellare, M. and R. Canetti, "HMAC: Keyed-Hashing
         for Message Authentication", <a href="rfc2104.html">RFC 2104</a>, February 1997.

   [<a id="ref-12" name="ref-12">12</a>]  Netscape, Inc., "Navigator Proxy Auto-Config File Format",
         March 1996,
         &lt;URL:http://www.netscape.com/eng/mozilla/2.0/relnotes/demo/proxy-
         live.html&gt;.

   [<a id="ref-13" name="ref-13">13</a>]  Gauthier, P., Cohen, J., Dunsmuir, M. and C. Perkins, "The Web
         Proxy Auto-Discovery Protocol", Work in Progress.

   [<a id="ref-14" name="ref-14">14</a>]  Valloppillil, V. and K. Ross, <a href="https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Cache+Array+Routing+Protocol%22" style="text-decoration: none">"Cache Array Routing Protocol"</a>,
         Work in Progress.

   [<a id="ref-15" name="ref-15">15</a>]  Microsoft Corporation, "Cache Array Routing Protocol (CARP)
         v1.0 Specifications, Technical Whitepaper", August 1999,
         &lt;URL:http://www.microsoft.com/Proxy/Guide/carpspec.asp&gt;.

   [<a id="ref-16" name="ref-16">16</a>]  Microsoft Corporation, "Cache Array Routing Protocol and
         Microsoft Proxy Server 2.0, Technical White Paper", August
         1998,
         &lt;URL:http://www.microsoft.com/proxy/documents/CarpWP.exe&gt;.

   [<a id="ref-17" name="ref-17">17</a>]  Lovric, I., <a href="https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Internet+Cache+Protocol+Extension%22" style="text-decoration: none">"Internet Cache Protocol Extension"</a>, Work in
         Progress.



<span class="grey">Cooper, et al.               Informational                     [Page 29]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-30" id="page-30" name="page-30"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


   [<a id="ref-18" name="ref-18">18</a>]  Cieslak, M. and D. Forster, "Cisco Web Cache Coordination
         Protocol V1.0", Work in Progress.

   [<a id="ref-19" name="ref-19">19</a>]  Cieslak, M., Forster, D., Tiwana, G. and R. Wilson, "Cisco Web
         Cache Coordination Protocol V2.0", Work in Progress.

   [<a id="ref-20" name="ref-20">20</a>]  Goutard, C., Lovric, I. and E. Maschio-Esposito, "Pre-filling a
         cache - A satellite overview", Work in Progress.

   [<a id="ref-21" name="ref-21">21</a>]  Hamilton, M., Rousskov, A. and D. Wessels, "Cache Digest
         specification - version 5", December 1998,
         &lt;URL:http://www.squid-cache.org/CacheDigest/cache-digest-
         v5.txt&gt;.

   [<a id="ref-22" name="ref-22">22</a>]  Cerpa, A., Elson, J., Beheshti, H., Chankhunthod, A., Danzig,
         P., Jalan, R., Neerdaels, C., Shroeder, T. and G. Tomlinson,
         "NECP: The Network Element Control Protocol", Work in Progress.

   [<a id="ref-23" name="ref-23">23</a>]  Cooper, I. and J. Dilley, <a href="https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&amp;q=inurl:draft-+%22Known+HTTP+Proxy%2FCaching+Problems%22" style="text-decoration: none">"Known HTTP Proxy/Caching Problems"</a>,
         Work in Progress.































<span class="grey">Cooper, et al.               Informational                     [Page 30]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-31" id="page-31" name="page-31"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


Authors' Addresses

   Ian Cooper
   Equinix, Inc.
   2450 Bayshore Parkway
   Mountain View, CA  94043
   USA

   Phone: +1 650 316 6065
   EMail: icooper@equinix.com


   Ingrid Melve
   UNINETT
   Tempeveien 22
   Trondheim  N-7465
   Norway

   Phone: +47 73 55 79 07
   EMail: Ingrid.Melve@uninett.no


   Gary Tomlinson
   CacheFlow Inc.
   12034 134th Ct. NE, Suite 201
   Redmond, WA  98052
   USA

   Phone: +1 425 820 3009
   EMail: gary.tomlinson@cacheflow.com





















<span class="grey">Cooper, et al.               Informational                     [Page 31]</span></pre>
<hr align="left" class="noprint" style="width: 96ex;"/><!--NewPage--><pre class="newpage"><a class="invisible" href="#page-32" id="page-32" name="page-32"> </a>
<span class="grey"><a href="rfc3040.html">RFC 3040</a>      Internet Web Replication &amp; Caching Taxonomy   January 2001</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Cooper, et al.               Informational                     [Page 32]

</pre><br/>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.126, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>




</body><!-- Mirrored from tools.ietf.org/html/rfc3040 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Mar 2018 23:18:49 GMT --></html>