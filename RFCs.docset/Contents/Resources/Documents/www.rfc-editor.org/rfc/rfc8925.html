<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8925: IPv6-Only Preferred Option for DHCPv4</title>
<meta content="Lorenzo Colitti" name="author"/>
<meta content="Jen Linkova" name="author"/>
<meta content="Michael C. Richardson" name="author"/>
<meta content="Tomek Mrugalski" name="author"/>
<meta content="
       
          This document specifies a DHCPv4 option to indicate that a host supports an IPv6-only mode and is willing to forgo obtaining an IPv4 address if the network provides IPv6 connectivity.
          It also updates RFC 2563 to specify DHCPv4 server behavior when the server receives a DHCPDISCOVER not containing the Auto-Configure option but containing the new option defined in this document.
       
    " name="description"/>
<meta content="xml2rfc 3.2.1" name="generator"/>
<meta content="8925" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.2.1
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8925.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8925" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-dhc-v6only-08" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8925</td>
<td class="center">IPv6-Only Preferred Option for DHCPv4</td>
<td class="right">October 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Colitti, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8925">8925</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc2563">2563</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-10">October 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Colitti</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">J. Linkova</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">M. Richardson</div>
<div class="org">Sandelman</div>
</div>
<div class="author">
      <div class="author-name">T. Mrugalski</div>
<div class="org">ISC</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8925</h1>
<h1 id="title">IPv6-Only Preferred Option for DHCPv4</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
          This document specifies a DHCPv4 option to indicate that a host supports an IPv6-only mode and is willing to forgo obtaining an IPv4 address if the network provides IPv6 connectivity.
          It also updates RFC 2563 to specify DHCPv4 server behavior when the server receives a DHCPDISCOVER not containing the Auto-Configure option but containing the new option defined in this document.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8925">https://www.rfc-editor.org/info/rfc8925</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.1.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="xref" href="#section-1.2">1.2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.1.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-reasons-to-signal-ipv6-only">Reasons to Signal IPv6-Only Support in DHCPv4 Packets</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-ipv6-only-preferred-option">IPv6-Only Preferred Option</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-option-format">Option Format</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-dhcpv4-client-behavior">DHCPv4 Client Behavior</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-dhcpv4-server-behavior">DHCPv4 Server Behavior</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a class="xref" href="#section-3.3.1">3.3.1</a>.  <a class="xref" href="#name-interaction-with-rfc-2563">Interaction with RFC 2563</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-constants-and-configuration">Constants and Configuration Variables</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-ipv6-only-transition-techno">IPv6-Only Transition Technology Considerations</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.7.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.7.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
          One of the biggest challenges of deploying IPv6-only LANs is that
          such networks might contain a rather heterogeneous collection of hosts.
          While some hosts are capable of operating in IPv6-only mode (either
          because the OS and all applications are IPv6-only capable or because
          the host has some form of 464XLAT <span>[<a class="xref" href="#RFC6877">RFC6877</a>]</span> deployed), others might still have IPv4 dependencies and need IPv4 addresses to operate properly.
          To incrementally roll out IPv6-only, network operators might need to provide IPv4 on demand, whereby a host receives an IPv4 address if it needs it, while IPv6-only-capable hosts (such as modern mobile devices) are not allocated IPv4 addresses.
Traditionally, that goal is achieved by placing IPv6-only-capable devices in
a dedicated IPv6-only network segment or Wi-Fi Service Set Identifier (SSID),
while dual-stack devices reside in another network with IPv4 and DHCPv4
enabled. However, such an approach has a number of drawbacks, including, but not
limited to, the following:<a class="pilcrow" href="#section-1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">
          Doubling the number of network segments leads to operational
          complexity and impact on performance -- for instance, due to high
          memory utilization caused by an increased number of Access Control
          List (ACL) entries.<a class="pilcrow" href="#section-1-2.1">¶</a>
</li>
        <li class="normal" id="section-1-2.2">
          Placing a host in the correct network segment is problematic.
          For example, in the case of 802.11 Wi-Fi, the user might select the wrong SSID.
          In the case of wired 802.1x authentication, the authentication
          server might not have all the information required to make the
          correct decision and choose between an IPv6-only VLAN and a dual-stack VLAN.<a class="pilcrow" href="#section-1-2.2">¶</a>
</li>
      </ul>
<p id="section-1-3">
          It would be beneficial for IPv6 deployment if operators could implement IPv6-mostly (or IPv4-on-demand) segments where IPv6-only hosts coexist with legacy dual-stack devices.
          The trivial solution of disabling the IPv4 stack on IPv6-only-capable hosts is not feasible, as those clients must be able to operate on IPv4-only networks as well.
          While IPv6-only-capable devices might use a heuristic approach to
          learning if the network provides IPv6-only functionality and stop
          using IPv4 if it does, such an approach might be undesirable in practice.
          One important reason is that when a host connects to a network, it does not know whether the network is IPv4-only, dual-stack, or IPv6-only.
          To ensure that connectivity over whatever protocol is present becomes available as soon as possible, the host usually starts configuring both IPv4 and IPv6 immediately.
          If hosts were to delay requesting IPv4 until IPv6 reachability is confirmed, that would penalize IPv4-only and dual-stack networks, which does not seem practical.
          Requesting IPv4 and then releasing it later, after IPv6 reachability
          is confirmed, might cause errors that are visible to users, as it would be
          disruptive for applications that have already started using the assigned IPv4 address.
          Instead, it would be useful to have a mechanism that would allow a host to indicate that its request for an IPv4 address is optional and a network to signal that IPv6-only functionality (such as NAT64 <span>[<a class="xref" href="#RFC6146">RFC6146</a>]</span>) is available.
          This document provides such a solution via a new DHCPv4 option that
          a client uses to indicate that it does not need an IPv4 address if
          the network provides IPv6-only connectivity (as NAT64 and DNS64).
If the particular network segment provides IPv4 on demand, such clients would
not be supplied with IPv4 addresses, while IPv4 addresses would be provided on IPv4-only or dual-stack segments without NAT64 services.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
          <span>[<a class="xref" href="#RFC2563">RFC2563</a>]</span> introduced the Auto-Configure DHCPv4 option and describes DHCPv4 server behavior if no address is chosen for a host. This document updates <span>[<a class="xref" href="#RFC2563">RFC2563</a>]</span> to modify server behavior if the DHCPOFFER contains the IPv6-Only Preferred option.<a class="pilcrow" href="#section-1-4">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
       "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
       "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
       "<span class="bcp14">SHOULD NOT</span>",
       "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
       "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
       are to be interpreted as described in BCP 14
       <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only
       when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-1.2-1">
          <dt id="section-1.2-1.1">Dual-stack network or device:</dt>
          <dd id="section-1.2-1.2" style="margin-left: 1.5em">A network or device that has both versions of the Internet Protocol (IPv4 and IPv6) enabled and operational.<a class="pilcrow" href="#section-1.2-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.3">IPv6-only-capable host:</dt>
          <dd id="section-1.2-1.4" style="margin-left: 1.5em">A host that does not require an IPv4 address and can operate on IPv6-only networks.
            More precisely, IPv6-only capability is specific to a given
            interface of the host: if some applications on a host require IPv4
            and the 464XLAT CLAT (customer-side translator) <span>[<a class="xref" href="#RFC6877">RFC6877</a>]</span> is only enabled on one interface, the host is
            IPv6-only capable if connected to a NAT64 network via that
            interface. This document implies that IPv6-only-capable hosts
            reach IPv4-only destinations via a NAT64 service provided by the
            network. <a class="xref" href="#v6onlydef">Section 4</a> discusses
            hypothetical scenarios for other transition technologies being used.<a class="pilcrow" href="#section-1.2-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.5">IPv4-requiring host:</dt>
          <dd id="section-1.2-1.6" style="margin-left: 1.5em">A host that is not IPv6-only capable and cannot operate in an IPv6-only network providing NAT64 service.<a class="pilcrow" href="#section-1.2-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.7">IPv4 on demand:</dt>
          <dd id="section-1.2-1.8" style="margin-left: 1.5em">A deployment scenario where end hosts are
        expected to operate in IPv6-only mode by default and IPv4 addresses
        can be assigned to some hosts if those hosts explicitly opt in to receive IPv4 addresses.<a class="pilcrow" href="#section-1.2-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.9">IPv6-mostly network:</dt>
          <dd id="section-1.2-1.10" style="margin-left: 1.5em">A network that provides NAT64
        (possibly with DNS64) service as well as IPv4 connectivity and allows
        the coexistence of IPv6-only, dual-stack, and IPv4-only hosts on the same segment.
            Such a deployment scenario allows operators to incrementally turn off IPv4 on end hosts, while still providing IPv4 to devices that require IPv4 to operate.
            But IPv6-only-capable devices need not be assigned IPv4 addresses.<a class="pilcrow" href="#section-1.2-1.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.11">IPv6-only mode:</dt>
          <dd id="section-1.2-1.12" style="margin-left: 1.5em">A mode of operation where a host acts as an IPv6-only-capable host and does not have IPv4 addresses assigned (except that IPv4 link-local addresses <span>[<a class="xref" href="#RFC3927">RFC3927</a>]</span> may have been configured).<a class="pilcrow" href="#section-1.2-1.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.13">IPv6-only network:</dt>
          <dd id="section-1.2-1.14" style="margin-left: 1.5em">A network that does not provide routing functionality for IPv4 packets.
            Such networks may or may not allow intra-LAN IPv4 connectivity.
            An IPv6-only network usually provides access to IPv4-only resources via NAT64 <span>[<a class="xref" href="#RFC6146">RFC6146</a>]</span>.<a class="pilcrow" href="#section-1.2-1.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.15">NAT64:</dt>
          <dd id="section-1.2-1.16" style="margin-left: 1.5em">Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers <span>[<a class="xref" href="#RFC6146">RFC6146</a>]</span>.<a class="pilcrow" href="#section-1.2-1.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.17">Router Advertisement (RA):</dt>
          <dd id="section-1.2-1.18" style="margin-left: 1.5em">A message used by IPv6 routers to advertise their presence, together
            with various link and Internet parameters <span>[<a class="xref" href="#RFC4861">RFC4861</a>]</span>.<a class="pilcrow" href="#section-1.2-1.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.19">DNS64:</dt>
          <dd id="section-1.2-1.20" style="margin-left: 1.5em">A mechanism for synthesizing AAAA records from A records <span>[<a class="xref" href="#RFC6147">RFC6147</a>]</span>.<a class="pilcrow" href="#section-1.2-1.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.21">Network attachment event:</dt>
          <dd id="section-1.2-1.22" style="margin-left: 1.5em">A link up event, as described by
        <span>[<a class="xref" href="#RFC4957">RFC4957</a>]</span>, that results in a host detecting an available network.<a class="pilcrow" href="#section-1.2-1.22">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-1.23">Disabling the IPv4 stack on the host interface:</dt>
          <dd id="section-1.2-1.24" style="margin-left: 1.5em">
            <p id="section-1.2-1.24.1">Host behavior when the host<a class="pilcrow" href="#section-1.2-1.24.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.2-1.24.2.1">does not send any IPv4 packets from that interface,<a class="pilcrow" href="#section-1.2-1.24.2.1">¶</a>
</li>
              <li class="normal" id="section-1.2-1.24.2.2">drops all IPv4 packets received on that interface, and<a class="pilcrow" href="#section-1.2-1.24.2.2">¶</a>
</li>
              <li class="normal" id="section-1.2-1.24.2.3">does not forward any IPv4 packets to that interface.<a class="pilcrow" href="#section-1.2-1.24.2.3">¶</a>
</li>
            </ul>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-2">
      <h2 id="name-reasons-to-signal-ipv6-only">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-reasons-to-signal-ipv6-only">Reasons to Signal IPv6-Only Support in DHCPv4 Packets</a>
      </h2>
<p id="section-2-1">
          For networks that contain a mix of both IPv6-only-capable hosts and
          IPv4-requiring hosts and that utilize DHCPv4 for configuring the IPv4 network stack on hosts, it seems natural to leverage the same protocol to signal that IPv4 is discretional on a given segment.
          An ability to remotely disable IPv4 on a host can be seen as a new denial-of-service attack vector.
          The approach provided in this document limits the attack surface to DHCPv4-related
          attacks without introducing new vulnerable elements.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">
          Another benefit of using DHCPv4 for signaling is that IPv4 will be disabled only if both the client and the server indicate IPv6-only capability.
          It allows IPv6-only-capable hosts to turn off IPv4 only upon receiving an explicit signal from the network and operate in dual-stack or IPv4-only mode otherwise.
          In addition, the mechanism defined in this document does not introduce any
          additional delays to the process of configuring an IP stack on
          hosts.
          If the network does not support IPv6-only/IPv4-on-demand mode, an
          IPv6-only-capable host would configure an IPv4 address as quickly as
          any other host.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">
          Being a client/server protocol, DHCPv4 allows IPv4 to be selectively disabled on a per-host basis on a given network segment.
          The coexistence of IPv6-only, dual-stack, and even IPv4-only hosts on the same LAN would not only allow network administrators to preserve scarce IPv4 addresses but would also drastically simplify incremental deployment of IPv6-only networks, positively impacting IPv6 adoption.<a class="pilcrow" href="#section-2-3">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-ipv6-only-preferred-option">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-ipv6-only-preferred-option">IPv6-Only Preferred Option</a>
      </h2>
<div id="Format">
<section id="section-3.1">
        <h3 id="name-option-format">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-option-format">Option Format</a>
        </h3>
<span id="name-ipv6-only-preferred-option-"></span><div id="fig_Option">
<figure id="figure-1">
          <div class="artwork art-text alignCenter" id="section-3.1-1.1">
<pre>  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |     Code      |   Length      |           Value               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         Value (cont.)         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-ipv6-only-preferred-option-">IPv6-Only Preferred Option Format</a>
          </figcaption></figure>
</div>
<p id="section-3.1-2">Fields:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-3">
          <dt id="section-3.1-3.1">Code:</dt>
          <dd id="section-3.1-3.2" style="margin-left: 1.5em">8-bit identifier of the IPv6-Only Preferred option code as
              assigned by IANA: 108.
            The client includes the Code in the Parameter Request List in DHCPDISCOVER and DHCPREQUEST messages as described in <a class="xref" href="#v4client">Section 3.2</a>.<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.3">Length:</dt>
          <dd id="section-3.1-3.4" style="margin-left: 1.5em">8-bit unsigned integer.  The length of the option, excluding the Code and Length Fields.  The server <span class="bcp14">MUST</span> set the length field to 4. The client <span class="bcp14">MUST</span> ignore the IPv6-Only Preferred option if the length field value is not 4.<a class="pilcrow" href="#section-3.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.5">Value:</dt>
          <dd id="section-3.1-3.6" style="margin-left: 1.5em">
            <p id="section-3.1-3.6.1">32-bit unsigned integer.
            The number of seconds for which the client should disable DHCPv4 (V6ONLY_WAIT configuration variable).
            If the server pool is explicitly configured with a V6ONLY_WAIT timer, the server <span class="bcp14">MUST</span> set the field to that configured value. Otherwise, the server <span class="bcp14">MUST</span> set it to zero.
            The client <span class="bcp14">MUST</span> process that field as described in <a class="xref" href="#v4client">Section 3.2</a>.<a class="pilcrow" href="#section-3.1-3.6.1">¶</a></p>
<p id="section-3.1-3.6.2">The client never sets this field, as it never sends the full option but includes the option code in the Parameter Request List as described in <a class="xref" href="#v4client">Section 3.2</a>.<a class="pilcrow" href="#section-3.1-3.6.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="v4client">
<section id="section-3.2">
        <h3 id="name-dhcpv4-client-behavior">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-dhcpv4-client-behavior">DHCPv4 Client Behavior</a>
        </h3>
<p id="section-3.2-1">
        A DHCPv4 client <span class="bcp14">SHOULD</span> allow a device
        administrator to configure IPv6-only capability either for a specific
        interface (to indicate that the device is IPv6-only capable if
        connected to a NAT64 network via that interface) or for all interfaces.

        If only a specific interface is configured as IPv6-only capable, the
        DHCPv4 client <span class="bcp14">MUST NOT</span> consider the host an
        IPv6-only-capable host for the purpose of sending/receiving DHCPv4 packets over any other interfaces.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">
             The DHCPv4 client on an IPv4-requiring host <span class="bcp14">MUST NOT</span> include the IPv6-Only Preferred option code in the Parameter Request List of any DHCPv4 packets and <span class="bcp14">MUST</span> ignore that option in packets received from DHCPv4 servers.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">
             DHCPv4 clients running on IPv6-only-capable hosts <span class="bcp14">SHOULD</span> include the IPv6-Only Preferred option code in the Parameter Request List in DHCPDISCOVER and DHCPREQUEST messages for interfaces so enabled and follow the processing as described below on a per-enabled-interface basis.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">
             If the client did not include the IPv6-Only Preferred option code
             in the Parameter Request List in the DHCPDISCOVER or
             DHCPREQUEST message, it <span class="bcp14">MUST</span> ignore the IPv6-Only
             Preferred option in any messages received from the server.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">
             If the client includes the IPv6-Only Preferred option code in the Parameter Request List and the DHCPOFFER message from the server contains a valid IPv6-Only Preferred option, the client <span class="bcp14">SHOULD NOT</span> request the IPv4 address provided in the DHCPOFFER.
             If the IPv6-Only Preferred option returned by the server contains
             a value greater than or equal to MIN_V6ONLY_WAIT, the client <span class="bcp14">SHOULD</span> set the V6ONLY_WAIT timer to that value.
             Otherwise, the client <span class="bcp14">SHOULD</span> set the V6ONLY_WAIT timer to MIN_V6ONLY_WAIT.
             The client <span class="bcp14">SHOULD</span> stop the DHCPv4 configuration process for V6ONLY_WAIT seconds or until a network attachment event, whichever happens first.
             The host <span class="bcp14">MAY</span> disable the IPv4 stack completely on the affected interface for V6ONLY_WAIT seconds or until the network attachment event, whichever happens first.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">
             The IPv6-Only Preferred option <span class="bcp14">SHOULD</span> be included in the Parameter Request List in DHCPREQUEST messages (after receiving a DHCPOFFER without this option, for an INIT-REBOOT, or when renewing or rebinding a leased address).
             If the DHCPv4 server responds with a DHCPACK that includes the
             IPv6-Only Preferred option, the client's behavior depends on the client's state.
             If the client is in the INIT-REBOOT state, it
             <span class="bcp14">SHOULD</span> stop the DHCPv4 configuration process or
             disable the IPv4 stack completely for V6ONLY_WAIT seconds or
             until the network attachment event, whichever happens first.
             It also <span class="bcp14">MAY</span> send a DHCPRELEASE message.
             If the client is in any other state, it <span class="bcp14">SHOULD</span> continue to use the assigned IPv4 address until further DHCPv4 reconfiguration events.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
<p id="section-3.2-7">
             If the client includes the IPv6-Only Preferred option code in the
             Parameter Request List and the server responds with a DHCPOFFER message without a valid IPv6-Only Preferred option, the client <span class="bcp14">MUST</span> proceed as normal with a DHCPREQUEST.<a class="pilcrow" href="#section-3.2-7">¶</a></p>
<p id="section-3.2-8">
             If the client waits for multiple DHCPOFFER responses and selects one of them, it <span class="bcp14">MUST</span> follow the processing for the IPv6-Only Preferred option based on the selected response.
             A client <span class="bcp14">MAY</span> use the presence of the IPv6-Only Preferred option as a selection criterion.<a class="pilcrow" href="#section-3.2-8">¶</a></p>
<p id="section-3.2-9">
             When an IPv6-only-capable client receives the IPv6-Only Preferred
             option from the server, the client <span class="bcp14">MAY</span> configure an IPv4 link-local address <span>[<a class="xref" href="#RFC3927">RFC3927</a>]</span>.
             In that case, IPv6-only-capable devices might still be able to communicate over IPv4 to other devices on the link.
             The Auto-Configure option <span>[<a class="xref" href="#RFC2563">RFC2563</a>]</span> can be used to control the autoconfiguration
             of IPv4 link-local addresses.
             <a class="xref" href="#autoconf">Section 3.3.1</a> discusses the
             interaction between the IPv6-Only Preferred option and the Auto-Configure option.<a class="pilcrow" href="#section-3.2-9">¶</a></p>
</section>
</div>
<div id="v4srv">
<section id="section-3.3">
        <h3 id="name-dhcpv4-server-behavior">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-dhcpv4-server-behavior">DHCPv4 Server Behavior</a>
        </h3>
<p id="section-3.3-1">
             The DHCPv4 server <span class="bcp14">SHOULD</span> be able to configure all or individual pools to include the IPv6-Only Preferred option in DHCPv4 responses if the client included the option code in the Parameter Request List.
             The DHCPv4 server <span class="bcp14">MAY</span> have a configuration option to specify the V6ONLY_WAIT timer for all or individual IPv6-mostly pools.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">
             The server <span class="bcp14">MUST NOT</span> include the IPv6-Only
      Preferred  option in the DHCPOFFER or DHCPACK message if the
      selected pool is not configured as IPv6-mostly.
             The server <span class="bcp14">MUST NOT</span> include the IPv6-Only Preferred  option in the DHCPOFFER or DHCPACK message if the option was not present in the Parameter Request List sent by the client.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
<p id="section-3.3-3">
             If the IPv6-Only Preferred option is present in the Parameter Request List received from the client and the corresponding DHCPv4 pool is explicitly configured as belonging to an IPv6-mostly network segment, the server <span class="bcp14">MUST</span> include the IPv6-Only Preferred option when responding with the DHCPOFFER or DHCPACK message.
             If the server responds with the IPv6-Only Preferred option and the V6ONLY_WAIT timer is configured for the pool, the server <span class="bcp14">MUST</span> copy the configured value to the IPv6-Only Preferred option value field.
             Otherwise, it <span class="bcp14">MUST</span> set the field to zero.

             The server <span class="bcp14">SHOULD NOT</span> assign an address from the pool.
             Instead, it <span class="bcp14">SHOULD</span> return 0.0.0.0 as the offered address.
             Alternatively, if offering 0.0.0.0 is not feasible -- for
             example, due to some limitations of the server or the network
             infrastructure -- the server <span class="bcp14">MAY</span> include in the
             DHCPOFFER an available IPv4 address from the pool, as per recommendations in <span>[<a class="xref" href="#RFC2131">RFC2131</a>]</span>.
             In this case, the offered address <span class="bcp14">MUST</span> be a valid address that is not committed to any other client.
             Because the client is not ever expected to request this address, the server <span class="bcp14">SHOULD NOT</span> reserve the address and <span class="bcp14">SHOULD NOT</span> verify its uniqueness.
             If the client then issues a DHCPREQUEST for the address, the
             server <span class="bcp14">MUST</span> process it per <span>[<a class="xref" href="#RFC2131">RFC2131</a>]</span>, including replying with a DHCPACK for the
             address if it has not been committed to another
             client in the meantime.<a class="pilcrow" href="#section-3.3-3">¶</a></p>
<p id="section-3.3-4">
             If a client includes both a Rapid Commit option <span>[<a class="xref" href="#RFC4039">RFC4039</a>]</span> and an IPv6-Only Preferred
             option in the DHCPDISCOVER message, the server <span class="bcp14">SHOULD NOT</span> honor the Rapid Commit option if the response to the client would contain the IPv6-Only Preferred option.
             It <span class="bcp14">SHOULD</span> instead respond with a DHCPOFFER as indicated above.<a class="pilcrow" href="#section-3.3-4">¶</a></p>
<p id="section-3.3-5">
             If the server receives a DHCPREQUEST containing the IPv6-Only Preferred option for the address from a pool configured as IPv6-mostly, the server <span class="bcp14">MUST</span> process it per <span>[<a class="xref" href="#RFC2131">RFC2131</a>]</span>.<a class="pilcrow" href="#section-3.3-5">¶</a></p>
<div id="autoconf">
<section id="section-3.3.1">
          <h4 id="name-interaction-with-rfc-2563">
<a class="section-number selfRef" href="#section-3.3.1">3.3.1. </a><a class="section-name selfRef" href="#name-interaction-with-rfc-2563">Interaction with RFC 2563</a>
          </h4>
<p id="section-3.3.1-1">
<span>[<a class="xref" href="#RFC2563">RFC2563</a>]</span> defines an Auto-Configure DHCPv4
option to disable IPv4 link-local address configuration for IPv4
clients. Clients can support both the IPv6-Only Preferred option and the
Auto-Configure option, just one of the options, or neither option.
If a client sends both the IPv6-Only Preferred option and the Auto-Configure option, the network administrator can prevent the host from configuring an IPv4 link-local address on an IPv6-mostly network.
To achieve this, the server needs to send a DHCPOFFER that contains a 'yiaddr'
of 0.0.0.0, and the Auto-Configure flag set to "DoNotAutoConfigure".<a class="pilcrow" href="#section-3.3.1-1">¶</a></p>
<p id="section-3.3.1-2">
However, special care should be taken in a situation where a server supports
both options and receives just an IPv6-Only Preferred option from a client.
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2563#section-2.3">Section 2.3</a> of [<a class="xref" href="#RFC2563">RFC2563</a>]</span>
 states that if no address is chosen for the host (which would be the case for
 IPv6-only-capable clients on an IPv6-mostly network), then
"If the DHCPDISCOVER does not contain the Auto-Configure option, it is not answered."
Such behavior would be undesirable for clients supporting the IPv6-Only
Preferred option without supporting the Auto-Configure option, as they would
not receive any response from the server and would keep requesting a response instead of disabling DHCPv4 for V6ONLY_WAIT seconds.
Therefore, the following update is made to <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2563#section-2.3">Section 2.3</a> of [<a class="xref" href="#RFC2563">RFC2563</a>]</span>.<a class="pilcrow" href="#section-3.3.1-2">¶</a></p>
<p id="section-3.3.1-3">
OLD TEXT:<a class="pilcrow" href="#section-3.3.1-3">¶</a></p>
<blockquote id="section-3.3.1-4">
            <p id="section-3.3.1-4.1">However, if no address is chosen for the host, a few additional steps <span class="bcp14">MUST</span> be taken.<a class="pilcrow" href="#section-3.3.1-4.1">¶</a></p>
<p id="section-3.3.1-4.2">
If the DHCPDISCOVER does not contain the Auto-Configure option, it is not answered.<a class="pilcrow" href="#section-3.3.1-4.2">¶</a></p>
</blockquote>
<p id="section-3.3.1-5">
NEW TEXT:<a class="pilcrow" href="#section-3.3.1-5">¶</a></p>
<blockquote id="section-3.3.1-6">
            <p id="section-3.3.1-6.1">However, if no address is chosen for the host, a few additional steps <span class="bcp14">MUST</span> be taken.<a class="pilcrow" href="#section-3.3.1-6.1">¶</a></p>
<p id="section-3.3.1-6.2">
If the DHCPDISCOVER does not contain the Auto-Configure option and the IPv6-Only Preferred option is not present, it is not answered.
If the DHCPDISCOVER does not contain the Auto-Configure option but contains the IPv6-Only Preferred option, the processing rules for the IPv6-Only Preferred option apply.<a class="pilcrow" href="#section-3.3.1-6.2">¶</a></p>
</blockquote>
</section>
</div>
</section>
</div>
<div id="vars">
<section id="section-3.4">
        <h3 id="name-constants-and-configuration">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-constants-and-configuration">Constants and Configuration Variables</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-3.4-1">
          <dt id="section-3.4-1.1">V6ONLY_WAIT:</dt>
          <dd id="section-3.4-1.2" style="margin-left: 1.5em">The time for which the client <span class="bcp14">SHOULD</span> stop the DHCPv4 configuration process. The value <span class="bcp14">MUST NOT</span> be less than MIN_V6ONLY_WAIT seconds. Default: 1800 seconds<a class="pilcrow" href="#section-3.4-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.3">MIN_V6ONLY_WAIT:</dt>
          <dd id="section-3.4-1.4" style="margin-left: 1.5em">The lower boundary for V6ONLY_WAIT. Value: 300 seconds<a class="pilcrow" href="#section-3.4-1.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="v6onlydef">
<section id="section-4">
      <h2 id="name-ipv6-only-transition-techno">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-ipv6-only-transition-techno">IPv6-Only Transition Technology Considerations</a>
      </h2>
<p id="section-4-1">
Until IPv6 adoption in the Internet reaches 100%, communication between an
IPv6-only host and an IPv4-only destination requires some form of a transition mechanism deployed in the network.
At the time of writing, the only such mechanism that is widely supported by end hosts is NAT64 <span>[<a class="xref" href="#RFC6146">RFC6146</a>]</span> (either with or without 464XLAT).
Therefore, the IPv6-Only Preferred option is only sent by hosts capable of operating on NAT64 networks.
In a typical deployment scenario, a network administrator would not configure the DHCPv4 server to return the IPv6-Only Preferred option unless the network provides NAT64 service.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">
Hypothetically, it is possible for multiple transition technologies to
coexist. In such a scenario, some form of negotiation would be required between a client and a server to ensure that the transition technology supported by the client is the one the network provides.
                However, it seems unlikely that any new transition technology would arise and be widely adopted in the foreseeable future.
                Therefore, adding support for non-existing technologies seems
                to be suboptimal, so this document implies that NAT64 is used to facilitate
connectivity between IPv6 and IPv4.
                In the unlikely event that a new transition mechanism becomes widely deployed, the applicability of the IPv6-Only Preferred option to that mechanism will depend on the nature of the new mechanism.
                If the new mechanism is designed in such a way that it's fully transparent for hosts that support NAT64 and the IPv6-Only Preferred option, then the option can continue to be used with the new mechanism.
                If the new mechanism is not compatible with NAT64 and implementation on the host side is required to support it, then a new DHCPv4 option needs to be defined.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3">
It should also be noted that declaring a host (technically, a host interface) IPv6-only capable is a policy decision. For example,<a class="pilcrow" href="#section-4-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-4.1">
An OS vendor may make such a decision and configure their DHCPv4
clients to send the IPv6-Only Preferred option by default if the OS has
a 464XLAT CLAT <span>[<a class="xref" href="#RFC6877">RFC6877</a>]</span> enabled.<a class="pilcrow" href="#section-4-4.1">¶</a>
</li>
        <li class="normal" id="section-4-4.2">
An enterprise network administrator may provision the corporate hosts as
IPv6-only capable if all applications that users are supposed to run have been
tested in an IPv6-only environment (or if a 464XLAT CLAT is enabled on the devices).<a class="pilcrow" href="#section-4-4.2">¶</a>
</li>
        <li class="normal" id="section-4-4.3">
Internet of Things (IoT) devices may be shipped in IPv6-only-capable mode if they are designed to
connect to an IPv6-enabled cloud destination only.<a class="pilcrow" href="#section-4-4.3">¶</a>
</li>
      </ul>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">The IANA has assigned a new DHCPv4 option code for the IPv6-Only Preferred option
      from the "BOOTP Vendor Extensions and DHCP Options" registry, located at
      <span>&lt;<a href="https://www.iana.org/assignments/bootp-dhcp-parameters/">https://www.iana.org/assignments/bootp-dhcp-parameters/</a>&gt;</span>.<a class="pilcrow" href="#section-5-1">¶</a></p>
<span class="break"></span><dl class="dlParallel dlCompact" id="section-5-2">
        <dt id="section-5-2.1">Tag:</dt>
        <dd id="section-5-2.2" style="margin-left: 1.5em">108<a class="pilcrow" href="#section-5-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.3">Name:</dt>
        <dd id="section-5-2.4" style="margin-left: 1.5em">IPv6-Only Preferred<a class="pilcrow" href="#section-5-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.5">Data Length:</dt>
        <dd id="section-5-2.6" style="margin-left: 1.5em">4<a class="pilcrow" href="#section-5-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.7">Meaning:</dt>
        <dd id="section-5-2.8" style="margin-left: 1.5em">Number of seconds that DHCPv4 should be disabled<a class="pilcrow" href="#section-5-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.9">Reference:</dt>
        <dd id="section-5-2.10" style="margin-left: 1.5em">RFC 8925<a class="pilcrow" href="#section-5-2.10">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">
          An attacker might send a spoofed DHCPOFFER containing an IPv6-Only Preferred option with the value field set to a large number, such as 0xffffffff, effectively disabling DHCPv4 on clients supporting the option.
          If the network is IPv4-only, such clients would lose connectivity, while on a dual-stack network without NAT64 service, only connectivity to IPv4-only destinations would be affected.
          Recovery from such an attack would require triggering a network attachment event.

However, it should be noted that if the network does not provide
protection from a rogue DHCPv4 server, the similar attack vector can
be executed by offering an invalid address and setting the Lease Time
option <span>[<a class="xref" href="#RFC2132">RFC2132</a>]</span> value field to 0xffffffff.
          The latter attack would affect all hosts -- not just hosts that support the IPv6-Only Preferred option.
          Therefore, the security measures against rogue DHCPv4 servers would
          be sufficient to prevent attacks specific to the IPv6-Only Preferred option.
          Additionally, such attacks can only be executed if the victim
          prefers the rogue DHCPOFFER over legitimate offers.
          Therefore, for the attack to be successful, the attacker needs to
          know the selection criteria used by the client and be able to make
          its rogue offer preferable to other offers.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">
          It should be noted that disabling IPv4 on a host upon receiving the IPv6-Only Preferred option from the DHCPv4 server protects the host from IPv4-related attacks and therefore could be considered a security feature, as it reduces the attack surface.<a class="pilcrow" href="#section-6-2">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2131">[RFC2131]</dt>
        <dd>
<span class="refAuthor">Droms, R.</span>, <span class="refTitle">"Dynamic Host Configuration Protocol"</span>, <span class="seriesInfo">RFC 2131</span>, <span class="seriesInfo">DOI 10.17487/RFC2131</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2131">https://www.rfc-editor.org/info/rfc2131</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2563">[RFC2563]</dt>
        <dd>
<span class="refAuthor">Troll, R.</span>, <span class="refTitle">"DHCP Option to Disable Stateless Auto-Configuration in IPv4 Clients"</span>, <span class="seriesInfo">RFC 2563</span>, <span class="seriesInfo">DOI 10.17487/RFC2563</span>, <time class="refDate" datetime="1999-05">May 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2563">https://www.rfc-editor.org/info/rfc2563</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3927">[RFC3927]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span><span class="refAuthor">, Aboba, B.</span><span class="refAuthor">, and E. Guttman</span>, <span class="refTitle">"Dynamic Configuration of IPv4 Link-Local Addresses"</span>, <span class="seriesInfo">RFC 3927</span>, <span class="seriesInfo">DOI 10.17487/RFC3927</span>, <time class="refDate" datetime="2005-05">May 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3927">https://www.rfc-editor.org/info/rfc3927</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4039">[RFC4039]</dt>
        <dd>
<span class="refAuthor">Park, S.</span><span class="refAuthor">, Kim, P.</span><span class="refAuthor">, and B. Volz</span>, <span class="refTitle">"Rapid Commit Option for the Dynamic Host Configuration Protocol version 4 (DHCPv4)"</span>, <span class="seriesInfo">RFC 4039</span>, <span class="seriesInfo">DOI 10.17487/RFC4039</span>, <time class="refDate" datetime="2005-03">March 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4039">https://www.rfc-editor.org/info/rfc4039</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC2132">[RFC2132]</dt>
        <dd>
<span class="refAuthor">Alexander, S.</span><span class="refAuthor"> and R. Droms</span>, <span class="refTitle">"DHCP Options and BOOTP Vendor Extensions"</span>, <span class="seriesInfo">RFC 2132</span>, <span class="seriesInfo">DOI 10.17487/RFC2132</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2132">https://www.rfc-editor.org/info/rfc2132</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span><span class="refAuthor">, Nordmark, E.</span><span class="refAuthor">, Simpson, W.</span><span class="refAuthor">, and H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 4861</span>, <span class="seriesInfo">DOI 10.17487/RFC4861</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4861">https://www.rfc-editor.org/info/rfc4861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4957">[RFC4957]</dt>
        <dd>
<span class="refAuthor">Krishnan, S., Ed.</span><span class="refAuthor">, Montavont, N.</span><span class="refAuthor">, Njedjou, E.</span><span class="refAuthor">, Veerepalli, S.</span><span class="refAuthor">, and A. Yegin, Ed.</span>, <span class="refTitle">"Link-Layer Event Notifications for Detecting Network Attachments"</span>, <span class="seriesInfo">RFC 4957</span>, <span class="seriesInfo">DOI 10.17487/RFC4957</span>, <time class="refDate" datetime="2007-08">August 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4957">https://www.rfc-editor.org/info/rfc4957</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6146">[RFC6146]</dt>
        <dd>
<span class="refAuthor">Bagnulo, M.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and I. van Beijnum</span>, <span class="refTitle">"Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers"</span>, <span class="seriesInfo">RFC 6146</span>, <span class="seriesInfo">DOI 10.17487/RFC6146</span>, <time class="refDate" datetime="2011-04">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6146">https://www.rfc-editor.org/info/rfc6146</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6147">[RFC6147]</dt>
        <dd>
<span class="refAuthor">Bagnulo, M.</span><span class="refAuthor">, Sullivan, A.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and I. van Beijnum</span>, <span class="refTitle">"DNS64: DNS Extensions for Network Address Translation from IPv6 Clients to IPv4 Servers"</span>, <span class="seriesInfo">RFC 6147</span>, <span class="seriesInfo">DOI 10.17487/RFC6147</span>, <time class="refDate" datetime="2011-04">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6147">https://www.rfc-editor.org/info/rfc6147</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6877">[RFC6877]</dt>
      <dd>
<span class="refAuthor">Mawatari, M.</span><span class="refAuthor">, Kawashima, M.</span><span class="refAuthor">, and C. Byrne</span>, <span class="refTitle">"464XLAT: Combination of Stateful and Stateless Translation"</span>, <span class="seriesInfo">RFC 6877</span>, <span class="seriesInfo">DOI 10.17487/RFC6877</span>, <time class="refDate" datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6877">https://www.rfc-editor.org/info/rfc6877</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgements">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">
      Thanks to the following people (in alphabetical order) for their review
      and feedback: <span class="contact-name">Mohamed Boucadair</span>, <span class="contact-name">Martin Duke</span>, <span class="contact-name">Russ Housley</span>, <span class="contact-name">Sheng Jiang</span>, <span class="contact-name">Benjamin Kaduk</span>, <span class="contact-name">Murray Kucherawy</span>, <span class="contact-name">Ted Lemon</span>, <span class="contact-name">Roy Marples</span>, <span class="contact-name">Bjorn Mork</span>, <span class="contact-name">Alvaro Retana</span>, <span class="contact-name">Peng Shuping</span>, <span class="contact-name">Pascal Thubert</span>, <span class="contact-name">Bernie Volz</span>, <span class="contact-name">Éric Vyncke</span>, and <span class="contact-name">Robert Wilton</span>.
      The authors would like to thank <span class="contact-name">Bob Hinden</span> and <span class="contact-name">Brian Carpenter</span> for the initial idea of signaling IPv6-only capability to hosts.
      Special thanks to <span class="contact-name">Erik Kline</span>, <span class="contact-name">Mark Townsley</span>, and <span class="contact-name">Maciej Zenczykowski</span> for the discussion that led to the idea of signaling IPv6-only capability over DHCPv4.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Lorenzo Colitti</span></div>
<div class="left" dir="auto"><span class="org">Google</span></div>
<div class="left" dir="auto">
<span class="street-address">Shibuya 3-21-3</span>, <span class="region">Shibuya, Tokyo</span>
</div>
<div class="left" dir="auto"><span class="postal-code">150-0002</span></div>
<div class="left" dir="auto"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lorenzo@google.com">lorenzo@google.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jen Linkova</span></div>
<div class="left" dir="auto"><span class="org">Google</span></div>
<div class="left" dir="auto"><span class="street-address">1 Darling Island Rd</span></div>
<div class="left" dir="auto">
<span class="locality">Pyrmont</span> <span class="region">NSW</span> <span class="postal-code">2009</span>
</div>
<div class="left" dir="auto"><span class="country-name">Australia</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:furry@google.com">furry@google.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Michael C. Richardson</span></div>
<div class="left" dir="auto"><span class="org">Sandelman Software Works</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mcr+ietf@sandelman.ca">mcr+ietf@sandelman.ca</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="https://www.sandelman.ca/">https://www.sandelman.ca/</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tomek Mrugalski</span></div>
<div class="left" dir="auto"><span class="org">Internet Systems Consortium, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">PO Box 360</span></div>
<div class="left" dir="auto">
<span class="locality">Newmarket</span>, <span class="region">NH</span> <span class="postal-code">03857</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tomasz.mrugalski@gmail.com">tomasz.mrugalski@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>