<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9165: Additional Control Operators for the Concise Data Definition Language (CDDL)</title>
<meta content="Carsten Bormann" name="author"/>
<meta content='
       The Concise Data Definition Language (CDDL), standardized in RFC 8610,
provides "control operators" as its main language extension point. 
       The present document defines a number of control operators that were
not yet ready at the time RFC 8610 was completed:
 .plus ,  .cat , and  .det  for the construction of constants;
 .abnf / .abnfb  for including ABNF (RFC 5234 and RFC 7405) in CDDL specifications; and
 .feature  for indicating the use of a non-basic feature in an instance. 
    ' name="description"/>
<meta content="xml2rfc 3.12.0" name="generator"/>
<meta content="binary format" name="keyword"/>
<meta content="data interchange format" name="keyword"/>
<meta content="description language" name="keyword"/>
<meta content="schema language" name="keyword"/>
<meta content="tree grammar" name="keyword"/>
<meta content="ABNF" name="keyword"/>
<meta content="Augmented BNF" name="keyword"/>
<meta content="feature indication" name="keyword"/>
<meta content="9165" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.13
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9165.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9165" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-cbor-cddl-control-07" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9165</td>
<td class="center">CDDL Control Operators</td>
<td class="right">December 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bormann</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9165">9165</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-12">December 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Bormann</div>
<div class="org">Universität Bremen TZI</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9165</h1>
<h1 id="title">Additional Control Operators for the Concise Data Definition Language (CDDL)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">The Concise Data Definition Language (CDDL), standardized in RFC 8610,
provides "control operators" as its main language extension point.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">The present document defines a number of control operators that were
not yet ready at the time RFC 8610 was completed:
<code>.plus</code>, <code>.cat</code>, and <code>.det</code> for the construction of constants;
<code>.abnf</code>/<code>.abnfb</code> for including ABNF (RFC 5234 and RFC 7405) in CDDL specifications; and
<code>.feature</code> for indicating the use of a non-basic feature in an instance.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9165">https://www.rfc-editor.org/info/rfc9165</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-terminology">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-computed-literals">Computed Literals</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-numeric-addition">Numeric Addition</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-string-concatenation">String Concatenation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="xref" href="#section-2.3">2.3</a>.  <a class="xref" href="#name-string-concatenation-with-d">String Concatenation with Dedenting</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-embedded-abnf">Embedded ABNF</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-features">Features</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#appendix-A"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-authors-address">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The Concise Data Definition Language (CDDL), standardized in <span>[<a class="xref" href="#RFC8610">RFC8610</a>]</span>,
provides "control operators" as its main language extension point
(<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8610#section-3.8">Section 3.8</a> of [<a class="xref" href="#RFC8610">RFC8610</a>]</span>).<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The present document defines a number of control operators that were
not yet ready at the time <span>[<a class="xref" href="#RFC8610">RFC8610</a>]</span> was completed:<a class="pilcrow" href="#section-1-2">¶</a></p>
<span id="name-new-control-operators-in-th"></span><div id="tbl-new">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-new-control-operators-in-th">New Control Operators in this Document</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
            <th class="text-left" colspan="1" rowspan="1">Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.plus</td>
            <td class="text-left" colspan="1" rowspan="1">Numeric addition</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.cat</td>
            <td class="text-left" colspan="1" rowspan="1">String concatenation</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.det</td>
            <td class="text-left" colspan="1" rowspan="1">String concatenation, pre-dedenting</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.abnf</td>
            <td class="text-left" colspan="1" rowspan="1">ABNF in CDDL (text strings)</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.abnfb</td>
            <td class="text-left" colspan="1" rowspan="1">ABNF in CDDL (byte strings)</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.feature</td>
            <td class="text-left" colspan="1" rowspan="1">Indicates name of feature used (extension point)</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">This specification uses terminology from <span>[<a class="xref" href="#RFC8610">RFC8610</a>]</span>.
In particular, with respect to control operators, "target" refers to
the left-hand side operand and "controller" to the right-hand side operand.
"Tool" refers to tools along the lines of that described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8610#appendix-F">Appendix F</a> of [<a class="xref" href="#RFC8610">RFC8610</a>]</span>.
Note also that the data model underlying CDDL provides for text
strings as well as byte strings as two separate types, which are
then collectively referred to as "strings".<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">The term "ABNF" in this specification stands for the combination of
<span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span> and <span>[<a class="xref" href="#RFC7405">RFC7405</a>]</span>; i.e., the ABNF control operators defined by
this document allow use of the case-sensitive extensions defined in
<span>[<a class="xref" href="#RFC7405">RFC7405</a>]</span>.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="computed-literals">
<section id="section-2">
      <h2 id="name-computed-literals">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-computed-literals">Computed Literals</a>
      </h2>
<p id="section-2-1">CDDL as defined in <span>[<a class="xref" href="#RFC8610">RFC8610</a>]</span> does not have any mechanisms to compute
literals.  To cover a large part of the use cases, this specification adds three control
operators: <code>.plus</code> for numeric addition, <code>.cat</code> for string
concatenation, and <code>.det</code> for string concatenation with dedenting of
both sides (target and controller).<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">For these operators, as with all control operators, targets and
controllers are types.  The resulting type is therefore formally a
function of the elements of the cross-product of the two types.
Not all tools may be able to work with non-unique targets or
controllers.<a class="pilcrow" href="#section-2-2">¶</a></p>
<div id="numeric-addition">
<section id="section-2.1">
        <h3 id="name-numeric-addition">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-numeric-addition">Numeric Addition</a>
        </h3>
<p id="section-2.1-1">In many cases, numbers are needed relative to a
base number in a specification.  The <code>.plus</code> control identifies a number that is
constructed by adding the numeric values of the target and the
controller.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2">The target and controller both <span class="bcp14">MUST</span> be numeric.
If the target is a floating point number and the controller an integer
number, or vice versa, the sum is converted into the type of the
target; converting from a floating point number to an integer selects
its floor (the largest integer less than or equal to the floating
point number, i.e., rounding towards negative infinity).<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<span id="name-an-example-of-addition-to-a"></span><div id="exa-plus">
<figure id="figure-1">
          <div id="section-2.1-3.1">
<pre class="lang-cddl sourcecode">interval&lt;BASE&gt; = (
  BASE =&gt; int             ; lower bound
  (BASE .plus 1) =&gt; int   ; upper bound
  ? (BASE .plus 2) =&gt; int ; tolerance
)

X = 0
Y = 3
rect = {
  interval&lt;X&gt;
  interval&lt;Y&gt;
}
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-an-example-of-addition-to-a">An Example of Addition to a Base Value</a>
          </figcaption></figure>
</div>
<p id="section-2.1-4">The example in <a class="xref" href="#exa-plus">Figure 1</a> contains the generic definition of a CDDL
group <code>interval</code> that gives a lower and upper bound and, optionally,
a tolerance.
The parameter BASE allows the non-conflicting use of a multiple of these
interval groups in one map by assigning different labels to the
entries of the interval.
The rule <code>rect</code> combines two of these interval groups into a map, one group for
the X dimension (using 0, 1, and 2 as labels) and one for the Y dimension
(using 3, 4, and 5 as labels).<a class="pilcrow" href="#section-2.1-4">¶</a></p>
</section>
</div>
<div id="string-concatenation">
<section id="section-2.2">
        <h3 id="name-string-concatenation">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-string-concatenation">String Concatenation</a>
        </h3>
<p id="section-2.2-1">It is often useful to be able to compose string literals out of
component literals defined in different places in the specification.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">The <code>.cat</code> control identifies a string that is built from a
concatenation of the target and the controller.
The target and controller both <span class="bcp14">MUST</span> be strings.
The result of the operation has the same type as the target.                                    
The concatenation is performed on the bytes in both strings.
If the target is a text string, the result of that concatenation <span class="bcp14">MUST</span>
be valid UTF-8.<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<span id="name-an-example-of-concatenation"></span><div id="exa-cat">
<figure id="figure-2">
          <div id="section-2.2-3.1">
<pre class="lang-cddl sourcecode">c = "foo" .cat '
  bar
  baz
'
; on a system where the newline is \n, is the same string as:
b = "foo\n  bar\n  baz\n"
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-an-example-of-concatenation">An Example of Concatenation of Text and Byte Strings</a>
          </figcaption></figure>
</div>
<p id="section-2.2-4">The example in <a class="xref" href="#exa-cat">Figure 2</a>
builds a text string named <code>c</code> from concatenating the target text string <code>"foo"</code>
and the controller byte string entered in a text form byte string literal.
(This particular idiom is useful when the text string contains
newlines, which, as shown in the example for <code>b</code>, may be harder to
read when entered in the format that the pure CDDL text string
notation inherits from JSON.)<a class="pilcrow" href="#section-2.2-4">¶</a></p>
</section>
</div>
<div id="string-concatenation-with-dedenting">
<section id="section-2.3">
        <h3 id="name-string-concatenation-with-d">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-string-concatenation-with-d">String Concatenation with Dedenting</a>
        </h3>
<p id="section-2.3-1">Multi-line string literals for various applications, including
embedded ABNF (<a class="xref" href="#embedded-abnf">Section 3</a>), need to be set flush left, at least
partially.
Often, having some indentation in the source code for the literal can
promote readability, as in <a class="xref" href="#exa-det">Figure 3</a>.<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<span id="name-an-example-of-dedenting-con"></span><div id="exa-det">
<figure id="figure-3">
          <div id="section-2.3-2.1">
<pre class="lang-cddl sourcecode">oid = bytes .abnfb ("oid" .det cbor-tags-oid)
roid = bytes .abnfb ("roid" .det cbor-tags-oid)

cbor-tags-oid = '
  oid = 1*arc
  roid = *arc
  arc = [nlsb] %x00-7f
  nlsb = %x81-ff *%x80-ff
'
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-an-example-of-dedenting-con">An Example of Dedenting Concatenation</a>
          </figcaption></figure>
</div>
<p id="section-2.3-3">The control operator <code>.det</code> works like <code>.cat</code>, except that both
arguments (target and controller) are independently <em>dedented</em> before
the concatenation takes place.<a class="pilcrow" href="#section-2.3-3">¶</a></p>
<p id="section-2.3-4">For the first rule in <a class="xref" href="#exa-det">Figure 3</a>, the result is
equivalent to <a class="xref" href="#exa-det-result">Figure 4</a>.<a class="pilcrow" href="#section-2.3-4">¶</a></p>
<span id="name-dedenting-example-result-of"></span><div id="exa-det-result">
<figure id="figure-4">
          <div id="section-2.3-5.1">
<pre class="lang-cddl sourcecode">oid = bytes .abnfb 'oid
oid = 1*arc
roid = *arc
arc = [nlsb] %x00-7f
nlsb = %x81-ff *%x80-ff
'
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-dedenting-example-result-of">Dedenting Example: Result of First .det</a>
          </figcaption></figure>
</div>
<p id="section-2.3-6">For the purposes of this specification, we define "dedenting" as:<a class="pilcrow" href="#section-2.3-6">¶</a></p>
<ol class="normal type-1" id="section-2.3-7" start="1" type="1">
<li id="section-2.3-7.1">determining the smallest amount of leftmost blank space (number of
leading space characters) present in all the non-blank lines, and<a class="pilcrow" href="#section-2.3-7.1">¶</a>
</li>
          <li id="section-2.3-7.2">removing exactly that number of leading space characters from each
line.  For blank (blank space only or empty) lines, there may be
fewer (or no) leading space characters than this amount, in which
case all leading space is removed.<a class="pilcrow" href="#section-2.3-7.2">¶</a>
</li>
        </ol>
<p id="section-2.3-8">(The name <code>.det</code> is a shortcut for "dedenting cat".
The maybe more obvious name <code>.dedcat</code> has not been chosen
as it is longer and may invoke unpleasant images.)<a class="pilcrow" href="#section-2.3-8">¶</a></p>
<p id="section-2.3-9">Occasionally, dedenting of only a single item is needed.
This can be achieved by using this operator with an empty string,
e.g., <code>"" .det rhs</code> or <code>lhs .det ""</code>, which can in turn be combined
with a <code>.cat</code>: in the construct <code>lhs .cat ("" .det rhs)</code>, only <code>rhs</code>
is dedented.<a class="pilcrow" href="#section-2.3-9">¶</a></p>
</section>
</div>
</section>
</div>
<div id="embedded-abnf">
<section id="section-3">
      <h2 id="name-embedded-abnf">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-embedded-abnf">Embedded ABNF</a>
      </h2>
<p id="section-3-1">Many IETF protocols define allowable values for their text strings in
ABNF <span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span> <span>[<a class="xref" href="#RFC7405">RFC7405</a>]</span>.
It is often desirable to define a text string type in CDDL by
employing existing ABNF embedded into the CDDL specification.
Without specific ABNF support in CDDL, that ABNF would usually need to
be translated into a regular expression (if that is even possible).<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">ABNF is added to CDDL in the same way that regular
expressions were added: by defining a <code>.abnf</code> control operator.
The target is usually <code>text</code> or some restriction on it, and the controller
is the text of an ABNF specification.<a class="pilcrow" href="#section-3-2">¶</a></p>
<p id="section-3-3">There are several small issues; the solutions are given here:<a class="pilcrow" href="#section-3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-4.1">ABNF can be used to define byte sequences as well as UTF-8 text
strings interpreted as Unicode scalar sequences.  This means this
specification defines two control operators: <code>.abnfb</code> for ABNF
denoting byte sequences and <code>.abnf</code> for denoting sequences of
Unicode scalar values (code points) represented as UTF-8 text strings.

Both control operators can be applied to targets of either string
type; the ABNF is applied to the sequence of bytes in the string
and interprets it as a sequence of bytes (<code>.abnfb</code>) or as a sequence
of code points represented as an UTF-8 text string (<code>.abnf</code>).
 The controller string <span class="bcp14">MUST</span> be a string. When a byte string, it <span class="bcp14">MUST</span> be valid UTF-8 and is interpreted as the text string that has the same sequence of bytes.<a class="pilcrow" href="#section-3-4.1">¶</a>
</li>
        <li class="normal" id="section-3-4.2">ABNF defines a list of rules, not a single expression (called
"elements" in <span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span>).  This is resolved by requiring the
controller string to be one valid "element", followed by zero or
more valid "rules" separated from the element by a newline; thus, the
controller string can be built by preceding a piece
of valid ABNF by an "element" that selects from that ABNF and a newline.<a class="pilcrow" href="#section-3-4.2">¶</a>
</li>
        <li class="normal" id="section-3-4.3">For the same reason, ABNF requires newlines; specifying newlines in
CDDL text strings is tedious (and leads to essentially unreadable
ABNF).  The workaround employs the <code>.cat</code> operator introduced in
<a class="xref" href="#string-concatenation">Section 2.2</a> and the syntax for text in byte strings.
As is customary for ABNF, the syntax of ABNF itself (<em>not</em> the syntax
expressed in ABNF!) is relaxed to allow a single line feed as a
newline:<a class="pilcrow" href="#section-3-4.3">¶</a>
</li>
      </ul>
<div id="section-3-5">
<pre class="lang-abnf sourcecode">   CRLF = %x0A / %x0D.0A
</pre><a class="pilcrow" href="#section-3-5">¶</a>
</div>
<ul class="normal">
<li class="normal" id="section-3-6.1">One set of rules provided in an ABNF specification is often used in
multiple positions, particularly staples such as DIGIT and ALPHA.
(Note that all rules referenced need to be defined in each ABNF
operator controller string --
there is no implicit import of core ABNF rules from <span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span> or other rules.)
The composition this calls for can be provided by the <code>.cat</code>
operator and/or by <code>.det</code> if there is indentation to be disposed of.<a class="pilcrow" href="#section-3-6.1">¶</a>
</li>
      </ul>
<p id="section-3-7">These points are combined into an example in <a class="xref" href="#exa-abnf">Figure 5</a>, which uses
ABNF from <span>[<a class="xref" href="#RFC3339">RFC3339</a>]</span> to specify one of each of the Concise Binary Object Representation (CBOR) tags defined in
      <span>[<a class="xref" href="#RFC8943">RFC8943</a>]</span> and <span>[<a class="xref" href="#RFC8949">RFC8949</a>]</span>.<a class="pilcrow" href="#section-3-7">¶</a></p>
<span id="name-an-example-of-employing-abn"></span><div id="exa-abnf">
<figure id="figure-5">
        <div id="section-3-8.1">
<pre class="lang-cddl sourcecode">; for RFC 8943
Tag1004 = #6.1004(text .abnf full-date)
; for RFC 8949
Tag0 = #6.0(text .abnf date-time)

full-date = "full-date" .cat rfc3339
date-time = "date-time" .cat rfc3339

; Note the trick of idiomatically starting with a newline, separating
;   off the element in the concatenations above from the rule-list
rfc3339 = '
   date-fullyear   = 4DIGIT
   date-month      = 2DIGIT  ; 01-12
   date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                             ; month/year
   time-hour       = 2DIGIT  ; 00-23
   time-minute     = 2DIGIT  ; 00-59
   time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap sec
                             ; rules
   time-secfrac    = "." 1*DIGIT
   time-numoffset  = ("+" / "-") time-hour ":" time-minute
   time-offset     = "Z" / time-numoffset

   partial-time    = time-hour ":" time-minute ":" time-second
                     [time-secfrac]
   full-date       = date-fullyear "-" date-month "-" date-mday
   full-time       = partial-time time-offset

   date-time       = full-date "T" full-time
' .det rfc5234-core

rfc5234-core = '
   DIGIT          =  %x30-39 ; 0-9
   ; abbreviated here
'
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-an-example-of-employing-abn">An Example of Employing ABNF from RFC 3339 for Defining CBOR Tags</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="features">
<section id="section-4">
      <h2 id="name-features">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-features">Features</a>
      </h2>
<p id="section-4-1">Commonly, the kind of validation enabled by languages such as
CDDL provides a Boolean result: valid or invalid.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">In rapidly evolving environments, this is too simplistic.  The data
models described by a CDDL specification may continually be enhanced
by additional features, and it would be useful even for a
specification that does not yet describe a specific future feature to
identify the extension point the feature can use and accept such
extensions while marking them as extensions.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3">The <code>.feature</code> control annotates the target as making use of the
feature named by the controller.  The latter will usually be a string.
A tool that validates an instance against that specification may mark
the instance as using a feature that is annotated by the
specification.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">More specifically, the tool's diagnostic output might contain
the controller (right-hand side) as a feature name and the target
(left-hand side) as a feature detail.  However, in some cases, the target has
too much detail, and the specification might want to hint to the tool
that more limited detail is appropriate.  In this case, the controller
should be an array, with the first element being the feature name
(that would otherwise be the entire controller) and the second
element being the detail (usually another string), as illustrated in
<a class="xref" href="#exa-feat-array">Figure 6</a>.<a class="pilcrow" href="#section-4-4">¶</a></p>
<span id="name-providing-explicit-detail-w"></span><div id="exa-feat-array">
<figure id="figure-6">
        <div id="section-4-5.1">
<pre class="lang-cddl sourcecode">foo = {
  kind: bar / baz .feature (["foo-extensions", "bazify"])
}
bar = ...
baz = ... ; complex stuff that doesn't all need to be in the detail
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-providing-explicit-detail-w">Providing Explicit Detail with .feature</a>
        </figcaption></figure>
</div>
<p id="section-4-6"><a class="xref" href="#exa-feat-map">Figure 7</a> shows what could be the definition of a person, with
potential extensions beyond <code>name</code> and <code>organization</code> being marked
<code>further-person-extension</code>.
Extensions that are known at the time this definition is written can be
collected into <code>$$person-extensions</code>.  However, future extensions
would be deemed invalid unless the wildcard at the end of the map is
added.
These extensions could then be specifically examined by a user or a
tool that makes use of the validation result; the label (map key)
actually used makes a fine feature detail for the tool's diagnostic
output.<a class="pilcrow" href="#section-4-6">¶</a></p>
<p id="section-4-7">Leaving out the entire extension point would mean that instances that
make use of an extension would be marked as wholesale invalid, making
the entire validation approach much less useful.
Leaving the extension point in but not marking its use as special
would render mistakes (such as using the label "<code>organisation</code>" instead of
"<code>organization</code>") invisible.<a class="pilcrow" href="#section-4-7">¶</a></p>
<span id="name-map-extensibility-with-feat"></span><div id="exa-feat-map">
<figure id="figure-7">
        <div id="section-4-8.1">
<pre class="lang-cddl sourcecode">person = {
  ? name: text
  ? organization: text
  $$person-extensions
  * (text .feature "further-person-extension") =&gt; any
}

$$person-extensions //= (? bloodgroup: text)
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-map-extensibility-with-feat">Map Extensibility with .feature</a>
        </figcaption></figure>
</div>
<p id="section-4-9"><a class="xref" href="#exa-feat-type">Figure 8</a> shows another example where <code>.feature</code> provides for
type extensibility.<a class="pilcrow" href="#section-4-9">¶</a></p>
<span id="name-type-extensibility-with-fea"></span><div id="exa-feat-type">
<figure id="figure-8">
        <div id="section-4-10.1">
<pre class="lang-cddl sourcecode">allowed-types = number / text / bool / null
              / [* number] / [* text] / [* bool]
              / (any .feature "allowed-type-extension")
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-type-extensibility-with-fea">Type Extensibility with .feature</a>
        </figcaption></figure>
</div>
<p id="section-4-11">A CDDL tool may simply report the set of features being used; the
control then only provides information to the process requesting the
validation.
One could also imagine a tool that takes arguments, allowing the tool to accept
certain features and reject others (enable/disable).  The latter approach
could, for instance, be used for a JSON/CBOR switch, as illustrated in
<a class="xref" href="#exa-feat-variants">Figure 9</a>, using Sensor Measurement Lists (SenML) <span>[<a class="xref" href="#RFC8428">RFC8428</a>]</span> as the example data model
used with both JSON and CBOR.<a class="pilcrow" href="#section-4-11">¶</a></p>
<span id="name-describing-variants-with-fe"></span><div id="exa-feat-variants">
<figure id="figure-9">
        <div id="section-4-12.1">
<pre class="lang-cddl sourcecode">SenML-Record = {
; ...
  ? v =&gt; number
; ...
}
v = JC&lt;"v", 2&gt;
JC&lt;J,C&gt; = J .feature "json" / C .feature "cbor"
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-describing-variants-with-fe">Describing Variants with .feature</a>
        </figcaption></figure>
</div>
<p id="section-4-13">It remains to be seen if the enable/disable approach can lead to new
idioms of using CDDL.  The language currently has no way to enforce
mutually exclusive use of features, as would be needed in this example.<a class="pilcrow" href="#section-4-13">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">IANA has registered the contents of
<a class="xref" href="#tbl-iana-reqs">Table 2</a> into the "CDDL Control Operators" registry of <span>[<a class="xref" href="#IANA.cddl">IANA.cddl</a>]</span>:<a class="pilcrow" href="#section-5-1">¶</a></p>
<span id="name-new-control-operators"></span><div id="tbl-iana-reqs">
<table class="center" id="table-2">
        <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-new-control-operators">New Control Operators</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.plus</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9165</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.cat</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9165</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.det</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9165</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.abnf</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9165</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.abnfb</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9165</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">.feature</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9165</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">The security considerations of <span>[<a class="xref" href="#RFC8610">RFC8610</a>]</span> apply.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">While both <span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span> and <span>[<a class="xref" href="#RFC7405">RFC7405</a>]</span> state that security is truly
believed to be irrelevant to the respective document, the use of
formal description techniques cannot only simplify but sometimes also
complicate a specification.
This can lead to security problems in implementations and in the
specification itself.
As with CDDL itself, ABNF should be judiciously applied, and overly
complex (or "cute") constructions should be avoided.<a class="pilcrow" href="#section-6-2">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="IANA.cddl">[IANA.cddl]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Concise Data Definition Language (CDDL)"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cddl">https://www.iana.org/assignments/cddl</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time class="refDate" datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7405">[RFC7405]</dt>
        <dd>
<span class="refAuthor">Kyzivat, P.</span>, <span class="refTitle">"Case-Sensitive String Support in ABNF"</span>, <span class="seriesInfo">RFC 7405</span>, <span class="seriesInfo">DOI 10.17487/RFC7405</span>, <time class="refDate" datetime="2014-12">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7405">https://www.rfc-editor.org/info/rfc7405</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8610">[RFC8610]</dt>
      <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time class="refDate" datetime="2019-06">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC3339">[RFC3339]</dt>
        <dd>
<span class="refAuthor">Klyne, G.</span> and <span class="refAuthor">C. Newman</span>, <span class="refTitle">"Date and Time on the Internet: Timestamps"</span>, <span class="seriesInfo">RFC 3339</span>, <span class="seriesInfo">DOI 10.17487/RFC3339</span>, <time class="refDate" datetime="2002-07">July 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3339">https://www.rfc-editor.org/info/rfc3339</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8428">[RFC8428]</dt>
        <dd>
<span class="refAuthor">Jennings, C.</span>, <span class="refAuthor">Shelby, Z.</span>, <span class="refAuthor">Arkko, J.</span>, <span class="refAuthor">Keranen, A.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Sensor Measurement Lists (SenML)"</span>, <span class="seriesInfo">RFC 8428</span>, <span class="seriesInfo">DOI 10.17487/RFC8428</span>, <time class="refDate" datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8428">https://www.rfc-editor.org/info/rfc8428</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8943">[RFC8943]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Nadalin, A.</span>, and <span class="refAuthor">J. Richter</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR) Tags for Date"</span>, <span class="seriesInfo">RFC 8943</span>, <span class="seriesInfo">DOI 10.17487/RFC8943</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8943">https://www.rfc-editor.org/info/rfc8943</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8949">[RFC8949]</dt>
      <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time class="refDate" datetime="2020-12">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-A-1"><span class="contact-name">Jim Schaad</span> suggested several improvements.
The <code>.feature</code> feature was developed out of a discussion with <span class="contact-name">Henk Birkholz</span>.
<span class="contact-name">Paul Kyzivat</span> helped isolate the need for <code>.det</code>.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">.det is an abbreviation for "dedenting cat", but Det is also the name
of a German TV cartoon character created in the 1960s.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a class="section-name selfRef" href="#name-authors-address">Author's Address</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carsten Bormann</span></div>
<div class="left" dir="auto"><span class="org">Universität Bremen TZI</span></div>
<div class="left" dir="auto"><span class="street-address">Postfach 330440</span></div>
<div class="left" dir="auto">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+49-421-218-63921">+49-421-218-63921</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cabo@tzi.org">cabo@tzi.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>