<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8885: Proxy Mobile IPv6 Extensions for Distributed Mobility Management</title>
<meta content="Carlos J. Bernardos" name="author"/>
<meta content="Antonio de la Oliva" name="author"/>
<meta content="Fabio Giust" name="author"/>
<meta content="Juan Carlos Zúñiga" name="author"/>
<meta content="Alain Mourad" name="author"/>
<meta content="
       
Distributed Mobility Management solutions allow networks to be set up
in such a way that
traffic is distributed optimally and centrally
deployed anchors are not relied upon to provide IP mobility support.
       
       
There are many different approaches to address Distributed Mobility Management
-- for example, extending network-based mobility protocols (like Proxy Mobile
IPv6) or client-based mobility protocols (like Mobile IPv6), among others. This
document follows the former approach and proposes a solution based on Proxy
Mobile IPv6, in which mobility sessions are anchored at the last IP hop router
(called the mobility anchor and access router). The mobility anchor and access
router is an enhanced access router that is also able to operate as a local
mobility anchor or mobility access gateway on a per-prefix basis. The document
focuses on the required extensions to effectively support the simultaneous
anchoring several flows at different distributed gateways.
       
    " name="description"/>
<meta content="xml2rfc 3.2.1" name="generator"/>
<meta content="PMIPv6" name="keyword"/>
<meta content="anchor" name="keyword"/>
<meta content="session continuity" name="keyword"/>
<meta content="address reachability" name="keyword"/>
<meta content="HNP" name="keyword"/>
<meta content="CMD" name="keyword"/>
<meta content="MAAR" name="keyword"/>
<meta content="8885" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.2.1
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8885.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8885" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-dmm-pmipv6-dlif-06" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8885</td>
<td class="center">PMIPv6 DMM and DLIF</td>
<td class="right">October 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bernardos, et al.</td>
<td class="center">Experimental</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8885">8885</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Experimental</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-10">October 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">CJ. Bernardos</div>
<div class="org">UC3M</div>
</div>
<div class="author">
      <div class="author-name">A. de la Oliva</div>
<div class="org">UC3M</div>
</div>
<div class="author">
      <div class="author-name">F. Giust</div>
<div class="org">Athonet</div>
</div>
<div class="author">
      <div class="author-name">JC. Zúñiga</div>
<div class="org">SIGFOX</div>
</div>
<div class="author">
      <div class="author-name">A. Mourad</div>
<div class="org">InterDigital</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8885</h1>
<h1 id="title">Proxy Mobile IPv6 Extensions for Distributed Mobility Management</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
Distributed Mobility Management solutions allow networks to be set up
in such a way that
traffic is distributed optimally and centrally
deployed anchors are not relied upon to provide IP mobility support.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">
There are many different approaches to address Distributed Mobility Management
-- for example, extending network-based mobility protocols (like Proxy Mobile
IPv6) or client-based mobility protocols (like Mobile IPv6), among others. This
document follows the former approach and proposes a solution based on Proxy
Mobile IPv6, in which mobility sessions are anchored at the last IP hop router
(called the mobility anchor and access router). The mobility anchor and access
router is an enhanced access router that is also able to operate as a local
mobility anchor or mobility access gateway on a per-prefix basis. The document
focuses on the required extensions to effectively support the simultaneous
anchoring several flows at different distributed gateways.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for examination, experimental implementation, and
            evaluation.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document defines an Experimental Protocol for the Internet
            community.  This document is a product of the Internet Engineering
            Task Force (IETF).  It represents the consensus of the IETF community.
            It has received public review and has been approved for publication
            by the Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8885">https://www.rfc-editor.org/info/rfc8885</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.1.2.1.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-pmipv6-dmm-extensions">PMIPv6 DMM Extensions</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-initial-registration">Initial Registration</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-the-cmd-as-pbu-pba-relay">The CMD as PBU/PBA Relay</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-the-cmd-as-maar-locator">The CMD as MAAR Locator</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-the-cmd-as-pbu-pba-proxy">The CMD as PBU/PBA Proxy</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a class="xref" href="#section-3.5">3.5</a>.  <a class="xref" href="#name-de-registration">De-registration</a><a class="pilcrow" href="#section-toc.1-1.3.2.5.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a class="xref" href="#section-3.6">3.6</a>.  <a class="xref" href="#name-retransmissions-and-rate-li">Retransmissions and Rate Limiting</a><a class="pilcrow" href="#section-toc.1-1.3.2.6.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a class="xref" href="#section-3.7">3.7</a>.  <a class="xref" href="#name-the-distributed-logical-int">The Distributed Logical Interface (DLIF) Concept</a><a class="pilcrow" href="#section-toc.1-1.3.2.7.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-message-format">Message Format</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-proxy-binding-update">Proxy Binding Update</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-proxy-binding-acknowledgeme">Proxy Binding Acknowledgement</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-anchored-prefix-option">Anchored Prefix Option</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-local-prefix-option">Local Prefix Option</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-previous-maar-option">Previous MAAR Option</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-serving-maar-option">Serving MAAR Option</a><a class="pilcrow" href="#section-toc.1-1.4.2.6.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a class="xref" href="#section-4.7">4.7</a>.  <a class="xref" href="#name-dlif-link-local-address-opt">DLIF Link-Local Address Option</a><a class="pilcrow" href="#section-toc.1-1.4.2.7.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.8">
                <p id="section-toc.1-1.4.2.8.1"><a class="xref" href="#section-4.8">4.8</a>.  <a class="xref" href="#name-dlif-link-layer-address-opt">DLIF Link-Layer Address Option</a><a class="pilcrow" href="#section-toc.1-1.4.2.8.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.7.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.7.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec_introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
The Distributed Mobility Management (DMM) paradigm aims at minimizing the impact
of currently standardized mobility management solutions, which are centralized
(at least to a considerable extent) <span>[<a class="xref" href="#RFC7333">RFC7333</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">
The two most relevant examples of current IP mobility solutions are Mobile
IPv6 <span>[<a class="xref" href="#RFC6275">RFC6275</a>]</span> and Proxy Mobile IPv6 (PMIPv6)
<span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span>. These solutions offer
mobility support at the cost of handling operations at a cardinal point (i.e.,
the
mobility anchor) and burdening it with data forwarding and control
mechanisms for a large number of users. The mobility anchor is the home agent
for Mobile IPv6 and the local mobility anchor for PMIPv6.  As stated in <span>[<a class="xref" href="#RFC7333">RFC7333</a>]</span>, centralized mobility solutions are prone to several
problems and limitations: longer (sub-optimal) routing paths, scalability
problems, signaling overhead (and most likely a longer associated handover
latency), more complex network deployment, higher vulnerability due to the
existence of a potential single point of failure, and lack of granularity of the
mobility management service (i.e., mobility is offered on a per-node basis
because it is not possible to define finer granularity policies, for example,
on a per-application basis).<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">
The purpose of DMM is to overcome the limitations of
the traditional centralized mobility management <span>[<a class="xref" href="#RFC7333">RFC7333</a>]</span> <span>[<a class="xref" href="#RFC7429">RFC7429</a>]</span>; the main concept behind DMM solutions is indeed bringing
the mobility anchor closer to the mobile node (MN). Following this idea, the
central anchor is moved to the edge of the network and is deployed in the
default gateway of the MN. That is, the first elements that provide IP
connectivity to a set of MNs are also the mobility managers for those MNs. In
this document, we call these entities Mobility Anchors and Access Routers
(MAARs).<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
This document focuses on network-based DMM; hence, the starting point is making
PMIPv6 work in a distributed manner <span>[<a class="xref" href="#RFC7429">RFC7429</a>]</span>. Mobility is
handled by the network without the MN's involvement. But differently from
PMIPv6, when the MN moves from one access network to another, the router
anchoring the MN's address may change, hence requiring signaling between the anchors to retrieve the
MN's previous location(s). Also, a key aspect of network-based DMM is that a
prefix pool belongs exclusively to each MAAR in the sense that those prefixes
are assigned by the MAAR to the MNs attached to it and are routable at
that MAAR. Prefixes are assigned to MNs attached to a MAAR at that time, but remain
with those MNs as mobility occurs, remaining always routable at that MAAR as
well as towards the MN itself.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">
We consider partially distributed schemes, where only the data plane is
distributed among access routers similar to mobile access gateways (MAGs), whereas the control plane is
kept centralized towards a cardinal node (used as an information store), which
is discharged from any route management and MN's data forwarding tasks.<a class="pilcrow" href="#section-1-5">¶</a></p>
<div id="terms">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">
The following terms used in this document are defined in the PMIPv6
specification <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span>:<a class="pilcrow" href="#section-2-1">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2-2.1">
          <span class="break"></span><dl class="dlParallel" id="section-2-2.1.1">
            <dt id="section-2-2.1.1.1">BCE:</dt>
            <dd id="section-2-2.1.1.2" style="margin-left: 1.5em">Binding Cache Entry<a class="pilcrow" href="#section-2-2.1.1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-2.1.1.3">LMA:</dt>
            <dd id="section-2-2.1.1.4" style="margin-left: 1.5em">Local Mobility Anchor<a class="pilcrow" href="#section-2-2.1.1.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-2.1.1.5">MAG:</dt>
            <dd id="section-2-2.1.1.6" style="margin-left: 1.5em">Mobile Access Gateway<a class="pilcrow" href="#section-2-2.1.1.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-2.1.1.7">MN:</dt>
            <dd id="section-2-2.1.1.8" style="margin-left: 1.5em">Mobile Node<a class="pilcrow" href="#section-2-2.1.1.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-2.1.1.9">P-CoA:</dt>
            <dd id="section-2-2.1.1.10" style="margin-left: 1.5em">Proxy Care-of Address<a class="pilcrow" href="#section-2-2.1.1.10">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-2.1.1.11">PBA:</dt>
            <dd id="section-2-2.1.1.12" style="margin-left: 1.5em">Proxy Binding Acknowledgement<a class="pilcrow" href="#section-2-2.1.1.12">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-2.1.1.13">PBU:</dt>
            <dd id="section-2-2.1.1.14" style="margin-left: 1.5em">Proxy Binding Update<a class="pilcrow" href="#section-2-2.1.1.14">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</li>
      </ul>
<p id="section-2-3">
The following terms used in this document are defined in the Mobile IPv6
(MIPv6) specification <span>[<a class="xref" href="#RFC6275">RFC6275</a>]</span>:<a class="pilcrow" href="#section-2-3">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2-4.1">
          <span class="break"></span><dl class="dlParallel" id="section-2-4.1.1">
            <dt id="section-2-4.1.1.1">CN:</dt>
            <dd id="section-2-4.1.1.2" style="margin-left: 1.5em">Correspondent Node<a class="pilcrow" href="#section-2-4.1.1.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</li>
      </ul>
<p id="section-2-5">
The following terms are used in this document:<a class="pilcrow" href="#section-2-5">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-6">
        <dt id="section-2-6.1">Home Control-Plane Anchor (Home-CPA or H-CPA):</dt>
        <dd id="section-2-6.2" style="margin-left: 1.5em">

The Home-CPA function hosts the MN's mobility
session.  There can be more than one mobility session for an MN, and those sessions may be anchored on the same or different
Home-CPAs.  The Home-CPA will interface with the Home-DPA for
managing the forwarding state.<a class="pilcrow" href="#section-2-6.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.3">Home Data Plane Anchor (Home-DPA or H-DPA):</dt>
        <dd id="section-2-6.4" style="margin-left: 1.5em">
The Home-DPA is the topological anchor for the MN's IP addresses
and/or prefixes.
The Home-DPA is chosen by the Home-CPA on a session basis.  The Home-DPA is in the forwarding path for all the MN's IP traffic.<a class="pilcrow" href="#section-2-6.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.5">Access Control Plane Node (Access-CPN or A-CPN):</dt>
        <dd id="section-2-6.6" style="margin-left: 1.5em">

The Access-CPN is responsible for interfacing with the MN's Home-CPA and the Access-DPN.  The Access-CPN has a
protocol interface to the Home-CPA.<a class="pilcrow" href="#section-2-6.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.7">Access Data Plane Node (Access-DPN or A-DPN):</dt>
        <dd id="section-2-6.8" style="margin-left: 1.5em">
The Access-DPN function is hosted on the first-hop router where
the MN is attached.  This function is not hosted on a
Layer 2 (L2) bridging device such as an eNode(B) or Access Point.<a class="pilcrow" href="#section-2-6.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-7">
The following terms are defined and used in this document:<a class="pilcrow" href="#section-2-7">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-8">
        <dt id="section-2-8.1">MAAR (Mobility Anchor and Access Router):</dt>
        <dd id="section-2-8.2" style="margin-left: 1.5em">
First-hop router where the MNs attach. It also plays the role of
mobility manager for the IPv6 prefixes it anchors, running the functionalities
of PMIP's MAG and LMA. Depending on the prefix, it plays the role of Access-DPN,
Home-DPA, and Access-CPN.<a class="pilcrow" href="#section-2-8.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.3">CMD (Central Mobility Database):</dt>
        <dd id="section-2-8.4" style="margin-left: 1.5em">
The node that stores the BCEs allocated for the MNs in the mobility domain. It plays
the role of Home-CPA.<a class="pilcrow" href="#section-2-8.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.5">P-MAAR (Previous MAAR):</dt>
        <dd id="section-2-8.6" style="margin-left: 1.5em">
When an MN moves to a new point of attachment, a new MAAR might be allocated as
its anchor point for future IPv6 prefixes. The MAAR that served the MN prior to
new attachment becomes the P-MAAR. It is still the anchor point for the IPv6
prefixes it had allocated to the MN in the past and serves as the Home-DPA for
flows using these prefixes. There might be several P-MAARs serving an MN in
cases when the MN is frequently switching points of attachment while
maintaining long-lasting flows.<a class="pilcrow" href="#section-2-8.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.7">S-MAAR (Serving MAAR):</dt>
        <dd id="section-2-8.8" style="margin-left: 1.5em">
The MAAR to which the MN is currently attached. Depending on the prefix, it
plays the role of Access-DPN, Home-DPA, and Access-CPN.<a class="pilcrow" href="#section-2-8.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.9">Anchoring MAAR:</dt>
        <dd id="section-2-8.10" style="margin-left: 1.5em">
A MAAR anchoring an IPv6 prefix used by an MN.<a class="pilcrow" href="#section-2-8.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.11">DLIF (Distributed Logical Interface):</dt>
        <dd id="section-2-8.12" style="margin-left: 1.5em">
It is a logical interface at the IP stack of the MAAR. For each active prefix
used by the MN, the S-MAAR has a DLIF configured (associated with each
MAAR still anchoring flows). In this way, an S-MAAR exposes itself towards each
MN as multiple routers, one as itself and one per P-MAAR.<a class="pilcrow" href="#section-2-8.12">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec_pmipv6_based">
<section id="section-3">
      <h2 id="name-pmipv6-dmm-extensions">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-pmipv6-dmm-extensions">PMIPv6 DMM Extensions</a>
      </h2>
<p id="section-3-1">
The solution consists of decoupling the entities that participate in the data
and the control planes: the data plane becomes distributed and managed by the
MAARs near the edge of the network, while the control plane, besides those on
the MAARs, relies on a central entity called the Central Mobility Database (CMD). In
the proposed architecture, the hierarchy present in PMIPv6 between LMA and MAG
is preserved but with the following substantial variations:<a class="pilcrow" href="#section-3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">
The LMA is discharged from the data forwarding role; only the Binding Cache and
its management operations are maintained. Hence, the LMA is renamed as "CMD",
which is therefore a Home-CPA. Also, the CMD is able to send and parse both PBU
and PBA messages.<a class="pilcrow" href="#section-3-2.1">¶</a>
</li>
        <li class="normal" id="section-3-2.2">
The MAG is enriched with the LMA functionalities, hence the name Mobility Anchor
and Access Router (MAAR). It maintains a local Binding Cache for the MNs that
are attached to it, and it is able to send and parse PBU and PBA messages.<a class="pilcrow" href="#section-3-2.2">¶</a>
</li>
        <li class="normal" id="section-3-2.3">
The Binding Cache will be extended to include information regarding P-MAARs
where the MN was anchored and still retains active data sessions.<a class="pilcrow" href="#section-3-2.3">¶</a>
</li>
        <li class="normal" id="section-3-2.4">
Each MAAR has a unique set of global prefixes (which are configurable) that can
be allocated by the MAAR to the MNs but must be exclusive to that MAAR, i.e., no
other MAAR can allocate the same prefixes.<a class="pilcrow" href="#section-3-2.4">¶</a>
</li>
      </ul>
<p id="section-3-3">
The MAARs leverage the CMD to access and update information related to the MNs,
which is stored as mobility sessions; hence, a centralized node maintains a global view
of the network status. The CMD is queried whenever an MN is detected joining/leaving the mobility domain. It might be a fresh attachment, a detachment, or
a handover, but as MAARs are not aware of past information related to a mobility
session, they contact the CMD to retrieve the data of interest and eventually
take the appropriate action. The procedure adopted for the query and the
message exchange sequence might vary to optimize the update latency and/or the
signaling overhead. Here, one method for the initial registration and three different approaches for updating the mobility sessions using PBUs and
PBAs are presented. Each approach assigns a different role to the CMD:<a class="pilcrow" href="#section-3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-4.1">The CMD is a PBU/PBA relay;<a class="pilcrow" href="#section-3-4.1">¶</a>
</li>
        <li class="normal" id="section-3-4.2">The CMD is only a MAAR locator;<a class="pilcrow" href="#section-3-4.2">¶</a>
</li>
        <li class="normal" id="section-3-4.3">The CMD is a PBU/PBA proxy.<a class="pilcrow" href="#section-3-4.3">¶</a>
</li>
      </ul>
<p id="section-3-5">
The solution described in this document allows per-prefix anchoring
decisions -- for example, to support the anchoring of some flows at a central Home-DPA
(like a traditional LMA) or to enable an application to switch to the locally
anchored prefix to gain route optimization, as indicated in <span>[<a class="xref" href="#RFC8563">RFC8563</a>]</span>. This type of per-prefix treatment would potentially require
additional extensions to the MAARs and signaling between the MAARs and the MNs
to convey the per-flow anchor preference (central, distributed), which are not
covered in this document.<a class="pilcrow" href="#section-3-5">¶</a></p>
<p id="section-3-6">
Note that an MN may move across different MAARs, which might result in several
P-MAARs existing at a given moment of time, each of them anchoring a different
prefix used by the MN.<a class="pilcrow" href="#section-3-6">¶</a></p>
<div id="subsec_init">
<section id="section-3.1">
        <h3 id="name-initial-registration">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-initial-registration">Initial Registration</a>
        </h3>
<p id="section-3.1-1">
Initial registration is performed when an MN attaches to a network for the first
time (rather than attaching to a new network after moving from a previous one).<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">
In this description (shown in <a class="xref" href="#fig_DMM1">Figure 1</a>), it is assumed that:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<ol class="normal type-1" id="section-3.1-3" start="1" type="1">
          <li id="section-3.1-3.1">
The MN is attaching to MAAR1.<a class="pilcrow" href="#section-3.1-3.1">¶</a>
</li>
          <li id="section-3.1-3.2">
The MN is authorized to attach to the network.<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</li>
        </ol>
<p id="section-3.1-4">
Upon MN attachment, the following operations take place:<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<ol class="normal type-1" id="section-3.1-5" start="1" type="1">
          <li id="section-3.1-5.1">
MAAR1 assigns a global IPv6 prefix from its own prefix pool to the MN (Pref1).
It also stores this prefix (Pref1) in the locally allocated temporary BCE.<a class="pilcrow" href="#section-3.1-5.1">¶</a>
</li>
          <li id="section-3.1-5.2">
MAAR1 sends a PBU <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span> with Pref1 and the MN's MN-ID to the
CMD.<a class="pilcrow" href="#section-3.1-5.2">¶</a>
</li>
          <li id="section-3.1-5.3">
Since this is an initial registration, the CMD stores a BCE containing the
MN-ID, Pref1, and MAAR1's address (as a Proxy-CoA) as the primary fields.<a class="pilcrow" href="#section-3.1-5.3">¶</a>
</li>
          <li id="section-3.1-5.4">
The CMD replies with a PBA with the usual options defined in PMIPv6 <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span>, meaning that the MN's registration is fresh and no past
status is available.<a class="pilcrow" href="#section-3.1-5.4">¶</a>
</li>
          <li id="section-3.1-5.5">
MAAR1 stores the BCE described in (1) and unicasts a Router Advertisement (RA) to
the MN with Pref1.<a class="pilcrow" href="#section-3.1-5.5">¶</a>
</li>
          <li id="section-3.1-5.6">
The MN uses Pref1 to configure an IPv6 address (IP1) (e.g., with stateless
address autoconfiguration (SLAAC)).<a class="pilcrow" href="#section-3.1-5.6">¶</a>
</li>
        </ol>
<p id="section-3.1-6">
Note that:<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<ol class="normal type-1" id="section-3.1-7" start="1" type="1">
          <li id="section-3.1-7.1">
Alternative IPv6 autoconfiguration mechanisms can also be used, though this
document describes the SLAAC-based one.<a class="pilcrow" href="#section-3.1-7.1">¶</a>
</li>
          <li id="section-3.1-7.2">
IP1 is routable at MAAR1 in the sense that it is on the path of packets
addressed to the MN.<a class="pilcrow" href="#section-3.1-7.2">¶</a>
</li>
          <li id="section-3.1-7.3">
MAAR1 acts as a plain router for packets destined to the MN as no encapsulation
or special handling takes place.<a class="pilcrow" href="#section-3.1-7.3">¶</a>
</li>
        </ol>
<p id="section-3.1-8">
In the diagram shown in <a class="xref" href="#fig_DMM1">Figure 1</a> (and subsequent diagrams),
the flow of packets is presented using '*'.<a class="pilcrow" href="#section-3.1-8">¶</a></p>
<span id="name-first-attachment-to-the-net"></span><div id="fig_DMM1">
<figure id="figure-1">
          <div class="artwork art-text alignLeft" id="section-3.1-9.1">
<pre>  +-----+      +---+                +--+
  |MAAR1|      |CMD|                |CN|
  +-----+      +---+                +*-+
     |           |                   *
    MN           |                   *     +---+
  attach.        |               *****    _|CMD|_
detection        |         flow1 *       / +-+-+ \
     |           |               *      /    |    \
 local BCE       |               *     /     |     \
 allocation      |               *    /      |      \
     |--- PBU --&gt;|           +---*-+-'    +--+--+    `+-----+
     |          BCE          |   * |      |     |     |     |
     |        creation       |MAAR1+------+MAAR2+-----+MAAR3|
     |&lt;-- PBA ---|           |   * |      |     |     |     |
 local BCE       |           +---*-+      +-----+     +-----+
 finalized       |               *
     |           |         Pref1 *
     |           |              +*-+
     |           |              |MN|
     |           |              +--+

  Operations sequence                  Packet flow
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-first-attachment-to-the-net">First Attachment to the Network</a>
          </figcaption></figure>
</div>
<p id="section-3.1-10">
Note that the registration process does not change regardless of the CMD's modes
(relay, locator, or proxy) described in the following sections. The procedure is depicted in <a class="xref" href="#fig_DMM1">Figure 1</a>.<a class="pilcrow" href="#section-3.1-10">¶</a></p>
</section>
</div>
<div id="subsec_relay">
<section id="section-3.2">
        <h3 id="name-the-cmd-as-pbu-pba-relay">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-the-cmd-as-pbu-pba-relay">The CMD as PBU/PBA Relay</a>
        </h3>
<p id="section-3.2-1">
Upon MN mobility, if the CMD behaves as a PBU/PBA relay, the following operations take place:<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<ol class="normal type-1" id="section-3.2-2" start="1" type="1">
          <li id="section-3.2-2.1">
When the MN moves from its current point of attachment and attaches to MAAR2
(now the S-MAAR), MAAR2 reserves an IPv6 prefix (Pref2), stores a temporary
BCE, and sends a PBU to the CMD for registration.<a class="pilcrow" href="#section-3.2-2.1">¶</a>
</li>
          <li id="section-3.2-2.2">
Upon PBU reception and BC lookup, the CMD retrieves an already existing entry
for the MN and binds the MN-ID to its former location; thus, the CMD forwards the
PBU to the MAAR indicated as Proxy-CoA (MAAR1) and includes a new mobility option
to communicate the S-MAAR's global address to MAAR1 (defined as the Serving MAAR
option in <a class="xref" href="#subsec_smaaropt">Section 4.6</a>). The CMD updates the P-CoA field in
the BCE related to the MN with the S-MAAR's address.<a class="pilcrow" href="#section-3.2-2.2">¶</a>
</li>
          <li id="section-3.2-2.3">
Upon PBU reception, MAAR1 can install a tunnel on its side towards MAAR2 and the
related routes for Pref1. Then MAAR1 replies to the CMD with a PBA (including
the option mentioned before) to ensure that the new location has successfully
changed. The PBA contains the prefix anchored at MAAR1 in the Home Network Prefix
option.<a class="pilcrow" href="#section-3.2-2.3">¶</a>
</li>
          <li id="section-3.2-2.4">
The CMD, after receiving the PBA, updates the BCE and populates an instance
of the P-MAAR list. The P-MAAR list is an additional field on the BCE that
contains an element for each P-MAAR involved in the MN's mobility session. The
list element contains the P-MAAR's global address and the prefix it has
delegated. Also, the
CMD sends a PBA to the new S-MAAR, which contains the previous Proxy-CoA and the
prefix anchored to it embedded into a new mobility option called the Previous MAAR
option (defined in <a class="xref" href="#subsec_pmaaropt">Section 4.5</a>). Then, upon PBA
arrival, a bidirectional tunnel can be established between the two MAARs, and
new routes are set appropriately to recover the IP flow(s) carrying Pref1.<a class="pilcrow" href="#section-3.2-2.4">¶</a>
</li>
          <li id="section-3.2-2.5">
Now, packets destined for Pref1 are first received by MAAR1, encapsulated into the
tunnel, and forwarded to MAAR2, which finally delivers them to their destination.
In the uplink, when the MN transmits packets using Pref1 as a source address, they are
sent to MAAR2 (as it is the MN's new default gateway) and then tunneled to MAAR1, which
routes them towards the next hop to the destination. Conversely, packets carrying
Pref2 are routed by MAAR2 without any special packet handling both for the uplink
and downlink.<a class="pilcrow" href="#section-3.2-2.5">¶</a>
</li>
        </ol>
<span id="name-scenario-after-a-handover-c"></span><div id="fig_DMM2">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-3.2-3.1">
<pre>+-----+      +---+      +-----+           +--+            +--+
|MAAR1|      |CMD|      |MAAR2|           |CN|            |CN|
+-----+      +---+      +-----+           +*-+            +*-+
   |           |           |               *               *
   |           |          MN               *     +---+     *
   |           |        attach.        *****    _|CMD|_    *
   |           |          det.   flow1 *       / +-+-+ \   *flow2
   |           |&lt;-- PBU ---|           *      /    |    \  *
   |          BCE          |           *     /     | *******
   |        check+         |           *    /      | *    \
   |        update         |       +---*-+-'    +--+-*+    `+-----+
   |&lt;-- PBU*---|           |       |   * |      |    *|     |     |
route          |           |       |MAAR1|______|MAAR2+-----+MAAR3|
update         |           |       |   **(______)**  *|     |     |
   |--- PBA*--&gt;|           |       +-----+      +-*--*+     +-----+
   |         BCE           |                      *  *
   |        update         |                Pref1 *  *Pref2
   |           |--- PBA*--&gt;|                     +*--*+
   |           |         route         ---move--&gt;|*MN*|
   |           |         update                  +----+

      Operations sequence                  Data Packet flow
PBU/PBA messages with * contain
     a new mobility option
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-scenario-after-a-handover-c">Scenario after a Handover, CMD as Relay</a>
          </figcaption></figure>
</div>
<p id="section-3.2-4">
For MN's next movements, the process is repeated, but the number of P-MAARs
involved increases (according to the number of prefixes that the MN wishes to
maintain). Indeed, once the CMD receives the first PBU from the new S-MAAR, it
forwards copies of the PBU to all the P-MAARs indicated in the BCE, namely the
P-MAAR registered as the current P-CoA (i.e., the MAAR prior to handover) plus the ones
in the P-MAAR list. Those P-MAARs reply with a PBA to the CMD, which
aggregates all of the PBAs into one PBA to notify the S-MAAR, which finally can establish the tunnels
with the P-MAARs.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">
It should be noted that this design separates the mobility management at the
prefix granularity, and it can be tuned in order to erase old mobility sessions
when not required, while the MN is reachable through the latest prefix acquired.
Moreover, the latency associated with the mobility update is bound to the PBA sent
by the furthest P-MAAR, in terms of RTT, that takes the longest time to reach
the CMD. The drawback can be mitigated by introducing a timeout at the CMD, by
which, after its expiration, all the PBAs so far collected are transmitted, and
the remaining are sent later upon their arrival. Note that, in this case, the
S-MAAR might receive multiple PBAs from the CMD in response to a PBU. The CMD
<span class="bcp14">SHOULD</span> follow the retransmissions and rate-limiting considerations described in
<a class="xref" href="#sec_retransmissions">Section 3.6</a>, especially when aggregating and relaying
PBAs.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">
When there are multiple P-MAARs, e.g., k MAARs, a single PBU received by
the CMD triggers k outgoing packets from a single incoming packet. This may lead
to packet bursts originating from the CMD, albeit to different targets. Pacing
mechanisms <span class="bcp14">MUST</span> be introduced to avoid bursts on the outgoing link.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
</section>
</div>
<div id="subsec_locator">
<section id="section-3.3">
        <h3 id="name-the-cmd-as-maar-locator">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-the-cmd-as-maar-locator">The CMD as MAAR Locator</a>
        </h3>
<p id="section-3.3-1">
The handover latency experienced in the approach shown before can be reduced if
the P-MAARs are allowed to directly signal their information to the new S-MAAR.
This procedure reflects what was described in <a class="xref" href="#subsec_relay">Section 3.2</a> up
to the moment the P-MAAR receives the PBU with the Serving MAAR option. At that point,
a P-MAAR is aware of the new MN's location (because of the S-MAAR's address in
the Serving MAAR option), and, besides sending a PBA to the CMD, it also sends a PBA
to the S-MAAR, including the prefix it is anchoring. This latter PBA does not
need to include new options, as the prefix is embedded in the Home
Network Prefix (HNP) option and the
P-MAAR's address is taken from the message's source address. The CMD is
released from forwarding the PBA to the S-MAAR as the latter receives a copy directly
from the P-MAAR with the necessary information to build the tunnels and set the
appropriate routes. <a class="xref" href="#fig_DMM3">Figure 3</a> illustrates the new message
sequence. The data forwarding is unaltered.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<span id="name-scenario-after-a-handover-cm"></span><div id="fig_DMM3">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-3.3-2.1">
<pre>+-----+      +---+      +-----+           +--+            +--+
|MAAR1|      |CMD|      |MAAR2|           |CN|            |CN|
+-----+      +---+      +-----+           +*-+            +*-+
   |           |           |               *               *
   |           |          MN               *     +---+     *
   |           |        attach.        *****    _|CMD|_    *
   |           |          det.   flow1 *       / +-+-+ \   *flow2
   |           |&lt;-- PBU ---|           *      /    |    \  *
   |          BCE          |           *     /     | *******
   |        check+         |           *    /      | *    \
   |        update         |       +---*-+-'    +--+-*+    `+-----+
   |&lt;-- PBU*---|           |       |   * |      |    *|     |     |
route          |           |       |MAAR1|______|MAAR2+-----+MAAR3|
update         |           |       |   **(______)**  *|     |     |
   |--------- PBA --------&gt;|       +-----+      +-*--*+     +-----+
   |--- PBA*--&gt;|         route                    *  *
   |          BCE        update             Pref1 *  *Pref2
   |         update        |                     +*--*+
   |           |           |           ---move--&gt;|*MN*|
   |           |           |                     +----+

       Operations sequence                  Data Packet flow
PBU/PBA messages with * contain
     a new mobility option
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-scenario-after-a-handover-cm">Scenario after a Handover, CMD as Locator</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="subsec_proxy">
<section id="section-3.4">
        <h3 id="name-the-cmd-as-pbu-pba-proxy">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-the-cmd-as-pbu-pba-proxy">The CMD as PBU/PBA Proxy</a>
        </h3>
<p id="section-3.4-1">
A further enhancement of previous solutions can be achieved when the CMD sends
the PBA to the new S-MAAR before notifying the P-MAARs of the location change.
Indeed, when the CMD receives the PBU for the new registration, it is already in
possession of all the information that the new S-MAAR requires to set up the
tunnels and the routes. Thus, the PBA is sent to the S-MAAR immediately after a
PBU is received, including the Previous MAAR option in this case. In parallel, a
PBU is sent by the CMD to the P-MAARs containing the Serving MAAR option to notify
them about the new MN's location so that they receive the information to establish
the tunnels and routes on their side. When P-MAARs complete the update, they
send a PBA to the CMD to indicate that the operation has concluded and the
information is updated in all network nodes. This procedure is obtained from
the first procedure rearranging the order of the messages, but the parameters
communicated are the same. This scheme is depicted in <a class="xref" href="#fig_DMM4">Figure 4</a>, where, again, the data forwarding is kept untouched.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<span id="name-scenario-after-a-handover-cmd"></span><div id="fig_DMM4">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-3.4-2.1">
<pre>+-----+      +---+      +-----+           +--+            +--+
|MAAR1|      |CMD|      |MAAR2|           |CN|            |CN|
+-----+      +---+      +-----+           +*-+            +*-+
   |           |           |               *               *
   |           |          MN               *     +---+     *
   |           |        attach.        *****    _|CMD|_    *
   |           |          det.   flow1 *       / +-+-+ \   *flow2
   |           |&lt;-- PBU ---|           *      /    |    \  *
   |          BCE          |           *     /     | *******
   |        check+         |           *    /      | *    \
   |        update         |       +---*-+-'    +--+-*+    `+-----+
   |&lt;-- PBU*---x--- PBA*--&gt;|       |   * |      |    *|     |     |
route          |         route     |MAAR1|______|MAAR2+-----+MAAR3|
update         |         update    |   **(______)**  *|     |     |
   |--- PBA*--&gt;|           |       +-----+      +-*--*+     +-----+
   |          BCE          |                      *  *
   |         update        |                Pref1 *  *Pref2
   |           |           |                     +*--*+
   |           |           |           ---move--&gt;|*MN*|
   |           |           |                     +----+

       Operations sequence                 Data Packet flow
PBU/PBA messages with * contain
     a new mobility option
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-scenario-after-a-handover-cmd">Scenario after a Handover, CMD as Proxy</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="subsec_dereg">
<section id="section-3.5">
        <h3 id="name-de-registration">
<a class="section-number selfRef" href="#section-3.5">3.5. </a><a class="section-name selfRef" href="#name-de-registration">De-registration</a>
        </h3>
<p id="section-3.5-1">
The de-registration mechanism devised for PMIPv6 cannot be used as is in this
solution because each MAAR handles an independent mobility
session (i.e., a single prefix or a set of prefixes) for a given MN, whereas the
aggregated session is stored at the CMD. Indeed, if a P-MAAR initiates
a de-registration procedure because the MN is no longer present on the MAAR's
access link, it removes the routing state for the prefix(es), that
would be deleted by the CMD as well, hence defeating any prefix continuity
attempt. The simplest approach to overcome this limitation is to deny a P-MAAR
to de-register a prefix, that is, allowing only an S-MAAR to de-register
the whole MN session. This can be achieved by first removing any L2
detachment event so that de-registration is triggered only when the binding
lifetime expires, hence providing a guard interval for the MN to connect to a
new MAAR. Then, a change in the MAAR operations is required, and at this stage,
two possible solutions can be deployed:<a class="pilcrow" href="#section-3.5-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5-2.1">
A P-MAAR stops the BCE timer upon receiving a PBU from the CMD containing
a "Serving MAAR" option. In this way, only the S-MAAR is allowed to
de-register the mobility session, arguing that the MN definitely left the
domain.<a class="pilcrow" href="#section-3.5-2.1">¶</a>
</li>
          <li class="normal" id="section-3.5-2.2">
P-MAARs can, upon BCE expiry, send de-registration messages to the CMD,
which, instead of acknowledging the message with a 0 lifetime, sends back a PBA
with a non-zero lifetime, hence renewing the session if the MN is still
connected to the domain.<a class="pilcrow" href="#section-3.5-2.2">¶</a>
</li>
        </ul>
</section>
</div>
<div id="sec_retransmissions">
<section id="section-3.6">
        <h3 id="name-retransmissions-and-rate-li">
<a class="section-number selfRef" href="#section-3.6">3.6. </a><a class="section-name selfRef" href="#name-retransmissions-and-rate-li">Retransmissions and Rate Limiting</a>
        </h3>
<p id="section-3.6-1">
The node sending PBUs (the CMD or S-MAAR) <span class="bcp14">SHOULD</span> make use of
the timeout to also deal with missing PBAs (to retransmit PBUs). The
INITIAL_BINDACK_TIMEOUT <span>[<a class="xref" href="#RFC6275">RFC6275</a>]</span> <span class="bcp14">SHOULD</span> be used for configuring
the retransmission timer. The retransmissions by the node <span class="bcp14">MUST</span> use an
exponential backoff process in which the timeout period is doubled upon each
retransmission until either the node receives a response or the timeout period
reaches the value MAX_BINDACK_TIMEOUT <span>[<a class="xref" href="#RFC6275">RFC6275</a>]</span>. The node <span class="bcp14">MAY</span>
continue to send these messages at this slower rate indefinitely. The node <span class="bcp14">MUST NOT</span> send PBU messages to a particular node more than MAX_UPDATE_RATE times
within a second <span>[<a class="xref" href="#RFC6275">RFC6275</a>]</span>.<a class="pilcrow" href="#section-3.6-1">¶</a></p>
</section>
</div>
<div id="sec_dlif_concept">
<section id="section-3.7">
        <h3 id="name-the-distributed-logical-int">
<a class="section-number selfRef" href="#section-3.7">3.7. </a><a class="section-name selfRef" href="#name-the-distributed-logical-int">The Distributed Logical Interface (DLIF) Concept</a>
        </h3>
<p id="section-3.7-1">
One of the main challenges of a network-based DMM solution is how to allow a
MN to simultaneously send/receive traffic that is anchored at
different MAARs and how to influence the MN's selection process of its
source IPv6 address for a new flow without requiring special support from the
MN's IP stack. This document defines the DLIF, which is a software construct in the MAAR that can easily hide
the change of associated anchors from the MN.<a class="pilcrow" href="#section-3.7-1">¶</a></p>
<span id="name-dlif-exposing-multiple-rout"></span><div id="fig_exposing_multiple_routers">
<figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-3.7-2.1">
<pre>  +---------------------------------------------------+
 (                      Operator's                     )
 (                         core                        )
  +---------------------------------------------------+
            |                               |
    +---------------+     tunnel    +---------------+
    |   IP  stack   |===============|   IP  stack   |
    +---------------+               +-------+-------+
    |    mn1mar1    |--+ (DLIFs) +--|mn1mar1|mn1mar2|--+
    +---------------+  |         |  +-------+-------+  |
    | phy interface |  |         |  | phy interface |  |
    +---------------+  |         |  +---------------+  |
          MAAR1       (o)       (o)       MAAR2       (o)
                                   x                 x
                                     x             x
                        prefA::/64     x         x   prefB::/64
                      (AdvPrefLft=0)     x     x
                                           (o)
                                            |
                                         +-----+
                             prefA::MN1  | MN1 |  prefB::MN1
                            (deprecated) +-----+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-dlif-exposing-multiple-rout">DLIF: Exposing Multiple Routers (One per P-MAAR)</a>
          </figcaption></figure>
</div>
<p id="section-3.7-3">
The basic idea of the DLIF concept is the following: each S-MAAR exposes
itself to a given MN as multiple routers, one per P-MAAR
associated with the MN. Let's consider the example shown in <a class="xref" href="#fig_exposing_multiple_routers">Figure 5</a>: MN1 initially attaches to MAAR1,
configuring an IPv6 address (prefA::MN1) from a prefix locally anchored at MAAR1
(prefA::/64). At this stage, MAAR1 plays the role of both anchoring and serving
MAAR and also behaves as a plain IPv6 access router. MAAR1 creates a DLIF to communicate (through a point-to-point link) with MN1, exposing itself
as a (logical) router with specific MAC and IPv6
addresses (e.g., prefA::MAAR1/64 and fe80::MAAR1/64) using the DLIF
mn1mar1. As explained below, these addresses represent the "logical" identity of
MAAR1 for MN1 and will "follow" the MN while roaming within the
domain (note that the place where all this information is maintained and updated
is out of scope of this document; potential examples are to keep it on the home
subscriber server -- HSS -- or the user's profile).<a class="pilcrow" href="#section-3.7-3">¶</a></p>
<p id="section-3.7-4">
If MN1 moves and attaches to a different MAAR of the domain (MAAR2 in the
example of <a class="xref" href="#fig_exposing_multiple_routers">Figure 5</a>), this MAAR will
create a new logical interface (mn1mar2) to expose itself to MN1, providing
it with a locally anchored prefix (prefB::/64). In this case, since the MN1 has
another active IPv6 address anchored at MAAR1, MAAR2 also needs to create an
additional logical interface configured to resemble the one used by MAAR1 to
communicate with MN1. In this example, MAAR1 is the only P-MAAR (MAAR2 is the
same as S-MAAR), so only the logical interface mn1mar1
is created. However, the same process would be repeated if more
P-MAARs were involved. In order to keep the prefix anchored at MAAR1 reachable, a
tunnel between MAAR1 and MAAR2 is established and the routing is modified
accordingly. The PBU/PBA signaling is used to set up the bidirectional tunnel
between MAAR1 and MAAR2, and it might also be used to convey the
information about the prefix(es) anchored at MAAR1 and the addresses of
the associated DLIF (i.e., mn1mar1) to MAAR2.<a class="pilcrow" href="#section-3.7-4">¶</a></p>
<span id="name-distributed-logical-interfa"></span><div id="fig_dlif_concept">
<figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-3.7-5.1">
<pre>+------------------------------------------+ +----------------------+
|                  MAAR1                   | |         MAAR2        |
|+----------------------------------------+| |+--------------------+|
||+------------------++------------------+|| ||+------------------+||
|||+-------++-------+||+-------++-------+||| |||+-------++-------+|||
||||mn3mar1||mn3mar2||||mn2mar1||mn2mar2|||| ||||mn1mar1||mn1mar2||||
|||| LMAC1 || LMAC2 |||| LMAC3 || LMAC4 |||| |||| LMAC5 || LMAC6 ||||
|||+-------++-------+||+-------++-------+||| |||+-------++-------+|||
|||    LIFs of MN3   ||    LIFs of MN2   ||| |||   LIFs of MN1    |||
||+------------------++------------------+|| ||+------------------+||
||              MAC1   (phy if MAAR1)     || || MAC2 (phy if MAAR2)||
|+----------------------------------------+| |+--------------------+|
+------------------------------------------+ +----------------------+
                    x        x                            x
                   x          x                          x
                 (o)          (o)                      (o)
                  |            |                        |
               +--+--+      +--+--+                  +--+--+
               | MN3 |      | MN2 |                  | MN1 |
               +-----+      +-----+                  +-----+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-distributed-logical-interfa">Distributed Logical Interface Concept</a>
          </figcaption></figure>
</div>
<p id="section-3.7-6">
<a class="xref" href="#fig_dlif_concept">Figure 6</a> shows the logical interface concept in more
detail. The figure shows two MAARs and three MNs. MAAR1 is currently serving MN2
and MN3, while MAAR2 is serving MN1. Note that an S-MAAR always plays the
role of anchoring MAAR for the attached (served) MNs. Each MAAR has one single
physical wireless interface as depicted in this example.<a class="pilcrow" href="#section-3.7-6">¶</a></p>
<p id="section-3.7-7">
As discussed before, each MN always "sees" multiple logical routers -- one per
anchoring MAAR -- independently of its currently S-MAAR. From the point of
view of the MN, these MAARs are portrayed as different routers, although the MN
is physically attached to a single interface. This is achieved by
the S-MAAR configuring different logical interfaces. MN1 is currently attached to MAAR2 (i.e., MAAR2 is its S-MAAR) and, therefore,
it has configured an IPv6 address from MAAR2's pool (e.g., prefB::/64). MAAR2
has set up a logical interface (mn1mar2) on top of its wireless physical
interface (phy if MAAR2), which is used to serve MN1. This interface has a
logical MAC address (LMAC6) that is different from the hardware MAC address (MAC2) of
the physical interface of MAAR2. Over the mn1mar2 interface, MAAR2 advertises
its locally anchored prefix prefB::/64. 

Before attaching to MAAR2, MN1 was
attached to MAAR1 and configured a locally anchored address at that MAAR,
which is still being used by MN1 in active communications. MN1 keeps "seeing" an
interface connecting to MAAR1 as if it were directly connected to the two
MAARs. This is achieved by the S-MAAR (MAAR2) configuring an additional
DLIF, mn1mar1, which behaves as the logical interface
configured by MAAR1 when MN1 was attached to it. This means that both the MAC
and IPv6 addresses configured on this logical interface remain the same
regardless of the physical MAAR that is serving the MN. The information
required by an S-MAAR to properly configure this logical interfaces can be
obtained in different ways: as part of the information conveyed in the PBA, from
an external database (e.g., the HSS) or by other means. As shown in the figure,
each MAAR may have several logical interfaces associated with each attached MN
and always has at least one (since an S-MAAR is also an anchoring MAAR for
the attached MN).<a class="pilcrow" href="#section-3.7-7">¶</a></p>
<p id="section-3.7-8">
In order to enforce the use of the prefix locally anchored at the S-MAAR,
the RAs sent over those logical interfaces playing the role of
anchoring MAARs (different from the serving one) include a zero preferred prefix
lifetime (and a non-zero valid prefix lifetime, so the prefix remains valid
while being deprecated). The goal is to deprecate the prefixes delegated by
these MAARs (so that they will no longer be serving the MN). Note that ongoing
communications may keep on using those addresses even if they are deprecated,
so this only affects the establishment of new sessions.<a class="pilcrow" href="#section-3.7-8">¶</a></p>
<p id="section-3.7-9">
The DLIF concept also enables the following use case:
suppose that access to a local IP network is provided by a given MAAR (e.g.,
MAAR1 in the example shown in <a class="xref" href="#fig_exposing_multiple_routers">Figure 5</a>)
and that the resources available at that network cannot be reached from outside
the local network (e.g., cannot be accessed by an MN attached to MAAR2). This is
similar to the local IP access scenario considered by 3GPP, where a local
gateway node is selected for sessions requiring access to services provided
locally (instead of going through a central gateway). The goal is to allow an MN
to be able to roam while still being able to have connectivity to this local IP
network. The solution adopted to support this case makes use of more specific
routes, as discussed in RFC 4191 <span>[<a class="xref" href="#RFC4191">RFC4191</a>]</span>, when the MN moves to a MAAR different
from the one providing access to the local IP network (MAAR1 in the
example).

These routes are advertised through the DLIF where
the MAAR is providing access to the local network (MAAR1 in this
example). In this way, if MN1 moves from MAAR1 to MAAR2, any active session that
MN1 may have with a node on the local network connected to MAAR1 will survive
via the tunnel between MAAR1 and MAAR2. Also, any potential future connection
attempt to the local network will be supported even though MN1 is no
longer attached to MAAR1, so long as a source address configured from MAAR1 is
selected for new connections (see <span>[<a class="xref" href="#RFC6724">RFC6724</a>]</span>, rule 5.5).<a class="pilcrow" href="#section-3.7-9">¶</a></p>
</section>
</div>
</section>
</div>
<div id="subsec_messages">
<section id="section-4">
      <h2 id="name-message-format">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-message-format">Message Format</a>
      </h2>
<p id="section-4-1">
This section defines extensions to the PMIPv6 <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span> protocol messages.<a class="pilcrow" href="#section-4-1">¶</a></p>
<div id="sec_pbu_format">
<section id="section-4.1">
        <h3 id="name-proxy-binding-update">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-proxy-binding-update">Proxy Binding Update</a>
        </h3>
<p id="section-4.1-1">
A new flag (D) is included in the PBU to indicate that the
PBU is coming from a MAAR or a CMD and not from a MAG. The rest of the PBU format remains the same as defined
in <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span>.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-2">
<pre>0               1               2               3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |            Sequence #         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|A|H|L|K|M|R|P|F|T|B|S|D| Rsrvd |            Lifetime           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Mobility Options                       .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.1-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.1-3">
          <dt id="section-4.1-3.1">
DMM Flag (D)</dt>
          <dd id="section-4.1-3.2" style="margin-left: 1.5em">
The D flag is set to indicate to the receiver of the message that the PBU is from a MAAR or a CMD. When an LMA that does not support the
extensions described in this document receives a message with the D flag set,
the PBU in that case <span class="bcp14">MUST NOT</span> be processed by the LMA, and an error <span class="bcp14">MUST</span> be
returned.<a class="pilcrow" href="#section-4.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.3">Mobility Options</dt>
          <dd id="section-4.1-3.4" style="margin-left: 1.5em">
Variable-length field of such length that the complete Mobility Header is an
integer that is a multiple of 8 octets long. This field contains zero or more TLV-encoded
mobility options. The encoding and format of the defined options are described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc6275#section-6.2">Section 6.2</a> of [<a class="xref" href="#RFC6275">RFC6275</a>]</span>. The receiving node <span class="bcp14">MUST</span> ignore and
skip any options that it does not understand.<a class="pilcrow" href="#section-4.1-3.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec_pba_format">
<section id="section-4.2">
        <h3 id="name-proxy-binding-acknowledgeme">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-proxy-binding-acknowledgeme">Proxy Binding Acknowledgement</a>
        </h3>
<p id="section-4.2-1">
A new flag (D) is included in the PBA to indicate that
the sender supports operating as a MAAR or CMD. The rest of the PBA format remains the same as defined in <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span>.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.2-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |   Status      |K|R|P|T|B|S|D| |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Sequence #            |           Lifetime            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Mobility Options                       .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.2-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.2-3">
          <dt id="section-4.2-3.1">
DMM Flag (D)</dt>
          <dd id="section-4.2-3.2" style="margin-left: 1.5em">
The D flag is set to indicate that the sender of the message supports operating
as a MAAR or CMD. When a MAG that does not support the extensions described in
this document receives a message with the D flag set, it <span class="bcp14">MUST</span> ignore the message,
and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-4.2-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.3">Mobility Options</dt>
          <dd id="section-4.2-3.4" style="margin-left: 1.5em">
Variable-length field of such length that the complete Mobility Header is an
integer multiple of 8 octets long. This field contains zero or more TLV-encoded
mobility options. The encoding and format of the defined options are described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc6275#section-6.2">Section 6.2</a> of [<a class="xref" href="#RFC6275">RFC6275</a>]</span>. The MAAR <span class="bcp14">MUST</span> ignore and skip any
options that it does not understand.<a class="pilcrow" href="#section-4.2-3.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec_anchored_prefix_format">
<section id="section-4.3">
        <h3 id="name-anchored-prefix-option">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-anchored-prefix-option">Anchored Prefix Option</a>
        </h3>
<p id="section-4.3-1">
A new Anchored Prefix option is defined for use with the PBU and PBA messages exchanged between MAARs and CMDs.
Therefore, this option can only appear if the D bit is set in a PBU/PBA. This
option is used for exchanging the MN's prefix anchored at the anchoring
MAAR. There can be multiple Anchored Prefix options present in the message.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">
The Anchored Prefix option has an alignment requirement of 8n+4. Its format is
as follows:<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3-3">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Type     |   Length      |   Reserved    | Prefix Length |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                        Anchored Prefix                        +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.3-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.3-4">
          <dt id="section-4.3-4.1">
Type</dt>
          <dd id="section-4.3-4.2" style="margin-left: 1.5em">65<a class="pilcrow" href="#section-4.3-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-4.3">Length</dt>
          <dd id="section-4.3-4.4" style="margin-left: 1.5em">
8-bit unsigned integer indicating the length of the option in octets, excluding
the type and length fields. This field <span class="bcp14">MUST</span> be set to 18.<a class="pilcrow" href="#section-4.3-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-4.5">
Reserved</dt>
          <dd id="section-4.3-4.6" style="margin-left: 1.5em">
This field is unused at the time of publication. The value <span class="bcp14">MUST</span> be initialized to 0 by the sender
and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.3-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-4.7">
Prefix Length
          </dt>
          <dd id="section-4.3-4.8" style="margin-left: 1.5em">
8-bit unsigned integer indicating the prefix length in bits of the IPv6 prefix
contained in the option.<a class="pilcrow" href="#section-4.3-4.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-4.9">
Anchored Prefix
          </dt>
          <dd id="section-4.3-4.10" style="margin-left: 1.5em">
A 16-octet field containing the MN's IPv6 Anchored Prefix. Only the
first Prefix Length bits are valid for the Anchored Prefix option. The rest of the
bits <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-4.3-4.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec_local_prefix_format">
<section id="section-4.4">
        <h3 id="name-local-prefix-option">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-local-prefix-option">Local Prefix Option</a>
        </h3>
<p id="section-4.4-1">
A new Local Prefix option is defined for use with the PBU and PBA messages exchanged between MAARs or between a MAAR
and a CMD. Therefore, this option can only appear if the D bit is set in a
PBU/PBA. This option is used for exchanging a prefix of a local network that is
only reachable via the anchoring MAAR. There can be multiple Local Prefix
options present in the message.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">
The Local Prefix option has an alignment requirement of 8n+4. Its format is
as follows:<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.4-3">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Type     |   Length      |   Reserved    | Prefix Length |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                         Local Prefix                          +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4-4">
          <dt id="section-4.4-4.1">
Type
</dt>
          <dd id="section-4.4-4.2" style="margin-left: 1.5em">     
66<a class="pilcrow" href="#section-4.4-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.3">
Length
          </dt>
          <dd id="section-4.4-4.4" style="margin-left: 1.5em">
8-bit unsigned integer indicating the length of the option in octets, excluding
the type and length fields. This field <span class="bcp14">MUST</span> be set to 18.<a class="pilcrow" href="#section-4.4-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.5">
Reserved
          </dt>
          <dd id="section-4.4-4.6" style="margin-left: 1.5em">
This field is unused at the time of publication. The value <span class="bcp14">MUST</span> be initialized to 0 by the sender
and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.4-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.7">
Prefix Length
          </dt>
          <dd id="section-4.4-4.8" style="margin-left: 1.5em">
8-bit unsigned integer indicating the prefix length in bits of the IPv6 prefix
contained in the option.<a class="pilcrow" href="#section-4.4-4.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-4.9">
Local Prefix
          </dt>
          <dd id="section-4.4-4.10" style="margin-left: 1.5em">
A 16-octet field containing the IPv6 Local Prefix. Only the first Prefix
Length bits are valid for the IPv6 Local Prefix. The rest of the bits <span class="bcp14">MUST</span> be
ignored.<a class="pilcrow" href="#section-4.4-4.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="subsec_pmaaropt">
<section id="section-4.5">
        <h3 id="name-previous-maar-option">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-previous-maar-option">Previous MAAR Option</a>
        </h3>
<p id="section-4.5-1">
This new option is defined for use with the PBA messages exchanged by the CMD to a MAAR. This option is used to notify the
S-MAAR about the P-MAAR's global address and the prefix anchored to it.
There can be multiple Previous MAAR options present in the message.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">
The Previous MAAR option has an alignment requirement of 8n+4. Its format is
as follows:<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.5-3">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Type     |     Length    |   Reserved    | Prefix Length |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                     Previous MAAR                             +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                    Home Network Prefix                        +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.5-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.5-4">
          <dt id="section-4.5-4.1">Type
          </dt>
          <dd id="section-4.5-4.2" style="margin-left: 1.5em">
67<a class="pilcrow" href="#section-4.5-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.3">
Length
          </dt>
          <dd id="section-4.5-4.4" style="margin-left: 1.5em">
8-bit unsigned integer indicating the length of the option in octets, excluding
the type and length fields. This field <span class="bcp14">MUST</span> be set to 34.<a class="pilcrow" href="#section-4.5-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.5">
Reserved
          </dt>
          <dd id="section-4.5-4.6" style="margin-left: 1.5em">
This field is unused at the time of publication. The value <span class="bcp14">MUST</span> be initialized to 0 by the sender
and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.5-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.7">
Prefix Length
          </dt>
          <dd id="section-4.5-4.8" style="margin-left: 1.5em">
8-bit unsigned integer indicating the prefix length in bits of the IPv6 prefix
contained in the option.<a class="pilcrow" href="#section-4.5-4.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.9">
Previous MAAR
          </dt>
          <dd id="section-4.5-4.10" style="margin-left: 1.5em">
A 16-octet field containing the P-MAAR's IPv6 global address.<a class="pilcrow" href="#section-4.5-4.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-4.11">
Home Network Prefix
          </dt>
          <dd id="section-4.5-4.12" style="margin-left: 1.5em">
A 16-octet field containing the MN's IPv6 Home Network Prefix. Only
the first Prefix Length bits are valid for the MN's IPv6 Home Network
Prefix. The rest of the bits <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-4.5-4.12">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="subsec_smaaropt">
<section id="section-4.6">
        <h3 id="name-serving-maar-option">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-serving-maar-option">Serving MAAR Option</a>
        </h3>
<p id="section-4.6-1">
This new option is defined for use with the PBU message
exchanged between the CMD and a P-MAAR. This option is used to notify the
P-MAAR about the current S-MAAR's global address. Its format is as
follows:<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<p id="section-4.6-2">
The Serving MAAR option has an alignment requirement of 8n+6. Its format is as
follows:<a class="pilcrow" href="#section-4.6-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.6-3">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |      Type     |     Length    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                     S-MAAR's Address                          +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.6-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.6-4">
          <dt id="section-4.6-4.1">Type

          </dt>
          <dd id="section-4.6-4.2" style="margin-left: 1.5em">
68<a class="pilcrow" href="#section-4.6-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.6-4.3">
Length
          </dt>
          <dd id="section-4.6-4.4" style="margin-left: 1.5em">
8-bit unsigned integer indicating the length of the option in octets, excluding
the type and length fields. This field <span class="bcp14">MUST</span> be set to 16.<a class="pilcrow" href="#section-4.6-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.6-4.5">
Serving MAAR
          </dt>
          <dd id="section-4.6-4.6" style="margin-left: 1.5em">
A 16-octet field containing the S-MAAR's IPv6 global address.<a class="pilcrow" href="#section-4.6-4.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec_dlif_link_local_format">
<section id="section-4.7">
        <h3 id="name-dlif-link-local-address-opt">
<a class="section-number selfRef" href="#section-4.7">4.7. </a><a class="section-name selfRef" href="#name-dlif-link-local-address-opt">DLIF Link-Local Address Option</a>
        </h3>
<p id="section-4.7-1">
A new DLIF Link-Local Address option is defined for use with the PBA message exchanged between MAARs and between a MAAR and a CMD.
This option is used for exchanging the link-local address of the DLIF to be
configured on the S-MAAR so it resembles the DLIF configured on the
P-MAAR.<a class="pilcrow" href="#section-4.7-1">¶</a></p>
<p id="section-4.7-2">
The DLIF Link-Local Address option has an alignment requirement of 8n+6. Its
format is as follows:<a class="pilcrow" href="#section-4.7-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.7-3">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |   Type        |    Length     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                  DLIF Link-Local Address                      +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.7-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.7-4">
          <dt id="section-4.7-4.1">
Type
          </dt>
          <dd id="section-4.7-4.2" style="margin-left: 1.5em">
69<a class="pilcrow" href="#section-4.7-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.7-4.3">
Length

          </dt>
          <dd id="section-4.7-4.4" style="margin-left: 1.5em">
8-bit unsigned integer indicating the length of the option in octets, excluding
the type and length fields. This field <span class="bcp14">MUST</span> be set to 16.<a class="pilcrow" href="#section-4.7-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.7-4.5">
DLIF Link-Local Address

          </dt>
          <dd id="section-4.7-4.6" style="margin-left: 1.5em">
A 16-octet field containing the link-local address of the logical interface.<a class="pilcrow" href="#section-4.7-4.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec_dlif_link_layer_format">
<section id="section-4.8">
        <h3 id="name-dlif-link-layer-address-opt">
<a class="section-number selfRef" href="#section-4.8">4.8. </a><a class="section-name selfRef" href="#name-dlif-link-layer-address-opt">DLIF Link-Layer Address Option</a>
        </h3>
<p id="section-4.8-1">
A new DLIF Link-Layer Address option is defined for use with the PBA message exchanged between MAARs and between a MAAR and a CMD. This
option is used for exchanging the link-layer address of the DLIF to be
configured on the S-MAAR so it resembles the DLIF configured on the
P-MAAR.<a class="pilcrow" href="#section-4.8-1">¶</a></p>
<p id="section-4.8-2">
The format of the DLIF Link-Layer Address option is shown below. Based on the
size of the address, the option <span class="bcp14">MUST</span> be aligned appropriately,
as per the mobility
option alignment requirements specified in <span>[<a class="xref" href="#RFC6275">RFC6275</a>]</span>.<a class="pilcrow" href="#section-4.8-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.8-3">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |    Length     |          Reserved             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                    DLIF Link-Layer Address                    +
.                              ...                              .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.8-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.8-4">
          <dt id="section-4.8-4.1">
Type
          </dt>
          <dd id="section-4.8-4.2" style="margin-left: 1.5em">
70<a class="pilcrow" href="#section-4.8-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.8-4.3">
Length

          </dt>
          <dd id="section-4.8-4.4" style="margin-left: 1.5em">
8-bit unsigned integer indicating the length of the option in octets, excluding
the type and length fields.<a class="pilcrow" href="#section-4.8-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.8-4.5">
Reserved

          </dt>
          <dd id="section-4.8-4.6" style="margin-left: 1.5em">
This field is unused at the time of publication. The value <span class="bcp14">MUST</span> be initialized to 0 by the sender
and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.8-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.8-4.7">
DLIF Link-Layer Address
          </dt>
          <dd id="section-4.8-4.8" style="margin-left: 1.5em">
            <p id="section-4.8-4.8.1">
A variable length field containing the link-layer address of the logical
interface to be configured on the S-MAAR.<a class="pilcrow" href="#section-4.8-4.8.1">¶</a></p>
<p id="section-4.8-4.8.2">
The content and format of this field (including octet and bit ordering) is as
specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4861#section-4.6">Section 4.6</a> of [<a class="xref" href="#RFC4861">RFC4861</a>]</span> for carrying link-layer
addresses. On certain access links where the link-layer address is not used or
cannot be determined, this option cannot be used.<a class="pilcrow" href="#section-4.8-4.8.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">
This document defines six new mobility options: Anchored Prefix, Local Prefix,
Previous MAAR, Serving MAAR, DLIF
Link-Local Address, and DLIF Link-Layer Address. IANA has assigned Type values
for these options from the same numbering space as
allocated for the other mobility options in the "Mobility Options" registry
defined in <span><a href="http://www.iana.org/assignments/mobility-parameters">http://www.iana.org/assignments/mobility-parameters</a></span>.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">
This document reserves a new flag (D) with a value of 0x0010 in the "Binding Update Flags"
registry and a new
flag (D) with a value of 0x02 in the "Binding Acknowledgment Flags" of the "Mobile IPv6 parameters"
registry (<span><a href="http://www.iana.org/assignments/mobility-parameters">http://www.iana.org/assignments/mobility-parameters</a></span>).<a class="pilcrow" href="#section-5-2">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">
The protocol extensions defined in this document share the same security
concerns of PMIPv6 <span>[<a class="xref" href="#RFC5213">RFC5213</a>]</span>. It is recommended that
the signaling messages, PBU and PBA,
exchanged between the MAARs be protected using IPsec, specifically by using the established
security association between them. This essentially eliminates the threats
related to the impersonation of a MAAR.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">
When the CMD acts as a PBU/PBA relay, the CMD may act as a relay of a single PBU
to multiple P-MAARs. In situations with many fast handovers (e.g., with
vehicular networks), multiple previous (e.g., k) MAARs may exist. In this
situation, the CMD creates k outgoing packets from a single incoming packet.
This bears a certain amplification risk. The CMD <span class="bcp14">MUST</span> use a pacing approach in
the outgoing queue to cap the output traffic (i.e., the rate of PBUs sent) to
limit this amplification risk.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">
When the CMD acts as a MAAR locator, mobility signaling (PBAs) is exchanged
between P-MAARs and the current S-MAAR. Hence, security associations are <span class="bcp14">REQUIRED</span> to
exist between the involved MAARs (in addition to the ones needed with the CMD).<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">
Since de-registration is performed by timeout, measures <span class="bcp14">SHOULD</span> be implemented to
minimize the risks associated with continued resource consumption (DoS attacks),
e.g., imposing a limit on the number of P-MAARs associated with a given MN.<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">
The CMD and the participating MAARs <span class="bcp14">MUST</span> be trusted parties authorized perform
all operations relevant to their role.<a class="pilcrow" href="#section-6-5">¶</a></p>
<p id="section-6-6">
There are some privacy considerations to consider. While the involved parties
trust each other, the signaling involves disclosing information about the
previous locations visited by each MN, as well as the active prefixes they are
using at a given point of time. Therefore, mechanisms <span class="bcp14">MUST</span> be in place to ensure
that MAARs and CMDs do not disclose this information to other parties or use it
for other ends than providing the distributed mobility support specified in this
document.<a class="pilcrow" href="#section-6-6">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4191">[RFC4191]</dt>
        <dd>
<span class="refAuthor">Draves, R.</span><span class="refAuthor"> and D. Thaler</span>, <span class="refTitle">"Default Router Preferences and More-Specific Routes"</span>, <span class="seriesInfo">RFC 4191</span>, <span class="seriesInfo">DOI 10.17487/RFC4191</span>, <time class="refDate" datetime="2005-11">November 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4191">https://www.rfc-editor.org/info/rfc4191</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span><span class="refAuthor">, Nordmark, E.</span><span class="refAuthor">, Simpson, W.</span><span class="refAuthor">, and H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 4861</span>, <span class="seriesInfo">DOI 10.17487/RFC4861</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4861">https://www.rfc-editor.org/info/rfc4861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5213">[RFC5213]</dt>
        <dd>
<span class="refAuthor">Gundavelli, S., Ed.</span><span class="refAuthor">, Leung, K.</span><span class="refAuthor">, Devarapalli, V.</span><span class="refAuthor">, Chowdhury, K.</span><span class="refAuthor">, and B. Patil</span>, <span class="refTitle">"Proxy Mobile IPv6"</span>, <span class="seriesInfo">RFC 5213</span>, <span class="seriesInfo">DOI 10.17487/RFC5213</span>, <time class="refDate" datetime="2008-08">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5213">https://www.rfc-editor.org/info/rfc5213</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6275">[RFC6275]</dt>
        <dd>
<span class="refAuthor">Perkins, C., Ed.</span><span class="refAuthor">, Johnson, D.</span><span class="refAuthor">, and J. Arkko</span>, <span class="refTitle">"Mobility Support in IPv6"</span>, <span class="seriesInfo">RFC 6275</span>, <span class="seriesInfo">DOI 10.17487/RFC6275</span>, <time class="refDate" datetime="2011-07">July 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6275">https://www.rfc-editor.org/info/rfc6275</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7333">[RFC7333]</dt>
        <dd>
<span class="refAuthor">Chan, H., Ed.</span><span class="refAuthor">, Liu, D.</span><span class="refAuthor">, Seite, P.</span><span class="refAuthor">, Yokota, H.</span><span class="refAuthor">, and J. Korhonen</span>, <span class="refTitle">"Requirements for Distributed Mobility Management"</span>, <span class="seriesInfo">RFC 7333</span>, <span class="seriesInfo">DOI 10.17487/RFC7333</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7333">https://www.rfc-editor.org/info/rfc7333</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.bernardos-dmm-distributed-anchoring">[DISTRIBUTED-ANCHORING]</dt>
        <dd>
<span class="refAuthor">Bernardos, C.</span><span class="refAuthor"> and J. Zuniga</span>, <span class="refTitle">"PMIPv6-based distributed anchoring"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bernardos-dmm-distributed-anchoring-09</span>, <time class="refDate" datetime="2017-05-29">29 May 2017</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-bernardos-dmm-distributed-anchoring-09">https://tools.ietf.org/html/draft-bernardos-dmm-distributed-anchoring-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bernardos-dmm-pmip">[DMM-PMIP]</dt>
        <dd>
<span class="refAuthor">Bernardos, C.</span><span class="refAuthor">, Oliva, A.</span><span class="refAuthor">, and F. Giust</span>, <span class="refTitle">"A PMIPv6-based solution for Distributed Mobility Management"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bernardos-dmm-pmip-09</span>, <time class="refDate" datetime="2017-09-08">8 September 2017</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-bernardos-dmm-pmip-09">https://tools.ietf.org/html/draft-bernardos-dmm-pmip-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6724">[RFC6724]</dt>
        <dd>
<span class="refAuthor">Thaler, D., Ed.</span><span class="refAuthor">, Draves, R.</span><span class="refAuthor">, Matsumoto, A.</span><span class="refAuthor">, and T. Chown</span>, <span class="refTitle">"Default Address Selection for Internet Protocol Version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 6724</span>, <span class="seriesInfo">DOI 10.17487/RFC6724</span>, <time class="refDate" datetime="2012-09">September 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6724">https://www.rfc-editor.org/info/rfc6724</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7429">[RFC7429]</dt>
        <dd>
<span class="refAuthor">Liu, D., Ed.</span><span class="refAuthor">, Zuniga, JC., Ed.</span><span class="refAuthor">, Seite, P.</span><span class="refAuthor">, Chan, H.</span><span class="refAuthor">, and CJ. Bernardos</span>, <span class="refTitle">"Distributed Mobility Management: Current Practices and Gap Analysis"</span>, <span class="seriesInfo">RFC 7429</span>, <span class="seriesInfo">DOI 10.17487/RFC7429</span>, <time class="refDate" datetime="2015-01">January 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7429">https://www.rfc-editor.org/info/rfc7429</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8563">[RFC8563]</dt>
      <dd>
<span class="refAuthor">Katz, D.</span><span class="refAuthor">, Ward, D.</span><span class="refAuthor">, Pallagatti, S., Ed.</span><span class="refAuthor">, and G. Mirsky, Ed.</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) Multipoint Active Tails"</span>, <span class="seriesInfo">RFC 8563</span>, <span class="seriesInfo">DOI 10.17487/RFC8563</span>, <time class="refDate" datetime="2019-04">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8563">https://www.rfc-editor.org/info/rfc8563</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgments">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">
The authors would like to thank <span class="contact-name">Dirk von Hugo</span>, <span class="contact-name">John Kaippallimalil</span>, <span class="contact-name">Ines Robles</span>,
<span class="contact-name">Joerg Ott</span>, <span class="contact-name">Carlos Pignataro</span>, <span class="contact-name">Vincent Roca</span>, <span class="contact-name">Mirja Kühlewind</span>, <span class="contact-name">Éric Vyncke</span>, <span class="contact-name">Adam Roach</span>, <span class="contact-name">Benjamin Kaduk</span>, and <span class="contact-name">Roman Danyliw</span> for the comments on this
document. The authors would also like to thank <span class="contact-name">Marco Liebsch</span>, <span class="contact-name">Dirk von Hugo</span>,
<span class="contact-name">Alex Petrescu</span>, <span class="contact-name">Daniel Corujo</span>, <span class="contact-name">Akbar Rahman</span>, <span class="contact-name">Danny Moses</span>, <span class="contact-name">Xinpeng Wei</span>, and <span class="contact-name">Satoru Matsushima</span> for their comments and discussion on the documents <span>[<a class="xref" href="#I-D.bernardos-dmm-distributed-anchoring">DISTRIBUTED-ANCHORING</a>]</span> and <span>[<a class="xref" href="#I-D.bernardos-dmm-pmip">DMM-PMIP</a>]</span>, on which the present document is based.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<p id="section-appendix.a-2">
The authors would also like to thank <span class="contact-name">Lyle Bertz</span> and <span class="contact-name">Danny Moses</span> for their
in-depth review of this document and their very valuable comments and
suggestions.<a class="pilcrow" href="#section-appendix.a-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carlos J. Bernardos</span></div>
<div class="left" dir="auto"><span class="org">Universidad Carlos III de Madrid</span></div>
<div class="left" dir="auto"><span class="street-address">Av. Universidad, 30</span></div>
<div class="left" dir="auto">
<span class="postal-code">28911</span> <span class="locality">Leganes</span> <span class="region">Madrid</span>
</div>
<div class="left" dir="auto"><span class="country-name">Spain</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+34%2091624%206236">+34 91624 6236</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cjbc@it.uc3m.es">cjbc@it.uc3m.es</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://www.it.uc3m.es/cjbc/">http://www.it.uc3m.es/cjbc/</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Antonio de la Oliva</span></div>
<div class="left" dir="auto"><span class="org">Universidad Carlos III de Madrid</span></div>
<div class="left" dir="auto"><span class="street-address">Av. Universidad, 30</span></div>
<div class="left" dir="auto">
<span class="postal-code">28911</span> <span class="locality">Leganes</span> <span class="region">Madrid</span>
</div>
<div class="left" dir="auto"><span class="country-name">Spain</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+34%2091624%208803">+34 91624 8803</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:aoliva@it.uc3m.es">aoliva@it.uc3m.es</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://www.it.uc3m.es/aoliva/">http://www.it.uc3m.es/aoliva/</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Fabio Giust</span></div>
<div class="left" dir="auto"><span class="org">Athonet S.r.l.</span></div>
<div class="left" dir="auto"><span class="street-address">via Ca' del Luogo 6/8</span></div>
<div class="left" dir="auto">
<span class="postal-code">36050</span> <span class="locality">Bolzano Vicentino (VI)</span> </div>
<div class="left" dir="auto"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:fabio.giust.research@gmail.com">fabio.giust.research@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Juan Carlos Zúñiga</span></div>
<div class="left" dir="auto"><span class="org">SIGFOX</span></div>
<div class="left" dir="auto"><span class="street-address">425 rue Jean Rostand</span></div>
<div class="left" dir="auto">
<span class="postal-code">31670</span> <span class="locality">Labege</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:j.c.zuniga@ieee.org">j.c.zuniga@ieee.org</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://www.sigfox.com/">http://www.sigfox.com/</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Alain Mourad</span></div>
<div class="left" dir="auto"><span class="org">InterDigital Europe</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Alain.Mourad@InterDigital.com">Alain.Mourad@InterDigital.com</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://www.InterDigital.com/">http://www.InterDigital.com/</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>