<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9516: Active Operations, Administration, and Maintenance (OAM) for Service Function Chaining (SFC)</title>
<meta content="Greg Mirsky" name="author"/>
<meta content="Wei Meng" name="author"/>
<meta content="Ting Ao" name="author"/>
<meta content="Bhumip Khasnabish" name="author"/>
<meta content="Kent Leung" name="author"/>
<meta content="Gyan Mishra" name="author"/>
<meta content="
        
A set of requirements for active Operations, Administration,
and Maintenance (OAM) for Service Function Chaining (SFC) in a network is presented in this document.  
Based on these requirements, an encapsulation of active OAM messages in SFC and
a mechanism to detect and localize defects are described.
 
    " name="description"/>
<meta content="xml2rfc 3.18.2" name="generator"/>
<meta content="NSH" name="keyword"/>
<meta content="Fault Management" name="keyword"/>
<meta content="9516" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.18.2
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9516.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-sfc-multi-layer-oam-28" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9516" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9516</td>
<td class="center">Active OAM for SFC</td>
<td class="right">November 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Mirsky, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9516">9516</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-11">November 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. Mirsky</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">W. Meng</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">T. Ao</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">B. Khasnabish</div>
<div class="org">Individual Contributor</div>
</div>
<div class="author">
      <div class="author-name">K. Leung</div>
<div class="org">Individual Contributor</div>
</div>
<div class="author">
      <div class="author-name">G. Mishra</div>
<div class="org">Verizon Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9516</h1>
<h1 id="title">Active Operations, Administration, and Maintenance (OAM) for Service Function Chaining (SFC)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1"> 
A set of requirements for active Operations, Administration,
and Maintenance (OAM) for Service Function Chaining (SFC) in a network is presented in this document.  
Based on these requirements, an encapsulation of active OAM messages in SFC and
a mechanism to detect and localize defects are described.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9516">https://www.rfc-editor.org/info/rfc9516</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-terminology-and-conventions">Terminology and Conventions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p class="keepWithNext" id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-acronyms">Acronyms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-requirements-for-active-oam">Requirements for Active OAM in SFC</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-active-oam-identification-i">Active OAM Identification in the NSH</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-sfc-active-oam-header">SFC Active OAM Header</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-echo-request-reply-for-sfc">Echo Request/Reply for SFC</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-return-codes">Return Codes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-authentication-in-echo-requ">Authentication in Echo Request/Reply</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-sfc-echo-request-transmissi">SFC Echo Request Transmission</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a class="auto internal xref" href="#section-6.3.1">6.3.1</a>.  <a class="internal xref" href="#name-source-id-tlv">Source ID TLV</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="auto internal xref" href="#section-6.4">6.4</a>.  <a class="internal xref" href="#name-processing-a-received-sfc-e">Processing a Received SFC Echo Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a class="auto internal xref" href="#section-6.4.1">6.4.1</a>.  <a class="internal xref" href="#name-errored-tlvs-tlv">Errored TLVs TLV</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="auto internal xref" href="#section-6.5">6.5</a>.  <a class="internal xref" href="#name-sfc-echo-reply-transmission">SFC Echo Reply Transmission</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.1">
                    <p id="section-toc.1-1.6.2.5.2.1.1"><a class="auto internal xref" href="#section-6.5.1">6.5.1</a>.  <a class="internal xref" href="#name-reply-service-function-path">Reply Service Function Path TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.2">
                    <p id="section-toc.1-1.6.2.5.2.2.1"><a class="auto internal xref" href="#section-6.5.2">6.5.2</a>.  <a class="internal xref" href="#name-theory-of-operation">Theory of Operation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.3">
                    <p id="section-toc.1-1.6.2.5.2.3.1"><a class="auto internal xref" href="#section-6.5.3">6.5.3</a>.  <a class="internal xref" href="#name-sfc-echo-reply-reception">SFC Echo Reply Reception</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.4">
                    <p id="section-toc.1-1.6.2.5.2.4.1"><a class="auto internal xref" href="#section-6.5.4">6.5.4</a>.  <a class="internal xref" href="#name-tracing-an-sfp">Tracing an SFP</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="auto internal xref" href="#section-6.6">6.6</a>.  <a class="internal xref" href="#name-the-use-of-the-consistency-">The Use of the Consistency Verification Request Message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6.2.1">
                    <p id="section-toc.1-1.6.2.6.2.1.1"><a class="auto internal xref" href="#section-6.6.1">6.6.1</a>.  <a class="internal xref" href="#name-sff-information-record-tlv">SFF Information Record TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6.2.2">
                    <p id="section-toc.1-1.6.2.6.2.2.1"><a class="auto internal xref" href="#section-6.6.2">6.6.2</a>.  <a class="internal xref" href="#name-sf-information-sub-tlv">SF Information Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6.2.3">
                    <p id="section-toc.1-1.6.2.6.2.3.1"><a class="auto internal xref" href="#section-6.6.3">6.6.3</a>.  <a class="internal xref" href="#name-sf-information-sub-tlv-cons">SF Information Sub-TLV Construction</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-operational-considerations">Operational Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="auto internal xref" href="#section-9.1">9.1</a>.  <a class="internal xref" href="#name-sfc-active-oam-protocol">SFC Active OAM Protocol</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="auto internal xref" href="#section-9.2">9.2</a>.  <a class="internal xref" href="#name-sfc-active-oam">SFC Active OAM</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.1">
                    <p id="section-toc.1-1.9.2.2.2.1.1"><a class="auto internal xref" href="#section-9.2.1">9.2.1</a>.  <a class="internal xref" href="#name-sfc-active-oam-message-type">SFC Active OAM Message Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.2">
                    <p id="section-toc.1-1.9.2.2.2.2.1"><a class="auto internal xref" href="#section-9.2.2">9.2.2</a>.  <a class="internal xref" href="#name-sfc-echo-request-flags">SFC Echo Request Flags</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.3">
                    <p id="section-toc.1-1.9.2.2.2.3.1"><a class="auto internal xref" href="#section-9.2.3">9.2.3</a>.  <a class="internal xref" href="#name-sfc-echo-types">SFC Echo Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.4">
                    <p id="section-toc.1-1.9.2.2.2.4.1"><a class="auto internal xref" href="#section-9.2.4">9.2.4</a>.  <a class="internal xref" href="#name-sfc-echo-reply-modes">SFC Echo Reply Modes</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.5">
                    <p id="section-toc.1-1.9.2.2.2.5.1"><a class="auto internal xref" href="#section-9.2.5">9.2.5</a>.  <a class="internal xref" href="#name-sfc-echo-return-codes">SFC Echo Return Codes</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.6">
                    <p id="section-toc.1-1.9.2.2.2.6.1"><a class="auto internal xref" href="#section-9.2.6">9.2.6</a>.  <a class="internal xref" href="#name-sfc-active-oam-tlv-types">SFC Active OAM TLV Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.7">
                    <p id="section-toc.1-1.9.2.2.2.7.1"><a class="auto internal xref" href="#section-9.2.7">9.2.7</a>.  <a class="internal xref" href="#name-sf-identifier-types">SF Identifier Types</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#section-10.1">10.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#section-10.2">10.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
     <span>[<a class="cite xref" href="#RFC7665">RFC7665</a>]</span> defines data plane elements necessary to implement 
     Service Function Chaining (SFC). These include the following:<a class="pilcrow" href="#section-1-1">¶</a></p>
<ol class="normal type-1" id="section-1-2" start="1" type="1">
      <li id="section-1-2.1">
     Classifiers that perform the classification of incoming packets. Such classification may result in associating a received packet to a service function chain.<a class="pilcrow" href="#section-1-2.1">¶</a>
</li>
        <li id="section-1-2.2">
     Service Function Forwarders (SFFs) 
     that are responsible for forwarding traffic to one or more connected Service Functions (SFs) according to 
     the information carried in the SFC encapsulation and handling traffic coming back from 
     the SFs and forwarding it to the next SFF.<a class="pilcrow" href="#section-1-2.2">¶</a>
</li>
        <li id="section-1-2.3">
     SFs that are responsible for executing specific service treatment 
     on received packets.<a class="pilcrow" href="#section-1-2.3">¶</a>
</li>
      </ol>
<p id="section-1-3">
     There are different views from different levels of SFC.
     One is the service function chain, an entirely abstract view, which defines an ordered set of SFs that must 
     be applied to packets selected based on classification rules.
     But the service function chain doesn't specify the exact mapping between SFFs and SFs. Thus, another  
     logical construct used in SFC  is a Service Function Path (SFP).
     According to <span>[<a class="cite xref" href="#RFC7665">RFC7665</a>]</span>, an SFP is
     the instantiation of SFC in the network and provides a level of indirection 
     between the entirely abstract SFCs and a fully specified, ordered 
     list of SFF and SF identities that the packet will visit when
     it traverses SFC. The latter entity is referred to as Rendered Service Path (RSP).
     The main difference between an SFP and RSP is that the former is the logical construct,
    while the latter is the realization of the SFP via the sequence of specific SFC data plane elements.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
    This document defines how active Operations, Administration,
    and Maintenance (OAM), per the definition of active OAM in <span>[<a class="cite xref" href="#RFC7799">RFC7799</a>]</span>, is
    implemented when the Network Service Header (NSH) <span>[<a class="cite xref" href="#RFC8300">RFC8300</a>]</span> is used as the SFC encapsulation.
  Following the analysis of SFC OAM in <span>[<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>, this document applies and, when necessary,
  extends requirements listed in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8924#section-4">Section 4</a> of [<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>
  for the use of active OAM in an SFP supporting fault management and performance monitoring.
  Active OAM tools that are conformant to this specification
  improve OAM's ability for Fault Management (FM) by, for example, using the query mechanism
  to troubleshoot and localize defects, which conforms to the stateless character
  of transactions in SFC NSH <span>[<a class="cite xref" href="#RFC8300">RFC8300</a>]</span>.
  Note that Performance Monitoring OAM, as required by <span>[<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>,
   is not satisfied by this document and is out of scope.
   For the purpose of FM OAM in SFC, the SFC Echo Request and Echo Reply are specified in <a class="auto internal xref" href="#sfc-echo-request-reply">Section 6</a>. These mechanisms enable on-demand continuity check and connectivity verification, among other operations, over SFC in networks
  and address functionalities discussed in Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc8924#section-4.1">4.1</a>, <a class="relref" href="https://rfc-editor.org/rfc/rfc8924#section-4.2">4.2</a>, and <a class="relref" href="https://rfc-editor.org/rfc/rfc8924#section-4.3">4.3</a> of <span>[<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>.
The SFC Echo Request and Echo Reply can be used with encapsulations other than the NSH, for example,
using MPLS encapsulation, as described in <span>[<a class="cite xref" href="#RFC8595">RFC8595</a>]</span>. The applicability of the SFC Echo Request/Reply mechanism
in SFC encapsulations other than the NSH is outside the scope of this document.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">
   The intended scope of SFC active OAM is for use within a single provider's
   operational domain.  The SFC active OAM deployment scope is deliberately constrained,
   as explained in <span>[<a class="cite xref" href="#RFC7665">RFC7665</a>]</span> and <span>[<a class="cite xref" href="#RFC8300">RFC8300</a>]</span>, and limited to a single
   network administrative domain.<a class="pilcrow" href="#section-1-5">¶</a></p>
</section>
<div id="sec_terminology">
<section id="section-2">
      <h2 id="name-terminology-and-conventions">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology-and-conventions">Terminology and Conventions</a>
      </h2>
<p id="section-2-1">
   The terminology defined in <span>[<a class="cite xref" href="#RFC7665">RFC7665</a>]</span> is used extensively throughout this document,
   and the reader is expected to be familiar with it.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">
      In this document, SFC OAM refers to an active OAM <span>[<a class="cite xref" href="#RFC7799">RFC7799</a>]</span> in an SFC architecture.
      Additionally, "Echo Request/Reply" and "SFC Echo Request/Reply" are used interchangeably.<a class="pilcrow" href="#section-2-2">¶</a></p>
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-2.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
    to be interpreted as described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span>
          <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals,
    as shown here.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-acronyms">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-acronyms">Acronyms</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-2.2-1">
          <dt id="section-2.2-1.1">E2E:</dt>
          <dd id="section-2.2-1.2" style="margin-left: 1.5em">End-to-End<a class="pilcrow" href="#section-2.2-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.3">FM:</dt>
          <dd id="section-2.2-1.4" style="margin-left: 1.5em">Fault Management<a class="pilcrow" href="#section-2.2-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.5">MAC:</dt>
          <dd id="section-2.2-1.6" style="margin-left: 1.5em">Message Authentication Code<a class="pilcrow" href="#section-2.2-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.7">NSH:</dt>
          <dd id="section-2.2-1.8" style="margin-left: 1.5em">Network Service Header<a class="pilcrow" href="#section-2.2-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.9">OAM:</dt>
          <dd id="section-2.2-1.10" style="margin-left: 1.5em">Operations, Administration, and Maintenance<a class="pilcrow" href="#section-2.2-1.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.11">RSP:</dt>
          <dd id="section-2.2-1.12" style="margin-left: 1.5em">Rendered Service Path<a class="pilcrow" href="#section-2.2-1.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.13">SF:</dt>
          <dd id="section-2.2-1.14" style="margin-left: 1.5em">Service Function<a class="pilcrow" href="#section-2.2-1.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.15">SFC:</dt>
          <dd id="section-2.2-1.16" style="margin-left: 1.5em">Service Function Chaining<a class="pilcrow" href="#section-2.2-1.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.17">SFF:</dt>
          <dd id="section-2.2-1.18" style="margin-left: 1.5em">Service Function Forwarder<a class="pilcrow" href="#section-2.2-1.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.19">SFI:</dt>
          <dd id="section-2.2-1.20" style="margin-left: 1.5em">Service Function Instance<a class="pilcrow" href="#section-2.2-1.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.21">SFP:</dt>
          <dd id="section-2.2-1.22" style="margin-left: 1.5em">Service Function Path<a class="pilcrow" href="#section-2.2-1.22">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
</div>
<div id="oam-req-sec">
<section id="section-3">
      <h2 id="name-requirements-for-active-oam">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-requirements-for-active-oam">Requirements for Active OAM in SFC</a>
      </h2>
<p id="section-3-1">
     As discussed in <span>[<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>, SFC-specific means are needed
     to perform the FM OAM task in an SFC architecture, including failure detection, defect
     characterization, and localization. This document defines the set of requirements
     for active FM OAM mechanisms to be used in an SFC architecture.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span id="name-an-example-of-sfc-data-plan"></span><div id="fig1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-2.1">
<pre>              +-----+ +-----+ +-----+ +-----+ +-----+ +-----+
              |SFI11| |SFI12| |SFI21| |SFI22| |SFI31| |SFI32|
              +-----+ +-----+ +-----+ +-----+ +-----+ +-----+
                  \    /          \   /           \    /
   +----------+   +----+         +----+          +----+
   |Classifier|---|SFF1|---------|SFF2|----------|SFF3|
   +----------+   +----+         +----+          +----+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-an-example-of-sfc-data-plan">An Example of SFC Data Plane Architecture</a>
        </figcaption></figure>
</div>
<p id="section-3-3">
    The architecture example depicted in <a class="auto internal xref" href="#fig1">Figure 1</a>
    considers a service function chain that includes three distinct service functions.
     In this example, the SFP traverses SFF1, SFF2, and SFF3. Each SFF is connected to two
     Service Function Instances (SFIs) of the same SF.
     End-to-End (E2E) SFC OAM has the Classifier as the ingress
     and SFF3 as its egress. The scope of Segment SFC OAM is between two elements that are part of the same SFP.
     The following are the requirements for an FM SFC OAM, whether with the E2E or segment scope:<a class="pilcrow" href="#section-3-3">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-4">
<dt>REQ1:</dt>
<dd id="section-3-4.1">Packets of SFC active OAM <span class="bcp14">SHOULD</span> be fate sharing with the monitored SFC data
            in the forward direction from ingress toward egress endpoint(s) of the OAM test.<a class="pilcrow" href="#section-3-4.1">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-5">
     The fate sharing, in the SFC environment, is achieved when a test packet traverses the same path
     and receives the same treatment in the underlay network layer as an SFC-encapsulated packet.<a class="pilcrow" href="#section-3-5">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-6">
<dt>REQ2:</dt>
<dd id="section-3-6.1">     SFC OAM <span class="bcp14">MUST</span> support monitoring of the continuity of the SFP between any of its elements.<a class="pilcrow" href="#section-3-6.1">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-7">
 An SFC failure might be declared when several consecutive test packets are not received within a predetermined time.
     For example, in the E2E FM SFC OAM case, i.e., the egress, SFF3 (<a class="auto internal xref" href="#fig1">Figure 1</a>)
     could be the entity that detects the SFP's failure by monitoring a flow
     of  periodic test packets. The ingress may be capable of recovering
     from the failure, e.g., using redundant SFC elements. Thus, it is beneficial for the egress
     to signal the new defect state to the ingress, which in this example, is the Classifier,
     hence, the following requirement:<a class="pilcrow" href="#section-3-7">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-8">
<dt>REQ3:</dt>
<dd id="section-3-8.1">     SFC OAM <span class="bcp14">MUST</span> support Remote Defect Indication notification by the egress to the ingress.<a class="pilcrow" href="#section-3-8.1">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ4:</dt>
<dd id="section-3-8.2">     SFC OAM <span class="bcp14">MUST</span> support connectivity verification of the SFP.
     The definitions of the misconnection defect, entry, and exit criteria are outside the scope of this document.<a class="pilcrow" href="#section-3-8.2">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-9">
     Once an SFF detects the defect, the objective of the SFC OAM changes from the detection of a defect
     to defect characterization and localization.<a class="pilcrow" href="#section-3-9">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-10">
        <dt>REQ5:</dt>
<dd id="section-3-10.1">
     SFC OAM <span class="bcp14">MUST</span> support fault localization of the loss of continuity check within an SFP.<a class="pilcrow" href="#section-3-10.1">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ6:</dt>
<dd id="section-3-10.2">
     SFC OAM <span class="bcp14">MUST</span> support an SFP tracing to discover the RSP.<a class="pilcrow" href="#section-3-10.2">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-11">
     In the example presented in <a class="auto internal xref" href="#fig1">Figure 1</a>, two distinct instances of the same SF share the same SFF.  
     In this example, the SFP can be realized over several RSPs that use different instances of the SF of the same type,
     for instance, RSP1(SFI11--SFI21--SFI31) and RSP2(SFI12--SFI22--SFI32).
     Available RSPs can be discovered using the trace function discussed in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8924#section-4.3">Section 4.3</a> of [<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>
     or the procedure defined in <a class="auto internal xref" href="#tracing-sfp">Section 6.5.4</a>.<a class="pilcrow" href="#section-3-11">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-12">
        <dt>REQ7:</dt>
<dd id="section-3-12.1">
     SFC OAM <span class="bcp14">MUST</span> have the ability to discover and exercise all available RSPs in the network.<a class="pilcrow" href="#section-3-12.1">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-13">
     The SFC OAM layer model described in <span>[<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>
     offers an approach for defect localization within a service function chain.
     As the first step, the SFP's continuity for SFFs that are part of the same SFP could be verified.
     After the reachability of SFFs has already been verified, SFFs that serve an SF may be used as a test packet source.
     In such a case, an SFF can act as a proxy for another element within the service function chain.<a class="pilcrow" href="#section-3-13">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-14">
        <dt>REQ8:</dt>
<dd id="section-3-14.1">
     SFC OAM <span class="bcp14">MUST</span> be able to trigger on-demand FM remotely with
            responses being directed toward the initiator of the remote request.<a class="pilcrow" href="#section-3-14.1">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-15">The conformance of the SFC Echo Request/Reply mechanism to these requirements is  reflected below:<a class="pilcrow" href="#section-3-15">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3-16">
      <dt>REQ1:</dt>
<dd id="section-3-16.1">Fate sharing via the SFC Echo Request/Reply defined in <a class="auto internal xref" href="#sfc-echo-request-reply">Section 6</a>.<a class="pilcrow" href="#section-3-16.1">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ2:</dt>
<dd id="section-3-16.2">Continuity monitoring via the SFP tracing defined in <a class="auto internal xref" href="#tracing-sfp">Section 6.5.4</a>.<a class="pilcrow" href="#section-3-16.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ3:</dt>
<dd id="section-3-16.3">Remote defect detection via the SFC Echo Request/Reply defined in <a class="auto internal xref" href="#sfc-echo-request-reply">Section 6</a>.<a class="pilcrow" href="#section-3-16.3">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ4:</dt>
<dd id="section-3-16.4">Connectivity verification via the SFP tracing defined in <a class="auto internal xref" href="#tracing-sfp">Section 6.5.4</a>.<a class="pilcrow" href="#section-3-16.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ5:</dt>
<dd id="section-3-16.5">Fault localization via verification of the SFP consistency defined in <a class="auto internal xref" href="#sf-consist-seq">Section 6.6</a>.<a class="pilcrow" href="#section-3-16.5">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ6:</dt>
<dd id="section-3-16.6">SFP tracing as described in <a class="auto internal xref" href="#tracing-sfp">Section 6.5.4</a> and verification of SFP consistency as defined in <a class="auto internal xref" href="#sf-consist-seq">Section 6.6</a>.<a class="pilcrow" href="#section-3-16.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ7:</dt>
<dd id="section-3-16.7">Discover and exercise available RSPs via trace defined in <a class="auto internal xref" href="#tracing-sfp">Section 6.5.4</a>.<a class="pilcrow" href="#section-3-16.7">¶</a>
</dd>
        <dd class="break"></dd>
<dt>REQ8:</dt>
<dd id="section-3-16.8">Can be addressed by adding the proxying capability to the SFC Echo Request/Reply described in this document.
      <span>[<a class="cite xref" href="#RFC7555">RFC7555</a>]</span> describes an example of a proxy function for an Echo Request.
      Specification of a proxy function for SFC Echo Request is outside the scope of this document.<a class="pilcrow" href="#section-3-16.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sfc-active-oam-def">
<section id="section-4">
      <h2 id="name-active-oam-identification-i">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-active-oam-identification-i">Active OAM Identification in the NSH</a>
      </h2>
<p id="section-4-1">
      SFC active OAM combines OAM commands and/or data included in a message that immediately follows the NSH.
      To identify the SFC active OAM message, the Next Protocol field <span class="bcp14">MUST</span> be set to SFC Active OAM (0x07) 
      (<a class="auto internal xref" href="#iana-sfc-oam-protocol">Section 9.1</a>). The O bit in the NSH <span class="bcp14">MUST</span> be set, according to <span>[<a class="cite xref" href="#RFC9451">RFC9451</a>]</span>.
       A case when the O bit is clear and the Next Protocol field value is set to SFC Active OAM (0x07) is considered an erroneous combination.
       An implementation <span class="bcp14">MUST</span> report it. Although the notification mechanism is outside the scope of this specification, note that it <span class="bcp14">MUST</span> include rate-limiting control.
            The packet <span class="bcp14">SHOULD</span> be dropped. An implementation <span class="bcp14">MAY</span> have control to enable the processing of the OAM payload.<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="sfc-sfc-active-oam-hdr">
<section id="section-5">
      <h2 id="name-sfc-active-oam-header">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-sfc-active-oam-header">SFC Active OAM Header</a>
      </h2>
<p id="section-5-1">
      SFC OAM is required to perform multiple tasks. Several active OAM protocols could be used to address all the requirements.
     When IP/UDP encapsulation of an SFC OAM control message is used,
     protocols can be demultiplexed using the destination UDP port number. But an extra IP/UDP header, especially
      in an IPv6 network, adds overhead compared to the length of an Active OAM Control Packet
      (e.g., BFD Control packet <span>[<a class="cite xref" href="#RFC5880">RFC5880</a>]</span>). In some environments, for example, when measuring performance metrics,
      it is beneficial to transmit OAM packets in a broad range of lengths to emulate application traffic closer.
      This document defines an Active OAM Header (<a class="auto internal xref" href="#sfc-oam-header-pic">Figure 2</a>)
      to demultiplex active OAM protocols on SFC.<a class="pilcrow" href="#section-5-1">¶</a></p>
<span id="name-sfc-active-oam-header-2"></span><div id="sfc-oam-header-pic">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-5-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   V   | Msg Type  | Reserved  |          Length               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~              SFC Active OAM Control Packet                    ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-sfc-active-oam-header-2">SFC Active OAM Header</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5-3">
        <dt id="section-5-3.1">V -</dt>
        <dd id="section-5-3.2" style="margin-left: 1.5em">a four-bit field that indicates the current version of the SFC Active OAM Header. The current value is 0.
        The version number is to
   be incremented whenever a change is made that affects the ability of
   an implementation to parse or process the SFC Active OAM Header correctly,
   for example, if syntactic or semantic changes are made to any of the fixed fields.<a class="pilcrow" href="#section-5-3.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.3">Msg Type -</dt>
        <dd id="section-5-3.4" style="margin-left: 1.5em">a six-bit field that identifies the OAM protocol, e.g., the Echo Request/Reply.<a class="pilcrow" href="#section-5-3.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.5">Reserved -</dt>
        <dd id="section-5-3.6" style="margin-left: 1.5em">a six-bit field. It <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-5-3.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-3.7">Length -</dt>
        <dd id="section-5-3.8" style="margin-left: 1.5em">a two-octet field that is the length of the SFC Active OAM Control Packet in octets.<a class="pilcrow" href="#section-5-3.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sfc-echo-request-reply">
<section id="section-6">
      <h2 id="name-echo-request-reply-for-sfc">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-echo-request-reply-for-sfc">Echo Request/Reply for SFC</a>
      </h2>
<p id="section-6-1">
   The Echo Request/Reply is a well-known active OAM mechanism
   extensively used to verify a path's continuity, detect inconsistencies between a state in control
   and the data planes, and localize defects in the data plane. ICMP (<span>[<a class="cite xref" href="#RFC0792">RFC0792</a>]</span> for IPv4
   and <span>[<a class="cite xref" href="#RFC4443">RFC4443</a>]</span> for IPv6 networks) and MPLS <span>[<a class="cite xref" href="#RFC8029">RFC8029</a>]</span> are examples
   of broadly used active OAM protocols based on the Echo Request/Reply principle.
   The SFC Echo Request/Reply control message (format is presented in <a class="auto internal xref" href="#sfc-ping-pic">Figure 3</a>)
   is an instance of the SFC Active OAM Control Packet that is a part of the SFC Active OAM Header (<a class="auto internal xref" href="#sfc-oam-header-pic">Figure 2</a>).<a class="pilcrow" href="#section-6-1">¶</a></p>
<span id="name-sfc-echo-request-reply-form"></span><div id="sfc-ping-pic">
<figure id="figure-3">
        <div class="alignLeft art-text artwork" id="section-6-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Echo Request Flags       |          Reserved             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Echo Type   |   Reply Mode  |  Return Code  |Return Subcode |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Sender's Handle                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Sequence Number                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                              TLVs                             ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-sfc-echo-request-reply-form">SFC Echo Request/Reply Format</a>
        </figcaption></figure>
</div>
<p id="section-6-3">
  The interpretation of the fields is as follows:<a class="pilcrow" href="#section-6-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6-4">
        <dt id="section-6-4.1">Echo Request Flags -</dt>
        <dd id="section-6-4.2" style="margin-left: 1.5em">a two-octet bit vector field. <a class="auto internal xref" href="#iana-echo-ping-global-flags">Section 9.2.2</a> requests IANA to create 
        a new registry for flags. This specification defines all flags for future use. Flags <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.3">Reserved -</dt>
        <dd id="section-6-4.4" style="margin-left: 1.5em">a two-octet field. It <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6-4.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.5">Echo Type -</dt>
        <dd id="section-6-4.6" style="margin-left: 1.5em">a one-octet field that reflects the packet type. SFC Echo Request/Reply Echo Types,
        defined in this document, are listed in <a class="auto internal xref" href="#iana-sfc-echo-message-type">Section 9.2.3</a>.<a class="pilcrow" href="#section-6-4.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.7">Reply Mode -</dt>
        <dd id="section-6-4.8" style="margin-left: 1.5em">a one-octet field. It defines the type of the return path requested by the sender of the Echo Request.<a class="pilcrow" href="#section-6-4.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.9">Return Code and Return Subcode -</dt>
        <dd id="section-6-4.10" style="margin-left: 1.5em">one-octet fields each. These can be used
  to inform the sender about the result of processing its request. 
  For all Return Code values defined in this document (<a class="auto internal xref" href="#iana-sfc-ping-return-codes">Section 9.2.5</a>),
  the value of the Return Subcode field <span class="bcp14">MUST</span> be set to zero.<a class="pilcrow" href="#section-6-4.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.11">Sender's Handle -</dt>
        <dd id="section-6-4.12" style="margin-left: 1.5em">a four-octet field. It <span class="bcp14">MUST</span> be filled in by the sender of the Echo Request
  and returned unchanged by the Echo Reply sender (if a reply is being sent). The sender of the Echo Request <span class="bcp14">SHOULD</span> use 
 a pseudorandom number generator <span>[<a class="cite xref" href="#RFC4086">RFC4086</a>]</span> to set the value of the Sender's Handle field.
 In some use cases, an implementation <span class="bcp14">MAY</span> use the Sender's Handle for proprietary signaling as long as the system
 that receives the SFC Echo Request doesn't alter the value of the Sender's Handle field but copies it into the SFC Echo Reply.<a class="pilcrow" href="#section-6-4.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-4.13">
  Sequence Number -</dt>
        <dd id="section-6-4.14" style="margin-left: 1.5em">a four-octet field. It is assigned by the sender and can be, for example, used to detect missed replies. 
  The initial Sequence Number contains an unsigned integer that wraps around. It <span class="bcp14">MUST</span> be pseudorandomly generated <span>[<a class="cite xref" href="#RFC4086">RFC4086</a>]</span>
  and then <span class="bcp14">SHOULD</span> be monotonically increasing in the course of the test session. If a reply is sent, the sender of the SFC Echo Reply message <span class="bcp14">MUST</span> copy the value from the received
  SFC Echo Request.<a class="pilcrow" href="#section-6-4.14">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-6-5">
          TLV is a variable-length construct whose length is multiple four-octet words.  Multiple TLVs <span class="bcp14">MAY</span> be placed in an
   SFC Echo Request/Reply packet. None, one, or more sub-TLVs may be enclosed
   in the value part of a TLV, subject to the semantics of the (outer) TLV. If no TLVs are included in an SFC Echo Request/Reply,
   the value of the Length field in the SFC Active OAM Header <span class="bcp14">MUST</span> be 16 octets.
   <a class="auto internal xref" href="#sfc-tlv-fig">Figure 4</a> presents the format of an SFC Echo Request/Reply TLV, where the fields are defined as follows:<a class="pilcrow" href="#section-6-5">¶</a></p>
<span id="name-sfc-echo-request-reply-tlv-"></span><div id="sfc-tlv-fig">
<figure id="figure-4">
        <div class="alignLeft art-text artwork" id="section-6-6.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Type     |    Reserved   |           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                            Value                              ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-sfc-echo-request-reply-tlv-">SFC Echo Request/Reply TLV Format</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-6-7">
        <dt id="section-6-7.1">
Type -</dt>
        <dd id="section-6-7.2" style="margin-left: 1.5em">a one-octet field that characterizes the interpretation of the Value field.
   Type values are allocated according to <a class="auto internal xref" href="#iana-sfc-active-oam-tlv">Section 9.2.6</a>.<a class="pilcrow" href="#section-6-7.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-7.3">Reserved -</dt>
        <dd id="section-6-7.4" style="margin-left: 1.5em">a one-octet field. The field <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6-7.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-7.5">
Length -</dt>
        <dd id="section-6-7.6" style="margin-left: 1.5em">a two-octet field equal to the Value field's length in octets as an unsigned integer.<a class="pilcrow" href="#section-6-7.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-7.7">
Value -</dt>
        <dd id="section-6-7.8" style="margin-left: 1.5em">a variable-length field. The value of the Type field determines its interpretation and encoding.<a class="pilcrow" href="#section-6-7.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<div id="return-codes-sec">
<section id="section-6.1">
        <h3 id="name-return-codes">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-return-codes">Return Codes</a>
        </h3>
<p id="section-6.1-1">
   The value of the Return Code field <span class="bcp14">MUST</span> be set to zero by the sender of an Echo Request.  The
   receiver of said Echo Request <span class="bcp14">MUST</span> set it to one of the values
   in IANA's "SFC Echo Return Codes" registry (<a class="auto internal xref" href="#iana-sfc-ping-return-codes">Section 9.2.5</a>)
  in the corresponding Echo Reply that it generates.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
</section>
</div>
<div id="authen-sec">
<section id="section-6.2">
        <h3 id="name-authentication-in-echo-requ">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-authentication-in-echo-requ">Authentication in Echo Request/Reply</a>
        </h3>
<p id="section-6.2-1">
Authentication can be used to protect the integrity of the information in the SFC Echo Request and/or Echo Reply.
In <span>[<a class="cite xref" href="#RFC9145">RFC9145</a>]</span>, a variable-length Context Header has been defined to protect the integrity
of the NSH and the payload. The header can also be used for the optional encryption of sensitive metadata.
The MAC#1 Context Header is more suitable for the integrity protection of SFC active OAM,
particularly of the SFC Echo Request and Echo Reply, as defined in this document. On the other hand, using the MAC#2 Context Header allows the detection
of mishandling of the O bit by a transient SFC element.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
</section>
</div>
<div id="echo-request-send">
<section id="section-6.3">
        <h3 id="name-sfc-echo-request-transmissi">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-sfc-echo-request-transmissi">SFC Echo Request Transmission</a>
        </h3>
<p id="section-6.3-1">
The SFC Echo Request control packet <span class="bcp14">MUST</span> use the appropriate underlay network encapsulation of the monitored
SFP. The Echo Request <span class="bcp14">MUST</span> set the O bit in the NSH, as defined in <span>[<a class="cite xref" href="#RFC9451">RFC9451</a>]</span>.
The NSH <span class="bcp14">MUST</span> be immediately followed by the SFC Active OAM Header defined in <a class="auto internal xref" href="#sfc-active-oam-def">Section 4</a>.
The Echo Type field's value in the SFC Active OAM Header <span class="bcp14">MUST</span> be set to the SFC Echo Request/Reply value (1), per <a class="auto internal xref" href="#iana-sfc-oam-msg-type">Section 9.2.1</a>.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<p id="section-6.3-2">
The value of the Reply Mode field <span class="bcp14">MUST</span> be set to one of the following:<a class="pilcrow" href="#section-6.3-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.3-3">
          <dt id="section-6.3-3.1">
Do Not Reply (1) -</dt>
          <dd id="section-6.3-3.2" style="margin-left: 1.5em">This is the value if one-way monitoring is desired. If the Echo Request is used to measure synthetic packet loss,
the receiver may report loss measurement results to a remote node. Ways of learning the identity of that node are
outside the scope of this specification.<a class="pilcrow" href="#section-6.3-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.3">
Reply via an IPv4/IPv6 UDP Packet (2) -</dt>
          <dd id="section-6.3-3.4" style="margin-left: 1.5em">If an SFC Echo Request is not encapsulated in IP/UDP,
then this value requests the use of the Source ID TLV <a class="auto internal xref" href="#source-tlv-sec">Section 6.3.1</a>).<a class="pilcrow" href="#section-6.3-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.5">
Reply via Specified Path (4) -</dt>
          <dd id="section-6.3-3.6" style="margin-left: 1.5em">This value requests the use of the particular
return path specified in the included TLV to verify bidirectional continuity and
may also increase the robustness of the monitoring by selecting a more stable path.
<a class="auto internal xref" href="#sfc-reply-tlv-sec">Section 6.5.1</a> provides an example of communicating an explicit path for the Echo Reply.<a class="pilcrow" href="#section-6.3-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.7">
Reply via an IPv4/IPv6 UDP Packet with the data integrity protection (5) -</dt>
          <dd id="section-6.3-3.8" style="margin-left: 1.5em">This value requests the use of the MAC Context Header <span>[<a class="cite xref" href="#RFC9145">RFC9145</a>]</span>.<a class="pilcrow" href="#section-6.3-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.9">
Reply via Specified Path with the data integrity protection (7) -</dt>
          <dd id="section-6.3-3.10" style="margin-left: 1.5em">This value requests the use of the MAC Context Header <span>[<a class="cite xref" href="#RFC9145">RFC9145</a>]</span>.<a class="pilcrow" href="#section-6.3-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="source-tlv-sec">
<section id="section-6.3.1">
          <h4 id="name-source-id-tlv">
<a class="section-number selfRef" href="#section-6.3.1">6.3.1. </a><a class="section-name selfRef" href="#name-source-id-tlv">Source ID TLV</a>
          </h4>
<p id="section-6.3.1-1">
     The responder to the SFC Echo Request encapsulates the SFC Echo Reply message in the IP/UDP packet if the Reply Mode is 
     "Reply via an IPv4/IPv6 UDP Packet" or "Reply via an IPv4/IPv6 UDP Packet with the data integrity protection".
     Because the NSH does not identify the ingress node that generated
     the Echo Request, information that sufficiently identifies the source <span class="bcp14">MUST</span> be included in the message so that
    the IP destination address and destination UDP port number for IP/UDP encapsulation of the SFC Echo Reply could be derived.
     The sender of the SFC Echo Request <span class="bcp14">MUST</span> include the Source ID TLV (<a class="auto internal xref" href="#sfc-source-tlv-fig">Figure 5</a>).<a class="pilcrow" href="#section-6.3.1-1">¶</a></p>
<span id="name-sfc-source-id-tlv"></span><div id="sfc-source-tlv-fig">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-6.3.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Source ID  |   Reserved1   |           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Port Number          |           Reserved2           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                         IP Address                            ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-sfc-source-id-tlv">SFC Source ID TLV</a>
            </figcaption></figure>
</div>
<p id="section-6.3.1-3">
        The fields are defined as follows:<a class="pilcrow" href="#section-6.3.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.3.1-4">
            <dt id="section-6.3.1-4.1">
        Source ID -</dt>
            <dd id="section-6.3.1-4.2" style="margin-left: 1.5em">the value <span class="bcp14">MUST</span> be set to 1 (<a class="auto internal xref" href="#iana-sfc-active-oam-tlv">Section 9.2.6</a>).<a class="pilcrow" href="#section-6.3.1-4.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.3.1-4.3">Reserved1 -</dt>
            <dd id="section-6.3.1-4.4" style="margin-left: 1.5em">a one-octet field. The field <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6.3.1-4.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.3.1-4.5">
        Length -</dt>
            <dd id="section-6.3.1-4.6" style="margin-left: 1.5em">the value equals the length of the data following the Length field counted in octets.
        The value of the Length field can be 8 or 20. If the value of the field is neither, the Source ID TLV is considered to be malformed.<a class="pilcrow" href="#section-6.3.1-4.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.3.1-4.7">
        Port Number -</dt>
            <dd id="section-6.3.1-4.8" style="margin-left: 1.5em">a two-octet field. It contains the UDP port number of the sender of the SFC OAM control message.
        The value of the field <span class="bcp14">MUST</span> be used as the destination UDP port number 
        in the IP/UDP encapsulation of the SFC Echo Reply message.<a class="pilcrow" href="#section-6.3.1-4.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.3.1-4.9">
        Reserved2 -</dt>
            <dd id="section-6.3.1-4.10" style="margin-left: 1.5em">a two-octet field. The field <span class="bcp14">MUST</span> be zeroed on transmit and ignored on receipt.<a class="pilcrow" href="#section-6.3.1-4.10">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.3.1-4.11">
        IP Address -</dt>
            <dd id="section-6.3.1-4.12" style="margin-left: 1.5em">a field that contains the IP address of the sender of the SFC OAM control message, i.e., IPv4 or IPv6.
        The value of the field <span class="bcp14">MUST</span> be used as the destination IP address
        in the IP/UDP encapsulation of the SFC Echo Reply message.<a class="pilcrow" href="#section-6.3.1-4.12">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.3.1-5">
        A single Source ID TLV for each address family, i.e., IPv4 and IPv6, <span class="bcp14">MAY</span> be present in an SFC Echo Request message.
        If the Source ID TLVs for both address families are present in an SFC Echo Request message,
        the SFF <span class="bcp14">MUST NOT</span> replicate an SFC Echo Reply
        but choose the destination IP address for the one SFC Echo Reply it sends based on the local policy.
        The source IP address used in the IP/UDP encapsulation of the SFC Echo Reply is one of the IP addresses associated with the responder.
       The value of the Port Number field <span class="bcp14">MUST</span> be used as the destination UDP port number
        in the IP/UDP encapsulation of the SFC Echo Reply message. The responder selects
        the source UDP port number from the dynamic range of port numbers. 
        If more than one Source ID TLV per the address family is present, the receiver <span class="bcp14">MUST</span> use the first TLV and ignore the rest.
        The Echo Reply message, including relevant TLVs, follows the IP/UDP headers immediately.<a class="pilcrow" href="#section-6.3.1-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="echo-request-recieve">
<section id="section-6.4">
        <h3 id="name-processing-a-received-sfc-e">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-processing-a-received-sfc-e">Processing a Received SFC Echo Request</a>
        </h3>
<p id="section-6.4-1">
   Punting a received SFC Echo Request to the control plane for validation and processing is triggered by one
   of the following packet processing exceptions: 
   NSH TTL expiration, NSH Service Index expiration, or the receiver is the terminal SFF for an SFP.<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<p id="section-6.4-2">
        An SFF that received the SFC Echo Request <span class="bcp14">MUST</span> validate the packet as follows:<a class="pilcrow" href="#section-6.4-2">¶</a></p>
<ol class="normal type-1" id="section-6.4-3" start="1" type="1">
  <li id="section-6.4-3.1">
            <p id="section-6.4-3.1.1">If the SFC Echo Request is integrity protected, the receiving SFF first <span class="bcp14">MUST</span> verify the authentication.<a class="pilcrow" href="#section-6.4-3.1.1">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-6.4-3.1.2">
                <dt>1.1.</dt>
<dd id="section-6.4-3.1.2.1">Suppose the authentication validation has failed and the Source ID TLV is considered properly formatted. 
        In that case, the SFF <span class="bcp14">MUST</span> send an SFC Echo Reply with the Return Code
        set to 3 ("Authentication failed") and the Subcode set to zero to the system identified in the Source ID TLV (see <a class="auto internal xref" href="#echo-reply-send">Section 6.5</a>),
        according to a rate-limit control mechanism.<a class="pilcrow" href="#section-6.4-3.1.2.1">¶</a>
</dd>
              <dd class="break"></dd>
<dt>1.2.</dt>
<dd id="section-6.4-3.1.2.2">If the authentication is validated successfully, the SFF that has received
        an SFC Echo Request verifies the rest of the packet's general consistency.<a class="pilcrow" href="#section-6.4-3.1.2.2">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</li>
          <li id="section-6.4-3.2">
            <p id="section-6.4-3.2.1">Validate the Source ID TLV, as defined in <a class="auto internal xref" href="#source-tlv-sec">Section 6.3.1</a>.<a class="pilcrow" href="#section-6.4-3.2.1">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-6.4-3.2.2">
        <dt>2.1.</dt>
<dd id="section-6.4-3.2.2.1">If the Source ID TLV is determined to be malformed, the received SFC Echo Request processing is stopped,
        the message is dropped, and the event <span class="bcp14">SHOULD</span> be logged, according to a rate-limiting control for logging.<a class="pilcrow" href="#section-6.4-3.2.2.1">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</li>
          <li id="section-6.4-3.3">The Sender's Handle and Sequence Number fields are not examined but are copied in the SFC Echo Reply message.<a class="pilcrow" href="#section-6.4-3.3">¶</a>
</li>
          <li id="section-6.4-3.4">If the packet is not well formed, i.e., not formed according to this specification,
        the receiving SFF <span class="bcp14">SHOULD</span> send an SFC Echo Reply with the Return Code
        set to 1 ("Malformed Echo Request received") and the Subcode set to zero under the control of the rate-limiting mechanism 
        to the system identified in the Source ID TLV (see <a class="auto internal xref" href="#echo-reply-send">Section 6.5</a>).<a class="pilcrow" href="#section-6.4-3.4">¶</a>
</li>
          <li id="section-6.4-3.5">If there are any TLVs that the SFF does not understand, the SFF <span class="bcp14">MUST</span> send
        an SFC Echo Reply with the Return Code set to 2 ("One or more of the TLVs was not understood") and set the Subcode to zero. Also,
        the SFF <span class="bcp14">MAY</span> include an Errored TLVs TLV (<a class="auto internal xref" href="#errored-tlv-sec">Section 6.4.1</a>) that,
        as sub-TLVs, contains only the misunderstood TLVs.<a class="pilcrow" href="#section-6.4-3.5">¶</a>
</li>
          <li id="section-6.4-3.6">If the consistency check of the received Echo Request succeeded, i.e., the Echo Request is deemed properly formed,
        then the SFF at the end of the SFP <span class="bcp14">MUST</span>
         send an SFC Echo Reply with the Return Code set to 5 ("End of the SFP") and the Subcode set to zero.<a class="pilcrow" href="#section-6.4-3.6">¶</a>
</li>
          <li id="section-6.4-3.7">If the SFF is not at the end of the SFP and the NSH TTL value is 1, the SFF <span class="bcp14">MUST</span> send
        an SFC Echo Reply with the Return Code set to 4 ("SFC TTL Exceeded") and the Subcode set to zero.<a class="pilcrow" href="#section-6.4-3.7">¶</a>
</li>
          <li id="section-6.4-3.8">In all other cases, for the validated Echo Request message, a transit, i.e., not at the end of the SFP,
        SFF <span class="bcp14">MUST</span> send an SFC Echo Reply with the Return Code set to 0 ("No Error") and the Subcode set to zero.<a class="pilcrow" href="#section-6.4-3.8">¶</a>
</li>
        </ol>
<div id="errored-tlv-sec">
<section id="section-6.4.1">
          <h4 id="name-errored-tlvs-tlv">
<a class="section-number selfRef" href="#section-6.4.1">6.4.1. </a><a class="section-name selfRef" href="#name-errored-tlvs-tlv">Errored TLVs TLV</a>
          </h4>
<p id="section-6.4.1-1">
   If the Return Code for the Echo Reply is determined as 2 ("One or more of the TLVs was not understood"),
   the Errored TLVs TLV might be included in an Echo Reply. The use of this TLV
is meant to inform the sender of an Echo Request of TLVs either not
supported by an implementation or parsed and found to be in error.<a class="pilcrow" href="#section-6.4.1-1">¶</a></p>
<span id="name-errored-tlvs-tlv-2"></span><div id="errored-tlv-fig">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-6.4.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Errored TLVs |    Reserved   |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Value                             |
.                                                               .
.                                                               .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-errored-tlvs-tlv-2">Errored TLVs TLV</a>
            </figcaption></figure>
</div>
<p id="section-6.4.1-3">
        The fields are defined as follows:<a class="pilcrow" href="#section-6.4.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.4.1-4">
            <dt id="section-6.4.1-4.1">
Errored TLVs -</dt>
            <dd id="section-6.4.1-4.2" style="margin-left: 1.5em">the field <span class="bcp14">MUST</span> be set to 2 (<a class="auto internal xref" href="#iana-sfc-active-oam-tlv">Section 9.2.6</a>).<a class="pilcrow" href="#section-6.4.1-4.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-4.3">Reserved -</dt>
            <dd id="section-6.4.1-4.4" style="margin-left: 1.5em">the field <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6.4.1-4.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-4.5">
Length -</dt>
            <dd id="section-6.4.1-4.6" style="margin-left: 1.5em">the value equals to length of the Value field in octets.<a class="pilcrow" href="#section-6.4.1-4.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-4.7">
   Value -</dt>
            <dd id="section-6.4.1-4.8" style="margin-left: 1.5em">the field contains the TLVs, encoded as sub-TLVs (as shown in <a class="auto internal xref" href="#failed-tlv-fig">Figure 7</a>), 
that were not understood or failed to be parsed correctly.<a class="pilcrow" href="#section-6.4.1-4.8">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-not-understood-or-failed-tl"></span><div id="failed-tlv-fig">
<figure id="figure-7">
            <div class="alignLeft art-text artwork" id="section-6.4.1-5.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Sub-TLV Type |    Reserved   |        Sub-TLV Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                        Sub-TLV Value                          ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-not-understood-or-failed-tl">Not Understood or Failed TLV as a Sub-TLV</a>
            </figcaption></figure>
</div>
<p id="section-6.4.1-6">
        The fields are defined as follows:<a class="pilcrow" href="#section-6.4.1-6">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.4.1-7">
            <dt id="section-6.4.1-7.1">
Sub-TLV Type -</dt>
            <dd id="section-6.4.1-7.2" style="margin-left: 1.5em">a copy of the first octet of the TLV that is not understood or failed to be parsed.<a class="pilcrow" href="#section-6.4.1-7.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-7.3">Reserved -</dt>
            <dd id="section-6.4.1-7.4" style="margin-left: 1.5em">
              <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6.4.1-7.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-7.5">
Sub-TLV Length -</dt>
            <dd id="section-6.4.1-7.6" style="margin-left: 1.5em">the value equals the value of the Length field of the errored TLV.<a class="pilcrow" href="#section-6.4.1-7.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.4.1-7.7">
   Sub-TLV Value -</dt>
            <dd id="section-6.4.1-7.8" style="margin-left: 1.5em">the field contains data that follows the Length field in the errored TLV.<a class="pilcrow" href="#section-6.4.1-7.8">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="echo-reply-send">
<section id="section-6.5">
        <h3 id="name-sfc-echo-reply-transmission">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-sfc-echo-reply-transmission">SFC Echo Reply Transmission</a>
        </h3>
<p id="section-6.5-1">
The Reply Mode field directs whether and how the Echo Reply message should be sent.
The Echo Request sender <span class="bcp14">MAY</span> use TLVs to request that the corresponding Echo Reply
be transmitted over the specified path. For example,  a TLV 
that specifies the return path of the Echo Reply if the Return Mode in the Echo Request is set
to Reply via Specified Path (4) is described in <a class="auto internal xref" href="#sfc-reply-tlv-sec">Section 6.5.1</a>.
Value 1 is the "Do Not Reply" mode and
suppresses the Echo Reply packet transmission. The value 2 of the Reply Mode field requests
sending the Echo Reply packet out-of-band as an IPv4/IPv6 UDP packet.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
<div id="sfc-reply-tlv-sec">
<section id="section-6.5.1">
          <h4 id="name-reply-service-function-path">
<a class="section-number selfRef" href="#section-6.5.1">6.5.1. </a><a class="section-name selfRef" href="#name-reply-service-function-path">Reply Service Function Path TLV</a>
          </h4>
<p id="section-6.5.1-1">
While the SFC Echo Request always traverses the SFP it is directed to by
using the NSH, the corresponding Echo Reply usually is sent without the NSH.
In some cases, an operator might choose to direct the responder
to send and Echo Reply with the NSH over a particular SFP.
This section defines a new TLV, i.e., Reply 
  Service Function Path TLV, for Reply via Specified Path mode of the SFC Echo Reply.<a class="pilcrow" href="#section-6.5.1-1">¶</a></p>
<p id="section-6.5.1-2">
 The Reply Service Function Path TLV can provide an efficient mechanism to test
 SFCs, such as bidirectional and hybrid SFC, as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7665#section-2.2">Section 2.2</a> of [<a class="cite xref" href="#RFC7665">RFC7665</a>]</span>.
 For example, it allows an operator to test both directions of the bidirectional or 
 hybrid SFP with a single SFC Echo Request/Reply operation.<a class="pilcrow" href="#section-6.5.1-2">¶</a></p>
<p id="section-6.5.1-3">
 The Reply Service Function Path TLV carries the information that sufficiently
 identifies the return SFP that the SFC Echo Reply message is 
 expected to follow.  The format of Reply Service Function Path TLV is shown 
 in <a class="auto internal xref" href="#sfc-reply-path-tlv-fig">Figure 8</a>.<a class="pilcrow" href="#section-6.5.1-3">¶</a></p>
<span id="name-sfc-reply-tlv-format"></span><div id="sfc-reply-path-tlv-fig">
<figure id="figure-8">
            <div class="alignLeft art-text artwork" id="section-6.5.1-4.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Reply SFP   |    Reserved   |          Length               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Reply Service Function Path Identifier     | Service Index |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-sfc-reply-tlv-format">SFC Reply TLV Format</a>
            </figcaption></figure>
</div>
<p id="section-6.5.1-5">The fields are defined as follows:<a class="pilcrow" href="#section-6.5.1-5">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.5.1-6">
            <dt id="section-6.5.1-6.1">Reply SFP (3) -</dt>
            <dd id="section-6.5.1-6.2" style="margin-left: 1.5em">identifies the TLV that contains information about
         the SFC Reply path.<a class="pilcrow" href="#section-6.5.1-6.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.5.1-6.3">Reserved -</dt>
            <dd id="section-6.5.1-6.4" style="margin-left: 1.5em">
              <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6.5.1-6.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.5.1-6.5">Length -</dt>
            <dd id="section-6.5.1-6.6" style="margin-left: 1.5em">the value <span class="bcp14">MUST</span> be equal to 4.<a class="pilcrow" href="#section-6.5.1-6.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.5.1-6.7">
   Reply Service Function Path Identifier -</dt>
            <dd id="section-6.5.1-6.8" style="margin-left: 1.5em">a three-octet field that contains the SFP identifier for the path that 
   the SFC Echo Reply message is requested to be sent over.<a class="pilcrow" href="#section-6.5.1-6.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.5.1-6.9">
   Service Index -</dt>
            <dd id="section-6.5.1-6.10" style="margin-left: 1.5em">a one-octet field. The value is set to the value of the Service Index field in the NSH
   of the SFC Echo Reply message.<a class="pilcrow" href="#section-6.5.1-6.10">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="theory-operation-sec">
<section id="section-6.5.2">
          <h4 id="name-theory-of-operation">
<a class="section-number selfRef" href="#section-6.5.2">6.5.2. </a><a class="section-name selfRef" href="#name-theory-of-operation">Theory of Operation</a>
          </h4>
<p id="section-6.5.2-1">
 <span>[<a class="cite xref" href="#RFC7110">RFC7110</a>]</span> defines a mechanism to control the return path
 for the MPLS Label Switched Path (LSP) Echo Reply. In the SFC's case, the return path is an SFP along which the SFC Echo 
 Reply message <span class="bcp14">MUST</span> be transmitted. Hence, the Reply Service Function Path TLV included 
 in the SFC Echo Request message <span class="bcp14">MUST</span> sufficiently identify the SFP
    that the sender of the Echo Request message expects the receiver to use 
 for the corresponding SFC Echo Reply.<a class="pilcrow" href="#section-6.5.2-1">¶</a></p>
<p id="section-6.5.2-2">
 When sending an Echo Request, the sender <span class="bcp14">MUST</span> set the value of the Reply Mode field to
 "Reply via Specified Path", defined in <a class="auto internal xref" href="#echo-request-send">Section 6.3</a>,
 and if the specified path is an SFC path, the Request <span class="bcp14">MUST</span> include the Reply Service Function Path TLV. 
 The Reply Service Function Path TLV consists of the identifier of the reverse SFP and an appropriate Service Index.<a class="pilcrow" href="#section-6.5.2-2">¶</a></p>
<p id="section-6.5.2-3">
 If the NSH of the received SFC Echo Request includes the MAC Context Header,
   the packet's authentication <span class="bcp14">MUST</span> be verified before using any data, as defined in <a class="auto internal xref" href="#echo-request-recieve">Section 6.4</a>.<a class="pilcrow" href="#section-6.5.2-3">¶</a></p>
<p id="section-6.5.2-4">
 The destination SFF of the SFP being tested and the SFF at which the NSH TTL expired
 (as per <span>[<a class="cite xref" href="#RFC8300">RFC8300</a>]</span>)
 are referred to as responding SFFs. The processing described
      below equally applies to both cases.<a class="pilcrow" href="#section-6.5.2-4">¶</a></p>
<p id="section-6.5.2-5">
 If the Echo Request message with the Reply Service Function Path TLV received by the responding
 SFF has the Reply Mode value of "Reply via Specified Path" but no Reply Service Function Path TLV is present,
 then the responding SFF <span class="bcp14">MUST</span> send an Echo Reply with the Return Code set to 6 ("Reply Service Function Path TLV is missing").
 If the responding SFF cannot find the requested SFP, it <span class="bcp14">MUST</span> send an Echo Reply with the Return Code set to 7
 ("Reply SFP was not found") and include the Reply Service Function Path TLV from the Echo Request message.<a class="pilcrow" href="#section-6.5.2-5">¶</a></p>
<p id="section-6.5.2-6">
 Suppose the SFC Echo Request receiver cannot determine
 whether the specified return path SFP has the route to the initiator.
 In that case, it <span class="bcp14">SHOULD</span> set the value of the Return Code field to
 8 ("Unverifiable Reply Service Function Path").
 The receiver <span class="bcp14">MAY</span> drop the Echo Request when it cannot
   determine whether the SFP's return path has the route to the
  initiator. When sending the Echo Request, the sender
   <span class="bcp14">SHOULD</span> choose a proper source address according to the specified return
   path SFP to help the receiver find the viable return path.<a class="pilcrow" href="#section-6.5.2-6">¶</a></p>
<section id="section-6.5.2.1">
            <h5 id="name-bidirectional-sfc-case">
<a class="section-number selfRef" href="#section-6.5.2.1">6.5.2.1. </a><a class="section-name selfRef" href="#name-bidirectional-sfc-case">Bidirectional SFC Case</a>
            </h5>
<p id="section-6.5.2.1-1">
 The ability to specify the return path for an Echo Reply might be used in the case of bidirectional 
 SFC. The egress SFF of the forward SFP might not be
 co-located with a classifier of the reverse SFP, and thus, the egress SFF has no
 information about the reverse path of SFC. Because of that, even for bidirectional SFC, a 
 reverse SFP needs to be indicated in a Reply Service Function Path TLV in the Echo Request 
 message.<a class="pilcrow" href="#section-6.5.2.1-1">¶</a></p>
</section>
</section>
</div>
<div id="echo-reply-recieve">
<section id="section-6.5.3">
          <h4 id="name-sfc-echo-reply-reception">
<a class="section-number selfRef" href="#section-6.5.3">6.5.3. </a><a class="section-name selfRef" href="#name-sfc-echo-reply-reception">SFC Echo Reply Reception</a>
          </h4>
<p id="section-6.5.3-1">
   An SFF <span class="bcp14">SHOULD NOT</span> accept the SFC Echo Reply unless the received message passes the following checks:<a class="pilcrow" href="#section-6.5.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.5.3-2.1">the received SFC Echo Reply is well formed;<a class="pilcrow" href="#section-6.5.3-2.1">¶</a>
</li>
            <li class="normal" id="section-6.5.3-2.2">the matching SFC Echo Request is found, that is, the value of the Sender's Handle 
   in the Echo Request sent is equal to the value of Sender's Handle in the
   Echo Reply received;<a class="pilcrow" href="#section-6.5.3-2.2">¶</a>
</li>
            <li class="normal" id="section-6.5.3-2.3">the Sequence Number in the Echo Reply received
   matches the Sequence Number of one of the outstanding transmitted Echo Requests; and<a class="pilcrow" href="#section-6.5.3-2.3">¶</a>
</li>
            <li class="normal" id="section-6.5.3-2.4">all other checks passed.<a class="pilcrow" href="#section-6.5.3-2.4">¶</a>
</li>
          </ul>
</section>
</div>
<div id="tracing-sfp">
<section id="section-6.5.4">
          <h4 id="name-tracing-an-sfp">
<a class="section-number selfRef" href="#section-6.5.4">6.5.4. </a><a class="section-name selfRef" href="#name-tracing-an-sfp">Tracing an SFP</a>
          </h4>
<p id="section-6.5.4-1">
        The SFC Echo Request/Reply can be used to isolate a defect detected in the SFP and trace an RSP.
        As with the ICMP Echo Request/Reply <span>[<a class="cite xref" href="#RFC0792">RFC0792</a>]</span> and the MPLS Echo Request/Reply <span>[<a class="cite xref" href="#RFC8029">RFC8029</a>]</span>,
        this mode is referred to as "traceroute". In the traceroute mode, the sender transmits a sequence of SFC Echo Request
        messages starting with the NSH TTL value set to 1 and is incremented by 1 in each next Echo Request packet.
        The sender stops transmitting SFC Echo Request packets when the Return Code in the received Echo Reply equals
        5 ("End of the SFP").<a class="pilcrow" href="#section-6.5.4-1">¶</a></p>
<p id="section-6.5.4-2">
        Suppose a specialized information element (e.g., IPv6 Flow Label <span>[<a class="cite xref" href="#RFC6437">RFC6437</a>]</span> or
   Flow ID <span>[<a class="cite xref" href="#RFC9263">RFC9263</a>]</span>) is used for distributing
   the load across Equal Cost Multipath or Link
   Aggregation Group paths. In that case, such an element <span class="bcp14">SHOULD</span> also be
   used for the SFC OAM traffic. Doing so is meant to induce the SFC Echo Request to follow the same RSP as the
   monitored flow.<a class="pilcrow" href="#section-6.5.4-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sf-consist-seq">
<section id="section-6.6">
        <h3 id="name-the-use-of-the-consistency-">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-the-use-of-the-consistency-">The Use of the Consistency Verification Request Message</a>
        </h3>
<p id="section-6.6-1">
 The consistency of an SFP can be verified by comparing the view of the SFP from the control or management plane with
 information collected from traversing by an SFC Echo Request/Reply message (<a class="auto internal xref" href="#sfc-ping-pic">Figure 3</a>).
 The sender of an SFP Consistency Verification Request (CVReq) message <span class="bcp14">MUST</span> set the value
 of the SFC Echo Request/Reply Echo Type field to 3 ("SFP Consistency Verification Request").
 The sender of  an SFP Consistency Verification Reply (CVRep) message <span class="bcp14">MUST</span> set the value
 of the SFC Echo Request/Reply Echo Type field to 4 ("SFP Consistency Verification Reply").
 All processing steps of SFC Echo Request and Echo Reply messages described in Sections <a class="auto internal xref" href="#echo-request-send">6.3</a> through <a class="auto internal xref" href="#echo-reply-send">6.5</a>
 apply to the processing of CVReq and CVRep, respectively.<a class="pilcrow" href="#section-6.6-1">¶</a></p>
<p id="section-6.6-2">
 Every SFF that
 receives a CVReq message <span class="bcp14">MUST</span> perform the following actions:<a class="pilcrow" href="#section-6.6-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.6-3.1">
 Collect information about the SFs traversed by the CVReq packet and send it to the ingress SFF as a CVRep packet over an IP network.<a class="pilcrow" href="#section-6.6-3.1">¶</a>
</li>
          <li class="normal" id="section-6.6-3.2">Forward the CVReq to the next downstream SFF if the one exists.<a class="pilcrow" href="#section-6.6-3.2">¶</a>
</li>
        </ul>
<p id="section-6.6-4">As a result, the ingress SFF collects information about all traversed SFFs and SFs, i.e.,
 information on the actual path the CVReq packet has traveled. That
  information can be used to verify the SFC's path consistency. The mechanism for the SFP consistency 
 verification is outside the scope of this document.<a class="pilcrow" href="#section-6.6-4">¶</a></p>
<div id="sff-record-tlv-sec">
<section id="section-6.6.1">
          <h4 id="name-sff-information-record-tlv">
<a class="section-number selfRef" href="#section-6.6.1">6.6.1. </a><a class="section-name selfRef" href="#name-sff-information-record-tlv">SFF Information Record TLV</a>
          </h4>
<p id="section-6.6.1-1">
 For the received CVReq, an SFF that supports this specification <span class="bcp14">MUST</span> include in the CVRep message
 the information about SFs that are available from that SFF instance for the specified SFP. The SFF <span class="bcp14">MUST</span> include the
 SFF Information Record TLV (<a class="auto internal xref" href="#sff-record-tlv">Figure 9</a>) in the CVRep message.
 Every SFF sends back a single CVRep message, including information on all the SFs
 attached to that SFF on the SFP, as requested in the received CVReq message
  using the SF Information Sub-TLV (<a class="auto internal xref" href="#sf-sub-tlv-sec">Section 6.6.2</a>).<a class="pilcrow" href="#section-6.6.1-1">¶</a></p>
<span id="name-sff-information-record-tlv-2"></span><div id="sff-record-tlv">
<figure id="figure-9">
            <div class="alignCenter art-text artwork" id="section-6.6.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|SFF Record TLV |    Reserved   |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Service Path Identifier (SPI)           |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                   SF Information Sub-TLV                      |
~                                                               ~
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-sff-information-record-tlv-2">SFF Information Record TLV</a>
            </figcaption></figure>
</div>
<p class="keepWithPrevious" id="section-6.6.1-3"></p>
<p id="section-6.6.1-4">
      The SFF Information Record TLV is a variable-length TLV that includes
      the information of all SFs available from the particular SFF instance for the specified SFP.
      <a class="auto internal xref" href="#sff-record-tlv">Figure 9</a> presents the format of
      an SFF Information Record TLV, where the fields are defined as follows:<a class="pilcrow" href="#section-6.6.1-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.6.1-5">
            <dt id="section-6.6.1-5.1">SFF Record TLV -</dt>
            <dd id="section-6.6.1-5.2" style="margin-left: 1.5em">the value is (4) (<a class="auto internal xref" href="#iana-sfc-active-oam-tlv">Section 9.2.6</a>).<a class="pilcrow" href="#section-6.6.1-5.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.1-5.3">Reserved -</dt>
            <dd id="section-6.6.1-5.4" style="margin-left: 1.5em">
              <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6.6.1-5.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.1-5.5">Length -</dt>
            <dd id="section-6.6.1-5.6" style="margin-left: 1.5em">the value equals the sum of lengths of the Service Path Identifier, reserved, and SF Information Sub-TLV fields in
      octets.<a class="pilcrow" href="#section-6.6.1-5.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.1-5.7">Service Path Identifier (SPI) -</dt>
            <dd id="section-6.6.1-5.8" style="margin-left: 1.5em">the identifier of SFP to which all the SFs in this TLV belong.<a class="pilcrow" href="#section-6.6.1-5.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.1-5.9">SF Information Sub-TLV -</dt>
            <dd id="section-6.6.1-5.10" style="margin-left: 1.5em">the sub-TLV is as defined in <a class="auto internal xref" href="#sf-sub-tlv-sec">Section 6.6.2</a>.<a class="pilcrow" href="#section-6.6.1-5.10">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.6.1-6">
If the NSH of the received SFC Echo Reply includes the MAC Context Header <span>[<a class="cite xref" href="#RFC9145">RFC9145</a>]</span>,
   the authentication of the packet <span class="bcp14">MUST</span> be verified before using any data. If the verification fails,
   the receiver <span class="bcp14">MUST</span> stop processing the SFF Information Record TLV and notify an operator.
  The notification mechanism <span class="bcp14">SHOULD</span> include control of rate-limited messages.
  Specification of the notification mechanism is outside the scope of this document.<a class="pilcrow" href="#section-6.6.1-6">¶</a></p>
</section>
</div>
<div id="sf-sub-tlv-sec">
<section id="section-6.6.2">
          <h4 id="name-sf-information-sub-tlv">
<a class="section-number selfRef" href="#section-6.6.2">6.6.2. </a><a class="section-name selfRef" href="#name-sf-information-sub-tlv">SF Information Sub-TLV</a>
          </h4>
<p id="section-6.6.2-1">
 Every SFF receiving a CVReq packet <span class="bcp14">MUST</span> include the SF characteristic data into the CVRep
 packet. The format of an SF Information Sub-TLV, included in
 a CVRep packet, is shown in <a class="auto internal xref" href="#sf-data-sub-tlv">Figure 10</a>.<a class="pilcrow" href="#section-6.6.2-1">¶</a></p>
<p id="section-6.6.2-2">After the CVReq message traverses the SFP, all the information about the SFs on the SFP is available 
from the TLVs included in CVRep messages.<a class="pilcrow" href="#section-6.6.2-2">¶</a></p>
<span id="name-service-function-informatio"></span><div id="sf-data-sub-tlv">
<figure id="figure-10">
            <div class="alignCenter art-text artwork" id="section-6.6.2-3.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  SF Sub-TLV   |    Reserved   |          Length               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Service Index  |          SF Type              |   SF ID Type  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          SF Identifier                        |
~                                                               ~
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-service-function-informatio">Service Function Information Sub-TLV</a>
            </figcaption></figure>
</div>
<p class="keepWithPrevious" id="section-6.6.2-4"></p>
<span class="break"></span><dl class="dlParallel" id="section-6.6.2-5">
            <dt id="section-6.6.2-5.1">SF Sub-TLV -</dt>
            <dd id="section-6.6.2-5.2" style="margin-left: 1.5em">one-octet field. The value is (5) (<a class="auto internal xref" href="#iana-sfc-active-oam-tlv">Section 9.2.6</a>).<a class="pilcrow" href="#section-6.6.2-5.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.2-5.3">Reserved -</dt>
            <dd id="section-6.6.2-5.4" style="margin-left: 1.5em">one-octet field. The field <span class="bcp14">MUST</span> be zeroed on transmission and ignored on receipt.<a class="pilcrow" href="#section-6.6.2-5.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.2-5.5">Length -</dt>
            <dd id="section-6.6.2-5.6" style="margin-left: 1.5em">two-octet field. The value of this field is the length of the data following the Length field counted in octets.<a class="pilcrow" href="#section-6.6.2-5.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.2-5.7">Service Index -</dt>
            <dd id="section-6.6.2-5.8" style="margin-left: 1.5em">indicates the SF's position on the SFP.<a class="pilcrow" href="#section-6.6.2-5.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.2-5.9">SF Type -</dt>
            <dd id="section-6.6.2-5.10" style="margin-left: 1.5em">two-octet field. It is defined in <span>[<a class="cite xref" href="#RFC9015">RFC9015</a>]</span>
 and indicates the type of SF, e.g., firewall, Deep Packet Inspection, WAN optimization controller, etc.<a class="pilcrow" href="#section-6.6.2-5.10">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.2-5.11">SF ID Type -</dt>
            <dd id="section-6.6.2-5.12" style="margin-left: 1.5em">one-octet field with values defined as in <a class="auto internal xref" href="#coam-sf-id-type-sec">Section 9.2.7</a>.<a class="pilcrow" href="#section-6.6.2-5.12">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.6.2-5.13">SF Identifier -</dt>
            <dd id="section-6.6.2-5.14" style="margin-left: 1.5em">an identifier of the SF. The length of the SF Identifier depends on the type of the SF ID Type.
 For example, if the SF Identifier is its IPv4 address, the SF Identifier should be 32 bits.<a class="pilcrow" href="#section-6.6.2-5.14">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="information-sub-tlv">
<section id="section-6.6.3">
          <h4 id="name-sf-information-sub-tlv-cons">
<a class="section-number selfRef" href="#section-6.6.3">6.6.3. </a><a class="section-name selfRef" href="#name-sf-information-sub-tlv-cons">SF Information Sub-TLV Construction</a>
          </h4>
<p id="section-6.6.3-1">Each SFF in the SFP <span class="bcp14">MUST</span> send one and only one CVRep corresponding to the CVReq.
 If only one SF is attached to the SFF in the SFP, only one SF Information Sub-TLV is included in the CVRep. 
 If several SFs are attached to the SFF in the SFP, the SF Information Sub-TLV <span class="bcp14">MUST</span> be constructed as described below in either Section <a class="auto internal xref" href="#multi-hops">6.6.3.1</a> 
 or <a class="auto internal xref" href="#load-balance">6.6.3.2</a>.<a class="pilcrow" href="#section-6.6.3-1">¶</a></p>
<div id="multi-hops">
<section id="section-6.6.3.1">
            <h5 id="name-multiple-sfs-as-hops-of-an-">
<a class="section-number selfRef" href="#section-6.6.3.1">6.6.3.1. </a><a class="section-name selfRef" href="#name-multiple-sfs-as-hops-of-an-">Multiple SFs as Hops of an SFP</a>
            </h5>
<p id="section-6.6.3.1-1">
          Multiple SFs attached to the same SFF can be the hops of the SFP.
          The service indexes of these SFs on that SFP will be different. Service 
 Function Types of these SFs could be different or be the same. Information about all SFs <span class="bcp14">MAY</span> be included in the CVRep message. 
 Information about each SF <span class="bcp14">MUST</span> be listed as separate SF Information Sub-TLVs in the CVRep message.
 The same SF can even appear more than once in an SFP with a different service index.<a class="pilcrow" href="#section-6.6.3.1-1">¶</a></p>
<p id="section-6.6.3.1-2">
          An example of the SFP consistency verification procedure for this case is shown in <a class="auto internal xref" href="#coam-reply-fig">Figure 11</a>.
          The Service Function Path (SPI=x)
 is SF1-&gt;SF2-&gt;SF4-&gt;SF3. SF1, SF2, and SF3 are attached to SFF1, and SF4 is attached to SFF2.
 The CVReq message is sent to the SFFs in the sequence of the
  SFP(SFF1-&gt;SFF2-&gt;SFF1). Every SFF(SFF1, SFF2) replies with the information of SFs belonging 
 to the SFP. The SF Information Sub-TLV in <a class="auto internal xref" href="#sf-data-sub-tlv">Figure 10</a> 
 contains information for each SF (SF1, SF2, SF3, and SF4).<a class="pilcrow" href="#section-6.6.3.1-2">¶</a></p>
<span id="name-example-1-for-cvrep-with-mu"></span><div id="coam-reply-fig">
<figure id="figure-11">
              <div class="alignCenter art-text artwork" id="section-6.6.3.1-3.1">
<pre>                SF1         SF2           SF4                SF3
                +------+------+            |                  |
   CVReq  ......&gt;  SFF1       ......&gt;  SFF2       ......&gt; SFF1
   (SPI=x)             .                   .                  .
           &lt;............         &lt;..........       &lt;...........
             CVRep1(SF1,SF2)    CVRep2(SF4)    CVRep3(SF3)
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-11">Figure 11</a>:
<a class="selfRef" href="#name-example-1-for-cvrep-with-mu">Example 1 for CVRep with Multiple SFs</a>
              </figcaption></figure>
</div>
<p class="keepWithPrevious" id="section-6.6.3.1-4"></p>
</section>
</div>
<div id="load-balance">
<section id="section-6.6.3.2">
            <h5 id="name-multiple-sfs-for-load-balan">
<a class="section-number selfRef" href="#section-6.6.3.2">6.6.3.2. </a><a class="section-name selfRef" href="#name-multiple-sfs-for-load-balan">Multiple SFs for Load Balance</a>
            </h5>
<p id="section-6.6.3.2-1">
 Multiple SFs may be attached to the same SFF to spread the load; in other words, that means that the particular traffic flow will traverse only one of these SFs. 
 These SFs have the same Service Function Type and Service Index.
       For this case, the SF ID Type, which must be the same for all of
      these SFs, appears once, but all the respective SF Identifiers will
      be listed sequentially in the SF Identifier field of the Service Function
      Information Sub-TLV
      (see <a class="auto internal xref" href="#sf-data-sub-tlv">Figure 10</a>). The number of these SFs can be calculated from
      the SF ID Type and the value of the Length field of the sub-TLV.<a class="pilcrow" href="#section-6.6.3.2-1">¶</a></p>
<p id="section-6.6.3.2-2">
 An example of the SFP consistency verification procedure for this case is shown in <a class="auto internal xref" href="#coam-reply-fig2">Figure 12</a>. The Service Function Path (SPI=x)
 is SF1a/SF1b-&gt;SF2a/SF2b. The Service Functions SF1a and SF1b are attached to SFF1, which balances the load among them.
 The Service Functions SF2a and SF2b are attached to SFF2, which in turn, balances its load between them. 
 The CVReq message is sent to the SFFs in the sequence of the SFP (i.e., SFF1-&gt;SFF2). 
 Every SFF (SFF1, SFF2) replies with the information of SFs belonging to the SFP. The SF Information Sub-TLV in <a class="auto internal xref" href="#sf-data-sub-tlv">Figure 10</a>
    contains information for all SFs at that hop.<a class="pilcrow" href="#section-6.6.3.2-2">¶</a></p>
<span id="name-example-2-for-cvrep-with-mu"></span><div id="coam-reply-fig2">
<figure id="figure-12">
              <div class="alignCenter art-text artwork" id="section-6.6.3.2-3.1">
<pre>                      /SF1a                   /SF2a
                      \SF1b                   \SF2b
                        |                       |
                       SFF1                    SFF2
   CVReq   .........&gt;  .           .........&gt;  .
   (SPI=x)                .                       .
              &lt;............        &lt;...............
       CVRep1(SF1a,SF1b)       CVRep2(SF2a,SF2b)
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-12">Figure 12</a>:
<a class="selfRef" href="#name-example-2-for-cvrep-with-mu">Example 2 for CVRep with Multiple SFs</a>
              </figcaption></figure>
</div>
<p class="keepWithPrevious" id="section-6.6.3.2-4"></p>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec_security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-7-1">
      As an element of SFC OAM and, specifically, based on the NSH, the Echo Request/Reply mechanism described in this document inherits
      security considerations discussed in <span>[<a class="cite xref" href="#RFC7665">RFC7665</a>]</span> and <span>[<a class="cite xref" href="#RFC8300">RFC8300</a>]</span>.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">
When the integrity protection for SFC active OAM, particularly the SFC Echo Request/Reply, is required,
using one of the Context Headers defined in <span>[<a class="cite xref" href="#RFC9145">RFC9145</a>]</span> is <span class="bcp14">RECOMMENDED</span>.
The MAC#1 Context Header could be more suitable for SFC active OAM because it does not require recalculation of the
MAC when the value of the NSH Base Header's TTL field is changed.
Integrity protection for SFC active OAM can also be achieved
using mechanisms in the underlay data plane.
For example, if the underlay is an IPv6 network, i.e., an IP Authentication Header <span>[<a class="cite xref" href="#RFC4302">RFC4302</a>]</span>
or IP Encapsulating Security Payload Header <span>[<a class="cite xref" href="#RFC4303">RFC4303</a>]</span>, it can be used to provide integrity protection.
Confidentiality for the SFC Echo Request/Reply exchanges can be achieved using the IP Encapsulating Security
Payload Header <span>[<a class="cite xref" href="#RFC4303">RFC4303</a>]</span>.
Also, the security needs for the SFC Echo Request/Reply are similar to those of ICMP ping <span>[<a class="cite xref" href="#RFC0792">RFC0792</a>]</span> <span>[<a class="cite xref" href="#RFC4443">RFC4443</a>]</span>
and MPLS LSP ping <span>[<a class="cite xref" href="#RFC8029">RFC8029</a>]</span>.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">
   There are at least three approaches to attacking a node in the overlay network using the
   mechanisms defined in the document.  One is a Denial-of-Service attack, i.e.,
   sending SFC Echo Requests to overload an element of SFC.
  The second may use spoofing, hijacking, replying, or otherwise
   tampering with SFC Echo Requests and/or Replies to 
   misrepresent and alter the operator's view of the state of the SFC. 
   The third is an unauthorized source using an SFC 
   Echo Request/Reply to obtain information about the 
   SFC and/or its elements, e.g., SFFs and/or SFs.<a class="pilcrow" href="#section-7-3">¶</a></p>
<p id="section-7-4">
    It is <span class="bcp14">RECOMMENDED</span> that
   implementations throttle the number of SFC Echo Request/Reply messages going to the control plane
   to mitigate potential Denial-of-Service attacks.<a class="pilcrow" href="#section-7-4">¶</a></p>
<p id="section-7-5">
   Reply and spoofing attacks involving faking or
   replying to SFC Echo Reply messages would have to
   match the Sender's Handle and Sequence Number of 
   an outstanding SFC Echo Request message, which is highly unlikely for off-path attackers.  
   A non-matching reply would be discarded.<a class="pilcrow" href="#section-7-5">¶</a></p>
<p id="section-7-6">
   To protect against unauthorized sources trying to obtain information about the overlay and/or underlay,
   an implementation <span class="bcp14">MUST</span> have means to check that the source of the Echo Request is part of the SFP.<a class="pilcrow" href="#section-7-6">¶</a></p>
<p id="section-7-7">
Also, since the SF Information Sub-TLV discloses information about the SFP, the spoofed CVReq packet
may be used to obtain network information. Thus, implementations <span class="bcp14">MUST</span>
  provide a means of checking the source addresses of CVReq messages, as
   specified in <a class="auto internal xref" href="#source-tlv-sec">Section 6.3.1</a> ("Source ID TLV"),
   against an access list before accepting the message.<a class="pilcrow" href="#section-7-7">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-operational-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-operational-considerations">Operational Considerations</a>
      </h2>
<p id="section-8-1">
This section provides information about operational aspects of the SFC NSH Echo Request/Reply
according to recommendations in <span>[<a class="cite xref" href="#RFC5706">RFC5706</a>]</span>.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">
      The SFC NSH Echo Request/Reply provides essential OAM functions for network operators. The SFC NSH Echo Request/Reply
      is intended to detect and localize defects in SFC.  For example, by comparing results of the trace function in operational and failed states,
      an operator can locate the defect, e.g., the connection between SFF1 and SFF2 (<a class="auto internal xref" href="#fig1">Figure 1</a>).
      After narrowing down a failure to an overlay link, a more specific failure location
      can be determined using OAM tools in the underlay network. 
      The mechanism defined in this document can be used on demand or
      for periodic validation of an SFP or RSP. Because the protocol makes use of the control plane, which may
      have limited capacity, an operator must be able to rate limit
      Echo Request and Echo Reply messages. A reasonably
      selected default interval between Echo Request control packets
      can provide additional benefit for an operator. If the protocol is incrementally
      deployed in the NSH domain, SFC elements, e.g., Classifier or SFF,
      that don't support SFC active OAM will discard the protocol's packets.
If SFC uses a reclassification along the SFP or when the principle of load balancing is unknown,
the fate sharing between data and active OAM packets cannot be guaranteed.
As a result, the OAM outcome might not reflect the state of the entire SFC properly but only its segment.
In general, it is an operational task to consider the cases where active OAM may not share fate with the monitored SFP.
      The SFC NSH Echo Request/Reply also can be used in combination with the existing
      mechanisms discussed in <span>[<a class="cite xref" href="#RFC8924">RFC8924</a>]</span>, filling the gaps and extending their functionalities.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">
      Management of the SFC NSH Echo Request/Reply protocol can be provided by a proprietary tool, e.g., command line interface,
      or based on a data model that is structured or standardized.<a class="pilcrow" href="#section-8-3">¶</a></p>
</section>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-9-1">
      The terms used in the IANA considerations below are intended to be consistent with <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-9-1">¶</a></p>
<div id="iana-sfc-oam-protocol">
<section id="section-9.1">
        <h3 id="name-sfc-active-oam-protocol">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-sfc-active-oam-protocol">SFC Active OAM Protocol</a>
        </h3>
<p id="section-9.1-1">
IANA has assigned the following new type in the "NSH Next Protocol" registry within the "Network Service Header (NSH) Parameters" group of registries:<a class="pilcrow" href="#section-9.1-1">¶</a></p>
<span id="name-sfc-active-oam-protocol-2"></span><div id="iana-sfc-oam-tbl">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-sfc-active-oam-protocol-2">SFC Active OAM Protocol</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Next Protocol</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0x07</td>
              <td class="text-left" colspan="1" rowspan="1">SFC Active OAM</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-sfc-active-oam-parameters">
<section id="section-9.2">
        <h3 id="name-sfc-active-oam">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-sfc-active-oam">SFC Active OAM</a>
        </h3>
<p id="section-9.2-1">
IANA has created the "Service Function Chaining (SFC) Active Operations, Administration, and Maintenance (OAM)" group of registries, which contains the registries described in the following subsections.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
<div id="iana-sfc-oam-msg-type">
<section id="section-9.2.1">
          <h4 id="name-sfc-active-oam-message-type">
<a class="section-number selfRef" href="#section-9.2.1">9.2.1. </a><a class="section-name selfRef" href="#name-sfc-active-oam-message-type">SFC Active OAM Message Types</a>
          </h4>
<p id="section-9.2.1-1">
    IANA has created the "SFC Active OAM Message Types" registry as follows:<a class="pilcrow" href="#section-9.2.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.1-2">
            <dt id="section-9.2.1-2.1">Registry Name:</dt>
            <dd id="section-9.2.1-2.2" style="margin-left: 1.5em">SFC Active OAM Message Types<a class="pilcrow" href="#section-9.2.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.1-3">
            <dt id="section-9.2.1-3.1">Assignment Policy:</dt>
            <dd id="section-9.2.1-3.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.1-3.2.1">
                <dt id="section-9.2.1-3.2.1.1">0 - 31</dt>
                <dd id="section-9.2.1-3.2.1.2" style="margin-left: 1.5em">IETF Review<a class="pilcrow" href="#section-9.2.1-3.2.1.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.1-3.2.1.3">32 - 62</dt>
                <dd id="section-9.2.1-3.2.1.4" style="margin-left: 1.5em">First Come First Served<a class="pilcrow" href="#section-9.2.1-3.2.1.4">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-9.2.1-4">
            <dt id="section-9.2.1-4.1">Reference:</dt>
            <dd id="section-9.2.1-4.2" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.1-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sfc-active-oam-message-types"></span><div id="iana-sfc-header-type-tbl">
<table class="center" id="table-2">
            <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-sfc-active-oam-message-types">SFC Active OAM Message Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">SFC Echo Request/Reply</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2 - 62</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">63</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="iana-echo-ping-global-flags">
<section id="section-9.2.2">
          <h4 id="name-sfc-echo-request-flags">
<a class="section-number selfRef" href="#section-9.2.2">9.2.2. </a><a class="section-name selfRef" href="#name-sfc-echo-request-flags">SFC Echo Request Flags</a>
          </h4>
<p id="section-9.2.2-1">
    IANA has created the "SFC Echo Request Flags" registry to track the assignment of the 16 flags in the SFC Echo Request Flags
   field of the SFC Echo Request message. The flags are
   numbered from 0 (the most significant bit is transmitted first) to 15.<a class="pilcrow" href="#section-9.2.2-1">¶</a></p>
<p id="section-9.2.2-2">IANA has created the "SFC Echo Request Flags" registry as follows:<a class="pilcrow" href="#section-9.2.2-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.2-3">
            <dt id="section-9.2.2-3.1">Registry Name:</dt>
            <dd id="section-9.2.2-3.2" style="margin-left: 1.5em">SFC Echo Request Flags<a class="pilcrow" href="#section-9.2.2-3.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.2-4">
            <dt id="section-9.2.2-4.1">Assignment Policy:</dt>
            <dd id="section-9.2.2-4.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.2-4.2.1">
                <dt id="section-9.2.2-4.2.1.1">0 - 15</dt>
                <dd id="section-9.2.2-4.2.1.2" style="margin-left: 1.5em">Standards Action<a class="pilcrow" href="#section-9.2.2-4.2.1.2">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
<dt id="section-9.2.2-4.3">Reference:</dt>
            <dd id="section-9.2.2-4.4" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.2-4.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sfc-echo-request-flags-2"></span><div id="iana-sfc-global-flags-tbl">
<table class="center" id="table-3">
            <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-sfc-echo-request-flags-2">SFC Echo Request Flags</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Bit Number</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0 - 15</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="iana-sfc-echo-message-type">
<section id="section-9.2.3">
          <h4 id="name-sfc-echo-types">
<a class="section-number selfRef" href="#section-9.2.3">9.2.3. </a><a class="section-name selfRef" href="#name-sfc-echo-types">SFC Echo Types</a>
          </h4>
<p id="section-9.2.3-1">
    IANA has created the "SFC Echo Types" registry as follows:<a class="pilcrow" href="#section-9.2.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.3-2">
            <dt id="section-9.2.3-2.1">Registry Name:</dt>
            <dd id="section-9.2.3-2.2" style="margin-left: 1.5em">SFC Echo Types<a class="pilcrow" href="#section-9.2.3-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.3-3">
            <dt id="section-9.2.3-3.1">Assignment Policy:</dt>
            <dd id="section-9.2.3-3.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.3-3.2.1">
                <dt id="section-9.2.3-3.2.1.1">0 - 175</dt>
                <dd id="section-9.2.3-3.2.1.2" style="margin-left: 1.5em">IETF Review<a class="pilcrow" href="#section-9.2.3-3.2.1.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.3-3.2.1.3">176 - 239</dt>
                <dd id="section-9.2.3-3.2.1.4" style="margin-left: 1.5em">First Come First Served<a class="pilcrow" href="#section-9.2.3-3.2.1.4">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.3-3.2.1.5">240 - 251</dt>
                <dd id="section-9.2.3-3.2.1.6" style="margin-left: 1.5em">Experimental Use<a class="pilcrow" href="#section-9.2.3-3.2.1.6">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.3-3.2.1.7">252 - 254</dt>
                <dd id="section-9.2.3-3.2.1.8" style="margin-left: 1.5em">Private Use<a class="pilcrow" href="#section-9.2.3-3.2.1.8">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-9.2.3-4">
            <dt id="section-9.2.3-4.1">Reference:</dt>
            <dd id="section-9.2.3-4.2" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.3-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sfc-echo-types-2"></span><div id="iana-sfc-msg-type-tbl">
<table class="center" id="table-4">
            <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-sfc-echo-types-2">SFC Echo Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">SFC Echo Request</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">SFC Echo Reply</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">SFP Consistency Verification Request</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">SFP Consistency Verification Reply</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">5 - 239</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">240 - 251</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Experimental Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">252 - 254</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Private Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">255</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="iana-sfc-ping-reply-mode">
<section id="section-9.2.4">
          <h4 id="name-sfc-echo-reply-modes">
<a class="section-number selfRef" href="#section-9.2.4">9.2.4. </a><a class="section-name selfRef" href="#name-sfc-echo-reply-modes">SFC Echo Reply Modes</a>
          </h4>
<p id="section-9.2.4-1">
    IANA has created the "SFC Echo Reply Modes" registry as follows:<a class="pilcrow" href="#section-9.2.4-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.4-2">
            <dt id="section-9.2.4-2.1">Registry Name:</dt>
            <dd id="section-9.2.4-2.2" style="margin-left: 1.5em">SFC Echo Reply Modes<a class="pilcrow" href="#section-9.2.4-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.4-3">
            <dt id="section-9.2.4-3.1">Assignment Policy:</dt>
            <dd id="section-9.2.4-3.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.4-3.2.1">
                <dt id="section-9.2.4-3.2.1.1">0 - 175</dt>
                <dd id="section-9.2.4-3.2.1.2" style="margin-left: 1.5em">IETF Review<a class="pilcrow" href="#section-9.2.4-3.2.1.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.4-3.2.1.3">176 - 239</dt>
                <dd id="section-9.2.4-3.2.1.4" style="margin-left: 1.5em">First Come First Served<a class="pilcrow" href="#section-9.2.4-3.2.1.4">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.4-3.2.1.5">240 - 251</dt>
                <dd id="section-9.2.4-3.2.1.6" style="margin-left: 1.5em">Experimental Use<a class="pilcrow" href="#section-9.2.4-3.2.1.6">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.4-3.2.1.7">252 - 254</dt>
                <dd id="section-9.2.4-3.2.1.8" style="margin-left: 1.5em">Private Use<a class="pilcrow" href="#section-9.2.4-3.2.1.8">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-9.2.4-4">
            <dt id="section-9.2.4-4.1">Reference:</dt>
            <dd id="section-9.2.4-4.2" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.4-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sfc-echo-reply-modes-2"></span><div id="iana-sfc-reply-modes-tbl">
<table class="center" id="table-5">
            <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-sfc-echo-reply-modes-2">SFC Echo Reply Modes</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">Do Not Reply</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">Reply via an IPv4/IPv6 UDP Packet</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">Reply via Specified Path</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">Reply via an IPv4/IPv6 UDP Packet with the data integrity protection</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">6</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">7</td>
                <td class="text-left" colspan="1" rowspan="1">Reply via Specified Path with the data integrity protection</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">8 - 239</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">240 - 251</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Experimental Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">252 - 254</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Private Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">255</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="iana-sfc-ping-return-codes">
<section id="section-9.2.5">
          <h4 id="name-sfc-echo-return-codes">
<a class="section-number selfRef" href="#section-9.2.5">9.2.5. </a><a class="section-name selfRef" href="#name-sfc-echo-return-codes">SFC Echo Return Codes</a>
          </h4>
<p id="section-9.2.5-1">
    IANA has created the "SFC Echo Return Codes" registry as follows:<a class="pilcrow" href="#section-9.2.5-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.5-2">
            <dt id="section-9.2.5-2.1">Registry Name:</dt>
            <dd id="section-9.2.5-2.2" style="margin-left: 1.5em">SFC Echo Return Codes<a class="pilcrow" href="#section-9.2.5-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.5-3">
            <dt id="section-9.2.5-3.1">Assignment Policy:</dt>
            <dd id="section-9.2.5-3.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.5-3.2.1">
                <dt id="section-9.2.5-3.2.1.1">0 - 191</dt>
                <dd id="section-9.2.5-3.2.1.2" style="margin-left: 1.5em">IETF Review<a class="pilcrow" href="#section-9.2.5-3.2.1.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.5-3.2.1.3">192 - 251</dt>
                <dd id="section-9.2.5-3.2.1.4" style="margin-left: 1.5em">First Come First Served<a class="pilcrow" href="#section-9.2.5-3.2.1.4">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.5-3.2.1.5">252 - 254</dt>
                <dd id="section-9.2.5-3.2.1.6" style="margin-left: 1.5em">Private Use<a class="pilcrow" href="#section-9.2.5-3.2.1.6">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-9.2.5-4">
            <dt id="section-9.2.5-4.1">Reference:</dt>
            <dd id="section-9.2.5-4.2" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.5-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sfc-echo-return-codes-2"></span><div id="iana-sfc-ping-return-codes-tbl">
<table class="center" id="table-6">
            <caption>
<a class="selfRef" href="#table-6">Table 6</a>:
<a class="selfRef" href="#name-sfc-echo-return-codes-2">SFC Echo Return Codes</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">No Error</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">Malformed Echo Request received</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">One or more of the TLVs was not understood</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">Authentication failed</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">SFC TTL Exceeded</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">End of the SFP</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">6</td>
                <td class="text-left" colspan="1" rowspan="1">Reply Service Function Path TLV is missing</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">7</td>
                <td class="text-left" colspan="1" rowspan="1">Reply SFP was not found</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">8</td>
                <td class="text-left" colspan="1" rowspan="1">Unverifiable Reply Service Function Path</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">9 - 251</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">252 - 254</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Private Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">255</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="iana-sfc-active-oam-tlv">
<section id="section-9.2.6">
          <h4 id="name-sfc-active-oam-tlv-types">
<a class="section-number selfRef" href="#section-9.2.6">9.2.6. </a><a class="section-name selfRef" href="#name-sfc-active-oam-tlv-types">SFC Active OAM TLV Types</a>
          </h4>
<p id="section-9.2.6-1">
    IANA has created the "SFC Active OAM TLV Types" registry as follows:<a class="pilcrow" href="#section-9.2.6-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.6-2">
            <dt id="section-9.2.6-2.1">Registry Name:</dt>
            <dd id="section-9.2.6-2.2" style="margin-left: 1.5em">SFC Active OAM TLV Types<a class="pilcrow" href="#section-9.2.6-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.6-3">
            <dt id="section-9.2.6-3.1">Assignment Policy:</dt>
            <dd id="section-9.2.6-3.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.6-3.2.1">
                <dt id="section-9.2.6-3.2.1.1">0 - 175</dt>
                <dd id="section-9.2.6-3.2.1.2" style="margin-left: 1.5em">IETF Review<a class="pilcrow" href="#section-9.2.6-3.2.1.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.6-3.2.1.3">176 - 239</dt>
                <dd id="section-9.2.6-3.2.1.4" style="margin-left: 1.5em">First Come First Served<a class="pilcrow" href="#section-9.2.6-3.2.1.4">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.6-3.2.1.5">240 - 251</dt>
                <dd id="section-9.2.6-3.2.1.6" style="margin-left: 1.5em">Experimental Use<a class="pilcrow" href="#section-9.2.6-3.2.1.6">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.6-3.2.1.7">252 - 254</dt>
                <dd id="section-9.2.6-3.2.1.8" style="margin-left: 1.5em">Private Use<a class="pilcrow" href="#section-9.2.6-3.2.1.8">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-9.2.6-4">
            <dt id="section-9.2.6-4.1">Reference:</dt>
            <dd id="section-9.2.6-4.2" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.6-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sfc-active-oam-tlv-types-2"></span><div id="iana-sfc-active-oam-type-tbl">
<table class="center" id="table-7">
            <caption>
<a class="selfRef" href="#table-7">Table 7</a>:
<a class="selfRef" href="#name-sfc-active-oam-tlv-types-2">SFC Active OAM TLV Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">Source ID TLV</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">Errored TLVs</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">Reply Service Function Path Type</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">SFF Information Record Type</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">SF Information</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">6 - 239</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">240 - 251</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Experimental Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">252 - 254</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Private Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">255</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="coam-sf-id-type-sec">
<section id="section-9.2.7">
          <h4 id="name-sf-identifier-types">
<a class="section-number selfRef" href="#section-9.2.7">9.2.7. </a><a class="section-name selfRef" href="#name-sf-identifier-types">SF Identifier Types</a>
          </h4>
<p id="section-9.2.7-1">
    IANA has created the "SF Identifier Types" as follows:<a class="pilcrow" href="#section-9.2.7-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.2.7-2">
            <dt id="section-9.2.7-2.1">Registry Name:</dt>
            <dd id="section-9.2.7-2.2" style="margin-left: 1.5em">SF Identifier Types<a class="pilcrow" href="#section-9.2.7-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-9.2.7-3">
            <dt id="section-9.2.7-3.1">Assignment Policy:</dt>
            <dd id="section-9.2.7-3.2" style="margin-left: 1.5em">
              <span class="break"></span><dl class="dlCompact dlParallel" id="section-9.2.7-3.2.1">
                <dt id="section-9.2.7-3.2.1.1">0 - 191</dt>
                <dd id="section-9.2.7-3.2.1.2" style="margin-left: 1.5em">IETF Review<a class="pilcrow" href="#section-9.2.7-3.2.1.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.7-3.2.1.3">192 - 251</dt>
                <dd id="section-9.2.7-3.2.1.4" style="margin-left: 1.5em">First Come First Served<a class="pilcrow" href="#section-9.2.7-3.2.1.4">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-9.2.7-3.2.1.5">252 - 254</dt>
                <dd id="section-9.2.7-3.2.1.6" style="margin-left: 1.5em">Private Use<a class="pilcrow" href="#section-9.2.7-3.2.1.6">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-9.2.7-4">
            <dt id="section-9.2.7-4.1">Reference:</dt>
            <dd id="section-9.2.7-4.2" style="margin-left: 1.5em">RFC 9516<a class="pilcrow" href="#section-9.2.7-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-sf-identifier-types-2"></span><div id="iana-sf-id-type-tbl">
<table class="center" id="table-8">
            <caption>
<a class="selfRef" href="#table-8">Table 8</a>:
<a class="selfRef" href="#name-sf-identifier-types-2">SF Identifier Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">MAC</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">4 - 251</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-left" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">252 - 254</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved for Private Use</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">255</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 9516</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7665">[RFC7665]</dt>
        <dd>
<span class="refAuthor">Halpern, J., Ed.</span> and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Service Function Chaining (SFC) Architecture"</span>, <span class="seriesInfo">RFC 7665</span>, <span class="seriesInfo">DOI 10.17487/RFC7665</span>, <time class="refDate" datetime="2015-10">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7665">https://www.rfc-editor.org/info/rfc7665</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8300">[RFC8300]</dt>
        <dd>
<span class="refAuthor">Quinn, P., Ed.</span>, <span class="refAuthor">Elzur, U., Ed.</span>, and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Network Service Header (NSH)"</span>, <span class="seriesInfo">RFC 8300</span>, <span class="seriesInfo">DOI 10.17487/RFC8300</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8300">https://www.rfc-editor.org/info/rfc8300</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9015">[RFC9015]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">L. Jalil</span>, <span class="refTitle">"BGP Control Plane for the Network Service Header in Service Function Chaining"</span>, <span class="seriesInfo">RFC 9015</span>, <span class="seriesInfo">DOI 10.17487/RFC9015</span>, <time class="refDate" datetime="2021-06">June 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9015">https://www.rfc-editor.org/info/rfc9015</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9145">[RFC9145]</dt>
        <dd>
<span class="refAuthor">Boucadair, M.</span>, <span class="refAuthor">Reddy.K, T.</span>, and <span class="refAuthor">D. Wing</span>, <span class="refTitle">"Integrity Protection for the Network Service Header (NSH) and Encryption of Sensitive Context Headers"</span>, <span class="seriesInfo">RFC 9145</span>, <span class="seriesInfo">DOI 10.17487/RFC9145</span>, <time class="refDate" datetime="2021-12">December 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9145">https://www.rfc-editor.org/info/rfc9145</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9451">[RFC9451]</dt>
      <dd>
<span class="refAuthor">Boucadair, M.</span>, <span class="refTitle">"Operations, Administration, and Maintenance (OAM) Packet and Behavior in the Network Service Header (NSH)"</span>, <span class="seriesInfo">RFC 9451</span>, <span class="seriesInfo">DOI 10.17487/RFC9451</span>, <time class="refDate" datetime="2023-08">August 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9451">https://www.rfc-editor.org/info/rfc9451</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC0792">[RFC0792]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Control Message Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 792</span>, <span class="seriesInfo">DOI 10.17487/RFC0792</span>, <time class="refDate" datetime="1981-09">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc792">https://www.rfc-editor.org/info/rfc792</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4086">[RFC4086]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refAuthor">Schiller, J.</span>, and <span class="refAuthor">S. Crocker</span>, <span class="refTitle">"Randomness Requirements for Security"</span>, <span class="seriesInfo">BCP 106</span>, <span class="seriesInfo">RFC 4086</span>, <span class="seriesInfo">DOI 10.17487/RFC4086</span>, <time class="refDate" datetime="2005-06">June 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4086">https://www.rfc-editor.org/info/rfc4086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4302">[RFC4302]</dt>
        <dd>
<span class="refAuthor">Kent, S.</span>, <span class="refTitle">"IP Authentication Header"</span>, <span class="seriesInfo">RFC 4302</span>, <span class="seriesInfo">DOI 10.17487/RFC4302</span>, <time class="refDate" datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4302">https://www.rfc-editor.org/info/rfc4302</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4303">[RFC4303]</dt>
        <dd>
<span class="refAuthor">Kent, S.</span>, <span class="refTitle">"IP Encapsulating Security Payload (ESP)"</span>, <span class="seriesInfo">RFC 4303</span>, <span class="seriesInfo">DOI 10.17487/RFC4303</span>, <time class="refDate" datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4303">https://www.rfc-editor.org/info/rfc4303</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time class="refDate" datetime="2006-03">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4443">https://www.rfc-editor.org/info/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5706">[RFC5706]</dt>
        <dd>
<span class="refAuthor">Harrington, D.</span>, <span class="refTitle">"Guidelines for Considering Operations and Management of New Protocols and Protocol Extensions"</span>, <span class="seriesInfo">RFC 5706</span>, <span class="seriesInfo">DOI 10.17487/RFC5706</span>, <time class="refDate" datetime="2009-11">November 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5706">https://www.rfc-editor.org/info/rfc5706</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5880">[RFC5880]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6437">[RFC6437]</dt>
        <dd>
<span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time class="refDate" datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7110">[RFC7110]</dt>
        <dd>
<span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Cao, W.</span>, <span class="refAuthor">Ning, S.</span>, <span class="refAuthor">Jounay, F.</span>, and <span class="refAuthor">S. Delord</span>, <span class="refTitle">"Return Path Specified Label Switched Path (LSP) Ping"</span>, <span class="seriesInfo">RFC 7110</span>, <span class="seriesInfo">DOI 10.17487/RFC7110</span>, <time class="refDate" datetime="2014-01">January 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7110">https://www.rfc-editor.org/info/rfc7110</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7555">[RFC7555]</dt>
        <dd>
<span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Lim, V.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"Proxy MPLS Echo Request"</span>, <span class="seriesInfo">RFC 7555</span>, <span class="seriesInfo">DOI 10.17487/RFC7555</span>, <time class="refDate" datetime="2015-06">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7555">https://www.rfc-editor.org/info/rfc7555</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8029">[RFC8029]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, <span class="refAuthor">Kumar, N.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Detecting Multiprotocol Label Switched (MPLS) Data-Plane Failures"</span>, <span class="seriesInfo">RFC 8029</span>, <span class="seriesInfo">DOI 10.17487/RFC8029</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8029">https://www.rfc-editor.org/info/rfc8029</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8595">[RFC8595]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Bryant, S.</span>, and <span class="refAuthor">J. Drake</span>, <span class="refTitle">"An MPLS-Based Forwarding Plane for Service Function Chaining"</span>, <span class="seriesInfo">RFC 8595</span>, <span class="seriesInfo">DOI 10.17487/RFC8595</span>, <time class="refDate" datetime="2019-06">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8595">https://www.rfc-editor.org/info/rfc8595</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8924">[RFC8924]</dt>
        <dd>
<span class="refAuthor">Aldrin, S.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, <span class="refAuthor">Kumar, N., Ed.</span>, <span class="refAuthor">Krishnan, R.</span>, and <span class="refAuthor">A. Ghanwani</span>, <span class="refTitle">"Service Function Chaining (SFC) Operations, Administration, and Maintenance (OAM) Framework"</span>, <span class="seriesInfo">RFC 8924</span>, <span class="seriesInfo">DOI 10.17487/RFC8924</span>, <time class="refDate" datetime="2020-10">October 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8924">https://www.rfc-editor.org/info/rfc8924</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9263">[RFC9263]</dt>
      <dd>
<span class="refAuthor">Wei, Y., Ed.</span>, <span class="refAuthor">Elzur, U.</span>, <span class="refAuthor">Majee, S.</span>, <span class="refAuthor">Pignataro, C.</span>, and <span class="refAuthor">D. Eastlake 3rd</span>, <span class="refTitle">"Network Service Header (NSH) Metadata Type 2 Variable-Length Context Headers"</span>, <span class="seriesInfo">RFC 9263</span>, <span class="seriesInfo">DOI 10.17487/RFC9263</span>, <time class="refDate" datetime="2022-08">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9263">https://www.rfc-editor.org/info/rfc9263</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">
         The authors greatly appreciate the thorough review and the most helpful comments from <span class="contact-name">Dan Wing</span>, <span class="contact-name">Dirk von Hugo</span>,
        <span class="contact-name">Mohamed Boucadair</span>, <span class="contact-name">Donald Eastlake 3rd</span>, <span class="contact-name">Carlos Pignataro</span>, and <span class="contact-name">Frank Brockners</span>. The authors are thankful to <span class="contact-name">John Drake</span> for his review
        and the reference to the work on BGP control plane for NSH SFC.
  The authors express their appreciation to <span class="contact-name">Joel M. Halpern</span> for his suggestion about the load-balancing scenario.
  The authors greatly appreciate the thoroughness of comments and thoughtful suggestions by <span class="contact-name">Darren Dukes</span> that significantly improved the document.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
<div id="contr-sec">
<section id="appendix-B">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Cui Wang</span></div>
<div class="left" dir="auto"><span class="org">Individual contributor</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lindawangjoy@gmail.com">lindawangjoy@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zhonghua Chen</span></div>
<div class="left" dir="auto"><span class="org">China Telecom</span></div>
<div class="left" dir="auto"><span class="street-address">No.1835, South PuDong Road</span></div>
<div class="left" dir="auto"><span class="locality">Shanghai</span></div>
<div class="left" dir="auto"><span class="postal-code">201203</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+86%2018918588897">+86 18918588897</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:chenzhongh@chinatelecom.cn">chenzhongh@chinatelecom.cn</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Greg Mirsky</span></div>
<div class="left" dir="auto"><span class="org">Ericsson</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gregimirsky@gmail.com">gregimirsky@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Wei Meng</span></div>
<div class="left" dir="auto"><span class="org">ZTE Corporation</span></div>
<div class="left" dir="auto"><span class="extended-address">Yuhuatai District</span></div>
<div class="left" dir="auto"><span class="street-address">No.50 Software Avenue</span></div>
<div class="left" dir="auto">
<span class="region">Nanjing</span>, </div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:meng.wei2@zte.com.cn">meng.wei2@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ting Ao</span></div>
<div class="left" dir="auto"><span class="org">China Mobile</span></div>
<div class="left" dir="auto"><span class="street-address">No.889, BiBo Road</span></div>
<div class="left" dir="auto"><span class="locality">Shanghai</span></div>
<div class="left" dir="auto"><span class="postal-code">201203</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+86%2017721209283">+86 17721209283</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:18555817@qq.com">18555817@qq.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Bhumip Khasnabish</span></div>
<div class="left" dir="auto"><span class="org">Individual Contributor</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:vumip1@gmail.com">vumip1@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kent Leung</span></div>
<div class="left" dir="auto"><span class="org">Individual Contributor</span></div>
<div class="left" dir="auto"><span class="street-address">530 Showers Drive Ste 7</span></div>
<div class="left" dir="auto">
<span class="locality">Mountain View</span>, <span class="region">CA</span> <span class="postal-code">94040</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mail4kentl@gmail.com">mail4kentl@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Gyan Mishra</span></div>
<div class="left" dir="auto"><span class="org">Verizon Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gyan.s.mishra@verizon.com">gyan.s.mishra@verizon.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>