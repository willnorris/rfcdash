<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8964: Deterministic Networking (DetNet) Data Plane: MPLS</title>
<meta content="Balázs Varga" name="author"/>
<meta content="János Farkas" name="author"/>
<meta content="Lou Berger" name="author"/>
<meta content="Andrew G. Malis" name="author"/>
<meta content="Stewart Bryant" name="author"/>
<meta content="Jouni Korhonen" name="author"/>
<meta content="
       
     This document specifies the Deterministic Networking (DetNet) data plane
     when operating over an MPLS Packet Switched Network.  It leverages
     existing pseudowire (PW) encapsulations and MPLS Traffic Engineering
     (MPLS-TE) encapsulations and mechanisms.  This document builds on the
     DetNet architecture and data plane framework.
       
    " name="description"/>
<meta content="xml2rfc 3.5.0" name="generator"/>
<meta content="8964" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8964.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8964" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-detnet-mpls-13" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8964</td>
<td class="center">DetNet Data Plane: MPLS</td>
<td class="right">January 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Varga, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8964">8964</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-01">January 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Varga, <span class="editor">Ed.</span>
</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">J. Farkas</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">L. Berger</div>
<div class="org">LabN Consulting, L.L.C.</div>
</div>
<div class="author">
      <div class="author-name">A. Malis</div>
<div class="org">Malis Consulting</div>
</div>
<div class="author">
      <div class="author-name">S. Bryant</div>
<div class="org">Futurewei Technologies</div>
</div>
<div class="author">
      <div class="author-name">J. Korhonen</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8964</h1>
<h1 id="title">Deterministic Networking (DetNet) Data Plane: MPLS</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
     This document specifies the Deterministic Networking (DetNet) data plane
     when operating over an MPLS Packet Switched Network.  It leverages
     existing pseudowire (PW) encapsulations and MPLS Traffic Engineering
     (MPLS-TE) encapsulations and mechanisms.  This document builds on the
     DetNet architecture and data plane framework.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8964">https://www.rfc-editor.org/info/rfc8964</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-terms-used-in-this-document">Terms Used in This Document</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.2.2.2">
                <p class="keepWithNext" id="section-toc.1-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-abbreviations">Abbreviations</a><a class="pilcrow" href="#section-toc.1-1.2.2.2.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="xref" href="#section-2.3">2.3</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.2.2.3.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-overview-of-the-detnet-mpls">Overview of the DetNet MPLS Data Plane</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-layers-of-detnet-data-plane">Layers of DetNet Data Plane</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-detnet-mpls-data-plane-scen">DetNet MPLS Data Plane Scenarios</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-mpls-based-detnet-data-plan">MPLS-Based DetNet Data Plane Solution</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-detnet-over-mpls-encapsulat">DetNet over MPLS Encapsulation Components</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-mpls-data-plane-encapsulati">MPLS Data Plane Encapsulation</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a class="xref" href="#section-4.2.1">4.2.1</a>.  <a class="xref" href="#name-detnet-control-word-and-det">DetNet Control Word and DetNet Sequence Number</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.2.1.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a class="xref" href="#section-4.2.2">4.2.2</a>.  <a class="xref" href="#name-s-labels">S-Labels</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.2.2.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a class="xref" href="#section-4.2.3">4.2.3</a>.  <a class="xref" href="#name-f-labels">F-Labels</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-oam-indication">OAM Indication</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-flow-aggregation">Flow Aggregation</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a class="xref" href="#section-4.4.1">4.4.1</a>.  <a class="xref" href="#name-aggregation-via-lsp-hierarc">Aggregation via LSP Hierarchy</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.2.1.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a class="xref" href="#section-4.4.2">4.4.2</a>.  <a class="xref" href="#name-aggregating-detnet-flows-as">Aggregating DetNet Flows as a New DetNet Flow</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-service-sub-layer-considera">Service Sub-Layer Considerations</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.5.2.1">
                    <p id="section-toc.1-1.4.2.5.2.1.1"><a class="xref" href="#section-4.5.1">4.5.1</a>.  <a class="xref" href="#name-edge-node-processing">Edge Node Processing</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.2.1.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.5.2.2">
                    <p id="section-toc.1-1.4.2.5.2.2.1"><a class="xref" href="#section-4.5.2">4.5.2</a>.  <a class="xref" href="#name-relay-node-processing">Relay Node Processing</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-forwarding-sub-layer-consid">Forwarding Sub-Layer Considerations</a><a class="pilcrow" href="#section-toc.1-1.4.2.6.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.6.2.1">
                    <p id="section-toc.1-1.4.2.6.2.1.1"><a class="xref" href="#section-4.6.1">4.6.1</a>.  <a class="xref" href="#name-class-of-service">Class of Service</a><a class="pilcrow" href="#section-toc.1-1.4.2.6.2.1.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.6.2.2">
                    <p id="section-toc.1-1.4.2.6.2.2.1"><a class="xref" href="#section-4.6.2">4.6.2</a>.  <a class="xref" href="#name-quality-of-service">Quality of Service</a><a class="pilcrow" href="#section-toc.1-1.4.2.6.2.2.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-management-and-control-info">Management and Control Information Summary</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-service-sub-layer-informati">Service Sub-Layer Information Summary</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a class="xref" href="#section-5.1.1">5.1.1</a>.  <a class="xref" href="#name-service-aggregation-informa">Service Aggregation Information Summary</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-forwarding-sub-layer-inform">Forwarding Sub-Layer Information Summary</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.8.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.8.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-contributors">Contributors</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec_intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
        Deterministic Networking (DetNet) is a service that can be offered by a
 network to DetNet flows.
        DetNet provides a capability for the delivery of data flows with
        extremely low packet loss rates and bounded end-to-end delivery
        latency.
 General background and concepts of DetNet can be found in the DetNet 
 architecture <span>[<a class="xref" href="#RFC8655">RFC8655</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">
   The purpose of this document is to describe the use of the MPLS 
   data plane to establish and support DetNet flows.
   The DetNet architecture models the DetNet-related data plane
   functions as being decomposed into two sub-layers: a service sub-layer and a
   forwarding sub-layer.  The service sub-layer is used to provide
   DetNet service functions, such as protection and reordering.  At the
   DetNet data plane, a new set of functions (Packet Replication, Elimination
   and Ordering Functions (PREOF)) provide the tasks specific to the service
   sub-layer. The forwarding sub-layer is used to provide
   forwarding assurance (low loss, assured latency, and limited
   out-of-order delivery). The use of the functionalities of the DetNet 
   service sub-layer and the DetNet forwarding sub-layer require 
   careful design and control by the Controller Plane in addition to the
   DetNet-specific use of MPLS encapsulation as specified by this 
   document.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">
    This document specifies the DetNet data plane operation and the on-wire
    encapsulation of DetNet flows over an MPLS-based Packet Switched Network
    (PSN) using the service reference model.  MPLS encapsulation
    already provides a solid foundation of building blocks to enable the DetNet
    service and forwarding sub-layer functions.  

MPLS-encapsulated DetNet can
    be carried over a variety of different network technologies that can
    provide the level of service required for DetNet.  However, the specific
    details of how DetNet MPLS is carried over different network technologies
    are out of scope for this document.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
    MPLS-encapsulated DetNet flows can carry different types of
    traffic.  The details of the types of traffic that are carried in
    DetNet are also out of scope for this document.  An example of IP
    using DetNet MPLS sub-networks can be found in <span>[<a class="xref" href="#RFC8939">RFC8939</a>]</span>. DetNet MPLS may use an associated controller 
    and Operations, Administration, and Maintenance (OAM) functions
    that are defined outside of this document.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">
    Background information common to all data planes for DetNet
    can be found in the DetNet data plane framework <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.<a class="pilcrow" href="#section-1-5">¶</a></p>
</section>
</div>
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<section id="section-2.1">
        <h3 id="name-terms-used-in-this-document">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-terms-used-in-this-document">Terms Used in This Document</a>
        </h3>
<p id="section-2.1-1">
   This document uses the terminology established in the DetNet
   architecture <span>[<a class="xref" href="#RFC8655">RFC8655</a>]</span> and 
   the DetNet data plane framework <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>. The reader is
   assumed to be familiar with these documents, any terminology
   defined therein, and basic MPLS-related terminologies in 
   <span>[<a class="xref" href="#RFC3031">RFC3031</a>]</span>.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2">
   The following terminology is introduced in this document:<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.1-3">
          <dt id="section-2.1-3.1">F-Label</dt>
          <dd id="section-2.1-3.2" style="margin-left: 7.0em">
       A DetNet "forwarding" label that identifies the Label Switched Path (LSP) used to
       forward a DetNet flow across an MPLS PSN, i.e., a hop-by-hop
       label used between Label Switching Routers (LSRs).<a class="pilcrow" href="#section-2.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.3">S-Label</dt>
          <dd id="section-2.1-3.4" style="margin-left: 7.0em">
       A DetNet "service" label that is used between DetNet nodes that
       implement the DetNet service sub-layer functions. An S-Label
       is used to identify a DetNet flow at the DetNet service
       sub-layer at a receiving DetNet node.<a class="pilcrow" href="#section-2.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.5">A-Label</dt>
          <dd id="section-2.1-3.6" style="margin-left: 7.0em">
       A special case of an S-Label, whose aggregation properties are known only at 
       the aggregation and deaggregation end points.<a class="pilcrow" href="#section-2.1-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.7">d-CW</dt>
          <dd id="section-2.1-3.8" style="margin-left: 7.0em">
      A DetNet Control Word (d-CW) that is used for sequencing information
      of a DetNet flow at the DetNet
      service sub-layer.<a class="pilcrow" href="#section-2.1-3.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-2.2">
        <h3 id="name-abbreviations">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-abbreviations">Abbreviations</a>
        </h3>
<p id="section-2.2-1">
   The following abbreviations are used in this document:<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.2-2">
          <dt id="section-2.2-2.1">CoS</dt>
          <dd id="section-2.2-2.2" style="margin-left: 7.0em">Class of Service<a class="pilcrow" href="#section-2.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.3">CW</dt>
          <dd id="section-2.2-2.4" style="margin-left: 7.0em">Control Word<a class="pilcrow" href="#section-2.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.5">DetNet</dt>
          <dd id="section-2.2-2.6" style="margin-left: 7.0em">Deterministic Networking<a class="pilcrow" href="#section-2.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.7">LSR</dt>
          <dd id="section-2.2-2.8" style="margin-left: 7.0em">Label Switching Router<a class="pilcrow" href="#section-2.2-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.9">MPLS</dt>
          <dd id="section-2.2-2.10" style="margin-left: 7.0em">Multiprotocol Label Switching<a class="pilcrow" href="#section-2.2-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.11">MPLS-TE</dt>
          <dd id="section-2.2-2.12" style="margin-left: 7.0em">Multiprotocol Label Switching Traffic Engineering<a class="pilcrow" href="#section-2.2-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.13">MPLS-TP</dt>
          <dd id="section-2.2-2.14" style="margin-left: 7.0em">Multiprotocol Label Switching Transport Profile<a class="pilcrow" href="#section-2.2-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.15">OAM</dt>
          <dd id="section-2.2-2.16" style="margin-left: 7.0em">Operations, Administration, and Maintenance<a class="pilcrow" href="#section-2.2-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.17">PE</dt>
          <dd id="section-2.2-2.18" style="margin-left: 7.0em">Provider Edge<a class="pilcrow" href="#section-2.2-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.19">PEF</dt>
          <dd id="section-2.2-2.20" style="margin-left: 7.0em">Packet Elimination Function<a class="pilcrow" href="#section-2.2-2.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.21">PRF</dt>
          <dd id="section-2.2-2.22" style="margin-left: 7.0em">Packet Replication Function<a class="pilcrow" href="#section-2.2-2.22">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.23">PREOF</dt>
          <dd id="section-2.2-2.24" style="margin-left: 7.0em">Packet Replication, Elimination and Ordering Functions<a class="pilcrow" href="#section-2.2-2.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.25">POF</dt>
          <dd id="section-2.2-2.26" style="margin-left: 7.0em">Packet Ordering Function<a class="pilcrow" href="#section-2.2-2.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.27">PSN</dt>
          <dd id="section-2.2-2.28" style="margin-left: 7.0em">Packet Switched Network<a class="pilcrow" href="#section-2.2-2.28">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.29">PW</dt>
          <dd id="section-2.2-2.30" style="margin-left: 7.0em">Pseudowire<a class="pilcrow" href="#section-2.2-2.30">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.31">QoS</dt>
          <dd id="section-2.2-2.32" style="margin-left: 7.0em">Quality of Service<a class="pilcrow" href="#section-2.2-2.32">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.33">S-PE</dt>
          <dd id="section-2.2-2.34" style="margin-left: 7.0em">Switching Provider Edge<a class="pilcrow" href="#section-2.2-2.34">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.35">T-PE</dt>
          <dd id="section-2.2-2.36" style="margin-left: 7.0em">Terminating Provider Edge<a class="pilcrow" href="#section-2.2-2.36">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.37">TSN</dt>
          <dd id="section-2.2-2.38" style="margin-left: 7.0em">Time-Sensitive Networking<a class="pilcrow" href="#section-2.2-2.38">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-2.3">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-2.3-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2.3-1">¶</a></p>
</section>
</section>
<div id="sec_dt_dp">
<section id="section-3">
      <h2 id="name-overview-of-the-detnet-mpls">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-overview-of-the-detnet-mpls">Overview of the DetNet MPLS Data Plane</a>
      </h2>
<div id="sec_lay_dt_dp">
<section id="section-3.1">
        <h3 id="name-layers-of-detnet-data-plane">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-layers-of-detnet-data-plane">Layers of DetNet Data Plane</a>
        </h3>
<p id="section-3.1-1">
    MPLS provides a wide range of capabilities that can be utilized
    by DetNet.  A straight-forward approach utilizing MPLS for a
    DetNet service sub-layer is based on the existing pseudowire (PW)
    encapsulations and utilizes existing MPLS-TE
    encapsulations and mechanisms.
    Background on PWs can be found in <span>[<a class="xref" href="#RFC3985">RFC3985</a>]</span>, <span>[<a class="xref" href="#RFC3032">RFC3032</a>]</span>, and <span>[<a class="xref" href="#RFC3031">RFC3031</a>]</span>. 
    Background on MPLS-TE can be 
    found in <span>[<a class="xref" href="#RFC3272">RFC3272</a>]</span> and <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span>.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<span id="name-detnet-adaptation-to-mpls-d"></span><div id="dn_mpls_dp_approach">
<figure id="figure-1">
          <div class="artwork art-text alignCenter" id="section-3.1-2.1">
<pre>                   DetNet        MPLS
                     .
Bottom of Stack      .
(inner label)    +------------+
                 |  Service   | d-CW, S-Label (A-Label)
                 +------------+
                 | Forwarding | F-Label(s)
                 +------------+
Top of Stack         .
(outer label)        .
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-detnet-adaptation-to-mpls-d">DetNet Adaptation to MPLS Data Plane</a>
          </figcaption></figure>
</div>
<p id="section-3.1-3">
    The DetNet MPLS data plane representation is illustrated in
    <a class="xref" href="#dn_mpls_dp_approach">Figure 1</a>.
    The service sub-layer includes a DetNet Control Word (d-CW) and
    an identifying service label (S-Label).  The DetNet Control Word
    (d-CW) conforms to the Generic PW MPLS Control Word (PWMCW)
    defined in <span>[<a class="xref" href="#RFC4385">RFC4385</a>]</span>. An aggregation label (A-Label) is
    a special case of S-Label used for aggregation.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">
    A node operating on a received DetNet flow at the DetNet service
    sub-layer uses the local context associated with a received S-Label,
    i.e., a received F-Label, to determine which local DetNet
    operation(s) are applied to that packet.
    An S-Label may be taken from the platform label space
    <span>[<a class="xref" href="#RFC3031">RFC3031</a>]</span>, making it unique and enabling DetNet
    flow identification regardless of which input interface or
    LSP the packet arrives on. It is important to note that S-Label
    values are driven by the receiver, not the sender.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">
    The DetNet forwarding sub-layer is supported by zero or more
    forwarding labels (F-Labels). MPLS-TE
    encapsulations and mechanisms can be utilized to provide a
    forwarding sub-layer that is responsible for providing resource
    allocation and explicit routes.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
</section>
</div>
<div id="sec_mpls_dt_dp_scen">
<section id="section-3.2">
        <h3 id="name-detnet-mpls-data-plane-scen">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-detnet-mpls-data-plane-scen">DetNet MPLS Data Plane Scenarios</a>
        </h3>
<span id="name-a-detnet-mpls-network"></span><div id="fig_dn_mpls_detnet">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-3.2-1.1">
<pre>DetNet MPLS       Relay       Transit         Relay       DetNet MPLS
End System        Node         Node           Node        End System
   (T-PE)        (S-PE)       (LSR)          (S-PE)         (T-PE)
+----------+                                             +----------+
|   Appl.  |&lt;------------ End-to-End Service -----------&gt;|   Appl.  |
+----------+   +---------+                 +---------+   +----------+
| Service  |&lt;--| Service |-- DetNet flow --| Service |--&gt;| Service  |
+----------+   +---------+  +----------+   +---------+   +----------+
|Forwarding|   |Fwd| |Fwd|  |Forwarding|   |Fwd| |Fwd|   |Forwarding|
+-------.--+   +-.-+ +-.-+  +----.---.-+   +-.-+ +-.-+   +---.------+
        :  Link  :    /  ,-----.  \   : Link :    /  ,-----.  \
        +........+    +-[ Sub-  ]-+   +......+    +-[ Sub-  ]-+
                        [Network]                   [Network]
                         `-----'                     `-----'
        |&lt;- LSP --&gt;| |&lt;-------- LSP -----------| |&lt;--- LSP --&gt;|

        |&lt;----------------- DetNet MPLS ---------------------&gt;|
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-a-detnet-mpls-network">A DetNet MPLS Network</a>
          </figcaption></figure>
</div>
<p id="section-3.2-2">
        <a class="xref" href="#fig_dn_mpls_detnet">Figure 2</a> illustrates
        a hypothetical DetNet MPLS-only network
        composed of DetNet-aware MPLS-enabled end systems operating over a
        DetNet-aware MPLS network.  In this figure, the relay nodes are PE
        devices that define the MPLS LSP boundaries, and the transit nodes
        are LSRs.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">
        DetNet end systems and relay nodes understand the particular needs
        of DetNet flows and provide both DetNet service and forwarding
        sub-layer functions.  In the case of MPLS, DetNet service-aware nodes add, remove,
        and process d-CWs, S-Labels, and F-Labels as needed.
        DetNet MPLS nodes provide functionality analogous to T-PEs when
        they sit at the edge of an MPLS domain and S-PEs when they are
        in the middle of an MPLS domain; see <span>[<a class="xref" href="#RFC6073">RFC6073</a>]</span>.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">
        In a DetNet MPLS network, transit nodes may be DetNet-service-aware or
 DetNet-unaware MPLS Label Switching Routers 
        (LSRs).  In this latter case, such LSRs would be unaware of the
        special requirements of the DetNet service sub-layer but would
        still provide traffic engineering functions and the QoS
        capabilities needed to ensure that the (TE) LSPs meet the service
        requirements of the carried DetNet flows.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">
        The application of DetNet using MPLS supports a number of
 control and management plane types. These types support certain MPLS
 data plane deployments. For example, RSVP-TE, MPLS-TP, or MPLS Segment
        Routing (when extended to support resource allocation) are all valid
        MPLS deployment cases.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">
        <a class="xref" href="#fig_pw_detnet">Figure 3</a> illustrates how an end-to-end MPLS-based
        DetNet service is provided in more detail.  
 In this figure, the
        Customer Edge (CE1 and CE2) are able to send and receive
 MPLS-encapsulated DetNet flows, and R1, R2, and R3 are relay nodes in the 
        middle of a DetNet network.  The 'X' in the end systems and relay
        nodes represents potential DetNet compound flow packet replication and
        elimination points.  In this example, service protection is supported
        utilizing at least two DetNet member flows and TE LSPs.  For a
        unidirectional flow, R1 supports PRF, and R3 supports PEF and POF.  Note
        that the relay nodes may change the underlying forwarding sub-layer,
        for example, tunneling MPLS over IEEE 802.1 TSN <span>[<a class="xref" href="#I-D.ietf-detnet-mpls-over-tsn">DetNet-MPLS-over-TSN</a>]</span> or simply
 over interconnected network links.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
<span id="name-mpls-based-native-detnet"></span><div id="fig_pw_detnet">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-3.2-7.1">
<pre>        DetNet                                        DetNet
DetNet  Service        Transit          Transit       Service  DetNet
MPLS    |             |&lt;-Tnl-&gt;|        |&lt;-Tnl-&gt;|            |  MPLS
End     |             V   1   V        V   2   V            |  End
System  |    +--------+       +--------+       +--------+   |  System
+---+   |    |   R1   |=======|   R2   |=======|   R3   |   |  +---+
|  X...DFa...|._X_....|..DF1..|.__ ___.|..DF3..|...._X_.|.DFa..|.X |
|CE1|========|    \   |       |   X    |       |   /    |======|CE2|
|   |   |    |     \_.|..DF2..|._/ \__.|..DF4..|._/     |   |  |   |
+---+        |        |=======|        |=======|        |      +---+
    ^        +--------+       +--------+       +--------+      ^
    |        Relay Node       Relay Node       Relay Node      |
    |          (S-PE)           (S-PE)           (S-PE)        |
    |                                                          |
    |&lt;---------------------- DetNet MPLS ---------------------&gt;|
    |                                                          |
    |&lt;--------------- End-to-End DetNet Service --------------&gt;|

    -------------------------- Data Flow -------------------------&gt;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-mpls-based-native-detnet">MPLS-Based Native DetNet</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.2-8">
          <dt id="section-3.2-8.1">X</dt>
          <dd id="section-3.2-8.2" style="margin-left: 3.0em">- Optional service protection (none, PRF, PREOF, PEF/POF)<a class="pilcrow" href="#section-3.2-8.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-8.3">DFx</dt>
          <dd id="section-3.2-8.4" style="margin-left: 3.0em">- DetNet member flow x over a TE LSP<a class="pilcrow" href="#section-3.2-8.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="dn-dt-solution">
<section id="section-4">
      <h2 id="name-mpls-based-detnet-data-plan">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-mpls-based-detnet-data-plan">MPLS-Based DetNet Data Plane Solution</a>
      </h2>
<div id="dn-MPLS-en-comps">
<section id="section-4.1">
        <h3 id="name-detnet-over-mpls-encapsulat">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-detnet-over-mpls-encapsulat">DetNet over MPLS Encapsulation Components</a>
        </h3>
<p id="section-4.1-1">
   To carry DetNet over MPLS, the following is required:<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<ol class="normal type-1" id="section-4.1-2" start="1" type="1">
   <li id="section-4.1-2.1">A method of identifying the MPLS payload type.<a class="pilcrow" href="#section-4.1-2.1">¶</a>
</li>
          <li id="section-4.1-2.2">A method of identifying the DetNet flow(s) to the processing element.<a class="pilcrow" href="#section-4.1-2.2">¶</a>
</li>
          <li id="section-4.1-2.3">A method of distinguishing DetNet OAM packets from DetNet data packets.<a class="pilcrow" href="#section-4.1-2.3">¶</a>
</li>
          <li id="section-4.1-2.4">A method of carrying the DetNet sequence number.<a class="pilcrow" href="#section-4.1-2.4">¶</a>
</li>
          <li id="section-4.1-2.5">A suitable LSP to deliver the packet to the egress PE.<a class="pilcrow" href="#section-4.1-2.5">¶</a>
</li>
          <li id="section-4.1-2.6">A method of carrying queuing and forwarding indication.<a class="pilcrow" href="#section-4.1-2.6">¶</a>
</li>
        </ol>
<p id="section-4.1-3">
   In this design, an MPLS service label (the S-Label) is similar to a
   pseudowire (PW) label <span>[<a class="xref" href="#RFC3985">RFC3985</a>]</span> and
   is used to identify both the
   DetNet flow identity and the MPLS payload type satisfying
   (1) and (2) in the list above.
   OAM traffic discrimination
   happens through the use of the Associated Channel method described in
   <span>[<a class="xref" href="#RFC4385">RFC4385</a>]</span>.  

   The DetNet sequence number is carried in
   the DetNet Control Word, which also carries the Data/OAM discriminator.  To
   simplify implementation and to maximize interoperability, two sequence
   number sizes are supported: a 16-bit sequence number and a 28-bit
   sequence number.  The 16-bit sequence number is needed to support
   some types of legacy clients. The 28-bit sequence number is used in
   situations where it is necessary to ensure that, in high-speed networks,
   the sequence number space does not wrap whilst packets are in flight.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">
   The LSP used to forward the DetNet packet is not restricted regarding any
   method used for establishing that LSP (for example, MPLS-LDP, MPLS-TE,
   MPLS-TP <span>[<a class="xref" href="#RFC5921">RFC5921</a>]</span>, MPLS Segment Routing
   <span>[<a class="xref" href="#RFC8660">RFC8660</a>]</span>, etc.).  The F-Label(s) and the
   S-Label may be used alone or together to indicate the required queue
   processing as well as the forwarding parameters.  Note that the possible
   use of Penultimate Hop Popping (PHP) means that the S-Label may be the only
   label received at the terminating DetNet service.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
</section>
</div>
<div id="pwSolution">
<section id="section-4.2">
        <h3 id="name-mpls-data-plane-encapsulati">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-mpls-data-plane-encapsulati">MPLS Data Plane Encapsulation</a>
        </h3>
<p id="section-4.2-1">
    <a class="xref" href="#fig_pw_mpls">Figure 4</a> illustrates a DetNet data plane MPLS
    encapsulation.  The MPLS-based encapsulation of the DetNet flows
    is well suited for the scenarios described in
    <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.
    Furthermore, an end-to-end DetNet
    service, i.e., native DetNet deployment (see <a class="xref" href="#sec_mpls_dt_dp_scen">Section 3.2</a>), is also possible if
    DetNet end systems are capable of initiating and terminating
    MPLS-encapsulated packets.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">The MPLS-based DetNet data plane encapsulation consists of:<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-3.1">A DetNet Control Word (d-CW) containing sequencing information for
   packet replication and duplicate elimination purposes, and the OAM
   indicator.<a class="pilcrow" href="#section-4.2-3.1">¶</a>
</li>
          <li class="normal" id="section-4.2-3.2">A DetNet service label (S-Label) that identifies a DetNet flow at
   the receiving DetNet service sub-layer processing node.<a class="pilcrow" href="#section-4.2-3.2">¶</a>
</li>
          <li class="normal" id="section-4.2-3.3">Zero or more DetNet MPLS forwarding label(s) (F-Label) used to
          direct the packet along the Label Switched Path (LSP) to the next
          DetNet service sub-layer processing node along the path.  When
          PHP is in use, there may be no F-Label in the
          protocol stack on the final hop.<a class="pilcrow" href="#section-4.2-3.3">¶</a>
</li>
          <li class="normal" id="section-4.2-3.4">The necessary data-link encapsulation is then applied prior to
   transmission over the physical media.<a class="pilcrow" href="#section-4.2-3.4">¶</a>
</li>
        </ul>
<span id="name-encapsulation-of-a-detnet-a"></span><div id="fig_pw_mpls">
<figure id="figure-4">
          <div class="artwork art-text alignCenter" id="section-4.2-4.1">
<pre>  DetNet MPLS-based encapsulation

+---------------------------------+
|                                 |
|         DetNet App-Flow         |
|         Payload  Packet         |
|                                 |
+---------------------------------+ &lt;--\
|       DetNet Control Word       |    |
+---------------------------------+    +--&gt; DetNet data plane
|           S-Label               |    |    MPLS encapsulation
+---------------------------------+    |
|         [ F-Label(s) ]          |    |
+---------------------------------+ &lt;--/
|           Data-Link             |
+---------------------------------+
|           Physical              |
+---------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-encapsulation-of-a-detnet-a">Encapsulation of a DetNet App-Flow in an MPLS PSN</a>
          </figcaption></figure>
</div>
<div id="dn-sn">
<section id="section-4.2.1">
          <h4 id="name-detnet-control-word-and-det">
<a class="section-number selfRef" href="#section-4.2.1">4.2.1. </a><a class="section-name selfRef" href="#name-detnet-control-word-and-det">DetNet Control Word and DetNet Sequence Number</a>
          </h4>
<p id="section-4.2.1-1">
   A DetNet Control Word (d-CW) conforms to the Generic PW MPLS Control
   Word (PWMCW) defined in <span>[<a class="xref" href="#RFC4385">RFC4385</a>]</span>. The d-CW formatted
   as shown in <a class="xref" href="#fig_detnet_cw">Figure 5</a> <span class="bcp14">MUST</span> be present in all
   DetNet packets containing App-flow data.
   This format of the d-CW was created in order to (1) allow larger sequence number
   space to avoid sequence number rollover frequency in some applications 
   and (2) allow sequence numbering systems that include the value zero 
   as a valid sequence number, which simplifies implementation.<a class="pilcrow" href="#section-4.2.1-1">¶</a></p>
<span id="name-detnet-control-word"></span><div id="fig_detnet_cw">
<figure id="figure-5">
            <div class="artwork art-text alignCenter" id="section-4.2.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|0 0 0 0|                Sequence Number                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-detnet-control-word">DetNet Control Word</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.2.1-3">
            <dt id="section-4.2.1-3.1">(bits 0 to 3)</dt>
            <dd id="section-4.2.1-3.2" style="margin-left: 1.5em">Per <span>[<a class="xref" href="#RFC4385">RFC4385</a>]</span>,
     <span class="bcp14">MUST</span> be set to zero (0).<a class="pilcrow" href="#section-4.2.1-3.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.1-3.3">Sequence Number (bits 4 to 31)</dt>
            <dd id="section-4.2.1-3.4" style="margin-left: 1.5em">An unsigned value implementing the DetNet sequence number. The
     sequence number space is a circular one with no restriction on the
     initial value.<a class="pilcrow" href="#section-4.2.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.2.1-4">
   A separate sequence number space <span class="bcp14">MUST</span> be maintained by
   the node that adds the d-CW for each DetNet App-flow, i.e., DetNet service.
   The following Sequence Number field lengths <span class="bcp14">MUST</span> be supported:<a class="pilcrow" href="#section-4.2.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.1-5.1">0 bits<a class="pilcrow" href="#section-4.2.1-5.1">¶</a>
</li>
            <li class="normal" id="section-4.2.1-5.2">16 bits<a class="pilcrow" href="#section-4.2.1-5.2">¶</a>
</li>
            <li class="normal" id="section-4.2.1-5.3">28 bits<a class="pilcrow" href="#section-4.2.1-5.3">¶</a>
</li>
          </ul>
<p id="section-4.2.1-6">The sequence number length <span class="bcp14">MUST</span> be provisioned on
   a per-DetNet-service basis via configuration, i.e., via the
   Controller Plane described in <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.<a class="pilcrow" href="#section-4.2.1-6">¶</a></p>
<p id="section-4.2.1-7">
    A 0-bit Sequence Number field length indicates that there is no
    DetNet sequence number used for the flow.  When the length is zero,
    the Sequence Number field <span class="bcp14">MUST</span> be set to zero (0) on all packets
    sent for the flow.<a class="pilcrow" href="#section-4.2.1-7">¶</a></p>
<p id="section-4.2.1-8">
    When the Sequence Number field length is 16 or 28 bits for a flow,
    the sequence number <span class="bcp14">MUST</span> be incremented by one for each new App-flow
    packet sent. When the field length is 16 bits, d-CW bits 4 to 15
    <span class="bcp14">MUST</span> be set to zero (0). The values carried in this field can wrap,
    and it is important to note that zero (0) is a valid field value.
    For example, where the sequence number size is 16 bits, the sequence
    will contain: 65535, 0, 1, where zero (0) is an ordinary
    sequence number.<a class="pilcrow" href="#section-4.2.1-8">¶</a></p>
<p id="section-4.2.1-9"> It is important to note that this document differs from <span>[<a class="xref" href="#RFC4448">RFC4448</a>]</span>, where a sequence number of zero
   (0) is used to indicate that the sequence number check algorithm is
   not used.<a class="pilcrow" href="#section-4.2.1-9">¶</a></p>
<p id="section-4.2.1-10">The sequence number is optionally used during receive processing,
   as described below in Sections <a class="xref" href="#pef-requirements">4.2.2.2</a> and <a class="xref" href="#pof-requirements">4.2.2.3</a>.<a class="pilcrow" href="#section-4.2.1-10">¶</a></p>
</section>
</div>
<div id="flow-identification">
<section id="section-4.2.2">
          <h4 id="name-s-labels">
<a class="section-number selfRef" href="#section-4.2.2">4.2.2. </a><a class="section-name selfRef" href="#name-s-labels">S-Labels</a>
          </h4>
<p id="section-4.2.2-1">
    A DetNet flow at the DetNet service sub-layer is identified by
    an S-Label.  MPLS-aware DetNet end systems
    and edge nodes, which are by definition MPLS ingress and egress
    nodes, <span class="bcp14">MUST</span> add (push) and remove (pop) a DetNet
    service-specific d-CW and S-Label.  Relay nodes <span class="bcp14">MAY</span> 
    swap S-Label values when processing a DetNet flow, i.e., incoming and 
 outgoing S-Labels of a DetNet flow can be different.<a class="pilcrow" href="#section-4.2.2-1">¶</a></p>
<p id="section-4.2.2-2">
    S-Label values <span class="bcp14">MUST</span> be provisioned per DetNet service via
    configuration, i.e., via
    the Controller Plane described in
    <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.
    Note that S-Labels provide identification at the downstream
    DetNet service sub-layer receiver, not the sender.  As such,
    S-Labels <span class="bcp14">MUST</span> be allocated by the entity that controls the service
    sub-layer receiving a node's label space and <span class="bcp14">MAY</span> be allocated from
    the platform label space <span>[<a class="xref" href="#RFC3031">RFC3031</a>]</span>.
    Because S-Labels are local to each node, rather than being a
    global identifier within a domain, they must be advertised to their
    upstream DetNet service-aware peer nodes (i.e., a DetNet MPLS end
    system or a DetNet relay or edge node) and interpreted in the
    context of their received F-Label(s).
    In some PREOF topologies, the node performing replication will be
    sending to multiple nodes performing PEF or POF and may need to
    send different S-Label values for the different member flows for the
    same DetNet service.<a class="pilcrow" href="#section-4.2.2-2">¶</a></p>
<p id="section-4.2.2-3">
    An S-Label will normally be at the bottom of the label stack once
    the last F-Label is removed, immediately preceding the d-CW.
    To support OAM at the service sub-layer level, an OAM Associated Channel
    Header (ACH) <span>[<a class="xref" href="#RFC4385">RFC4385</a>]</span>
    together with a Generic Associated Channel Label (GAL) <span>[<a class="xref" href="#RFC5586">RFC5586</a>]</span> <span class="bcp14">MAY</span> be used in place of
    a d-CW.<a class="pilcrow" href="#section-4.2.2-3">¶</a></p>
<p id="section-4.2.2-4">
    Similarly, an Entropy Label Indicator (ELI) and Entropy Label (EL) <span>[<a class="xref" href="#RFC6790">RFC6790</a>]</span> <span class="bcp14">MAY</span> be carried below
    the S-Label in the label stack in 
    networks where DetNet flows would otherwise receive ECMP treatment.  When
    ELs are used, the same EL value <span class="bcp14">SHOULD</span> be used for all of the packets
    sent using a specific S-Label to force the flow to follow the same path.
    However, as outlined in <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>, the use of ECMP for DetNet
    flows is <span class="bcp14">NOT RECOMMENDED</span>. ECMP <span class="bcp14">MAY</span> be used for non-DetNet flows within a
    DetNet domain.<a class="pilcrow" href="#section-4.2.2-4">¶</a></p>
<p id="section-4.2.2-5">
     When receiving a DetNet MPLS packet, an implementation <span class="bcp14">MUST</span> identify
     the DetNet service associated with the incoming packet based on the
     S-Label.  When a node is using platform labels for S-Labels, no
     additional information is needed, as the S-Label uniquely identifies
     the DetNet service.  In the case where platform labels are not used, zero
     or more F-Labels proceeding the S-Label <span class="bcp14">MUST</span> be used together with
     the S-Label to uniquely identify the DetNet service associated with a
     received packet.
     The incoming interface <span class="bcp14">MAY</span> also be used together with
     any present F-Label(s) and the S-Label to uniquely identify an
     incoming DetNet service, for example, in the case where PHP is used.
     Note that the choice to use the platform label space
     for an S-Label or an S-Label plus one or more F-Labels to identify 
     DetNet services is a local implementation choice, with one caveat.  When one
     or more F-Labels, or the incoming interface, is needed together with an
     S-Label to uniquely identify a service, the Controller Plane must ensure that
     incoming DetNet MPLS packets arrive with the needed information
     (F-Label(s) and/or the incoming interface) and provision the needed
     information. The provisioned information <span class="bcp14">MUST</span> then be used to
       identify incoming DetNet service based on the combination of S-Label
       and F-Label(s) or the incoming interface.<a class="pilcrow" href="#section-4.2.2-5">¶</a></p>
<p id="section-4.2.2-6">
     The use of platform labels for S-Labels matches other pseudowire
     encapsulations for consistency, but there is no hard requirement in
     this regard.<a class="pilcrow" href="#section-4.2.2-6">¶</a></p>
<p id="section-4.2.2-7">Implementation details of PREOF are out of scope for
   this document. <span>[<a class="xref" href="#IEEE802.1CB-2017">IEEE802.1CB-2017</a>]</span>
   defines equivalent replication and elimination-specific aspects,
   which can be applied to PRF and PEF.<a class="pilcrow" href="#section-4.2.2-7">¶</a></p>
<div id="prf-requirements">
<section id="section-4.2.2.1">
            <h5 id="name-packet-replication-function">
<a class="section-number selfRef" href="#section-4.2.2.1">4.2.2.1. </a><a class="section-name selfRef" href="#name-packet-replication-function">Packet Replication Function Processing</a>
            </h5>
<p id="section-4.2.2.1-1">
       The Packet Replication Function (PRF) <span class="bcp14">MAY</span> be supported
       by an implementation for outgoing DetNet flows. The use of the PRF
       for a particular DetNet service <span class="bcp14">MUST</span> be provisioned via configuration,
       i.e., via the Controller Plane described in
       <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.  When replication
       is configured, the same App-flow data will be sent over multiple
       outgoing DetNet member flows using forwarding sub-layer LSPs.
       An S-Label value <span class="bcp14">MUST</span> be configured per outgoing member flow.
       The same d-CW field value <span class="bcp14">MUST</span> be used on all outgoing member flows for
       each replicated MPLS packet.<a class="pilcrow" href="#section-4.2.2.1-1">¶</a></p>
</section>
</div>
<div id="pef-requirements">
<section id="section-4.2.2.2">
            <h5 id="name-packet-elimination-function">
<a class="section-number selfRef" href="#section-4.2.2.2">4.2.2.2. </a><a class="section-name selfRef" href="#name-packet-elimination-function">Packet Elimination Function Processing</a>
            </h5>
<p id="section-4.2.2.2-1">
       Implementations <span class="bcp14">MAY</span> support the Packet Elimination Function (PEF)
       for received DetNet MPLS flows.  When supported, use of the PEF
       for a particular DetNet service <span class="bcp14">MUST</span> be provisioned via configuration,
       i.e., via the Controller Plane described in
       <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.<a class="pilcrow" href="#section-4.2.2.2-1">¶</a></p>
<p id="section-4.2.2.2-2">
    After a DetNet service is identified for a received DetNet MPLS packet,
    as described above, if PEF is configured for that DetNet service,
    duplicate (replicated) instances of a particular sequence number <span class="bcp14">MUST</span> be
    discarded. 
    The specific mechanisms used for an implementation to identify which
       received packets are duplicates and which are new is an
       implementation choice.   Note that, per <a class="xref" href="#dn-sn">Section 4.2.1</a>,
       the Sequence Number field length may be 16 or 28 bits, and the
       field value can wrap. PEF <span class="bcp14">MUST NOT</span> be used with DetNet flows configured
       with a d-CW Sequence Number field length of 0 bits.<a class="pilcrow" href="#section-4.2.2.2-2">¶</a></p>
<p id="section-4.2.2.2-3">
    An implementation <span class="bcp14">MAY</span> constrain the maximum number of sequence numbers
    that are tracked on either a platform-wide or per-flow basis.
    Some implementations <span class="bcp14">MAY</span> support the provisioning of
       the maximum number of sequence numbers that are tracked on
       either a platform-wide or per-flow basis.<a class="pilcrow" href="#section-4.2.2.2-3">¶</a></p>
</section>
</div>
<div id="pof-requirements">
<section id="section-4.2.2.3">
            <h5 id="name-packet-ordering-function-pr">
<a class="section-number selfRef" href="#section-4.2.2.3">4.2.2.3. </a><a class="section-name selfRef" href="#name-packet-ordering-function-pr">Packet Ordering Function Processing</a>
            </h5>
<p id="section-4.2.2.3-1">
       A function that is related to in-order delivery is the Packet Ordering Function
       (POF).  Implementations <span class="bcp14">MAY</span> support POF. When
       supported, use of the POF for a particular DetNet service <span class="bcp14">MUST</span> be
       provisioned via configuration, i.e., via the Controller Plane
       described by
       <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.
       Implementations <span class="bcp14">MAY</span> require that PEF and POF be used in combination.
       There is no requirement related to the order of execution of the PEF and POF in an implementation.<a class="pilcrow" href="#section-4.2.2.3-1">¶</a></p>
<p id="section-4.2.2.3-2">
    After a DetNet service is identified for a received DetNet MPLS
    packet, as described above, if POF is configured for that DetNet
    service, packets <span class="bcp14">MUST</span> be processed in the order
    indicated in the received d-CW Sequence Number field, which may not
    be in the order the packets are received.  
As defined in <a class="xref" href="#dn-sn">Section 4.2.1</a>, the Sequence Number field length
    may be 16 or 28 bits, the sequence number is incremented by one (1) for each new
    MPLS packet sent for a particular DetNet service, and the field
    value can wrap.  The specific mechanisms used for an implementation
    to identify the order of received packets is an implementation
    choice.<a class="pilcrow" href="#section-4.2.2.3-2">¶</a></p>
<p id="section-4.2.2.3-3">
       An implementation <span class="bcp14">MAY</span> constrain the maximum number of out-of-order
    packets that can be processed on either a platform-wide or per-flow
    basis.  The number of out-of-order packets that can be processed also
    impacts the latency of a flow.<a class="pilcrow" href="#section-4.2.2.3-3">¶</a></p>
<p id="section-4.2.2.3-4">
    The latency impact on the system resources needed to support a
    specific DetNet flow will need to be evaluated by the Controller Plane
    based on that flow's traffic specification.  An example traffic 
    specification that can be used with 
    MPLS-TE can be found in <span>[<a class="xref" href="#RFC2212">RFC2212</a>]</span>.<a class="pilcrow" href="#section-4.2.2.3-4">¶</a></p>
<p id="section-4.2.2.3-5">
        DetNet implementations can use flow-specific requirements (e.g., maximum
        number of out-of-order packets and maximum latency of the flow) for
        configuration of POF-related buffers.  POF implementation details
 are out of scope for this document, and POF configuration parameters
 are implementation specific. The Controller Plane identifies and 
 sets the POF configuration parameters.<a class="pilcrow" href="#section-4.2.2.3-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="f-labels">
<section id="section-4.2.3">
          <h4 id="name-f-labels">
<a class="section-number selfRef" href="#section-4.2.3">4.2.3. </a><a class="section-name selfRef" href="#name-f-labels">F-Labels</a>
          </h4>
<p id="section-4.2.3-1">
       F-Labels support the DetNet forwarding sub-layer. F-Labels
       are used to provide LSP-based connectivity between DetNet service
       sub-layer processing nodes.<a class="pilcrow" href="#section-4.2.3-1">¶</a></p>
<div id="f-labels-ssl">
<section id="section-4.2.3.1">
            <h5 id="name-service-sub-layer-related-p">
<a class="section-number selfRef" href="#section-4.2.3.1">4.2.3.1. </a><a class="section-name selfRef" href="#name-service-sub-layer-related-p">Service Sub-Layer-Related Processing</a>
            </h5>
<p id="section-4.2.3.1-1">
          DetNet MPLS end systems, edge nodes, and relay nodes may operate at
          the DetNet service sub-layer with understanding of DetNet services and their
          requirements.  As mentioned earlier, when operating at this layer,
          such nodes can push, pop, or swap (pop then push) S-Labels.  In all
          cases, the F-Label(s) used for a DetNet service are always replaced, and
          the following procedures apply.<a class="pilcrow" href="#section-4.2.3.1-1">¶</a></p>
<p id="section-4.2.3.1-2">
         When sending a DetNet flow, zero or more F-Labels <span class="bcp14">MAY</span> be pushed
         on top of an S-Label by the node pushing an S-Label. The
         F-Label(s) to be pushed when sending a particular DetNet service <span class="bcp14">MUST</span>
         be provisioned per outgoing S-Label via configuration, i.e., via the
         Controller Plane discussed in <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.
         F-Label(s) can also provide context for an S-Label. To
         allow for the omission of F-Label(s), an implementation <span class="bcp14">SHOULD</span>
         also allow an outgoing interface to be configured per S-Label.<a class="pilcrow" href="#section-4.2.3.1-2">¶</a></p>
<p id="section-4.2.3.1-3">
       Note that when PRF
       is supported, the same App-flow data will be sent over multiple
       outgoing  DetNet member flows using forwarding sub-layer
       LSPs. This means that an
       implementation may be sending different sets of
       F-Labels per DetNet member flow, each with a different S-Label.<a class="pilcrow" href="#section-4.2.3.1-3">¶</a></p>
<p id="section-4.2.3.1-4">
       When a single set of F-Labels is provisioned for a particular
       outgoing S-Label, that set of F-Labels <span class="bcp14">MUST</span> be pushed after
       the S-Label is pushed.
       The outgoing packet is then forwarded, as
       described below in <a class="xref" href="#f-labels-all">Section 4.2.3.2</a>. When a single
       outgoing interface is provisioned, the outgoing packet is then
       forwarded, as described below in <a class="xref" href="#f-labels-all">Section 4.2.3.2</a>.<a class="pilcrow" href="#section-4.2.3.1-4">¶</a></p>
<p id="section-4.2.3.1-5">
       When multiple sets of outgoing F-Labels or interfaces are provisioned for
       a particular DetNet service (i.e., for PRF), a copy of the outgoing packet, including
       the pushed member flow-specific S-Label, <span class="bcp14">MUST</span> be made per F-Label set and outgoing
       interface. Each set of provisioned F-Labels are then pushed onto
       a copy of the packet.  Each copy is then forwarded, as described
       below in <a class="xref" href="#f-labels-all">Section 4.2.3.2</a>.<a class="pilcrow" href="#section-4.2.3.1-5">¶</a></p>
<p id="section-4.2.3.1-6">
       As described in the previous section, when receiving a DetNet MPLS flow, an implementation
       identifies the DetNet service associated with the incoming packet based
       on the S-Label.  When a node is using platform labels for
       S-Labels, any F-Labels can be popped, and the S-Label uniquely
       identifies the DetNet service.  In the case where platform labels are
       not used, incoming F-Label(s) and, optionally, the incoming interface <span class="bcp14">MUST</span> also be provisioned for a
       DetNet service.<a class="pilcrow" href="#section-4.2.3.1-6">¶</a></p>
</section>
</div>
<div id="f-labels-all">
<section id="section-4.2.3.2">
            <h5 id="name-common-f-label-processing">
<a class="section-number selfRef" href="#section-4.2.3.2">4.2.3.2. </a><a class="section-name selfRef" href="#name-common-f-label-processing">Common F-Label Processing</a>
            </h5>
<p id="section-4.2.3.2-1">
         All DetNet-aware MPLS nodes process F-Labels as needed to meet
         the service requirements of the DetNet flow or flows carried in
         the LSPs represented by the F-Labels.  This includes normal
         push, pop, and swap operations.  Such processing is essentially
         the same type of processing provided for TE LSPs, although the
         specific service parameters, or traffic specification, can
         differ.  When the DetNet service parameters of the DetNet flow or
         flows carried in an LSP represented by an F-Label can be met by
         an existing TE mechanism, the forwarding sub-layer processing
         node <span class="bcp14">MAY</span> be a DetNet-unaware, i.e., standard, MPLS LSR.  Such
         TE LSPs may provide LSP forwarding service as defined in, but
         not limited, to the following: <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span>, <span>[<a class="xref" href="#RFC3270">RFC3270</a>]</span>, <span>[<a class="xref" href="#RFC3272">RFC3272</a>]</span>, <span>[<a class="xref" href="#RFC3473">RFC3473</a>]</span>, <span>[<a class="xref" href="#RFC4875">RFC4875</a>]</span>, <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>, and <span>[<a class="xref" href="#RFC8306">RFC8306</a>]</span>.<a class="pilcrow" href="#section-4.2.3.2-1">¶</a></p>
<p id="section-4.2.3.2-2">
         More specifically, as mentioned above, the DetNet forwarding
         sub-layer provides explicit routes and allocated resources, and
         F-Labels are used to map to each.  Explicit routes are
         supported based on the topmost (outermost) F-Label that is
         pushed or swapped and the LSP that corresponds to this label.
         This topmost (outgoing) label <span class="bcp14">MUST</span> be associated with a
         provisioned outgoing interface and, for non-point-to-point
         outgoing interfaces, a next-hop LSR.  Note that this
         information <span class="bcp14">MUST</span> be provisioned via configuration or the
         Controller Plane.  In the previously mentioned special case
         where there are no added F-Labels and the outgoing interface is
         not a point-to-point interface, the outgoing interface <span class="bcp14">MUST</span>
         also be associated with a next-hop LSR.<a class="pilcrow" href="#section-4.2.3.2-2">¶</a></p>
<p id="section-4.2.3.2-3">
         Resources may be allocated in a hierarchical fashion per each LSP
         that is represented by each F-Label. Each LSP <span class="bcp14">MAY</span> be
         provisioned with a service parameter that dictates the
         specific traffic treatment to be received by the traffic
         carried over that LSP.  Implementations of this document <span class="bcp14">MUST</span>
         ensure that traffic carried over each LSP represented by one or more
         F-Labels receives the traffic treatment provisioned for that
         LSP.  Typical mechanisms used to provide different treatment to
         different flows include the allocation of system resources
         (such as queues and buffers) and provisioning of related
         parameters (such as shaping and policing) that may be found in
         implementations of the Resource ReSerVation Protocol (RSVP) <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span> and RSVP-TE <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span>
              <span>[<a class="xref" href="#RFC3473">RFC3473</a>]</span>. Support can also be
         provided via an underlying network technology, such as IEEE 802.1
         TSN <span>[<a class="xref" href="#I-D.ietf-detnet-mpls-over-tsn">DetNet-MPLS-over-TSN</a>]</span>.
         The specific mechanisms selected by a DetNet node to ensure DetNet
         service delivery requirements are met for supported DetNet
         flows is outside the scope of this document.<a class="pilcrow" href="#section-4.2.3.2-3">¶</a></p>
<p id="section-4.2.3.2-4">
         Packets that are marked in a way that do not correspond to
         allocated resources, e.g., lack a provisioned F-Label, can
         disrupt the QoS offered to properly reserved DetNet flows by
         using resources allocated to the reserved flows.  Therefore,
         the network nodes of a DetNet network:<a class="pilcrow" href="#section-4.2.3.2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.3.2-5.1">
                <span class="bcp14">MUST</span> defend the DetNet QoS by discarding or remarking (to
             an allocated DetNet flow or noncompeting non-DetNet flow)
             packets received that are not associated with a completed
             resource allocation.<a class="pilcrow" href="#section-4.2.3.2-5.1">¶</a>
</li>
              <li class="normal" id="section-4.2.3.2-5.2">
                <span class="bcp14">MUST NOT</span> use a DetNet allocated resource, e.g., a queue or
             shaper reserved for DetNet flows, for any packet that does
             match the corresponding DetNet flow.<a class="pilcrow" href="#section-4.2.3.2-5.2">¶</a>
</li>
              <li class="normal" id="section-4.2.3.2-5.3">
                <span class="bcp14">MUST</span> ensure a QoS flow does not exceed its allocated
             resources or provisioned service level.<a class="pilcrow" href="#section-4.2.3.2-5.3">¶</a>
</li>
              <li class="normal" id="section-4.2.3.2-5.4">
                <span class="bcp14">MUST</span> ensure a CoS flow or service class does not impact the
             service delivered to other flows.  This requirement is
             similar to the requirement for MPLS LSRs that CoS LSPs do
             not impact the resources allocated to TE LSPs, e.g., via
             <span>[<a class="xref" href="#RFC3473">RFC3473</a>]</span>.<a class="pilcrow" href="#section-4.2.3.2-5.4">¶</a>
</li>
            </ul>
<p id="section-4.2.3.2-6">
         Subsequent sections provide additional considerations related
         to CoS (<a class="xref" href="#CoS">Section 4.6.1</a>), QoS (<a class="xref" href="#QoS">Section 4.6.2</a>), and
         aggregation (<a class="xref" href="#FAG">Section 4.4</a>).<a class="pilcrow" href="#section-4.2.3.2-6">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="oam-indication">
<section id="section-4.3">
        <h3 id="name-oam-indication">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-oam-indication">OAM Indication</a>
        </h3>
<p id="section-4.3-1">
    OAM follows the procedures set out in <span>[<a class="xref" href="#RFC5085">RFC5085</a>]</span> with the
    restriction that only Virtual Circuit Connectivity Verification
    (VCCV) type 1 is supported.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">As shown in Figure 3 of <span>[<a class="xref" href="#RFC5085">RFC5085</a>]</span>, when the first nibble of
    the d-CW is 0x0, the payload following the d-CW is normal user
    data. However, when the first nibble of the d-CW is 0x1, the
    payload that follows the d-CW is an OAM payload with the OAM
    type indicated by the value in the d-CW Channel Type field.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">The reader is referred to <span>[<a class="xref" href="#RFC5085">RFC5085</a>]</span> for a more detailed
    description of the Associated Channel mechanism and to the
    DetNet work on OAM <span>[<a class="xref" href="#I-D.ietf-detnet-mpls-oam">DetNet-MPLS-OAM</a>]</span> for more information about DetNet OAM.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<p id="section-4.3-4"> Additional considerations on DetNet-specific OAM are subjects 
   for further study.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
</section>
</div>
<div id="FAG">
<section id="section-4.4">
        <h3 id="name-flow-aggregation">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-flow-aggregation">Flow Aggregation</a>
        </h3>
<p id="section-4.4-1">
    The ability to aggregate individual flows and their associated
    resource control into a larger aggregate is an important technique
    for improving scaling of control in the data, management, and control
    planes.  The DetNet data plane allows for the aggregation of DetNet flows
    to improved scaling. There are two methods of supporting flow
    aggregation covered in this section.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">
    The resource control and management aspects of aggregation
    (including the configuration of queuing, shaping, and policing) are
    the responsibility of the DetNet Controller Plane and are out of scope for this
    document.  It is also the responsibility of the Controller
    Plane to ensure that consistent aggregation methods are used.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<div id="aggregation-at-the-lsp">
<section id="section-4.4.1">
          <h4 id="name-aggregation-via-lsp-hierarc">
<a class="section-number selfRef" href="#section-4.4.1">4.4.1. </a><a class="section-name selfRef" href="#name-aggregation-via-lsp-hierarc">Aggregation via LSP Hierarchy</a>
          </h4>
<p id="section-4.4.1-1">
     DetNet flows forwarded via MPLS can leverage MPLS-TE's existing
     support for hierarchical LSPs (H-LSPs); see <span>[<a class="xref" href="#RFC4206">RFC4206</a>]</span>.  H-LSPs are
     typically used to aggregate control and resources; they may also be
     used to provide OAM or protection for the aggregated LSPs.  Arbitrary
     levels of aggregation naturally fall out of the definition for
     hierarchy and the MPLS label stack <span>[<a class="xref" href="#RFC3032">RFC3032</a>]</span>.  DetNet nodes that
     support aggregation (LSP hierarchy) map one or more LSPs (labels)
     into and from an H-LSP.  
     Both carried LSPs and H-LSPs may or may not
     use the Traffic Class (TC) field, i.e., L-LSPs (Label-Only-Inferred-PSC LSPs)
     or E-LSPs (EXP-Inferred-PSC LSPs <span>[<a class="xref" href="#RFC3270">RFC3270</a>]</span>, which were renamed to "Explicitly TC-encoded-PSC LSPs" in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc5462#section-2.2">Section 2.2</a> of [<a class="xref" href="#RFC5462">RFC5462</a>]</span>).  Such nodes will need to 
     ensure that individual LSPs and H-LSPs receive the traffic
     treatment required to ensure the required
     DetNet service is preserved.<a class="pilcrow" href="#section-4.4.1-1">¶</a></p>
<p id="section-4.4.1-2">
     Additional details of the traffic control capabilities needed at a
     DetNet-aware node may be covered in the new service definitions
     mentioned above or in separate future documents.  Controller Plane
     mechanisms will also need to ensure that the service required on
     the aggregate flow are provided, which may include the discarding
     or remarking mentioned in the previous sections.<a class="pilcrow" href="#section-4.4.1-2">¶</a></p>
</section>
</div>
<div id="aggregating-detnet-flows-as-a-new-detnet-flow">
<section id="section-4.4.2">
          <h4 id="name-aggregating-detnet-flows-as">
<a class="section-number selfRef" href="#section-4.4.2">4.4.2. </a><a class="section-name selfRef" href="#name-aggregating-detnet-flows-as">Aggregating DetNet Flows as a New DetNet Flow</a>
          </h4>
<p id="section-4.4.2-1">
     An aggregate can be built by layering DetNet flows, including both
     their S-Label and (when present) F-Labels, as shown below:<a class="pilcrow" href="#section-4.4.2-1">¶</a></p>
<span id="name-detnet-aggregation-as-a-new"></span><div id="fig_detnet_agg_flow">
<figure id="figure-6">
            <div class="artwork art-text alignLeft" id="section-4.4.2-2.1">
<pre>+---------------------------------+
|                                 |
|           DetNet Flow           |
|         Payload  Packet         |
|                                 |
+---------------------------------+ &lt;--\
|       DetNet Control Word       |    |
+=================================+    |
|            S-Label              |    |
+---------------------------------+    |
|         [ F-Label(s) ]          |    +----DetNet data plane
+---------------------------------+    |
|       DetNet Control Word       |    |
+=================================+    |
|            A-Label              |    |
+---------------------------------+    |
|           F-Label(s)            | &lt;--/
+---------------------------------+
|           Data-Link             |
+---------------------------------+
|           Physical              |
+---------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-detnet-aggregation-as-a-new">DetNet Aggregation as a New DetNet Flow</a>
            </figcaption></figure>
</div>
<p id="section-4.4.2-3">
     Both the aggregation label, which is referred to as an A-Label, and the individual flow's S-Label
     have their MPLS S bit
     set indicating the bottom of stack, and the d-CW allows the PREOF
     to work.  An A-Label is a special case of an S-Label, whose
     properties are known only at the aggregation and deaggregation
     end points.<a class="pilcrow" href="#section-4.4.2-3">¶</a></p>
<p id="section-4.4.2-4">
     It is a property of the A-Label that what follows is a d-CW
     followed by an MPLS label stack.  A
     relay node processing the A-Label would not know the underlying
     payload type, and the A-Label would be processed as a normal
     S-Label. This would only be known to a node that was a peer of the
     node imposing the S-Label. However, there is no real need for it to
     know the payload type during aggregation processing.<a class="pilcrow" href="#section-4.4.2-4">¶</a></p>
<p id="section-4.4.2-5">
      As in the previous section, nodes supporting this type of
      aggregation will need to ensure that individual and aggregated
      flows receive the traffic treatment required to ensure the
      required DetNet service is preserved. Also, it is the Controller
      Plane's responsibility to ensure that the service required on
      the aggregate flow is properly provisioned.<a class="pilcrow" href="#section-4.4.2-5">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-4.5">
        <h3 id="name-service-sub-layer-considera">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-service-sub-layer-considera">Service Sub-Layer Considerations</a>
        </h3>
<p id="section-4.5-1">
     The internal procedures for edge and relay nodes related to PREOF are
     implementation specific.  The order of a packet elimination or
     replication is out of scope for this specification.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">
     It is important that the DetNet layer is configured such that a
     DetNet node never receives its own replicated packets. If it were
     to receive such packets, the replication function would make the
     loop more destructive of bandwidth than a conventional unicast
     loop.  Ultimately, the TTL in the S-Label will cause the packet to
     die during a transient loop, but given the sensitivity of applications
     to packet latency, the impact on the DetNet application would be
     severe.
     To avoid the problem of a transient forwarding loop, changes to an
     LSP supporting DetNet <span class="bcp14">MUST</span> be loop-free.<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<div id="sec_t_pe">
<section id="section-4.5.1">
          <h4 id="name-edge-node-processing">
<a class="section-number selfRef" href="#section-4.5.1">4.5.1. </a><a class="section-name selfRef" href="#name-edge-node-processing">Edge Node Processing</a>
          </h4>
<p id="section-4.5.1-1">
       A DetNet edge node operates in the DetNet forwarding sub-layer
       and service sub-layer.  An edge node is responsible for matching
       incoming packets to the service they require and encapsulating
       them accordingly. An edge node may perform PRF, PEF, and/or POF.
       Details on encapsulation can be found in <a class="xref" href="#pwSolution">Section 4.2</a>; details on PRF can be found in <a class="xref" href="#prf-requirements">Section 4.2.2.1</a>; details on PEF can be
       found in <a class="xref" href="#pef-requirements">Section 4.2.2.2</a>; and
       details on POF can be found in 
       <a class="xref" href="#pof-requirements">Section 4.2.2.3</a>.<a class="pilcrow" href="#section-4.5.1-1">¶</a></p>
</section>
</div>
<div id="sec_s_pe">
<section id="section-4.5.2">
          <h4 id="name-relay-node-processing">
<a class="section-number selfRef" href="#section-4.5.2">4.5.2. </a><a class="section-name selfRef" href="#name-relay-node-processing">Relay Node Processing</a>
          </h4>
<p id="section-4.5.2-1">
       A DetNet relay node operates in the DetNet forwarding sub-layer and service sub-layer.  
For
       DetNet using MPLS, forwarding-related processing is performed on the F-Label.  This
       processing is done within an extended forwarder function. Whether an
       incoming DetNet flow receives DetNet-specific processing depends
       on how the forwarding is programmed.  Some relay nodes may be DetNet
       service aware for certain DetNet services, while, for other DetNet services, 
    these nodes may perform as unmodified LSRs that only understand
       how to switch MPLS-TE LSPs, i.e., as a transit node;
       see <a class="xref" href="#FAG">Section 4.4</a>.  Again, this is entirely up to
       how the forwarding has been programmed.<a class="pilcrow" href="#section-4.5.2-1">¶</a></p>
<p id="section-4.5.2-2">
    During the elimination and replication process, the
       sequence number of an incoming DetNet packet <span class="bcp14">MUST</span> be preserved and
       carried in the corresponding outgoing DetNet
       packet.  For example, a relay node that performs both PEF and PRF
       first performs PEF on incoming packets to create a compound
       flow. It then performs PRF and copies the App-flow data and the
       d-CW into packets for each outgoing DetNet member flow.<a class="pilcrow" href="#section-4.5.2-2">¶</a></p>
<p id="section-4.5.2-3">
       The internal design of a relay node is out of scope for this
       document. However, the reader's attention is drawn to the need to
       make any PREOF state available to the packet processor(s) dealing
       with packets to which PREOF must be applied and to
       maintain that state in such a way that it is available to the
       packet processor operation on the next packet in the DetNet flow
       (which may be a duplicate, a late packet, or the next packet in
       sequence).<a class="pilcrow" href="#section-4.5.2-3">¶</a></p>
</section>
</div>
</section>
<section id="section-4.6">
        <h3 id="name-forwarding-sub-layer-consid">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-forwarding-sub-layer-consid">Forwarding Sub-Layer Considerations</a>
        </h3>
<div id="CoS">
<section id="section-4.6.1">
          <h4 id="name-class-of-service">
<a class="section-number selfRef" href="#section-4.6.1">4.6.1. </a><a class="section-name selfRef" href="#name-class-of-service">Class of Service</a>
          </h4>
<p id="section-4.6.1-1">
       Class of Service (CoS) and Quality of Service (QoS) are terms that
       are often used interchangeably and confused with each other. 
In the context of DetNet, CoS is used to refer to mechanisms that provide
traffic-forwarding treatment based on non-flow-specific traffic classification,
and QoS is used to refer to mechanisms that provide traffic-forwarding
treatment based on DetNet flow-specific traffic classification.
       Examples of existing network-level CoS mechanisms include
       Differentiated Services (Diffserv), which is enabled by the IP header Differentiated Services
       Code Point (DSCP) field <span>[<a class="xref" href="#RFC2474">RFC2474</a>]</span> and MPLS label
       Traffic Class field <span>[<a class="xref" href="#RFC5462">RFC5462</a>]</span> and at
       Layer 2 by IEEE 802.1p Priority Code Point (PCP).<a class="pilcrow" href="#section-4.6.1-1">¶</a></p>
<p id="section-4.6.1-2">
       CoS for DetNet flows carried in PWs and MPLS is provided using
       the existing MPLS Differentiated Services (Diffserv) architecture
       <span>[<a class="xref" href="#RFC3270">RFC3270</a>]</span>.  Both E-LSP and L-LSP MPLS Diffserv
       modes <span class="bcp14">MAY</span> be used to support DetNet flows.  The Traffic Class
       field (formerly the EXP field) of an MPLS label follows the
       definition of <span>[<a class="xref" href="#RFC5462">RFC5462</a>]</span> and <span>[<a class="xref" href="#RFC3270">RFC3270</a>]</span>.  The Uniform, Pipe, and Short Pipe
       Diffserv tunneling and TTL processing models are described in <span>[<a class="xref" href="#RFC3270">RFC3270</a>]</span> and <span>[<a class="xref" href="#RFC3443">RFC3443</a>]</span> and <span class="bcp14">MAY</span> be used for MPLS LSPs
       supporting DetNet flows. MPLS Explicit Congestion Notification (ECN)
       <span class="bcp14">MAY</span> also be used, as defined in ECN <span>[<a class="xref" href="#RFC5129">RFC5129</a>]</span> and updated by <span>[<a class="xref" href="#RFC5462">RFC5462</a>]</span>.<a class="pilcrow" href="#section-4.6.1-2">¶</a></p>
</section>
</div>
<div id="QoS">
<section id="section-4.6.2">
          <h4 id="name-quality-of-service">
<a class="section-number selfRef" href="#section-4.6.2">4.6.2. </a><a class="section-name selfRef" href="#name-quality-of-service">Quality of Service</a>
          </h4>
<p id="section-4.6.2-1">
       In addition to explicit routes and packet replication and
       elimination (described in <a class="xref" href="#dn-dt-solution">Section 4</a> above),
       DetNet provides zero congestion loss and bounded latency and
       jitter.  As described in <span>[<a class="xref" href="#RFC8655">RFC8655</a>]</span>, there are different
       mechanisms that may be used separately or in combination to
       deliver a zero congestion loss service.  This includes
       QoS mechanisms at the MPLS layer, which may be combined
       with the mechanisms defined by the underlying network layer, such
       as IEEE 802.1 TSN.<a class="pilcrow" href="#section-4.6.2-1">¶</a></p>
<p id="section-4.6.2-2">
       QoS mechanisms for flow-specific traffic
       treatment typically include a guarantee/agreement for the
       service and allocation of resources to support the service.
       Example QoS mechanisms include discrete resource allocation,
       admission control, flow identification and isolation, and
       sometimes path control, traffic protection, shaping, policing, and
       remarking. Example protocols that support QoS control include the
       Resource ReSerVation Protocol (RSVP)
       <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span> and RSVP-TE <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span>
            <span>[<a class="xref" href="#RFC3473">RFC3473</a>]</span>.  The existing MPLS mechanisms defined
       to support CoS <span>[<a class="xref" href="#RFC3270">RFC3270</a>]</span> can also be used to
       reserve resources for specific traffic classes.<a class="pilcrow" href="#section-4.6.2-2">¶</a></p>
<p id="section-4.6.2-3">
       A baseline set of QoS capabilities for DetNet flows carried in PWs
       and MPLS can be provided by MPLS-TE
       <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span> <span>[<a class="xref" href="#RFC3473">RFC3473</a>]</span>.  TE LSPs can
       also support explicit routes (path pinning).  Current service
       definitions for packet TE LSPs can be found in "Specification of
       the Controlled-Load Network Element Service" <span>[<a class="xref" href="#RFC2211">RFC2211</a>]</span>,
       "Specification of Guaranteed Quality of Service" <span>[<a class="xref" href="#RFC2212">RFC2212</a>]</span>, and "Ethernet Traffic Parameters"
       <span>[<a class="xref" href="#RFC6003">RFC6003</a>]</span>. Additional service
       definitions are expected in 
       future documents to support the full range of DetNet services.
       In all cases, the existing label-based marking mechanisms defined
       for TE LSPs and even E-LSPs are used to support the identification
       of flows requiring DetNet QoS.<a class="pilcrow" href="#section-4.6.2-3">¶</a></p>
</section>
</div>
</section>
</section>
</div>
<div id="mc_summary">
<section id="section-5">
      <h2 id="name-management-and-control-info">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-management-and-control-info">Management and Control Information Summary</a>
      </h2>
<p id="section-5-1">
    The specific information needed for the processing of each DetNet
    service depends on the DetNet node type and the functions being
    provided on the node.  This section summarizes this information based on the DetNet
    sub-layer and if the DetNet traffic is being sent or received.  All
    DetNet node types are DetNet forwarding sub-layer aware, while all
    but transit nodes are service sub-layer aware.  This is shown in <a class="xref" href="#fig_dn_mpls_detnet">Figure 2</a>.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">
        Much like other MPLS labels, there are a number of alternatives
        available for DetNet S-Label and F-Label advertisement to an
        upstream peer node. These include distributed signaling
        protocols (such as RSVP-TE), centralized label distribution via a
        controller that manages both the sender and the receiver using the
        Network Configuration Protocol (NETCONF) and YANG, BGP, the Path Computation
 Element Communication Protocol (PCEP), etc., and hybrid combinations of the
        two.  The details of the Controller Plane solution required for
        the label distribution and the management of the label number
        space are out of scope for this document.
        Particular DetNet considerations and requirements 
        are discussed in <span>[<a class="xref" href="#RFC8938">RFC8938</a>]</span>.
    Conformance language is not used in the summary, since it applies to
    future mechanisms, such as those that may be provided in signaling
    and YANG models, e.g., <span>[<a class="xref" href="#I-D.ietf-detnet-yang">DetNet-YANG</a>]</span>.<a class="pilcrow" href="#section-5-2">¶</a></p>
<div id="mc_summary_ssl">
<section id="section-5.1">
        <h3 id="name-service-sub-layer-informati">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-service-sub-layer-informati">Service Sub-Layer Information Summary</a>
        </h3>
<p id="section-5.1-1">
    The following summarizes the information that is needed (on a per-service
    basis) on nodes that are service sub-layer aware and transmit DetNet
    MPLS traffic:<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-2.1">App-flow identification information, e.g., IP information as
   defined in <span>[<a class="xref" href="#I-D.ietf-detnet-ip-over-mpls">DetNet-IP-over-MPLS</a>]</span>.  Note that this information is not needed on DetNet
   relay nodes.<a class="pilcrow" href="#section-5.1-2.1">¶</a>
</li>
          <li class="normal" id="section-5.1-2.2">The sequence number length to be used for the service.  Valid
   values include 0, 16, and 28 bits. 0 bits cannot be used when PEF or
   POF is configured for the service.<a class="pilcrow" href="#section-5.1-2.2">¶</a>
</li>
          <li class="normal" id="section-5.1-2.3">If PRF is to be provided for the service.<a class="pilcrow" href="#section-5.1-2.3">¶</a>
</li>
          <li class="normal" id="section-5.1-2.4">The outgoing S-Label for each of the service's outgoing DetNet
   (member) flows.<a class="pilcrow" href="#section-5.1-2.4">¶</a>
</li>
          <li class="normal" id="section-5.1-2.5">The forwarding sub-layer information associated with the output
   of the service sub-layer.  Note that when PRF is
   provisioned, this information is per DetNet member flow. Logically,
   the forwarding sub-layer information is a pointer to further details
   of transmission of DetNet flows at the forwarding sub-layer.<a class="pilcrow" href="#section-5.1-2.5">¶</a>
</li>
        </ul>
<p id="section-5.1-3">
    The following summarizes the information that is needed (on a per-service basis) on nodes that are service
    sub-layer aware and receive DetNet MPLS traffic:<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-4.1">The forwarding sub-layer information associated with the input
   of the service sub-layer.  Note that when PEF is
   provisioned, this information is per DetNet member flow. Logically,
   the forwarding sub-layer information is a pointer to further details
   of the reception of DetNet flows at the forwarding sub-layer or
   A-Label.<a class="pilcrow" href="#section-5.1-4.1">¶</a>
</li>
          <li class="normal" id="section-5.1-4.2">The incoming S-Label for the service.<a class="pilcrow" href="#section-5.1-4.2">¶</a>
</li>
          <li class="normal" id="section-5.1-4.3">If PEF or POF is to be provided for the service.<a class="pilcrow" href="#section-5.1-4.3">¶</a>
</li>
          <li class="normal" id="section-5.1-4.4">The sequence number length to be used for the service.  Valid
   values included 0, 16, and 28 bits. 0 bits cannot be used when PEF or
   POF are configured for the service.<a class="pilcrow" href="#section-5.1-4.4">¶</a>
</li>
          <li class="normal" id="section-5.1-4.5">App-flow identification information, e.g., IP information as
   defined in <span>[<a class="xref" href="#I-D.ietf-detnet-ip-over-mpls">DetNet-IP-over-MPLS</a>]</span>.  Note that this information is not needed on DetNet
   relay nodes.<a class="pilcrow" href="#section-5.1-4.5">¶</a>
</li>
        </ul>
<div id="mc_summary_ssl_agg">
<section id="section-5.1.1">
          <h4 id="name-service-aggregation-informa">
<a class="section-number selfRef" href="#section-5.1.1">5.1.1. </a><a class="section-name selfRef" href="#name-service-aggregation-informa">Service Aggregation Information Summary</a>
          </h4>
<p id="section-5.1.1-1">
      Nodes performing aggregation using A-Labels, per <a class="xref" href="#aggregating-detnet-flows-as-a-new-detnet-flow">Section 4.4.2</a>, require
      the additional information summarized in this section.<a class="pilcrow" href="#section-5.1.1-1">¶</a></p>
<p id="section-5.1.1-2">
      The following summarizes the additional information that is needed on
      a node that sends aggregated flows using A-Labels:<a class="pilcrow" href="#section-5.1.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.1-3.1">The S-Labels or F-Labels that are to be carried over each
     aggregated service.<a class="pilcrow" href="#section-5.1.1-3.1">¶</a>
</li>
            <li class="normal" id="section-5.1.1-3.2">The A-Label associated with each aggregated service.<a class="pilcrow" href="#section-5.1.1-3.2">¶</a>
</li>
            <li class="normal" id="section-5.1.1-3.3">The other S-Label information summarized above.<a class="pilcrow" href="#section-5.1.1-3.3">¶</a>
</li>
          </ul>
<p id="section-5.1.1-4">


      On the receiving node, the A-Label provides the forwarding context
      of an incoming interface or an F-Label and is used in subsequent
      service or forwarding sub-layer receive processing, as
      appropriate.  The related additional configuration that may be
      provided is discussed elsewhere in this section.<a class="pilcrow" href="#section-5.1.1-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="mc_summary_fsl">
<section id="section-5.2">
        <h3 id="name-forwarding-sub-layer-inform">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-forwarding-sub-layer-inform">Forwarding Sub-Layer Information Summary</a>
        </h3>
<p id="section-5.2-1">
      The following summarizes the information that is needed (on a per-forwarding-sub-layer-flow basis) on nodes that are
      forwarding sub-layer aware and send DetNet MPLS traffic:<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.1">
          The outgoing F-Label stack to be pushed. The stack may include
          H-LSP labels.<a class="pilcrow" href="#section-5.2-2.1">¶</a>
</li>
          <li class="normal" id="section-5.2-2.2">
          The traffic parameters associated with a specific label in
          the stack.  Note that there may be multiple sets of traffic
          parameters associated with specific labels in the stack, e.g.,
          when H-LSPs are used.<a class="pilcrow" href="#section-5.2-2.2">¶</a>
</li>
          <li class="normal" id="section-5.2-2.3">
          Outgoing interface and, for unicast traffic, the next-hop
          information.<a class="pilcrow" href="#section-5.2-2.3">¶</a>
</li>
          <li class="normal" id="section-5.2-2.4">
          Sub-network-specific parameters on a technology-specific
          basis. For example, see <span>[<a class="xref" href="#I-D.ietf-detnet-mpls-over-tsn">DetNet-MPLS-over-TSN</a>]</span>.<a class="pilcrow" href="#section-5.2-2.4">¶</a>
</li>
        </ul>
<p id="section-5.2-3">
      The following summarizes the information that is needed (on a
      per-forwarding-sub-layer-flow basis) on nodes that are forwarding
      sub-layer aware and receive DetNet MPLS traffic:<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-4.1">
          The incoming interface.  For some implementations and
          deployment scenarios, this information may not be needed.<a class="pilcrow" href="#section-5.2-4.1">¶</a>
</li>
          <li class="normal" id="section-5.2-4.2">
          The incoming F-Label stack to be popped. The stack may include
          H-LSP labels.<a class="pilcrow" href="#section-5.2-4.2">¶</a>
</li>
          <li class="normal" id="section-5.2-4.3">
          How the incoming forwarding sub-layer flow is to be handled,
          i.e., forwarded as a transit node or provided to the service
          sub-layer.<a class="pilcrow" href="#section-5.2-4.3">¶</a>
</li>
        </ul>
<p id="section-5.2-5">
    It is the responsibility of the DetNet Controller Plane to
    properly provision both flow identification information and
    the flow-specific resources needed to provide the traffic
    treatment needed to meet each flow's service requirements.
    This applies for aggregated and individual flows.<a class="pilcrow" href="#section-5.2-5">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">
   Detailed security considerations for DetNet are cataloged in
   <span>[<a class="xref" href="#I-D.ietf-detnet-security">DetNet-Security</a>]</span>, and more general security considerations
   are described in <span>[<a class="xref" href="#RFC8655">RFC8655</a>]</span>. This section
   exclusively considers security considerations that are specific to the DetNet
   MPLS data plane. The considerations raised related to MPLS networks
   in general in <span>[<a class="xref" href="#RFC5920">RFC5920</a>]</span> are equally applicable to
   the DetNet MPLS data plane.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">
   Security aspects that are unique to DetNet are those whose aim is to
   protect the support of specific QoS aspects of DetNet, which are
   primarily to deliver data flows with extremely low packet loss rates
   and bounded end-to-end delivery latency.

       Achieving such loss rates and bounded latency may not be possible
       in the face of a highly capable adversary, such as the one
       envisioned by the Internet Threat Model of BCP 72 <span>[<a class="xref" href="#RFC3552">RFC3552</a>]</span> that can
       arbitrarily drop or delay any or all traffic.  In order to
       present meaningful security considerations, we consider a
       somewhat weaker attacker who does not control the physical links
       of the DetNet domain but may have the ability to control a
       network node within the boundary of the DetNet domain.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">
    An additional consideration for the DetNet data plane is to maintain
    integrity of data and delivery of the associated DetNet service traversing
    the DetNet network.
    Application flows can be protected through whatever means are
    provided by the underlying technology. For example, encryption may be
    used, such as that provided by IPsec <span>[<a class="xref" href="#RFC4301">RFC4301</a>]</span> for IP
    flows and/or by an underlying sub-network using MACsec
    <span>[<a class="xref" href="#IEEE802.1AE-2018">IEEE802.1AE-2018</a>]</span> for IP over Ethernet
    (Layer 2) flows.
 MPLS doesn't provide any native security services to account for 
 confidentiality and integrity.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">
    From a data plane perspective, this document does not add or modify any
    application header information.<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">
    At the management and control level, DetNet flows are identified on a
    per-flow basis, which may provide Controller Plane
    attackers with additional information about the data flows (when
    compared to Controller Planes that do not include per-flow identification).
    This is an inherent property of DetNet that has security
    implications that should be considered when determining if DetNet is
    a suitable technology for any given use case.<a class="pilcrow" href="#section-6-5">¶</a></p>
<p id="section-6-6">
    To provide uninterrupted availability of the DetNet
    service, provisions can be made against DoS attacks and delay
    attacks. To protect against DoS attacks, excess traffic due to
    malicious or malfunctioning devices is prevented or mitigated
    through the use of existing mechanisms, for example, by policing and 
 shaping incoming traffic. To prevent DetNet packets from
 having their delay manipulated by an external entity, precautions need 
 to be taken to ensure that all devices on an LSP are those intended to 
 be there by the network operator and that they are well behaved. In 
 addition to physical security, technical methods,  such as authentication 
 and authorization of network equipment and the instrumentation and 
 monitoring of the LSP packet delay, may be used. If a delay attack is 
 suspected, traffic may be moved to an alternate path, for example, 
 through changing the LSP or management of the PREOF configuration.<a class="pilcrow" href="#section-6-6">¶</a></p>
</section>
<div id="iana">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document has no IANA actions.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2211">[RFC2211]</dt>
        <dd>
<span class="refAuthor">Wroclawski, J.</span>, <span class="refTitle">"Specification of the Controlled-Load Network Element Service"</span>, <span class="seriesInfo">RFC 2211</span>, <span class="seriesInfo">DOI 10.17487/RFC2211</span>, <time class="refDate" datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2211">https://www.rfc-editor.org/info/rfc2211</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2212">[RFC2212]</dt>
        <dd>
<span class="refAuthor">Shenker, S.</span><span class="refAuthor">, Partridge, C.</span><span class="refAuthor">, and R. Guerin</span>, <span class="refTitle">"Specification of Guaranteed Quality of Service"</span>, <span class="seriesInfo">RFC 2212</span>, <span class="seriesInfo">DOI 10.17487/RFC2212</span>, <time class="refDate" datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2212">https://www.rfc-editor.org/info/rfc2212</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3031">[RFC3031]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span><span class="refAuthor">, Viswanathan, A.</span><span class="refAuthor">, and R. Callon</span>, <span class="refTitle">"Multiprotocol Label Switching Architecture"</span>, <span class="seriesInfo">RFC 3031</span>, <span class="seriesInfo">DOI 10.17487/RFC3031</span>, <time class="refDate" datetime="2001-01">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3031">https://www.rfc-editor.org/info/rfc3031</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span><span class="refAuthor">, Tappan, D.</span><span class="refAuthor">, Fedorkow, G.</span><span class="refAuthor">, Rekhter, Y.</span><span class="refAuthor">, Farinacci, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, and A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time class="refDate" datetime="2001-01">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3209">[RFC3209]</dt>
        <dd>
<span class="refAuthor">Awduche, D.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Gan, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, Srinivasan, V.</span><span class="refAuthor">, and G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time class="refDate" datetime="2001-12">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3270">[RFC3270]</dt>
        <dd>
<span class="refAuthor">Le Faucheur, F.</span><span class="refAuthor">, Wu, L.</span><span class="refAuthor">, Davie, B.</span><span class="refAuthor">, Davari, S.</span><span class="refAuthor">, Vaananen, P.</span><span class="refAuthor">, Krishnan, R.</span><span class="refAuthor">, Cheval, P.</span><span class="refAuthor">, and J. Heinanen</span>, <span class="refTitle">"Multi-Protocol Label Switching (MPLS) Support of Differentiated Services"</span>, <span class="seriesInfo">RFC 3270</span>, <span class="seriesInfo">DOI 10.17487/RFC3270</span>, <time class="refDate" datetime="2002-05">May 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3270">https://www.rfc-editor.org/info/rfc3270</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3443">[RFC3443]</dt>
        <dd>
<span class="refAuthor">Agarwal, P.</span><span class="refAuthor"> and B. Akyol</span>, <span class="refTitle">"Time To Live (TTL) Processing in Multi-Protocol Label Switching (MPLS) Networks"</span>, <span class="seriesInfo">RFC 3443</span>, <span class="seriesInfo">DOI 10.17487/RFC3443</span>, <time class="refDate" datetime="2003-01">January 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3443">https://www.rfc-editor.org/info/rfc3443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3473">[RFC3473]</dt>
        <dd>
<span class="refAuthor">Berger, L., Ed.</span>, <span class="refTitle">"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions"</span>, <span class="seriesInfo">RFC 3473</span>, <span class="seriesInfo">DOI 10.17487/RFC3473</span>, <time class="refDate" datetime="2003-01">January 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3473">https://www.rfc-editor.org/info/rfc3473</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4206">[RFC4206]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span><span class="refAuthor"> and Y. Rekhter</span>, <span class="refTitle">"Label Switched Paths (LSP) Hierarchy with Generalized Multi-Protocol Label Switching (GMPLS) Traffic Engineering (TE)"</span>, <span class="seriesInfo">RFC 4206</span>, <span class="seriesInfo">DOI 10.17487/RFC4206</span>, <time class="refDate" datetime="2005-10">October 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4206">https://www.rfc-editor.org/info/rfc4206</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4385">[RFC4385]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span><span class="refAuthor">, Swallow, G.</span><span class="refAuthor">, Martini, L.</span><span class="refAuthor">, and D. McPherson</span>, <span class="refTitle">"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN"</span>, <span class="seriesInfo">RFC 4385</span>, <span class="seriesInfo">DOI 10.17487/RFC4385</span>, <time class="refDate" datetime="2006-02">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4385">https://www.rfc-editor.org/info/rfc4385</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5085">[RFC5085]</dt>
        <dd>
<span class="refAuthor">Nadeau, T., Ed.</span><span class="refAuthor"> and C. Pignataro, Ed.</span>, <span class="refTitle">"Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires"</span>, <span class="seriesInfo">RFC 5085</span>, <span class="seriesInfo">DOI 10.17487/RFC5085</span>, <time class="refDate" datetime="2007-12">December 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5085">https://www.rfc-editor.org/info/rfc5085</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5129">[RFC5129]</dt>
        <dd>
<span class="refAuthor">Davie, B.</span><span class="refAuthor">, Briscoe, B.</span><span class="refAuthor">, and J. Tay</span>, <span class="refTitle">"Explicit Congestion Marking in MPLS"</span>, <span class="seriesInfo">RFC 5129</span>, <span class="seriesInfo">DOI 10.17487/RFC5129</span>, <time class="refDate" datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5129">https://www.rfc-editor.org/info/rfc5129</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5462">[RFC5462]</dt>
        <dd>
<span class="refAuthor">Andersson, L.</span><span class="refAuthor"> and R. Asati</span>, <span class="refTitle">"Multiprotocol Label Switching (MPLS) Label Stack Entry: "EXP" Field Renamed to "Traffic Class" Field"</span>, <span class="seriesInfo">RFC 5462</span>, <span class="seriesInfo">DOI 10.17487/RFC5462</span>, <time class="refDate" datetime="2009-02">February 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5462">https://www.rfc-editor.org/info/rfc5462</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5586">[RFC5586]</dt>
        <dd>
<span class="refAuthor">Bocci, M., Ed.</span><span class="refAuthor">, Vigoureux, M., Ed.</span><span class="refAuthor">, and S. Bryant, Ed.</span>, <span class="refTitle">"MPLS Generic Associated Channel"</span>, <span class="seriesInfo">RFC 5586</span>, <span class="seriesInfo">DOI 10.17487/RFC5586</span>, <time class="refDate" datetime="2009-06">June 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5586">https://www.rfc-editor.org/info/rfc5586</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6790">[RFC6790]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span><span class="refAuthor">, Drake, J.</span><span class="refAuthor">, Amante, S.</span><span class="refAuthor">, Henderickx, W.</span><span class="refAuthor">, and L. Yong</span>, <span class="refTitle">"The Use of Entropy Labels in MPLS Forwarding"</span>, <span class="seriesInfo">RFC 6790</span>, <span class="seriesInfo">DOI 10.17487/RFC6790</span>, <time class="refDate" datetime="2012-11">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6790">https://www.rfc-editor.org/info/rfc6790</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8655">[RFC8655]</dt>
        <dd>
<span class="refAuthor">Finn, N.</span><span class="refAuthor">, Thubert, P.</span><span class="refAuthor">, Varga, B.</span><span class="refAuthor">, and J. Farkas</span>, <span class="refTitle">"Deterministic Networking Architecture"</span>, <span class="seriesInfo">RFC 8655</span>, <span class="seriesInfo">DOI 10.17487/RFC8655</span>, <time class="refDate" datetime="2019-10">October 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8655">https://www.rfc-editor.org/info/rfc8655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8938">[RFC8938]</dt>
      <dd>
<span class="refAuthor">Varga, B., Ed.</span><span class="refAuthor">, Farkas, J.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Malis, A.</span><span class="refAuthor">, and S. Bryant</span>, <span class="refTitle">"Deterministic Networking (DetNet) Data Plane Framework"</span>, <span class="seriesInfo">RFC 8938</span>, <span class="seriesInfo">DOI 10.17487/RFC8938</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8938">https://www.rfc-editor.org/info/rfc8938</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-detnet-ip-over-mpls">[DetNet-IP-over-MPLS]</dt>
        <dd>
<span class="refAuthor">Varga, B., Ed.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Fedyk, D.</span><span class="refAuthor">, Bryant, S.</span><span class="refAuthor">, and J. Korhonen</span>, <span class="refTitle">"DetNet Data Plane: IP over MPLS"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-ip-over-mpls-09</span>, <time class="refDate" datetime="2020-10-11">11 October 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-ip-over-mpls-09">https://tools.ietf.org/html/draft-ietf-detnet-ip-over-mpls-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-detnet-mpls-oam">[DetNet-MPLS-OAM]</dt>
        <dd>
<span class="refAuthor">Mirsky, G.</span><span class="refAuthor"> and M. Chen</span>, <span class="refTitle">"Operations, Administration and Maintenance (OAM) for Deterministic Networks (DetNet) with MPLS Data Plane"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-mpls-oam-02</span>, <time class="refDate" datetime="2021-01-15">15 January 2021</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-mpls-oam-02">https://tools.ietf.org/html/draft-ietf-detnet-mpls-oam-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-detnet-mpls-over-tsn">[DetNet-MPLS-over-TSN]</dt>
        <dd>
<span class="refAuthor">Varga, B., Ed.</span><span class="refAuthor">, Farkas, J.</span><span class="refAuthor">, Malis, A.</span><span class="refAuthor">, and S. Bryant</span>, <span class="refTitle">"DetNet Data Plane: MPLS over IEEE 802.1 Time Sensitive Networking (TSN)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-mpls-over-tsn-05</span>, <time class="refDate" datetime="2020-12-13">13 December 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-mpls-over-tsn-05">https://tools.ietf.org/html/draft-ietf-detnet-mpls-over-tsn-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-detnet-security">[DetNet-Security]</dt>
        <dd>
<span class="refAuthor">Grossman, E., Ed.</span><span class="refAuthor">, Mizrahi, T.</span><span class="refAuthor">, and A. Hacker</span>, <span class="refTitle">"Deterministic Networking (DetNet) Security Considerations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-security-13</span>, <time class="refDate" datetime="2020-12-11">11 December 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-security-13">https://tools.ietf.org/html/draft-ietf-detnet-security-13</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-detnet-yang">[DetNet-YANG]</dt>
        <dd>
<span class="refAuthor">Geng, X.</span><span class="refAuthor">, Chen, M.</span><span class="refAuthor">, Ryoo, Y.</span><span class="refAuthor">, Fedyk, D.</span><span class="refAuthor">, Rahman, R.</span><span class="refAuthor">, and Z. Li</span>, <span class="refTitle">"Deterministic Networking (DetNet) Configuration YANG Model"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-yang-09</span>, <time class="refDate" datetime="2020-11-16">16 November 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-yang-09">https://tools.ietf.org/html/draft-ietf-detnet-yang-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE802.1AE-2018">[IEEE802.1AE-2018]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks-Media Access Control (MAC) Security"</span>, <span class="seriesInfo">IEEE 802.1AE-2018</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2018.8585421</span>, <time class="refDate" datetime="2018-12">December 2018</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8585421">https://ieeexplore.ieee.org/document/8585421</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE802.1CB-2017">[IEEE802.1CB-2017]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks-- Frame Replication and Elimination for Reliability"</span>, <span class="seriesInfo">IEEE 802.1CB-2017</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2017.8091139</span>, <time class="refDate" datetime="2017-10">October 2017</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8091139">https://ieeexplore.ieee.org/document/8091139</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2205">[RFC2205]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span><span class="refAuthor">, Zhang, L.</span><span class="refAuthor">, Berson, S.</span><span class="refAuthor">, Herzog, S.</span><span class="refAuthor">, and S. Jamin</span>, <span class="refTitle">"Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification"</span>, <span class="seriesInfo">RFC 2205</span>, <span class="seriesInfo">DOI 10.17487/RFC2205</span>, <time class="refDate" datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2205">https://www.rfc-editor.org/info/rfc2205</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2474">[RFC2474]</dt>
        <dd>
<span class="refAuthor">Nichols, K.</span><span class="refAuthor">, Blake, S.</span><span class="refAuthor">, Baker, F.</span><span class="refAuthor">, and D. Black</span>, <span class="refTitle">"Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers"</span>, <span class="seriesInfo">RFC 2474</span>, <span class="seriesInfo">DOI 10.17487/RFC2474</span>, <time class="refDate" datetime="1998-12">December 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2474">https://www.rfc-editor.org/info/rfc2474</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3272">[RFC3272]</dt>
        <dd>
<span class="refAuthor">Awduche, D.</span><span class="refAuthor">, Chiu, A.</span><span class="refAuthor">, Elwalid, A.</span><span class="refAuthor">, Widjaja, I.</span><span class="refAuthor">, and X. Xiao</span>, <span class="refTitle">"Overview and Principles of Internet Traffic Engineering"</span>, <span class="seriesInfo">RFC 3272</span>, <span class="seriesInfo">DOI 10.17487/RFC3272</span>, <time class="refDate" datetime="2002-05">May 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3272">https://www.rfc-editor.org/info/rfc3272</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3552">[RFC3552]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span><span class="refAuthor"> and B. Korver</span>, <span class="refTitle">"Guidelines for Writing RFC Text on Security Considerations"</span>, <span class="seriesInfo">BCP 72</span>, <span class="seriesInfo">RFC 3552</span>, <span class="seriesInfo">DOI 10.17487/RFC3552</span>, <time class="refDate" datetime="2003-07">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3552">https://www.rfc-editor.org/info/rfc3552</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3985">[RFC3985]</dt>
        <dd>
<span class="refAuthor">Bryant, S., Ed.</span><span class="refAuthor"> and P. Pate, Ed.</span>, <span class="refTitle">"Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture"</span>, <span class="seriesInfo">RFC 3985</span>, <span class="seriesInfo">DOI 10.17487/RFC3985</span>, <time class="refDate" datetime="2005-03">March 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3985">https://www.rfc-editor.org/info/rfc3985</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4301">[RFC4301]</dt>
        <dd>
<span class="refAuthor">Kent, S.</span><span class="refAuthor"> and K. Seo</span>, <span class="refTitle">"Security Architecture for the Internet Protocol"</span>, <span class="seriesInfo">RFC 4301</span>, <span class="seriesInfo">DOI 10.17487/RFC4301</span>, <time class="refDate" datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4301">https://www.rfc-editor.org/info/rfc4301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4448">[RFC4448]</dt>
        <dd>
<span class="refAuthor">Martini, L., Ed.</span><span class="refAuthor">, Rosen, E.</span><span class="refAuthor">, El-Aawar, N.</span><span class="refAuthor">, and G. Heron</span>, <span class="refTitle">"Encapsulation Methods for Transport of Ethernet over MPLS Networks"</span>, <span class="seriesInfo">RFC 4448</span>, <span class="seriesInfo">DOI 10.17487/RFC4448</span>, <time class="refDate" datetime="2006-04">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4448">https://www.rfc-editor.org/info/rfc4448</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4875">[RFC4875]</dt>
        <dd>
<span class="refAuthor">Aggarwal, R., Ed.</span><span class="refAuthor">, Papadimitriou, D., Ed.</span><span class="refAuthor">, and S. Yasukawa, Ed.</span>, <span class="refTitle">"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to-Multipoint TE Label Switched Paths (LSPs)"</span>, <span class="seriesInfo">RFC 4875</span>, <span class="seriesInfo">DOI 10.17487/RFC4875</span>, <time class="refDate" datetime="2007-05">May 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4875">https://www.rfc-editor.org/info/rfc4875</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5440">[RFC5440]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span><span class="refAuthor"> and JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time class="refDate" datetime="2009-03">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5920">[RFC5920]</dt>
        <dd>
<span class="refAuthor">Fang, L., Ed.</span>, <span class="refTitle">"Security Framework for MPLS and GMPLS Networks"</span>, <span class="seriesInfo">RFC 5920</span>, <span class="seriesInfo">DOI 10.17487/RFC5920</span>, <time class="refDate" datetime="2010-07">July 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5920">https://www.rfc-editor.org/info/rfc5920</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5921">[RFC5921]</dt>
        <dd>
<span class="refAuthor">Bocci, M., Ed.</span><span class="refAuthor">, Bryant, S., Ed.</span><span class="refAuthor">, Frost, D., Ed.</span><span class="refAuthor">, Levrau, L.</span><span class="refAuthor">, and L. Berger</span>, <span class="refTitle">"A Framework for MPLS in Transport Networks"</span>, <span class="seriesInfo">RFC 5921</span>, <span class="seriesInfo">DOI 10.17487/RFC5921</span>, <time class="refDate" datetime="2010-07">July 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5921">https://www.rfc-editor.org/info/rfc5921</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6003">[RFC6003]</dt>
        <dd>
<span class="refAuthor">Papadimitriou, D.</span>, <span class="refTitle">"Ethernet Traffic Parameters"</span>, <span class="seriesInfo">RFC 6003</span>, <span class="seriesInfo">DOI 10.17487/RFC6003</span>, <time class="refDate" datetime="2010-10">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6003">https://www.rfc-editor.org/info/rfc6003</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6073">[RFC6073]</dt>
        <dd>
<span class="refAuthor">Martini, L.</span><span class="refAuthor">, Metz, C.</span><span class="refAuthor">, Nadeau, T.</span><span class="refAuthor">, Bocci, M.</span><span class="refAuthor">, and M. Aissaoui</span>, <span class="refTitle">"Segmented Pseudowire"</span>, <span class="seriesInfo">RFC 6073</span>, <span class="seriesInfo">DOI 10.17487/RFC6073</span>, <time class="refDate" datetime="2011-01">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6073">https://www.rfc-editor.org/info/rfc6073</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8306">[RFC8306]</dt>
        <dd>
<span class="refAuthor">Zhao, Q.</span><span class="refAuthor">, Dhody, D., Ed.</span><span class="refAuthor">, Palleti, R.</span><span class="refAuthor">, and D. King</span>, <span class="refTitle">"Extensions to the Path Computation Element Communication Protocol (PCEP) for Point-to-Multipoint Traffic Engineering Label Switched Paths"</span>, <span class="seriesInfo">RFC 8306</span>, <span class="seriesInfo">DOI 10.17487/RFC8306</span>, <time class="refDate" datetime="2017-11">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8306">https://www.rfc-editor.org/info/rfc8306</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8660">[RFC8660]</dt>
        <dd>
<span class="refAuthor">Bashandy, A., Ed.</span><span class="refAuthor">, Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time class="refDate" datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8939">[RFC8939]</dt>
      <dd>
<span class="refAuthor">Varga, B., Ed.</span><span class="refAuthor">, Farkas, J.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Fedyk, D.</span><span class="refAuthor">, and S. Bryant</span>, <span class="refTitle">"Deterministic Networking (DetNet) Data Plane: IP"</span>, <span class="seriesInfo">RFC 8939</span>, <span class="seriesInfo">DOI 10.17487/RFC8939</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8939">https://www.rfc-editor.org/info/rfc8939</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acks">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">
                The authors wish to thank <span class="contact-name">Pat Thaler</span>,
 <span class="contact-name">Norman Finn</span>, <span class="contact-name">Loa   Anderson</span>, <span class="contact-name">David Black</span>,
                <span class="contact-name">Rodney Cummings</span>, <span class="contact-name">Ethan Grossman</span>, <span class="contact-name">Tal   Mizrahi</span>, <span class="contact-name">David Mozes</span>, <span class="contact-name">Craig Gunther</span>, 
                <span class="contact-name">George Swallow</span>, <span class="contact-name">Yuanlong Jiang</span>, <span class="contact-name">Jeong-dong   Ryoo</span>, and <span class="contact-name">Carlos J. Bernardos</span> for their
                various contributions to this work.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
</div>
<div id="Contributors">
<section id="section-appendix.b">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="section-appendix.b-1">
   The editor of this document wishes to thank and acknowledge the
   following person who contributed substantially to the content of this
   document and should be considered a coauthor:<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Don Fedyk</span></div>
<div class="left" dir="auto"><span class="org">LabN Consulting, L.L.C.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:dfedyk@labn.net">dfedyk@labn.net</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Balázs Varga (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Ericsson</span></div>
<div class="left" dir="auto"><span class="locality">Budapest</span></div>
<div class="left" dir="auto"><span class="street-address">Magyar Tudosok krt. 11.</span></div>
<div class="left" dir="auto"><span class="postal-code">1117</span></div>
<div class="left" dir="auto"><span class="country-name">Hungary</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:balazs.a.varga@ericsson.com">balazs.a.varga@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">János Farkas</span></div>
<div class="left" dir="auto"><span class="org">Ericsson</span></div>
<div class="left" dir="auto"><span class="locality">Budapest</span></div>
<div class="left" dir="auto"><span class="street-address">Magyar Tudosok krt. 11.</span></div>
<div class="left" dir="auto"><span class="postal-code">1117</span></div>
<div class="left" dir="auto"><span class="country-name">Hungary</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:janos.farkas@ericsson.com">janos.farkas@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Lou Berger</span></div>
<div class="left" dir="auto"><span class="org">LabN Consulting, L.L.C.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lberger@labn.net">lberger@labn.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Andrew G. Malis</span></div>
<div class="left" dir="auto"><span class="org">Malis Consulting</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:agmalis@gmail.com">agmalis@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stewart Bryant</span></div>
<div class="left" dir="auto"><span class="org">Futurewei Technologies</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sb@stewartbryant.com">sb@stewartbryant.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jouni Korhonen</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jouni.nospam@gmail.com">jouni.nospam@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>