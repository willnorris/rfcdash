<html><head></head><body><pre>Internet Engineering Task Force (IETF)                       M. Blanchet
Request for Comments: 7484                                      Viagenie
Category: Standards Track                                     March 2015
ISSN: 2070-1721


       <span class="h1">Finding the Authoritative Registration Data (RDAP) Service</span>

Abstract

   This document specifies a method to find which Registration Data
   Access Protocol (RDAP) server is authoritative to answer queries for
   a requested scope, such as domain names, IP addresses, or Autonomous
   System numbers.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7484">http://www.rfc-editor.org/info/rfc7484</a>.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.








<span class="grey">Blanchet                     Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Conventions Used in This Document . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Structure of the RDAP Bootstrap Service Registries  . . . . .   <a href="#page-3">3</a>
   <a href="#section-4">4</a>.  Bootstrap Service Registry for Domain Name Space  . . . . . .   <a href="#page-5">5</a>
   <a href="#section-5">5</a>.  Bootstrap Service Registries for Internet Numbers . . . . . .   <a href="#page-6">6</a>
     <a href="#section-5.1">5.1</a>.  Bootstrap Service Registry for IPv4 Address Space . . . .   <a href="#page-7">7</a>
     <a href="#section-5.2">5.2</a>.  Bootstrap Service Registry for IPv6 Address Space . . . .   <a href="#page-8">8</a>
     <a href="#section-5.3">5.3</a>.  Bootstrap Service Registry for AS Number Space  . . . . .   <a href="#page-9">9</a>
   <a href="#section-6">6</a>.  Entity  . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-7">7</a>.  Non-existent Entries or RDAP URL Values . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-8">8</a>.  Deployment and Implementation Considerations  . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-9">9</a>.  Limitations . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-10">10</a>. Formal Definition . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-10.1">10.1</a>.  Imported JSON Terms  . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-10.2">10.2</a>.  Registry Syntax  . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-11">11</a>. Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   <a href="#section-12">12</a>. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
     <a href="#section-12.1">12.1</a>.  Bootstrap Service Registry for IPv4 Address Space  . . .  <a href="#page-14">14</a>
     <a href="#section-12.2">12.2</a>.  Bootstrap Service Registry for IPv6 Address Space  . . .  <a href="#page-14">14</a>
     <a href="#section-12.3">12.3</a>.  Bootstrap Service Registry for AS Number Space . . . . .  <a href="#page-14">14</a>
     <a href="#section-12.4">12.4</a>.  Bootstrap Service Registry for Domain Name Space . . . .  <a href="#page-15">15</a>
   <a href="#section-13">13</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-13.1">13.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
     <a href="#section-13.2">13.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   Querying and retrieving registration data from registries are defined
   in Registration Data Access Protocol (RDAP) [<a href="./rfc7480" title='"HTTP Usage in the Registration Data Access Protocol (RDAP)"'>RFC7480</a>] [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>]
   [<a href="./rfc7483" title='"JSON Responses for the Registration Data Access Protocol (RDAP)"'>RFC7483</a>].  These documents do not specify where to send the queries.
   This document specifies a method to find which server is
   authoritative to answer queries for the requested scope.

   Top-Level Domains (TLDs), Autonomous System (AS) numbers, and network
   blocks are delegated by IANA to Internet registries such as TLD
   registries and Regional Internet Registries (RIRs) that then issue
   further delegations and maintain information about them.  Thus, the
   bootstrap information needed by RDAP clients is best generated from
   data and processes already maintained by IANA; the relevant
   registries already exist at [<a href="#ref-ipv4reg" title='"IPv4 Address Space Registry"'>ipv4reg</a>], [<a href="#ref-ipv6reg" title='"IPv6 Global Unicast Address Assignments"'>ipv6reg</a>], [<a href="#ref-asreg" title='"Autonomous System (AS) Numbers"'>asreg</a>], and
   [<a href="#ref-domainreg">domainreg</a>].






<span class="grey">Blanchet                     Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   Per this document, IANA has created new registries based on a JSON
   format specified in this document, herein named RDAP Bootstrap
   Service Registries.  These new registries are based on the existing
   entries of the above mentioned registries.  An RDAP client fetches
   the RDAP Bootstrap Service Registries, extracts the data, and then
   performs a match with the query data to find the authoritative
   registration data server and appropriate query base URL.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Structure%20of%20the%20RDAP%20Bootstrap%20Service%20Registries"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Structure of the RDAP Bootstrap Service Registries</span>

   The RDAP Bootstrap Service Registries, as specified in <a href="#section-12">Section 12</a>
   below, have been made available as JSON [<a href="./rfc7159" title='"The JavaScript Object Notation (JSON) Data Interchange Format"'>RFC7159</a>] objects, which can
   be retrieved via HTTP from locations specified by IANA.  The JSON
   object for each registry contains a series of members containing
   metadata about the registry such as a version identifier, a timestamp
   of the publication date of the registry, and a description.
   Additionally, a "services" member contains the registry items
   themselves, as an array.  Each item of the array contains a second-
   level array, with two elements, each of them being a third-level
   array.

   Each element of the Services Array is a second-level array with two
   elements: in order, an Entry Array and a Service URL Array.

   The Entry Array contains all entries that have the same set of base
   RDAP URLs.  The Service URL Array contains the list of base RDAP URLs
   usable for the entries found in the Entry Array.  Elements within
   these two arrays are not sorted in any way.

















<span class="grey">Blanchet                     Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   An example structure of the JSON output of a RDAP Bootstrap Service
   Registry is illustrated:

   {
       "version": "1.0",
       "publication": "YYYY-MM-DDTHH:MM:SSZ",
       "description": "Some text",
       "services": [
         [
           ["entry1", "entry2", "entry3"],
           [
             "https://registry.example.com/myrdap/",
             "http://registry.example.com/myrdap/"
           ]
         ],
         [
           ["entry4"],
           [
             "http://example.org/"
           ]
         ]
       ]
   }

   The formal syntax is described in <a href="#section-10">Section 10</a>.

   The "version" corresponds to the format version of the registry.
   This specification defines version "1.0".

   The syntax of the "publication" value conforms to the Internet date/
   time format [<a href="./rfc3339" title='"Date and Time on the Internet: Timestamps"'>RFC3339</a>].  The value is the latest update date of the
   registry by IANA.

   The optional "description" string can contain a comment regarding the
   content of the bootstrap object.

   Per [<a href="./rfc7258" title='"Pervasive Monitoring Is an Attack"'>RFC7258</a>], in each array of base RDAP URLs, the secure versions
   of the transport protocol SHOULD be preferred and tried first.  For
   example, if the base RDAP URLs array contains both HTTPS and HTTP
   URLs, the bootstrap client SHOULD try the HTTPS version first.

   Base RDAP URLs MUST have a trailing "/" character because they are
   concatenated to the various segments defined in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>].

   JSON names MUST follow the format recommendations of [<a href="./rfc7480" title='"HTTP Usage in the Registration Data Access Protocol (RDAP)"'>RFC7480</a>].  Any
   unrecognized JSON object properties or values MUST be ignored by
   implementations.




<span class="grey">Blanchet                     Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   Internationalized Domain Name labels used as entries or base RDAP
   URLs in the registries defined in this document MUST be only
   represented using their A-label form as defined in [<a href="./rfc5890" title='"Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework"'>RFC5890</a>].

   All Domain Name labels used as entries or base RDAP URLs in the
   registries defined in this document MUST be only represented in
   lowercase.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Bootstrap%20Service%20Registry%20for%20Domain%20Name%20Space"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Bootstrap Service Registry for Domain Name Space</span>

   The JSON output of this registry contains domain label entries
   attached to the root, grouped by base RDAP URLs, as shown in this
   example.

   {
       "version": "1.0",
       "publication": "YYYY-MM-DDTHH:MM:SSZ",
       "description": "Some text",
       "services": [
         [
           ["net", "com"],
           [
             "https://registry.example.com/myrdap/"
           ]
         ],
         [
           ["org", "mytld"],
           [
             "http://example.org/"
           ]
         ],
         [
           ["xn--zckzah"],
           [
             "https://example.net/rdapxn--zckzah/",
             "http://example.net/rdapxn--zckzah/"
           ]
         ]
       ]
   }

   The domain name's authoritative registration data service is found by
   doing the label-wise longest match of the target domain name with the
   domain values in the Entry Arrays in the IANA Bootstrap Service
   Registry for Domain Name Space.  The match is done per label, from
   right to left.  If the longest match results in multiple entries,
   then those entries are considered equivalent.  The values contained




<span class="grey">Blanchet                     Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   in the Service URL Array of the matching second-level array are the
   valid base RDAP URLs as described in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>].

   For example, a domain RDAP query for a.b.example.com matches the com
   entry in one of the arrays of the registry.  The base RDAP URL for
   this query is then taken from the second element of the array, which
   is an array of base RDAP URLs valid for this entry.  The client
   chooses one of the base URLs from this array; in this example, it
   chooses the only one available, "https://registry.example.com/
   myrdap/".  The segment specified in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>] is then appended to the
   base URL to complete the query.  The complete query is then
   "https://registry.example.com/myrdap/domain/a.b.example.com".

   If a domain RDAP query for a.b.example.com matches both com and
   example.com entries in the registry, then the longest match applies
   and the example.com entry is used by the client.

   If the registry contains entries such as com and goodexample.com,
   then a domain RDAP query for example.com only matches the com entry
   because matching is done on a per-label basis.

   The entry for the root of the domain name space is specified as "".

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Bootstrap%20Service%20Registries%20for%20Internet%20Numbers"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Bootstrap Service Registries for Internet Numbers</span>

   This section discusses IPv4 and IPv6 address space and Autonomous
   System numbers.

   For IP address space, the authoritative registration data service is
   found by doing a longest match of the target address with the values
   of the arrays in the corresponding RDAP Bootstrap Service Registry
   for Address Space.  The longest match is done the same way as for
   routing: the addresses are converted in binary form and then the
   binary strings are compared to find the longest match up to the
   specified prefix length.  The values contained in the second element
   of the array are the base RDAP URLs as described in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>].  The
   longest match method enables covering prefixes of a larger address
   space pointing to one base RDAP URL while more specific prefixes
   within the covering prefix are being served by another base RDAP URL.












<span class="grey">Blanchet                     Standards Track                    [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.%20%20Bootstrap%20Service%20Registry%20for%20IPv4%20Address%20Space"></a><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  Bootstrap Service Registry for IPv4 Address Space</span>

   The JSON output of this registry contains IPv4 prefix entries,
   specified in Classless Inter-domain Routing (CIDR) format [<a href="./rfc4632" title='"Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan"'>RFC4632</a>]
   and grouped by RDAP URLs, as shown in this example.

   {
       "version": "1.0",
       "publication": "2024-01-07T10:11:12Z",
       "description": "RDAP Bootstrap file for example registries.",
       "services": [
         [
           ["1.0.0.0/8", "192.0.0.0/8"],
           [
             "https://rir1.example.com/myrdap/"
           ]
         ],
         [
           ["28.2.0.0/16", "192.0.2.0/24"],
           [
             "http://example.org/"
           ]
         ],
         [
           ["28.3.0.0/16"],
           [
             "https://example.net/rdaprir2/",
             "http://example.net/rdaprir2/"
           ]
         ]
       ]
   }

   For example, a query for "192.0.2.1/25" matches the "192.0.0.0/8"
   entry and the "192.0.2.0/24" entry in the example registry above.
   The latter is chosen by the client given the longest match.  The base
   RDAP URL for this query is then taken from the second element of the
   array, which is an array of base RDAP URLs valid for this entry.  The
   client chooses one of the base URLs from this array; in this example,
   it chooses the only one available, "http://example.org/".  The
   {resource} specified in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>] is then appended to the base URL to
   complete the query.  The complete query is then "https://example.org/
   ip/192.0.2.1/25".








<span class="grey">Blanchet                     Standards Track                    [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.%20%20Bootstrap%20Service%20Registry%20for%20IPv6%20Address%20Space"></a><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  Bootstrap Service Registry for IPv6 Address Space</span>

   The JSON output of this registry contains IPv6 prefix entries, using
   [<a href="./rfc4291" title='"IP Version 6 Addressing Architecture"'>RFC4291</a>] text representation of the address prefixes format, grouped
   by base RDAP URLs, as shown in this example.

   {
       "version": "1.0",
       "publication": "2024-01-07T10:11:12Z",
       "description": "RDAP Bootstrap file for example registries.",
       "services": [
         [
           ["2001:0200::/23", "2001:db8::/32"],
           [
             "https://rir2.example.com/myrdap/"
           ]
         ],
         [
           ["2600::/16", "2100:ffff::/32"],
           [
             "http://example.org/"
           ]
         ],
         [
           ["2001:0200:1000::/36"],
           [
             "https://example.net/rdaprir2/",
             "http://example.net/rdaprir2/"
           ]
         ]
       ]
   }

   For example, a query for "2001:0200:1000::/48" matches the
   "2001:0200::/23" entry and the "2001:0200:1000::/36" entry in the
   example registry above.  The latter is chosen by the client given the
   longest match.  The base RDAP URL for this query is then taken from
   the second element of the array, which is an array of base RDAP URLs
   valid for this entry.  The client chooses one of the base URLs from
   this array; in this example, it chooses "https://example.net/
   rdaprir2/" because it's the secure version of the protocol.  The
   segment specified in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>] is then appended to the base URL to
   complete the query.  The complete query is, therefore,
   "https://example.net/rdaprir2/ip/2001:0200:1000::/48".  If the target
   RDAP server does not answer, the client can then use another URL
   prefix from the array.





<span class="grey">Blanchet                     Standards Track                    [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.3.%20%20Bootstrap%20Service%20Registry%20for%20AS%20Number%20Space"></a><a class="selflink" href="#section-5.3" id="section-5.3">5.3</a>.  Bootstrap Service Registry for AS Number Space</span>

   The JSON output of this contains Autonomous Systems number ranges
   entries, grouped by base RDAP URLs, as shown in this example.  The
   Entry Array is an array containing the list of AS number ranges
   served by the base RDAP URLs found in the second element.  The array
   always contains two AS numbers represented in decimal format that
   represents the range of AS numbers between the two elements of the
   array.  A single AS number is represented as a range of two identical
   AS numbers.

   {
       "version": "1.0",
       "publication": "2024-01-07T10:11:12Z",
       "description": "RDAP Bootstrap file for example registries.",
       "services": [
         [
           ["2045-2045"],
           [
             "https://rir3.example.com/myrdap/"
           ]
         ],
         [
           ["10000-12000", "300000-400000"],
           [
             "http://example.org/"
           ]
         ],
         [
           ["64512-65534"],
           [
             "http://example.net/rdaprir2/",
             "https://example.net/rdaprir2/"
           ]
         ]
       ]
   }

   For example, a query for AS 65411 matches the 64512-65534 entry in
   the example registry above.  The base RDAP URL for this query is then
   taken from the second element of the array, which is an array of base
   RDAP URLs valid for this entry.  The client chooses one of the base
   URLs from this array; in this example, it chooses
   "https://example.net/rdaprir2/".  The segment specified in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>]
   is then appended to the base URL to complete the query.  The complete
   query is, therefore, "https://example.net/rdaprir2/autnum/65411".  If
   the server does not answer, the client can then use another URL
   prefix from the array.



<span class="grey">Blanchet                     Standards Track                    [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Entity"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Entity</span>

   Entities (such as contacts, registrants, or registrars) can be
   queried by handle as described in [<a href="./rfc7482" title='"Registration Data Access Protocol Query Format"'>RFC7482</a>].  Since there is no
   global namespace for entities, this document does not describe how to
   find the authoritative RDAP server for entities.  However, it is
   possible that, if the entity identifier was received from a previous
   query, the same RDAP server could be queried for that entity, or the
   entity identifier itself is a fully referenced URL that can be
   queried.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20Non-existent%20Entries%20or%20RDAP%20URL%20Values"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  Non-existent Entries or RDAP URL Values</span>

   The registries may not contain the requested value.  In these cases,
   there is no known RDAP server for that requested value, and the
   client SHOULD provide an appropriate error message to the user.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20Deployment%20and%20Implementation%20Considerations"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  Deployment and Implementation Considerations</span>

   This method relies on the fact that RDAP clients are fetching the
   IANA registries to then find the servers locally.  Clients SHOULD NOT
   fetch the registry on every RDAP request.  Clients SHOULD cache the
   registry, but use underlying protocol signaling, such as the HTTP
   Expires header field [<a href="./rfc7234" title='"Hypertext Transfer Protocol (HTTP/1.1): Caching"'>RFC7234</a>], to identify when it is time to
   refresh the cached registry.

   If the query data does not match any entry in the client cached
   registry, then the client may implement various methods, such as the
   following:

   o  In the case of a domain object, the client may first query the DNS
      to see if the respective entry has been delegated or if it is
      mistyped information by the user.  The DNS query could be to fetch
      the NS records for the TLD domain.  If the DNS answer is negative,
      then there is no need to fetch the new version of the registry.
      However, if the DNS answer is positive, this may mean that the
      currently cached registry is no longer current.  The client could
      then fetch the registry, parse, and then do the normal matching as
      specified above.  This method may not work for all types of RDAP
      objects.

   o  If the client knows the existence of an RDAP aggregator or
      redirector and its associated base URL, and trusts that service,
      then it could send the query to the redirector, which would
      redirect the client if it knows the authoritative server that
      client has not found.





<span class="grey">Blanchet                     Standards Track                   [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   Some authorities of registration data may work together on sharing
   their information for a common service, including mutual redirection
   [<a href="#ref-REDIRECT-RDAP">REDIRECT-RDAP</a>].

   When a new object is allocated, such as a new AS range, a new TLD, or
   a new IP address range, there is no guarantee that this new object
   will have an entry in the corresponding bootstrap RDAP registry,
   since the setup of the RDAP server for this new entry may become live
   and registered later.  Therefore, the clients should expect that even
   if an object, such as TLD, IP address range, or AS range is
   allocated, the existence of the entry in the corresponding bootstrap
   registry is not guaranteed.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Limitations"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Limitations</span>

   This method does not provide a direct way to find authoritative RDAP
   servers for any other objects than the ones described in this
   document.  In particular, the following objects are not bootstrapped
   with the method described in this document:

   o  entities

   o  queries using search patterns that do not contain a terminating
      string that matches some entries in the registries

   o  nameservers

   o  help

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.%20%20Formal%20Definition"></a><a class="selflink" href="#section-10" id="section-10">10</a>.  Formal Definition</span>

   This section is the formal definition of the registries.  The
   structure of JSON objects and arrays using a set of primitive
   elements is defined in [<a href="./rfc7159" title='"The JavaScript Object Notation (JSON) Data Interchange Format"'>RFC7159</a>].  Those elements are used to
   describe the JSON structure of the registries.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.1.%20%20Imported%20JSON%20Terms"></a><a class="selflink" href="#section-10.1" id="section-10.1">10.1</a>.  Imported JSON Terms</span>

   o  OBJECT: a JSON object, defined in <a href="./rfc7159#section-4">Section 4 of [RFC7159]</a>

   o  MEMBER: a member of a JSON object, defined in <a href="./rfc7159#section-4">Section 4 of
      [RFC7159]</a>

   o  MEMBER-NAME: the name of a MEMBER, defined as a "string" in
      <a href="./rfc7159#section-4">Section 4 of [RFC7159]</a>

   o  MEMBER-VALUE: the value of a MEMBER, defined as a "value" in
      <a href="./rfc7159#section-4">Section 4 of [RFC7159]</a>



<span class="grey">Blanchet                     Standards Track                   [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   o  ARRAY: an array, defined in <a href="./rfc7159#section-5">Section 5 of [RFC7159]</a>

   o  ARRAY-VALUE: an element of an ARRAY, defined in <a href="./rfc7159#section-5">Section 5 of
      [RFC7159]</a>

   o  STRING: a "string", as defined in <a href="./rfc7159#section-7">Section 7 of [RFC7159]</a>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.2.%20%20Registry%20Syntax"></a><a class="selflink" href="#section-10.2" id="section-10.2">10.2</a>.  Registry Syntax</span>

   Using the above terms for the JSON structures, the syntax of a
   registry is defined as follows:

   o  rdap-bootstrap-registry: an OBJECT containing a MEMBER version and
      a MEMBER publication, an optional MEMBER description, and a MEMBER
      services-list

   o  version: a MEMBER with MEMBER-NAME "version" and MEMBER-VALUE a
      STRING

   o  publication: a MEMBER with MEMBER-NAME "publication" and MEMBER-
      VALUE a STRING

   o  description: a MEMBER with MEMBER-NAME "description" and MEMBER-
      VALUE a STRING

   o  services-list: a MEMBER with MEMBER-NAME "services" and MEMBER-
      VALUE a services-array

   o  services-array: an ARRAY, where each ARRAY-VALUE is a service

   o  service: an ARRAY of 2 elements, where the first ARRAY-VALUE is a
      an entry-list and the second ARRAY-VALUE is a service-uri-list

   o  entry-list: an ARRAY, where each ARRAY-VALUE is an entry

   o  entry: a STRING

   o  service-uri-list: an ARRAY, where each ARRAY-VALUE is a service-
      uri

   o  service-uri: a STRING










<span class="grey">Blanchet                     Standards Track                   [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.%20%20Security%20Considerations"></a><a class="selflink" href="#section-11" id="section-11">11</a>.  Security Considerations</span>

   By providing a bootstrap method to find RDAP servers, this document
   helps to ensure that the end users will get the RDAP data from an
   authoritative source, instead of from rogue sources.  The method has
   the same security properties as the RDAP protocols themselves.  The
   transport used to access the registries can be more secure by using
   TLS [<a href="./rfc5246" title='"The Transport Layer Security (TLS) Protocol Version 1.2"'>RFC5246</a>], which IANA supports.

   Additional considerations on using RDAP are described in [<a href="./rfc7481" title='"Security Services for the Registration Data Access Protocol"'>RFC7481</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-12" id="section-12">12</a>.  IANA Considerations</span>

   IANA has created the RDAP Bootstrap Services Registries, listed
   below, and made them available as JSON objects.  The contents of
   these registries are described in <a href="#section-3">Section 3</a>, <a href="#section-4">Section 4</a>, and
   <a href="#section-5">Section 5</a>, with the formal syntax specified in <a href="#section-10">Section 10</a>.

   The process for adding or updating entries in these registries
   differs from the normal IANA registry processes: these registries are
   generated from the data, processes, and policies maintained by IANA
   in their allocation registries ([<a href="#ref-ipv4reg" title='"IPv4 Address Space Registry"'>ipv4reg</a>], [<a href="#ref-ipv6reg" title='"IPv6 Global Unicast Address Assignments"'>ipv6reg</a>], [<a href="#ref-asreg" title='"Autonomous System (AS) Numbers"'>asreg</a>], and
   [<a href="#ref-domainreg">domainreg</a>]), with the addition of new RDAP server information.

   IANA will create and update RDAP Bootstrap Services Registries
   entries from the allocation registries as those registries are
   updated.

   This document does not change any policies related to the allocation
   registries; IANA has provided a mechanism for collecting the RDAP
   server information.  The RDAP Bootstrap Services Registries will
   start empty and will be gradually populated as registrants of domains
   and address spaces provide RDAP server information to IANA.

   IANA has created a new top-level category on the Protocol Registries
   page, &lt;<a href="http://www.iana.org/protocols">http://www.iana.org/protocols</a>&gt;.  The group is called
   "Registration Data Access Protocol (RDAP)".  Each of the RDAP
   Bootstrap Services Registries has been made available for general
   public on-demand download in the JSON format, and that registry's URI
   is listed directly on the Protocol Registries page.

   Other normal registries will be added to this group by other
   documents, but the reason the URIs for these registries are clearly
   listed on the main page is to make those URIs obvious to implementers
   -- these are registries that will be accessed by software, as well as
   by humans using them for reference information.





<span class="grey">Blanchet                     Standards Track                   [Page 13]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-14"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   Because these registries will be accessed by software, the download
   demand for the RDAP Bootstrap Services Registries may be unusually
   high compared to normal IANA registries.  The technical
   infrastructure by which registries are published will need to be
   reviewed and might need to be augmented.

   As discussed in <a href="#section-8">Section 8</a>, software that accesses these registries
   will depend on the HTTP Expires header field to limit their query
   rate.  It is, therefore, important for that header field to be
   properly set to provide timely information as the registries change,
   while maintaining a reasonable load on the IANA servers.  The HTTP
   Content-Type returned to clients accessing these JSON- formatted
   registries MUST be "application/json", as defined in [<a href="./rfc7159" title='"The JavaScript Object Notation (JSON) Data Interchange Format"'>RFC7159</a>].

   Because of how information in the RDAP Bootstrap Services Registries
   is grouped and formatted, the registry entries may not be sortable.
   It is, therefore, not required or expected that the entries be sorted
   in any way.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.1.%20%20Bootstrap%20Service%20Registry%20for%20IPv4%20Address%20Space"></a><a class="selflink" href="#section-12.1" id="section-12.1">12.1</a>.  Bootstrap Service Registry for IPv4 Address Space</span>

   Entries in this registry contain at least the following:

   o  a CIDR [<a href="./rfc4632" title='"Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan"'>RFC4632</a>] specification of the network block being
      registered.

   o  one or more URLs that provide the RDAP service regarding this
      registration.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.2.%20%20Bootstrap%20Service%20Registry%20for%20IPv6%20Address%20Space"></a><a class="selflink" href="#section-12.2" id="section-12.2">12.2</a>.  Bootstrap Service Registry for IPv6 Address Space</span>

   Entries in this registry contain at least the following:

   o  an IPv6 prefix [<a href="./rfc4291" title='"IP Version 6 Addressing Architecture"'>RFC4291</a>] specification of the network block being
      registered.

   o  one or more URLs that provide the RDAP service regarding this
      registration.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.3.%20%20Bootstrap%20Service%20Registry%20for%20AS%20Number%20Space"></a><a class="selflink" href="#section-12.3" id="section-12.3">12.3</a>.  Bootstrap Service Registry for AS Number Space</span>

   Entries in this registry contain at least the following:

   o  a range of Autonomous System numbers being registered.

   o  one or more URLs that provide the RDAP service regarding this
      registration.




<span class="grey">Blanchet                     Standards Track                   [Page 14]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-15"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.4.%20%20Bootstrap%20Service%20Registry%20for%20Domain%20Name%20Space"></a><a class="selflink" href="#section-12.4" id="section-12.4">12.4</a>.  Bootstrap Service Registry for Domain Name Space</span>

   Entries in this registry contain at least the following:

   o  a domain name attached to the root being registered.

   o  one or more URLs that provide the RDAP service regarding this
      registration.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/13.%20%20References"></a><a class="selflink" href="#section-13" id="section-13">13</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/13.1.%20%20Normative%20References"></a><a class="selflink" href="#section-13.1" id="section-13.1">13.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3339">RFC3339</a>]  Klyne, G. and C. Newman, "Date and Time on the Internet:
              Timestamps", <a href="./rfc3339">RFC 3339</a>, July 2002,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3339">http://www.rfc-editor.org/info/rfc3339</a>&gt;.

   [<a id="ref-RFC4291">RFC4291</a>]  Hinden, R. and S. Deering, "IP Version 6 Addressing
              Architecture", <a href="./rfc4291">RFC 4291</a>, February 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4291">http://www.rfc-editor.org/info/rfc4291</a>&gt;.

   [<a id="ref-RFC4632">RFC4632</a>]  Fuller, V. and T. Li, "Classless Inter-domain Routing
              (CIDR): The Internet Address Assignment and Aggregation
              Plan", <a href="https://www.rfc-editor.org/bcp/bcp122">BCP 122</a>, <a href="./rfc4632">RFC 4632</a>, August 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4632">http://www.rfc-editor.org/info/rfc4632</a>&gt;.

   [<a id="ref-RFC5890">RFC5890</a>]  Klensin, J., "Internationalized Domain Names for
              Applications (IDNA): Definitions and Document Framework",
              <a href="./rfc5890">RFC 5890</a>, August 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5890">http://www.rfc-editor.org/info/rfc5890</a>&gt;.

   [<a id="ref-RFC7159">RFC7159</a>]  Bray, T., Ed., "The JavaScript Object Notation (JSON) Data
              Interchange Format", <a href="./rfc7159">RFC 7159</a>, March 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7159">http://www.rfc-editor.org/info/rfc7159</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/13.2.%20%20Informative%20References"></a><a class="selflink" href="#section-13.2" id="section-13.2">13.2</a>.  Informative References</span>

   [<a id="ref-REDIRECT-RDAP">REDIRECT-RDAP</a>]
              Martinez, C., Zhou, L., and G. Rada, "Redirection Service
              for Registration Data Access Protocol", Work in Progress,
              <a href="./draft-ietf-weirds-redirects-04">draft-ietf-weirds-redirects-04</a>, July 2014.






<span class="grey">Blanchet                     Standards Track                   [Page 15]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-16"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


   [<a id="ref-RFC5246">RFC5246</a>]  Dierks, T. and E. Rescorla, "The Transport Layer Security
              (TLS) Protocol Version 1.2", <a href="./rfc5246">RFC 5246</a>, August 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5246">http://www.rfc-editor.org/info/rfc5246</a>&gt;.

   [<a id="ref-RFC7071">RFC7071</a>]  Borenstein, N. and M. Kucherawy, "A Media Type for
              Reputation Interchange", <a href="./rfc7071">RFC 7071</a>, November 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7071">http://www.rfc-editor.org/info/rfc7071</a>&gt;.

   [<a id="ref-RFC7234">RFC7234</a>]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
              Ed., "Hypertext Transfer Protocol (HTTP/1.1): Caching",
              <a href="./rfc7234">RFC 7234</a>, June 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7234">http://www.rfc-editor.org/info/rfc7234</a>&gt;.

   [<a id="ref-RFC7258">RFC7258</a>]  Farrell, S. and H. Tschofenig, "Pervasive Monitoring Is an
              Attack", <a href="https://www.rfc-editor.org/bcp/bcp188">BCP 188</a>, <a href="./rfc7258">RFC 7258</a>, May 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7258">http://www.rfc-editor.org/info/rfc7258</a>&gt;.

   [<a id="ref-RFC7480">RFC7480</a>]  Newton, A., Ellacott, B., and N. Kong, "HTTP Usage in the
              Registration Data Access Protocol (RDAP)", <a href="./rfc7480">RFC 7480</a>, March
              2015, &lt;<a href="http://www.rfc-editor.org/info/rfc7480">http://www.rfc-editor.org/info/rfc7480</a>&gt;.

   [<a id="ref-RFC7481">RFC7481</a>]  Hollenbeck, S. and N. Kong, "Security Services for the
              Registration Data Access Protocol", <a href="./rfc7481">RFC 7481</a>, March 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7481">http://www.rfc-editor.org/info/rfc7481</a>&gt;.

   [<a id="ref-RFC7482">RFC7482</a>]  Newton, A. and S. Hollenbeck, "Registration Data Access
              Protocol Query Format", <a href="./rfc7482">RFC 7482</a>, March 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7482">http://www.rfc-editor.org/info/rfc7482</a>&gt;.

   [<a id="ref-RFC7483">RFC7483</a>]  Newton, A. and S. Hollenbeck, "JSON Responses for the
              Registration Data Access Protocol (RDAP)", <a href="./rfc7483">RFC 7483</a>, March
              2015, &lt;<a href="http://www.rfc-editor.org/info/rfc7483">http://www.rfc-editor.org/info/rfc7483</a>&gt;.

   [<a id="ref-asreg">asreg</a>]    IANA, "Autonomous System (AS) Numbers",
              &lt;<a href="http://www.iana.org/assignments/as-numbers">http://www.iana.org/assignments/as-numbers</a>&gt;.

   [<a id="ref-domainreg">domainreg</a>]
              IANA, "Root Zone Database",
              &lt;<a href="http://www.iana.org/domains/root/db">http://www.iana.org/domains/root/db</a>&gt;.

   [<a id="ref-ipv4reg">ipv4reg</a>]  IANA, "IPv4 Address Space Registry",
              &lt;<a href="http://www.iana.org/assignments/ipv4-address-space">http://www.iana.org/assignments/ipv4-address-space</a>&gt;.

   [<a id="ref-ipv6reg">ipv6reg</a>]  IANA, "IPv6 Global Unicast Address Assignments",
              &lt;<a href="http://www.iana.org/assignments/ipv6-unicast-address-assignments">http://www.iana.org/assignments/</a>
              <a href="http://www.iana.org/assignments/ipv6-unicast-address-assignments">ipv6-unicast-address-assignments</a>&gt;.





<span class="grey">Blanchet                     Standards Track                   [Page 16]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-17"></span>
<span class="grey"><a href="./rfc7484">RFC 7484</a>           Finding Authoritative RDAP Service         March 2015</span>


Acknowledgements

   The WEIRDS working group had multiple discussions on this topic,
   including a session during IETF 84, where various methods such as
   in-DNS and others were debated.  The idea of using IANA registries
   was discovered by the author during discussions with his colleagues
   as well as by a comment from Andy Newton.  All the people involved in
   these discussions are herein acknowledged.  Linlin Zhou, Jean-
   Philippe Dionne, John Levine, Kim Davies, Ernie Dainow, Scott
   Hollenbeck, Arturo Servin, Andy Newton, Murray Kucherawy, Tom
   Harrison, Naoki Kambe, Alexander Mayrhofer, Edward Lewis, Pete
   Resnick, Alessandro Vesely, Bert Greevenbosch, Barry Leiba, Jari
   Arkko, Kathleen Moriaty, Stephen Farrell, Richard Barnes, and Jean-
   Francois Tremblay have provided input and suggestions to this
   document.  Guillaume Leclanche was a coauthor of this document for
   some revisions; his support is therein acknowledged and greatly
   appreciated.  The section on formal definition was inspired by
   <a href="./rfc7071#section-6.2">Section 6.2 of [RFC7071]</a>.

Author's Address

   Marc Blanchet
   Viagenie
   246 Aberdeen
   Quebec, QC  G1R 2E1
   Canada

   EMail: Marc.Blanchet@viagenie.ca
   URI:   <a href="http://viagenie.ca">http://viagenie.ca</a>






















Blanchet                     Standards Track                   [Page 17]
</pre>
</body></html>