<html><head></head><body><pre>Internet Engineering Task Force (IETF)                       T. Anderson
Request for Comments: 8215                                Redpill Linpro
Category: Standards Track                                    August 2017
ISSN: 2070-1721


                 <span class="h1">Local-Use IPv4/IPv6 Translation Prefix</span>

Abstract

   This document reserves the IPv6 prefix 64:ff9b:1::/48 for local use
   within domains that enable IPv4/IPv6 translation mechanisms.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc7841#section-2">Section 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc8215">http://www.rfc-editor.org/info/rfc8215</a>.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.










<span class="grey">Anderson                     Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc8215">RFC 8215</a>         Local-Use IPv4/IPv6 Translation Prefix      August 2017</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-3">3</a>.  Problem Statement . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-4">4</a>.  Why 64:ff9b:1::/48? . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-4.1">4.1</a>.  Prefix Length . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-4.2">4.2</a>.  Prefix Value  . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-5">5</a>.  Deployment Considerations . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-6">6</a>.  Checksum Neutrality . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-7">7</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-8">8</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-9">9</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-9.1">9.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-9.2">9.2</a>.  Informative References  . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   This document reserves 64:ff9b:1::/48 for local use within domains
   that enable IPv4/IPv6 translation mechanisms.  This facilitates the
   coexistence of multiple IPv4/IPv6 translation mechanisms in the same
   network without requiring the use of a Network-Specific Prefix
   assigned from the operator's allocated global unicast address space.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Terminology</span>

   This document uses the following terms:

   Network-Specific Prefix (NSP)
      A globally unique prefix assigned by a network operator for use
      with an IPv4/IPv6 translation mechanism [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>].

   Well-Known Prefix (WKP)
      The prefix 64:ff9b::/96, which is reserved for use with the
      [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] IPv4/IPv6 address translation algorithms.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Problem%20Statement"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Problem Statement</span>

   Since the WKP 64:ff9b::/96 was reserved by [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>], several new
   IPv4/IPv6 translation mechanisms have been defined by the IETF, such
   as those defined in [<a href="./rfc6146" title='"Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers"'>RFC6146</a>] and [<a href="./rfc7915" title='"IP/ICMP Translation Algorithm"'>RFC7915</a>].  These mechanisms target
   various different use cases.  An operator might therefore wish to
   make use of several of them simultaneously.

   The WKP is reserved specifically for use with the algorithms
   specified in [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>].  More recent RFCs describe IPv4/IPv6



<span class="grey">Anderson                     Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc8215">RFC 8215</a>         Local-Use IPv4/IPv6 Translation Prefix      August 2017</span>


   translation mechanisms that use different algorithms.  An operator
   deploying such mechanisms cannot make use of the WKP in a legitimate
   fashion.

   Also, because the WKP is a /96, an operator preferring to use the WKP
   over an NSP can do so for only one of their IPv4/IPv6 translation
   mechanisms.  All others must necessarily use an NSP.

   <a href="./rfc6052#section-3.1">Section 3.1 of [RFC6052]</a> imposes certain restrictions on the use of
   the WKP, such as forbidding its use in combination with private IPv4
   addresses [<a href="./rfc1918" title='"Address Allocation for Private Internets"'>RFC1918</a>].  These restrictions might conflict with the
   operator's desired use of an IPv4/IPv6 translation mechanism.

   In summary, there is a need for a local-use prefix that facilitates
   the coexistence of multiple IPv4/IPv6 translation mechanisms in a
   single network domain, as well as the deployment of translation
   mechanisms that do not use the [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] algorithms or adhere to its
   usage restrictions.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Why%2064%3Aff9b%3A1%3A%3A%2F48%3F"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Why 64:ff9b:1::/48?</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.1.%20%20Prefix%20Length"></a><a class="selflink" href="#section-4.1" id="section-4.1">4.1</a>.  Prefix Length</span>

   One of the primary goals of this document is to facilitate multiple
   simultaneous deployments of IPv4/IPv6 translation mechanisms in a
   single network.  The first criterion is therefore that the prefix
   length chosen must be shorter than the prefix length used by any
   individual translation mechanism.

   The second criterion is that the prefix length chosen is a multiple
   of 16.  This ensures the prefix ends on a colon boundary when
   representing it in text, easing operator interaction with it.

   The [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] algorithms specifies IPv4/IPv6 translation prefixes as
   short as /32.  In order to facilitate multiple instances of
   translation mechanisms using /32s, while at the same time aligning on
   a 16-bit boundary, it would be necessary to reserve a /16.  Doing so,
   however, was considered as too wasteful by the IPv6 Operations
   Working Group.

   The shortest translation prefix that was reported to the IPv6
   Operations Working Group as being deployed in a live network was /64.
   The longest 16-bit-aligned prefix length that can accommodate
   multiple instances of /64 is /48.  The prefix length of /48 was
   therefore chosen, as it satisfies both the criteria above, while at
   the same time avoids wasting too much of the IPv6 address space.





<span class="grey">Anderson                     Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc8215">RFC 8215</a>         Local-Use IPv4/IPv6 Translation Prefix      August 2017</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.2.%20%20Prefix%20Value"></a><a class="selflink" href="#section-4.2" id="section-4.2">4.2</a>.  Prefix Value</span>

   It is desirable to minimise the amount of additional "pollution" in
   the unallocated IPv6 address space caused by the reservation made by
   this document.  Ensuring the reserved prefix is adjacent to the
   64:ff9b::/96 WKP already reserved by [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] accomplishes this.

   Given the previous decision to use a prefix length of /48, this
   leaves two options: 64:ff9a:ffff::/48 and 64:ff9b:1::/48.

   64:ff9a:ffff::/48 has the benefit that it is completely adjacent to
   the [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] WKP.  That is, 64:ff9a:ffff::/48 and 64:ff9b::/96
   combine to form an uninterrupted range of IPv6 addresses starting
   with 64:ff9a:ffff:: and ending with 64:ff9b::ffff:ffff.

   64:ff9b:1::/48 is, on the other hand, not completely adjacent to
   64:ff9b::/96.  The range starting with 64:ff9b::1:0:0 and ending with
   64:ff9b:0:ffff:ffff:ffff:ffff:ffff would remain unallocated.

   This particular drawback is, however, balanced by the fact that the
   smallest possible aggregate prefix that covers both the [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] WKP
   and 64:ff9a:ffff::/48 is much larger than the smallest possible
   aggregate prefix that covers both the [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] WKP and
   64:ff9b:1::/48.  These aggregate prefixes are 64:ff9a::/31 and
   64:ff9b::/47, respectively.  IPv6 address space is allocated using
   prefixes rather than address ranges, so it could be argued that
   64:ff9b:1::/48 is the option that would cause special-use prefixes
   reserved for IPv4/IPv6 translation to "pollute" the minimum possible
   amount of unallocated IPv6 address space.

   Finally, 64:ff9b:1::/48 also has the advantage that its textual
   representation is shorter than 64:ff9a:ffff::/48.  While this might
   seem insignificant, the preference human network operators have for
   addresses that are simple to type should not be underestimated.

   After weighing the above pros and cons, 64:ff9b:1::/48 was chosen.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Deployment%20Considerations"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Deployment Considerations</span>

   64:ff9b:1::/48 is intended as a technology-agnostic and generic
   reservation.  A network operator may freely use it in combination
   with any kind of IPv4/IPv6 translation mechanism deployed within
   their network.

   By default, IPv6 nodes and applications must not treat IPv6 addresses
   within 64:ff9b:1::/48 differently from other globally scoped IPv6
   addresses.  In particular, they must not make any assumptions
   regarding the syntax or properties of those addresses (e.g., the



<span class="grey">Anderson                     Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc8215">RFC 8215</a>         Local-Use IPv4/IPv6 Translation Prefix      August 2017</span>


   existence and location of embedded IPv4 addresses) or the type of
   associated translation mechanism (e.g., whether it is stateful or
   stateless).

   64:ff9b:1::/48 or any more-specific prefix may only be used in inter-
   domain routing if done in accordance with the rules described in
   <a href="./rfc6052#section-3.2">Section 3.2 of [RFC6052]</a>.

   Note that 64:ff9b:1::/48 (or any more-specific prefix) is distinct
   from the WKP 64:ff9b::/96.  Therefore, the restrictions on the use of
   the WKP described in <a href="./rfc6052#section-3.1">Section 3.1 of [RFC6052]</a> do not apply to the use
   of 64:ff9b:1::/48.

   Operators tempted to use the covering aggregate prefix 64:ff9b::/47
   to refer to all special-use prefixes currently reserved for IPv4/IPv6
   translation should be warned that this aggregate includes a range of
   unallocated addresses (see <a href="#section-4.2">Section 4.2</a>) that the IETF could
   potentially reserve in the future for entirely different purposes.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Checksum%20Neutrality"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Checksum Neutrality</span>

   Use of 64:ff9b:1::/48 does not in itself guarantee checksum
   neutrality, as many of the IPv4/IPv6 translation algorithms it can be
   used with are fundamentally incompatible with checksum-neutral
   address translations.

   <a href="./rfc6052#section-4.1">Section 4.1 of [RFC6052]</a> contains further discussion about IPv4/IPv6
   translation and checksum neutrality.

   The Stateless IP/ICMP Translation algorithm [<a href="./rfc7915" title='"IP/ICMP Translation Algorithm"'>RFC7915</a>] is one well-
   known algorithm that can operate in a checksum-neutral manner, when
   using the [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] algorithms for all of its address translations.
   However, in order to attain checksum neutrality, it is imperative
   that the translation prefix be chosen carefully.  Specifically, in
   order for a 96-bit [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] prefix to be checksum neutral, all the
   six 16-bit words in the prefix must add up to a multiple of 0xffff.

   The following non-exhaustive list contains examples of translation
   prefixes that are checksum neutral when used with the [<a href="./rfc7915" title='"IP/ICMP Translation Algorithm"'>RFC7915</a>] and
   [<a href="./rfc6052" title='"IPv6 Addressing of IPv4/IPv6 Translators"'>RFC6052</a>] algorithms:

   o  64:ff9b:1:fffe::/96

   o  64:ff9b:1:fffd:1::/96

   o  64:ff9b:1:fffc:2::/96

   o  64:ff9b:1:abcd:0:5431::/96



<span class="grey">Anderson                     Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc8215">RFC 8215</a>         Local-Use IPv4/IPv6 Translation Prefix      August 2017</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  IANA Considerations</span>

   The IANA has added the following entry to the "IANA IPv6 Special-
   Purpose Address Registry":

              +----------------------+---------------------+
              | Attribute            | Value               |
              +----------------------+---------------------+
              | Address Block        | 64:ff9b:1::/48      |
              | Name                 | IPv4-IPv6 Translat. |
              | RFC                  | <a href="./rfc8215">RFC 8215</a>            |
              | Allocation Date      | 2017-06             |
              | Termination Date     | N/A                 |
              | Source               | True                |
              | Destination          | True                |
              | Forwardable          | True                |
              | Globally Reachable   | False               |
              | Reserved-by-Protocol | False               |
              +----------------------+---------------------+

   The IANA has also added the following footnote to the 0000::/8 entry
   of the "Internet Protocol Version 6 Address Space" registry:

      64:ff9b:1::/48 reserved for Local-Use IPv4/IPv6 Translation
      [<a href="./rfc8215">RFC8215</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  Security Considerations</span>

   The reservation of 64:ff9b:1::/48 is not known to cause any new
   security considerations beyond those documented in <a href="./rfc6052#section-5">Section 5 of
   [RFC6052]</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20References"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.1.%20%20Normative%20References"></a><a class="selflink" href="#section-9.1" id="section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC6052">RFC6052</a>]  Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X.
              Li, "IPv6 Addressing of IPv4/IPv6 Translators", <a href="./rfc6052">RFC 6052</a>,
              DOI 10.17487/RFC6052, October 2010,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6052">https://www.rfc-editor.org/info/rfc6052</a>&gt;.











<span class="grey">Anderson                     Standards Track                    [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc8215">RFC 8215</a>         Local-Use IPv4/IPv6 Translation Prefix      August 2017</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.2.%20%20Informative%20References"></a><a class="selflink" href="#section-9.2" id="section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC1918">RFC1918</a>]  Rekhter, Y., Moskowitz, B., Karrenberg, D., de Groot, G.,
              and E. Lear, "Address Allocation for Private Internets",
              <a href="https://www.rfc-editor.org/bcp/bcp5">BCP 5</a>, <a href="./rfc1918">RFC 1918</a>, DOI 10.17487/RFC1918, February 1996,
              &lt;<a href="https://www.rfc-editor.org/info/rfc1918">https://www.rfc-editor.org/info/rfc1918</a>&gt;.

   [<a id="ref-RFC6146">RFC6146</a>]  Bagnulo, M., Matthews, P., and I. van Beijnum, "Stateful
              NAT64: Network Address and Protocol Translation from IPv6
              Clients to IPv4 Servers", <a href="./rfc6146">RFC 6146</a>, DOI 10.17487/RFC6146,
              April 2011, &lt;<a href="https://www.rfc-editor.org/info/rfc6146">https://www.rfc-editor.org/info/rfc6146</a>&gt;.

   [<a id="ref-RFC7915">RFC7915</a>]  Bao, C., Li, X., Baker, F., Anderson, T., and F. Gont,
              "IP/ICMP Translation Algorithm", <a href="./rfc7915">RFC 7915</a>,
              DOI 10.17487/RFC7915, June 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7915">https://www.rfc-editor.org/info/rfc7915</a>&gt;.

Acknowledgements

   The author would like to thank Fred Baker, Mohamed Boucadair,
   Brian E. Carpenter, Pier Carlo Chiodi, Joe Clarke, David Farmer,
   Suresh Krishnan, Warren Kumari, Holger Metschulat, Federico
   Santandrea, and David Schinazi for contributing to the creation of
   this document.

Author's Address

   Tore Anderson
   Redpill Linpro
   Vitaminveien 1A
   0485 Oslo
   Norway

   Phone: +47 959 31 212
   Email: tore@redpill-linpro.com
   URI:   <a href="http://www.redpill-linpro.com">http://www.redpill-linpro.com</a>















Anderson                     Standards Track                    [Page 7]
</pre>
</body></html>