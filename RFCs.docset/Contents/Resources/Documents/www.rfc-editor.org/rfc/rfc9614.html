<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9614: Partitioning as an Architecture for Privacy</title>
<meta content="Mirja Kühlewind" name="author"/>
<meta content="Tommy Pauly" name="author"/>
<meta content="Christopher A. Wood" name="author"/>
<meta content="
       This document describes the principle of privacy
    partitioning, which selectively spreads data and communication across
    multiple parties as a means to improve privacy by separating user identity
    from user data.  This document describes emerging patterns in protocols to
    partition what data and metadata is revealed through protocol
    interactions, provides common terminology, and discusses how to analyze
    such models. 
    " name="description"/>
<meta content="xml2rfc 3.22.0" name="generator"/>
<meta content="MASQUE" name="keyword"/>
<meta content="Privacy Pass" name="keyword"/>
<meta content="Oblivious HTTP" name="keyword"/>
<meta content="Proxy" name="keyword"/>
<meta content="9614" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.22.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    wcwidth 0.2.5
    weasyprint 62.3
-->
<link href="rfc9614.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-iab-privacy-partitioning-05" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9614" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9614</td>
<td class="center">Partitioning for Privacy</td>
<td class="right">July 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Kühlewind, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Architecture Board (IAB)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9614">9614</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2024-07">July 2024</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Kühlewind</div>
</div>
<div class="author">
      <div class="author-name">T. Pauly</div>
</div>
<div class="author">
      <div class="author-name">C. A. Wood</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9614</h1>
<h1 id="title">Partitioning as an Architecture for Privacy</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document describes the principle of privacy
    partitioning, which selectively spreads data and communication across
    multiple parties as a means to improve privacy by separating user identity
    from user data.  This document describes emerging patterns in protocols to
    partition what data and metadata is revealed through protocol
    interactions, provides common terminology, and discusses how to analyze
    such models.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Architecture Board
            (IAB) and represents information that the IAB has deemed valuable
            to provide for permanent record.  It represents the consensus of the Internet
            Architecture Board (IAB).  Documents approved for publication
            by the IAB are not candidates for any level of Internet Standard; see
            Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9614">https://www.rfc-editor.org/info/rfc9614</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-privacy-partitioning">Privacy Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-privacy-contexts">Privacy Contexts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p class="keepWithNext" id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-context-separation">Context Separation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="auto internal xref" href="#section-2.3">2.3</a>.  <a class="internal xref" href="#name-approaches-to-partitioning">Approaches to Partitioning</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-a-survey-of-protocols-using">A Survey of Protocols Using Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-connect-proxying-and-masque">CONNECT Proxying and MASQUE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-oblivious-http-and-dns">Oblivious HTTP and DNS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-privacy-pass">Privacy Pass</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="auto internal xref" href="#section-3.4">3.4</a>.  <a class="internal xref" href="#name-privacy-preserving-measurem">Privacy Preserving Measurement</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-applying-privacy-partitioni">Applying Privacy Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-user-identifying-informatio">User-Identifying Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-selecting-client-identifier">Selecting Client Identifiers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-incorrect-or-incomplete-par">Incorrect or Incomplete Partitioning</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="auto internal xref" href="#section-4.4">4.4</a>.  <a class="internal xref" href="#name-selecting-information-withi">Selecting Information within a Context</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-limits-of-privacy-partition">Limits of Privacy Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-violations-by-collusion">Violations by Collusion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-violations-by-insufficient-">Violations by Insufficient or Incorrect Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a class="auto internal xref" href="#section-5.2.1">5.2.1</a>.  <a class="internal xref" href="#name-violations-from-application">Violations from Application Information</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a class="auto internal xref" href="#section-5.2.2">5.2.2</a>.  <a class="internal xref" href="#name-violations-from-network-inf">Violations from Network Information</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a class="auto internal xref" href="#section-5.2.3">5.2.3</a>.  <a class="internal xref" href="#name-violations-from-side-channe">Violations from Side Channels</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.4">
                    <p id="section-toc.1-1.5.2.2.2.4.1"><a class="auto internal xref" href="#section-5.2.4">5.2.4</a>.  <a class="internal xref" href="#name-identifying-partitions">Identifying Partitions</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-partitioning-impacts">Partitioning Impacts</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-iab-members-at-the-time-of-">IAB Members at the Time of Approval</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">Protocols such as TLS and IPsec provide a secure (authenticated and
      encrypted) channel between two endpoints over which endpoints transfer
      information. Encryption and authentication of data in transit are
      necessary to protect information from being seen or modified by parties
      other than the intended protocol participants. As such, this kind of
      security is necessary for ensuring that information transferred over
      these channels remains private.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">However, a secure channel between two endpoints is insufficient for
      the privacy of the endpoints themselves. In recent years, privacy
      requirements have expanded beyond the need to protect data in transit
      between two endpoints. Some examples of this expansion include:<a class="pilcrow" href="#section-1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-3.1">A user accessing a service on a website might not consent to
        reveal their location, but if that service is able to observe the
        client's IP address, it can learn something about the user's
        location. This is problematic for privacy since the service can link
        user data to the user's location.<a class="pilcrow" href="#section-1-3.1">¶</a>
</li>
        <li class="normal" id="section-1-3.2">A user might want to be able to access content for which they are
 authorized, such as a news article; but the news service might track
 which users access which articles, even if the user doesn't want their
 activity to be tracked. This is problematic for privacy since the
 service can link user activity to the user's account.<a class="pilcrow" href="#section-1-3.2">¶</a>
</li>
        <li class="normal" id="section-1-3.3">A client device might need to upload metrics to an aggregation
 service and in doing so allow the service to attribute the specific
 metrics contributions to that client device.  This is problematic for
 privacy since the service can link client contributions to the
 specific client.<a class="pilcrow" href="#section-1-3.3">¶</a>
</li>
      </ul>
<p id="section-1-4">The commonality in these examples is that clients want to interact with or use a service
without exposing too much user-specific or identifying information to that service. In particular,
separating the user-specific identity information from user-specific data is necessary for
privacy. Thus, in order to protect user privacy, it is important to keep identity (who) and data
(what) separate.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">This document defines "privacy partitioning," sometimes also referred to as the "decoupling principle"
<span>[<a class="cite xref" href="#DECOUPLING">DECOUPLING</a>]</span>, as the general technique used to separate the data
and metadata visible to various parties in network communication, with the aim of improving
user privacy. Although privacy partitioning cannot guarantee there is no link between user-specific
identity and user-specific data, when applied properly it helps ensure that user privacy violations
become more technically difficult to achieve over time.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">Several IETF working groups are working on protocols or systems that adhere to the principle
of privacy partitioning, including Oblivious HTTP Application Intermediation (OHAI), Multiplexed
Application Substrate over QUIC Encryption (MASQUE), Privacy Pass, and Privacy Preserving Measurement (PPM). This document summarizes
work in those groups and describes a framework for thinking about the resulting privacy posture of different
endpoints in practice.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">Privacy partitioning is particularly relevant as a tool for data
      minimization, which is described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6973#section-6.1">Section 6.1</a> of [<a class="cite xref" href="#RFC6973">RFC6973</a>]</span>. <span>[<a class="cite xref" href="#RFC6973">RFC6973</a>]</span> provides
      guidance for privacy considerations in Internet protocols, along with a
      set of questions on how to evaluate the data minimization of a protocol
      in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6973#section-7.1">Section 7.1</a> of [<a class="cite xref" href="#RFC6973">RFC6973</a>]</span>. Protocols
      that employ privacy partitioning ought to consider the questions in that
      section when evaluating their design, particularly with regard to how
      identifiers and data can be correlated by protocol participants and
      observers in each context that has been partitioned. Privacy
      partitioning can also be used as a way to separate identity providers
      from relying parties (see <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6973#section-6.1.4">Section 6.1.4</a> of [<a class="cite xref" href="#RFC6973">RFC6973</a>]</span>), as in the case of Privacy Pass (see <a class="auto internal xref" href="#privacypass">Section 3.3</a>).<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">Privacy partitioning is not a panacea; applying it well requires
      holistic analysis of the system in question to determine whether or not
      partitioning as a tool, and as implemented, offers meaningful privacy
      improvements. See <a class="auto internal xref" href="#limits">Section 5</a> for more information.<a class="pilcrow" href="#section-1-8">¶</a></p>
</section>
</div>
<div id="privacy-partitioning">
<section id="section-2">
      <h2 id="name-privacy-partitioning">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-privacy-partitioning">Privacy Partitioning</a>
      </h2>
<p id="section-2-1">For the purposes of user privacy, this document focuses on
      user-specific information. This might include any identifying
      information that is specific to a user, such as their email address or
      IP address, or any data about the user, such as their date of
      birth. Informally, the goal of privacy partitioning is to ensure that
      each party in a system beyond the user themselves only has access to
      one type of user-specific information.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">This is a simple application of the principle of least privilege, wherein every party in
a system only has access to the minimum amount of information needed to fulfill their
function. Privacy partitioning advocates for this minimization by ensuring that protocols,
applications, and systems only reveal user-specific information to parties that need access
to the information for their intended purpose.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">Put simply, privacy partitioning aims to separate <em>who</em> someone is from <em>what</em> they do. In the
rest of this section, we describe how privacy partitioning can be used to achieve this goal.<a class="pilcrow" href="#section-2-3">¶</a></p>
<div id="privacy-contexts">
<section id="section-2.1">
        <h3 id="name-privacy-contexts">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-privacy-contexts">Privacy Contexts</a>
        </h3>
<p id="section-2.1-1">Each piece of user-specific information exists within some context, where a context
is abstractly defined as a set of data, metadata, and the entities that share access
to that information. In order to prevent the correlation of user-specific information across
contexts, partitions need to ensure that any single entity (other than the client itself)
does not participate in more than one context where the information is visible.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2"><span>[<a class="cite xref" href="#RFC6973">RFC6973</a>]</span> discusses the importance of identifiers in reducing correlation as a way
of improving privacy:<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<blockquote id="section-2.1-3">
          <p id="section-2.1-3.1">Correlation is the combination of various pieces of information
          related to an individual or that obtain that characteristic when
          combined....<a class="pilcrow" href="#section-2.1-3.1">¶</a></p>
<p id="section-2.1-3.2">Correlation is closely related to identification.
          Internet protocols can facilitate correlation by allowing
          individuals' activities to be tracked and combined over time....<a class="pilcrow" href="#section-2.1-3.2">¶</a></p>
<p id="section-2.1-3.3">Pseudonymity is strengthened when less personal data can be
          linked to the pseudonym; when the same pseudonym is used less often
          and across fewer contexts; and when independently chosen pseudonyms
          are more frequently used for new actions (making them, from an
          observer's or attacker's perspective, unlinkable).<a class="pilcrow" href="#section-2.1-3.3">¶</a></p>
</blockquote>
<p id="section-2.1-4">Context separation is foundational to privacy partitioning and
        reducing correlation.  As an example, consider an unencrypted HTTP
        session over TCP, wherein the context includes both the content of the
        transaction as well as any metadata from the transport and IP headers;
        and the participants include the client, routers, other network
        middleboxes, intermediaries, and the server.  Middleboxes or intermediaries
        might simply forward traffic or might terminate the traffic at any
        layer (such as terminating the TCP connection from the client and
        creating another TCP connection to the server). Regardless of how the
        middlebox interacts with the traffic, for the purposes of privacy
        partitioning, it is able to observe all of the data in the
        context.<a class="pilcrow" href="#section-2.1-4">¶</a></p>
<span id="name-diagram-of-a-basic-unencryp"></span><div id="diagram-middlebox">
<figure id="figure-1">
          <div id="section-2.1-5.1">
            <div class="alignLeft art-svg artwork" id="section-2.1-5.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="176" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 176" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,160" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 240,64 L 240,128" fill="none" stroke="black"></path>
                <path d="M 336,64 L 336,128" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,160" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 240,64 L 336,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,80 L 152,80" fill="none" stroke="black"></path>
                <path d="M 192,80 L 240,80" fill="none" stroke="black"></path>
                <path d="M 336,80 L 456,80" fill="none" stroke="black"></path>
                <path d="M 104,112 L 152,112" fill="none" stroke="black"></path>
                <path d="M 184,112 L 240,112" fill="none" stroke="black"></path>
                <path d="M 336,112 L 456,112" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 240,128 L 336,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="48" y="52">Context</text>
                  <text x="88" y="52">A</text>
                  <text x="172" y="84">HTTP</text>
                  <text x="68" y="100">Client</text>
                  <text x="288" y="100">Middlebox</text>
                  <text x="492" y="100">Server</text>
                  <text x="168" y="116">TCP</text>
                  <text x="172" y="132">flow</text>
                </g>
              </svg><a class="pilcrow" href="#section-2.1-5.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-diagram-of-a-basic-unencryp">Diagram of a Basic Unencrypted Client-to-Server Connection with Middleboxes</a>
          </figcaption></figure>
</div>
<p id="section-2.1-6">Adding TLS encryption to the HTTP session is a simple partitioning
        technique that splits the previous context into two separate contexts.
        The content of the transaction is now only visible to the client,
        TLS-terminating intermediaries, and server, while the metadata in
        transport and IP headers remain in the original context. In this
        scenario, without any further partitioning, the entities that
        participate in both contexts can allow the data in both contexts to be
        correlated.<a class="pilcrow" href="#section-2.1-6">¶</a></p>
<span id="name-diagram-of-how-adding-encry"></span><div id="diagram-https">
<figure id="figure-2">
          <div id="section-2.1-7.1">
            <div class="alignLeft art-svg artwork" id="section-2.1-7.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="304" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 304" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,288" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,192 L 240,256" fill="none" stroke="black"></path>
                <path d="M 336,192 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,288" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 256,96" fill="none" stroke="black"></path>
                <path d="M 304,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 240,192 L 336,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 160,224" fill="none" stroke="black"></path>
                <path d="M 192,224 L 240,224" fill="none" stroke="black"></path>
                <path d="M 336,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="48" y="52">Context</text>
                  <text x="88" y="52">A</text>
                  <text x="68" y="100">Client</text>
                  <text x="280" y="100">HTTPS</text>
                  <text x="492" y="100">Server</text>
                  <text x="48" y="180">Context</text>
                  <text x="88" y="180">B</text>
                  <text x="68" y="228">Client</text>
                  <text x="176" y="228">TCP</text>
                  <text x="288" y="228">Middlebox</text>
                  <text x="492" y="228">Server</text>
                  <text x="180" y="244">flow</text>
                </g>
              </svg><a class="pilcrow" href="#section-2.1-7.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-diagram-of-how-adding-encry">Diagram of How Adding Encryption Splits the Context into Two</a>
          </figcaption></figure>
</div>
<p id="section-2.1-8">Another way to create a partition is to simply use separate
        connections. For example, to split two separate HTTP requests from one
        another, a client could issue the requests on separate TCP
        connections, each on a different network and at different times, and
        avoid including obvious identifiers like HTTP cookies across the
        requests.<a class="pilcrow" href="#section-2.1-8">¶</a></p>
<span id="name-diagram-of-making-separate-"></span><div id="diagram-dualconnect">
<figure id="figure-3">
          <div id="section-2.1-9.1">
            <div class="alignLeft art-svg artwork" id="section-2.1-9.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="304" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 304" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,288" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,64 L 240,128" fill="none" stroke="black"></path>
                <path d="M 240,192 L 240,256" fill="none" stroke="black"></path>
                <path d="M 336,64 L 336,128" fill="none" stroke="black"></path>
                <path d="M 336,192 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,288" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 240,64 L 336,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 160,96" fill="none" stroke="black"></path>
                <path d="M 192,96 L 240,96" fill="none" stroke="black"></path>
                <path d="M 336,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 240,128 L 336,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 240,192 L 336,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 160,224" fill="none" stroke="black"></path>
                <path d="M 192,224 L 240,224" fill="none" stroke="black"></path>
                <path d="M 336,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="48" y="52">Context</text>
                  <text x="88" y="52">A</text>
                  <text x="124" y="84">IP</text>
                  <text x="144" y="84">A</text>
                  <text x="68" y="100">Client</text>
                  <text x="176" y="100">TCP</text>
                  <text x="288" y="100">Middlebox</text>
                  <text x="492" y="100">Server</text>
                  <text x="172" y="116">flow</text>
                  <text x="200" y="116">A</text>
                  <text x="288" y="116">A</text>
                  <text x="48" y="180">Context</text>
                  <text x="88" y="180">B</text>
                  <text x="124" y="212">IP</text>
                  <text x="144" y="212">B</text>
                  <text x="68" y="228">Client</text>
                  <text x="176" y="228">TCP</text>
                  <text x="288" y="228">Middlebox</text>
                  <text x="492" y="228">Server</text>
                  <text x="172" y="244">flow</text>
                  <text x="200" y="244">B</text>
                  <text x="288" y="244">B</text>
                </g>
              </svg><a class="pilcrow" href="#section-2.1-9.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-diagram-of-making-separate-">Diagram of Making Separate Connections to Generate Separate Contexts</a>
          </figcaption></figure>
</div>
<p id="section-2.1-10">Using separate connections to create separate contexts can reduce or eliminate
the ability of specific parties to correlate activity across contexts. However,
any identifier at any layer that is common across different contexts can be
used as a way to correlate activity. Beyond IP addresses, many other factors
can be used together to create a fingerprint of a specific device (such as
Media Access Control (MAC) addresses, device properties, software properties and behavior, application state, etc.).<a class="pilcrow" href="#section-2.1-10">¶</a></p>
</section>
</div>
<div id="context-separation">
<section id="section-2.2">
        <h3 id="name-context-separation">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-context-separation">Context Separation</a>
        </h3>
<p id="section-2.2-1">In order to define and analyze how various partitioning techniques work, the boundaries of what is
being partitioned need to be established. This is the role of context separation. In particular,
in order to prevent the correlation of user-specific information across contexts, partitions need
to ensure that any single entity (other than the client itself) does not participate in contexts
where both identifiers are visible.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">Context separation can be achieved in different ways, for example, over time, across network paths, based
on (en)coding, etc. The privacy-oriented protocols described in this document generally involve
more complex partitioning, but the techniques to partition communication contexts still employ the
same techniques:<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-3.1">Cryptographic protection, such as the use of encryption to
   specific parties, allows partitioning of contexts between different
   parties (those with the ability to remove cryptographic protections,
   and those without).<a class="pilcrow" href="#section-2.2-3.1">¶</a>
</li>
          <li class="normal" id="section-2.2-3.2">Connection separation across time or space to allow
          partitioning of contexts for different application transactions over
          the network.<a class="pilcrow" href="#section-2.2-3.2">¶</a>
</li>
        </ul>
<p id="section-2.2-4">These techniques are frequently used in conjunction for context separation. For example,
encrypting an HTTP exchange using TLS between the client and TLS-terminating server might prevent
a network middlebox that sees a client IP address from seeing the user account identifier,
but it doesn't prevent the TLS-terminating server from observing both identifiers and correlating
them. As such, preventing correlation requires separating contexts, such as by using proxying to
conceal a client's IP address that would otherwise be used as an identifier.<a class="pilcrow" href="#section-2.2-4">¶</a></p>
</section>
</div>
<div id="approaches-to-partitioning">
<section id="section-2.3">
        <h3 id="name-approaches-to-partitioning">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-approaches-to-partitioning">Approaches to Partitioning</a>
        </h3>
<p id="section-2.3-1">While all of the partitioning protocols described in this document
        create separate contexts using cryptographic protection and/or
        connection separation, each one has a unique approach that results in
        different sets of contexts. Since many of these protocols are new, it
        is yet to be seen how each approach will be used at scale across the
        Internet and what new models will emerge in the future.<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<p id="section-2.3-2">There are multiple factors that lead to a diversity in approaches
        to partitioning, including:<a class="pilcrow" href="#section-2.3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3-3.1">Adding privacy partitioning to existing protocol ecosystems
          places requirements and constraints on how contexts are
          constructed. CONNECT-style proxying is intended to work with servers
          that are unaware of privacy contexts, requiring more intermediaries
          to provide strong separation guarantees.  On the other hand,
          Oblivious HTTP assumes servers that cooperate with context
          separation and, thus, reduces the overall number of elements in the
          solution.<a class="pilcrow" href="#section-2.3-3.1">¶</a>
</li>
          <li class="normal" id="section-2.3-3.2">Whether or not information exchange needs to happen
          bidirectionally in an interactive fashion determines how contexts
          can be separated. Some use cases, like metrics collection for PPM,
          can occur whereby information only flows from clients to servers and
          can function even when clients are no longer connected.  Privacy
          Pass is an example of a case that can be either interactive or not,
          depending on whether tokens can be cached and reused. CONNECT-style
          proxying and Oblivious HTTP often require bidirectional and
          interactive communication.<a class="pilcrow" href="#section-2.3-3.2">¶</a>
</li>
          <li class="normal" id="section-2.3-3.3">The degree to which contexts need to be partitioned depends in
          part on the client's threat models and level of trust in various
          protocol participants. For example, in Oblivious HTTP, clients allow
          relays to learn that clients are accessing a particular
          application-specific gateway. If clients do not trust relays with
          this information, they can instead use a multi-hop CONNECT-style
          proxy approach wherein no single party learns whether specific
          clients are accessing a specific application. This is the default
          trust model for systems like Tor, where multiple hops are used to
          drive down the probability of privacy violations due to collusion or
          related attacks.<a class="pilcrow" href="#section-2.3-3.3">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="a-survey-of-protocols-using-partitioning">
<section id="section-3">
      <h2 id="name-a-survey-of-protocols-using">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-a-survey-of-protocols-using">A Survey of Protocols Using Partitioning</a>
      </h2>
<p id="section-3-1">The following section discusses current on-going work in the IETF
      that is applying privacy partitioning.<a class="pilcrow" href="#section-3-1">¶</a></p>
<div id="masque">
<section id="section-3.1">
        <h3 id="name-connect-proxying-and-masque">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-connect-proxying-and-masque">CONNECT Proxying and MASQUE</a>
        </h3>
<p id="section-3.1-1">When using encryption on the connection between the client and the
        proxy, HTTP forward proxies provide privacy partitioning by separating
        a connection into multiple segments.  When connections to targets via
        the proxy themselves are encrypted, the proxy cannot see the
        end-to-end content. HTTP has historically supported forward proxying
        for TCP-like streams via the CONNECT method. More recently, the
        Multiplexed Application Substrate over QUIC Encryption (MASQUE)
        Working Group has developed protocols to similarly proxy UDP <span>[<a class="cite xref" href="#RFC9297">CONNECT-UDP</a>]</span> and IP packets <span>[<a class="cite xref" href="#RFC9484">CONNECT-IP</a>]</span> based on
        tunneling.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">In a single-proxy setup, there is a tunnel connection between the
        client and proxy and an end-to-end connection that is tunneled between
        the client and target. This setup, as shown in <a class="auto internal xref" href="#diagram-1hop">Figure 4</a>, partitions communication into:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">a Client-to-Target encrypted context, which contains the
          end-to-end content within the TLS session to the target, such as
          HTTP content;<a class="pilcrow" href="#section-3.1-3.1">¶</a>
</li>
          <li class="normal" id="section-3.1-3.2">a Client-to-Target proxied context, which is the end-to-end data
          exchanged with the target that is also visible to the proxy, such as a TLS
          session;<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</li>
          <li class="normal" id="section-3.1-3.3">a Client-to-Proxy context, which contains the transport metadata
          between the client and the target, and the request to the proxy to
          open a connection to the target; and<a class="pilcrow" href="#section-3.1-3.3">¶</a>
</li>
          <li class="normal" id="section-3.1-3.4">a Proxy-to-Target context, which for TCP and UDP proxying
   contains any packet header information that is added or modified by
   the proxy, e.g., the IP and TCP/UDP headers.<a class="pilcrow" href="#section-3.1-3.4">¶</a>
</li>
        </ul>
<span id="name-diagram-of-one-hop-proxy-co"></span><div id="diagram-1hop">
<figure id="figure-4">
          <div id="section-3.1-4.1">
            <div class="alignLeft art-svg artwork" id="section-3.1-4.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="560" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 560" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,544" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 32,320 L 32,384" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 104,320 L 104,384" fill="none" stroke="black"></path>
                <path d="M 240,192 L 240,256" fill="none" stroke="black"></path>
                <path d="M 240,320 L 240,384" fill="none" stroke="black"></path>
                <path d="M 240,448 L 240,512" fill="none" stroke="black"></path>
                <path d="M 336,192 L 336,256" fill="none" stroke="black"></path>
                <path d="M 336,320 L 336,384" fill="none" stroke="black"></path>
                <path d="M 336,448 L 336,512" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 456,448 L 456,512" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 528,448 L 528,512" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,544" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 248,96" fill="none" stroke="black"></path>
                <path d="M 296,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 240,192 L 336,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 136,224" fill="none" stroke="black"></path>
                <path d="M 200,224 L 240,224" fill="none" stroke="black"></path>
                <path d="M 336,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <path d="M 32,320 L 104,320" fill="none" stroke="black"></path>
                <path d="M 240,320 L 336,320" fill="none" stroke="black"></path>
                <path d="M 104,352 L 128,352" fill="none" stroke="black"></path>
                <path d="M 208,352 L 240,352" fill="none" stroke="black"></path>
                <path d="M 32,384 L 104,384" fill="none" stroke="black"></path>
                <path d="M 240,384 L 336,384" fill="none" stroke="black"></path>
                <path d="M 8,416 L 552,416" fill="none" stroke="black"></path>
                <path d="M 240,448 L 336,448" fill="none" stroke="black"></path>
                <path d="M 456,448 L 528,448" fill="none" stroke="black"></path>
                <path d="M 336,480 L 352,480" fill="none" stroke="black"></path>
                <path d="M 432,480 L 456,480" fill="none" stroke="black"></path>
                <path d="M 240,512 L 336,512" fill="none" stroke="black"></path>
                <path d="M 456,512 L 528,512" fill="none" stroke="black"></path>
                <path d="M 8,544 L 552,544" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="84" y="52">Client-to-Target</text>
                  <text x="192" y="52">Encrypted</text>
                  <text x="264" y="52">Context</text>
                  <text x="68" y="100">Client</text>
                  <text x="272" y="100">HTTPS</text>
                  <text x="492" y="100">Target</text>
                  <text x="272" y="116">content</text>
                  <text x="84" y="180">Client-to-Target</text>
                  <text x="184" y="180">Proxied</text>
                  <text x="248" y="180">Context</text>
                  <text x="68" y="228">Client</text>
                  <text x="168" y="228">Proxied</text>
                  <text x="288" y="228">Proxy</text>
                  <text x="492" y="228">Target</text>
                  <text x="152" y="244">TLS</text>
                  <text x="188" y="244">flow</text>
                  <text x="80" y="308">Client-to-Proxy</text>
                  <text x="176" y="308">Context</text>
                  <text x="68" y="356">Client</text>
                  <text x="168" y="356">Transport</text>
                  <text x="288" y="356">Proxy</text>
                  <text x="164" y="372">flow</text>
                  <text x="80" y="436">Proxy-to-Target</text>
                  <text x="176" y="436">Context</text>
                  <text x="288" y="484">Proxy</text>
                  <text x="392" y="484">Transport</text>
                  <text x="492" y="484">Target</text>
                  <text x="388" y="500">flow</text>
                </g>
              </svg><a class="pilcrow" href="#section-3.1-4.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-diagram-of-one-hop-proxy-co">Diagram of One-Hop Proxy Contexts</a>
          </figcaption></figure>
</div>
<p id="section-3.1-5">Using two (or more) proxies provides better privacy
        partitioning. In particular, with two proxies, each proxy sees the
        Client metadata but not the Target, the Target but not the Client
        metadata, or neither.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<p id="section-3.1-6">In addition to the contexts described above for the single proxy
        case, the two-hop proxy case shown in <a class="auto internal xref" href="#diagram-2hop">Figure 5</a>
        changes the contexts in several ways:<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-7.1">the Client-to-Target proxied context only includes the second
          proxy (referred to here as "Proxy B");<a class="pilcrow" href="#section-3.1-7.1">¶</a>
</li>
          <li class="normal" id="section-3.1-7.2">a new Client-to-Proxy B context is added, which is the TLS
          session from the client to Proxy B that is also visible to the first
          proxy (referred to here as "Proxy A");<a class="pilcrow" href="#section-3.1-7.2">¶</a>
</li>
          <li class="normal" id="section-3.1-7.3">the contexts that see transport data only (TCP or UDP over IP)
          are separated out into three separate contexts, a Client-to-Proxy A
          context, a Proxy A-to-Proxy B context, and a Proxy B-to-Target
          context.<a class="pilcrow" href="#section-3.1-7.3">¶</a>
</li>
        </ul>
<span id="name-diagram-of-two-hop-proxy-co"></span><div id="diagram-2hop">
<figure id="figure-5">
          <div id="section-3.1-8.1">
            <div class="alignLeft art-svg artwork" id="section-3.1-8.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="816" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 816" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,800" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 32,320 L 32,384" fill="none" stroke="black"></path>
                <path d="M 32,448 L 32,512" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 104,320 L 104,384" fill="none" stroke="black"></path>
                <path d="M 104,448 L 104,512" fill="none" stroke="black"></path>
                <path d="M 184,320 L 184,384" fill="none" stroke="black"></path>
                <path d="M 184,448 L 184,512" fill="none" stroke="black"></path>
                <path d="M 184,576 L 184,640" fill="none" stroke="black"></path>
                <path d="M 248,320 L 248,384" fill="none" stroke="black"></path>
                <path d="M 248,448 L 248,512" fill="none" stroke="black"></path>
                <path d="M 248,576 L 248,640" fill="none" stroke="black"></path>
                <path d="M 328,192 L 328,256" fill="none" stroke="black"></path>
                <path d="M 328,320 L 328,384" fill="none" stroke="black"></path>
                <path d="M 328,576 L 328,640" fill="none" stroke="black"></path>
                <path d="M 328,704 L 328,768" fill="none" stroke="black"></path>
                <path d="M 392,192 L 392,256" fill="none" stroke="black"></path>
                <path d="M 392,320 L 392,384" fill="none" stroke="black"></path>
                <path d="M 392,576 L 392,640" fill="none" stroke="black"></path>
                <path d="M 392,704 L 392,768" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 456,704 L 456,768" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 528,704 L 528,768" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,800" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 248,96" fill="none" stroke="black"></path>
                <path d="M 296,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 328,192 L 392,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 184,224" fill="none" stroke="black"></path>
                <path d="M 248,224 L 328,224" fill="none" stroke="black"></path>
                <path d="M 392,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 328,256 L 392,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <path d="M 32,320 L 104,320" fill="none" stroke="black"></path>
                <path d="M 184,320 L 248,320" fill="none" stroke="black"></path>
                <path d="M 328,320 L 392,320" fill="none" stroke="black"></path>
                <path d="M 104,352 L 184,352" fill="none" stroke="black"></path>
                <path d="M 248,352 L 328,352" fill="none" stroke="black"></path>
                <path d="M 32,384 L 104,384" fill="none" stroke="black"></path>
                <path d="M 184,384 L 248,384" fill="none" stroke="black"></path>
                <path d="M 328,384 L 392,384" fill="none" stroke="black"></path>
                <path d="M 8,416 L 552,416" fill="none" stroke="black"></path>
                <path d="M 32,448 L 104,448" fill="none" stroke="black"></path>
                <path d="M 184,448 L 248,448" fill="none" stroke="black"></path>
                <path d="M 104,480 L 184,480" fill="none" stroke="black"></path>
                <path d="M 32,512 L 104,512" fill="none" stroke="black"></path>
                <path d="M 184,512 L 248,512" fill="none" stroke="black"></path>
                <path d="M 8,544 L 552,544" fill="none" stroke="black"></path>
                <path d="M 184,576 L 248,576" fill="none" stroke="black"></path>
                <path d="M 328,576 L 392,576" fill="none" stroke="black"></path>
                <path d="M 248,608 L 328,608" fill="none" stroke="black"></path>
                <path d="M 184,640 L 248,640" fill="none" stroke="black"></path>
                <path d="M 328,640 L 392,640" fill="none" stroke="black"></path>
                <path d="M 8,672 L 552,672" fill="none" stroke="black"></path>
                <path d="M 328,704 L 392,704" fill="none" stroke="black"></path>
                <path d="M 456,704 L 528,704" fill="none" stroke="black"></path>
                <path d="M 392,736 L 456,736" fill="none" stroke="black"></path>
                <path d="M 328,768 L 392,768" fill="none" stroke="black"></path>
                <path d="M 456,768 L 528,768" fill="none" stroke="black"></path>
                <path d="M 8,800 L 552,800" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="84" y="52">Client-to-Target</text>
                  <text x="192" y="52">Encrypted</text>
                  <text x="264" y="52">Context</text>
                  <text x="68" y="100">Client</text>
                  <text x="272" y="100">HTTPS</text>
                  <text x="492" y="100">Target</text>
                  <text x="272" y="116">content</text>
                  <text x="84" y="180">Client-to-Target</text>
                  <text x="184" y="180">Proxied</text>
                  <text x="248" y="180">Context</text>
                  <text x="68" y="228">Client</text>
                  <text x="216" y="228">Proxied</text>
                  <text x="360" y="228">Proxy</text>
                  <text x="492" y="228">Target</text>
                  <text x="200" y="244">TLS</text>
                  <text x="236" y="244">flow</text>
                  <text x="360" y="244">B</text>
                  <text x="80" y="308">Client-to-Proxy</text>
                  <text x="152" y="308">B</text>
                  <text x="192" y="308">Context</text>
                  <text x="68" y="356">Client</text>
                  <text x="216" y="356">Proxy</text>
                  <text x="360" y="356">Proxy</text>
                  <text x="216" y="372">A</text>
                  <text x="360" y="372">B</text>
                  <text x="80" y="436">Client-to-Proxy</text>
                  <text x="152" y="436">A</text>
                  <text x="192" y="436">Context</text>
                  <text x="68" y="484">Client</text>
                  <text x="216" y="484">Proxy</text>
                  <text x="216" y="500">A</text>
                  <text x="40" y="564">Proxy</text>
                  <text x="108" y="564">A-to-Proxy</text>
                  <text x="160" y="564">B</text>
                  <text x="200" y="564">Context</text>
                  <text x="216" y="612">Proxy</text>
                  <text x="360" y="612">Proxy</text>
                  <text x="216" y="628">A</text>
                  <text x="360" y="628">B</text>
                  <text x="40" y="692">Proxy</text>
                  <text x="112" y="692">B-to-Target</text>
                  <text x="192" y="692">Context</text>
                  <text x="360" y="740">Proxy</text>
                  <text x="492" y="740">Target</text>
                  <text x="360" y="756">B</text>
                </g>
              </svg><a class="pilcrow" href="#section-3.1-8.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-diagram-of-two-hop-proxy-co">Diagram of Two-Hop Proxy Contexts</a>
          </figcaption></figure>
</div>
<p id="section-3.1-9">Forward proxying, such as the modes of proxying in the protocols
        developed in MASQUE, uses both encryption (via TLS) and separation of
        connections (via proxy hops that see only the next hop) to achieve
        privacy partitioning.<a class="pilcrow" href="#section-3.1-9">¶</a></p>
</section>
</div>
<div id="oblivious-http-and-dns">
<section id="section-3.2">
        <h3 id="name-oblivious-http-and-dns">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-oblivious-http-and-dns">Oblivious HTTP and DNS</a>
        </h3>
<p id="section-3.2-1">Oblivious HTTP <span>[<a class="cite xref" href="#RFC9458">OHTTP</a>]</span>, developed in the Oblivious
        HTTP Application Intermediation (OHAI) Working Group, adds per-message
        encryption to HTTP exchanges through a relay system. Clients send
        requests through an Oblivious Relay, which cannot read message
        contents, to an Oblivious Gateway, which can decrypt the messages but
        cannot communicate directly with the client or observe client metadata
        like an IP address.  Oblivious HTTP relies on Hybrid Public Key
        Encryption <span>[<a class="cite xref" href="#RFC9180">HPKE</a>]</span> to perform encryption.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">Oblivious HTTP uses both encryption and separation of connections
        to achieve privacy partitioning.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-3.1">End-to-end messages are encrypted between the Client and
          Gateway. The content of these inner messages are visible to the
          Client, Gateway, and Target. This is the Client-to-Target
          context.<a class="pilcrow" href="#section-3.2-3.1">¶</a>
</li>
          <li class="normal" id="section-3.2-3.2">The encrypted messages exchanged between the Client and Gateway
          are visible to the Relay, but the Relay cannot decrypt the messages.
          This is the Client-to-Gateway context.<a class="pilcrow" href="#section-3.2-3.2">¶</a>
</li>
          <li class="normal" id="section-3.2-3.3">The transport (such as TCP and TLS) connections between the
          Client, Relay, and Gateway form two separate contexts: a
          Client-to-Relay context and a Relay-to-Gateway context. It is
          important to note that the Relay-to-Gateway connection can be a
          single connection, even if the Relay has many separate Clients. This
          provides better anonymity by making the pseudonym presented by the
          Relay to be shared across many Clients.<a class="pilcrow" href="#section-3.2-3.3">¶</a>
</li>
        </ul>
<span id="name-diagram-of-oblivious-http-c"></span><div id="diagram-ohttp">
<figure id="figure-6">
          <div id="section-3.2-4.1">
            <div class="alignLeft art-svg artwork" id="section-3.2-4.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="560" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 560" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,544" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 32,320 L 32,384" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 104,320 L 104,384" fill="none" stroke="black"></path>
                <path d="M 184,192 L 184,256" fill="none" stroke="black"></path>
                <path d="M 184,320 L 184,384" fill="none" stroke="black"></path>
                <path d="M 184,448 L 184,512" fill="none" stroke="black"></path>
                <path d="M 248,192 L 248,256" fill="none" stroke="black"></path>
                <path d="M 248,320 L 248,384" fill="none" stroke="black"></path>
                <path d="M 248,448 L 248,512" fill="none" stroke="black"></path>
                <path d="M 328,64 L 328,128" fill="none" stroke="black"></path>
                <path d="M 328,192 L 328,256" fill="none" stroke="black"></path>
                <path d="M 328,448 L 328,512" fill="none" stroke="black"></path>
                <path d="M 408,64 L 408,128" fill="none" stroke="black"></path>
                <path d="M 408,192 L 408,256" fill="none" stroke="black"></path>
                <path d="M 408,448 L 408,512" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,544" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 328,64 L 408,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 328,96" fill="none" stroke="black"></path>
                <path d="M 408,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 328,128 L 408,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 184,192 L 248,192" fill="none" stroke="black"></path>
                <path d="M 328,192 L 408,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 184,224" fill="none" stroke="black"></path>
                <path d="M 248,224 L 328,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 184,256 L 248,256" fill="none" stroke="black"></path>
                <path d="M 328,256 L 408,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <path d="M 32,320 L 104,320" fill="none" stroke="black"></path>
                <path d="M 184,320 L 248,320" fill="none" stroke="black"></path>
                <path d="M 104,352 L 184,352" fill="none" stroke="black"></path>
                <path d="M 32,384 L 104,384" fill="none" stroke="black"></path>
                <path d="M 184,384 L 248,384" fill="none" stroke="black"></path>
                <path d="M 8,416 L 552,416" fill="none" stroke="black"></path>
                <path d="M 184,448 L 248,448" fill="none" stroke="black"></path>
                <path d="M 328,448 L 408,448" fill="none" stroke="black"></path>
                <path d="M 248,480 L 328,480" fill="none" stroke="black"></path>
                <path d="M 184,512 L 248,512" fill="none" stroke="black"></path>
                <path d="M 328,512 L 408,512" fill="none" stroke="black"></path>
                <path d="M 8,544 L 552,544" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="84" y="52">Client-to-Target</text>
                  <text x="184" y="52">Context</text>
                  <text x="68" y="100">Client</text>
                  <text x="368" y="100">Gateway</text>
                  <text x="492" y="100">Target</text>
                  <text x="88" y="180">Client-to-Gateway</text>
                  <text x="192" y="180">Context</text>
                  <text x="68" y="228">Client</text>
                  <text x="216" y="228">Relay</text>
                  <text x="368" y="228">Gateway</text>
                  <text x="80" y="308">Client-to-Relay</text>
                  <text x="176" y="308">Context</text>
                  <text x="68" y="356">Client</text>
                  <text x="216" y="356">Relay</text>
                  <text x="84" y="436">Relay-to-Gateway</text>
                  <text x="184" y="436">Context</text>
                  <text x="216" y="484">Relay</text>
                  <text x="368" y="484">Gateway</text>
                </g>
              </svg><a class="pilcrow" href="#section-3.2-4.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-diagram-of-oblivious-http-c">Diagram of Oblivious HTTP Contexts</a>
          </figcaption></figure>
</div>
<p id="section-3.2-5">Oblivious DNS over HTTPS (ODoH) <span>[<a class="cite xref" href="#RFC9230">ODOH</a>]</span> applies the same
        principle as Oblivious HTTP but operates on DNS messages only. As a
        precursor to the more generalized Oblivious HTTP, it relies on the
        same HPKE cryptographic primitives and can be analyzed in the same
        way.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
</section>
</div>
<div id="privacypass">
<section id="section-3.3">
        <h3 id="name-privacy-pass">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-privacy-pass">Privacy Pass</a>
        </h3>
<p id="section-3.3-1">Privacy Pass is an architecture <span>[<a class="cite xref" href="#RFC9576">RFC9576</a>]</span> and a set of protocols
        being developed in the Privacy Pass Working Group that allows clients
        to present proof of verification in an anonymous and unlinkable
        fashion via tokens. These tokens were originally designed as a way to
        prove that a client had solved a CAPTCHA, but they can be applied to other
        types of user or device attestation checks as well. In Privacy Pass,
        clients interact with an attester and issuer for the purposes of
        issuing a token, and clients then interact with an origin server to
        redeem said token.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">In Privacy Pass, privacy partitioning is achieved with cryptographic protection (in the form of blind
signature protocols or similar) and separation of connections across two contexts:
a "redemption context" between clients and origins (servers that request and receive tokens), and an
"issuance context" between clients, attestation servers, and token issuance servers. The cryptographic
protection ensures that information revealed during the issuance context is separated from information
revealed during the redemption context.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
<span id="name-diagram-of-contexts-in-priv"></span><div id="diagram-privacypass">
<figure id="figure-7">
          <div id="section-3.3-3.1">
            <div class="alignLeft art-svg artwork" id="section-3.3-3.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="304" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 560 304" width="560" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,288" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 184,64 L 184,128" fill="none" stroke="black"></path>
                <path d="M 184,192 L 184,256" fill="none" stroke="black"></path>
                <path d="M 256,64 L 256,128" fill="none" stroke="black"></path>
                <path d="M 256,192 L 256,256" fill="none" stroke="black"></path>
                <path d="M 312,192 L 312,256" fill="none" stroke="black"></path>
                <path d="M 400,192 L 400,256" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,288" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 184,64 L 256,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 184,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 184,128 L 256,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 184,192 L 256,192" fill="none" stroke="black"></path>
                <path d="M 312,192 L 400,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 256,224 L 312,224" fill="none" stroke="black"></path>
                <path d="M 400,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 184,256 L 256,256" fill="none" stroke="black"></path>
                <path d="M 312,256 L 400,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="60" y="52">Redemption</text>
                  <text x="136" y="52">Context</text>
                  <text x="68" y="100">Origin</text>
                  <text x="220" y="100">Client</text>
                  <text x="52" y="180">Issuance</text>
                  <text x="120" y="180">Context</text>
                  <text x="220" y="228">Client</text>
                  <text x="356" y="228">Attester</text>
                  <text x="492" y="228">Issuer</text>
                </g>
              </svg><a class="pilcrow" href="#section-3.3-3.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-diagram-of-contexts-in-priv">Diagram of Contexts in Privacy Pass</a>
          </figcaption></figure>
</div>
<p id="section-3.3-4">Since the redemption context and issuance context are separate
        connections that involve separate entities, they can also be further
        decoupled by running those parts of the protocols at different times.
        Clients can fetch tokens through the issuance context early and cache
        the tokens for later use in redemption contexts.  This can aid in
        partitioning identifiers and data.<a class="pilcrow" href="#section-3.3-4">¶</a></p>
<p id="section-3.3-5"><span>[<a class="cite xref" href="#RFC9576">RFC9576</a>]</span> describes
        different deployment models for which entities operate origins,
        attesters, and issuers; in some models, they are all separate
        entities, and in others they can be operated by the same entity. The
        model impacts the effectiveness of partitioning, and some models (such
        as when all three are operated by the same entity) only provide
        effective partitioning when the timing of connections on the two
        contexts are not correlated and when the client uses different
        identifiers (such as different IP addresses) on each context.<a class="pilcrow" href="#section-3.3-5">¶</a></p>
</section>
</div>
<div id="privacy-preserving-measurement">
<section id="section-3.4">
        <h3 id="name-privacy-preserving-measurem">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-privacy-preserving-measurem">Privacy Preserving Measurement</a>
        </h3>
<p id="section-3.4-1">The Privacy Preserving Measurement (PPM) Working Group is chartered
        to develop protocols and systems that help a data aggregation or
        collection server (or multiple non-colluding servers) compute
        aggregate values without learning the value of any one client's
        individual measurement. The Distributed Aggregation Protocol (DAP) is the
        primary working item of the group.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2">At a high level, DAP uses a combination of cryptographic protection
        (in the form of secret sharing amongst non-colluding servers) to
        establish two contexts:<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.4-3.1">an "upload context" between clients and non-colluding
   aggregation servers (in which the servers are separated into
   "Helper" and "Leader" roles) wherein aggregation servers possibly
   learn client identity but nothing about their individual measurement
   reports; and<a class="pilcrow" href="#section-3.4-3.1">¶</a>
</li>
          <li class="normal" id="section-3.4-3.2">a "collect context" wherein a collector learns
   aggregate measurement results and nothing about individual client
   data.<a class="pilcrow" href="#section-3.4-3.2">¶</a>
</li>
        </ul>
<span id="name-diagram-of-contexts-in-dap"></span><div id="pa-topology">
<figure id="figure-8">
          <div id="section-3.4-4.1">
            <div class="alignLeft art-svg artwork" id="section-3.4-4.1.1">
<svg class="diagram" font-family="monospace" font-size="13px" height="224" stroke-linecap="round" text-anchor="middle" version="1.1" viewBox="0 0 488 224" width="488" xmlns="http://www.w3.org/2000/svg">
                <path d="M 8,32 L 8,208" fill="none" stroke="black"></path>
                <path d="M 24,96 L 24,160" fill="none" stroke="black"></path>
                <path d="M 96,96 L 96,160" fill="none" stroke="black"></path>
                <path d="M 128,80 L 128,112" fill="none" stroke="black"></path>
                <path d="M 128,144 L 128,176" fill="none" stroke="black"></path>
                <path d="M 184,64 L 184,96" fill="none" stroke="black"></path>
                <path d="M 184,160 L 184,192" fill="none" stroke="black"></path>
                <path d="M 240,104 L 240,152" fill="none" stroke="black"></path>
                <path d="M 288,64 L 288,96" fill="none" stroke="black"></path>
                <path d="M 288,160 L 288,192" fill="none" stroke="black"></path>
                <path d="M 312,32 L 312,168" fill="none" stroke="black"></path>
                <path d="M 312,184 L 312,208" fill="none" stroke="black"></path>
                <path d="M 344,112 L 344,144" fill="none" stroke="black"></path>
                <path d="M 392,144 L 392,176" fill="none" stroke="black"></path>
                <path d="M 440,112 L 440,144" fill="none" stroke="black"></path>
                <path d="M 480,32 L 480,208" fill="none" stroke="black"></path>
                <path d="M 8,32 L 480,32" fill="none" stroke="black"></path>
                <path d="M 184,64 L 288,64" fill="none" stroke="black"></path>
                <path d="M 128,80 L 176,80" fill="none" stroke="black"></path>
                <path d="M 24,96 L 96,96" fill="none" stroke="black"></path>
                <path d="M 184,96 L 288,96" fill="none" stroke="black"></path>
                <path d="M 96,112 L 128,112" fill="none" stroke="black"></path>
                <path d="M 344,112 L 440,112" fill="none" stroke="black"></path>
                <path d="M 96,144 L 128,144" fill="none" stroke="black"></path>
                <path d="M 344,144 L 440,144" fill="none" stroke="black"></path>
                <path d="M 24,160 L 96,160" fill="none" stroke="black"></path>
                <path d="M 184,160 L 288,160" fill="none" stroke="black"></path>
                <path d="M 128,176 L 176,176" fill="none" stroke="black"></path>
                <path d="M 296,176 L 392,176" fill="none" stroke="black"></path>
                <path d="M 184,192 L 288,192" fill="none" stroke="black"></path>
                <path d="M 8,208 L 480,208" fill="none" stroke="black"></path>
                <polygon class="arrowhead" fill="black" points="304,176 292,170.4 292,181.6" transform="rotate(180,296,176)"></polygon>
                <polygon class="arrowhead" fill="black" points="248,152 236,146.4 236,157.6" transform="rotate(90,240,152)"></polygon>
                <polygon class="arrowhead" fill="black" points="248,104 236,98.4 236,109.6" transform="rotate(270,240,104)"></polygon>
                <polygon class="arrowhead" fill="black" points="184,176 172,170.4 172,181.6" transform="rotate(0,176,176)"></polygon>
                <polygon class="arrowhead" fill="black" points="184,80 172,74.4 172,85.6" transform="rotate(0,176,80)"></polygon>
                <g class="text">
                  <text x="44" y="52">Upload</text>
                  <text x="104" y="52">Context</text>
                  <text x="352" y="52">Collect</text>
                  <text x="416" y="52">Context</text>
                  <text x="236" y="84">Helper</text>
                  <text x="60" y="132">Client</text>
                  <text x="392" y="132">Collector</text>
                  <text x="236" y="180">Leader</text>
                </g>
              </svg><a class="pilcrow" href="#section-3.4-4.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-diagram-of-contexts-in-dap">Diagram of Contexts in DAP</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="applying-privacy-partitioning">
<section id="section-4">
      <h2 id="name-applying-privacy-partitioni">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-applying-privacy-partitioni">Applying Privacy Partitioning</a>
      </h2>
<p id="section-4-1">Applying privacy partitioning to an existing or new system or
      protocol requires the following steps:<a class="pilcrow" href="#section-4-1">¶</a></p>
<ol class="normal type-1" id="section-4-2" start="1" type="1">
 <li id="section-4-2.1">Identify the types of information used or exposed in a system or
 protocol, some of which can be used to identify a user or correlate to
 other contexts.<a class="pilcrow" href="#section-4-2.1">¶</a>
</li>
        <li id="section-4-2.2">Partition data to minimize the amount of user-identifying or
        correlatable information in any given context to only include what is
        necessary for that context and prevent the sharing of data across
        contexts wherever possible.<a class="pilcrow" href="#section-4-2.2">¶</a>
</li>
      </ol>
<p id="section-4-3">The most impactful types of information to partition are (a)
      user-identifying information, such as user identifiers (including
      account names or IP addresses) that can be linked and (b)
      non-user-identifying information (including content a user generates or
      accesses), which can be often sensitive when combined with a user
      identifier.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">In this section, we discuss considerations for partitioning these types of information.<a class="pilcrow" href="#section-4-4">¶</a></p>
<div id="user-identifying-information">
<section id="section-4.1">
        <h3 id="name-user-identifying-informatio">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-user-identifying-informatio">User-Identifying Information</a>
        </h3>
<p id="section-4.1-1">User data can itself be user-identifying, in which case it should
        be treated as an identifier.  For example, Oblivious DoH and Oblivious
        HTTP partition the client IP address and client request data into
        separate contexts, thereby ensuring that no entity beyond the client
        can observe both. Collusion across contexts could reverse this
        partitioning and cause non-user-identifying information to become
        user-identifying information.  For example, in CONNECT proxy systems that use
        QUIC, the QUIC connection ID is inherently non-user-identifying since
        it is generated randomly (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc9000#section-5.1">Section 5.1</a> of [<a class="cite xref" href="#RFC9000">QUIC</a>]</span>). However, if combined with another context that
        has user-identifying information such as the client IP address, the
        QUIC connection ID can become user-identifying information.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">Some information is innate to client user-agents, including details
        of the network location and implementation of protocols in hardware
        and software.  This information can be used to construct
        user-identifying information, which is a process sometimes referred to
        as "fingerprinting".  Depending on the application and system
        constraints, users may not be able to prevent fingerprinting in
        privacy contexts.  As a result, fingerprinting information, when
        combined with non-user-identifying user data, could turn that
        otherwise innocuous user data into user-identifying information.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
</section>
</div>
<div id="selecting-client-identifiers">
<section id="section-4.2">
        <h3 id="name-selecting-client-identifier">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-selecting-client-identifier">Selecting Client Identifiers</a>
        </h3>
<p id="section-4.2-1">The selection of client identifiers used in the contexts used for
        privacy partitioning has a large impact on the effectiveness of
        partitioning. Identifier selection can either undermine or improve the
        value of partitioning. Generally, each context involves some form of
        client identifier, which might be directly associated with a client
        identity but can also be a pseudonym or a random one-time
        identifier.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">Using the same client identifier across multiple contexts can
        partly or wholly undermine the effectiveness of partitioning by
        allowing the various contexts to be linked back to the same client.
        For example, if a client uses proxies as described in <a class="auto internal xref" href="#masque">Section 3.1</a> to separate connections but uses the same email
        address to authenticate to two servers in different contexts, those
        actions can be linked back to the same client. While this does not
        undermine all of the partitioning achieved through proxying (the
        contexts along the network path still cannot correlate the client
        identity and what servers are being accessed), the overall effect of
        partitioning is diminished.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">When possible, using per-context unique client identifiers provides better partitioning properties.
For example, a client can use a unique email address as an account identifier with each different
server it needs to log into. The same approach can apply across many layers, as seen with
per-network MAC address randomization <span>[<a class="cite xref" href="#I-D.ietf-madinas-mac-address-randomization">RANDOM-MAC</a>]</span>, use of
multiple temporary IP addresses across connections and over time <span>[<a class="cite xref" href="#RFC8981">RFC8981</a>]</span>, and use of
unique per-subscription identifiers for HTTP Web Push <span>[<a class="cite xref" href="#RFC8030">RFC8030</a>]</span>.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
</section>
</div>
<div id="incorrect-or-incomplete-partitioning">
<section id="section-4.3">
        <h3 id="name-incorrect-or-incomplete-par">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-incorrect-or-incomplete-par">Incorrect or Incomplete Partitioning</a>
        </h3>
<p id="section-4.3-1">Privacy partitioning can be applied incorrectly or
        incompletely. Contexts may contain more user-identifying information
        than desired, or some information in a context may be more
        user-identifying than intended. Moreover, splitting user-identifying
        information over multiple contexts has to be done with care, as
        creating more contexts can increase the number of entities that need
        to be trusted to not collude.  Nevertheless, partitions can help
        improve the client's privacy posture when applied carefully.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">Evaluating and qualifying the resulting privacy of a system or
        protocol that applies privacy partitioning depends on the contexts
        that exist and the types of user-identifying information in each
        context. Such evaluation is helpful for identifying ways in which
        systems or protocols can improve their privacy posture. For example,
        consider DNS over HTTPS <span>[<a class="cite xref" href="#RFC8484">DOH</a>]</span>, which produces a
        single context that contains both the client IP address and client
        query. One application of privacy partitioning results in ODoH, which
        produces two contexts, one with the client IP address and the other
        with the client query.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
</section>
</div>
<div id="selecting-information-within-a-context">
<section id="section-4.4">
        <h3 id="name-selecting-information-withi">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-selecting-information-withi">Selecting Information within a Context</a>
        </h3>
<p id="section-4.4-1">Recognizing potential applications of privacy partitioning requires
        identifying the contexts in use, the information exposed in a context,
        and the intent of information exposed in a context. Unfortunately,
        determining what information to include in a given context is a
        non-trivial task. In principle, the information contained in a context
        should be fit for purpose. As such, new systems or protocols developed
        should aim to ensure that all information exposed in a context serves
        as few purposes as possible. Designing with this principle from the
        start helps mitigate issues that arise if users of the system or
        protocol inadvertently ossify on the information available in
        contexts. Legacy systems that have ossified on information available
        in contexts may be difficult to change in practice. As an example,
        many existing anti-abuse systems depend on some client identifier,
        such as the client IP address, coupled with client data to provide
        value. Partitioning contexts in these systems such that they no longer
        determine the client identity requires new solutions to the anti-abuse
        problem.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="limits">
<section id="section-5">
      <h2 id="name-limits-of-privacy-partition">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-limits-of-privacy-partition">Limits of Privacy Partitioning</a>
      </h2>
<p id="section-5-1">Privacy partitioning aims to increase user privacy, though, as
      stated, it is merely one of possibly many architectural tools that help
      manage privacy risks. Understanding the limits of its benefits requires
      a more comprehensive analysis of the system in question.  Such analysis
      also helps determine whether or not the tool has been applied
      correctly. In particular, the value of privacy partitioning depends on
      numerous factors, including, though not limited to, the following:<a class="pilcrow" href="#section-5-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">non-collusion
      across contexts and<a class="pilcrow" href="#section-5-2.1">¶</a>
</li>
        <li class="normal" id="section-5-2.2">the type of information exposed in each
      context.<a class="pilcrow" href="#section-5-2.2">¶</a>
</li>
      </ul>
<p id="section-5-3">We elaborate on each in the following sections.<a class="pilcrow" href="#section-5-3">¶</a></p>
<div id="violations-by-collusion">
<section id="section-5.1">
        <h3 id="name-violations-by-collusion">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-violations-by-collusion">Violations by Collusion</a>
        </h3>
<p id="section-5.1-1">Privacy partitions ensure that only the client, i.e., the entity
        that is responsible for partitioning, can independently link all
        user-specific information. No other entity individually knows how to
        link all the user-specific information as long as they do not collude
        with each other across contexts. Thus, non-collusion is a fundamental
        requirement for privacy partitioning to offer meaningful privacy for
        end users. In particular, the trust relationships that users have with
        different parties affect the resulting impact on the user's
        privacy.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">As an example, consider Oblivious HTTP (OHTTP), wherein the Oblivious Relay knows
        the client identity but not the client data, and the Oblivious Gateway
        knows the client data but not the client identity.  If the Oblivious
        Relay and Gateway collude, they can link client identity and data
        together for each request and response transaction by simply observing
        requests in transit.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<p id="section-5.1-3">It is not currently possible to guarantee with technical protocol
        measures that two entities are not colluding. Even if two entities do
        not collude directly, if both entities reveal information to other
        parties, it will not be possible to guarantee that the information
        won't be combined. However, there are some mitigations that can be
        applied to reduce the risk of collusion happening in practice:<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-4.1">Policy and contractual agreements between entities involved in
          partitioning to disallow logging or sharing of data, along with
          auditing to validate that the policies are being followed.  For
          cases where logging is required (such as for service operation),
          such logged data should be minimized and anonymized to prevent it
          from being useful for collusion.<a class="pilcrow" href="#section-5.1-4.1">¶</a>
</li>
          <li class="normal" id="section-5.1-4.2">Protocol requirements to make collusion or data sharing more
          difficult.<a class="pilcrow" href="#section-5.1-4.2">¶</a>
</li>
          <li class="normal" id="section-5.1-4.3">Adding more partitions and contexts to make it increasingly
          difficult to collude with enough parties to recover identities.<a class="pilcrow" href="#section-5.1-4.3">¶</a>
</li>
        </ul>
</section>
</div>
<div id="violations-by-insufficient-or-incorrect-partitioning">
<section id="section-5.2">
        <h3 id="name-violations-by-insufficient-">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-violations-by-insufficient-">Violations by Insufficient or Incorrect Partitioning</a>
        </h3>
<p id="section-5.2-1">Insufficient or incorrect application of privacy partitioning can
        lessen or negate benefits to users.  In particular, it is possible to
        apply partitioning in a way that is either insufficient or incorrect
        for meaningful privacy. For example, partitioning at one layer in the
        stack can fail to account for linkable information at different layers
        in the stack. Privacy violations can stem from partitioning failures
        in a multitude of ways, some of which are described in the following
        sections.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<div id="violations-from-application-information">
<section id="section-5.2.1">
          <h4 id="name-violations-from-application">
<a class="section-number selfRef" href="#section-5.2.1">5.2.1. </a><a class="section-name selfRef" href="#name-violations-from-application">Violations from Application Information</a>
          </h4>
<p id="section-5.2.1-1">Partitioning at the network layer can be insufficient when the
          application layer fails to properly partition. As an example,
          consider OHTTP used for the purposes of hiding client-identifying
          information for a browser telemetry system. It is entirely possible
          for reports in such a telemetry system to contain both
          client-specific telemetry data, such as information about their
          specific browser instance, as well as client-identifying
          information, such as the client's email address, location, or IP
          address. Even though OHTTP separates the client IP address from the
          server via a relay, the server can still learn this directly from
          the client's telemetry report.<a class="pilcrow" href="#section-5.2.1-1">¶</a></p>
</section>
</div>
<div id="violations-from-network-information">
<section id="section-5.2.2">
          <h4 id="name-violations-from-network-inf">
<a class="section-number selfRef" href="#section-5.2.2">5.2.2. </a><a class="section-name selfRef" href="#name-violations-from-network-inf">Violations from Network Information</a>
          </h4>
<p id="section-5.2.2-1">It is also possible to inadequately partition at the network
          layer. As an example, consider both TLS Encrypted Client Hello (ECH)
          <span>[<a class="cite xref" href="#I-D.ietf-tls-esni">TLS-ESNI</a>]</span> and VPNs. ECH uses cryptographic
          protection (encryption) to hide information from unauthorized
          parties, but both clients and servers (two entities) can link
          user-specific data to a user-specific identifier (IP address).
          Similarly, while VPNs hide identifiers from end servers, the VPN
          server can still see the identifiers of both the client and
          server. Applying privacy partitioning would advocate for at least
          two additional entities to avoid revealing both identity (who) and
          user actions (what) from each involved party.<a class="pilcrow" href="#section-5.2.2-1">¶</a></p>
</section>
</div>
<div id="violations-from-side-channels">
<section id="section-5.2.3">
          <h4 id="name-violations-from-side-channe">
<a class="section-number selfRef" href="#section-5.2.3">5.2.3. </a><a class="section-name selfRef" href="#name-violations-from-side-channe">Violations from Side Channels</a>
          </h4>
<p id="section-5.2.3-1">Beyond the information that is intentionally revealed by applying
          privacy partitioning, it is also possible for the information to be
          unintentionally revealed through side channels. For example, in the
          two-hop proxy arrangement described in <a class="auto internal xref" href="#masque">Section 3.1</a>,
          Proxy A sees and proxies TLS data between the client and Proxy
          B. While it does not directly learn information that Proxy B sees,
          it does learn information through metadata, such as the timing and
          size of encrypted data being proxied. Traffic analysis could be
          exploited to learn more information from such metadata, including,
          in some cases, application data that Proxy A was never meant to
          see. Although privacy partitioning does not obviate such attacks, it
          does increase the cost necessary to carry them out in practice. See
          <a class="auto internal xref" href="#security-considerations">Section 7</a> for more discussion on this
          topic.<a class="pilcrow" href="#section-5.2.3-1">¶</a></p>
</section>
</div>
<div id="identifying-partitions">
<section id="section-5.2.4">
          <h4 id="name-identifying-partitions">
<a class="section-number selfRef" href="#section-5.2.4">5.2.4. </a><a class="section-name selfRef" href="#name-identifying-partitions">Identifying Partitions</a>
          </h4>
<p id="section-5.2.4-1">While straightforward violations of user privacy that stem from
          insufficient partitioning may seem straightforward to mitigate, it
          remains an open problem to rigorously determine what information
          needs to be partitioned for meaningful privacy and to implement it
          in a way that achieves the desired properties. In essence, it is
          difficult to determine whether a certain set of information reveals
          "too much" about a specific user, and it is similarly challenging to
          determine whether or not an implementation of partitioning works as
          intended. There is ample evidence of data being assumed "private" or
          "anonymous" but, in hindsight, winds up revealing too much
          information such that it allows one to link back to individual
          clients; see <span>[<a class="cite xref" href="#DataSetReconstruction">DataSetReconstruction</a>]</span> and <span>[<a class="cite xref" href="#CensusReconstruction">CensusReconstruction</a>]</span> for more examples of this in the
          real world.<a class="pilcrow" href="#section-5.2.4-1">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="partitioning-impacts">
<section id="section-6">
      <h2 id="name-partitioning-impacts">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-partitioning-impacts">Partitioning Impacts</a>
      </h2>
<p id="section-6-1">Applying privacy partitioning to communication protocols leads to a
      substantial change in communication patterns.  For example, instead of
      sending traffic directly to a service, essentially all user traffic is
      routed through a set of intermediaries, possibly adding more end-to-end
      round trips in the process (depending on the system and protocol). This
      has a number of practical implications, described below.<a class="pilcrow" href="#section-6-1">¶</a></p>
<ol class="normal type-1" id="section-6-2" start="1" type="1">
 <li id="section-6-2.1">
          <p id="section-6-2.1.1">Service operational or management challenges: Information that
 is usually passively observed in the network or metadata that
 has been unintentionally revealed to the service provider will no
 longer be available; for example, this can impact existing security
 procedures such as application rate limiting or DDoS mitigation.
 Current network management techniques deployed often rely on
 information that is exposed by typical traffic that lacks guarantees
 or accuracy.<a class="pilcrow" href="#section-6-2.1.1">¶</a></p>
<p id="section-6-2.1.2">Privacy partitioning provides an opportunity for improvements in
 these management techniques by enabling active exchange of information
 with each entity in a privacy-preserving way and requesting exactly
 the information needed for a specific task or function rather than
 relying on information derived from a limited set of unintentionally
 revealed information that cannot be guaranteed to be available and may
 be removed in the future.<a class="pilcrow" href="#section-6-2.1.2">¶</a></p>
</li>
        <li id="section-6-2.2">
          <p id="section-6-2.2.1">Varying performance effects and costs:
 Depending on how context separation is done, privacy
 partitioning may affect application performance. As an example,
 Privacy Pass introduces an entire end-to-end round trip to issue a
 token before it can be redeemed, thereby decreasing performance. In
 contrast, while systems like CONNECT proxying may seem like they would
 reduce performance, oftentimes the highly optimized nature of
 proxy-to-proxy paths leads to improved performance.<a class="pilcrow" href="#section-6-2.2.1">¶</a></p>
<p id="section-6-2.2.2">Reduced performance can be a reason that protocols and deployments
        will not apply privacy partitioning.  For example, HTTPS connection
        reuse (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc9113#section-9.1.1">Section 9.1.1</a> of [<a class="cite xref" href="#RFC9113">HTTP2</a>]</span>)
        allows clients to use an existing HTTPS session created for one origin
        to interact with different origins (provided that the original origin
        is authoritative for these alternative origins). Reusing connections
        saves the cost of connection establishment but means that the server
        can now link the client's activity with these two or more origins
        together. Applying privacy partitioning would prevent this, but
        typically at the cost of performance.<a class="pilcrow" href="#section-6-2.2.2">¶</a></p>
<p id="section-6-2.2.3">In general, while performance and privacy trade-offs are often cast
        as a zero-sum game, in practice this is often not the case. The
        relationship between privacy and performance varies depending on a
        number of related factors, such as application characteristics,
        network path properties, and so on.<a class="pilcrow" href="#section-6-2.2.3">¶</a></p>
</li>
        <li id="section-6-2.3">
          <p id="section-6-2.3.1">Increased attack surface:
 Even in the event that information is adequately partitioned
 across non-colluding parties, the resulting effects on the end user
 may not always be positive. For example, using OHTTP as a basis for
 illustration, consider a hypothetical scenario where the Oblivious
 Gateway has an implementation flaw that causes all of its decrypt
 requests to be inappropriately logged in a public or otherwise
 compromised location. Moreover, assume that the Target Resource for
 which these requests are destined does not have such an implementation
 flaw. Applications that use OHTTP with this flawed Oblivious Gateway
 to interact with the Target Resource risk their user request
 information being made public, albeit in a way that is decoupled from
 user identifying information, whereas applications that do not use
 OHTTP to interact with the Target Resource do not risk this type of
 disclosure.<a class="pilcrow" href="#section-6-2.3.1">¶</a></p>
</li>
        <li id="section-6-2.4">
          <p id="section-6-2.4.1">Centralization: Depending on the protocol and system, as well
        as the desired privacy properties, the use of partitioning may
        inherently force centralization to a selected set of trusted
        participants.  As an example, the impact of OHTTP on end-user privacy
        generally increases proportionally to the number of users that exist
        behind a given Oblivious Relay. That is, the probability of an
        Oblivious Gateway determining the client associated with a request
        forwarded through an Oblivious Relay decreases as the number of
        possible clients behind the Oblivious Relay increases. This trade-off
        encourages the centralization of the Oblivious Relays.<a class="pilcrow" href="#section-6-2.4.1">¶</a></p>
</li>
      </ol>
</section>
</div>
<div id="security-considerations">
<section id="section-7">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-7-1"><a class="auto internal xref" href="#limits">Section 5</a> discusses some of the limitations of privacy
      partitioning in practice and advocates for holistic analysis to
      understand the extent to which privacy partitioning offers meaningful
      privacy improvements.  Applied correctly, partitioning helps improve an
      end-user's privacy posture, thereby making violations harder to do via
      technical, social, or policy means. For example, side channels such as
      traffic analysis <span>[<a class="cite xref" href="#I-D.irtf-pearg-website-fingerprinting">FINGERPINT</a>]</span>
      or timing analysis are still possible and can allow an unauthorized
      entity to learn information about a context they are not a participant
      of.  Proposed mitigations for these types of attacks, e.g., padding
      application traffic or generating fake traffic, can be very expensive
      and are therefore not typically applied in practice.  Nevertheless,
      privacy partitioning moves the threat vector from one that has direct
      access to user-specific information to one that requires more effort,
      e.g., computational resources, to violate end-user privacy.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document has no IANA actions.<a class="pilcrow" href="#section-8-1">¶</a></p>
</section>
</div>
<div id="sec-informative-references">
<section id="section-9">
      <h2 id="name-informative-references">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
      </h2>
<dl class="references">
<dt id="CensusReconstruction">[CensusReconstruction]</dt>
      <dd>
<span class="refAuthor">United States Consensus Bureau</span>, <span class="refTitle">"The Census Bureau's Simulated Reconstruction-Abetted Re-identification Attack on the 2010 Census"</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.census.gov/data/academy/webinars/2021/disclosure-avoidance-series/simulated-reconstruction-abetted-re-identification-attack-on-the-2010-census.html">https://www.census.gov/data/academy/webinars/2021/disclosure-avoidance-series/simulated-reconstruction-abetted-re-identification-attack-on-the-2010-census.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9484">[CONNECT-IP]</dt>
      <dd>
<span class="refAuthor">Pauly, T., Ed.</span>, <span class="refAuthor">Schinazi, D.</span>, <span class="refAuthor">Chernyakhovsky, A.</span>, <span class="refAuthor">Kühlewind, M.</span>, and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"Proxying IP in HTTP"</span>, <span class="seriesInfo">RFC 9484</span>, <span class="seriesInfo">DOI 10.17487/RFC9484</span>, <time class="refDate" datetime="2023-10">October 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9484">https://www.rfc-editor.org/info/rfc9484</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9297">[CONNECT-UDP]</dt>
      <dd>
<span class="refAuthor">Schinazi, D.</span> and <span class="refAuthor">L. Pardue</span>, <span class="refTitle">"HTTP Datagrams and the Capsule Protocol"</span>, <span class="seriesInfo">RFC 9297</span>, <span class="seriesInfo">DOI 10.17487/RFC9297</span>, <time class="refDate" datetime="2022-08">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9297">https://www.rfc-editor.org/info/rfc9297</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DataSetReconstruction">[DataSetReconstruction]</dt>
      <dd>
<span class="refAuthor">Narayanan, A.</span> and <span class="refAuthor">V. Shmatikov</span>, <span class="refTitle">"Robust De-anonymization of Large Sparse Datasets"</span>, <span class="refContent">IEEE Symposium on Security and Privacy</span>, <span class="seriesInfo">DOI 10.1109/sp.2008.33</span>, <time class="refDate" datetime="2008-05">May 2008</time>, <span>&lt;<a href="https://doi.org/10.1109/sp.2008.33">https://doi.org/10.1109/sp.2008.33</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DECOUPLING">[DECOUPLING]</dt>
      <dd>
<span class="refAuthor">Schmitt, P.</span>, <span class="refAuthor">Iyengar, J.</span>, <span class="refAuthor">Wood, C.</span>, and <span class="refAuthor">B. Raghavan</span>, <span class="refTitle">"The decoupling principle: a practical privacy framework"</span>, <span class="refContent">Proceedings of the 21st ACM Workshop on Hot Topics in Networks</span>, <span class="seriesInfo">DOI 10.1145/3563766.3564112</span>, <time class="refDate" datetime="2022-11">November 2022</time>, <span>&lt;<a href="https://doi.org/10.1145/3563766.3564112">https://doi.org/10.1145/3563766.3564112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8484">[DOH]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span> and <span class="refAuthor">P. McManus</span>, <span class="refTitle">"DNS Queries over HTTPS (DoH)"</span>, <span class="seriesInfo">RFC 8484</span>, <span class="seriesInfo">DOI 10.17487/RFC8484</span>, <time class="refDate" datetime="2018-10">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8484">https://www.rfc-editor.org/info/rfc8484</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-pearg-website-fingerprinting">[FINGERPINT]</dt>
      <dd>
<span class="refAuthor">Goldberg, I.</span>, <span class="refAuthor">Wang, T.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"Network-Based Website Fingerprinting"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-pearg-website-fingerprinting-01</span>, <time class="refDate" datetime="2020-09-08">8 September 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-pearg-website-fingerprinting-01">https://datatracker.ietf.org/doc/html/draft-irtf-pearg-website-fingerprinting-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9180">[HPKE]</dt>
      <dd>
<span class="refAuthor">Barnes, R.</span>, <span class="refAuthor">Bhargavan, K.</span>, <span class="refAuthor">Lipp, B.</span>, and <span class="refAuthor">C. Wood</span>, <span class="refTitle">"Hybrid Public Key Encryption"</span>, <span class="seriesInfo">RFC 9180</span>, <span class="seriesInfo">DOI 10.17487/RFC9180</span>, <time class="refDate" datetime="2022-02">February 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9180">https://www.rfc-editor.org/info/rfc9180</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[HTTP2]</dt>
      <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9230">[ODOH]</dt>
      <dd>
<span class="refAuthor">Kinnear, E.</span>, <span class="refAuthor">McManus, P.</span>, <span class="refAuthor">Pauly, T.</span>, <span class="refAuthor">Verma, T.</span>, and <span class="refAuthor">C.A. Wood</span>, <span class="refTitle">"Oblivious DNS over HTTPS"</span>, <span class="seriesInfo">RFC 9230</span>, <span class="seriesInfo">DOI 10.17487/RFC9230</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9230">https://www.rfc-editor.org/info/rfc9230</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9458">[OHTTP]</dt>
      <dd>
<span class="refAuthor">Thomson, M.</span> and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"Oblivious HTTP"</span>, <span class="seriesInfo">RFC 9458</span>, <span class="seriesInfo">DOI 10.17487/RFC9458</span>, <time class="refDate" datetime="2024-01">January 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9458">https://www.rfc-editor.org/info/rfc9458</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9000">[QUIC]</dt>
      <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9000">https://www.rfc-editor.org/info/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-madinas-mac-address-randomization">[RANDOM-MAC]</dt>
      <dd>
<span class="refAuthor">Zuniga, JC.</span>, <span class="refAuthor">Bernardos, CJ., Ed.</span>, and <span class="refAuthor">A. Andersdotter</span>, <span class="refTitle">"Randomized and Changing MAC Address state of affairs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-madinas-mac-address-randomization-12</span>, <time class="refDate" datetime="2024-02-28">28 February 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-madinas-mac-address-randomization-12">https://datatracker.ietf.org/doc/html/draft-ietf-madinas-mac-address-randomization-12</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6973">[RFC6973]</dt>
      <dd>
<span class="refAuthor">Cooper, A.</span>, <span class="refAuthor">Tschofenig, H.</span>, <span class="refAuthor">Aboba, B.</span>, <span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Morris, J.</span>, <span class="refAuthor">Hansen, M.</span>, and <span class="refAuthor">R. Smith</span>, <span class="refTitle">"Privacy Considerations for Internet Protocols"</span>, <span class="seriesInfo">RFC 6973</span>, <span class="seriesInfo">DOI 10.17487/RFC6973</span>, <time class="refDate" datetime="2013-07">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6973">https://www.rfc-editor.org/info/rfc6973</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8030">[RFC8030]</dt>
      <dd>
<span class="refAuthor">Thomson, M.</span>, <span class="refAuthor">Damaggio, E.</span>, and <span class="refAuthor">B. Raymor, Ed.</span>, <span class="refTitle">"Generic Event Delivery Using HTTP Push"</span>, <span class="seriesInfo">RFC 8030</span>, <span class="seriesInfo">DOI 10.17487/RFC8030</span>, <time class="refDate" datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8030">https://www.rfc-editor.org/info/rfc8030</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8981">[RFC8981]</dt>
      <dd>
<span class="refAuthor">Gont, F.</span>, <span class="refAuthor">Krishnan, S.</span>, <span class="refAuthor">Narten, T.</span>, and <span class="refAuthor">R. Draves</span>, <span class="refTitle">"Temporary Address Extensions for Stateless Address Autoconfiguration in IPv6"</span>, <span class="seriesInfo">RFC 8981</span>, <span class="seriesInfo">DOI 10.17487/RFC8981</span>, <time class="refDate" datetime="2021-02">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8981">https://www.rfc-editor.org/info/rfc8981</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9576">[RFC9576]</dt>
      <dd>
<span class="refAuthor">Davidson, A.</span>, <span class="refAuthor">Iyengar, J.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"The Privacy Pass Architecture"</span>, <span class="seriesInfo">RFC 9576</span>, <span class="seriesInfo">DOI 10.17487/RFC9576</span>, <time class="refDate" datetime="2024-06">June 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9576">https://www.rfc-editor.org/info/rfc9576</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-tls-esni">[TLS-ESNI]</dt>
    <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refAuthor">Oku, K.</span>, <span class="refAuthor">Sullivan, N.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"TLS Encrypted Client Hello"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tls-esni-18</span>, <time class="refDate" datetime="2024-03-04">4 March 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni-18">https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="iab-members">
<section id="appendix-A">
      <h2 id="name-iab-members-at-the-time-of-">
<a class="section-name selfRef" href="#name-iab-members-at-the-time-of-">IAB Members at the Time of Approval</a>
      </h2>
<p id="appendix-A-1">Internet Architecture Board members at the time this document was
   approved for publication were:<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="appendix-A-2.1">
          <p id="appendix-A-2.1.1"><span class="contact-name">Dhruv Dhody</span><a class="pilcrow" href="#appendix-A-2.1.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.2">
          <p id="appendix-A-2.2.1"><span class="contact-name">Lars Eggert</span><a class="pilcrow" href="#appendix-A-2.2.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.3">
          <p id="appendix-A-2.3.1"><span class="contact-name">Wes Hardaker</span><a class="pilcrow" href="#appendix-A-2.3.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.4">
          <p id="appendix-A-2.4.1"><span class="contact-name">Cullen Jennings</span><a class="pilcrow" href="#appendix-A-2.4.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.5">
          <p id="appendix-A-2.5.1"><span class="contact-name">Mallory Knodel</span><a class="pilcrow" href="#appendix-A-2.5.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.6">
          <p id="appendix-A-2.6.1"><span class="contact-name">Suresh Krishnan</span><a class="pilcrow" href="#appendix-A-2.6.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.7">
          <p id="appendix-A-2.7.1"><span class="contact-name">Mirja Kühlewind</span><a class="pilcrow" href="#appendix-A-2.7.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.8">
          <p id="appendix-A-2.8.1"><span class="contact-name">Tommy Pauly</span><a class="pilcrow" href="#appendix-A-2.8.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.9">
          <p id="appendix-A-2.9.1"><span class="contact-name">Alvaro Retana</span><a class="pilcrow" href="#appendix-A-2.9.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.10">
          <p id="appendix-A-2.10.1"><span class="contact-name">David Schinazi</span><a class="pilcrow" href="#appendix-A-2.10.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.11">
          <p id="appendix-A-2.11.1"><span class="contact-name">Christopher A. Wood</span><a class="pilcrow" href="#appendix-A-2.11.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.12">
          <p id="appendix-A-2.12.1"><span class="contact-name">Qin Wu</span><a class="pilcrow" href="#appendix-A-2.12.1">¶</a></p>
</li>
        <li class="compact ulEmpty" id="appendix-A-2.13">
          <p id="appendix-A-2.13.1"><span class="contact-name">Jiankang Yao</span><a class="pilcrow" href="#appendix-A-2.13.1">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-B">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-B-1">We would like to thank <span class="contact-name">Martin Thomson</span>, <span class="contact-name">Eliot Lear</span>, <span class="contact-name">Mark Nottingham</span>, <span class="contact-name">Niels ten Oever</span>, <span class="contact-name">Vittorio Bertola</span>,
      <span class="contact-name">Antoine Fressancourt</span>, <span class="contact-name">Cullen       Jennings</span>, and <span class="contact-name">Dhruv Dhody</span> for their reviews and
      feedback.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mirja Kühlewind</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mirja.kuehlewind@ericsson.com">mirja.kuehlewind@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tommy Pauly</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tpauly@apple.com">tpauly@apple.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Christopher A. Wood</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:caw@heapingbits.net">caw@heapingbits.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>