<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9275: An Extension for Application-Layer Traffic Optimization (ALTO): Path Vector</title>
<meta content="Kai Gao" name="author"/>
<meta content="Young Lee" name="author"/>
<meta content="Sabine Randriamasy" name="author"/>
<meta content="Yang Richard Yang" name="author"/>
<meta content="Jingxuan Jensen Zhang" name="author"/>
<meta content='
       This document is an extension to the base Application-Layer Traffic Optimization
(ALTO) protocol. It extends the ALTO cost map and ALTO property map services so
that an application can decide to which endpoint(s) to connect based not only on
numerical/ordinal cost values but also on fine-grained abstract information regarding the
paths. This is useful for applications whose performance is impacted by
specific components of a network on the end-to-end paths, e.g., they may infer
that several paths share common links and prevent traffic bottlenecks by
avoiding such paths. This extension introduces a new abstraction called the "Abstract
Network Element" (ANE) to represent these components and encodes a network path
as a vector of ANEs. Thus, it provides a more complete but still abstract graph
representation of the underlying network(s) for informed traffic optimization
among endpoints. 
    ' name="description"/>
<meta content="xml2rfc 3.14.2" name="generator"/>
<meta content="network visibility" name="keyword"/>
<meta content="abstract network element" name="keyword"/>
<meta content="shared bottleneck" name="keyword"/>
<meta content="9275" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.14.2
    Python 3.9.13
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 3.1.2
    kitchen 1.2.6
    lxml 4.9.0
    MarkupSafe 2.1.1
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    weasyprint 56.1
-->
<link href="rfc9275.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9275" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-alto-path-vector-25" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9275</td>
<td class="center">ALTO-PV</td>
<td class="right">September 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Gao, et al.</td>
<td class="center">Experimental</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9275">9275</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Experimental</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-09">September 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Gao</div>
<div class="org">Sichuan University</div>
</div>
<div class="author">
      <div class="author-name">Y. Lee</div>
<div class="org">Samsung</div>
</div>
<div class="author">
      <div class="author-name">S. Randriamasy</div>
<div class="org">Nokia Bell Labs</div>
</div>
<div class="author">
      <div class="author-name">Y. Yang</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">J. Zhang</div>
<div class="org">Tongji University</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9275</h1>
<h1 id="title">An Extension for Application-Layer Traffic Optimization (ALTO): Path Vector</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document is an extension to the base Application-Layer Traffic Optimization
(ALTO) protocol. It extends the ALTO cost map and ALTO property map services so
that an application can decide to which endpoint(s) to connect based not only on
numerical/ordinal cost values but also on fine-grained abstract information regarding the
paths. This is useful for applications whose performance is impacted by
specific components of a network on the end-to-end paths, e.g., they may infer
that several paths share common links and prevent traffic bottlenecks by
avoiding such paths. This extension introduces a new abstraction called the "Abstract
Network Element" (ANE) to represent these components and encodes a network path
as a vector of ANEs. Thus, it provides a more complete but still abstract graph
representation of the underlying network(s) for informed traffic optimization
among endpoints.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for examination, experimental implementation, and
            evaluation.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document defines an Experimental Protocol for the Internet
            community.  This document is a product of the Internet Engineering
            Task Force (IETF).  It represents the consensus of the IETF community.
            It has received public review and has been approved for publication
            by the Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9275">https://www.rfc-editor.org/info/rfc9275</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-terminology">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-requirements-and-use-cases">Requirements and Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-design-requirements">Design Requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-sample-use-cases">Sample Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a class="xref" href="#section-4.2.1">4.2.1</a>.  <a class="xref" href="#name-exposing-network-bottleneck">Exposing Network Bottlenecks</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a class="xref" href="#section-4.2.2">4.2.2</a>.  <a class="xref" href="#name-resource-exposure-for-cdns-">Resource Exposure for CDNs and Service Edges</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-path-vector-extension-overv">Path Vector Extension: Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-abstract-network-element-an">Abstract Network Element (ANE)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a class="xref" href="#section-5.1.1">5.1.1</a>.  <a class="xref" href="#name-ane-entity-domain">ANE Entity Domain</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a class="xref" href="#section-5.1.2">5.1.2</a>.  <a class="xref" href="#name-ephemeral-and-persistent-an">Ephemeral and Persistent ANEs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a class="xref" href="#section-5.1.3">5.1.3</a>.  <a class="xref" href="#name-property-filtering">Property Filtering</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-path-vector-cost-type">Path Vector Cost Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-multipart-path-vector-respo">Multipart Path Vector Response</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a class="xref" href="#section-5.3.1">5.3.1</a>.  <a class="xref" href="#name-identifying-the-media-type-">Identifying the Media Type of the Object Root</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a class="xref" href="#section-5.3.2">5.3.2</a>.  <a class="xref" href="#name-references-to-part-messages">References to Part Messages</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-specification-basic-data-ty">Specification: Basic Data Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-ane-name">ANE Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-ane-entity-domain-2">ANE Entity Domain</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a class="xref" href="#section-6.2.1">6.2.1</a>.  <a class="xref" href="#name-entity-domain-type">Entity Domain Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a class="xref" href="#section-6.2.2">6.2.2</a>.  <a class="xref" href="#name-domain-specific-entity-iden">Domain-Specific Entity Identifier</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a class="xref" href="#section-6.2.3">6.2.3</a>.  <a class="xref" href="#name-hierarchy-and-inheritance">Hierarchy and Inheritance</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a class="xref" href="#section-6.2.4">6.2.4</a>.  <a class="xref" href="#name-media-type-of-defining-reso">Media Type of Defining Resource</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-ane-property-name">ANE Property Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.  <a class="xref" href="#name-initial-ane-property-types">Initial ANE Property Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a class="xref" href="#section-6.4.1">6.4.1</a>.  <a class="xref" href="#name-maximum-reservable-bandwidt">Maximum Reservable Bandwidth</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a class="xref" href="#section-6.4.2">6.4.2</a>.  <a class="xref" href="#name-persistent-entity-id">Persistent Entity ID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.3">
                    <p id="section-toc.1-1.6.2.4.2.3.1"><a class="xref" href="#section-6.4.3">6.4.3</a>.  <a class="xref" href="#name-examples">Examples</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="xref" href="#section-6.5">6.5</a>.  <a class="xref" href="#name-path-vector-cost-type-2">Path Vector Cost Type</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.1">
                    <p id="section-toc.1-1.6.2.5.2.1.1"><a class="xref" href="#section-6.5.1">6.5.1</a>.  <a class="xref" href="#name-cost-metric-ane-path">Cost Metric: "ane-path"</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.2">
                    <p id="section-toc.1-1.6.2.5.2.2.1"><a class="xref" href="#section-6.5.2">6.5.2</a>.  <a class="xref" href="#name-cost-mode-array">Cost Mode: "array"</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="xref" href="#section-6.6">6.6</a>.  <a class="xref" href="#name-part-resource-id-and-part-c">Part Resource ID and Part Content ID</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-specification-service-exten">Specification: Service Extensions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-notation">Notation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-multipart-filtered-cost-map">Multipart Filtered Cost Map for Path Vector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a class="xref" href="#section-7.2.1">7.2.1</a>.  <a class="xref" href="#name-media-type">Media Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a class="xref" href="#section-7.2.2">7.2.2</a>.  <a class="xref" href="#name-http-method">HTTP Method</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.3">
                    <p id="section-toc.1-1.7.2.2.2.3.1"><a class="xref" href="#section-7.2.3">7.2.3</a>.  <a class="xref" href="#name-accept-input-parameters">Accept Input Parameters</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.4">
                    <p id="section-toc.1-1.7.2.2.2.4.1"><a class="xref" href="#section-7.2.4">7.2.4</a>.  <a class="xref" href="#name-capabilities">Capabilities</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.5">
                    <p id="section-toc.1-1.7.2.2.2.5.1"><a class="xref" href="#section-7.2.5">7.2.5</a>.  <a class="xref" href="#name-uses">Uses</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.6">
                    <p id="section-toc.1-1.7.2.2.2.6.1"><a class="xref" href="#section-7.2.6">7.2.6</a>.  <a class="xref" href="#name-response">Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.  <a class="xref" href="#name-multipart-endpoint-cost-ser">Multipart Endpoint Cost Service for Path Vector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.1">
                    <p id="section-toc.1-1.7.2.3.2.1.1"><a class="xref" href="#section-7.3.1">7.3.1</a>.  <a class="xref" href="#name-media-type-2">Media Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.2">
                    <p id="section-toc.1-1.7.2.3.2.2.1"><a class="xref" href="#section-7.3.2">7.3.2</a>.  <a class="xref" href="#name-http-method-2">HTTP Method</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.3">
                    <p id="section-toc.1-1.7.2.3.2.3.1"><a class="xref" href="#section-7.3.3">7.3.3</a>.  <a class="xref" href="#name-accept-input-parameters-2">Accept Input Parameters</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.4">
                    <p id="section-toc.1-1.7.2.3.2.4.1"><a class="xref" href="#section-7.3.4">7.3.4</a>.  <a class="xref" href="#name-capabilities-2">Capabilities</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.5">
                    <p id="section-toc.1-1.7.2.3.2.5.1"><a class="xref" href="#section-7.3.5">7.3.5</a>.  <a class="xref" href="#name-uses-2">Uses</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.6">
                    <p id="section-toc.1-1.7.2.3.2.6.1"><a class="xref" href="#section-7.3.6">7.3.6</a>.  <a class="xref" href="#name-response-2">Response</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-examples-2">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-sample-setup">Sample Setup</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-information-resource-direct">Information Resource Directory</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.  <a class="xref" href="#name-multipart-filtered-cost-map-2">Multipart Filtered Cost Map</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="xref" href="#section-8.4">8.4</a>.  <a class="xref" href="#name-multipart-endpoint-cost-serv">Multipart Endpoint Cost Service Resource</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a class="xref" href="#section-8.5">8.5</a>.  <a class="xref" href="#name-incremental-updates">Incremental Updates</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a class="xref" href="#section-8.6">8.6</a>.  <a class="xref" href="#name-multi-cost">Multi-Cost</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-compatibility-with-other-al">Compatibility with Other ALTO Extensions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-compatibility-with-legacy-a">Compatibility with Legacy ALTO Clients/Servers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-compatibility-with-multi-co">Compatibility with Multi-Cost Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a class="xref" href="#section-9.3">9.3</a>.  <a class="xref" href="#name-compatibility-with-incremen">Compatibility with Incremental Update Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a class="xref" href="#section-9.4">9.4</a>.  <a class="xref" href="#name-compatibility-with-cost-cal">Compatibility with Cost Calendar Extension</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-general-discussion">General Discussion</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-constraint-tests-for-genera">Constraint Tests for General Cost Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-general-multi-resource-quer">General Multi-Resource Query</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>. <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-12">12</a>. <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a class="xref" href="#section-12.1">12.1</a>.  <a class="xref" href="#name-alto-cost-metrics-registry">"ALTO Cost Metrics" Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a class="xref" href="#section-12.2">12.2</a>.  <a class="xref" href="#name-alto-cost-modes-registry">"ALTO Cost Modes" Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a class="xref" href="#section-12.3">12.3</a>.  <a class="xref" href="#name-alto-entity-domain-types-re">"ALTO Entity Domain Types" Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a class="xref" href="#section-12.4">12.4</a>.  <a class="xref" href="#name-alto-entity-property-types-">"ALTO Entity Property Types" Registry</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4.2.1">
                    <p id="section-toc.1-1.12.2.4.2.1.1"><a class="xref" href="#section-12.4.1">12.4.1</a>.  <a class="xref" href="#name-new-ane-property-type-maxim">New ANE Property Type: Maximum Reservable Bandwidth</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4.2.2">
                    <p id="section-toc.1-1.12.2.4.2.2.1"><a class="xref" href="#section-12.4.2">12.4.2</a>.  <a class="xref" href="#name-new-ane-property-type-persi">New ANE Property Type: Persistent Entity ID</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-13">13</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a class="xref" href="#section-13.1">13.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a class="xref" href="#section-13.2">13.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#appendix-A"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">Network performance metrics are crucial for assessing the Quality of Experience
(QoE) of applications. The Application-Layer Traffic Optimization (ALTO) protocol allows Internet Service Providers
(ISPs) to provide guidance, such as topological distances between different end
hosts, to overlay applications. Thus, the overlay applications can potentially
improve the perceived QoE by better orchestrating their traffic to utilize the
resources in the underlying network infrastructure.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The existing ALTO
cost map (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.2.3">Section 11.2.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) and Endpoint Cost Service (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.5">Section 11.5</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) provide only cost information for an end-to-end path defined by
its &lt;source, destination&gt; endpoints: the base protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> allows the
services to expose the topological distances of end-to-end paths, while various
extensions have been proposed to extend the capability of these services, e.g.,
to express other performance metrics <span>[<a class="xref" href="#ALTO-PERF-METRICS">ALTO-PERF-METRICS</a>]</span>, to
query multiple costs simultaneously <span>[<a class="xref" href="#RFC8189">RFC8189</a>]</span>, and to obtain time-varying
values <span>[<a class="xref" href="#RFC8896">RFC8896</a>]</span>.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">While numerical/ordinal cost values for end-to-end paths provided by
the existing extensions are sufficient to optimize the QoE of many
overlay applications, the QoE of some overlay applications also
depends on the properties of particular components on the paths. For example, job completion time, which is an
important QoE metric for a large-scale data analytics application, is impacted
by shared bottleneck links inside the carrier network, as link capacity may
impact the rate of data input/output to the job. We refer to such components of
a network as Abstract Network Elements (ANEs).<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">Predicting such information can be very complex without the help of ISPs; for
example, <span>[<a class="xref" href="#BOXOPT">BOXOPT</a>]</span> has shown that finding the optimal bandwidth reservation for
multiple flows can be NP-hard without further information than whether a
reservation succeeds. With proper guidance from the ISP, an overlay application
may be able to schedule its traffic for better QoE. In the meantime, it may be
helpful as well for ISPs if applications could avoid using bottlenecks or
challenging the network with poorly scheduled traffic.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">Despite the claimed benefits, ISPs are not likely to expose raw details on their network paths: first because ISPs have requirements 
to hide their network topologies, second because these details may 
increase volume and computation overhead, and last because applications 
do not necessarily need all the network path details and are likely not 
able to understand them.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">Therefore, it is beneficial for both ISPs and applications if an ALTO server
provides ALTO clients with an "abstract network state" that provides the
necessary information to applications, while hiding network complexity and
confidential information. An "abstract network state" is a selected set of
abstract representations of ANEs traversed by the paths
between &lt;source, destination&gt; pairs combined with properties of these ANEs that are relevant to the overlay applications' QoE. Both an
application via its ALTO client and the ISP via the ALTO server can achieve
better confidentiality and resource utilization by appropriately abstracting
relevant ANEs. Server scalability can also be improved by
combining ANEs and their properties in a single response.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">This document extends the ALTO base protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> to allow an ALTO server to convey "abstract
network state" for paths defined by their &lt;source, destination&gt; pairs. To this
end, it introduces a new cost type called a "Path Vector", following the cost
metric registration specified in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> and the updated cost mode
registration specified in <span>[<a class="xref" href="#RFC9274">RFC9274</a>]</span>. A Path Vector is an array
of identifiers that identifies an ANE, which can be
associated with various properties. The associations between ANEs and their
properties are encoded in an ALTO information resource called the "entity property
map", which is specified in <span>[<a class="xref" href="#RFC9240">RFC9240</a>]</span>.<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">For better confidentiality, this document aims to minimize information exposure
of an ALTO server when providing Path Vector services. In particular, this
document enables the capability, and also recommends that 1) ANEs be constructed on demand and
2) an ANE only be associated with properties that are requested by an ALTO
client. A Path Vector response involves two ALTO maps: the cost map, which
contains the Path Vector results; and the up-to-date entity property map, which
contains the properties requested for these ANEs. To enforce consistency and
improve server scalability, this document uses the "multipart/related" content
type as defined in <span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span> to return the two maps in a single response.<a class="pilcrow" href="#section-1-8">¶</a></p>
<p id="section-1-9">As a single ISP may not have knowledge of the full Internet paths between
arbitrary endpoints, this document is mainly applicable when<a class="pilcrow" href="#section-1-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-10.1">there is a
single ISP between the requested source and destination Provider-defined Identifiers (PIDs) or endpoints -- for
example, ISP-hosted Content Delivery Network (CDN) / edge, tenant interconnection in a single public cloud
platform, etc., or<a class="pilcrow" href="#section-1-10.1">¶</a>
</li>
        <li class="normal" id="section-1-10.2">the Path Vectors are generated from end-to-end
measurement data.<a class="pilcrow" href="#section-1-10.2">¶</a>
</li>
      </ul>
</section>
</div>
<div id="requirements-languages">
<section id="section-2">
      <h2 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
       "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
       "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
       "<span class="bcp14">SHOULD NOT</span>",
       "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
       "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
       are to be interpreted as described in BCP 14
       <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only
       when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<div id="term">
<section id="section-3">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-3-1">This document extends the ALTO base protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> and the entity
property map extension <span>[<a class="xref" href="#RFC9240">RFC9240</a>]</span>. In addition to
the terms defined in those documents, this document also uses the following
terms:<a class="pilcrow" href="#section-3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-2">
        <dt id="section-3-2.1">
Abstract Network Element (ANE):  </dt>
        <dd id="section-3-2.2" style="margin-left: 1.5em">
          <p id="section-3-2.2.1">An abstract representation for a component in a network that handles data
packets and whose properties can potentially have an impact on the end-to-end
performance of traffic. An ANE can be a physical device such as a router, a
link, or an interface; or an aggregation of devices such as a subnetwork or a
data center.<a class="pilcrow" href="#section-3-2.2.1">¶</a></p>
<p id="section-3-2.2.2">The definition of an ANE is similar to that for a network element
as defined in <span>[<a class="xref" href="#RFC2216">RFC2216</a>]</span> in the sense that they both provide an abstract
representation of specific components of a network. However, they have
different criteria on how these particular components are selected.
Specifically, a network element requires the components to be capable of
exercising QoS control, while an ANE only requires the
components to have an impact on end-to-end performance.<a class="pilcrow" href="#section-3-2.2.2">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">
ANE name:  </dt>
        <dd id="section-3-2.4" style="margin-left: 1.5em">
          <p id="section-3-2.4.1">A string that uniquely identifies an ANE in a specific scope. An ANE
can be constructed either statically in advance or on demand based on the
requested information. Thus, different ANEs may only be valid within a
particular scope, either ephemeral or persistent. Within each scope, an ANE is
uniquely identified by an ANE name, as defined in <a class="xref" href="#ane-name-spec">Section 6.1</a>. Note that
an ALTO client must not assume ANEs in different scopes but with the same ANE
name refer to the same component(s) of the network.<a class="pilcrow" href="#section-3-2.4.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">
Path Vector (or ANE Path Vector):  </dt>
        <dd id="section-3-2.6" style="margin-left: 1.5em">
          <p id="section-3-2.6.1">Refers to a JSON array of ANE names. It is a
generalization of a BGP path vector. While a standard BGP path vector (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4271#section-5.1.2">Section 5.1.2</a> of [<a class="xref" href="#RFC4271">RFC4271</a>]</span>) specifies a sequence of Autonomous Systems (ASes) for a
destination IP prefix, the Path Vector defined in this extension specifies a
sequence of ANEs for either 1) a source PID and a
destination PID, as in the CostMapData object (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.2.3.6">Section 11.2.3.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) or 2) a
source endpoint and a destination endpoint, as in the EndpointCostMapData
object (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.5.1.6">Section 11.5.1.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>).<a class="pilcrow" href="#section-3-2.6.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7">
Path Vector resource:  </dt>
        <dd id="section-3-2.8" style="margin-left: 1.5em">
          <p id="section-3-2.8.1">An ALTO information resource (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.1">Section 8.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) that supports the
extension defined in this document.<a class="pilcrow" href="#section-3-2.8.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.9">
Path Vector cost type:  </dt>
        <dd id="section-3-2.10" style="margin-left: 1.5em">
          <p id="section-3-2.10.1">A special cost type, which is specified in <a class="xref" href="#cost-type-spec">Section 6.5</a>. When this cost
type is present in an Information Resource Directory (IRD) entry, it indicates that the information resource is
a Path Vector resource. When this cost type is present in a filtered cost map
request or an Endpoint Cost Service request, it indicates that each cost value must
be interpreted as a Path Vector.<a class="pilcrow" href="#section-3-2.10.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.11">
Path Vector request:  </dt>
        <dd id="section-3-2.12" style="margin-left: 1.5em">
          <p id="section-3-2.12.1">The POST message sent to an ALTO Path Vector resource.<a class="pilcrow" href="#section-3-2.12.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.13">
Path Vector response:  </dt>
        <dd id="section-3-2.14" style="margin-left: 1.5em">
          <p id="section-3-2.14.1">Refers to the multipart/related message returned by a
Path Vector resource.<a class="pilcrow" href="#section-3-2.14.1">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="probstat">
<section id="section-4">
      <h2 id="name-requirements-and-use-cases">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-requirements-and-use-cases">Requirements and Use Cases</a>
      </h2>
<div id="design-requirements">
<section id="section-4.1">
        <h3 id="name-design-requirements">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-design-requirements">Design Requirements</a>
        </h3>
<p id="section-4.1-1">This section gives an illustrative example of how an overlay application can
benefit from the extension defined in this document.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">Assume that an application has control over a set of flows, which may go through
shared links/nodes and share bottlenecks. The application seeks to schedule the
traffic among multiple flows to get better performance. The constraints of
feasible rate allocations of those flows will benefit the scheduling. However,
cost maps as defined in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> cannot reveal such information.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">Specifically, consider the example network shown in <a class="xref" href="#fig-dumbbell">Figure 1</a>. The network has seven
switches ("sw1" to "sw7") forming a dumbbell topology. Switches "sw1", "sw2", "sw3",
and "sw4" are access switches, and "sw5-sw7" form the backbone. End hosts "eh1" to
"eh4" are connected to access switches "sw1" to "sw4", respectively. Assume that the
bandwidth of link "eh1 -&gt; sw1" and link "sw1 -&gt; sw5" is 150 Mbps and the bandwidth
of the other links is 100 Mbps.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<span id="name-raw-network-topology"></span><div id="fig-dumbbell">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-4.1-4.1">
<pre>                              +-----+
                              |     |
                            --+ sw6 +--
                           /  |     |  \
     PID1 +-----+         /   +-----+   \          +-----+  PID2
     eh1__|     |_       /               \     ____|     |__eh2
192.0.2.2 | sw1 | \   +--|--+         +--|--+ /    | sw2 | 192.0.2.3
          +-----+  \  |     |         |     |/     +-----+
                    \_| sw5 +---------+ sw7 |
     PID3 +-----+   / |     |         |     |\     +-----+  PID4
     eh3__|     |__/  +-----+         +-----+ \____|     |__eh4
192.0.2.4 | sw3 |                                  | sw4 | 192.0.2.5
          +-----+                                  +-----+

bw(eh1--sw1) = bw(sw1--sw5) = 150 Mbps
bw(eh2--sw2) = bw(eh3--sw3) = bw(eh4--sw4) = 100 Mbps
bw(sw1--sw5) = bw(sw3--sw5) = bw(sw2--sw7) = bw(sw4--sw7) = 100 Mbps
bw(sw5--sw6) = bw(sw5--sw7) = bw(sw6--sw7) = 100 Mbps
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-raw-network-topology">Raw Network Topology</a>
          </figcaption></figure>
</div>
<p id="section-4.1-5">The base ALTO topology abstraction of the network is shown in <a class="xref" href="#fig-base">Figure 2</a>.
Assume that the cost map returns a hypothetical cost type representing the available
 bandwidth between a source and a destination.<a class="pilcrow" href="#section-4.1-5">¶</a></p>
<span id="name-base-topology-abstraction"></span><div id="fig-base">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.1-6.1">
<pre>                          +----------------------+
                 {eh1}    |                      |     {eh2}
                 PID1     |                      |     PID2
                   +------+                      +------+
                          |                      |
                          |                      |
                 {eh3}    |                      |     {eh4}
                 PID3     |                      |     PID4
                   +------+                      +------+
                          |                      |
                          +----------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-base-topology-abstraction">Base Topology Abstraction</a>
          </figcaption></figure>
</div>
<p id="section-4.1-7">Now, assume that the application wants to maximize the total rate of the traffic among
a set of &lt;source, destination&gt; pairs -- say, "eh1 -&gt; eh2" and "eh1 -&gt; eh4". Let "x"
denote the transmission rate of "eh1 -&gt; eh2" and "y" denote the rate of "eh1 -&gt;
eh4". The objective function is<a class="pilcrow" href="#section-4.1-7">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-8">
<pre>    max(x + y).
</pre><a class="pilcrow" href="#section-4.1-8">¶</a>
</div>
<p id="section-4.1-9">With the ALTO cost map, the costs between PID1 and PID2 and between PID1 and PID4 will
both be 100 Mbps. The client can get a capacity region of<a class="pilcrow" href="#section-4.1-9">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-10">
<pre>    x &lt;= 100 Mbps
    y &lt;= 100 Mbps.
</pre><a class="pilcrow" href="#section-4.1-10">¶</a>
</div>
<p id="section-4.1-11">With this information, the client may mistakenly think it can achieve a maximum
total rate of 200 Mbps. However, this rate is infeasible, as there are only two
potential cases:<a class="pilcrow" href="#section-4.1-11">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-12">
          <dt id="section-4.1-12.1">Case 1:</dt>
          <dd id="section-4.1-12.2" style="margin-left: 1.5em">
            <p id="section-4.1-12.2.1">"eh1 -&gt; eh2" and "eh1 -&gt; eh4" take different path segments from "sw5" to "sw7". For
example, if "eh1 -&gt; eh2" uses path "eh1 -&gt; sw1 -&gt; sw5 -&gt; sw6 -&gt; sw7 -&gt; sw2 -&gt; eh2"
and "eh1 -&gt; eh4" uses path "eh1 -&gt; sw1 -&gt; sw5 -&gt; sw7 -&gt; sw4 -&gt; eh4", then the shared
bottleneck links are "eh1 -&gt; sw1" and "sw1 -&gt; sw5". In this case, the capacity
region is:<a class="pilcrow" href="#section-4.1-12.2.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-12.2.2">
<pre>    x     &lt;= 100 Mbps
    y     &lt;= 100 Mbps
    x + y &lt;= 150 Mbps
</pre><a class="pilcrow" href="#section-4.1-12.2.2">¶</a>
</div>
<p id="section-4.1-12.2.3">
and the real optimal total rate is 150 Mbps.<a class="pilcrow" href="#section-4.1-12.2.3">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-12.3">Case 2:</dt>
          <dd id="section-4.1-12.4" style="margin-left: 1.5em">
            <p id="section-4.1-12.4.1">"eh1 -&gt; eh2" and "eh1 -&gt; eh4" take the same path segment from "sw5" to "sw7".
For example, if "eh1 -&gt; eh2" uses path "eh1 -&gt; sw1 -&gt; sw5 -&gt; sw7 -&gt; sw2 -&gt; eh2"
and "eh1 -&gt; eh4" also uses path "eh1 -&gt; sw1 -&gt; sw5 -&gt; sw7 -&gt; sw4 -&gt; eh4", then the
shared bottleneck link is "sw5 -&gt; sw7". In this case, the capacity region is:<a class="pilcrow" href="#section-4.1-12.4.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-12.4.2">
<pre>    x     &lt;= 100 Mbps
    y     &lt;= 100 Mbps
    x + y &lt;= 100 Mbps
</pre><a class="pilcrow" href="#section-4.1-12.4.2">¶</a>
</div>
<p id="section-4.1-12.4.3">
and the real optimal total rate is 100 Mbps.<a class="pilcrow" href="#section-4.1-12.4.3">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-13">Clearly, with more accurate and fine-grained information, the application can
better predict its traffic and may orchestrate its resources
accordingly. However, to provide such information, the network needs to expose
abstract information beyond the simple cost map abstraction. In particular:<a class="pilcrow" href="#section-4.1-13">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-14.1">The ALTO server must expose abstract information about the network paths that are
traversed by the traffic between a source and a destination beyond a simple
numerical value, which allows the overlay application to distinguish between
Cases 1 and 2 and to compute the optimal total rate accordingly.<a class="pilcrow" href="#section-4.1-14.1">¶</a>
</li>
          <li class="normal" id="section-4.1-14.2">The ALTO server must allow the client to distinguish the common ANE shared by
"eh1 -&gt; eh2" and "eh1 -&gt; eh4", e.g., "eh1‑‑sw1" and "sw1‑‑sw5" in Case 1.<a class="pilcrow" href="#section-4.1-14.2">¶</a>
</li>
          <li class="normal" id="section-4.1-14.3">The ALTO server must expose abstract information on the properties of the
ANEs used by "eh1 -&gt; eh2" and "eh1 -&gt; eh4". For example, an ALTO server can
either expose the available bandwidth between "eh1‑‑sw1", "sw1‑‑sw5", "sw5‑‑sw7", "sw5‑‑sw6", "sw6‑‑sw7", "sw7‑‑sw2", "sw7‑‑sw4", "sw2‑‑eh2", "sw4‑‑eh4" in Case 1 or expose three abstract elements "A", "B", and "C", which
represent the linear constraints that define the same capacity region in Case
1.<a class="pilcrow" href="#section-4.1-14.3">¶</a>
</li>
        </ul>
<p id="section-4.1-15">In general, we can conclude that to support the use case for multiple flow scheduling, the ALTO framework must be extended to satisfy the following
additional requirements (ARs):<a class="pilcrow" href="#section-4.1-15">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-16">
          <dt id="section-4.1-16.1">
AR1:  </dt>
          <dd id="section-4.1-16.2" style="margin-left: 1.5em">
            <p id="section-4.1-16.2.1">An ALTO server must provide the ANEs that are important for assessing the QoE of
the overlay application on the path of a &lt;source, destination&gt; pair.<a class="pilcrow" href="#section-4.1-16.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-16.3">
AR2:  </dt>
          <dd id="section-4.1-16.4" style="margin-left: 1.5em">
            <p id="section-4.1-16.4.1">An ALTO server must provide information to identify how ANEs are shared on the
paths of different &lt;source, destination&gt; pairs.<a class="pilcrow" href="#section-4.1-16.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-16.5">
AR3:  </dt>
          <dd id="section-4.1-16.6" style="margin-left: 1.5em">
            <p id="section-4.1-16.6.1">An ALTO server must provide information on the properties that are important
for assessing the QoE of the application for ANEs.<a class="pilcrow" href="#section-4.1-16.6.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-17">The extension defined in this document specifies a solution to expose such
abstract information.<a class="pilcrow" href="#section-4.1-17">¶</a></p>
</section>
</div>
<div id="sample-use-cases">
<section id="section-4.2">
        <h3 id="name-sample-use-cases">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-sample-use-cases">Sample Use Cases</a>
        </h3>
<p id="section-4.2-1">While the problem related to multiple flow scheduling is used to help identify the
additional requirements, the extension defined in this document can be applied
to a wide range of applications. This section highlights some of the reported use cases.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<div id="exposing-network-bottlenecks">
<section id="section-4.2.1">
          <h4 id="name-exposing-network-bottleneck">
<a class="section-number selfRef" href="#section-4.2.1">4.2.1. </a><a class="section-name selfRef" href="#name-exposing-network-bottleneck">Exposing Network Bottlenecks</a>
          </h4>
<p id="section-4.2.1-1">One important use case for the Path Vector extension is to expose network
bottlenecks. Applications that need to perform large-scale data transfers can
benefit from being aware of the resource constraints exposed by this extension
even if they have different objectives. One such example is the Worldwide LHC
Computing Grid (WLCG) (where "LHC" means "Large Hadron Collider"), which is the largest example of a distributed computation
collaboration in the research and education world.<a class="pilcrow" href="#section-4.2.1-1">¶</a></p>
<p id="section-4.2.1-2"><a class="xref" href="#fig-da">Figure 3</a> illustrates an example of using an ALTO Path Vector as an interface
between the job optimizer for a data analytics system and the network manager.
In particular, we assume that the objective of the job optimizer is to minimize the
job completion time.<a class="pilcrow" href="#section-4.2.1-2">¶</a></p>
<p id="section-4.2.1-3">In such a setting, the network-aware job optimizer (e.g., <span>[<a class="xref" href="#CLARINET">CLARINET</a>]</span>) takes a
query and generates multiple query execution plans (QEPs). It can encode the QEPs
as Path Vector requests that are sent to an ALTO server. The ALTO server obtains
the routing information for the flows in a QEP and finds links, routers, or
middleboxes (e.g., a stateful firewall) that can potentially become bottlenecks
for the QEP (e.g., see <span>[<a class="xref" href="#NOVA">NOVA</a>]</span> and <span>[<a class="xref" href="#G2">G2</a>]</span> for mechanisms to identify bottleneck
links under different settings). The resource constraint information is encoded
in a Path Vector response and returned to the ALTO client.<a class="pilcrow" href="#section-4.2.1-3">¶</a></p>
<p id="section-4.2.1-4">With the network resource constraints, the job optimizer may choose the QEP with
the optimal job completion time to be executed. It must be noted that the ALTO
framework itself does not offer the capability to control the traffic. However,
certain network managers may offer ways to enforce resource guarantees, such as
on-demand tunnels (e.g., <span>[<a class="xref" href="#SWAN">SWAN</a>]</span>), demand vectors (e.g., <span>[<a class="xref" href="#HUG">HUG</a>]</span>, <span>[<a class="xref" href="#UNICORN">UNICORN</a>]</span>),
etc. The traffic control interfaces and mechanisms are out of scope for this
document.<a class="pilcrow" href="#section-4.2.1-4">¶</a></p>
<span id="name-example-use-case-for-data-a"></span><div id="fig-da">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-4.2.1-5.1">
<pre>                                     Data schema      Queries
                                          |             |
                                          \             /
       +-------------+                   +-----------------+
       | ALTO Client | &lt;===============&gt; |  Job Optimizer  |
       +-------------+                   +-----------------+
PV          |   ^ PV                                    |
Request     |   | Response                              |
            |   |                  On-demand resource   |
(Potential  |   | (Network         allocation, demand   |
Data        |   | Resource         vectors, etc.        |
Transfers)  |   | Constraints)     (Non-ALTO interfaces)|
            v   |                                       v
       +-------------+                   +-----------------+
       | ALTO Server | &lt;===============&gt; | Network Manager |
       +-------------+                   +-----------------+
                                           /      |      \
                                           |      |      |
                                          WAN    DC1    DC2
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-example-use-case-for-data-a">Example Use Case for Data Analytics</a>
            </figcaption></figure>
</div>
<p id="section-4.2.1-6">Another example is illustrated in <a class="xref" href="#fig-dts">Figure 4</a>. Consider a network consisting
of multiple sites and a non-blocking core network, i.e., the links in the core
network have sufficient bandwidth that they will not become a bottleneck for
the data transfers.<a class="pilcrow" href="#section-4.2.1-6">¶</a></p>
<span id="name-example-use-case-for-cross-"></span><div id="fig-dts">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-4.2.1-7.1">
<pre>               Ongoing transfers    New transfer requests
                             \----\        |
                                  |        |
                                  v        v
   +-------------+               +---------------+
   | ALTO Client | &lt;===========&gt; | Data Transfer |
   +-------------+               |   Scheduler   |
     ^ |      ^ | PV Request     +---------------+
     | |      | \--------------\
     | |      \--------------\ |
     | v       PV Response   | v
   +-------------+          +-------------+
   | ALTO Server |          | ALTO Server |
   +-------------+          +-------------+
         ||                       ||
     +---------+              +---------+
     | Network |              | Network |
     | Manager |              | Manager |
     +---------+              +---------+
      .                           .
     .             _~_  __         . . .
    .             (   )(  )             .___
  ~v~v~       /--(         )------------(   )
 (     )-----/    (       )            (     )
  ~w~w~            ~^~^~^~              ~v~v~
 Site 1        Non-blocking Core        Site 2
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-example-use-case-for-cross-">Example Use Case for Cross-Site Bottleneck Discovery</a>
            </figcaption></figure>
</div>
<p id="section-4.2.1-8">With the Path Vector extension, a site can reveal the bottlenecks inside its own
network with necessary information (such as link capacities) to the ALTO client,
instead of providing the full topology and routing information, or no bottleneck
information at all. The bottleneck information can be used to analyze the impact
of adding/removing data transfer flows, e.g., using the framework defined in <span>[<a class="xref" href="#G2">G2</a>]</span>. For
example, assume that hosts "a", "b", and "c" are in Site 1 and hosts "d", "e", and "f" are in
Site 2, and there are three flows in two sites: "a -&gt; b", "c -&gt; d", and "e -&gt; f" (<a class="xref" href="#fig-sbot">Figure 5</a>).<a class="pilcrow" href="#section-4.2.1-8">¶</a></p>
<span id="name-example-three-flows-in-two-"></span><div id="fig-sbot">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-4.2.1-9.1">
<pre>Site 1:

[c]
 .
 ........................................&gt; [d]
  +---+ 10 Gbps +---+ 10 Gbps +----+ 50 Gbps
  | A |---------| B |---------| GW |--------- Core
  +---+         +---+         +----+
 ...................
 .                 .
 .                 v
[a]               [b]

Site 2:

[d] &lt;........................................ [c]
  +---+ 5 Gbps +---+ 10 Gbps +----+ 20 Gbps
  | X |--------| Y |---------| GW |--------- Core
  +---+        +---+         +----+
             ....................
             .                  .
             .                  v
            [e]                [f]
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-example-three-flows-in-two-">Example: Three Flows in Two Sites</a>
            </figcaption></figure>
</div>
<p id="section-4.2.1-10">For
these flows, Site 1 returns:<a class="pilcrow" href="#section-4.2.1-10">¶</a></p>
<div id="section-4.2.1-11">
<pre class="sourcecode">a: { b: [ane1] },
c: { d: [ane1, ane2, ane3] }

ane1: bw = 10 Gbps (link: A-&gt;B)
ane2: bw = 10 Gbps (link: B-&gt;GW)
ane3: bw = 50 Gbps (link: GW-&gt;Core)
</pre><a class="pilcrow" href="#section-4.2.1-11">¶</a>
</div>
<p id="section-4.2.1-12">and Site 2 returns:<a class="pilcrow" href="#section-4.2.1-12">¶</a></p>
<div id="section-4.2.1-13">
<pre class="sourcecode">c: { d: [anei, aneii, aneiii] }
e: { f: [aneiv] }

anei: bw = 5 Gbps (link Y-&gt;X)
aneii: bw = 10 Gbps (link GW-&gt;Y)
aneiii: bw = 20 Gbps (link Core-&gt;GW)
aneiv: bw = 10 Gbps (link Y-&gt;GW)
</pre><a class="pilcrow" href="#section-4.2.1-13">¶</a>
</div>
<p id="section-4.2.1-14">With this information, the data transfer scheduler can use algorithms such as the
theory on bottleneck structure <span>[<a class="xref" href="#G2">G2</a>]</span> to predict the potential throughput of the
flows.<a class="pilcrow" href="#section-4.2.1-14">¶</a></p>
</section>
</div>
<div id="resource-exposure-for-cdn-and-service-edge">
<section id="section-4.2.2">
          <h4 id="name-resource-exposure-for-cdns-">
<a class="section-number selfRef" href="#section-4.2.2">4.2.2. </a><a class="section-name selfRef" href="#name-resource-exposure-for-cdns-">Resource Exposure for CDNs and Service Edges</a>
          </h4>
<p id="section-4.2.2-1">At the time of this writing, a growing trend in today's applications is to bring storage and computation
closer to the end users for better QoE, such as CDNs,
augmented reality / virtual reality, and cloud gaming, as reported in various documents (e.g., <span>[<a class="xref" href="#SEREDGE">SEREDGE</a>]</span> and
<span>[<a class="xref" href="#MOWIE">MOWIE</a>]</span>). ISPs may deploy multiple layers of CDN caches
or, more generally, service edges, with different latencies and available resources,
including the number of CPU cores, memory, and storage.<a class="pilcrow" href="#section-4.2.2-1">¶</a></p>
<p id="section-4.2.2-2">For example, <a class="xref" href="#fig-se">Figure 6</a> illustrates a typical edge-cloud scenario where memory
is measured in gigabytes (GB) and storage is measured in terabytes (TB). The
"on-premise" edge nodes are closest to the end hosts and have the lowest
latency, and the site-radio edge node and access central office (CO) have higher
latencies but more available resources.<a class="pilcrow" href="#section-4.2.2-2">¶</a></p>
<span id="name-example-use-case-for-servic"></span><div id="fig-se">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-4.2.2-3.1">
<pre>      +-------------+              +----------------------+
      | ALTO Client | &lt;==========&gt; | Application Provider |
      +-------------+              +----------------------+
PV         |   ^ PV                      |
Request    |   | Response                | Resource allocation,
           |   |                         | service establishment,
(End hosts |   | (Edge nodes             | etc.
and cloud  |   | and metrics)            |
servers)   |   |                         |
           v   |                         v
      +-------------+             +---------------------+
      | ALTO Server | &lt;=========&gt; | Cloud-Edge Provider |
      +-------------+             +---------------------+
       ____________________________________/\___________
      /                                                 \
      |           (((o                                  |
                     |
                    /_\             _~_            __   __
  a               (/\_/\)          (   )          (  )~(  )_
   \      /------(      )---------(     )----\\---(          )
   _|_   /        (______)         (___)          (          )
   |_| -/         Site-radio     Access CO       (__________)
  /---\          Edge Node 1         |             Cloud DC
On premise                           |
                           /---------/
           (((o           /
              |          /
 Site-radio  /_\        /
Edge Node 2(/\_/\)-----/
          /(_____)\
   ___   /         \   ---
b--|_| -/           \--|_|--c
  /---\               /---\
On premise          On premise
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-example-use-case-for-servic">Example Use Case for Service Edge Exposure</a>
            </figcaption></figure>
</div>
<p id="section-4.2.2-4">With the extension defined in this document, an ALTO server can selectively
reveal the CDNs and service edges that reside along the paths between different
end hosts and/or the cloud servers, together with their properties
(e.g., storage capabilities or Graphics Processing Unit (GPU) capabilities) and available Service Level Agreement (SLA)
plans. See <a class="xref" href="#fig-se-example">Figure 7</a> for an example where the query is made for sources
[a, b] and destinations [b, c, DC]. Here, each ANE represents a service edge, and
the properties include access latency, available resources, etc. Note that the
properties here are only used for illustration purposes and are not part of this
extension.<a class="pilcrow" href="#section-4.2.2-4">¶</a></p>
<span id="name-example-service-edge-query-"></span><div id="fig-se-example">
<figure id="figure-7">
            <div id="section-4.2.2-5.1">
<pre class="sourcecode">a: { b: [ane1, ane2, ane3, ane4, ane5],
     c: [ane1, ane2, ane3, ane4, ane6],
     DC: [ane1, ane2, ane3] }
b: { c: [ane5, ane4, ane6], DC: [ane5, ane4, ane3] }

ane1: latency = 5 ms  cpu = 2  memory = 8 GB  storage = 10 TB
(On premise, a)

ane2: latency = 20 ms  cpu = 4  memory = 8 GB  storage = 10 TB
(Site-radio Edge Node 1)

ane3: latency = 100 ms  cpu = 8  memory = 128 GB  storage = 100 TB
(Access CO)

ane4: latency = 20 ms  cpu = 4  memory = 8 GB  storage = 10 TB
(Site-radio Edge Node 2)

ane5: latency = 5 ms  cpu = 2  memory = 8 GB  storage = 10 TB
(On premise, b)

ane6: latency = 5 ms  cpu = 2  memory = 8 GB  storage = 10 TB
(On premise, c)
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-example-service-edge-query-">Example Service Edge Query Results</a>
            </figcaption></figure>
</div>
<p id="section-4.2.2-6">With the service edge information, an ALTO client may better conduct CDN request
routing or offload functionalities from the user equipment to the service edge,
with considerations in place for customized quality of experience.<a class="pilcrow" href="#section-4.2.2-6">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Overview">
<section id="section-5">
      <h2 id="name-path-vector-extension-overv">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-path-vector-extension-overv">Path Vector Extension: Overview</a>
      </h2>
<p id="section-5-1">This section provides a non-normative overview of the Path Vector extension
defined in this document. It is assumed that readers are familiar with both
the base protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> and the entity property map extension
<span>[<a class="xref" href="#RFC9240">RFC9240</a>]</span>.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">To satisfy the additional requirements listed in <a class="xref" href="#design-requirements">Section 4.1</a>, this extension:<a class="pilcrow" href="#section-5-2">¶</a></p>
<ol class="normal type-1" id="section-5-3" start="1" type="1">
<li id="section-5-3.1">introduces the concept of an ANE as the abstraction
of components in a network whose properties may have an impact on
end-to-end performance of the traffic handled by those components,<a class="pilcrow" href="#section-5-3.1">¶</a>
</li>
        <li id="section-5-3.2">extends the cost map and Endpoint Cost Service to convey the ANEs traversed
by the path of a &lt;source, destination&gt; pair as Path Vectors, and<a class="pilcrow" href="#section-5-3.2">¶</a>
</li>
        <li id="section-5-3.3">uses the entity property map to convey the association between the
ANEs and their properties.<a class="pilcrow" href="#section-5-3.3">¶</a>
</li>
      </ol>
<p id="section-5-4">Thus, an ALTO client can learn about the ANEs that are important for assessing the
QoE of different &lt;source, destination&gt; pairs by investigating the corresponding
Path Vector value (AR1) and can also (1) identify common ANEs if an ANE appears in the Path Vectors of multiple &lt;source, destination&gt; pairs (AR2) and
(2) retrieve the properties of the ANEs by searching the entity property map (AR3).<a class="pilcrow" href="#section-5-4">¶</a></p>
<div id="ane-design">
<section id="section-5.1">
        <h3 id="name-abstract-network-element-an">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-abstract-network-element-an">Abstract Network Element (ANE)</a>
        </h3>
<p id="section-5.1-1">This extension introduces the ANE as an indirect and network-agnostic way to specify
a component or an aggregation of components of a network whose properties have
an impact on end-to-end performance for application traffic between
endpoints.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">ANEs allow ALTO servers to focus on common properties of different types of
network components. For example, the throughput of a flow can be constrained by
different components in a network: the capacity of a physical link, the maximum
throughput of a firewall, the reserved bandwidth of an MPLS tunnel, etc. In the
example below, assume that the throughput of the firewall is 100 Mbps and the
capacity for link (A, B) is also 100 Mbps; they result in the same constraint on
the total throughput of f1 and f2. Thus, they are identical when treated as an
ANE.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-3">
<pre>   f1 |      ^                  f1
      |      |                 -----------------&gt;
    +----------+                +---+     +---+
    | Firewall |                | A |-----| B |
    +----------+                +---+     +---+
      |      |                 -----------------&gt;
      v      | f2               f2
</pre><a class="pilcrow" href="#section-5.1-3">¶</a>
</div>
<p id="section-5.1-4">When an ANE is defined by an ALTO server, it is assigned an identifier by the
ALTO server, i.e., a string of type ANEName as specified in <a class="xref" href="#ane-name-spec">Section 6.1</a>,
and a set of associated properties.<a class="pilcrow" href="#section-5.1-4">¶</a></p>
<div id="ane-entity-domain">
<section id="section-5.1.1">
          <h4 id="name-ane-entity-domain">
<a class="section-number selfRef" href="#section-5.1.1">5.1.1. </a><a class="section-name selfRef" href="#name-ane-entity-domain">ANE Entity Domain</a>
          </h4>
<p id="section-5.1.1-1">In this extension, the associations between ANEs and their properties are conveyed
in an entity property map.  Thus, ANEs must constitute an "entity domain" (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-5.1">Section 5.1</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>), and each ANE property must be an
entity property (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-5.2">Section 5.2</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>).<a class="pilcrow" href="#section-5.1.1-1">¶</a></p>
<p id="section-5.1.1-2">Specifically, this document defines a new entity domain called "ane" as
specified in <a class="xref" href="#ane-domain-spec">Section 6.2</a>; <a class="xref" href="#initial-ane-property-types">Section 6.4</a> defines two initial property types for the ANE
entity domain.<a class="pilcrow" href="#section-5.1.1-2">¶</a></p>
</section>
</div>
<div id="assoc">
<section id="section-5.1.2">
          <h4 id="name-ephemeral-and-persistent-an">
<a class="section-number selfRef" href="#section-5.1.2">5.1.2. </a><a class="section-name selfRef" href="#name-ephemeral-and-persistent-an">Ephemeral and Persistent ANEs</a>
          </h4>
<p id="section-5.1.2-1">By design, ANEs are ephemeral and not to be used in further requests to other
ALTO resources. More precisely, the corresponding ANE names are no longer valid
beyond the scope of a Path Vector response or the incremental update stream
for a Path Vector request. Compared with globally unique ANE names, ephemeral
ANEs have several benefits, including better privacy for the ISP's internal
structure and more flexible ANE computation.<a class="pilcrow" href="#section-5.1.2-1">¶</a></p>
<p id="section-5.1.2-2">For example, an ALTO server may define an ANE for each aggregated bottleneck
link between the sources and destinations specified in the request. For requests
with different sources and destinations, the bottlenecks may be different but
can safely reuse the same ANE names. The client can still adjust its traffic
based on the information, but it is difficult to infer the underlying topology with
multiple queries.<a class="pilcrow" href="#section-5.1.2-2">¶</a></p>
<p id="section-5.1.2-3">However, sometimes an ISP may intend to selectively reveal some "persistent"
network components that, as opposed to being ephemeral, have a longer life cycle.
For example, an ALTO server may define an ANE for each service edge cluster.
Once a client chooses to use a service edge, e.g., by deploying some
user-defined functions, it may want to stick to the service edge to avoid the
complexity of state transition or synchronization, and continuously query the
properties of the edge cluster.<a class="pilcrow" href="#section-5.1.2-3">¶</a></p>
<p id="section-5.1.2-4">This document provides a mechanism to expose such network components as
persistent ANEs. A persistent ANE has a persistent ID that is registered in a
property map, together with its properties. See Sections <a class="xref" href="#domain-defining">6.2.4</a> and
<a class="xref" href="#persistent-entity-id">6.4.2</a> for more detailed instructions on how to identify
ephemeral ANEs and persistent ANEs.<a class="pilcrow" href="#section-5.1.2-4">¶</a></p>
</section>
</div>
<div id="property-filtering">
<section id="section-5.1.3">
          <h4 id="name-property-filtering">
<a class="section-number selfRef" href="#section-5.1.3">5.1.3. </a><a class="section-name selfRef" href="#name-property-filtering">Property Filtering</a>
          </h4>
<p id="section-5.1.3-1">Resource-constrained ALTO clients (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-4.1.2">Section 4.1.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) may benefit
from the filtering of Path Vector query results at the ALTO server, as an ALTO
client may only require a subset of the available properties.<a class="pilcrow" href="#section-5.1.3-1">¶</a></p>
<p id="section-5.1.3-2">Specifically, the available properties for a given resource are announced in the
Information Resource Directory (IRD) as a new filtering capability called "ane-property-names".
The properties selected by a client as being of interest are specified in the
subsequent Path Vector queries using the "ane-property-names" filter. The
response only includes the selected properties for the ANEs.<a class="pilcrow" href="#section-5.1.3-2">¶</a></p>
<p id="section-5.1.3-3">The "ane-property-names" capability for the cost map and the Endpoint Cost Service
is specified in Sections <a class="xref" href="#pvcm-cap">7.2.4</a> and <a class="xref" href="#pvecs-cap">7.3.4</a>, respectively. The
"ane-property-names" filter for the cost map and the Endpoint Cost Service is specified
in Sections <a class="xref" href="#pvcm-accept">7.2.3</a> and <a class="xref" href="#pvecs-accept">7.3.3</a> accordingly.<a class="pilcrow" href="#section-5.1.3-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="path-vector-design">
<section id="section-5.2">
        <h3 id="name-path-vector-cost-type">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-path-vector-cost-type">Path Vector Cost Type</a>
        </h3>
<p id="section-5.2-1">For an ALTO client to correctly interpret the Path Vector, this extension
specifies a new cost type called the "Path Vector cost type".<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">The Path Vector cost type must convey both the interpretation and semantics in
the "cost-mode" and "cost-metric" parameters, respectively. Unfortunately, a single
"cost-mode" value cannot fully specify the interpretation of a Path Vector,
which is a compound data type. For example, in programming languages such as C++,
if there existed a JSON array type named JSONArray, a Path Vector would have
the type of <code>JSONArray&lt;ANEName&gt;</code>.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">Instead of extending the "type system" of ALTO, this document takes a simple
and backward-compatible approach. Specifically, the "cost-mode" of the Path
Vector cost type is "array", which indicates that the value is a JSON array. Then, an
ALTO client must check the value of the "cost-metric" parameter. If the value is
"ane-path", it means that the JSON array should be further interpreted as a path
of ANENames.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<p id="section-5.2-4">The Path Vector cost type is specified in <a class="xref" href="#cost-type-spec">Section 6.5</a>.<a class="pilcrow" href="#section-5.2-4">¶</a></p>
</section>
</div>
<div id="multipart-path-vector-response">
<section id="section-5.3">
        <h3 id="name-multipart-path-vector-respo">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-multipart-path-vector-respo">Multipart Path Vector Response</a>
        </h3>
<p id="section-5.3-1">For a basic ALTO information resource, a response contains only one type of
ALTO resource, e.g., network map, cost map, or property map.  Thus, only one
round of communication is required: an ALTO client sends a request to an ALTO
server, and the ALTO server returns a response, as shown in <a class="xref" href="#fig-alto">Figure 8</a>.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<span id="name-a-typical-alto-request-and-"></span><div id="fig-alto">
<figure id="figure-8">
          <div class="alignCenter art-text artwork" id="section-5.3-2.1">
<pre>  ALTO client                              ALTO server
       |-------------- Request ----------------&gt;|
       |&lt;------------- Response ----------------|
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-a-typical-alto-request-and-">A Typical ALTO Request and Response</a>
          </figcaption></figure>
</div>
<p id="section-5.3-3">The extension defined in this document, on the other hand, involves two types of
information resources: Path Vectors conveyed in an InfoResourceCostMap data component (defined
in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.2.3.6">Section 11.2.3.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) or an InfoResourceEndpointCostMap data component (defined
in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.5.1.6">Section 11.5.1.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>), and ANE properties conveyed in an
InfoResourceProperties data component (defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-7.6">Section 7.6</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>).<a class="pilcrow" href="#section-5.3-3">¶</a></p>
<p id="section-5.3-4">Instead of two consecutive message exchanges, the extension defined in this
document enforces one round of communication. Specifically, the ALTO client must
include the source and destination pairs and the requested ANE properties in a
single request, and the ALTO server must return a single response containing
both the Path Vectors and properties associated with the ANEs in the Path
Vectors, as shown in <a class="xref" href="#fig-pv">Figure 9</a>. Since the two parts are bundled together in one
response message, their orders are interchangeable. See Sections <a class="xref" href="#pvcm-resp">7.2.6</a> and
<a class="xref" href="#pvecs-resp">7.3.6</a> for details.<a class="pilcrow" href="#section-5.3-4">¶</a></p>
<span id="name-the-path-vector-extension-r"></span><div id="fig-pv">
<figure id="figure-9">
          <div class="alignCenter art-text artwork" id="section-5.3-5.1">
<pre>  ALTO client                              ALTO server
       |------------- PV Request --------------&gt;|
       |&lt;----- PV Response (Cost Map Part) -----|
       |&lt;--- PV Response (Property Map Part) ---|
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-the-path-vector-extension-r">The Path Vector Extension Request and Response</a>
          </figcaption></figure>
</div>
<p id="section-5.3-6">This design is based on the following considerations:<a class="pilcrow" href="#section-5.3-6">¶</a></p>
<ol class="normal type-1" id="section-5.3-7" start="1" type="1">
<li id="section-5.3-7.1">ANEs may be constructed on demand and, potentially, based on the
requested properties (see <a class="xref" href="#ane-design">Section 5.1</a> for more details). If sources and
destinations are not in the same request as the properties, an ALTO server
either cannot construct ANEs on demand or must wait until both requests are
received.<a class="pilcrow" href="#section-5.3-7.1">¶</a>
</li>
          <li id="section-5.3-7.2">As ANEs may be constructed on demand, mappings of each ANE to its underlying
network devices and resources can be specific to the request. In order
to respond to the property map request correctly, an ALTO server must store
the mapping of each Path Vector request until the client fully retrieves the
property information. This "stateful" behavior may substantially harm
server scalability and potentially lead to denial-of-service attacks.<a class="pilcrow" href="#section-5.3-7.2">¶</a>
</li>
        </ol>
<p id="section-5.3-8">One approach for realizing the one-round communication is to define a new media
type to contain both objects, but this violates modular design. This document
follows the standard-conforming usage of the "multipart/related" media type as defined
in <span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span> to elegantly combine the objects. Path Vectors are encoded in an
InfoResourceCostMap data component or InfoResourceEndpointCostMap data component, and the property map is
encoded in an InfoResourceProperties data component. They are encapsulated as parts of a
multipart message. This modular composition allows ALTO servers and clients to
reuse the data models of the existing information resources. Specifically, this
document addresses the following practical issues using "multipart/related".<a class="pilcrow" href="#section-5.3-8">¶</a></p>
<div id="identifying-the-media-type-of-the-root-object">
<section id="section-5.3.1">
          <h4 id="name-identifying-the-media-type-">
<a class="section-number selfRef" href="#section-5.3.1">5.3.1. </a><a class="section-name selfRef" href="#name-identifying-the-media-type-">Identifying the Media Type of the Object Root</a>
          </h4>
<p id="section-5.3.1-1">ALTO uses a media type to indicate the type of an entry in the IRD (e.g., "application/alto-costmap+json" for the cost map
and "application/alto-endpointcost+json" for the Endpoint Cost Service). Simply
using "multipart/related" as the media type, however, makes it impossible
for an ALTO client to identify the type of service provided by related
entries.<a class="pilcrow" href="#section-5.3.1-1">¶</a></p>
<p id="section-5.3.1-2">To address this issue, this document uses the "type" parameter to indicate the
object root of a multipart/related message. For a cost map resource, the
"media-type" field in the IRD entry is "multipart/related" with the parameter
"type=application/alto-costmap+json"; for an Endpoint Cost Service, the
parameter is "type=application/alto-endpointcost+json".<a class="pilcrow" href="#section-5.3.1-2">¶</a></p>
</section>
</div>
<div id="ref-partmsg-design">
<section id="section-5.3.2">
          <h4 id="name-references-to-part-messages">
<a class="section-number selfRef" href="#section-5.3.2">5.3.2. </a><a class="section-name selfRef" href="#name-references-to-part-messages">References to Part Messages</a>
          </h4>
<p id="section-5.3.2-1">As the response of a Path Vector resource is a multipart message with two
different parts, it is important that each part can be uniquely identified.
Following the design provided in <span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span>, this extension requires that an ALTO
server assign a unique identifier to each part of the multipart response
message. This identifier, referred to as a Part Resource ID (see
<a class="xref" href="#part-rid-spec">Section 6.6</a> for details), is present in the part message's "Content-ID"
header field. By concatenating the Part Resource ID to the identifier of the Path
Vector request, an ALTO server/client can uniquely identify the Path Vector part
or the property map part.<a class="pilcrow" href="#section-5.3.2-1">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Basic">
<section id="section-6">
      <h2 id="name-specification-basic-data-ty">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-specification-basic-data-ty">Specification: Basic Data Types</a>
      </h2>
<div id="ane-name-spec">
<section id="section-6.1">
        <h3 id="name-ane-name">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-ane-name">ANE Name</a>
        </h3>
<p id="section-6.1-1">An ANE name is encoded as a JSON string with the same format as that of the type
PIDName (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.1">Section 10.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>).<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">The type ANEName is used in this document to indicate a string of this
format.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
</section>
</div>
<div id="ane-domain-spec">
<section id="section-6.2">
        <h3 id="name-ane-entity-domain-2">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-ane-entity-domain-2">ANE Entity Domain</a>
        </h3>
<p id="section-6.2-1">The ANE entity domain associates property values with the ANEs in a property map.  Accordingly, the ANE entity domain always depends on
a property map.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<p id="section-6.2-2">It must be noted that the term "domain" here does not refer to a network domain.
Rather, it is inherited from the entity domain as defined in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-3.2">Section 3.2</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>; the entity domain represents the set of valid entities
defined by an ALTO information resource (called the "defining information
resource").<a class="pilcrow" href="#section-6.2-2">¶</a></p>
<div id="domain-type">
<section id="section-6.2.1">
          <h4 id="name-entity-domain-type">
<a class="section-number selfRef" href="#section-6.2.1">6.2.1. </a><a class="section-name selfRef" href="#name-entity-domain-type">Entity Domain Type</a>
          </h4>
<p id="section-6.2.1-1">The entity domain type is "ane".<a class="pilcrow" href="#section-6.2.1-1">¶</a></p>
</section>
</div>
<div id="entity-address">
<section id="section-6.2.2">
          <h4 id="name-domain-specific-entity-iden">
<a class="section-number selfRef" href="#section-6.2.2">6.2.2. </a><a class="section-name selfRef" href="#name-domain-specific-entity-iden">Domain-Specific Entity Identifier</a>
          </h4>
<p id="section-6.2.2-1">The entity identifiers are the ANE names in the associated property map.<a class="pilcrow" href="#section-6.2.2-1">¶</a></p>
</section>
</div>
<div id="hierarchy-and-inheritance">
<section id="section-6.2.3">
          <h4 id="name-hierarchy-and-inheritance">
<a class="section-number selfRef" href="#section-6.2.3">6.2.3. </a><a class="section-name selfRef" href="#name-hierarchy-and-inheritance">Hierarchy and Inheritance</a>
          </h4>
<p id="section-6.2.3-1">There is no hierarchy or inheritance for properties associated with ANEs.<a class="pilcrow" href="#section-6.2.3-1">¶</a></p>
</section>
</div>
<div id="domain-defining">
<section id="section-6.2.4">
          <h4 id="name-media-type-of-defining-reso">
<a class="section-number selfRef" href="#section-6.2.4">6.2.4. </a><a class="section-name selfRef" href="#name-media-type-of-defining-reso">Media Type of Defining Resource</a>
          </h4>
<p id="section-6.2.4-1">The defining resource for entity domain type "ane" <span class="bcp14">MUST</span> be a property map, i.e.,
the media type of defining resources is:<a class="pilcrow" href="#section-6.2.4-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-2">
<pre>application/alto-propmap+json
</pre><a class="pilcrow" href="#section-6.2.4-2">¶</a>
</div>
<p id="section-6.2.4-3">Specifically, for ephemeral ANEs that appear in a Path Vector response, their
entity domain names <span class="bcp14">MUST</span> be exactly ".ane", and the defining resource of these
ANEs is the property map part of the multipart response. Meanwhile, for any
persistent ANE whose defining resource is a property map resource, its entity
domain name <span class="bcp14">MUST</span> have the format of "PROPMAP.ane", where PROPMAP is the resource
ID of the defining resource. Persistent entities are "persistent" because
standalone queries can be made by an ALTO client to their defining resource(s)
when the connection to the Path Vector service is closed.<a class="pilcrow" href="#section-6.2.4-3">¶</a></p>
<p id="section-6.2.4-4">For example, the defining resource of an ephemeral ANE whose entity identifier
is ".ane:NET1" is the property map part that contains this identifier. The
defining resource of a persistent ANE whose entity identifier is
"dc-props.ane:DC1" is the property map with the resource ID "dc-props".<a class="pilcrow" href="#section-6.2.4-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ane-prop-name-spec">
<section id="section-6.3">
        <h3 id="name-ane-property-name">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-ane-property-name">ANE Property Name</a>
        </h3>
<p id="section-6.3-1">An ANE property name is encoded as a JSON string with the same format as that of an
entity property name (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-5.2.2">Section 5.2.2</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>).<a class="pilcrow" href="#section-6.3-1">¶</a></p>
</section>
</div>
<div id="initial-ane-property-types">
<section id="section-6.4">
        <h3 id="name-initial-ane-property-types">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-initial-ane-property-types">Initial ANE Property Types</a>
        </h3>
<p id="section-6.4-1">Two initial ANE property types are specified: "max-reservable-bandwidth" and
"persistent-entity-id".<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<p id="section-6.4-2">Note that these property types do not depend on any information resources. As
such, the "EntityPropertyName" parameter <span class="bcp14">MUST</span> only have the EntityPropertyType part.<a class="pilcrow" href="#section-6.4-2">¶</a></p>
<div id="maxresbw">
<section id="section-6.4.1">
          <h4 id="name-maximum-reservable-bandwidt">
<a class="section-number selfRef" href="#section-6.4.1">6.4.1. </a><a class="section-name selfRef" href="#name-maximum-reservable-bandwidt">Maximum Reservable Bandwidth</a>
          </h4>
<p id="section-6.4.1-1">The maximum reservable bandwidth property ("max-reservable-bandwidth") stands
for the maximum bandwidth that can be reserved for all the traffic that
traverses an ANE. The value <span class="bcp14">MUST</span> be encoded as a non-negative numerical cost
value as defined in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-6.1.2.1">Section 6.1.2.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, and the unit is bits per
second (bps). If this property is requested by the ALTO client but is not present
for an ANE in the server response, it <span class="bcp14">MUST</span> be interpreted as meaning that the property
is not defined for the ANE.<a class="pilcrow" href="#section-6.4.1-1">¶</a></p>
<p id="section-6.4.1-2">This property can be offered in a setting where the ALTO server is part of a
network system that provides on-demand resource allocation and the ALTO client
is part of a user application. One existing example is <span>[<a class="xref" href="#NOVA">NOVA</a>]</span>: the ALTO server
is part of a Software-Defined Networking (SDN) controller and exposes a list of traversed network elements
and associated link bandwidth to the client. The encoding in <span>[<a class="xref" href="#NOVA">NOVA</a>]</span> differs
from the Path Vector response defined in this document in that the Path Vector part
and property map part are placed in the same JSON object.<a class="pilcrow" href="#section-6.4.1-2">¶</a></p>
<p id="section-6.4.1-3">In such a framework, the ALTO server exposes resource
availability information (e.g., reservable bandwidth) to the ALTO client. How the client makes resource
requests based on the information, and how the resource allocation is achieved,
respectively, depend on interfaces between the management system and the users or
a higher-layer protocol (e.g., SDN network intents <span>[<a class="xref" href="#INTENT-BASED-NETWORKING">INTENT-BASED-NETWORKING</a>]</span> or MPLS tunnels), which are
out of scope for this document.<a class="pilcrow" href="#section-6.4.1-3">¶</a></p>
</section>
</div>
<div id="persistent-entity-id">
<section id="section-6.4.2">
          <h4 id="name-persistent-entity-id">
<a class="section-number selfRef" href="#section-6.4.2">6.4.2. </a><a class="section-name selfRef" href="#name-persistent-entity-id">Persistent Entity ID</a>
          </h4>
<p id="section-6.4.2-1">This document enables the discovery of a persistent ANE by exposing its
entity identifier as the persistent entity ID property of an ephemeral ANE in the path
vector response. The value of this property is encoded with the EntityID format defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-5.1.3">Section 5.1.3</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>.<a class="pilcrow" href="#section-6.4.2-1">¶</a></p>
<p id="section-6.4.2-2">In this format, the entity ID combines:<a class="pilcrow" href="#section-6.4.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.4.2-3.1">a defining information resource for the ANE on which a
"persistent-entity-id" is queried, which is the property map resource
defining the ANE as a persistent entity, together with the properties.<a class="pilcrow" href="#section-6.4.2-3.1">¶</a>
</li>
            <li class="normal" id="section-6.4.2-3.2">the persistent name of the ANE in that property map.<a class="pilcrow" href="#section-6.4.2-3.2">¶</a>
</li>
          </ul>
<p id="section-6.4.2-4">With this format, the client has all the needed information for further
standalone query properties on the persistent ANE.<a class="pilcrow" href="#section-6.4.2-4">¶</a></p>
</section>
</div>
<div id="examples">
<section id="section-6.4.3">
          <h4 id="name-examples">
<a class="section-number selfRef" href="#section-6.4.3">6.4.3. </a><a class="section-name selfRef" href="#name-examples">Examples</a>
          </h4>
<p id="section-6.4.3-1">To illustrate the use of "max-reservable-bandwidth", consider the following
network with five nodes. Assume that the client wants to query the maximum reservable
bandwidth from H1 to H2. An ALTO server may split the network into two ANEs:
"ane1", which represents the subnetwork with routers A, B, and C; and "ane2", which
represents the subnetwork with routers B, D, and E. The maximum reservable
bandwidth for "ane1" is 15 Mbps (using path A-&gt;C-&gt;B), and the maximum reservable
bandwidth for "ane2" is 20 Mbps (using path B-&gt;D-&gt;E).<a class="pilcrow" href="#section-6.4.3-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.4.3-2">
<pre>                     20 Mbps  20 Mbps
          10 Mbps +---+   +---+    +---+
             /----| B |---| D |----| E |---- H2
       +---+/     +---+   +---+    +---+
H1 ----| A | 15 Mbps|
       +---+\     +---+
             \----| C |
          15 Mbps +---+
</pre><a class="pilcrow" href="#section-6.4.3-2">¶</a>
</div>
<p id="section-6.4.3-3">To illustrate the use of "persistent-entity-id", consider the scenario in
<a class="xref" href="#fig-se">Figure 6</a>. As the life cycles of service edges are typically long, the service edges may
contain information that is not specific to the query. Such information can be
stored in an individual entity property map and can later be accessed by an ALTO
client.<a class="pilcrow" href="#section-6.4.3-3">¶</a></p>
<p id="section-6.4.3-4">For example, "ane1" in <a class="xref" href="#fig-se-example">Figure 7</a> represents the on-premise service edge
closest to host "a". Assume that the properties of the service edges are provided in
an entity property map called "se-props" and the ID of the on-premise service
edge is "9a0b55f7-7442-4d56-8a2c-b4cc6a8e3aa1"; the "persistent-entity-id" setting for
"ane1" will be "se-props.ane:9a0b55f7-7442-4d56-8a2c-b4cc6a8e3aa1". With this
persistent entity ID, an ALTO client may send queries to the "se-props" resource
with the entity ID ".ane:9a0b55f7-7442-4d56-8a2c-b4cc6a8e3aa1".<a class="pilcrow" href="#section-6.4.3-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="cost-type-spec">
<section id="section-6.5">
        <h3 id="name-path-vector-cost-type-2">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-path-vector-cost-type-2">Path Vector Cost Type</a>
        </h3>
<p id="section-6.5-1">This document defines a new cost type, which is referred to as the Path Vector
cost type. An ALTO server <span class="bcp14">MUST</span> offer this cost type if it supports the extension
defined in this document.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
<div id="metric-spec">
<section id="section-6.5.1">
          <h4 id="name-cost-metric-ane-path">
<a class="section-number selfRef" href="#section-6.5.1">6.5.1. </a><a class="section-name selfRef" href="#name-cost-metric-ane-path">Cost Metric: "ane-path"</a>
          </h4>
<p id="section-6.5.1-1">The cost metric "ane-path" indicates that the value of such a cost type conveys an
array of ANE names, where each ANE name uniquely represents an ANE traversed by
traffic from a source to a destination.<a class="pilcrow" href="#section-6.5.1-1">¶</a></p>
<p id="section-6.5.1-2">An ALTO client <span class="bcp14">MUST</span> interpret the Path Vector as if the traffic between a source
and a destination logically traverses the ANEs in the same order as they appear
in the Path Vector.<a class="pilcrow" href="#section-6.5.1-2">¶</a></p>
<p id="section-6.5.1-3">When the Path Vector procedures defined in this document are in use, an ALTO
server using the "ane-path" cost metric and the "array" cost mode (see
<a class="xref" href="#mode-spec">Section 6.5.2</a>) <span class="bcp14">MUST</span> return as the cost value a JSON array of data type ANEName, and the
client <span class="bcp14">MUST</span> also check that each element contained in the array is an ANEName
(<a class="xref" href="#ane-name-spec">Section 6.1</a>). Otherwise, the client <span class="bcp14">MUST</span> discard the response and <span class="bcp14">SHOULD</span>
follow the guidance in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.3.4.3">Section 8.3.4.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> to handle the error.<a class="pilcrow" href="#section-6.5.1-3">¶</a></p>
</section>
</div>
<div id="mode-spec">
<section id="section-6.5.2">
          <h4 id="name-cost-mode-array">
<a class="section-number selfRef" href="#section-6.5.2">6.5.2. </a><a class="section-name selfRef" href="#name-cost-mode-array">Cost Mode: "array"</a>
          </h4>
<p id="section-6.5.2-1">The cost mode "array" indicates that every cost value in the response body of a
(filtered) cost map or an Endpoint Cost Service <span class="bcp14">MUST</span> be interpreted as a JSON
array object. While this cost mode can be applied to all cost metrics,
additional specifications will be needed to clarify the semantics of the "array"
cost mode when combined with cost metrics other than "ane-path".<a class="pilcrow" href="#section-6.5.2-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="part-rid-spec">
<section id="section-6.6">
        <h3 id="name-part-resource-id-and-part-c">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-part-resource-id-and-part-c">Part Resource ID and Part Content ID</a>
        </h3>
<p id="section-6.6-1">A Part Resource ID is encoded as a JSON string with the same format as that of the
type ResourceID (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.2">Section 10.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>).<a class="pilcrow" href="#section-6.6-1">¶</a></p>
<p id="section-6.6-2">Even though the "client-id" assigned to a Path Vector request and the Part
Resource ID <span class="bcp14">MAY</span> contain up to 64 characters by their own definition, their
concatenation (see <a class="xref" href="#ref-partmsg-design">Section 5.3.2</a>) <span class="bcp14">MUST</span> also conform to the same length
constraint. The same requirement applies to the resource ID of the Path Vector
resource, too. Thus, it is <span class="bcp14">RECOMMENDED</span> to limit the length of the resource ID and
client ID related to a Path Vector resource to 31 characters.<a class="pilcrow" href="#section-6.6-2">¶</a></p>
<p id="section-6.6-3">A Part Content ID conforms to the format of "msg-id" as specified in
<span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span> and <span>[<a class="xref" href="#RFC5322">RFC5322</a>]</span>. Specifically, it has the following format:<a class="pilcrow" href="#section-6.6-3">¶</a></p>
<p id="section-6.6-4">"&lt;" PART-RESOURCE-ID "@" DOMAIN-NAME "&gt;"<a class="pilcrow" href="#section-6.6-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.6-5">
          <dt id="section-6.6-5.1">
PART-RESOURCE-ID:  </dt>
          <dd id="section-6.6-5.2" style="margin-left: 1.5em">
            <p id="section-6.6-5.2.1">PART-RESOURCE-ID has the same format as the Part Resource ID. It is used to
identify whether a part message is a Path Vector or a property map.<a class="pilcrow" href="#section-6.6-5.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.6-5.3">
DOMAIN-NAME:  </dt>
          <dd id="section-6.6-5.4" style="margin-left: 1.5em">
            <p id="section-6.6-5.4.1">DOMAIN-NAME has the same format as "dot-atom-text" as specified in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc5322#section-3.2.3">Section 3.2.3</a> of [<a class="xref" href="#RFC5322">RFC5322</a>]</span>. It must be the domain name of the ALTO server.<a class="pilcrow" href="#section-6.6-5.4.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="Services">
<section id="section-7">
      <h2 id="name-specification-service-exten">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-specification-service-exten">Specification: Service Extensions</a>
      </h2>
<div id="notation">
<section id="section-7.1">
        <h3 id="name-notation">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-notation">Notation</a>
        </h3>
<p id="section-7.1-1">This document uses the same syntax and notation as those introduced in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.2">Section 8.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> to specify the extensions to existing ALTO resources and
services.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
</section>
</div>
<div id="pvcm-spec">
<section id="section-7.2">
        <h3 id="name-multipart-filtered-cost-map">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-multipart-filtered-cost-map">Multipart Filtered Cost Map for Path Vector</a>
        </h3>
<p id="section-7.2-1">This document introduces a new ALTO resource called the "multipart filtered cost map
resource", which allows an ALTO server to provide other ALTO resources associated
with the cost map resource in the same response.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<div id="media-type">
<section id="section-7.2.1">
          <h4 id="name-media-type">
<a class="section-number selfRef" href="#section-7.2.1">7.2.1. </a><a class="section-name selfRef" href="#name-media-type">Media Type</a>
          </h4>
<p id="section-7.2.1-1">The media type of the multipart filtered cost map resource is
"multipart/related", and the required "type" parameter <span class="bcp14">MUST</span> have
a value of "application/alto-costmap+json".<a class="pilcrow" href="#section-7.2.1-1">¶</a></p>
</section>
</div>
<div id="http-method">
<section id="section-7.2.2">
          <h4 id="name-http-method">
<a class="section-number selfRef" href="#section-7.2.2">7.2.2. </a><a class="section-name selfRef" href="#name-http-method">HTTP Method</a>
          </h4>
<p id="section-7.2.2-1">The multipart filtered cost map is requested using the HTTP POST method.<a class="pilcrow" href="#section-7.2.2-1">¶</a></p>
</section>
</div>
<div id="pvcm-accept">
<section id="section-7.2.3">
          <h4 id="name-accept-input-parameters">
<a class="section-number selfRef" href="#section-7.2.3">7.2.3. </a><a class="section-name selfRef" href="#name-accept-input-parameters">Accept Input Parameters</a>
          </h4>
<p id="section-7.2.3-1">The input parameters of the multipart filtered cost map are supplied in the body
of an HTTP POST request. This document extends the input parameters to a
filtered cost map, which is defined as a JSON object of type
ReqFilteredCostMap in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8189#section-4.1.2">Section 4.1.2</a> of [<a class="xref" href="#RFC8189">RFC8189</a>]</span>, with a data
format indicated by the media type "application/alto-costmapfilter+json", which
is a JSON object of type PVReqFilteredCostMap:<a class="pilcrow" href="#section-7.2.3-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2.3-2">
<pre>object {
  [EntityPropertyName ane-property-names&lt;0..*&gt;;]
} PVReqFilteredCostMap : ReqFilteredCostMap;
</pre><a class="pilcrow" href="#section-7.2.3-2">¶</a>
</div>
<p id="section-7.2.3-3">with field:<a class="pilcrow" href="#section-7.2.3-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.3-4">
            <dt id="section-7.2.3-4.1">
ane-property-names:  </dt>
            <dd id="section-7.2.3-4.2" style="margin-left: 1.5em">
              <p id="section-7.2.3-4.2.1">This field provides a list of selected ANE properties to be included in the response. Each
property in this list <span class="bcp14">MUST</span> match one of the supported ANE properties indicated
in the resource's "ane-property-names" capability (<a class="xref" href="#pvcm-cap">Section 7.2.4</a>). If the
field is not present, it <span class="bcp14">MUST</span> be interpreted as an empty list.<a class="pilcrow" href="#section-7.2.3-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.2.3-5">Example: Consider the network in <a class="xref" href="#fig-dumbbell">Figure 1</a>. If an ALTO client wants to
query the "max-reservable-bandwidth" setting between PID1 and PID2, it can submit the
following request.<a class="pilcrow" href="#section-7.2.3-5">¶</a></p>
<div id="section-7.2.3-6">
<pre class="lang-http-message sourcecode">   POST /costmap/pv HTTP/1.1
   Host: alto.example.com
   Accept: multipart/related;type=application/alto-costmap+json,
           application/alto-error+json
   Content-Length: 212
   Content-Type: application/alto-costmapfilter+json

   {
     "cost-type": {
       "cost-mode": "array",
       "cost-metric": "ane-path"
     },
     "pids": {
       "srcs": [ "PID1" ],
       "dsts": [ "PID2" ]
     },
     "ane-property-names": [ "max-reservable-bandwidth" ]
   }
</pre><a class="pilcrow" href="#section-7.2.3-6">¶</a>
</div>
</section>
</div>
<div id="pvcm-cap">
<section id="section-7.2.4">
          <h4 id="name-capabilities">
<a class="section-number selfRef" href="#section-7.2.4">7.2.4. </a><a class="section-name selfRef" href="#name-capabilities">Capabilities</a>
          </h4>
<p id="section-7.2.4-1">The multipart filtered cost map resource extends the capabilities defined
in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8189#section-4.1.1">Section 4.1.1</a> of [<a class="xref" href="#RFC8189">RFC8189</a>]</span>. The capabilities are defined by a JSON
object of type PVFilteredCostMapCapabilities:<a class="pilcrow" href="#section-7.2.4-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2.4-2">
<pre>object {
  [EntityPropertyName ane-property-names&lt;0..*&gt;;]
} PVFilteredCostMapCapabilities : FilteredCostMapCapabilities;
</pre><a class="pilcrow" href="#section-7.2.4-2">¶</a>
</div>
<p id="section-7.2.4-3">with field:<a class="pilcrow" href="#section-7.2.4-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.4-4">
            <dt id="section-7.2.4-4.1">
ane-property-names:  </dt>
            <dd id="section-7.2.4-4.2" style="margin-left: 1.5em">
              <p id="section-7.2.4-4.2.1">This field provides a list of ANE properties that can be returned. If the field is not
present, it <span class="bcp14">MUST</span> be interpreted as an empty list, indicating that the ALTO server
cannot provide any ANE properties.<a class="pilcrow" href="#section-7.2.4-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.2.4-5">This extension also introduces additional restrictions for the following fields:<a class="pilcrow" href="#section-7.2.4-5">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.4-6">
            <dt id="section-7.2.4-6.1">
cost-type-names:  </dt>
            <dd id="section-7.2.4-6.2" style="margin-left: 1.5em">
              <p id="section-7.2.4-6.2.1">The "cost-type-names" field <span class="bcp14">MUST</span> include the Path Vector cost type,
unless explicitly documented by a future extension. This also implies that the
Path Vector cost type <span class="bcp14">MUST</span> be defined in the "cost-types" of the IRD's "meta" field.<a class="pilcrow" href="#section-7.2.4-6.2.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.4-6.3">
cost-constraints:  </dt>
            <dd id="section-7.2.4-6.4" style="margin-left: 1.5em">
              <p id="section-7.2.4-6.4.1">If the "cost-type-names" field includes the Path Vector cost type,
the "cost-constraints" field <span class="bcp14">MUST</span> be either "false" or not present,
unless specifically
instructed by a future document.<a class="pilcrow" href="#section-7.2.4-6.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.4-6.5">
testable-cost-type-names (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8189#section-4.1.1">Section 4.1.1</a> of [<a class="xref" href="#RFC8189">RFC8189</a>]</span>):  </dt>
            <dd id="section-7.2.4-6.6" style="margin-left: 1.5em">
              <p id="section-7.2.4-6.6.1">If the "cost-type-names" field includes the Path Vector cost type and the
"testable-cost-type-names" field is present, the Path Vector cost type <span class="bcp14">MUST NOT</span> be included in the "testable-cost-type-names" field unless specifically
instructed by a future document.<a class="pilcrow" href="#section-7.2.4-6.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="uses">
<section id="section-7.2.5">
          <h4 id="name-uses">
<a class="section-number selfRef" href="#section-7.2.5">7.2.5. </a><a class="section-name selfRef" href="#name-uses">Uses</a>
          </h4>
<p id="section-7.2.5-1">This member <span class="bcp14">MUST</span> include the resource ID of the network map based on which the
PIDs are defined. If this resource supports "persistent-entity-id", it <span class="bcp14">MUST</span> also
include the defining resources of persistent ANEs that may appear in the response.<a class="pilcrow" href="#section-7.2.5-1">¶</a></p>
</section>
</div>
<div id="pvcm-resp">
<section id="section-7.2.6">
          <h4 id="name-response">
<a class="section-number selfRef" href="#section-7.2.6">7.2.6. </a><a class="section-name selfRef" href="#name-response">Response</a>
          </h4>
<p id="section-7.2.6-1">The response <span class="bcp14">MUST</span> indicate an error, using ALTO Protocol error handling as
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5">Section 8.5</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, if the request is invalid.<a class="pilcrow" href="#section-7.2.6-1">¶</a></p>
<p id="section-7.2.6-2">The "Content-Type" header field of the response <span class="bcp14">MUST</span> be "multipart/related" as defined
by <span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span>, with the following parameters:<a class="pilcrow" href="#section-7.2.6-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.6-3">
            <dt id="section-7.2.6-3.1">
type:  </dt>
            <dd id="section-7.2.6-3.2" style="margin-left: 1.5em">
              <p id="section-7.2.6-3.2.1">The "type" parameter is mandatory and <span class="bcp14">MUST</span> be "application/alto-costmap+json". Note
that <span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span> permits parameters both with and without double quotes.<a class="pilcrow" href="#section-7.2.6-3.2.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.6-3.3">
start:  </dt>
            <dd id="section-7.2.6-3.4" style="margin-left: 1.5em">
              <p id="section-7.2.6-3.4.1">The "start" parameter is as defined in <span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span> and is optional.
If present, it <span class="bcp14">MUST</span> have the same value as the "Content-ID" header field of the Path
Vector part.<a class="pilcrow" href="#section-7.2.6-3.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.6-3.5">
boundary:  </dt>
            <dd id="section-7.2.6-3.6" style="margin-left: 1.5em">
              <p id="section-7.2.6-3.6.1">The "boundary" parameter is as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2046#section-5.1.1">Section 5.1.1</a> of [<a class="xref" href="#RFC2046">RFC2046</a>]</span> and is mandatory.<a class="pilcrow" href="#section-7.2.6-3.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.2.6-4">The body of the response <span class="bcp14">MUST</span> consist of two parts:<a class="pilcrow" href="#section-7.2.6-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.6-5.1">
              <p id="section-7.2.6-5.1.1">The Path Vector part <span class="bcp14">MUST</span> include "Content-ID" and "Content-Type" in its
header. The "Content-Type" <span class="bcp14">MUST</span> be "application/alto-costmap+json".
The value of "Content-ID" <span class="bcp14">MUST</span> have the same format as the Part Content ID as
specified in <a class="xref" href="#part-rid-spec">Section 6.6</a>.<a class="pilcrow" href="#section-7.2.6-5.1.1">¶</a></p>
<p id="section-7.2.6-5.1.2">
The body of the Path Vector part <span class="bcp14">MUST</span> be a JSON object with the same format as that
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.2.3.6">Section 11.2.3.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> when the "cost-type" field is
present in the input parameters and <span class="bcp14">MUST</span> be a JSON object with the same format
as that defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8189#section-4.1.3">Section 4.1.3</a> of [<a class="xref" href="#RFC8189">RFC8189</a>]</span> if the "multi-cost-types" field is
present. The JSON object <span class="bcp14">MUST</span> include the
"vtag" field in the "meta" field, which provides the version tag of the
returned CostMapData object. The resource ID of the version tag <span class="bcp14">MUST</span> follow the
format of<a class="pilcrow" href="#section-7.2.6-5.1.2">¶</a></p>
<div id="section-7.2.6-5.1.3">
<pre class="lang-rbnf sourcecode">resource-id '.' part-resource-id
</pre><a class="pilcrow" href="#section-7.2.6-5.1.3">¶</a>
</div>
<p id="section-7.2.6-5.1.4">
where "resource-id" is the resource ID of the Path Vector resource and
"part-resource-id" has the same value as the PART-RESOURCE-ID in the
"Content-ID" of the Path Vector part.
The "meta" field <span class="bcp14">MUST</span> also include the "dependent-vtags" field, whose value is
a single-element array to indicate the version tag of the network map used,
where the network map is specified in the "uses" attribute of the multipart
filtered cost map resource in the IRD.<a class="pilcrow" href="#section-7.2.6-5.1.4">¶</a></p>
</li>
            <li class="normal" id="section-7.2.6-5.2">
              <p id="section-7.2.6-5.2.1">The entity property map part <span class="bcp14">MUST</span> also include "Content-ID" and
"Content-Type" in its header. The "Content-Type" <span class="bcp14">MUST</span> be
"application/alto-propmap+json". The value of "Content-ID" <span class="bcp14">MUST</span> have the same
format as the Part Content ID as specified in <a class="xref" href="#part-rid-spec">Section 6.6</a>.<a class="pilcrow" href="#section-7.2.6-5.2.1">¶</a></p>
<p id="section-7.2.6-5.2.2">
The body of the entity property map part is a JSON object with the same
format as that defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-7.6">Section 7.6</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>. The
JSON object <span class="bcp14">MUST</span> include the "dependent-vtags" field in the "meta" field. The
value of the "dependent-vtags" field <span class="bcp14">MUST</span> be an array of VersionTag objects as
defined by <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.3">Section 10.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. The "vtag" of the Path Vector part <span class="bcp14">MUST</span>
be included in the "dependent-vtags" field. If "persistent-entity-id" is requested, the
version tags of the dependent resources that may expose the entities in the
response <span class="bcp14">MUST</span> also be included.<a class="pilcrow" href="#section-7.2.6-5.2.2">¶</a></p>
<p id="section-7.2.6-5.2.3">
The PropertyMapData object has one member for each ANEName that appears in the Path
Vector part, which is an entity identifier belonging to the self-defined
entity domain as defined in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-5.1.2.3">Section 5.1.2.3</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>. The EntityProps object for each ANE has one
member for each property that is both 1) associated with the ANE and 2)
specified in the "ane-property-names" field in the request. If the Path Vector cost
type is not included in the "cost-type" field or the "multi-cost-type" field,
the "property-map" field <span class="bcp14">MUST</span> be present and the value <span class="bcp14">MUST</span> be an empty object
({}).<a class="pilcrow" href="#section-7.2.6-5.2.3">¶</a></p>
</li>
          </ul>
<p id="section-7.2.6-6">A complete and valid response <span class="bcp14">MUST</span> include both the Path Vector part and the
property map part in the multipart message. If any part is <strong>not</strong> present, the
client <span class="bcp14">MUST</span> discard the received information and send another request if
necessary.<a class="pilcrow" href="#section-7.2.6-6">¶</a></p>
<p id="section-7.2.6-7">The Path Vector part, whose media type is the same as the "type" parameter of the multipart response message, is the root body part as defined in
<span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span>. Thus, it is the element that the application processes first. Even though the
"start" parameter allows it to be placed anywhere in the part sequence, it is
<span class="bcp14">RECOMMENDED</span> that the parts arrive in the same order as they are processed, i.e.,
the Path Vector part is always placed as the first part, followed by the property
map part. When doing so, an ALTO server <span class="bcp14">MAY</span> choose not to set the "start"
parameter, which implies that the first part is the object root.<a class="pilcrow" href="#section-7.2.6-7">¶</a></p>
<p id="section-7.2.6-8">Example: Consider the network in <a class="xref" href="#fig-dumbbell">Figure 1</a>. The response to the example
request in <a class="xref" href="#pvcm-accept">Section 7.2.3</a> is as follows, where "ANE1" represents the
aggregation of all the switches in the network.<a class="pilcrow" href="#section-7.2.6-8">¶</a></p>
<div id="section-7.2.6-9">
<pre class="lang-http-message sourcecode">HTTP/1.1 200 OK
Content-Length: 911
Content-Type: multipart/related; boundary=example-1;
              type=application/alto-costmap+json

--example-1
Content-ID: &lt;costmap@alto.example.com&gt;
Content-Type: application/alto-costmap+json

{
  "meta": {
    "vtag": {
      "resource-id": "filtered-cost-map-pv.costmap",
      "tag": "fb20b76204814e9db37a51151faaaef2"
    },
    "dependent-vtags": [
      {
        "resource-id": "my-default-networkmap",
        "tag": "75ed013b3cb58f896e839582504f6228"
      }
    ],
    "cost-type": { "cost-mode": "array", "cost-metric": "ane-path" }
  },
  "cost-map": {
    "PID1": { "PID2": [ "ANE1" ] }
  }
}
--example-1
Content-ID: &lt;propmap@alto.example.com&gt;
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "filtered-cost-map-pv.costmap",
        "tag": "fb20b76204814e9db37a51151faaaef2"
      }
    ]
  },
  "property-map": {
    ".ane:ANE1": { "max-reservable-bandwidth": 100000000 }
  }
}
--example-1
</pre><a class="pilcrow" href="#section-7.2.6-9">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="pvecs-spec">
<section id="section-7.3">
        <h3 id="name-multipart-endpoint-cost-ser">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-multipart-endpoint-cost-ser">Multipart Endpoint Cost Service for Path Vector</a>
        </h3>
<p id="section-7.3-1">This document introduces a new ALTO resource called the "multipart Endpoint Cost
Service", which allows an ALTO server to provide other ALTO resources associated
with the Endpoint Cost Service resource in the same response.<a class="pilcrow" href="#section-7.3-1">¶</a></p>
<div id="media-type-1">
<section id="section-7.3.1">
          <h4 id="name-media-type-2">
<a class="section-number selfRef" href="#section-7.3.1">7.3.1. </a><a class="section-name selfRef" href="#name-media-type-2">Media Type</a>
          </h4>
<p id="section-7.3.1-1">The media type of the multipart Endpoint Cost Service resource is
"multipart/related", and the required "type" parameter <span class="bcp14">MUST</span> have
a value of "application/alto-endpointcost+json".<a class="pilcrow" href="#section-7.3.1-1">¶</a></p>
</section>
</div>
<div id="http-method-1">
<section id="section-7.3.2">
          <h4 id="name-http-method-2">
<a class="section-number selfRef" href="#section-7.3.2">7.3.2. </a><a class="section-name selfRef" href="#name-http-method-2">HTTP Method</a>
          </h4>
<p id="section-7.3.2-1">The multipart Endpoint Cost Service resource is requested using the HTTP POST method.<a class="pilcrow" href="#section-7.3.2-1">¶</a></p>
</section>
</div>
<div id="pvecs-accept">
<section id="section-7.3.3">
          <h4 id="name-accept-input-parameters-2">
<a class="section-number selfRef" href="#section-7.3.3">7.3.3. </a><a class="section-name selfRef" href="#name-accept-input-parameters-2">Accept Input Parameters</a>
          </h4>
<p id="section-7.3.3-1">The input parameters of the multipart Endpoint Cost Service resource are
supplied in the body of an HTTP POST request. This document extends the input
parameters to an Endpoint Cost Service, which is defined as a JSON object of
type ReqEndpointCostMap in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8189#section-4.2.2">Section 4.2.2</a> of [<a class="xref" href="#RFC8189">RFC8189</a>]</span>, with a data
format indicated by the media type "application/alto-endpointcostparams+json",
which is a JSON object of type PVReqEndpointCostMap:<a class="pilcrow" href="#section-7.3.3-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.3.3-2">
<pre>object {
  [EntityPropertyName ane-property-names&lt;0..*&gt;;]
} PVReqEndpointCostMap : ReqEndpointCostMap;
</pre><a class="pilcrow" href="#section-7.3.3-2">¶</a>
</div>
<p id="section-7.3.3-3">with field:<a class="pilcrow" href="#section-7.3.3-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3.3-4">
            <dt id="section-7.3.3-4.1">
ane-property-names:  </dt>
            <dd id="section-7.3.3-4.2" style="margin-left: 1.5em">
              <p id="section-7.3.3-4.2.1">This document defines the "ane-property-names" field in PVReqEndpointCostMap as being the
same as in PVReqFilteredCostMap. See <a class="xref" href="#pvcm-accept">Section 7.2.3</a>.<a class="pilcrow" href="#section-7.3.3-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.3.3-5">Example: Consider the network in <a class="xref" href="#fig-dumbbell">Figure 1</a>. If an ALTO client wants to
query the "max-reservable-bandwidth" setting between "eh1" and "eh2", it can submit the
following request.<a class="pilcrow" href="#section-7.3.3-5">¶</a></p>
<div id="section-7.3.3-6">
<pre class="lang-http-message sourcecode">POST /ecs/pv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;type=application/alto-endpointcost+json,
        application/alto-error+json
Content-Length: 238
Content-Type: application/alto-endpointcostparams+json

{
  "cost-type": {
    "cost-mode": "array",
    "cost-metric": "ane-path"
  },
  "endpoints": {
    "srcs": [ "ipv4:192.0.2.2" ],
    "dsts": [ "ipv4:192.0.2.18" ]
  },
  "ane-property-names": [ "max-reservable-bandwidth" ]
}
</pre><a class="pilcrow" href="#section-7.3.3-6">¶</a>
</div>
</section>
</div>
<div id="pvecs-cap">
<section id="section-7.3.4">
          <h4 id="name-capabilities-2">
<a class="section-number selfRef" href="#section-7.3.4">7.3.4. </a><a class="section-name selfRef" href="#name-capabilities-2">Capabilities</a>
          </h4>
<p id="section-7.3.4-1">The capabilities of the multipart Endpoint Cost Service resource are defined by
a JSON object of type PVEndpointCostCapabilities, which is defined as being the same
as PVFilteredCostMapCapabilities. See <a class="xref" href="#pvcm-cap">Section 7.2.4</a>.<a class="pilcrow" href="#section-7.3.4-1">¶</a></p>
</section>
</div>
<div id="uses-1">
<section id="section-7.3.5">
          <h4 id="name-uses-2">
<a class="section-number selfRef" href="#section-7.3.5">7.3.5. </a><a class="section-name selfRef" href="#name-uses-2">Uses</a>
          </h4>
<p id="section-7.3.5-1">If this resource supports "persistent-entity-id", it <span class="bcp14">MUST</span> also include the
defining resources of persistent ANEs that may appear in the response.<a class="pilcrow" href="#section-7.3.5-1">¶</a></p>
</section>
</div>
<div id="pvecs-resp">
<section id="section-7.3.6">
          <h4 id="name-response-2">
<a class="section-number selfRef" href="#section-7.3.6">7.3.6. </a><a class="section-name selfRef" href="#name-response-2">Response</a>
          </h4>
<p id="section-7.3.6-1">The response <span class="bcp14">MUST</span> indicate an error, using ALTO Protocol error handling as
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5">Section 8.5</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, if the request is invalid.<a class="pilcrow" href="#section-7.3.6-1">¶</a></p>
<p id="section-7.3.6-2">The "Content-Type" header field of the response <span class="bcp14">MUST</span> be "multipart/related" as defined
by <span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span>, with the following parameters:<a class="pilcrow" href="#section-7.3.6-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3.6-3">
            <dt id="section-7.3.6-3.1">
type:  </dt>
            <dd id="section-7.3.6-3.2" style="margin-left: 1.5em">
              <p id="section-7.3.6-3.2.1">The "type" parameter <span class="bcp14">MUST</span> be "application/alto-endpointcost+json" and is mandatory.<a class="pilcrow" href="#section-7.3.6-3.2.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.3.6-3.3">
start:  </dt>
            <dd id="section-7.3.6-3.4" style="margin-left: 1.5em">
              <p id="section-7.3.6-3.4.1">The "start" parameter is as defined in <a class="xref" href="#pvcm-resp">Section 7.2.6</a>.<a class="pilcrow" href="#section-7.3.6-3.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.3.6-3.5">
boundary:  </dt>
            <dd id="section-7.3.6-3.6" style="margin-left: 1.5em">
              <p id="section-7.3.6-3.6.1">The "boundary" parameter is as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2046#section-5.1.1">Section 5.1.1</a> of [<a class="xref" href="#RFC2046">RFC2046</a>]</span> and is mandatory.<a class="pilcrow" href="#section-7.3.6-3.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.3.6-4">The body of the response <span class="bcp14">MUST</span> consist of two parts:<a class="pilcrow" href="#section-7.3.6-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.3.6-5.1">
              <p id="section-7.3.6-5.1.1">The Path Vector part <span class="bcp14">MUST</span> include "Content-ID" and "Content-Type" in its
header.
The "Content-Type" <span class="bcp14">MUST</span> be "application/alto-endpointcost+json".
The value of "Content-ID" <span class="bcp14">MUST</span> have the same format as the Part Content ID as
specified in <a class="xref" href="#part-rid-spec">Section 6.6</a>.<a class="pilcrow" href="#section-7.3.6-5.1.1">¶</a></p>
<p id="section-7.3.6-5.1.2">
The body of the Path Vector part <span class="bcp14">MUST</span> be a JSON object with the same format as that
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.5.1.6">Section 11.5.1.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> when the "cost-type" field is
present in the input parameters and <span class="bcp14">MUST</span> be a JSON object with the same format
as that defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8189#section-4.2.3">Section 4.2.3</a> of [<a class="xref" href="#RFC8189">RFC8189</a>]</span> if the "multi-cost-types" field is
present. The JSON object <span class="bcp14">MUST</span> include the
"vtag" field in the "meta" field, which provides the version tag of the returned
EndpointCostMapData object. The resource ID of the version tag <span class="bcp14">MUST</span> follow the format of<a class="pilcrow" href="#section-7.3.6-5.1.2">¶</a></p>
<div id="section-7.3.6-5.1.3">
<pre class="lang-rbnf sourcecode">resource-id '.' part-resource-id
</pre><a class="pilcrow" href="#section-7.3.6-5.1.3">¶</a>
</div>
<p id="section-7.3.6-5.1.4">
where "resource-id" is the resource ID of the Path Vector resource and
"part-resource-id" has the same value as the PART-RESOURCE-ID in the "Content-ID"
of the Path Vector part.<a class="pilcrow" href="#section-7.3.6-5.1.4">¶</a></p>
</li>
            <li class="normal" id="section-7.3.6-5.2">
              <p id="section-7.3.6-5.2.1">The entity property map part <span class="bcp14">MUST</span> also include "Content-ID" and
"Content-Type" in its header. The "Content-Type" <span class="bcp14">MUST</span> be
"application/alto-propmap+json".
The value of "Content-ID" <span class="bcp14">MUST</span> have the same format as the Part Content ID as
specified in <a class="xref" href="#part-rid-spec">Section 6.6</a>.<a class="pilcrow" href="#section-7.3.6-5.2.1">¶</a></p>
<p id="section-7.3.6-5.2.2">
The body of the entity property map part <span class="bcp14">MUST</span> be a JSON object with the same
format as that defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-7.6">Section 7.6</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>. The
JSON object <span class="bcp14">MUST</span> include the "dependent-vtags" field in the "meta" field. The
value of the "dependent-vtags" field <span class="bcp14">MUST</span> be an array of VersionTag objects as
defined by <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.3">Section 10.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. The "vtag" of the Path Vector part <span class="bcp14">MUST</span>
be included in the "dependent-vtags" field. If "persistent-entity-id" is requested, the
version tags of the dependent resources that may expose the entities in the
response <span class="bcp14">MUST</span> also be included.<a class="pilcrow" href="#section-7.3.6-5.2.2">¶</a></p>
<p id="section-7.3.6-5.2.3">
The PropertyMapData object has one member for each ANEName that appears in the Path
Vector part, which is an entity identifier belonging to the self-defined
entity domain as defined in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-5.1.2.3">Section 5.1.2.3</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>. The EntityProps object for each ANE has one
member for each property that is both 1) associated with the ANE and 2)
specified in the "ane-property-names" field in the request. If the Path Vector cost
type is not included in the "cost-type" field or the "multi-cost-type" field,
the "property-map" field <span class="bcp14">MUST</span> be present and the value <span class="bcp14">MUST</span> be an empty object
({}).<a class="pilcrow" href="#section-7.3.6-5.2.3">¶</a></p>
</li>
          </ul>
<p id="section-7.3.6-6">A complete and valid response <span class="bcp14">MUST</span> include both the Path Vector part and the
property map part in the multipart message. If any part is <strong>not</strong> present, the
client <span class="bcp14">MUST</span> discard the received information and send another request if
necessary.<a class="pilcrow" href="#section-7.3.6-6">¶</a></p>
<p id="section-7.3.6-7">The Path Vector part, whose media type is the same as the "type" parameter of the multipart response message, is the root body part as defined in
<span>[<a class="xref" href="#RFC2387">RFC2387</a>]</span>. Thus, it is the element that the application processes first. Even though the
"start" parameter allows it to be placed anywhere in the part sequence, it is
<span class="bcp14">RECOMMENDED</span> that the parts arrive in the same order as they are processed, i.e.,
the Path Vector part is always placed as the first part, followed by the property
map part. When doing so, an ALTO server <span class="bcp14">MAY</span> choose not to set the "start"
parameter, which implies that the first part is the object root.<a class="pilcrow" href="#section-7.3.6-7">¶</a></p>
<p id="section-7.3.6-8">Example: Consider the network in <a class="xref" href="#fig-dumbbell">Figure 1</a>. The response to the example
request in <a class="xref" href="#pvecs-accept">Section 7.3.3</a> is as follows.<a class="pilcrow" href="#section-7.3.6-8">¶</a></p>
<div id="section-7.3.6-9">
<pre class="lang-http-message sourcecode">HTTP/1.1 200 OK
Content-Length: 899
Content-Type: multipart/related; boundary=example-1;
              type=application/alto-endpointcost+json

--example-1
Content-ID: &lt;ecs@alto.example.com&gt;
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtag": {
      "resource-id": "ecs-pv.ecs",
      "tag": "ec137bb78118468c853d5b622ac003f1"
    },
    "dependent-vtags": [
      {
        "resource-id": "my-default-networkmap",
        "tag": "677fe5f4066848d282ece213a84f9429"
      }
    ],
    "cost-type": { "cost-mode": "array", "cost-metric": "ane-path" }
  },
  "cost-map": {
    "ipv4:192.0.2.2": { "ipv4:192.0.2.18": [ "ANE1" ] }
  }
}
--example-1
Content-ID: &lt;propmap@alto.example.com&gt;
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "ecs-pv.ecs",
        "tag": "ec137bb78118468c853d5b622ac003f1"
      }
    ]
  },
  "property-map": {
    ".ane:ANE1": { "max-reservable-bandwidth": 100000000 }
  }
}
--example-1
</pre><a class="pilcrow" href="#section-7.3.6-9">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Examples">
<section id="section-8">
      <h2 id="name-examples-2">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-examples-2">Examples</a>
      </h2>
<p id="section-8-1">This section lists some examples of Path Vector queries and the corresponding
responses. Some long lines are truncated for better readability.<a class="pilcrow" href="#section-8-1">¶</a></p>
<div id="sample-setup">
<section id="section-8.1">
        <h3 id="name-sample-setup">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-sample-setup">Sample Setup</a>
        </h3>
<p id="section-8.1-1"><a class="xref" href="#fig-pe">Figure 10</a> illustrates the network properties and thus the message contents. There
are three subnetworks (NET1, NET2, and NET3) and two interconnection links (L1 and
L2). It is assumed that each subnetwork has sufficiently large bandwidth to be
reserved.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<span id="name-examples-of-ane-properties"></span><div id="fig-pe">
<figure id="figure-10">
          <div class="alignCenter art-text artwork" id="section-8.1-2.1">
<pre>                                     ----- L1
                                    /
        PID1   +----------+ 10 Gbps +----------+    PID3
 192.0.2.0/28+-+ +------+ +---------+          +--+192.0.2.32/28
               | | MEC1 | |         |          |   2001:db8::3:0/16
               | +------+ |   +-----+          |
        PID2   |          |   |     +----------+
192.0.2.16/28+-+          |   |         NET3
               |          |   | 15 Gbps
               |          |   |        \
               +----------+   |         -------- L2
                   NET1       |
                            +----------+
                            | +------+ |   PID4
                            | | MEC2 | +--+192.0.2.48/28
                            | +------+ |   2001:db8::4:0/16
                            +----------+
                                NET2
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-examples-of-ane-properties">Examples of ANE Properties</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="example-ird">
<section id="section-8.2">
        <h3 id="name-information-resource-direct">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-information-resource-direct">Information Resource Directory</a>
        </h3>
<p id="section-8.2-1">To give a comprehensive example of the extension defined in this document, we
consider the network in <a class="xref" href="#fig-pe">Figure 10</a>. Assume that the ALTO server provides the
following information resources:<a class="pilcrow" href="#section-8.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.2-2">
          <dt id="section-8.2-2.1">"my-default-networkmap":</dt>
          <dd id="section-8.2-2.2" style="margin-left: 1.5em">A network map resource that contains the PIDs in the
network.<a class="pilcrow" href="#section-8.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.3">"filtered-cost-map-pv":</dt>
          <dd id="section-8.2-2.4" style="margin-left: 1.5em">A multipart filtered cost map resource for the Path Vector.  Exposes the "max-reservable-bandwidth" property for the PIDs in
"my-default-networkmap".<a class="pilcrow" href="#section-8.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.5">"ane-props":</dt>
          <dd id="section-8.2-2.6" style="margin-left: 1.5em">A filtered entity property resource that exposes the
information for persistent ANEs in the network.<a class="pilcrow" href="#section-8.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.7">"endpoint-cost-pv":</dt>
          <dd id="section-8.2-2.8" style="margin-left: 1.5em">A multipart Endpoint Cost Service for the Path Vector.  Exposes the "max-reservable-bandwidth" and "persistent-entity-id" properties.<a class="pilcrow" href="#section-8.2-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.9">"update-pv":</dt>
          <dd id="section-8.2-2.10" style="margin-left: 1.5em">An update stream service that provides the incremental update
service for the "endpoint-cost-pv" service.<a class="pilcrow" href="#section-8.2-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.11">"multicost-pv":</dt>
          <dd id="section-8.2-2.12" style="margin-left: 1.5em">A multipart Endpoint Cost Service with both the Multi-Cost extension and Path Vector extension enabled.<a class="pilcrow" href="#section-8.2-2.12">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-8.2-3">Below is the IRD of the example ALTO server. To
enable the extension defined in this document, the Path Vector cost type
(<a class="xref" href="#cost-type-spec">Section 6.5</a>), represented by "path-vector" below,
is defined in the "cost-types" of the "meta" field and is
included in the "cost-type-names" of resources "filtered-cost-map-pv" and
"endpoint-cost-pv".<a class="pilcrow" href="#section-8.2-3">¶</a></p>
<div id="section-8.2-4">
<pre class="breakable lang-json sourcecode">{
  "meta": {
    "cost-types": {
      "path-vector": {
        "cost-mode": "array",
        "cost-metric": "ane-path"
      },
      "num-rc": {
        "cost-mode": "numerical",
        "cost-metric": "routingcost"
      }
    }
  },
  "resources": {
    "my-default-networkmap": {
      "uri": "https://alto.example.com/networkmap",
      "media-type": "application/alto-networkmap+json"
    },
    "filtered-cost-map-pv": {
      "uri": "https://alto.example.com/costmap/pv",
      "media-type": "multipart/related;
                     type=application/alto-costmap+json",
      "accepts": "application/alto-costmapfilter+json",
      "capabilities": {
        "cost-type-names": [ "path-vector" ],
        "ane-property-names": [ "max-reservable-bandwidth" ]
      },
      "uses": [ "my-default-networkmap" ]
    },
    "ane-props": {
      "uri": "https://alto.example.com/ane-props",
      "media-type": "application/alto-propmap+json",
      "accepts": "application/alto-propmapparams+json",
      "capabilities": {
        "mappings": {
          ".ane": [ "cpu" ]
        }
      }
    },
    "endpoint-cost-pv": {
      "uri": "https://alto.exmaple.com/endpointcost/pv",
      "media-type": "multipart/related;
                     type=application/alto-endpointcost+json",
      "accepts": "application/alto-endpointcostparams+json",
      "capabilities": {
        "cost-type-names": [ "path-vector" ],
        "ane-property-names": [
          "max-reservable-bandwidth", "persistent-entity-id"
        ]
      },
      "uses": [ "ane-props" ]
    },
    "update-pv": {
      "uri": "https://alto.example.com/updates/pv",
      "media-type": "text/event-stream",
      "uses": [ "endpoint-cost-pv" ],
      "accepts": "application/alto-updatestreamparams+json",
      "capabilities": {
        "support-stream-control": true
      }
    },
    "multicost-pv": {
      "uri": "https://alto.exmaple.com/endpointcost/mcpv",
      "media-type": "multipart/related;
                     type=application/alto-endpointcost+json",
      "accepts": "application/alto-endpointcostparams+json",
      "capabilities": {
        "cost-type-names": [ "path-vector", "num-rc" ],
        "max-cost-types": 2,
        "testable-cost-type-names": [ "num-rc" ],
        "ane-property-names": [
          "max-reservable-bandwidth", "persistent-entity-id"
        ]
      },
      "uses": [ "ane-props" ]
    }
  }
}
</pre><a class="pilcrow" href="#section-8.2-4">¶</a>
</div>
</section>
</div>
<div id="multipart-filtered-cost-map">
<section id="section-8.3">
        <h3 id="name-multipart-filtered-cost-map-2">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-multipart-filtered-cost-map-2">Multipart Filtered Cost Map</a>
        </h3>
<p id="section-8.3-1">The following examples demonstrate the request to the "filtered-cost-map-pv"
resource and the corresponding response.<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<p id="section-8.3-2">The request uses the "path-vector" cost type in the "cost-type" field. The
"ane-property-names" field is missing, indicating that the client only requests
the Path Vector and not the ANE properties.<a class="pilcrow" href="#section-8.3-2">¶</a></p>
<p id="section-8.3-3">The response consists of two parts:<a class="pilcrow" href="#section-8.3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-4.1">The first part returns the array of data type ANEName
for each source and destination pair. There are two ANEs, where "L1" represents
interconnection link L1 and "L2" represents interconnection link L2.<a class="pilcrow" href="#section-8.3-4.1">¶</a>
</li>
          <li class="normal" id="section-8.3-4.2">The second part returns the property map.  Note that the properties of the ANE entries are equal to the literal string "{}"
(see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-8.3">Section 8.3</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>).<a class="pilcrow" href="#section-8.3-4.2">¶</a>
</li>
        </ul>
<div id="section-8.3-5">
<pre class="lang-http-message sourcecode">POST /costmap/pv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;type=application/alto-costmap+json,
        application/alto-error+json
Content-Length: 163
Content-Type: application/alto-costmapfilter+json

{
  "cost-type": {
    "cost-mode": "array",
    "cost-metric": "ane-path"
  },
  "pids": {
    "srcs": [ "PID1" ],
    "dsts": [ "PID3", "PID4" ]
  }
}
</pre><a class="pilcrow" href="#section-8.3-5">¶</a>
</div>
<div id="section-8.3-6">
<pre class="breakable lang-http-message sourcecode">HTTP/1.1 200 OK
Content-Length: 952
Content-Type: multipart/related; boundary=example-1;
              type=application/alto-costmap+json

--example-1
Content-ID: &lt;costmap@alto.example.com&gt;
Content-Type: application/alto-costmap+json

{
  "meta": {
    "vtag": {
      "resource-id": "filtered-cost-map-pv.costmap",
      "tag": "d827f484cb66ce6df6b5077cb8562b0a"
    },
    "dependent-vtags": [
      {
        "resource-id": "my-default-networkmap",
        "tag": "c04bc5da49534274a6daeee8ea1dec62"
      }
    ],
    "cost-type": {
      "cost-mode": "array",
      "cost-metric": "ane-path"
    }
  },
  "cost-map": {
    "PID1": {
      "PID3": [ "L1" ],
      "PID4": [ "L1", "L2" ]
    }
  }
}
--example-1
Content-ID: &lt;propmap@alto.example.com&gt;
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "filtered-cost-map-pv.costmap",
        "tag": "d827f484cb66ce6df6b5077cb8562b0a"
      }
    ]
  },
  "property-map": {
    ".ane:L1": {},
    ".ane:L2": {}
  }
}
--example-1
</pre><a class="pilcrow" href="#section-8.3-6">¶</a>
</div>
</section>
</div>
<div id="example-ecspv">
<section id="section-8.4">
        <h3 id="name-multipart-endpoint-cost-serv">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-multipart-endpoint-cost-serv">Multipart Endpoint Cost Service Resource</a>
        </h3>
<p id="section-8.4-1">The following examples demonstrate the request to the "endpoint-cost-pv"
resource and the corresponding response.<a class="pilcrow" href="#section-8.4-1">¶</a></p>
<p id="section-8.4-2">The request uses the "path-vector" cost type in the "cost-type" field and
queries the maximum reservable bandwidth ANE property and the persistent entity ID
property for two IPv4 source and destination pairs (192.0.2.34 -&gt; 192.0.2.2 and
192.0.2.34 -&gt; 192.0.2.50) and one IPv6 source and destination pair
(2001:db8::3:1 -&gt; 2001:db8::4:1).<a class="pilcrow" href="#section-8.4-2">¶</a></p>
<p id="section-8.4-3">The response consists of two parts:<a class="pilcrow" href="#section-8.4-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.4-4.1">The first part returns the array of data type ANEName
for each valid source and destination pair. As one can see in <a class="xref" href="#fig-pe">Figure 10</a>, flow
192.0.2.34 -&gt; 192.0.2.2 traverses NET3, L1, and NET1; and flows 192.0.2.34 -&gt;
192.0.2.50 and 2001:db8::3:1 -&gt; 2001:db8::4:1 traverse NET2, L2, and NET3.<a class="pilcrow" href="#section-8.4-4.1">¶</a>
</li>
          <li class="normal" id="section-8.4-4.2">The second part returns the requested properties of ANEs. Assume that NET1, NET2, and NET3 have
sufficient bandwidth and their "max-reservable-bandwidth" values are set to a sufficiently
large number (50 Gbps in this case). On the other hand, assume that there are no
prior reservations on L1 and L2 and their "max-reservable-bandwidth" values are
the corresponding link capacity (10 Gbps for L1 and 15 Gbps for L2).<a class="pilcrow" href="#section-8.4-4.2">¶</a>
</li>
        </ul>
<p id="section-8.4-5">Both NET1 and NET2 have a mobile edge deployed, i.e., MEC1 in NET1 and MEC2 in
NET2. Assume that the ANEName values for MEC1 and MEC2 are "MEC1" and "MEC2" and their
properties can be retrieved from the property map "ane-props". Thus, the
"persistent-entity-id" property values for NET1 and NET2 are "ane-props.ane:MEC1" and
"ane-props.ane:MEC2", respectively.<a class="pilcrow" href="#section-8.4-5">¶</a></p>
<div id="section-8.4-6">
<pre class="lang-http-message sourcecode">POST /endpointcost/pv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;
        type=application/alto-endpointcost+json,
        application/alto-error+json
Content-Length: 383
Content-Type: application/alto-endpointcostparams+json

{
  "cost-type": {
    "cost-mode": "array",
    "cost-metric": "ane-path"
  },
  "endpoints": {
    "srcs": [
      "ipv4:192.0.2.34",
      "ipv6:2001:db8::3:1"
    ],
    "dsts": [
      "ipv4:192.0.2.2",
      "ipv4:192.0.2.50",
      "ipv6:2001:db8::4:1"
    ]
  },
  "ane-property-names": [
    "max-reservable-bandwidth",
    "persistent-entity-id"
  ]
}
</pre><a class="pilcrow" href="#section-8.4-6">¶</a>
</div>
<div id="section-8.4-7">
<pre class="breakable lang-http-message sourcecode">HTTP/1.1 200 OK
Content-Length: 1508
Content-Type: multipart/related; boundary=example-2;
              type=application/alto-endpointcost+json

--example-2
Content-ID: &lt;ecs@alto.example.com&gt;
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtags": {
      "resource-id": "endpoint-cost-pv.ecs",
      "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
    },
    "cost-type": {
      "cost-mode": "array",
      "cost-metric": "ane-path"
    }
  },
  "endpoint-cost-map": {
    "ipv4:192.0.2.34": {
      "ipv4:192.0.2.2":   [ "NET3", "L1", "NET1" ],
      "ipv4:192.0.2.50":   [ "NET3", "L2", "NET2" ]
    },
    "ipv6:2001:db8::3:1": {
      "ipv6:2001:db8::4:1": [ "NET3", "L2", "NET2" ]
    }
  }
}
--example-2
Content-ID: &lt;propmap@alto.example.com&gt;
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "endpoint-cost-pv.ecs",
        "tag": "bb6bb72eafe8f9bdc4f335c7ed3b10822a391cef"
      },
      {
        "resource-id": "ane-props",
        "tag": "bf3c8c1819d2421c9a95a9d02af557a3"
      }
    ]
  },
  "property-map": {
    ".ane:NET1": {
      "max-reservable-bandwidth": 50000000000,
      "persistent-entity-id": "ane-props.ane:MEC1"
    },
    ".ane:NET2": {
      "max-reservable-bandwidth": 50000000000,
      "persistent-entity-id": "ane-props.ane:MEC2"
    },
    ".ane:NET3": {
      "max-reservable-bandwidth": 50000000000
    },
    ".ane:L1": {
      "max-reservable-bandwidth": 10000000000
    },
    ".ane:L2": {
      "max-reservable-bandwidth": 15000000000
    }
  }
}
--example-2
</pre><a class="pilcrow" href="#section-8.4-7">¶</a>
</div>
<p id="section-8.4-8">In certain scenarios where the traversal order is not crucial, an ALTO server
implementation may choose not to strictly follow the physical traversal order
and may even obfuscate the order intentionally to preserve its own privacy or
conform to its own policies.
For example, an ALTO server may choose to aggregate NET1 and L1 as a new ANE
with ANE name "AGGR1" and aggregate NET2 and L2 as a new ANE with ANE name
"AGGR2". The "max-reservable-bandwidth" property of "AGGR1" takes the value of L1, which
is smaller than that of NET1, and the "persistent-entity-id" property of "AGGR1" takes
the value of NET1. The properties of "AGGR2" are computed in a similar way;
the obfuscated response is as shown below. Note that the obfuscation of Path
Vector responses is implementation specific and is out of scope for this
document. Developers may refer to <a class="xref" href="#Security">Section 11</a> for further references.<a class="pilcrow" href="#section-8.4-8">¶</a></p>
<div id="section-8.4-9">
<pre class="breakable lang-http-message sourcecode">HTTP/1.1 200 OK
Content-Length: 1333
Content-Type: multipart/related; boundary=example-2;
              type=application/alto-endpointcost+json

--example-2
Content-ID: &lt;ecs@alto.example.com&gt;
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtags": {
      "resource-id": "endpoint-cost-pv.ecs",
      "tag": "bb975862fbe3422abf4dae386b132c1d"
    },
    "cost-type": {
      "cost-mode": "array",
      "cost-metric": "ane-path"
    }
  },
  "endpoint-cost-map": {
    "ipv4:192.0.2.34": {
      "ipv4:192.0.2.2":   [ "NET3", "AGGR1" ],
      "ipv4:192.0.2.50":   [ "NET3", "AGGR2" ]
    },
    "ipv6:2001:db8::3:1": {
      "ipv6:2001:db8::4:1": [ "NET3", "AGGR2" ]
    }
  }
}
--example-2
Content-ID: &lt;propmap@alto.example.com&gt;
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "endpoint-cost-pv.ecs",
        "tag": "bb975862fbe3422abf4dae386b132c1d"
      },
      {
        "resource-id": "ane-props",
        "tag": "bf3c8c1819d2421c9a95a9d02af557a3"
      }
    ]
  },
  "property-map": {
    ".ane:AGGR1": {
      "max-reservable-bandwidth": 10000000000,
      "persistent-entity-id": "ane-props.ane:MEC1"
    },
    ".ane:AGGR2": {
      "max-reservable-bandwidth": 15000000000,
      "persistent-entity-id": "ane-props.ane:MEC2"
    },
    ".ane:NET3": {
      "max-reservable-bandwidth": 50000000000
    }
  }
}
--example-2
</pre><a class="pilcrow" href="#section-8.4-9">¶</a>
</div>
</section>
</div>
<div id="example-sse">
<section id="section-8.5">
        <h3 id="name-incremental-updates">
<a class="section-number selfRef" href="#section-8.5">8.5. </a><a class="section-name selfRef" href="#name-incremental-updates">Incremental Updates</a>
        </h3>
<p id="section-8.5-1">In this example, an ALTO client subscribes to the incremental update for the
multipart Endpoint Cost Service resource "endpoint-cost-pv".<a class="pilcrow" href="#section-8.5-1">¶</a></p>
<div id="section-8.5-2">
<pre class="lang-http-message sourcecode">POST /updates/pv HTTP/1.1
Host: alto.example.com
Accept: text/event-stream
Content-Type: application/alto-updatestreamparams+json
Content-Length: 120

{
  "add": {
    "ecspvsub1": {
      "resource-id": "endpoint-cost-pv",
      "input": &lt;ecs-input&gt;
    }
  }
}
</pre><a class="pilcrow" href="#section-8.5-2">¶</a>
</div>
<p id="section-8.5-3">Based on the server-side process defined in <span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span>, the ALTO server will
send the "control-uri" first, using a Server-Sent Event (SSE) followed by the full
response of the multipart message.<a class="pilcrow" href="#section-8.5-3">¶</a></p>
<div id="section-8.5-4">
<pre class="lang-http-message sourcecode">HTTP/1.1 200 OK
Connection: keep-alive
Content-Type: text/event-stream

event: application/alto-updatestreamcontrol+json
data: {"control-uri": "https://alto.example.com/updates/streams/123"}

event: multipart/related;boundary=example-3;
       type=application/alto-endpointcost+json,ecspvsub1
data: --example-3
data: Content-ID: &lt;ecsmap@alto.example.com&gt;
data: Content-Type: application/alto-endpointcost+json
data:
data: &lt;endpoint-cost-map-entry&gt;
data: --example-3
data: Content-ID: &lt;propmap@alto.example.com&gt;
data: Content-Type: application/alto-propmap+json
data:
data: &lt;property-map-entry&gt;
data: --example-3--
</pre><a class="pilcrow" href="#section-8.5-4">¶</a>
</div>
<p id="section-8.5-5">When the contents change, the ALTO server will publish the updates for each node
in this tree separately, based on <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8895#section-6.7.3">Section 6.7.3</a> of [<a class="xref" href="#RFC8895">RFC8895</a>]</span>.<a class="pilcrow" href="#section-8.5-5">¶</a></p>
<div id="section-8.5-6">
<pre class="lang-http-message sourcecode">event: application/merge-patch+json,
   ecspvsub1.ecsmap@alto.example.com
data: &lt;Merge patch for endpoint-cost-map-update&gt;

event: application/merge-patch+json,
   ecspvsub1.propmap@alto.example.com
data: &lt;Merge patch for property-map-update&gt;
</pre><a class="pilcrow" href="#section-8.5-6">¶</a>
</div>
</section>
</div>
<div id="multi-cost">
<section id="section-8.6">
        <h3 id="name-multi-cost">
<a class="section-number selfRef" href="#section-8.6">8.6. </a><a class="section-name selfRef" href="#name-multi-cost">Multi-Cost</a>
        </h3>
<p id="section-8.6-1">The following examples demonstrate the request to the "multicost-pv" resource
and the corresponding response.<a class="pilcrow" href="#section-8.6-1">¶</a></p>
<p id="section-8.6-2">The request asks for two cost types: the first is the Path Vector cost type, and
the second is a numerical routing cost. It also queries the maximum reservable
bandwidth ANE property and the persistent entity ID property for two IPv4 source and
destination pairs (192.0.2.34 -&gt; 192.0.2.2 and 192.0.2.34 -&gt; 192.0.2.50) and one
IPv6 source and destination pair (2001:db8::3:1 -&gt; 2001:db8::4:1).<a class="pilcrow" href="#section-8.6-2">¶</a></p>
<p id="section-8.6-3">The response consists of two parts:<a class="pilcrow" href="#section-8.6-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-4.1">The first part returns a JSONArray that
contains two JSONValue entries for each requested source and destination pair: the first
JSONValue is a JSONArray of ANENames, which is the value of the Path Vector cost
type; and the second JSONValue is a JSONNumber, which is the value of the routing
cost.<a class="pilcrow" href="#section-8.6-4.1">¶</a>
</li>
          <li class="normal" id="section-8.6-4.2">The second part contains a property map that maps the ANEs to their
requested properties.<a class="pilcrow" href="#section-8.6-4.2">¶</a>
</li>
        </ul>
<div id="section-8.6-5">
<pre class="lang-http-message sourcecode">POST /endpointcost/mcpv HTTP/1.1
Host: alto.example.com
Accept: multipart/related;
        type=application/alto-endpointcost+json,
        application/alto-error+json
Content-Length: 454
Content-Type: application/alto-endpointcostparams+json

{
  "multi-cost-types": [
    { "cost-mode": "array", "cost-metric": "ane-path" },
    { "cost-mode": "numerical", "cost-metric": "routingcost" }
  ],
  "endpoints": {
    "srcs": [
      "ipv4:192.0.2.34",
      "ipv6:2001:db8::3:1"
    ],
    "dsts": [
      "ipv4:192.0.2.2",
      "ipv4:192.0.2.50",
      "ipv6:2001:db8::4:1"
    ]
  },
  "ane-property-names": [
    "max-reservable-bandwidth",
    "persistent-entity-id"
  ]
}
</pre><a class="pilcrow" href="#section-8.6-5">¶</a>
</div>
<div id="section-8.6-6">
<pre class="breakable lang-http-message sourcecode">HTTP/1.1 200 OK
Content-Length: 1419
Content-Type: multipart/related; boundary=example-4;
              type=application/alto-endpointcost+json

--example-4
Content-ID: &lt;ecs@alto.example.com&gt;
Content-Type: application/alto-endpointcost+json

{
  "meta": {
    "vtags": {
      "resource-id": "endpoint-cost-pv.ecs",
      "tag": "84a4f9c14f9341f0983e3e5f43a371c8"
    },
    "multi-cost-types": [
      { "cost-mode": "array", "cost-metric": "ane-path" },
      { "cost-mode": "numerical", "cost-metric": "routingcost" }
    ]
  },
  "endpoint-cost-map": {
    "ipv4:192.0.2.34": {
      "ipv4:192.0.2.2":   [[ "NET3", "AGGR1" ], 3],
      "ipv4:192.0.2.50":   [[ "NET3", "AGGR2" ], 2]
    },
    "ipv6:2001:db8::3:1": {
      "ipv6:2001:db8::4:1": [[ "NET3", "AGGR2" ], 2]
    }
  }
}
--example-4
Content-ID: &lt;propmap@alto.example.com&gt;
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {
        "resource-id": "endpoint-cost-pv.ecs",
        "tag": "84a4f9c14f9341f0983e3e5f43a371c8"
      },
      {
        "resource-id": "ane-props",
        "tag": "be157afa031443a187b60bb80a86b233"
      }
    ]
  },
  "property-map": {
    ".ane:AGGR1": {
      "max-reservable-bandwidth": 10000000000,
      "persistent-entity-id": "ane-props.ane:MEC1"
    },
    ".ane:AGGR2": {
      "max-reservable-bandwidth": 15000000000,
      "persistent-entity-id": "ane-props.ane:MEC2"
    },
    ".ane:NET3": {
      "max-reservable-bandwidth": 50000000000
    }
  }
}
--example-4
</pre><a class="pilcrow" href="#section-8.6-6">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="Compatibility">
<section id="section-9">
      <h2 id="name-compatibility-with-other-al">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-compatibility-with-other-al">Compatibility with Other ALTO Extensions</a>
      </h2>
<div id="compatibility-with-legacy-alto-clientsservers">
<section id="section-9.1">
        <h3 id="name-compatibility-with-legacy-a">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-compatibility-with-legacy-a">Compatibility with Legacy ALTO Clients/Servers</a>
        </h3>
<p id="section-9.1-1">The multipart filtered cost map resource and the multipart Endpoint Cost
Service resource have no backward-compatibility issues with legacy ALTO clients and
servers. Although these two types of resources reuse the media types defined in
the base ALTO Protocol for the "Accept" input parameters, they have different
media types for responses. If the ALTO server provides these two types of
resources but the ALTO client does not support them, the ALTO client will
ignore the resources without incurring any incompatibility problems.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
</section>
</div>
<div id="compatibility-with-multi-cost-extension">
<section id="section-9.2">
        <h3 id="name-compatibility-with-multi-co">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-compatibility-with-multi-co">Compatibility with Multi-Cost Extension</a>
        </h3>
<p id="section-9.2-1">The extension defined in this document is compatible with the multi-cost
extension <span>[<a class="xref" href="#RFC8189">RFC8189</a>]</span>. Such a resource has a media type of either
"multipart/related; type=application/alto-costmap+json" or "multipart/related;
type=application/alto-endpointcost+json". Its "cost-constraints" field must be
either "false" or not present, and the Path Vector cost type must be present
in the "cost-type-names" capability field but must not be present in the
"testable-cost-type-names" field, as specified in Sections <a class="xref" href="#pvcm-cap">7.2.4</a> and <a class="xref" href="#pvecs-cap">7.3.4</a>.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
</section>
</div>
<div id="compatibility-with-incremental-update">
<section id="section-9.3">
        <h3 id="name-compatibility-with-incremen">
<a class="section-number selfRef" href="#section-9.3">9.3. </a><a class="section-name selfRef" href="#name-compatibility-with-incremen">Compatibility with Incremental Update Extension</a>
        </h3>
<p id="section-9.3-1">This extension is compatible with the incremental update extension <span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span>.
ALTO clients and servers <span class="bcp14">MUST</span> follow the specifications given in Sections <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8895#section-5.2">5.2</a> and <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8895#section-6.7.3">6.7.3</a> of <span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span> to support incremental updates for a Path Vector
resource.<a class="pilcrow" href="#section-9.3-1">¶</a></p>
</section>
</div>
<div id="compatibility-with-cost-calendar">
<section id="section-9.4">
        <h3 id="name-compatibility-with-cost-cal">
<a class="section-number selfRef" href="#section-9.4">9.4. </a><a class="section-name selfRef" href="#name-compatibility-with-cost-cal">Compatibility with Cost Calendar Extension</a>
        </h3>
<p id="section-9.4-1">The extension specified in this document is compatible with the Cost Calendar
extension <span>[<a class="xref" href="#RFC8896">RFC8896</a>]</span>. When used together with the Cost Calendar extension, the
cost value between a source and a destination is an array of Path Vectors, where
the k-th Path Vector refers to the abstract network paths traversed in the k-th
time interval by traffic from the source to the destination.<a class="pilcrow" href="#section-9.4-1">¶</a></p>
<p id="section-9.4-2">When used with time-varying properties, e.g., maximum reservable bandwidth, a
property of a single ANE may also have different values in different time
intervals. In this case, if such an ANE has different property values in two
time intervals, it <span class="bcp14">MUST</span> be treated as two different ANEs, i.e., with different
entity identifiers. However, if it has the same property values in two time
intervals, it <span class="bcp14">MAY</span> use the same identifier.<a class="pilcrow" href="#section-9.4-2">¶</a></p>
<p id="section-9.4-3">This rule allows the Path Vector extension to represent both changes of ANEs and
changes of the ANEs' properties in a uniform way. The Path Vector part is
calendared in a compatible way, and the property map part is not affected by the
Cost Calendar extension.<a class="pilcrow" href="#section-9.4-3">¶</a></p>
<p id="section-9.4-4">The two extensions combined together can provide the historical network
correlation information for a set of source and destination pairs. A network
broker or client may use this information to derive other resource requirements
such as Time-Block-Maximum Bandwidth, Bandwidth-Sliding-Window, and
Time-Bandwidth-Product (TBP) (see <span>[<a class="xref" href="#SENSE">SENSE</a>]</span> for details).<a class="pilcrow" href="#section-9.4-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="SecDisc">
<section id="section-10">
      <h2 id="name-general-discussion">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-general-discussion">General Discussion</a>
      </h2>
<div id="constraint-tests-for-general-cost-types">
<section id="section-10.1">
        <h3 id="name-constraint-tests-for-genera">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-constraint-tests-for-genera">Constraint Tests for General Cost Types</a>
        </h3>
<p id="section-10.1-1">The constraint test is a simple approach for querying the data. It allows users to
filter query results by specifying some boolean tests. This approach is
already used in the ALTO Protocol. ALTO clients are permitted to specify either the "constraints" test <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> <span>[<a class="xref" href="#RFC8189">RFC8189</a>]</span> or the "or-constraints" test <span>[<a class="xref" href="#RFC8189">RFC8189</a>]</span> to better
filter the results.<a class="pilcrow" href="#section-10.1-1">¶</a></p>
<p id="section-10.1-2">However, the current syntax can only be used to test scalar cost types and
cannot easily express constraints on complex cost types, e.g., the Path Vector
cost type defined in this document.<a class="pilcrow" href="#section-10.1-2">¶</a></p>
<p id="section-10.1-3">In practice, developing a bespoke language for general-purpose boolean tests can
be a complex undertaking, and it is conceivable that such implementations already exist
(the authors have not done an exhaustive search to
determine whether such implementations exist). One avenue for developing such a
language may be to explore extending current query languages like XQuery
<span>[<a class="xref" href="#XQuery">XQuery</a>]</span> or JSONiq <span>[<a class="xref" href="#JSONiq">JSONiq</a>]</span> and integrating these with ALTO.<a class="pilcrow" href="#section-10.1-3">¶</a></p>
<p id="section-10.1-4">Filtering the Path Vector results or developing a more sophisticated filtering
mechanism is beyond the scope of this document.<a class="pilcrow" href="#section-10.1-4">¶</a></p>
</section>
</div>
<div id="general-multi-resource-query">
<section id="section-10.2">
        <h3 id="name-general-multi-resource-quer">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-general-multi-resource-quer">General Multi-Resource Query</a>
        </h3>
<p id="section-10.2-1">Querying multiple ALTO information resources continuously is a general
requirement. Enabling such a capability, however, must address general
issues like efficiency and consistency. The incremental update extension
<span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span> supports submitting multiple queries in a single request and allows
flexible control over the queries. However, it does not cover the case
introduced in this document where multiple resources are needed for a single
request.<a class="pilcrow" href="#section-10.2-1">¶</a></p>
<p id="section-10.2-2">The extension specified in this document gives an example of using a multipart message to encode the
responses from two specific ALTO information resources: a filtered cost map or
an Endpoint Cost Service, and a property map.  By packing multiple resources in a
single response, the implication is that servers may proactively push related
information resources to clients.<a class="pilcrow" href="#section-10.2-2">¶</a></p>
<p id="section-10.2-3">Thus, it is worth looking into extending the SSE mechanism as
used in the incremental update extension <span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span>; or upgrading to HTTP/2
<span>[<a class="xref" href="#RFC9113">RFC9113</a>]</span> and HTTP/3 <span>[<a class="xref" href="#RFC9114">RFC9114</a>]</span>, which
provides the ability to multiplex queries and to allow servers to proactively send
related information resources.<a class="pilcrow" href="#section-10.2-3">¶</a></p>
<p id="section-10.2-4">Defining a general multi-resource query mechanism is out of scope for this
document.<a class="pilcrow" href="#section-10.2-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-11">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-11-1">This document is an extension of the base ALTO Protocol, so the security
considerations provided for the base ALTO Protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> fully apply when this
extension is provided by an ALTO server.<a class="pilcrow" href="#section-11-1">¶</a></p>
<p id="section-11-2">The Path Vector extension requires additional scrutiny of three security
considerations discussed in the base protocol: confidentiality of ALTO
information (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.3">Section 15.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>), potential undesirable guidance from
authenticated ALTO information (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.2">Section 15.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>), and availability
of ALTO services (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.5">Section 15.5</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>).<a class="pilcrow" href="#section-11-2">¶</a></p>
<p id="section-11-3">For confidentiality of ALTO information, a network operator should be aware that
this extension may introduce a new risk: the Path Vector information, when used
together with sensitive ANE properties such as capacities of bottleneck links,
may make network attacks easier. For example, as the Path Vector information may
reveal more fine-grained internal network structures than the base protocol, an
attacker may identify the bottleneck link or links and start a distributed
denial-of-service (DDoS) attack involving minimal flows, triggering
in-network congestion. Given the potential risk of leaking sensitive
information, the Path Vector extension is mainly applicable in scenarios where
1) the ANE structures and ANE properties do not impose security risks on the
ALTO service provider (e.g., they do not carry sensitive information) or 2) the ALTO
server and client have established a reliable trust relationship (e.g.,
they operate in the same administrative domain or are managed by business partners with
legal contracts).<a class="pilcrow" href="#section-11-3">¶</a></p>
<p id="section-11-4">Three risk types are identified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.3.1">Section 15.3.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>:<a class="pilcrow" href="#section-11-4">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-11-5">
  <dt>(1)</dt>
<dd id="section-11-5.1">excess disclosure of the ALTO service provider's data to an unauthorized ALTO client,<a class="pilcrow" href="#section-11-5.1">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-11-5.2">disclosure of the ALTO service provider's data (e.g., network topology
information or endpoint addresses) to an unauthorized third party, and<a class="pilcrow" href="#section-11-5.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt>(3)</dt>
<dd id="section-11-5.3">excess retrieval of the ALTO service provider's data by collaborating ALTO
clients.<a class="pilcrow" href="#section-11-5.3">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-11-6">To mitigate these risks, an ALTO server <span class="bcp14">MUST</span> follow the guidelines in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.3.2">Section 15.3.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. Furthermore, an ALTO server <span class="bcp14">MUST</span> follow the
following additional protections strategies for risk types (1) and (3).<a class="pilcrow" href="#section-11-6">¶</a></p>
<p id="section-11-7">For risk type (1), an ALTO server <span class="bcp14">MUST</span> use the authentication methods specified
in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.3.2">Section 15.3.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> to authenticate the identity of an ALTO client
and apply access control techniques to restrict the retrieval of sensitive Path Vector information by unprivileged ALTO clients. For settings where the ALTO server
and client are not in the same trust domain, the ALTO server should reach
agreements with the ALTO client regarding protection of confidentiality before
granting access to Path Vector services with sensitive information. Such
agreements may include legal contracts or Digital Rights Management (DRM)
techniques. Otherwise, the ALTO server <span class="bcp14">MUST NOT</span> offer Path Vector services that
carry sensitive information to the clients, unless the potential risks are
fully assessed and mitigated.<a class="pilcrow" href="#section-11-7">¶</a></p>
<p id="section-11-8">For risk type (3), an ALTO service provider must be aware that persistent ANEs
may be used as "landmarks" in collaborative inferences. Thus, they should only
be used when exposing public service access points (e.g., API gateways, CDN Interconnections)
and/or when the granularity is coarse grained (e.g., when an ANE represents an
AS, a data center, or a WAN).
Otherwise, an ALTO server <span class="bcp14">MUST</span> use dynamic mappings from ephemeral ANE names to
underlying physical entities. Specifically, for the same physical entity, an
ALTO server <span class="bcp14">SHOULD</span> assign a different ephemeral ANE name when the entity appears
in the responses to different clients or even for different requests from the
same client. A <span class="bcp14">RECOMMENDED</span> assignment strategy is to generate ANE names from
random numbers.<a class="pilcrow" href="#section-11-8">¶</a></p>
<p id="section-11-9">Further, to protect the network topology from graph reconstruction (e.g.,
through isomorphic graph identification <span>[<a class="xref" href="#BONDY">BONDY</a>]</span>), the ALTO server <span class="bcp14">SHOULD</span>
consider protection mechanisms to reduce information exposure or obfuscate the
real information. When doing so, the ALTO server must be aware that information
reduction/obfuscation may lead to a potential risk of undesirable guidance from
authenticated ALTO information (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.2">Section 15.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>).<a class="pilcrow" href="#section-11-9">¶</a></p>
<p id="section-11-10">Thus, implementations of ALTO servers involving reduction or obfuscation of the
Path Vector information <span class="bcp14">SHOULD</span> consider reduction/obfuscation mechanisms that
can preserve the integrity of ALTO information -- for example, by using minimal
feasible region compression algorithms <span>[<a class="xref" href="#NOVA">NOVA</a>]</span> or obfuscation protocols
<span>[<a class="xref" href="#RESA">RESA</a>]</span> <span>[<a class="xref" href="#MERCATOR">MERCATOR</a>]</span>. However, these obfuscation methods are experimental, and their
practical applicability to the generic capability
provided by this extension has not been fully assessed. The ALTO server <span class="bcp14">MUST</span> carefully
verify that the deployment scenario satisfies the security assumptions of these
methods before applying them to protect Path Vector services with sensitive
network information.<a class="pilcrow" href="#section-11-10">¶</a></p>
<p id="section-11-11">For availability of ALTO services, an ALTO server should be cognizant that using a
Path Vector extension might introduce a new risk: frequent requests for Path
Vectors might consume intolerable amounts of server-side computation and
storage.  This behavior can break the ALTO server. For example, if an ALTO server
implementation dynamically computes the Path Vectors for each request, the
service that provides the Path Vectors may become an entry point for denial-of-service
attacks on the availability of an ALTO server.<a class="pilcrow" href="#section-11-11">¶</a></p>
<p id="section-11-12">To mitigate this risk, an ALTO server may consider using such optimizations as
precomputation-and-projection mechanisms <span>[<a class="xref" href="#MERCATOR">MERCATOR</a>]</span> to reduce the overhead for
processing each query. An ALTO server may also protect itself from
malicious clients by monitoring client behavior and stopping service to
clients that exhibit suspicious behavior (e.g., sending requests at a high frequency).<a class="pilcrow" href="#section-11-12">¶</a></p>
<p id="section-11-13">The ALTO service providers must be aware that providing incremental updates of
"max-reservable-bandwidth" may provide information about other consumers of
the network. For example, a change in value may indicate that one or more
reservations have been made or changed. To mitigate this risk, an ALTO server
can batch the updates and/or add a random delay before publishing the updates.<a class="pilcrow" href="#section-11-13">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-12">12. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="alto-cost-metrics-registry">
<section id="section-12.1">
        <h3 id="name-alto-cost-metrics-registry">
<a class="section-number selfRef" href="#section-12.1">12.1. </a><a class="section-name selfRef" href="#name-alto-cost-metrics-registry">"ALTO Cost Metrics" Registry</a>
        </h3>
<p id="section-12.1-1">This document registers a new entry in the "ALTO Cost Metrics" registry, per
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-14.2">Section 14.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. The new entry
is as shown below in <a class="xref" href="#tbl-cost-metric">Table 1</a>.<a class="pilcrow" href="#section-12.1-1">¶</a></p>
<span id="name-alto-cost-metrics-registry-2"></span><div id="tbl-cost-metric">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-alto-cost-metrics-registry-2">"ALTO Cost Metrics" Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Identifier</th>
              <th class="text-left" colspan="1" rowspan="1">Intended Semantics</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ane-path</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#metric-spec">Section 6.5.1</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9275</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="alto-cost-modes-registry">
<section id="section-12.2">
        <h3 id="name-alto-cost-modes-registry">
<a class="section-number selfRef" href="#section-12.2">12.2. </a><a class="section-name selfRef" href="#name-alto-cost-modes-registry">"ALTO Cost Modes" Registry</a>
        </h3>
<p id="section-12.2-1">This document registers a new entry in the "ALTO Cost Modes" registry, per
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9274#section-5">Section 5</a> of [<a class="xref" href="#RFC9274">RFC9274</a>]</span>. The new entry
is as shown below in <a class="xref" href="#tbl-cost-mode">Table 2</a>.<a class="pilcrow" href="#section-12.2-1">¶</a></p>
<span id="name-alto-cost-modes-registry-2"></span><div id="tbl-cost-mode">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-alto-cost-modes-registry-2">"ALTO Cost Modes" Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Identifier</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
              <th class="text-left" colspan="1" rowspan="1">Intended Semantics</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">array</td>
              <td class="text-left" colspan="1" rowspan="1">Indicates that the cost value is a JSON array</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#mode-spec">Section 6.5.2</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9275</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="alto-entity-domain-types-registry">
<section id="section-12.3">
        <h3 id="name-alto-entity-domain-types-re">
<a class="section-number selfRef" href="#section-12.3">12.3. </a><a class="section-name selfRef" href="#name-alto-entity-domain-types-re">"ALTO Entity Domain Types" Registry</a>
        </h3>
<p id="section-12.3-1">This document registers a new entry in the "ALTO Entity Domain Types" registry, per
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-12.3">Section 12.3</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>. The new entry
is as shown below in <a class="xref" href="#tbl-entity-domain">Table 3</a>.<a class="pilcrow" href="#section-12.3-1">¶</a></p>
<span id="name-alto-entity-domain-types-reg"></span><div id="tbl-entity-domain">
<table class="center" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-alto-entity-domain-types-reg">"ALTO Entity Domain Types" Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Identifier</th>
              <th class="text-left" colspan="1" rowspan="1">Entity Identifier Encoding</th>
              <th class="text-left" colspan="1" rowspan="1">Hierarchy and Inheritance</th>
              <th class="text-left" colspan="1" rowspan="1">Media Type of Defining Resource</th>
              <th class="text-left" colspan="1" rowspan="1">Mapping to ALTO Address Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ane</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#entity-address">Section 6.2.2</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">None</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-propmap+json</td>
              <td class="text-left" colspan="1" rowspan="1">false</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlParallel" id="section-12.3-3">
          <dt id="section-12.3-3.1">
Identifier:  </dt>
          <dd id="section-12.3-3.2" style="margin-left: 1.5em">
            <p id="section-12.3-3.2.1">See <a class="xref" href="#domain-type">Section 6.2.1</a>.<a class="pilcrow" href="#section-12.3-3.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.3-3.3">
Entity Identifier Encoding:  </dt>
          <dd id="section-12.3-3.4" style="margin-left: 1.5em">
            <p id="section-12.3-3.4.1">See <a class="xref" href="#entity-address">Section 6.2.2</a>.<a class="pilcrow" href="#section-12.3-3.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.3-3.5">
Hierarchy:  </dt>
          <dd id="section-12.3-3.6" style="margin-left: 1.5em">
            <p id="section-12.3-3.6.1">None<a class="pilcrow" href="#section-12.3-3.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.3-3.7">
Inheritance:  </dt>
          <dd id="section-12.3-3.8" style="margin-left: 1.5em">
            <p id="section-12.3-3.8.1">None<a class="pilcrow" href="#section-12.3-3.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.3-3.9">
Media Type of Defining Resource:  </dt>
          <dd id="section-12.3-3.10" style="margin-left: 1.5em">
            <p id="section-12.3-3.10.1">See <a class="xref" href="#domain-defining">Section 6.2.4</a>.<a class="pilcrow" href="#section-12.3-3.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.3-3.11">
Mapping to ALTO Address Type:  </dt>
          <dd id="section-12.3-3.12" style="margin-left: 1.5em">
            <p id="section-12.3-3.12.1">This entity type does not map to an ALTO address type.<a class="pilcrow" href="#section-12.3-3.12.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.3-3.13">
Security Considerations:  </dt>
          <dd id="section-12.3-3.14" style="margin-left: 1.5em">
            <p id="section-12.3-3.14.1">In some usage scenarios, ANE addresses carried in ALTO Protocol messages may
reveal information about an ALTO client or an ALTO service provider.
If a naming schema is used to generate ANE names, either
used privately or standardized by a future extension, how
(or if) the naming schema relates to private information
and network proximity must be explained to ALTO implementers
and service providers.<a class="pilcrow" href="#section-12.3-3.14.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="alto-entity-property-types-registry">
<section id="section-12.4">
        <h3 id="name-alto-entity-property-types-">
<a class="section-number selfRef" href="#section-12.4">12.4. </a><a class="section-name selfRef" href="#name-alto-entity-property-types-">"ALTO Entity Property Types" Registry</a>
        </h3>
<p id="section-12.4-1">Two initial entries -- "max-reservable-bandwidth" and "persistent-entity-id" -- are
registered for the ALTO domain "ane" in the "ALTO Entity Property Types" registry,
per <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-12.4">Section 12.4</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>. The two
new entries are shown below in <a class="xref" href="#tbl-prop-type-reg">Table 4</a>, and their details can be
found in Sections <a class="xref" href="#mrb-iana">12.4.1</a> and <a class="xref" href="#pei-iana">12.4.2</a> of this document.<a class="pilcrow" href="#section-12.4-1">¶</a></p>
<span id="name-initial-entries-for-the-ane"></span><div id="tbl-prop-type-reg">
<table class="center" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-initial-entries-for-the-ane">Initial Entries for the "ane" Domain in the "ALTO Entity Property Types" Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Identifier</th>
              <th class="text-left" colspan="1" rowspan="1">Intended Semantics</th>
              <th class="text-left" colspan="1" rowspan="1">Media Type of Defining Resource</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">max-reservable-bandwidth</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#maxresbw">Section 6.4.1</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-propmap+json</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">persistent-entity-id</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#persistent-entity-id">Section 6.4.2</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-propmap+json</td>
            </tr>
          </tbody>
        </table>
</div>
<div id="mrb-iana">
<section id="section-12.4.1">
          <h4 id="name-new-ane-property-type-maxim">
<a class="section-number selfRef" href="#section-12.4.1">12.4.1. </a><a class="section-name selfRef" href="#name-new-ane-property-type-maxim">New ANE Property Type: Maximum Reservable Bandwidth</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-12.4.1-1">
            <dt id="section-12.4.1-1.1">
Identifier:  </dt>
            <dd id="section-12.4.1-1.2" style="margin-left: 1.5em">
              <p id="section-12.4.1-1.2.1">"max-reservable-bandwidth"<a class="pilcrow" href="#section-12.4.1-1.2.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-12.4.1-1.3">
Intended Semantics:  </dt>
            <dd id="section-12.4.1-1.4" style="margin-left: 1.5em">
              <p id="section-12.4.1-1.4.1">See <a class="xref" href="#maxresbw">Section 6.4.1</a>.<a class="pilcrow" href="#section-12.4.1-1.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-12.4.1-1.5">
Media Type of Defining Resource:  </dt>
            <dd id="section-12.4.1-1.6" style="margin-left: 1.5em">
              <p id="section-12.4.1-1.6.1">application/alto-propmap+json<a class="pilcrow" href="#section-12.4.1-1.6.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-12.4.1-1.7">
Security Considerations:  </dt>
            <dd id="section-12.4.1-1.8" style="margin-left: 1.5em">
              <p id="section-12.4.1-1.8.1">To make better choices regarding bandwidth reservation, this property is essential for applications such as large-scale data
transfers or an overlay network interconnection. It may reveal the bandwidth usage of the underlying
network and can potentially be leveraged to reduce the cost of conducting
denial-of-service attacks. Thus, the ALTO server <span class="bcp14">MUST</span> consider such protection
mechanisms as providing the information to authorized clients only and applying
information reduction and obfuscation as discussed in <a class="xref" href="#Security">Section 11</a>.<a class="pilcrow" href="#section-12.4.1-1.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="pei-iana">
<section id="section-12.4.2">
          <h4 id="name-new-ane-property-type-persi">
<a class="section-number selfRef" href="#section-12.4.2">12.4.2. </a><a class="section-name selfRef" href="#name-new-ane-property-type-persi">New ANE Property Type: Persistent Entity ID</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-12.4.2-1">
            <dt id="section-12.4.2-1.1">
Identifier:  </dt>
            <dd id="section-12.4.2-1.2" style="margin-left: 1.5em">
              <p id="section-12.4.2-1.2.1">"persistent-entity-id"<a class="pilcrow" href="#section-12.4.2-1.2.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-12.4.2-1.3">
Intended Semantics:  </dt>
            <dd id="section-12.4.2-1.4" style="margin-left: 1.5em">
              <p id="section-12.4.2-1.4.1">See <a class="xref" href="#persistent-entity-id">Section 6.4.2</a>.<a class="pilcrow" href="#section-12.4.2-1.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-12.4.2-1.5">
Media Type of Defining Resource:  </dt>
            <dd id="section-12.4.2-1.6" style="margin-left: 1.5em">
              <p id="section-12.4.2-1.6.1">application/alto-propmap+json<a class="pilcrow" href="#section-12.4.2-1.6.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-12.4.2-1.7">
Security Considerations:  </dt>
            <dd id="section-12.4.2-1.8" style="margin-left: 1.5em">
              <p id="section-12.4.2-1.8.1">This property is useful when an ALTO server wants to selectively expose
certain service points whose detailed properties can be further queried by
applications. As mentioned in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-12.3.2">Section 12.3.2</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>, the entity IDs may reveal sensitive information about the
underlying network. An ALTO server should follow the security
considerations provided in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9240#section-11">Section 11</a> of [<a class="xref" href="#RFC9240">RFC9240</a>]</span>.<a class="pilcrow" href="#section-12.4.2-1.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<section id="section-13">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-13">13. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-13.1">13.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2046">[RFC2046]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"</span>, <span class="seriesInfo">RFC 2046</span>, <span class="seriesInfo">DOI 10.17487/RFC2046</span>, <time class="refDate" datetime="1996-11">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2046">https://www.rfc-editor.org/info/rfc2046</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2387">[RFC2387]</dt>
        <dd>
<span class="refAuthor">Levinson, E.</span>, <span class="refTitle">"The MIME Multipart/Related Content-type"</span>, <span class="seriesInfo">RFC 2387</span>, <span class="seriesInfo">DOI 10.17487/RFC2387</span>, <time class="refDate" datetime="1998-08">August 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2387">https://www.rfc-editor.org/info/rfc2387</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5322">[RFC5322]</dt>
        <dd>
<span class="refAuthor">Resnick, P., Ed.</span>, <span class="refTitle">"Internet Message Format"</span>, <span class="seriesInfo">RFC 5322</span>, <span class="seriesInfo">DOI 10.17487/RFC5322</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5322">https://www.rfc-editor.org/info/rfc5322</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time class="refDate" datetime="2014-09">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7285">https://www.rfc-editor.org/info/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8189">[RFC8189]</dt>
        <dd>
<span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Roome, W.</span>, and <span class="refAuthor">N. Schwan</span>, <span class="refTitle">"Multi-Cost Application-Layer Traffic Optimization (ALTO)"</span>, <span class="seriesInfo">RFC 8189</span>, <span class="seriesInfo">DOI 10.17487/RFC8189</span>, <time class="refDate" datetime="2017-10">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8189">https://www.rfc-editor.org/info/rfc8189</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8895">[RFC8895]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)"</span>, <span class="seriesInfo">RFC 8895</span>, <span class="seriesInfo">DOI 10.17487/RFC8895</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8895">https://www.rfc-editor.org/info/rfc8895</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8896">[RFC8896]</dt>
        <dd>
<span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, R.</span>, <span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Deng, L.</span>, and <span class="refAuthor">N. Schwan</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Cost Calendar"</span>, <span class="seriesInfo">RFC 8896</span>, <span class="seriesInfo">DOI 10.17487/RFC8896</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8896">https://www.rfc-editor.org/info/rfc8896</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9240">[RFC9240]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, Y.</span>, <span class="refAuthor">Zhang, J.</span>, and <span class="refAuthor">K. Gao</span>, <span class="refTitle">"An Extension for Application-Layer Traffic Optimization (ALTO): Entity Property Maps"</span>, <span class="seriesInfo">RFC 9240</span>, <span class="seriesInfo">DOI 10.17487/RFC9240</span>, <time class="refDate" datetime="2022-07">July 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9240">https://www.rfc-editor.org/info/rfc9240</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9274">[RFC9274]</dt>
      <dd>
<span class="refAuthor">Boucadair, M.</span> and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"A Cost Mode Registry for the Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 9274</span>, <span class="seriesInfo">DOI 10.17487/RFC9274</span>, <time class="refDate" datetime="2022-07">July 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9274">https://www.rfc-editor.org/info/rfc9274</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-13.2">13.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="ALTO-PERF-METRICS">[ALTO-PERF-METRICS]</dt>
        <dd>
<span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Yang, Y.</span>, <span class="refAuthor">Lee, Y.</span>, <span class="refAuthor">Dhody, D.</span>, <span class="refAuthor">Randriamasy, S.</span>, and <span class="refAuthor">L. Contreras</span>, <span class="refTitle">"ALTO Performance Cost Metrics"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-alto-performance-metrics-28</span>, <time class="refDate" datetime="2022-03-21">21 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-alto-performance-metrics-28">https://datatracker.ietf.org/doc/html/draft-ietf-alto-performance-metrics-28</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="BONDY">[BONDY]</dt>
        <dd>
<span class="refAuthor">Bondy, J.A.</span> and <span class="refAuthor">R.L. Hemminger</span>, <span class="refTitle">"Graph reconstruction--a survey"</span>, <span class="refContent">Journal of Graph Theory, Volume 1, Issue 3, pp. 227-268</span>, <span class="seriesInfo">DOI 10.1002/jgt.3190010306</span>, <time class="refDate" datetime="1977">1977</time>, <span>&lt;<a href="https://onlinelibrary.wiley.com/doi/10.1002/jgt.3190010306">https://onlinelibrary.wiley.com/doi/10.1002/jgt.3190010306</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="BOXOPT">[BOXOPT]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Yu, H.</span>, <span class="refAuthor">Aspnes, J.</span>, <span class="refAuthor">Le, F.</span>, <span class="refAuthor">Kong, L.</span>, and <span class="refAuthor">Y.R. Yang</span>, <span class="refTitle">"Optimizing in the Dark: Learning an Optimal Solution through a Simple Request Interface"</span>, <span class="refContent"> Proceedings of the AAAI Conference on Artificial Intelligence 33, 1674-1681</span>, <span class="seriesInfo">DOI 10.1609/aaai.v33i01.33011674</span>, <time class="refDate" datetime="2019-07">July 2019</time>, <span>&lt;<a href="https://ojs.aaai.org//index.php/AAAI/article/view/3984">https://ojs.aaai.org//index.php/AAAI/article/view/3984</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CLARINET">[CLARINET]</dt>
        <dd>
<span class="refAuthor">Viswanathan, R.</span>, <span class="refAuthor">Ananthanarayanan, G.</span>, and <span class="refAuthor">A. Akella</span>, <span class="refTitle">"CLARINET: WAN-aware optimization for analytics queries"</span>, <span class="refContent">
Proceedings of the 12th USENIX conference on Operating Systems Design and Implementation (OSDI'16), Savannah, GA, pp. 435-450</span>, <time class="refDate" datetime="2016-11">November 2016</time>, <span>&lt;<a href="https://dl.acm.org/doi/abs/10.5555/3026877.3026911">https://dl.acm.org/doi/abs/10.5555/3026877.3026911</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="G2">[G2]</dt>
        <dd>
<span class="refAuthor">Ros-Giralt, J.</span>, <span class="refAuthor">Bohara, A.</span>, <span class="refAuthor">Yellamraju, S.</span>, <span class="refAuthor">Langston, M.H.</span>, <span class="refAuthor">Lethin, R.</span>, <span class="refAuthor">Jiang, Y.</span>, <span class="refAuthor">Tassiulas, L.</span>, <span class="refAuthor">Li, J.</span>, <span class="refAuthor">Tan, Y.</span>, and <span class="refAuthor">M. Veeraraghavan</span>, <span class="refTitle">"On the Bottleneck Structure of Congestion-Controlled Networks"</span>, <span class="refContent">Proceedings of the ACM on Measurement and Analysis of Computing Systems, Volume 3, Issue 3, pp. 1-31</span>, <span class="seriesInfo">DOI 10.1145/3366707</span>, <time class="refDate" datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://dl.acm.org/doi/10.1145/3366707">https://dl.acm.org/doi/10.1145/3366707</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HUG">[HUG]</dt>
        <dd>
<span class="refAuthor">Chowdhury, M.</span>, <span class="refAuthor">Liu, Z.</span>, <span class="refAuthor">Ghodsi, A.</span>, and <span class="refAuthor">I. Stoica</span>, <span class="refTitle">"HUG: multi-resource fairness for correlated and elastic demands"</span>, <span class="refContent">Proceedings of the 13th USENIX Conference on Networked Systems Design and Implementation (NSDI'16), Santa Clara, CA, pp. 407-424</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://dl.acm.org/doi/10.5555/2930611.2930638">https://dl.acm.org/doi/10.5555/2930611.2930638</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="INTENT-BASED-NETWORKING">[INTENT-BASED-NETWORKING]</dt>
        <dd>
<span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Ciavaglia, L.</span>, <span class="refAuthor">Granville, L. Z.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"Intent-Based Networking - Concepts and Definitions"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-nmrg-ibn-concepts-definitions-09</span>, <time class="refDate" datetime="2022-03-24">24 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-nmrg-ibn-concepts-definitions-09">https://datatracker.ietf.org/doc/html/draft-irtf-nmrg-ibn-concepts-definitions-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSONiq">[JSONiq]</dt>
        <dd>
<span class="refAuthor">JSONiq</span>, <span class="refTitle">"The JSON Query Language"</span>, <time class="refDate" datetime="2022">2022</time>, <span>&lt;<a href="https://www.jsoniq.org/">https://www.jsoniq.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MERCATOR">[MERCATOR]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Wang, X.</span>, <span class="refAuthor">Liu, Y.</span>, <span class="refAuthor">Guok, C.</span>, <span class="refAuthor">Le, F.</span>, <span class="refAuthor">MacAuley, J.</span>, <span class="refAuthor">Newman, H.</span>, and <span class="refAuthor">Y.R. Yang</span>, <span class="refTitle">"Toward Fine-Grained, Privacy-Preserving, Efficient Multi-Domain Network Resource Discovery"</span>, <span class="refContent">IEEE/ACM, IEEE Journal on Selected Areas in Communications, Volume 37, Issue 8, pp. 1924-1940</span>, <span class="seriesInfo">DOI 10.1109/JSAC.2019.2927073</span>, <time class="refDate" datetime="2019-08">August 2019</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8756056">https://ieeexplore.ieee.org/document/8756056</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MOWIE">[MOWIE]</dt>
        <dd>
<span class="refAuthor">Zhang, Y.</span>, <span class="refAuthor">Li, G.</span>, <span class="refAuthor">Xiong, C.</span>, <span class="refAuthor">Lei, Y.</span>, <span class="refAuthor">Huang, W.</span>, <span class="refAuthor">Han, Y.</span>, <span class="refAuthor">Walid, A.</span>, <span class="refAuthor">Yang, Y.R.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"MoWIE: Toward Systematic, Adaptive Network Information Exposure as an Enabling Technique for Cloud-Based Applications over 5G and Beyond"</span>, <span class="refContent">Proceedings of the Workshop on Network Application Integration/CoDesign (NAI '20), ACM, Virtual Event USA, pp. 20-27</span>, <span class="seriesInfo">DOI 10.1145/3405672.3409489</span>, <time class="refDate" datetime="2020-08">August 2020</time>, <span>&lt;<a href="https://dl.acm.org/doi/10.1145/3405672.3409489">https://dl.acm.org/doi/10.1145/3405672.3409489</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="NOVA">[NOVA]</dt>
        <dd>
<span class="refAuthor">Gao, K.</span>, <span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Wang, X.</span>, <span class="refAuthor">Yang, Y.R.</span>, and <span class="refAuthor">J. Bi</span>, <span class="refTitle">"An Objective-Driven On-Demand Network Abstraction for Adaptive Applications"</span>, <span class="refContent">IEEE/ACM Transactions on Networking (TON) Vol. 27, Issue 2, pp. 805-818</span>, <span class="seriesInfo">DOI 10.1109/TNET.2019.2899905</span>, <time class="refDate" datetime="2019-04">April 2019</time>, <span>&lt;<a href="https://doi.org/10.1109/TNET.2019.2899905">https://doi.org/10.1109/TNET.2019.2899905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RESA">[RESA]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Wang, X.</span>, <span class="refAuthor">Liu, Y.</span>, <span class="refAuthor">Guok, C.</span>, <span class="refAuthor">Le, F.</span>, <span class="refAuthor">MacAuley, J.</span>, <span class="refAuthor">Newman, H.</span>, and <span class="refAuthor">Y.R. Yang</span>, <span class="refTitle">"Fine-Grained, Multi-Domain Network Resource Abstraction as a Fundamental Primitive to Enable High-Performance, Collaborative Data Sciences"</span>, <span class="refContent">SC18: International Conference for High Performance Computing, Networking, Storage and Analysis, pp. 58-70</span>, <span class="seriesInfo">DOI 10.1109/SC.2018.00008</span>, <time class="refDate" datetime="2018-11">November 2018</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8665783">https://ieeexplore.ieee.org/document/8665783</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2216">[RFC2216]</dt>
        <dd>
<span class="refAuthor">Shenker, S.</span> and <span class="refAuthor">J. Wroclawski</span>, <span class="refTitle">"Network Element Service Specification Template"</span>, <span class="seriesInfo">RFC 2216</span>, <span class="seriesInfo">DOI 10.17487/RFC2216</span>, <time class="refDate" datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2216">https://www.rfc-editor.org/info/rfc2216</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[RFC9113]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9114">[RFC9114]</dt>
        <dd>
<span class="refAuthor">Bishop, M., Ed.</span>, <span class="refTitle">"HTTP/3"</span>, <span class="seriesInfo">RFC 9114</span>, <span class="seriesInfo">DOI 10.17487/RFC9114</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9114">https://www.rfc-editor.org/info/rfc9114</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SENSE">[SENSE]</dt>
        <dd>
<span class="refAuthor">ESnet</span>, <span class="refTitle">"Software Defined Networking (SDN) for End-to-End Networked Science at the Exascale"</span>, <time class="refDate" datetime="2019">2019</time>, <span>&lt;<a href="https://www.es.net/network-r-and-d/sense/">https://www.es.net/network-r-and-d/sense/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SEREDGE">[SEREDGE]</dt>
        <dd>
<span class="refAuthor">Contreras, L.</span>, <span class="refAuthor">Baliosian, J.</span>, <span class="refAuthor">Martínez-Julia, P.</span>, and <span class="refAuthor">J. Serrat</span>, <span class="refTitle">"Computing at the Edge: But, what Edge?"</span>, <span class="refContent">Proceedings of NOMS 2020 - 2020 IEEE/IFIP Network Operations and Management Symposium, pp. 1-9</span>, <span class="seriesInfo">DOI 10.1109/NOMS47738.2020.9110342</span>, <time class="refDate" datetime="2020-04">April 2020</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/9110342">https://ieeexplore.ieee.org/document/9110342</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SWAN">[SWAN]</dt>
        <dd>
<span class="refAuthor">Hong, C.</span>, <span class="refAuthor">Kandula, S.</span>, <span class="refAuthor">Mahajan, R.</span>, <span class="refAuthor">Zhang, M.</span>, <span class="refAuthor">Gill, V.</span>, <span class="refAuthor">Nanduri, M.</span>, and <span class="refAuthor">R. Wattenhofer</span>, <span class="refTitle">"Achieving high utilization with software-driven WAN"</span>, <span class="refContent">Proceedings of the ACM SIGCOMM 2013 conference on SIGCOMM (SIGCOMM '13), New York, NY, pp. 15-26</span>, <span class="seriesInfo">DOI 10.1145/2486001.2486012</span>, <time class="refDate" datetime="2013-08">August 2013</time>, <span>&lt;<a href="https://dl.acm.org/doi/10.1145/2486001.2486012">https://dl.acm.org/doi/10.1145/2486001.2486012</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UNICORN">[UNICORN]</dt>
        <dd>
<span class="refAuthor">Xiang, Q.</span>, <span class="refAuthor">Wang, T.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Newman, H.</span>, <span class="refAuthor">Yang, Y.R.</span>, and <span class="refAuthor">Y. Liu</span>, <span class="refTitle">"Unicorn: Unified resource orchestration for multi-domain, geo-distributed data analytics"</span>, <span class="refContent">Future Generation Computer Systems, Volume 93, pp. 188-197</span>, <span class="seriesInfo">DOI 10.1016/j.future.2018.09.048</span>, <time class="refDate" datetime="2019-04">April 2019</time>, <span>&lt;<a href="https://www.sciencedirect.com/science/article/abs/pii/S0167739X18302413?via%3Dihub">https://www.sciencedirect.com/science/article/abs/pii/S0167739X18302413?via%3Dihub</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="XQuery">[XQuery]</dt>
      <dd>
<span class="refAuthor">Robie, J., Ed.</span>, <span class="refAuthor">Dyck, M., Ed.</span>, and <span class="refAuthor">J. Spiegel, Ed.</span>, <span class="refTitle">"XQuery 3.1: An XML Query Language"</span>, <span class="refContent">W3C Recommendation</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.w3.org/TR/xquery-31/">https://www.w3.org/TR/xquery-31/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The authors would like to thank <span class="contact-name">Andreas Voellmy</span>, <span class="contact-name">Erran Li</span>, <span class="contact-name">Haibin Song</span>, <span class="contact-name">Haizhou Du</span>, <span class="contact-name">Jiayuan Hu</span>, <span class="contact-name">Tianyuan Liu</span>, <span class="contact-name">Xiao Shi</span>, <span class="contact-name">Xin Wang</span>, and <span class="contact-name">Yan Luo</span> for fruitful discussions. The authors thank <span class="contact-name">Greg Bernstein</span>, <span class="contact-name">Dawn Chen</span>, <span class="contact-name">Wendy Roome</span>, and
<span class="contact-name">Michael Scharf</span> for their contributions to earlier draft versions of this document.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">The authors would also like to thank <span class="contact-name">Tim Chown</span>, <span class="contact-name">Luis Contreras</span>, <span class="contact-name">Roman Danyliw</span>,
<span class="contact-name">Benjamin Kaduk</span>, <span class="contact-name">Erik Kline</span>, <span class="contact-name">Suresh Krishnan</span>, <span class="contact-name">Murray Kucherawy</span>, <span class="contact-name">Warren Kumari</span>, <span class="contact-name">Danny Lachos</span>, <span class="contact-name">Francesca Palombini</span>, <span class="contact-name">Éric Vyncke</span>, <span class="contact-name">Samuel Weiler</span>, and <span class="contact-name">Qiao Xiang</span>,
whose feedback and suggestions were invaluable for improving the practicability and
conciseness of this document; and <span class="contact-name">Mohamed Boucadair</span>, <span class="contact-name">Martin Duke</span>, <span class="contact-name">Vijay Gurbani</span>,
<span class="contact-name">Jan Seedorf</span>, and <span class="contact-name">Qin Wu</span>, who provided great support and guidance.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kai Gao</span></div>
<div class="left" dir="auto"><span class="org">Sichuan University</span></div>
<div class="left" dir="auto"><span class="street-address">No.24 South Section 1, Yihuan Road</span></div>
<div class="left" dir="auto"><span class="locality">Chengdu</span></div>
<div class="left" dir="auto"><span class="postal-code">610000</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:kaigao@scu.edu.cn">kaigao@scu.edu.cn</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Young Lee</span></div>
<div class="left" dir="auto"><span class="org">Samsung</span></div>
<div class="left" dir="auto"><span class="country-name">Republic of Korea</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:younglee.tx@gmail.com">younglee.tx@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Sabine Randriamasy</span></div>
<div class="left" dir="auto"><span class="org">Nokia Bell Labs</span></div>
<div class="left" dir="auto"><span class="street-address">Route de Villejust</span></div>
<div class="left" dir="auto">
<span class="postal-code">91460</span> <span class="locality">Nozay</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sabine.randriamasy@nokia-bell-labs.com">sabine.randriamasy@nokia-bell-labs.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Yang Richard Yang</span></div>
<div class="left" dir="auto"><span class="org">Yale University</span></div>
<div class="left" dir="auto"><span class="street-address">51 Prospect Street</span></div>
<div class="left" dir="auto">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06511</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:yry@cs.yale.edu">yry@cs.yale.edu</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jingxuan Jensen Zhang</span></div>
<div class="left" dir="auto"><span class="org">Tongji University</span></div>
<div class="left" dir="auto"><span class="street-address">4800 Caoan Road</span></div>
<div class="left" dir="auto"><span class="locality">Shanghai</span></div>
<div class="left" dir="auto"><span class="postal-code">201804</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jingxuan.n.zhang@gmail.com">jingxuan.n.zhang@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>