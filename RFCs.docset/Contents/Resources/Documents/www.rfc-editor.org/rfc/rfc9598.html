<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9598: Internationalized Email Addresses in X.509 Certificates</title>
<meta content="Alexey Melnikov" name="author"/>
<meta content="Wei Chuang" name="author"/>
<meta content="Corey Bonnell" name="author"/>
<meta content="
       This document defines a new name form for inclusion in the otherName
field of an X.509 Subject Alternative Name and Issuer Alternative
Name extension that allows a certificate subject to be associated
with an internationalized email address. 
       This document updates RFC 5280 and obsoletes RFC 8398. 
    " name="description"/>
<meta content="xml2rfc 3.21.0" name="generator"/>
<meta content="EAI" name="keyword"/>
<meta content="PKIX" name="keyword"/>
<meta content="email address" name="keyword"/>
<meta content="9598" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.21.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9598.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-lamps-rfc8398bis-05" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9598" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9598</td>
<td class="center">I18N Mail Addresses in X.509 Certificate</td>
<td class="right">May 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Melnikov, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9598">9598</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc8398">8398</a> </dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc5280">5280</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2024-05">May 2024</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Melnikov</div>
<div class="org">Isode Ltd</div>
</div>
<div class="author">
      <div class="author-name">W. Chuang</div>
<div class="org">Google, Inc.</div>
</div>
<div class="author">
      <div class="author-name">C. Bonnell</div>
<div class="org">DigiCert</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9598</h1>
<h1 id="title">Internationalized Email Addresses in X.509 Certificates</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document defines a new name form for inclusion in the otherName
field of an X.509 Subject Alternative Name and Issuer Alternative
Name extension that allows a certificate subject to be associated
with an internationalized email address.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">This document updates RFC 5280 and obsoletes RFC 8398.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9598">https://www.rfc-editor.org/info/rfc9598</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-name-definitions">Name Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-idna2008">IDNA2008</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-matching-of-internationaliz">Matching of Internationalized Email Addresses in X.509 Certificates</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-name-constraints-in-path-va">Name Constraints in Path Validation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-differences-from-rfc-8398">Differences from RFC 8398</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#section-10.1">10.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#section-10.2">10.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-asn1-module">ASN.1 Module</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-B">Appendix B</a>.  <a class="internal xref" href="#name-example-of-smtputf8mailbox">Example of SmtpUTF8Mailbox</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#appendix-D"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a class="cite xref" href="#RFC5280">RFC5280</a>]</span> defines the rfc822Name subjectAltName name type for
representing email addresses as described in <span>[<a class="cite xref" href="#RFC5321">RFC5321</a>]</span>.  The syntax
of rfc822Name is restricted to a subset of US-ASCII characters and
thus can't be used to represent internationalized email addresses
<span>[<a class="cite xref" href="#RFC6531">RFC6531</a>]</span>.  This document defines a new otherName variant to
represent internationalized email addresses.  In addition, this
document requires all email address domains in X.509 certificates to
conform to IDNA2008 <span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">This document obsoletes <span>[<a class="cite xref" href="#RFC8398">RFC8398</a>]</span>. The primary motivation of this document is to simplify the encoding of domain labels
found in the domain part of internationalized email addresses. In
particular, <span>[<a class="cite xref" href="#RFC8398">RFC8398</a>]</span> specifies that domain labels are conditionally
encoded using either A-labels or U-labels. This specification simplifies
encoding and processing of domain labels by mandating that the A-label
representation be used in all cases.<a class="pilcrow" href="#section-1-2">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
    "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
    interpreted as described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals, as
    shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<div id="name-definitions">
<section id="section-3">
      <h2 id="name-name-definitions">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-name-definitions">Name Definitions</a>
      </h2>
<p id="section-3-1">The GeneralName structure <span>[<a class="cite xref" href="#RFC5280">RFC5280</a>]</span> supports many
different name forms including otherName for extensibility.  This
section specifies the SmtpUTF8Mailbox name form of otherName so that
internationalized email addresses can appear in the subjectAltName of
a certificate, the issuerAltName of a certificate, or anywhere else
that GeneralName is used.<a class="pilcrow" href="#section-3-1">¶</a></p>
<div class="lang-ASN.1 sourcecode" id="section-3-2">
<pre>id-on-SmtpUTF8Mailbox OBJECT IDENTIFIER ::= { id-on 9 }

SmtpUTF8Mailbox ::= UTF8String (SIZE (1..MAX))
-- SmtpUTF8Mailbox conforms to Mailbox as specified
-- in Section 3.3 of RFC 6531. Additionally, all domain
-- labels included in the SmtpUTF8Mailbox value are
-- encoded as LDH labels. In particular, domain labels
-- are not encoded as U-labels and instead are encoded
-- using their A-label representation.
</pre><a class="pilcrow" href="#section-3-2">¶</a>
</div>
<p id="section-3-3">When the subjectAltName (or issuerAltName) extension contains an
internationalized email address with a non-ASCII Local-part, the
address <span class="bcp14">MUST</span> be stored in the SmtpUTF8Mailbox name form of otherName.
The format of SmtpUTF8Mailbox is a modified version of the
internationalized Mailbox that was defined in 
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc6531#section-3.3">Section 3.3</a> of [<a class="cite xref" href="#RFC6531">RFC6531</a>]</span>, which was derived from Mailbox as defined in 
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc5321#section-4.1.2">Section 4.1.2</a> of [<a class="cite xref" href="#RFC5321">RFC5321</a>]</span>.  <span>[<a class="cite xref" href="#RFC6531">RFC6531</a>]</span> defines the following ABNF rules for Mailbox
whose parts are modified for internationalization: <code>Local-part</code>,
<code>Dot-string</code>, <code>Quoted-string</code>, <code>QcontentSMTP</code>, <code>Domain</code>, and <code>Atom</code>.
In particular, <code>Local-part</code> was updated to also support
UTF8-non-ascii.  UTF8-non-ascii was described by 
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc6532#section-3.1">Section 3.1</a> of [<a class="cite xref" href="#RFC6532">RFC6532</a>]</span>. Also, domain was extended to support U-labels, as defined
in <span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span>.<a class="pilcrow" href="#section-3-3">¶</a></p>
<p id="section-3-4">This document further refines internationalized Mailbox ABNF rules as
described in <span>[<a class="cite xref" href="#RFC6531">RFC6531</a>]</span> and calls this SmtpUTF8Mailbox.  In
SmtpUTF8Mailbox, labels that include non-ASCII characters <span class="bcp14">MUST</span> be
stored in A-label (rather than U-label) form <span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span>.  This
restriction reduces complexity for implementations of the certification
path validation algorithm defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5280#section-6">Section 6</a> of [<a class="cite xref" href="#RFC5280">RFC5280</a>]</span>.  In
SmtpUTF8Mailbox, domain labels that solely use ASCII characters (meaning
neither A- nor U-labels) <span class="bcp14">SHALL</span> use NR-LDH restrictions as specified by
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc5890#section-2.3.1">Section 2.3.1</a> of [<a class="cite xref" href="#RFC5890">RFC5890</a>]</span>.  NR-LDH stands for "Non-Reserved Letters
Digits Hyphen" and is the set of LDH labels that do not have "--"
characters in the third and forth character positions, which excludes
"tagged domain names" such as A-labels. To facilitate octet-for-octet
comparisons of SmtpUTF8Mailbox values, all NR-LDH and A-label labels
that constitute the domain part <span class="bcp14">SHALL</span> only be encoded with lowercase
letters. Consistent with the treatment of rfc822Name in <span>[<a class="cite xref" href="#RFC5280">RFC5280</a>]</span>,
SmtpUTF8Mailbox is an envelope <code>Mailbox</code> and has no phrase (such as a
common name) before it, has no comment (text surrounded in parentheses)
after it, and is not surrounded by "&lt;" and "&gt;" characters.<a class="pilcrow" href="#section-3-4">¶</a></p>
<p id="section-3-5">Due to name constraint compatibility reasons described in <a class="auto internal xref" href="#name-constraints">Section 6</a>,
SmtpUTF8Mailbox subjectAltName <span class="bcp14">MUST NOT</span> be used unless the Local-part
of the email address contains non-ASCII characters.  When the
Local-part is ASCII, rfc822Name subjectAltName <span class="bcp14">MUST</span> be used instead of
SmtpUTF8Mailbox.  This is compatible with legacy software that
supports only rfc822Name (and not SmtpUTF8Mailbox).  The appropriate
usage of rfc822Name and SmtpUTF8Mailbox is summarized in Table 1
below.<a class="pilcrow" href="#section-3-5">¶</a></p>
<p id="section-3-6">SmtpUTF8Mailbox is encoded as UTF8String.  The UTF8String encoding
<span class="bcp14">MUST NOT</span> contain a Byte Order Mark (BOM) <span>[<a class="cite xref" href="#RFC3629">RFC3629</a>]</span> to aid consistency
across implementations, particularly for comparison.<a class="pilcrow" href="#section-3-6">¶</a></p>
<span id="name-email-address-formatting"></span><div id="santypes">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-email-address-formatting">Email Address Formatting</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Local-part char</th>
            <th class="text-left" colspan="1" rowspan="1">subjectAltName</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">ASCII-only</td>
            <td class="text-left" colspan="1" rowspan="1">rfc822Name</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">non-ASCII</td>
            <td class="text-left" colspan="1" rowspan="1">SmtpUTF8Mailbox</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-3-8">Non-ASCII Local-part values may additionally include ASCII characters.<a class="pilcrow" href="#section-3-8">¶</a></p>
</section>
</div>
<div id="idna2008">
<section id="section-4">
      <h2 id="name-idna2008">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-idna2008">IDNA2008</a>
      </h2>
<p id="section-4-1">To facilitate comparison between email addresses, all email address
domains in X.509 certificates <span class="bcp14">MUST</span> conform to IDNA2008 <span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span> (and
avoid any "mappings" mentioned in that document).  Use of
non-conforming email address domains introduces the possibility of
conversion errors between alternate forms.  This applies to
SmtpUTF8Mailbox and rfc822Name in subjectAltName, issuerAltName, and
anywhere else that these are used.<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="name-matching">
<section id="section-5">
      <h2 id="name-matching-of-internationaliz">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-matching-of-internationaliz">Matching of Internationalized Email Addresses in X.509 Certificates</a>
      </h2>
<p id="section-5-1">Equivalence comparisons with SmtpUTF8Mailbox consist of
a domain part step and a Local-part step.  The comparison form for
Local-parts is always UTF-8.  The comparison form for domain parts
is always performed with the LDH label (<span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span>) encoding of the
relevant domain labels. The comparison of LDH labels in domain parts
reduces complexity for implementations of the certification path
validation algorithm as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5280#section-6">Section 6</a> of [<a class="cite xref" href="#RFC5280">RFC5280</a>]</span> by obviating
the need to convert domain labels to their Unicode representation.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">Comparison of two SmtpUTF8Mailboxes is straightforward with no setup
work needed.  They are considered equivalent if there is an exact
octet-for-octet match.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">Comparison of an SmtpUTF8Mailbox and rfc822Name will always fail.
SmtpUTF8Mailbox values <span class="bcp14">SHALL</span> contain a Local-part that includes
one or more non-ASCII characters, while rfc822Names only
includes ASCII characters (including the Local-part). Thus, an
SmtpUTF8Mailbox and rfc822Name will never match.<a class="pilcrow" href="#section-5-3">¶</a></p>
<p id="section-5-4">Comparison of SmtpUTF8Mailbox values with internationalized email
addresses from other sources (such as received email messages, user
input, etc.) requires additional setup steps for domain part and
Local-part. The initial preparation for the email address to compare
with the SmtpUTF8Mailbox value is to remove any phrases, comments, and
"&lt;" or "&gt;" characters.<a class="pilcrow" href="#section-5-4">¶</a></p>
<p id="section-5-5">For the setup of the domain part, the following conversions <span class="bcp14">SHALL</span> be
performed:<a class="pilcrow" href="#section-5-5">¶</a></p>
<ol class="normal type-1" id="section-5-6" start="1" type="1">
<li id="section-5-6.1">
          <p id="section-5-6.1.1">Convert all labels that constitute the domain part that include
non-ASCII characters to A-labels, if not already in that form.<a class="pilcrow" href="#section-5-6.1.1">¶</a></p>
<ol class="normal type-a" id="section-5-6.1.2" start="1" type="a">
<li id="section-5-6.1.2.1">
              <p id="section-5-6.1.2.1.1">
Detect all U-labels present within the domain part using
    <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5891#section-5.1">Section 5.1</a> of [<a class="cite xref" href="#RFC5891">RFC5891</a>]</span>.<a class="pilcrow" href="#section-5-6.1.2.1.1">¶</a></p>
</li>
            <li id="section-5-6.1.2.2">
              <p id="section-5-6.1.2.2.1">
Transform all detected U-labels (Unicode) to A-labels (ASCII)
   as specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5891#section-5.5">Section 5.5</a> of [<a class="cite xref" href="#RFC5891">RFC5891</a>]</span>.<a class="pilcrow" href="#section-5-6.1.2.2.1">¶</a></p>
</li>
          </ol>
</li>
        <li id="section-5-6.2">
          <p id="section-5-6.2.1">Convert all uppercase letters found within the NR-LDH and A-label
labels that constitute the domain part to lowercase letters.<a class="pilcrow" href="#section-5-6.2.1">¶</a></p>
</li>
      </ol>
<p id="section-5-7">For the setup of the Local-part, the Local-part <span class="bcp14">MUST</span> be verified to
conform to the requirements of <span>[<a class="cite xref" href="#RFC6530">RFC6530</a>]</span> and <span>[<a class="cite xref" href="#RFC6531">RFC6531</a>]</span>, including
being a string in UTF-8 form.  In particular, the Local-
part <span class="bcp14">MUST NOT</span> be transformed in any way, such as by doing case
folding or normalization of any kind.  The <code>Local-part</code> of an
internationalized email address is already in UTF-8. Once setup is
complete, they are again compared octet for octet.<a class="pilcrow" href="#section-5-7">¶</a></p>
<p id="section-5-8">To summarize non-normatively, the comparison steps, including setup,
are:<a class="pilcrow" href="#section-5-8">¶</a></p>
<ol class="normal type-1" id="section-5-9" start="1" type="1">
<li id="section-5-9.1">
          <p id="section-5-9.1.1">If the domain contains U-labels, transform them to A-labels.<a class="pilcrow" href="#section-5-9.1.1">¶</a></p>
</li>
        <li id="section-5-9.2">
          <p id="section-5-9.2.1">If any NR-LDH or A-label domain label in the domain part
contains uppercase letters, lowercase them.<a class="pilcrow" href="#section-5-9.2.1">¶</a></p>
</li>
        <li id="section-5-9.3">
          <p id="section-5-9.3.1">Compare strings octet for octet for equivalence.<a class="pilcrow" href="#section-5-9.3.1">¶</a></p>
</li>
      </ol>
<p id="section-5-10">This specification expressly does not define any wildcard characters,
and SmtpUTF8Mailbox comparison implementations <span class="bcp14">MUST NOT</span> interpret any
characters as wildcards.  Instead, to specify multiple email
addresses through SmtpUTF8Mailbox, the certificate <span class="bcp14">MUST</span> use multiple
subjectAltNames or issuerAltNames to explicitly carry any additional
email addresses.<a class="pilcrow" href="#section-5-10">¶</a></p>
</section>
</div>
<div id="name-constraints">
<section id="section-6">
      <h2 id="name-name-constraints-in-path-va">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-name-constraints-in-path-va">Name Constraints in Path Validation</a>
      </h2>
<p id="section-6-1">This section updates <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5280#section-4.2.1.10">Section 4.2.1.10</a> of [<a class="cite xref" href="#RFC5280">RFC5280</a>]</span> to extend
rfc822Name name constraints to SmtpUTF8Mailbox subjectAltNames.
SmtpUTF8Mailbox-aware path validators will apply name constraint
comparison to the subject distinguished name and both forms of
subject alternative names, rfc822Name and SmtpUTF8Mailbox.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">Both rfc822Name and SmtpUTF8Mailbox subject alternative names
represent the same underlying email address namespace.  Since legacy
Certification Authorities (CAs) constrained to issue certificates for a specific set of domains
would lack corresponding UTF-8 constraints, <span>[<a class="cite xref" href="#RFC9549">RFC9549</a>]</span> updates,
modifies, and extends rfc822Name name constraints defined in
<span>[<a class="cite xref" href="#RFC5280">RFC5280</a>]</span> to cover SmtpUTF8Mailbox subject alternative names.  This
ensures that the introduction of SmtpUTF8Mailbox does not violate
existing name constraints.  Since it is not valid to include
non-ASCII UTF-8 characters in the Local-part of rfc822Name name
constraints, and since name constraints that include a Local-part are
rarely, if at all, used in practice, name constraints updated in
<span>[<a class="cite xref" href="#RFC9549">RFC9549</a>]</span> allow the forms that represent all addresses at a host, or
all mailboxes in a domain and deprecates rfc822Name name constraints
that represent a particular mailbox.  That is, rfc822Name constraints
with a Local-part <span class="bcp14">SHOULD NOT</span> be used.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">Constraint comparison with SmtpUTF8Mailbox subjectAltName starts with
the setup steps defined in <a class="auto internal xref" href="#name-matching">Section 5</a>.  Setup converts the inputs of
the comparison (which is one of a subject distinguished name, an
rfc822Name, or an SmtpUTF8Mailbox subjectAltName, and one of an
rfc822Name name constraint) to constraint comparison form. For both the
name constraint and the subject, this will convert all A-labels and
NR-LDH labels to lowercase. Strip the Local-part and "@"
separator from each rfc822Name and SmtpUTF8Mailbox, which leaves just the
domain part.  After setup, follow the comparison steps defined
in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5280#section-4.2.1.10">Section 4.2.1.10</a> of [<a class="cite xref" href="#RFC5280">RFC5280</a>]</span> as follows.  If the resulting name
constraint domain starts with a "." character, then for the name
constraint to match, a suffix of the resulting subject alternative
name domain <span class="bcp14">MUST</span> match the name constraint (including the leading
".") octet for octet.  If the resulting name constraint domain does
not start with a "." character, then for the name constraint to
match, the entire resulting subject alternative name domain <span class="bcp14">MUST</span>
match the name constraint octet for octet.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">Certificate Authorities that wish to issue CA certificates with email
address name constraints <span class="bcp14">MUST</span> use rfc822Name subject alternative
names only.  These <span class="bcp14">MUST</span> be IDNA2008-conformant names with no mappings
and with non-ASCII domains encoded in A-labels only.<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">The name constraint requirement with an SmtpUTF8Mailbox subject
alternative name is illustrated in the non-normative diagram in
<a class="auto internal xref" href="#nctypes">Figure 1</a>.  The first example (1) illustrates a permitted rfc822Name
ASCII-only host name name constraint and the corresponding valid
rfc822Name subjectAltName and SmtpUTF8Mailbox subjectAltName email
addresses.  The second example (2) illustrates a permitted rfc822Name
host name name constraint with an A-label, and the corresponding valid
rfc822Name subjectAltName and SmtpUTF8Mailbox subjectAltName email
addresses.  Note that an email address with an ASCII-only Local-part is
encoded as rfc822Name despite also having Unicode present in the
domain.<a class="pilcrow" href="#section-6-5">¶</a></p>
<span id="name-name-constraints-with-smtpu"></span><div id="nctypes">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-6-6.1">
<pre>+-------------------------------------------------------------------+
|  Root CA Cert                                                     |
+-------------------------------------------------------------------+
                                  |
                                  v
+-------------------------------------------------------------------+
|  Intermediate CA Cert                                             |
|      Permitted                                                    |
|        rfc822Name: elementary.school.example.com (1)              |
|                                                                   |
|        rfc822Name: xn--pss25c.example.com (2)                     |
|                                                                   |
+-------------------------------------------------------------------+
                                  |
                                  v
+-------------------------------------------------------------------+
|  Entity Cert (w/explicitly permitted subjects)                    |
|    SubjectAltName Extension                                       |
|      rfc822Name: student@elementary.school.example.com (1)        |
|      SmtpUTF8Mailbox: u+5B66u+751F@elementary.school.example.com  |
|        (1)                                                        |
|                                                                   |
|      rfc822Name: student@xn--pss25c.example.com (2)               |
|      SmtpUTF8Mailbox: u+533Bu+751F@xn--pss25c.example.com (2)     |
|                                                                   |
+-------------------------------------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-name-constraints-with-smtpu">Name Constraints with SmtpUTF8Name and rfc822Name</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-7">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-7-1">Use of SmtpUTF8Mailbox for certificate subjectAltName (and
issuerAltName) will incur many of the same security considerations 
described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5280#section-8">Section 8</a> of [<a class="cite xref" href="#RFC5280">RFC5280</a>]</span>, but it introduces a new issue by
permitting non-ASCII characters in the email address Local-part.
This issue, as mentioned in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5890#section-4.4">Section 4.4</a> of [<a class="cite xref" href="#RFC5890">RFC5890</a>]</span> and in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6532#section-4">Section 4</a> of [<a class="cite xref" href="#RFC6532">RFC6532</a>]</span>, is that use of Unicode introduces the risk of visually
similar and identical characters that can be exploited to deceive the
recipient.  The former document references some means to mitigate
against these attacks.  See <span>[<a class="cite xref" href="#WEBER">WEBER</a>]</span> for more background on security
issues with Unicode.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Additionally, it is possible to encode a string of Unicode
user-perceived characters in multiple ways. While various Unicode
normalization forms exist, <span>[<a class="cite xref" href="#RFC6531">RFC6531</a>]</span> does not mandate the use of any
such forms for the encoding of the Local-part. Thus, it may be possible
to encode a Local-part value in multiple ways. To mitigate against
attacks where different encodings are used by the mail system and the
Certification Authority issues certificates containing
<code>SmtpUTF8Mailbox</code> values, this specification requires an octet-for-octet
comparison of the Local-part. However, requiring the use of binary
comparison may raise interoperability concerns where the mail system
employs one encoding and the Certification Authority employs another.<a class="pilcrow" href="#section-7-2">¶</a></p>
</section>
</div>
<div id="differences-from-rfc-8398">
<section id="section-8">
      <h2 id="name-differences-from-rfc-8398">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-differences-from-rfc-8398">Differences from RFC 8398</a>
      </h2>
<p id="section-8-1">This document obsoletes <span>[<a class="cite xref" href="#RFC8398">RFC8398</a>]</span>. There are three major changes
defined in this specification:<a class="pilcrow" href="#section-8-1">¶</a></p>
<ol class="normal type-1" id="section-8-2" start="1" type="1">
<li id="section-8-2.1">
          <p id="section-8-2.1.1">In all cases, domain labels in mail addresses <span class="bcp14">SHALL</span> be encoded as
LDH labels. In particular, domain names <span class="bcp14">SHALL NOT</span> be encoded using
U-Labels; instead, use A-Labels.<a class="pilcrow" href="#section-8-2.1.1">¶</a></p>
</li>
        <li id="section-8-2.2">
          <p id="section-8-2.2.1">To accommodate the first change listed above, the mail address
matching algorithm defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8398#section-5">Section 5</a> of [<a class="cite xref" href="#RFC8398">RFC8398</a>]</span> has been modified
to only accept domain labels that are encoded using their A-label
representation.<a class="pilcrow" href="#section-8-2.2.1">¶</a></p>
</li>
        <li id="section-8-2.3">
          <p id="section-8-2.3.1">Additionally, the procedure to process rfc822Name name constraints as defined
      in 
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc8398#section-6">Section 6</a> of [<a class="cite xref" href="#RFC8398">RFC8398</a>]</span> has been modified to only accept domain labels
that are encoded using their A-label representation.<a class="pilcrow" href="#section-8-2.3.1">¶</a></p>
</li>
      </ol>
</section>
</div>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-9-1">IANA has updated the reference for the id-mod-lamps-eai-addresses-2016 
module in the "SMI Security for PKIX Module Identifier"
(1.3.6.1.5.5.7.0) registry to refer to this document instead of <span>[<a class="cite xref" href="#RFC8398">RFC8398</a>]</span>.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">IANA has updated the reference for the SmtpUTF8Mailbox otherName in the
"SMI Security for PKIX Other Name Forms" (1.3.6.1.5.5.7.8) registry to refer to this document instead of <span>[<a class="cite xref" href="#RFC8398">RFC8398</a>]</span>.<a class="pilcrow" href="#section-9-2">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3629">[RFC3629]</dt>
        <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time class="refDate" datetime="2003-11">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5280">[RFC5280]</dt>
        <dd>
<span class="refAuthor">Cooper, D.</span>, <span class="refAuthor">Santesson, S.</span>, <span class="refAuthor">Farrell, S.</span>, <span class="refAuthor">Boeyen, S.</span>, <span class="refAuthor">Housley, R.</span>, and <span class="refAuthor">W. Polk</span>, <span class="refTitle">"Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile"</span>, <span class="seriesInfo">RFC 5280</span>, <span class="seriesInfo">DOI 10.17487/RFC5280</span>, <time class="refDate" datetime="2008-05">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5280">https://www.rfc-editor.org/info/rfc5280</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5321">[RFC5321]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span>, <span class="refTitle">"Simple Mail Transfer Protocol"</span>, <span class="seriesInfo">RFC 5321</span>, <span class="seriesInfo">DOI 10.17487/RFC5321</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5321">https://www.rfc-editor.org/info/rfc5321</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5890">[RFC5890]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span>, <span class="refTitle">"Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework"</span>, <span class="seriesInfo">RFC 5890</span>, <span class="seriesInfo">DOI 10.17487/RFC5890</span>, <time class="refDate" datetime="2010-08">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5890">https://www.rfc-editor.org/info/rfc5890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5891">[RFC5891]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span>, <span class="refTitle">"Internationalized Domain Names in Applications (IDNA): Protocol"</span>, <span class="seriesInfo">RFC 5891</span>, <span class="seriesInfo">DOI 10.17487/RFC5891</span>, <time class="refDate" datetime="2010-08">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5891">https://www.rfc-editor.org/info/rfc5891</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6530">[RFC6530]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span> and <span class="refAuthor">Y. Ko</span>, <span class="refTitle">"Overview and Framework for Internationalized Email"</span>, <span class="seriesInfo">RFC 6530</span>, <span class="seriesInfo">DOI 10.17487/RFC6530</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6530">https://www.rfc-editor.org/info/rfc6530</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6531">[RFC6531]</dt>
        <dd>
<span class="refAuthor">Yao, J.</span> and <span class="refAuthor">W. Mao</span>, <span class="refTitle">"SMTP Extension for Internationalized Email"</span>, <span class="seriesInfo">RFC 6531</span>, <span class="seriesInfo">DOI 10.17487/RFC6531</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6531">https://www.rfc-editor.org/info/rfc6531</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6532">[RFC6532]</dt>
        <dd>
<span class="refAuthor">Yang, A.</span>, <span class="refAuthor">Steele, S.</span>, and <span class="refAuthor">N. Freed</span>, <span class="refTitle">"Internationalized Email Headers"</span>, <span class="seriesInfo">RFC 6532</span>, <span class="seriesInfo">DOI 10.17487/RFC6532</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6532">https://www.rfc-editor.org/info/rfc6532</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8398">[RFC8398]</dt>
        <dd>
<span class="refAuthor">Melnikov, A., Ed.</span> and <span class="refAuthor">W. Chuang, Ed.</span>, <span class="refTitle">"Internationalized Email Addresses in X.509 Certificates"</span>, <span class="seriesInfo">RFC 8398</span>, <span class="seriesInfo">DOI 10.17487/RFC8398</span>, <time class="refDate" datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8398">https://www.rfc-editor.org/info/rfc8398</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9549">[RFC9549]</dt>
      <dd>
<span class="refAuthor">Housley, R.</span>, <span class="refTitle">"Internationalization Updates to RFC 5280"</span>, <span class="seriesInfo">RFC 9549</span>, <span class="seriesInfo">DOI 10.17487/RFC9549</span>, <time class="refDate" datetime="2024-03">March 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9549">https://www.rfc-editor.org/info/rfc9549</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC5912">[RFC5912]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span> and <span class="refAuthor">J. Schaad</span>, <span class="refTitle">"New ASN.1 Modules for the Public Key Infrastructure Using X.509 (PKIX)"</span>, <span class="seriesInfo">RFC 5912</span>, <span class="seriesInfo">DOI 10.17487/RFC5912</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5912">https://www.rfc-editor.org/info/rfc5912</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WEBER">[WEBER]</dt>
      <dd>
<span class="refAuthor">Weber, C.</span>, <span class="refTitle">"Unraveling Unicode: A Bag of Tricks for Bug Hunting"</span>, <time class="refDate" datetime="2009-07">July 2009</time>, <span>&lt;<a href="https://www.lookout.net/files/Chris_Weber_Character%20Transformations%20v1.7_IUC33.pdf">https://www.lookout.net/files/Chris_Weber_Character%20Transformations%20v1.7_IUC33.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="asn1-module">
<section id="appendix-A">
      <h2 id="name-asn1-module">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-asn1-module">ASN.1 Module</a>
      </h2>
<p id="appendix-A-1">The following ASN.1 module normatively specifies the SmtpUTF8Mailbox
structure.  This specification uses the ASN.1 definitions from
<span>[<a class="cite xref" href="#RFC5912">RFC5912</a>]</span> with the 2002 ASN.1 notation used in that document.
<span>[<a class="cite xref" href="#RFC5912">RFC5912</a>]</span> updates normative documents using older ASN.1 notation.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<div class="lang-ASN.1 sourcecode" id="appendix-A-2">
<pre>LAMPS-EaiAddresses-2016
{ iso(1) identified-organization(3) dod(6)
  internet(1) security(5) mechanisms(5) pkix(7) id-mod(0)
  id-mod-lamps-eai-addresses-2016(92) }

DEFINITIONS IMPLICIT TAGS ::=
BEGIN

IMPORTS
OTHER-NAME
FROM PKIX1Implicit-2009
  { iso(1) identified-organization(3) dod(6) internet(1) security(5)
  mechanisms(5) pkix(7) id-mod(0) id-mod-pkix1-implicit-02(59) }

id-pkix
FROM PKIX1Explicit-2009
  { iso(1) identified-organization(3) dod(6) internet(1) security(5)
  mechanisms(5) pkix(7) id-mod(0) id-mod-pkix1-explicit-02(51) } ;

--
-- otherName carries additional name types for subjectAltName,
-- issuerAltName, and other uses of GeneralNames.
--

id-on OBJECT IDENTIFIER ::= { id-pkix 8 }

SmtpUtf8OtherNames OTHER-NAME ::= { on-SmtpUTF8Mailbox, ... }

on-SmtpUTF8Mailbox OTHER-NAME ::= {
    SmtpUTF8Mailbox IDENTIFIED BY id-on-SmtpUTF8Mailbox
}

id-on-SmtpUTF8Mailbox OBJECT IDENTIFIER ::= { id-on 9 }

SmtpUTF8Mailbox ::= UTF8String (SIZE (1..MAX))
-- SmtpUTF8Mailbox conforms to Mailbox as specified
-- in Section 3.3 of RFC 6531. Additionally, all domain
-- labels included in the SmtpUTF8Mailbox value are
-- encoded as LDH Labels. In particular, domain labels
-- are not encoded as U-Labels and instead are encoded
-- using their A-label representation.

END
</pre><a class="pilcrow" href="#appendix-A-2">¶</a>
</div>
</section>
</div>
<div id="example-of-smtputf8mailbox">
<section id="appendix-B">
      <h2 id="name-example-of-smtputf8mailbox">
<a class="section-number selfRef" href="#appendix-B">Appendix B. </a><a class="section-name selfRef" href="#name-example-of-smtputf8mailbox">Example of SmtpUTF8Mailbox</a>
      </h2>
<p id="appendix-B-1">This non-normative example demonstrates using SmtpUTF8Mailbox as an
otherName in GeneralName to encode the email address
"u+533Bu+751F@xn--pss25c.example.com".<a class="pilcrow" href="#appendix-B-1">¶</a></p>
<p id="appendix-B-2">The hexadecimal DER encoding of the block is:<a class="pilcrow" href="#appendix-B-2">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-3">
<pre>a02b0608 2b060105 05070809 a01f0c1d e58cbbe7 949f4078 6e2d2d70
73733235 632e6578 616d706c 652e636f 6d
</pre><a class="pilcrow" href="#appendix-B-3">¶</a>
</div>
<p id="appendix-B-4">The text decoding is:<a class="pilcrow" href="#appendix-B-4">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-5">
<pre>0  43: [0] {
2   8:   OBJECT IDENTIFIER '1 3 6 1 5 5 7 8 9'
12  31:   [0] {
14  29:     UTF8String 'u+533Bu+751F@xn--pss25c.example.com'
      :     }
      :   }
</pre><a class="pilcrow" href="#appendix-B-5">¶</a>
</div>
<p id="appendix-B-6">The example was encoded using Google's "der-ascii" program and the
above text decoding is an output of Peter Gutmann's "dumpasn1"
program.<a class="pilcrow" href="#appendix-B-6">¶</a></p>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-C">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-C-1">The authors thank David Benjamin for providing the motivation for this
document. Additionally, the authors thank Éric Vyncke, John Levine,
Peter van Dijk, Rich Salz, Russ Housley, and Tim Hollebeek for their
reviews and feedback, which meaningfully improved the document.<a class="pilcrow" href="#appendix-C-1">¶</a></p>
<p id="appendix-C-2">The authors also recognize and appreciate the following individuals for
their contributions to <span>[<a class="cite xref" href="#RFC8398">RFC8398</a>]</span>:<a class="pilcrow" href="#appendix-C-2">¶</a></p>
<blockquote id="appendix-C-3">
        <p id="appendix-C-3.1">Thank you to Magnus Nystrom for motivating this document.  Thanks to
Russ Housley, Nicolas Lidzborski, Laetitia Baudoin, Ryan Sleevi, Sean
Leonard, Sean Turner, John Levine, and Patrik Falstrom for their
feedback.  Also special thanks to John Klensin for his valuable input
on internationalization, Unicode, and ABNF formatting; to Jim Schaad
for his help with the ASN.1 example and his helpful feedback; and
especially to Viktor Dukhovni for helping us with name constraints
and his many detailed document reviews.<a class="pilcrow" href="#appendix-C-3.1">¶</a></p>
</blockquote>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Alexey Melnikov</span></div>
<div class="left" dir="auto"><span class="org">Isode Ltd</span></div>
<div class="left" dir="auto"><span class="street-address">14 Castle Mews</span></div>
<div class="left" dir="auto"><span class="locality">Hampton, Middlesex</span></div>
<div class="left" dir="auto"><span class="postal-code">TW12 2NP</span></div>
<div class="left" dir="auto"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Alexey.Melnikov@isode.com">Alexey.Melnikov@isode.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Wei Chuang</span></div>
<div class="left" dir="auto"><span class="org">Google, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">1600 Amphitheater Parkway</span></div>
<div class="left" dir="auto">
<span class="locality">Mountain View</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:weihaw@google.com">weihaw@google.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Corey Bonnell</span></div>
<div class="left" dir="auto"><span class="org">DigiCert</span></div>
<div class="left" dir="auto">
<span class="locality">Pittsburgh</span>, <span class="region">PA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:corey.bonnell@digicert.com">corey.bonnell@digicert.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>