<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9466: PIM Assert Message Packing</title>
<meta content="Yisong Liu" name="author"/>
<meta content="Toerless Eckert" name="author"/>
<meta content="Mike McBride" name="author"/>
<meta content="Zheng (Sandy) Zhang" name="author"/>
<meta content="
       When PIM Sparse Mode (PIM-SM), including PIM Source-Specific
   Multicast (PIM-SSM), is used in shared LAN networks, there is often more
   than one upstream router. This can lead to duplicate IP multicast packets
   being forwarded by these PIM routers. PIM Assert messages
   are used to elect a single forwarder for each IP multicast traffic
   flow between these routers. 
       This document defines a mechanism to send and receive information for
      multiple IP multicast flows in a single PackedAssert message. This
      optimization reduces the total number of PIM packets on the LAN and can
      therefore speed up the election of the single forwarder, reducing the
      number of duplicate IP multicast packets incurred. 
    " name="description"/>
<meta content="xml2rfc 3.18.2" name="generator"/>
<meta content="9466" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.18.2
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9466.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-pim-assert-packing-12" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9466" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9466</td>
<td class="center">PIM Assert Packing</td>
<td class="right">October 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Liu, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9466">9466</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-10">October 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">Y. Liu, <span class="editor">Ed.</span>
</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">T. Eckert, <span class="editor">Ed.</span>
</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">M. McBride</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">Z. Zhang</div>
<div class="org">ZTE Corporation</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9466</h1>
<h1 id="title">PIM Assert Message Packing</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">When PIM Sparse Mode (PIM-SM), including PIM Source-Specific
   Multicast (PIM-SSM), is used in shared LAN networks, there is often more
   than one upstream router. This can lead to duplicate IP multicast packets
   being forwarded by these PIM routers. PIM Assert messages
   are used to elect a single forwarder for each IP multicast traffic
   flow between these routers.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">This document defines a mechanism to send and receive information for
      multiple IP multicast flows in a single PackedAssert message. This
      optimization reduces the total number of PIM packets on the LAN and can
      therefore speed up the election of the single forwarder, reducing the
      number of duplicate IP multicast packets incurred.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9466">https://www.rfc-editor.org/info/rfc9466</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="auto internal xref" href="#section-1.2">1.2</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-problem-statement">Problem Statement</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-specification">Specification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-pim-packed-assert-capabilit">PIM Packed Assert Capability Hello Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-assert-packing-message-form">Assert Packing Message Formats</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-packedassert-mechanism">PackedAssert Mechanism</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a class="auto internal xref" href="#section-3.3.1">3.3.1</a>.  <a class="internal xref" href="#name-sending-packedassert-messag">Sending PackedAssert Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1.2.1">
                        <p id="section-toc.1-1.3.2.3.2.1.2.1.1"><a class="auto internal xref" href="#section-3.3.1.1">3.3.1.1</a>.  <a class="internal xref" href="#name-handling-of-reception-trigg">Handling of Reception-Triggered Assert Records</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1.2.2">
                        <p id="section-toc.1-1.3.2.3.2.1.2.2.1"><a class="auto internal xref" href="#section-3.3.1.2">3.3.1.2</a>.  <a class="internal xref" href="#name-handling-of-timer-expiry-tr">Handling of Timer Expiry-Triggered Assert Records</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1.2.3">
                        <p id="section-toc.1-1.3.2.3.2.1.2.3.1"><a class="auto internal xref" href="#section-3.3.1.3">3.3.1.3</a>.  <a class="internal xref" href="#name-beneficial-delay-in-sending">Beneficial Delay in Sending PackedAssert Messages</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1.2.4">
                        <p id="section-toc.1-1.3.2.3.2.1.2.4.1"><a class="auto internal xref" href="#section-3.3.1.4">3.3.1.4</a>.  <a class="internal xref" href="#name-handling-assert-packedasser">Handling Assert/PackedAssert Message Loss</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1.2.5">
                        <p id="section-toc.1-1.3.2.3.2.1.2.5.1"><a class="auto internal xref" href="#section-3.3.1.5">3.3.1.5</a>.  <a class="internal xref" href="#name-optimal-degree-of-assert-re">Optimal Degree of Assert Record Packing</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a class="auto internal xref" href="#section-3.3.2">3.3.2</a>.  <a class="internal xref" href="#name-receiving-packedassert-mess">Receiving PackedAssert Messages</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-packet-formats">Packet Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-pim-packed-assert-capability">PIM Packed Assert Capability Hello Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-assert-message-format">Assert Message Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-simple-packedassert-message">Simple PackedAssert Message Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="auto internal xref" href="#section-4.4">4.4</a>.  <a class="internal xref" href="#name-aggregated-packedassert-mes">Aggregated PackedAssert Message Format</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a class="auto internal xref" href="#section-4.4.1">4.4.1</a>.  <a class="internal xref" href="#name-source-aggregated-assert-re">Source Aggregated Assert Record</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a class="auto internal xref" href="#section-4.4.2">4.4.2</a>.  <a class="internal xref" href="#name-rp-aggregated-assert-record">RP Aggregated Assert Record</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-use-case-examples">Use Case Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#appendix-A.1">A.1</a>.  <a class="internal xref" href="#name-enterprise-network">Enterprise Network</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#appendix-A.2">A.2</a>.  <a class="internal xref" href="#name-video-surveillance">Video Surveillance</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="auto internal xref" href="#appendix-A.3">A.3</a>.  <a class="internal xref" href="#name-financial-services">Financial Services</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="auto internal xref" href="#appendix-A.4">A.4</a>.  <a class="internal xref" href="#name-iptv-broadcast-video">IPTV Broadcast Video</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a class="auto internal xref" href="#appendix-A.5">A.5</a>.  <a class="internal xref" href="#name-mvpn-mdt">MVPN MDT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a class="auto internal xref" href="#appendix-A.6">A.6</a>.  <a class="internal xref" href="#name-special-l2-services">Special L2 Services</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">When PIM-SM is used in shared LAN networks, there is typically more than
   one upstream router. When duplicate data packets appear on the LAN from
   different upstream routers, assert packets are sent from these routers to
   elect a single forwarder according to <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>. The PIM
   Assert messages are sent periodically to keep the Assert state. The PIM
   Assert message carries information about a single multicast source and
   group, along with the corresponding Metric and Metric Preference of the
   route towards the source or PIM Rendezvous Point (RP).<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">This document defines a mechanism to encode the information of
      multiple PIM Assert messages into a single PackedAssert message.  This
      allows sending and receiving information for multiple IP multicast flows
      in a single PackedAssert message without changing the PIM Assert state
      machinery. It reduces the total number of PIM packets on the LAN and can
      therefore speed up the election of the single forwarder, reducing the
      number of duplicate IP multicast packets.  This can be particularly
      helpful when there is traffic for a large number of multicast groups or
      SSM channels and PIM packet processing performance of the routers is
      slow.<a class="pilcrow" href="#section-1-2">¶</a></p>
<div id="requirements-language">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-1.2">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.2-1">The reader is expected to be familiar with the terminology of <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>. The following lists the abbreviations repeated in this document.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.2-2">
          <dt id="section-1.2-2.1">AT:</dt>
          <dd id="section-1.2-2.2" style="margin-left: 3.0em">Assert Timer<a class="pilcrow" href="#section-1.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.3">DR:</dt>
          <dd id="section-1.2-2.4" style="margin-left: 3.0em">Designated Router<a class="pilcrow" href="#section-1.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.5">RP:</dt>
          <dd id="section-1.2-2.6" style="margin-left: 3.0em">Rendezvous Point<a class="pilcrow" href="#section-1.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.7">RPF:</dt>
          <dd id="section-1.2-2.8" style="margin-left: 3.0em">Reverse Path Forwarding<a class="pilcrow" href="#section-1.2-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.9">RPT:</dt>
          <dd id="section-1.2-2.10" style="margin-left: 3.0em">RP Tree<a class="pilcrow" href="#section-1.2-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.11">SPT:</dt>
          <dd id="section-1.2-2.12" style="margin-left: 3.0em">Shortest Path Tree<a class="pilcrow" href="#section-1.2-2.12">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="problem-statement">
<section id="section-2">
      <h2 id="name-problem-statement">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-problem-statement">Problem Statement</a>
      </h2>
<p id="section-2-1">PIM Asserts occur in many deployments. See <a class="auto internal xref" href="#use-case-examples">Appendix A</a>
for explicit examples and explanations of why it is often not possible to avoid.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">PIM Assert state depends mainly on the network topology.
As long as there is a Layer 2 (L2) network with more than two PIM routers,
there may be multiple upstream routers, which can cause duplicate
multicast traffic to be forwarded and assert processing to occur.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">As the multicast services become widely deployed, the
number of multicast entries increases, and a large number of Assert
messages may be sent in a very short period when multicast data
packets trigger PIM assert processing in the shared LAN networks.
The PIM routers need to process a large number of small PIM assert
packets in a very short time. As a result, the device load is very
large. The assert packet may not be processed in time or even
discarded, thus extending the time of traffic duplication in the
network.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">The PIM Assert mechanism can only be avoided by designing the network
    to be without transit subnets with multiple upstream routers. For example,
    an L2 ring between routers can sometimes be reconfigured to be a ring of
    point-to-point subnets connected by the routers. However, these Layer 2
    (L2) and Layer 3 (L3) topology changes are undesirable when they are only
    done to enable IP multicast with PIM because they increase the cost of
    introducing IP multicast with PIM.<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">These designs are also not feasible when specific L2 technologies are
    needed.  For example, various L2 technologies for rings provide sub-50
    msec failover mechanisms, something not possible equally with a ring
    composed from L3 subnets. Likewise, IEEE Time-Sensitive Networking
    mechanisms would require an L2 topology that cannot simply be replaced by
    an L3 topology.  L2 sub-topologies can also significantly reduce the cost
    of deployment.<a class="pilcrow" href="#section-2-5">¶</a></p>
</section>
</div>
<div id="specification">
<section id="section-3">
      <h2 id="name-specification">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-specification">Specification</a>
      </h2>
<p id="section-3-1">This document defines three elements in support of PIM assert packing:<a class="pilcrow" href="#section-3-1">¶</a></p>
<ol class="normal type-1" id="section-3-2" start="1" type="1">
 <li id="section-3-2.1">The PIM Packed Assert Capability Hello Option<a class="pilcrow" href="#section-3-2.1">¶</a>
</li>
        <li id="section-3-2.2">The encoding of PackedAssert messages<a class="pilcrow" href="#section-3-2.2">¶</a>
</li>
        <li id="section-3-2.3">How to send and receive PackedAssert messages<a class="pilcrow" href="#section-3-2.3">¶</a>
</li>
      </ol>
<div id="pim-assert-packing-hello-option">
<section id="section-3.1">
        <h3 id="name-pim-packed-assert-capabilit">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-pim-packed-assert-capabilit">PIM Packed Assert Capability Hello Option</a>
        </h3>
<p id="section-3.1-1">The PIM Packed Assert Capability Hello Option (<a class="auto internal xref" href="#assert-packing-option">Section 4.1</a>) is used to announce support
for the assert packing mechanisms specified in this document.
PackedAssert messages (<a class="auto internal xref" href="#assert-packing-formats">Section 3.2</a>) 
<span class="bcp14">MUST NOT</span> be used unless all PIM routers in the same subnet announce this option.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
</section>
</div>
<div id="assert-packing-formats">
<section id="section-3.2">
        <h3 id="name-assert-packing-message-form">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-assert-packing-message-form">Assert Packing Message Formats</a>
        </h3>
<p id="section-3.2-1">The PIM Assert message, as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>, describes the parameters of a
        (*,G) or (S,G) assert using the following information elements:
        Rendezvous Point Tree flag (R), Source Address, Group Address, Metric,
        and Metric Preference. This document calls this information an "assert
        record".<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">This document introduces two new PIM Assert message encodings
        through the allocation and use of two flags in the PIM Assert message
        header <span>[<a class="cite xref" href="#RFC9436">RFC9436</a>]</span>: the Packed (P) and the Aggregated (A)
        flags.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">If P=0, the message is a (non-packed) PIM Assert
        message as specified in <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>. See <a class="auto internal xref" href="#rfc7761-assert-message">Section 4.2</a>. In this case, the A flag
        <span class="bcp14">MUST</span> be set to 0 and <span class="bcp14">MUST</span> be ignored on
        receipt.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">If P=1, then the message is called a "PackedAssert
        message", and the type and hence encoding format of the payload are
        determined by the A flag.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">If A=0, then the message body is a sequence of assert records. This
        is called a "Simple PackedAssert message". See <a class="auto internal xref" href="#simple-packedassert-message">Section 4.3</a>.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">If A=1, then the message body is a sequence of aggregated assert
        records. This is called an "Aggregated PackedAssert message". See <a class="auto internal xref" href="#aggregated-packedassert-message">Section 4.4</a>.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
<p id="section-3.2-7">Two aggregated assert record types are specified.<a class="pilcrow" href="#section-3.2-7">¶</a></p>
<p id="section-3.2-8">The "Source Aggregated Assert Record" (see <a class="auto internal xref" href="#s-assert-record">Section 4.4.1</a>) encodes one (common) Source Address,
        Metric, and Metric Preference as well as a list of one or more Group
        Addresses.  Source Aggregated Assert Records provide a more compact
        encoding than the Simple PackedAssert message format when multiple
        (S,G) flows share the same source S.  A single Source Aggregated
        Assert Record with n Group Addresses represents the information of
        assert records for (S,G1)...(S,Gn).<a class="pilcrow" href="#section-3.2-8">¶</a></p>
<p id="section-3.2-9">The "RP Aggregated Assert Record" (see <a class="auto internal xref" href="#rp-assert-record">Section 4.4.2</a>) encodes one common Metric and Metric
        Preference as well as a list of "Group Records", each of which encodes
        a Group Address and a list of zero or more Source Addresses with a
        count. This is called an "RP Aggregated Assert Record", because with
        standard RPF according to <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>, all the Group
        Addresses that use the same RP will have the same Metric and Metric
        Preference.<a class="pilcrow" href="#section-3.2-9">¶</a></p>
<p id="section-3.2-10">RP Aggregation Assert Records provide a more compact encoding than
        the Simple PackedAssert message format for (*,G) flows.  The Source
        Address is optionally used in the assert procedures in <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> to indicate the source(s) that triggered the
        assert; otherwise, the Source Address is set to 0 in the assert
        record.<a class="pilcrow" href="#section-3.2-10">¶</a></p>
<p id="section-3.2-11">Both Source Aggregated Assert Records and RP Aggregated Assert
        Records also include the R flag, which maintains its semantics from
        <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> but also distinguishes the encodings. Source
        Aggregated Assert Records have R=0, as (S,G) assert records do in
        <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.  RP Aggregated Assert Records have R=1, as
        (*,G) assert records do in <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-3.2-11">¶</a></p>
</section>
</div>
<div id="packedassert-mechanism">
<section id="section-3.3">
        <h3 id="name-packedassert-mechanism">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-packedassert-mechanism">PackedAssert Mechanism</a>
        </h3>
<p id="section-3.3-1">PackedAsserts do not change the PIM Assert state machine
        specification <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>. Instead, sending and
        receiving of PackedAssert messages, as specified in the following
        subsections, are logically new packetization options for assert records
        in addition to the (non-packed) Assert message <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.  There is no change to the assert record
        information elements transmitted or their semantics. They are just
        transmitted in fewer but larger packets, and a fewer total number of
        bytes is used to encode the information elements. As a result, PIM
        routers should be able to send and receive assert records faster
        and/or with less processing overhead.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<div id="sending-packedassert-messages">
<section id="section-3.3.1">
          <h4 id="name-sending-packedassert-messag">
<a class="section-number selfRef" href="#section-3.3.1">3.3.1. </a><a class="section-name selfRef" href="#name-sending-packedassert-messag">Sending PackedAssert Messages</a>
          </h4>
<p id="section-3.3.1-1">When using assert packing, the regular Assert message encoding
          <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> with A=0 and P=0 is still allowed to be
          sent.  Routers are free to choose which PackedAssert message format
          they send -- simple (<a class="auto internal xref" href="#simple-packedassert-message">Section 4.3</a>)
          and/or aggregated (<a class="auto internal xref" href="#aggregated-packedassert-message">Section 4.4</a>).<a class="pilcrow" href="#section-3.3.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3.1-2.1">When any PIM routers on the LAN have not signaled support for
            assert packing, implementations <span class="bcp14">MUST</span> only send 
            Asserts and <span class="bcp14">MUST NOT</span> send PackedAsserts under any
            condition.<a class="pilcrow" href="#section-3.3.1-2.1">¶</a>
</li>
            <li class="normal" id="section-3.3.1-2.2">The protocol or system conditions for which an implementation
            sends PackedAsserts instead of Asserts are out of scope
            for this specification. Protocol conditions include protocol
            triggers such as data-triggered asserts or Assert Timer (AT)
            expiry-triggered asserts, and system conditions include high or
            low load or control plane packet reception rates.<a class="pilcrow" href="#section-3.3.1-2.2">¶</a>
</li>
            <li class="normal" id="section-3.3.1-2.3">Implementations are expected to specify in documentation
            and/or management interfaces (such as a YANG data model) which
            PackedAssert message formats they can send and under which
            conditions they will send them.<a class="pilcrow" href="#section-3.3.1-2.3">¶</a>
</li>
            <li class="normal" id="section-3.3.1-2.4">Implementations <span class="bcp14">SHOULD</span> be able to indicate to
            the operator (such as through a YANG data model) how many Assert
            and PackedAssert messages were sent/received and how many assert
            records were sent/received.<a class="pilcrow" href="#section-3.3.1-2.4">¶</a>
</li>
            <li class="normal" id="section-3.3.1-2.5">A configuration option <span class="bcp14">SHOULD</span> be available to
         disable PackedAssert operations. PIM-SM implementations <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> that introduce support for assert packing from day
         one <span class="bcp14">MAY</span> omit this configuration option.<a class="pilcrow" href="#section-3.3.1-2.5">¶</a>
</li>
          </ul>
<p id="section-3.3.1-3">When a PIM router has an assert record ready to send according to
          <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>, it calls one of the following
          functions:<a class="pilcrow" href="#section-3.3.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3.1-4.1">send Assert(S,G) / send Assert(*,G) (<span>[<a class="cite xref" href="#RFC7761">RFC7761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.2">Section 4.2</a></span>)<a class="pilcrow" href="#section-3.3.1-4.1">¶</a>
</li>
            <li class="normal" id="section-3.3.1-4.2">send Assert(S,G) / send AssertCancel(S,G) (<span>[<a class="cite xref" href="#RFC7761">RFC7761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.6.1">Section 4.6.1</a></span>)<a class="pilcrow" href="#section-3.3.1-4.2">¶</a>
</li>
            <li class="normal" id="section-3.3.1-4.3">send Assert(*,G) / send AssertCancel(*,G) (<span>[<a class="cite xref" href="#RFC7761">RFC7761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.6.2">Section 4.6.2</a></span>)<a class="pilcrow" href="#section-3.3.1-4.3">¶</a>
</li>
            <li class="normal" id="section-3.3.1-4.4">send Assert(S,G) (<span>[<a class="cite xref" href="#RFC7761">RFC7761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.8.2">Section 4.8.2</a></span>)<a class="pilcrow" href="#section-3.3.1-4.4">¶</a>
</li>
          </ul>
<p id="section-3.3.1-5">If sending of PackedAsserts is possible on the network, instead of
          sending an Assert message with an assert record, any of these calls
          <span class="bcp14">MAY</span> instead result in the PIM implementation
          remembering the assert record and continuing with further
          processing for other flows, which may result in additional assert
          records.<a class="pilcrow" href="#section-3.3.1-5">¶</a></p>
<p id="section-3.3.1-6">PIM <span class="bcp14">MUST</span> then create PackedAssert messages from
          the remembered assert records and schedule them for sending
          according to the considerations in the following subsections.<a class="pilcrow" href="#section-3.3.1-6">¶</a></p>
<div id="handling-of-reception-triggered-assert-records">
<section id="section-3.3.1.1">
            <h5 id="name-handling-of-reception-trigg">
<a class="section-number selfRef" href="#section-3.3.1.1">3.3.1.1. </a><a class="section-name selfRef" href="#name-handling-of-reception-trigg">Handling of Reception-Triggered Assert Records</a>
            </h5>
<p id="section-3.3.1.1-1">Avoiding additional delay because of assert packing compared to
            immediately scheduling Assert messages is most critical for
            assert records that are triggered by reception of data or
            reception of asserts against which the router is in the "I am
            Assert Winner" state. In these cases, the router
            <span class="bcp14">SHOULD</span> send out an Assert or PackedAssert message
            containing this assert record as soon as possible to minimize the
            time in which duplicate IP multicast packets can occur.<a class="pilcrow" href="#section-3.3.1.1-1">¶</a></p>
<p id="section-3.3.1.1-2">To avoid additional delay in this case, the router should
            employ appropriate assert packing and scheduling mechanisms, as
            explained here.<a class="pilcrow" href="#section-3.3.1.1-2">¶</a></p>
<p id="section-3.3.1.1-3">Asserts/PackedAsserts created from reception-triggered assert
            records should be scheduled for serialization with a higher
            priority than those created because of other protocol or system
            conditions. They should also bypass other PIM messages that can
            create significant bursts, such as PIM join/prune messages.<a class="pilcrow" href="#section-3.3.1.1-3">¶</a></p>
<p id="section-3.3.1.1-4">When there are no reception-triggered Assert/PackedAssert
            messages currently being serialized on the interface or scheduled
            to be sent, the router should immediately generate and schedule an
            Assert or PackedAssert message without further assert packing.<a class="pilcrow" href="#section-3.3.1.1-4">¶</a></p>
<p id="section-3.3.1.1-5">If one or more reception-triggered Assert/PackedAssert messages
            are already serializing or are scheduled to be serialized on the
            outgoing interface, then the router can use the time until the
            last of those messages has finished serializing for PIM processing
            of further conditions. This may result in additional
            reception-triggered assert records and the packing of these assert
            records without introducing additional delay.<a class="pilcrow" href="#section-3.3.1.1-5">¶</a></p>
</section>
</div>
<div id="handling-of-timer-expiry-triggered-assert-records">
<section id="section-3.3.1.2">
            <h5 id="name-handling-of-timer-expiry-tr">
<a class="section-number selfRef" href="#section-3.3.1.2">3.3.1.2. </a><a class="section-name selfRef" href="#name-handling-of-timer-expiry-tr">Handling of Timer Expiry-Triggered Assert Records</a>
            </h5>
<p id="section-3.3.1.2-1">Asserts triggered by expiry of the AT on an assert winner are
            not time-critical because they can be scheduled in advance and
            because the Assert_Override_Interval parameter <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> already creates a 3-second window in which such
            assert records can be sent, received, and processed before an
            assert loser's state expires and duplicate IP multicast
            packets could occur.<a class="pilcrow" href="#section-3.3.1.2-1">¶</a></p>
<p id="section-3.3.1.2-2">An example mechanism to allow packing of AT expiry-triggered
            assert records on assert winners is to round the AT to an
            appropriate granularity such as 100 msec.  This will cause the AT for
            multiple (S,G) and/or (*,G) states to expire at the same time,
            thus allowing them to be easily packed without changes to the
            Assert state machinery.<a class="pilcrow" href="#section-3.3.1.2-2">¶</a></p>
<p id="section-3.3.1.2-3">AssertCancel messages have assert records with an infinite
            metric and can use assert packing like any other Assert. They are
            sent on Override Timer (OT) expiry and can be packed, for example,
            with the same considerations as AT expiry-triggered assert
            records.<a class="pilcrow" href="#section-3.3.1.2-3">¶</a></p>
</section>
</div>
<div id="beneficial">
<section id="section-3.3.1.3">
            <h5 id="name-beneficial-delay-in-sending">
<a class="section-number selfRef" href="#section-3.3.1.3">3.3.1.3. </a><a class="section-name selfRef" href="#name-beneficial-delay-in-sending">Beneficial Delay in Sending PackedAssert Messages</a>
            </h5>
<p id="section-3.3.1.3-1">Delay in sending PackedAsserts beyond what was discussed in
            prior subsections can still be beneficial when it causes the
            overall number of possible duplicate IP multicast packets to
            decrease in a situation with a large number of (S,G) and/or (*,G),
            compared to the situation where an implementation only sends
            Assert messages.<a class="pilcrow" href="#section-3.3.1.3-1">¶</a></p>
<p id="section-3.3.1.3-2">This delay can be used in implementations because it cannot
            support the more advanced mechanisms described above, and this
            longer delay can be achieved by some simpler mechanisms (such as
            only periodic generation of PackedAsserts) and still achieves an
            overall reduction in duplicate IP multicast packets compared to
            sending only Asserts.<a class="pilcrow" href="#section-3.3.1.3-2">¶</a></p>
</section>
</div>
<div id="handling-assertpackedassert-message-loss">
<section id="section-3.3.1.4">
            <h5 id="name-handling-assert-packedasser">
<a class="section-number selfRef" href="#section-3.3.1.4">3.3.1.4. </a><a class="section-name selfRef" href="#name-handling-assert-packedasser">Handling Assert/PackedAssert Message Loss</a>
            </h5>
<p id="section-3.3.1.4-1">When Asserts are sent, a single packet loss will result only in
            continued or new duplicates from a single IP multicast flow.  Loss
            of a (non-AssertCancel) PackedAssert impacts duplicates for all
            flows packed into the PackedAssert and may result in the need for
            resending more than one Assert/PackedAssert, because of the
            possible inability to pack the assert records in this condition.
            Therefore, routers <span class="bcp14">SHOULD</span> support mechanisms
            that allow PackedAsserts and Asserts to be sent with an
            appropriate Differentiated Services Code Point (DSCP) <span>[<a class="cite xref" href="#RFC2475">RFC2475</a>]</span> such as Expedited Forwarding (EF) to
            minimize their loss, especially when duplicate IP multicast
            packets could cause congestion and loss.<a class="pilcrow" href="#section-3.3.1.4-1">¶</a></p>
<p id="section-3.3.1.4-2">Routers <span class="bcp14">MAY</span> support a configurable option for
            sending PackedAssert messages twice in short order (such as 50
            msec apart) to overcome possible loss, but only when the following
            two conditions are met.<a class="pilcrow" href="#section-3.3.1.4-2">¶</a></p>
<ol class="normal type-1" id="section-3.3.1.4-3" start="1" type="1">
       <li id="section-3.3.1.4-3.1">The total size of the two PackedAsserts is less than the
       total size of equivalent Assert messages.<a class="pilcrow" href="#section-3.3.1.4-3.1">¶</a>
</li>
              <li id="section-3.3.1.4-3.2">The condition of the assert record flows in the
              PackedAssert is such that the router can expect that their
              reception by PIM routers will not trigger Assert/PackedAsserts
              replies.  This condition is true, for example, when sending an
              assert record while becoming or being assert winner (Action
              A1/A3 in <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>).<a class="pilcrow" href="#section-3.3.1.4-3.2">¶</a>
</li>
            </ol>
</section>
</div>
<div id="optimal-degree-of-assert-record-packing">
<section id="section-3.3.1.5">
            <h5 id="name-optimal-degree-of-assert-re">
<a class="section-number selfRef" href="#section-3.3.1.5">3.3.1.5. </a><a class="section-name selfRef" href="#name-optimal-degree-of-assert-re">Optimal Degree of Assert Record Packing</a>
            </h5>
<p id="section-3.3.1.5-1">The optimal target packing size will vary depending on factors
            including implementation characteristics and the required
            operating scale. At some point, as the target packing size is
            varied from the size of a single non-packed Assert to the MTU
            size, a size can be expected to be found where the router can
            achieve the required operating scale of (S,G) and (*,G) flows with
            minimum duplicates.  Beyond this size, a further increase in the
            target packing size would not produce further benefits but might
            introduce possible negative effects such as the incurrence of more
            duplicates on loss.<a class="pilcrow" href="#section-3.3.1.5-1">¶</a></p>
<p id="section-3.3.1.5-2">For example, in some router implementations, the total number
            of packets that a control plane function such as PIM can
            send/receive per unit of time is a more limiting factor than the
            total amount of data across these packets. As soon as the packet
            size is large enough for the maximum possible payload throughput,
            increasing the packet size any further may still reduce the
            processing overhead of the router but may increase latency
            incurred in creating the packet in a way that may increase
            duplicates compared to smaller packets.<a class="pilcrow" href="#section-3.3.1.5-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="receiving-packedassert-messages">
<section id="section-3.3.2">
          <h4 id="name-receiving-packedassert-mess">
<a class="section-number selfRef" href="#section-3.3.2">3.3.2. </a><a class="section-name selfRef" href="#name-receiving-packedassert-mess">Receiving PackedAssert Messages</a>
          </h4>
<p id="section-3.3.2-1">Upon reception of a PackedAssert message, the PIM router logically
converts its payload into a sequence of assert records that are then processed
as if an equivalent sequence of Assert messages were received according to <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-3.3.2-1">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="packet-formats">
<section id="section-4">
      <h2 id="name-packet-formats">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-packet-formats">Packet Formats</a>
      </h2>
<p id="section-4-1">This section describes the format of new PIM extensions introduced by
this document.<a class="pilcrow" href="#section-4-1">¶</a></p>
<div id="assert-packing-option">
<section id="section-4.1">
        <h3 id="name-pim-packed-assert-capability">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-pim-packed-assert-capability">PIM Packed Assert Capability Hello Option</a>
        </h3>
<p id="section-4.1-1">The PIM Packed Assert Capability Hello Option is a new option for PIM Hello
        messages according to <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.2">Section 4.9.2</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<span id="name-pim-packed-assert-capability-"></span><div id="FIG-HELLO-OPTION">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-4.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      OptionType = 40          |      OptionLength = 0         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-pim-packed-assert-capability-">PIM Packed Assert Capability Hello
        Option</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.1-3">
          <dt id="section-4.1-3.1">OptionType 40 (Packed Assert Capability):</dt>
          <dd id="section-4.1-3.2" style="margin-left: 1.5em">Indicates support for the ability to receive and process all the
   PackedAssert encodings defined in this document.<a class="pilcrow" href="#section-4.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.3">OptionLength 0:</dt>
          <dd id="section-4.1-3.4" style="margin-left: 1.5em">The Packet Assert Capability has no OptionValue.<a class="pilcrow" href="#section-4.1-3.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="rfc7761-assert-message">
<section id="section-4.2">
        <h3 id="name-assert-message-format">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-assert-message-format">Assert Message Format</a>
        </h3>
<p id="section-4.2-1"><a class="auto internal xref" href="#FIG-MESSAGE-ASSERT">Figure 2</a> shows a PIM Assert message as
        specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>. The Encoded-Group and Encoded-Unicast address
        formats are specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.1">Section 4.9.1</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> for IPv4 and IPv6.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<span id="name-assert-message-format-2"></span><div id="FIG-MESSAGE-ASSERT">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.2-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|PIM Ver| Type  |7 6 5 4 3 2|A|P|           Checksum            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Group Address (Encoded-Group format)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Source Address (Encoded-Unicast format)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|                      Metric Preference                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Metric                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-assert-message-format-2">Assert Message Format</a>
          </figcaption></figure>
</div>
<p id="section-4.2-3">This common header shows the "7 6 5 4 3 2" flag bits (as defined in
        <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9436#section-4">Section 4</a> of [<a class="cite xref" href="#RFC9436">RFC9436</a>]</span>) and the
        location of the P and A flags (as described in <a class="auto internal xref" href="#IANA">Section 5</a>).
        As specified in <a class="auto internal xref" href="#assert-packing-formats">Section 3.2</a>, both flags in
        a (non-packed) PIM Assert message are required to be set to 0.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
</section>
</div>
<div id="simple-packedassert-message">
<section id="section-4.3">
        <h3 id="name-simple-packedassert-message">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-simple-packedassert-message">Simple PackedAssert Message Format</a>
        </h3>
<span id="name-simple-packedassert-message-"></span><div id="FIG-MESSAGE-SIMPLE">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-4.3-1.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|PIM Ver| Type  |7 6 5 4 3 2|A|P|           Checksum            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Zero       |                     Reserved                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Assert Record [1]                      .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Assert Record [2]                      .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                               .                               |
.                               .                               .
|                               .                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Assert Record [M]                      .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-simple-packedassert-message-">Simple PackedAssert Message Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.3-2">
          <dt id="section-4.3-2.1">PIM Version, Type, Checksum:</dt>
          <dd id="section-4.3-2.2" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.3-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.3">"7 6 5 4 3 2":</dt>
          <dd id="section-4.3-2.4" style="margin-left: 1.5em">Flag bits per <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9436#section-4">Section 4</a> of [<a class="cite xref" href="#RFC9436">RFC9436</a>]</span>.<a class="pilcrow" href="#section-4.3-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.5">P:</dt>
          <dd id="section-4.3-2.6" style="margin-left: 1.5em">Packed flag. <span class="bcp14">MUST</span> be 1.<a class="pilcrow" href="#section-4.3-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.7">A:</dt>
          <dd id="section-4.3-2.8" style="margin-left: 1.5em">Aggregated flag. <span class="bcp14">MUST</span> be 0.<a class="pilcrow" href="#section-4.3-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.9">Zero:</dt>
          <dd id="section-4.3-2.10" style="margin-left: 1.5em">Set to zero on transmission. Serves to make PIM routers that are
   not capable of assert packing to fail in parsing the message instead
   possible mis-parsing of the message as an Assert message <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> if this field was not
   zero-filled.<a class="pilcrow" href="#section-4.3-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.11">Reserved:</dt>
          <dd id="section-4.3-2.12" style="margin-left: 1.5em">Set to zero on transmission.  Ignored upon receipt.<a class="pilcrow" href="#section-4.3-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.13">M:</dt>
          <dd id="section-4.3-2.14" style="margin-left: 1.5em">The number of Assert Records in the message. Derived from the
   length of the packet carrying the message.<a class="pilcrow" href="#section-4.3-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-2.15">Assert Record:</dt>
          <dd id="section-4.3-2.16" style="margin-left: 1.5em">Formatted according to <a class="auto internal xref" href="#FIG-MESSAGE-SIMPLE">Figure 3</a>,
   which is the same as the PIM Assert message body as specified in
   <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.3-2.16">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.3-3">The format of each Assert Record is the same as the PIM Assert
        message body as specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<span id="name-assert-record"></span><div id="FIG-ASSERT-RECORD-FORMAT">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-4.3-4.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Group Address (Encoded-Group format)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Source Address (Encoded-Unicast format)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|                      Metric Preference                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Metric                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-assert-record">Assert Record</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="aggregated-packedassert-message">
<section id="section-4.4">
        <h3 id="name-aggregated-packedassert-mes">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-aggregated-packedassert-mes">Aggregated PackedAssert Message Format</a>
        </h3>
<span id="name-aggregated-packedassert-mess"></span><div id="FIG-PACKET-FORMAT-SG">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-4.4-1.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|PIM Ver| Type  |7 6 5 4 3 2|A|P|           Checksum            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Zero       |                     Reserved                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                     Aggregated Assert Record [1]              .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                     Aggregated Assert Record [2]              .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                               .                               |
.                               .                               .
|                               .                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                     Aggregated Assert Record [M]              .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-aggregated-packedassert-mess">Aggregated PackedAssert Message Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4-2">
          <dt id="section-4.4-2.1">PIM Version, Type, Reserved, Checksum:</dt>
          <dd id="section-4.4-2.2" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.4-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.3">"7 6 5 4 3 2":</dt>
          <dd id="section-4.4-2.4" style="margin-left: 1.5em">Flag bits per <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9436#section-4">Section 4</a> of [<a class="cite xref" href="#RFC9436">RFC9436</a>]</span>.<a class="pilcrow" href="#section-4.4-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.5">P:</dt>
          <dd id="section-4.4-2.6" style="margin-left: 1.5em">Packed flag. <span class="bcp14">MUST</span> be 1.<a class="pilcrow" href="#section-4.4-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.7">A:</dt>
          <dd id="section-4.4-2.8" style="margin-left: 1.5em">Aggregated flag. <span class="bcp14">MUST</span> be 1.<a class="pilcrow" href="#section-4.4-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.9">Zero:</dt>
          <dd id="section-4.4-2.10" style="margin-left: 1.5em">Set to zero on transmission. Serves to make PIM routers that are
   not capable of assert packing to fail in parsing the message instead
   possible mis-parsing of the message as an Assert message <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> if this field was not
   zero-filled.<a class="pilcrow" href="#section-4.4-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.11">Aggregated Assert Record:</dt>
          <dd id="section-4.4-2.12" style="margin-left: 1.5em">Formatted according to <a class="auto internal xref" href="#FIG-PACKET-FORMAT-SG">Figure 5</a>.
   The number M of Aggregated Assert Records is determined from the
   packet size.<a class="pilcrow" href="#section-4.4-2.12">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="s-assert-record">
<section id="section-4.4.1">
          <h4 id="name-source-aggregated-assert-re">
<a class="section-number selfRef" href="#section-4.4.1">4.4.1. </a><a class="section-name selfRef" href="#name-source-aggregated-assert-re">Source Aggregated Assert Record</a>
          </h4>
<span id="name-source-aggregated-assert-rec"></span><div id="FIG-RECORD-FORMAT-SG">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-4.4.1-1.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|                      Metric Preference                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Metric                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Source Address (Encoded-Unicast format)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Number of Groups (N)   |           Reserved            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 Group Address 1 (Encoded-Group format)        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 Group Address 2 (Encoded-Group format)        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             .                                 |
|                             .                                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 Group Address N (Encoded-Group format)        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-source-aggregated-assert-rec">Source Aggregated Assert Record</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.1-2">
            <dt id="section-4.4.1-2.1">R:</dt>
            <dd id="section-4.4.1-2.2" style="margin-left: 1.5em">
              <p id="section-4.4.1-2.2.1"><span class="bcp14">MUST</span> be 0.<a class="pilcrow" href="#section-4.4.1-2.2.1">¶</a></p>
<p id="section-4.4.1-2.2.2">R indicates both that the encoding format of the record is that
            of a Source Aggregated Assert Record and that all assert
            records represented by the Source Aggregated Assert Record have
            R=0 and are therefore (S,G) assert records according to the
            definition of R in <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a></span>.<a class="pilcrow" href="#section-4.4.1-2.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-2.3">Metric Preference, Metric, Source Address:</dt>
            <dd id="section-4.4.1-2.4" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.  Source Address <span class="bcp14">MUST NOT</span> be
     zero.<a class="pilcrow" href="#section-4.4.1-2.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-2.5">Number of Groups:</dt>
            <dd id="section-4.4.1-2.6" style="margin-left: 1.5em">The number of Group Address fields.<a class="pilcrow" href="#section-4.4.1-2.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-2.7">Reserved:</dt>
            <dd id="section-4.4.1-2.8" style="margin-left: 1.5em"> Set to zero on transmission.  Ignored upon receipt.<a class="pilcrow" href="#section-4.4.1-2.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-2.9">Group Address:</dt>
            <dd id="section-4.4.1-2.10" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.4.1-2.10">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="rp-assert-record">
<section id="section-4.4.2">
          <h4 id="name-rp-aggregated-assert-record">
<a class="section-number selfRef" href="#section-4.4.2">4.4.2. </a><a class="section-name selfRef" href="#name-rp-aggregated-assert-record">RP Aggregated Assert Record</a>
          </h4>
<p id="section-4.4.2-1">An RP Aggregation Assert Record aggregates (*,G) assert records
          with the same Metric Preference and Metric. Typically, this is the
          case for all (*,G) using the same RP, but the encoding is not
          limited to only (*,G) using the same RP because the RP address is
          not encoded as it is also not present in assert records <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.4.2-1">¶</a></p>
<span id="name-rp-aggregated-assert-record-2"></span><div id="FIG-RECORD-FORMAT-RP">
<figure id="figure-7">
            <div class="alignLeft art-text artwork" id="section-4.4.2-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|R|                      Metric Preference                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Metric                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Number of Group Records (K) |           Reserved            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Group Record [1]                       .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Group Record [2]                       .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                               .                               |
.                               .                               .
|                               .                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
.                                                               .
.                        Group Record [K]                       .
.                                                               .
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-rp-aggregated-assert-record-2">RP Aggregated Assert Record</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2-3">
            <dt id="section-4.4.2-3.1">R:</dt>
            <dd id="section-4.4.2-3.2" style="margin-left: 1.5em">
              <p id="section-4.4.2-3.2.1"><span class="bcp14">MUST</span> be 1.<a class="pilcrow" href="#section-4.4.2-3.2.1">¶</a></p>
<p id="section-4.4.2-3.2.2">R indicates both that the encoding format of the record is
              that of an RP Aggregated Assert Record and that all assert
              records represented by the RP Aggregated Assert Record have R=1
              and are therefore (*,G) assert records according to the
              definition of R in <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a></span>.<a class="pilcrow" href="#section-4.4.2-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-3.3">Metric Preference, Metric:</dt>
            <dd id="section-4.4.2-3.4" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.4.2-3.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-3.5">Number of Group Records (K):</dt>
            <dd id="section-4.4.2-3.6" style="margin-left: 1.5em">The number of packed Group Records. A record consists of a
            Group Address and a Source Address list with a number of
            sources.<a class="pilcrow" href="#section-4.4.2-3.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-3.7">Reserved:</dt>
            <dd id="section-4.4.2-3.8" style="margin-left: 1.5em">Set to zero on transmission.  Ignored upon receipt.<a class="pilcrow" href="#section-4.4.2-3.8">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.4.2-4">The format of each Group Record is:<a class="pilcrow" href="#section-4.4.2-4">¶</a></p>
<span id="name-group-record"></span><div id="FIG-GROUP-RECORD">
<figure id="figure-8">
            <div class="alignLeft art-text artwork" id="section-4.4.2-5.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Group Address (Encoded-Group format)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Number of Sources (P)  |           Reserved            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Source Address 1 (Encoded-Unicast format)        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Source Address 2 (Encoded-Unicast format)        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             .                                 |
|                             .                                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Source Address P (Encoded-Unicast format)        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-group-record">Group Record</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2-6">
            <dt id="section-4.4.2-6.1">Group Address:</dt>
            <dd id="section-4.4.2-6.2" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.<a class="pilcrow" href="#section-4.4.2-6.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-6.3">Reserved:</dt>
            <dd id="section-4.4.2-6.4" style="margin-left: 1.5em">Set to zero on transmission.  Ignored upon receipt.<a class="pilcrow" href="#section-4.4.2-6.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-6.5">Number of Sources (P):</dt>
            <dd id="section-4.4.2-6.6" style="margin-left: 1.5em">The Number of Sources corresponds to the number of Source
            Address fields in the Group Record. If this number is not 0 and
            one of the (*,G) assert records to be encoded has Source Address
            0, then 0 needs to be encoded as one of the Source Address
            fields.<a class="pilcrow" href="#section-4.4.2-6.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-6.7">Reserved:</dt>
            <dd id="section-4.4.2-6.8" style="margin-left: 1.5em"> Set to zero on transmission.  Ignored upon receipt.<a class="pilcrow" href="#section-4.4.2-6.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.2-6.9">Source Address:</dt>
            <dd id="section-4.4.2-6.10" style="margin-left: 1.5em">As specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-4.9.6">Section 4.9.6</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>.  But there can be multiple Source Address
            fields in the Group Record.<a class="pilcrow" href="#section-4.4.2-6.10">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">IANA has updated the "PIM Message Types" registry as follows to
      include the Packed and Aggregated flag bits for the Assert message
      type.<a class="pilcrow" href="#section-5-1">¶</a></p>
<span id="name-pim-hello-options"></span><div id="FIG-IANA">
<table class="left" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-pim-hello-options">PIM-Hello Options</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Value</th>
            <th class="text-left" colspan="1" rowspan="1">Length</th>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">40</td>
            <td class="text-center" colspan="1" rowspan="1">0</td>
            <td class="text-left" colspan="1" rowspan="1">Packed Assert Capability</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9466</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-5-3">IANA has assigned the following two flag bits for PIM Assert messages
in the "PIM Message Types" registry.<a class="pilcrow" href="#section-5-3">¶</a></p>
<span id="name-pim-message-types"></span><div id="FIG-IANA2">
<table class="left" id="table-2">
        <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-pim-message-types">PIM Message Types</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Type</th>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
            <th class="text-left" colspan="1" rowspan="1">Flag Bits</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" colspan="1" rowspan="3">5</td>
            <td class="text-left" colspan="1" rowspan="3">Assert</td>
            <td class="text-left" colspan="1" rowspan="1">0: Packed</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9466</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">1: Aggregated</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9466</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">2-7: Unassigned</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span>[<a class="cite xref" href="#RFC3973">RFC3973</a>]</span> <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>
</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">The security considerations of <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> apply to the
      extensions defined in this document.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">This document packs multiple assert records in a single message. As
      described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-6.1">Section 6.1</a> of [<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>,
      a forged Assert message could cause the legitimate designated forwarder
      to stop forwarding traffic to the LAN. The effect may be amplified when
      using a PackedAssert message.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">Like other optional extensions of <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span> that are
      active only when all routers indicate support for them, a single
      misconfigured or malicious router emitting forged PIM Hello messages can
      inhibit operations of this extension.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">Authentication of PIM messages, such as that explained in Sections
      <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-6.2">6.2</a> and <a class="relref" href="https://rfc-editor.org/rfc/rfc7761#section-6.3">6.3</a> of <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>, can protect against forged message attacks
      attacks.<a class="pilcrow" href="#section-6-4">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7761">[RFC7761]</dt>
        <dd>
<span class="refAuthor">Fenner, B.</span>, <span class="refAuthor">Handley, M.</span>, <span class="refAuthor">Holbrook, H.</span>, <span class="refAuthor">Kouvelas, I.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Zhang, Z.</span>, and <span class="refAuthor">L. Zheng</span>, <span class="refTitle">"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"</span>, <span class="seriesInfo">STD 83</span>, <span class="seriesInfo">RFC 7761</span>, <span class="seriesInfo">DOI 10.17487/RFC7761</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7761">https://www.rfc-editor.org/info/rfc7761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9436">[RFC9436]</dt>
      <dd>
<span class="refAuthor">Venaas, S.</span> and <span class="refAuthor">A. Retana</span>, <span class="refTitle">"PIM Message Type Space Extension and Reserved Bits"</span>, <span class="seriesInfo">RFC 9436</span>, <span class="seriesInfo">DOI 10.17487/RFC9436</span>, <time class="refDate" datetime="2023-08">August 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9436">https://www.rfc-editor.org/info/rfc9436</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC2475">[RFC2475]</dt>
        <dd>
<span class="refAuthor">Blake, S.</span>, <span class="refAuthor">Black, D.</span>, <span class="refAuthor">Carlson, M.</span>, <span class="refAuthor">Davies, E.</span>, <span class="refAuthor">Wang, Z.</span>, and <span class="refAuthor">W. Weiss</span>, <span class="refTitle">"An Architecture for Differentiated Services"</span>, <span class="seriesInfo">RFC 2475</span>, <span class="seriesInfo">DOI 10.17487/RFC2475</span>, <time class="refDate" datetime="1998-12">December 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2475">https://www.rfc-editor.org/info/rfc2475</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3973">[RFC3973]</dt>
        <dd>
<span class="refAuthor">Adams, A.</span>, <span class="refAuthor">Nicholas, J.</span>, and <span class="refAuthor">W. Siadak</span>, <span class="refTitle">"Protocol Independent Multicast - Dense Mode (PIM-DM): Protocol Specification (Revised)"</span>, <span class="seriesInfo">RFC 3973</span>, <span class="seriesInfo">DOI 10.17487/RFC3973</span>, <time class="refDate" datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3973">https://www.rfc-editor.org/info/rfc3973</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6037">[RFC6037]</dt>
        <dd>
<span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Cai, Y., Ed.</span>, and <span class="refAuthor">IJ. Wijnands</span>, <span class="refTitle">"Cisco Systems' Solution for Multicast in BGP/MPLS IP VPNs"</span>, <span class="seriesInfo">RFC 6037</span>, <span class="seriesInfo">DOI 10.17487/RFC6037</span>, <time class="refDate" datetime="2010-10">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6037">https://www.rfc-editor.org/info/rfc6037</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7431">[RFC7431]</dt>
        <dd>
<span class="refAuthor">Karan, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Wijnands, IJ., Ed.</span>, and <span class="refAuthor">B. Decraene</span>, <span class="refTitle">"Multicast-Only Fast Reroute"</span>, <span class="seriesInfo">RFC 7431</span>, <span class="seriesInfo">DOI 10.17487/RFC7431</span>, <time class="refDate" datetime="2015-08">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7431">https://www.rfc-editor.org/info/rfc7431</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7490">[RFC7490]</dt>
      <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Shand, M.</span>, and <span class="refAuthor">N. So</span>, <span class="refTitle">"Remote Loop-Free Alternate (LFA) Fast Reroute (FRR)"</span>, <span class="seriesInfo">RFC 7490</span>, <span class="seriesInfo">DOI 10.17487/RFC7490</span>, <time class="refDate" datetime="2015-04">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7490">https://www.rfc-editor.org/info/rfc7490</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="use-case-examples">
<section id="appendix-A">
      <h2 id="name-use-case-examples">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-use-case-examples">Use Case Examples</a>
      </h2>
<p id="appendix-A-1">The PIM Assert mechanism can only be avoided by designing the network
      to be without transit subnets with multiple upstream routers. For
      example, an L2 ring between routers can sometimes be reconfigured to be
      a ring of point-to-point subnets connected by the routers. However, these L2/L3
      topology changes are undesirable when they are only done to
      enable IP multicast with PIM because they increase the cost of
      introducing IP multicast with PIM.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">These L3 ring designs are specifically undesirable when particular L2
      technologies are needed.  For example, various L2 technologies for rings
      provide sub-50 msec failover mechanisms that will benefit IP unicast and
      multicast alike without any added complexity to the IP layer (forwarding
      or routing). If such L2 rings were to be replaced by L3 rings just to
      avoid PIM asserts, then this would result in the need for a complex
      choice of a sub-50 msec IP unicast failover solution (such as <span>[<a class="cite xref" href="#RFC7490">RFC7490</a>]</span> with IP repair tunnels) as well as a
      separate sub-50 msec IP multicast failover solution, (such as <span>[<a class="cite xref" href="#RFC7431">RFC7431</a>]</span> with dedicated ring support). The
      mere fact that, by running at the IP layer, different solutions for IP
      unicast and multicast are required makes them more difficult to operate,
      and they typically require more expensive hardware. This often leads to
      non-support of the IP multicast part.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<p id="appendix-A-3">Likewise, IEEE Time-Sensitive Networking mechanisms would require an
      L2 topology that cannot simply be replaced by an L3 topology.  L2
      sub-topologies can also significantly reduce the cost of deployment.<a class="pilcrow" href="#appendix-A-3">¶</a></p>
<p id="appendix-A-4">The following subsections give examples of the type of network and
      use cases in which subnets with asserts have been observed or are
      expected to require scaling as provided by this specification.<a class="pilcrow" href="#appendix-A-4">¶</a></p>
<div id="enterprise-network">
<section id="appendix-A.1">
        <h3 id="name-enterprise-network">
<a class="section-number selfRef" href="#appendix-A.1">A.1. </a><a class="section-name selfRef" href="#name-enterprise-network">Enterprise Network</a>
        </h3>
<p id="appendix-A.1-1">When an enterprise network is connected through an L2 network,
        the intra-enterprise runs L3 PIM multicast. The different sites
        of the enterprise are equivalent to the PIM connection through the
        shared LAN network. Depending upon the locations and number of groups,
        there could be many asserts on the first-hop routers.<a class="pilcrow" href="#appendix-A.1-1">¶</a></p>
</section>
</div>
<div id="video-surveillance">
<section id="appendix-A.2">
        <h3 id="name-video-surveillance">
<a class="section-number selfRef" href="#appendix-A.2">A.2. </a><a class="section-name selfRef" href="#name-video-surveillance">Video Surveillance</a>
        </h3>
<p id="appendix-A.2-1">Video surveillance deployments have migrated from analog-based
        systems to IP-based systems oftentimes using multicast. In the shared
        LAN network deployments, when there are many cameras streaming to many
        groups, there may be issues with many asserts on first-hop routers.<a class="pilcrow" href="#appendix-A.2-1">¶</a></p>
</section>
</div>
<div id="financial-services">
<section id="appendix-A.3">
        <h3 id="name-financial-services">
<a class="section-number selfRef" href="#appendix-A.3">A.3. </a><a class="section-name selfRef" href="#name-financial-services">Financial Services</a>
        </h3>
<p id="appendix-A.3-1">Financial services extensively rely on IP Multicast to deliver
        stock market data and its derivatives, and the current multicast
        solution PIM is usually deployed. As the number of multicast flows
        grow, many stock data with many groups may result in many PIM asserts
        on a shared LAN network from the publisher to the subscribers.<a class="pilcrow" href="#appendix-A.3-1">¶</a></p>
</section>
</div>
<div id="iptv-broadcast-video">
<section id="appendix-A.4">
        <h3 id="name-iptv-broadcast-video">
<a class="section-number selfRef" href="#appendix-A.4">A.4. </a><a class="section-name selfRef" href="#name-iptv-broadcast-video">IPTV Broadcast Video</a>
        </h3>
<p id="appendix-A.4-1">PIM DR deployments are often used in host-side network for IPTV
        broadcast video services. Host-side access network failure scenarios
        may benefit from assert packing when many groups are being
        used. According to <span>[<a class="cite xref" href="#RFC7761">RFC7761</a>]</span>, the DR will be elected to
        forward multicast traffic in the shared access network. When the DR
        recovers from a failure, the original DR starts to send traffic, and
        the current DR is still forwarding traffic. In this situation, multicast
        traffic duplication maybe happen in the shared access network and can
        trigger the assert progress.<a class="pilcrow" href="#appendix-A.4-1">¶</a></p>
</section>
</div>
<div id="mvpn-mdt">
<section id="appendix-A.5">
        <h3 id="name-mvpn-mdt">
<a class="section-number selfRef" href="#appendix-A.5">A.5. </a><a class="section-name selfRef" href="#name-mvpn-mdt">MVPN MDT</a>
        </h3>
<p id="appendix-A.5-1">As described in <span>[<a class="cite xref" href="#RFC6037">RFC6037</a>]</span>, Multicast Distribution
        Tree (MDT) is used as tunnels for Multicast VPN (MVPN). The
        configuration of multicast-enabled VPN Routing and Forwarding (VRF) or
        changes to an interface that is in a VRF may cause many assert packets
        to be sent at the same time.<a class="pilcrow" href="#appendix-A.5-1">¶</a></p>
</section>
</div>
<div id="special-l2-services">
<section id="appendix-A.6">
        <h3 id="name-special-l2-services">
<a class="section-number selfRef" href="#appendix-A.6">A.6. </a><a class="section-name selfRef" href="#name-special-l2-services">Special L2 Services</a>
        </h3>
<p id="appendix-A.6-1">Additionally, future backhaul, or fronthaul, networks may want to
        connect L3 across an L2 underlay supporting Time-Sensitive Networks
        (TSNs). The infrastructure may run Deterministic Networking (DetNet)
        over TSN. These transit L2 LANs would have multiple upstreams and
        downstreams. This document takes a proactive approach to
        prevention of possible future assert issues in these types of
        environments.<a class="pilcrow" href="#appendix-A.6-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-B">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-B-1">The authors would like to thank the following individuals: <span class="contact-name">Stig Venaas</span>
      for the valuable contributions of this document, <span class="contact-name">Alvaro Retana</span> for his thorough and constructive RTG AD
      review, <span class="contact-name">Ines Robles</span> for her Gen-ART review,
      <span class="contact-name">Tommy Pauly</span> for his Transport Area review,
      <span class="contact-name">Robert Sparks</span> for his SecDir review, <span class="contact-name">Shuping Peng</span> for her RtgDir review, <span class="contact-name">John       Scudder</span> for his RTG AD review, <span class="contact-name">Éric Vyncke</span> for
      his INT AD review, <span class="contact-name">Eric Kline</span> for his INT AD
      review, <span class="contact-name">Paul Wouter</span> for his SEC AD review,
      <span class="contact-name">Zaheduzzaman Sarker</span> for his TSV AD review,
      <span class="contact-name">Robert Wilton</span> for his OPS AD review, and <span class="contact-name">Martin Duke</span> for his TSV AD review.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Yisong Liu (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">China Mobile</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:liuyisong@chinamobile.com">liuyisong@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Toerless Eckert (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Futurewei</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tte@cs.fau.de">tte@cs.fau.de</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mike McBride</span></div>
<div class="left" dir="auto"><span class="org">Futurewei</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:michael.mcbride@futurewei.com">michael.mcbride@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zheng (Sandy) Zhang</span></div>
<div class="left" dir="auto"><span class="org">ZTE Corporation</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zhang.zheng@zte.com.cn">zhang.zheng@zte.com.cn</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>