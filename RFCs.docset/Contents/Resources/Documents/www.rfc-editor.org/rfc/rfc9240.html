<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9240: An Extension for Application-Layer Traffic Optimization (ALTO): Entity Property Maps</title>
<meta content="Wendy Roome" name="author"/>
<meta content="Sabine Randriamasy" name="author"/>
<meta content="Y. Richard Yang" name="author"/>
<meta content="Jingxuan Jensen Zhang" name="author"/>
<meta content="Kai Gao" name="author"/>
<meta content='
       This document specifies an extension to the base 
      Application-Layer Traffic Optimization (ALTO)
 Protocol that generalizes the concept of "endpoint properties",
 which have been tied to IP addresses so far,  
 to entities defined by a wide set of objects. 
 Further, these properties are presented as maps, similar to the
 network and cost maps in the base ALTO Protocol. 
 While supporting the endpoints and related Endpoint Property Service defined in RFC 7285,
 the ALTO Protocol is extended in two major directions. 
 First, from endpoints restricted to IP addresses to
 entities covering a wider and extensible set of objects; second, from
 properties for specific endpoints to entire entity property maps. These
 extensions introduce additional features that allow entities and property
 values to be specific to a given information resource. This is made possible
 by a generic and flexible design of entity and property types. 
    ' name="description"/>
<meta content="xml2rfc 3.12.10" name="generator"/>
<meta content="ALTO" name="keyword"/>
<meta content="9240" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.10
    Python 3.6.15
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    MarkupSafe 2.0.1
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9240.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9240" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-alto-unified-props-new-24" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9240</td>
<td class="center">Entity Property Maps</td>
<td class="right">July 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Roome, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9240">9240</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-07">July 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">W. Roome</div>
<div class="org">Nokia Bell Labs</div>
</div>
<div class="author">
      <div class="author-name">S. Randriamasy</div>
<div class="org">Nokia Bell Labs</div>
</div>
<div class="author">
      <div class="author-name">Y. Yang</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">J. Zhang</div>
<div class="org">Tongji University</div>
</div>
<div class="author">
      <div class="author-name">K. Gao</div>
<div class="org">Sichuan University</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9240</h1>
<h1 id="title">An Extension for Application-Layer Traffic Optimization (ALTO): Entity Property Maps</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document specifies an extension to the base 
      Application-Layer Traffic Optimization (ALTO)
 Protocol that generalizes the concept of "endpoint properties",
 which have been tied to IP addresses so far,  
 to entities defined by a wide set of objects. 
 Further, these properties are presented as maps, similar to the
 network and cost maps in the base ALTO Protocol. 
 While supporting the endpoints and related Endpoint Property Service defined in RFC 7285,
 the ALTO Protocol is extended in two major directions. 
 First, from endpoints restricted to IP addresses to
 entities covering a wider and extensible set of objects; second, from
 properties for specific endpoints to entire entity property maps. These
 extensions introduce additional features that allow entities and property
 values to be specific to a given information resource. This is made possible
 by a generic and flexible design of entity and property types.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9240">https://www.rfc-editor.org/info/rfc9240</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-terminology-and-notation">Terminology and Notation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-basic-features-of-the-entit">Basic Features of the Entity Property Map Extension</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-entity">Entity</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-entity-domain">Entity Domain</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a class="xref" href="#section-3.2.1">3.2.1</a>.  <a class="xref" href="#name-entity-domain-type">Entity Domain Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a class="xref" href="#section-3.2.2">3.2.2</a>.  <a class="xref" href="#name-entity-domain-name">Entity Domain Name</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-entity-property-type">Entity Property Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-new-information-resource-an">New Information Resource and Media Type: ALTO Property Map</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-advanced-features-of-the-en">Advanced Features of the Entity Property Map Extension</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-entity-identifier-and-entit">Entity Identifier and Entity Domain Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-resource-specific-entity-do">Resource-Specific Entity Domain Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-resource-specific-entity-pr">Resource-Specific Entity Property Value</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-entity-hierarchy-and-proper">Entity Hierarchy and Property Inheritance</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a class="xref" href="#section-4.4.1">4.4.1</a>.  <a class="xref" href="#name-entity-hierarchy">Entity Hierarchy</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a class="xref" href="#section-4.4.2">4.4.2</a>.  <a class="xref" href="#name-property-inheritance">Property Inheritance</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a class="xref" href="#section-4.4.3">4.4.3</a>.  <a class="xref" href="#name-property-value-unicity">Property Value Unicity</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-supported-properties-for-en">Supported Properties for Entity Domains in Property Map Capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-defining-information-resour">Defining Information Resource for Resource-Specific Entity Domains</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6.2.1">
                    <p id="section-toc.1-1.4.2.6.2.1.1"><a class="xref" href="#section-4.6.1">4.6.1</a>.  <a class="xref" href="#name-defining-information-resourc">Defining Information Resource and Its Media Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6.2.2">
                    <p id="section-toc.1-1.4.2.6.2.2.1"><a class="xref" href="#section-4.6.2">4.6.2</a>.  <a class="xref" href="#name-examples-of-defining-inform">Examples of Defining Information Resources and Their Media Types</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a class="xref" href="#section-4.7">4.7</a>.  <a class="xref" href="#name-defining-information-resource">Defining Information Resources for Resource-Specific Property Values</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-protocol-specification-basi">Protocol Specification: Basic Data Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-entity-domain-2">Entity Domain</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a class="xref" href="#section-5.1.1">5.1.1</a>.  <a class="xref" href="#name-entity-domain-type-2">Entity Domain Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a class="xref" href="#section-5.1.2">5.1.2</a>.  <a class="xref" href="#name-entity-domain-name-2">Entity Domain Name</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a class="xref" href="#section-5.1.3">5.1.3</a>.  <a class="xref" href="#name-entity-identifier">Entity Identifier</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a class="xref" href="#section-5.1.4">5.1.4</a>.  <a class="xref" href="#name-hierarchy-and-inheritance">Hierarchy and Inheritance</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-entity-property">Entity Property</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a class="xref" href="#section-5.2.1">5.2.1</a>.  <a class="xref" href="#name-entity-property-type-2">Entity Property Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a class="xref" href="#section-5.2.2">5.2.2</a>.  <a class="xref" href="#name-entity-property-name">Entity Property Name</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a class="xref" href="#section-5.2.3">5.2.3</a>.  <a class="xref" href="#name-format-for-entity-property-">Format for Entity Property Value</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-entity-domain-types-defined">Entity Domain Types Defined in This Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-internet-address-domain-typ">Internet Address Domain Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a class="xref" href="#section-6.1.1">6.1.1</a>.  <a class="xref" href="#name-entity-domain-type-ipv4">Entity Domain Type: IPv4</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a class="xref" href="#section-6.1.2">6.1.2</a>.  <a class="xref" href="#name-entity-domain-type-ipv6">Entity Domain Type: IPv6</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.3">
                    <p id="section-toc.1-1.6.2.1.2.3.1"><a class="xref" href="#section-6.1.3">6.1.3</a>.  <a class="xref" href="#name-hierarchy-and-inheritance-o">Hierarchy and Inheritance of Internet Address Domains</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.4">
                    <p id="section-toc.1-1.6.2.1.2.4.1"><a class="xref" href="#section-6.1.4">6.1.4</a>.  <a class="xref" href="#name-defining-information-resource-">Defining Information Resource Media Type for Domain Types IPv4 and IPv6</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-entity-domain-type-pid">Entity Domain Type: PID</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a class="xref" href="#section-6.2.1">6.2.1</a>.  <a class="xref" href="#name-entity-domain-type-identifier">Entity Domain Type Identifier</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a class="xref" href="#section-6.2.2">6.2.2</a>.  <a class="xref" href="#name-domain-specific-entity-identi">Domain-Specific Entity Identifiers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a class="xref" href="#section-6.2.3">6.2.3</a>.  <a class="xref" href="#name-hierarchy-and-inheritance-2">Hierarchy and Inheritance</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a class="xref" href="#section-6.2.4">6.2.4</a>.  <a class="xref" href="#name-defining-information-resource-m">Defining Information Resource Media Type for Domain Type PID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a class="xref" href="#section-6.2.5">6.2.5</a>.  <a class="xref" href="#name-relationship-to-internet-ad">Relationship To Internet Addresses Domains</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-internet-address-properties">Internet Address Properties vs. PID Properties</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-property-map">Property Map</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-media-type">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-http-method">HTTP Method</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.  <a class="xref" href="#name-accept-input-parameters">Accept Input Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-7.4">7.4</a>.  <a class="xref" href="#name-capabilities">Capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a class="xref" href="#section-7.5">7.5</a>.  <a class="xref" href="#name-uses">Uses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a class="xref" href="#section-7.6">7.6</a>.  <a class="xref" href="#name-response">Response</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-filtered-property-map">Filtered Property Map</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-media-type-2">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-http-method-2">HTTP Method</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.  <a class="xref" href="#name-accept-input-parameters-2">Accept Input Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="xref" href="#section-8.4">8.4</a>.  <a class="xref" href="#name-capabilities-2">Capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a class="xref" href="#section-8.5">8.5</a>.  <a class="xref" href="#name-uses-2">Uses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a class="xref" href="#section-8.6">8.6</a>.  <a class="xref" href="#name-filtered-property-map-respo">Filtered Property Map Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.7">
                <p id="section-toc.1-1.8.2.7.1"><a class="xref" href="#section-8.7">8.7</a>.  <a class="xref" href="#name-entity-property-type-define">Entity Property Type Defined in This Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.7.2.1">
                    <p id="section-toc.1-1.8.2.7.2.1.1"><a class="xref" href="#section-8.7.1">8.7.1</a>.  <a class="xref" href="#name-entity-property-type-pid">Entity Property Type: pid</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-impact-on-legacy-alto-serve">Impact on Legacy ALTO Servers and ALTO Clients</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-impact-on-endpoint-property">Impact on Endpoint Property Service</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-impact-on-resource-specific">Impact on Resource-Specific Properties</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a class="xref" href="#section-9.3">9.3</a>.  <a class="xref" href="#name-impact-on-other-properties">Impact on Other Properties</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-examples">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-network-map">Network Map</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-property-definitions">Property Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a class="xref" href="#section-10.3">10.3</a>.  <a class="xref" href="#name-information-resource-direct">Information Resource Directory (IRD)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a class="xref" href="#section-10.4">10.4</a>.  <a class="xref" href="#name-full-property-map-example">Full Property Map Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a class="xref" href="#section-10.5">10.5</a>.  <a class="xref" href="#name-filtered-property-map-examp">Filtered Property Map Example #1</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a class="xref" href="#section-10.6">10.6</a>.  <a class="xref" href="#name-filtered-property-map-exampl">Filtered Property Map Example #2</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a class="xref" href="#section-10.7">10.7</a>.  <a class="xref" href="#name-filtered-property-map-example">Filtered Property Map Example #3</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a class="xref" href="#section-10.8">10.8</a>.  <a class="xref" href="#name-filtered-property-map-example-">Filtered Property Map Example #4</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.9">
                <p id="section-toc.1-1.10.2.9.1"><a class="xref" href="#section-10.9">10.9</a>.  <a class="xref" href="#name-filtered-property-map-for-a">Filtered Property Map for ANEs Example #5</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>. <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-12">12</a>. <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a class="xref" href="#section-12.1">12.1</a>.  <a class="xref" href="#name-application-alto-propmapjso">application/alto-propmap+json Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a class="xref" href="#section-12.2">12.2</a>.  <a class="xref" href="#name-alto-propmapparamsjson-medi">alto-propmapparams+json Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a class="xref" href="#section-12.3">12.3</a>.  <a class="xref" href="#name-alto-entity-domain-types-re">ALTO Entity Domain Types Registry</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3.2.1">
                    <p id="section-toc.1-1.12.2.3.2.1.1"><a class="xref" href="#section-12.3.1">12.3.1</a>.  <a class="xref" href="#name-consistency-procedure-betwe">Consistency Procedure between ALTO Address Types Registry and ALTO Entity Domain Types Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3.2.2">
                    <p id="section-toc.1-1.12.2.3.2.2.1"><a class="xref" href="#section-12.3.2">12.3.2</a>.  <a class="xref" href="#name-alto-entity-domain-type-reg">ALTO Entity Domain Type Registration Process</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a class="xref" href="#section-12.4">12.4</a>.  <a class="xref" href="#name-alto-entity-property-types-">ALTO Entity Property Types Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-13">13</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a class="xref" href="#section-13.1">13.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a class="xref" href="#section-13.2">13.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#appendix-A">Appendix A</a>.  <a class="xref" href="#name-features-introduced-with-th">Features Introduced with the Entity Property Maps Extension</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The ALTO Protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> introduces 
  the concept of "properties" attached to "endpoint addresses". 
  It also defines the Endpoint Property Service (EPS) to
 allow ALTO clients to retrieve those properties. While useful, the EPS as
 defined in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> has at least three limitations,
 which are elaborated here.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">First, the EPS allows properties to be associated only with endpoints that
 are identified by individual communication addresses like IPv4 and IPv6
 addresses. It is reasonable to think that collections of endpoints
        identified by Provider-Defined Identifiers (PIDs) may also have properties. 
 Furthermore, recent ALTO use cases show that properties
    of entities such as Abstract Network Elements as defined in
    <span>[<a class="xref" href="#I-D.ietf-alto-path-vector">PATH-VECTOR</a>]</span> 
     are also useful. 
 However, the current EPS is restricted to
 individual endpoints and cannot be applied to those entities.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">Second, the EPS only allows endpoints identified by global communication
addresses. However, an endpoint address may be a local IP address or an
anycast IP address that may not be globally unique. Additionally, an entity
such as a PID may have an identifier that is not globally unique. That is, the
same PID may be used in multiple network maps, while in each
network map, this PID points to a different set of addresses.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">Third, in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.4">Section 11.4</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, 
      the EPS is only defined as a POST-mode service. ALTO clients must request
the properties for an explicit set of endpoint addresses. By contrast,
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.2.3">Section 11.2.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>
defines a GET-mode cost map resource that returns all available
costs, so an ALTO Client can retrieve a full set of costs once and then process cost
lookups without querying the ALTO server. 
<span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> does not define a
similar service for endpoint properties. At first, a map of endpoint
properties might seem impractical because it could require enumerating the
property value for every possible endpoint. 
In particular, the number of endpoint addresses involved by
an ALTO server can be quite large. To avoid enumerating a large number 
of endpoint addresses inefficiently, the ALTO server might define 
properties for a sufficiently large subset of endpoints and then use an aggregation 
representation to reference endpoints in order to allow efficient enumeration. 
This is particularly true if blocks of
endpoint addresses with a common prefix have the same value
for a property. Entities in other domains may very well allow aggregated
representation and hence be enumerable as well.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">To address these three limitations, this document specifies an
      ALTO Protocol extension for defining and retrieving ALTO properties:<a class="pilcrow" href="#section-1-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-6.1">The first limitation is addressed by introducing a generic
concept called ALTO entity, which generalizes an endpoint and may represent
a PID, a network element, a cell in a cellular network, an Abstract
Network Element <span>[<a class="xref" href="#I-D.ietf-alto-path-vector">PATH-VECTOR</a>]</span>, 
or other physical or logical objects involved in a network topology. Each entity is
included in a collection called an ALTO entity domain. Since each ALTO
entity domain includes only one type of entity, each entity domain can be
classified by the type of enclosed entities.<a class="pilcrow" href="#section-1-6.1">¶</a>
</li>
        <li class="normal" id="section-1-6.2">The second limitation is addressed by using resource-specific
entity domains. A resource-specific entity domain contains entities that
are defined and identified with respect to a given ALTO information
resource, which provides scoping. For example, an entity domain containing
PIDs is identified with respect to the network map in which these PIDs are
defined. Likewise, an entity domain containing local IP addresses may be
defined with respect to a local network map.<a class="pilcrow" href="#section-1-6.2">¶</a>
</li>
        <li class="normal" id="section-1-6.3">The third limitation is addressed by defining two new types of ALTO
 information resources: property map (<a class="xref" href="#prop-map">Section 7</a>) 
 and filtered property map (<a class="xref" href="#filter-prop-map">Section 8</a>). 
 The former is a resource that is requested using the HTTP GET method,
 returns the property values for all entities in one or more
 entity domains, and is analogous to a network map or a cost map in
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.2">Section 11.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. 
 The latter is a resource that is requested using the HTTP POST method, 
 returns the values for
 sets of properties and entities requested by the client, and is analogous
 to a filtered network map or a filtered cost map.<a class="pilcrow" href="#section-1-6.3">¶</a>
</li>
      </ul>
<p id="section-1-7">The entity property maps extension described in this document introduces a
number of features that are summarized in
<a class="xref" href="#features-introduced-with-epm-extension">Appendix A</a>, 
where <a class="xref" href="#TableUPFeatures">Table 11</a> lists
the features and references the sections in this document that give 
their high-level and their normative descriptions.<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">The protocol extension defined in this document can be augmented. New entity
domain types can be defined without revising the present specification. 
Similarly, new cost metrics and new endpoint properties can be
defined in other documents without revising the protocol specification
defined in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-1-8">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology-and-notation">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology-and-notation">Terminology and Notation</a>
        </h3>
<p id="section-1.1-1">This document uses the following terms and abbreviations that will be
further defined in the document. While this document introduces the feature
"entity property map", it will use both the term "property map" and "entity
property map" to refer to this feature.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.1-2">
          <dt id="section-1.1-2.1">Transaction:</dt>
          <dd id="section-1.1-2.2" style="margin-left: 1.5em">A request/response exchange between an ALTO client and an ALTO server.<a class="pilcrow" href="#section-1.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.3">Client:</dt>
          <dd id="section-1.1-2.4" style="margin-left: 1.5em">When used with a capital "C", this term refers to an ALTO client. 
          Note that expressions "ALTO client", "ALTO Client", and "Client" are equivalent.<a class="pilcrow" href="#section-1.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.5">Server:</dt>
          <dd id="section-1.1-2.6" style="margin-left: 1.5em">When used with a capital "S", this term refers to an ALTO server.
          Note that expressions "ALTO server", "ALTO Server", and "Server" are equivalent.<a class="pilcrow" href="#section-1.1-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.7">EPS:</dt>
          <dd id="section-1.1-2.8" style="margin-left: 1.5em">An abbreviation for Endpoint Property Service.<a class="pilcrow" href="#section-1.1-2.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-1.1-3">This document uses the notation defined in 
      <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.2">Section 8.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="requirements-language">
<section id="section-2">
      <h2 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", 
"<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this 
document are to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<div id="basic-features-of-the-unified-property-extension">
<section id="section-3">
      <h2 id="name-basic-features-of-the-entit">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-basic-features-of-the-entit">Basic Features of the Entity Property Map Extension</a>
      </h2>
<p id="section-3-1">This section gives a high-level overview of the basic features involved in
ALTO entity property maps. It assumes the reader is familiar with the ALTO
Protocol <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. The purpose of this extension is to convey
properties for objects that extend ALTO endpoints and are called ALTO
Entities, or entities for short.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">The features introduced in this section can be used standalone. However,
in some cases, these features may depend on particular information resources
and need to be defined with respect to them. To this end,
<a class="xref" href="#advanced-features-of-the-unified-property-extension">Section 4</a> introduces
additional features that extend the ones presented in this section.<a class="pilcrow" href="#section-3-2">¶</a></p>
<div id="con-entity">
<section id="section-3.1">
        <h3 id="name-entity">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-entity">Entity</a>
        </h3>
<p id="section-3.1-1">The concept of an ALTO entity generalizes the concept of an ALTO endpoint
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-2.1">Section 2.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. 
An entity is an object that can be an
endpoint defined by its network address, but it can also be an object
that has a defined mapping to a set of one or more network addresses or an
object that is not even related to any network address. Thus, whereas all
endpoints are entities, not all entities are endpoints.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">Examples of entities are:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">an ALTO endpoint 
          that represents an application or a host identified by a communication address 
          (e.g., an IPv4 or IPv6 address) in a network,<a class="pilcrow" href="#section-3.1-3.1">¶</a>
</li>
          <li class="normal" id="section-3.1-3.2">a PID, defined in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, that has a provider-defined, human-readable
 identifier specified by an ALTO network map, which maps a PID to a set of
 IPv4 and IPv6 addresses,<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</li>
          <li class="normal" id="section-3.1-3.3">an Autonomous System (AS) that has an AS number (ASN) as its identifier
 and maps to a set of IPv4 and IPv6 addresses, 
 which is defined in <span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span>,<a class="pilcrow" href="#section-3.1-3.3">¶</a>
</li>
          <li class="normal" id="section-3.1-3.4">a country with a code specified in <span>[<a class="xref" href="#ISO3166-1">ISO3166-1</a>]</span> 
          to which applications such as content delivery network (CDN) providers associate properties and capabilities,
          which is defined in <span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span>,<a class="pilcrow" href="#section-3.1-3.4">¶</a>
</li>
          <li class="normal" id="section-3.1-3.5">a TCP or UDP network flow that is identified by a 5-tuple
          specifying its source and destination addresses and port numbers,
          and the IP protocol (TCP or UDP),<a class="pilcrow" href="#section-3.1-3.5">¶</a>
</li>
          <li class="normal" id="section-3.1-3.6">a routing element, as specified in <span>[<a class="xref" href="#RFC7921">RFC7921</a>]</span>, that is associated with
routing capabilities information, or<a class="pilcrow" href="#section-3.1-3.6">¶</a>
</li>
          <li class="normal" id="section-3.1-3.7">an Abstract Network Element, 
          as specified in <span>[<a class="xref" href="#I-D.ietf-alto-path-vector">PATH-VECTOR</a>]</span>,
          that represents an abstraction of a network
 part such as a router, one or more links, a network domain, or their
 aggregation.<a class="pilcrow" href="#section-3.1-3.7">¶</a>
</li>
        </ul>
<p id="section-3.1-4">Some of the example entities listed above have already been documented as ALTO entities. 
The other examples are provided for illustration as potential entities.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
</section>
</div>
<div id="con-entity-domain">
<section id="section-3.2">
        <h3 id="name-entity-domain">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-entity-domain">Entity Domain</a>
        </h3>
<p id="section-3.2-1">An entity domain defines a set of entities of the same semantic type. An
entity domain is characterized by a type and identified by a name.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">In this document, an entity is owned by exactly one entity domain name.
An entity identifier points to exactly one entity. If two entities in two
different entity domains refer to the same physical or logical object, they
are treated as different entities. For example, if an end host has both an IPv4
and an IPv6 address, these two addresses will be treated as two entities,
defined respectively in the "ipv4" and "ipv6" entity domains.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<div id="con-entity-domain-type">
<section id="section-3.2.1">
          <h4 id="name-entity-domain-type">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-entity-domain-type">Entity Domain Type</a>
          </h4>
<p id="section-3.2.1-1">The entity domain type defines the semantics of the type of
   entity found in an entity domain.
 Entity domain types can be defined in different documents. For example: the
 present document defines entity domain types "ipv4" and "ipv6" in <a class="xref" href="#inet-addr-domain">Section 6.1</a>
        and "pid" 
 in <a class="xref" href="#pid-domain">Section 6.2</a>. 
        The entity domain type
        "ane", which defines Abstract Network Elements (ANEs), is introduced in
        <span>[<a class="xref" href="#I-D.ietf-alto-path-vector">PATH-VECTOR</a>]</span>.
 The "countrycode" entity domain type that defines country
 codes is introduced in <span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span>. An entity
 domain type <span class="bcp14">MUST</span> be registered with IANA, as specified in 
 <a class="xref" href="#dom-reg-process">Section 12.3.2</a>.<a class="pilcrow" href="#section-3.2.1-1">¶</a></p>
</section>
</div>
<div id="con-entity-domain-name">
<section id="section-3.2.2">
          <h4 id="name-entity-domain-name">
<a class="section-number selfRef" href="#section-3.2.2">3.2.2. </a><a class="section-name selfRef" href="#name-entity-domain-name">Entity Domain Name</a>
          </h4>
<p id="section-3.2.2-1">
 In this document, the identifier of an entity domain is mostly called "entity domain name". 
 The identifier of an entity domain is scoped to an ALTO server. 
 An entity domain identifier can sometimes be identical to the identifier 
 of its relevant entity domain type.  
                This is the case when the entities of a domain have an
                identifier that points to the same object throughout all the
                information resources of the Server that are providing entity properties
                for this domain.  For
 example, a domain of type "ipv4" containing entities that are identified by a public
 IPv4 address can be named "ipv4" because its entities are uniquely identified
 by all the Server resources.<a class="pilcrow" href="#section-3.2.2-1">¶</a></p>
<p id="section-3.2.2-2">In some cases, the name of an entity domain cannot be 
           simply its entity domain type. 
 Indeed, for some domain types, entities are defined relative to a given
 information resource. This is the case for entities of domain type "pid". A
 PID is defined relative to a network map. For example, an entity "mypid10" of
 domain type "pid" may be defined in a given network map and be undefined in
 other network maps. The entity "mypid10" may even be defined in two different network
 maps, and it may map in each of these network maps to a different set of endpoint
 addresses. In this case, naming an entity domain only by its type "pid" does
 not guarantee that its set of entities is owned by exactly one entity domain.<a class="pilcrow" href="#section-3.2.2-2">¶</a></p>
<p id="section-3.2.2-3">Sections <a class="xref" href="#rsed-name">4.2</a> and 
          <a class="xref" href="#domain-names">5.1.2</a> 
          describe how a domain is uniquely identified across the ALTO
 server by a name that associates the domain type and the related information
 resource.<a class="pilcrow" href="#section-3.2.2-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="con-property">
<section id="section-3.3">
        <h3 id="name-entity-property-type">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-entity-property-type">Entity Property Type</a>
        </h3>
<p id="section-3.3-1">An entity property defines a property of an entity. This is similar to the
endpoint property defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-7.1">Section 7.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. An entity property
can convey either network-aware or network-agnostic information. Similar to
an entity domain, an entity property is characterized by a type and
identified by a name. An entity property type <span class="bcp14">MUST</span> be registered with 
IANA, as specified in <a class="xref" href="#IANAEntityProp">Section 12.4</a>.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">Below are listed some examples with real and fictitious entity domain and property
names:<a class="pilcrow" href="#section-3.3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-3.1">an entity in the "ipv4" domain type may have a property whose value is an
Autonomous System (AS) number indicating the AS to which this IPv4 address
belongs and another property named "countrycode" indicating a country code mapping
to this address,<a class="pilcrow" href="#section-3.3-3.1">¶</a>
</li>
          <li class="normal" id="section-3.3-3.2">an entity identified by its country code in the entity domain type
"countrycode", defined in <span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span>, may
have a property indicating what delivery protocol is used by a CDN, or<a class="pilcrow" href="#section-3.3-3.2">¶</a>
</li>
          <li class="normal" id="section-3.3-3.3">an entity in the "netmap1.pid" domain may have a property that indicates
the central geographical location of the endpoints it includes.<a class="pilcrow" href="#section-3.3-3.3">¶</a>
</li>
        </ul>
<p id="section-3.3-4">It should be noted that some identifiers may be used for both an entity
domain type and a property type. For example:<a class="pilcrow" href="#section-3.3-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-5.1">the identifier "countrycode" may point to both the entity domain type
"countrycode" and the fictitious property type "countrycode".<a class="pilcrow" href="#section-3.3-5.1">¶</a>
</li>
          <li class="normal" id="section-3.3-5.2">the identifier "pid" may point to both the entity domain type "pid" and the
property type "pid".<a class="pilcrow" href="#section-3.3-5.2">¶</a>
</li>
        </ul>
<p id="section-3.3-6">Likewise, the same identifier may point to both a domain name and a property
name. For example: the identifier "netmap10.pid" may point to either the
domain defined by the PIDs of network map "netmap10" or to a property that
returns, for an entity defined by its IPv4 address, the PID of "netmap10" that
contains this entity. Such cases are further explained in
<a class="xref" href="#advanced-features-of-the-unified-property-extension">Section 4</a>.<a class="pilcrow" href="#section-3.3-6">¶</a></p>
</section>
</div>
<div id="con-propmap">
<section id="section-3.4">
        <h3 id="name-new-information-resource-an">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-new-information-resource-an">New Information Resource and Media Type: ALTO Property Map</a>
        </h3>
<p id="section-3.4-1">This document introduces a new ALTO information resource named property map.
An ALTO property map provides a set of properties for one or more sets of
entities. A property may apply to different entity domain types and names.
For example, an ALTO property map may define the "ASN" property for both
"ipv4" and "ipv6" entity domains.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2">The present extension also introduces a new media type.<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<p id="section-3.4-3">This document uses the same definition of an information resource as 
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-9.1">Section 9.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. ALTO uses media types to uniquely indicate the data
format used to encode the content to be transmitted between an ALTO server
and an ALTO client in the HTTP entity body. In the present case, an ALTO
property map resource is
defined by the media type "application/alto-propmap+json".<a class="pilcrow" href="#section-3.4-3">¶</a></p>
<p id="section-3.4-4">A property map can be queried as a GET-mode resource, thus conveying all
properties for all entities indicated in its capabilities. It can also be
queried as a POST-mode resource, thus conveying a selection of properties for 
a selection of entities.<a class="pilcrow" href="#section-3.4-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="advanced-features-of-the-unified-property-extension">
<section id="section-4">
      <h2 id="name-advanced-features-of-the-en">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-advanced-features-of-the-en">Advanced Features of the Entity Property Map Extension</a>
      </h2>
<p id="section-4-1">This section gives a high-level overview of the advanced features
   involved in ALTO entity property maps. Most of these features 
extend the features defined in 
<a class="xref" href="#basic-features-of-the-unified-property-extension">Section 3</a>.<a class="pilcrow" href="#section-4-1">¶</a></p>
<div id="entity-identifier-and-entity-domain">
<section id="section-4.1">
        <h3 id="name-entity-identifier-and-entit">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-entity-identifier-and-entit">Entity Identifier and Entity Domain Name</a>
        </h3>
<p id="section-4.1-1">In <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, an endpoint has an identifier that is explicitly associated
with the "ipv4" or "ipv6" address domain. Examples are "ipv4:192.0.2.14" and
"ipv6:2001:db8::12".<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">In this document, example IPv4 and IPv6 addresses and prefixes are taken
 from the address ranges reserved for documentation by 
 <span>[<a class="xref" href="#RFC5737">RFC5737</a>]</span> and 
 <span>[<a class="xref" href="#RFC3849">RFC3849</a>]</span>.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">In this document, an entity must be owned by exactly one entity
   domain name, and an entity identifier must point to exactly one
   entity.  To ensure this, an entity identifier is explicitly attached
   to the name of its entity domain, and an entity domain type
   characterizes the semantics and identifier format of its entities.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">The encoding format of an entity identifier is further specified in
<a class="xref" href="#entity-addrs">Section 5.1.3</a> of this document.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
<p id="section-4.1-5">For instance:<a class="pilcrow" href="#section-4.1-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-6.1">if an entity is an endpoint with IPv4 address
"192.0.2.14", its identifier is associated with entity domain name "ipv4" and is
"ipv4:192.0.2.14";<a class="pilcrow" href="#section-4.1-6.1">¶</a>
</li>
          <li class="normal" id="section-4.1-6.2">if an entity is a PID named "mypid10" in network map resource "netmap2",
its identifier is associated with entity domain name "netmap2.pid" and is
"netmap2.pid:mypid10".<a class="pilcrow" href="#section-4.1-6.2">¶</a>
</li>
        </ul>
</section>
</div>
<div id="rsed-name">
<section id="section-4.2">
        <h3 id="name-resource-specific-entity-do">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-resource-specific-entity-do">Resource-Specific Entity Domain Name</a>
        </h3>
<p id="section-4.2-1">Some entities are defined and identified uniquely and globally 
        in the context of an ALTO server. This is the
case, for instance, when entities are endpoints that are identified by a
reachable IPv4 or IPv6 address. The entity domain for such entities can be
globally defined and named "ipv4" or "ipv6". Those entity domains are called
resource-agnostic entity domains in this document, as they are not associated
with any specific ALTO information resources.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">Some other entities and entity types are only defined relative to a given
information resource. This is the case for entities of domain type "pid",
which can only be understood with respect to the network map where they are
defined. For example, a PID named "mypid10" may be defined to represent a set
S1 of IP addresses in a network map resource named "netmap1". Another network
map "netmap2" may use the same name "mypid10" and define it to represent
another set S2 of IP addresses. The identifier "pid:mypid10" may thus point
to different objects because the information on the originating information
resource is lost.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">To solve this ambiguity, the present extension introduces the concept of
resource-specific entity domain. This concept applies to domain types where
entities are defined relative to a given information resource. It can also
apply to entity domains that are defined locally, such as local networks of
objects identified with a local IPv4 address.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
<p id="section-4.2-4">In such cases, an entity domain type is explicitly associated with an
identifier of the information resource where these entities are defined. Such
an information resource is referred to as the "specific information
resource". Using a resource-aware entity domain name, an ALTO property map
can unambiguously identify distinct entity domains of the same type, on which
entity properties may be queried. Examples of resource-specific entity domain
names may look like "netmap1.pid" or "netmap2.pid". Thus, a name association
such as "netmap1.pid:mypid10" and "netmap2.pid:mypid10" distinguishes
the two abovementioned PIDs that are both named "mypid10" but in two
different resources, "netmap1" and "netmap2".<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<p id="section-4.2-5">An information resource is defined in the scope of an ALTO Server and so is
an entity domain name. The format of a resource-specific entity domain name
is further specified in <a class="xref" href="#domain-names">Section 5.1.2</a>.<a class="pilcrow" href="#section-4.2-5">¶</a></p>
</section>
</div>
<div id="rsep">
<section id="section-4.3">
        <h3 id="name-resource-specific-entity-pr">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-resource-specific-entity-pr">Resource-Specific Entity Property Value</a>
        </h3>
<p id="section-4.3-1">Like entity domains, some types of properties are defined relative to an
information resource. That is, an entity may have a property of a given type
whose values are associated with different information resources.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">For example, suppose entity "192.0.2.34" defined in the "ipv4" domain has a
property of type "pid" whose value is the PID to which address "192.0.2.34"
is attached in a network map. The mapping of network addresses to PIDs is
specific to a network map and probably different from one network map
resource to another one. Thus, if a property "pid" is defined for entity
"192.0.2.34" in two different network maps "netmap1" and "netmap2", the value
for this property can be a different value in "netmap1" and
"netmap2".<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">To support information-resource-dependent property values, this document uses
the same approach as in Section <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.8.1">10.8.1</a> (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.8.1"> 
"Resource-Specific Endpoint Properties"</a>)</span> of <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. When a property value depends on a
given information resource, the name of this property <span class="bcp14">MUST</span> be explicitly
associated with the information resource that defines it.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<p id="section-4.3-4">For example, the property "pid" queried on entity "ipv4:192.0.2.34" and
defined in both "netmap1" and "netmap2" can be named "netmap1.pid" and
"netmap2.pid". This allows a Client to get a property of the same type but
defined in different information resources with a single query.
Specifications for the property name format are provided in <a class="xref" href="#def-property">Section 5.2</a>.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
</section>
</div>
<div id="con-hni">
<section id="section-4.4">
        <h3 id="name-entity-hierarchy-and-proper">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-entity-hierarchy-and-proper">Entity Hierarchy and Property Inheritance</a>
        </h3>
<p id="section-4.4-1">For some domain types, there is an underlying structure that allows entities to 
 be efficiently grouped into a set and be defined by the identifier of this set. 
 This is the case for domain types "ipv4" and "ipv6",
 where individual Internet addresses can be grouped in blocks. When the same
 property value applies to a whole set, a Server can define a property for the
 identifier of this set instead of enumerating all the entities and their
 properties. This allows a substantial reduction of transmission payload both
 for the Server and the Client. For example, all the entities included in the
 set defined by the address block "ipv6:2001:db8::1/64" share the same
 properties and values defined for this block.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">Additionally, entity sets sometimes are related by inclusion, hierarchy, or
 other relations. This allows defining inheritance rules for entity properties
 that propagate properties among related entity sets. The Server and the
 Client can use these inheritance rules for further payload savings. Entity
 hierarchy and property inheritance rules are specified in the documents that
 define the applicable domain types. The present document defines these rules
 for the "ipv4" and "ipv6" domain types.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<p id="section-4.4-3">For applicable domain types, this document introduces entity property
 inheritance rules with the following concepts: entity hierarchy, property
 inheritance, and property value unicity. A detailed specification of entity
 hierarchy and property inheritance rules is provided in
 <a class="xref" href="#def-hierarchy-and-inheritance">Section 5.1.4</a>.<a class="pilcrow" href="#section-4.4-3">¶</a></p>
<div id="entity-hierarchy">
<section id="section-4.4.1">
          <h4 id="name-entity-hierarchy">
<a class="section-number selfRef" href="#section-4.4.1">4.4.1. </a><a class="section-name selfRef" href="#name-entity-hierarchy">Entity Hierarchy</a>
          </h4>
<p id="section-4.4.1-1">An entity domain may allow the use of a single identifier to identify a set of
 related individual entities. For example, a Classless Inter-Domain Routing 
                (CIDR) block can be used to identify a set
 of IPv4 or IPv6 entities. A CIDR block is called a hierarchical entity
 identifier, as it can reflect inclusion relations among entity sets. 
 That is, in an entity hierarchy, "supersets" are defined at upper levels 
 and include "subsets" defined at lower levels. 
 For example, the CIDR "ipv4:192.0.1.0/24" includes all the individual IPv4
 entities identified by the CIDR "ipv4:192.0.1.0/26". 
 This document will sometimes use the term "hierarchical address" 
 to refer to a hierarchical entity identifier.<a class="pilcrow" href="#section-4.4.1-1">¶</a></p>
</section>
</div>
<div id="property-inheritance">
<section id="section-4.4.2">
          <h4 id="name-property-inheritance">
<a class="section-number selfRef" href="#section-4.4.2">4.4.2. </a><a class="section-name selfRef" href="#name-property-inheritance">Property Inheritance</a>
          </h4>
<p id="section-4.4.2-1">A property may be defined for a hierarchical entity identifier, while it may
 be undefined for individual entities covered by this identifier. In this
 case, these individual entities inherit the property value defined for the
 identifier that covers them. For example, suppose a property map defines a
 property P for which it assigns value V1 only for the hierarchical entity
 identifier "ipv4:192.0.1.0/24" but not for individual entities in this block.
 Suppose also that inheritance rules are specified for CIDR blocks in the
 "ipv4" domain type. When receiving this property map, a Client can infer that
 entity "ipv4:192.0.1.1" inherits the property value V1 of block
 "ipv4:192.0.1.0/24" because the address "ipv4:192.0.1.1" is included in the
 CIDR block "ipv4:192.0.1.0/24".<a class="pilcrow" href="#section-4.4.2-1">¶</a></p>
<p id="section-4.4.2-2">Property value inheritance rules also apply among entity sets. A property map
 may define values for an entity set belonging to a hierarchy but not for
 "subsets" that are covered by this set identifier. In this case, inheritance
 rules must specify how entities in "subsets" inherit property values from
 their "superset". 
 For instance, suppose a property P is defined only for the entity set defined 
 by address block "ipv4:192.0.1.0/24". We know that entity set "ipv4:192.0.1.0/30" 
 is included in "ipv4:192.0.1.0/24". Therefore, the entities of "ipv4:192.0.1.0/30" 
 may inherit the value of property P from set "ipv4:192.0.1.0/24" 
 if an inheritance rule from "ipv4" CIDR blocks to included "ipv4" CIDR blocks is specified.<a class="pilcrow" href="#section-4.4.2-2">¶</a></p>
</section>
</div>
<div id="property-value-unicity">
<section id="section-4.4.3">
          <h4 id="name-property-value-unicity">
<a class="section-number selfRef" href="#section-4.4.3">4.4.3. </a><a class="section-name selfRef" href="#name-property-value-unicity">Property Value Unicity</a>
          </h4>
<p id="section-4.4.3-1">The inheritance rules must ensure that an entity belonging to a hierarchical
 set of entities inherits no more than one property value, for the sake of
 consistency. Indeed, a property map may define a property for a hierarchy of
 entity sets that inherits property values from one or more supersets (located at upper
 levels). On the other hand, a property value defined for a subset (located at a lower
 level) may be different from the value defined for a superset. In such a case,
 subsets may potentially end up with different property values. This may be
 the case for address blocks with increasing prefix length, on which a property
 value becomes increasingly accurate and thus may differ. For example, a
 fictitious property such as "geo-location" or "average transfer volume" may
 be defined at a progressively finer grain for lower-level subsets of entities defined with
 progressively longer CIDR prefixes. It seems more interesting to have
 property values of progressively higher accuracy. A unicity rule applied to
 the entity domain type must specify an arbitration rule among the different
 property values for an entity. An example illustrating the need for such
 rules is provided in <a class="xref" href="#inet-inheritance">Section 6.1.3</a>.<a class="pilcrow" href="#section-4.4.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="applicable-entity-domains-and-properties-in-the-property-map-capabilities">
<section id="section-4.5">
        <h3 id="name-supported-properties-for-en">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-supported-properties-for-en">Supported Properties for Entity Domains in Property Map Capabilities</a>
        </h3>
<p id="section-4.5-1">A property type is not necessarily applicable to any domain type, or an ALTO
 Server may choose not to provide a property for all applicable domains. For
 instance, a property type reflecting link bandwidth is likely not defined for 
 entities of a domain of type "countrycode". Therefore, an ALTO server
 providing property maps needs to specify the properties that can be queried
 on the different entity domains it supports.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">This document explains how the Information Resource Directory (IRD)
 capabilities of a property map resource unambiguously expose which properties
 a Client can query on a given entity domain:<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-3.1">a field named "mappings" lists the names of the entity domains supported by
 the property map, and<a class="pilcrow" href="#section-4.5-3.1">¶</a>
</li>
          <li class="normal" id="section-4.5-3.2">for each listed entity domain, a list of the names of the applicable
 properties is provided.<a class="pilcrow" href="#section-4.5-3.2">¶</a>
</li>
        </ul>
<p id="section-4.5-4">An example is provided in <a class="xref" href="#ird-example">Section 10.3</a>. 
        The "mappings" field associates
 entity domains and properties that can be resource-agnostic or
 resource-specific. This allows a Client to formulate compact and unambiguous
 entity property queries, possibly relating to one or more information
 resources. In particular:<a class="pilcrow" href="#section-4.5-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-5.1">it prevents a Client from querying a property for entity domains for which it is not
 defined;<a class="pilcrow" href="#section-4.5-5.1">¶</a>
</li>
          <li class="normal" id="section-4.5-5.2">it allows a Client to query, for an entity E, values for a property P that
 are defined in several information resources; and<a class="pilcrow" href="#section-4.5-5.2">¶</a>
</li>
          <li class="normal" id="section-4.5-5.3">it allows a Client to query a property P on entities that are defined in
 several information resources.<a class="pilcrow" href="#section-4.5-5.3">¶</a>
</li>
        </ul>
<p id="section-4.5-6">Further details are provided in <a class="xref" href="#FullPropMapCapabilities">Section 7.4</a>.<a class="pilcrow" href="#section-4.5-6">¶</a></p>
</section>
</div>
<div id="def-ir">
<section id="section-4.6">
        <h3 id="name-defining-information-resour">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-defining-information-resour">Defining Information Resource for Resource-Specific Entity Domains</a>
        </h3>
<p id="section-4.6-1">A Client willing to query entity properties belonging to a domain needs
to know how to retrieve these entities. To this end, the Client can look up
the "mappings" field exposed in IRD capabilities of a property map; see
<a class="xref" href="#applicable-entity-domains-and-properties-in-the-property-map-capabilities">Section 4.5</a>.
This field, in its keys, exposes all the entity domains supported by the
property map. The syntax of the entity domain identifier specified in
<a class="xref" href="#domain-names">Section 5.1.2</a> allows the client to infer whether the entity domain is
resource-specific or not. The Client can extract, if applicable, the
identifier of the specific resource, query the resource, and retrieve the 
entities. For example:<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6-2.1">an entity domain named "netmap1.ipv4" includes the IPv4 addresses that
appear in the "ipv4" field of the endpoint address group of each PID in the
network map "netmap1" and that have no meaning outside "netmap1"
because, for instance, these are local addresses not reachable outside some private network;<a class="pilcrow" href="#section-4.6-2.1">¶</a>
</li>
          <li class="normal" id="section-4.6-2.2">an entity domain named "netmap1.pid" includes the PIDs listed in network
map "netmap1"; and<a class="pilcrow" href="#section-4.6-2.2">¶</a>
</li>
          <li class="normal" id="section-4.6-2.3">an entity domain named "ipv4" is resource-agnostic and covers all the
reachable IPv4 addresses.<a class="pilcrow" href="#section-4.6-2.3">¶</a>
</li>
        </ul>
<p id="section-4.6-3">Besides, it is not possible to prevent a Server from mistakenly exposing  
        inappropriate associations of information resources and entity domain types. 
        To prevent failures due to invalid queries, it is necessary to inform the Client 
        which associations are allowed.   
 An informed Client will just ignore inappropriate associations exposed by a
 Server and avoid error-prone transactions with the Server.<a class="pilcrow" href="#section-4.6-3">¶</a></p>
<p id="section-4.6-4">For example, the association "costmap3.pid" is not allowed for the following
reason: although a cost map exposes PID identifiers, it does not define the
set of addresses included in this PID. Neither does a cost map list all the
PIDs on which properties can be queried because a cost map only exposes PID
pairs on which a queried cost type is defined. Therefore, the resource
"costmap3" does not enable a Client to extract information on the existing
PID entities or on the addresses they contain.<a class="pilcrow" href="#section-4.6-4">¶</a></p>
<p id="section-4.6-5">Instead, the cost map uses a network map where all the PIDs used in a cost
map are defined together with the addresses contained by the PIDs. This
network map is qualified in this document as the defining information
resource for the entity domain of type "pid", and this concept is explained in
<a class="xref" href="#defining-information-resource-and-media-type">Section 4.6.1</a>.<a class="pilcrow" href="#section-4.6-5">¶</a></p>
<div id="defining-information-resource-and-media-type">
<section id="section-4.6.1">
          <h4 id="name-defining-information-resourc">
<a class="section-number selfRef" href="#section-4.6.1">4.6.1. </a><a class="section-name selfRef" href="#name-defining-information-resourc">Defining Information Resource and Its Media Type</a>
          </h4>
<p id="section-4.6.1-1">For the reasons explained in <a class="xref" href="#def-ir">Section 4.6</a>,
     this document introduces the concept of "Defining Information Resource 
     and its Media Type".<a class="pilcrow" href="#section-4.6.1-1">¶</a></p>
<p id="section-4.6.1-2">A defining information resource for an entity domain D is the information
 resource where entities of D are defined. That is, all the information on the
 entities of D can be retrieved in this resource. 
 
 A defining information resource is defined for resource-specific entity domains. 
 It does not exist for entity domains that are not resource-specific such as 
 "ipv4" or "ipv6". Neither does it exist for entity domains that are covering 
 entity identifiers already defined in other standardization documents, 
 as is the case for country code identifiers standardized in <span>[<a class="xref" href="#ISO3166-1">ISO3166-1</a>]</span> 
 or AS numbers allocated by IANA. 
 
 This is useful for entity domain types that are by
 essence domain-specific, such as the domain type "pid". It is also
 useful for resource-specific entity domains constructed from
 resource-agnostic domain types, such as network-map-specific domains of local
 IPv4 addresses.<a class="pilcrow" href="#section-4.6.1-2">¶</a></p>
<p id="section-4.6.1-3">The defining information resource of a resource-specific entity domain D, 
     when it exists, is unique and has the following characteristics:<a class="pilcrow" href="#section-4.6.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6.1-4.1">it has an entry in the IRD;<a class="pilcrow" href="#section-4.6.1-4.1">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.2">it defines the entities of D;<a class="pilcrow" href="#section-4.6.1-4.2">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.3">it does not use another information resource that defines these entities;<a class="pilcrow" href="#section-4.6.1-4.3">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.4">it defines and exposes entity identifiers that are all persistent; and<a class="pilcrow" href="#section-4.6.1-4.4">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.5">its media type is equal to the one that is specified for the
 defining information resource of an entity domain type.<a class="pilcrow" href="#section-4.6.1-4.5">¶</a>
</li>
          </ul>
<p id="section-4.6.1-5">A fundamental characteristic of a defining information resource is its media type.
 There is a unique association between an entity domain type and the media
 type of its defining information resource. When an entity domain type allows associations 
 with defining information resources, the media type of the potential defining information 
 resource <span class="bcp14">MUST</span> be specified:<a class="pilcrow" href="#section-4.6.1-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6.1-6.1">in the document that defines this entity domain type, and<a class="pilcrow" href="#section-4.6.1-6.1">¶</a>
</li>
            <li class="normal" id="section-4.6.1-6.2">in the "ALTO Entity Domain Types" IANA registry.<a class="pilcrow" href="#section-4.6.1-6.2">¶</a>
</li>
          </ul>
<p id="section-4.6.1-7">When the Client wants to use a resource-specific entity domain, it needs to
be cognizant of the media type of its defining information resource. If the
Server exposes a resource-specific entity domain with a
noncompliant media type for the defining resource, the Client <span class="bcp14">MUST</span> ignore the
entities from that entity domain to avoid errors.<a class="pilcrow" href="#section-4.6.1-7">¶</a></p>
</section>
</div>
<div id="example-specific-ir-mediatype">
<section id="section-4.6.2">
          <h4 id="name-examples-of-defining-inform">
<a class="section-number selfRef" href="#section-4.6.2">4.6.2. </a><a class="section-name selfRef" href="#name-examples-of-defining-inform">Examples of Defining Information Resources and Their Media Types</a>
          </h4>
<p id="section-4.6.2-1">Here are examples of defining information resource types and their media
types associated with different entity domain types:<a class="pilcrow" href="#section-4.6.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6.2-2.1">For entity domain type "pid", the media type of the specific resource is
"application/alto-networkmap+json" because PIDs are defined in network map
resources.<a class="pilcrow" href="#section-4.6.2-2.1">¶</a>
</li>
            <li class="normal" id="section-4.6.2-2.2">For entity domain types "ipv4" and "ipv6", the media type of the specific
resource is "application/alto-networkmap+json" because IPv4 and IPv6
addresses covered by the Server are defined in network map resources.<a class="pilcrow" href="#section-4.6.2-2.2">¶</a>
</li>
            <li class="normal" id="section-4.6.2-2.3">For entities of domain type "ane"; <span>[<a class="xref" href="#I-D.ietf-alto-path-vector">PATH-VECTOR</a>]</span> defines
entities named "ANE", where ANE stands for Abstract Network Element, and
the entity domain type "ane". An ANE may have a persistent identifier, say,
"entity-4", that is provided by the Server as a value of the
"persistent-entity-id" property of this ANE. Further properties may then be
queried on an ANE by using its persistent entity identifier. These properties are
available from a persistent property map that defines properties for a
specific "ane" domain. Together with the persistent identifier, the Server
also provides the property map resource identifier where the "ane" domain
containing "entity-4" is defined. The definition of the "ane" entity domain
containing "entity-4" is thus specific to the property map. Therefore, for
entities of domain type "ane" that have a persistent identifier, the media
type of the defining information resource is
"application/alto-propmap+json".<a class="pilcrow" href="#section-4.6.2-2.3">¶</a>
</li>
            <li class="normal" id="section-4.6.2-2.4">Last, the entity domain types "asn" and "countrycode" defined in
<span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span> do not have a defining
information resource. Indeed, the entity identifiers in these two entity
domain types are already standardized in documents that the Client can use.<a class="pilcrow" href="#section-4.6.2-2.4">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="def-ir-for-irsp">
<section id="section-4.7">
        <h3 id="name-defining-information-resource">
<a class="section-number selfRef" href="#section-4.7">4.7. </a><a class="section-name selfRef" href="#name-defining-information-resource">Defining Information Resources for Resource-Specific Property Values</a>
        </h3>
<p id="section-4.7-1">As explained in <a class="xref" href="#rsep">Section 4.3</a>, a property type may
take values that are resource-specific. This is the case for property type
"pid", whose values are by essence defined relative to a specific network
map. That is, the PID value returned for an IPv4 address is specific to the network
map defining this PID and may differ from one network map to another one.<a class="pilcrow" href="#section-4.7-1">¶</a></p>
<p id="section-4.7-2">Another example is provided in 
<span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span>,
which defines property type "cdni-capabilities". The value of this property is
specific to a Content Delivery Network Interconnection (CDNI) Advertisement resource, which provides a list of CDNI
capabilities. The property is provided for entity domain types "ipv4",
"ipv6", "asn", and "countrycode". However, a CDNI Advertisement resource does 
not define PID values for IPv4 addresses, while a network map does not define
CDNI capabilities for IPv4 addresses.<a class="pilcrow" href="#section-4.7-2">¶</a></p>
<p id="section-4.7-3">Similar to resource-specific entity domains, the Client needs to be
cognizant of appropriate associations of information resource and property
types. Therefore, when specifying and registering a property type whose
values are resource-specific, the media type of its defining information
resource needs to be specified. For example:<a class="pilcrow" href="#section-4.7-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.7-4.1">The media type of the defining information resource for property type "pid"
is "application/alto-networkmap+json".<a class="pilcrow" href="#section-4.7-4.1">¶</a>
</li>
          <li class="normal" id="section-4.7-4.2">The media type of the defining information resource for property type
"cdni-capabilities" defined in <span>[<a class="xref" href="#RFC9241">RFC9241</a>]</span>
is "application/alto-cdni+json".<a class="pilcrow" href="#section-4.7-4.2">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="protocol-specification-basic-data-types">
<section id="section-5">
      <h2 id="name-protocol-specification-basi">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-protocol-specification-basi">Protocol Specification: Basic Data Types</a>
      </h2>
<div id="def-domain">
<section id="section-5.1">
        <h3 id="name-entity-domain-2">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-entity-domain-2">Entity Domain</a>
        </h3>
<div id="domain-types">
<section id="section-5.1.1">
          <h4 id="name-entity-domain-type-2">
<a class="section-number selfRef" href="#section-5.1.1">5.1.1. </a><a class="section-name selfRef" href="#name-entity-domain-type-2">Entity Domain Type</a>
          </h4>
<p id="section-5.1.1-1">An entity domain has a type, which is uniquely identified by a string that
 <span class="bcp14">MUST</span> be no more than 64 characters, and <span class="bcp14">MUST NOT</span> contain characters other
 than US-ASCII alphanumeric characters (U+0030-U+0039, U+0041-U+005A, and
 U+0061-U+007A), the hyphen-minus ('-', U+002D), the colon (':', U+003A), 
 or the low line ('_', U+005F).<a class="pilcrow" href="#section-5.1.1-1">¶</a></p>
<p id="section-5.1.1-2">The usage of colon (':', U+003A) <span class="bcp14">MUST</span> obey the rules below:<a class="pilcrow" href="#section-5.1.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.1-3.1">The colon (':', U+003A) character <span class="bcp14">MUST NOT</span> appear more than once;<a class="pilcrow" href="#section-5.1.1-3.1">¶</a>
</li>
            <li class="normal" id="section-5.1.1-3.2">The colon character <span class="bcp14">MUST NOT</span> be used unless within the string "priv:";<a class="pilcrow" href="#section-5.1.1-3.2">¶</a>
</li>
            <li class="normal" id="section-5.1.1-3.3">The string "priv:" <span class="bcp14">MUST NOT</span> be used unless it starts the string that identifies an entity domain type; and<a class="pilcrow" href="#section-5.1.1-3.3">¶</a>
</li>
            <li class="normal" id="section-5.1.1-3.4">For an entity domain type identifier with the "priv:" prefix, 
   an additional string (e.g., company identifier or random string) <span class="bcp14">MUST</span> follow "priv:" 
   to reduce potential collisions.<a class="pilcrow" href="#section-5.1.1-3.4">¶</a>
</li>
          </ul>
<p id="section-5.1.1-4">For example, the strings "ipv4", "ipv6", "pid", and "priv:example-test-edt",
     are valid entity domain types. "ipv4.anycast", "pid.local", and "priv:" are invalid.<a class="pilcrow" href="#section-5.1.1-4">¶</a></p>
<p id="section-5.1.1-5">Although "_", "-", "__--" are valid entity domain types, 
 it is desirable to add characters, such as alphanumeric ones, 
 for better intelligibility.<a class="pilcrow" href="#section-5.1.1-5">¶</a></p>
<p id="section-5.1.1-6">The type EntityDomainType is used in this document to denote a JSON string
meeting the preceding requirements.<a class="pilcrow" href="#section-5.1.1-6">¶</a></p>
<p id="section-5.1.1-7">An entity domain type defines the semantics of a type of entity,
   independently of any specifying resource. All entity
   domain types that are not prefixed with "priv:" <span class="bcp14">MUST</span> be registered with IANA
   in the "ALTO Entity Domain Types" registry, defined in <a class="xref" href="#IANADomain">Section 12.3</a>, 
   following the procedure specified in <a class="xref" href="#dom-reg-process">Section 12.3.2</a> 
   of this document.
   The format of the entity identifiers (see <a class="xref" href="#entity-addrs">Section 5.1.3</a>) 
   in that entity domain type, as well as any hierarchical or inheritance rules 
   (see <a class="xref" href="#def-hierarchy-and-inheritance">Section 5.1.4</a>) for
   those entities, <span class="bcp14">MUST</span> be specified in the IANA registration.<a class="pilcrow" href="#section-5.1.1-7">¶</a></p>
<p id="section-5.1.1-8">Entity domain type identifiers prefixed with "priv:" are reserved for Private Use
   (see <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>) without a need to register with IANA.
   The definition of a private-use entity domain type <span class="bcp14">MUST</span> apply the same way in all 
   property maps of an IRD where it is present.<a class="pilcrow" href="#section-5.1.1-8">¶</a></p>
</section>
</div>
<div id="domain-names">
<section id="section-5.1.2">
          <h4 id="name-entity-domain-name-2">
<a class="section-number selfRef" href="#section-5.1.2">5.1.2. </a><a class="section-name selfRef" href="#name-entity-domain-name-2">Entity Domain Name</a>
          </h4>
<p id="section-5.1.2-1">As discussed in <a class="xref" href="#con-entity-domain">Section 3.2</a>, 
          an entity domain is characterized by a type and identified by a name.<a class="pilcrow" href="#section-5.1.2-1">¶</a></p>
<p id="section-5.1.2-2">This document distinguishes three categories of entity domains:
 resource-specific entity domains, resource-agnostic entity domains, and
 self-defined entity domains. Their entity domain names are constructed as
 specified in the following subsections.<a class="pilcrow" href="#section-5.1.2-2">¶</a></p>
<p id="section-5.1.2-3">Each entity domain is identified by a unique entity domain name. 
          Borrowing the symbol "::=" from the Backus-Naur Form notation 
          <span>[<a class="xref" href="#RFC5511">RFC5511</a>]</span>, 
          the format of an entity domain name is defined as follows:<a class="pilcrow" href="#section-5.1.2-3">¶</a></p>
<div id="section-5.1.2-4">
<pre class="lang-rbnf sourcecode">EntityDomainName ::= [ [ ResourceID ] '.' ] EntityDomainType
</pre><a class="pilcrow" href="#section-5.1.2-4">¶</a>
</div>
<p id="section-5.1.2-5">The presence and construction of the component<a class="pilcrow" href="#section-5.1.2-5">¶</a></p>
<div id="section-5.1.2-6">
<pre class="lang-rbnf sourcecode">                "[ [ ResourceID ] '.' ]"
</pre><a class="pilcrow" href="#section-5.1.2-6">¶</a>
</div>
<p id="section-5.1.2-7">depends on the category of entity domain.<a class="pilcrow" href="#section-5.1.2-7">¶</a></p>
<p id="section-5.1.2-8">Note that the '.' separator is not allowed in EntityDomainType, and hence
 there is no ambiguity on whether an entity domain name refers to a
 resource-agnostic entity domain or a resource-specific entity domain.<a class="pilcrow" href="#section-5.1.2-8">¶</a></p>
<p id="section-5.1.2-9">Note also that <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.1">Section 10.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> 
          specifies the format of the PID
 name, which is the format of the resource identifier including the following
 specification:<a class="pilcrow" href="#section-5.1.2-9">¶</a></p>
<blockquote id="section-5.1.2-10">The '.' separator is reserved for future use and <span class="bcp14">MUST NOT</span> be
 used unless specifically indicated in this document, or an extension
 document.<a class="pilcrow" href="#section-5.1.2-10">¶</a>
</blockquote>
<p id="section-5.1.2-11">The present extension keeps the format specification of
 <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, hence the '.' separator <span class="bcp14">MUST NOT</span> 
 be used in an information resource identifier.<a class="pilcrow" href="#section-5.1.2-11">¶</a></p>
<div id="resource-specific-ED">
<section id="section-5.1.2.1">
            <h5 id="name-resource-specific-entity-dom">
<a class="section-number selfRef" href="#section-5.1.2.1">5.1.2.1. </a><a class="section-name selfRef" href="#name-resource-specific-entity-dom">Resource-Specific Entity Domain</a>
            </h5>
<p id="section-5.1.2.1-1">A resource-specific entity domain is identified by an entity domain name
constructed as follows. It <span class="bcp14">MUST</span> start with a resource identifier using the ResourceID
type defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.2">Section 10.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, followed by the '.' separator
(U+002E), followed by a string of the type EntityDomainType specified in
<a class="xref" href="#domain-types">Section 5.1.1</a>.<a class="pilcrow" href="#section-5.1.2.1-1">¶</a></p>
<p id="section-5.1.2.1-2">For example, if an ALTO server provides two network maps "netmap-1" and
"netmap-2", these network maps can define two resource-specific domains of
type "pid", respectively identified by "netmap-1.pid" and "netmap-2.pid".<a class="pilcrow" href="#section-5.1.2.1-2">¶</a></p>
</section>
</div>
<div id="resource-agnostic-ED">
<section id="section-5.1.2.2">
            <h5 id="name-resource-agnostic-entity-do">
<a class="section-number selfRef" href="#section-5.1.2.2">5.1.2.2. </a><a class="section-name selfRef" href="#name-resource-agnostic-entity-do">Resource-Agnostic Entity Domain</a>
            </h5>
<p id="section-5.1.2.2-1">A resource-agnostic entity domain contains entities that are identified
independently of any information resource. The identifier of a
resource-agnostic entity domain is simply the identifier of its entity domain
type. For example, "ipv4" and "ipv6" identify the two resource-agnostic
Internet address entity domains defined in <a class="xref" href="#inet-addr-domain">Section 6.1</a>.<a class="pilcrow" href="#section-5.1.2.2-1">¶</a></p>
</section>
</div>
<div id="self-defined-ED">
<section id="section-5.1.2.3">
            <h5 id="name-self-defined-entity-domain">
<a class="section-number selfRef" href="#section-5.1.2.3">5.1.2.3. </a><a class="section-name selfRef" href="#name-self-defined-entity-domain">Self-Defined Entity Domain</a>
            </h5>
<p id="section-5.1.2.3-1">A property map can define properties for entities that are specific to a
unique information resource, which is the property map itself. This may be
the case when an ALTO Server provides properties for a set of entities that
are defined only in this property map, are not relevant to another one, and do
not depend on another specific resource.<a class="pilcrow" href="#section-5.1.2.3-1">¶</a></p>
<p id="section-5.1.2.3-2">For example: a specialized property map may define a domain of type "ane",
defined in <span>[<a class="xref" href="#I-D.ietf-alto-path-vector">PATH-VECTOR</a>]</span>, that contains a set of ANEs
representing data centers that each have a persistent identifier and are
relevant only to this property map.<a class="pilcrow" href="#section-5.1.2.3-2">¶</a></p>
<p id="section-5.1.2.3-3">In this case, the entity domain is qualified as "self-defined". The
identifier of a self-defined entity domain can be of the format:<a class="pilcrow" href="#section-5.1.2.3-3">¶</a></p>
<div id="section-5.1.2.3-4">
<pre class="lang-rbnf sourcecode">    EntityDomainName ::= '.' EntityDomainType
</pre><a class="pilcrow" href="#section-5.1.2.3-4">¶</a>
</div>
<p id="section-5.1.2.3-5">where '.' indicates that the entity domain only exists within the property
map resource using it.<a class="pilcrow" href="#section-5.1.2.3-5">¶</a></p>
<p id="section-5.1.2.3-6">A self-defined entity domain can be viewed as a particular case of
resource-specific entity domain, where the specific resource is the current
resource that uses this entity domain. In that case, for the sake of
simplification, the component ResourceID <span class="bcp14">MUST</span> be omitted in its entity
domain name.<a class="pilcrow" href="#section-5.1.2.3-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="entity-addrs">
<section id="section-5.1.3">
          <h4 id="name-entity-identifier">
<a class="section-number selfRef" href="#section-5.1.3">5.1.3. </a><a class="section-name selfRef" href="#name-entity-identifier">Entity Identifier</a>
          </h4>
<p id="section-5.1.3-1">Entities in an entity domain are identified by entity identifiers (EntityID) of
 the following format:<a class="pilcrow" href="#section-5.1.3-1">¶</a></p>
<div id="section-5.1.3-2">
<pre class="lang-rbnf sourcecode">EntityID ::= EntityDomainName ':' DomainTypeSpecificEntityID
</pre><a class="pilcrow" href="#section-5.1.3-2">¶</a>
</div>
<p id="section-5.1.3-3">Examples from the Internet address entity domains include individual IP
 addresses such as "net1.ipv4:192.0.2.14" and "net1.ipv6:2001:db8::12", as well
 as address blocks such as "net1.ipv4:192.0.2.0/26" and
 "net1.ipv6:2001:db8::/48".<a class="pilcrow" href="#section-5.1.3-3">¶</a></p>
<p id="section-5.1.3-4">The format of the second part of an entity identifier,
    DomainTypeSpecificEntityID, depends on the entity domain type and <span class="bcp14">MUST</span> be
    specified when defining a new entity domain type and registering it with 
    IANA.
 Identifiers <span class="bcp14">MAY</span> be hierarchical, and properties
 <span class="bcp14">MAY</span> be inherited based on that hierarchy. The rules defining any hierarchy or
 inheritance <span class="bcp14">MUST</span> be defined when the entity domain type is registered.<a class="pilcrow" href="#section-5.1.3-4">¶</a></p>
<p id="section-5.1.3-5">The type EntityID is used in this document to denote a JSON string
representing an entity identifier in this format.<a class="pilcrow" href="#section-5.1.3-5">¶</a></p>
<p id="section-5.1.3-6">Note that two entity identifiers with different, valid textual representations
may refer to the same entity, for a given entity domain. For example, the
strings "net1.ipv6:2001:db8::1" and "net1.ipv6:2001:db8:0:0:0:0:0:1" refer to
the same entity in the "ipv6" entity domain. Such equivalences should be
established by the object represented by DomainTypeSpecificEntityID. For
example, <span>[<a class="xref" href="#RFC5952">RFC5952</a>]</span> establishes equivalence for IPv6 addresses, while
<span>[<a class="xref" href="#RFC4632">RFC4632</a>]</span> does so for IPv4 addresses.<a class="pilcrow" href="#section-5.1.3-6">¶</a></p>
</section>
</div>
<div id="def-hierarchy-and-inheritance">
<section id="section-5.1.4">
          <h4 id="name-hierarchy-and-inheritance">
<a class="section-number selfRef" href="#section-5.1.4">5.1.4. </a><a class="section-name selfRef" href="#name-hierarchy-and-inheritance">Hierarchy and Inheritance</a>
          </h4>
<p id="section-5.1.4-1">To simplify the representation, some types of entity domains allow the ALTO
Client and Server to use a hierarchical entity identifier format to represent
a block of individual entities. For instance, in an IPv4 domain "net1.ipv4",
a CIDR "net1.ipv4:192.0.2.0/26" covers 64 individual IPv4 entities. In this
case, the corresponding property inheritance rule <span class="bcp14">MUST</span> be defined for the
entity domain type. The hierarchy and inheritance rule <span class="bcp14">MUST</span> have no
ambiguity.<a class="pilcrow" href="#section-5.1.4-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="def-property">
<section id="section-5.2">
        <h3 id="name-entity-property">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-entity-property">Entity Property</a>
        </h3>
<p id="section-5.2-1">Each entity property has a type to indicate the encoding and the semantics of
the value of this entity property, and has a name to identify it.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<div id="def-property-type">
<section id="section-5.2.1">
          <h4 id="name-entity-property-type-2">
<a class="section-number selfRef" href="#section-5.2.1">5.2.1. </a><a class="section-name selfRef" href="#name-entity-property-type-2">Entity Property Type</a>
          </h4>
<p id="section-5.2.1-1">The type EntityPropertyType is used in this document to indicate a string
 denoting an entity property type. The string <span class="bcp14">MUST</span> be no more than 32
 characters, and it <span class="bcp14">MUST NOT</span> contain characters other than US-ASCII
 alphanumeric characters (U+0030-U+0039, U+0041-U+005A, and U+0061-U+007A),
 the hyphen-minus ('-', U+002D), the colon (':', U+003A), or the low line ('_',
 U+005F). Note that the '.' separator is not allowed because it is reserved to
 separate an entity property type and an information resource identifier when
 an entity property is resource-specific.<a class="pilcrow" href="#section-5.2.1-1">¶</a></p>
<p id="section-5.2.1-2">While <a class="xref" href="#domain-types">Section 5.1.1</a> allows the use of the  
 character ":" with restrictions on entity domain identifiers, 
 it can be used without restrictions on entity property type identifiers. 
 This relates to <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, where a Server 
 can define properties for endpoints "ipv4" and "ipv6". In the present extension, 
 there is a mapping of ALTO entity domain types "ipv4" and "ipv6" to ALTO 
 address types "ipv4" and "ipv6". Properties defined for "ipv4" and "ipv6" 
 endpoints should be reusable on "ipv4" and "ipv6" entities. Forbidding the 
 usage of ":" in a non-private entity property type identifier would not 
 allow the use of properties previously defined for "ipv4" and "ipv6" endpoints 
 because their identifiers would be invalid.<a class="pilcrow" href="#section-5.2.1-2">¶</a></p>
<p id="section-5.2.1-3">Although ":" or "_::-" are valid entity domain types, 
 it is desirable to add characters, such as alphanumeric ones, 
 for better intelligibility.<a class="pilcrow" href="#section-5.2.1-3">¶</a></p>
<p id="section-5.2.1-4">Identifiers prefixed with "priv:" are reserved for Private Use 
     <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>
 without a need to register with IANA. All other identifiers for entity
 property types <span class="bcp14">MUST</span> be registered in the "ALTO Entity
 Property Types" registry, which is defined in <a class="xref" href="#IANAEntityProp">Section 12.4</a>. 
 The intended semantics of the entity property type <span class="bcp14">MUST</span> be specified in the IANA registration.<a class="pilcrow" href="#section-5.2.1-4">¶</a></p>
<p id="section-5.2.1-5">For an entity
 property identifier with the "priv:" prefix, an additional string (e.g.,
 company identifier or random string) <span class="bcp14">MUST</span> follow the prefix to reduce
 potential collisions, that is, the string "priv:" alone is not a valid
 entity property identifier.
  The definition of a private-use entity property type must apply 
  the same way in all property maps of an IRD where it is present.<a class="pilcrow" href="#section-5.2.1-5">¶</a></p>
<p id="section-5.2.1-6">To distinguish from the endpoint property type, the entity property type has
the following characteristics:<a class="pilcrow" href="#section-5.2.1-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-7.1">Some entity property types are applicable only to entities in particular entity
domain types. For example, the property type "pid" is applicable to
entities in the entity domain types "ipv4" or "ipv6", while it is not
applicable to entities in an entity domain of type "pid".<a class="pilcrow" href="#section-5.2.1-7.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-7.2">The intended semantics of the value of an entity property may also depend
 on the entity domain type. For example, suppose that a property named
 "geo-location" is defined as the coordinates of a point and is encoded as:
 "latitude longitude [altitude]." When applied to an entity that represents
 a specific host computer and identified by an address in an entity domain of
 type "ipv4" or "ipv6", the "geo-location" property would define the host's
 location. However, when applied to an entity in a domain of type "pid", the
 property would indicate a location representative of all hosts in this
 "pid" entity.<a class="pilcrow" href="#section-5.2.1-7.2">¶</a>
</li>
          </ul>
</section>
</div>
<div id="entity-property-name">
<section id="section-5.2.2">
          <h4 id="name-entity-property-name">
<a class="section-number selfRef" href="#section-5.2.2">5.2.2. </a><a class="section-name selfRef" href="#name-entity-property-name">Entity Property Name</a>
          </h4>
<p id="section-5.2.2-1">Each entity property is identified by an entity property name, which is a
string of the following format:<a class="pilcrow" href="#section-5.2.2-1">¶</a></p>
<div id="section-5.2.2-2">
<pre class="sourcecode">EntityPropertyName ::= [ [ ResourceID ] '.' ] EntityPropertyType
</pre><a class="pilcrow" href="#section-5.2.2-2">¶</a>
</div>
<p id="section-5.2.2-3">Similar to the endpoint property type defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.8">Section 10.8</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>,
each entity property may be defined by either the property map itself
(self-defined) or some other specific information resource
(resource-specific).<a class="pilcrow" href="#section-5.2.2-3">¶</a></p>
<p id="section-5.2.2-4">The entity property name of a resource-specific entity property starts with a
string of the type ResourceID defined in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, followed by the '.'
separator (U+002E) and an EntityDomainType typed string. For example, the
"pid" properties of an "ipv4" entity defined by two different maps
"net-map-1" and "net-map-2" are identified by "net-map-1.pid" and
"net-map-2.pid" respectively.<a class="pilcrow" href="#section-5.2.2-4">¶</a></p>
<p id="section-5.2.2-5">The specific information resource of an entity property may be the current
information resource itself, that is, the property map defining the property.
In that case, the ResourceID in the property name <span class="bcp14">SHOULD</span> be omitted. For
example, the property name ".ASN" applied to an entity identified by its
IPv4 address indicates the AS number of the AS that "owns" the entity, where
the returned AS number is defined by the property map itself.<a class="pilcrow" href="#section-5.2.2-5">¶</a></p>
</section>
</div>
<div id="format-entity-property-value">
<section id="section-5.2.3">
          <h4 id="name-format-for-entity-property-">
<a class="section-number selfRef" href="#section-5.2.3">5.2.3. </a><a class="section-name selfRef" href="#name-format-for-entity-property-">Format for Entity Property Value</a>
          </h4>
<p id="section-5.2.3-1"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.4.1.6">Section 11.4.1.6</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> specifies that an implementation of the
Endpoint Property Service specified in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> <span class="bcp14">SHOULD</span> assume that the
property value is a JSONString and fail to parse if it is not. This document
extends the format of a property value by allowing it to be a JSONValue
instead of just a JSONString.<a class="pilcrow" href="#section-5.2.3-1">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="entity-domain-types">
<section id="section-6">
      <h2 id="name-entity-domain-types-defined">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-entity-domain-types-defined">Entity Domain Types Defined in This Document</a>
      </h2>
<p id="section-6-1">The definition of each entity domain type <span class="bcp14">MUST</span> include
the entity domain type name and the domain-specific entity identifiers.
The definition of an entity domain type
<span class="bcp14">MAY</span> include hierarchy and inheritance semantics. This
document defines three initial entity domain types as follows.<a class="pilcrow" href="#section-6-1">¶</a></p>
<div id="inet-addr-domain">
<section id="section-6.1">
        <h3 id="name-internet-address-domain-typ">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-internet-address-domain-typ">Internet Address Domain Types</a>
        </h3>
<p id="section-6.1-1">The document defines two entity domain types (IPv4 and IPv6) for Internet
addresses. Both types are resource-agnostic entity domain types and hence
define corresponding resource-agnostic entity domains as well. Since the two
domains use the same hierarchy and inheritance semantics, we define the
semantics together, instead of repeating for each.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<div id="ipv4-domain">
<section id="section-6.1.1">
          <h4 id="name-entity-domain-type-ipv4">
<a class="section-number selfRef" href="#section-6.1.1">6.1.1. </a><a class="section-name selfRef" href="#name-entity-domain-type-ipv4">Entity Domain Type: IPv4</a>
          </h4>
<div id="ipv4-edt">
<section id="section-6.1.1.1">
            <h5 id="name-entity-domain-type-identifi">
<a class="section-number selfRef" href="#section-6.1.1.1">6.1.1.1. </a><a class="section-name selfRef" href="#name-entity-domain-type-identifi">Entity Domain Type Identifier</a>
            </h5>
<p id="section-6.1.1.1-1">The identifier for this entity domain type is "ipv4".<a class="pilcrow" href="#section-6.1.1.1-1">¶</a></p>
</section>
</div>
<div id="ipv4-dsei">
<section id="section-6.1.1.2">
            <h5 id="name-domain-specific-entity-iden">
<a class="section-number selfRef" href="#section-6.1.1.2">6.1.1.2. </a><a class="section-name selfRef" href="#name-domain-specific-entity-iden">Domain-Specific Entity Identifiers</a>
            </h5>
<p id="section-6.1.1.2-1">Individual addresses are strings as specified by the IPv4address rule in
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-3.2.2">Section 3.2.2</a> of [<a class="xref" href="#RFC3986">RFC3986</a>]</span>; 
 hierarchical addresses are strings as specified by the prefix notation in
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4632#section-3.1">Section 3.1</a> of [<a class="xref" href="#RFC4632">RFC4632</a>]</span>. 
 An
 individual Internet address and the corresponding full-length prefix are
 considered aliases for the same entity on which to define properties. 
 Thus, "ipv4:192.0.2.0" and "ipv4:192.0.2.0/32" are equivalent.<a class="pilcrow" href="#section-6.1.1.2-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ipv6-domain">
<section id="section-6.1.2">
          <h4 id="name-entity-domain-type-ipv6">
<a class="section-number selfRef" href="#section-6.1.2">6.1.2. </a><a class="section-name selfRef" href="#name-entity-domain-type-ipv6">Entity Domain Type: IPv6</a>
          </h4>
<div id="ipv6-edt">
<section id="section-6.1.2.1">
            <h5 id="name-entity-domain-type-identifie">
<a class="section-number selfRef" href="#section-6.1.2.1">6.1.2.1. </a><a class="section-name selfRef" href="#name-entity-domain-type-identifie">Entity Domain Type Identifier</a>
            </h5>
<p id="section-6.1.2.1-1">The identifier for this Entity Domain Type is "ipv6".<a class="pilcrow" href="#section-6.1.2.1-1">¶</a></p>
</section>
</div>
<div id="ipv6-dsei">
<section id="section-6.1.2.2">
            <h5 id="name-domain-specific-entity-ident">
<a class="section-number selfRef" href="#section-6.1.2.2">6.1.2.2. </a><a class="section-name selfRef" href="#name-domain-specific-entity-ident">Domain-Specific Entity Identifiers</a>
            </h5>
<p id="section-6.1.2.2-1">Individual addresses are strings as specified by 
     <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc5952#section-4">Section 4</a> of [<a class="xref" href="#RFC5952">RFC5952</a>]</span>;
 hierarchical addresses are strings as specified by 
  IPv6 address prefixes notation in 
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4291#section-2.3">Section 2.3</a> of [<a class="xref" href="#RFC4291">RFC4291</a>]</span>. 
 
 To define properties, an individual Internet address and the
 corresponding 128-bit prefix are considered aliases for the same entity. That
 is, "ipv6:2001:db8::1" and "ipv6:2001:db8::1/128" are equivalent and have
 the same set of properties.<a class="pilcrow" href="#section-6.1.2.2-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="inet-inheritance">
<section id="section-6.1.3">
          <h4 id="name-hierarchy-and-inheritance-o">
<a class="section-number selfRef" href="#section-6.1.3">6.1.3. </a><a class="section-name selfRef" href="#name-hierarchy-and-inheritance-o">Hierarchy and Inheritance of Internet Address Domains</a>
          </h4>
<p id="section-6.1.3-1">Both Internet address domains allow property values to be inherited.
 Specifically, if a property P is not defined for a specific Internet address
 I, but P is defined for a hierarchical Internet address C that 
 represents a set of addresses containing I, then the address I inherits 
 the value of P defined for the hierarchical address C. 
 If more than one such hierarchical addresses define a
 value for P, I inherits the value of P in the hierarchical address with the
 longest prefix. Note that this longest prefix rule ensures no multiple value
 inheritances, and hence no ambiguity.<a class="pilcrow" href="#section-6.1.3-1">¶</a></p>
<p id="section-6.1.3-2">Hierarchical addresses can also inherit properties. For instance, if a property P:<a class="pilcrow" href="#section-6.1.3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1.3-3.1">is not
   defined for the hierarchical address C,<a class="pilcrow" href="#section-6.1.3-3.1">¶</a>
</li>
            <li class="normal" id="section-6.1.3-3.2">
              <p id="section-6.1.3-3.2.1">but is defined for 
    a set of hierarchical addresses where:<a class="pilcrow" href="#section-6.1.3-3.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1.3-3.2.2.1">each address C' in the set 
       contains all IP addresses in C, and<a class="pilcrow" href="#section-6.1.3-3.2.2.1">¶</a>
</li>
                <li class="normal" id="section-6.1.3-3.2.2.2">C' has a shorter prefix length than C,<a class="pilcrow" href="#section-6.1.3-3.2.2.2">¶</a>
</li>
              </ul>
</li>
          </ul>
<p id="section-6.1.3-4">then C <span class="bcp14">MUST</span> inherit the property P from the C' having the longest prefix length.<a class="pilcrow" href="#section-6.1.3-4">¶</a></p>
<p id="section-6.1.3-5">As an example, suppose that a server defines a property P for the following
entities:<a class="pilcrow" href="#section-6.1.3-5">¶</a></p>
<span id="name-defined-property-values"></span><div id="fig_def-prop-val">
<table class="center" id="table-1">
            <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-defined-property-values">Defined Property Values</a>
            </caption>
<tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/26:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v1</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/28:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v2</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/30:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v3</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v4</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-6.1.3-7">Then the following entities have the indicated values:<a class="pilcrow" href="#section-6.1.3-7">¶</a></p>
<span id="name-inherited-property-values"></span><div id="fig_inh-prop-val">
<table class="center" id="table-2">
            <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-inherited-property-values">Inherited Property Values</a>
            </caption>
<tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v4</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.1:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v3</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.16:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v1</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.32:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v1</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.64:</td>
                <td class="text-left" colspan="1" rowspan="1">(not defined)</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/32:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v4</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/31:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v3</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/29:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v2</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/27:</td>
                <td class="text-left" colspan="1" rowspan="1">P=v1</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/25:</td>
                <td class="text-left" colspan="1" rowspan="1">(not defined)</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-6.1.3-9">An ALTO server <span class="bcp14">MAY</span> explicitly indicate a property as not having a value for
a particular entity. That is, a server <span class="bcp14">MAY</span> say that property P of entity X is
"defined to have no value" instead of "undefined". To indicate "no value",
a server <span class="bcp14">MAY</span> perform different behaviors:<a class="pilcrow" href="#section-6.1.3-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1.3-10.1">
 If entity X would inherit a value for property P, and if the ALTO server decides to 
 say that "X has no value for P", then the 
       ALTO server <span class="bcp14">MUST</span> return a "null" value for that property on X. In this
       case, the ALTO client <span class="bcp14">MUST</span> recognize the JSON "null" value as "no value"
       and interpret it as "do not apply the inheritance rules for this property on X".<a class="pilcrow" href="#section-6.1.3-10.1">¶</a>
</li>
            <li class="normal" id="section-6.1.3-10.2">If the entity would not inherit a value, then the ALTO server <span class="bcp14">MAY</span> return
 "null" or just omit the property. In this case, the ALTO client cannot infer
 the value for this property of this entity from the Inheritance rules. Thus, the
 client <span class="bcp14">MUST</span> interpret that this property has no value.<a class="pilcrow" href="#section-6.1.3-10.2">¶</a>
</li>
          </ul>
<p id="section-6.1.3-11">If the ALTO server does not define any properties for an entity, then the
server <span class="bcp14">MAY</span> omit that entity from the response.<a class="pilcrow" href="#section-6.1.3-11">¶</a></p>
</section>
</div>
<div id="defining-IR-media-type-ipv4-ipv6">
<section id="section-6.1.4">
          <h4 id="name-defining-information-resource-">
<a class="section-number selfRef" href="#section-6.1.4">6.1.4. </a><a class="section-name selfRef" href="#name-defining-information-resource-">Defining Information Resource Media Type for Domain Types IPv4 and IPv6</a>
          </h4>
<p id="section-6.1.4-1">Entity domain types "ipv4" and "ipv6" both allow the definition of resource-specific
entity domains. When resource-specific domains are defined with entities of
domain type "ipv4" or "ipv6", the defining information resource for an entity
domain of type "ipv4" or "ipv6" <span class="bcp14">MUST</span> be a network map. The media type of a
defining information resource is therefore:<a class="pilcrow" href="#section-6.1.4-1">¶</a></p>
<p id="section-6.1.4-2">application/alto-networkmap+json<a class="pilcrow" href="#section-6.1.4-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="pid-domain">
<section id="section-6.2">
        <h3 id="name-entity-domain-type-pid">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-entity-domain-type-pid">Entity Domain Type: PID</a>
        </h3>
<p id="section-6.2-1">The PID entity domain associates property values with the PIDs in a network map.
Accordingly, this entity domain always depends on a network map.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<div id="entity-domain-type-identifier">
<section id="section-6.2.1">
          <h4 id="name-entity-domain-type-identifier">
<a class="section-number selfRef" href="#section-6.2.1">6.2.1. </a><a class="section-name selfRef" href="#name-entity-domain-type-identifier">Entity Domain Type Identifier</a>
          </h4>
<p id="section-6.2.1-1">The identifier for this Entity Domain Type is "pid".<a class="pilcrow" href="#section-6.2.1-1">¶</a></p>
</section>
</div>
<div id="domain-specific-entity-identifiers">
<section id="section-6.2.2">
          <h4 id="name-domain-specific-entity-identi">
<a class="section-number selfRef" href="#section-6.2.2">6.2.2. </a><a class="section-name selfRef" href="#name-domain-specific-entity-identi">Domain-Specific Entity Identifiers</a>
          </h4>
<p id="section-6.2.2-1">The entity identifiers are the PID names of the associated network map.<a class="pilcrow" href="#section-6.2.2-1">¶</a></p>
</section>
</div>
<div id="hierarchy-and-inheritance">
<section id="section-6.2.3">
          <h4 id="name-hierarchy-and-inheritance-2">
<a class="section-number selfRef" href="#section-6.2.3">6.2.3. </a><a class="section-name selfRef" href="#name-hierarchy-and-inheritance-2">Hierarchy and Inheritance</a>
          </h4>
<p id="section-6.2.3-1">There is no hierarchy or inheritance for properties associated with PIDs.<a class="pilcrow" href="#section-6.2.3-1">¶</a></p>
</section>
</div>
<div id="defining-IR-media-type-pid">
<section id="section-6.2.4">
          <h4 id="name-defining-information-resource-m">
<a class="section-number selfRef" href="#section-6.2.4">6.2.4. </a><a class="section-name selfRef" href="#name-defining-information-resource-m">Defining Information Resource Media Type for Domain Type PID</a>
          </h4>
<p id="section-6.2.4-1">The entity domain type "pid" allows the definition of resource-specific entity
domains. When resource-specific domains are defined with entities of domain
type "pid", the defining information resource for entity domain type "pid"
<span class="bcp14">MUST</span> be a network map. The media type of a defining information resource is
therefore:<a class="pilcrow" href="#section-6.2.4-1">¶</a></p>
<p id="section-6.2.4-2">application/alto-networkmap+json<a class="pilcrow" href="#section-6.2.4-2">¶</a></p>
</section>
</div>
<div id="relationship-to-internet-addresses-domains">
<section id="section-6.2.5">
          <h4 id="name-relationship-to-internet-ad">
<a class="section-number selfRef" href="#section-6.2.5">6.2.5. </a><a class="section-name selfRef" href="#name-relationship-to-internet-ad">Relationship To Internet Addresses Domains</a>
          </h4>
<p id="section-6.2.5-1">The PID domain and the Internet address domains are completely independent;
the properties associated with a PID have no relation to the properties
associated with the prefixes or endpoint addresses in that PID. An ALTO
server <span class="bcp14">MAY</span> choose to assign all the properties of a PID to the prefixes in
that PID or only some of these properties.<a class="pilcrow" href="#section-6.2.5-1">¶</a></p>
<p id="section-6.2.5-2">For example, suppose "PID1" consists of the prefix "ipv4:192.0.2.0/24" and
has the property P with value v1. The Internet address entities
"ipv4:192.0.2.0" and "ipv4:192.0.2.0/24" in the IPv4 domain <span class="bcp14">MAY</span> have a value
for the property P, and if they do, it is not necessarily v1.<a class="pilcrow" href="#section-6.2.5-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="internet-address-properties-vs-pid-properties">
<section id="section-6.3">
        <h3 id="name-internet-address-properties">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-internet-address-properties">Internet Address Properties vs. PID Properties</a>
        </h3>
<p id="section-6.3-1">Because the Internet address and PID domains relate to completely distinct domain types, the
question may arise as to which entity domain type is the best for a property. In general, the
Internet address domain types are <span class="bcp14">RECOMMENDED</span> for properties that are closely related
to the Internet address or are associated with, and inherited through, hierarchical addresses.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<p id="section-6.3-2">The PID domain type is <span class="bcp14">RECOMMENDED</span> for properties that arise from the definition of
the PID, rather than from the Internet address prefixes in that PID.<a class="pilcrow" href="#section-6.3-2">¶</a></p>
<p id="section-6.3-3">For example, because Internet addresses are allocated to service providers by
blocks of prefixes, an "ISP" property would be best associated with Internet
address domain types. On the other hand, a property that explains why a PID
was formed, or how it relates to a provider's network, would best be
associated with the PID domain type.<a class="pilcrow" href="#section-6.3-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="prop-map">
<section id="section-7">
      <h2 id="name-property-map">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-property-map">Property Map</a>
      </h2>
<p id="section-7-1">A property map returns the properties defined for all entities in one or more
 domains, e.g., the "location" property of entities in a domain of type "pid", and the
 "ASN" property of entities in domains of types "ipv4" and "ipv6". 
 <a class="xref" href="#prop-map-example">Section 10.4</a> gives an example of a 
 property map request and its response.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Downloading the whole property map is a way for the Client to obtain the entity identifiers 
 that can be used as input for a filtered property map request. 
 However, a whole property map may be too voluminous for a Client that 
 only wants the list of applicable entity identifiers. How to obtain the list of entities 
 of a filtered property map in a simplified response is specified in 
 <a class="xref" href="#filter-prop-map">Section 8</a>.<a class="pilcrow" href="#section-7-2">¶</a></p>
<div id="FullPropMapMediaType">
<section id="section-7.1">
        <h3 id="name-media-type">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-media-type">Media Type</a>
        </h3>
<p id="section-7.1-1">The media type of a property map is "application/alto-propmap+json".<a class="pilcrow" href="#section-7.1-1">¶</a></p>
</section>
</div>
<div id="http-method">
<section id="section-7.2">
        <h3 id="name-http-method">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-http-method">HTTP Method</a>
        </h3>
<p id="section-7.2-1">The property map is requested using the HTTP GET method.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
</section>
</div>
<div id="accept-input-parameters">
<section id="section-7.3">
        <h3 id="name-accept-input-parameters">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-accept-input-parameters">Accept Input Parameters</a>
        </h3>
<p id="section-7.3-1">A property map has no Accept Input parameters.<a class="pilcrow" href="#section-7.3-1">¶</a></p>
</section>
</div>
<div id="FullPropMapCapabilities">
<section id="section-7.4">
        <h3 id="name-capabilities">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-capabilities">Capabilities</a>
        </h3>
<p id="section-7.4-1">The capabilities are defined by an object of type PropertyMapCapabilities:<a class="pilcrow" href="#section-7.4-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.4-2">
<pre>    object {
      EntityPropertyMapping mappings;
    } PropertyMapCapabilities;

    object-map {
      EntityDomainName -&gt; EntityPropertyName&lt;1..*&gt;;
    } EntityPropertyMapping
</pre><a class="pilcrow" href="#section-7.4-2">¶</a>
</div>
<p id="section-7.4-3">with fields:<a class="pilcrow" href="#section-7.4-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4">
          <dt id="section-7.4-4.1">mappings:</dt>
          <dd id="section-7.4-4.2" style="margin-left: 1.5em">
  A JSON object whose keys are names of entity domains and values are the
supported entity properties of the corresponding entity domains.<a class="pilcrow" href="#section-7.4-4.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="FullPropMapUses">
<section id="section-7.5">
        <h3 id="name-uses">
<a class="section-number selfRef" href="#section-7.5">7.5. </a><a class="section-name selfRef" href="#name-uses">Uses</a>
        </h3>
<p id="section-7.5-1"> The "uses" field of a property map resource in an IRD entry specifies
    the resources in this same IRD on which this property map directly depends. It is an array of 
    resource identifier(s). This array identifies the defining information resources associated with 
    the resource-specific entity domains and properties that are indicated in this resource.<a class="pilcrow" href="#section-7.5-1">¶</a></p>
</section>
</div>
<div id="FullPropMapResponse">
<section id="section-7.6">
        <h3 id="name-response">
<a class="section-number selfRef" href="#section-7.6">7.6. </a><a class="section-name selfRef" href="#name-response">Response</a>
        </h3>
<p id="section-7.6-1">If the entity domains in this property map depend on other resources, the
"dependent-vtags" field in the "meta" field of the response <span class="bcp14">MUST</span> be an array
that includes the version tags of those resources, and the order <span class="bcp14">MUST</span> be
consistent with the "uses" field of this property map resource. The data
component of a property map response is named "property-map", which is a JSON
object of type PropertyMapData, where:<a class="pilcrow" href="#section-7.6-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.6-2">
<pre>    object {
      PropertyMapData property-map;
    } InfoResourceProperties : ResponseEntityBase;

    object-map {
      EntityID -&gt; EntityProps;
    } PropertyMapData;

    object {
      EntityPropertyName -&gt; JSONValue;
    } EntityProps;
</pre><a class="pilcrow" href="#section-7.6-2">¶</a>
</div>
<p id="section-7.6-3">The ResponseEntityBase type is defined in 
        <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.4">Section 8.4</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-7.6-3">¶</a></p>
<p id="section-7.6-4">Specifically, a PropertyMapData object has one member for each entity in the
 property map. The entity's properties are encoded in the corresponding
 EntityProps object. EntityProps encodes one name/value pair for each property,
 where the property names are encoded as strings of type PropertyName.
 A protocol implementation <span class="bcp14">SHOULD</span> assume that the property value is either
 a JSONString or a JSON "null" value, and fail to parse if it is not, unless the
 implementation is using an extension to this document that indicates when and
 how property values of other data types are signaled.<a class="pilcrow" href="#section-7.6-4">¶</a></p>
<p id="section-7.6-5">For each entity in the property map:<a class="pilcrow" href="#section-7.6-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.6-6.1">If the entity is in a resource-specific entity domain, the ALTO server <span class="bcp14">MUST</span>
 only return self-defined properties and resource-specific properties that 
 depend on the same resource as the entity does. The ALTO client <span class="bcp14">MUST</span> ignore
 any resource-specific property for this entity if the mapping between 
 this resource-specific property and this entity is not indicated, in the
       IRD, in the "mappings" capability of the property map resource.<a class="pilcrow" href="#section-7.6-6.1">¶</a>
</li>
          <li class="normal" id="section-7.6-6.2">
                If the entity identifier is resource-agnostic, the ALTO server <span class="bcp14">SHOULD</span> 
                return the self-defined properties and all the resource-specific 
                properties defined in the property-defining information resources that are 
                indicated, in the IRD, in the "mappings" capability of the property map resource, 
                unless property values can be omitted upon some inheritance rules.<a class="pilcrow" href="#section-7.6-6.2">¶</a>
</li>
        </ul>
<p id="section-7.6-7">
The ALTO server <span class="bcp14">MAY</span> omit property values that are inherited rather than 
explicitly defined in order to achieve more compact encoding. As a consequence,
the ALTO Client <span class="bcp14">MUST NOT</span> assume inherited property values will all be present. 
If the Client needs inherited values, it <span class="bcp14">MUST</span> use the entity domain's 
inheritance rules to deduce those values.<a class="pilcrow" href="#section-7.6-7">¶</a></p>
</section>
</div>
</section>
</div>
<div id="filter-prop-map">
<section id="section-8">
      <h2 id="name-filtered-property-map">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-filtered-property-map">Filtered Property Map</a>
      </h2>
<p id="section-8-1">A filtered property map returns the values of a set of properties for a set of
 entities selected by the client.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">Sections <a class="xref" href="#filt-prop-map-example-1">10.5</a>, 
 <a class="xref" href="#filt-prop-map-example-2">10.6</a>,
 <a class="xref" href="#filt-prop-map-example-3">10.7</a>, 
 and <a class="xref" href="#filt-prop-map-example-4">10.8</a> give examples of
 filtered property map requests and responses.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">
 While the IRD lists all the names of the supported properties, 
 it only lists the names of the supported entity domains and not the entity identifiers. 
                Sometimes a client only wants to know what entity identifiers it can provide as input to a 
                filtered property map request but does not want to download the full property 
                map, or it may want to check whether some given entity identifiers are eligible for a query.  
                To support these cases, the filtered property map supports a lightweight response 
                with empty property values.<a class="pilcrow" href="#section-8-3">¶</a></p>
<div id="FilterPropMapMediaType">
<section id="section-8.1">
        <h3 id="name-media-type-2">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-media-type-2">Media Type</a>
        </h3>
<p id="section-8.1-1">The media type of a property map resource is
 "application/alto-propmap+json".<a class="pilcrow" href="#section-8.1-1">¶</a></p>
</section>
</div>
<div id="http-method-1">
<section id="section-8.2">
        <h3 id="name-http-method-2">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-http-method-2">HTTP Method</a>
        </h3>
<p id="section-8.2-1">The filtered property map is requested using the HTTP POST method.<a class="pilcrow" href="#section-8.2-1">¶</a></p>
</section>
</div>
<div id="filter-prop-map-params">
<section id="section-8.3">
        <h3 id="name-accept-input-parameters-2">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-accept-input-parameters-2">Accept Input Parameters</a>
        </h3>
<p id="section-8.3-1">The input parameters for a filtered property map request are supplied in the
 entity body of the POST request. This document specifies the input parameters
 with a data format indicated by the media type
 "application/alto-propmapparams+json", which is a JSON object of type
 ReqFilteredPropertyMap. ReqFilteredPropertyMap is designed to support the
 following cases of client requests:<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-2.1">The client wants the value of a selected set of properties for a selected set of entities;<a class="pilcrow" href="#section-8.3-2.1">¶</a>
</li>
          <li class="normal" id="section-8.3-2.2">The client wants all property values on all the entities;<a class="pilcrow" href="#section-8.3-2.2">¶</a>
</li>
          <li class="normal" id="section-8.3-2.3">The client wants all entities for which a property is defined 
   but is not interested in their property values; or<a class="pilcrow" href="#section-8.3-2.3">¶</a>
</li>
          <li class="normal" id="section-8.3-2.4">The client wants to cross-check whether some entity identifiers are present in 
  the filtered property map but is not interested in their property values.<a class="pilcrow" href="#section-8.3-2.4">¶</a>
</li>
        </ul>
<p id="section-8.3-3">The third case is equivalent to querying the whole unfiltered property map, which
 can also be achieved with a GET request. 
 Some Clients, however, may prefer to systematically make filtered property map queries,
 where filtering parameters may sometimes be empty.<a class="pilcrow" href="#section-8.3-3">¶</a></p>
<p id="section-8.3-4">The JSON object ReqFilteredPropertyMap is specified as follows:<a class="pilcrow" href="#section-8.3-4">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.3-5">
<pre>                  object {
                    EntityID             entities&lt;0..*&gt;;
                    [EntityPropertyName   properties&lt;0..*&gt;;]
                  } ReqFilteredPropertyMap;
</pre><a class="pilcrow" href="#section-8.3-5">¶</a>
</div>
<p id="section-8.3-6">with fields:<a class="pilcrow" href="#section-8.3-6">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.3-7">
          <dt id="section-8.3-7.1">entities:</dt>
          <dd id="section-8.3-7.2" style="margin-left: 1.5em">
 A list of entity identifiers for which the specified properties are to be
 returned. 
 If the list is empty, the ALTO Server <span class="bcp14">MUST</span> interpret the list as if it 
 contained a list of all entities currently defined in the filtered property map.
 The domain of each entity <span class="bcp14">MUST</span> be included in the list of entity domains in 
 this resource's "capabilities" field (see
 <a class="xref" href="#FilteredPropMapCapabilities">Section 8.4</a>).
 The ALTO server <span class="bcp14">MUST</span> interpret entries appearing multiple times
 as if they appeared only once.<a class="pilcrow" href="#section-8.3-7.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.3-7.3">properties:</dt>
          <dd id="section-8.3-7.4" style="margin-left: 1.5em">
 A list of properties to be returned for each entity. 
 
 If the list is empty, the ALTO Sever <span class="bcp14">MUST</span> interpret the list as if it 
 contained a list of all properties currently defined in the filtered property map.
 Each specified property <span class="bcp14">MUST</span> be included in the list of properties in this resource's
 "capabilities" field (see <a class="xref" href="#FilteredPropMapCapabilities">Section 8.4</a>). 
 The ALTO server <span class="bcp14">MUST</span> interpret entries appearing multiple times as if 
 they appeared only once.
 
 This field is optional. If it is absent, the Server returns 
 a property value equal to the literal string "{}"
 for all the entity identifiers of the "entities" field for which at least one property is
 defined.<a class="pilcrow" href="#section-8.3-7.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-8.3-8">Note that the field "properties" is optional. In addition, when
         the "entities" field is an empty list, it corresponds to a 
 query for all applicable entity identifiers of the filtered property map, with no 
 current interest on any particular property. When 
         the "entities" field is not empty, it allows the Client 
         to check whether the listed entity identifiers can be used as input to a filtered property 
         map query.<a class="pilcrow" href="#section-8.3-8">¶</a></p>
</section>
</div>
<div id="FilteredPropMapCapabilities">
<section id="section-8.4">
        <h3 id="name-capabilities-2">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-capabilities-2">Capabilities</a>
        </h3>
<p id="section-8.4-1">The capabilities are defined by an object of type PropertyMapCapabilities, as
 defined in <a class="xref" href="#FullPropMapCapabilities">Section 7.4</a>.<a class="pilcrow" href="#section-8.4-1">¶</a></p>
</section>
</div>
<div id="uses">
<section id="section-8.5">
        <h3 id="name-uses-2">
<a class="section-number selfRef" href="#section-8.5">8.5. </a><a class="section-name selfRef" href="#name-uses-2">Uses</a>
        </h3>
<p id="section-8.5-1">This is the same as the "uses" field of the property map resource (see
 <a class="xref" href="#FullPropMapUses">Section 7.5</a>).<a class="pilcrow" href="#section-8.5-1">¶</a></p>
</section>
</div>
<div id="FilteredPropMapResponse">
<section id="section-8.6">
        <h3 id="name-filtered-property-map-respo">
<a class="section-number selfRef" href="#section-8.6">8.6. </a><a class="section-name selfRef" href="#name-filtered-property-map-respo">Filtered Property Map Response</a>
        </h3>
<p id="section-8.6-1">The response <span class="bcp14">MUST</span> indicate an error, using ALTO Protocol error handling, as
 defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5">Section 8.5</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, if the request is invalid.<a class="pilcrow" href="#section-8.6-1">¶</a></p>
<p id="section-8.6-2">Specifically, a filtered property map request can be invalid in the following cases:<a class="pilcrow" href="#section-8.6-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-3.1">The input field "entities" is absent from the Client request. 
         In this case, the Server <span class="bcp14">MUST</span> return an "E_MISSING_FIELD" error 
 as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5.2">Section 8.5.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-8.6-3.1">¶</a>
</li>
          <li class="normal" id="section-8.6-3.2">
            <p id="section-8.6-3.2.1">An entity identifier in the "entities" field of the request is invalid. 
            This occurs when:<a class="pilcrow" href="#section-8.6-3.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-3.2.2.1">The domain of this entity is not defined in the "mappings"
 capability of this resource in the IRD, or<a class="pilcrow" href="#section-8.6-3.2.2.1">¶</a>
</li>
              <li class="normal" id="section-8.6-3.2.2.2">The entity identifier is not valid for the entity domain.<a class="pilcrow" href="#section-8.6-3.2.2.2">¶</a>
</li>
            </ul>
<p id="section-8.6-3.2.3"> A valid entity identifier never generates an error, even if the filtered property
    map resource does not define any properties for it.<a class="pilcrow" href="#section-8.6-3.2.3">¶</a></p>
<p id="section-8.6-3.2.4">
 If an entity identifier in the "entities" field of the request is invalid, the ALTO
 server <span class="bcp14">MUST</span> return an "E_INVALID_FIELD_VALUE" error defined in
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5.2">Section 8.5.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, and the "value" field of the error message <span class="bcp14">SHOULD</span>
 indicate the provided invalid entity identifier.<a class="pilcrow" href="#section-8.6-3.2.4">¶</a></p>
</li>
          <li class="normal" id="section-8.6-3.3">
            <p id="section-8.6-3.3.1">A property name in the "properties" field of the request is invalid. This
          occurs when this property name is not defined in the "properties" capability of this
 resource in the IRD.<a class="pilcrow" href="#section-8.6-3.3.1">¶</a></p>
<p id="section-8.6-3.3.2"> When a filtered property map resource does not define a value for a
 property requested for a particular entity, it is not an error. In this
 case, the ALTO server <span class="bcp14">MUST</span> omit that property from the response for that
 endpoint.<a class="pilcrow" href="#section-8.6-3.3.2">¶</a></p>
<p id="section-8.6-3.3.3"> If a property name in the "properties" field in the request is invalid, the ALTO
 server <span class="bcp14">MUST</span> return an "E_INVALID_FIELD_VALUE" error defined in 
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5.2">Section 8.5.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. The "value" field of the error message <span class="bcp14">SHOULD</span>
 indicate the property name.<a class="pilcrow" href="#section-8.6-3.3.3">¶</a></p>
</li>
        </ul>
<p id="section-8.6-4">Some identifiers can be interpreted as both an entity name and a property name, 
 as is the case for "pid" if it were erroneously used alone.
 In such a case, the Server <span class="bcp14">SHOULD</span> follow  
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-8.5.2">Section 8.5.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, which says:<a class="pilcrow" href="#section-8.6-4">¶</a></p>
<blockquote id="section-8.6-5"> 
 For an E_INVALID_FIELD_VALUE error, the server may include an optional field 
 named "field" in the "meta" field of the response, to indicate the field that contains the
    wrong value.<a class="pilcrow" href="#section-8.6-5">¶</a>
</blockquote>
<p id="section-8.6-6">The response to a valid request is the same as for the property map
 (see <a class="xref" href="#FullPropMapResponse">Section 7.6</a>) except that:<a class="pilcrow" href="#section-8.6-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-7.1"> If the requested entities include entities with a resource-agnostic identifier, 
          the "dependent-vtags" field in its "meta" field <span class="bcp14">MUST</span> include version tags of all
 dependent resources appearing in the "uses" field.<a class="pilcrow" href="#section-8.6-7.1">¶</a>
</li>
          <li class="normal" id="section-8.6-7.2">If the requested entities only include entities in resource-specific entity
 domains, the "dependent-vtags" field in its "meta" field <span class="bcp14">MUST</span> include the version
 tags of the resources on which the requested resource-specific entity domains and
 the requested resource-specific properties are dependent.<a class="pilcrow" href="#section-8.6-7.2">¶</a>
</li>
          <li class="normal" id="section-8.6-7.3">The response only includes the entities and properties requested by the
 client. If an entity in the request is identified by a hierarchical identifier
 (e.g., a "ipv4" or "ipv6" prefix), the response <span class="bcp14">MUST</span> return all properties that 
 are present for any address covered by the prefix, even though some of those 
 properties may not be present for all addresses covered by the prefix.<a class="pilcrow" href="#section-8.6-7.3">¶</a>
</li>
          <li class="normal" id="section-8.6-7.4">When the input member "properties" is absent from the client request, 
 the Server returns a property map containing all the requested entity identifiers 
 for which one or more properties are defined. For all the entities of the returned map, 
 the returned property value is equal to "{}".<a class="pilcrow" href="#section-8.6-7.4">¶</a>
</li>
        </ul>
<p id="section-8.6-8">The filtered property map response <span class="bcp14">MUST</span> include all the inherited property
 values for the requested entities and all the entities that are able to
 inherit property values from the requested entities. To achieve this goal,
 the ALTO server <span class="bcp14">MAY</span> follow two rules:<a class="pilcrow" href="#section-8.6-8">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-9.1">If a property for a requested entity is inherited from another entity not
 included in the request, the response <span class="bcp14">MUST</span> include this property for the
 requested entity. For example, a full property map may skip a property P for
 an entity A (e.g., "ipv4:192.0.2.0/31") if P can be derived using inheritance
 from another entity B (e.g., "ipv4:192.0.2.0/30"). A filtered property map
 request may include only A but not B. In such a case, the property P <span class="bcp14">MUST</span> be
 included in the response for A.<a class="pilcrow" href="#section-8.6-9.1">¶</a>
</li>
          <li class="normal" id="section-8.6-9.2">If there are entities covered by a requested entity but they have different
 values for the requested properties, the response <span class="bcp14">MUST</span> include all those
 entities and the different property values for them. For example, consider
 a request for property P of entity A (e.g., "ipv4:192.0.2.0/31"): if P has value
 v1 for "A1=ipv4:192.0.2.0/32" and v2 for "A2=ipv4:192.0.2.1/32", then the
 response <span class="bcp14">SHOULD</span> include A1 and A2.<a class="pilcrow" href="#section-8.6-9.2">¶</a>
</li>
        </ul>
<p id="section-8.6-10">For the sake of response compactness, the ALTO server <span class="bcp14">SHOULD</span> obey the following rule:<a class="pilcrow" href="#section-8.6-10">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-11.1">If an entity identifier in the response is already covered by other
 entities identifiers in the same response, it <span class="bcp14">SHOULD</span> be removed from the
 response. In the previous example, the entity
 "A=ipv4:192.0.2.0/31" <span class="bcp14">SHOULD</span> be removed because A1 and A2 cover all the
 addresses in A.<a class="pilcrow" href="#section-8.6-11.1">¶</a>
</li>
        </ul>
<p id="section-8.6-12">An ALTO client should be aware that the entities in the response may be
 different from the entities in its request.<a class="pilcrow" href="#section-8.6-12">¶</a></p>
</section>
</div>
<div id="prop-type-pid">
<section id="section-8.7">
        <h3 id="name-entity-property-type-define">
<a class="section-number selfRef" href="#section-8.7">8.7. </a><a class="section-name selfRef" href="#name-entity-property-type-define">Entity Property Type Defined in This Document</a>
        </h3>
<p id="section-8.7-1">This document defines the entity property type "pid". This property type
extends the ALTO endpoint property type "pid" defined in 
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-7.1.1">Section 7.1.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> as follows: the property has the same semantics and applies to
IPv4 and IPv6 addresses; the difference is that the IPv4 and IPv6 addresses
have evolved from the status of endpoints to the status of entities.<a class="pilcrow" href="#section-8.7-1">¶</a></p>
<p id="section-8.7-2">The defining information resource for property type <span class="bcp14">MUST</span> be a network map.<a class="pilcrow" href="#section-8.7-2">¶</a></p>
<div id="entity-property-type-pid">
<section id="section-8.7.1">
          <h4 id="name-entity-property-type-pid">
<a class="section-number selfRef" href="#section-8.7.1">8.7.1. </a><a class="section-name selfRef" href="#name-entity-property-type-pid">Entity Property Type: pid</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-8.7.1-1">
            <dt id="section-8.7.1-1.1">Identifier:</dt>
            <dd id="section-8.7.1-1.2" style="margin-left: 1.5em">pid<a class="pilcrow" href="#section-8.7.1-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.7.1-1.3">Semantics:</dt>
            <dd id="section-8.7.1-1.4" style="margin-left: 1.5em">the intended semantics are the same as in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> for the
ALTO endpoint property type "pid".<a class="pilcrow" href="#section-8.7.1-1.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.7.1-1.5">Media type of defining information resource:</dt>
            <dd id="section-8.7.1-1.6" style="margin-left: 1.5em">application/alto-networkmap+json<a class="pilcrow" href="#section-8.7.1-1.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.7.1-1.7">Security considerations:</dt>
            <dd id="section-8.7.1-1.8" style="margin-left: 1.5em">for entity property type "pid" are the same as
documented in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> for the ALTO endpoint property type "pid".<a class="pilcrow" href="#section-8.7.1-1.8">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="legacy">
<section id="section-9">
      <h2 id="name-impact-on-legacy-alto-serve">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-impact-on-legacy-alto-serve">Impact on Legacy ALTO Servers and ALTO Clients</a>
      </h2>
<div id="impact-on-endpoint-property-service">
<section id="section-9.1">
        <h3 id="name-impact-on-endpoint-property">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-impact-on-endpoint-property">Impact on Endpoint Property Service</a>
        </h3>
<p id="section-9.1-1">Since the property map and the filtered property map defined in this document
provide a functionality that covers the EPS
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-11.4">Section 11.4</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, ALTO servers may prefer to provide
property map and filtered property map in place of EPS. However, for the
legacy endpoint properties, it is recommended that ALTO servers also provide
EPS so that legacy clients can still be supported.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
</section>
</div>
<div id="impact-on-resource-specific-properties">
<section id="section-9.2">
        <h3 id="name-impact-on-resource-specific">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-impact-on-resource-specific">Impact on Resource-Specific Properties</a>
        </h3>
<p id="section-9.2-1"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-10.8">Section 10.8</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> defines 
        two categories of endpoint properties: "resource-specific" and "global". 
Resource-specific property names are
prefixed with the identifier of the resource they depend on, while global property
names have no such prefix. The property map and the filtered property map
specified in this document define similar categories of entity properties. The
difference is that entity property maps do not define "global" entity
properties. Instead, they define self-defined entity properties as a
special case of "resource-specific" entity properties, where the specific
resource is the property map itself. This means that self-defined
properties are defined within the scope of the property map.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
</section>
</div>
<div id="impact-on-other-properties">
<section id="section-9.3">
        <h3 id="name-impact-on-other-properties">
<a class="section-number selfRef" href="#section-9.3">9.3. </a><a class="section-name selfRef" href="#name-impact-on-other-properties">Impact on Other Properties</a>
        </h3>
<p id="section-9.3-1">In the present extension, properties can be defined for sets of entity
addresses, rather than just individual endpoint addresses as initially defined
in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. 
This might change the semantics of a property. These sets can be,
for example, hierarchical IP address blocks. For instance, a property such as the
fictitious "geo-location" defined for a set of IP addresses would have a
value corresponding to a location representative of all the addresses in this set.<a class="pilcrow" href="#section-9.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="examples">
<section id="section-10">
      <h2 id="name-examples">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-examples">Examples</a>
      </h2>
<p id="section-10-1">In this document, the HTTP message bodies of all the 
 examples use Unix-style line-ending character (%x0A) as the line separator.<a class="pilcrow" href="#section-10-1">¶</a></p>
<div id="net-map-example">
<section id="section-10.1">
        <h3 id="name-network-map">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-network-map">Network Map</a>
        </h3>
<p id="section-10.1-1">The examples in this section use a very simple default network map:<a class="pilcrow" href="#section-10.1-1">¶</a></p>
<span id="name-example-default-network-map"></span><div id="net-map-values-ex">
<table class="center" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-example-default-network-map">Example Default Network Map</a>
          </caption>
<tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">defaultpid:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:0.0.0.0/0  ipv6:::/0</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid1:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/25</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid2:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/27</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid3:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.3.0/28</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid4:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.3.16/28</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-10.1-3">And another simple alternative network map:<a class="pilcrow" href="#section-10.1-3">¶</a></p>
<span id="name-example-alternative-network"></span><div id="alt-net-map-values-ex">
<table class="center" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-example-alternative-network">Example Alternative Network Map</a>
          </caption>
<tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">defaultpid:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:0.0.0.0/0  ipv6:::/0</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid1:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/27</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid2:</td>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.3.0/27</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="inet-prop-example">
<section id="section-10.2">
        <h3 id="name-property-definitions">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-property-definitions">Property Definitions</a>
        </h3>
<p id="section-10.2-1">Beyond "pid", the examples in this section use four additional, fictitious property types 
 for entities of domain type "ipv4": "countrycode", "ASN",  "ISP", and "state". 
 These properties are assumed to be resource-agnostic so their name is identical 
 to their type.  The entities have the following values:<a class="pilcrow" href="#section-10.2-1">¶</a></p>
<span id="name-example-property-values-for"></span><div id="prop-map-values-ip-ex">
<table class="center" id="table-5">
          <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-example-property-values-for">Example Property Values for Internet Address Domains</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"> </th>
              <th class="text-center" colspan="1" rowspan="1">ISP</th>
              <th class="text-center" colspan="1" rowspan="1">ASN</th>
              <th class="text-center" colspan="1" rowspan="1">countrycode</th>
              <th class="text-center" colspan="1" rowspan="1">state</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/23:</td>
              <td class="text-center" colspan="1" rowspan="1">BitsRus</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">us</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.0/28:</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">65543</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">NJ</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.16/28:</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">65543</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">CT</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.2.1:</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">PA</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.3.0/28:</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">65544</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">TX</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4:192.0.3.16/28:</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">65544</td>
              <td class="text-center" colspan="1" rowspan="1">-</td>
              <td class="text-center" colspan="1" rowspan="1">MN</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-10.2-3">The examples in this section use the property "region" for the PID domain of
 the default network map with the following values:<a class="pilcrow" href="#section-10.2-3">¶</a></p>
<span id="name-example-property-values-for-"></span><div id="prop-map-values-pid-ex">
<table class="center" id="table-6">
          <caption>
<a class="selfRef" href="#table-6">Table 6</a>:
<a class="selfRef" href="#name-example-property-values-for-">Example Property Values for Default Network Map's PID Domain</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"> </th>
              <th class="text-left" colspan="1" rowspan="1">region</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:defaultpid:</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:pid1:</td>
              <td class="text-left" colspan="1" rowspan="1">us-west</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:pid2:</td>
              <td class="text-left" colspan="1" rowspan="1">us-east</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:pid3:</td>
              <td class="text-left" colspan="1" rowspan="1">us-south</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:pid4:</td>
              <td class="text-left" colspan="1" rowspan="1">us-north</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-10.2-5">Note that "-" means the value of the property for the entity is "undefined". So
 the entity would inherit a value for this property by the inheritance rule if
 possible. For example, the value of the "ISP" property for "ipv4:192.0.2.1" is
 "BitsRus" because of "ipv4:192.0.2.0/24". But the "region" property for
 "pid:defaultpid" has no value because there is no entity from which it can inherit.<a class="pilcrow" href="#section-10.2-5">¶</a></p>
<p id="section-10.2-6">Similar to the PID domain of the default network map, the examples in this
 section use the property "ASN" for the PID domain of the alternative network map
 with the following values:<a class="pilcrow" href="#section-10.2-6">¶</a></p>
<span id="name-example-property-values-for-a"></span><div id="alt-prop-map-values-pid-ex">
<table class="center" id="table-7">
          <caption>
<a class="selfRef" href="#table-7">Table 7</a>:
<a class="selfRef" href="#name-example-property-values-for-a">Example Property Values for Alternative Network Map's PID Domain</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"> </th>
              <th class="text-left" colspan="1" rowspan="1">ASN</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:defaultpid:</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:pid1:</td>
              <td class="text-left" colspan="1" rowspan="1">65543</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid:pid2:</td>
              <td class="text-left" colspan="1" rowspan="1">65544</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="ird-example">
<section id="section-10.3">
        <h3 id="name-information-resource-direct">
<a class="section-number selfRef" href="#section-10.3">10.3. </a><a class="section-name selfRef" href="#name-information-resource-direct">Information Resource Directory (IRD)</a>
        </h3>
<p id="section-10.3-1">The following IRD defines ALTO Server information resources that are relevant
 to the Entity Property Service. It provides a property map for the
 "ISP" and "ASN" properties. 
 The server could have provided a single property map for all four
 properties, but it does not, presumably because the organization that runs the
 ALTO server believes that a client is not necessarily interested in getting
 all four properties.<a class="pilcrow" href="#section-10.3-1">¶</a></p>
<p id="section-10.3-2">The server provides several filtered property maps. The first returns all
 four properties, and the second returns only the "pid" property for the
 default network map and the "alt-network-map".<a class="pilcrow" href="#section-10.3-2">¶</a></p>
<p id="section-10.3-3">The filtered property maps for the "ISP", "ASN", "countrycode", and "state"
 properties do not depend on the default network map (it does not have a
 "uses" capability) because the definitions of those properties do not depend
 on the default network map. The filtered property map providing the "pid"
 property does have a "uses" capability for the default network map because
 the default network map defines the values of the "pid" property.<a class="pilcrow" href="#section-10.3-3">¶</a></p>
<p id="section-10.3-4">Note that for legacy clients, the ALTO server provides an Endpoint Property
 Service for the "pid" property defined for the endpoints of the default
 network map and the "alt-network-map".<a class="pilcrow" href="#section-10.3-4">¶</a></p>
<p id="section-10.3-5">The server provides another filtered Property map resource, named
 "ane-dc-property-map", that returns fictitious properties named
 "storage-capacity", "ram", and "cpu" for ANEs that have a persistent
 identifier. The entity domain to which the ANEs belong is self-defined and
 valid only within the property map.<a class="pilcrow" href="#section-10.3-5">¶</a></p>
<p id="section-10.3-6">The other property maps in the returned IRD are shown here for purposes of illustration.<a class="pilcrow" href="#section-10.3-6">¶</a></p>
<span id="name-example-ird"></span><div id="example-ird">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-10.3-7.1">
<pre> GET /directory HTTP/1.1
 Host: alto.example.com
 Accept: application/alto-directory+json,application/alto-error+json

 HTTP/1.1 200 OK
 Content-Length: 2713
 Content-Type: application/alto-directory+json

 {
   "meta" : {
     "default-alto-network-map" : "default-network-map"
   },
   "resources" : {
     "default-network-map" : {
       "uri" : "http://alto.example.com/networkmap/default",
       "media-type" : "application/alto-networkmap+json"
     },
     "alt-network-map" : {
       "uri" : "http://alto.example.com/networkmap/alt",
       "media-type" : "application/alto-networkmap+json"
     },
     "ia-property-map" : {
       "uri" : "http://alto.example.com/propmap/full/inet-ia",
       "media-type" : "application/alto-propmap+json",
       "capabilities" : {
         "mappings": {
           "ipv4": [ ".ISP", ".ASN" ],
           "ipv6": [ ".ISP", ".ASN" ]
         }
       }
     },
     "iacs-property-map" : {
       "uri" : "http://alto.example.com/propmap/lookup/inet-iacs",
       "media-type" : "application/alto-propmap+json",
       "accepts": "application/alto-propmapparams+json",
       "capabilities" : {
         "mappings": {
           "ipv4": [ ".ISP", ".ASN", ".countrycode", ".state" ],
           "ipv6": [ ".ISP", ".ASN", ".countrycode", ".state" ]
         }
       }
     },
     "region-property-map": {
       "uri": "http://alto.example.com/propmap/lookup/region",
       "media-type": "application/alto-propmap+json",
       "accepts": "application/alto-propmapparams+json",
       "uses" : [ "default-network-map", "alt-network-map" ],
       "capabilities": {
         "mappings": {
           "default-network-map.pid": [ ".region" ],
           "alt-network-map.pid": [ ".ASN" ]
         }
       }
     },
     "ip-pid-property-map" : {
       "uri" : "http://alto.example.com/propmap/lookup/pid",
       "media-type" : "application/alto-propmap+json",
       "accepts" : "application/alto-propmapparams+json",
       "uses" : [ "default-network-map", "alt-network-map" ],
       "capabilities" : {
         "mappings": {
           "ipv4": [ "default-network-map.pid",
                     "alt-network-map.pid" ],
           "ipv6": [ "default-network-map.pid",
                     "alt-network-map.pid" ]
         }
       }
     },
     "legacy-endpoint-property" : {
       "uri" : "http://alto.example.com/legacy/eps-pid",
       "media-type" : "application/alto-endpointprop+json",
       "accepts" : "application/alto-endpointpropparams+json",
       "capabilities" : {
         "properties" : [ "default-network-map.pid",
                          "alt-network-map.pid" ]
       }
     },
     "ane-dc-property-map": {
       "uri" : "http://alto.example.com/propmap/lookup/ane-dc",
       "media-type" : "application/alto-propmap+json",
       "accepts": "application/alto-propmapparams+json",
       "capabilities": {
         "mappings": {
           ".ane" : [ "storage-capacity", "ram", "cpu" ]
         }
       }
     }
   }
 }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-example-ird">Example IRD</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="prop-map-example">
<section id="section-10.4">
        <h3 id="name-full-property-map-example">
<a class="section-number selfRef" href="#section-10.4">10.4. </a><a class="section-name selfRef" href="#name-full-property-map-example">Full Property Map Example</a>
        </h3>
<p id="section-10.4-1">The following example uses the properties and IRD defined in
 <a class="xref" href="#ird-example">Section 10.3</a> to retrieve a property map for 
 entities with the "ISP" and "ASN" properties.<a class="pilcrow" href="#section-10.4-1">¶</a></p>
<p id="section-10.4-2">Note that, to be compact, the response does not include the entity
 "ipv4:192.0.2.1" because values of all those properties for this entity are
 inherited from other entities.<a class="pilcrow" href="#section-10.4-2">¶</a></p>
<p id="section-10.4-3">Also note that the entities "ipv4:192.0.2.0/28" and "ipv4:192.0.2.16/28" are
 merged into "ipv4:192.0.2.0/27" because they have the same value of the
 "ASN" property. The same rule applies to the entities "ipv4:192.0.3.0/28" and
 "ipv4:192.0.3.16/28". Both "ipv4:192.0.2.0/27" and "ipv4:192.0.3.0/27" omit
 the value for the "ISP" property because it is inherited from
 "ipv4:192.0.2.0/23".<a class="pilcrow" href="#section-10.4-3">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.4-4">
<pre>GET /propmap/full/inet-ia HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
</pre><a class="pilcrow" href="#section-10.4-4">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-10.4-5">
<pre>HTTP/1.1 200 OK
Content-Length: 418
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.0/23":   {".ISP": "BitsRus"},
    "ipv4:192.0.2.0/27":   {".ASN": "65543"},
    "ipv4:192.0.3.0/27":   {".ASN": "65544"}
  }
}
</pre><a class="pilcrow" href="#section-10.4-5">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-1">
<section id="section-10.5">
        <h3 id="name-filtered-property-map-examp">
<a class="section-number selfRef" href="#section-10.5">10.5. </a><a class="section-name selfRef" href="#name-filtered-property-map-examp">Filtered Property Map Example #1</a>
        </h3>
<p id="section-10.5-1">The following example uses the filtered property map resource to request the
 "ISP", "ASN", and "state" properties for several IPv4 addresses.<a class="pilcrow" href="#section-10.5-1">¶</a></p>
<p id="section-10.5-2">Note that the value of "state" for "ipv4:192.0.2.1" is the only explicitly
 defined property; the other values are all derived from the inheritance rules
 for Internet address entities.<a class="pilcrow" href="#section-10.5-2">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.5-3">
<pre>POST /propmap/lookup/inet-iacs HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 158
Content-Type: application/alto-propmapparams+json

{
  "entities" : [ "ipv4:192.0.2.0",
                 "ipv4:192.0.2.1",
                 "ipv4:192.0.2.17" ],
  "properties" : [ ".ISP", ".ASN", ".state" ]
}
</pre><a class="pilcrow" href="#section-10.5-3">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-10.5-4">
<pre>HTTP/1.1 200 OK
Content-Length: 540
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.0":
           {".ISP": "BitsRus", ".ASN": "65543", ".state": "NJ"},
    "ipv4:192.0.2.1":
           {".ISP": "BitsRus", ".ASN": "65543", ".state": "PA"},
    "ipv4:192.0.2.17":
           {".ISP": "BitsRus", ".ASN": "65543", ".state": "CT"}
  }
}
</pre><a class="pilcrow" href="#section-10.5-4">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-2">
<section id="section-10.6">
        <h3 id="name-filtered-property-map-exampl">
<a class="section-number selfRef" href="#section-10.6">10.6. </a><a class="section-name selfRef" href="#name-filtered-property-map-exampl">Filtered Property Map Example #2</a>
        </h3>
<p id="section-10.6-1">The following example uses the filtered property map resource to request the
 "ASN", "countrycode", and "state" properties for several IPv4 prefixes.<a class="pilcrow" href="#section-10.6-1">¶</a></p>
<p id="section-10.6-2">Note that the property values for both entities "ipv4:192.0.2.0/26" and
 "ipv4:192.0.3.0/26" are not explicitly defined. They are inherited from the
 entity "ipv4:192.0.2.0/23".<a class="pilcrow" href="#section-10.6-2">¶</a></p>
<p id="section-10.6-3">Also note that some entities like "ipv4:192.0.2.0/28" and
 "ipv4:192.0.2.16/28" in the response are not explicitly listed in the
 request. The response includes them because they are refinements of the
 requested entities and have different values for the requested properties.<a class="pilcrow" href="#section-10.6-3">¶</a></p>
<p id="section-10.6-4">The entity "ipv4:192.0.4.0/26" is not included in the response because there
 are neither entities from which it is inherited, nor entities inherited from
 it.<a class="pilcrow" href="#section-10.6-4">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.6-5">
<pre>POST /propmap/lookup/inet-iacs HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 174
Content-Type: application/alto-propmapparams+json

{
  "entities" : [ "ipv4:192.0.2.0/26",
                 "ipv4:192.0.3.0/26",
                 "ipv4:192.0.4.0/26" ],
  "properties" : [ ".ASN", ".countrycode", ".state" ]
}
</pre><a class="pilcrow" href="#section-10.6-5">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-10.6-6">
<pre>HTTP/1.1 200 OK
Content-Length: 774
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.0/26":  {".countrycode": "us"},
    "ipv4:192.0.2.0/28":  {".ASN": "65543",
                           ".state": "NJ"},
    "ipv4:192.0.2.16/28": {".ASN": "65543",
                           ".state": "CT"},
    "ipv4:192.0.2.1":     {".state": "PA"},
    "ipv4:192.0.3.0/26":  {".countrycode": "us"},
    "ipv4:192.0.3.0/28":  {".ASN": "65544",
                           ".state": "TX"},
    "ipv4:192.0.3.16/28": {".ASN": "65544",
                           ".state": "MN"}
  }
}
</pre><a class="pilcrow" href="#section-10.6-6">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-3">
<section id="section-10.7">
        <h3 id="name-filtered-property-map-example">
<a class="section-number selfRef" href="#section-10.7">10.7. </a><a class="section-name selfRef" href="#name-filtered-property-map-example">Filtered Property Map Example #3</a>
        </h3>
<p id="section-10.7-1">The following example uses the filtered property map resource to request the
"default-network-map.pid" property and the "alt-network-map.pid" property for
a set of IPv4 addresses and prefixes.<a class="pilcrow" href="#section-10.7-1">¶</a></p>
<p id="section-10.7-2">Note that the entity "ipv4:192.0.3.0/27" is decomposed into two entities:
"ipv4:192.0.3.0/28" and "ipv4:192.0.3.16/28", as they have different
"default-network-map.pid" property values.<a class="pilcrow" href="#section-10.7-2">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.7-3">
<pre>POST /propmap/lookup/pid HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 222
Content-Type: application/alto-propmapparams+json

{
  "entities" : [
                "ipv4:192.0.2.128",
                "ipv4:192.0.2.0/27",
                "ipv4:192.0.3.0/27" ],
  "properties" : [ "default-network-map.pid",
                   "alt-network-map.pid" ]
}
</pre><a class="pilcrow" href="#section-10.7-3">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-10.7-4">
<pre>HTTP/1.1 200 OK
Content-Length: 774
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.128":   {"default-network-map.pid": "defaultpid",
                           "alt-network-map.pid": "defaultpid"},
    "ipv4:192.0.2.0/27":  {"default-network-map.pid": "pid2",
                           "alt-network-map.pid": "pid1"},
    "ipv4:192.0.3.0/28":  {"default-network-map.pid": "pid3",
                           "alt-network-map.pid": "pid2"},
    "ipv4:192.0.3.16/28": {"default-network-map.pid": "pid4",
                           "alt-network-map.pid": "pid2"}
  }
}
</pre><a class="pilcrow" href="#section-10.7-4">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-4">
<section id="section-10.8">
        <h3 id="name-filtered-property-map-example-">
<a class="section-number selfRef" href="#section-10.8">10.8. </a><a class="section-name selfRef" href="#name-filtered-property-map-example-">Filtered Property Map Example #4</a>
        </h3>
<p id="section-10.8-1">Here is an example of using the filtered property map to query the regions
for several PIDs in "default-network-map". The "region" property is specified
as a self-defined property, i.e., the values of this property are defined
by this property map resource.<a class="pilcrow" href="#section-10.8-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.8-2">
<pre>POST /propmap/lookup/region HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 132
Content-Type: application/alto-propmapparams+json

{
  "entities" : ["default-network-map.pid:pid1",
                "default-network-map.pid:pid2"],
  "properties" : [ ".region" ]
}
</pre><a class="pilcrow" href="#section-10.8-2">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-10.8-3">
<pre>HTTP/1.1 200 OK
Content-Length: 326
Content-Type: application/alto-propmap+json

{
  "meta" : {
    "dependent-vtags" : [
       {"resource-id": "default-network-map",
        "tag": "7915dc0290c2705481c491a2b4ffbec482b3cf62"}
    ]
  },
  "property-map": {
    "default-network-map.pid:pid1": {
      ".region": "us-west"
    },
    "default-network-map.pid:pid2": {
      ".region": "us-east"
    }
  }
}
</pre><a class="pilcrow" href="#section-10.8-3">¶</a>
</div>
</section>
</div>
<div id="ane-example">
<section id="section-10.9">
        <h3 id="name-filtered-property-map-for-a">
<a class="section-number selfRef" href="#section-10.9">10.9. </a><a class="section-name selfRef" href="#name-filtered-property-map-for-a">Filtered Property Map for ANEs Example #5</a>
        </h3>
<p id="section-10.9-1">The following example uses the filtered property map resource
"ane-dc-property-map" to request properties "storage-capacity" and "cpu" on
several ANEs defined in this property map.<a class="pilcrow" href="#section-10.9-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.9-2">
<pre>POST /propmap/lookup/ane-dc HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 155
Content-Type: application/alto-propmapparams+json

{
  "entities" : [".ane:dc21",
                ".ane:dc45-srv9",
                ".ane:dc6-srvcluster8"],
  "properties" : [ "storage-capacity", "cpu"]
}
</pre><a class="pilcrow" href="#section-10.9-2">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-10.9-3">
<pre>HTTP/1.1 200 OK
Content-Length: 295
Content-Type: application/alto-propmap+json

{
  "meta" : {
  },
  "property-map": {
    ".ane:dc21":
      {"storage-capacity" : 40000, "cpu" : 500},
    ".ane:dc45-srv9":
      {"storage-capacity" : 100, "cpu" : 20},
    ".ane:dc6-srvcluster8":
      {"storage-capacity" : 6000, "cpu" : 100}
  }
}
</pre><a class="pilcrow" href="#section-10.9-3">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="SecSC">
<section id="section-11">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-11-1">Both property map and filtered property map defined in this document fit into
the architecture of the ALTO base protocol, and hence the Security
Considerations (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15">Section 15</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>) of the base protocol fully apply:
authenticity and integrity of ALTO information (i.e., authenticity and
integrity of property maps), potential undesirable guidance from
authenticated ALTO information (e.g., potentially imprecise or even wrong
value of a property such as geo-location), confidentiality of ALTO
information (e.g., exposure of a potentially sensitive entity property such
as geo-location), privacy for ALTO users, and availability of ALTO services
should all be considered.<a class="pilcrow" href="#section-11-1">¶</a></p>
<p id="section-11-2">ALTO clients using this extension should in addition be aware that the entity
 properties they require may convey more details than the endpoint properties
 conveyed by using <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. 
 Client requests may reveal details of their
 activity or plans thereof such that a malicious Server, which is in a position to do so,
 may monetize or use for
 attacks or undesired surveillance. Likewise, ALTO Servers expose entities and
 properties related to specific parts of the infrastructure that reveal
 details of capabilities, locations, or resource availability. These details
 may be maliciously used for competition purposes, or to cause resource
 shortage or undesired publication.<a class="pilcrow" href="#section-11-2">¶</a></p>
<p id="section-11-3">To address these concerns, the property maps provided by this extension
require additional attention to two security considerations discussed in:
Section <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.2">15.2</a> (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.2">"Potential Undesirable Guidance from Authenticated ALTO Information"</a>)</span> of <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span> 
and Section <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.3">15.3</a> (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.3">"Confidentiality of ALTO
Information"</a>)</span> of <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. Threats to the availability of
the ALTO service caused by highly demanding queries should be addressed as
specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.5">Section 15.5</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-11-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-4.1">
          <p id="section-11-4.1.1">Potential undesirable guidance from authenticated ALTO information: this can
be caused by Property values that change over time and thus lead to
performance degradation or system rejection of application requests.<a class="pilcrow" href="#section-11-4.1.1">¶</a></p>
<p id="section-11-4.1.2">
To avoid these consequences, a more robust ALTO client should adopt and
  extend protection strategies specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15.2">Section 15.2</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.
  For example, to be notified immediately when a particular ALTO value that
  the Client depends on changes, it is <span class="bcp14">RECOMMENDED</span> that both the ALTO
  Client and ALTO Server using this extension implement
  "<a class="xref" href="#RFC8895">Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)</a>" <span>[<a class="xref" href="#RFC8895">RFC8895</a>]</span>.<a class="pilcrow" href="#section-11-4.1.2">¶</a></p>
</li>
        <li class="normal" id="section-11-4.2">
          <p id="section-11-4.2.1">Confidentiality of ALTO information: as discussed in 
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15">Section 15</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>, properties may have sensitive customer-specific information.
If this is the case, an ALTO Server may limit access to those properties by
providing several different property maps. For a nonsensitive properties,
the ALTO Server would provide a URI that accepts requests from any client.
Sensitive properties, on the other hand, would only be available via a
secure URI that would require client authentication. Another way is to
expose highly abstracted, coarse-grained property values to all Clients while
restricting access to URIs that expose more fine-grained values to authorized
Clients. Restricted access URIs may be gathered in delegate IRDs as
specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-9.2.4">Section 9.2.4</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-11-4.2.1">¶</a></p>
<p id="section-11-4.2.2">
Also, while technically this document does not introduce any security
  risks not inherent in the Endpoint Property Service defined by <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>,
  the GET-mode property map resource defined in this document does make it
  easier for a client to download large numbers of property values.
  Accordingly, an ALTO Server should limit GET-mode property maps to
  properties that do not contain sensitive data.<a class="pilcrow" href="#section-11-4.2.2">¶</a></p>
<p id="section-11-4.2.3">
  <a class="xref" href="#iana-considerations">Section 12</a> of this document specifies that the ALTO service
  provider <span class="bcp14">MUST</span> be aware of the potential sensitivity of exposed entity
  domains and properties. <a class="xref" href="#dom-reg-process">Section 12.3.2</a> (<a class="xref" href="#dom-reg-process">ALTO Entity Domain Type Registration Process</a>)
  of this document specifies that when the
  registration of an entity domain type is requested of IANA, the
  request <span class="bcp14">MUST</span> include security considerations that show awareness of how
  the exposed entity addresses may be related to private information about
  an ALTO client or an infrastructure service provider. Likewise, 
  <a class="xref" href="#IANAEntityProp">Section 12.4</a> (<a class="xref" href="#IANAEntityProp">ALTO Entity Property Types Registry</a>) of this document specifies
  that when the registration of a property type is requested of IANA,
  the request <span class="bcp14">MUST</span> include security considerations that explain why this
  property type is required for ALTO-based operations.<a class="pilcrow" href="#section-11-4.2.3">¶</a></p>
<p id="section-11-4.2.4">
The risk of ALTO information being leaked to malicious Clients or third
  parties is addressed similarly to <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8896#section-7">Section 7</a> of [<a class="xref" href="#RFC8896">RFC8896</a>]</span>. ALTO
  clients and servers <span class="bcp14">SHOULD</span> support TLS 1.3 <span>[<a class="xref" href="#RFC8446">RFC8446</a>]</span>.<a class="pilcrow" href="#section-11-4.2.4">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="iana-considerations">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-12">12. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-12-1">This document defines additional application/alto-* media types, which are 
       listed in <a class="xref" href="#TableMediaTypes">Table 8</a>.
      It defines
 the "ALTO Entity Domain Types" registry that extends the "ALTO Address Types"
 registry defined in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. 
 It also defines the "ALTO Entity Property Types"
 registry that extends the "ALTO Endpoint Property Types" registry defined in
 <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-12-1">¶</a></p>
<span id="name-additional-alto-media-types"></span><div id="TableMediaTypes">
<table class="center" id="table-8">
        <caption>
<a class="selfRef" href="#table-8">Table 8</a>:
<a class="selfRef" href="#name-additional-alto-media-types">Additional ALTO Media Types</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Type</th>
            <th class="text-left" colspan="1" rowspan="1">Subtype</th>
            <th class="text-left" colspan="1" rowspan="1">Specification</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">application</td>
            <td class="text-left" colspan="1" rowspan="1">alto-propmap+json</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#FullPropMapMediaType">Section 7.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">application</td>
            <td class="text-left" colspan="1" rowspan="1">alto-propmapparams+json</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#filter-prop-map-params">Section 8.3</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="application-alto-propmap-media-type">
<section id="section-12.1">
        <h3 id="name-application-alto-propmapjso">
<a class="section-number selfRef" href="#section-12.1">12.1. </a><a class="section-name selfRef" href="#name-application-alto-propmapjso">application/alto-propmap+json Media Type</a>
        </h3>
<span class="break"></span><dl class="dlNewline" id="section-12.1-1">
          <dt id="section-12.1-1.1">Type name:</dt>
          <dd id="section-12.1-1.2" style="margin-left: 1.5em">application<a class="pilcrow" href="#section-12.1-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.3">Subtype name:</dt>
          <dd id="section-12.1-1.4" style="margin-left: 1.5em">alto-propmap+json<a class="pilcrow" href="#section-12.1-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.5">Required parameters:</dt>
          <dd id="section-12.1-1.6" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.7">Optional parameters:</dt>
          <dd id="section-12.1-1.8" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.9">Encoding considerations:</dt>
          <dd id="section-12.1-1.10" style="margin-left: 1.5em">Encoding considerations are identical to those specified for the
 "application/json" media type. See <span>[<a class="xref" href="#RFC8259">RFC8259</a>]</span>.<a class="pilcrow" href="#section-12.1-1.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.11">Security considerations:</dt>
          <dd id="section-12.1-1.12" style="margin-left: 1.5em">Security considerations related to the generation and consumption of ALTO
 Protocol messages are discussed in 
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15">Section 15</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> 
 and <a class="xref" href="#SecSC">Section 11</a> of this document.<a class="pilcrow" href="#section-12.1-1.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.13">Interoperability considerations:</dt>
          <dd id="section-12.1-1.14" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.15">Published specification:</dt>
          <dd id="section-12.1-1.16" style="margin-left: 1.5em">
          This document is the specification for this media type.
          See <a class="xref" href="#FullPropMapMediaType">Section 7.1</a>.<a class="pilcrow" href="#section-12.1-1.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.17">Applications that use this media type:</dt>
          <dd id="section-12.1-1.18" style="margin-left: 1.5em">ALTO servers and ALTO clients <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>,  
          either standalone or embedded within other applications, 
          when the queried resource is a property map, whether filtered or not.<a class="pilcrow" href="#section-12.1-1.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.19">Fragment identifier considerations:</dt>
          <dd id="section-12.1-1.20" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.21">Additional information:</dt>
          <dd id="section-12.1-1.22" style="margin-left: 1.5em">
            <span class="break"></span><dl class="dlParallel" id="section-12.1-1.22.1">
              <dt id="section-12.1-1.22.1.1">Magic number(s):</dt>
              <dd id="section-12.1-1.22.1.2" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.22.1.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1-1.22.1.3">File extension(s):</dt>
              <dd id="section-12.1-1.22.1.4" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.22.1.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1-1.22.1.5">Macintosh file type code(s):</dt>
              <dd id="section-12.1-1.22.1.6" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.22.1.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.23">Person &amp; email address to contact for further information:</dt>
          <dd id="section-12.1-1.24" style="margin-left: 1.5em">See Authors' Addresses section.<a class="pilcrow" href="#section-12.1-1.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.25">Intended usage:</dt>
          <dd id="section-12.1-1.26" style="margin-left: 1.5em">COMMON<a class="pilcrow" href="#section-12.1-1.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.27">Restrictions on usage:</dt>
          <dd id="section-12.1-1.28" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.1-1.28">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.29">Author:</dt>
          <dd id="section-12.1-1.30" style="margin-left: 1.5em">See Authors' Addresses section.<a class="pilcrow" href="#section-12.1-1.30">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.31">Change controller:</dt>
          <dd id="section-12.1-1.32" style="margin-left: 1.5em">Internet Engineering Task Force (iesg@ietf.org).<a class="pilcrow" href="#section-12.1-1.32">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="application-alto-propmapparams-media-type">
<section id="section-12.2">
        <h3 id="name-alto-propmapparamsjson-medi">
<a class="section-number selfRef" href="#section-12.2">12.2. </a><a class="section-name selfRef" href="#name-alto-propmapparamsjson-medi">alto-propmapparams+json Media Type</a>
        </h3>
<span class="break"></span><dl class="dlNewline" id="section-12.2-1">
          <dt id="section-12.2-1.1">Type name:</dt>
          <dd id="section-12.2-1.2" style="margin-left: 1.5em">application<a class="pilcrow" href="#section-12.2-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.3">Subtype name:</dt>
          <dd id="section-12.2-1.4" style="margin-left: 1.5em">alto-propmapparams+json<a class="pilcrow" href="#section-12.2-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.5">Required parameters:</dt>
          <dd id="section-12.2-1.6" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.7">Optional parameters:</dt>
          <dd id="section-12.2-1.8" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.9">Encoding considerations:</dt>
          <dd id="section-12.2-1.10" style="margin-left: 1.5em">Encoding considerations are identical to those specified for the
 "application/json" media type. See <span>[<a class="xref" href="#RFC8259">RFC8259</a>]</span>.<a class="pilcrow" href="#section-12.2-1.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.11">Security considerations:</dt>
          <dd id="section-12.2-1.12" style="margin-left: 1.5em">Security considerations related to the generation and consumption of ALTO
 Protocol messages are discussed in 
 <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-15">Section 15</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span> 
 and <a class="xref" href="#SecSC">Section 11</a> of this document.<a class="pilcrow" href="#section-12.2-1.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.13">Interoperability considerations:</dt>
          <dd id="section-12.2-1.14" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.15">Published specification:</dt>
          <dd id="section-12.2-1.16" style="margin-left: 1.5em">
          This document is the specification for this media type.
          See <a class="xref" href="#filter-prop-map-params">Section 8.3</a>.<a class="pilcrow" href="#section-12.2-1.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.17">Applications that use this media type:</dt>
          <dd id="section-12.2-1.18" style="margin-left: 1.5em">ALTO servers and ALTO clients <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>,  
          either standalone or embedded within other applications, 
          when the queried resource is a filtered property map. 
          This media type indicates the data format used by the ALTO client to supply the property map 
          filtering parameters.<a class="pilcrow" href="#section-12.2-1.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.19">Fragment identifier considerations:</dt>
          <dd id="section-12.2-1.20" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.21">Additional information:</dt>
          <dd id="section-12.2-1.22" style="margin-left: 1.5em">
            <span class="break"></span><dl class="dlParallel" id="section-12.2-1.22.1">
              <dt id="section-12.2-1.22.1.1">Magic number(s):</dt>
              <dd id="section-12.2-1.22.1.2" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.22.1.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.2-1.22.1.3">File extension(s):</dt>
              <dd id="section-12.2-1.22.1.4" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.22.1.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-12.2-1.22.1.5">Macintosh file type code(s):</dt>
              <dd id="section-12.2-1.22.1.6" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.22.1.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.23">Person &amp; email address to contact for further information:</dt>
          <dd id="section-12.2-1.24" style="margin-left: 1.5em">See Authors' Addresses section.<a class="pilcrow" href="#section-12.2-1.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.25">Intended usage:</dt>
          <dd id="section-12.2-1.26" style="margin-left: 1.5em">COMMON<a class="pilcrow" href="#section-12.2-1.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.27">Restrictions on usage:</dt>
          <dd id="section-12.2-1.28" style="margin-left: 1.5em">n/a<a class="pilcrow" href="#section-12.2-1.28">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.29">Author:</dt>
          <dd id="section-12.2-1.30" style="margin-left: 1.5em">See Authors' Addresses section.<a class="pilcrow" href="#section-12.2-1.30">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.31">Change controller:</dt>
          <dd id="section-12.2-1.32" style="margin-left: 1.5em">Internet Engineering Task Force (iesg@ietf.org).<a class="pilcrow" href="#section-12.2-1.32">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="IANADomain">
<section id="section-12.3">
        <h3 id="name-alto-entity-domain-types-re">
<a class="section-number selfRef" href="#section-12.3">12.3. </a><a class="section-name selfRef" href="#name-alto-entity-domain-types-re">ALTO Entity Domain Types Registry</a>
        </h3>
<p id="section-12.3-1">IANA has created and will maintain the "ALTO Entity Domain Types"
 registry listed in <a class="xref" href="#TableEntityDomainNames">Table 9</a>.  
 The first row lists information items that must be provided with each 
 registered entity domain type. 
 <a class="xref" href="#dom-reg-process">Section 12.3.2</a> specifies how to document
 these items and in addition provides guidance on the security considerations item that must 
 be documented.<a class="pilcrow" href="#section-12.3-1">¶</a></p>
<span id="name-alto-entity-domain-types"></span><div id="TableEntityDomainNames">
<table class="center" id="table-9">
          <caption>
<a class="selfRef" href="#table-9">Table 9</a>:
<a class="selfRef" href="#name-alto-entity-domain-types">ALTO Entity Domain Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Identifier</th>
              <th class="text-left" colspan="1" rowspan="1">Entity Identifier Encoding</th>
              <th class="text-left" colspan="1" rowspan="1">Hierarchy and Inheritance</th>
              <th class="text-left" colspan="1" rowspan="1">Media Type of Defining Resource</th>
              <th class="text-left" colspan="1" rowspan="1">Mapping to ALTO Address Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv4</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#ipv4-domain">Section 6.1.1</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#inet-inheritance">Section 6.1.3</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-networkmap+json</td>
              <td class="text-left" colspan="1" rowspan="1">true</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ipv6</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#ipv6-domain">Section 6.1.2</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#inet-inheritance">Section 6.1.3</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-networkmap+json</td>
              <td class="text-left" colspan="1" rowspan="1">true</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid</td>
              <td class="text-left" colspan="1" rowspan="1">See <a class="xref" href="#pid-domain">Section 6.2</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">None</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-networkmap+json</td>
              <td class="text-left" colspan="1" rowspan="1">false</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-12.3-3">This registry serves two purposes. First, it ensures uniqueness of
identifiers referring to ALTO entity domain types. Second, it states the
requirements for allocated entity domain types.<a class="pilcrow" href="#section-12.3-3">¶</a></p>
<p id="section-12.3-4"> 
As specified in <a class="xref" href="#domain-types">Section 5.1.1</a>, identifiers prefixed 
with "priv:" are reserved for Private Use without a need to register with IANA<a class="pilcrow" href="#section-12.3-4">¶</a></p>
<div id="consistency-procedure">
<section id="section-12.3.1">
          <h4 id="name-consistency-procedure-betwe">
<a class="section-number selfRef" href="#section-12.3.1">12.3.1. </a><a class="section-name selfRef" href="#name-consistency-procedure-betwe">Consistency Procedure between ALTO Address Types Registry and ALTO Entity Domain Types Registry</a>
          </h4>
<p id="section-12.3.1-1">One potential issue of introducing the "ALTO Entity Domain Types" registry is
its relationship with the "ALTO Address Types" registry already defined in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-14.4">Section 14.4</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. In particular, the entity identifier of a type
of an entity domain registered in the "ALTO Entity Domain Types" registry <span class="bcp14">MAY</span>
match an address type defined in "ALTO Address Types" registry. It is
necessary to precisely define and guarantee the consistency between "ALTO
Address Types" registry and "ALTO Entity Domain Types" registry.<a class="pilcrow" href="#section-12.3.1-1">¶</a></p>
<p id="section-12.3.1-2">We define that the "ALTO Entity Domain Types" registry is consistent with "ALTO
Address Types" registry if two conditions are satisfied:<a class="pilcrow" href="#section-12.3.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3.1-3.1">When an address type is already registered or is able to be registered in the "ALTO Address
Types" registry <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, the same identifier <span class="bcp14">MUST</span> be used when a
corresponding entity domain type is registered in the "ALTO Entity Domain Types"
registry.<a class="pilcrow" href="#section-12.3.1-3.1">¶</a>
</li>
            <li class="normal" id="section-12.3.1-3.2">If an ALTO entity domain type has the same identifier as an ALTO address type,
their address encodings <span class="bcp14">MUST</span> be compatible.<a class="pilcrow" href="#section-12.3.1-3.2">¶</a>
</li>
          </ul>
<p id="section-12.3.1-4">To achieve this consistency, the following items <span class="bcp14">MUST</span> be checked before
registering a new ALTO entity domain type in a future document:<a class="pilcrow" href="#section-12.3.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3.1-5.1">Whether the "ALTO Address Types" registry contains an address type that can be
used as an identifier for the candidate entity domain type identifier. This has been
done for the identifiers "ipv4" and "ipv6" of <a class="xref" href="#TableEntityDomainNames">Table 9</a>.<a class="pilcrow" href="#section-12.3.1-5.1">¶</a>
</li>
            <li class="normal" id="section-12.3.1-5.2">Whether the candidate entity domain type identifier can potentially be an
endpoint address type, as defined in Sections <a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-2.1">2.1</a>
and <a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-2.2">2.2</a> of <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-12.3.1-5.2">¶</a>
</li>
          </ul>
<p id="section-12.3.1-6">When a new ALTO entity domain type is registered, the consistency with the "ALTO
Address Types" registry <span class="bcp14">MUST</span> be ensured by the following procedure:<a class="pilcrow" href="#section-12.3.1-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3.1-7.1">
              <p id="section-12.3.1-7.1.1">Test: Do corresponding entity domain type identifiers match a known "network" address type?<a class="pilcrow" href="#section-12.3.1-7.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3.1-7.1.2.1">
                  <p id="section-12.3.1-7.1.2.1.1">If yes (e.g., cell, MAC, or socket addresses):<a class="pilcrow" href="#section-12.3.1-7.1.2.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3.1-7.1.2.1.2.1">
                      <p id="section-12.3.1-7.1.2.1.2.1.1">Test: Is such an address type present in the "ALTO Address Types"
registry?<a class="pilcrow" href="#section-12.3.1-7.1.2.1.2.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3.1-7.1.2.1.2.1.2.1">If yes: Set the new ALTO entity domain type identifier to be the
found ALTO address type identifier.<a class="pilcrow" href="#section-12.3.1-7.1.2.1.2.1.2.1">¶</a>
</li>
                        <li class="normal" id="section-12.3.1-7.1.2.1.2.1.2.2">If no: Define a new ALTO entity domain type identifier and use it to
register a new address type in the "ALTO Address Types" registry
following <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-14.4">Section 14.4</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-12.3.1-7.1.2.1.2.1.2.2">¶</a>
</li>
                      </ul>
</li>
                    <li class="normal" id="section-12.3.1-7.1.2.1.2.2">Use the new ALTO entity domain type identifier to register a new ALTO
entity domain type in the "ALTO Entity Domain Types" registry following
<a class="xref" href="#dom-reg-process">Section 12.3.2</a> of this document.<a class="pilcrow" href="#section-12.3.1-7.1.2.1.2.2">¶</a>
</li>
                  </ul>
</li>
                <li class="normal" id="section-12.3.1-7.1.2.2">If no (e.g., PID name, ANE name, or "countrycode"): Proceed with the ALTO
Entity Domain Type registration as described in <a class="xref" href="#dom-reg-process">Section 12.3.2</a>.<a class="pilcrow" href="#section-12.3.1-7.1.2.2">¶</a>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="dom-reg-process">
<section id="section-12.3.2">
          <h4 id="name-alto-entity-domain-type-reg">
<a class="section-number selfRef" href="#section-12.3.2">12.3.2. </a><a class="section-name selfRef" href="#name-alto-entity-domain-type-reg">ALTO Entity Domain Type Registration Process</a>
          </h4>
<p id="section-12.3.2-1">New ALTO entity domain types are assigned after IETF Review <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span> to
 ensure that proper documentation regarding the new ALTO entity domain types
 and their security considerations has been provided. RFCs defining new entity
 domain types <span class="bcp14">MUST</span> indicate how an entity in a registered type of domain is
 encoded as an EntityID and, if applicable, provide the rules for defining the entity
 hierarchy and property inheritance. Updates and deletions of ALTO entity
 domains types follow the same procedure.<a class="pilcrow" href="#section-12.3.2-1">¶</a></p>
<p id="section-12.3.2-2">Registered ALTO entity domain type identifiers <span class="bcp14">MUST</span> conform to the
 syntactical requirements specified in <a class="xref" href="#domain-names">Section 5.1.2</a>. 
 Identifiers are to be recorded and displayed as strings.<a class="pilcrow" href="#section-12.3.2-2">¶</a></p>
<p id="section-12.3.2-3">Requests to IANA to add a new value to the "ALTO Entity Domain Types" registry
 <span class="bcp14">MUST</span> include the following information:<a class="pilcrow" href="#section-12.3.2-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-12.3.2-4">
            <dt id="section-12.3.2-4.1">Identifier:</dt>
            <dd id="section-12.3.2-4.2" style="margin-left: 1.5em">The name of the desired ALTO entity domain type.<a class="pilcrow" href="#section-12.3.2-4.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.3.2-4.3">Entity Identifier Encoding:</dt>
            <dd id="section-12.3.2-4.4" style="margin-left: 1.5em">The procedure for encoding the identifier of an
 entity of the registered domain type as an EntityID (see
 <a class="xref" href="#entity-addrs">Section 5.1.3</a>). If corresponding entity identifiers of an entity domain
 type match a known "network" address type, the Entity Identifier Encoding
 of this domain identifier <span class="bcp14">MUST</span> include both Address Encoding and Prefix
 Encoding of the same identifier registered in the "ALTO Address Types"
 registry <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>. To define properties, an individual entity identifier
 and the corresponding full-length prefix <span class="bcp14">MUST</span> be considered aliases for the
 same entity.<a class="pilcrow" href="#section-12.3.2-4.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.3.2-4.5">Hierarchy:</dt>
            <dd id="section-12.3.2-4.6" style="margin-left: 1.5em">If the entities form a hierarchy, the procedure for determining
 that hierarchy.<a class="pilcrow" href="#section-12.3.2-4.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.3.2-4.7">Inheritance:</dt>
            <dd id="section-12.3.2-4.8" style="margin-left: 1.5em">If entities can inherit property values from other entities, the
 procedure for determining that inheritance.<a class="pilcrow" href="#section-12.3.2-4.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.3.2-4.9">Media type of defining information resource:</dt>
            <dd id="section-12.3.2-4.10" style="margin-left: 1.5em">Some entity domain types allow
 an entity domain name to be combined with an information resource name to
 define a resource-specific entity domain. Such an information resource is
 called a "defining information resource" and is 
 defined in <a class="xref" href="#def-ir">Section 4.6</a>. 
 For each entity domain type, the potential defining information resources 
 have one common media type. This unique common media type is specific to 
 the entity domain type and <span class="bcp14">MUST</span> be specified.<a class="pilcrow" href="#section-12.3.2-4.10">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.3.2-4.11">Mapping to ALTO Address Type:</dt>
            <dd id="section-12.3.2-4.12" style="margin-left: 1.5em">A boolean value to indicate if the entity domain
 type can be mapped to the ALTO address type with the same identifier.<a class="pilcrow" href="#section-12.3.2-4.12">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-12.3.2-4.13">Security Considerations:</dt>
            <dd id="section-12.3.2-4.14" style="margin-left: 1.5em">In some usage scenarios, entity identifiers carried in
 ALTO Protocol messages may reveal information about an ALTO client or an ALTO
 service provider. Applications and ALTO service providers using addresses of
 the registered type should be cognizant of how (or if) the addressing scheme
 relates to private information and network proximity.<a class="pilcrow" href="#section-12.3.2-4.14">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-12.3.2-5">IANA has registered the identifiers "ipv4", "ipv6", and
 "pid", as shown in <a class="xref" href="#TableEntityDomainNames">Table 9</a>.<a class="pilcrow" href="#section-12.3.2-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="IANAEntityProp">
<section id="section-12.4">
        <h3 id="name-alto-entity-property-types-">
<a class="section-number selfRef" href="#section-12.4">12.4. </a><a class="section-name selfRef" href="#name-alto-entity-property-types-">ALTO Entity Property Types Registry</a>
        </h3>
<p id="section-12.4-1">IANA has created and will maintain the "ALTO Entity Property
 Types" registry, which is listed in <a class="xref" href="#TablePropertyTypes">Table 10</a>.<a class="pilcrow" href="#section-12.4-1">¶</a></p>
<p id="section-12.4-2">This registry extends the "ALTO Endpoint Property Types" registry, defined in
 <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>, in that a property type is defined for 
 one or more entity domains, rather than just for IPv4 and IPv6 Internet address domains. 
 An entry in this registry is an ALTO entity property type defined in
 <a class="xref" href="#def-property-type">Section 5.2.1</a>. 
 Thus, a registered ALTO entity property type identifier <span class="bcp14">MUST</span> conform to 
 the syntactical requirements specified in that section.<a class="pilcrow" href="#section-12.4-2">¶</a></p>
<p id="section-12.4-3">As specified in <a class="xref" href="#def-property-type">Section 5.2.1</a>, 
 identifiers prefixed with "priv:" are
 reserved for Private Use without a need to register with IANA.<a class="pilcrow" href="#section-12.4-3">¶</a></p>
<p id="section-12.4-4">The first row of <a class="xref" href="#TablePropertyTypes">Table 10</a> lists
    information items that must be provided with each registered entity property type.<a class="pilcrow" href="#section-12.4-4">¶</a></p>
<span id="name-alto-entity-property-types"></span><div id="TablePropertyTypes">
<table class="center" id="table-10">
          <caption>
<a class="selfRef" href="#table-10">Table 10</a>:
<a class="selfRef" href="#name-alto-entity-property-types">ALTO Entity Property Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Identifier</th>
              <th class="text-left" colspan="1" rowspan="1">Intended Semantics</th>
              <th class="text-left" colspan="1" rowspan="1">Media Type of Defining Resource</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">pid</td>
              <td class="text-left" colspan="1" rowspan="1">See <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-7.1.1">Section 7.1.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>
</td>
              <td class="text-left" colspan="1" rowspan="1">application/alto-networkmap+json</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-12.4-6">New ALTO entity property types are assigned after 
 IETF Review <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>
 to ensure that proper documentation regarding the new ALTO entity
 property types and their security considerations has been provided.
 RFCs defining new entity property types <span class="bcp14">SHOULD</span> indicate how a property 
 of a registered type is encoded as a property name. 
 Updates and deletions of ALTO entity property types follow the same procedure.<a class="pilcrow" href="#section-12.4-6">¶</a></p>
<p id="section-12.4-7">Requests to IANA to add a new value to the registry <span class="bcp14">MUST</span> include the
following information:<a class="pilcrow" href="#section-12.4-7">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-12.4-8">
          <dt id="section-12.4-8.1">Identifier:</dt>
          <dd id="section-12.4-8.2" style="margin-left: 1.5em">The identifier for the desired ALTO entity property type. The
format <span class="bcp14">MUST</span> be as defined in <a class="xref" href="#def-property-type">Section 5.2.1</a> of this document.<a class="pilcrow" href="#section-12.4-8.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.4-8.3">Intended Semantics:</dt>
          <dd id="section-12.4-8.4" style="margin-left: 1.5em">ALTO entity properties carry with them semantics to guide
their usage by ALTO clients. Hence, a document defining a new type <span class="bcp14">SHOULD</span>
provide guidance to both ALTO service providers and applications utilizing
ALTO clients as to how values of the registered ALTO entity property should
be interpreted.<a class="pilcrow" href="#section-12.4-8.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.4-8.5">Media type of defining information resource:</dt>
          <dd id="section-12.4-8.6" style="margin-left: 1.5em">when the property type allows
 values to be defined relative to a given information resource, the latter
 is referred to as the "defining information resource"; see the description
 in <a class="xref" href="#def-ir-for-irsp">Section 4.7</a>. 
 For each property type, the potential defining information resources have 
 one common media type. This unique common media type is specific to the 
 property type and <span class="bcp14">MUST</span> be specified.<a class="pilcrow" href="#section-12.4-8.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-12.4-8.7">Security Considerations:</dt>
          <dd id="section-12.4-8.8" style="margin-left: 1.5em">ALTO entity properties expose information to ALTO
clients. ALTO service providers should be cognizant of the security
ramifications related to the exposure of an entity property.<a class="pilcrow" href="#section-12.4-8.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-12.4-9">In security considerations, the request should also discuss the sensitivity
of the information and why it is required for ALTO-based operations.
Regarding this discussion, the request <span class="bcp14">SHOULD</span> follow the recommendations of
the "ALTO Endpoint Property Types" registry in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-14.3">Section 14.3</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-12.4-9">¶</a></p>
<p id="section-12.4-10">IANA has registered the identifier "pid", which is listed in
<a class="xref" href="#TablePropertyTypes">Table 10</a>. Semantics for this property are documented in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7285#section-7.1.1">Section 7.1.1</a> of [<a class="xref" href="#RFC7285">RFC7285</a>]</span>. No security issues related to the exposure of a
"pid" identifier are considered, as it is exposed with the Network Map
Service defined and mandated in <span>[<a class="xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-12.4-10">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-13">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-13">13. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-13.1">13.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="ISO3166-1">[ISO3166-1]</dt>
        <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Codes for the representation of names of countries and their subdivisions -- Part 1: Country codes"</span>, <span class="seriesInfo">ISO 3166-1:2020</span>, <time class="refDate" datetime="2020-08">August 2020</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time class="refDate" datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4291">[RFC4291]</dt>
        <dd>
<span class="refAuthor">Hinden, R.</span> and <span class="refAuthor">S. Deering</span>, <span class="refTitle">"IP Version 6 Addressing Architecture"</span>, <span class="seriesInfo">RFC 4291</span>, <span class="seriesInfo">DOI 10.17487/RFC4291</span>, <time class="refDate" datetime="2006-02">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4291">https://www.rfc-editor.org/info/rfc4291</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4632">[RFC4632]</dt>
        <dd>
<span class="refAuthor">Fuller, V.</span> and <span class="refAuthor">T. Li</span>, <span class="refTitle">"Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan"</span>, <span class="seriesInfo">BCP 122</span>, <span class="seriesInfo">RFC 4632</span>, <span class="seriesInfo">DOI 10.17487/RFC4632</span>, <time class="refDate" datetime="2006-08">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4632">https://www.rfc-editor.org/info/rfc4632</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5952">[RFC5952]</dt>
        <dd>
<span class="refAuthor">Kawamura, S.</span> and <span class="refAuthor">M. Kawashima</span>, <span class="refTitle">"A Recommendation for IPv6 Address Text Representation"</span>, <span class="seriesInfo">RFC 5952</span>, <span class="seriesInfo">DOI 10.17487/RFC5952</span>, <time class="refDate" datetime="2010-08">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5952">https://www.rfc-editor.org/info/rfc5952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time class="refDate" datetime="2014-09">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7285">https://www.rfc-editor.org/info/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time class="refDate" datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time class="refDate" datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8895">[RFC8895]</dt>
      <dd>
<span class="refAuthor">Roome, W.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)"</span>, <span class="seriesInfo">RFC 8895</span>, <span class="seriesInfo">DOI 10.17487/RFC8895</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8895">https://www.rfc-editor.org/info/rfc8895</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-13.2">13.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-alto-path-vector">[PATH-VECTOR]</dt>
        <dd>
<span class="refAuthor">Gao, K.</span>, <span class="refAuthor">Lee, Y.</span>, <span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, Y. R.</span>, and <span class="refAuthor">J. J. Zhang</span>, <span class="refTitle">"An ALTO Extension: Path Vector"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-alto-path-vector-25</span>, <time class="refDate" datetime="2022-03-20">20 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-alto-path-vector-25">https://datatracker.ietf.org/doc/html/draft-ietf-alto-path-vector-25</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3849">[RFC3849]</dt>
        <dd>
<span class="refAuthor">Huston, G.</span>, <span class="refAuthor">Lord, A.</span>, and <span class="refAuthor">P. Smith</span>, <span class="refTitle">"IPv6 Address Prefix Reserved for Documentation"</span>, <span class="seriesInfo">RFC 3849</span>, <span class="seriesInfo">DOI 10.17487/RFC3849</span>, <time class="refDate" datetime="2004-07">July 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3849">https://www.rfc-editor.org/info/rfc3849</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5511">[RFC5511]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refTitle">"Routing Backus-Naur Form (RBNF): A Syntax Used to Form Encoding Rules in Various Routing Protocol Specifications"</span>, <span class="seriesInfo">RFC 5511</span>, <span class="seriesInfo">DOI 10.17487/RFC5511</span>, <time class="refDate" datetime="2009-04">April 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5511">https://www.rfc-editor.org/info/rfc5511</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5737">[RFC5737]</dt>
        <dd>
<span class="refAuthor">Arkko, J.</span>, <span class="refAuthor">Cotton, M.</span>, and <span class="refAuthor">L. Vegoda</span>, <span class="refTitle">"IPv4 Address Blocks Reserved for Documentation"</span>, <span class="seriesInfo">RFC 5737</span>, <span class="seriesInfo">DOI 10.17487/RFC5737</span>, <time class="refDate" datetime="2010-01">January 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5737">https://www.rfc-editor.org/info/rfc5737</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7921">[RFC7921]</dt>
        <dd>
<span class="refAuthor">Atlas, A.</span>, <span class="refAuthor">Halpern, J.</span>, <span class="refAuthor">Hares, S.</span>, <span class="refAuthor">Ward, D.</span>, and <span class="refAuthor">T. Nadeau</span>, <span class="refTitle">"An Architecture for the Interface to the Routing System"</span>, <span class="seriesInfo">RFC 7921</span>, <span class="seriesInfo">DOI 10.17487/RFC7921</span>, <time class="refDate" datetime="2016-06">June 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7921">https://www.rfc-editor.org/info/rfc7921</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8896">[RFC8896]</dt>
        <dd>
<span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, R.</span>, <span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Deng, L.</span>, and <span class="refAuthor">N. Schwan</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Cost Calendar"</span>, <span class="seriesInfo">RFC 8896</span>, <span class="seriesInfo">DOI 10.17487/RFC8896</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8896">https://www.rfc-editor.org/info/rfc8896</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9241">[RFC9241]</dt>
      <dd>
<span class="refAuthor">Seedorf, J.</span>, <span class="refAuthor">Yang, Y.</span>, <span class="refAuthor">Ma, K.</span>, <span class="refAuthor">Peterson, J.</span>, and <span class="refAuthor">J. Zhang</span>, <span class="refTitle">"Content Delivery Network Interconnection (CDNI) Footprint and Capabilities Advertisement Using Application-Layer Traffic Optimization (ALTO)"</span>, <span class="seriesInfo">RFC 9241</span>, <span class="seriesInfo">DOI 10.17487/RFC9241</span>, <time class="refDate" datetime="2022-07">July 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9241">https://www.rfc-editor.org/info/rfc9241</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="features-introduced-with-epm-extension">
<section id="appendix-A">
      <h2 id="name-features-introduced-with-th">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-features-introduced-with-th">Features Introduced with the Entity Property Maps Extension</a>
      </h2>
<p id="appendix-A-1">The entity property maps extension described in this document introduces a
number of features that are summarized in table below. The first column
provides the name of the feature. The second column provides the section
number of this document that gives a high-level description of the feature.
The third column provides the section number of this document that gives a
normative description relating to the feature, when applicable.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<span id="name-features-introduced-with-al"></span><div id="TableUPFeatures">
<table class="center" id="table-11">
        <caption>
<a class="selfRef" href="#table-11">Table 11</a>:
<a class="selfRef" href="#name-features-introduced-with-al">Features Introduced with ALTO Entity Property Maps</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Feature</th>
            <th class="text-left" colspan="1" rowspan="1">High-Level Description</th>
            <th class="text-left" colspan="1" rowspan="1">Related Normative Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-entity">Section 3.1</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#entity-addrs">Section 5.1.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity domain</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-entity-domain">Section 3.2</a>
</td>
            <td class="text-left" colspan="1" rowspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity domain type</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-entity-domain-type">Section 3.2.1</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#domain-types">Section 5.1.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity domain name</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-entity-domain-name">Section 3.2.2</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#domain-names">Section 5.1.2</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity property type</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-property">Section 3.3</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="xref" href="#def-property">5.2</a>, <a class="xref" href="#def-property-type">5.2.1</a>, <a class="xref" href="#entity-property-name">5.2.2</a>, and <a class="xref" href="#format-entity-property-value">5.2.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity property map</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-propmap">Section 3.4</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="xref" href="#prop-map">7</a> and <a class="xref" href="#filter-prop-map">8</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Resource-specific entity domain name</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#rsed-name">Section 4.2</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="xref" href="#domain-names">5.1.2</a> and <a class="xref" href="#resource-specific-ED">5.1.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Resource-specific entity property value</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#rsep">Section 4.3</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#format-entity-property-value">Section 5.2.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Entity Hierarchy and property inheritance</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#con-hni">Section 4.4</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#def-hierarchy-and-inheritance">Section 5.1.4</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Defining information resource</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="xref" href="#def-ir">4.6</a> and <a class="xref" href="#def-ir-for-irsp">4.7</a>
</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="xref" href="#dom-reg-process">12.3.2</a> and <a class="xref" href="#IANAEntityProp">12.4</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="ack">
<section id="appendix-B">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-B-1">The authors would like to thank <span class="contact-name">Dawn Chen</span> and <span class="contact-name">Shenshen Chen</span> for their contributions to earlier drafts.
Thank you also to <span class="contact-name">Qiao Xiang</span>, <span class="contact-name">Shawn Lin</span>, and <span class="contact-name">Xin Wang</span>
for fruitful discussions. Last, big thanks to <span class="contact-name">Danny Perez</span> and <span class="contact-name">Luis Contreras</span> for their
substantial working group review feedback and suggestions for improving this document, 
to <span class="contact-name">Vijay Gurbani</span>, ALTO WG Chair, and <span class="contact-name">Martin Duke</span>, Transport Area Director, 
for their thorough review, discussions, guidance, and shepherding, which further helped to
enrich this document.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Wendy Roome</span></div>
<div class="left" dir="auto"><span class="org">Nokia Bell Labs (Retired)</span></div>
<div class="left" dir="auto"><span class="street-address">124 Burlington Rd</span></div>
<div class="left" dir="auto">
<span class="locality">Murray Hill</span>, <span class="region">NJ</span> <span class="postal-code">07974</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1-908-464-6975">+1-908-464-6975</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:wendy@wdroome.com">wendy@wdroome.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Sabine Randriamasy</span></div>
<div class="left" dir="auto"><span class="org">Nokia Bell Labs</span></div>
<div class="left" dir="auto"><span class="street-address">Route de Villejust</span></div>
<div class="left" dir="auto">
<span class="postal-code">91460</span> <span class="locality">NOZAY</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Sabine.Randriamasy@nokia-bell-labs.com">Sabine.Randriamasy@nokia-bell-labs.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Y. Richard Yang</span></div>
<div class="left" dir="auto"><span class="org">Yale University</span></div>
<div class="left" dir="auto"><span class="street-address">51 Prospect Street</span></div>
<div class="left" dir="auto">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06511</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1-203-432-6400">+1-203-432-6400</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:yry@cs.yale.edu">yry@cs.yale.edu</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jingxuan Jensen Zhang</span></div>
<div class="left" dir="auto"><span class="org">Tongji University</span></div>
<div class="left" dir="auto"><span class="street-address">4800 Cao'An Hwy</span></div>
<div class="left" dir="auto"><span class="locality">Shanghai</span></div>
<div class="left" dir="auto"><span class="postal-code">201804</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jingxuan.n.zhang@gmail.com">jingxuan.n.zhang@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kai Gao</span></div>
<div class="left" dir="auto"><span class="org">Sichuan University</span></div>
<div class="left" dir="auto"><span class="street-address">No.24 South Section 1, Yihuan Road</span></div>
<div class="left" dir="auto"><span class="locality">Chengdu</span></div>
<div class="left" dir="auto"><span class="postal-code">610000</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:kaigao@scu.edu.cn">kaigao@scu.edu.cn</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>