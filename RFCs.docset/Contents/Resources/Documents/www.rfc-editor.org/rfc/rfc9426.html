<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9426: BATched Sparse (BATS) Coding Scheme for Multi-hop Data Transport</title>
<meta content="Shenghao Yang" name="author"/>
<meta content="Xuan Huang" name="author"/>
<meta content="Raymond W. Yeung" name="author"/>
<meta content="John K. Zao" name="author"/>
<meta content="
       In general, linear network coding can improve the network communication performance in terms of throughput, latency, and reliability. BATched Sparse (BATS) code is a class of efficient linear network coding scheme with a matrix generalization of fountain codes as the outer code and batch-based linear network coding as the inner code. This document describes a baseline BATS coding scheme for communication through multi-hop networks and discusses the related research issues towards a more sophisticated BATS coding scheme. This document is a product of the Coding for Efficient Network Communications Research Group (NWCRG). 
    " name="description"/>
<meta content="xml2rfc 3.17.4" name="generator"/>
<meta content="BATS code" name="keyword"/>
<meta content="multi-hop" name="keyword"/>
<meta content="9426" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.17.4
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9426.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9426" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-irtf-nwcrg-bats-07" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9426</td>
<td class="center">BATS Code</td>
<td class="right">July 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Yang, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Research Task Force (IRTF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9426">9426</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-07">July 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Yang</div>
<div class="org">CUHK(SZ) &amp; n-hop technologies</div>
</div>
<div class="author">
      <div class="author-name">X. Huang</div>
<div class="org">CUHK</div>
</div>
<div class="author">
      <div class="author-name">R. Yeung</div>
<div class="org">CUHK &amp; n-hop technologies</div>
</div>
<div class="author">
      <div class="author-name">J. Zao</div>
<div class="org">CUHK</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9426</h1>
<h1 id="title">BATched Sparse (BATS) Coding Scheme for Multi-hop Data Transport</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">In general, linear network coding can improve the network communication performance in terms of throughput, latency, and reliability. BATched Sparse (BATS) code is a class of efficient linear network coding scheme with a matrix generalization of fountain codes as the outer code and batch-based linear network coding as the inner code. This document describes a baseline BATS coding scheme for communication through multi-hop networks and discusses the related research issues towards a more sophisticated BATS coding scheme. This document is a product of the Coding for Efficient Network Communications Research Group (NWCRG).<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Research Task Force
            (IRTF).  The IRTF publishes the results of Internet-related
            research and development activities.  These results might not be
            suitable for deployment.  This RFC represents the consensus of the Coding for Efficient Network Communications
            Research Group of the Internet Research Task Force (IRTF).
            Documents approved for publication by the IRSG are not
            candidates for any level of Internet Standard; see Section 2 of RFC
            7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9426">https://www.rfc-editor.org/info/rfc9426</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-a-use-case-of-the-bats-codi">A Use Case of the BATS Coding Scheme</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-introduction-2">Introduction</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-ddp-procedures">DDP Procedures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1"><a class="auto internal xref" href="#section-2.2.1">2.2.1</a>.  <a class="internal xref" href="#name-source-node-data-partitioni">Source Node Data Partitioning and Padding</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.2">
                    <p id="section-toc.1-1.2.2.2.2.2.1"><a class="auto internal xref" href="#section-2.2.2">2.2.2</a>.  <a class="internal xref" href="#name-source-node-outer-code-enco">Source Node Outer Code Encoding Procedure</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.3">
                    <p id="section-toc.1-1.2.2.2.2.3.1"><a class="auto internal xref" href="#section-2.2.3">2.2.3</a>.  <a class="internal xref" href="#name-recoding-procedures">Recoding Procedures</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.4">
                    <p id="section-toc.1-1.2.2.2.2.4.1"><a class="auto internal xref" href="#section-2.2.4">2.2.4</a>.  <a class="internal xref" href="#name-destination-node-procedures">Destination Node Procedures</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="auto internal xref" href="#section-2.3">2.3</a>.  <a class="internal xref" href="#name-recommendation-for-the-para">Recommendation for the Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a class="auto internal xref" href="#section-2.4">2.4</a>.  <a class="internal xref" href="#name-coding-parameters-in-ddp-pa">Coding Parameters in DDP Packets</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.1">
                    <p id="section-toc.1-1.2.2.4.2.1.1"><a class="auto internal xref" href="#section-2.4.1">2.4.1</a>.  <a class="internal xref" href="#name-coding-parameter-format">Coding Parameter Format</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.2">
                    <p id="section-toc.1-1.2.2.4.2.2.1"><a class="auto internal xref" href="#section-2.4.2">2.4.2</a>.  <a class="internal xref" href="#name-coded-packet-format">Coded Packet Format</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-bats-code-specification">BATS Code Specification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-common-parts">Common Parts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-outer-code-encoder">Outer Code Encoder</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-inner-code-encoder-recoder">Inner Code Encoder (Recoder)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="auto internal xref" href="#section-3.4">3.4</a>.  <a class="internal xref" href="#name-outer-decoder">Outer Decoder</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-research-issues">Research Issues</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-coding-design-issues">Coding Design Issues</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-protocol-design-issues">Protocol Design Issues</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-usage-scenario-consideratio">Usage Scenario Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-preventing-eavesdropping">Preventing Eavesdropping</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-privacy-preservation-agains">Privacy Preservation against Traffic Analysis</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-countermeasures-against-pol">Countermeasures against Pollution Attacks</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">This document specifies a baseline <span><a class="internal xref" href="#Yang14">BATched Sparse (BATS) code</a> [<a class="cite xref" href="#Yang14">Yang14</a>]</span> scheme for data delivery in multi-hop networks and discusses the related research issues towards a more sophisticated scheme. The BATS code described here includes an outer code and an inner code. The outer code is a matrix generalization of fountain codes (see also the RaptorQ code described in <span>[<a class="cite xref" href="#RFC6330">RFC6330</a>]</span>), which inherits the advantages of reliability and efficiency and possesses the extra desirable property of being compatible with network coding. The inner code, also called recoding, is formed by linear network coding for combating packet loss, improving the multicast efficiency, etc. A detailed design and analysis of BATS codes are provided in the <span><a class="internal xref" href="#Yang17">BATS monograph</a> [<a class="cite xref" href="#Yang17">Yang17</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">A BATS coding scheme can be applied in multi-hop networks formed by wireless communication links, which are inherently unreliable due to interference, fading, multipath, etc. Existing transport  protocols like TCP use end-to-end retransmission, while network protocols such as IP might enable store-and-forward at the relays so that packet loss would accumulate along the way.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">A BATS coding scheme can be used for various data delivery applications, like file transmission, video streaming over wireless multi-hop networks, etc. Different from the forward error correction (FEC) schemes that are applied either hop-by-hop or end-to-end, the BATS coding scheme combines the end-to-end coding (the outer code) with certain hop-by-hop coding (the inner code) and hence can potentially achieve better performance.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">The baseline coding scheme described here considers a network with multiple communication flows. For each flow, the source node encodes the data for transmission separately. However, inside the network, it is possible to mix the packets from different flows for recoding. In this document, we describe a simple case where recoding is performed within each flow. Note that the same encoding/decoding scheme described here can be used with different recoding schemes as long as they follow the principle we illustrate in this document.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">In this document, we focus on the case that each flow has only one destination node. Communicating the same data to multiple destination nodes is called multicast. Refer to <a class="auto internal xref" href="#research">Section 4</a> for the further discussion of multicast.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">The purpose of the baseline BATS coding scheme is twofold. First, it provides researchers and engineers a starting point for developing network communication applications/protocols based on BATS codes. Second, it helps to make the research issues clearer towards a sophisticated network protocol based on BATS codes. Important research directions include the security issues, congestion control, routing algorithms for BATS codes, etc.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7"> This document is a product of and represents the collaborative work and consensus of the Coding for Efficient Network Communications Research Group (NWCRG). It is not an IETF product and is not an IETF standard.<a class="pilcrow" href="#section-1-7">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</section>
<div id="procedures">
<section id="section-2">
      <h2 id="name-a-use-case-of-the-bats-codi">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-a-use-case-of-the-bats-codi">A Use Case of the BATS Coding Scheme</a>
      </h2>
<p id="section-2-1">The BATS coding scheme described in this document can be used, for example, by a Data Delivery Protocol (DDP). Though this document is not about a DDP, in this section, we briefly illustrate how a BATS coding scheme is employed by a DDP to make the role of the coding scheme clear. Some terms that will be used in this section are summarized here:<a class="pilcrow" href="#section-2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-2">
        <dt id="section-2-2.1">DDP:</dt>
        <dd id="section-2-2.2" style="margin-left: 1.5em">Data Delivery Protocol<a class="pilcrow" href="#section-2-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.3">DDP packet:</dt>
        <dd id="section-2-2.4" style="margin-left: 1.5em">the packet formed by a DDP employing a BATS coding scheme<a class="pilcrow" href="#section-2-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.5">source packet:</dt>
        <dd id="section-2-2.6" style="margin-left: 1.5em">the packet formed by the data for delivery<a class="pilcrow" href="#section-2-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.7">outer encoder:</dt>
        <dd id="section-2-2.8" style="margin-left: 1.5em">the outer code encoder of a BATS code<a class="pilcrow" href="#section-2-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.9">recoder:</dt>
        <dd id="section-2-2.10" style="margin-left: 1.5em">the inner code encoder of a BATS code<a class="pilcrow" href="#section-2-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.11">outer decoder:</dt>
        <dd id="section-2-2.12" style="margin-left: 1.5em">the outer code decoder of a BATS code<a class="pilcrow" href="#section-2-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.13">coded packet:</dt>
        <dd id="section-2-2.14" style="margin-left: 1.5em">the packet generated by the outer code encoder or a recoder<a class="pilcrow" href="#section-2-2.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.15">batch:</dt>
        <dd id="section-2-2.16" style="margin-left: 1.5em">a set of coded packets generated by a BATS coding scheme from the same subset of the source packets<a class="pilcrow" href="#section-2-2.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.17">recoded packet:</dt>
        <dd id="section-2-2.18" style="margin-left: 1.5em">a coded packet generated by a recoder<a class="pilcrow" href="#section-2-2.18">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.19">degree:</dt>
        <dd id="section-2-2.20" style="margin-left: 1.5em">the number of source packets used to generate a batch by the outer encoder. (The degree can be different for a different batch.)<a class="pilcrow" href="#section-2-2.20">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-3">Other common terms can be found in <span>[<a class="cite xref" href="#RFC8406">RFC8406</a>]</span>.<a class="pilcrow" href="#section-2-3">¶</a></p>
<section id="section-2.1">
        <h3 id="name-introduction-2">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-introduction-2">Introduction</a>
        </h3>
<p id="section-2.1-1">We describe a DDP that involves one source node, one destination node, and multiple intermediate nodes in between. A BATS coding scheme includes an outer code encoder (also called outer encoder), an inner code encoder (also called recoder), and an outer decoder that decodes the outer code and the inner code jointly, as illustrated in <a class="auto internal xref" href="#network_model">Figure 1</a>. The functions of the outer encoder, recoder, and outer decoder are described below:<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<span id="name-a-network-model-for-data-de"></span><div id="network_model">
<figure id="figure-1">
          <div class="alignCenter art-text artwork" id="section-2.1-2.1">
<pre>        |
        |  {set of source packets}
        v
+-+-+-+-+-+-+-+-+
| outer encoder |
|       v       | source node
|    recoder    |
+-+-+-+-+-+-+-+-+
        |
        |  {set of DDP packets}
        v
+-+-+-+-+-+-+-+-+
|               |
|    recoder    | intermediate node
|               |
+-+-+-+-+-+-+-+-+
        |
        |  {set of DDP packets}
        v
       ...
        |
        |  {set of DDP packets}
        v
+-+-+-+-+-+-+-+-+
|               |
| outer decoder | destination node
|               |
+-+-+-+-+-+-+-+-+
        |
        |  {set of source packets}
        v
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-a-network-model-for-data-de">A Network Model for Data Delivery</a>
          </figcaption></figure>
</div>
<p id="section-2.1-3">At the source node, the DDP first processes the data to be delivered into a number of source packets, each of the same number of bits (see details in <a class="auto internal xref" href="#ddp_padding">Section 2.2.1</a>), and then provides all the source packets to the outer encoder. The outer encoder will further generate a sequence of batches, each consisting of a fixed number of coded packets (see the description in <a class="auto internal xref" href="#ddp_encoder">Section 2.2.2</a>).<a class="pilcrow" href="#section-2.1-3">¶</a></p>
<p id="section-2.1-4">Each batch generated at the source node is further processed by the recoder separately. The recoder may generate a number of new coded packets using the existing coded packets of the batch (see the description in <a class="auto internal xref" href="#ddp_recoder">Section 2.2.3</a>). After it is processed by the recoder, The DDP forms and transmits the DDP packets using the coded packets, together with the corresponding batch information.<a class="pilcrow" href="#section-2.1-4">¶</a></p>
<p id="section-2.1-5">We assume that a DDP packet is either correctly received or completely erased during the communication. The DDP extracts the coded packets and the corresponding batch information from its received DDP packets. A recoder is employed at an intermediate node that does not need the data and generates recoded packets for each batch (see the description in <a class="auto internal xref" href="#ddp_recoder">Section 2.2.3</a>). The DDP forms and transmits DDP packets using the recoded packets and the corresponding batch information.<a class="pilcrow" href="#section-2.1-5">¶</a></p>
<p id="section-2.1-6">The outer decoder is employed at the destination node that needs the data. The DDP extracts the coded packets and the corresponding batch information from its received DDP packets. The outer decoder tries to recover the transmitted data using the received batches (see the description in <a class="auto internal xref" href="#ddp_decoder">Section 2.2.4</a>). The DDP sends the decoded data to the application that needs the data.<a class="pilcrow" href="#section-2.1-6">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-ddp-procedures">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-ddp-procedures">DDP Procedures</a>
        </h3>
<p id="section-2.2-1">Suppose that the DDP has F octets of data for transmission. We describe the procedures of one BATS session for transmitting the F octets. There is a limit on F of a single BATS session. If the total data has more than the limit, the data needs to be transmitted using multiple BATS sessions. The limit on F of a single BATS session depends on the coding parameters that are discussed in this section and the calculations described at the end of <a class="auto internal xref" href="#packetformat">Section 2.4.2</a>.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<div id="ddp_padding">
<section id="section-2.2.1">
          <h4 id="name-source-node-data-partitioni">
<a class="section-number selfRef" href="#section-2.2.1">2.2.1. </a><a class="section-name selfRef" href="#name-source-node-data-partitioni">Source Node Data Partitioning and Padding</a>
          </h4>
<p id="section-2.2.1-1">
            The DDP first determines the following parameters:<a class="pilcrow" href="#section-2.2.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1-2.1">batch size (M): the number of coded packets in a batch generated by the outer encoder<a class="pilcrow" href="#section-2.2.1-2.1">¶</a>
</li>
            <li class="normal" id="section-2.2.1-2.2">recoding field size (q): the number of elements in the finite field for recoding, i.e., q is 2 or 2<sup>8</sup><a class="pilcrow" href="#section-2.2.1-2.2">¶</a>
</li>
            <li class="normal" id="section-2.2.1-2.3">BATS payload size (TO): the number of payload octets in a BATS packet, including the coded data and the coefficient vector<a class="pilcrow" href="#section-2.2.1-2.3">¶</a>
</li>
          </ul>
<p id="section-2.2.1-3"> Based on the above parameters, the parameters T, CO, and K are calculated as follows:<a class="pilcrow" href="#section-2.2.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1-4.1">CO: the number of octets of a coefficient vector, calculated as CO = ceil(M * log2(q) / 8), which is also called the coefficient vector overhead<a class="pilcrow" href="#section-2.2.1-4.1">¶</a>
</li>
            <li class="normal" id="section-2.2.1-4.2">T: the number of data octets of a coded packet, calculated as T = TO - CO<a class="pilcrow" href="#section-2.2.1-4.2">¶</a>
</li>
            <li class="normal" id="section-2.2.1-4.3">K: number of source packets, calculated as K = floor(F / T) + 1<a class="pilcrow" href="#section-2.2.1-4.3">¶</a>
</li>
          </ul>
<p id="section-2.2.1-5">
         The data <span class="bcp14">MUST</span> be padded to have T*K octets, which will be partitioned into K source packets b[0], ..., b[K - 1], each of T octets.
         In our padding scheme, b[0], ..., b[K - 2] are filled with data octets, and b[K - 1] is filled with the remaining data octets and padding octets.
       Let P = K * T - F denote the number of padding octets. We use b[K - 1, 0], ..., b[K - 1, T - P - 1] to denote the T - P source octets and b[K - 1, T - P], ..., b[K - 1, T - 1] to denote the P padding octets in b[K - 1], respectively. The padding insertion process is shown in <a class="auto internal xref" href="#data_padding">Figure 2</a>.<a class="pilcrow" href="#section-2.2.1-5">¶</a></p>
<span id="name-data-padding-insertion-proc"></span><div id="data_padding">
<figure id="figure-2">
            <div class="lang-pseudocode sourcecode" id="section-2.2.1-6.1">
<pre>    Z = T - P
    j = 1
    v = 1
    Let bl be the last source packet b[K - 1]
    for i = Z, Z + 1, ..., T - 1 do
      bl[i] = j
      if i + 1 &gt;= v + Z do
        j += 1
        v += j
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-data-padding-insertion-proc">Data Padding Insertion Process</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="ddp_encoder">
<section id="section-2.2.2">
          <h4 id="name-source-node-outer-code-enco">
<a class="section-number selfRef" href="#section-2.2.2">2.2.2. </a><a class="section-name selfRef" href="#name-source-node-outer-code-enco">Source Node Outer Code Encoding Procedure</a>
          </h4>
<p id="section-2.2.2-1">
          The DDP provides the BATS encoder with the following information:<a class="pilcrow" href="#section-2.2.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.2-2.1">batch size (M): the number of coded packets in a batch<a class="pilcrow" href="#section-2.2.2-2.1">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.2">recoding field size (q): the number of elements in the finite field for recoding<a class="pilcrow" href="#section-2.2.2-2.2">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.3">maximum degree (MAX_DEG): a positive integer that specifies the largest degree can be used<a class="pilcrow" href="#section-2.2.2-2.3">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.4">degree distribution (DD): an unsigned integer array of size MAX_DEG+1. The i-th entry DD[i] is the probability that i is chosen as the degree, where i is between 0 and MAX_DEG.<a class="pilcrow" href="#section-2.2.2-2.4">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.5">a sequence of batch IDs (BIDs) (j, j = 0, 1, ...)<a class="pilcrow" href="#section-2.2.2-2.5">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.6">number of source packets (K)<a class="pilcrow" href="#section-2.2.2-2.6">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.7">packet size (T): the number of octets in a source packet<a class="pilcrow" href="#section-2.2.2-2.7">¶</a>
</li>
            <li class="normal" id="section-2.2.2-2.8">source packets (b[i], i = 0, 1, ..., K - 1)<a class="pilcrow" href="#section-2.2.2-2.8">¶</a>
</li>
          </ul>
<p id="section-2.2.2-3">
          Using this information, the outer encoder generates M coded packets for each BID using the following steps that are described in detail in <a class="auto internal xref" href="#encoder">Section 3.2</a>:<a class="pilcrow" href="#section-2.2.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.2-4.1"> Obtain a degree d by sampling DD. Roughly, the value d is chosen with probability DD[d].<a class="pilcrow" href="#section-2.2.2-4.1">¶</a>
</li>
            <li class="normal" id="section-2.2.2-4.2"> Choose d source packets uniformly at random from all the K source packets. It is allowed that a source packet is used by multiple batches.<a class="pilcrow" href="#section-2.2.2-4.2">¶</a>
</li>
            <li class="normal" id="section-2.2.2-4.3"> Generate M coded packets using the d source packets.<a class="pilcrow" href="#section-2.2.2-4.3">¶</a>
</li>
          </ul>
<p id="section-2.2.2-5">From the outer encoder, the DDP receives a sequence of batches, where the batch with ID j has M coded packets (x[j,i], i =0, 1, ..., M - 1), each containing TO octets.<a class="pilcrow" href="#section-2.2.2-5">¶</a></p>
<p id="section-2.2.2-6">
          The DDP will use the batches to form DDP packets to be transmitted to other network nodes towards the destination nodes. The DDP <span class="bcp14">MUST</span> deliver each coded packet with its batch ID, which will be further used by both the recoder and decoder.<a class="pilcrow" href="#section-2.2.2-6">¶</a></p>
<p id="section-2.2.2-7">The DDP <span class="bcp14">MUST</span> deliver some of the information used by the encoder to each of the recoders and the decoder, either embedded in the DDP packets or transmitted using separated protocol messages.  
          For recoders, the DDP <span class="bcp14">MUST</span> deliver the following information to each recoder:<a class="pilcrow" href="#section-2.2.2-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.2-8.1">M: batch size<a class="pilcrow" href="#section-2.2.2-8.1">¶</a>
</li>
            <li class="normal" id="section-2.2.2-8.2">q: recoding field size<a class="pilcrow" href="#section-2.2.2-8.2">¶</a>
</li>
          </ul>
<p id="section-2.2.2-9">
          For the decoder, the DDP <span class="bcp14">MUST</span> deliver the following information to the decoder:<a class="pilcrow" href="#section-2.2.2-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.2-10.1">M: batch size<a class="pilcrow" href="#section-2.2.2-10.1">¶</a>
</li>
            <li class="normal" id="section-2.2.2-10.2">q: recoding field size<a class="pilcrow" href="#section-2.2.2-10.2">¶</a>
</li>
            <li class="normal" id="section-2.2.2-10.3">K: the number of source packets<a class="pilcrow" href="#section-2.2.2-10.3">¶</a>
</li>
            <li class="normal" id="section-2.2.2-10.4">T: the number of octets in a source packet<a class="pilcrow" href="#section-2.2.2-10.4">¶</a>
</li>
            <li class="normal" id="section-2.2.2-10.5">DD: the degree distribution<a class="pilcrow" href="#section-2.2.2-10.5">¶</a>
</li>
          </ul>
<p id="section-2.2.2-11">
          The BID is used by both recoders and decoders. In <a class="auto internal xref" href="#parameters">Section 2.4</a>, we illustrate how to embed BID, M, q, and K into DDP packets. The degree distribution DD does not need to be changed frequently. See Section 6 of <span>[<a class="cite xref" href="#Yang17">Yang17</a>]</span> about how to design a good degree distribution. Once designed, the degree distribution can be shared between the source node and the destination node by the DDP, which is not further discussed here.<a class="pilcrow" href="#section-2.2.2-11">¶</a></p>
</section>
</div>
<div id="ddp_recoder">
<section id="section-2.2.3">
          <h4 id="name-recoding-procedures">
<a class="section-number selfRef" href="#section-2.2.3">2.2.3. </a><a class="section-name selfRef" href="#name-recoding-procedures">Recoding Procedures</a>
          </h4>
<p id="section-2.2.3-1">Both the source node and the intermediate nodes perform recoding on the batches before transmission. At the source node, the recoder receives the batches from the outer code encoding procedure. At an intermediate node, the DDP receives the DDP packets from the other network nodes.
If the DDP chooses not to recode, it just forwards the DDP packets it received.
Otherwise, the DDP should be able to extract coded packets and the corresponding batch information from these packets.<a class="pilcrow" href="#section-2.2.3-1">¶</a></p>
<p id="section-2.2.3-2">
            For a received batch, the DDP determines a positive integer (Mr) and the number of recoded packets to be transmitted for the batch, and DDP provides the recoder with the following information:<a class="pilcrow" href="#section-2.2.3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.3-3.1">M: batch size<a class="pilcrow" href="#section-2.2.3-3.1">¶</a>
</li>
            <li class="normal" id="section-2.2.3-3.2">q: recoding field size<a class="pilcrow" href="#section-2.2.3-3.2">¶</a>
</li>
            <li class="normal" id="section-2.2.3-3.3">a number of received coded packets of the same batch, each containing TO octets<a class="pilcrow" href="#section-2.2.3-3.3">¶</a>
</li>
            <li class="normal" id="section-2.2.3-3.4">Mr: the number of recoded packets to be generated<a class="pilcrow" href="#section-2.2.3-3.4">¶</a>
</li>
          </ul>
<p id="section-2.2.3-4">
       The recoder uses the information provided by the DDP to generate Mr recoded packets, each containing TO octets, which are described in <a class="auto internal xref" href="#recoder">Section 3.3</a>. The DDP uses the Mr recoded packets to form the DDP packets for transmitting.<a class="pilcrow" href="#section-2.2.3-4">¶</a></p>
</section>
</div>
<div id="ddp_decoder">
<section id="section-2.2.4">
          <h4 id="name-destination-node-procedures">
<a class="section-number selfRef" href="#section-2.2.4">2.2.4. </a><a class="section-name selfRef" href="#name-destination-node-procedures">Destination Node Procedures</a>
          </h4>
<p id="section-2.2.4-1">
          At the destination node, the DDP receives DDP packets from an intermediate network node and should be able to extract coded packets and the corresponding batch information from these packets. The DDP then employs an outer decoder to recover the data transmitted by the source node.<a class="pilcrow" href="#section-2.2.4-1">¶</a></p>
<p id="section-2.2.4-2">
          The DDP provides the outer decoder (to be described in <a class="auto internal xref" href="#decoder">Section 3.4</a>) with the following information:<a class="pilcrow" href="#section-2.2.4-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.4-3.1">M: batch size<a class="pilcrow" href="#section-2.2.4-3.1">¶</a>
</li>
            <li class="normal" id="section-2.2.4-3.2">q: recoding field size<a class="pilcrow" href="#section-2.2.4-3.2">¶</a>
</li>
            <li class="normal" id="section-2.2.4-3.3">K: the number of source packets<a class="pilcrow" href="#section-2.2.4-3.3">¶</a>
</li>
            <li class="normal" id="section-2.2.4-3.4">T: the number of octets of a source packet<a class="pilcrow" href="#section-2.2.4-3.4">¶</a>
</li>
            <li class="normal" id="section-2.2.4-3.5">a sequence of batches, each of which is formed by a number of coded packets belonging to the same batch, with their corresponding BIDs<a class="pilcrow" href="#section-2.2.4-3.5">¶</a>
</li>
          </ul>
<p id="section-2.2.4-4"> The decoder uses this information to decode the outer code and the inner code jointly and recover the K source packets (see details in <a class="auto internal xref" href="#decoder">Section 3.4</a>). If successful, the decoder returns the recovered K source packets to the DDP, which will use the K source packets to form the F octets data. The recommended padding deletion process is shown as follows:<a class="pilcrow" href="#section-2.2.4-4">¶</a></p>
<span id="name-data-padding-deletion-proce"></span><div id="data_depadding">
<figure id="figure-3">
            <div class="lang-pseudocode sourcecode" id="section-2.2.4-5.1">
<pre>    // this procedure returns the number P of padding octets
    // at the end of b[K - 1]
    Let bl be the last decoded source packet b[K - 1]
    PL = bl[T - 1]
    if PL == 1 do
        return P = 1
    WI = T - 1
    while bl[WI] == PL do
        WI = WI - 1
    return P = (1 + bl[WI]) * bl[WI] + T - WI - 1
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-data-padding-deletion-proce">Data Padding Deletion Process</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
<section id="section-2.3">
        <h3 id="name-recommendation-for-the-para">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-recommendation-for-the-para">Recommendation for the Parameters</a>
        </h3>
<p id="section-2.3-1">
        The recommendation for the parameters M and q is shown as follows:<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3-2.1">when q = 2, M = 16, 32, 64, 128<a class="pilcrow" href="#section-2.3-2.1">¶</a>
</li>
          <li class="normal" id="section-2.3-2.2">when q = 256, M = 4, 8, 16, 32<a class="pilcrow" href="#section-2.3-2.2">¶</a>
</li>
        </ul>
<p id="section-2.3-3">
        It is <span class="bcp14">RECOMMENDED</span> that K is at least 128. The encoder/decoder <span class="bcp14">SHALL</span> support an arbitrary positive integer value less than 2<sup>16</sup>. However, the BATS coding scheme to be described is not optimized for small K.<a class="pilcrow" href="#section-2.3-3">¶</a></p>
</section>
<div id="parameters">
<section id="section-2.4">
        <h3 id="name-coding-parameters-in-ddp-pa">
<a class="section-number selfRef" href="#section-2.4">2.4. </a><a class="section-name selfRef" href="#name-coding-parameters-in-ddp-pa">Coding Parameters in DDP Packets</a>
        </h3>
<p id="section-2.4-1">Here, we provide an example of embedding the aforementioned BATS coding parameters into the DDP packets that will be used for recoding and decoding.
 A DDP can form a DDP packet using a coded packet by adding necessary information that can help to deliver the DDP packet to the next node (e.g., the version of the DDP, addresses, and session identifiers). We will not go into the details of formatting these fields in a DDP packet, but we focus on how to format the coding parameters and the coded packet in a DDP packet.<a class="pilcrow" href="#section-2.4-1">¶</a></p>
<section id="section-2.4.1">
          <h4 id="name-coding-parameter-format">
<a class="section-number selfRef" href="#section-2.4.1">2.4.1. </a><a class="section-name selfRef" href="#name-coding-parameter-format">Coding Parameter Format</a>
          </h4>
<p id="section-2.4.1-1">Here, we provide an example of using 32 bits (4 octets) to embed the parameters K, M, q, and BID. The 32 bits are separated into three subfields, denoted as K, Mq, and BID, respectively, as illustrated in <a class="auto internal xref" href="#packet_header">Figure 4</a>.<a class="pilcrow" href="#section-2.4.1-1">¶</a></p>
<span id="name-coding-parameter-field-form"></span><div id="packet_header">
<figure id="figure-4">
            <div class="alignCenter art-text artwork" id="section-2.4.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                K              | Mq  |          BID            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-coding-parameter-field-form">Coding Parameter Field Format</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-2.4.1-3">
            <dt id="section-2.4.1-3.1">K:</dt>
            <dd id="section-2.4.1-3.2" style="margin-left: 1.5em">16-bit unsigned integer, specifying the number of source packets of the BATS session<a class="pilcrow" href="#section-2.4.1-3.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.1-3.3">Mq:</dt>
            <dd id="section-2.4.1-3.4" style="margin-left: 1.5em">3-bit unsigned integer, specifying the value of M and q, as shown in <a class="auto internal xref" href="#Mq_value">Table 1</a><a class="pilcrow" href="#section-2.4.1-3.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.1-3.5">BID:</dt>
            <dd id="section-2.4.1-3.6" style="margin-left: 1.5em">13-bit unsigned integer, specifying the batch ID of the batch the packet belongs to<a class="pilcrow" href="#section-2.4.1-3.6">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-values-of-the-mq-field"></span><div id="Mq_value">
<table class="center" id="table-1">
            <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-values-of-the-mq-field">Values of the Mq Field</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Mq</th>
                <th class="text-left" colspan="1" rowspan="1">M</th>
                <th class="text-left" colspan="1" rowspan="1">q</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">000</td>
                <td class="text-left" colspan="1" rowspan="1">16</td>
                <td class="text-left" colspan="1" rowspan="1">2</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">010</td>
                <td class="text-left" colspan="1" rowspan="1">32</td>
                <td class="text-left" colspan="1" rowspan="1">2</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">100</td>
                <td class="text-left" colspan="1" rowspan="1">64</td>
                <td class="text-left" colspan="1" rowspan="1">2</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">110</td>
                <td class="text-left" colspan="1" rowspan="1">128</td>
                <td class="text-left" colspan="1" rowspan="1">2</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">001</td>
                <td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">256</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">011</td>
                <td class="text-left" colspan="1" rowspan="1">8</td>
                <td class="text-left" colspan="1" rowspan="1">256</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">101</td>
                <td class="text-left" colspan="1" rowspan="1">16</td>
                <td class="text-left" colspan="1" rowspan="1">256</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">111</td>
                <td class="text-left" colspan="1" rowspan="1">32</td>
                <td class="text-left" colspan="1" rowspan="1">256</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-2.4.1-5">The choice of the coding parameters depends on the computation cost, the network conditions, and the expected end-to-end coding performance. Usually, a larger batch size M will have a better coding performance but higher computation cost for encoding, recoding, and decoding. The field size q affects the coefficient vector overhead and also the computation cost for recoding. Within a BATS session, the BID field should be different for all batches, and hence, the maximum number of batches that can be generated for the outer encoder is 2<sup>13</sup>. For different BATS sessions, batches can use the same BID.<a class="pilcrow" href="#section-2.4.1-5">¶</a></p>
</section>
<div id="packetformat">
<section id="section-2.4.2">
          <h4 id="name-coded-packet-format">
<a class="section-number selfRef" href="#section-2.4.2">2.4.2. </a><a class="section-name selfRef" href="#name-coded-packet-format">Coded Packet Format</a>
          </h4>
<span id="name-code-packet-format-in-a-ddp"></span><div id="packet_payload">
<figure id="figure-5">
            <div class="alignCenter art-text artwork" id="section-2.4.2-1.1">
<pre>            CO                          T
+-----------------------+-------------------------------+
|   coefficient vector  |          coded data           |
+-----------------------+-------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-code-packet-format-in-a-ddp">Code Packet Format in a DDP Packet</a>
            </figcaption></figure>
</div>
<p id="section-2.4.2-2">
          A coded packet has TO=T+CO octets, where the first CO octets contain the coefficient vector and the remaining T octets contain the coded data.<a class="pilcrow" href="#section-2.4.2-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.2-3">
            <dt id="section-2.4.2-3.1">coefficient vector:</dt>
            <dd id="section-2.4.2-3.2" style="margin-left: 1.5em">CO = M * log2(q) / 8 octets. For the values of M and q in <a class="auto internal xref" href="#Mq_value">Table 1</a>, CO is at most 32 octets when q is 256 and 6 octets when q is 2.<a class="pilcrow" href="#section-2.4.2-3.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.2-3.3">coded data:</dt>
            <dd id="section-2.4.2-3.4" style="margin-left: 1.5em">T octets. T should be chosen so that the whole DDP packet is at most Path MTU (PMTU).<a class="pilcrow" href="#section-2.4.2-3.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.2-4">Using the above formation, we can calculate the largest file size (F) for different parameters. For example, when q = 2 and M = 128, we have CO = 6 octets. Counting the 4 octets for embedding the coding parameters, we can choose T = PMTU - H - 10, where H is the header length of a DDP packet. As K can be at most 2<sup>16</sup> - 1, F can be at most (PMTU - H - 10)(2<sup>16</sup> - 1) octets. In this case, K / M is about 2<sup>9</sup> and the BID field allows transmitting 2<sup>4</sup> * K / M batches.<a class="pilcrow" href="#section-2.4.2-4">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="specification">
<section id="section-3">
      <h2 id="name-bats-code-specification">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-bats-code-specification">BATS Code Specification</a>
      </h2>
<div id="common">
<section id="section-3.1">
        <h3 id="name-common-parts">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-common-parts">Common Parts</a>
        </h3>
<p id="section-3.1-1">
          The T octets of a source packet are treated as a column vector of T elements in GF(256). The CO octets of a coefficient vector are treated as a column vector of CO elements in GF(q), where q = 2 or q = 256. Linear algebra and matrix operations over finite fields are assumed in this section.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">
   For the two elements of GF(2), their multiplication corresponds to a logical AND operation, and their addition is a logical XOR operation.
          An element of the field GF(256) can be represented by a polynomial with binary coefficients and degree lower or equal to 7. The addition between two elements of GF(256) is defined as the addition of the two binary polynomials.
          The multiplication between two elements of GF(256) is the multiplication of the two binary polynomials modulo a certain irreducible polynomial of degree 8, called a primitive polynomial. One example of such a primitive polynomial for GF(256) is:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<p id="section-3.1-3" style="margin-left: 1.5em">x<sup>8</sup> + x<sup>4</sup> + x<sup>3</sup> + x<sup>2</sup> + 1<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">
        A common primitive polynomial <span class="bcp14">MUST</span> be specified for all the finite field multiplications over GF(256). Note that a binary polynomial of degree less than 8 can be represented by a binary sequence of 8 bits, i.e., an octet.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5"> Suppose that a pseudorandom number generator, Rand(), which generates an unsigned integer of 32 bits, is shared by both encoding and decoding. The pseudorandom generator can be initialized by Rand_Init(S) with seed S. When S is not provided, the pseudorandom generator is initialized arbitrarily. One example of such a pseudorandom generator is defined in <span>[<a class="cite xref" href="#RFC8682">RFC8682</a>]</span>.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<p id="section-3.1-6">A function called BatchSampler is used in both encoding and decoding. The function takes two integers, j and d, as input and generates an array idx of d integers and a d x M matrix G.  The function first initializes the pseudorandom generator with j, sample d distinct integers from 0 to K-1 as idx, and sample d*M integers from 0 to 255 as G. See the pseudocode in <a class="auto internal xref" href="#batch_sampler">Figure 6</a>.<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<span id="name-batch-sampler-function"></span><div id="batch_sampler">
<figure id="figure-6">
          <div class="lang-pseudocode sourcecode" id="section-3.1-7.1">
<pre>function BatchSampler(j, d)
    // initialize the pseudorandom generator by seed j.
    Rand_Init(j)
    // sample d distinct integers between 0 and K - 1.
    for k = 0, ..., d - 1 do
        r = Rand() % K
        while r already exists in idx do
            r = Rand() % K
        idx[k] = r

    // sample d x M matrix
    for r = 0, ..., d - 1 do
        for c = 0, ..., M - 1 do
            G[r, c] = Rand() % 256

    return idx, G
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-batch-sampler-function">Batch Sampler Function</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="encoder">
<section id="section-3.2">
        <h3 id="name-outer-code-encoder">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-outer-code-encoder">Outer Code Encoder</a>
        </h3>
<p id="section-3.2-1">Define a function called DegreeSampler that returns an integer d using the degree distribution DD. We expect that the empirical distribution of the returning d converges to DD(d) when d &lt; K. One design of DegreeSampler is illustrated in <a class="auto internal xref" href="#degree_sampler">Figure 7</a>. Note that when K &lt; MAX_DEG, the degree value returned by DegreeSampler does not exactly follow the distribution DD, which however would not affect the practical decoding performance for the outer decoder to be described in <a class="auto internal xref" href="#decoder">Section 3.4</a>.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<span id="name-degree-sampler-function"></span><div id="degree_sampler">
<figure id="figure-7">
          <div class="lang-pseudocode sourcecode" id="section-3.2-2.1">
<pre>function DegreeSampler(j, DD)
    Let CDF be an array
    CDF[0] = 0
    for i = 1, ..., MAX_DEG do
        CDF[i] = CDF[i - 1] + DD[i]
    Rand_Init(j)
    r = Rand() % CDF[MAX_DEG]
    for d = 1, ..., MAX_DEG do
        if r &gt;= CDF[d] do
            return min(d, K)
    return min(MAX_DEG, K)
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-degree-sampler-function">Degree Sampler Function</a>
          </figcaption></figure>
</div>
<p id="section-3.2-3">
          Let b[0], b[1], ..., b[K-1] be the K source packets. A batch with BID j is generated using the following steps.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-4.1">Obtain a degree d by calling DegreeSampler with input j.<a class="pilcrow" href="#section-3.2-4.1">¶</a>
</li>
          <li class="normal" id="section-3.2-4.2">Obtain idx and G[j] by calling BatchSampler with input j and d.<a class="pilcrow" href="#section-3.2-4.2">¶</a>
</li>
          <li class="normal" id="section-3.2-4.3">Let B[j] = (b[idx[0]], b[idx[1]], ..., b[idx[d - 1]]). Form the batch X[j] = B[j] * G[j], whose dimension is T x M.<a class="pilcrow" href="#section-3.2-4.3">¶</a>
</li>
          <li class="normal" id="section-3.2-4.4">Form the TO x M matrix Xr[j], where the first CO rows of Xr[j] form the M x M identity matrix I with entries in GF(q) and the last T rows of Xr[j] is X[j].<a class="pilcrow" href="#section-3.2-4.4">¶</a>
</li>
        </ul>
<p id="section-3.2-5">See the pseudocode of the batch generating process in <a class="auto internal xref" href="#gen_batch">Figure 8</a>.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<span id="name-batch-generation-function"></span><div id="gen_batch">
<figure id="figure-8">
          <div class="lang-pseudocode sourcecode" id="section-3.2-6.1">
<pre>function GenBatch(j)
    d = DegreeSampler(j)
    (idx, G) = BatchSampler(j, d)
    B = (b[idx[0]], b[idx[i]], ..., b[idx[d - 1]])
    X = B * G
    Xr = [I; X]
    return Xr
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-batch-generation-function">Batch Generation Function</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="recoder">
<section id="section-3.3">
        <h3 id="name-inner-code-encoder-recoder">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-inner-code-encoder-recoder">Inner Code Encoder (Recoder)</a>
        </h3>
<p id="section-3.3-1">
          In general, the inner code of a BATS code comprises (random) linear network coding applied on the coded packets belonging to the same batch. The recoded packets have the same BID. Suppose that coded packets xr[i], i = 0, 1, ..., r - 1, which have the same BID j, have been received at an intermediate node and Mr recoded packets are supposed to be generated. Following random linear network coding, a recoded packet can be generated by a random linear combination: (randomly) choose a sequence of coefficients c[i], i = 0, 1, ..., r - 1 from GF(q) and generate c[0]xr[0] + c[1]xr[1] + ... + c[r - 1]xr[r - 1] as a recoded packet. This recoding approach, called random linear recoding, achieves good network coding performance for multicast when the batch size is sufficiently large.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">
  For unicast communications in a single path, as illustrated in <a class="auto internal xref" href="#network_model">Figure 1</a>, it is not necessary to generate all the Mr recoded packets using a random linear combination. Instead, xr[i], i = 0, 1, ..., r - 1 are directly used as recoded packets, and max(Mr - r, 0) recoded packets are generated using linear combinations. Compared with random linear recoding, this recoding approach, called systematic recoding, can reduce both the computation cost and the recoding latency that accumulates linearly with the number of nodes. Note that the use of systematic recoding may not always achieve the optimal network coding performance as random linear recoding in more complicated communication scenarios that include multiple paths and multiple destination nodes.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
</section>
</div>
<div id="decoder">
<section id="section-3.4">
        <h3 id="name-outer-decoder">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-outer-decoder">Outer Decoder</a>
        </h3>
<p id="section-3.4-1"> The decoder receives a sequence of batches, Yr[j], j = 0, 1, ..., n - 1, each of which is a TO-row matrix over GF(256). Let Y[j] be the submatrix of the last T rows of Yr[j]. When q = 256, let H[j] be the first M rows of Yr[j]; when q = 2, let H[j] be the matrix over GF(256) formed by embedding each bit in the first M/8 rows of Yr[j] into GF(256). For successful decoding, we require that the total rank of all the batches is at least K.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2"> The same degree distribution DD used for the outer encoder is supposed to be known by the outer decoder. By calling DegreeSampler and BatchSampler with input j, we obtain d[j], idx[j], and G[j]. According to the encoding and recoding processes described in Sections <a class="auto internal xref" href="#encoder">3.2</a> and <a class="auto internal xref" href="#recoder">3.3</a>, we have the system of linear equations Y[j] = B[j]G[j]H[j] for each received batch with ID j, where B[j] = (b[idx[j, 0]], b[idx[j, 1]], ..., b[idx[j, d - 1]]) is unknown.<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<p id="section-3.4-3"> We first describe a belief propagation (BP) decoder that can efficiently solve the source packets when a sufficient number of batches have been received. A batch j is said to be decodable if rank(G[j]H[j]) = d[j] (i.e., the system of linear equations Y[j] = B[j]G[j]H[j] with B[j] as the variable matrix has a unique solution). The BP decoding algorithm has multiple iterations. Each iteration is formed by the following steps:<a class="pilcrow" href="#section-3.4-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.4-4.1"> Decoding Step: Find a batch j that is decodable. Solve the corresponding system of linear equations Y[j] = B[j]G[j]H[j] and decode B[j].<a class="pilcrow" href="#section-3.4-4.1">¶</a>
</li>
          <li class="normal" id="section-3.4-4.2"> Substitution Step: Substitute the decoded source packets into undecodable batches. Suppose that a decoded source packet b[k] is used in generating an undecodable Y[j]. The substitution involves 1) removing the entry in idx[j] corresponding to k, 2) removing the row in G[j] corresponding to b[k], and 3) reducing d[j] by 1.<a class="pilcrow" href="#section-3.4-4.2">¶</a>
</li>
        </ul>
<p id="section-3.4-5">
        The BP decoder repeats the above steps until no batches are decodable during the decoding step.<a class="pilcrow" href="#section-3.4-5">¶</a></p>
<p id="section-3.4-6">When the degree distribution DD in the outer code encoder (see <a class="auto internal xref" href="#encoder">Section 3.2</a>) is properly designed, the BP decoder guarantees a high probability for the recovery of a given fraction of the source packets when K is large. To recover all the source packets, a precode can be applied to the source packets to generate a fraction of redundant packets before applying the outer code encoding. Moreover, when the BP decoder stops, which may happen with a high probability when K is relatively small, it is possible to continue with inactivation decoding, where certain source packets are treated as inactive so that a similar belief propagation process can be resumed. The reader is referred to <span>[<a class="cite xref" href="#RFC6330">RFC6330</a>]</span> for the design of a precode with a good inactivation decoding performance.<a class="pilcrow" href="#section-3.4-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="research">
<section id="section-4">
      <h2 id="name-research-issues">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-research-issues">Research Issues</a>
      </h2>
<p id="section-4-1">The baseline BATS coding scheme described in Sections <a class="auto internal xref" href="#procedures">2</a> and <a class="auto internal xref" href="#specification">3</a> needs various refinements and complements towards becoming a more sophisticated network communication application. Various related research issues are discussed in this section, but the security-related issues are left to <a class="auto internal xref" href="#Security">Section 6</a>.<a class="pilcrow" href="#section-4-1">¶</a></p>
<div id="coding">
<section id="section-4.1">
        <h3 id="name-coding-design-issues">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-coding-design-issues">Coding Design Issues</a>
        </h3>
<p id="section-4.1-1">When the number of batches is sufficiently large, the BATS code specification in <a class="auto internal xref" href="#specification">Section 3</a> has nearly optimal performance in the sense that the decoding can be successful with a high probability when the total rank of all the batches used for decoding is just slightly larger than the number of source packet K. But when K is small, the DegreeSampler function in <a class="auto internal xref" href="#degree_sampler">Figure 7</a> and the BatchSampler function in <a class="auto internal xref" href="#batch_sampler">Figure 6</a> based on a pseudorandom generator may not sample all the source packets evenly so that some of the source packets are not well protected. One approach to solve this issue is to generate a deterministic degree sequence when the number of batches is relatively small and design a special pseudorandom generator that has a good sampling performance when K is small.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">There are research issues related to recoding discussed in <a class="auto internal xref" href="#recoder">Section 3.3</a>. One question is how many recoded packets to generate for each batch. Though it is asymptotically optimal when using the same number of recoded packets for all batches, it has been shown that transmitting a different number of recoded packets for different batches can improve the recoding efficiency. For a batch with a lower rank, the intuition is that a smaller number of recoded packets need to be transmitted. This kind of recoding scheme is called <span><a class="internal xref" href="#Yin19">adaptive recoding</a> [<a class="cite xref" href="#Yin19">Yin19</a>]</span>.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">Packet loss in network communication is usually bursty, which may harm the recoding performance. One way to resolve this issue is to transmit the packets of different batches in a mixed order, which is also called <span><a class="internal xref" href="#Yin20">batch interleaving</a> [<a class="cite xref" href="#Yin20">Yin20</a>]</span>. How to efficiently interleave batches without increasing end-to-end latency too much is a research issue.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4"> Though we only focus on the BATS coding scheme with one source node and one destination node, a BATS coding scheme can be used for multiple source and destination nodes. To benefit from multiple source nodes, we would need different source nodes to generate statistically independent batches. It is well-known that <span><a class="internal xref" href="#Li03">linear network coding</a> [<a class="cite xref" href="#Li03">Li03</a>]</span> achieves the multicast capacity. BATS codes can benefit from network coding due to its inner code. For multicast, each destination node independently performs the same operations as described in this document, but the inner code should be improved to take multiple destination nodes into consideration. How to efficiently implement multicast needs further research.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
</section>
</div>
<div id="protocol">
<section id="section-4.2">
        <h3 id="name-protocol-design-issues">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-protocol-design-issues">Protocol Design Issues</a>
        </h3>
<p id="section-4.2-1">The baseline scheme in this document focuses on reliable communication. There are other issues to be considered towards designing a fully functional DDP based on a BATS coding scheme. Here, we discuss some network management issues that are closely related to a BATS coding scheme: routing, congestion control, and media access control.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">The outer code of a BATS code can be regarded as a channel code for the channel induced by the inner code, and hence, the network management algorithms should try to maximize the capacity of the channel induced by the inner code. A <span><a class="internal xref" href="#Dong20">network utility maximization problem</a> [<a class="cite xref" href="#Dong20">Dong20</a>]</span> for BATS coding can be applied to study routing, congestion control, and media access control jointly. Compared with the network utility maximization for the Internet, there are two major differences. First, the network flow rate is not measured by the rate of the raw packets. Instead, a rank-based measurement induced by the inner code is applied for BATS coding schemes. Second, due to recoding, the raw packet rate may not be the same for different links of a flow, i.e., no flow conservation for BATS coding schemes. These differences affect both the objective and the constraints of the utility maximization problem.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">Practical congestion control, routing, and media access control algorithms for BATS coding schemes deserve more research efforts. The rate of transmitting batches can be controlled end-to-end. Due to the recoding operation, however, congestion control cannot be only performed end-to-end. The number of recoded packets generated for a batch must be controlled at the intermediate nodes, which introduces new research issues for congestion control. A BATS coding scheme is an extension of forward erasure correction coding. See <span>[<a class="cite xref" href="#RFC9265">RFC9265</a>]</span> for more discussion of forward erasure correction coding and congestion control.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
<p id="section-4.2-4">For routing, the BATS coding scheme is flexible for implementing data transmission on multiple paths simultaneously. For unicast, it is optimal to transmit all the packets of a batch on the same path between the source node and the destination node, and for multicast, network coding gain can be obtained by transmitting packets of the same batch on different paths <span>[<a class="cite xref" href="#Yang17">Yang17</a>]</span>. Lastly, under the scenario of BATS coding schemes, media access control can have some different considerations: Retransmission is not necessary, and a reasonably high packet loss rate can be tolerated.<a class="pilcrow" href="#section-4.2-4">¶</a></p>
</section>
</div>
<div id="application">
<section id="section-4.3">
        <h3 id="name-usage-scenario-consideratio">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-usage-scenario-consideratio">Usage Scenario Considerations</a>
        </h3>
<p id="section-4.3-1">There are more research issues pertaining to various usage scenarios. The reliable communication technique provided by BATS codes can be used for a broad range of network communication scenarios. In general, a BATS coding scheme is suitable for data delivery in networks with multiple hops and unreliable links.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">One class of typical usage scenario is <span><a class="internal xref" href="#Toh02">wireless mesh and ad hoc networks</a> [<a class="cite xref" href="#Toh02">Toh02</a>]</span>, including vehicular networks, wireless sensor networks, smart lamppost networks, etc. These networks are characterized by a large number of network devices connected wirelessly with each other without a centralized network infrastructure. 
A BATS coding scheme is suitable for high data load delivery in such networks without the requirement that the point-to-point or one-hop communication is highly reliable. Therefore, employing a BATS coding scheme can provide more freedom for media access control, including power control, and physical-layer design so that the overall network throughput can be improved.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">Another typical usage scenario of BATS coding schemes is <span><a class="internal xref" href="#Sprea19">underwater acoustic networks</a> [<a class="cite xref" href="#Sprea19">Sprea19</a>]</span>, where the propagation delay of acoustic waves underwater can be as long as several seconds. Due to the long delay, feedback-based mechanisms become inefficient. Moreover, point-to-point/one-hop underwater acoustic communication (for both the forward and reverse directions) is highly unreliable. Due to these reasons, the networking techniques developed for radio and wireline networks cannot be directly applied to underwater networks. As a BATS coding scheme does not rely on the feedback for reliability communication and can tolerate highly unreliable links, it makes a good candidate for developing data delivery protocols for underwater acoustic networks.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<p id="section-4.3-4">Last but not least, due to its capability of performing multi-source, multi-destination communications, a BATS coding scheme can be applied in various content distribution scenarios. For example, a BATS coding scheme can be a candidate for the erasure code used in the <span><a class="internal xref" href="#Byers20">liquid data networking framework</a> [<a class="cite xref" href="#Byers20">Byers20</a>]</span> of content-centric networking (CCN) and provides the extra <span><a class="internal xref" href="#Zhang16">benefit of network coding</a> [<a class="cite xref" href="#Zhang16">Zhang16</a>]</span>.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document has no IANA actions.<a class="pilcrow" href="#section-5-1">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">
        Subsuming both random linear network codes (RLNCs) and fountain codes, BATS codes naturally inherit both their desirable security capability of preventing eavesdropping as well as their vulnerability towards pollution attacks. In this section, we discuss some related research issues.<a class="pilcrow" href="#section-6-1">¶</a></p>
<section id="section-6.1">
        <h3 id="name-preventing-eavesdropping">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-preventing-eavesdropping">Preventing Eavesdropping</a>
        </h3>
<p id="section-6.1-1">Suppose that an eavesdropper obtains a batch where the degree value d is strictly larger than the batch size M. Even if the eavesdropper has all the related encoding information, the system of linear equations related to this batch does not have a unique solution, and the probability that the eavesdropper can guess the d source packets used for encoding the batch correctly is 2<sup>(-(d-M)T)</sup>&lt;=2<sup>(-T)</sup>, where T is the number of octets of a source packet (see also <span>[<a class="cite xref" href="#Bhattad07">Bhattad07</a>]</span>). When inactivation decoding is applied, we can design the degree distribution DD so that the smallest degree is M+1 and hence prevent the eavesdropper from decoding source packets from individual batches.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">
     If we allow the eavesdropper to collect multiple batches and use inactivation decoding, the same security holds if the total rank of all the batches collected by the eavesdropper is less than the number of source packet. Therefore, if the DDP can manage to restrict the eavesdropper from collecting a sufficient number of coded packets, the security of BATS code is effective when T is sufficiently large. Here, by "intrinsic security", we mean the security protection provided by the BATS coding scheme without extra enhancement.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
<p id="section-6.1-3">
   If the eavesdropper can collect a sufficient number of coded packets for correctly decoding, the intrinsic security of BATS code is ineffective. One solution in this case is to encrypt the whole data before using the BATS code scheme. Better schemes are desired towards reducing the computation cost of the whole data encryption solution. This is a research issue that depends on specific BATS code schemes and will not be further discussed here.<a class="pilcrow" href="#section-6.1-3">¶</a></p>
<p id="section-6.1-4">
          The threat exists for eavesdropping on the initial encoding process, which takes place at the encoding nodes. In these nodes, the transported data are presented in plain text and can be read along their transfer paths. Hence, information isolation between the encoding process and all other user processes running on the source node <span class="bcp14">MUST</span> be assured.<a class="pilcrow" href="#section-6.1-4">¶</a></p>
<p id="section-6.1-5">
          In addition, the authenticity and trustworthiness of the encoding, recoding, and decoding program running on all the nodes <span class="bcp14">MUST</span> be attested by a trusted authority. Such a measure is also necessary in countering pollution attacks.<a class="pilcrow" href="#section-6.1-5">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-privacy-preservation-agains">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-privacy-preservation-agains">Privacy Preservation against Traffic Analysis</a>
        </h3>
<p id="section-6.2-1"> A security issue closely related to eavesdropping is traffic analysis. Even when eavesdropping is prevented, tracking the traffic flow patterns can help an attacker to know certain information about the communication. Preventing traffic analysis is critical for communications that need to be anonymous. In <span>[<a class="cite xref" href="#Fan09">Fan09</a>]</span>, an approach based on  homomorphic encryption is proposed for network coding to prevent traffic analysis. However, homomorphic encryption could be too computationally expensive for practical applications and cannot help with the traffic analysis by monitoring the frequency and timing of network traffic.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<p id="section-6.2-2">  The network traffic using network coding does not necessarily satisfy the flow conservation property, and hence, network coding can be used as a tool for defeating traffic analysis. For example, redundant network traffic can be generated by network coding to make it harder for an attacker to learn the true communication. Moreover, traffic analysis countermeasures can benefit from multipath communication <span>[<a class="cite xref" href="#Yang15">Yang15</a>]</span>, and network coding makes multipath communication more flexible and efficient. Therefore, using network coding brings new research issues for both traffic analysis and its countermeasure.<a class="pilcrow" href="#section-6.2-2">¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-countermeasures-against-pol">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-countermeasures-against-pol">Countermeasures against Pollution Attacks</a>
        </h3>
<p id="section-6.3-1">Like all network codes, BATS codes are vulnerable to pollution attacks. In these attacks, one or more compromised coding node(s) can pollute the coded messages by injecting forged  packets into the network and thus prevent the receivers from recovering the transported data correctly. Moreover, a small number of polluted packets can infect a large number of packets by recoding and decoding <span>[<a class="cite xref" href="#Zhao07">Zhao07</a>]</span>.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<p id="section-6.3-2">The research community has long been investigating the use of homomorphic signatures to identify the forged packets and stall the attacks (see <span>[<a class="cite xref" href="#Zhao07">Zhao07</a>]</span>, <span>[<a class="cite xref" href="#Yu08">Yu08</a>]</span>, and <span>[<a class="cite xref" href="#Agrawal09">Agrawal09</a>]</span>). In these schemes, the source node attaches a signature to each packet to transmit, and the signature is allowed to be processed by network coding in the same way as the payload. All the intermediate nodes and the destination node can verify the signature attached to a received packet. However, these countermeasures are regarded as being too computationally expensive to be employed in broadband communications.<a class="pilcrow" href="#section-6.3-2">¶</a></p>
<p id="section-6.3-3">A system-level approach based on <span><a class="internal xref" href="#TC-Wikipedia">trusted computing</a> [<a class="cite xref" href="#TC-Wikipedia">TC-Wikipedia</a>]</span> can provide an alternative to protect BATS codes against pollution attacks. Trusted computing consists of software and hardware technologies so that a computer behaves as expected. Suppose that all the network nodes employ trusted computing. Two nodes will first gain trust with each other and then negotiate an authentication method for exchanging the coded packets of the BATS coding scheme. A network node would not use any packets received from other nodes without trust to avoid the pollution attack.<a class="pilcrow" href="#section-6.3-3">¶</a></p>
</section>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8406">[RFC8406]</dt>
        <dd>
<span class="refAuthor">Adamson, B.</span>, <span class="refAuthor">Adjih, C.</span>, <span class="refAuthor">Bilbao, J.</span>, <span class="refAuthor">Firoiu, V.</span>, <span class="refAuthor">Fitzek, F.</span>, <span class="refAuthor">Ghanem, S.</span>, <span class="refAuthor">Lochin, E.</span>, <span class="refAuthor">Masucci, A.</span>, <span class="refAuthor">Montpetit, M.</span>, <span class="refAuthor">Pedersen, M.</span>, <span class="refAuthor">Peralta, G.</span>, <span class="refAuthor">Roca, V., Ed.</span>, <span class="refAuthor">Saxena, P.</span>, and <span class="refAuthor">S. Sivakumar</span>, <span class="refTitle">"Taxonomy of Coding Techniques for Efficient Network Communications"</span>, <span class="seriesInfo">RFC 8406</span>, <span class="seriesInfo">DOI 10.17487/RFC8406</span>, <time class="refDate" datetime="2018-06">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8406">https://www.rfc-editor.org/info/rfc8406</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8682">[RFC8682]</dt>
      <dd>
<span class="refAuthor">Saito, M.</span>, <span class="refAuthor">Matsumoto, M.</span>, <span class="refAuthor">Roca, V., Ed.</span>, and <span class="refAuthor">E. Baccelli</span>, <span class="refTitle">"TinyMT32 Pseudorandom Number Generator (PRNG)"</span>, <span class="seriesInfo">RFC 8682</span>, <span class="seriesInfo">DOI 10.17487/RFC8682</span>, <time class="refDate" datetime="2020-01">January 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8682">https://www.rfc-editor.org/info/rfc8682</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="Agrawal09">[Agrawal09]</dt>
        <dd>
<span class="refAuthor">Agrawal, S.</span> and <span class="refAuthor">D. Boneh</span>, <span class="refTitle">"Homomorphic MACs: MAC-Based Integrity for Network Coding"</span>, <span class="refContent">International Conference on Applied Cryptography and Network Security</span>, <span class="seriesInfo">DOI 10.1007/978-3-642-01957-9_18</span>, <time class="refDate" datetime="2009-05">May 2009</time>, <span>&lt;<a href="https://doi.org/10.1007/978-3-642-01957-9_18">https://doi.org/10.1007/978-3-642-01957-9_18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Bhattad07">[Bhattad07]</dt>
        <dd>
<span class="refAuthor">Bhattad, K.</span> and <span class="refAuthor">K. Narayanan</span>, <span class="refTitle">"Weakly Secure Network Coding"</span>, <time class="refDate" datetime="2005-04">April 2005</time>. </dd>
<dd class="break"></dd>
<dt id="Byers20">[Byers20]</dt>
        <dd>
<span class="refAuthor">Byers, J.</span> and <span class="refAuthor">M. Luby</span>, <span class="refTitle">"Liquid Data Networking"</span>, <span class="refContent">Proceedings of the 7th ACM Conference on Information-Centric Networking</span>, <span class="seriesInfo">DOI 10.1145/3405656.3418710</span>, <time class="refDate" datetime="2020-09">September 2020</time>, <span>&lt;<a href="https://doi.org/10.1145/3405656.3418710">https://doi.org/10.1145/3405656.3418710</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Dong20">[Dong20]</dt>
        <dd>
<span class="refAuthor">Dong, Y.</span>, <span class="refAuthor">Jin, S.</span>, <span class="refAuthor">Yang, S.</span>, and <span class="refAuthor">H. Yin</span>, <span class="refTitle">"Network Utility Maximization for BATS Code Enabled Multihop Wireless Networks"</span>, <span class="refContent">ICC 2020 - 2020 IEEE International Conference on Communications (ICC)</span>, <span class="seriesInfo">DOI 10.1109/ICC40277.2020.9148834</span>, <time class="refDate" datetime="2020-06">June 2020</time>, <span>&lt;<a href="https://doi.org/10.1109/ICC40277.2020.9148834">https://doi.org/10.1109/ICC40277.2020.9148834</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Fan09">[Fan09]</dt>
        <dd>
<span class="refAuthor">Yanfei, Y.</span>, <span class="refAuthor">Yixin, Y.</span>, <span class="refAuthor">Haojin, H.</span>, and <span class="refAuthor">X. Sherman</span>, <span class="refTitle">"An Efficient Privacy-Preserving Scheme against Traffic Analysis Attacks in Network Coding"</span>, <span class="refContent">IEEE INFOCOM 2009</span>, <span class="seriesInfo">DOI 10.1109/INFCOM.2009.5062146</span>, <time class="refDate" datetime="2009-04">April 2009</time>, <span>&lt;<a href="https://doi.org/10.1109/INFCOM.2009.5062146">https://doi.org/10.1109/INFCOM.2009.5062146</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Li03">[Li03]</dt>
        <dd>
<span class="refAuthor">Li, S.-Y.</span>, <span class="refAuthor">Yeung, R.</span>, and <span class="refAuthor">N. Cai</span>, <span class="refTitle">"Linear network coding"</span>, <span class="refContent">IEEE Transactions on Information Theory</span>, <span class="seriesInfo">DOI 10.1109/TIT.2002.807285</span>, <time class="refDate" datetime="2003-02">February 2003</time>, <span>&lt;<a href="https://doi.org/10.1109/TIT.2002.807285">https://doi.org/10.1109/TIT.2002.807285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6330">[RFC6330]</dt>
        <dd>
<span class="refAuthor">Luby, M.</span>, <span class="refAuthor">Shokrollahi, A.</span>, <span class="refAuthor">Watson, M.</span>, <span class="refAuthor">Stockhammer, T.</span>, and <span class="refAuthor">L. Minder</span>, <span class="refTitle">"RaptorQ Forward Error Correction Scheme for Object Delivery"</span>, <span class="seriesInfo">RFC 6330</span>, <span class="seriesInfo">DOI 10.17487/RFC6330</span>, <time class="refDate" datetime="2011-08">August 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6330">https://www.rfc-editor.org/info/rfc6330</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9265">[RFC9265]</dt>
        <dd>
<span class="refAuthor">Kuhn, N.</span>, <span class="refAuthor">Lochin, E.</span>, <span class="refAuthor">Michel, F.</span>, and <span class="refAuthor">M. Welzl</span>, <span class="refTitle">"Forward Erasure Correction (FEC) Coding and Congestion Control in Transport"</span>, <span class="seriesInfo">RFC 9265</span>, <span class="seriesInfo">DOI 10.17487/RFC9265</span>, <time class="refDate" datetime="2022-07">July 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9265">https://www.rfc-editor.org/info/rfc9265</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Sprea19">[Sprea19]</dt>
        <dd>
<span class="refAuthor">Sprea, N.</span>, <span class="refAuthor">Bashir, M.</span>, <span class="refAuthor">Truhachev, D.</span>, <span class="refAuthor">Srinivas, K.</span>, <span class="refAuthor">Schlegel, C.</span>, and <span class="refAuthor">C. Sacchi</span>, <span class="refTitle">"BATS Coding for Underwater Acoustic Communication Networks"</span>, <span class="refContent">OCEANS 2019 - Marseille</span>, <span class="seriesInfo">DOI 10.1109/OCEANSE.2019.8867299</span>, <time class="refDate" datetime="2019-06">June 2019</time>, <span>&lt;<a href="https://doi.org/10.1109/OCEANSE.2019.8867299">https://doi.org/10.1109/OCEANSE.2019.8867299</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TC-Wikipedia">[TC-Wikipedia]</dt>
        <dd>
<span class="refAuthor">Wikipedia</span>, <span class="refTitle">"Trusted Computing"</span>, <time class="refDate" datetime="2023-04">April 2023</time>, <span>&lt;<a href="https://en.wikipedia.org/w/index.php?title=Trusted_Computing&amp;oldid=1151565594">https://en.wikipedia.org/w/index.php?title=Trusted_Computing&amp;oldid=1151565594</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Toh02">[Toh02]</dt>
        <dd>
<span class="refAuthor">Toh, C.</span>, <span class="refTitle">"Ad Hoc Mobile Wireless Networks"</span>, <span class="refContent">Prentice Hall Publishers</span>, <time class="refDate" datetime="2001-12">December 2001</time>. </dd>
<dd class="break"></dd>
<dt id="Yang14">[Yang14]</dt>
        <dd>
<span class="refAuthor">Yang, S.</span> and <span class="refAuthor">R. Yeung</span>, <span class="refTitle">"Batched Sparse Codes"</span>, <span class="refContent">IEEE Transactions on Information Theory, Vol. 60, Issue 9, pgs. 5322-5346</span>, <span class="seriesInfo">DOI 10.1109/TIT.2014.2334315</span>, <time class="refDate" datetime="2014-09">September 2014</time>, <span>&lt;<a href="https://doi.org/10.1109/TIT.2014.2334315">https://doi.org/10.1109/TIT.2014.2334315</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Yang15">[Yang15]</dt>
        <dd>
<span class="refAuthor">Yang, L.</span> and <span class="refAuthor">F. Fengjun</span>, <span class="refTitle">"mTor: A multipath Tor routing beyond bandwidth throttling"</span>, <span class="refContent">2015 IEEE Conference on Communications and Network Security (CNS)</span>, <span class="seriesInfo">DOI 10.1109/CNS.2015.7346860</span>, <time class="refDate" datetime="2015-09">September 2015</time>, <span>&lt;<a href="https://doi.org/10.1109/CNS.2015.7346860">https://doi.org/10.1109/CNS.2015.7346860</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Yang17">[Yang17]</dt>
        <dd>
<span class="refAuthor">Yang, S.</span> and <span class="refAuthor">R. Yeung</span>, <span class="refTitle">"BATS Codes: Theory and Practice"</span>, <span class="refContent">Morgan &amp; Claypool Publishers</span>, <time class="refDate" datetime="2017-09">September 2017</time>. </dd>
<dd class="break"></dd>
<dt id="Yin19">[Yin19]</dt>
        <dd>
<span class="refAuthor">Yin, H.</span>, <span class="refAuthor">Tang, B.</span>, <span class="refAuthor">Ng, K.</span>, <span class="refAuthor">Yang, S.</span>, <span class="refAuthor">Wang, X.</span>, and <span class="refAuthor">Q. Zhou</span>, <span class="refTitle">"A Unified Adaptive Recoding Framework for Batched Network Coding"</span>, <span class="refContent">2019 IEEE International Symposium on Information Theory (ISIT)</span>, <span class="seriesInfo">DOI 10.1109/ISIT.2019.8849277</span>, <time class="refDate" datetime="2019-07">July 2019</time>, <span>&lt;<a href="https://doi.org/10.1109/ISIT.2019.8849277">https://doi.org/10.1109/ISIT.2019.8849277</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Yin20">[Yin20]</dt>
        <dd>
<span class="refAuthor">Yin, H.</span>, <span class="refAuthor">Yeung, R.</span>, and <span class="refAuthor">S. Yang</span>, <span class="refTitle">"A Protocol Design Paradigm for Batched Sparse Codes"</span>, <span class="refContent">Entropy</span>, <span class="seriesInfo">DOI 10.3390/e22070790</span>, <time class="refDate" datetime="2020-07">July 2020</time>, <span>&lt;<a href="https://doi.org/10.3390/e22070790">https://doi.org/10.3390/e22070790</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Yu08">[Yu08]</dt>
        <dd>
<span class="refAuthor">Yu, Z.</span>, <span class="refAuthor">Wei, Y.</span>, <span class="refAuthor">Ramkumar, B.</span>, and <span class="refAuthor">Y. Guan</span>, <span class="refTitle">"An Efficient Signature-Based Scheme for Securing Network Coding Against Pollution Attacks"</span>, <span class="refContent">IEEE INFOCOM 2008 - The 27th Conference on Computer Communications</span>, <span class="seriesInfo">DOI 10.1109/INFOCOM.2008.199</span>, <time class="refDate" datetime="2008-04">April 2008</time>, <span>&lt;<a href="https://doi.org/10.1109/INFOCOM.2008.199">https://doi.org/10.1109/INFOCOM.2008.199</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Zhang16">[Zhang16]</dt>
        <dd>
<span class="refAuthor">Zhang, G.</span> and <span class="refAuthor">Z. Xu</span>, <span class="refTitle">"Combing CCN with network coding: An architectural perspective"</span>, <span class="refContent">Computer Networks</span>, <span class="seriesInfo">DOI 10.1016/j.comnet.2015.11.008</span>, <time class="refDate" datetime="2016-01">January 2016</time>, <span>&lt;<a href="https://doi.org/10.1016/j.comnet.2015.11.008">https://doi.org/10.1016/j.comnet.2015.11.008</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Zhao07">[Zhao07]</dt>
      <dd>
<span class="refAuthor">Zhao, F.</span>, <span class="refAuthor">Kalker, T.</span>, <span class="refAuthor">Medard, M.</span>, and <span class="refAuthor">K. Han</span>, <span class="refTitle">"Signatures for content distribution with network coding"</span>, <span class="refContent">2007 IEEE International Symposium on Information Theory</span>, <span class="seriesInfo">DOI 10.1109/ISIT.2007.4557283</span>, <time class="refDate" datetime="2007-06">June 2007</time>, <span>&lt;<a href="https://doi.org/10.1109/ISIT.2007.4557283">https://doi.org/10.1109/ISIT.2007.4557283</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">
        The authors would like to thank the NWCRG chairs, <span class="contact-name">Vincent Roca</span> (our shepherd) and <span class="contact-name">Marie-Jose Montpetit</span>, as well as
        all those who provided comments, namely (in alphabetical order), <span class="contact-name">Emmanuel Lochin</span>, <span class="contact-name">David Oran</span>, and <span class="contact-name">Colin Perkins</span>.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Shenghao Yang</span></div>
<div class="left" dir="auto"><span class="org">CUHK(SZ) &amp; n-hop technologies</span></div>
<div class="left" dir="auto"><span class="locality">Shenzhen</span></div>
<div class="left" dir="auto">
<span class="region">Guangdong</span>, </div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+86%20755%208427%203827">+86 755 8427 3827</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:shyang@cuhk.edu.cn">shyang@cuhk.edu.cn</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Xuan Huang</span></div>
<div class="left" dir="auto"><span class="org">CUHK</span></div>
<div class="left" dir="auto"><span class="locality">Hong Kong</span></div>
<div class="left" dir="auto">
<span class="region">Hong Kong SAR</span>, </div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+852%203943%208375">+852 3943 8375</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:1155136647@link.cuhk.edu.hk">1155136647@link.cuhk.edu.hk</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Raymond W. Yeung</span></div>
<div class="left" dir="auto"><span class="org">CUHK &amp; n-hop technologies</span></div>
<div class="left" dir="auto"><span class="locality">Hong Kong</span></div>
<div class="left" dir="auto">
<span class="region">Hong Kong SAR</span>, </div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+852%203943%208375">+852 3943 8375</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:whyeung@ie.cuhk.edu.hk">whyeung@ie.cuhk.edu.hk</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">John K. Zao</span></div>
<div class="left" dir="auto"><span class="org">CUHK</span></div>
<div class="left" dir="auto"><span class="locality">Hong Kong</span></div>
<div class="left" dir="auto">
<span class="region">Hong Kong SAR</span>, </div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+852%203943%208346">+852 3943 8346</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:johnzao@ie.cuhk.edu.hk">johnzao@ie.cuhk.edu.hk</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>