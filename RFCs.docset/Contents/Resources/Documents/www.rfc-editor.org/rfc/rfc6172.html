<html><head></head><body><pre>Internet Engineering Task Force (IETF)                          D. Black
Request for Comments: 6172                                           EMC
Updates: <a href="./rfc4172">4172</a>                                                D. Peterson
Category: Standards Track                                        Brocade
ISSN: 2070-1721                                               March 2011


       <span class="h1">Deprecation of the Internet Fibre Channel Protocol (iFCP)</span>
                        <span class="h1">Address Translation Mode</span>

Abstract

   Changes to Fibre Channel have caused the specification of the
   Internet Fibre Channel Protocol (iFCP) address translation mode to
   become incorrect.  Due to the absence of usage of iFCP address
   translation mode, it is deprecated by this document.  iFCP address
   transparent mode remains correctly specified.

   iFCP address transparent mode has been implemented and is in current
   use; therefore, it is not affected by this document.

   This document also records the state of Protocol Number 133, which
   was allocated for a pre-standard version of the Fibre Channel
   Internet Protocol (FCIP).

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6172">http://www.rfc-editor.org/info/rfc6172</a>.













<span class="grey">Black &amp; Peterson             Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc6172">RFC 6172</a>              iFCP and Protocol 133 Updates           March 2011</span>


Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction...................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Conventions Used in This Document..............................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. iFCP Address Translation Mode..................................<a href="#page-3">3</a>
      <a href="#section-3.1">3.1</a>. Problem Discussion........................................<a href="#page-4">4</a>
      <a href="#section-3.2">3.2</a>. iFCP Address Translation Mode Deprecation.................<a href="#page-4">4</a>
   <a href="#section-4">4</a>. FCIP and Protocol Number 133...................................<a href="#page-5">5</a>
   <a href="#section-5">5</a>. Security Considerations........................................<a href="#page-5">5</a>
   <a href="#section-6">6</a>. IANA Considerations............................................<a href="#page-5">5</a>
   <a href="#section-7">7</a>. Conclusions....................................................<a href="#page-5">5</a>
   <a href="#section-8">8</a>. References.....................................................<a href="#page-5">5</a>
      <a href="#section-8.1">8.1</a>. Normative References......................................<a href="#page-5">5</a>
      <a href="#section-8.2">8.2</a>. Informative References....................................<a href="#page-6">6</a>
   <a href="#section-9">9</a>. Acknowledgments ...............................................<a href="#page-6">6</a>





















<span class="grey">Black &amp; Peterson             Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc6172">RFC 6172</a>              iFCP and Protocol 133 Updates           March 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   See <a href="./rfc4172#section-3">Section 3 of [RFC4172]</a> for introductory material on Fibre Channel
   concepts.

   The Internet Fibre Channel Protocol (iFCP) [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>] operates in two
   modes with respect to Fibre Channel N_PORT fabric addresses (24-bit
   N_PORT_IDs): address transparent mode and address translation mode
   (both modes are specified in [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>]):

   o  Address transparent mode is a pass-through mode that preserves
      Fibre Channel N_PORT fabric addresses.

   o  Address translation mode is a Fibre Channel analog to Network
      Address Translation (NAT) in which iFCP gateways change Fibre
      Channel N_PORT fabric addresses at the boundary between Fibre
      Channel and the Internet.  Both the source (S_ID) and destination
      (D_ID) N_PORT fabric addresses may be changed by the iFCP
      gateways.

   This document deprecates iFCP address translation mode because the
   specification has not tracked changes in Fibre Channel and because
   there are no known implementations.

   Protocol Number 133 was allocated for a pre-standard version of the
   Fibre Channel Internet Protocol (FCIP) that encapsulated FC frames
   directly in IP packets.  That protocol number is not used by the
   standard FCIP protocol [<a href="./rfc3821" title='"Fibre Channel Over TCP/IP (FCIP)"'>RFC3821</a>] [<a href="#ref-FC-BB-3" title="ANSI INCITS 414-2006">FC-BB-3</a>], but implementations of
   the pre-standard protocol were deployed.  Therefore, this document
   makes no change to the current allocation of Protocol Number 133.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20iFCP%20Address%20Translation%20Mode"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  iFCP Address Translation Mode</span>

   iFCP address translation mode has to translate addresses embedded in
   transmitted data.  This is analogous to NAT translation of IP
   addresses embedded in IP packets.  Fibre Channel restricts the
   occurrence of embedded fabric addresses to control messages (frames);
   N_PORTs send and receive two types of control frames that may contain
   embedded fabric addresses:






<span class="grey">Black &amp; Peterson             Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc6172">RFC 6172</a>              iFCP and Protocol 133 Updates           March 2011</span>


   o  Extended Link Services (ELSs); and

   o  FC-4 Link Services (FC-4 LSs) for the Small Computer System
      Interface (SCSI) over Fibre Channel Protocol (FCP).

   The embedded fabric address translations for N_PORT control frames
   are specified in <a href="./rfc4172#section-7.3">Section 7.3 of [RFC4172]</a>.  These translations were
   correct as specified for Fibre Channel as of approximately 2003,
   based on the [<a href="#ref-FC-FS" title="ANSI INCITS 373-2003">FC-FS</a>] standard for ELSs and the [<a href="#ref-FCP" title="ANSI INCITS 269-1996">FCP</a>] standard for FCP
   FC-4 LSs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20Problem%20Discussion"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  Problem Discussion</span>

   Significant changes have been made to FC control frames since the
   iFCP specification [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>] was published; the currently applicable
   FC standards are [<a href="#ref-FC-LS" title="ANSI INCITS 433-2007">FC-LS</a>] and [<a href="#ref-FCP-3" title="ISO/IEC 14776-223:2008">FCP-3</a>], and additional changes are
   forthcoming in the [<a href="#ref-FC-LS-2" title="INCITS Project 2103-D">FC-LS-2</a>] and [<a href="#ref-FCP-4" title="INCITS Project 1828-D">FCP-4</a>] standards projects, which
   are nearing completion.  These changes have caused <a href="./rfc4172#section-7.3">Section 7.3 of
   [RFC4172]</a> to become incorrect.

   Actual iFCP deployment has diverged significantly from that
   anticipated during the development of [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>].  All deployments of
   iFCP known to the authors of this document use iFCP address
   transparent mode and are used only for FC inter-switch links.  iFCP
   address translation mode as specified in [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>] cannot be used for
   FC inter-switch links because the necessary embedded fabric address
   translations for FC inter-switch control messages (Switch Fabric
   Internal Link Services (ILSs)) have not been specified.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.2.%20%20iFCP%20Address%20Translation%20Mode%20Deprecation"></a><a class="selflink" href="#section-3.2" id="section-3.2">3.2</a>.  iFCP Address Translation Mode Deprecation</span>

   For the reasons described above, it is prudent to deprecate iFCP
   address translation mode in preference to updating it to the current
   state of Fibre Channel standards.  Updating iFCP address translation
   mode would create a continuing requirement to update an unused
   protocol mode to match future changes to FC control frames.

   Therefore, this document deprecates iFCP address translation mode:

   o  iFCP address translation mode [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>] SHOULD NOT be implemented
      and SHOULD NOT be used.

   o  The status of [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>] remains Proposed Standard RFC in order to
      retain the specification of iFCP address transparent mode.

   o  The [<a href="./rfc4172" title='"iFCP - A Protocol for Internet Fibre Channel Storage Networking"'>RFC4172</a>] specification of iFCP address translation mode
      should be treated as Historic [<a href="./rfc2026" title='"The Internet Standards Process -- Revision 3"'>RFC2026</a>].




<span class="grey">Black &amp; Peterson             Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc6172">RFC 6172</a>              iFCP and Protocol 133 Updates           March 2011</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20FCIP%20and%20Protocol%20Number%20133"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  FCIP and Protocol Number 133</span>

   Protocol Number 133 was allocated for Fibre Channel (FC) [<a href="#ref-IANA-IP" title=" http://www.iana.org">IANA-IP</a>]
   and used by a pre-standard version of the FCIP protocol that
   encapsulates FC frames directly in IP packets.  The standard FCIP
   protocol [<a href="./rfc3821" title='"Fibre Channel Over TCP/IP (FCIP)"'>RFC3821</a>] [<a href="#ref-FC-BB-3" title="ANSI INCITS 414-2006">FC-BB-3</a>] encapsulates FC frames in TCP and hence
   does not use Protocol Number 133, but implementations of the pre-
   standard version of the FCIP protocol were deployed [<a href="#ref-MR" title="Private email communication">MR</a>].  Based on
   this deployment, the protocol number needs to remain allocated.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Security Considerations</span>

   The security considerations for iFCP continue to apply; see <a href="./rfc4172#section-10">Section</a>
   <a href="./rfc4172#section-10">10 of [RFC4172]</a>.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  IANA Considerations</span>

   IANA has added this document as a supplemental reference for the
   allocation of Protocol Number 133 but hasn't changed that allocation.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20Conclusions"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  Conclusions</span>

   For the reasons described in this document, iFCP Address Translation
   mode is deprecated, and the allocation of Protocol Number 133 remains
   unchanged at this time.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20References"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-FC-FS">FC-FS</a>]   Fibre Channel Framing and Signaling Interface (FC-FS), ANSI
             INCITS 373-2003, October 2003.

   [<a id="ref-FC-LS">FC-LS</a>]   Fibre Channel - Link Services (FC-LS), ANSI INCITS
             433-2007, July 2007.

   [<a id="ref-FCP">FCP</a>]     Fibre Channel Protocol (FCP), ANSI INCITS 269-1996, April
             1996.

   [<a id="ref-FCP-3">FCP-3</a>]   Fibre Channel Protocol - 3 (FCP-3), ISO/IEC 14776-223:2008,
             June 2008.

   [<a id="ref-IANA-IP">IANA-IP</a>] Assigned Internet Protocol Numbers, IANA Registry,
             <a href="http://www.iana.org">http://www.iana.org</a>, visited October 2010.

   [<a id="ref-RFC2026">RFC2026</a>] Bradner, S., "The Internet Standards Process -- Revision
             3", <a href="https://www.rfc-editor.org/bcp/bcp9">BCP 9</a>, <a href="./rfc2026">RFC 2026</a>, October 1996.




<span class="grey">Black &amp; Peterson             Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc6172">RFC 6172</a>              iFCP and Protocol 133 Updates           March 2011</span>


   [<a id="ref-RFC2119">RFC2119</a>] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-RFC4172">RFC4172</a>] Monia, C., Mullendore, R., Travostino, F., Jeong, W., and
             M. Edwards, "iFCP - A Protocol for Internet Fibre Channel
             Storage Networking", <a href="./rfc4172">RFC 4172</a>, September 2005.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-FC-BB-3">FC-BB-3</a>] Fibre Channel Backbone - 3 (FC-BB-3), ANSI INCITS 414-2006,
             July 2006.

   [<a id="ref-FC-LS-2">FC-LS-2</a>] Fibre Channel - Link Services - 2 (FC-LS-2), INCITS Project
             2103-D, Technical Committee T11 (www.t11.org).

   [<a id="ref-FCP-4">FCP-4</a>]   Fibre Channel Protocol - 4 (FCP-4), INCITS Project 1828-D,
             Technical Committee T10 (www.t10.org).

   [<a id="ref-MR">MR</a>]      Rajagopal, M., Private email communication, June 2009.

   [<a id="ref-RFC3821">RFC3821</a>] Rajagopal, M., Rodriguez, E., and R. Weber, "Fibre Channel
             Over TCP/IP (FCIP)", <a href="./rfc3821">RFC 3821</a>, July 2004.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Acknowledgments"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Acknowledgments</span>

   The authors would like to thank Tom Talpey, David Harrington, Joe
   Touch, Paul Hoffman, and Pekka Savola for helpful comments on this
   document.

Authors' Addresses

   David L. Black
   EMC Corporation
   176 South Street
   Hopkinton, MA 01748

   Phone: +1 (508) 293-7953
   EMail: david.black@emc.com

   David Peterson
   Brocade Communications
   6000 Nathan Lane North
   Plymouth, MN 55442

   Phone: +1 (612) 802-3299
   EMail: david.peterson@brocade.com





Black &amp; Peterson             Standards Track                    [Page 6]
</pre>
</body></html>