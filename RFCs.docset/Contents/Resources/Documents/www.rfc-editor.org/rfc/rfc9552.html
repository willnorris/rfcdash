<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9552: Distribution of Link-State and Traffic Engineering Information Using BGP</title>
<meta content="Ketan Talaulikar" name="author"/>
<meta content="
       In many environments, a component external to a network is called
      upon to perform computations based on the network topology and the
      current state of the connections within the network, including Traffic
      Engineering (TE) information. This is information typically distributed
      by IGP routing protocols within the network. 
       This document describes a mechanism by which link-state and TE
      information can be collected from networks and shared with external
      components using the BGP routing protocol. This is achieved using a BGP
      Network Layer Reachability Information (NLRI) encoding format. The
      mechanism applies to physical and virtual (e.g., tunnel) IGP links. The
      mechanism described is subject to policy control. 
       Applications of this technique include Application-Layer Traffic
      Optimization (ALTO) servers and Path Computation Elements (PCEs). 
       This document obsoletes RFC 7752 by completely replacing that
      document. It makes some small changes and clarifications to the previous
      specification. This document also obsoletes RFC 9029 by incorporating the
      updates that it made to RFC 7752. 
    " name="description"/>
<meta content="xml2rfc 3.19.0" name="generator"/>
<meta content="9552" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.19.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9552.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-idr-rfc7752bis-17" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9552" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9552</td>
<td class="center">Link-State Information Distribution Usin</td>
<td class="right">December 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Talaulikar</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9552">9552</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc7752">7752</a>, <a class="eref" href="https://www.rfc-editor.org/rfc/rfc9029">9029</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-12">December 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Talaulikar, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9552</h1>
<h1 id="title">Distribution of Link-State and Traffic Engineering Information Using BGP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">In many environments, a component external to a network is called
      upon to perform computations based on the network topology and the
      current state of the connections within the network, including Traffic
      Engineering (TE) information. This is information typically distributed
      by IGP routing protocols within the network.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">This document describes a mechanism by which link-state and TE
      information can be collected from networks and shared with external
      components using the BGP routing protocol. This is achieved using a BGP
      Network Layer Reachability Information (NLRI) encoding format. The
      mechanism applies to physical and virtual (e.g., tunnel) IGP links. The
      mechanism described is subject to policy control.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
<p id="section-abstract-3">Applications of this technique include Application-Layer Traffic
      Optimization (ALTO) servers and Path Computation Elements (PCEs).<a class="pilcrow" href="#section-abstract-3">¶</a></p>
<p id="section-abstract-4">This document obsoletes RFC 7752 by completely replacing that
      document. It makes some small changes and clarifications to the previous
      specification. This document also obsoletes RFC 9029 by incorporating the
      updates that it made to RFC 7752.<a class="pilcrow" href="#section-abstract-4">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9552">https://www.rfc-editor.org/info/rfc9552</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-motivation-and-applicabilit">Motivation and Applicability</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-mpls-te-with-pce">MPLS-TE with PCE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-alto-server-network-api">ALTO Server Network API</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-bgp-speaker-roles-for-bgp-l">BGP Speaker Roles for BGP-LS</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-advertising-igp-information">Advertising IGP Information into BGP-LS</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-carrying-link-state-informa">Carrying Link-State Information in BGP</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-tlv-format">TLV Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-the-link-state-nlri">The Link-State NLRI</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a class="auto internal xref" href="#section-5.2.1">5.2.1</a>.  <a class="internal xref" href="#name-node-descriptors">Node Descriptors</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a class="auto internal xref" href="#section-5.2.2">5.2.2</a>.  <a class="internal xref" href="#name-link-descriptors">Link Descriptors</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a class="auto internal xref" href="#section-5.2.3">5.2.3</a>.  <a class="internal xref" href="#name-prefix-descriptors">Prefix Descriptors</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="auto internal xref" href="#section-5.3">5.3</a>.  <a class="internal xref" href="#name-the-bgp-ls-attribute">The BGP-LS Attribute</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a class="auto internal xref" href="#section-5.3.1">5.3.1</a>.  <a class="internal xref" href="#name-node-attribute-tlvs">Node Attribute TLVs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a class="auto internal xref" href="#section-5.3.2">5.3.2</a>.  <a class="internal xref" href="#name-link-attribute-tlvs">Link Attribute TLVs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a class="auto internal xref" href="#section-5.3.3">5.3.3</a>.  <a class="internal xref" href="#name-prefix-attribute-tlvs">Prefix Attribute TLVs</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="auto internal xref" href="#section-5.4">5.4</a>.  <a class="internal xref" href="#name-private-use">Private Use</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a class="auto internal xref" href="#section-5.5">5.5</a>.  <a class="internal xref" href="#name-bgp-next-hop-information">BGP Next-Hop Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a class="auto internal xref" href="#section-5.6">5.6</a>.  <a class="internal xref" href="#name-inter-as-links">Inter-AS Links</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a class="auto internal xref" href="#section-5.7">5.7</a>.  <a class="internal xref" href="#name-ospf-virtual-links-and-sham">OSPF Virtual Links and Sham Links</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8">
                <p id="section-toc.1-1.5.2.8.1"><a class="auto internal xref" href="#section-5.8">5.8</a>.  <a class="internal xref" href="#name-ospfv2-type-4-summary-lsa-o">OSPFv2 Type 4 Summary-LSA &amp; OSPFv3 Inter-Area-Router-LSA</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9">
                <p id="section-toc.1-1.5.2.9.1"><a class="auto internal xref" href="#section-5.9">5.9</a>.  <a class="internal xref" href="#name-handling-of-unreachable-igp">Handling of Unreachable IGP Nodes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10">
                <p id="section-toc.1-1.5.2.10.1"><a class="auto internal xref" href="#section-5.10">5.10</a>. <a class="internal xref" href="#name-router-id-anchoring-example">Router-ID Anchoring Example: ISO Pseudonode</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.11">
                <p id="section-toc.1-1.5.2.11.1"><a class="auto internal xref" href="#section-5.11">5.11</a>. <a class="internal xref" href="#name-router-id-anchoring-example-">Router-ID Anchoring Example: OSPF Pseudonode</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.12">
                <p id="section-toc.1-1.5.2.12.1"><a class="auto internal xref" href="#section-5.12">5.12</a>. <a class="internal xref" href="#name-router-id-anchoring-example-o">Router-ID Anchoring Example: OSPFv2 to IS-IS Migration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-link-to-path-aggregation">Link to Path Aggregation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-example-no-link-aggregation">Example: No Link Aggregation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-example-asbr-to-asbr-path-a">Example: ASBR to ASBR Path Aggregation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-example-multi-as-path-aggre">Example: Multi-AS Path Aggregation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-bgp-ls-registries">BGP-LS Registries</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a class="auto internal xref" href="#section-7.1.1">7.1.1</a>.  <a class="internal xref" href="#name-bgp-ls-nlri-types-registry">BGP-LS NLRI Types Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a class="auto internal xref" href="#section-7.1.2">7.1.2</a>.  <a class="internal xref" href="#name-bgp-ls-protocol-ids-registr">BGP-LS Protocol-IDs Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.3">
                    <p id="section-toc.1-1.7.2.1.2.3.1"><a class="auto internal xref" href="#section-7.1.3">7.1.3</a>.  <a class="internal xref" href="#name-bgp-ls-well-known-instance-">BGP-LS Well-Known Instance-IDs Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.4">
                    <p id="section-toc.1-1.7.2.1.2.4.1"><a class="auto internal xref" href="#section-7.1.4">7.1.4</a>.  <a class="internal xref" href="#name-bgp-ls-node-flags-registry">BGP-LS Node Flags Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.5">
                    <p id="section-toc.1-1.7.2.1.2.5.1"><a class="auto internal xref" href="#section-7.1.5">7.1.5</a>.  <a class="internal xref" href="#name-bgp-ls-mpls-protocol-mask-r">BGP-LS MPLS Protocol Mask Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.6">
                    <p id="section-toc.1-1.7.2.1.2.6.1"><a class="auto internal xref" href="#section-7.1.6">7.1.6</a>.  <a class="internal xref" href="#name-bgp-ls-igp-prefix-flags-reg">BGP-LS IGP Prefix Flags Registry</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.7">
                    <p id="section-toc.1-1.7.2.1.2.7.1"><a class="auto internal xref" href="#section-7.1.7">7.1.7</a>.  <a class="internal xref" href="#name-bgp-ls-tlvs-registry">BGP-LS TLVs Registry</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-guidance-for-designated-exp">Guidance for Designated Experts</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-manageability-consideration">Manageability Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#section-8.1">8.1</a>.  <a class="internal xref" href="#name-operational-considerations">Operational Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a class="auto internal xref" href="#section-8.1.1">8.1.1</a>.  <a class="internal xref" href="#name-operations">Operations</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.2">
                    <p id="section-toc.1-1.8.2.1.2.2.1"><a class="auto internal xref" href="#section-8.1.2">8.1.2</a>.  <a class="internal xref" href="#name-installation-and-initial-se">Installation and Initial Setup</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.3">
                    <p id="section-toc.1-1.8.2.1.2.3.1"><a class="auto internal xref" href="#section-8.1.3">8.1.3</a>.  <a class="internal xref" href="#name-migration-path">Migration Path</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.4">
                    <p id="section-toc.1-1.8.2.1.2.4.1"><a class="auto internal xref" href="#section-8.1.4">8.1.4</a>.  <a class="internal xref" href="#name-requirements-for-other-prot">Requirements for Other Protocols and Functional Components</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.5">
                    <p id="section-toc.1-1.8.2.1.2.5.1"><a class="auto internal xref" href="#section-8.1.5">8.1.5</a>.  <a class="internal xref" href="#name-impact-on-network-operation">Impact on Network Operation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.6">
                    <p id="section-toc.1-1.8.2.1.2.6.1"><a class="auto internal xref" href="#section-8.1.6">8.1.6</a>.  <a class="internal xref" href="#name-verifying-correct-operation">Verifying Correct Operation</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#section-8.2">8.2</a>.  <a class="internal xref" href="#name-management-considerations">Management Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a class="auto internal xref" href="#section-8.2.1">8.2.1</a>.  <a class="internal xref" href="#name-management-information">Management Information</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
                    <p id="section-toc.1-1.8.2.2.2.2.1"><a class="auto internal xref" href="#section-8.2.2">8.2.2</a>.  <a class="internal xref" href="#name-fault-management">Fault Management</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.3">
                    <p id="section-toc.1-1.8.2.2.2.3.1"><a class="auto internal xref" href="#section-8.2.3">8.2.3</a>.  <a class="internal xref" href="#name-configuration-management">Configuration Management</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.4">
                    <p id="section-toc.1-1.8.2.2.2.4.1"><a class="auto internal xref" href="#section-8.2.4">8.2.4</a>.  <a class="internal xref" href="#name-accounting-management">Accounting Management</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.5">
                    <p id="section-toc.1-1.8.2.2.2.5.1"><a class="auto internal xref" href="#section-8.2.5">8.2.5</a>.  <a class="internal xref" href="#name-performance-management">Performance Management</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.6">
                    <p id="section-toc.1-1.8.2.2.2.6.1"><a class="auto internal xref" href="#section-8.2.6">8.2.6</a>.  <a class="internal xref" href="#name-security-management">Security Management</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-tlv-sub-tlv-code-points-sum">TLV/Sub-TLV Code Points Summary</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#section-11">11</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="auto internal xref" href="#section-11.1">11.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="auto internal xref" href="#section-11.2">11.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-changes-from-rfc-7752">Changes from RFC 7752</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="auto internal xref" href="#appendix-D"></a><a class="internal xref" href="#name-authors-address">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="INTRO">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The contents of a Link-State Database (LSDB) or of an IGP's Traffic
      Engineering Database (TED) describe only the links and nodes within an
      IGP area. Some applications, such as end-to-end Traffic Engineering
      (TE), would benefit from visibility outside one area or Autonomous
      System (AS) to make better decisions.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The IETF has defined the Path Computation Element (PCE) <span>[<a class="cite xref" href="#RFC4655">RFC4655</a>]</span> as a mechanism for achieving the computation of
      end-to-end TE paths that crosses the visibility of more than one TED or
      that requires CPU-intensive or coordinated computations. The IETF has
      also defined the ALTO server <span>[<a class="cite xref" href="#RFC5693">RFC5693</a>]</span> as an entity that
      generates an abstracted network topology and provides it to
      network-aware applications.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">Both a PCE and an ALTO server need to gather information about the
      topologies and capabilities of the network to be able to fulfill their
      function.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">This document describes a mechanism by which link-state and TE
      information can be collected from networks and shared with external
      components using the BGP routing protocol <span>[<a class="cite xref" href="#RFC4271">RFC4271</a>]</span>. This
      is achieved using a BGP Network Layer Reachability Information (NLRI)
      encoding format. The mechanism applies to physical and virtual (e.g.,
      tunnel) links. The mechanism described is subject to policy control.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">A router maintains one or more databases for storing link-state
      information about nodes and links in any given area. Link attributes
      stored in these databases include: local/remote IP addresses,
      local/remote interface identifiers, link IGP metric, link TE metric,
      link bandwidth, reservable bandwidth, per Class-of-Service (CoS) class
      reservation state, preemption, and Shared Risk Link Groups (SRLGs). The
      router's BGP - Link State (BGP-LS) process can retrieve topology from
      these LSDBs and distribute it to a consumer, either directly or via a
      peer BGP Speaker (typically a dedicated route reflector), using the
      encoding specified in this document.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">An illustration of the collection of link-state and TE information
      and its distribution to consumers is shown in <a class="auto internal xref" href="#MECHANISM-OVERVIEW">Figure 1</a> below.<a class="pilcrow" href="#section-1-6">¶</a></p>
<span id="name-collection-of-link-state-an"></span><div id="MECHANISM-OVERVIEW">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-1-7.1">
<pre>            +-----------+
            | Consumer  |
            +-----------+
                  ^
                  |
            +-----------+             +-----------+
            |    BGP    |             |    BGP    |
            |  Speaker  |&lt;-----------&gt;|  Speaker  |  +-----------+
            |    RR1    |             |    RRm    |  | Consumer  |
            +-----------+             +-----------+  +-----------+
                ^   ^                       ^             ^
                |   |                       |             |
          +-----+   +---------+             +---------+   |
          |                   |                       |   |
    +-----------+       +-----------+             +-----------+
    |    BGP    |       |    BGP    |             |    BGP    |
    |  Speaker  |       |  Speaker  |    . . .    |  Speaker  |
    |    R1     |       |     R2    |             |    Rn     |
    +-----------+       +-----------+             +-----------+
          ^                   ^                         ^
          |                   |                         |
         IGP                 IGP                       IGP
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-collection-of-link-state-an">Collection of Link-State and TE Information</a>
        </figcaption></figure>
</div>
<p id="section-1-8">A BGP Speaker may apply a configurable policy to the information that
      it distributes. Thus, it may distribute the real physical topology from
      the LSDB or the TED. Alternatively, it may create an abstracted
      topology, where virtual, aggregated nodes are connected by virtual
      paths. Aggregated nodes can be created, for example, out of multiple
      routers in a Point of Presence (POP). Abstracted topology can also be a
      mix of physical and virtual nodes and physical and virtual links.
      Furthermore, the BGP Speaker can apply policy to determine when
      information is updated to the consumer so that there is a reduction in
      information flow from the network to the consumers. Mechanisms through
      which topologies can be aggregated or virtualized are outside the scope
      of this document.<a class="pilcrow" href="#section-1-8">¶</a></p>
<p id="section-1-9">This document focuses on the specifications related to the
      origination of IGP-derived information and their propagation via BGP-LS.
      It also describes the advertisement into BGP-LS of information, either
      configured or derived, that is local to a node. In general, the
      procedures in this document form part of the base BGP-LS protocol
      specification and apply to information from other sources that are
      introduced into BGP-LS.<a class="pilcrow" href="#section-1-9">¶</a></p>
<p id="section-1-10">This document obsoletes <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> by completely
      replacing that document. It makes some small changes and clarifications
      to the previous specification as documented in <a class="auto internal xref" href="#CHANGES">Appendix A</a>.<a class="pilcrow" href="#section-1-10">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</section>
</div>
<div id="APPL">
<section id="section-2">
      <h2 id="name-motivation-and-applicabilit">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-motivation-and-applicabilit">Motivation and Applicability</a>
      </h2>
<p id="section-2-1">This section describes use cases from which the requirements can be
      derived.<a class="pilcrow" href="#section-2-1">¶</a></p>
<div id="PCE">
<section id="section-2.1">
        <h3 id="name-mpls-te-with-pce">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-mpls-te-with-pce">MPLS-TE with PCE</a>
        </h3>
<p id="section-2.1-1">As described in <span>[<a class="cite xref" href="#RFC4655">RFC4655</a>]</span>, a PCE can be used to
        compute MPLS-TE paths within a "domain" (such as an IGP area) or
        across multiple domains (such as a multi-area AS or multiple ASes).<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-2.1">Within a single area, the PCE offers enhanced computational
            power that may not be available on individual routers,
            sophisticated policy control and algorithms, and coordination of
            computation across the whole area.<a class="pilcrow" href="#section-2.1-2.1">¶</a>
</li>
          <li class="normal" id="section-2.1-2.2">If a router wants to compute an MPLS-TE path across IGP areas,
            then its own TED lacks visibility of the complete topology. That
            means that the router cannot determine the end-to-end path and
            cannot even select the right exit router (Area Border Router
            (ABR)) for an optimal path. This is an issue for large-scale
            networks that need to segment their core networks into distinct
            areas but still want to take advantage of MPLS-TE.<a class="pilcrow" href="#section-2.1-2.2">¶</a>
</li>
        </ul>
<p id="section-2.1-3">Previous solutions used per-domain path computation <span>[<a class="cite xref" href="#RFC5152">RFC5152</a>]</span>. The source router could only compute the path for
        the first area because the router only has full topological visibility
        for the first area along the path but not for subsequent areas.
        Per-domain path computation selects the exit ABR and other ABRs or 
        AS Border Routers (ASBRs) as loose-hops <span>[<a class="cite xref" href="#RFC3209">RFC3209</a>]</span> and using the IGP-computed
        shortest path topology for the remainder of the path. This may lead to
        suboptimal paths, makes alternate/back-up path computation hard, and
        might result in no TE path being found when one does exist.<a class="pilcrow" href="#section-2.1-3">¶</a></p>
<p id="section-2.1-4">The PCE presents a computation server that may have visibility into
        more than one IGP area or AS or may cooperate with other PCEs to
        perform distributed path computation. The PCE needs access to the TED
        for the area(s) it serves, but <span>[<a class="cite xref" href="#RFC4655">RFC4655</a>]</span> does not
        describe how this is achieved. Many implementations make the PCE a
        passive participant in the IGP so that it can learn the latest state
        of the network, but this may be suboptimal when the network is
        subject to a high degree of churn or when the PCE is responsible for
        multiple areas.<a class="pilcrow" href="#section-2.1-4">¶</a></p>
<p id="section-2.1-5">The following figure shows how a PCE can get its TED information
        using the mechanism described in this document.<a class="pilcrow" href="#section-2.1-5">¶</a></p>
<span id="name-external-pce-node-using-a-t"></span><div id="PCE-REFERENCE">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-2.1-6.1">
<pre>             +----------+                           +---------+
             |  -----   |                           |   BGP   |
             | | TED |&lt;-+--------------------------&gt;| Speaker |
             |  -----   |   TED synchronization     |         |
             |    |     |        mechanism          +---------+
             |    |     |
             |    v     |
             |  -----   |
             | | PCE |  |
             |  -----   |
             +----------+
                  ^
                  | Request/
                  | Response
                  v
    Service  +----------+   Signaling  +----------+
    Request  | Head-End |   Protocol   | Adjacent |
    --------&gt;|  Node    |&lt;------------&gt;|   Node   |
             +----------+              +----------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-external-pce-node-using-a-t">External PCE Node Using a TED Synchronization Mechanism</a>
          </figcaption></figure>
</div>
<p id="section-2.1-7">The mechanism in this document allows the necessary TED information
        to be collected from the IGP within the network, filtered according to
        configurable policy, and distributed to the PCE as necessary.<a class="pilcrow" href="#section-2.1-7">¶</a></p>
</section>
</div>
<div id="ALTO">
<section id="section-2.2">
        <h3 id="name-alto-server-network-api">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-alto-server-network-api">ALTO Server Network API</a>
        </h3>
<p id="section-2.2-1">An ALTO server <span>[<a class="cite xref" href="#RFC5693">RFC5693</a>]</span> is an entity that generates
        an abstracted network topology and provides it to network-aware
        applications over a web-service-based API. Example applications are
        peer-to-peer (P2P) clients or trackers, or Content Distribution
        Networks (CDNs). The abstracted network topology comes in the form of
        two maps: a Network Map that specifies the allocation of prefixes to
        Partition Identifiers (PIDs) and a Cost Map that specifies the cost
        between PIDs listed in the Network Map. For more details, see <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">ALTO abstract network topologies can be auto-generated from the
        physical topology of the underlying network. The generation would
        typically be based on policies and rules set by the operator. Both
        prefix and TE data are required: prefix data is required to generate
        ALTO Network Maps and TE (topology) data is required to generate ALTO
        Cost Maps. Prefix data is carried and originated in BGP, and TE data
        is originated and carried in an IGP. The mechanism defined in this
        document provides a single interface through which an ALTO server can
        retrieve all the necessary prefixes and network topology data from the
        underlying network. Note that an ALTO server can use other mechanisms
        to get network data, for example, peering with multiple IGP and BGP
        Speakers.<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<p id="section-2.2-3">The following figure shows how an ALTO server can get network
        topology information from the underlying network using the mechanism
        described in this document.<a class="pilcrow" href="#section-2.2-3">¶</a></p>
<span id="name-alto-server-using-network-t"></span><div id="ALTO-REFERENCE">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-2.2-4.1">
<pre>  +--------+
  | Client |&lt;--+
  +--------+   |
               |    ALTO    +--------+     Topology    +---------+
  +--------+   |  Protocol  |  ALTO  | Sync Mechanism  |   BGP   |
  | Client |&lt;--+------------| Server |&lt;----------------| Speaker |
  +--------+   |            |        |                 |         |
               |            +--------+                 +---------+
  +--------+   |
  | Client |&lt;--+
  +--------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-alto-server-using-network-t">ALTO Server Using Network Topology Information</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="ROLES">
<section id="section-3">
      <h2 id="name-bgp-speaker-roles-for-bgp-l">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-bgp-speaker-roles-for-bgp-l">BGP Speaker Roles for BGP-LS</a>
      </h2>
<p id="section-3-1">In <a class="auto internal xref" href="#MECHANISM-OVERVIEW">Figure 1</a>, the
      BGP Speakers can be seen playing different roles in the distribution of
      information using BGP-LS. This section introduces terms that explain the
      different roles of the BGP Speakers that are then used throughout the rest
      of this document.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-2">
        <dt id="section-3-2.1">BGP-LS Producer:</dt>
        <dd id="section-3-2.2" style="margin-left: 1.5em">The term BGP-LS Producer refers to a BGP Speaker
          that is originating link-state information into BGP.  BGP
          Speakers R1, R2, ... Rn originate link-state information from their
          underlying link-state IGP protocols into BGP-LS. If R1 and R2 are in
          the same IGP flooding domain, then they would ordinarily originate
          the same link-state information into BGP-LS. R1 may also originate
          information from sources other than IGP, e.g., its local node
          information.<a class="pilcrow" href="#section-3-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">BGP-LS Consumer:</dt>
        <dd id="section-3-2.4" style="margin-left: 1.5em">The term BGP-LS Consumer refers to a consumer
          application/process and not a BGP Speaker. BGP Speakers RR1 and
          Rn are handing off the BGP-LS information that they have collected
          to a consumer application. The BGP protocol implementation and the
          consumer application may be on the same or different nodes. This
          document only covers the BGP implementation. The consumer
          application and the design of the interface between BGP and the
          consumer application may be implementation specific and are outside
          the scope of this document. The communication of information <span class="bcp14">MUST</span> be
          unidirectional (i.e., from a BGP Speaker to the BGP-LS Consumer
          application), and a BGP-LS Consumer <span class="bcp14">MUST NOT</span> be able to send
          information to a BGP Speaker for origination into BGP-LS.<a class="pilcrow" href="#section-3-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">BGP-LS Propagator:</dt>
        <dd id="section-3-2.6" style="margin-left: 1.5em">The term BGP-LS Propagator refers to a BGP
          Speaker that is performing BGP protocol processing on the link-state
          information. BGP Speaker RRm propagates the BGP-LS information
          between BGP Speaker Rn and BGP Speaker RR1. The BGP
          implementation on RRm is propagating BGP-LS information. It performs
          handling of BGP-LS UPDATE messages and performs the BGP Decision
          Process as part of deciding what information is to be propagated.
          Similarly, BGP Speaker RR1 is receiving BGP-LS information from
          R1, R2, and RRm and propagating the information to the BGP-LS
          Consumer after performing BGP Decision Process.<a class="pilcrow" href="#section-3-2.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-3">The above roles are not mutually exclusive. The same BGP
      Speaker may be the BGP-LS Producer for some link-state information and
      BGP-LS Propagator for some other link-state information while also
      providing this information to a BGP-LS Consumer.<a class="pilcrow" href="#section-3-3">¶</a></p>
<p id="section-3-4">The rest of this document refers to the role when describing
      procedures that are specific to that role. When the role is not
      specified, then the said procedure applies to all BGP Speakers.<a class="pilcrow" href="#section-3-4">¶</a></p>
</section>
</div>
<div id="IGPTOBGP">
<section id="section-4">
      <h2 id="name-advertising-igp-information">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-advertising-igp-information">Advertising IGP Information into BGP-LS</a>
      </h2>
<p id="section-4-1">The origination and propagation of IGP link-state information via BGP
      needs to provide a consistent and accurate view of the topology of the
      IGP domain. BGP-LS provides an abstraction of the IGP specifics, and
      BGP-LS Consumers may be varied types of applications.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">The link-state information advertised in BGP-LS from the IGPs is
      derived from the IGP LSDB built using the OSPF Link-State Advertisements
      (LSAs) or the IS-IS Link-State Packets (LSPs). However, it does not
      serve as a verbatim reflection of the originating router's LSDB. It does
      not include the LSA/LSP sequence number information since a single
      link-state object may be put together with information that is coming
      from multiple LSAs/LSPs. Also, not all of the information carried in
      LSAs/LSPs may be required or suitable for advertisement via BGP-LS
      (e.g., ASBR reachability in OSPF, OSPF virtual links, link-local-scoped
      information, etc.). The LSAs/LSPs that are purged or aged out are not
      included in the BGP-LS advertisement even though they may be present in
      the LSDB (e.g., for the IGP flooding purposes). The information from the
      LSAs/LSPs that is invalid or malformed or that which needs to be ignored
      per the respective IGP protocol specifications are also not included in
      the BGP-LS advertisement.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3">The details of the interface between IGPs and BGP for the
      advertisement of link-state information are outside the scope of this
      document. In some cases, the information derived from IGP processing
      (e.g., combination of link-state object from across multiple LSAs/LSPs,
      leveraging reachability and two-way connectivity checks, etc.) is
      required for the advertisement of link-state information into BGP-LS.<a class="pilcrow" href="#section-4-3">¶</a></p>
</section>
</div>
<div id="BGPLS">
<section id="section-5">
      <h2 id="name-carrying-link-state-informa">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-carrying-link-state-informa">Carrying Link-State Information in BGP</a>
      </h2>
<p id="section-5-1">The link-state information is carried in BGP UPDATE messages as: (1)
      BGP NLRI information carried within MP_REACH_NLRI and MP_UNREACH_NLRI
      attributes that describes link, node, or prefix objects and (2) a BGP
      path attribute (BGP-LS Attribute) that carries properties of the link,
      node, or prefix objects such as the link and prefix metric, auxiliary
      Router-IDs of nodes, etc.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">It is desirable to keep the dependencies on the protocol source of
      this attribute to a minimum and represent any content in an IGP-neutral
      way, such that applications that want to learn about a link-state
      topology do not need to know about any OSPF or IS-IS protocol
      specifics.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">This section mainly describes the procedures for a BGP-LS Producer to
      originate link-state information into BGP-LS.<a class="pilcrow" href="#section-5-3">¶</a></p>
<div id="TLV-section">
<section id="section-5.1">
        <h3 id="name-tlv-format">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-tlv-format">TLV Format</a>
        </h3>
<p id="section-5.1-1">Information in the Link-State NLRIs and the BGP-LS Attribute is
        encoded in Type/Length/Value triplets. The TLV format is shown in
        <a class="auto internal xref" href="#TLV-figure">Figure 4</a> and applies to both the NLRI and the
        BGP-LS Attribute encodings.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<span id="name-tlv-format-2"></span><div id="TLV-figure">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-5.1-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                        Value (variable)                     //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-tlv-format-2">TLV Format</a>
          </figcaption></figure>
</div>
<p id="section-5.1-3">The Length field defines the length of the value portion in octets
        (thus, a TLV with no value portion would have a length of zero). The
        TLV is not padded to 4-octet alignment. Unknown and unsupported types
        <span class="bcp14">MUST</span> be preserved and propagated within both the NLRI and the BGP-LS
        Attribute. The presence of unknown or unexpected TLVs <span class="bcp14">MUST NOT</span> result
        in the NLRI or the BGP-LS Attribute being considered malformed. An
        example of an unexpected TLV is when a TLV is received along with an
        update for a link-state object other than the one that the TLV is
        specified as associated with.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<p id="section-5.1-4">To compare NLRIs with unknown TLVs, all TLVs within the NLRI <span class="bcp14">MUST</span>
        be ordered in ascending order by TLV Type. If there are multiple TLVs
        of the same type within a single NLRI, then the TLVs sharing the same
        type <span class="bcp14">MUST</span> be first in ascending order based on the Length field
        followed by ascending order based on the Value field. Comparison of
        the Value fields is performed by treating the entire field as opaque
        binary data and ordered lexicographically (i.e., treating each byte of
        binary data as a symbol to compare, with the symbols ordered by their
        numerical value). NLRIs having TLVs that do not follow the above
        ordering rules <span class="bcp14">MUST</span> be considered as malformed by a BGP-LS Propagator.
        This insistence on canonical ordering ensures that multiple variant
        copies of the same NLRI from multiple BGP-LS Producers and the
        ambiguity arising therefrom is prevented.<a class="pilcrow" href="#section-5.1-4">¶</a></p>
<p id="section-5.1-5">For both the NLRI and BGP-LS Attribute parts, all TLVs are
        considered as optional except where explicitly specified as mandatory
        or required in specific conditions.<a class="pilcrow" href="#section-5.1-5">¶</a></p>
<p id="section-5.1-6">The TLVs within the BGP-LS Attribute <span class="bcp14">SHOULD</span> be ordered in ascending
        order by TLV type. The BGP-LS Attribute with unordered TLVs <span class="bcp14">MUST NOT</span> be
        considered malformed.<a class="pilcrow" href="#section-5.1-6">¶</a></p>
<p id="section-5.1-7">The origination of the same link-state information by multiple
        BGP-LS Producers may result in differences and inconsistencies due to
        the inclusion or exclusion of optional TLVs. Different optional TLVs
        in the NLRI results in multiple NLRIs being generated for the same
        link-state object. Different optional TLVs in the BGP-LS Attribute may
        result in the propagation of partial information. To address these
        inconsistencies, the BGP-LS Consumer will need to recognize and merge
        the duplicate information or deal with missing information. The
        deployment of BGP-LS Producers that consistently originate the same
        set of optional TLVs is recommended to mitigate such situations.<a class="pilcrow" href="#section-5.1-7">¶</a></p>
</section>
</div>
<div id="BGPLSNLRI">
<section id="section-5.2">
        <h3 id="name-the-link-state-nlri">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-the-link-state-nlri">The Link-State NLRI</a>
        </h3>
<p id="section-5.2-1">The MP_REACH_NLRI and MP_UNREACH_NLRI attributes are BGP's
        containers for carrying opaque information. This specification defines
        three Link-State NLRI types that describe either a node, a link, or a
        prefix.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">All non-VPN link, node, and prefix information <span class="bcp14">SHALL</span> be encoded
        using AFI 16388 / SAFI 71. VPN link, node, and prefix information
        <span class="bcp14">SHALL</span> be encoded using AFI 16388 / SAFI 72.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">For two BGP Speakers to exchange Link-State NLRI, they <span class="bcp14">MUST</span> use BGP
        Capabilities Advertisement to ensure that they are both capable of
        properly processing such NLRI. This is done as specified in <span>[<a class="cite xref" href="#RFC4760">RFC4760</a>]</span> by using capability code 1 (multiprotocol BGP),
        with AFI 16388 / SAFI 71 for BGP-LS and AFI 16388 / SAFI 72 for
        BGP-LS-VPN.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<p id="section-5.2-4">New Link-State NLRI types may be introduced in the future. Since
        supported NLRI type values within the address family are not expressed
        in the Multiprotocol BGP (MP-BGP) capability <span>[<a class="cite xref" href="#RFC4760">RFC4760</a>]</span>,
        it is possible that a BGP Speaker has advertised support for BGP-LS
        but does not support a particular Link-State NLRI type. To allow the
        introduction of new Link-State NLRI types seamlessly in the future
        without the need for upgrading all BGP Speakers in the propagation
        path (e.g., a route reflector), this document deviates from the
        default handling behavior specified by Section
        <a class="relref" href="https://rfc-editor.org/rfc/rfc7606#section-5.4">5.4</a> (paragraph 2) of <span>[<a class="cite xref" href="#RFC7606">RFC7606</a>]</span> for Link-State address family. An
        implementation <span class="bcp14">MUST</span> handle unknown Link-State NLRI types as opaque
        objects and <span class="bcp14">MUST</span> preserve and propagate them.<a class="pilcrow" href="#section-5.2-4">¶</a></p>
<p id="section-5.2-5">The format of the Link-State NLRI is shown in the following
        figures.<a class="pilcrow" href="#section-5.2-5">¶</a></p>
<span id="name-link-state-afi-16388-safi-7"></span><div id="LSSAFI">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-5.2-6.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            NLRI Type          |     Total NLRI Length         |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  //                  Link-State NLRI (variable)                 //
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-link-state-afi-16388-safi-7">Link-State AFI 16388 / SAFI 71 NLRI Format</a>
          </figcaption></figure>
</div>
<span id="name-link-state-vpn-afi-16388-sa"></span><div id="LSVPNSAFI">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-5.2-7.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            NLRI Type          |     Total NLRI Length         |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  +                Route Distinguisher (8 octets)                 +
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  //                  Link-State NLRI (variable)                 //
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-link-state-vpn-afi-16388-sa">Link-State VPN AFI 16388 / SAFI 72 NLRI Format</a>
          </figcaption></figure>
</div>
<p id="section-5.2-8">The Total NLRI Length field contains the cumulative length, in
        octets, of the rest of the NLRI, not including the NLRI Type field or
        itself. For VPN applications, it also includes the length of the Route
        Distinguisher.<a class="pilcrow" href="#section-5.2-8">¶</a></p>
<span id="name-nlri-types"></span><div id="NLRI-TYPES">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-nlri-types">NLRI Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">NLRI Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">Node NLRI</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">Link NLRI</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">IPv4 Topology Prefix NLRI</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">IPv6 Topology Prefix NLRI</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-5.2-10">Route Distinguishers are defined and discussed in <span>[<a class="cite xref" href="#RFC4364">RFC4364</a>]</span>.<a class="pilcrow" href="#section-5.2-10">¶</a></p>
<p id="section-5.2-11">The Node NLRI (NLRI Type = 1) is shown in the following figure.<a class="pilcrow" href="#section-5.2-11">¶</a></p>
<span id="name-the-node-nlri-format"></span><div id="NODE-NLRI">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-5.2-12.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+
  |  Protocol-ID  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                           Identifier                          |
  +                           (8 octets)                          +
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //             Local Node Descriptors TLV (variable)           //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-the-node-nlri-format">The Node NLRI Format</a>
          </figcaption></figure>
</div>
<p id="section-5.2-13">The Link NLRI (NLRI Type = 2) is shown in the following figure.<a class="pilcrow" href="#section-5.2-13">¶</a></p>
<span id="name-the-link-nlri-format"></span><div id="LINK-NLRI">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-5.2-14.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+
  |  Protocol-ID  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                           Identifier                          |
  +                           (8 octets)                          +
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //            Local Node Descriptors TLV (variable)            //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //            Remote Node Descriptors TLV (variable)           //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //               Link Descriptors TLVs (variable)              //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-the-link-nlri-format">The Link NLRI Format</a>
          </figcaption></figure>
</div>
<p id="section-5.2-15">The IPv4 and IPv6 Prefix NLRIs (NLRI Type = 3 and Type = 4) use the
        same format as shown in the following figure.<a class="pilcrow" href="#section-5.2-15">¶</a></p>
<span id="name-the-ipv4-ipv6-topology-pref"></span><div id="PREFIX-NLRI">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="section-5.2-16.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+
  |  Protocol-ID  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                           Identifier                          |
  +                           (8 octets)                          +
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //            Local Node Descriptors TLV (variable)            //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //             Prefix Descriptors TLVs (variable)              //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-the-ipv4-ipv6-topology-pref">The IPv4/IPv6 Topology Prefix NLRI Format</a>
          </figcaption></figure>
</div>
<p id="section-5.2-17">The Protocol-ID field can contain one of the following values:<a class="pilcrow" href="#section-5.2-17">¶</a></p>
<span id="name-protocol-identifiers"></span><div id="PROTOCOL-IDS">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-protocol-identifiers">Protocol Identifiers</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" colspan="1" rowspan="1">Protocol-ID</th>
              <th class="text-left" colspan="1" rowspan="1">NLRI information source protocol</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">IS-IS Level 1</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">IS-IS Level 2</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">OSPFv2</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">Direct</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">Static configuration</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">OSPFv3</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-5.2-19">The 'Direct' and 'Static configuration' protocol types <span class="bcp14">SHOULD</span> be
        used when BGP-LS is sourcing local information. For all information
        derived from other protocols, the corresponding Protocol-ID <span class="bcp14">MUST</span> be
        used. If BGP-LS has direct access to interface information and wants
        to advertise a local link, then the Protocol-ID 'Direct' <span class="bcp14">SHOULD</span> be
        used. For modeling virtual links, such as described in <a class="auto internal xref" href="#LINKPATHAGGREGATION">Section 6</a>, the Protocol-ID 'Static configuration'
        <span class="bcp14">SHOULD</span> be used.<a class="pilcrow" href="#section-5.2-19">¶</a></p>
<p id="section-5.2-20">A router may run multiple protocol instances of OSPF or IS-IS
        whereby it becomes a border router between multiple IGP domains. Both
        OSPF and IS-IS may also run multiple routing protocol instances over
        the same link. See <span>[<a class="cite xref" href="#RFC8202">RFC8202</a>]</span> and <span>[<a class="cite xref" href="#RFC6549">RFC6549</a>]</span>. These instances define independent IGP routing
        domains. The Identifier field carries an 8-octet BGP-LS Instance
        Identifier (Instance-ID) number that is used to identify the IGP
        routing domain where the NLRI belongs. The NLRIs representing
        link-state objects (nodes, links, or prefixes) from the same IGP
        routing instance should have the same BGP-LS Instance-ID. NLRIs with
        different BGP-LS Instance-IDs are considered to be from different IGP
        routing instances.<a class="pilcrow" href="#section-5.2-20">¶</a></p>
<p id="section-5.2-21">To support multiple IGP instances, an implementation needs to
        support the configuration of unique BGP-LS Instance-IDs at the routing
        protocol instance level. The BGP-LS Instance-ID 0 is <span class="bcp14">RECOMMENDED</span> to be
        used when there is only a single protocol instance in the network
        where BGP-LS is operational. The network operator <span class="bcp14">MUST</span> assign the same
        BGP-LS Instance-IDs on all BGP-LS Producers within a given IGP domain.
        Unique BGP-LS Instance-IDs <span class="bcp14">MUST</span> be assigned to routing protocol
        instances operating in different IGP domains. This can allow the
        BGP-LS Consumer to build an accurate segregated multi-domain topology
        based on the BGP-LS Instance-ID.<a class="pilcrow" href="#section-5.2-21">¶</a></p>
<p id="section-5.2-22">When the above-described semantics and recommendations are not
        followed, a BGP-LS Consumer may see more than one link-state object
        for the same node, link, or prefix (each with a different BGP-LS
        Instance-ID) when there are multiple BGP-LS Producers deployed. This
        may also result in the BGP-LS Consumers getting an inaccurate
        network-wide topology.<a class="pilcrow" href="#section-5.2-22">¶</a></p>
<p id="section-5.2-23">Each Node Descriptor, Link Descriptor, and Prefix Descriptor
        consists of one or more TLVs, as described in the following sections.
        These Descriptor TLVs are applicable for the Node, Link, and Prefix
        NLRI Types for the protocols that are listed in <a class="auto internal xref" href="#PROTOCOL-IDS">Table 2</a>. Documents extending BGP-LS specifications
        with new NLRI Types and/or protocols <span class="bcp14">MUST</span> specify the NLRI descriptors
        for them.<a class="pilcrow" href="#section-5.2-23">¶</a></p>
<p id="section-5.2-24">When adding, removing, or modifying a TLV/sub-TLV from a Link-State
        NLRI, the BGP-LS Producer <span class="bcp14">MUST</span> withdraw the old NLRI by including it
        in the MP_UNREACH_NLRI. Not doing so can result in duplicate and
        inconsistent link-state objects hanging around in the BGP-LS
        table.<a class="pilcrow" href="#section-5.2-24">¶</a></p>
<div id="NODEDESC">
<section id="section-5.2.1">
          <h4 id="name-node-descriptors">
<a class="section-number selfRef" href="#section-5.2.1">5.2.1. </a><a class="section-name selfRef" href="#name-node-descriptors">Node Descriptors</a>
          </h4>
<p id="section-5.2.1-1">Each link is anchored by a pair of Router-IDs that are used by
          the underlying IGP, namely a 48-bit ISO System-ID for IS-IS and a
          32-bit Router-ID for OSPFv2 and OSPFv3. An IGP may use one or more
          additional auxiliary Router-IDs, mainly for Traffic Engineering
          purposes. For example, IS-IS may have one or more IPv4 and IPv6 TE
          Router-IDs <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>]</span> <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>]</span>. When
          configured, these auxiliary TE Router-IDs (TLV 1028/1029) <span class="bcp14">MUST</span> be
          included in the node attribute described in <a class="auto internal xref" href="#NODEATTR">Section 5.3.1</a> and <span class="bcp14">MAY</span> be included in the link attribute
          described in <a class="auto internal xref" href="#link_attribute">Section 5.3.2</a>. The advertisement of
          the TE Router-IDs can help a BGP-LS Consumer to correlate multiple
          link-state objects (e.g., in different IGP instances or areas/levels)
          to the same node in the network.<a class="pilcrow" href="#section-5.2.1-1">¶</a></p>
<p id="section-5.2.1-2">It is desirable that the Router-ID assignments inside the Node
          Descriptors are globally unique. However, there may be Router-ID
          spaces (e.g., ISO) where no global registry exists, or worse,
          Router-IDs have been allocated following the private-IP allocation
          described in <span>[<a class="cite xref" href="#RFC1918">RFC1918</a>]</span>. BGP-LS uses the Autonomous
          System Number to disambiguate the Router-IDs, as described in
          <a class="auto internal xref" href="#gbl_uniqueness">Section 5.2.1.1</a>.<a class="pilcrow" href="#section-5.2.1-2">¶</a></p>
<div id="gbl_uniqueness">
<section id="section-5.2.1.1">
            <h5 id="name-globally-unique-node-link-p">
<a class="section-number selfRef" href="#section-5.2.1.1">5.2.1.1. </a><a class="section-name selfRef" href="#name-globally-unique-node-link-p">Globally Unique Node/Link/Prefix Identifiers</a>
            </h5>
<p id="section-5.2.1.1-1">One problem that needs to be addressed is the ability to
            identify an IGP node globally (by "globally", we mean within the
            BGP-LS database collected by all BGP-LS Speakers that talk to each
            other). This can be expressed through the following two
            requirements:<a class="pilcrow" href="#section-5.2.1.1-1">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-5.2.1.1-2">
              <dt>(A)</dt>
<dd id="section-5.2.1.1-2.1" style="margin-left: 3.0em">The same node <span class="bcp14">MUST NOT</span> be represented by two
                keys (otherwise, one node will look like two nodes).<a class="pilcrow" href="#section-5.2.1.1-2.1">¶</a>
</dd>
              <dd class="break"></dd>
<dt>(B)</dt>
<dd id="section-5.2.1.1-2.2" style="margin-left: 3.0em">Two different nodes <span class="bcp14">MUST NOT</span> be represented
                by the same key (otherwise, two nodes will look like one
                node).<a class="pilcrow" href="#section-5.2.1.1-2.2">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-5.2.1.1-3">We define an "IGP domain" to be the set of nodes (hence, by
            extension, links and prefixes) within which each node has a unique
            IGP representation by using the combination of OSPF Area-ID,
            Router-ID, Protocol-ID, Multi-Topology Identifier (MT-ID), and BGP-LS Instance-ID.
            The problem is that BGP may receive node/link/prefix information
            from multiple independent "IGP domains", and we need to
            distinguish between them. Moreover, we can't assume there is
            always one and only one IGP domain per AS. During IGP transitions,
            it may happen that two redundant IGPs are in place.<a class="pilcrow" href="#section-5.2.1.1-3">¶</a></p>
<p id="section-5.2.1.1-4">Furthermore, in deployments where BGP-LS is used to advertise
            topology from multiple ASes, the Autonomous System Number (ASN) is used to distinguish
            topology information reported from different ASes.<a class="pilcrow" href="#section-5.2.1.1-4">¶</a></p>
<p id="section-5.2.1.1-5">The BGP-LS Instance-ID carried in the Identifier field, as
            described earlier along with a set of sub-TLVs described in <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>, allows specification of a flexible key
            for any given node/link information such that the global
            uniqueness of the NLRI is ensured. Since the BGP-LS Instance-ID is
            operator assigned, its allocation scheme can ensure that each IGP
            domain is uniquely identified even across a multi-AS network.<a class="pilcrow" href="#section-5.2.1.1-5">¶</a></p>
</section>
</div>
<div id="LOCALNODEDESC">
<section id="section-5.2.1.2">
            <h5 id="name-local-node-descriptors">
<a class="section-number selfRef" href="#section-5.2.1.2">5.2.1.2. </a><a class="section-name selfRef" href="#name-local-node-descriptors">Local Node Descriptors</a>
            </h5>
<p id="section-5.2.1.2-1">The Local Node Descriptors TLV contains Node Descriptors for
            the node anchoring the local end of the link. This is a mandatory
            TLV in all three types of NLRIs (node, link, and prefix). The Type
            is 256. The length of this TLV is variable. The value contains one
            or more Node Descriptor sub-TLVs defined in <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>.<a class="pilcrow" href="#section-5.2.1.2-1">¶</a></p>
<span id="name-local-node-descriptors-tlv-"></span><div id="LOCALNODEDESCTLV">
<figure id="figure-10">
              <div class="alignLeft art-text artwork" id="section-5.2.1.2-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  //              Node Descriptor Sub-TLVs (variable)            //
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-local-node-descriptors-tlv-">Local Node Descriptors TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="REMOTENODEDESC">
<section id="section-5.2.1.3">
            <h5 id="name-remote-node-descriptors">
<a class="section-number selfRef" href="#section-5.2.1.3">5.2.1.3. </a><a class="section-name selfRef" href="#name-remote-node-descriptors">Remote Node Descriptors</a>
            </h5>
<p id="section-5.2.1.3-1">The Remote Node Descriptors TLV contains Node Descriptors for
            the node anchoring the remote end of the link. This is a mandatory
            TLV for Link NLRIs. The Type is 257. The length of this TLV is
            variable. The value contains one or more Node Descriptor sub-TLVs
            defined in <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>.<a class="pilcrow" href="#section-5.2.1.3-1">¶</a></p>
<span id="name-remote-node-descriptors-tlv"></span><div id="REMOTENODEDESCTLV">
<figure id="figure-11">
              <div class="alignLeft art-text artwork" id="section-5.2.1.3-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                                               |
  //              Node Descriptor Sub-TLVs (variable)            //
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-11">Figure 11</a>:
<a class="selfRef" href="#name-remote-node-descriptors-tlv">Remote Node Descriptors TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="node_desc_tlvs">
<section id="section-5.2.1.4">
            <h5 id="name-node-descriptor-sub-tlvs">
<a class="section-number selfRef" href="#section-5.2.1.4">5.2.1.4. </a><a class="section-name selfRef" href="#name-node-descriptor-sub-tlvs">Node Descriptor Sub-TLVs</a>
            </h5>
<p id="section-5.2.1.4-1">The Node Descriptor sub-TLV type code points and lengths are
            listed in the following table:<a class="pilcrow" href="#section-5.2.1.4-1">¶</a></p>
<span id="name-node-descriptor-sub-tlvs-2"></span><div id="table_local_anchor_node_tlv">
<table class="center" id="table-3">
              <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-node-descriptor-sub-tlvs-2">Node Descriptor Sub-TLVs</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" colspan="1" rowspan="1">Sub-TLV Code Point</th>
                  <th class="text-left" colspan="1" rowspan="1">Description</th>
                  <th class="text-right" colspan="1" rowspan="1">Length</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">512</td>
                  <td class="text-left" colspan="1" rowspan="1">Autonomous System</td>
                  <td class="text-right" colspan="1" rowspan="1">4</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">513</td>
                  <td class="text-left" colspan="1" rowspan="1">BGP-LS Identifier (deprecated)</td>
                  <td class="text-right" colspan="1" rowspan="1">4</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">514</td>
                  <td class="text-left" colspan="1" rowspan="1">OSPF Area-ID</td>
                  <td class="text-right" colspan="1" rowspan="1">4</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">515</td>
                  <td class="text-left" colspan="1" rowspan="1">IGP Router-ID</td>
                  <td class="text-right" colspan="1" rowspan="1">Variable</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-5.2.1.4-3">The sub-TLV values in Node Descriptor TLVs are defined as
            follows:<a class="pilcrow" href="#section-5.2.1.4-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.2.1.4-4">
              <dt id="section-5.2.1.4-4.1">Autonomous System:</dt>
              <dd id="section-5.2.1.4-4.2" style="margin-left: 1.5em">Opaque value (32-bit AS
                Number). This is an optional TLV. The value <span class="bcp14">SHOULD</span> be set to
                the AS Number associated with the BGP process originating the
                link-state information. An implementation <span class="bcp14">MAY</span> provide a
                configuration option on the BGP-LS Producer to use a different
                value, e.g., to avoid collisions when using private AS
                Numbers.<a class="pilcrow" href="#section-5.2.1.4-4.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.2.1.4-4.3">BGP-LS Identifier:</dt>
              <dd id="section-5.2.1.4-4.4" style="margin-left: 1.5em">Opaque value (32-bit ID).
                This is an optional TLV that has been deprecated by this
                document (refer to <a class="auto internal xref" href="#CHANGES">Appendix A</a> for more details).
                It <span class="bcp14">MAY</span> be advertised for compatibility with <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> implementations. See the final paragraph of
                this section for further considerations and a recommended
                default value.<a class="pilcrow" href="#section-5.2.1.4-4.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.2.1.4-4.5">OSPF Area-ID:</dt>
              <dd id="section-5.2.1.4-4.6" style="margin-left: 1.5em">Used to identify the 32-bit area
                to which the information advertised in the NLRI belongs. This
                is a mandatory TLV when originating information from OSPF that
                is derived from area-scope LSAs. The OSPF Area Identifier
                allows different NLRIs of the same router to be differentiated
                on a per-area basis. It is not used for NLRIs when carrying
                information that is derived from AS-scope LSAs as that
                information is not associated with a specific area.<a class="pilcrow" href="#section-5.2.1.4-4.6">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.2.1.4-4.7">IGP Router-ID:</dt>
              <dd id="section-5.2.1.4-4.8" style="margin-left: 1.5em">Opaque value. This is a mandatory TLV when
       originating information from IS-IS, OSPF, 'Direct', or 'Static
       configuration'. For an IS-IS non-pseudonode, this contains a 6-octet
                ISO Node-ID (ISO System-ID). For an IS-IS pseudonode
                corresponding to a LAN, this contains the 6-octet ISO Node-ID
                of the Designated Intermediate System (DIS) followed by a
                1-octet, nonzero PSN identifier (7 octets in total). For an
                OSPFv2 or OSPFv3 non-pseudonode, this contains the 4-octet
                Router-ID. For an OSPFv2 pseudonode representing a LAN, this
                contains the 4-octet Router-ID of the Designated Router (DR)
                followed by the 4-octet IPv4 address of the DR's interface to
                the LAN (8 octets in total). Similarly, for an OSPFv3
                pseudonode, this contains the 4-octet Router-ID of the DR
                followed by the 4-octet interface identifier of the DR's
                interface to the LAN (8 octets in total). The TLV size in
                combination with the protocol identifier enables the decoder
                to determine the type of the node. For 'Direct' or 'Static
                configuration', the value <span class="bcp14">SHOULD</span> be taken from an IPv4 or IPv6
                address (e.g., loopback interface) configured on the node.    When the node is running an IGP protocol,
   an implementation <span class="bcp14">MAY</span> choose to use the IGP Router-ID for 'Direct'
   or 'Static configuration'.<a class="pilcrow" href="#section-5.2.1.4-4.8">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-5.2.1.4-5">At most, there <span class="bcp14">MUST</span> be one instance of each sub-TLV type present
            in any Node Descriptor. The sub-TLVs within a Node Descriptor <span class="bcp14">MUST</span>
            be arranged in ascending order by sub-TLV type. This needs to be
            done to compare NLRIs, even when an implementation encounters an
            unknown sub-TLV. Using stable sorting, an implementation can do a
            binary comparison of NLRIs and hence allow incremental deployment
            of new key sub-TLVs.<a class="pilcrow" href="#section-5.2.1.4-5">¶</a></p>
<p id="section-5.2.1.4-6">The BGP-LS Identifier was introduced by <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span>, and its use is being deprecated by this
            document. Implementations <span class="bcp14">SHOULD</span> support the advertisement of this
            sub-TLV for backward compatibility in deployments where there are
            BGP-LS Producer implementations that conform to <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> to ensure consistency of NLRI encoding for
            link-state objects. The default value of 0 is <span class="bcp14">RECOMMENDED</span> to be
            used when a BGP-LS Producer includes this sub-TLV when originating
            information into BGP-LS. Implementations <span class="bcp14">SHOULD</span> provide an option
            to configure this value for backward compatibility reasons. As a
            reminder, the use of the BGP-LS Instance-ID that is carried in the
            Identifier field is the way of segregation of link-state objects
            of different IGP domains in BGP-LS.<a class="pilcrow" href="#section-5.2.1.4-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="LINKDESC">
<section id="section-5.2.2">
          <h4 id="name-link-descriptors">
<a class="section-number selfRef" href="#section-5.2.2">5.2.2. </a><a class="section-name selfRef" href="#name-link-descriptors">Link Descriptors</a>
          </h4>
<p id="section-5.2.2-1">The Link Descriptor field is a set of Type/Length/Value (TLV)
          triplets. The format of each TLV is shown in <a class="auto internal xref" href="#TLV-section">Section 5.1</a>. The Link Descriptor TLVs uniquely identify a
          link among multiple parallel links between a pair of anchor routers.
          A link described by the Link Descriptor TLVs actually is a
          "half-link", a unidirectional representation of a logical link. To
          fully describe a single logical link, two anchor routers advertise a
          half-link each, i.e., two Link NLRIs are advertised for a given
          point-to-point link.<a class="pilcrow" href="#section-5.2.2-1">¶</a></p>
<p id="section-5.2.2-2">A link between two nodes is not considered as complete (or
          available) unless it is described by the two Link NLRIs
          corresponding to the half-link representation from the pair of
          anchor nodes. This check is similar to the 'two-way connectivity
          check' that is performed by link-state IGPs.<a class="pilcrow" href="#section-5.2.2-2">¶</a></p>
<p id="section-5.2.2-3">An implementation <span class="bcp14">MAY</span> suppress the advertisement of a Link NLRI,
          corresponding to a half-link, from a link-state IGP unless the IGP
          has verified that the link is being reported in the IS-IS LSP or
          OSPF Router LSA by both the nodes connected by that link. This
          'two-way connectivity check' is performed by link-state IGPs during
          their computation and can be leveraged before passing information
          for any half-link that is reported from these IGPs into BGP-LS. This
          ensures that only those link-state IGP adjacencies that are
          established get reported via Link NLRIs. Such a 'two-way
          connectivity check' could also be required in certain cases (e.g.,
          with OSPF) to obtain the proper link identifiers of the remote
          node.<a class="pilcrow" href="#section-5.2.2-3">¶</a></p>
<p id="section-5.2.2-4">The format and semantics of the Value fields in most Link
          Descriptor TLVs correspond to the format and semantics of Value
          fields in IS-IS Extended IS Reachability sub-TLVs, which are defined in <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>]</span>, <span>[<a class="cite xref" href="#RFC5307">RFC5307</a>]</span>, and <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>]</span>. Although the encodings for Link Descriptor TLVs
          were originally defined for IS-IS, the TLVs can carry data sourced
          by either IS-IS or OSPF.<a class="pilcrow" href="#section-5.2.2-4">¶</a></p>
<p id="section-5.2.2-5">The following TLVs are defined as Link Descriptors in the Link
          NLRI:<a class="pilcrow" href="#section-5.2.2-5">¶</a></p>
<span id="name-link-descriptor-tlvs"></span><div id="table_link_descriptor_tlv">
<table class="center" id="table-4">
            <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-link-descriptor-tlvs">Link Descriptor TLVs</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-center" colspan="1" rowspan="1">IS-IS TLV/Sub-TLV</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">258</td>
                <td class="text-left" colspan="1" rowspan="1">Link Local/Remote Identifiers</td>
                <td class="text-center" colspan="1" rowspan="1">22/4</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5307">RFC5307</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5307#section-1.1">Section 1.1</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">259</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4 interface address</td>
                <td class="text-center" colspan="1" rowspan="1">22/6</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-3.2">Section 3.2</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">260</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4 neighbor address</td>
                <td class="text-center" colspan="1" rowspan="1">22/8</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-3.3">Section 3.3</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">261</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6 interface address</td>
                <td class="text-center" colspan="1" rowspan="1">22/12</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6119#section-4.2">Section 4.2</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">262</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6 neighbor address</td>
                <td class="text-center" colspan="1" rowspan="1">22/13</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6119#section-4.3">Section 4.3</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">263</td>
                <td class="text-left" colspan="1" rowspan="1">Multi-Topology Identifier</td>
                <td class="text-center" colspan="1" rowspan="1">---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#MT-ID">Section 5.2.2.1</a>
</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-5.2.2-7">The information about a link present in the LSA/LSP originated by
          the local node of the link determines the set of TLVs in the Link
          Descriptor of the link.<a class="pilcrow" href="#section-5.2.2-7">¶</a></p>
<p id="section-5.2.2-8" style="margin-left: 1.5em">If interface and neighbor addresses, either IPv4 or IPv6, are
              present, then the interface/neighbor address TLVs <span class="bcp14">MUST</span> be
              included, and the Link Local/Remote Identifiers TLV <span class="bcp14">MUST NOT</span> be
              included in the Link Descriptor. The Link Local/Remote
              Identifiers TLV <span class="bcp14">MAY</span> be included in the link attribute when
              available. IPv4/IPv6 link-local addresses <span class="bcp14">MUST NOT</span> be carried in
              the IPv4/IPv6 interface/neighbor address TLVs (259/260/261/262)
              as descriptors of a link since they are not considered unique.<a class="pilcrow" href="#section-5.2.2-8">¶</a></p>
<p id="section-5.2.2-9" style="margin-left: 1.5em">If interface and neighbor addresses are not present and the
              link local/remote identifiers are present, then the Link
              Local/Remote Identifiers TLV <span class="bcp14">MUST</span> be included in the Link
              Descriptor. The Link Local/Remote identifiers <span class="bcp14">MUST</span> be included
              in the Link Descriptor and in the case of links having only
              IPv6 link-local addressing on them.<a class="pilcrow" href="#section-5.2.2-9">¶</a></p>
<p id="section-5.2.2-10" style="margin-left: 1.5em">The Multi-Topology Identifier TLV <span class="bcp14">MUST</span> be included as a Link
              Descriptor if the underlying IGP link object is associated with
              a non-default topology.<a class="pilcrow" href="#section-5.2.2-10">¶</a></p>
<p id="section-5.2.2-11">The TLVs/sub-TLVs corresponding to the interface addresses and/or
          the local/remote identifiers may not always be signaled in the IGPs
          unless their advertisement is enabled specifically. In such cases,
          it is valid to advertise a BGP-LS Link NLRI without any of these
          identifiers.<a class="pilcrow" href="#section-5.2.2-11">¶</a></p>
<div id="MT-ID">
<section id="section-5.2.2.1">
            <h5 id="name-multi-topology-identifier">
<a class="section-number selfRef" href="#section-5.2.2.1">5.2.2.1. </a><a class="section-name selfRef" href="#name-multi-topology-identifier">Multi-Topology Identifier</a>
            </h5>
<p id="section-5.2.2.1-1">The Multi-Topology Identifier (MT-ID) TLV carries one or more IS-IS or
            OSPF Multi-Topology Identifiers for a link, node, or prefix.<a class="pilcrow" href="#section-5.2.2.1-1">¶</a></p>
<p id="section-5.2.2.1-2">The semantics of the IS-IS MT-ID are defined in Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc5120#section-7.1">7.1</a> and 
            <a class="relref" href="https://rfc-editor.org/rfc/rfc5120#section-7.2">7.2</a> of <span>[<a class="cite xref" href="#RFC5120">RFC5120</a>]</span>. The semantics of the OSPF
            MT-ID are defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4915#section-3.7">Section 3.7</a> of [<a class="cite xref" href="#RFC4915">RFC4915</a>]</span>. If
            the value in the MT-ID TLV is derived from OSPF, then the upper R
            bits of the MT-ID field <span class="bcp14">MUST</span> be set to 0 and only the values from
            0 to 127 are valid for the MT-ID.<a class="pilcrow" href="#section-5.2.2.1-2">¶</a></p>
<p id="section-5.2.2.1-3">The format of the MT-ID TLV is shown in the following
            figure.<a class="pilcrow" href="#section-5.2.2.1-3">¶</a></p>
<span id="name-multi-topology-identifier-t"></span><div id="MTIDTLV">
<figure id="figure-12">
              <div class="alignLeft art-text artwork" id="section-5.2.2.1-4.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |          Length=2*n           |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |R R R R|  Multi-Topology ID 1  |             ....             //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //             ....             |R R R R|  Multi-Topology ID n  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-12">Figure 12</a>:
<a class="selfRef" href="#name-multi-topology-identifier-t">Multi-Topology Identifier TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.2.2.1-5">The Type is 263, the length is 2*n, and n is the number of MT-IDs
            carried in the TLV.<a class="pilcrow" href="#section-5.2.2.1-5">¶</a></p>
<p id="section-5.2.2.1-6">The MT-ID TLV <span class="bcp14">MAY</span> be included as a Link Descriptor, as a Prefix
            Descriptor, or in the BGP-LS Attribute of a Node NLRI. When
            included as a Link or Prefix Descriptor, only a single MT-ID TLV
            containing the MT-ID of the topology where the link or the prefix
            is reachable is allowed. In case one wants to advertise multiple
            topologies for a given Link or Prefix Descriptor,
            multiple NLRIs <span class="bcp14">MUST</span> be generated where each NLRI contains a single
            unique MT-ID. When used as a Link or Prefix Descriptor for IS-IS,
            the Bits R are reserved and <span class="bcp14">MUST</span> be set to 0 (as per <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5120#section-7.2">Section 7.2</a> of [<a class="cite xref" href="#RFC5120">RFC5120</a>]</span>) when originated and ignored on
            receipt.<a class="pilcrow" href="#section-5.2.2.1-6">¶</a></p>
<p id="section-5.2.2.1-7">In the BGP-LS Attribute of a Node NLRI, one MT-ID TLV
            containing the array of MT-IDs of all topologies where the node is
            reachable is allowed. When used in the Node Attribute TLV for
            IS-IS, the Bits R are set as per <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5120#section-7.1">Section 7.1</a> of [<a class="cite xref" href="#RFC5120">RFC5120</a>]</span>.<a class="pilcrow" href="#section-5.2.2.1-7">¶</a></p>
</section>
</div>
</section>
</div>
<div id="PREFIXDESC">
<section id="section-5.2.3">
          <h4 id="name-prefix-descriptors">
<a class="section-number selfRef" href="#section-5.2.3">5.2.3. </a><a class="section-name selfRef" href="#name-prefix-descriptors">Prefix Descriptors</a>
          </h4>
<p id="section-5.2.3-1">The Prefix Descriptor field is a set of Type/Length/Value (TLV)
          triplets. Prefix Descriptor TLVs uniquely identify an IPv4 or IPv6
          prefix originated by a node. The following TLVs are defined as
          Prefix Descriptors in the IPv4/IPv6 Prefix NLRI:<a class="pilcrow" href="#section-5.2.3-1">¶</a></p>
<span id="name-prefix-descriptor-tlvs"></span><div id="table_prefix_descriptor_tlv">
<table class="center" id="table-5">
            <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-prefix-descriptor-tlvs">Prefix Descriptor TLVs</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-center" colspan="1" rowspan="1">Length</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">263</td>
                <td class="text-left" colspan="1" rowspan="1">Multi-Topology Identifier</td>
                <td class="text-center" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#MT-ID">Section 5.2.2.1</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">264</td>
                <td class="text-left" colspan="1" rowspan="1">OSPF Route Type</td>
                <td class="text-center" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#OSPFRTETYPE">Section 5.2.3.1</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">265</td>
                <td class="text-left" colspan="1" rowspan="1">IP Reachability Information</td>
                <td class="text-center" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#IPREACHINFO">Section 5.2.3.2</a>
</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-5.2.3-3">The Multi-Topology Identifier TLV <span class="bcp14">MUST</span> be included in the Prefix
          Descriptor if the underlying IGP prefix object is associated with a
          non-default topology.<a class="pilcrow" href="#section-5.2.3-3">¶</a></p>
<div id="OSPFRTETYPE">
<section id="section-5.2.3.1">
            <h5 id="name-ospf-route-type">
<a class="section-number selfRef" href="#section-5.2.3.1">5.2.3.1. </a><a class="section-name selfRef" href="#name-ospf-route-type">OSPF Route Type</a>
            </h5>
<p id="section-5.2.3.1-1">The OSPF Route Type TLV is an optional TLV corresponding to
            Prefix NLRIs originated from OSPF. It is used to identify the OSPF
            route type of the prefix. An OSPF prefix <span class="bcp14">MAY</span> be advertised in the
            OSPF domain with multiple route types. The Route Type TLV allows
            the discrimination of these advertisements. The OSPF Route Type
            TLV <span class="bcp14">MUST</span> be included in the advertisement when the type is either
            being signaled explicitly in the underlying LSA or can be
            determined via another LSA for the same prefix when it is not
            signaled explicitly (e.g., in the case of OSPFv2 Extended Prefix
            Opaque LSA <span>[<a class="cite xref" href="#RFC7684">RFC7684</a>]</span>). The route type advertised in
            the OSPFv2 Extended Prefix TLV (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc7684#section-2.1">Section 2.1</a> of [<a class="cite xref" href="#RFC7684">RFC7684</a>]</span>) does not make a distinction between Type 1 and
            2 for AS external and Not-So-Stubby Area (NSSA) external routes. In this case, the
            route type to be used in the BGP-LS advertisement can be
            determined by checking the OSPFv2 External or NSSA External LSA
            for the prefix. A similar check for the base OSPFv2 LSAs can be
            done to determine the route type to be used when the route type
            value 0 is carried in the OSPFv2 Extended Prefix TLV.<a class="pilcrow" href="#section-5.2.3.1-1">¶</a></p>
<p id="section-5.2.3.1-2">The format of the OSPF Route Type TLV is shown in the following
            figure.<a class="pilcrow" href="#section-5.2.3.1-2">¶</a></p>
<span id="name-ospf-route-type-tlv-format"></span><div id="ROUTETYPETLV">
<figure id="figure-13">
              <div class="alignLeft art-text artwork" id="section-5.2.3.1-3.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |  Route Type   |
  +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-13">Figure 13</a>:
<a class="selfRef" href="#name-ospf-route-type-tlv-format">OSPF Route Type TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.2.3.1-4">The Type and Length fields of the TLV are defined in
            <a class="auto internal xref" href="#table_prefix_descriptor_tlv">Table 5</a>. The Route Type
            field follows the route types defined in the OSPF protocol and can
            be one of the following:<a class="pilcrow" href="#section-5.2.3.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.3.1-5.1">Intra-Area (0x1)<a class="pilcrow" href="#section-5.2.3.1-5.1">¶</a>
</li>
              <li class="normal" id="section-5.2.3.1-5.2">Inter-Area (0x2)<a class="pilcrow" href="#section-5.2.3.1-5.2">¶</a>
</li>
              <li class="normal" id="section-5.2.3.1-5.3">External 1 (0x3)<a class="pilcrow" href="#section-5.2.3.1-5.3">¶</a>
</li>
              <li class="normal" id="section-5.2.3.1-5.4">External 2 (0x4)<a class="pilcrow" href="#section-5.2.3.1-5.4">¶</a>
</li>
              <li class="normal" id="section-5.2.3.1-5.5">NSSA 1 (0x5)<a class="pilcrow" href="#section-5.2.3.1-5.5">¶</a>
</li>
              <li class="normal" id="section-5.2.3.1-5.6">NSSA 2 (0x6)<a class="pilcrow" href="#section-5.2.3.1-5.6">¶</a>
</li>
            </ul>
</section>
</div>
<div id="IPREACHINFO">
<section id="section-5.2.3.2">
            <h5 id="name-ip-reachability-information">
<a class="section-number selfRef" href="#section-5.2.3.2">5.2.3.2. </a><a class="section-name selfRef" href="#name-ip-reachability-information">IP Reachability Information</a>
            </h5>
<p id="section-5.2.3.2-1">The IP Reachability Information TLV is a mandatory TLV for IPv4
            &amp; IPv6 Prefix NLRI types. The TLV contains one IP address
            prefix (IPv4 or IPv6) originally advertised in the IGP topology. A
            router <span class="bcp14">SHOULD</span> advertise an IP Prefix NLRI for each of its BGP
            next hops. The format of the IP Reachability Information TLV is
            shown in the following figure:<a class="pilcrow" href="#section-5.2.3.2-1">¶</a></p>
<span id="name-ip-reachability-information-"></span><div id="IPREACHABILITYTLV">
<figure id="figure-14">
              <div class="alignLeft art-text artwork" id="section-5.2.3.2-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Prefix Length | IP Prefix (variable)                         //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-14">Figure 14</a>:
<a class="selfRef" href="#name-ip-reachability-information-">IP Reachability Information TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.2.3.2-3">The Type and Length fields of the TLV are defined in <a class="auto internal xref" href="#table_prefix_descriptor_tlv">Table 5</a>. The following two fields
            determine the reachability information of the address family. The
            Prefix Length field contains the length of the prefix in bits. The
            IP Prefix field contains an IP address prefix followed by the
            minimum number of trailing bits needed to make the end of the
            field fall on an octet boundary. Any trailing bits <span class="bcp14">MUST</span> be set to
            0. Thus, the IP Prefix field contains the most significant octets
            of the prefix, i.e., 1 octet for prefix length 1 up to 8, 2 octets
            for prefix length 9 up to 16, 3 octets for prefix length 17 up to 24,
            4 octets for prefix length 25 up to 32, etc.<a class="pilcrow" href="#section-5.2.3.2-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="BGPLSATTR">
<section id="section-5.3">
        <h3 id="name-the-bgp-ls-attribute">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-the-bgp-ls-attribute">The BGP-LS Attribute</a>
        </h3>
<p id="section-5.3-1">The BGP-LS Attribute (assigned value 29 by IANA) is an optional,
        non-transitive BGP Attribute that is used to carry link, node, and
        prefix parameters and attributes. It is defined as a set of
        Type/Length/Value (TLV) triplets, as described in the following section.
        This attribute <span class="bcp14">SHOULD</span> only be included with Link-State NLRIs. The use
        of this attribute for other address families is outside the scope of
        this document.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">The Node Attribute TLVs, Link Attribute TLVs, and Prefix Attribute
        TLVs are sets of TLVs that may be encoded in the BGP-LS Attribute
        associated with a Node NLRI, Link NLRI, and Prefix NLRI
        respectively.<a class="pilcrow" href="#section-5.3-2">¶</a></p>
<p id="section-5.3-3">The size of the BGP-LS Attribute may potentially grow large,
        depending on the amount of link-state information associated with a
        single Link-State NLRI. The BGP specification <span>[<a class="cite xref" href="#RFC4271">RFC4271</a>]</span>
        mandates a maximum BGP message size of 4096 octets. It is <span class="bcp14">RECOMMENDED</span>
        that implementations support the extended message size for BGP <span>[<a class="cite xref" href="#RFC8654">RFC8654</a>]</span> to
        accommodate a larger size of information within the BGP-LS Attribute.
        BGP-LS Producers <span class="bcp14">MUST</span> ensure that the TLVs included in the BGP-LS
        Attribute does not result in a BGP UPDATE message for a single
        Link-State NLRI that crosses the maximum limit for a BGP message.<a class="pilcrow" href="#section-5.3-3">¶</a></p>
<p id="section-5.3-4">An implementation <span class="bcp14">MAY</span> adopt mechanisms to avoid this problem that
        may be based on the BGP-LS Consumer applications' requirement; these
        mechanisms are beyond the scope of this specification. However, if an
        implementation chooses to mitigate the problem by excluding some TLVs
        from the BGP-LS Attribute, this exclusion <span class="bcp14">SHOULD</span> be done consistently
        by all BGP-LS Producers within a given BGP-LS domain. In the event of
        inconsistent exclusion of TLVs from the BGP-LS Attribute, the result
        would be a differing set of attributes of the link-state object being
        propagated to BGP-LS Consumers based on the BGP Decision Process at
        BGP-LS Propagators.<a class="pilcrow" href="#section-5.3-4">¶</a></p>
<p id="section-5.3-5">When a BGP-LS Propagator finds that it is exceeding the maximum BGP
        message size due to the addition or update of some other BGP Attribute
        (e.g., AS_PATH), it <span class="bcp14">MUST</span> consider the BGP-LS Attribute to be malformed,
        apply the 'Attribute Discard' error-handling approach <span>[<a class="cite xref" href="#RFC7606">RFC7606</a>]</span>, and handle the propagation as described in <a class="auto internal xref" href="#Fault-Management">Section 8.2.2</a>. When a BGP-LS Propagator needs to perform
        'Attribute Discard' for reducing the BGP UPDATE message size as
        specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8654#section-4">Section 4</a> of [<a class="cite xref" href="#RFC8654">RFC8654</a>]</span>, it <span class="bcp14">MUST</span> first
        discard the BGP-LS Attribute to enable the detection and diagnosis of
        this error condition as discussed in <a class="auto internal xref" href="#Fault-Management">Section 8.2.2</a>. This brings the deployment consideration
        that the consistent propagation of BGP-LS information with a BGP
        UPDATE message size larger than 4096 octets can only happen along a
        set of BGP Speakers that all support the contents of <span>[<a class="cite xref" href="#RFC8654">RFC8654</a>]</span>.<a class="pilcrow" href="#section-5.3-5">¶</a></p>
<div id="NODEATTR">
<section id="section-5.3.1">
          <h4 id="name-node-attribute-tlvs">
<a class="section-number selfRef" href="#section-5.3.1">5.3.1. </a><a class="section-name selfRef" href="#name-node-attribute-tlvs">Node Attribute TLVs</a>
          </h4>
<p id="section-5.3.1-1">The following Node Attribute TLVs are defined for the BGP-LS
          Attribute associated with a Node NLRI:<a class="pilcrow" href="#section-5.3.1-1">¶</a></p>
<span id="name-node-attribute-tlvs-2"></span><div id="node-attribute_tlv">
<table class="center" id="table-6">
            <caption>
<a class="selfRef" href="#table-6">Table 6</a>:
<a class="selfRef" href="#name-node-attribute-tlvs-2">Node Attribute TLVs</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-right" colspan="1" rowspan="1">Length</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">263</td>
                <td class="text-left" colspan="1" rowspan="1">Multi-Topology Identifier</td>
                <td class="text-right" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#MT-ID">Section 5.2.2.1</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1024</td>
                <td class="text-left" colspan="1" rowspan="1">Node Flag Bits</td>
                <td class="text-right" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#NODEFLAGBITS">Section 5.3.1.1</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1025</td>
                <td class="text-left" colspan="1" rowspan="1">Opaque Node Attribute</td>
                <td class="text-right" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#OPAQUENODE">Section 5.3.1.5</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1026</td>
                <td class="text-left" colspan="1" rowspan="1">Node Name</td>
                <td class="text-right" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#NODENAME">Section 5.3.1.3</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1027</td>
                <td class="text-left" colspan="1" rowspan="1">IS-IS Area Identifier</td>
                <td class="text-right" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#ISISAREA">Section 5.3.1.2</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1028</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4 Router-ID of Local Node</td>
                <td class="text-right" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-4.3">Section 4.3</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1029</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6 Router-ID of Local Node</td>
                <td class="text-right" colspan="1" rowspan="1">16</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6119#section-4.1">Section 4.1</a></span>
</td>
              </tr>
            </tbody>
          </table>
</div>
<div id="NODEFLAGBITS">
<section id="section-5.3.1.1">
            <h5 id="name-node-flag-bits-tlv">
<a class="section-number selfRef" href="#section-5.3.1.1">5.3.1.1. </a><a class="section-name selfRef" href="#name-node-flag-bits-tlv">Node Flag Bits TLV</a>
            </h5>
<p id="section-5.3.1.1-1">The Node Flag Bits TLV carries a bitmask describing node
            attributes. The value is a 1-octet-length bit array of flags,
            where each bit represents a node-operational state or
            attribute.<a class="pilcrow" href="#section-5.3.1.1-1">¶</a></p>
<span id="name-node-flag-bits-tlv-format"></span><div id="node_flag_bits">
<figure id="figure-15">
              <div class="alignLeft art-text artwork" id="section-5.3.1.1-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |O|T|E|B|R|V|   |
  +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-15">Figure 15</a>:
<a class="selfRef" href="#name-node-flag-bits-tlv-format">Node Flag Bits TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.1.1-3">The bits are defined as follows:<a class="pilcrow" href="#section-5.3.1.1-3">¶</a></p>
<span id="name-node-flag-bits-definitions"></span><div id="table_node_flag_bits_tlv">
<table class="center" id="table-7">
              <caption>
<a class="selfRef" href="#table-7">Table 7</a>:
<a class="selfRef" href="#name-node-flag-bits-definitions">Node Flag Bits Definitions</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" colspan="1" rowspan="1">Bit</th>
                  <th class="text-left" colspan="1" rowspan="1">Description</th>
                  <th class="text-left" colspan="1" rowspan="1">Reference</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'O'</td>
                  <td class="text-left" colspan="1" rowspan="1">Overload Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#ISO10589">ISO10589</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'A'</td>
                  <td class="text-left" colspan="1" rowspan="1">Attached Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#ISO10589">ISO10589</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'E'</td>
                  <td class="text-left" colspan="1" rowspan="1">External Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC2328">RFC2328</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'B'</td>
                  <td class="text-left" colspan="1" rowspan="1">ABR Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC2328">RFC2328</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'R'</td>
                  <td class="text-left" colspan="1" rowspan="1">Router Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'V'</td>
                  <td class="text-left" colspan="1" rowspan="1">V6 Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span>
</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-5.3.1.1-5">The bits that are not defined <span class="bcp14">MUST</span> be set to 0 by the
            originator and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-5.3.1.1-5">¶</a></p>
</section>
</div>
<div id="ISISAREA">
<section id="section-5.3.1.2">
            <h5 id="name-is-is-area-identifier-tlv">
<a class="section-number selfRef" href="#section-5.3.1.2">5.3.1.2. </a><a class="section-name selfRef" href="#name-is-is-area-identifier-tlv">IS-IS Area Identifier TLV</a>
            </h5>
<p id="section-5.3.1.2-1">An IS-IS node can be part of only a single IS-IS area. However,
            a node can have multiple synonymous area addresses. Each of these
            area addresses is carried in the IS-IS Area Identifier TLV. If
            multiple area addresses are present, multiple TLVs are used to
            encode them. The IS-IS Area Identifier TLV may be present in the
            BGP-LS Attribute only when advertised in the Link-State Node
            NLRI.<a class="pilcrow" href="#section-5.3.1.2-1">¶</a></p>
<span id="name-is-is-area-identifier-tlv-f"></span><div id="ISISAREAIDTLV">
<figure id="figure-16">
              <div class="alignLeft art-text artwork" id="section-5.3.1.2-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //               IS-IS Area Identifier (variable)              //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-16">Figure 16</a>:
<a class="selfRef" href="#name-is-is-area-identifier-tlv-f">IS-IS Area Identifier TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="NODENAME">
<section id="section-5.3.1.3">
            <h5 id="name-node-name-tlv">
<a class="section-number selfRef" href="#section-5.3.1.3">5.3.1.3. </a><a class="section-name selfRef" href="#name-node-name-tlv">Node Name TLV</a>
            </h5>
<p id="section-5.3.1.3-1">The Node Name TLV is optional. The encoding semantics for the
            node name has been borrowed from <span>[<a class="cite xref" href="#RFC5301">RFC5301</a>]</span>. The
            Value field identifies the symbolic name of the router node. This
            symbolic name can be the Fully Qualified Domain Name (FQDN)
            for the router, a substring of the FQDN (e.g., a
            hostname), or any string that an operator wants to use
            for the router. The use of the FQDN or a substring of it is strongly
            <span class="bcp14">RECOMMENDED</span>. The maximum length of the Node Name TLV is 255
            octets.<a class="pilcrow" href="#section-5.3.1.3-1">¶</a></p>
<p id="section-5.3.1.3-2">The Value field is encoded in 7-bit ASCII. If a user interface
            for configuring or displaying this field permits Unicode
            characters, then the user interface is responsible for applying
            the ToASCII and/or ToUnicode algorithm as described in <span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span> to achieve the correct format for transmission
            or display.<a class="pilcrow" href="#section-5.3.1.3-2">¶</a></p>
<p id="section-5.3.1.3-3"><span>[<a class="cite xref" href="#RFC5301">RFC5301</a>]</span> describes an IS-IS-specific extension,
            and <span>[<a class="cite xref" href="#RFC5642">RFC5642</a>]</span> describes an OSPF extension for the
            advertisement of the node name, which may be encoded in the Node Name
            TLV.<a class="pilcrow" href="#section-5.3.1.3-3">¶</a></p>
<span id="name-node-name-format"></span><div id="optional-node-name-tlv">
<figure id="figure-17">
              <div class="alignLeft art-text artwork" id="section-5.3.1.3-4.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                     Node Name (variable)                    //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-17">Figure 17</a>:
<a class="selfRef" href="#name-node-name-format">Node Name Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="aux_routerid_node">
<section id="section-5.3.1.4">
            <h5 id="name-local-ipv4-ipv6-router-id-t">
<a class="section-number selfRef" href="#section-5.3.1.4">5.3.1.4. </a><a class="section-name selfRef" href="#name-local-ipv4-ipv6-router-id-t">Local IPv4/IPv6 Router-ID TLVs</a>
            </h5>
<p id="section-5.3.1.4-1">The local IPv4/IPv6 Router-ID TLVs are used to describe
            auxiliary Router-IDs that the IGP might be using, e.g., for TE and
            migration purposes such as correlating a Node-ID between different
            protocols. If there is more than one auxiliary Router-ID of a
            given type, then each one is encoded as a separate TLV.<a class="pilcrow" href="#section-5.3.1.4-1">¶</a></p>
</section>
</div>
<div id="OPAQUENODE">
<section id="section-5.3.1.5">
            <h5 id="name-opaque-node-attribute-tlv">
<a class="section-number selfRef" href="#section-5.3.1.5">5.3.1.5. </a><a class="section-name selfRef" href="#name-opaque-node-attribute-tlv">Opaque Node Attribute TLV</a>
            </h5>
<p id="section-5.3.1.5-1">The Opaque Node Attribute TLV is an envelope that transparently
            carries optional Node Attribute TLVs advertised by a router. An
            originating router shall use this TLV for encoding information
            specific to the protocol advertised in the NLRI header Protocol-ID
            field or new protocol extensions to the protocol as advertised in
            the NLRI header Protocol-ID field for which there is no
            protocol-neutral representation in the BGP Link-State NLRI. The
            primary use of the Opaque Node Attribute TLV is to bridge the
            document lag between a new IGP link-state attribute and its
            protocol-neutral BGP-LS extension being defined. Once the
            protocol-neutral BGP-LS extensions are defined, the BGP-LS
            implementations may still need to advertise the information both
            within the Opaque Attribute TLV and the new TLV definition for
            incremental deployment and transition.<a class="pilcrow" href="#section-5.3.1.5-1">¶</a></p>
<p id="section-5.3.1.5-2">In the case of OSPF, this TLV <span class="bcp14">MUST NOT</span> be used to advertise
            TLVs other than those in the OSPF Router Information (RI) LSA
            <span>[<a class="cite xref" href="#RFC7770">RFC7770</a>]</span>.<a class="pilcrow" href="#section-5.3.1.5-2">¶</a></p>
<span id="name-opaque-node-attribute-forma"></span><div id="optional_opaque_node-attribute_tlv">
<figure id="figure-18">
              <div class="alignLeft art-text artwork" id="section-5.3.1.5-3.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //               Opaque Node Attributes (variable)             //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-18">Figure 18</a>:
<a class="selfRef" href="#name-opaque-node-attribute-forma">Opaque Node Attribute Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.1.5-4">The Type is as specified in <a class="auto internal xref" href="#node-attribute_tlv">Table 6</a>. The length is variable.<a class="pilcrow" href="#section-5.3.1.5-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="link_attribute">
<section id="section-5.3.2">
          <h4 id="name-link-attribute-tlvs">
<a class="section-number selfRef" href="#section-5.3.2">5.3.2. </a><a class="section-name selfRef" href="#name-link-attribute-tlvs">Link Attribute TLVs</a>
          </h4>
<p id="section-5.3.2-1">Link Attribute TLVs are TLVs that may be encoded in the BGP-LS
          Attribute with a Link NLRI. Each 'Link Attribute' is a
          Type/Length/Value (TLV) triplet formatted as defined in <a class="auto internal xref" href="#TLV-section">Section 5.1</a>. The format and semantics of the Value fields
          in some Link Attribute TLVs correspond to the format and semantics
          of the Value fields in IS-IS Extended IS Reachability sub-TLVs,
          which are defined in <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>]</span> and <span>[<a class="cite xref" href="#RFC5307">RFC5307</a>]</span>.
          Other Link Attribute TLVs are defined in this document. Although the
          encodings for Link Attribute TLVs were originally defined for IS-IS,
          the TLVs can carry data sourced by either IS-IS or OSPF.<a class="pilcrow" href="#section-5.3.2-1">¶</a></p>
<p id="section-5.3.2-2">The following Link Attribute TLVs are defined for the BGP-LS
          Attribute associated with a Link NLRI:<a class="pilcrow" href="#section-5.3.2-2">¶</a></p>
<span id="name-link-attribute-tlvs-2"></span><div id="table_link_attribute_tlv">
<table class="center" id="table-8">
            <caption>
<a class="selfRef" href="#table-8">Table 8</a>:
<a class="selfRef" href="#name-link-attribute-tlvs-2">Link Attribute TLVs</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-center" colspan="1" rowspan="1">IS-IS TLV/Sub-TLV</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1028</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4 Router-ID of Local Node</td>
                <td class="text-center" colspan="1" rowspan="1">134/---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-4.3">Section 4.3</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1029</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6 Router-ID of Local Node</td>
                <td class="text-center" colspan="1" rowspan="1">140/---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6119#section-4.1">Section 4.1</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1030</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4 Router-ID of Remote Node</td>
                <td class="text-center" colspan="1" rowspan="1">134/---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-4.3">Section 4.3</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1031</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6 Router-ID of Remote Node</td>
                <td class="text-center" colspan="1" rowspan="1">140/---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6119#section-4.1">Section 4.1</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1088</td>
                <td class="text-left" colspan="1" rowspan="1">Administrative group (color)</td>
                <td class="text-center" colspan="1" rowspan="1">22/3</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-3.1">Section 3.1</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1089</td>
                <td class="text-left" colspan="1" rowspan="1">Maximum link bandwidth</td>
                <td class="text-center" colspan="1" rowspan="1">22/9</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-3.4">Section 3.4</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1090</td>
                <td class="text-left" colspan="1" rowspan="1">Max. reservable link bandwidth</td>
                <td class="text-center" colspan="1" rowspan="1">22/10</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-3.5">Section 3.5</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1091</td>
                <td class="text-left" colspan="1" rowspan="1">Unreserved bandwidth</td>
                <td class="text-center" colspan="1" rowspan="1">22/11</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-3.6">Section 3.6</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1092</td>
                <td class="text-left" colspan="1" rowspan="1">TE Default Metric</td>
                <td class="text-center" colspan="1" rowspan="1">22/18</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#TEDEFAULTMETTLV">Section 5.3.2.3</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1093</td>
                <td class="text-left" colspan="1" rowspan="1">Link Protection Type</td>
                <td class="text-center" colspan="1" rowspan="1">22/20</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5307">RFC5307</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5307#section-1.2">Section 1.2</a></span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1094</td>
                <td class="text-left" colspan="1" rowspan="1">MPLS Protocol Mask</td>
                <td class="text-center" colspan="1" rowspan="1">---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#MPLSPROTOTLV">Section 5.3.2.2</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1095</td>
                <td class="text-left" colspan="1" rowspan="1">IGP Metric</td>
                <td class="text-center" colspan="1" rowspan="1">---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#IGPMETTLV">Section 5.3.2.4</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1096</td>
                <td class="text-left" colspan="1" rowspan="1">Shared Risk Link Group</td>
                <td class="text-center" colspan="1" rowspan="1">---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#SRLGTLV">Section 5.3.2.5</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1097</td>
                <td class="text-left" colspan="1" rowspan="1">Opaque Link Attribute</td>
                <td class="text-center" colspan="1" rowspan="1">---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#OPAQUELINK">Section 5.3.2.6</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1098</td>
                <td class="text-left" colspan="1" rowspan="1">Link Name</td>
                <td class="text-center" colspan="1" rowspan="1">---</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#LINKNAME">Section 5.3.2.7</a>
</td>
              </tr>
            </tbody>
          </table>
</div>
<div id="aux_routerid_link">
<section id="section-5.3.2.1">
            <h5 id="name-ipv4-ipv6-router-id-tlvs">
<a class="section-number selfRef" href="#section-5.3.2.1">5.3.2.1. </a><a class="section-name selfRef" href="#name-ipv4-ipv6-router-id-tlvs">IPv4/IPv6 Router-ID TLVs</a>
            </h5>
<p id="section-5.3.2.1-1">The local/remote IPv4/IPv6 Router-ID TLVs are used to describe
            auxiliary Router-IDs that the IGP might be using, e.g., for TE
            purposes. All auxiliary Router-IDs of both the local and the
            remote node <span class="bcp14">MUST</span> be included in the link attribute of each Link
            NLRI. If there is more than one auxiliary Router-ID of a given
            type, then multiple TLVs are used to encode them.<a class="pilcrow" href="#section-5.3.2.1-1">¶</a></p>
</section>
</div>
<div id="MPLSPROTOTLV">
<section id="section-5.3.2.2">
            <h5 id="name-mpls-protocol-mask-tlv">
<a class="section-number selfRef" href="#section-5.3.2.2">5.3.2.2. </a><a class="section-name selfRef" href="#name-mpls-protocol-mask-tlv">MPLS Protocol Mask TLV</a>
            </h5>
<p id="section-5.3.2.2-1">The MPLS Protocol Mask TLV carries a bitmask describing which
            MPLS signaling protocols are enabled. The length of this TLV is 1.
            The value is a bit array of 8 flags, where each bit represents an
            MPLS Protocol capability.<a class="pilcrow" href="#section-5.3.2.2-1">¶</a></p>
<p id="section-5.3.2.2-2">Generation of the MPLS Protocol Mask TLV is only valid for and
            <span class="bcp14">SHOULD</span> only be used with originators that have local link insight,
            for example, the Protocol-IDs 'Static configuration' or 'Direct'
            as per <a class="auto internal xref" href="#PROTOCOL-IDS">Table 2</a>. The MPLS Protocol Mask TLV
            <span class="bcp14">MUST NOT</span> be included in NLRIs with the other Protocol-IDs listed
            in <a class="auto internal xref" href="#PROTOCOL-IDS">Table 2</a>.<a class="pilcrow" href="#section-5.3.2.2-2">¶</a></p>
<span id="name-mpls-protocol-mask-tlv-2"></span><div id="MPLSPROTO">
<figure id="figure-19">
              <div class="alignLeft art-text artwork" id="section-5.3.2.2-3.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |L|R|  Reserved |
  +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-19">Figure 19</a>:
<a class="selfRef" href="#name-mpls-protocol-mask-tlv-2">MPLS Protocol Mask TLV</a>
              </figcaption></figure>
</div>
<p id="section-5.3.2.2-4">The following bits are defined, and the reserved bits <span class="bcp14">MUST</span> be
            set to zero and <span class="bcp14">SHOULD</span> be ignored on receipt:<a class="pilcrow" href="#section-5.3.2.2-4">¶</a></p>
<span id="name-mpls-protocol-mask-tlv-code"></span><div id="table_mpls_protocols_tlv">
<table class="center" id="table-9">
              <caption>
<a class="selfRef" href="#table-9">Table 9</a>:
<a class="selfRef" href="#name-mpls-protocol-mask-tlv-code">MPLS Protocol Mask TLV Codes</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" colspan="1" rowspan="1">Bit</th>
                  <th class="text-left" colspan="1" rowspan="1">Description</th>
                  <th class="text-left" colspan="1" rowspan="1">Reference</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'L'</td>
                  <td class="text-left" colspan="1" rowspan="1">Label Distribution Protocol (LDP)</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5036">RFC5036</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'R'</td>
                  <td class="text-left" colspan="1" rowspan="1">Extension to RSVP for LSP Tunnels (RSVP-TE)</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC3209">RFC3209</a>]</span>
</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-5.3.2.2-6">The bits that are not defined <span class="bcp14">MUST</span> be set to 0 by the
            originator and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-5.3.2.2-6">¶</a></p>
</section>
</div>
<div id="TEDEFAULTMETTLV">
<section id="section-5.3.2.3">
            <h5 id="name-te-default-metric-tlv">
<a class="section-number selfRef" href="#section-5.3.2.3">5.3.2.3. </a><a class="section-name selfRef" href="#name-te-default-metric-tlv">TE Default Metric TLV</a>
            </h5>
<p id="section-5.3.2.3-1">The TE Default Metric TLV carries the Traffic Engineering
            metric for this link. The length of this TLV is fixed at 4 octets.
            If a source protocol uses a metric width of fewer than 32 bits,
            then the high-order bits of this field <span class="bcp14">MUST</span> be padded with
            zero.<a class="pilcrow" href="#section-5.3.2.3-1">¶</a></p>
<span id="name-te-default-metric-tlv-forma"></span><div id="TEDEFAULTMET">
<figure id="figure-20">
              <div class="alignLeft art-text artwork" id="section-5.3.2.3-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    TE Default Link Metric                     |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-20">Figure 20</a>:
<a class="selfRef" href="#name-te-default-metric-tlv-forma">TE Default Metric TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="IGPMETTLV">
<section id="section-5.3.2.4">
            <h5 id="name-igp-metric-tlv">
<a class="section-number selfRef" href="#section-5.3.2.4">5.3.2.4. </a><a class="section-name selfRef" href="#name-igp-metric-tlv">IGP Metric TLV</a>
            </h5>
<p id="section-5.3.2.4-1">The IGP Metric TLV carries the metric for this link. The length
            of this TLV is variable, depending on the metric width of the
            underlying protocol. IS-IS small metrics are 6 bits in size but
            are encoded in a 1-octet field; therefore, the two most significant
            bits of the field <span class="bcp14">MUST</span> be set to 0 by the originator and <span class="bcp14">MUST</span> be
            ignored by the receiver. OSPF link metrics have a length of 2
            octets. IS-IS wide metrics have a length of 3 octets.<a class="pilcrow" href="#section-5.3.2.4-1">¶</a></p>
<span id="name-igp-metric-tlv-format"></span><div id="MET">
<figure id="figure-21">
              <div class="alignLeft art-text artwork" id="section-5.3.2.4-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //      IGP Link Metric (variable length)      //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-21">Figure 21</a>:
<a class="selfRef" href="#name-igp-metric-tlv-format">IGP Metric TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="SRLGTLV">
<section id="section-5.3.2.5">
            <h5 id="name-shared-risk-link-group-tlv">
<a class="section-number selfRef" href="#section-5.3.2.5">5.3.2.5. </a><a class="section-name selfRef" href="#name-shared-risk-link-group-tlv">Shared Risk Link Group TLV</a>
            </h5>
<p id="section-5.3.2.5-1">The Shared Risk Link Group (SRLG) TLV carries the Shared Risk
            Link Group information (see Section <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4202#section-2.3">2.3</a> (<a class="relref" href="https://rfc-editor.org/rfc/rfc4202#section-2.3">"Shared Risk Link Group
            Information"</a>)</span> of <span>[<a class="cite xref" href="#RFC4202">RFC4202</a>]</span>). It contains a data
            structure consisting of a (variable) list of SRLG values, where
            each element in the list has 4 octets, as shown in <a class="auto internal xref" href="#SRLG">Figure 22</a>. The length of this TLV is 4 * (number of SRLG
            values).<a class="pilcrow" href="#section-5.3.2.5-1">¶</a></p>
<span id="name-shared-risk-link-group-tlv-"></span><div id="SRLG">
<figure id="figure-22">
              <div class="alignLeft art-text artwork" id="section-5.3.2.5-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                  Shared Risk Link Group Value                 |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                         ............                        //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                  Shared Risk Link Group Value                 |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-22">Figure 22</a>:
<a class="selfRef" href="#name-shared-risk-link-group-tlv-">Shared Risk Link Group TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.2.5-3">The SRLG TLV for OSPF-TE is defined in <span>[<a class="cite xref" href="#RFC4203">RFC4203</a>]</span>. In IS-IS, the SRLG information is carried in
            two different TLVs: the GMPLS-SRLG TLV (for IPv4) (Type 138) defined in
            <span>[<a class="cite xref" href="#RFC5307">RFC5307</a>]</span> and the IPv6 SRLG TLV (Type 139) defined
            in <span>[<a class="cite xref" href="#RFC6119">RFC6119</a>]</span>. Both IPv4 and IPv6 SRLG information
            is carried in a single TLV.<a class="pilcrow" href="#section-5.3.2.5-3">¶</a></p>
</section>
</div>
<div id="OPAQUELINK">
<section id="section-5.3.2.6">
            <h5 id="name-opaque-link-attribute-tlv">
<a class="section-number selfRef" href="#section-5.3.2.6">5.3.2.6. </a><a class="section-name selfRef" href="#name-opaque-link-attribute-tlv">Opaque Link Attribute TLV</a>
            </h5>
<p id="section-5.3.2.6-1">The Opaque Link Attribute TLV is an envelope that transparently
            carries optional Link Attribute TLVs advertised by a router. An
            originating router shall use this TLV for encoding information
            specific to the protocol advertised in the NLRI header Protocol-ID
            field or new protocol extensions to the protocol as advertised in
            the NLRI header Protocol-ID field for which there is no
            protocol-neutral representation in the BGP Link-State NLRI. The
            primary use of the Opaque Link Attribute TLV is to bridge the
            document lag between a new IGP link-state attribute and its
            'protocol-neutral' BGP-LS extension being defined. Once the
            protocol-neutral BGP-LS extensions are defined, the BGP-LS
            implementations may still need to advertise the information both
            within the Opaque Attribute TLV and the new TLV definition for
            incremental deployment and transition.<a class="pilcrow" href="#section-5.3.2.6-1">¶</a></p>
<p id="section-5.3.2.6-2">In the case of OSPFv2, this TLV <span class="bcp14">MUST NOT</span> be used to advertise
            information carried using TLVs other than those in the OSPFv2
            Extended Link Opaque LSA <span>[<a class="cite xref" href="#RFC7684">RFC7684</a>]</span>. In the case of
            OSPFv3, this TLV <span class="bcp14">MUST NOT</span> be used to advertise TLVs other than
            those in the OSPFv3 E-Router-LSA or E-Link-LSA <span>[<a class="cite xref" href="#RFC8362">RFC8362</a>]</span>.<a class="pilcrow" href="#section-5.3.2.6-2">¶</a></p>
<span id="name-opaque-link-attribute-tlv-f"></span><div id="OPAQUELINKTLV">
<figure id="figure-23">
              <div class="alignLeft art-text artwork" id="section-5.3.2.6-3.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                Opaque Link Attributes (variable)            //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-23">Figure 23</a>:
<a class="selfRef" href="#name-opaque-link-attribute-tlv-f">Opaque Link Attribute TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="LINKNAME">
<section id="section-5.3.2.7">
            <h5 id="name-link-name-tlv">
<a class="section-number selfRef" href="#section-5.3.2.7">5.3.2.7. </a><a class="section-name selfRef" href="#name-link-name-tlv">Link Name TLV</a>
            </h5>
<p id="section-5.3.2.7-1">The Link Name TLV is optional. The Value field identifies the
            symbolic name of the router link. This symbolic name can be
            the FQDN for the link, a substring of the FQDN, or
            any string that an operator wants to use for the link. The
            use of the FQDN or a substring of it is strongly <span class="bcp14">RECOMMENDED</span>. The
            maximum length of the Link Name TLV is 255 octets.<a class="pilcrow" href="#section-5.3.2.7-1">¶</a></p>
<p id="section-5.3.2.7-2">The Value field is encoded in 7-bit ASCII. If a user interface
            for configuring or displaying this field permits Unicode
            characters, then the user interface is responsible for applying
            the ToASCII and/or ToUnicode algorithm as described in <span>[<a class="cite xref" href="#RFC5890">RFC5890</a>]</span> to achieve the correct format for transmission
            or display.<a class="pilcrow" href="#section-5.3.2.7-2">¶</a></p>
<p id="section-5.3.2.7-3">How a router derives and injects link names is outside of the
            scope of this document.<a class="pilcrow" href="#section-5.3.2.7-3">¶</a></p>
<span id="name-link-name-tlv-format"></span><div id="optional-link-name-tlv">
<figure id="figure-24">
              <div class="alignLeft art-text artwork" id="section-5.3.2.7-4.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                     Link Name (variable)                    //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-24">Figure 24</a>:
<a class="selfRef" href="#name-link-name-tlv-format">Link Name TLV Format</a>
              </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="PFXATTR">
<section id="section-5.3.3">
          <h4 id="name-prefix-attribute-tlvs">
<a class="section-number selfRef" href="#section-5.3.3">5.3.3. </a><a class="section-name selfRef" href="#name-prefix-attribute-tlvs">Prefix Attribute TLVs</a>
          </h4>
<p id="section-5.3.3-1">Prefixes are learned from the IGP topology (IS-IS or OSPF) with a
          set of IGP attributes (such as metric, route tags, etc.) that are
          advertised in the BGP-LS Attribute with Prefix NLRI types 3 and
          4.<a class="pilcrow" href="#section-5.3.3-1">¶</a></p>
<p id="section-5.3.3-2">The following Prefix Attribute TLVs are defined for the BGP-LS
          Attribute associated with a Prefix NLRI:<a class="pilcrow" href="#section-5.3.3-2">¶</a></p>
<span id="name-prefix-attribute-tlvs-2"></span><div id="prefix-attribute_tlv">
<table class="center" id="table-10">
            <caption>
<a class="selfRef" href="#table-10">Table 10</a>:
<a class="selfRef" href="#name-prefix-attribute-tlvs-2">Prefix Attribute TLVs</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-right" colspan="1" rowspan="1">Length</th>
                <th class="text-left" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1152</td>
                <td class="text-left" colspan="1" rowspan="1">IGP Flags</td>
                <td class="text-right" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#IGPFLAGS">Section 5.3.3.1</a>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1153</td>
                <td class="text-left" colspan="1" rowspan="1">IGP Route Tag</td>
                <td class="text-right" colspan="1" rowspan="1">4*n</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5130">RFC5130</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1154</td>
                <td class="text-left" colspan="1" rowspan="1">IGP Extended Route Tag</td>
                <td class="text-right" colspan="1" rowspan="1">8*n</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5130">RFC5130</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1155</td>
                <td class="text-left" colspan="1" rowspan="1">Prefix Metric</td>
                <td class="text-right" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1156</td>
                <td class="text-left" colspan="1" rowspan="1">OSPF Forwarding Address</td>
                <td class="text-right" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <span>[<a class="cite xref" href="#RFC2328">RFC2328</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1157</td>
                <td class="text-left" colspan="1" rowspan="1">Opaque Prefix Attribute</td>
                <td class="text-right" colspan="1" rowspan="1">variable</td>
                <td class="text-left" colspan="1" rowspan="1">
                  <a class="auto internal xref" href="#OPAQUEPREFIX">Section 5.3.3.6</a>
</td>
              </tr>
            </tbody>
          </table>
</div>
<div id="IGPFLAGS">
<section id="section-5.3.3.1">
            <h5 id="name-igp-flags-tlv">
<a class="section-number selfRef" href="#section-5.3.3.1">5.3.3.1. </a><a class="section-name selfRef" href="#name-igp-flags-tlv">IGP Flags TLV</a>
            </h5>
<p id="section-5.3.3.1-1">The IGP Flags TLV contains one octet of IS-IS and OSPF flags
            and bits originally assigned to the prefix. The IGP Flags TLV is
            encoded as follows:<a class="pilcrow" href="#section-5.3.3.1-1">¶</a></p>
<span id="name-igp-flag-tlv-format"></span><div id="IGPFLAGSTLV">
<figure id="figure-25">
              <div class="alignLeft art-text artwork" id="section-5.3.3.1-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |D|N|L|P|       |
  +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-25">Figure 25</a>:
<a class="selfRef" href="#name-igp-flag-tlv-format">IGP Flag TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.3.1-3">The Value field contains bits defined according to the table
            below:<a class="pilcrow" href="#section-5.3.3.1-3">¶</a></p>
<span id="name-igp-flag-bits-definitions"></span><div id="table_igp_flag_bits_tlv">
<table class="center" id="table-11">
              <caption>
<a class="selfRef" href="#table-11">Table 11</a>:
<a class="selfRef" href="#name-igp-flag-bits-definitions">IGP Flag Bits Definitions</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" colspan="1" rowspan="1">Bit</th>
                  <th class="text-left" colspan="1" rowspan="1">Description</th>
                  <th class="text-left" colspan="1" rowspan="1">Reference</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'D'</td>
                  <td class="text-left" colspan="1" rowspan="1">IS-IS Up/Down Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5305">RFC5305</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'N'</td>
                  <td class="text-left" colspan="1" rowspan="1">OSPF "no unicast" Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'L'</td>
                  <td class="text-left" colspan="1" rowspan="1">OSPF "local address" Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span>
</td>
                </tr>
                <tr>
                  <td class="text-center" colspan="1" rowspan="1">'P'</td>
                  <td class="text-left" colspan="1" rowspan="1">OSPF "propagate NSSA" Bit</td>
                  <td class="text-left" colspan="1" rowspan="1">
                    <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span>
</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-5.3.3.1-5">The bits that are not defined <span class="bcp14">MUST</span> be set to 0 by the
            originator and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-5.3.3.1-5">¶</a></p>
</section>
</div>
<div id="route_tag">
<section id="section-5.3.3.2">
            <h5 id="name-igp-route-tag-tlv">
<a class="section-number selfRef" href="#section-5.3.3.2">5.3.3.2. </a><a class="section-name selfRef" href="#name-igp-route-tag-tlv">IGP Route Tag TLV</a>
            </h5>
<p id="section-5.3.3.2-1">The IGP Route Tag TLV carries original IGP Tags (IS-IS <span>[<a class="cite xref" href="#RFC5130">RFC5130</a>]</span> or OSPF) of the prefix and is encoded as
            follows:<a class="pilcrow" href="#section-5.3.3.2-1">¶</a></p>
<span id="name-igp-route-tag-tlv-format"></span><div id="IGPROUTETAG">
<figure id="figure-26">
              <div class="alignLeft art-text artwork" id="section-5.3.3.2-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                    Route Tags (one or more)                 //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-26">Figure 26</a>:
<a class="selfRef" href="#name-igp-route-tag-tlv-format">IGP Route Tag TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.3.2-3">The length is a multiple of 4.<a class="pilcrow" href="#section-5.3.3.2-3">¶</a></p>
<p id="section-5.3.3.2-4">The Value field contains one or more Route Tags as learned in
            the IGP topology.<a class="pilcrow" href="#section-5.3.3.2-4">¶</a></p>
</section>
</div>
<div id="ext_route_tag">
<section id="section-5.3.3.3">
            <h5 id="name-igp-extended-route-tag-tlv">
<a class="section-number selfRef" href="#section-5.3.3.3">5.3.3.3. </a><a class="section-name selfRef" href="#name-igp-extended-route-tag-tlv">IGP Extended Route Tag TLV</a>
            </h5>
<p id="section-5.3.3.3-1">The IGP Extended Route Tag TLV carries IS-IS Extended Route
            Tags of the prefix <span>[<a class="cite xref" href="#RFC5130">RFC5130</a>]</span> and is encoded as
            follows:<a class="pilcrow" href="#section-5.3.3.3-1">¶</a></p>
<span id="name-igp-extended-route-tag-tlv-"></span><div id="IGPEXTROUTETAG">
<figure id="figure-27">
              <div class="alignLeft art-text artwork" id="section-5.3.3.3-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                Extended Route Tag (one or more)             //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-27">Figure 27</a>:
<a class="selfRef" href="#name-igp-extended-route-tag-tlv-">IGP Extended Route Tag TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.3.3-3">The length is a multiple of 8.<a class="pilcrow" href="#section-5.3.3.3-3">¶</a></p>
<p id="section-5.3.3.3-4">The Extended Route Tag field contains one or more Extended
            Route Tags as learned in the IGP topology.<a class="pilcrow" href="#section-5.3.3.3-4">¶</a></p>
</section>
</div>
<div id="prefix_metric">
<section id="section-5.3.3.4">
            <h5 id="name-prefix-metric-tlv">
<a class="section-number selfRef" href="#section-5.3.3.4">5.3.3.4. </a><a class="section-name selfRef" href="#name-prefix-metric-tlv">Prefix Metric TLV</a>
            </h5>
<p id="section-5.3.3.4-1">The Prefix Metric TLV is an optional attribute and may only
            appear once. If present, it carries the metric of the prefix as
            known in the IGP topology, as described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5305#section-4">Section 4</a> of [<a class="cite xref" href="#RFC5305">RFC5305</a>]</span> (and therefore represents the reachability cost
            to the prefix). If not present, it means that the prefix is
            advertised without any reachability.<a class="pilcrow" href="#section-5.3.3.4-1">¶</a></p>
<span id="name-prefix-metric-tlv-format"></span><div id="PREFIXMETRIC">
<figure id="figure-28">
              <div class="alignLeft art-text artwork" id="section-5.3.3.4-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                            Metric                             |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-28">Figure 28</a>:
<a class="selfRef" href="#name-prefix-metric-tlv-format">Prefix Metric TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.3.4-3">The length is 4.<a class="pilcrow" href="#section-5.3.3.4-3">¶</a></p>
</section>
</div>
<div id="ospf_fwd_addr">
<section id="section-5.3.3.5">
            <h5 id="name-ospf-forwarding-address-tlv">
<a class="section-number selfRef" href="#section-5.3.3.5">5.3.3.5. </a><a class="section-name selfRef" href="#name-ospf-forwarding-address-tlv">OSPF Forwarding Address TLV</a>
            </h5>
<p id="section-5.3.3.5-1">The OSPF Forwarding Address TLV <span>[<a class="cite xref" href="#RFC2328">RFC2328</a>]</span> <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span> carries the OSPF forwarding address as known in
            the original OSPF advertisement. The forwarding address can be
            either IPv4 or IPv6.<a class="pilcrow" href="#section-5.3.3.5-1">¶</a></p>
<span id="name-ospf-forwarding-address-tlv-"></span><div id="OSPFFORWADDR">
<figure id="figure-29">
              <div class="alignLeft art-text artwork" id="section-5.3.3.5-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                Forwarding Address (variable)                //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-29">Figure 29</a>:
<a class="selfRef" href="#name-ospf-forwarding-address-tlv-">OSPF Forwarding Address TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.3.5-3">The length is 4 for an IPv4 forwarding address and 16 for an IPv6
            forwarding address.<a class="pilcrow" href="#section-5.3.3.5-3">¶</a></p>
</section>
</div>
<div id="OPAQUEPREFIX">
<section id="section-5.3.3.6">
            <h5 id="name-opaque-prefix-attribute-tlv">
<a class="section-number selfRef" href="#section-5.3.3.6">5.3.3.6. </a><a class="section-name selfRef" href="#name-opaque-prefix-attribute-tlv">Opaque Prefix Attribute TLV</a>
            </h5>
<p id="section-5.3.3.6-1">The Opaque Prefix Attribute TLV is an envelope that
            transparently carries optional Prefix Attribute TLVs advertised by
            a router.
            An originating router shall use this TLV for encoding information
     specific to the protocol advertised in the NLRI header Protocol-ID
     field or it shall use new protocol extensions for the protocol as
     advertised in the NLRI header Protocol-ID field for which there is no
     protocol-neutral representation in the BGP Link-State NLRI. The
            primary use of the Opaque Prefix Attribute TLV is to bridge the
            document lag between a new IGP link-state attribute and its
            protocol-neutral BGP-LS extension being defined. Once the
            protocol-neutral BGP-LS extensions are defined, the BGP-LS
            implementations may still need to advertise the information both
            within the Opaque Attribute TLV and the new TLV definition for
            incremental deployment and transition.<a class="pilcrow" href="#section-5.3.3.6-1">¶</a></p>
<p id="section-5.3.3.6-2">In the case of OSPFv2, this TLV <span class="bcp14">MUST NOT</span> be used to advertise
            information carried using TLVs other than those in the OSPFv2
            Extended Prefix Opaque LSA <span>[<a class="cite xref" href="#RFC7684">RFC7684</a>]</span>.
     In the case
            of OSPFv3, this TLV <span class="bcp14">MUST NOT</span> be used to advertise TLVs other than
            those in the OSPFv3 E-Inter-Area-Prefix-LSA,
            E-Intra-Area-Prefix-LSA, E-AS-External-LSA, and E-NSSA-LSA
            <span>[<a class="cite xref" href="#RFC8362">RFC8362</a>]</span>.<a class="pilcrow" href="#section-5.3.3.6-2">¶</a></p>
<p id="section-5.3.3.6-3">The format of the TLV is as follows:<a class="pilcrow" href="#section-5.3.3.6-3">¶</a></p>
<span id="name-opaque-prefix-attribute-tlv-"></span><div id="OPAQUEPREFIXTLV">
<figure id="figure-30">
              <div class="alignLeft art-text artwork" id="section-5.3.3.6-4.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Type             |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //              Opaque Prefix Attributes  (variable)           //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-30">Figure 30</a>:
<a class="selfRef" href="#name-opaque-prefix-attribute-tlv-">Opaque Prefix Attribute TLV Format</a>
              </figcaption></figure>
</div>
<p id="section-5.3.3.6-5">The Type is as specified in <a class="auto internal xref" href="#prefix-attribute_tlv">Table 10</a>. The length is variable.<a class="pilcrow" href="#section-5.3.3.6-5">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="PRIVATE">
<section id="section-5.4">
        <h3 id="name-private-use">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-private-use">Private Use</a>
        </h3>
<p id="section-5.4-1">TLVs for Vendor Private Use are supported using the code point
        range reserved as indicated in <a class="auto internal xref" href="#IANA">Section 7</a>. For such TLV use
        in the NLRI or BGP-LS Attribute, the format described in <a class="auto internal xref" href="#TLV-section">Section 5.1</a> is to be used and a 4-octet field <span class="bcp14">MUST</span> be
        included as the first field in the value to carry the Enterprise Code.
        For a private use NLRI type, a 4-octet field <span class="bcp14">MUST</span> be included as the
        first field in the NLRI immediately following the Total NLRI Length
        field of the Link-State NLRI format as described in <a class="auto internal xref" href="#BGPLSNLRI">Section 5.2</a> to carry the Enterprise Code <span>[<a class="cite xref" href="#ENTNUM">ENTNUM</a>]</span>. This enables the use of vendor-specific extensions
        without conflicts.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<p id="section-5.4-2">Multiple instances of private-use TLVs <span class="bcp14">MAY</span> appear in the BGP-LS
        Attribute.<a class="pilcrow" href="#section-5.4-2">¶</a></p>
</section>
</div>
<div id="BGPNH">
<section id="section-5.5">
        <h3 id="name-bgp-next-hop-information">
<a class="section-number selfRef" href="#section-5.5">5.5. </a><a class="section-name selfRef" href="#name-bgp-next-hop-information">BGP Next-Hop Information</a>
        </h3>
<p id="section-5.5-1">BGP link-state information for both IPv4 and IPv6 networks can be
        carried over either an IPv4 BGP session or an IPv6 BGP session. If an
        IPv4 BGP session is used, then the next hop in the MP_REACH_NLRI
        <span class="bcp14">SHOULD</span> be an IPv4 address. Similarly, if an IPv6 BGP session is used,
        then the next hop in the MP_REACH_NLRI <span class="bcp14">SHOULD</span> be an IPv6 address.
        Usually, the next hop will be set to the local endpoint address of the
        BGP session. The next-hop address <span class="bcp14">MUST</span> be encoded as described in
        <span>[<a class="cite xref" href="#RFC4760">RFC4760</a>]</span>. The Length field of the next-hop address
        will specify the next-hop address family. If the next-hop length is 4,
        then the next hop is an IPv4 address; if the next-hop length is 16,
        then it is a global IPv6 address; and if the next-hop length is 32,
        then there is one global IPv6 address followed by an IPv6 link-local
        address. The IPv6 link-local address should be used as described in
        <span>[<a class="cite xref" href="#RFC2545">RFC2545</a>]</span>. For VPN Subsequent Address Family Identifier
        (SAFI), as per custom, an 8-byte Route Distinguisher set to all zero
        is prepended to the next hop.<a class="pilcrow" href="#section-5.5-1">¶</a></p>
<p id="section-5.5-2">The BGP Next-Hop is used by each BGP-LS Speaker to validate the
        NLRI it receives. In case identical NLRIs are sourced by multiple
        BGP-LS Producers, the BGP Next-Hop is used to tiebreak as per the
        standard BGP path decision process. This specification doesn't mandate
        any rule regarding the rewrite of the BGP Next-Hop.<a class="pilcrow" href="#section-5.5-2">¶</a></p>
</section>
</div>
<div id="INTERAS">
<section id="section-5.6">
        <h3 id="name-inter-as-links">
<a class="section-number selfRef" href="#section-5.6">5.6. </a><a class="section-name selfRef" href="#name-inter-as-links">Inter-AS Links</a>
        </h3>
<p id="section-5.6-1">The main source of TE information is the IGP, which is not active
        on inter-AS links. In some cases, the IGP may have information of
        inter-AS links <span>[<a class="cite xref" href="#RFC5392">RFC5392</a>]</span> <span>[<a class="cite xref" href="#RFC9346">RFC9346</a>]</span>. In
        other cases, an implementation <span class="bcp14">SHOULD</span> provide a means to inject
        inter-AS links into BGP-LS. The exact mechanism used to advertise the
        inter-AS links is outside the scope of this document.<a class="pilcrow" href="#section-5.6-1">¶</a></p>
</section>
</div>
<div id="OSPFVL">
<section id="section-5.7">
        <h3 id="name-ospf-virtual-links-and-sham">
<a class="section-number selfRef" href="#section-5.7">5.7. </a><a class="section-name selfRef" href="#name-ospf-virtual-links-and-sham">OSPF Virtual Links and Sham Links</a>
        </h3>
<p id="section-5.7-1">In an OSPF <span>[<a class="cite xref" href="#RFC2328">RFC2328</a>]</span> <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span>
        network, OSPF virtual links serve to connect physically separate
        components of the backbone to establish/maintain continuity of the
        backbone area. While OSPF virtual links are modeled as point-to-point,
        unnumbered links in the OSPF topology, their characteristics and
        purpose are different from other types of links in the OSPF topology.
        They are advertised using a distinct "virtual link" type in OSPF LSAs.
        The mechanism for the advertisement of OSPF virtual links via BGP-LS
        is outside the scope of this document.<a class="pilcrow" href="#section-5.7-1">¶</a></p>
<p id="section-5.7-2">In an OSPF network, sham links <span>[<a class="cite xref" href="#RFC4577">RFC4577</a>]</span> <span>[<a class="cite xref" href="#RFC6565">RFC6565</a>]</span> are used to provide intra-area connectivity between
        VPN Routing and Forwarding (VRF) instances on Provider Edge (PE) routers over the VPN
        provider's network. These links are advertised in OSPF as
        point-to-point, unnumbered links and represent connectivity over a
        service provider network using encapsulation mechanisms like MPLS. As
        such, the mechanism for the advertisement of OSPF sham links follows
        the same procedures as other point-to-point, unnumbered links as
        described previously in this document.<a class="pilcrow" href="#section-5.7-2">¶</a></p>
</section>
</div>
<div id="OSPFTYPE4">
<section id="section-5.8">
        <h3 id="name-ospfv2-type-4-summary-lsa-o">
<a class="section-number selfRef" href="#section-5.8">5.8. </a><a class="section-name selfRef" href="#name-ospfv2-type-4-summary-lsa-o">OSPFv2 Type 4 Summary-LSA &amp; OSPFv3 Inter-Area-Router-LSA</a>
        </h3>
<p id="section-5.8-1">OSPFv2 <span>[<a class="cite xref" href="#RFC2328">RFC2328</a>]</span> defines the type 4 summary-LSA and
        OSPFv3 <span>[<a class="cite xref" href="#RFC5340">RFC5340</a>]</span> defines the inter-area-router-LSA for an Area
        Border Router (ABR) to advertise reachability to an AS Border Router
        (ASBR) that is external to the area yet internal to the AS. The nature
        of information advertised by OSPF using this type of LSA does not map
        to either a node, a link, or a prefix as discussed in this document.
        Therefore, the mechanism for the advertisement of the information
        carried by these LSAs is outside the scope of this document.<a class="pilcrow" href="#section-5.8-1">¶</a></p>
</section>
</div>
<div id="UNREACHNODES">
<section id="section-5.9">
        <h3 id="name-handling-of-unreachable-igp">
<a class="section-number selfRef" href="#section-5.9">5.9. </a><a class="section-name selfRef" href="#name-handling-of-unreachable-igp">Handling of Unreachable IGP Nodes</a>
        </h3>
<p id="section-5.9-1">Consider an OSPF network as shown in <a class="auto internal xref" href="#INCORRECTTOPORR">Figure 31</a>, where R2 and R3 are the BGP-LS Producers
        and also the OSPF Area Border Routers (ABRs). The link between R2 and
        R3 is in area 0, while the other links are in area 1 as indicated by
        the a0 and a1 references respectively against the links.<a class="pilcrow" href="#section-5.9-1">¶</a></p>
<p id="section-5.9-2">A BGP-LS Consumer talks to BGP route reflector RR0, which is a
        BGP-LS Propagator that is aggregating the BGP-LS feed from BGP-LS
        Producers R2 and R3. Here, R2 and R3 provide a redundant topology feed
        via BGP-LS to RR0. Normally, RR0 would receive two identical copies of
        all the Link-State NLRIs from both R2 and R3 and it would pick one of
        them (say R2) based on the standard BGP Decision Process.<a class="pilcrow" href="#section-5.9-2">¶</a></p>
<span id="name-incorrect-reporting-due-to-"></span><div id="INCORRECTTOPORR">
<figure id="figure-31">
          <div class="alignLeft art-text artwork" id="section-5.9-3.1">
<pre>                  BGP-LS Consumer
                         ^
                         |
                        RR0
                 (BGP Route Reflector)
                      /      \
                     /        \
              a1    /   a0     \    a1
         R1 ------ R2 -------- R3 ------ R4
     a1  |                               |  a1
         |                               |
         R5 ---------------------------- R6
                        a1

</pre>
</div>
<figcaption><a class="selfRef" href="#figure-31">Figure 31</a>:
<a class="selfRef" href="#name-incorrect-reporting-due-to-">Incorrect Reporting Due to BGP Path Selection</a>
          </figcaption></figure>
</div>
<p id="section-5.9-4">Consider a scenario where the link between R5 and R6 is
        lost (thereby partitioning the area 1), and consider its impact on the OSPF LSDB
        at R2 and R3.<a class="pilcrow" href="#section-5.9-4">¶</a></p>
<p id="section-5.9-5">Now, R5 will remove the link R5-R6 from its Router LSA, and this
        updated LSA is available at R2. R2 also has a stale copy of R6's
        Router LSA that still has the link R6-R5 in it. Based on this view in
        its LSDB, R2 will advertise only the half-link R6-R5 that it derives
        from R6's stale Router LSA.<a class="pilcrow" href="#section-5.9-5">¶</a></p>
<p id="section-5.9-6">At the same time, R6 has removed the link R6-R5 from its Router
        LSA, and this updated LSA is available at R3. Similarly, R3 also has a
        stale copy of R5's Router LSA having the link R5-R6 in it. Based on
        its LSDB, R3 will advertise only the half-link R5-R6 that it
        derives from R5's stale Router LSA.<a class="pilcrow" href="#section-5.9-6">¶</a></p>
<p id="section-5.9-7">Now, the BGP-LS Consumer receives both the Link NLRIs corresponding
        to the half-links from R2 and R3 via RR0. When viewed together, it
        would not detect or realize that area 1 is partitioned. Also, if R2
        continues to report Node and Prefix NLRIs corresponding to the stale
        copy of R4's and R6's Router LSAs, then RR0 could prefer them over the
        valid Node and Prefix NLRIs for R4 and R6 that it is receiving from R3
        depending on RR0's BGP Decision Process. This would result in the
        BGP-LS Consumer getting stale and inaccurate topology information.
        This problem scenario is avoided if R2 were to not advertise the
        link-state information corresponding to R4 and R6 and if R3 were to
        not advertise similarly for R1 and R5.<a class="pilcrow" href="#section-5.9-7">¶</a></p>
<p id="section-5.9-8">A BGP-LS Producer <span class="bcp14">SHOULD</span> withdraw all link-state objects advertised
        by it in BGP when the node that originated its corresponding LSPs/LSAs
        is determined to have become unreachable in the IGP. An implementation
        <span class="bcp14">MAY</span> continue to advertise link-state objects corresponding to
        unreachable nodes in a deployment use case where the BGP-LS Consumer
        is interested in receiving a topology feed corresponding to a complete
        IGP LSDB view. In such deployments, it is expected that the problem
        described above is mitigated by the BGP-LS Consumer via appropriate
        handling of such a topology feed in addition to the use of either a
        direct BGP peering with the BGP-LS Producer nodes or mechanisms such
        as those described in <span>[<a class="cite xref" href="#RFC7911">RFC7911</a>]</span> when using RRs. Details of these
        mechanisms are outside the scope of this document.<a class="pilcrow" href="#section-5.9-8">¶</a></p>
<p id="section-5.9-9">If the BGP-LS Producer does withdraw link-state objects associated
        with an IGP node based on the failure of reachability check for that
        node, then it <span class="bcp14">MUST</span> re-advertise those link-state objects after that
        node becomes reachable again in the IGP domain.<a class="pilcrow" href="#section-5.9-9">¶</a></p>
</section>
</div>
<div id="ISISPN">
<section id="section-5.10">
        <h3 id="name-router-id-anchoring-example">
<a class="section-number selfRef" href="#section-5.10">5.10. </a><a class="section-name selfRef" href="#name-router-id-anchoring-example">Router-ID Anchoring Example: ISO Pseudonode</a>
        </h3>
<p id="section-5.10-1">The encoding of a broadcast LAN in IS-IS provides a good example of
        how Router-IDs are encoded. Consider <a class="auto internal xref" href="#ISISPseudonodes">Figure 32</a>.
        This represents a broadcast LAN between a pair of routers. The "real"
        (non-pseudonode) routers have both an IPv4 Router-ID and an IS-IS
        Node-ID. The pseudonode does not have an IPv4 Router-ID. Node1 is the
        DIS for the LAN. Two unidirectional links, (Node1, Pseudonode1) and
        (Pseudonode1, Node2), are being generated.<a class="pilcrow" href="#section-5.10-1">¶</a></p>
<p id="section-5.10-2">The Link NLRI of (Node1, Pseudonode1) is encoded as follows. The
        IGP Router-ID TLV of the local Node Descriptor is 6 octets long and
        contains the ISO-ID of Node1, 1920.0000.2001. The IGP Router-ID TLV of
        the remote Node Descriptor is 7 octets long and contains the ISO-ID of
        Pseudonode1, 1920.0000.2001.02. The BGP-LS Attribute of this link
        contains one local IPv4 Router-ID TLV (TLV type 1028) containing
        192.0.2.1, the IPv4 Router-ID of Node1.<a class="pilcrow" href="#section-5.10-2">¶</a></p>
<p id="section-5.10-3">The Link NLRI of (Pseudonode1, Node2) is encoded as follows. The
        IGP Router-ID TLV of the local Node Descriptor is 7 octets long and
        contains the ISO-ID of Pseudonode1, 1920.0000.2001.02. The IGP
        Router-ID TLV of the remote Node Descriptor is 6 octets long and
        contains the ISO-ID of Node2, 1920.0000.2002. The BGP-LS Attribute of
        this link contains one remote IPv4 Router-ID TLV (TLV type 1030)
        containing 192.0.2.2, the IPv4 Router-ID of Node2.<a class="pilcrow" href="#section-5.10-3">¶</a></p>
<span id="name-is-is-pseudonodes"></span><div id="ISISPseudonodes">
<figure id="figure-32">
          <div class="alignLeft art-text artwork" id="section-5.10-4.1">
<pre>  +-----------------+    +-----------------+    +-----------------+
  |      Node1      |    |   Pseudonode1   |    |      Node2      |
  |1920.0000.2001.00|---&gt;|1920.0000.2001.02|---&gt;|1920.0000.2002.00|
  |     192.0.2.1   |    |                 |    |     192.0.2.2   |
  +-----------------+    +-----------------+    +-----------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-32">Figure 32</a>:
<a class="selfRef" href="#name-is-is-pseudonodes">IS-IS Pseudonodes</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="OSPFPN">
<section id="section-5.11">
        <h3 id="name-router-id-anchoring-example-">
<a class="section-number selfRef" href="#section-5.11">5.11. </a><a class="section-name selfRef" href="#name-router-id-anchoring-example-">Router-ID Anchoring Example: OSPF Pseudonode</a>
        </h3>
<p id="section-5.11-1">The encoding of a broadcast LAN in OSPF provides a good example of
        how Router-IDs and local Interface IPs are encoded. Consider <a class="auto internal xref" href="#OSPFPseudonodes">Figure 33</a>. This represents a broadcast LAN between a
        pair of routers. The "real" (non-pseudonode) routers have both an IPv4
        Router-ID and an Area Identifier. The pseudonode does have an IPv4
        Router-ID, an IPv4 Interface Address (for disambiguation), and an OSPF
        Area. Node1 is the DR for the LAN; hence, its local IP address
        198.51.100.1 is used as both the Router-ID and Interface IP for the
        pseudonode keys. Two unidirectional links, (Node1, Pseudonode1) and
        (Pseudonode1, Node2), are being generated.<a class="pilcrow" href="#section-5.11-1">¶</a></p>
<p id="section-5.11-2">The Link NLRI of (Node1, Pseudonode1) is encoded as follows:<a class="pilcrow" href="#section-5.11-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-3.1">
            <p id="section-5.11-3.1.1">Local Node Descriptor<a class="pilcrow" href="#section-5.11-3.1.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.11-3.1.2">
              <dt id="section-5.11-3.1.2.1">TLV #515:</dt>
              <dd id="section-5.11-3.1.2.2" style="margin-left: 1.5em">IGP Router-ID: 192.0.2.1<a class="pilcrow" href="#section-5.11-3.1.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.11-3.1.2.3">TLV #514:</dt>
              <dd id="section-5.11-3.1.2.4" style="margin-left: 1.5em">OSPF Area-ID: ID:0.0.0.0<a class="pilcrow" href="#section-5.11-3.1.2.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</li>
          <li class="normal" id="section-5.11-3.2">
            <p id="section-5.11-3.2.1">Remote Node Descriptor<a class="pilcrow" href="#section-5.11-3.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.11-3.2.2">
              <dt id="section-5.11-3.2.2.1">TLV #515:</dt>
              <dd id="section-5.11-3.2.2.2" style="margin-left: 1.5em">IGP Router-ID: 192.0.2.1:198.51.100.1<a class="pilcrow" href="#section-5.11-3.2.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.11-3.2.2.3">TLV #514:</dt>
              <dd id="section-5.11-3.2.2.4" style="margin-left: 1.5em">OSPF Area-ID: ID:0.0.0.0<a class="pilcrow" href="#section-5.11-3.2.2.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</li>
        </ul>
<p id="section-5.11-4">The Link NLRI of (Pseudonode1, Node2) is encoded as follows:<a class="pilcrow" href="#section-5.11-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-5.1">
            <p id="section-5.11-5.1.1">Local Node Descriptor<a class="pilcrow" href="#section-5.11-5.1.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.11-5.1.2">
              <dt id="section-5.11-5.1.2.1">TLV #515:</dt>
              <dd id="section-5.11-5.1.2.2" style="margin-left: 1.5em">IGP Router-ID: 192.0.2.1:198.51.100.1<a class="pilcrow" href="#section-5.11-5.1.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.11-5.1.2.3">TLV #514:</dt>
              <dd id="section-5.11-5.1.2.4" style="margin-left: 1.5em">OSPF Area-ID: ID:0.0.0.0<a class="pilcrow" href="#section-5.11-5.1.2.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</li>
          <li class="normal" id="section-5.11-5.2">
            <p id="section-5.11-5.2.1">Remote Node Descriptor<a class="pilcrow" href="#section-5.11-5.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.11-5.2.2">
              <dt id="section-5.11-5.2.2.1">TLV #515:</dt>
              <dd id="section-5.11-5.2.2.2" style="margin-left: 1.5em">IGP Router-ID: 192.0.2.2<a class="pilcrow" href="#section-5.11-5.2.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.11-5.2.2.3">TLV #514:</dt>
              <dd id="section-5.11-5.2.2.4" style="margin-left: 1.5em">OSPF Area-ID: ID:0.0.0.0<a class="pilcrow" href="#section-5.11-5.2.2.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</li>
        </ul>
<span id="name-ospf-pseudonodes"></span><div id="OSPFPseudonodes">
<figure id="figure-33">
          <div class="alignLeft art-text artwork" id="section-5.11-6.1">
<pre>     198.51.100.1/24             198.51.100.2/24
+-------------+    +-------------+    +-------------+
|   Node1     |    | Pseudonode1 |    |    Node2    |
|  192.0.2.1  |---&gt;|  192.0.2.1  |---&gt;|  192.0.2.2  |
|             |    |198.51.100.1 |    |             |
|   Area 0    |    |   Area 0    |    |    Area 0   |
+-------------+    +-------------+    +-------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-33">Figure 33</a>:
<a class="selfRef" href="#name-ospf-pseudonodes">OSPF Pseudonodes</a>
          </figcaption></figure>
</div>
<p id="section-5.11-7">The LAN subnet 198.51.100.0/24 is not included in the Router LSA of
        Node1 or Node2. The Network LSA for this LAN advertised by the DR
        Node1 contains the subnet mask for the LAN along with the DR address.
        A Prefix NLRI corresponding to the LAN subnet is advertised with the
        Pseudonode1 used as the local node using the DR address and the subnet
        mask from the Network LSA.<a class="pilcrow" href="#section-5.11-7">¶</a></p>
</section>
</div>
<div id="OSPF2ISIS">
<section id="section-5.12">
        <h3 id="name-router-id-anchoring-example-o">
<a class="section-number selfRef" href="#section-5.12">5.12. </a><a class="section-name selfRef" href="#name-router-id-anchoring-example-o">Router-ID Anchoring Example: OSPFv2 to IS-IS Migration</a>
        </h3>
<p id="section-5.12-1">Graceful migration from one IGP to another requires coordinated
        operation of both protocols during the migration period. Such
        coordination requires identifying a given physical link in both IGPs.
        The IPv4 Router-ID provides that "glue", which is present in the Node
        Descriptors of the OSPF Link NLRI and in the link attribute of the
        IS-IS Link NLRI.<a class="pilcrow" href="#section-5.12-1">¶</a></p>
<p id="section-5.12-2">Consider a point-to-point link between two routers, A and B, which
 initially were OSPFv2-only routers and then had IS-IS enabled on them.
        Node A has IPv4 Router-ID and ISO-ID; node B has IPv4 Router-ID, IPv6
        Router-ID, and ISO-ID. Each protocol generates one Link NLRI for the
        link (A, B), both of which are carried by BGP-LS. The OSPFv2 Link NLRI
        for the link is encoded with the IPv4 Router-ID of nodes A and B in
        the local and remote Node Descriptors, respectively. The IS-IS Link
        NLRI for the link is encoded with the ISO-ID of nodes A and B in the
        local and remote Node Descriptors, respectively. In addition, the
        BGP-LS Attribute of the IS-IS Link NLRI contains the TLV type 1028
        containing the IPv4 Router-ID of node A, TLV type 1030 containing the
        IPv4 Router-ID of node B, and TLV type 1031 containing the IPv6
        Router-ID of node B. In this case, by using IPv4 Router-ID, the link
        (A, B) can be identified in both the IS-IS and OSPF protocols.<a class="pilcrow" href="#section-5.12-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="LINKPATHAGGREGATION">
<section id="section-6">
      <h2 id="name-link-to-path-aggregation">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-link-to-path-aggregation">Link to Path Aggregation</a>
      </h2>
<p id="section-6-1">Distribution of all links available on the global Internet is
      certainly possible; however, it is not desirable from a scaling and
      privacy point of view. Therefore, an implementation may support a link
      to path aggregation. Rather than advertising all specific links of a
      domain, an ASBR may advertise an "aggregate link" between a non-adjacent
      pair of nodes. The "aggregate link" represents the aggregated set of
      link properties between a pair of non-adjacent nodes. The actual methods
      to compute the path properties (of bandwidth, metric, etc.) are outside
      the scope of this document. The decision of whether to advertise all
      specific links or aggregated links is an operator's policy choice. To
      highlight the varying levels of exposure, the following deployment
      examples are discussed.<a class="pilcrow" href="#section-6-1">¶</a></p>
<section id="section-6.1">
        <h3 id="name-example-no-link-aggregation">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-example-no-link-aggregation">Example: No Link Aggregation</a>
        </h3>
<p id="section-6.1-1">Consider <a class="auto internal xref" href="#no-link-aggregation">Figure 34</a>. Both AS1 and AS2
        operators want to protect their inter-AS {R1, R3}, {R2, R4} links
        using RSVP - Fast Reroute (RSVP-FRR) LSPs. If R1 wants to compute its link-protection LSP to
        R3, it needs to "see" an alternate path to R3. Therefore, the AS2
        operator exposes its topology. All BGP-TE-enabled routers in AS1 "see"
        the full topology of AS2 and therefore can compute a backup path. Note
        that the computing router decides if the direct link between {R3, R4}
        or the {R4, R5, R3} path is used.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<span id="name-no-link-aggregation"></span><div id="no-link-aggregation">
<figure id="figure-34">
          <div class="alignLeft art-text artwork" id="section-6.1-2.1">
<pre>       AS1   :   AS2
             :
        R1-------R3
         |   :   | \
         |   :   |  R5
         |   :   | /
        R2-------R4
             :
             :
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-34">Figure 34</a>:
<a class="selfRef" href="#name-no-link-aggregation">No Link Aggregation</a>
          </figcaption></figure>
</div>
</section>
<section id="section-6.2">
        <h3 id="name-example-asbr-to-asbr-path-a">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-example-asbr-to-asbr-path-a">Example: ASBR to ASBR Path Aggregation</a>
        </h3>
<p id="section-6.2-1">The brief difference between the "no-link aggregation" example and
        this example is that no specific link gets exposed. Consider <a class="auto internal xref" href="#asbr-link-aggregation">Figure 35</a>. The only link that gets advertised
        by AS2 is an "aggregate" link between R3 and R4. This is enough to
        tell AS1 that there is a backup path. However, the actual links being
        used are hidden from the topology.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<span id="name-asbr-link-aggregation"></span><div id="asbr-link-aggregation">
<figure id="figure-35">
          <div class="alignLeft art-text artwork" id="section-6.2-2.1">
<pre>       AS1   :   AS2
             :
        R1-------R3
         |   :   |
         |   :   |
         |   :   |
        R2-------R4
             :
             :
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-35">Figure 35</a>:
<a class="selfRef" href="#name-asbr-link-aggregation">ASBR Link Aggregation</a>
          </figcaption></figure>
</div>
</section>
<section id="section-6.3">
        <h3 id="name-example-multi-as-path-aggre">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-example-multi-as-path-aggre">Example: Multi-AS Path Aggregation</a>
        </h3>
<p id="section-6.3-1">Service providers in control of multiple ASes may even decide to
        not expose their internal inter-AS links. Consider <a class="auto internal xref" href="#multi-as-aggregation">Figure 36</a>. AS3 is modeled as a single node that
        connects to the border routers of the aggregated domain.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<span id="name-multi-as-aggregation"></span><div id="multi-as-aggregation">
<figure id="figure-36">
          <div class="alignLeft art-text artwork" id="section-6.3-2.1">
<pre>       AS1   :   AS2   :   AS3
             :         :
        R1-------R3-----
         |   :         : \
         |   :         :   vR0
         |   :         : /
        R2-------R4-----
             :         :
             :         :
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-36">Figure 36</a>:
<a class="selfRef" href="#name-multi-as-aggregation">Multi-AS Aggregation</a>
          </figcaption></figure>
</div>
</section>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">As this document obsoletes <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> and <span>[<a class="cite xref" href="#RFC9029">RFC9029</a>]</span>, IANA has updated all registration
      information that references those documents to instead reference this
      document.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">IANA has assigned address family number 16388 (BGP-LS) in the
      "Address Family Numbers" registry.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">IANA has assigned SAFI values 71 (BGP-LS) and 72 (BGP-LS-VPN) in the
      "SAFI Values" registry under the "Subsequent Address Family Identifiers
      (SAFI) Parameters" registry group.<a class="pilcrow" href="#section-7-3">¶</a></p>
<p id="section-7-4">IANA has assigned value 29 (BGP-LS Attribute) in the "BGP Path
      Attributes" registry under the "Border Gateway Protocol (BGP)
      Parameters" registry group.<a class="pilcrow" href="#section-7-4">¶</a></p>
<p id="section-7-5">IANA has created a "Border Gateway Protocol - Link-State (BGP-LS)
      Parameters" registry group at
      <span>&lt;<a href="https://www.iana.org/assignments/bgp-ls-parameters">https://www.iana.org/assignments/bgp-ls-parameters</a>&gt;</span>.<a class="pilcrow" href="#section-7-5">¶</a></p>
<p id="section-7-6">This section also incorporates all the changes to the allocation
      procedures for the BGP-LS IANA registry group as well as the guidelines
      for designated experts introduced by <span>[<a class="cite xref" href="#RFC9029">RFC9029</a>]</span>.<a class="pilcrow" href="#section-7-6">¶</a></p>
<div id="Registries">
<section id="section-7.1">
        <h3 id="name-bgp-ls-registries">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-bgp-ls-registries">BGP-LS Registries</a>
        </h3>
<p id="section-7.1-1">All of the registries listed in the following subsections are
        specific to BGP-LS and are accessible under this registry.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<div id="NLRITYPESREG">
<section id="section-7.1.1">
          <h4 id="name-bgp-ls-nlri-types-registry">
<a class="section-number selfRef" href="#section-7.1.1">7.1.1. </a><a class="section-name selfRef" href="#name-bgp-ls-nlri-types-registry">BGP-LS NLRI Types Registry</a>
          </h4>
<p id="section-7.1.1-1">The "BGP-LS NLRI Types" registry has been set up for assignment
          for the two-octet-sized code points for BGP-LS NLRI types and
          populated with the values shown below:<a class="pilcrow" href="#section-7.1.1-1">¶</a></p>
<span id="name-bgp-ls-nlri-types"></span><div id="nlri_types_table">
<table class="center" id="table-12">
            <caption>
<a class="selfRef" href="#table-12">Table 12</a>:
<a class="selfRef" href="#name-bgp-ls-nlri-types">BGP-LS NLRI Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">Type</th>
                <th class="text-left" colspan="1" rowspan="1">NLRI Type</th>
                <th class="text-right" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">Node NLRI</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">Link NLRI</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">IPv4 Topology Prefix NLRI</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">IPv6 Topology Prefix NLRI</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">65000-65535</td>
                <td class="text-left" colspan="1" rowspan="1">Private Use</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-7.1.1-3">A range is reserved for Private Use <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>. All
          other allocations within the registry are to be made using the
          "Expert Review" policy <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, which requires
          documentation of the proposed use of the allocated value and
          approval by the designated expert assigned by the IESG.<a class="pilcrow" href="#section-7.1.1-3">¶</a></p>
</section>
</div>
<div id="PROTOIDREG">
<section id="section-7.1.2">
          <h4 id="name-bgp-ls-protocol-ids-registr">
<a class="section-number selfRef" href="#section-7.1.2">7.1.2. </a><a class="section-name selfRef" href="#name-bgp-ls-protocol-ids-registr">BGP-LS Protocol-IDs Registry</a>
          </h4>
<p id="section-7.1.2-1">The "BGP-LS Protocol-IDs" registry has been set up for assignment
          for the one-octet-sized code points for BGP-LS Protocol-IDs and
          populated with the values shown below:<a class="pilcrow" href="#section-7.1.2-1">¶</a></p>
<span id="name-bgp-ls-protocol-ids"></span><div id="protoid_types_table">
<table class="center" id="table-13">
            <caption>
<a class="selfRef" href="#table-13">Table 13</a>:
<a class="selfRef" href="#name-bgp-ls-protocol-ids">BGP-LS Protocol-IDs</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">Protocol-ID</th>
                <th class="text-left" colspan="1" rowspan="1">NLRI information source protocol</th>
                <th class="text-right" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">IS-IS Level 1</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">IS-IS Level 2</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">OSPFv2</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">Direct</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">Static configuration</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">6</td>
                <td class="text-left" colspan="1" rowspan="1">OSPFv3</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">200-255</td>
                <td class="text-left" colspan="1" rowspan="1">Private Use</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-7.1.2-3">A range is reserved for Private Use <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>. All
          other allocations within the registry are to be made using the
          "Expert Review" policy <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, which requires
          documentation of the proposed use of the allocated value and
          approval by the designated expert assigned by the IESG.<a class="pilcrow" href="#section-7.1.2-3">¶</a></p>
</section>
</div>
<div id="INSTIDREG">
<section id="section-7.1.3">
          <h4 id="name-bgp-ls-well-known-instance-">
<a class="section-number selfRef" href="#section-7.1.3">7.1.3. </a><a class="section-name selfRef" href="#name-bgp-ls-well-known-instance-">BGP-LS Well-Known Instance-IDs Registry</a>
          </h4>
<p id="section-7.1.3-1">The "BGP-LS Well-Known Instance-IDs" registry that was set up via
          <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> is no longer required. IANA has
          marked this registry obsolete and changed its registration
          procedure to "registry closed".<a class="pilcrow" href="#section-7.1.3-1">¶</a></p>
</section>
</div>
<div id="NFLAGSIDREG">
<section id="section-7.1.4">
          <h4 id="name-bgp-ls-node-flags-registry">
<a class="section-number selfRef" href="#section-7.1.4">7.1.4. </a><a class="section-name selfRef" href="#name-bgp-ls-node-flags-registry">BGP-LS Node Flags Registry</a>
          </h4>
<p id="section-7.1.4-1">The "BGP-LS Node Flags" registry has been created for
          the one-octet-sized flags field of the Node Flag Bits TLV (1024) and
          populated with the initial values shown below:<a class="pilcrow" href="#section-7.1.4-1">¶</a></p>
<span id="name-bgp-ls-node-flags"></span><div id="node_flags_bit_table">
<table class="center" id="table-14">
            <caption>
<a class="selfRef" href="#table-14">Table 14</a>:
<a class="selfRef" href="#name-bgp-ls-node-flags">BGP-LS Node Flags</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">Bit</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-right" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Overload Bit (O-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">Attached Bit (A-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">External Bit (E-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">ABR Bit (B-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">4</td>
                <td class="text-left" colspan="1" rowspan="1">Router Bit (R-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">5</td>
                <td class="text-left" colspan="1" rowspan="1">V6 Bit (V-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">6-7</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-right" colspan="1" rowspan="1"></td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-7.1.4-3">Allocations within the registry are to be made using the "Expert
          Review" policy <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, which requires documentation
          of the proposed use of the allocated value and approval by the
          designated expert assigned by the IESG.<a class="pilcrow" href="#section-7.1.4-3">¶</a></p>
</section>
</div>
<div id="MPLSMASKREG">
<section id="section-7.1.5">
          <h4 id="name-bgp-ls-mpls-protocol-mask-r">
<a class="section-number selfRef" href="#section-7.1.5">7.1.5. </a><a class="section-name selfRef" href="#name-bgp-ls-mpls-protocol-mask-r">BGP-LS MPLS Protocol Mask Registry</a>
          </h4>
<p id="section-7.1.5-1">The "BGP-LS MPLS Protocol Mask" registry has been
          created for the one-octet-sized flags field of the MPLS Protocol
          Mask TLV (1094) and populated with the initial values shown
          below:<a class="pilcrow" href="#section-7.1.5-1">¶</a></p>
<span id="name-bgp-ls-mpls-protocol-mask"></span><div id="mpls_proto_mask_table">
<table class="center" id="table-15">
            <caption>
<a class="selfRef" href="#table-15">Table 15</a>:
<a class="selfRef" href="#name-bgp-ls-mpls-protocol-mask">BGP-LS MPLS Protocol Mask</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">Bit</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-right" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">Label Distribution Protocol (L-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">Extension to RSVP for LSP Tunnels (R-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">2-7</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-right" colspan="1" rowspan="1"></td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-7.1.5-3">Allocations within the registry are to be made using the "Expert
          Review" policy <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, which requires documentation
          of the proposed use of the allocated value and approval by the
          designated expert assigned by the IESG.<a class="pilcrow" href="#section-7.1.5-3">¶</a></p>
</section>
</div>
<div id="IGPPFLAGSREG">
<section id="section-7.1.6">
          <h4 id="name-bgp-ls-igp-prefix-flags-reg">
<a class="section-number selfRef" href="#section-7.1.6">7.1.6. </a><a class="section-name selfRef" href="#name-bgp-ls-igp-prefix-flags-reg">BGP-LS IGP Prefix Flags Registry</a>
          </h4>
<p id="section-7.1.6-1">The "BGP-LS IGP Prefix Flags" registry has been created
          for the one-octet-sized flags field of the IGP Flags TLV (1152) and
          populated with the initial values shown below:<a class="pilcrow" href="#section-7.1.6-1">¶</a></p>
<span id="name-bgp-ls-igp-prefix-flags"></span><div id="prefix_flags_bit_table">
<table class="center" id="table-16">
            <caption>
<a class="selfRef" href="#table-16">Table 16</a>:
<a class="selfRef" href="#name-bgp-ls-igp-prefix-flags">BGP-LS IGP Prefix Flags</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">Bit</th>
                <th class="text-left" colspan="1" rowspan="1">Description</th>
                <th class="text-right" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">0</td>
                <td class="text-left" colspan="1" rowspan="1">IS-IS Up/Down Bit (D-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">1</td>
                <td class="text-left" colspan="1" rowspan="1">OSPF "no unicast" Bit (N-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">2</td>
                <td class="text-left" colspan="1" rowspan="1">OSPF "local address" Bit (L-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">3</td>
                <td class="text-left" colspan="1" rowspan="1">OSPF "propagate NSSA" Bit (P-bit)</td>
                <td class="text-right" colspan="1" rowspan="1">RFC 9552</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">4-7</td>
                <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-right" colspan="1" rowspan="1"></td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-7.1.6-3">Allocations within the registry are to be made using the "Expert
          Review" policy <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, which requires documentation
          of the proposed use of the allocated value and approval by the
          designated expert assigned by the IESG.<a class="pilcrow" href="#section-7.1.6-3">¶</a></p>
</section>
</div>
<div id="TLVREG">
<section id="section-7.1.7">
          <h4 id="name-bgp-ls-tlvs-registry">
<a class="section-number selfRef" href="#section-7.1.7">7.1.7. </a><a class="section-name selfRef" href="#name-bgp-ls-tlvs-registry">BGP-LS TLVs Registry</a>
          </h4>
<p id="section-7.1.7-1">The "BGP-LS Node Descriptor, Link Descriptor, Prefix Descriptor,
          and Attribute TLVs" registry was created via <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span>. Per this document, IANA has renamed that
          registry to "BGP-LS NLRI and Attribute TLVs" and removed the
          column for "IS-IS TLV/Sub-TLV". The registration procedures are as
          follows:<a class="pilcrow" href="#section-7.1.7-1">¶</a></p>
<span id="name-bgp-ls-tlvs-registration-pr"></span><div id="reg_types">
<table class="center" id="table-17">
            <caption>
<a class="selfRef" href="#table-17">Table 17</a>:
<a class="selfRef" href="#name-bgp-ls-tlvs-registration-pr">BGP-LS TLVs Registration Process</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
                <th class="text-left" colspan="1" rowspan="1">Registration Process</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">0-255</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved (not to be allocated)</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">256-64999</td>
                <td class="text-left" colspan="1" rowspan="1">Expert Review</td>
              </tr>
              <tr>
                <td class="text-center" colspan="1" rowspan="1">65000-65535</td>
                <td class="text-left" colspan="1" rowspan="1">Private Use</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-7.1.7-3">A range is reserved for Private Use <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>. All
          other allocations except for the reserved range within the registry
          are to be made using the "Expert Review" policy <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, which requires documentation of the proposed use
          of the allocated value and approval by the designated expert
          assigned by the IESG.<a class="pilcrow" href="#section-7.1.7-3">¶</a></p>
<p id="section-7.1.7-4">The registry was pre-populated with the values shown in <a class="auto internal xref" href="#BGPLSCODEPOINTS">Table 18</a>, and the reference for each 
          allocation has been changed to this document and the respective
          section where those TLVs are specified.<a class="pilcrow" href="#section-7.1.7-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="DE-Guidance">
<section id="section-7.2">
        <h3 id="name-guidance-for-designated-exp">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-guidance-for-designated-exp">Guidance for Designated Experts</a>
        </h3>
<p id="section-7.2-1">In all cases of review by the designated expert described here, the
        designated expert is expected to check the clarity of purpose and use
        of the requested code points. The following points apply to the
        registries discussed in this document:<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<ol class="normal type-1" id="section-7.2-2" start="1" type="1">
<li id="section-7.2-2.1">Application for a code point allocation may be made to the
            designated experts at any time and <span class="bcp14">MUST</span> be accompanied by
            technical documentation explaining the use of the code point. Such
            documentation <span class="bcp14">SHOULD</span> be presented in the form of an
            Internet-Draft but <span class="bcp14">MAY</span> arrive in any form that can be reviewed
            and exchanged among reviewers.<a class="pilcrow" href="#section-7.2-2.1">¶</a>
</li>
          <li id="section-7.2-2.2">The designated experts <span class="bcp14">SHOULD</span> only consider requests that arise
            from Internet-Drafts that have already been accepted as working
            group documents or that are planned for progression as
            AD-Sponsored documents in the absence of a suitably chartered
            working group.<a class="pilcrow" href="#section-7.2-2.2">¶</a>
</li>
          <li id="section-7.2-2.3">In the case of working group documents, the designated experts
            <span class="bcp14">MUST</span> check with the working group chairs that there is a consensus
            within the working group to allocate at this time. In the case of
            AD-Sponsored documents, the designated experts <span class="bcp14">MUST</span> check with the
            AD for approval to allocate at this time.<a class="pilcrow" href="#section-7.2-2.3">¶</a>
</li>
          <li id="section-7.2-2.4">If the document is not adopted by the IDR Working Group (or its
            successor), the designated expert <span class="bcp14">MUST</span> notify the IDR mailing list
            (or its successor) of the request and <span class="bcp14">MUST</span> provide access to the
            document. The designated expert <span class="bcp14">MUST</span> allow two weeks for any
            response. Any comments received <span class="bcp14">MUST</span> be considered by the
            designated expert as part of the subsequent step.<a class="pilcrow" href="#section-7.2-2.4">¶</a>
</li>
          <li id="section-7.2-2.5">The designated experts <span class="bcp14">MUST</span> then review the assignment requests
            on their technical merit. The designated experts <span class="bcp14">MAY</span> raise issues
            related to the allocation request with the authors and on the IDR
            (or successor) mailing list for further consideration before the
            assignments are made.<a class="pilcrow" href="#section-7.2-2.5">¶</a>
</li>
          <li id="section-7.2-2.6">The designated expert <span class="bcp14">MUST</span> ensure that any request for a code
            point does not conflict with work that is active or already
            published within the IETF.<a class="pilcrow" href="#section-7.2-2.6">¶</a>
</li>
          <li id="section-7.2-2.7">Once the designated experts have approved, IANA will update the
            registry by marking the allocated code points with a reference to
            the associated document.<a class="pilcrow" href="#section-7.2-2.7">¶</a>
</li>
          <li id="section-7.2-2.8">In the event that the document is a working group document or
            is AD-Sponsored and fails to progress to
            publication as an RFC, the working group chairs or AD <span class="bcp14">SHOULD</span>
            contact IANA to coordinate about marking the code points as
            deprecated. A deprecated code point is not marked as allocated for
            use and is not available for allocation in a future document. The
            WG chairs may inform IANA that a deprecated code point can be
            completely deallocated (i.e., made available for new allocations)
            at any time after it has been deprecated if there is a shortage of
            unallocated code points in the registry.<a class="pilcrow" href="#section-7.2-2.8">¶</a>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="Manageability">
<section id="section-8">
      <h2 id="name-manageability-consideration">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-manageability-consideration">Manageability Considerations</a>
      </h2>
<p id="section-8-1">This section is structured as recommended in <span>[<a class="cite xref" href="#RFC5706">RFC5706</a>]</span>.<a class="pilcrow" href="#section-8-1">¶</a></p>
<div id="Operational-Considerations">
<section id="section-8.1">
        <h3 id="name-operational-considerations">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-operational-considerations">Operational Considerations</a>
        </h3>
<div id="Operations">
<section id="section-8.1.1">
          <h4 id="name-operations">
<a class="section-number selfRef" href="#section-8.1.1">8.1.1. </a><a class="section-name selfRef" href="#name-operations">Operations</a>
          </h4>
<p id="section-8.1.1-1">Existing BGP operational procedures apply. No new operation
          procedures are defined in this document. It is noted that the NLRI
          information present in this document carries purely
          application-level data that has no immediate impact on the
          corresponding forwarding state computed by BGP. As such, any churn
          in reachability information has a different impact than regular BGP
          updates, which need to change the forwarding state for an entire
          router. Distribution of the BGP-LS NLRIs <span class="bcp14">SHOULD</span> be handled by
          dedicated route reflectors in most deployments providing a level of
          isolation and fault containment between different BGP address
          families. In the event of dedicated route reflectors not being
          available, other alternate mechanisms like separation of BGP
          instances or separate BGP sessions (e.g., using different addresses
          for peering) for Link-State information distribution <span class="bcp14">SHOULD</span> be
          used.<a class="pilcrow" href="#section-8.1.1-1">¶</a></p>
<p id="section-8.1.1-2">It is <span class="bcp14">RECOMMENDED</span> that operators deploying BGP-LS enable two or
          more BGP-LS Producers in each IGP flooding domain to achieve
          redundancy in the origination of link-state information into BGP-LS.
          It is also <span class="bcp14">RECOMMENDED</span> that operators ensure BGP peering designs
          that ensure redundancy in the BGP update propagation paths (e.g.,
          using at least a pair of route reflectors) and ensure that BGP-LS
          Consumers are receiving the topology information from at least two
          BGP-LS Speakers.<a class="pilcrow" href="#section-8.1.1-2">¶</a></p>
<p id="section-8.1.1-3">In a multi-domain IGP network, the correct provisioning of the
          BGP-LS Instance-IDs on the BGP-LS Producers is required for
          consistent reporting of the multi-domain link-state topology. Refer
          to <a class="auto internal xref" href="#BGPLSNLRI">Section 5.2</a> for more details.<a class="pilcrow" href="#section-8.1.1-3">¶</a></p>
</section>
</div>
<div id="Initial-Setup">
<section id="section-8.1.2">
          <h4 id="name-installation-and-initial-se">
<a class="section-number selfRef" href="#section-8.1.2">8.1.2. </a><a class="section-name selfRef" href="#name-installation-and-initial-se">Installation and Initial Setup</a>
          </h4>
<p id="section-8.1.2-1">Configuration parameters defined in <a class="auto internal xref" href="#Configuration-Management">Section 8.2.3</a> <span class="bcp14">SHOULD</span> be initialized to the
          following default values:<a class="pilcrow" href="#section-8.1.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1.2-2.1">The Link-State NLRI capability is turned off for all
              neighbors.<a class="pilcrow" href="#section-8.1.2-2.1">¶</a>
</li>
            <li class="normal" id="section-8.1.2-2.2">The maximum rate at which Link-State NLRIs will be
              advertised/withdrawn from neighbors is set to 200 updates per
              second.<a class="pilcrow" href="#section-8.1.2-2.2">¶</a>
</li>
          </ul>
</section>
</div>
<div id="Migration-Path">
<section id="section-8.1.3">
          <h4 id="name-migration-path">
<a class="section-number selfRef" href="#section-8.1.3">8.1.3. </a><a class="section-name selfRef" href="#name-migration-path">Migration Path</a>
          </h4>
<p id="section-8.1.3-1">The proposed extension is only activated between BGP peers after
          capability negotiation. Moreover, the extensions can be turned
          on/off on an individual peer basis (see <a class="auto internal xref" href="#Configuration-Management">Section 8.2.3</a>), so the extension can be
          gradually rolled out in the network.<a class="pilcrow" href="#section-8.1.3-1">¶</a></p>
</section>
</div>
<div id="Other-Protocols">
<section id="section-8.1.4">
          <h4 id="name-requirements-for-other-prot">
<a class="section-number selfRef" href="#section-8.1.4">8.1.4. </a><a class="section-name selfRef" href="#name-requirements-for-other-prot">Requirements for Other Protocols and Functional Components</a>
          </h4>
<p id="section-8.1.4-1">The protocol extension defined in this document does not put new
          requirements on other protocols or functional components.<a class="pilcrow" href="#section-8.1.4-1">¶</a></p>
</section>
</div>
<div id="Network-Operation">
<section id="section-8.1.5">
          <h4 id="name-impact-on-network-operation">
<a class="section-number selfRef" href="#section-8.1.5">8.1.5. </a><a class="section-name selfRef" href="#name-impact-on-network-operation">Impact on Network Operation</a>
          </h4>
<p id="section-8.1.5-1">The frequency of Link-State NLRI updates could interfere with
          regular BGP prefix distribution. A network operator should use a
          dedicated route reflector infrastructure to distribute Link-State
          NLRIs as discussed in <a class="auto internal xref" href="#Operations">Section 8.1.1</a>.<a class="pilcrow" href="#section-8.1.5-1">¶</a></p>
<p id="section-8.1.5-2">Distribution of Link-State NLRIs <span class="bcp14">SHOULD</span> be limited to a single
          admin domain, which can consist of multiple areas within an AS or
          multiple ASes.<a class="pilcrow" href="#section-8.1.5-2">¶</a></p>
</section>
</div>
<div id="Verifying-Correct-Operation">
<section id="section-8.1.6">
          <h4 id="name-verifying-correct-operation">
<a class="section-number selfRef" href="#section-8.1.6">8.1.6. </a><a class="section-name selfRef" href="#name-verifying-correct-operation">Verifying Correct Operation</a>
          </h4>
<p id="section-8.1.6-1">Existing BGP procedures apply. In addition, an implementation
          <span class="bcp14">SHOULD</span> allow an operator to:<a class="pilcrow" href="#section-8.1.6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1.6-2.1">List neighbors with whom the speaker is exchanging Link-State
              NLRIs.<a class="pilcrow" href="#section-8.1.6-2.1">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="Management-Considerations">
<section id="section-8.2">
        <h3 id="name-management-considerations">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-management-considerations">Management Considerations</a>
        </h3>
<div id="Management-Information">
<section id="section-8.2.1">
          <h4 id="name-management-information">
<a class="section-number selfRef" href="#section-8.2.1">8.2.1. </a><a class="section-name selfRef" href="#name-management-information">Management Information</a>
          </h4>
<p id="section-8.2.1-1">The IDR Working Group has documented and continues to document
          parts of the Management Information Base and YANG models for
          managing and monitoring BGP Speakers and the sessions between them.
          It is currently believed that the BGP session running BGP-LS is not
          substantially different from any other BGP session and can be
          managed using the same data models.<a class="pilcrow" href="#section-8.2.1-1">¶</a></p>
</section>
</div>
<div id="Fault-Management">
<section id="section-8.2.2">
          <h4 id="name-fault-management">
<a class="section-number selfRef" href="#section-8.2.2">8.2.2. </a><a class="section-name selfRef" href="#name-fault-management">Fault Management</a>
          </h4>
<p id="section-8.2.2-1">This section describes the fault management actions, as described
          in <span>[<a class="cite xref" href="#RFC7606">RFC7606</a>]</span>, that are to be performed for the
          handling of BGP UPDATE messages for BGP-LS.<a class="pilcrow" href="#section-8.2.2-1">¶</a></p>
<p id="section-8.2.2-2">A Link-State NLRI <span class="bcp14">MUST NOT</span> be considered malformed or invalid
          based on the inclusion/exclusion of TLVs or contents of the TLV
          fields (i.e., semantic errors), as described in Sections <a class="auto internal xref" href="#TLV-section">5.1</a> and <a class="auto internal xref" href="#BGPLSNLRI">5.2</a>.<a class="pilcrow" href="#section-8.2.2-2">¶</a></p>
<p id="section-8.2.2-3">A BGP-LS Speaker <span class="bcp14">MUST</span> perform the following syntactic validation
          of the Link-State NLRI to determine if it is malformed.<a class="pilcrow" href="#section-8.2.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.2-4.1">The sum of all TLV lengths found in the BGP MP_REACH_NLRI
              attribute corresponds to the BGP MP_REACH_NLRI length.<a class="pilcrow" href="#section-8.2.2-4.1">¶</a>
</li>
            <li class="normal" id="section-8.2.2-4.2">The sum of all TLV lengths found in the BGP MP_UNREACH_NLRI
              attribute corresponds to the BGP MP_UNREACH_NLRI length.<a class="pilcrow" href="#section-8.2.2-4.2">¶</a>
</li>
            <li class="normal" id="section-8.2.2-4.3">The sum of all TLV lengths found in a Link-State NLRI
              corresponds to the Total NLRI Length field of all its
              descriptors.<a class="pilcrow" href="#section-8.2.2-4.3">¶</a>
</li>
            <li class="normal" id="section-8.2.2-4.4">The length of the TLVs and, when the TLV is recognized then,
              the length of its sub-TLVs in the NLRI are valid.<a class="pilcrow" href="#section-8.2.2-4.4">¶</a>
</li>
            <li class="normal" id="section-8.2.2-4.5">The syntactic correctness of the NLRI fields has been verified as
              per <span>[<a class="cite xref" href="#RFC7606">RFC7606</a>]</span>.<a class="pilcrow" href="#section-8.2.2-4.5">¶</a>
</li>
            <li class="normal" id="section-8.2.2-4.6">The rule regarding the ordering of TLVs has been followed as
              described in <a class="auto internal xref" href="#TLV-section">Section 5.1</a>.<a class="pilcrow" href="#section-8.2.2-4.6">¶</a>
</li>
            <li class="normal" id="section-8.2.2-4.7">For NLRIs carrying either a Local or Remote Node Descriptor
              TLV, there is not more than one instance of a sub-TLV
              present.<a class="pilcrow" href="#section-8.2.2-4.7">¶</a>
</li>
          </ul>
<p id="section-8.2.2-5">When the error that is determined allows for the router to skip
          the malformed NLRI(s) and continue the processing of the rest of the
          BGP UPDATE message (e.g., when the TLV ordering rule is violated),
          then it <span class="bcp14">MUST</span> handle such malformed NLRIs as 'NLRI discard' (i.e.,
          processing similar to what is described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7606#section-5.4">Section 5.4</a> of [<a class="cite xref" href="#RFC7606">RFC7606</a>]</span>). In other cases, where the error in the NLRI
          encoding results in the inability to process the BGP UPDATE message
          (e.g., length-related encoding errors), then the router <span class="bcp14">SHOULD</span> handle
          such malformed NLRIs as 'AFI/SAFI disable' when other AFI/SAFI
          besides BGP-LS are being advertised over the same session.
          Alternately, the router <span class="bcp14">MUST</span> perform a 'session reset' when the
          session is only being used for BGP-LS or if 'AFI/SAFI disable'
          action is not possible.<a class="pilcrow" href="#section-8.2.2-5">¶</a></p>
<p id="section-8.2.2-6">A BGP-LS Attribute <span class="bcp14">MUST NOT</span> be considered malformed or invalid
          based on the inclusion/exclusion of TLVs or contents of the TLV
          fields (i.e., semantic errors), as described in Sections <a class="auto internal xref" href="#TLV-section">5.1</a> and <a class="auto internal xref" href="#BGPLSATTR">5.3</a>.<a class="pilcrow" href="#section-8.2.2-6">¶</a></p>
<p id="section-8.2.2-7">A BGP-LS Speaker <span class="bcp14">MUST</span> perform the following syntactic validation
          of the BGP-LS Attribute to determine if it is malformed.<a class="pilcrow" href="#section-8.2.2-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.2-8.1">The sum of all TLV lengths found in the BGP-LS Attribute
              corresponds to the BGP-LS Attribute length.<a class="pilcrow" href="#section-8.2.2-8.1">¶</a>
</li>
            <li class="normal" id="section-8.2.2-8.2">The syntactic correctness of the Attributes (including the BGP-LS
              Attribute) have been verified as per <span>[<a class="cite xref" href="#RFC7606">RFC7606</a>]</span>.<a class="pilcrow" href="#section-8.2.2-8.2">¶</a>
</li>
            <li class="normal" id="section-8.2.2-8.3">The length of each TLV and, when the TLV is recognized then,
              the length of its sub-TLVs in the BGP-LS Attribute are valid.<a class="pilcrow" href="#section-8.2.2-8.3">¶</a>
</li>
          </ul>
<p id="section-8.2.2-9">When the error that is determined allows for the router to skip
          the malformed BGP-LS Attribute and continue the processing of the
          rest of the BGP UPDATE message (e.g., when the BGP-LS Attribute
          length and the total Path Attribute Length are correct but some
          TLV/sub-TLV length within the BGP-LS Attribute is invalid), then it
          <span class="bcp14">MUST</span> handle such malformed BGP-LS Attribute as 'Attribute Discard'.
          In other cases, where the error in the BGP-LS Attribute encoding
          results in the inability to process the BGP UPDATE message, the
          handling is the same as described above for the malformed NLRI.<a class="pilcrow" href="#section-8.2.2-9">¶</a></p>
<p id="section-8.2.2-10">Note that the 'Attribute Discard' action results in the loss of
          all TLVs in the BGP-LS Attribute and not the removal of a specific
          malformed TLV. The removal of specific malformed TLVs may give a
          wrong indication to a BGP-LS Consumer of that specific information
          being deleted or not available.<a class="pilcrow" href="#section-8.2.2-10">¶</a></p>
<p id="section-8.2.2-11">When a BGP Speaker receives an UPDATE message with Link-State
          NLRI(s) in the MP_REACH_NLRI but without the BGP-LS Attribute, it is
          most likely an indication that a BGP Speaker preceding it has
          performed the 'Attribute Discard' fault handling. An implementation
          <span class="bcp14">SHOULD</span> preserve and propagate the Link-State NLRIs, unless denied by
          local policy, in such an UPDATE message so that the BGP-LS Consumers
          can detect the loss of link-state information for that object and
          not assume its deletion/withdrawal. This also makes it possible for
          a network operator to trace back to the BGP-LS Propagator that
          detected the fault with the BGP-LS Attribute.<a class="pilcrow" href="#section-8.2.2-11">¶</a></p>
<p id="section-8.2.2-12">An implementation <span class="bcp14">SHOULD</span> log a message for any errors found
          during syntax validation for further analysis.<a class="pilcrow" href="#section-8.2.2-12">¶</a></p>
<p id="section-8.2.2-13">A BGP-LS Propagator, even when it has a coexisting BGP-LS
          Consumer on the same node, should not perform semantic validation of
          the Link-State NLRI or the BGP-LS Attribute to determine if it is
          malformed or invalid. Some types of semantic validation that are not
          to be performed by a BGP-LS Propagator are as follows (and this is
          not to be considered as an exhaustive list):<a class="pilcrow" href="#section-8.2.2-13">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.2-14.1">presence of a mandatory TLV<a class="pilcrow" href="#section-8.2.2-14.1">¶</a>
</li>
            <li class="normal" id="section-8.2.2-14.2">the length of a fixed-length TLV is correct or the length of a
              variable length TLV is valid or permissible<a class="pilcrow" href="#section-8.2.2-14.2">¶</a>
</li>
            <li class="normal" id="section-8.2.2-14.3">the values of TLV fields are valid or permissible<a class="pilcrow" href="#section-8.2.2-14.3">¶</a>
</li>
            <li class="normal" id="section-8.2.2-14.4">the inclusion and use of TLVs/sub-TLVs with specific
              Link-State NLRI types is valid<a class="pilcrow" href="#section-8.2.2-14.4">¶</a>
</li>
          </ul>
<p id="section-8.2.2-15">Each TLV may indicate the valid and permissible values and their
          semantics that can be used only by a BGP-LS Consumer for its
          semantic validation. However, the handling of any errors may be
          specific to the particular application and outside the scope of this
          document.<a class="pilcrow" href="#section-8.2.2-15">¶</a></p>
</section>
</div>
<div id="Configuration-Management">
<section id="section-8.2.3">
          <h4 id="name-configuration-management">
<a class="section-number selfRef" href="#section-8.2.3">8.2.3. </a><a class="section-name selfRef" href="#name-configuration-management">Configuration Management</a>
          </h4>
<p id="section-8.2.3-1">An implementation <span class="bcp14">SHOULD</span> allow the operator to specify neighbors
          to which Link-State NLRIs will be advertised and from which
          Link-State NLRIs will be accepted.<a class="pilcrow" href="#section-8.2.3-1">¶</a></p>
<p id="section-8.2.3-2">An implementation <span class="bcp14">SHOULD</span> allow the operator to specify the
          maximum rate at which Link-State NLRIs will be advertised/withdrawn
          from neighbors.<a class="pilcrow" href="#section-8.2.3-2">¶</a></p>
<p id="section-8.2.3-3">An implementation <span class="bcp14">SHOULD</span> allow the operator to specify the
          maximum number of Link-State NLRIs stored in a router's Routing
          Information Base (RIB).<a class="pilcrow" href="#section-8.2.3-3">¶</a></p>
<p id="section-8.2.3-4">An implementation <span class="bcp14">SHOULD</span> allow the operator to create abstracted
          topologies that are advertised to neighbors and create different
          abstractions for different neighbors.<a class="pilcrow" href="#section-8.2.3-4">¶</a></p>
<p id="section-8.2.3-5">An implementation <span class="bcp14">MUST</span> allow the operator to configure an 8-octet
          BGP-LS Instance-ID. Refer to <a class="auto internal xref" href="#BGPLSNLRI">Section 5.2</a> for guidance
          to the operator for the configuration of BGP-LS Instance-ID.<a class="pilcrow" href="#section-8.2.3-5">¶</a></p>
<p id="section-8.2.3-6">An implementation <span class="bcp14">SHOULD</span> allow the operator to configure Autonomous System Number (ASN) and
          BGP-LS identifiers (refer to <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>).<a class="pilcrow" href="#section-8.2.3-6">¶</a></p>
<p id="section-8.2.3-7">An implementation <span class="bcp14">SHOULD</span> allow the operator to configure a 4096-byte size limit for a BGP-LS UPDATE message on a BGP-LS Producer or allow larger values when they know that all BGP-LS Speakers support the extended message size <span>[<a class="cite xref" href="#RFC8654">RFC8654</a>]</span>.<a class="pilcrow" href="#section-8.2.3-7">¶</a></p>
</section>
</div>
<div id="Accounting-Management">
<section id="section-8.2.4">
          <h4 id="name-accounting-management">
<a class="section-number selfRef" href="#section-8.2.4">8.2.4. </a><a class="section-name selfRef" href="#name-accounting-management">Accounting Management</a>
          </h4>
<p id="section-8.2.4-1">Not Applicable.<a class="pilcrow" href="#section-8.2.4-1">¶</a></p>
</section>
</div>
<div id="Performance-Management">
<section id="section-8.2.5">
          <h4 id="name-performance-management">
<a class="section-number selfRef" href="#section-8.2.5">8.2.5. </a><a class="section-name selfRef" href="#name-performance-management">Performance Management</a>
          </h4>
<p id="section-8.2.5-1">An implementation <span class="bcp14">SHOULD</span> provide the following statistics:<a class="pilcrow" href="#section-8.2.5-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.5-2.1">Total number of Link-State NLRI updates sent/received<a class="pilcrow" href="#section-8.2.5-2.1">¶</a>
</li>
            <li class="normal" id="section-8.2.5-2.2">Number of Link-State NLRI updates sent/received, per
              neighbor<a class="pilcrow" href="#section-8.2.5-2.2">¶</a>
</li>
            <li class="normal" id="section-8.2.5-2.3">Number of errored received Link-State NLRI updates, per
              neighbor<a class="pilcrow" href="#section-8.2.5-2.3">¶</a>
</li>
            <li class="normal" id="section-8.2.5-2.4">Total number of locally originated Link-State NLRIs<a class="pilcrow" href="#section-8.2.5-2.4">¶</a>
</li>
          </ul>
<p id="section-8.2.5-3">These statistics should be recorded as absolute counts since the
          system or session start time. An implementation <span class="bcp14">MAY</span> also enhance
          this information by recording peak per-second counts in each
          case.<a class="pilcrow" href="#section-8.2.5-3">¶</a></p>
</section>
</div>
<div id="Security-Management">
<section id="section-8.2.6">
          <h4 id="name-security-management">
<a class="section-number selfRef" href="#section-8.2.6">8.2.6. </a><a class="section-name selfRef" href="#name-security-management">Security Management</a>
          </h4>
<p id="section-8.2.6-1">An operator <span class="bcp14">MUST</span> define an import policy to limit inbound updates
          as follows:<a class="pilcrow" href="#section-8.2.6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.6-2.1">Drop all updates from peers that are only serving BGP-LS
              Consumers.<a class="pilcrow" href="#section-8.2.6-2.1">¶</a>
</li>
          </ul>
<p id="section-8.2.6-3">An implementation <span class="bcp14">MUST</span> have the means to limit inbound
          updates.<a class="pilcrow" href="#section-8.2.6-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="TLVSUMMARY">
<section id="section-9">
      <h2 id="name-tlv-sub-tlv-code-points-sum">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-tlv-sub-tlv-code-points-sum">TLV/Sub-TLV Code Points Summary</a>
      </h2>
<p id="section-9-1">This section contains the global table of all TLVs/sub-TLVs defined
      in this document.<a class="pilcrow" href="#section-9-1">¶</a></p>
<span id="name-summary-table-of-tlv-sub-tl"></span><div id="BGPLSCODEPOINTS">
<table class="center" id="table-18">
        <caption>
<a class="selfRef" href="#table-18">Table 18</a>:
<a class="selfRef" href="#name-summary-table-of-tlv-sub-tl">Summary Table of TLV/Sub-TLV Code Points</a>
        </caption>
<thead>
          <tr>
            <th class="text-center" colspan="1" rowspan="1">TLV Code Point</th>
            <th class="text-left" colspan="1" rowspan="1">Description</th>
            <th class="text-left" colspan="1" rowspan="1">Reference Section</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">256</td>
            <td class="text-left" colspan="1" rowspan="1">Local Node Descriptors</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LOCALNODEDESC">Section 5.2.1.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">257</td>
            <td class="text-left" colspan="1" rowspan="1">Remote Node Descriptors</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#REMOTENODEDESC">Section 5.2.1.3</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">258</td>
            <td class="text-left" colspan="1" rowspan="1">Link Local/Remote Identifiers</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LINKDESC">Section 5.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">259</td>
            <td class="text-left" colspan="1" rowspan="1">IPv4 interface address</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LINKDESC">Section 5.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">260</td>
            <td class="text-left" colspan="1" rowspan="1">IPv4 neighbor address</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LINKDESC">Section 5.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">261</td>
            <td class="text-left" colspan="1" rowspan="1">IPv6 interface address</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LINKDESC">Section 5.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">262</td>
            <td class="text-left" colspan="1" rowspan="1">IPv6 neighbor address</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LINKDESC">Section 5.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">263</td>
            <td class="text-left" colspan="1" rowspan="1">Multi-Topology Identifier</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#MT-ID">Section 5.2.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">264</td>
            <td class="text-left" colspan="1" rowspan="1">OSPF Route Type</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#OSPFRTETYPE">Section 5.2.3.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">265</td>
            <td class="text-left" colspan="1" rowspan="1">IP Reachability Information</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#IPREACHINFO">Section 5.2.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">512</td>
            <td class="text-left" colspan="1" rowspan="1">Autonomous System</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">513</td>
            <td class="text-left" colspan="1" rowspan="1">BGP-LS Identifier (deprecated)</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">514</td>
            <td class="text-left" colspan="1" rowspan="1">OSPF Area-ID</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">515</td>
            <td class="text-left" colspan="1" rowspan="1">IGP Router-ID</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#node_desc_tlvs">Section 5.2.1.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1024</td>
            <td class="text-left" colspan="1" rowspan="1">Node Flag Bits</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#NODEFLAGBITS">Section 5.3.1.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1025</td>
            <td class="text-left" colspan="1" rowspan="1">Opaque Node Attribute</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#OPAQUENODE">Section 5.3.1.5</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1026</td>
            <td class="text-left" colspan="1" rowspan="1">Node Name</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#NODENAME">Section 5.3.1.3</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1027</td>
            <td class="text-left" colspan="1" rowspan="1">IS-IS Area Identifier</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#ISISAREA">Section 5.3.1.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1028</td>
            <td class="text-left" colspan="1" rowspan="1">IPv4 Router-ID of Local Node</td>
            <td class="text-left" colspan="1" rowspan="1">Sections
              <a class="auto internal xref" href="#aux_routerid_node">5.3.1.4</a> and <a class="auto internal xref" href="#aux_routerid_link">5.3.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1029</td>
            <td class="text-left" colspan="1" rowspan="1">IPv6 Router-ID of Local Node</td>
            <td class="text-left" colspan="1" rowspan="1">Sections
              <a class="auto internal xref" href="#aux_routerid_node">5.3.1.4</a> and <a class="auto internal xref" href="#aux_routerid_link">5.3.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1030</td>
            <td class="text-left" colspan="1" rowspan="1">IPv4 Router-ID of Remote Node</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#aux_routerid_link">Section 5.3.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1031</td>
            <td class="text-left" colspan="1" rowspan="1">IPv6 Router-ID of Remote Node</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#aux_routerid_link">Section 5.3.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1088</td>
            <td class="text-left" colspan="1" rowspan="1">Administrative group (color)</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#link_attribute">Section 5.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1089</td>
            <td class="text-left" colspan="1" rowspan="1">Maximum link bandwidth</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#link_attribute">Section 5.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1090</td>
            <td class="text-left" colspan="1" rowspan="1">Max. reservable link bandwidth</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#link_attribute">Section 5.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1091</td>
            <td class="text-left" colspan="1" rowspan="1">Unreserved bandwidth</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#link_attribute">Section 5.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1092</td>
            <td class="text-left" colspan="1" rowspan="1">TE Default Metric</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#TEDEFAULTMETTLV">Section 5.3.2.3</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1093</td>
            <td class="text-left" colspan="1" rowspan="1">Link Protection Type</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#link_attribute">Section 5.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1094</td>
            <td class="text-left" colspan="1" rowspan="1">MPLS Protocol Mask</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#MPLSPROTOTLV">Section 5.3.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1095</td>
            <td class="text-left" colspan="1" rowspan="1">IGP Metric</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#IGPMETTLV">Section 5.3.2.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1096</td>
            <td class="text-left" colspan="1" rowspan="1">Shared Risk Link Group</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#SRLGTLV">Section 5.3.2.5</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1097</td>
            <td class="text-left" colspan="1" rowspan="1">Opaque Link Attribute</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#OPAQUELINK">Section 5.3.2.6</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1098</td>
            <td class="text-left" colspan="1" rowspan="1">Link Name</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#LINKNAME">Section 5.3.2.7</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1152</td>
            <td class="text-left" colspan="1" rowspan="1">IGP Flags</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#IGPFLAGS">Section 5.3.3.1</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1153</td>
            <td class="text-left" colspan="1" rowspan="1">IGP Route Tag</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#route_tag">Section 5.3.3.2</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1154</td>
            <td class="text-left" colspan="1" rowspan="1">IGP Extended Route Tag</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#ext_route_tag">Section 5.3.3.3</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1155</td>
            <td class="text-left" colspan="1" rowspan="1">Prefix Metric</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#prefix_metric">Section 5.3.3.4</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1156</td>
            <td class="text-left" colspan="1" rowspan="1">OSPF Forwarding Address</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#ospf_fwd_addr">Section 5.3.3.5</a>
</td>
          </tr>
          <tr>
            <td class="text-center" colspan="1" rowspan="1">1157</td>
            <td class="text-left" colspan="1" rowspan="1">Opaque Prefix Attribute</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="auto internal xref" href="#OPAQUEPREFIX">Section 5.3.3.6</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="Security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-10-1">Procedures and protocol extensions defined in this document do not
      affect the BGP security model. See the Security Considerations section
      of <span>[<a class="cite xref" href="#RFC4271">RFC4271</a>]</span> for a discussion of BGP security. Also,
      refer to <span>[<a class="cite xref" href="#RFC4272">RFC4272</a>]</span> and <span>[<a class="cite xref" href="#RFC6952">RFC6952</a>]</span> for
      analysis of security issues for BGP.<a class="pilcrow" href="#section-10-1">¶</a></p>
<p id="section-10-2">The operator should ensure that a BGP-LS Speaker does not accept
      UPDATE messages from a peer that only provides information to a BGP-LS
      Consumer by using the policy configuration options discussed in Sections <a class="auto internal xref" href="#Configuration-Management">8.2.3</a> and <a class="auto internal xref" href="#Security-Management">8.2.6</a>. Generally, an operator is aware of the
      BGP-LS Speaker's role and link-state peerings. Therefore, the operator
      can protect the BGP-LS Speaker from peers sending updates that may
      represent erroneous information, feedback loops, or false input.<a class="pilcrow" href="#section-10-2">¶</a></p>
<p id="section-10-3">An error or tampering of the link-state information that is
      originated into BGP-LS and propagated through the network for use by
      BGP-LS Consumers applications can result in the malfunction of those
      applications. Some examples of such risks are the origination of
      incorrect information that is not present or consistent with the IGP
      LSDB at the BGP-LS Producer, incorrect ordering of TLVs in the NLRI, or
      inconsistent origination from multiple BGP-LS Producers and updates to
      either the NLRI or BGP-LS Attribute during propagation (including
      discarding due to errors). These are not new risks from a BGP protocol
      perspective; however, in the case of BGP-LS, impact reflects on the
      consumer applications instead of BGP routing functionalities.<a class="pilcrow" href="#section-10-3">¶</a></p>
<p id="section-10-4">Additionally, it may be considered that the export of link-state and
      TE information as described in this document constitutes a risk to
      confidentiality of mission-critical or commercially sensitive
      information about the network. BGP peerings are not automatic and
      require configuration; thus, it is the responsibility of the network
      operator to ensure that only trusted BGP Speakers are configured to
      receive such information. Similar security considerations also arise on
      the interface between BGP Speakers and BGP-LS Consumers, but their
      discussion is outside the scope of this document.<a class="pilcrow" href="#section-10-4">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="ENTNUM">[ENTNUM]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Private Enterprise Numbers (PENs)"</span>, <span>&lt;<a href="https://www.iana.org/assignments/enterprise-numbers/">https://www.iana.org/assignments/enterprise-numbers/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ISO10589">[ISO10589]</dt>
        <dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"Information technology - Telecommunications and information exchange between systems - Intermediate System to Intermediate System intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode network service (ISO 8473)"</span>, <span class="seriesInfo">ISO/IEC 10589:2002</span>, <time class="refDate" datetime="2002-11">November 2002</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2328">[RFC2328]</dt>
        <dd>
<span class="refAuthor">Moy, J.</span>, <span class="refTitle">"OSPF Version 2"</span>, <span class="seriesInfo">STD 54</span>, <span class="seriesInfo">RFC 2328</span>, <span class="seriesInfo">DOI 10.17487/RFC2328</span>, <time class="refDate" datetime="1998-04">April 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2328">https://www.rfc-editor.org/info/rfc2328</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2545">[RFC2545]</dt>
        <dd>
<span class="refAuthor">Marques, P.</span> and <span class="refAuthor">F. Dupont</span>, <span class="refTitle">"Use of BGP-4 Multiprotocol Extensions for IPv6 Inter-Domain Routing"</span>, <span class="seriesInfo">RFC 2545</span>, <span class="seriesInfo">DOI 10.17487/RFC2545</span>, <time class="refDate" datetime="1999-03">March 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2545">https://www.rfc-editor.org/info/rfc2545</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3209">[RFC3209]</dt>
        <dd>
<span class="refAuthor">Awduche, D.</span>, <span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Gan, D.</span>, <span class="refAuthor">Li, T.</span>, <span class="refAuthor">Srinivasan, V.</span>, and <span class="refAuthor">G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time class="refDate" datetime="2001-12">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4202">[RFC4202]</dt>
        <dd>
<span class="refAuthor">Kompella, K., Ed.</span> and <span class="refAuthor">Y. Rekhter, Ed.</span>, <span class="refTitle">"Routing Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"</span>, <span class="seriesInfo">RFC 4202</span>, <span class="seriesInfo">DOI 10.17487/RFC4202</span>, <time class="refDate" datetime="2005-10">October 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4202">https://www.rfc-editor.org/info/rfc4202</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4203">[RFC4203]</dt>
        <dd>
<span class="refAuthor">Kompella, K., Ed.</span> and <span class="refAuthor">Y. Rekhter, Ed.</span>, <span class="refTitle">"OSPF Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"</span>, <span class="seriesInfo">RFC 4203</span>, <span class="seriesInfo">DOI 10.17487/RFC4203</span>, <time class="refDate" datetime="2005-10">October 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4203">https://www.rfc-editor.org/info/rfc4203</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4577">[RFC4577]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Psenak, P.</span>, and <span class="refAuthor">P. Pillay-Esnault</span>, <span class="refTitle">"OSPF as the Provider/Customer Edge Protocol for BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4577</span>, <span class="seriesInfo">DOI 10.17487/RFC4577</span>, <time class="refDate" datetime="2006-06">June 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4577">https://www.rfc-editor.org/info/rfc4577</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4760">[RFC4760]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Multiprotocol Extensions for BGP-4"</span>, <span class="seriesInfo">RFC 4760</span>, <span class="seriesInfo">DOI 10.17487/RFC4760</span>, <time class="refDate" datetime="2007-01">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4915">[RFC4915]</dt>
        <dd>
<span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Mirtorabi, S.</span>, <span class="refAuthor">Roy, A.</span>, <span class="refAuthor">Nguyen, L.</span>, and <span class="refAuthor">P. Pillay-Esnault</span>, <span class="refTitle">"Multi-Topology (MT) Routing in OSPF"</span>, <span class="seriesInfo">RFC 4915</span>, <span class="seriesInfo">DOI 10.17487/RFC4915</span>, <time class="refDate" datetime="2007-06">June 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4915">https://www.rfc-editor.org/info/rfc4915</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5036">[RFC5036]</dt>
        <dd>
<span class="refAuthor">Andersson, L., Ed.</span>, <span class="refAuthor">Minei, I., Ed.</span>, and <span class="refAuthor">B. Thomas, Ed.</span>, <span class="refTitle">"LDP Specification"</span>, <span class="seriesInfo">RFC 5036</span>, <span class="seriesInfo">DOI 10.17487/RFC5036</span>, <time class="refDate" datetime="2007-10">October 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5036">https://www.rfc-editor.org/info/rfc5036</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5120">[RFC5120]</dt>
        <dd>
<span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Shen, N.</span>, and <span class="refAuthor">N. Sheth</span>, <span class="refTitle">"M-ISIS: Multi Topology (MT) Routing in Intermediate System to Intermediate Systems (IS-ISs)"</span>, <span class="seriesInfo">RFC 5120</span>, <span class="seriesInfo">DOI 10.17487/RFC5120</span>, <time class="refDate" datetime="2008-02">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5120">https://www.rfc-editor.org/info/rfc5120</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5130">[RFC5130]</dt>
        <dd>
<span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Shand, M., Ed.</span>, and <span class="refAuthor">C. Martin</span>, <span class="refTitle">"A Policy Control Mechanism in IS-IS Using Administrative Tags"</span>, <span class="seriesInfo">RFC 5130</span>, <span class="seriesInfo">DOI 10.17487/RFC5130</span>, <time class="refDate" datetime="2008-02">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5130">https://www.rfc-editor.org/info/rfc5130</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5301">[RFC5301]</dt>
        <dd>
<span class="refAuthor">McPherson, D.</span> and <span class="refAuthor">N. Shen</span>, <span class="refTitle">"Dynamic Hostname Exchange Mechanism for IS-IS"</span>, <span class="seriesInfo">RFC 5301</span>, <span class="seriesInfo">DOI 10.17487/RFC5301</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5301">https://www.rfc-editor.org/info/rfc5301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5305">[RFC5305]</dt>
        <dd>
<span class="refAuthor">Li, T.</span> and <span class="refAuthor">H. Smit</span>, <span class="refTitle">"IS-IS Extensions for Traffic Engineering"</span>, <span class="seriesInfo">RFC 5305</span>, <span class="seriesInfo">DOI 10.17487/RFC5305</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5305">https://www.rfc-editor.org/info/rfc5305</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5307">[RFC5307]</dt>
        <dd>
<span class="refAuthor">Kompella, K., Ed.</span> and <span class="refAuthor">Y. Rekhter, Ed.</span>, <span class="refTitle">"IS-IS Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"</span>, <span class="seriesInfo">RFC 5307</span>, <span class="seriesInfo">DOI 10.17487/RFC5307</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5307">https://www.rfc-editor.org/info/rfc5307</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5340">[RFC5340]</dt>
        <dd>
<span class="refAuthor">Coltun, R.</span>, <span class="refAuthor">Ferguson, D.</span>, <span class="refAuthor">Moy, J.</span>, and <span class="refAuthor">A. Lindem</span>, <span class="refTitle">"OSPF for IPv6"</span>, <span class="seriesInfo">RFC 5340</span>, <span class="seriesInfo">DOI 10.17487/RFC5340</span>, <time class="refDate" datetime="2008-07">July 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5340">https://www.rfc-editor.org/info/rfc5340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5642">[RFC5642]</dt>
        <dd>
<span class="refAuthor">Venkata, S.</span>, <span class="refAuthor">Harwani, S.</span>, <span class="refAuthor">Pignataro, C.</span>, and <span class="refAuthor">D. McPherson</span>, <span class="refTitle">"Dynamic Hostname Exchange Mechanism for OSPF"</span>, <span class="seriesInfo">RFC 5642</span>, <span class="seriesInfo">DOI 10.17487/RFC5642</span>, <time class="refDate" datetime="2009-08">August 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5642">https://www.rfc-editor.org/info/rfc5642</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5890">[RFC5890]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span>, <span class="refTitle">"Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework"</span>, <span class="seriesInfo">RFC 5890</span>, <span class="seriesInfo">DOI 10.17487/RFC5890</span>, <time class="refDate" datetime="2010-08">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5890">https://www.rfc-editor.org/info/rfc5890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6119">[RFC6119]</dt>
        <dd>
<span class="refAuthor">Harrison, J.</span>, <span class="refAuthor">Berger, J.</span>, and <span class="refAuthor">M. Bartlett</span>, <span class="refTitle">"IPv6 Traffic Engineering in IS-IS"</span>, <span class="seriesInfo">RFC 6119</span>, <span class="seriesInfo">DOI 10.17487/RFC6119</span>, <time class="refDate" datetime="2011-02">February 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6119">https://www.rfc-editor.org/info/rfc6119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6565">[RFC6565]</dt>
        <dd>
<span class="refAuthor">Pillay-Esnault, P.</span>, <span class="refAuthor">Moyer, P.</span>, <span class="refAuthor">Doyle, J.</span>, <span class="refAuthor">Ertekin, E.</span>, and <span class="refAuthor">M. Lundberg</span>, <span class="refTitle">"OSPFv3 as a Provider Edge to Customer Edge (PE-CE) Routing Protocol"</span>, <span class="seriesInfo">RFC 6565</span>, <span class="seriesInfo">DOI 10.17487/RFC6565</span>, <time class="refDate" datetime="2012-06">June 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6565">https://www.rfc-editor.org/info/rfc6565</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7606">[RFC7606]</dt>
        <dd>
<span class="refAuthor">Chen, E., Ed.</span>, <span class="refAuthor">Scudder, J., Ed.</span>, <span class="refAuthor">Mohapatra, P.</span>, and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"Revised Error Handling for BGP UPDATE Messages"</span>, <span class="seriesInfo">RFC 7606</span>, <span class="seriesInfo">DOI 10.17487/RFC7606</span>, <time class="refDate" datetime="2015-08">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7606">https://www.rfc-editor.org/info/rfc7606</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7684">[RFC7684]</dt>
        <dd>
<span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Shakir, R.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Tantsura, J.</span>, and <span class="refAuthor">A. Lindem</span>, <span class="refTitle">"OSPFv2 Prefix/Link Attribute Advertisement"</span>, <span class="seriesInfo">RFC 7684</span>, <span class="seriesInfo">DOI 10.17487/RFC7684</span>, <time class="refDate" datetime="2015-11">November 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7684">https://www.rfc-editor.org/info/rfc7684</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7770">[RFC7770]</dt>
        <dd>
<span class="refAuthor">Lindem, A., Ed.</span>, <span class="refAuthor">Shen, N.</span>, <span class="refAuthor">Vasseur, JP.</span>, <span class="refAuthor">Aggarwal, R.</span>, and <span class="refAuthor">S. Shaffer</span>, <span class="refTitle">"Extensions to OSPF for Advertising Optional Router Capabilities"</span>, <span class="seriesInfo">RFC 7770</span>, <span class="seriesInfo">DOI 10.17487/RFC7770</span>, <time class="refDate" datetime="2016-02">February 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7770">https://www.rfc-editor.org/info/rfc7770</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8362">[RFC8362]</dt>
        <dd>
<span class="refAuthor">Lindem, A.</span>, <span class="refAuthor">Roy, A.</span>, <span class="refAuthor">Goethals, D.</span>, <span class="refAuthor">Reddy Vallem, V.</span>, and <span class="refAuthor">F. Baker</span>, <span class="refTitle">"OSPFv3 Link State Advertisement (LSA) Extensibility"</span>, <span class="seriesInfo">RFC 8362</span>, <span class="seriesInfo">DOI 10.17487/RFC8362</span>, <time class="refDate" datetime="2018-04">April 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8362">https://www.rfc-editor.org/info/rfc8362</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8654">[RFC8654]</dt>
      <dd>
<span class="refAuthor">Bush, R.</span>, <span class="refAuthor">Patel, K.</span>, and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Extended Message Support for BGP"</span>, <span class="seriesInfo">RFC 8654</span>, <span class="seriesInfo">DOI 10.17487/RFC8654</span>, <time class="refDate" datetime="2019-10">October 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8654">https://www.rfc-editor.org/info/rfc8654</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC1918">[RFC1918]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Moskowitz, B.</span>, <span class="refAuthor">Karrenberg, D.</span>, <span class="refAuthor">de Groot, G. J.</span>, and <span class="refAuthor">E. Lear</span>, <span class="refTitle">"Address Allocation for Private Internets"</span>, <span class="seriesInfo">BCP 5</span>, <span class="seriesInfo">RFC 1918</span>, <span class="seriesInfo">DOI 10.17487/RFC1918</span>, <time class="refDate" datetime="1996-02">February 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1918">https://www.rfc-editor.org/info/rfc1918</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4272">[RFC4272]</dt>
        <dd>
<span class="refAuthor">Murphy, S.</span>, <span class="refTitle">"BGP Security Vulnerabilities Analysis"</span>, <span class="seriesInfo">RFC 4272</span>, <span class="seriesInfo">DOI 10.17487/RFC4272</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4272">https://www.rfc-editor.org/info/rfc4272</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4364">[RFC4364]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span> and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4364</span>, <span class="seriesInfo">DOI 10.17487/RFC4364</span>, <time class="refDate" datetime="2006-02">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4364">https://www.rfc-editor.org/info/rfc4364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4655">[RFC4655]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Vasseur, J.-P.</span>, and <span class="refAuthor">J. Ash</span>, <span class="refTitle">"A Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 4655</span>, <span class="seriesInfo">DOI 10.17487/RFC4655</span>, <time class="refDate" datetime="2006-08">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5152">[RFC5152]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span>, <span class="refAuthor">Ayyangar, A., Ed.</span>, and <span class="refAuthor">R. Zhang</span>, <span class="refTitle">"A Per-Domain Path Computation Method for Establishing Inter-Domain Traffic Engineering (TE) Label Switched Paths (LSPs)"</span>, <span class="seriesInfo">RFC 5152</span>, <span class="seriesInfo">DOI 10.17487/RFC5152</span>, <time class="refDate" datetime="2008-02">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5152">https://www.rfc-editor.org/info/rfc5152</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5392">[RFC5392]</dt>
        <dd>
<span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Zhang, R.</span>, and <span class="refAuthor">X. Duan</span>, <span class="refTitle">"OSPF Extensions in Support of Inter-Autonomous System (AS) MPLS and GMPLS Traffic Engineering"</span>, <span class="seriesInfo">RFC 5392</span>, <span class="seriesInfo">DOI 10.17487/RFC5392</span>, <time class="refDate" datetime="2009-01">January 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5392">https://www.rfc-editor.org/info/rfc5392</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5693">[RFC5693]</dt>
        <dd>
<span class="refAuthor">Seedorf, J.</span> and <span class="refAuthor">E. Burger</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Problem Statement"</span>, <span class="seriesInfo">RFC 5693</span>, <span class="seriesInfo">DOI 10.17487/RFC5693</span>, <time class="refDate" datetime="2009-10">October 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5693">https://www.rfc-editor.org/info/rfc5693</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5706">[RFC5706]</dt>
        <dd>
<span class="refAuthor">Harrington, D.</span>, <span class="refTitle">"Guidelines for Considering Operations and Management of New Protocols and Protocol Extensions"</span>, <span class="seriesInfo">RFC 5706</span>, <span class="seriesInfo">DOI 10.17487/RFC5706</span>, <time class="refDate" datetime="2009-11">November 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5706">https://www.rfc-editor.org/info/rfc5706</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6549">[RFC6549]</dt>
        <dd>
<span class="refAuthor">Lindem, A.</span>, <span class="refAuthor">Roy, A.</span>, and <span class="refAuthor">S. Mirtorabi</span>, <span class="refTitle">"OSPFv2 Multi-Instance Extensions"</span>, <span class="seriesInfo">RFC 6549</span>, <span class="seriesInfo">DOI 10.17487/RFC6549</span>, <time class="refDate" datetime="2012-03">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6549">https://www.rfc-editor.org/info/rfc6549</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6952">[RFC6952]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Patel, K.</span>, and <span class="refAuthor">L. Zheng</span>, <span class="refTitle">"Analysis of BGP, LDP, PCEP, and MSDP Issues According to the Keying and Authentication for Routing Protocols (KARP) Design Guide"</span>, <span class="seriesInfo">RFC 6952</span>, <span class="seriesInfo">DOI 10.17487/RFC6952</span>, <time class="refDate" datetime="2013-05">May 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6952">https://www.rfc-editor.org/info/rfc6952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time class="refDate" datetime="2014-09">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7285">https://www.rfc-editor.org/info/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7752">[RFC7752]</dt>
        <dd>
<span class="refAuthor">Gredler, H., Ed.</span>, <span class="refAuthor">Medved, J.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Farrel, A.</span>, and <span class="refAuthor">S. Ray</span>, <span class="refTitle">"North-Bound Distribution of Link-State and Traffic Engineering (TE) Information Using BGP"</span>, <span class="seriesInfo">RFC 7752</span>, <span class="seriesInfo">DOI 10.17487/RFC7752</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7752">https://www.rfc-editor.org/info/rfc7752</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7911">[RFC7911]</dt>
        <dd>
<span class="refAuthor">Walton, D.</span>, <span class="refAuthor">Retana, A.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"Advertisement of Multiple Paths in BGP"</span>, <span class="seriesInfo">RFC 7911</span>, <span class="seriesInfo">DOI 10.17487/RFC7911</span>, <time class="refDate" datetime="2016-07">July 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7911">https://www.rfc-editor.org/info/rfc7911</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8202">[RFC8202]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"IS-IS Multi-Instance"</span>, <span class="seriesInfo">RFC 8202</span>, <span class="seriesInfo">DOI 10.17487/RFC8202</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8202">https://www.rfc-editor.org/info/rfc8202</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9029">[RFC9029]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refTitle">"Updates to the Allocation Policy for the Border Gateway Protocol - Link State (BGP-LS) Parameters Registries"</span>, <span class="seriesInfo">RFC 9029</span>, <span class="seriesInfo">DOI 10.17487/RFC9029</span>, <time class="refDate" datetime="2021-06">June 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9029">https://www.rfc-editor.org/info/rfc9029</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9346">[RFC9346]</dt>
      <dd>
<span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">D. Xiaodong</span>, <span class="refTitle">"IS-IS Extensions in Support of Inter-Autonomous System (AS) MPLS and GMPLS Traffic Engineering"</span>, <span class="seriesInfo">RFC 9346</span>, <span class="seriesInfo">DOI 10.17487/RFC9346</span>, <time class="refDate" datetime="2023-02">February 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9346">https://www.rfc-editor.org/info/rfc9346</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="CHANGES">
<section id="appendix-A">
      <h2 id="name-changes-from-rfc-7752">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-changes-from-rfc-7752">Changes from RFC 7752</a>
      </h2>
<p id="appendix-A-1">This section lists the high-level changes from RFC 7752 and provides
      reference to the document sections wherein those have been
      introduced.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<ol class="normal type-1" id="appendix-A-2" start="1" type="1">
<li id="appendix-A-2.1">Updated <a class="auto internal xref" href="#MECHANISM-OVERVIEW">Figure 1</a> in <a class="auto internal xref" href="#INTRO">Section 1</a> and added <a class="auto internal xref" href="#ROLES">Section 3</a> to illustrate the
          different roles of a BGP implementation in conveying link-state
          information.<a class="pilcrow" href="#appendix-A-2.1">¶</a>
</li>
        <li id="appendix-A-2.2">Clarified aspects related to advertisement of link-state
          information from IGPs into BGP-LS in <a class="auto internal xref" href="#IGPTOBGP">Section 4</a>.<a class="pilcrow" href="#appendix-A-2.2">¶</a>
</li>
        <li id="appendix-A-2.3">In <a class="auto internal xref" href="#TLV-section">Section 5.1</a>, clarified aspects about TLV
          handling that apply to both the NLRI and BGP-LS Attribute
          parts as well as those that are applicable only for the NLRI portion. An
          implementation may have missed the part about the handling of an
          unknown TLV and so, based on <span>[<a class="cite xref" href="#RFC7606">RFC7606</a>]</span> guidelines,
          might discard the unknown NLRI types. This aspect is now
          unambiguously clarified in <a class="auto internal xref" href="#BGPLSNLRI">Section 5.2</a>. Also, the
          TLVs in the BGP-LS Attribute that are not ordered are not to be
          considered malformed.<a class="pilcrow" href="#appendix-A-2.3">¶</a>
</li>
        <li id="appendix-A-2.4">Clarified aspects of mandatory and optional TLVs in both NLRI and
          BGP-LS Attribute portions all through the document.<a class="pilcrow" href="#appendix-A-2.4">¶</a>
</li>
        <li id="appendix-A-2.5">In <a class="auto internal xref" href="#BGPLSATTR">Section 5.3</a>, the handling of a large-sized BGP-LS Attribute with growth in BGP-LS
          information is explained along with
          mitigation of errors arising out of it.<a class="pilcrow" href="#appendix-A-2.5">¶</a>
</li>
        <li id="appendix-A-2.6">Clarified that the document describes the NLRI descriptor TLVs
          for the protocols and NLRI types specified in this document as well as
          future BGP-LS extensions must describe the same for other protocols
          and NLRI types that they introduce.<a class="pilcrow" href="#appendix-A-2.6">¶</a>
</li>
        <li id="appendix-A-2.7">In <a class="auto internal xref" href="#BGPLSNLRI">Section 5.2</a>, clarified the use of the Identifier field in the
          Link-State NLRI. It was
          defined ambiguously to refer to only multi-instance IGP on a single
          link while it can also be used for multiple IGP protocol instances
          on a router. The IANA registry is accordingly being removed.<a class="pilcrow" href="#appendix-A-2.7">¶</a>
</li>
        <li id="appendix-A-2.8">The BGP-LS Identifier TLV in the Node Descriptors has been
          deprecated. Its use was not well specified by <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span>, and there has been some amount of confusion
          between implementors on its usage for identification of IGP
          domains as against the use of the Identifier field carrying the
          BGP-LS Instance-ID when running multiple instances of IGP routing
          protocols. The original purpose of the BGP-LS Identifier was that,
          in conjunction with the ASN, it would
          uniquely identify the BGP-LS domain and that the combination of ASN
          and BGP-LS ID would be globally unique. However, the BGP-LS
          Instance-ID carried in the Identifier field in the fixed part of the
          NLRI also provides a similar functionality. Hence, the inclusion of
          the BGP-LS Identifier TLV is not necessary. If advertised, all
          BGP-LS Speakers within an IGP flooding-set (set of IGP nodes within
          which an LSP/LSA is flooded) had to use the same (ASN, BGP-LS ID)
          tuple, and if an IGP domain consists of multiple flooding-sets, then
          all BGP-LS Speakers within the IGP domain had to use the same (ASN,
          BGP-LS ID) tuple.<a class="pilcrow" href="#appendix-A-2.8">¶</a>
</li>
        <li id="appendix-A-2.9">Clarified that the Area-ID TLV is mandatory in the Node
          Descriptor for the origination of information from OSPF except for
          when sourcing information from AS-scope LSAs where this TLV is not
          applicable. Also clarified the IS-IS area and area addresses.<a class="pilcrow" href="#appendix-A-2.9">¶</a>
</li>
        <li id="appendix-A-2.10">Moved the MT-ID TLV from the Node Descriptor section to under the
          Link Descriptor section since it is not a Node Descriptor sub-TLV.
          Fixed the ambiguity in the encoding of OSPF MT-ID in this TLV.
          Updated the IS-IS specification reference section and described the
          differences in the applicability of the R flags when the MT-ID TLV is
          used as the Link Descriptor TLV and Prefix Attribute TLV. The MT-ID TLV use
          is now elevated to <span class="bcp14">SHOULD</span> when it is enabled in the underlying
          IGP.<a class="pilcrow" href="#appendix-A-2.10">¶</a>
</li>
        <li id="appendix-A-2.11">Clarified that IPv6 link-local addresses are not advertised in
          the Link Descriptor TLVs and the local/remote identifiers are to be
          used instead for links with IPv6 link-local addresses only.<a class="pilcrow" href="#appendix-A-2.11">¶</a>
</li>
        <li id="appendix-A-2.12">Updated the usage of OSPF Route Type TLV to mandate its use for
          OSPF prefixes in <a class="auto internal xref" href="#OSPFRTETYPE">Section 5.2.3.1</a> since this is required
          for segregation of intra-area prefixes that are used to reach a node
          (e.g., a loopback) from other types of inter-area and external
          prefixes.<a class="pilcrow" href="#appendix-A-2.12">¶</a>
</li>
        <li id="appendix-A-2.13">Clarified the specific OSPFv2 and OSPFv3 protocol TLV
          space to be used in the Node, Link, and Prefix Opaque Attribute
          TLVs.<a class="pilcrow" href="#appendix-A-2.13">¶</a>
</li>
        <li id="appendix-A-2.14">Clarified that the length of the Node Flag Bits and IGP Flags
          TLVs are to be one octet.<a class="pilcrow" href="#appendix-A-2.14">¶</a>
</li>
        <li id="appendix-A-2.15">Updated the Node Name TLV in <a class="auto internal xref" href="#NODENAME">Section 5.3.1.3</a> with the
          OSPF specification.<a class="pilcrow" href="#appendix-A-2.15">¶</a>
</li>
        <li id="appendix-A-2.16">Clarified the size of the IS-IS Narrow Metric
          advertisement via the IGP Metric TLV and the handling of the unused
          bits.<a class="pilcrow" href="#appendix-A-2.16">¶</a>
</li>
        <li id="appendix-A-2.17">Clarified the advertisement of the prefix corresponding to the
          LAN segment in an OSPF network in <a class="auto internal xref" href="#OSPFPN">Section 5.11</a>.<a class="pilcrow" href="#appendix-A-2.17">¶</a>
</li>
        <li id="appendix-A-2.18">Clarified the advertisement and support for OSPF-specific
          concepts like virtual links, sham links, and Type 4 LSAs in Sections <a class="auto internal xref" href="#OSPFVL">5.7</a> and <a class="auto internal xref" href="#OSPFTYPE4">5.8</a>.<a class="pilcrow" href="#appendix-A-2.18">¶</a>
</li>
        <li id="appendix-A-2.19">Introduced the Private Use TLV code point space and specified their
          encoding in <a class="auto internal xref" href="#PRIVATE">Section 5.4</a>.<a class="pilcrow" href="#appendix-A-2.19">¶</a>
</li>
        <li id="appendix-A-2.20">In <a class="auto internal xref" href="#UNREACHNODES">Section 5.9</a>, introduced where issues related to
          the consistency of reporting IGP link-state along with their
          solutions are covered.<a class="pilcrow" href="#appendix-A-2.20">¶</a>
</li>
        <li id="appendix-A-2.21">Added a recommendation for isolation of BGP-LS sessions from other
          BGP route exchanges to avoid errors and faults in BGP-LS affecting
          the normal BGP routing.<a class="pilcrow" href="#appendix-A-2.21">¶</a>
</li>
        <li id="appendix-A-2.22">Updated the Fault Management section with detailed rules based on
          the role of the BGP Speaker in the BGP-LS information propagation
          flow.<a class="pilcrow" href="#appendix-A-2.22">¶</a>
</li>
        <li id="appendix-A-2.23">Changed the management of BGP-LS IANA registries from
          "Specification Required" to "Expert Review" along with updated
          guidelines for designated experts, more specifically, the inclusion
          of changes introduced via <span>[<a class="cite xref" href="#RFC9029">RFC9029</a>]</span> that are obsoleted
          by this document.<a class="pilcrow" href="#appendix-A-2.23">¶</a>
</li>
        <li id="appendix-A-2.24">Added BGP-LS IANA registries with "Expert Review" policy for the
          flag fields of various TLVs that was missed out. Renamed the BGP-LS
          TLV registry and removed the "IS-IS TLV/Sub-TLV" column from it.<a class="pilcrow" href="#appendix-A-2.24">¶</a>
</li>
      </ol>
</section>
</div>
<div id="Acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">This document update to the BGP-LS specification <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> is a result of feedback and input from the
      discussions in the IDR Working Group. It also incorporates certain
      details and clarifications based on implementation and deployment
      experience with BGP-LS.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
<p id="appendix-B-2"><span class="contact-name">Cengiz Alaettinoglu</span> and <span class="contact-name">Parag Amritkar</span> brought forward the need to
      clarify the advertisement of a LAN subnet for OSPF.<a class="pilcrow" href="#appendix-B-2">¶</a></p>
<p id="appendix-B-3">We would like to thank <span class="contact-name">Balaji Rajagopalan</span>, <span class="contact-name">Srihari Sangli</span>, <span class="contact-name">Shraddha Hegde</span>,
      <span class="contact-name">Andrew Stone</span>, <span class="contact-name">Jeff Tantsura</span>, <span class="contact-name">Acee Lindem</span>, <span class="contact-name">Les Ginsberg</span>, <span class="contact-name">Jie Dong</span>,
      <span class="contact-name">Aijun Wang</span>, <span class="contact-name">Nandan Saha</span>, <span class="contact-name">Joel Halpern</span>, and <span class="contact-name">Gyan Mishra</span> for their review
      and feedback on this document. Thanks to <span class="contact-name">Tom Petch</span> for his review and
      comments on the IANA Considerations section. We would also like to thank
      <span class="contact-name">Jeffrey Haas</span> for his detailed shepherd review and input for improving
      the document.<a class="pilcrow" href="#appendix-B-3">¶</a></p>
<p id="appendix-B-4">The detailed AD review by <span class="contact-name">Alvaro Retana</span> and his suggestions have
      helped improve this document significantly.<a class="pilcrow" href="#appendix-B-4">¶</a></p>
<p id="appendix-B-5">We would like to thank Robert Varga for his significant contribution
      to <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span>.<a class="pilcrow" href="#appendix-B-5">¶</a></p>
<p id="appendix-B-6">We would like to thank <span class="contact-name">Nischal Sheth</span>, <span class="contact-name">Alia Atlas</span>, <span class="contact-name">David Ward</span>, <span class="contact-name">Derek Yeung</span>,
      <span class="contact-name">Murtuza Lightwala</span>, <span class="contact-name">John Scudder</span>, <span class="contact-name">Kaliraj Vairavakkalai</span>, <span class="contact-name">Les Ginsberg</span>,
      <span class="contact-name">Liem Nguyen</span>, <span class="contact-name">Manish Bhardwaj</span>, <span class="contact-name">Matt Miller</span>, <span class="contact-name">Mike Shand</span>, <span class="contact-name">Peter Psenak</span>,
      <span class="contact-name">Rex Fernando</span>, <span class="contact-name">Richard Woundy</span>, <span class="contact-name">Steven Luong</span>, <span class="contact-name">Tamas Mondal</span>, <span class="contact-name">Waqas Alam</span>,
      <span class="contact-name">Vipin Kumar</span>, <span class="contact-name">Naiming Shen</span>, <span class="contact-name">Carlos Pignataro</span>, <span class="contact-name">Balaji Rajagopalan</span>,
      <span class="contact-name">Yakov Rekhter</span>, <span class="contact-name">Alvaro Retana</span>, <span class="contact-name">Barry Leiba</span>, and <span class="contact-name">Ben Campbell</span> for their
      comments on <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span>.<a class="pilcrow" href="#appendix-B-6">¶</a></p>
</section>
</div>
<div id="Contributors">
<section id="appendix-C">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="appendix-C-1">The following persons contributed significant text to <span>[<a class="cite xref" href="#RFC7752">RFC7752</a>]</span> and
      this document. They should be considered coauthors.<a class="pilcrow" href="#appendix-C-1">¶</a></p>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Hannes Gredler</span></div>
<div class="left" dir="auto"><span class="org">Rtbrick</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:hannes@rtbrick.com">hannes@rtbrick.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jan Medved</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jmedved@cisco.com">jmedved@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stefano Previdi</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="left" dir="auto"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:stefano@previdi.net">stefano@previdi.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Adrian Farrel</span></div>
<div class="left" dir="auto"><span class="org">Old Dog Consulting</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:adrian@olddog.co.uk">adrian@olddog.co.uk</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Saikat Ray</span></div>
<div class="left" dir="auto"><span class="org">Individual</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:raysaikat@gmail.com">raysaikat@gmail.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-address">
<a class="section-name selfRef" href="#name-authors-address">Author's Address</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ketan Talaulikar (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems</span></div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ketant.ietf@gmail.com">ketant.ietf@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>