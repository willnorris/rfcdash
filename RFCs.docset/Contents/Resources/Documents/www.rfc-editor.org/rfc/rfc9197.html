<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9197: Data Fields for In Situ Operations, Administration, and Maintenance (IOAM)</title>
<meta content="Frank Brockners" name="author"/>
<meta content="Shwetha Bhandari" name="author"/>
<meta content="Tal Mizrahi" name="author"/>
<meta content="
       In situ Operations, Administration, and Maintenance (IOAM)
      collects operational and telemetry information in the packet
      while the packet traverses a path between two points in the
      network.
      This document
      discusses the data fields and associated data types for IOAM.
      IOAM-Data-Fields can be encapsulated into a variety of
      protocols, such as Network Service Header (NSH), Segment
      Routing, Generic Network Virtualization Encapsulation (Geneve),
      or IPv6.  IOAM can be used to complement OAM mechanisms based
      on, e.g., ICMP or other types of probe packets. 
    " name="description"/>
<meta content="xml2rfc 3.12.7" name="generator"/>
<meta content="inband" name="keyword"/>
<meta content="Telemetry" name="keyword"/>
<meta content="Tracing," name="keyword"/>
<meta content="9197" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.7
    Python 3.6.15
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.4.2
    MarkupSafe 2.0.1
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9197.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9197" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-ippm-ioam-data-17" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9197</td>
<td class="center">In Situ OAM Data Fields</td>
<td class="right">May 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Brockners, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9197">9197</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-05">May 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">F. Brockners, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">S. Bhandari, <span class="editor">Ed.</span>
</div>
<div class="org">Thoughtspot</div>
</div>
<div class="author">
      <div class="author-name">T. Mizrahi, <span class="editor">Ed.</span>
</div>
<div class="org">Huawei</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9197</h1>
<h1 id="title">Data Fields for In Situ Operations, Administration, and Maintenance (IOAM)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">In situ Operations, Administration, and Maintenance (IOAM)
      collects operational and telemetry information in the packet
      while the packet traverses a path between two points in the
      network.
      This document
      discusses the data fields and associated data types for IOAM.
      IOAM-Data-Fields can be encapsulated into a variety of
      protocols, such as Network Service Header (NSH), Segment
      Routing, Generic Network Virtualization Encapsulation (Geneve),
      or IPv6.  IOAM can be used to complement OAM mechanisms based
      on, e.g., ICMP or other types of probe packets.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9197">https://www.rfc-editor.org/info/rfc9197</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-conventions">Conventions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-scope-applicability-and-ass">Scope, Applicability, and Assumptions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-ioam-data-fields-types-and-">IOAM Data-Fields, Types, and Nodes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-ioam-data-fields-and-option">IOAM Data-Fields and Option-Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-ioam-domains-and-types-of-i">IOAM-Domains and Types of IOAM Nodes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-ioam-namespaces">IOAM-Namespaces</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-ioam-trace-option-types">IOAM Trace Option-Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a class="xref" href="#section-4.4.1">4.4.1</a>.  <a class="xref" href="#name-pre-allocated-and-increment">Pre-allocated and Incremental Trace Option-Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a class="xref" href="#section-4.4.2">4.4.2</a>.  <a class="xref" href="#name-ioam-node-data-fields-and-a">IOAM Node Data Fields and Associated Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.1">
                        <p id="section-toc.1-1.4.2.4.2.2.2.1.1"><a class="xref" href="#section-4.4.2.1">4.4.2.1</a>.  <a class="xref" href="#name-hop_lim-and-node_id-short">Hop_Lim and node_id Short</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.2">
                        <p id="section-toc.1-1.4.2.4.2.2.2.2.1"><a class="xref" href="#section-4.4.2.2">4.4.2.2</a>.  <a class="xref" href="#name-ingress_if_id-and-egress_if">ingress_if_id and egress_if_id Short</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.3">
                        <p id="section-toc.1-1.4.2.4.2.2.2.3.1"><a class="xref" href="#section-4.4.2.3">4.4.2.3</a>.  <a class="xref" href="#name-timestamp-seconds">Timestamp Seconds</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.4">
                        <p id="section-toc.1-1.4.2.4.2.2.2.4.1"><a class="xref" href="#section-4.4.2.4">4.4.2.4</a>.  <a class="xref" href="#name-timestamp-fraction">Timestamp Fraction</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.5">
                        <p id="section-toc.1-1.4.2.4.2.2.2.5.1"><a class="xref" href="#section-4.4.2.5">4.4.2.5</a>.  <a class="xref" href="#name-transit-delay">Transit Delay</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.6">
                        <p id="section-toc.1-1.4.2.4.2.2.2.6.1"><a class="xref" href="#section-4.4.2.6">4.4.2.6</a>.  <a class="xref" href="#name-namespace-specific-data">Namespace-Specific Data</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.7">
                        <p id="section-toc.1-1.4.2.4.2.2.2.7.1"><a class="xref" href="#section-4.4.2.7">4.4.2.7</a>.  <a class="xref" href="#name-queue-depth">Queue Depth</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.8">
                        <p id="section-toc.1-1.4.2.4.2.2.2.8.1"><a class="xref" href="#section-4.4.2.8">4.4.2.8</a>.  <a class="xref" href="#name-checksum-complement">Checksum Complement</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.9">
                        <p id="section-toc.1-1.4.2.4.2.2.2.9.1"><a class="xref" href="#section-4.4.2.9">4.4.2.9</a>.  <a class="xref" href="#name-hop_lim-and-node_id-wide">Hop_Lim and node_id Wide</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.10">
                        <p id="section-toc.1-1.4.2.4.2.2.2.10.1"><a class="xref" href="#section-4.4.2.10">4.4.2.10</a>. <a class="xref" href="#name-ingress_if_id-and-egress_if_">ingress_if_id and egress_if_id Wide</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.11">
                        <p id="section-toc.1-1.4.2.4.2.2.2.11.1"><a class="xref" href="#section-4.4.2.11">4.4.2.11</a>. <a class="xref" href="#name-namespace-specific-data-wid">Namespace-Specific Data Wide</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.12">
                        <p id="section-toc.1-1.4.2.4.2.2.2.12.1"><a class="xref" href="#section-4.4.2.12">4.4.2.12</a>. <a class="xref" href="#name-buffer-occupancy">Buffer Occupancy</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2.2.13">
                        <p id="section-toc.1-1.4.2.4.2.2.2.13.1"><a class="xref" href="#section-4.4.2.13">4.4.2.13</a>. <a class="xref" href="#name-opaque-state-snapshot">Opaque State Snapshot</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a class="xref" href="#section-4.4.3">4.4.3</a>.  <a class="xref" href="#name-examples-of-ioam-node-data">Examples of IOAM Node Data</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-ioam-proof-of-transit-optio">IOAM Proof of Transit Option-Type</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5.2.1">
                    <p id="section-toc.1-1.4.2.5.2.1.1"><a class="xref" href="#section-4.5.1">4.5.1</a>.  <a class="xref" href="#name-ioam-proof-of-transit-type-">IOAM Proof of Transit Type 0</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-ioam-edge-to-edge-option-ty">IOAM Edge-to-Edge Option-Type</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-timestamp-formats">Timestamp Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-ptp-truncated-timestamp-for">PTP Truncated Timestamp Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-ntp-64-bit-timestamp-format">NTP 64-Bit Timestamp Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-posix-based-timestamp-forma">POSIX-Based Timestamp Format</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-ioam-data-export">IOAM Data Export</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-ioam-option-type-registry">IOAM Option-Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-ioam-trace-type-registry">IOAM Trace-Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.  <a class="xref" href="#name-ioam-trace-flags-registry">IOAM Trace-Flags Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-7.4">7.4</a>.  <a class="xref" href="#name-ioam-pot-type-registry">IOAM POT-Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a class="xref" href="#section-7.5">7.5</a>.  <a class="xref" href="#name-ioam-pot-flags-registry">IOAM POT-Flags Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a class="xref" href="#section-7.6">7.6</a>.  <a class="xref" href="#name-ioam-e2e-type-registry">IOAM E2E-Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.7">
                <p id="section-toc.1-1.7.2.7.1"><a class="xref" href="#section-7.7">7.7</a>.  <a class="xref" href="#name-ioam-namespace-id-registry">IOAM Namespace-ID Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-management-and-deployment-c">Management and Deployment Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#appendix-A"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">This document defines data fields for In situ Operations,
      Administration, and Maintenance (IOAM). IOAM records OAM
      information within the packet while the packet traverses a
      particular network domain. The term "in situ" refers to the fact
      that the OAM data is added to the data packets rather than being
      sent within packets specifically dedicated to OAM. IOAM is used
      to complement mechanisms, such as Ping or Traceroute. In terms
      of "active" or "passive" OAM, IOAM can be considered a hybrid
      OAM type. "In situ" mechanisms do not require extra packets to
      be sent. IOAM adds information to the already available data
      packets and therefore cannot be considered passive. In terms of
      the classification given in <span>[<a class="xref" href="#RFC7799">RFC7799</a>]</span>, IOAM could be portrayed as Hybrid Type
      I.      IOAM mechanisms can be leveraged where mechanisms using,
      e.g., ICMP do not apply or do not offer the desired results,
      such as proving that a certain traffic flow takes a predefined
      path, Service Level Agreement (SLA) verification for the data
      traffic, detailed statistics on traffic distribution paths in
      networks that distribute traffic across multiple paths, or
      scenarios in which probe traffic is potentially handled
      differently from regular data traffic by the network
      devices.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2"> The term "in situ OAM" was originally motivated by the use
      of OAM-related mechanisms that add information into a packet. This
      document uses IOAM as a term defining the IOAM technology. IOAM
      includes "in situ" mechanisms but also mechanisms that could trigger 
      the creation of additional packets dedicated to OAM.<a class="pilcrow" href="#section-1-2">¶</a></p>
</section>
<div id="Conventions">
<section id="section-2">
      <h2 id="name-conventions">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conventions">Conventions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", 
      "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and 
      "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as described in BCP 14 
      <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
      when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">Abbreviations and definitions used in this document:<a class="pilcrow" href="#section-2-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-3">
        <dt id="section-2-3.1">E2E:</dt>
        <dd id="section-2-3.2" style="margin-left: 7.5em">Edge to Edge<a class="pilcrow" href="#section-2-3.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.3">Geneve:</dt>
        <dd id="section-2-3.4" style="margin-left: 7.5em">Generic Network Virtualization Encapsulation
          <span>[<a class="xref" href="#RFC8926">RFC8926</a>]</span><a class="pilcrow" href="#section-2-3.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.5">IOAM:</dt>
        <dd id="section-2-3.6" style="margin-left: 7.5em">In situ Operations, Administration, and
          Maintenance<a class="pilcrow" href="#section-2-3.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.7">MTU:</dt>
        <dd id="section-2-3.8" style="margin-left: 7.5em">Maximum Transmission Unit<a class="pilcrow" href="#section-2-3.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.9">NSH:</dt>
        <dd id="section-2-3.10" style="margin-left: 7.5em">Network Service Header <span>[<a class="xref" href="#RFC8300">RFC8300</a>]</span><a class="pilcrow" href="#section-2-3.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.11">OAM:</dt>
        <dd id="section-2-3.12" style="margin-left: 7.5em">Operations, Administration, and Maintenance<a class="pilcrow" href="#section-2-3.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.13">PMTU:</dt>
        <dd id="section-2-3.14" style="margin-left: 7.5em">Path MTU<a class="pilcrow" href="#section-2-3.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.15">POT:</dt>
        <dd id="section-2-3.16" style="margin-left: 7.5em">Proof of Transit<a class="pilcrow" href="#section-2-3.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.17">Short format:</dt>
        <dd id="section-2-3.18" style="margin-left: 7.5em">refers to
          an IOAM-Data-Field that comprises 4 octets<a class="pilcrow" href="#section-2-3.18">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.19">SID:</dt>
        <dd id="section-2-3.20" style="margin-left: 7.5em">Segment Identifier<a class="pilcrow" href="#section-2-3.20">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.21">SR:</dt>
        <dd id="section-2-3.22" style="margin-left: 7.5em">Segment Routing<a class="pilcrow" href="#section-2-3.22">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.23">VXLAN-GPE:</dt>
        <dd id="section-2-3.24" style="margin-left: 7.5em">Virtual eXtensible Local Area Network,
          Generic Protocol Extension <span>[<a class="xref" href="#I-D.ietf-nvo3-vxlan-gpe">NVO3-VXLAN-GPE</a>]</span><a class="pilcrow" href="#section-2-3.24">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.25">Wide format:</dt>
        <dd id="section-2-3.26" style="margin-left: 7.5em">refers to
          an IOAM-Data-Field that comprises 8 octets<a class="pilcrow" href="#section-2-3.26">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="IOAM_scope">
<section id="section-3">
      <h2 id="name-scope-applicability-and-ass">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-scope-applicability-and-ass">Scope, Applicability, and Assumptions</a>
      </h2>
<p id="section-3-1">IOAM assumes a set of constraints as well as 
      guiding principles and concepts that go hand in hand with the definition
      of the IOAM-Data-Fields. These constraints, guiding principles, and
      concepts are described in this section. A discussion of how IOAM-Data-Fields and the associated concepts are applied to an IOAM deployment
      are out of scope for this document. Please refer to 
      <span>[<a class="xref" href="#I-D.ietf-ippm-ioam-deployment">IPPM-IOAM-DEPLOYMENT</a>]</span> for IOAM
      deployment considerations.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3-2">
        <dt id="section-3-2.1">Scope:</dt>
        <dd id="section-3-2.2" style="margin-left: 1.5em">This document defines the data fields and associated data
 types for IOAM. The IOAM-Data-Fields can be encapsulated in
 a variety of protocols, including NSH, Segment Routing, Geneve, and IPv6.
 Specification details for these different protocols are outside
 the scope of this document. It is expected that each such encapsulation
 would be specified by an RFC and jointly designed by the working group
 that develops or maintains the encapsulation protocol and the IETF IP Performance
 Measurement (IPPM) Working Group.<a class="pilcrow" href="#section-3-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">Domain (or scope) of in situ OAM deployment:</dt>
        <dd id="section-3-2.4" style="margin-left: 1.5em">IOAM is focused on "limited domains", as defined in <span>[<a class="xref" href="#RFC8799">RFC8799</a>]</span>.
 For IOAM, a limited domain could, for example, be an enterprise campus
 using physical connections between devices or an overlay network using virtual
 connections/tunnels for connectivity between said devices.
      
 A limited domain that uses IOAM may constitute one or multiple 
 "IOAM-Domains", each disambiguated through separate namespace identifiers.
 An IOAM-Domain is bounded by its perimeter or edge.  IOAM-Domains 
 may overlap inside the limited domain.
 
 Designers of protocol
 encapsulations for IOAM specify mechanisms to ensure that IOAM data
 stays within an IOAM-Domain. In addition, the operator of such a domain
 is expected to put provisions in place to ensure that IOAM data does not
 leak beyond the edge of an IOAM-Domain using, for example, packet
 filtering methods. The operator <span class="bcp14">SHOULD</span> consider the potential
 operational impact of IOAM to mechanisms, such as ECMP processing (e.g.,
 load-balancing schemes based on packet length could be impacted by the
 increased packet size due to IOAM), PMTU (i.e., ensure that the MTU
 of all links within a domain is sufficiently large to support the
 increased packet size due to IOAM), and ICMP message handling (i.e., in
 case of IPv6, IOAM support for ICMPv6 echo request/reply is desired,
 which would translate into ICMPv6 extensions to enable IOAM-Data-Fields
 to be copied from an echo request message to an echo reply message).<a class="pilcrow" href="#section-3-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">IOAM control points:</dt>
        <dd id="section-3-2.6" style="margin-left: 1.5em">IOAM-Data-Fields are added to or removed from
 the user traffic by the devices that form the edge of a domain.
 Devices that form an IOAM-Domain can add, update, or remove
 IOAM-Data-Fields. Edge devices of an IOAM-Domain can be hosts or network
 devices.<a class="pilcrow" href="#section-3-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7">Traffic sets that IOAM is applied to:</dt>
        <dd id="section-3-2.8" style="margin-left: 1.5em">IOAM can be deployed on all or
 only on subsets of the user traffic. Using IOAM on a selected set
 of traffic (e.g., per interface, based on an access control list or flow
 specification defining a specific set of traffic, etc.) could be useful
 in deployments where the cost of processing IOAM-Data-Fields by
 encapsulating, transit, or decapsulating nodes might be a concern from
 a performance or operational perspective. Thus, limiting the amount of
 traffic IOAM is applied to could be beneficial in some deployments.<a class="pilcrow" href="#section-3-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.9">Encapsulation independence:</dt>
        <dd id="section-3-2.10" style="margin-left: 1.5em">The definition of IOAM-Data-Fields is
 independent from the protocols the IOAM-Data-Fields are encapsulated
 into. IOAM-Data-Fields can be encapsulated into several encapsulating
 protocols.<a class="pilcrow" href="#section-3-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.11">Layering:</dt>
        <dd id="section-3-2.12" style="margin-left: 1.5em">If several encapsulation protocols (e.g., in case of
 tunneling) are stacked on top of each other, IOAM-Data-Fields could be
 present at multiple layers. The behavior follows the "ships-in-the-night"
 model, i.e., IOAM-Data-Fields in one layer are independent from
 IOAM-Data-Fields in another layer. Layering allows operators to
 instrument the protocol layer they want to measure. The different layers
 could, but do not have to, share the same IOAM encapsulation
 mechanisms.<a class="pilcrow" href="#section-3-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.13">IOAM implementation:</dt>
        <dd id="section-3-2.14" style="margin-left: 1.5em">The definition of the IOAM-Data-Fields takes the
 specifics of devices with hardware data planes and software data planes
 into account.<a class="pilcrow" href="#section-3-2.14">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="IOAM_option_format">
<section id="section-4">
      <h2 id="name-ioam-data-fields-types-and-">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-ioam-data-fields-types-and-">IOAM Data-Fields, Types, and Nodes</a>
      </h2>
<p id="section-4-1">This section details IOAM-related nomenclature and describes data
      types, such as IOAM-Data-Fields, IOAM-Types, IOAM-Namespaces, as well as
      the different types of IOAM nodes.<a class="pilcrow" href="#section-4-1">¶</a></p>
<section id="section-4.1">
        <h3 id="name-ioam-data-fields-and-option">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-ioam-data-fields-and-option">IOAM Data-Fields and Option-Types</a>
        </h3>
<p id="section-4.1-1">An IOAM-Data-Field is a set of bits with a defined format and
        meaning, which can be stored at a certain place in a packet for the
        purpose of IOAM.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">To accommodate the different uses of IOAM, IOAM-Data-Fields fall
        into different categories. In IOAM, these categories are referred to as
        "IOAM-Option-Types". A common registry is maintained for
        IOAM-Option-Types (see <a class="xref" href="#IOAM-type-registry">Section 7.1</a> for
        details). Corresponding to these IOAM-Option-Types, different
        IOAM-Data-Fields are defined.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">This document defines four IOAM-Option-Types:<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.1">Pre-allocated Trace Option-Type<a class="pilcrow" href="#section-4.1-4.1">¶</a>
</li>
          <li class="normal" id="section-4.1-4.2">Incremental Trace Option-Type<a class="pilcrow" href="#section-4.1-4.2">¶</a>
</li>
          <li class="normal" id="section-4.1-4.3">POT Option-Type<a class="pilcrow" href="#section-4.1-4.3">¶</a>
</li>
          <li class="normal" id="section-4.1-4.4">E2E Option-Type<a class="pilcrow" href="#section-4.1-4.4">¶</a>
</li>
        </ul>
<p id="section-4.1-5">Future IOAM-Option-Types can be allocated by IANA, as described in 
  <a class="xref" href="#IOAM-type-registry">Section 7.1</a>.<a class="pilcrow" href="#section-4.1-5">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-ioam-domains-and-types-of-i">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-ioam-domains-and-types-of-i">IOAM-Domains and Types of IOAM Nodes</a>
        </h3>
<p id="section-4.2-1"><a class="xref" href="#IOAM_scope">Section 3</a> already mentioned that IOAM is expected to be deployed in a limited domain <span>[<a class="xref" href="#RFC8799">RFC8799</a>]</span>. 
        One or more IOAM-Option-Types are added to a packet upon entering an
        IOAM-Domain and are removed from the packet when exiting the domain.
        Within the IOAM-Domain, the IOAM-Data-Fields <span class="bcp14">MAY</span> be updated by network
        nodes that the packet traverses. An IOAM-Domain consists of "IOAM
        encapsulating nodes", "IOAM decapsulating nodes", and "IOAM transit
        nodes". The role of a node (i.e., encapsulating, transit, and
        decapsulating) is defined within an IOAM-Namespace (see below). A node
        can have different roles in different IOAM-Namespaces.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">A device that adds at least one IOAM-Option-Type to the packet is
        called an "IOAM encapsulating node", whereas a device that removes
        an IOAM-Option-Type is referred to as an "IOAM decapsulating node".
        Nodes within the domain that are aware of IOAM data and
        read, write, and/or process IOAM data
        are called "IOAM transit nodes". IOAM
        nodes that add or remove the IOAM-Data-Fields can also update the
        IOAM-Data-Fields at the same time. Or, in other words, IOAM
        encapsulating or decapsulating nodes can also serve as IOAM transit
        nodes at the same time. Note that not every node in an IOAM-Domain
        needs to be an IOAM transit node. For example, a deployment might
        require that packets traverse a set of firewalls that support IOAM.
        In that case, only the set of firewall nodes would be IOAM transit
        nodes, rather than all nodes.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">An IOAM encapsulating node incorporates one or more
        IOAM-Option-Types (from the list of IOAM-Types, see <a class="xref" href="#IOAM-type-registry">Section 7.1</a>) into packets that IOAM is enabled for.
        If IOAM is enabled for a selected subset of the traffic, the IOAM
        encapsulating node is responsible for applying the IOAM functionality
        to the selected subset.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
<p id="section-4.2-4">An IOAM transit node reads, writes, and/or processes
        one or more of the IOAM-Data-Fields.
        If both the Pre-allocated and the Incremental Trace Option-Types are
        present in the packet, each IOAM transit node, based on configuration and
     available implementation of IOAM, might populate IOAM trace data in
     either a Pre-allocated or Incremental Trace Option-Type but not both.
        Note that not populating any of the Trace Option-Types is also valid
   behavior for an IOAM transit node.
        A transit node <span class="bcp14">MUST</span> ignore IOAM-Option-Types that it does not
        understand. A transit node <span class="bcp14">MUST NOT</span> add new IOAM-Option-Types to a
        packet, <span class="bcp14">MUST NOT</span> remove IOAM-Option-Types from a packet, and
        <span class="bcp14">MUST NOT</span> change the IOAM-Data-Fields of an IOAM Edge-to-Edge
        Option-Type.<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<p id="section-4.2-5">An IOAM decapsulating node removes IOAM-Option-Type(s) from
        packets.<a class="pilcrow" href="#section-4.2-5">¶</a></p>
<p id="section-4.2-6">The role of an IOAM encapsulating, IOAM transit, or
        IOAM decapsulating node is always performed within a specific
        IOAM-Namespace. This means that an IOAM node that is, e.g., an
        IOAM decapsulating node for IOAM-Namespace "A" but not for
        IOAM-Namespace "B" will only remove the IOAM-Option-Types for
        IOAM-Namespace "A" from the packet. Note that this applies even
        for IOAM-Option-Types that the node does not understand, for
        example, an IOAM-Option-Type other than the four described above,
        which is added in a future revision.<a class="pilcrow" href="#section-4.2-6">¶</a></p>
<p id="section-4.2-7">IOAM-Namespaces allow for a namespace-specific definition and
        interpretation of IOAM-Data-Fields. An interface identifier could, for example,
        point to a physical interface (e.g., to understand which physical
        interface of an aggregated link is used when receiving or transmitting
        a packet), whereas, in another case, it could refer to a logical
        interface (e.g., in case of tunnels). Please refer to <a class="xref" href="#ioam_namespaces">Section 4.3</a> for details on IOAM-Namespaces.<a class="pilcrow" href="#section-4.2-7">¶</a></p>
</section>
<div id="ioam_namespaces">
<section id="section-4.3">
        <h3 id="name-ioam-namespaces">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-ioam-namespaces">IOAM-Namespaces</a>
        </h3>
<p id="section-4.3-1">IOAM-Namespaces add further context to IOAM-Option-Types and
        associated IOAM-Data-Fields. The IOAM-Option-Types and associated 
 IOAM-Data-Fields are interpreted as defined in this document, 
 regardless of the value of the IOAM-Namespace. However, 
 IOAM-Namespaces provide a way to group nodes to 
 support different deployment approaches
 of IOAM (see a few example use cases below). IOAM-Namespaces also
 help to resolve potential issues that can occur due to IOAM-Data-Fields not
        being globally unique (e.g., IOAM node identifiers do not have to be
        globally unique).
 The significance of IOAM-Data-Fields is always within a
        particular IOAM-Namespace. Given that IOAM-Data-Fields are always 
        interpreted as the context of a specific namespace, the Namespace-ID 
        field always needs to be carried along with the IOAM data-fields themselves.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">An IOAM-Namespace is identified by a 16-bit namespace identifier
        (Namespace-ID). The IOAM-Namespace field is included in all the 
 IOAM-Option-Types defined in this document and <span class="bcp14">MUST</span> be included 
 in all future IOAM-Option-Types. The Namespace-ID value is divided
        into two subranges:<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-3.1">an operator-assigned range from 0x0001 to 0x7FFF and<a class="pilcrow" href="#section-4.3-3.1">¶</a>
</li>
          <li class="normal" id="section-4.3-3.2">an IANA-assigned range from 0x8000 to 0xFFFF.<a class="pilcrow" href="#section-4.3-3.2">¶</a>
</li>
        </ul>
<p id="section-4.3-4">The IANA-assigned range is intended to allow future
        extensions to have new and interoperable IOAM functionality, while the
        operator-assigned range is intended to be domain specific and managed
        by the network operator. The Namespace-ID value of 0x0000 is the 
 "Default-Namespace-ID". The Default-Namespace-ID indicates that no 
 specific namespace is associated with the IOAM-Data-Fields in the 
 packet. The Default-Namespace-ID <span class="bcp14">MUST</span> be supported by all nodes 
 implementing IOAM. A use case for the Default-Namespace-ID are 
 deployments that do not leverage specific namespaces for some or all 
 of their packets that carry IOAM-Data-Fields.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
<p id="section-4.3-5">Namespace identifiers allow devices that are IOAM capable to
        determine:<a class="pilcrow" href="#section-4.3-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-6.1">whether one or more IOAM-Option-Types need to be processed by a device.
            If the Namespace-ID contained in a packet does not match any
            Namespace-ID the node is configured to operate on, then the node
            <span class="bcp14">MUST NOT</span> change the contents of the IOAM-Data-Fields.<a class="pilcrow" href="#section-4.3-6.1">¶</a>
</li>
          <li class="normal" id="section-4.3-6.2">which IOAM-Option-Type needs to be processed/updated in case
            there are multiple IOAM-Option-Types present in the packet.
            Multiple IOAM-Option-Types can be present in a packet in case of
            overlapping IOAM-Domains or in case of a layered IOAM
            deployment.<a class="pilcrow" href="#section-4.3-6.2">¶</a>
</li>
          <li class="normal" id="section-4.3-6.3">whether one or more IOAM-Option-Types have to be removed from the packet,
            e.g., at a domain edge or domain boundary.<a class="pilcrow" href="#section-4.3-6.3">¶</a>
</li>
        </ul>
<p id="section-4.3-7">IOAM-Namespaces support several different uses:<a class="pilcrow" href="#section-4.3-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-8.1">IOAM-Namespaces can be used by an operator to distinguish
            different IOAM-Domains. Devices at edges of an IOAM-Domain 
            can filter
            on Namespace-IDs to provide for proper IOAM-Domain isolation.<a class="pilcrow" href="#section-4.3-8.1">¶</a>
</li>
          <li class="normal" id="section-4.3-8.2">IOAM-Namespaces provide additional context for
          IOAM-Data-Fields and, thus, can be used to ensure that
          IOAM-Data-Fields are unique and are interpreted properly by
          management stations or network controllers.  The node
          identifier field (node_id, see below) does not need to be
          unique in a deployment.  This could be the case if an
          operator wishes to use different node identifiers for
          different IOAM layers, even within the same device, or node
          identifiers might not be unique for other organizational
          reasons, such as after a merger of two formerly separated
          organizations. The Namespace-ID can be used as a context
          identifier, such that the combination of node_id and
          Namespace-ID will always be unique.<a class="pilcrow" href="#section-4.3-8.2">¶</a>
</li>
          <li class="normal" id="section-4.3-8.3">
            Similarly, IOAM-Namespaces can be used to define how certain
            IOAM-Data-Fields are interpreted; IOAM offers three different
            timestamp format options. The Namespace-ID can be used to
            determine the timestamp format. IOAM-Data-Fields (e.g., buffer
            occupancy) that do not have a unit associated are to be
            interpreted within the context of an IOAM-Namespace.<a class="pilcrow" href="#section-4.3-8.3">¶</a>
</li>
          <li class="normal" id="section-4.3-8.4">IOAM-Namespaces can be used to identify different sets of
            devices (e.g., different types of devices) in a deployment; if an
            operator wants to insert different IOAM-Data-Fields based on the
            device, the devices could be grouped into multiple
            IOAM-Namespaces. This could be due to the fact that the IOAM
            feature set differs between different sets of devices, or it could
            be for reasons of optimized space usage in the packet header. It
            could also stem from hardware or operational limitations on the
            size of the trace data that can be added and processed, preventing
            collection of a full trace for a flow.<a class="pilcrow" href="#section-4.3-8.4">¶</a>
</li>
          <li class="normal" id="section-4.3-8.5">By assigning different IOAM 
                Namespace-IDs to different sets of
                nodes or network partitions and using a separate instance of
                an IOAM-Option-Type for each Namespace-ID, a full trace for a
                flow could be collected and constructed via partial traces
                from each IOAM-Option-Type in each of the packets in the flow.
                For example, an operator could choose to group the devices of a
                domain into two IOAM-Namespaces in a way that each
                IOAM-Namespace is represented by one of two IOAM-Option-Types
                in the packet. Each node would record data only for the
                IOAM-Namespace that it belongs to, ignoring the other
                IOAM-Option-Type with an IOAM-Namespace to which it doesn't
                belong. To retrieve a full view of the deployment, the
                captured IOAM-Data-Fields of the two IOAM-Namespaces need to
                be correlated.<a class="pilcrow" href="#section-4.3-8.5">¶</a>
</li>
        </ul>
</section>
</div>
<div id="IOAM_tracing_option">
<section id="section-4.4">
        <h3 id="name-ioam-trace-option-types">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-ioam-trace-option-types">IOAM Trace Option-Types</a>
        </h3>
<p id="section-4.4-1"> In a typical deployment, all nodes in an IOAM-Domain would
        participate in IOAM; thus, they would be IOAM transit nodes, IOAM
        encapsulating nodes, or IOAM decapsulating nodes. If not all
        nodes within a domain support IOAM functionality as defined in
        this document, IOAM tracing information (i.e., node data, see
        below) can only be collected on those nodes that support IOAM
        functionality as defined in this document. Nodes that do not
        support IOAM functionality as defined in this document will
        forward the packet without any changes to the
        IOAM-Data-Fields.  The maximum number of hops and the minimum
        PMTU of the IOAM-Domain is assumed to be known. An
        overflow indicator (O-bit) is defined as one of the ways to
        deal with situations where the PMTU was underestimated, i.e.,
        where the number of hops that are IOAM capable exceeds the
        available space in the packet.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">To optimize hardware and software implementations, IOAM tracing is
        defined as two separate options. A deployment can choose to configure 
 and support one or both of the following options.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.4-3">
          <dt id="section-4.4-3.1">Pre-allocated Trace-Option:</dt>
          <dd id="section-4.4-3.2" style="margin-left: 1.5em">This trace option is
            defined as a container of node data fields (see below) with
            pre-allocated space for each node to populate its information.
            This option is useful for implementations where it is efficient to
            allocate the space once and index into the array to populate the
            data during transit (e.g., software forwarders often fall into
            this class). The IOAM encapsulating node allocates space for the
            Pre-allocated Trace Option-Type in the packet and sets
            corresponding fields in this IOAM-Option-Type. The IOAM
            encapsulating node allocates an array that is used to store
            operational data retrieved from every node while the packet
            traverses the domain. IOAM transit nodes update the content of the
            array and possibly update the checksums of outer headers. A
            pointer that is part of the IOAM trace data points to the next
            empty slot in the array. An IOAM transit node that updates the
            content of the Pre-allocated Trace-Option also updates the value of the
            pointer, which specifies where the next IOAM transit node fills in
            its data. The "node data list" array (see below) in the packet is
            populated iteratively as the packet traverses the network,
            starting with the last entry of the array, i.e., "node data list
            [n]" is the first entry to be populated, "node data list [n-1]" is
            the second one, etc.<a class="pilcrow" href="#section-4.4-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.3">Incremental Trace-Option:</dt>
          <dd id="section-4.4-3.4" style="margin-left: 1.5em">This trace option is
            defined as a container of node data fields, where each node
            allocates and pushes its node data immediately following the
            option header. This type of trace recording is useful for some of
            the hardware implementations, as it eliminates the need for the
            transit network elements to read the full array in the option and
            allows for as arbitrarily long packets as the MTU allows. The IOAM
            encapsulating node allocates space for the Incremental Trace
            Option-Type. Based on the operational state and configuration, the
            IOAM encapsulating node sets the fields in the Option-Type that
            control what IOAM-Data-Fields have to be collected and how large
            the node data list can grow. IOAM transit nodes push their node
 data to the node data list subject to any protocol constraints of 
 the encapsulating layer. They then decrease the remaining length
 available to subsequent nodes and adjust the lengths and possibly
 checksums in outer headers.<a class="pilcrow" href="#section-4.4-3.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.4-4">IOAM encapsulating nodes and IOAM decapsulating nodes that support
        tracing <span class="bcp14">MUST</span> support both Trace Option-Types. For IOAM transit nodes, it
        is sufficient to support one of the Trace Option-Types.  
        In the event that both options are utilized in a deployment 
        at the same time, the Incremental Trace-Option <span class="bcp14">MUST</span> be placed
        before the Pre-allocated Trace-Option. Deployments that mix devices
        with either the Incremental Trace-Option or the Pre-allocated
        Trace-Option could result in both Option-Types being present in a
        packet. Given that the operator knows which equipment is deployed in a
        particular IOAM-Domain, the operator will decide by means of 
 configuration which type(s) of trace options will be used for a 
 particular domain.<a class="pilcrow" href="#section-4.4-4">¶</a></p>
<p id="section-4.4-5">Every node data entry holds information for a particular IOAM
        transit node that is traversed by a packet. The IOAM decapsulating
        node removes the IOAM-Option-Types and processes and/or exports the
        associated data. Like all IOAM-Data-Fields, the IOAM-Data-Fields of
        the IOAM Trace Option-Types are defined in the context of an
        IOAM-Namespace.<a class="pilcrow" href="#section-4.4-5">¶</a></p>
<p id="section-4.4-6">IOAM tracing can collect the following types of information:<a class="pilcrow" href="#section-4.4-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4-7.1">Identification of the IOAM node. An IOAM node identifier can
            match to a device identifier or a particular control point or
            subsystem within a device.<a class="pilcrow" href="#section-4.4-7.1">¶</a>
</li>
          <li class="normal" id="section-4.4-7.2">Identification of the interface that a packet was received on,
            i.e., ingress interface.<a class="pilcrow" href="#section-4.4-7.2">¶</a>
</li>
          <li class="normal" id="section-4.4-7.3">Identification of the interface that a packet was sent out on,
            i.e., egress interface.<a class="pilcrow" href="#section-4.4-7.3">¶</a>
</li>
          <li class="normal" id="section-4.4-7.4">Time of day when the packet was processed by the node, as well
            as the transit delay. Different definitions of processing time are
            feasible and expected, though it is important that all devices of
            an IOAM-Domain follow the same definition.<a class="pilcrow" href="#section-4.4-7.4">¶</a>
</li>
          <li class="normal" id="section-4.4-7.5">Generic data, i.e., format-free information where syntax and semantics
            of the information is defined by the operator in a specific
            deployment. For a specific IOAM-Namespace, all IOAM nodes have to
            interpret the generic data the same way. Examples for generic IOAM
            data include geolocation information (location of the node at the
            time the packet was processed), buffer queue fill level or cache
            fill level at the time the packet was processed, or even a battery-charge level.<a class="pilcrow" href="#section-4.4-7.5">¶</a>
</li>
          <li class="normal" id="section-4.4-7.6">Information to detect whether IOAM trace data was added at
            every hop or whether certain hops in the domain weren't IOAM
            transit nodes.<a class="pilcrow" href="#section-4.4-7.6">¶</a>
</li>
        </ul>
<p id="section-4.4-8">It should be noted that the semantics of some of the node data 
   fields that are defined below, such as the queue depth and buffer 
   occupancy, are implementation specific. This approach is intended 
   to allow IOAM nodes with various different architectures.<a class="pilcrow" href="#section-4.4-8">¶</a></p>
<div id="TraceOptionDef">
<section id="section-4.4.1">
          <h4 id="name-pre-allocated-and-increment">
<a class="section-number selfRef" href="#section-4.4.1">4.4.1. </a><a class="section-name selfRef" href="#name-pre-allocated-and-increment">Pre-allocated and Incremental Trace Option-Types</a>
          </h4>
<p id="section-4.4.1-1">The IOAM Pre-allocated Trace-Option and the IOAM Incremental
          Trace-Option have similar formats. Except where noted below, the
          internal formats and fields of the two trace options are identical.
          Both trace options consist of a fixed-size "trace option header" and
          a variable data space to store gathered data, i.e., the "node data list".
          An IOAM transit node (that is, not an IOAM encapsulating node or IOAM
          decapsulating node) <span class="bcp14">MUST NOT</span> modify any of the fields in the fixed-size "trace option header", other than
          Flags" and "RemainingLen", i.e., an IOAM
          transit node <span class="bcp14">MUST NOT</span> modify the Namespace-ID, NodeLen,
          IOAM Trace-Type, or Reserved fields.<a class="pilcrow" href="#section-4.4.1-1">¶</a></p>
<p id="section-4.4.1-2">The Pre-allocated and Incremental Trace-Option headers:<a class="pilcrow" href="#section-4.4.1-2">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.1-3">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Namespace-ID           |NodeLen  | Flags | RemainingLen|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|               IOAM Trace-Type                 |  Reserved     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.1-3">¶</a>
</div>
<p id="section-4.4.1-4">The trace option data <span class="bcp14">MUST</span> be aligned by 4 octets:<a class="pilcrow" href="#section-4.4.1-4">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.1-5">
<pre>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+&lt;-+
|                                                               |  |
|                        node data list [0]                     |  |
|                                                               |  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  D
|                                                               |  a
|                        node data list [1]                     |  t
|                                                               |  a
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                             ...                               ~  S
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  p
|                                                               |  a
|                        node data list [n-1]                   |  c
|                                                               |  e
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  |
|                                                               |  |
|                        node data list [n]                     |  |
|                                                               |  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+&lt;-+
</pre><a class="pilcrow" href="#section-4.4.1-5">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.1-6">
            <dt id="section-4.4.1-6.1">Namespace-ID:</dt>
            <dd id="section-4.4.1-6.2" style="margin-left: 1.5em">16-bit identifier of an
              IOAM-Namespace. The Namespace-ID value of 0x0000 is defined as
              the "Default-Namespace-ID" (see <a class="xref" href="#ioam_namespaces">Section 4.3</a>) 
   and <span class="bcp14">MUST</span> be known to all the nodes
              implementing IOAM. For any other Namespace-ID value that does
              not match any Namespace-ID the node is configured to operate on,
              the node <span class="bcp14">MUST NOT</span> change the contents of the
              IOAM-Data-Fields.<a class="pilcrow" href="#section-4.4.1-6.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-6.3">NodeLen:</dt>
            <dd id="section-4.4.1-6.4" style="margin-left: 1.5em">
              <p id="section-4.4.1-6.4.1">5-bit unsigned integer. This field
              specifies the length of data added by each node in multiples of
              4 octets, excluding the length of the "Opaque State Snapshot"
              field.<a class="pilcrow" href="#section-4.4.1-6.4.1">¶</a></p>
<p id="section-4.4.1-6.4.2">If IOAM Trace-Type Bit 22 is not
              set, then NodeLen specifies the actual length added by each
              node. If IOAM Trace-Type Bit 22 is set, then the actual length
              added by a node would be (NodeLen + length of the "Opaque State
              Snapshot" field) in 4-octet units.<a class="pilcrow" href="#section-4.4.1-6.4.2">¶</a></p>
<p id="section-4.4.1-6.4.3">For
              example, if 3 IOAM Trace-Type bits are set and none of them are
              in wide format, then NodeLen would be 3. If 3 IOAM Trace-Type bits are set
              and 2 of them are wide, then NodeLen would be 5.<a class="pilcrow" href="#section-4.4.1-6.4.3">¶</a></p>
<p id="section-4.4.1-6.4.4">An IOAM encapsulating node <span class="bcp14">MUST</span> set NodeLen.<a class="pilcrow" href="#section-4.4.1-6.4.4">¶</a></p>
<p id="section-4.4.1-6.4.5">A node receiving an IOAM Pre-allocated
              or Incremental Trace-Option relies on the NodeLen value.<a class="pilcrow" href="#section-4.4.1-6.4.5">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-6.5">Flags:</dt>
            <dd id="section-4.4.1-6.6" style="margin-left: 1.5em">
<div id="TraceFlags">
              <p id="section-4.4.1-6.6.1">4-bit field. Flags are
              allocated by IANA, as specified in <a class="xref" href="#Flags-Registry-Sec">Section 7.3</a>. This document allocates a single
              flag as follows:<a class="pilcrow" href="#section-4.4.1-6.6.1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.4.1-6.6.2">
                <dt id="section-4.4.1-6.6.2.1">Bit 0:</dt>
                <dd id="section-4.4.1-6.6.2.2" style="margin-left: 1.5em">"Overflow" (O-bit) (most significant
                  bit). In case a network element is supposed to add node data to a packet
                  but detects that there are not enough octets left to record the node
                  data, the network element <span class="bcp14">MUST NOT</span> add any fields and
   <span class="bcp14">MUST</span> set
                  the overflow "O-bit" to "1" in the IOAM Trace-Option header.
                  This is useful for transit nodes to ignore further
                  processing of the option.<a class="pilcrow" href="#section-4.4.1-6.6.2.2">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
            </dd>
<dd class="break"></dd>
<dt id="section-4.4.1-6.7">RemainingLen:</dt>
            <dd id="section-4.4.1-6.8" style="margin-left: 1.5em">7-bit unsigned integer. This field specifies the data
            space in multiples of 4 octets remaining for recording the
            node data before the node data list is considered to have
            overflowed. The sender <span class="bcp14">MUST</span> assign the
            initial value of the RemainingLen field. The sender
            <span class="bcp14">MAY</span> calculate the value of the RemainingLen
            field by computing the number of node data bytes allowed
            before exceeding the PMTU, given that the PMTU is known to
            the sender. Subsequent nodes can carry out a simple
            comparison between RemainingLen and NodeLen, along with
            the length of the "Opaque State Snapshot", if applicable,
            to determine whether or not data can be added by this
            node.  When node data is added, the node
            <span class="bcp14">MUST</span> decrease RemainingLen by the amount of
            data added. In the Pre-allocated Trace-Option,
            RemainingLen is used to derive the offset in data space to
            record the node data element.

     Specifically, the recording
            of the node data element would start from RemainingLen -
            NodeLen - size of (opaque snapshot) in 4-octet units. If
            RemainingLen in a Pre-allocated Trace-Option exceeds the
            length of the option, as specified in the lower-layer
            header (which is not within the scope of this document),
            then the node <span class="bcp14">MUST NOT</span> add any fields.<a class="pilcrow" href="#section-4.4.1-6.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-6.9">IOAM Trace-Type:</dt>
            <dd id="section-4.4.1-6.10" style="margin-left: 1.5em">
<div id="IOAMTraceType">
              <p id="section-4.4.1-6.10.1">24-bit
              identifier that specifies which data types are used in this
              node data list.<a class="pilcrow" href="#section-4.4.1-6.10.1">¶</a></p>
<p id="section-4.4.1-6.10.2">The IOAM Trace-Type value is a bit field. The
              following bits are defined in this document, with details on
              each bit described in <a class="xref" href="#trace-node-data-element">Section 4.4.2</a>. The order of packing the
              data fields in each node data element follows the bit order of
              the IOAM Trace-Type field as follows:<a class="pilcrow" href="#section-4.4.1-6.10.2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.4.1-6.10.3">
                <dt id="section-4.4.1-6.10.3.1">Bit 0</dt>
                <dd id="section-4.4.1-6.10.3.2" style="margin-left: 5.0em">Most significant bit. When set, 
                  indicates the presence of Hop_Lim and node_id (short format) in
                  the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.2">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.3">Bit 1</dt>
                <dd id="section-4.4.1-6.10.3.4" style="margin-left: 5.0em">When set, indicates the presence of
                  ingress_if_id and egress_if_id (short format) in the node
                  data.<a class="pilcrow" href="#section-4.4.1-6.10.3.4">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.5">Bit 2</dt>
                <dd id="section-4.4.1-6.10.3.6" style="margin-left: 5.0em">When set, indicates the presence of
                  timestamp seconds in the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.6">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.7">Bit 3</dt>
                <dd id="section-4.4.1-6.10.3.8" style="margin-left: 5.0em">When set, indicates the presence of
                  timestamp fraction in the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.8">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.9">Bit 4</dt>
                <dd id="section-4.4.1-6.10.3.10" style="margin-left: 5.0em">When set,  indicates the presence of transit
                  delay in the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.10">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.11">Bit 5</dt>
                <dd id="section-4.4.1-6.10.3.12" style="margin-left: 5.0em">When set, indicates the presence of
                  IOAM-Namespace-specific data in short format in the node
                  data.<a class="pilcrow" href="#section-4.4.1-6.10.3.12">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.13">Bit 6</dt>
                <dd id="section-4.4.1-6.10.3.14" style="margin-left: 5.0em">When set, indicates the presence of queue
                  depth in the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.14">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.15">Bit 7</dt>
                <dd id="section-4.4.1-6.10.3.16" style="margin-left: 5.0em">When set, indicates the presence of the
                  Checksum Complement node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.16">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.17">Bit 8</dt>
                <dd id="section-4.4.1-6.10.3.18" style="margin-left: 5.0em">When set, indicates the presence of Hop_Lim
                  and node_id in wide format in the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.18">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.19">Bit 9</dt>
                <dd id="section-4.4.1-6.10.3.20" style="margin-left: 5.0em">When set, indicates the presence of
                  ingress_if_id and egress_if_id in wide format in the node
                  data.<a class="pilcrow" href="#section-4.4.1-6.10.3.20">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.21">Bit 10</dt>
                <dd id="section-4.4.1-6.10.3.22" style="margin-left: 5.0em">When set, indicates the presence of
                  IOAM-Namespace-specific data in wide format in the node
                  data.<a class="pilcrow" href="#section-4.4.1-6.10.3.22">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.23">Bit 11</dt>
                <dd id="section-4.4.1-6.10.3.24" style="margin-left: 5.0em">When set, indicates the presence of buffer
                  occupancy in the node data.<a class="pilcrow" href="#section-4.4.1-6.10.3.24">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.25">Bits 12-21</dt>
                <dd id="section-4.4.1-6.10.3.26" style="margin-left: 5.0em">
                  <p id="section-4.4.1-6.10.3.26.1">Undefined. These values are available 
   for future assignment in the IOAM Trace-Type Registry 
   (<a class="xref" href="#ioam-trace-type-registry">Section 7.2</a>). Every
   future node data field corresponding to one of these bits
   <span class="bcp14">MUST</span> be 4 octets long. An IOAM encapsulating node
   <span class="bcp14">MUST</span> set the 
   value of each undefined bit to 0.  If an IOAM transit 
   node receives a packet with one or more of these bits set
   to 1, it <span class="bcp14">MUST</span> either:<a class="pilcrow" href="#section-4.4.1-6.10.3.26.1">¶</a></p>
<ol class="normal type-1" id="section-4.4.1-6.10.3.26.2" start="1" type="1">
     <li id="section-4.4.1-6.10.3.26.2.1">add corresponding node data filled with the reserved
                      value 0xFFFFFFFF after the node data fields for the
                      IOAM Trace-Type bits defined above, such that the total
                      node data added by this node in units of 4 octets is
                      equal to NodeLen or<a class="pilcrow" href="#section-4.4.1-6.10.3.26.2.1">¶</a>
</li>
                    <li id="section-4.4.1-6.10.3.26.2.2">not add any node data fields to the packet, even for
                      the IOAM Trace-Type bits defined above.<a class="pilcrow" href="#section-4.4.1-6.10.3.26.2.2">¶</a>
</li>
                  </ol>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.27">Bit 22</dt>
                <dd id="section-4.4.1-6.10.3.28" style="margin-left: 5.0em">When set, indicates the presence of the
                  variable-length Opaque State Snapshot field.<a class="pilcrow" href="#section-4.4.1-6.10.3.28">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.4.1-6.10.3.29">Bit 23</dt>
                <dd id="section-4.4.1-6.10.3.30" style="margin-left: 5.0em">Reserved; <span class="bcp14">MUST</span> be set to zero upon
                  transmission and be ignored upon receipt. This bit is
                  reserved to allow for future extensions of the 
                  IOAM Trace-Type bit field.<a class="pilcrow" href="#section-4.4.1-6.10.3.30">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
<p id="section-4.4.1-6.10.4"><a class="xref" href="#trace-node-data-element">Section 4.4.2</a>
              describes the IOAM-Data-Types and their formats. Within an
              IOAM-Domain, possible combinations of these bits making the
              IOAM Trace-Type can be restricted by configuration knobs.<a class="pilcrow" href="#section-4.4.1-6.10.4">¶</a></p>
</div>
            </dd>
<dd class="break"></dd>
<dt id="section-4.4.1-6.11">Reserved:</dt>
            <dd id="section-4.4.1-6.12" style="margin-left: 1.5em">8 bits. An IOAM encapsulating node <span class="bcp14">MUST</span>
            set the value to zero upon transmission. IOAM transit nodes
     <span class="bcp14">MUST</span> ignore the received value.<a class="pilcrow" href="#section-4.4.1-6.12">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.1-6.13">Node data List [n]:</dt>
            <dd id="section-4.4.1-6.14" style="margin-left: 1.5em">Variable-length field. This is
              a list of node data elements where the content of each node data
              element is determined by the IOAM Trace-Type. The order of
              packing the data fields in each node data element follows the
              bit order of the IOAM Trace-Type field. Each node <span class="bcp14">MUST</span> prepend
              its node data element in front of the node data elements that it
              received, such that the transmitted node data list begins with
              this node's data element as the first populated element in the
              list. The last node data element in this list is the node data
              of the first IOAM-capable node in the path. Populating the node
              data list in this way ensures that the order of the node data list
              is the same for Incremental and Pre-allocated Trace-Options. In
              the Pre-allocated Trace-Option, the index contained in
              RemainingLen identifies the offset for current active node data
              to be populated.<a class="pilcrow" href="#section-4.4.1-6.14">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="trace-node-data-element">
<section id="section-4.4.2">
          <h4 id="name-ioam-node-data-fields-and-a">
<a class="section-number selfRef" href="#section-4.4.2">4.4.2. </a><a class="section-name selfRef" href="#name-ioam-node-data-fields-and-a">IOAM Node Data Fields and Associated Formats</a>
          </h4>
<p id="section-4.4.2-1">All the IOAM-Data-Fields <span class="bcp14">MUST</span> be aligned by 4 octets. If a
   node that is supposed to update an IOAM-Data-Field is not capable of
          populating the value of a field set in the IOAM Trace-Type, the
          field value <span class="bcp14">MUST</span> be set to 0xFFFFFFFF for 4-octet fields or
          0xFFFFFFFFFFFFFFFF for 8-octet fields, indicating that the value is
          not populated, except when explicitly specified in the field
          description below.<a class="pilcrow" href="#section-4.4.2-1">¶</a></p>
<p id="section-4.4.2-2">Some IOAM-Data-Fields defined below, such as interface
          identifiers or IOAM-Namespace-specific data, are defined in both
          "short format" and "wide format". 
          The  use of "short format" or "wide format" is not mutually exclusive.
          A deployment could choose to leverage both. For example,
          ingress_if_id_(short format) could be an identifier for the physical
          interface, whereas ingress_if_id_(wide format) could be an
          identifier for a logical sub-interface of that physical
          interface.<a class="pilcrow" href="#section-4.4.2-2">¶</a></p>
<p id="section-4.4.2-3">Data fields and associated data types for each of the
          IOAM-Data-Fields are specified in the following sections.
          The definition of IOAM-Data-Fields focuses on the syntax
          of the data fields and avoids specifying the semantics
          where feasible. This is why no units are defined for
          data fields, e.g., like "buffer occupancy" or "queue depth".
          With this approach, nodes can supply the
          information in their original format and are not required
          to perform unit or format conversions. Systems that further
          process IOAM information, e.g., like a network management
          system, are assumed to also handle unit conversions as part
          of their IOAM-Data-Fields processing. The combination of a 
          particular data field and the Namespace-ID provides for the context 
          to interpret the provided data appropriately.<a class="pilcrow" href="#section-4.4.2-3">¶</a></p>
<div id="Hop_Lim">
<section id="section-4.4.2.1">
            <h5 id="name-hop_lim-and-node_id-short">
<a class="section-number selfRef" href="#section-4.4.2.1">4.4.2.1. </a><a class="section-name selfRef" href="#name-hop_lim-and-node_id-short">Hop_Lim and node_id Short</a>
            </h5>
<p id="section-4.4.2.1-1">The "Hop_Lim and node_id short" field is a 4-octet field
            that is defined as follows:<a class="pilcrow" href="#section-4.4.2.1-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.1-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.1-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2.1-3">
              <dt id="section-4.4.2.1-3.1">Hop_Lim:</dt>
              <dd id="section-4.4.2.1-3.2" style="margin-left: 1.5em">1-octet unsigned integer. It is set to
                the Hop Limit value in the packet at egress from the node that records
                this data. Hop Limit information is used to identify the
                location of the node in the communication path. This is copied
                from the lower layer, e.g., TTL value in IPv4 header or Hop
                Limit field from IPv6 header of the packet when the packet is
                ready for transmission. The semantics of the Hop_Lim field
                depend on the lower-layer protocol that IOAM is encapsulated
                into; therefore, its specific semantics are outside the
                scope of this memo. The value of this field <span class="bcp14">MUST</span> be set to
                0xff when the lower level does not have a field equivalent to TTL / Hop Limit.<a class="pilcrow" href="#section-4.4.2.1-3.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.4.2.1-3.3">node_id:</dt>
              <dd id="section-4.4.2.1-3.4" style="margin-left: 1.5em">3-octet unsigned integer. A node
                identifier field to uniquely identify a node within the
                IOAM-Namespace and associated IOAM-Domain. The procedure to
                allocate, manage, and map the node_ids is beyond the scope of
                this document. See
                <span>[<a class="xref" href="#I-D.ietf-ippm-ioam-deployment">IPPM-IOAM-DEPLOYMENT</a>]</span> for 
                a discussion of deployment-related aspects of the node_id.<a class="pilcrow" href="#section-4.4.2.1-3.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-4.4.2.2">
            <h5 id="name-ingress_if_id-and-egress_if">
<a class="section-number selfRef" href="#section-4.4.2.2">4.4.2.2. </a><a class="section-name selfRef" href="#name-ingress_if_id-and-egress_if">ingress_if_id and egress_if_id Short</a>
            </h5>
<p id="section-4.4.2.2-1">The "ingress_if_id and egress_if_id" field is a 4-octet field
            that is defined as follows:<a class="pilcrow" href="#section-4.4.2.2-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.2-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     ingress_if_id             |         egress_if_id          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.2-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2.2-3">
              <dt id="section-4.4.2.2-3.1">ingress_if_id:</dt>
              <dd id="section-4.4.2.2-3.2" style="margin-left: 1.5em">2-octet unsigned integer.
                An interface identifier to record the ingress interface the
                packet was received on.<a class="pilcrow" href="#section-4.4.2.2-3.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.4.2.2-3.3">egress_if_id:</dt>
              <dd id="section-4.4.2.2-3.4" style="margin-left: 1.5em">2-octet unsigned integer.
                An interface identifier to record the egress interface the packet
                is forwarded out of.<a class="pilcrow" href="#section-4.4.2.2-3.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.4.2.2-4">Note that due to the fact that IOAM uses its own
            IOAM-Namespaces for IOAM-Data-Fields, data fields, like interface
            identifiers, can be used in a flexible way to represent system
            resources that are associated with ingressing or egressing
            packets, i.e., ingress_if_id could represent a physical interface,
            a virtual or logical interface, or even a queue.<a class="pilcrow" href="#section-4.4.2.2-4">¶</a></p>
</section>
<section id="section-4.4.2.3">
            <h5 id="name-timestamp-seconds">
<a class="section-number selfRef" href="#section-4.4.2.3">4.4.2.3. </a><a class="section-name selfRef" href="#name-timestamp-seconds">Timestamp Seconds</a>
            </h5>
<p id="section-4.4.2.3-1">The "timestamp seconds" field is a 4-octet unsigned integer
            field. It contains the absolute timestamp in seconds that specifies the time at
            which the packet was received by the node. This field has three
            possible formats, based on either the Precision Time Protocol (PTP) (see e.g., <span>[<a class="xref" href="#RFC8877">RFC8877</a>]</span>),
            NTP <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>, or POSIX <span>[<a class="xref" href="#POSIX">POSIX</a>]</span>. The
            three timestamp formats are specified in <a class="xref" href="#TimestampSec">Section 5</a>. In all three cases, the timestamp seconds
            field contains the 32 most significant bits of the timestamp
            format that is specified in <a class="xref" href="#TimestampSec">Section 5</a>. If a
            node is not capable of populating this field, it assigns the value
            0xFFFFFFFF. Note that this is a legitimate value that is valid for
            1 second in approximately 136 years; the analyzer has to correlate
            several packets or compare the timestamp value to its own
            time of day in order to detect the error indication.<a class="pilcrow" href="#section-4.4.2.3-1">¶</a></p>
</section>
<section id="section-4.4.2.4">
            <h5 id="name-timestamp-fraction">
<a class="section-number selfRef" href="#section-4.4.2.4">4.4.2.4. </a><a class="section-name selfRef" href="#name-timestamp-fraction">Timestamp Fraction</a>
            </h5>
<p id="section-4.4.2.4-1">The "timestamp fraction" field is a 4-octet unsigned integer
            field. Fraction specifies the fractional portion of the number of
            seconds since the NTP epoch <span>[<a class="xref" href="#RFC8877">RFC8877</a>]</span>. The field specifies the time at
            which the packet was received by the node. This field has three
            possible formats, based on either PTP (see e.g., <span>[<a class="xref" href="#RFC8877">RFC8877</a>]</span>),
            NTP <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>, or POSIX <span>[<a class="xref" href="#POSIX">POSIX</a>]</span>. The
            three timestamp formats are specified in <a class="xref" href="#TimestampSec">Section 5</a>. In all three cases, the timestamp
            fraction field contains the 32 least significant bits of the
            timestamp format that is specified in <a class="xref" href="#TimestampSec">Section 5</a>. If a node is not capable of populating
            this field, it assigns the value 0xFFFFFFFF. Note that this is a
            legitimate value in the NTP format, valid for approximately 233
            picoseconds in every second. If the NTP format is used, the
            analyzer has to correlate several packets in order to detect the
            error indication.<a class="pilcrow" href="#section-4.4.2.4-1">¶</a></p>
</section>
<section id="section-4.4.2.5">
            <h5 id="name-transit-delay">
<a class="section-number selfRef" href="#section-4.4.2.5">4.4.2.5. </a><a class="section-name selfRef" href="#name-transit-delay">Transit Delay</a>
            </h5>
<p id="section-4.4.2.5-1">The "transit delay" field is a 4-octet unsigned integer in the
            range 0 to 2<sup>31</sup>-1. It is the time in nanoseconds the packet spent
            in the transit node. This can serve as an indication of the
            queuing delay at the node. If the transit delay exceeds 2<sup>31</sup>-1
            nanoseconds, then the top bit 'O' is set to indicate overflow and
            value set to 0x80000000. When this field is part of the data field
            but a node populating the field is not able to fill it, the field
            position in the field <span class="bcp14">MUST</span> be filled with value 0xFFFFFFFF to
     mean not populated.<a class="pilcrow" href="#section-4.4.2.5-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.5-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|O|                     transit delay                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.5-2">¶</a>
</div>
</section>
<section id="section-4.4.2.6">
            <h5 id="name-namespace-specific-data">
<a class="section-number selfRef" href="#section-4.4.2.6">4.4.2.6. </a><a class="section-name selfRef" href="#name-namespace-specific-data">Namespace-Specific Data</a>
            </h5>
<p id="section-4.4.2.6-1">The "namespace-specific data" field is a 4-octet field that
            can be used by the node to add IOAM-Namespace-specific data. This
            represents a "free-format" 4-octet bit field with its semantics
            defined in the context of a specific IOAM-Namespace.<a class="pilcrow" href="#section-4.4.2.6-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.6-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    namespace-specific data                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.6-2">¶</a>
</div>
</section>
<section id="section-4.4.2.7">
            <h5 id="name-queue-depth">
<a class="section-number selfRef" href="#section-4.4.2.7">4.4.2.7. </a><a class="section-name selfRef" href="#name-queue-depth">Queue Depth</a>
            </h5>
<p id="section-4.4.2.7-1">The "queue depth" field is a 4-octet unsigned integer field.
            This field indicates the current length of the egress interface
            queue of the interface from where the packet is forwarded out. The
            queue depth is expressed as the current amount of memory buffers
            used by the queue (a packet could consume one or more memory
            buffers, depending on its size).<a class="pilcrow" href="#section-4.4.2.7-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.7-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       queue depth                             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.7-2">¶</a>
</div>
</section>
<section id="section-4.4.2.8">
            <h5 id="name-checksum-complement">
<a class="section-number selfRef" href="#section-4.4.2.8">4.4.2.8. </a><a class="section-name selfRef" href="#name-checksum-complement">Checksum Complement</a>
            </h5>
<p id="section-4.4.2.8-1">The "Checksum Complement" field is a 4-octet node data that
            contains the Checksum Complement value. The Checksum
            Complement is useful when IOAM is transported over encapsulations
            that make use of a UDP transport, such as VXLAN-GPE or Geneve.
            Without the Checksum Complement, nodes adding IOAM node data 
            update the UDP Checksum field following the recommendation of the
     encapsulation protocols. When the Checksum Complement is
            present, an IOAM encapsulating node or IOAM transit node adding
            node data <span class="bcp14">MUST</span> carry out one of the following two alternatives
     in order to maintain the correctness of the UDP Checksum value:<a class="pilcrow" href="#section-4.4.2.8-1">¶</a></p>
<ol class="normal type-1" id="section-4.4.2.8-2" start="1" type="1">
       <li id="section-4.4.2.8-2.1">recompute the UDP Checksum field or<a class="pilcrow" href="#section-4.4.2.8-2.1">¶</a>
</li>
              <li id="section-4.4.2.8-2.2">use the Checksum Complement to make a checksum-neutral
                update in the UDP payload; the Checksum Complement is assigned
                a value that complements the rest of the node data fields that
                were added by the current node, causing the existing UDP
                Checksum field to remain correct.<a class="pilcrow" href="#section-4.4.2.8-2.2">¶</a>
</li>
            </ol>
<p id="section-4.4.2.8-3"> IOAM decapsulating nodes <span class="bcp14">MUST</span> recompute the UDP Checksum
            field, since they do not know whether previous hops modified the
            UDP Checksum field or the Checksum Complement field.<a class="pilcrow" href="#section-4.4.2.8-3">¶</a></p>
<p id="section-4.4.2.8-4"> Checksum Complement fields are used in a similar manner in
     <span>[<a class="xref" href="#RFC7820">RFC7820</a>]</span> and <span>[<a class="xref" href="#RFC7821">RFC7821</a>]</span>.<a class="pilcrow" href="#section-4.4.2.8-4">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.8-5">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Checksum Complement                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.8-5">¶</a>
</div>
</section>
<section id="section-4.4.2.9">
            <h5 id="name-hop_lim-and-node_id-wide">
<a class="section-number selfRef" href="#section-4.4.2.9">4.4.2.9. </a><a class="section-name selfRef" href="#name-hop_lim-and-node_id-wide">Hop_Lim and node_id Wide</a>
            </h5>
<p id="section-4.4.2.9-1">The "Hop_Lim and node_id wide" field is an 8-octet field
            defined as follows:<a class="pilcrow" href="#section-4.4.2.9-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.9-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                         node_id (contd)                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.9-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2.9-3">
              <dt id="section-4.4.2.9-3.1">Hop_Lim:</dt>
              <dd id="section-4.4.2.9-3.2" style="margin-left: 1.5em">1-octet unsigned integer. See <a class="xref" href="#Hop_Lim">Section 4.4.2.1</a>
       for the definition of the field.<a class="pilcrow" href="#section-4.4.2.9-3.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.4.2.9-3.3">node_id:</dt>
              <dd id="section-4.4.2.9-3.4" style="margin-left: 1.5em">7-octet unsigned integer. It is a node
                identifier field to uniquely identify a node within the
                IOAM-Namespace and associated IOAM-Domain. The procedure to
                allocate, manage, and map the node_ids is beyond the scope of
                this document.<a class="pilcrow" href="#section-4.4.2.9-3.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</section>
<section id="section-4.4.2.10">
            <h5 id="name-ingress_if_id-and-egress_if_">
<a class="section-number selfRef" href="#section-4.4.2.10">4.4.2.10. </a><a class="section-name selfRef" href="#name-ingress_if_id-and-egress_if_">ingress_if_id and egress_if_id Wide</a>
            </h5>
<p id="section-4.4.2.10-1">The "ingress_if_id and egress_if_id wide" field is an 8-octet
            field, which is defined as follows:<a class="pilcrow" href="#section-4.4.2.10-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.10-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       ingress_if_id                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       egress_if_id                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.10-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2.10-3">
              <dt id="section-4.4.2.10-3.1">ingress_if_id:</dt>
              <dd id="section-4.4.2.10-3.2" style="margin-left: 1.5em">4-octet unsigned integer.
                It is an interface identifier to record the ingress interface the
                packet was received on.<a class="pilcrow" href="#section-4.4.2.10-3.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.4.2.10-3.3">egress_if_id:</dt>
              <dd id="section-4.4.2.10-3.4" style="margin-left: 1.5em">4-octet unsigned integer.
                It is an interface identifier to record the egress interface the packet
                is forwarded out of.<a class="pilcrow" href="#section-4.4.2.10-3.4">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</section>
<section id="section-4.4.2.11">
            <h5 id="name-namespace-specific-data-wid">
<a class="section-number selfRef" href="#section-4.4.2.11">4.4.2.11. </a><a class="section-name selfRef" href="#name-namespace-specific-data-wid">Namespace-Specific Data Wide</a>
            </h5>
<p id="section-4.4.2.11-1">The "namespace-specific data wide" field is an 8-octet field
            that can be used by the node to add IOAM-Namespace-specific data.
            This represents a "free-format" 8-octet bit field with its
            semantics defined in the context of a specific
            IOAM-Namespace.<a class="pilcrow" href="#section-4.4.2.11-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.11-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    namespace-specific data                    ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                namespace-specific data (contd)                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.11-2">¶</a>
</div>
</section>
<section id="section-4.4.2.12">
            <h5 id="name-buffer-occupancy">
<a class="section-number selfRef" href="#section-4.4.2.12">4.4.2.12. </a><a class="section-name selfRef" href="#name-buffer-occupancy">Buffer Occupancy</a>
            </h5>
<p id="section-4.4.2.12-1">The "buffer occupancy" field is a 4-octet unsigned integer
            field. This field indicates the current status of the occupancy of
            the common buffer pool used by a set of queues. The units of this
            field are implementation specific. Hence, the units are
            interpreted within the context of an IOAM-Namespace and/or
            node identifier if used. The authors acknowledge that, in some operational
            cases, there is a need for the units to be consistent across a
            packet path through the network; hence, it is recommended for
            implementations to use standard units, such as bytes.<a class="pilcrow" href="#section-4.4.2.12-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.12-2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       buffer occupancy                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.12-2">¶</a>
</div>
</section>
<section id="section-4.4.2.13">
            <h5 id="name-opaque-state-snapshot">
<a class="section-number selfRef" href="#section-4.4.2.13">4.4.2.13. </a><a class="section-name selfRef" href="#name-opaque-state-snapshot">Opaque State Snapshot</a>
            </h5>
<p id="section-4.4.2.13-1">The "Opaque State Snapshot" field is a variable-length field and
            follows the fixed-length IOAM-Data-Fields defined above. It allows
            the network element to store an arbitrary state in the node data
            field without a predefined schema. The schema is to be defined
            within the context of an IOAM-Namespace. The schema needs to be
            made known to the analyzer by some out-of-band mechanism. The
            specification of this mechanism is beyond the scope of this
            document. A 24-bit "Schema ID" field, interpreted within the
            context of an IOAM-Namespace, indicates which particular schema is
            used and has to be configured on the network element by the
            operator.<a class="pilcrow" href="#section-4.4.2.13-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.2.13-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Length      |                     Schema ID                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                                                               |
|                        Opaque data                            |
~                                                               ~
.                                                               .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.2.13-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.4.2.13-3">
              <dt id="section-4.4.2.13-3.1">Length:</dt>
              <dd id="section-4.4.2.13-3.2" style="margin-left: 1.5em">1-octet unsigned integer. It is the
                length in multiples of 4 octets of the Opaque data field that
                follows Schema ID.<a class="pilcrow" href="#section-4.4.2.13-3.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.4.2.13-3.3">Schema ID:</dt>
              <dd id="section-4.4.2.13-3.4" style="margin-left: 1.5em">3-octet unsigned integer identifying
                the schema of Opaque data.<a class="pilcrow" href="#section-4.4.2.13-3.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.4.2.13-3.5">Opaque data:</dt>
              <dd id="section-4.4.2.13-3.6" style="margin-left: 1.5em">Variable-length field. This field
                is interpreted as specified by the schema identified by the
                Schema ID.<a class="pilcrow" href="#section-4.4.2.13-3.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.4.2.13-4">When this field is part of the data field, but a node
            populating the field has no opaque state data to report, the
            Length <span class="bcp14">MUST</span> be set to 0 and the Schema ID <span class="bcp14">MUST</span>
     be set to 0xFFFFFF to mean no schema.<a class="pilcrow" href="#section-4.4.2.13-4">¶</a></p>
</section>
</section>
</div>
<div id="trace-type-node-data">
<section id="section-4.4.3">
          <h4 id="name-examples-of-ioam-node-data">
<a class="section-number selfRef" href="#section-4.4.3">4.4.3. </a><a class="section-name selfRef" href="#name-examples-of-ioam-node-data">Examples of IOAM Node Data</a>
          </h4>
<p id="section-4.4.3-1">The format used for the entries in a packet's "node data list" 
          array can vary from packet to packet and deployment to deployment.
          Some deployments
          might only be interested in recording the node identifiers, whereas
          others might be interested in recording node identifiers and
          timestamps.
   This section provides example entries of the "node data
          list" array.<a class="pilcrow" href="#section-4.4.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.4.3-2">
            <dt id="section-4.4.3-2.1">0xD40000:</dt>
            <dd id="section-4.4.3-2.2" style="margin-left: 1.5em">
              <p id="section-4.4.3-2.2.1">If the IOAM Trace-Type is 0xD40000 (0b110101000000000000000000), then
     the format of node data is:<a class="pilcrow" href="#section-4.4.3-2.2.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.3-2.2.2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     ingress_if_id             |         egress_if_id          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     timestamp fraction                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    namespace-specific data                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.3-2.2.2">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.3-2.3">0xC00000:</dt>
            <dd id="section-4.4.3-2.4" style="margin-left: 1.5em">
              <p id="section-4.4.3-2.4.1">If the IOAM Trace-Type is 0xC00000 (0b110000000000000000000000), then
     the format is:<a class="pilcrow" href="#section-4.4.3-2.4.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.3-2.4.2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     ingress_if_id             |         egress_if_id          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.3-2.4.2">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.3-2.5">0x900000:</dt>
            <dd id="section-4.4.3-2.6" style="margin-left: 1.5em">
              <p id="section-4.4.3-2.6.1">If the IOAM Trace-Type is 0x900000 (0b100100000000000000000000), then
     the format is:<a class="pilcrow" href="#section-4.4.3-2.6.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.3-2.6.2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   timestamp fraction                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.3-2.6.2">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.3-2.7">0x840000:</dt>
            <dd id="section-4.4.3-2.8" style="margin-left: 1.5em">
              <p id="section-4.4.3-2.8.1">If the IOAM Trace-Type is 0x840000 (0b100001000000000000000000), then
     the format is:<a class="pilcrow" href="#section-4.4.3-2.8.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.3-2.8.2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    namespace-specific data                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.3-2.8.2">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.3-2.9">0x940000:</dt>
            <dd id="section-4.4.3-2.10" style="margin-left: 1.5em">
              <p id="section-4.4.3-2.10.1">If the IOAM Trace-Type is 0x940000 (0b100101000000000000000000), then
     the format is:<a class="pilcrow" href="#section-4.4.3-2.10.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.3-2.10.2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    timestamp fraction                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    namespace-specific data                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.3-2.10.2">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-4.4.3-2.11">0x308002:</dt>
            <dd id="section-4.4.3-2.12" style="margin-left: 1.5em">
              <p id="section-4.4.3-2.12.1">If the IOAM Trace-Type is 0x308002 (0b001100001000000000000010), then
     the format is:<a class="pilcrow" href="#section-4.4.3-2.12.1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4.3-2.12.2">
<pre> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      timestamp seconds                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    timestamp fraction                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Hop_Lim     |              node_id                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         node_id(contd)                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Length      |                     Schema ID                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                                                               |
|                        Opaque data                            |
~                                                               ~
.                                                               .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4.3-2.12.2">¶</a>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="IOAM_proof_of_transit_option">
<section id="section-4.5">
        <h3 id="name-ioam-proof-of-transit-optio">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-ioam-proof-of-transit-optio">IOAM Proof of Transit Option-Type</a>
        </h3>
<p id="section-4.5-1">The IOAM Proof of Transit Option-Type is used to support
        path or service function chain <span>[<a class="xref" href="#RFC7665">RFC7665</a>]</span> verification use cases, i.e., prove that
        traffic transited a defined path.

 While the details on how the
        IOAM data for the Proof of Transit Option-Type is processed at IOAM
        encapsulating, decapsulating, and transit nodes are outside
        the scope of the document, Proof of Transit approaches share
        the need to uniquely identify a packet, as well as iteratively
        operate on a set of information that is handed from node to
        node. Correspondingly, two pieces of information are added as
        IOAM-Data-Fields to the packet:<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.5-2">
          <dt id="section-4.5-2.1">PktID:</dt>
          <dd id="section-4.5-2.2" style="margin-left: 1.5em">unique identifier for the packet<a class="pilcrow" href="#section-4.5-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-2.3">Cumulative:</dt>
          <dd id="section-4.5-2.4" style="margin-left: 1.5em">information that is handed from node to node and
            updated by every node according to a verification algorithm<a class="pilcrow" href="#section-4.5-2.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.5-3">The IOAM Proof of Transit Option-Type consist of a fixed-size
        "IOAM Proof of Transit Option header" and "IOAM Proof of Transit
        Option data fields":<a class="pilcrow" href="#section-4.5-3">¶</a></p>
<p id="section-4.5-4">IOAM Proof of Transit Option header:<a class="pilcrow" href="#section-4.5-4">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.5-5">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Namespace-ID            |IOAM POT-Type  | IOAM POT flags|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.5-5">¶</a>
</div>
<p id="section-4.5-6">IOAM Proof of Transit Option-Type IOAM-Data-Fields <span class="bcp14">MUST</span> be 
 aligned by 4 octets:<a class="pilcrow" href="#section-4.5-6">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.5-7">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       POT Option data field determined by IOAM POT-Type       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.5-7">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.5-8">
          <dt id="section-4.5-8.1">Namespace-ID:</dt>
          <dd id="section-4.5-8.2" style="margin-left: 1.5em">16-bit identifier of an
            IOAM-Namespace. The Namespace-ID value of 0x0000 is defined as the
            "Default-Namespace-ID" (see <a class="xref" href="#ioam_namespaces">Section 4.3</a>) 
 and <span class="bcp14">MUST</span> be known to all the nodes implementing
            IOAM. For any other Namespace-ID value that does not match any
            Namespace-ID the node is configured to operate on, the node <span class="bcp14">MUST NOT</span> change the contents of the IOAM-Data-Fields.<a class="pilcrow" href="#section-4.5-8.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-8.3">IOAM POT-Type:</dt>
          <dd id="section-4.5-8.4" style="margin-left: 1.5em">
            <p id="section-4.5-8.4.1">8-bit identifier of a particular POT
            variant that specifies the POT data that is included. This
            document defines IOAM POT-Type 0:<a class="pilcrow" href="#section-4.5-8.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.5-8.4.2">
              <dt id="section-4.5-8.4.2.1">0:</dt>
              <dd id="section-4.5-8.4.2.2" style="margin-left: 1.5em">POT data is a 16-octet field to carry data associated to POT
       procedures.<a class="pilcrow" href="#section-4.5-8.4.2.2">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.5-8.4.3">
            If a node receives an IOAM POT-Type value that it does not
            understand, the node <span class="bcp14">MUST NOT</span> change, add to, or remove 
            the contents of the IOAM-Data-Fields.<a class="pilcrow" href="#section-4.5-8.4.3">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-8.5">IOAM POT flags:</dt>
          <dd id="section-4.5-8.6" style="margin-left: 1.5em">8 bits. This document does not define any flags. Bits 0-7 are 
          available for assignment (see <a class="xref" href="#pot-flags-sec">Section 7.5</a>). 
          Bits that have not been assigned <span class="bcp14">MUST</span> be set to zero upon 
          transmission and be ignored upon receipt.<a class="pilcrow" href="#section-4.5-8.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.5-8.7">POT Option data:</dt>
          <dd id="section-4.5-8.8" style="margin-left: 1.5em">Variable-length field. The type of
            which is determined by the IOAM POT-Type.<a class="pilcrow" href="#section-4.5-8.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<section id="section-4.5.1">
          <h4 id="name-ioam-proof-of-transit-type-">
<a class="section-number selfRef" href="#section-4.5.1">4.5.1. </a><a class="section-name selfRef" href="#name-ioam-proof-of-transit-type-">IOAM Proof of Transit Type 0</a>
          </h4>
<p id="section-4.5.1-1">IOAM Proof of Transit Option of IOAM POT-Type 0:<a class="pilcrow" href="#section-4.5.1-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.5.1-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Namespace-ID           |IOAM POT-Type=0|R R R R R R R R|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+&lt;-+
|                        PktID                                  |  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  P
|                        PktID (contd)                          |  O
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  T
|                        Cumulative                             |  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  |
|                        Cumulative (contd)                     |  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+&lt;-+
</pre><a class="pilcrow" href="#section-4.5.1-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.5.1-3">
            <dt id="section-4.5.1-3.1">Namespace-ID:</dt>
            <dd id="section-4.5.1-3.2" style="margin-left: 1.5em">16-bit identifier of an
              IOAM-Namespace (see <a class="xref" href="#ioam_namespaces">Section 4.3</a> 
              above).<a class="pilcrow" href="#section-4.5.1-3.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.5.1-3.3">IOAM POT-Type:</dt>
            <dd id="section-4.5.1-3.4" style="margin-left: 1.5em">8-bit identifier of a particular
              POT variant that specifies the POT data that is included 
              (see <a class="xref" href="#IOAM_proof_of_transit_option">Section 4.5</a> 
              above). For this case here, IOAM POT-Type is set to the value 0.<a class="pilcrow" href="#section-4.5.1-3.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.5.1-3.5">Bit 0-7:</dt>
            <dd id="section-4.5.1-3.6" style="margin-left: 1.5em">Undefined (see <a class="xref" href="#IOAM_proof_of_transit_option">Section 4.5</a> 
              above).<a class="pilcrow" href="#section-4.5.1-3.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.5.1-3.7">PktID:</dt>
            <dd id="section-4.5.1-3.8" style="margin-left: 1.5em">64-bit packet identifier.<a class="pilcrow" href="#section-4.5.1-3.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.5.1-3.9">Cumulative:</dt>
            <dd id="section-4.5.1-3.10" style="margin-left: 1.5em">64-bit Cumulative that is updated at
              specific nodes by processing per packet PktID field and
              configured parameters.<a class="pilcrow" href="#section-4.5.1-3.10">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<aside id="section-4.5.1-4">
            <p id="section-4.5.1-4.1">Note: Larger or smaller sizes of "PktID" and "Cumulative"
          data are feasible and could be required for certain deployments,
          e.g., in case of space constraints in the encapsulation protocols
          used. Future documents could introduce different sizes of data for
          "Proof of Transit".<a class="pilcrow" href="#section-4.5.1-4.1">¶</a></p>
</aside>
</section>
</section>
</div>
<div id="IOAM_edge_to_edge_opt">
<section id="section-4.6">
        <h3 id="name-ioam-edge-to-edge-option-ty">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-ioam-edge-to-edge-option-ty">IOAM Edge-to-Edge Option-Type</a>
        </h3>
<p id="section-4.6-1">The IOAM Edge-to-Edge Option-Type carries data that is added by
        the IOAM encapsulating node and interpreted by the IOAM decapsulating
        node. The IOAM transit nodes <span class="bcp14">MAY</span> process the data but <span class="bcp14">MUST NOT</span> modify
        it.<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<p id="section-4.6-2">The IOAM Edge-to-Edge Option-Type consist of a fixed-size "IOAM
        Edge-to-Edge Option-Type header" and "IOAM Edge-to-Edge Option-Type
        data fields":<a class="pilcrow" href="#section-4.6-2">¶</a></p>
<p id="section-4.6-3">IOAM Edge-to-Edge Option-Type header:<a class="pilcrow" href="#section-4.6-3">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.6-4">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Namespace-ID           |         IOAM E2E-Type         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.6-4">¶</a>
</div>
<p id="section-4.6-5">The IOAM Edge-to-Edge Option-Type IOAM-Data-Fields <span class="bcp14">MUST</span>
 be aligned by 4 octets:<a class="pilcrow" href="#section-4.6-5">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.6-6">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       E2E Option data field determined by IOAM-E2E-Type       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.6-6">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.6-7">
          <dt id="section-4.6-7.1">Namespace-ID:</dt>
          <dd id="section-4.6-7.2" style="margin-left: 1.5em">16-bit identifier of an
            IOAM-Namespace. The Namespace-ID value of 0x0000 is defined as the
            "Default-Namespace-ID" (see <a class="xref" href="#ioam_namespaces">Section 4.3</a>)
 and <span class="bcp14">MUST</span> be known to all the nodes implementing
            IOAM. For any other Namespace-ID value that does not match any
            Namespace-ID the node is configured to operate on, the node
            <span class="bcp14">MUST NOT</span> change the contents of the IOAM-Data-Fields.<a class="pilcrow" href="#section-4.6-7.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.6-7.3">IOAM-E2E-Type:</dt>
          <dd id="section-4.6-7.4" style="margin-left: 1.5em">
            <p id="section-4.6-7.4.1">16-bit identifier that specifies
            which data types are used in the E2E Option data. The
            IOAM-E2E-Type value is a bit field. The order of packing the E2E
            Option data field elements follows the bit order of the
            IOAM E2E-Type field as follows:<a class="pilcrow" href="#section-4.6-7.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.6-7.4.2">
              <dt id="section-4.6-7.4.2.1">Bit 0</dt>
              <dd id="section-4.6-7.4.2.2" style="margin-left: 4.5em">Most significant bit. When set, it indicates the
                presence of a 64-bit sequence number added to a specific
                "packet group" that is used to detect packet loss, packet
                reordering, or packet duplication within the group. The
                "packet group" is deployment dependent and defined at the IOAM
                encapsulating node, e.g., by n-tuple-based classification of
                packets. When this bit is set, "Bit 1" (for a 32-bit sequence
                number, see below) <span class="bcp14">MUST</span> be zero.<a class="pilcrow" href="#section-4.6-7.4.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.6-7.4.2.3">Bit 1</dt>
              <dd id="section-4.6-7.4.2.4" style="margin-left: 4.5em">When set, it indicates the presence of a 32-bit
                sequence number added to a specific "packet group" that is
                used to detect packet loss, packet reordering, or packet
                duplication within that group. The "packet group" is
                deployment dependent and defined at the IOAM encapsulating
                node, e.g., by n-tuple-based classification of packets. 
                When this bit is set, "Bit 0" (for a 64-bit sequence
                number, see above) <span class="bcp14">MUST</span> be zero.<a class="pilcrow" href="#section-4.6-7.4.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.6-7.4.2.5">Bit 2</dt>
              <dd id="section-4.6-7.4.2.6" style="margin-left: 4.5em">When set, it indicates the presence of timestamp
                seconds, representing the time at which the packet entered the
                IOAM-Domain. Within the IOAM encapsulating node, the time that
                the timestamp is retrieved can depend on the implementation.
                Some possibilities are 1) the time at which the packet was
                received by the node, 2) the time at which the packet was
                transmitted by the node, or 3) when a tunnel encapsulation is
                used, the point at which the packet is encapsulated into the
                tunnel. Each implementation has to document when the E2E
                timestamp that is going to be put in the packet is retrieved.
                This 4-octet field has three possible formats, based on either
                PTP (see e.g., <span>[<a class="xref" href="#RFC8877">RFC8877</a>]</span>), NTP <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>,
                or POSIX <span>[<a class="xref" href="#POSIX">POSIX</a>]</span>. The three timestamp
 formats
                are specified in <a class="xref" href="#TimestampSec">Section 5</a>. In all
 three
                cases, the timestamp seconds field contains the 32 most
                significant bits of the timestamp format that is specified in
                <a class="xref" href="#TimestampSec">Section 5</a>. If a node is not capable of
                populating this field, it assigns the value 0xFFFFFFFF. Note
                that this is a legitimate value that is valid for 1 second in
                approximately 136 years; the analyzer has to correlate several
                packets or compare the timestamp value to its own time of day
                in order to detect the error indication.<a class="pilcrow" href="#section-4.6-7.4.2.6">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.6-7.4.2.7">Bit 3</dt>
              <dd id="section-4.6-7.4.2.8" style="margin-left: 4.5em">When set, it indicates the presence of timestamp
                fraction, representing the time at which the packet entered
                the IOAM-Domain. This 4-octet field has three possible
                formats, based on either PTP (see e.g., <span>[<a class="xref" href="#RFC8877">RFC8877</a>]</span>), NTP
                <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>, or POSIX <span>[<a class="xref" href="#POSIX">POSIX</a>]</span>. The
                three timestamp formats are specified in <a class="xref" href="#TimestampSec">Section 5</a>. In all three cases, the timestamp
                fraction field contains the 32 least significant bits of the
                timestamp format that is specified in <a class="xref" href="#TimestampSec">Section 5</a>. If a node is not capable of
                populating this field, it assigns the value 0xFFFFFFFF. Note
                that this is a legitimate value in the NTP format, valid for
                approximately 233 picoseconds in every second. If the NTP
                format is used, the analyzer has to correlate several packets
                in order to detect the error indication.<a class="pilcrow" href="#section-4.6-7.4.2.8">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.6-7.4.2.9">Bit 4-15</dt>
              <dd id="section-4.6-7.4.2.10" style="margin-left: 4.5em">Undefined. An IOAM encapsulating node
              <span class="bcp14">MUST</span> set the value of these bits to zero upon transmission
       and ignore them upon receipt.<a class="pilcrow" href="#section-4.6-7.4.2.10">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-4.6-7.5">E2E Option data:</dt>
          <dd id="section-4.6-7.6" style="margin-left: 1.5em">Variable-length field. The type of
            which is determined by the IOAM E2E-Type.<a class="pilcrow" href="#section-4.6-7.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="TimestampSec">
<section id="section-5">
      <h2 id="name-timestamp-formats">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-timestamp-formats">Timestamp Formats</a>
      </h2>
<p id="section-5-1">The IOAM-Data-Fields include a timestamp field that is represented
      in one of three possible timestamp formats. It is assumed that the
      management plane is responsible for determining which timestamp format
      is used.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="PTPFromatSec">
<section id="section-5.1">
        <h3 id="name-ptp-truncated-timestamp-for">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-ptp-truncated-timestamp-for">PTP Truncated Timestamp Format</a>
        </h3>
<p id="section-5.1-1">The Precision Time Protocol (PTP) uses
        an 80-bit timestamp format. The truncated timestamp format is a 64-bit
        field, which is the 64 least significant bits of the 80-bit PTP
        timestamp. The PTP truncated format is specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8877#section-4.3">Section 4.3</a> of [<a class="xref" href="#RFC8877">RFC8877</a>]</span>, and the details are
        presented below for the sake of completeness.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Seconds                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          Nanoseconds                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-5.1-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.1-3">
          <dt id="section-5.1-3.1">Timestamp field format:</dt>
          <dd id="section-5.1-3.2" style="margin-left: 1.5em">
            <span class="break"></span><dl class="dlParallel" id="section-5.1-3.2.1">
              <dt id="section-5.1-3.2.1.1">Seconds:</dt>
              <dd id="section-5.1-3.2.1.2" style="margin-left: 1.5em">
                <p id="section-5.1-3.2.1.2.1">Specifies the integer portion of the number of seconds
            since the PTP epoch<a class="pilcrow" href="#section-5.1-3.2.1.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.1-3.2.1.2.2">
                  <dt id="section-5.1-3.2.1.2.2.1">Size:</dt>
                  <dd id="section-5.1-3.2.1.2.2.2" style="margin-left: 1.5em">32 bits<a class="pilcrow" href="#section-5.1-3.2.1.2.2.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-5.1-3.2.1.2.2.3">Units:</dt>
                  <dd id="section-5.1-3.2.1.2.2.4" style="margin-left: 1.5em">seconds<a class="pilcrow" href="#section-5.1-3.2.1.2.2.4">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
              <dd class="break"></dd>
<dt id="section-5.1-3.2.1.3">Nanoseconds:</dt>
              <dd id="section-5.1-3.2.1.4" style="margin-left: 1.5em">
                <p id="section-5.1-3.2.1.4.1">Specifies the fractional portion of the number of
            seconds since the PTP epoch<a class="pilcrow" href="#section-5.1-3.2.1.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.1-3.2.1.4.2">
                  <dt id="section-5.1-3.2.1.4.2.1">Size:</dt>
                  <dd id="section-5.1-3.2.1.4.2.2" style="margin-left: 1.5em">32 bits<a class="pilcrow" href="#section-5.1-3.2.1.4.2.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-5.1-3.2.1.4.2.3">Units:</dt>
                  <dd id="section-5.1-3.2.1.4.2.4" style="margin-left: 1.5em">nanoseconds. The value of this field is in the range 0
              to (10<sup>9</sup>)-1.<a class="pilcrow" href="#section-5.1-3.2.1.4.2.4">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.3">Epoch: </dt>
          <dd id="section-5.1-3.4" style="margin-left: 1.5em">PTP epoch. For details, see e.g., <span>[<a class="xref" href="#RFC8877">RFC8877</a>]</span>.<a class="pilcrow" href="#section-5.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.5">Resolution: </dt>
          <dd id="section-5.1-3.6" style="margin-left: 1.5em">The resolution is 1 nanosecond.<a class="pilcrow" href="#section-5.1-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.7">Wraparound:</dt>
          <dd id="section-5.1-3.8" style="margin-left: 1.5em">This time format wraps around every 2<sup>32</sup> seconds, which is
        roughly 136 years. The next wraparound will occur in the year
        2106.<a class="pilcrow" href="#section-5.1-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.9">Synchronization Aspects: </dt>
          <dd id="section-5.1-3.10" style="margin-left: 1.5em">It is assumed that the nodes that run this protocol are
        synchronized among themselves. Nodes <span class="bcp14">MAY</span> be
        synchronized to a global reference time. Note that if PTP is
        used for synchronization, the timestamp <span class="bcp14">MAY</span> be
        derived from the PTP-synchronized clock, allowing the
        timestamp to be measured with respect to the clock of a PTP
        Grandmaster clock.<a class="pilcrow" href="#section-5.1-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="NTPFormatSec">
<section id="section-5.2">
        <h3 id="name-ntp-64-bit-timestamp-format">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-ntp-64-bit-timestamp-format">NTP 64-Bit Timestamp Format</a>
        </h3>
<p id="section-5.2-1">The Network Time Protocol (NTP) <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>
 timestamp format is 64 bits long. This specification uses the 
 NTP timestamp format that is specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8877#section-4.2.1">Section 4.2.1</a> of [<a class="xref" href="#RFC8877">RFC8877</a>]</span>, and the details are
        presented below for the sake of completeness.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Seconds                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Fraction                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-5.2-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.2-3">
          <dt id="section-5.2-3.1">Timestamp field format: </dt>
          <dd id="section-5.2-3.2" style="margin-left: 1.5em">
            <span class="break"></span><dl class="dlParallel" id="section-5.2-3.2.1">
              <dt id="section-5.2-3.2.1.1">Seconds:</dt>
              <dd id="section-5.2-3.2.1.2" style="margin-left: 1.5em">
                <p id="section-5.2-3.2.1.2.1">specifies the integer portion of the number of seconds
              since the NTP epoch<a class="pilcrow" href="#section-5.2-3.2.1.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.2-3.2.1.2.2">
                  <dt id="section-5.2-3.2.1.2.2.1">Size:</dt>
                  <dd id="section-5.2-3.2.1.2.2.2" style="margin-left: 1.5em">32 bits<a class="pilcrow" href="#section-5.2-3.2.1.2.2.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-5.2-3.2.1.2.2.3">Units:</dt>
                  <dd id="section-5.2-3.2.1.2.2.4" style="margin-left: 1.5em">seconds<a class="pilcrow" href="#section-5.2-3.2.1.2.2.4">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
              <dd class="break"></dd>
<dt id="section-5.2-3.2.1.3">Fraction:</dt>
              <dd id="section-5.2-3.2.1.4" style="margin-left: 1.5em">
                <p id="section-5.2-3.2.1.4.1">specifies the fractional portion of the number of
            seconds since the NTP epoch<a class="pilcrow" href="#section-5.2-3.2.1.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.2-3.2.1.4.2">
                  <dt id="section-5.2-3.2.1.4.2.1">Size:</dt>
                  <dd id="section-5.2-3.2.1.4.2.2" style="margin-left: 1.5em">32 bits<a class="pilcrow" href="#section-5.2-3.2.1.4.2.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-5.2-3.2.1.4.2.3">Units:</dt>
                  <dd id="section-5.2-3.2.1.4.2.4" style="margin-left: 1.5em">the unit is 2<sup>(-32)</sup> seconds, which is roughly equal to
              233 picoseconds.<a class="pilcrow" href="#section-5.2-3.2.1.4.2.4">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.3">Epoch: </dt>
          <dd id="section-5.2-3.4" style="margin-left: 1.5em">NTP epoch. For details, see <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>.<a class="pilcrow" href="#section-5.2-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.5">Resolution:</dt>
          <dd id="section-5.2-3.6" style="margin-left: 1.5em">The resolution is 2<sup>(-32)</sup> seconds.<a class="pilcrow" href="#section-5.2-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.7">Wraparound:</dt>
          <dd id="section-5.2-3.8" style="margin-left: 1.5em">This time format wraps around every 2<sup>32</sup> seconds, which is
            roughly 136 years. The next wraparound will occur in the year
            2036.<a class="pilcrow" href="#section-5.2-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.9">Synchronization Aspects:</dt>
          <dd id="section-5.2-3.10" style="margin-left: 1.5em">Nodes that use this timestamp format will typically be
        synchronized to UTC using NTP <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>. Thus, the
        timestamp <span class="bcp14">MAY</span> be derived from the NTP-synchronized clock, allowing
        the timestamp to be measured with respect to the clock of an NTP
        server.<a class="pilcrow" href="#section-5.2-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="POSIXFormatSec">
<section id="section-5.3">
        <h3 id="name-posix-based-timestamp-forma">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-posix-based-timestamp-forma">POSIX-Based Timestamp Format</a>
        </h3>
<p id="section-5.3-1">This timestamp format is based on the POSIX time format <span>[<a class="xref" href="#POSIX">POSIX</a>]</span>. The detailed specification of the timestamp format
        used in this document is presented below.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.3-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Seconds                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          Microseconds                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-5.3-2">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3-3">
          <dt id="section-5.3-3.1">Timestamp field format:</dt>
          <dd id="section-5.3-3.2" style="margin-left: 1.5em">
            <span class="break"></span><dl class="dlParallel" id="section-5.3-3.2.1">
              <dt id="section-5.3-3.2.1.1">Seconds:</dt>
              <dd id="section-5.3-3.2.1.2" style="margin-left: 1.5em">
                <p id="section-5.3-3.2.1.2.1">specifies the integer portion of the number of seconds
              since the POSIX epoch<a class="pilcrow" href="#section-5.3-3.2.1.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.3-3.2.1.2.2">
                  <dt id="section-5.3-3.2.1.2.2.1">Size:</dt>
                  <dd id="section-5.3-3.2.1.2.2.2" style="margin-left: 1.5em">32 bits<a class="pilcrow" href="#section-5.3-3.2.1.2.2.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-5.3-3.2.1.2.2.3">Units:</dt>
                  <dd id="section-5.3-3.2.1.2.2.4" style="margin-left: 1.5em">seconds<a class="pilcrow" href="#section-5.3-3.2.1.2.2.4">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
              <dd class="break"></dd>
<dt id="section-5.3-3.2.1.3">Microseconds:</dt>
              <dd id="section-5.3-3.2.1.4" style="margin-left: 1.5em">
                <p id="section-5.3-3.2.1.4.1">specifies the fractional portion of the number of
              seconds since the POSIX epoch<a class="pilcrow" href="#section-5.3-3.2.1.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.3-3.2.1.4.2">
                  <dt id="section-5.3-3.2.1.4.2.1">Size:</dt>
                  <dd id="section-5.3-3.2.1.4.2.2" style="margin-left: 1.5em">32 bits<a class="pilcrow" href="#section-5.3-3.2.1.4.2.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-5.3-3.2.1.4.2.3">Units:</dt>
                  <dd id="section-5.3-3.2.1.4.2.4" style="margin-left: 1.5em">the unit is microseconds. The value of this field is
 in the range 0 to (10<sup>6</sup>)-1.<a class="pilcrow" href="#section-5.3-3.2.1.4.2.4">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.3">Epoch:</dt>
          <dd id="section-5.3-3.4" style="margin-left: 1.5em">POSIX epoch. For details, see <span>[<a class="xref" href="#POSIX">POSIX</a>]</span>,
     Appendix A.4.16.<a class="pilcrow" href="#section-5.3-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.5">Resolution:</dt>
          <dd id="section-5.3-3.6" style="margin-left: 1.5em">The resolution is 1 microsecond.<a class="pilcrow" href="#section-5.3-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.7">Wraparound: </dt>
          <dd id="section-5.3-3.8" style="margin-left: 1.5em">This time format wraps around every 2<sup>32</sup> seconds, which is
            roughly 136 years. The next wraparound will occur in the year
            2106.<a class="pilcrow" href="#section-5.3-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.9">Synchronization Aspects: </dt>
          <dd id="section-5.3-3.10" style="margin-left: 1.5em">It is assumed that nodes that use this timestamp format run the
            Linux operating system and hence use the POSIX time. In some
            cases, nodes <span class="bcp14">MAY</span> be synchronized to UTC using a synchronization
            mechanism that is outside the scope of this document, such as NTP
            <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>. Thus, the timestamp
     <span class="bcp14">MAY</span> be derived from
            the NTP-synchronized clock, allowing the timestamp to be measured
            with respect to the clock of an NTP server.<a class="pilcrow" href="#section-5.3-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="export">
<section id="section-6">
      <h2 id="name-ioam-data-export">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-ioam-data-export">IOAM Data Export</a>
      </h2>
<p id="section-6-1">IOAM nodes collect information for packets traversing a domain that
      supports IOAM. IOAM decapsulating nodes, as well as IOAM transit nodes,
      can choose to retrieve IOAM information from the packet, process the
      information further, and export the information using e.g., IP Flow Information Export
      (IPFIX). The
      mechanisms and associated data formats for exporting IOAM data are
      outside the scope of this document.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">A way to perform raw data export of IOAM data 
      using IPFIX is discussed in <span>[<a class="xref" href="#I-D.spiegel-ippm-ioam-rawexport">IPPM-IOAM-RAWEXPORT</a>]</span>.<a class="pilcrow" href="#section-6-2">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">IANA has defined a registry group named
   "In Situ OAM (IOAM)".<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">This group includes the following registries:<a class="pilcrow" href="#section-7-2">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7-3.1">IOAM Option-Type<a class="pilcrow" href="#section-7-3.1">¶</a>
</li>
        <li class="normal ulEmpty" id="section-7-3.2">IOAM Trace-Type<a class="pilcrow" href="#section-7-3.2">¶</a>
</li>
        <li class="normal ulEmpty" id="section-7-3.3">IOAM Trace-Flags<a class="pilcrow" href="#section-7-3.3">¶</a>
</li>
        <li class="normal ulEmpty" id="section-7-3.4">IOAM POT-Type<a class="pilcrow" href="#section-7-3.4">¶</a>
</li>
        <li class="normal ulEmpty" id="section-7-3.5">IOAM POT-Flags<a class="pilcrow" href="#section-7-3.5">¶</a>
</li>
        <li class="normal ulEmpty" id="section-7-3.6">IOAM E2E-Type<a class="pilcrow" href="#section-7-3.6">¶</a>
</li>
        <li class="normal ulEmpty" id="section-7-3.7">IOAM Namespace-ID<a class="pilcrow" href="#section-7-3.7">¶</a>
</li>
      </ul>
<p id="section-7-4">The subsequent subsections detail the registries therein
      contained.<a class="pilcrow" href="#section-7-4">¶</a></p>
<div id="IOAM-type-registry">
<section id="section-7.1">
        <h3 id="name-ioam-option-type-registry">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-ioam-option-type-registry">IOAM Option-Type Registry</a>
        </h3>
<p id="section-7.1-1">This registry defines 128 code points for the IOAM
        Option-Type field for identifying IOAM-Option-Types, as
        explained in <a class="xref" href="#IOAM_option_format">Section 4</a>. The following code points are defined in
        this document:<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-2">
          <dt id="section-7.1-2.1">0:</dt>
          <dd id="section-7.1-2.2" style="margin-left: 1.5em">IOAM Pre-allocated Trace Option-Type<a class="pilcrow" href="#section-7.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.3">1:</dt>
          <dd id="section-7.1-2.4" style="margin-left: 1.5em">IOAM Incremental Trace Option-Type<a class="pilcrow" href="#section-7.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.5">2:</dt>
          <dd id="section-7.1-2.6" style="margin-left: 1.5em">IOAM POT Option-Type<a class="pilcrow" href="#section-7.1-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.7">3:</dt>
          <dd id="section-7.1-2.8" style="margin-left: 1.5em">IOAM E2E Option-Type<a class="pilcrow" href="#section-7.1-2.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.1-3">Code points 4-127 are available for assignment via the "IETF Review" process,
        as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.1-3">¶</a></p>
<p id="section-7.1-4">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.1-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-5">
          <dt id="section-7.1-5.1">Name:</dt>
          <dd id="section-7.1-5.2" style="margin-left: 1.5em">name of the newly registered Option-Type<a class="pilcrow" href="#section-7.1-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-5.3">Code point:</dt>
          <dd id="section-7.1-5.4" style="margin-left: 1.5em">desired value of the requested code point<a class="pilcrow" href="#section-7.1-5.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-5.5">Description:</dt>
          <dd id="section-7.1-5.6" style="margin-left: 1.5em">brief description of the newly registered Option-Type<a class="pilcrow" href="#section-7.1-5.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-5.7">Reference:</dt>
          <dd id="section-7.1-5.8" style="margin-left: 1.5em">reference to the document that defines the new Option-Type<a class="pilcrow" href="#section-7.1-5.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.1-6">The evaluation of a new registration request <span class="bcp14">MUST</span> also include
        checking whether the new IOAM-Option-Type includes an
        IOAM-Namespace field and that the IOAM-Namespace field is the first
        field in the newly defined header of the new Option-Type.<a class="pilcrow" href="#section-7.1-6">¶</a></p>
</section>
</div>
<div id="ioam-trace-type-registry">
<section id="section-7.2">
        <h3 id="name-ioam-trace-type-registry">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-ioam-trace-type-registry">IOAM Trace-Type Registry</a>
        </h3>
<p id="section-7.2-1">This registry defines code points for each bit in the 24-bit
        IOAM Trace-Type field for the Pre-allocated Trace Option-Type and Incremental
        Trace Option-Type defined in <a class="xref" href="#IOAM_tracing_option">Section 4.4</a>. Bits 0-11 are defined in this document in
        <a class="xref" href="#IOAMTraceType">Paragraph 5</a> of <a class="xref" href="#TraceOptionDef">Section 4.4.1</a>:<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-2">
          <dt id="section-7.2-2.1">Bit 0:</dt>
          <dd id="section-7.2-2.2" style="margin-left: 1.5em">hop_Lim and node_id in short format<a class="pilcrow" href="#section-7.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.3">Bit 1:</dt>
          <dd id="section-7.2-2.4" style="margin-left: 1.5em">ingress_if_id and egress_if_id in short
            format<a class="pilcrow" href="#section-7.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.5">Bit 2:</dt>
          <dd id="section-7.2-2.6" style="margin-left: 1.5em">timestamp seconds<a class="pilcrow" href="#section-7.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.7">Bit 3:</dt>
          <dd id="section-7.2-2.8" style="margin-left: 1.5em">timestamp fraction<a class="pilcrow" href="#section-7.2-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.9">Bit 4:</dt>
          <dd id="section-7.2-2.10" style="margin-left: 1.5em">transit delay<a class="pilcrow" href="#section-7.2-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.11">Bit 5:</dt>
          <dd id="section-7.2-2.12" style="margin-left: 1.5em">namespace-specific data in short format<a class="pilcrow" href="#section-7.2-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.13">Bit 6:</dt>
          <dd id="section-7.2-2.14" style="margin-left: 1.5em">queue depth<a class="pilcrow" href="#section-7.2-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.15">Bit 7:</dt>
          <dd id="section-7.2-2.16" style="margin-left: 1.5em">checksum complement<a class="pilcrow" href="#section-7.2-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.17">Bit 8:</dt>
          <dd id="section-7.2-2.18" style="margin-left: 1.5em">hop_Lim and node_id in wide format<a class="pilcrow" href="#section-7.2-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.19">Bit 9:</dt>
          <dd id="section-7.2-2.20" style="margin-left: 1.5em">ingress_if_id and egress_if_id in wide
            format<a class="pilcrow" href="#section-7.2-2.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.21">Bit 10:</dt>
          <dd id="section-7.2-2.22" style="margin-left: 1.5em">namespace-specific data in wide format<a class="pilcrow" href="#section-7.2-2.22">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.23">Bit 11:</dt>
          <dd id="section-7.2-2.24" style="margin-left: 1.5em">buffer occupancy<a class="pilcrow" href="#section-7.2-2.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.25">Bit 22:</dt>
          <dd id="section-7.2-2.26" style="margin-left: 1.5em">variable-length Opaque State Snapshot<a class="pilcrow" href="#section-7.2-2.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.27">Bit 23:</dt>
          <dd id="section-7.2-2.28" style="margin-left: 1.5em">reserved<a class="pilcrow" href="#section-7.2-2.28">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.2-3">Bits 12-21 are available for assignment
        via the "IETF Review" process, as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.2-3">¶</a></p>
<p id="section-7.2-4">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.2-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-5">
          <dt id="section-7.2-5.1">Bit:</dt>
          <dd id="section-7.2-5.2" style="margin-left: 1.5em">desired bit to be allocated in the 24-bit
             IOAM Trace Option-Type field for the Pre-allocated Trace Option-Type
              and Incremental Trace Option-Type<a class="pilcrow" href="#section-7.2-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-5.3">Description:</dt>
          <dd id="section-7.2-5.4" style="margin-left: 1.5em">brief description of the newly registered bit<a class="pilcrow" href="#section-7.2-5.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-5.5">Reference:</dt>
          <dd id="section-7.2-5.6" style="margin-left: 1.5em">reference to the document that defines the new bit<a class="pilcrow" href="#section-7.2-5.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="Flags-Registry-Sec">
<section id="section-7.3">
        <h3 id="name-ioam-trace-flags-registry">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-ioam-trace-flags-registry">IOAM Trace-Flags Registry</a>
        </h3>
<p id="section-7.3-1">This registry defines code points for each bit in the 4-bit flags
        for the Pre-allocated Trace-Option and Incremental Trace-Option defined in
 <a class="xref" href="#IOAM_tracing_option">Section 4.4</a>. The
 meaning of
        Bit 0 (the most significant bit) for trace flags is defined in this
        document in <a class="xref" href="#TraceFlags">Paragraph 3</a> of <a class="xref" href="#TraceOptionDef">Section 4.4.1</a>:<a class="pilcrow" href="#section-7.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-2">
          <dt id="section-7.3-2.1">Bit 0:</dt>
          <dd id="section-7.3-2.2" style="margin-left: 1.5em">"Overflow" (O-bit)<a class="pilcrow" href="#section-7.3-2.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.3-3">Bits 1-3 are available for assignment via the "IETF Review"
        process, as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.3-3">¶</a></p>
<p id="section-7.3-4">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.3-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.3-5">
          <dt id="section-7.3-5.1">Bit:</dt>
          <dd id="section-7.3-5.2" style="margin-left: 1.5em">desired bit to be allocated 
          in the 8-bit flags field of the Pre-allocated 
          Trace Option-Type and Incremental Trace Option-Type<a class="pilcrow" href="#section-7.3-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-5.3">Description:</dt>
          <dd id="section-7.3-5.4" style="margin-left: 1.5em">brief description of the newly registered bit<a class="pilcrow" href="#section-7.3-5.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.3-5.5">Reference:</dt>
          <dd id="section-7.3-5.6" style="margin-left: 1.5em">reference to the document that defines the new bit<a class="pilcrow" href="#section-7.3-5.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-7.4">
        <h3 id="name-ioam-pot-type-registry">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-ioam-pot-type-registry">IOAM POT-Type Registry</a>
        </h3>
<p id="section-7.4-1">This registry defines 256 code points to define the IOAM POT-Type for the
        IOAM Proof of Transit Option (<a class="xref" href="#IOAM_proof_of_transit_option">Section 4.5</a>). The code point value 0 is
        defined in this document:<a class="pilcrow" href="#section-7.4-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-2">
          <dt id="section-7.4-2.1">0:</dt>
          <dd id="section-7.4-2.2" style="margin-left: 1.5em">16-Octet POT data<a class="pilcrow" href="#section-7.4-2.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.4-3">Code points 1-255 are available for assignment via the "IETF Review"
        process, as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.4-3">¶</a></p>
<p id="section-7.4-4">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.4-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-5">
          <dt id="section-7.4-5.1">Name:</dt>
          <dd id="section-7.4-5.2" style="margin-left: 1.5em">name of the newly registered POT-Type<a class="pilcrow" href="#section-7.4-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-5.3">Code point:</dt>
          <dd id="section-7.4-5.4" style="margin-left: 1.5em">desired value of the requested code point<a class="pilcrow" href="#section-7.4-5.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-5.5">Description:</dt>
          <dd id="section-7.4-5.6" style="margin-left: 1.5em">brief description of the newly registered POT-Type<a class="pilcrow" href="#section-7.4-5.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.4-5.7">Reference:</dt>
          <dd id="section-7.4-5.8" style="margin-left: 1.5em">reference to the document that defines the new POT-Type<a class="pilcrow" href="#section-7.4-5.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<div id="pot-flags-sec">
<section id="section-7.5">
        <h3 id="name-ioam-pot-flags-registry">
<a class="section-number selfRef" href="#section-7.5">7.5. </a><a class="section-name selfRef" href="#name-ioam-pot-flags-registry">IOAM POT-Flags Registry</a>
        </h3>
<p id="section-7.5-1">This registry defines code points for each bit in the 8-bit flags
        for the IOAM POT Option-Type defined in <a class="xref" href="#IOAM_proof_of_transit_option">Section 4.5</a>.<a class="pilcrow" href="#section-7.5-1">¶</a></p>
<p id="section-7.5-2">Bits 0-7 are available for assignment via the
        "IETF Review" process, as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.5-2">¶</a></p>
<p id="section-7.5-3">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.5-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.5-4">
          <dt id="section-7.5-4.1">Bit:</dt>
          <dd id="section-7.5-4.2" style="margin-left: 1.5em">desired bit to be allocated 
          in the 8-bit flags field of the IOAM POT Option-Type<a class="pilcrow" href="#section-7.5-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.3">Description:</dt>
          <dd id="section-7.5-4.4" style="margin-left: 1.5em">brief description of the newly registered bit<a class="pilcrow" href="#section-7.5-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-4.5">Reference:</dt>
          <dd id="section-7.5-4.6" style="margin-left: 1.5em">reference to the document that defines the new bit<a class="pilcrow" href="#section-7.5-4.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-7.6">
        <h3 id="name-ioam-e2e-type-registry">
<a class="section-number selfRef" href="#section-7.6">7.6. </a><a class="section-name selfRef" href="#name-ioam-e2e-type-registry">IOAM E2E-Type Registry</a>
        </h3>
<p id="section-7.6-1">This registry defines code points for each bit in the 16-bit
        IOAM E2E-Type field for the IOAM E2E Option (<a class="xref" href="#IOAM_edge_to_edge_opt">Section 4.6</a>). Bits 0-3 are defined
        in this document:<a class="pilcrow" href="#section-7.6-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.6-2">
          <dt id="section-7.6-2.1">Bit 0:</dt>
          <dd id="section-7.6-2.2" style="margin-left: 1.5em">64-bit sequence number<a class="pilcrow" href="#section-7.6-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-2.3">Bit 1:</dt>
          <dd id="section-7.6-2.4" style="margin-left: 1.5em">32-bit sequence number<a class="pilcrow" href="#section-7.6-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-2.5">Bit 2:</dt>
          <dd id="section-7.6-2.6" style="margin-left: 1.5em">timestamp seconds<a class="pilcrow" href="#section-7.6-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-2.7">Bit 3:</dt>
          <dd id="section-7.6-2.8" style="margin-left: 1.5em">timestamp fraction<a class="pilcrow" href="#section-7.6-2.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.6-3">Bits 4-15 are available for assignment via the
        "IETF Review" process, as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.6-3">¶</a></p>
<p id="section-7.6-4">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.6-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.6-5">
          <dt id="section-7.6-5.1">Bit:</dt>
          <dd id="section-7.6-5.2" style="margin-left: 1.5em">desired bit to be allocated 
          in the 16-bit IOAM E2E-Type field<a class="pilcrow" href="#section-7.6-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.3">Description:</dt>
          <dd id="section-7.6-5.4" style="margin-left: 1.5em">brief description of the newly registered bit<a class="pilcrow" href="#section-7.6-5.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.5">Reference:</dt>
          <dd id="section-7.6-5.6" style="margin-left: 1.5em">reference to the document that defines the new bit<a class="pilcrow" href="#section-7.6-5.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-7.7">
        <h3 id="name-ioam-namespace-id-registry">
<a class="section-number selfRef" href="#section-7.7">7.7. </a><a class="section-name selfRef" href="#name-ioam-namespace-id-registry">IOAM Namespace-ID Registry</a>
        </h3>
<p id="section-7.7-1">IANA has set up the "IOAM Namespace-ID" registry that
        contains 16-bit values and follows the template for requests
        shown below. The meaning of 0x0000 is defined in this
        document. IANA has reserved the values 0x0001 to
        0x7FFF for private use (managed by operators), as specified in
        <a class="xref" href="#ioam_namespaces">Section 4.3</a> of this
        document. Registry entries for the values 0x8000 to 0xFFFF are
        to be assigned via the "Expert Review" policy, as per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-7.7-1">¶</a></p>
<p id="section-7.7-2">Upon receiving a new allocation request, a designated 
 expert will perform the following:<a class="pilcrow" href="#section-7.7-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.7-3.1">Review whether the request is complete, i.e., the 
          registration template has been filled in. The expert
          will send incomplete requests back to the requester.<a class="pilcrow" href="#section-7.7-3.1">¶</a>
</li>
          <li class="normal" id="section-7.7-3.2">Check whether the request is neither a duplicate of nor
          conflicting with either an already existing allocation 
          or a pending allocation. In case of duplicates or conflicts,
          the expert will ask the requester to update the allocation
          request accordingly.<a class="pilcrow" href="#section-7.7-3.2">¶</a>
</li>
          <li class="normal" id="section-7.7-3.3">Solicit feedback from relevant working groups and communities to ensure
          that the new allocation request has been properly reviewed
          and that rough consensus on the request exists. At a minimum,
          the expert will solicit feedback from the IPPM Working Group
          by posting the request to the ippm@ietf.org
          mailing list. The expert will allow for a 3-week review
          period on the mailing lists. 
          If the feedback received from the relevant working
          groups and communities within the review period 
          indicates rough consensus on the
          request, the expert will approve the request and ask IANA
          to allocate the new Namespace-ID. In case the expert
          senses a lack of consensus from the feedback received, the
          expert will ask the requester to engage with the corresponding
          working groups and communities to further review and refine
          the request.<a class="pilcrow" href="#section-7.7-3.3">¶</a>
</li>
        </ul>
<p id="section-7.7-4"> It is intended that any allocation will be accompanied 
        by a published RFC.  In order to allow for the allocation of code points
        prior to the RFC being approved for publication, the designated expert can approve 
 allocations once it seems clear that an RFC will be published.<a class="pilcrow" href="#section-7.7-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.7-5">
          <dt id="section-7.7-5.1">0x0000:</dt>
          <dd id="section-7.7-5.2" style="margin-left: 1.5em">default namespace (known to all IOAM nodes)<a class="pilcrow" href="#section-7.7-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.7-5.3">0x0001 - 0x7FFF:</dt>
          <dd id="section-7.7-5.4" style="margin-left: 1.5em">reserved for private use<a class="pilcrow" href="#section-7.7-5.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.7-5.5">0x8000 - 0xFFFF:</dt>
          <dd id="section-7.7-5.6" style="margin-left: 1.5em">unassigned<a class="pilcrow" href="#section-7.7-5.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.7-6">New registration requests <span class="bcp14">MUST</span> use the following template:<a class="pilcrow" href="#section-7.7-6">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.7-7">
          <dt id="section-7.7-7.1">Name:</dt>
          <dd id="section-7.7-7.2" style="margin-left: 1.5em">name of the newly registered Namespace-ID<a class="pilcrow" href="#section-7.7-7.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.7-7.3">Code point:</dt>
          <dd id="section-7.7-7.4" style="margin-left: 1.5em">desired value of the requested Namespace-ID<a class="pilcrow" href="#section-7.7-7.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.7-7.5">Description:</dt>
          <dd id="section-7.7-7.6" style="margin-left: 1.5em">brief description of the newly 
          registered Namespace-ID<a class="pilcrow" href="#section-7.7-7.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.7-7.7">Reference:</dt>
          <dd id="section-7.7-7.8" style="margin-left: 1.5em">reference to the document that
          defines the new Namespace-ID<a class="pilcrow" href="#section-7.7-7.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.7-7.9">Status of the registration:</dt>
          <dd id="section-7.7-7.10" style="margin-left: 1.5em">Status can be either 
          "permanent" or "provisional". Namespace-ID registrations following
          a successful expert review will have the status "provisional".
          Once the RFC that defines the new Namespace-ID is published,
          the status is changed to "permanent".<a class="pilcrow" href="#section-7.7-7.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-management-and-deployment-c">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-management-and-deployment-c">Management and Deployment Considerations</a>
      </h2>
<p id="section-8-1">This document defines the structure and use of IOAM-Data-Fields. 
      This document does not define the encapsulation of IOAM-Data-Fields into different
      protocols. Management and deployment aspects for IOAM have to be considered within
      the context of the protocol IOAM-Data-Fields are encapsulated into and, as such, are
      out of scope for this document. For a discussion of IOAM deployment, please also
      refer to <span>[<a class="xref" href="#I-D.ietf-ippm-ioam-deployment">IPPM-IOAM-DEPLOYMENT</a>]</span>, which
      outlines a framework for IOAM deployment and provides best current practices.<a class="pilcrow" href="#section-8-1">¶</a></p>
</section>
<div id="Security">
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">As discussed in <span>[<a class="xref" href="#RFC7276">RFC7276</a>]</span>, a successful attack on
      an OAM protocol in general, and specifically on IOAM, can prevent the
      detection of failures or anomalies or create a false illusion of
      nonexistent ones. In particular, these threats are applicable by
      compromising the integrity of IOAM data, either by maliciously modifying
      IOAM options in transit or by injecting packets with maliciously
      generated IOAM options. All nodes in the path of an IOAM-carrying 
      packet can perform such an attack.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">The Proof of Transit Option-Type (see <a class="xref" href="#IOAM_proof_of_transit_option">Section 4.5</a>) is used for verifying the path
      of data packets, i.e., proving that packets transited through a defined set of
      nodes.<a class="pilcrow" href="#section-9-2">¶</a></p>
<p id="section-9-3">In case an attacker gains access to several nodes in a network
       and would be able to change the system software of these nodes,
        IOAM-Data-Fields could be misused and repurposed for a use
        different from what is specified in this document. 
        One type of misuse is the implementation of a covert channel between
       network nodes.<a class="pilcrow" href="#section-9-3">¶</a></p>
<p id="section-9-4">From a confidentiality perspective, although IOAM options are not expected to
      contain user data, they can be used for network reconnaissance, allowing
      attackers to collect information about network paths, performance, queue
      states, buffer occupancy, etc. Moreover, if IOAM data
      leaks from the IOAM-Domain, it could enable reconnaissance beyond the scope
      of the IOAM-Domain. One possible application of such reconnaissance is 
      to gauge the effectiveness of an ongoing attack, e.g., 
      if buffers and queues are overflowing.<a class="pilcrow" href="#section-9-4">¶</a></p>
<p id="section-9-5">IOAM can be used as a means for implementing Denial-of-Service (DoS)
      attacks or for amplifying them. For example, a malicious attacker can
      add an IOAM header to packets in order to consume the resources of
      network devices that take part in IOAM or entities that receive, collect,
      or analyze the IOAM data. Another example is a packet length attack in
      which an attacker pushes headers associated with IOAM-Option-Types into
      data packets, causing these packets to be increased beyond the MTU size,
      resulting in fragmentation or in packet drops. In case POT is used,
      an attacker could corrupt the POT data fields in the packet, resulting
      in a verification failure of the POT data, even if the packet followed
      the correct path.<a class="pilcrow" href="#section-9-5">¶</a></p>
<p id="section-9-6">Since IOAM options can include timestamps, if network devices use
      synchronization protocols, then any attack on the time protocol <span>[<a class="xref" href="#RFC7384">RFC7384</a>]</span> can compromise the integrity of the
      timestamp-related data fields.<a class="pilcrow" href="#section-9-6">¶</a></p>
<p id="section-9-7">At the management plane, attacks can be set up by misconfiguring
      or by maliciously configuring IOAM-enabled nodes in a way that enables
      other attacks. IOAM configuration should only be managed by 
      authorized processes or users.<a class="pilcrow" href="#section-9-7">¶</a></p>
<p id="section-9-8">IETF protocols require features to ensure their security. While IOAM-Data-Fields
      don't represent a protocol by themselves, the IOAM-Data-Fields add to the protocol
      that the IOAM-Data-Fields are encapsulated into. Any specification that defines how
      IOAM-Data-Fields carried in an encapsulating protocol <span class="bcp14">MUST</span> provide
      for a mechanism for cryptographic integrity protection of the IOAM-Data-Fields.
      Cryptographic integrity protection could be achieved through a mechanism of
      the encapsulating protocol, or it could incorporate the mechanisms specified in <span>[<a class="xref" href="#I-D.ietf-ippm-ioam-data-integrity">IPPM-IOAM-DATA-INTEGRITY</a>]</span>.<a class="pilcrow" href="#section-9-8">¶</a></p>
<p id="section-9-9">The current document does not define a specific IOAM encapsulation.
      It has to be noted that some IOAM encapsulation types can introduce
      specific security considerations. A specification that defines an IOAM
      encapsulation is expected to address the respective
      encapsulation-specific security considerations.<a class="pilcrow" href="#section-9-9">¶</a></p>
<p id="section-9-10">Notably, IOAM is expected to be deployed in limited domains, 
      thus confining the potential attack vectors to within
      the limited domain. A limited administrative domain provides the
      operator with the means to select, monitor, and control the access of
      all the network devices, making these devices trusted by the operator.
      Indeed, in order to limit the scope of threats mentioned above to within
      the current limited domain, the network operator is expected to enforce
      policies that prevent IOAM traffic from leaking outside of the IOAM-Domain and prevent IOAM data from outside the domain to be processed
      and used within the domain.<a class="pilcrow" href="#section-9-10">¶</a></p>
<p id="section-9-11">This document does not define the data contents of custom fields, 
      like "Opaque State Snapshot" and "namespace-specific data" IOAM-Data-Fields. These custom data fields will have security 
      considerations corresponding to their defined data contents 
      that need to be described where those formats are defined.<a class="pilcrow" href="#section-9-11">¶</a></p>
<p id="section-9-12">IOAM deployments that leverage both IOAM Trace Option-Types, i.e.,
 the Pre-allocated Trace Option-Type and Incremental Trace Option-Type,
       can suffer from incomplete visibility if the information gathered via
       the two Trace Option-Types is not correlated and aggregated 
       appropriately. If IOAM transit nodes leverage the IOAM-Data-Fields
       in the packet for further actions or insights, 
       then IOAM transit nodes that only support one IOAM 
       Trace Option-Type in an IOAM deployment that leverages both Trace
       Option-Types have limited visibility and thus can draw inappropriate
       conclusions or take wrong actions.<a class="pilcrow" href="#section-9-12">¶</a></p>
<p id="section-9-13">The security considerations of a system that deploys IOAM, much like
      any system, has to be reviewed on a per-deployment-scenario basis based
      on a systems-specific threat analysis, which can lead to specific
      security solutions that are beyond the scope of the current document.
      Specifically, in an IOAM deployment that is not confined to a single
      LAN but spans multiple inter-connected sites (for example, using an
      overlay network), the inter-site links can be secured (e.g., by IPsec)
      in order to avoid external threats.<a class="pilcrow" href="#section-9-13">¶</a></p>
<p id="section-9-14">IOAM deployment considerations, including approaches to mitigate the above
      discussed threads and potential attacks, are outside the scope of this 
      document. IOAM deployment considerations are discussed in 
      <span>[<a class="xref" href="#I-D.ietf-ippm-ioam-deployment">IPPM-IOAM-DEPLOYMENT</a>]</span>.<a class="pilcrow" href="#section-9-14">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="POSIX">[POSIX]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE/Open Group 1003.1-2017 - IEEE Standard for Information Technology--Portable Operating System Interface (POSIX(TM)) Base Specifications, Issue 7"</span>, <span class="seriesInfo">IEEE Std 1003.1-2017</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://standards.ieee.org/ieee/1003.1/7101/">https://standards.ieee.org/ieee/1003.1/7101/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
        <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-ippm-ioam-data-integrity">[IPPM-IOAM-DATA-INTEGRITY]</dt>
        <dd>
<span class="refAuthor">Brockners, F.</span>, <span class="refAuthor">Bhandari, S.</span>, <span class="refAuthor">Mizrahi, T.</span>, and <span class="refAuthor">J. Iurman</span>, <span class="refTitle">"Integrity of In-situ OAM Data Fields"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-ioam-data-integrity-01</span>, <time class="refDate" datetime="2022-03-02">2 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-data-integrity-01">https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-data-integrity-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-ippm-ioam-deployment">[IPPM-IOAM-DEPLOYMENT]</dt>
        <dd>
<span class="refAuthor">Brockners, F.</span>, <span class="refAuthor">Bhandari, S.</span>, <span class="refAuthor">Bernier, D.</span>, and <span class="refAuthor">T. Mizrahi</span>, <span class="refTitle">"In-situ OAM Deployment"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-ioam-deployment-01</span>, <time class="refDate" datetime="2022-04-11">11 April 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-deployment-01">https://datatracker.ietf.org/doc/html/draft-ietf-ippm-ioam-deployment-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.spiegel-ippm-ioam-rawexport">[IPPM-IOAM-RAWEXPORT]</dt>
        <dd>
<span class="refAuthor">Spiegel, M.</span>, <span class="refAuthor">Brockners, F.</span>, <span class="refAuthor">Bhandari, S.</span>, and <span class="refAuthor">R. Sivakolundu</span>, <span class="refTitle">"In-situ OAM raw data export with IPFIX"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-spiegel-ippm-ioam-rawexport-06</span>, <time class="refDate" datetime="2022-02-21">21 February 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-spiegel-ippm-ioam-rawexport-06">https://datatracker.ietf.org/doc/html/draft-spiegel-ippm-ioam-rawexport-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.kitamura-ipv6-record-route">[IPV6-RECORD-ROUTE]</dt>
        <dd>
<span class="refAuthor">Kitamura, H.</span>, <span class="refTitle">"Record Route for IPv6 (RR6) Hop-by-Hop Option Extension"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-kitamura-ipv6-record-route-00</span>, <time class="refDate" datetime="2000-11-17">17 November 2000</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-kitamura-ipv6-record-route-00">https://datatracker.ietf.org/doc/html/draft-kitamura-ipv6-record-route-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-nvo3-vxlan-gpe">[NVO3-VXLAN-GPE]</dt>
        <dd>
<span class="refAuthor">Maino, F., Ed.</span>, <span class="refAuthor">Kreeger, L., Ed.</span>, and <span class="refAuthor">U. Elzur, Ed.</span>, <span class="refTitle">"Generic Protocol Extension for VXLAN (VXLAN-GPE)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-nvo3-vxlan-gpe-12</span>, <time class="refDate" datetime="2021-09-22">22 September 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-nvo3-vxlan-gpe-12">https://datatracker.ietf.org/doc/html/draft-ietf-nvo3-vxlan-gpe-12</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7276">[RFC7276]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refAuthor">Sprecher, N.</span>, <span class="refAuthor">Bellagamba, E.</span>, and <span class="refAuthor">Y. Weingarten</span>, <span class="refTitle">"An Overview of Operations, Administration, and Maintenance (OAM) Tools"</span>, <span class="seriesInfo">RFC 7276</span>, <span class="seriesInfo">DOI 10.17487/RFC7276</span>, <time class="refDate" datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7276">https://www.rfc-editor.org/info/rfc7276</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7384">[RFC7384]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"Security Requirements of Time Protocols in Packet Switched Networks"</span>, <span class="seriesInfo">RFC 7384</span>, <span class="seriesInfo">DOI 10.17487/RFC7384</span>, <time class="refDate" datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7384">https://www.rfc-editor.org/info/rfc7384</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7665">[RFC7665]</dt>
        <dd>
<span class="refAuthor">Halpern, J., Ed.</span> and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Service Function Chaining (SFC) Architecture"</span>, <span class="seriesInfo">RFC 7665</span>, <span class="seriesInfo">DOI 10.17487/RFC7665</span>, <time class="refDate" datetime="2015-10">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7665">https://www.rfc-editor.org/info/rfc7665</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7820">[RFC7820]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"UDP Checksum Complement in the One-Way Active Measurement Protocol (OWAMP) and Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 7820</span>, <span class="seriesInfo">DOI 10.17487/RFC7820</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7820">https://www.rfc-editor.org/info/rfc7820</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7821">[RFC7821]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"UDP Checksum Complement in the Network Time Protocol (NTP)"</span>, <span class="seriesInfo">RFC 7821</span>, <span class="seriesInfo">DOI 10.17487/RFC7821</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7821">https://www.rfc-editor.org/info/rfc7821</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8300">[RFC8300]</dt>
        <dd>
<span class="refAuthor">Quinn, P., Ed.</span>, <span class="refAuthor">Elzur, U., Ed.</span>, and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Network Service Header (NSH)"</span>, <span class="seriesInfo">RFC 8300</span>, <span class="seriesInfo">DOI 10.17487/RFC8300</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8300">https://www.rfc-editor.org/info/rfc8300</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8799">[RFC8799]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">B. Liu</span>, <span class="refTitle">"Limited Domains and Internet Protocols"</span>, <span class="seriesInfo">RFC 8799</span>, <span class="seriesInfo">DOI 10.17487/RFC8799</span>, <time class="refDate" datetime="2020-07">July 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8799">https://www.rfc-editor.org/info/rfc8799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8877">[RFC8877]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refAuthor">Fabini, J.</span>, and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Guidelines for Defining Packet Timestamps"</span>, <span class="seriesInfo">RFC 8877</span>, <span class="seriesInfo">DOI 10.17487/RFC8877</span>, <time class="refDate" datetime="2020-09">September 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8877">https://www.rfc-editor.org/info/rfc8877</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8926">[RFC8926]</dt>
      <dd>
<span class="refAuthor">Gross, J., Ed.</span>, <span class="refAuthor">Ganga, I., Ed.</span>, and <span class="refAuthor">T. Sridhar, Ed.</span>, <span class="refTitle">"Geneve: Generic Network Virtualization Encapsulation"</span>, <span class="seriesInfo">RFC 8926</span>, <span class="seriesInfo">DOI 10.17487/RFC8926</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8926">https://www.rfc-editor.org/info/rfc8926</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">The authors would like to thank <span class="contact-name">Éric Vyncke</span>, <span class="contact-name">Nalini Elkins</span>, <span class="contact-name">Srihari       Raghavan</span>, <span class="contact-name">Ranganathan T S</span>, <span class="contact-name">Karthik Babu       Harichandra Babu</span>, <span class="contact-name">Akshaya       Nadahalli</span>, <span class="contact-name">LJ Wobker</span>, <span class="contact-name">Erik Nordmark</span>,
      <span class="contact-name">Vengada Prasad Govindan</span>, <span class="contact-name">Andrew       Yourtchenko</span>, <span class="contact-name">Aviv Kfir</span>, <span class="contact-name">Tianran Zhou</span>,
      <span class="contact-name">Zhenbin (Robin)</span>, and <span class="contact-name">Greg Mirsky</span> for the
      comments and advice.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">This document leverages and builds on top of several concepts
      described in <span>[<a class="xref" href="#I-D.kitamura-ipv6-record-route">IPV6-RECORD-ROUTE</a>]</span>. The
      authors would like to acknowledge the work done by the author <span class="contact-name">Hiroshi Kitamura</span> and people involved in writing it.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<p id="appendix-A-3">The authors would like to gracefully acknowledge useful review and
      insightful comments received from <span class="contact-name">Joe Clarke</span>, <span class="contact-name">Al Morton</span>, <span class="contact-name">Tom Herbert</span>,
      <span class="contact-name">Carlos J. Bernardos</span>, <span class="contact-name">Haoyu Song</span>,
      <span class="contact-name">Mickey Spiegel</span>, <span class="contact-name">Roman Danyliw</span>, 
      <span class="contact-name">Benjamin Kaduk</span>, <span class="contact-name">Murray S. Kucherawy</span>,
      <span class="contact-name">Ian Swett</span>, <span class="contact-name">Martin Duke</span>, 
      <span class="contact-name">Francesca Palombini</span>, <span class="contact-name">Lars Eggert</span>,
      <span class="contact-name">Alvaro Retana</span>, <span class="contact-name">Erik Kline</span>,
      <span class="contact-name">Robert Wilton</span>, <span class="contact-name">Zaheduzzaman Sarker</span>,
      <span class="contact-name">Dan Romascanu</span>, and <span class="contact-name">Barak Gafni</span>.<a class="pilcrow" href="#appendix-A-3">¶</a></p>
</section>
<section id="appendix-B">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="appendix-B-1">This document was the collective effort of several authors. The text
   and content were contributed by the editors and the coauthors listed 
   below.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carlos Pignataro</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="extended-address">Research Triangle Park</span></div>
<div class="left" dir="auto"><span class="street-address">7200-11 Kit Creek Road</span></div>
<div class="left" dir="auto">
<span class="region">NC</span> <span class="postal-code">27709</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cpignata@cisco.com">cpignata@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mickey Spiegel</span></div>
<div class="left" dir="auto"><span class="org">Barefoot Networks, an Intel company</span></div>
<div class="left" dir="auto"><span class="street-address">101 Innovation Drive</span></div>
<div class="left" dir="auto">
<span class="locality">San Jose</span>, <span class="region">CA</span> <span class="postal-code">95134-1941</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mickey.spiegel@intel.com">mickey.spiegel@intel.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Barak Gafni</span></div>
<div class="left" dir="auto"><span class="org">Nvidia</span></div>
<div class="left" dir="auto"><span class="extended-address">Suite 100</span></div>
<div class="left" dir="auto"><span class="street-address">350 Oakmead Parkway</span></div>
<div class="left" dir="auto">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94085</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gbarak@nvidia.com">gbarak@nvidia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jennifer Lemon</span></div>
<div class="left" dir="auto"><span class="org">Broadcom</span></div>
<div class="left" dir="auto"><span class="street-address">270 Innovation Drive</span></div>
<div class="left" dir="auto">
<span class="locality">San Jose</span>, <span class="region">CA</span> <span class="postal-code">95134</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jennifer.lemon@broadcom.com">jennifer.lemon@broadcom.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Hannes Gredler</span></div>
<div class="left" dir="auto"><span class="org">RtBrick Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:hannes@rtbrick.com">hannes@rtbrick.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">John Leddy</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:john@leddy.net">john@leddy.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stephen Youell</span></div>
<div class="left" dir="auto"><span class="org">JP Morgan Chase</span></div>
<div class="left" dir="auto"><span class="street-address">25 Bank Street</span></div>
<div class="left" dir="auto"><span class="locality">London</span></div>
<div class="left" dir="auto"><span class="postal-code">E14 5JP</span></div>
<div class="left" dir="auto"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:stephen.youell@jpmorgan.com">stephen.youell@jpmorgan.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">David Mozes</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mosesster@gmail.com">mosesster@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Petr Lapukhov</span></div>
<div class="left" dir="auto"><span class="org">Facebook</span></div>
<div class="left" dir="auto"><span class="street-address">1 Hacker Way</span></div>
<div class="left" dir="auto">
<span class="locality">Menlo Park</span>, <span class="region">CA</span> <span class="postal-code">94025</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:petr@fb.com">petr@fb.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Remy Chang</span></div>
<div class="left" dir="auto"><span class="org">Barefoot Networks, an Intel company</span></div>
<div class="left" dir="auto"><span class="street-address">101 Innovation Drive</span></div>
<div class="left" dir="auto">
<span class="locality">San Jose</span>, <span class="region">CA</span> <span class="postal-code">95134-1941</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:remy.chang@intel.com">remy.chang@intel.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Daniel Bernier</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:daniel.bernier@bell.ca">daniel.bernier@bell.ca</a>
</div>
</address>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Frank Brockners (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="extended-address">3rd Floor<br/>Nordhein-Westfalen</span></div>
<div class="left" dir="auto"><span class="street-address">Hansaallee 249</span></div>
<div class="left" dir="auto">
<span class="postal-code">40549</span> <span class="locality">Duesseldorf</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:fbrockne@cisco.com">fbrockne@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Shwetha Bhandari (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Thoughtspot</span></div>
<div class="left" dir="auto"><span class="extended-address">3rd Floor<br/>Indiqube Orion<br/>Garden Layout<br/>HSR Layout</span></div>
<div class="left" dir="auto"><span class="street-address">24th Main Rd</span></div>
<div class="left" dir="auto">
<span class="locality">Bangalore</span> <span class="postal-code">560 102</span>
</div>
<div class="left" dir="auto"><span class="region">Karnataka</span></div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:shwetha.bhandari@thoughtspot.com">shwetha.bhandari@thoughtspot.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tal Mizrahi (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Huawei</span></div>
<div class="left" dir="auto"><span class="street-address">8-2 Matam</span></div>
<div class="left" dir="auto">
<span class="locality">Haifa</span> <span class="postal-code">3190501</span>
</div>
<div class="left" dir="auto"><span class="country-name">Israel</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tal.mizrahi.phd@gmail.com">tal.mizrahi.phd@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>