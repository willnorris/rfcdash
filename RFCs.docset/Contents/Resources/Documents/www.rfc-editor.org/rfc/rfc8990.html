<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8990: GeneRic Autonomic Signaling Protocol (GRASP)</title>
<meta content="Carsten Bormann" name="author"/>
<meta content="Brian Carpenter" name="author"/>
<meta content="Bing Liu" name="author"/>
<meta content="
       This document specifies the GeneRic Autonomic Signaling Protocol (GRASP), which
      enables autonomic nodes and Autonomic Service Agents to dynamically discover peers,
      to synchronize state with each other, and to negotiate parameter settings with each
      other. GRASP depends on an external security environment that is described
      elsewhere. The technical objectives and parameters for specific application scenarios
      are to be described in separate documents. Appendices briefly discuss requirements
      for the protocol and existing protocols with comparable features. 
    " name="description"/>
<meta content="xml2rfc 3.8.0" name="generator"/>
<meta content="autonomic networking" name="keyword"/>
<meta content="autonomous operation" name="keyword"/>
<meta content="self-management" name="keyword"/>
<meta content="8990" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.8.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8990.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8990" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-anima-grasp-15" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8990</td>
<td class="center">GRASP</td>
<td class="right">May 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bormann, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8990">8990</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-05">May 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Bormann</div>
<div class="org">Universität Bremen TZI</div>
</div>
<div class="author">
      <div class="author-name">B. Carpenter, <span class="editor">Ed.</span>
</div>
<div class="org">Univ. of Auckland</div>
</div>
<div class="author">
      <div class="author-name">B. Liu, <span class="editor">Ed.</span>
</div>
<div class="org">Huawei Technologies Co., Ltd</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8990</h1>
<h1 id="title">GeneRic Autonomic Signaling Protocol (GRASP)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document specifies the GeneRic Autonomic Signaling Protocol (GRASP), which
      enables autonomic nodes and Autonomic Service Agents to dynamically discover peers,
      to synchronize state with each other, and to negotiate parameter settings with each
      other. GRASP depends on an external security environment that is described
      elsewhere. The technical objectives and parameters for specific application scenarios
      are to be described in separate documents. Appendices briefly discuss requirements
      for the protocol and existing protocols with comparable features.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8990">https://www.rfc-editor.org/info/rfc8990</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-protocol-overview">Protocol Overview</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-terminology">Terminology</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.2">
                <p class="keepWithNext" id="section-toc.1-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-high-level-deployment-model">High-Level Deployment Model</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="xref" href="#section-2.3">2.3</a>.  <a class="xref" href="#name-high-level-design">High-Level Design</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a class="xref" href="#section-2.4">2.4</a>.  <a class="xref" href="#name-quick-operating-overview">Quick Operating Overview</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a class="xref" href="#section-2.5">2.5</a>.  <a class="xref" href="#name-grasp-basic-properties-and-">GRASP Basic Properties and Mechanisms</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.1">
                    <p id="section-toc.1-1.2.2.5.2.1.1"><a class="xref" href="#section-2.5.1">2.5.1</a>.  <a class="xref" href="#name-required-external-security-">Required External Security Mechanism</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.2">
                    <p id="section-toc.1-1.2.2.5.2.2.1"><a class="xref" href="#section-2.5.2">2.5.2</a>.  <a class="xref" href="#name-discovery-unsolicited-link-">Discovery Unsolicited Link-Local (DULL) GRASP</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.3">
                    <p id="section-toc.1-1.2.2.5.2.3.1"><a class="xref" href="#section-2.5.3">2.5.3</a>.  <a class="xref" href="#name-transport-layer-usage">Transport Layer Usage</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.4">
                    <p id="section-toc.1-1.2.2.5.2.4.1"><a class="xref" href="#section-2.5.4">2.5.4</a>.  <a class="xref" href="#name-discovery-mechanism-and-pro">Discovery Mechanism and Procedures</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.5">
                    <p id="section-toc.1-1.2.2.5.2.5.1"><a class="xref" href="#section-2.5.5">2.5.5</a>.  <a class="xref" href="#name-negotiation-procedures">Negotiation Procedures</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.6">
                    <p id="section-toc.1-1.2.2.5.2.6.1"><a class="xref" href="#section-2.5.6">2.5.6</a>.  <a class="xref" href="#name-synchronization-and-floodin">Synchronization and Flooding Procedures</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a class="xref" href="#section-2.6">2.6</a>.  <a class="xref" href="#name-grasp-constants">GRASP Constants</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.7">
                <p id="section-toc.1-1.2.2.7.1"><a class="xref" href="#section-2.7">2.7</a>.  <a class="xref" href="#name-session-identifier-session-">Session Identifier (Session ID)</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.8">
                <p id="section-toc.1-1.2.2.8.1"><a class="xref" href="#section-2.8">2.8</a>.  <a class="xref" href="#name-grasp-messages">GRASP Messages</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.1">
                    <p id="section-toc.1-1.2.2.8.2.1.1"><a class="xref" href="#section-2.8.1">2.8.1</a>.  <a class="xref" href="#name-message-overview">Message Overview</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.2">
                    <p id="section-toc.1-1.2.2.8.2.2.1"><a class="xref" href="#section-2.8.2">2.8.2</a>.  <a class="xref" href="#name-grasp-message-format">GRASP Message Format</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.3">
                    <p id="section-toc.1-1.2.2.8.2.3.1"><a class="xref" href="#section-2.8.3">2.8.3</a>.  <a class="xref" href="#name-message-size">Message Size</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.4">
                    <p id="section-toc.1-1.2.2.8.2.4.1"><a class="xref" href="#section-2.8.4">2.8.4</a>.  <a class="xref" href="#name-discovery-message">Discovery Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.5">
                    <p id="section-toc.1-1.2.2.8.2.5.1"><a class="xref" href="#section-2.8.5">2.8.5</a>.  <a class="xref" href="#name-discovery-response-message">Discovery Response Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.6">
                    <p id="section-toc.1-1.2.2.8.2.6.1"><a class="xref" href="#section-2.8.6">2.8.6</a>.  <a class="xref" href="#name-request-messages">Request Messages</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.7">
                    <p id="section-toc.1-1.2.2.8.2.7.1"><a class="xref" href="#section-2.8.7">2.8.7</a>.  <a class="xref" href="#name-negotiation-message">Negotiation Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.8">
                    <p id="section-toc.1-1.2.2.8.2.8.1"><a class="xref" href="#section-2.8.8">2.8.8</a>.  <a class="xref" href="#name-negotiation-end-message">Negotiation End Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.9">
                    <p id="section-toc.1-1.2.2.8.2.9.1"><a class="xref" href="#section-2.8.9">2.8.9</a>.  <a class="xref" href="#name-confirm-waiting-message">Confirm Waiting Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.10">
                    <p id="section-toc.1-1.2.2.8.2.10.1"><a class="xref" href="#section-2.8.10">2.8.10</a>. <a class="xref" href="#name-synchronization-message">Synchronization Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.11">
                    <p id="section-toc.1-1.2.2.8.2.11.1"><a class="xref" href="#section-2.8.11">2.8.11</a>. <a class="xref" href="#name-flood-synchronization-messa">Flood Synchronization Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.12">
                    <p id="section-toc.1-1.2.2.8.2.12.1"><a class="xref" href="#section-2.8.12">2.8.12</a>. <a class="xref" href="#name-invalid-message">Invalid Message</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.8.2.13">
                    <p id="section-toc.1-1.2.2.8.2.13.1"><a class="xref" href="#section-2.8.13">2.8.13</a>. <a class="xref" href="#name-no-operation-message">No Operation Message</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.9">
                <p id="section-toc.1-1.2.2.9.1"><a class="xref" href="#section-2.9">2.9</a>.  <a class="xref" href="#name-grasp-options">GRASP Options</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.9.2.1">
                    <p id="section-toc.1-1.2.2.9.2.1.1"><a class="xref" href="#section-2.9.1">2.9.1</a>.  <a class="xref" href="#name-format-of-grasp-options">Format of GRASP Options</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.9.2.2">
                    <p id="section-toc.1-1.2.2.9.2.2.1"><a class="xref" href="#section-2.9.2">2.9.2</a>.  <a class="xref" href="#name-divert-option">Divert Option</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.9.2.3">
                    <p id="section-toc.1-1.2.2.9.2.3.1"><a class="xref" href="#section-2.9.3">2.9.3</a>.  <a class="xref" href="#name-accept-option">Accept Option</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.9.2.4">
                    <p id="section-toc.1-1.2.2.9.2.4.1"><a class="xref" href="#section-2.9.4">2.9.4</a>.  <a class="xref" href="#name-decline-option">Decline Option</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.9.2.5">
                    <p id="section-toc.1-1.2.2.9.2.5.1"><a class="xref" href="#section-2.9.5">2.9.5</a>.  <a class="xref" href="#name-locator-options">Locator Options</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.2.2.10">
                <p id="section-toc.1-1.2.2.10.1"><a class="xref" href="#section-2.10">2.10</a>. <a class="xref" href="#name-objective-options">Objective Options</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.10.2.1">
                    <p id="section-toc.1-1.2.2.10.2.1.1"><a class="xref" href="#section-2.10.1">2.10.1</a>.  <a class="xref" href="#name-format-of-objective-options">Format of Objective Options</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.10.2.2">
                    <p id="section-toc.1-1.2.2.10.2.2.1"><a class="xref" href="#section-2.10.2">2.10.2</a>.  <a class="xref" href="#name-objective-flags">Objective Flags</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.10.2.3">
                    <p id="section-toc.1-1.2.2.10.2.3.1"><a class="xref" href="#section-2.10.3">2.10.3</a>.  <a class="xref" href="#name-general-considerations-for-">General Considerations for Objective Options</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.10.2.4">
                    <p id="section-toc.1-1.2.2.10.2.4.1"><a class="xref" href="#section-2.10.4">2.10.4</a>.  <a class="xref" href="#name-organizing-of-objective-opt">Organizing of Objective Options</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.10.2.5">
                    <p id="section-toc.1-1.2.2.10.2.5.1"><a class="xref" href="#section-2.10.5">2.10.5</a>.  <a class="xref" href="#name-experimental-and-example-ob">Experimental and Example Objective Options</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-cddl-specification-of-grasp">CDDL Specification of GRASP</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-references">References</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-example-message-formats">Example Message Formats</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-a.1">A.1</a>.  <a class="xref" href="#name-discovery-example">Discovery Example</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-a.2">A.2</a>.  <a class="xref" href="#name-flood-example">Flood Example</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-a.3">A.3</a>.  <a class="xref" href="#name-synchronization-example">Synchronization Example</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-a.4">A.4</a>.  <a class="xref" href="#name-simple-negotiation-example">Simple Negotiation Example</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a class="xref" href="#section-a.5">A.5</a>.  <a class="xref" href="#name-complete-negotiation-exampl">Complete Negotiation Example</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-appendix.b">Appendix B</a>.  <a class="xref" href="#name-requirement-analysis-of-dis">Requirement Analysis of Discovery, Synchronization, and Negotiation</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-b.1">B.1</a>.  <a class="xref" href="#name-requirements-for-discovery">Requirements for Discovery</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-b.2">B.2</a>.  <a class="xref" href="#name-requirements-for-synchroniz">Requirements for Synchronization and Negotiation Capability</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-b.3">B.3</a>.  <a class="xref" href="#name-specific-technical-requirem">Specific Technical Requirements</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.c">Appendix C</a>.  <a class="xref" href="#name-capability-analysis-of-curr">Capability Analysis of Current Protocols</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.d"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.e"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The success of the Internet has made IP-based networks bigger and
      more complicated. Large-scale ISP and enterprise networks have become more and more
      problematic for human-based management. Also, operational costs are growing quickly.
      Consequently, there are increased requirements for autonomic behavior in the networks.
      General aspects of Autonomic Networks are discussed in
      <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span> and <span>[<a class="xref" href="#RFC7576">RFC7576</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">One approach is to largely decentralize the logic of network management by migrating it
      into network elements. A reference model for Autonomic Networking on this basis is given in
      <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>. The reader should consult this document
      to understand how various autonomic components fit together.
      In order to achieve autonomy, devices that embody Autonomic Service Agents
      (ASAs, <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span>)
      have specific signaling requirements. In particular, they need to discover each other,
      to synchronize state with each other,
      and to negotiate parameters and resources directly with each other.
      There is no limitation on the types of parameters and resources concerned,
      which can include very basic information needed for addressing and routing,
      as well as anything else that might be configured in a conventional non-autonomic network.
      The atomic unit of discovery, synchronization, or negotiation is referred to as a technical
      objective, i.e., a configurable parameter or set of parameters 
      (defined more precisely in <a class="xref" href="#terms">Section 2.1</a>).<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">
      Negotiation is an iterative process, requiring multiple message exchanges forming
      a closed loop between the negotiating entities. In fact, these entities are
      ASAs, normally but not necessarily in different network devices.
      State synchronization, when needed,
      can be regarded as a special case of negotiation without iteration.
      Both negotiation and synchronization must logically follow discovery.
      More details of the requirements are found in <a class="xref" href="#reqts">Appendix B</a>.
      <a class="xref" href="#highlevel">Section 2.3</a> describes a behavior model for a protocol
      intended to support discovery, synchronization, and negotiation. The
      design of GeneRic Autonomic Signaling Protocol (GRASP) in <a class="xref" href="#Overview">Section 2</a>
      is based on this behavior model. The relevant capabilities 
      of various existing protocols are reviewed in <a class="xref" href="#current">Appendix C</a>.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">The proposed discovery mechanism is oriented towards synchronization and
      negotiation objectives. It is based on a neighbor discovery process on the
      local link, but it also supports diversion to peers on other links.
      There is no assumption of any particular form of network topology.
      When a device starts up with no preconfiguration,
      it has no knowledge of the topology. The protocol itself is capable of
      being used in a small and/or flat network structure such as a small
      office or home network as well as in a large, professionally managed network.
      Therefore, the discovery mechanism needs to be able to allow a device
      to bootstrap itself without making any prior assumptions about network
      structure.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">Because GRASP can be used as part of a decision process among distributed
      devices or between networks, it must run in a secure and strongly authenticated
      environment.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">In realistic deployments, not all devices will
      support GRASP. Therefore, some Autonomic Service Agents will directly
      manage a group of non-autonomic nodes, and other non-autonomic nodes
      will be managed traditionally. Such mixed scenarios
      are not discussed in this specification.<a class="pilcrow" href="#section-1-6">¶</a></p>
</section>
</div>
<div id="Overview">
<section id="section-2">
      <h2 id="name-protocol-overview">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-protocol-overview">Protocol Overview</a>
      </h2>
<div id="terms">
<section id="section-2.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-2.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2">This document uses terminology defined in <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span>.<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<p id="section-2.1-3">The following additional terms are used throughout this document:<a class="pilcrow" href="#section-2.1-3">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-4">
          <dt id="section-2.1-4.1">Discovery:
</dt>
          <dd id="section-2.1-4.2" style="margin-left: 1.5em">
            <p id="section-2.1-4.2.1">A process by which an ASA discovers peers according to a specific
discovery objective. The discovery results may be different according to the
different discovery objectives. The discovered peers may later be used as
negotiation counterparts or as sources of synchronization data.<a class="pilcrow" href="#section-2.1-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.3">Negotiation:
</dt>
          <dd id="section-2.1-4.4" style="margin-left: 1.5em">
            <p id="section-2.1-4.4.1">A process by which two ASAs interact iteratively to agree on parameter
settings that best satisfy the objectives of both ASAs.<a class="pilcrow" href="#section-2.1-4.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.5">State Synchronization:
</dt>
          <dd id="section-2.1-4.6" style="margin-left: 1.5em">
            <p id="section-2.1-4.6.1">A process by which ASAs interact to receive the current state of parameter
values stored in other ASAs. This is a special case of negotiation in which
information is sent, but the ASAs do not request their peers to change
parameter settings. All other definitions apply to both negotiation and synchronization.<a class="pilcrow" href="#section-2.1-4.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.7">Technical Objective (usually abbreviated as Objective):
</dt>
          <dd id="section-2.1-4.8" style="margin-left: 1.5em">
            <p id="section-2.1-4.8.1">A technical objective is a data structure whose main contents are a name
and a value. The value consists of a single configurable parameter or a set of
parameters of some kind. The exact format of an objective is defined in <a class="xref" href="#ObjForm">Section 2.10.1</a>.  An objective occurs in three contexts:
discovery, negotiation, and synchronization. Normally, a given objective will
not occur in negotiation and synchronization contexts simultaneously.<a class="pilcrow" href="#section-2.1-4.8.1">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.1-4.8.2.1">One ASA may support multiple independent objectives.<a class="pilcrow" href="#section-2.1-4.8.2.1">¶</a>
</li>
              <li class="normal ulEmpty" id="section-2.1-4.8.2.2">
The parameter(s) in the value of a given objective apply to a specific
service or function or action.  They may in principle be anything that can be
set to a specific logical, numerical, or string value, or a more complex data
structure, by a network node.  Each node is expected to contain one or more
ASAs which may each manage subsidiary non-autonomic nodes.<a class="pilcrow" href="#section-2.1-4.8.2.2">¶</a>
</li>
              <li class="normal ulEmpty" id="section-2.1-4.8.2.3">
                <span class="break"></span><dl class="dlParallel" id="section-2.1-4.8.2.3.1">
                  <dt id="section-2.1-4.8.2.3.1.1">Discovery Objective:
</dt>
                  <dd id="section-2.1-4.8.2.3.1.2" style="margin-left: 1.5em">an objective in the process of discovery.  Its value may be undefined.<a class="pilcrow" href="#section-2.1-4.8.2.3.1.2">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-2.1-4.8.2.3.1.3">Synchronization Objective:
</dt>
                  <dd id="section-2.1-4.8.2.3.1.4" style="margin-left: 1.5em">an objective whose specific technical content needs to be synchronized
among two or more ASAs.  Thus, each ASA will maintain its own copy of the
objective.<a class="pilcrow" href="#section-2.1-4.8.2.3.1.4">¶</a>
</dd>
                  <dd class="break"></dd>
<dt id="section-2.1-4.8.2.3.1.5">Negotiation Objective:
</dt>
                  <dd id="section-2.1-4.8.2.3.1.6" style="margin-left: 1.5em">an objective whose specific technical content needs to be decided in
coordination with another ASA.  Again, each ASA will maintain its own copy of
the objective.<a class="pilcrow" href="#section-2.1-4.8.2.3.1.6">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</li>
              <li class="normal ulEmpty" id="section-2.1-4.8.2.4"> A detailed discussion of objectives, including their format, is found in
<a class="xref" href="#ObjOption">Section 2.10</a>.<a class="pilcrow" href="#section-2.1-4.8.2.4">¶</a>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.9">Discovery Initiator:
</dt>
          <dd id="section-2.1-4.10" style="margin-left: 1.5em">
            <p id="section-2.1-4.10.1">An ASA that starts discovery by sending a Discovery message referring to a
specific discovery objective.<a class="pilcrow" href="#section-2.1-4.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.11">Discovery Responder:
</dt>
          <dd id="section-2.1-4.12" style="margin-left: 1.5em">
            <p id="section-2.1-4.12.1">A peer that either contains an ASA supporting the discovery objective
indicated by the discovery initiator or caches the locator(s) of the ASA(s)
supporting the objective. It sends a Discovery Response, as described later.<a class="pilcrow" href="#section-2.1-4.12.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.13">Synchronization Initiator:
</dt>
          <dd id="section-2.1-4.14" style="margin-left: 1.5em">
            <p id="section-2.1-4.14.1">An ASA that starts synchronization by sending a request message referring
to a specific synchronization objective.<a class="pilcrow" href="#section-2.1-4.14.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.15">Synchronization Responder:
</dt>
          <dd id="section-2.1-4.16" style="margin-left: 1.5em">
            <p id="section-2.1-4.16.1">A peer ASA that responds with the value of a synchronization objective.<a class="pilcrow" href="#section-2.1-4.16.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.17">Negotiation Initiator:
</dt>
          <dd id="section-2.1-4.18" style="margin-left: 1.5em">
            <p id="section-2.1-4.18.1">An ASA that starts negotiation by sending a request message referring to a
specific negotiation objective.<a class="pilcrow" href="#section-2.1-4.18.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.19">Negotiation Counterpart:
</dt>
          <dd id="section-2.1-4.20" style="margin-left: 1.5em">
            <p id="section-2.1-4.20.1">A peer with which the negotiation initiator negotiates a specific
negotiation objective.<a class="pilcrow" href="#section-2.1-4.20.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.21">GRASP Instance:
</dt>
          <dd id="section-2.1-4.22" style="margin-left: 1.5em">
            <p id="section-2.1-4.22.1">This refers to an instantiation of a GRASP protocol engine, likely
including multiple threads or processes as well as dynamic data structures
such as a discovery cache, running in a given security environment on a single
device.<a class="pilcrow" href="#section-2.1-4.22.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.23">GRASP Core:
</dt>
          <dd id="section-2.1-4.24" style="margin-left: 1.5em">
            <p id="section-2.1-4.24.1">This refers to the code and shared data structures of a GRASP instance,
which will communicate with individual ASAs via a suitable Application
Programming Interface (API).<a class="pilcrow" href="#section-2.1-4.24.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.25">Interface or GRASP Interface: 
</dt>
          <dd id="section-2.1-4.26" style="margin-left: 1.5em">
            <p id="section-2.1-4.26.1">Unless otherwise stated, this refers to a network interface, which might
be physical or virtual, that a specific instance of GRASP is currently
using. A device might have other interfaces that are not used by GRASP and
which are outside the scope of the Autonomic Network.<a class="pilcrow" href="#section-2.1-4.26.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="hilev">
<section id="section-2.2">
        <h3 id="name-high-level-deployment-model">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-high-level-deployment-model">High-Level Deployment Model</a>
        </h3>
<p id="section-2.2-1">A GRASP implementation will be part of the Autonomic Networking Infrastructure (ANI)
      in an autonomic node, which must also provide an appropriate security environment.
      In accordance with <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>, this <span class="bcp14">SHOULD</span> be the
      Autonomic Control Plane (ACP) <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>.
      As a result, all autonomic nodes in the ACP are able to trust each other.
      It is expected that GRASP will access the ACP by using a typical socket programming interface,
      and the ACP will make available only network interfaces within the Autonomic Network.
      If there is no ACP, the considerations described in <a class="xref" href="#reqsec">Section 2.5.1</a> apply.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">
      There will also be one or more Autonomic Service Agents (ASAs). In the minimal case 
      of a single-purpose device, these components might be fully integrated with GRASP
      and the ACP. A more common model is expected to be a multipurpose device capable of containing
      several ASAs, such as a router or large switch. In this case it is expected that the ACP, GRASP and the ASAs will
      be implemented as separate processes, which are able to support
      asynchronous and simultaneous operations, for example by multithreading.<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<p id="section-2.2-3">In some scenarios, a limited negotiation model might be deployed based on a limited
      trust relationship such as that between two administrative domains. ASAs might then
      exchange limited information and negotiate some particular configurations.<a class="pilcrow" href="#section-2.2-3">¶</a></p>
<p id="section-2.2-4">GRASP is explicitly designed to operate within a single addressing realm.
      Its discovery and flooding mechanisms do not support autonomic operations that
      cross any form of address translator or upper-layer proxy.<a class="pilcrow" href="#section-2.2-4">¶</a></p>
<p id="section-2.2-5">A suitable Application Programming Interface (API) will be needed
      between GRASP and the ASAs. In some implementations, ASAs would run in user
      space with a GRASP library providing the API, and this library would in turn
      communicate via system calls with core GRASP functions.
      Details of the API are out of scope for the present document.
      For further details of possible deployment models, see
      <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>.<a class="pilcrow" href="#section-2.2-5">¶</a></p>
<p id="section-2.2-6">An instance of GRASP must be aware of the network interfaces it will use, and of the
      appropriate global-scope
      and link-local addresses. In the presence of the ACP, such information will be available from
      the adjacency table discussed in <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>.
      In other cases, GRASP must determine such information for itself. Details depend on the
      device and operating system. In the rest of this document, the terms 'interfaces'
      or 'GRASP interfaces'
      refers only to the set of network interfaces that a specific instance
      of GRASP is currently using.<a class="pilcrow" href="#section-2.2-6">¶</a></p>
<p id="section-2.2-7">Because GRASP needs to work with very high reliability, especially during bootstrapping
      and during fault conditions, it is essential that every implementation continues to
      operate in adverse conditions. For example, discovery failures, or any kind of socket
      exception at any time, must not cause irrecoverable failures in GRASP itself, and must
      return suitable error codes through the API so that ASAs can also recover.<a class="pilcrow" href="#section-2.2-7">¶</a></p>
<p id="section-2.2-8">GRASP must not depend upon nonvolatile data storage. All runtime error
      conditions, and events such as address renumbering, network interface failures,
      and CPU sleep/wake cycles, must be handled in such a way that GRASP will still
      operate correctly and securely afterwards (<a class="xref" href="#reqsec">Section 2.5.1</a>).<a class="pilcrow" href="#section-2.2-8">¶</a></p>
<p id="section-2.2-9">An autonomic node will normally run a single instance of GRASP, which is used by multiple ASAs.
      Possible exceptions are mentioned below.<a class="pilcrow" href="#section-2.2-9">¶</a></p>
</section>
</div>
<div id="highlevel">
<section id="section-2.3">
        <h3 id="name-high-level-design">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-high-level-design">High-Level Design</a>
        </h3>
<p id="section-2.3-1">This section describes the behavior model and general design of
        GRASP, supporting discovery, synchronization, and negotiation, to
        act as a platform for different technical objectives.<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.3-2">
          <dt id="section-2.3-2.1">A generic platform:
</dt>
          <dd id="section-2.3-2.2" style="margin-left: 1.5em">
            <p id="section-2.3-2.2.1">The protocol design is generic and independent of the synchronization or
negotiation contents. The technical contents will vary according to the
various technical objectives and the different pairs of counterparts.<a class="pilcrow" href="#section-2.3-2.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.3">Multiple instances:
</dt>
          <dd id="section-2.3-2.4" style="margin-left: 1.5em">
            <p id="section-2.3-2.4.1">
Normally, a single main instance of the GRASP protocol engine will exist
in an autonomic node, and each ASA will run as an independent asynchronous
process. However, scenarios where multiple instances of GRASP run in a single
node, perhaps with different security properties, are possible (<a class="xref" href="#secinst">Section 2.5.2</a>). In this case, each instance
<span class="bcp14">MUST</span> listen independently for GRASP link-local multicasts, and
all instances <span class="bcp14">MUST</span> be woken by each such multicast in order
for discovery and flooding to work correctly.<a class="pilcrow" href="#section-2.3-2.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.5">Security infrastructure:
</dt>
          <dd id="section-2.3-2.6" style="margin-left: 1.5em">
            <p id="section-2.3-2.6.1">As noted above, the protocol itself has no built-in security
functionality and relies on a separate secure infrastructure.<a class="pilcrow" href="#section-2.3-2.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.7">Discovery, synchronization, and negotiation are designed together:
</dt>
          <dd id="section-2.3-2.8" style="margin-left: 1.5em">
            <p id="section-2.3-2.8.1">The discovery method and the synchronization and negotiation methods are
designed in the same way and can be combined when this is useful, allowing a
rapid mode of operation described in <a class="xref" href="#discmech">Section 2.5.4</a>.  These processes can also be performed independently when
appropriate.<a class="pilcrow" href="#section-2.3-2.8.1">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.3-2.8.2.1">
                <p id="section-2.3-2.8.2.1.1">
Thus, for some objectives, especially those concerned with application-layer
services, another discovery mechanism such as DNS-based Service Discovery
<span>[<a class="xref" href="#RFC7558">RFC7558</a>]</span> <span class="bcp14">MAY</span> be used.  The
choice is left to the designers of individual ASAs.<a class="pilcrow" href="#section-2.3-2.8.2.1.1">¶</a></p>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.9">A uniform pattern for technical objectives:
</dt>
          <dd id="section-2.3-2.10" style="margin-left: 1.5em">
            <p id="section-2.3-2.10.1">
The synchronization and negotiation objectives are defined according to a
uniform pattern. The values that they contain could be carried either in a
simple binary format or in a complex object format. The basic protocol design
uses the Concise Binary Object Representation (CBOR) <span>[<a class="xref" href="#RFC8949">RFC8949</a>]</span>, which is readily extensible for unknown, future
requirements.<a class="pilcrow" href="#section-2.3-2.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.11">A flexible model for synchronization:
</dt>
          <dd id="section-2.3-2.12" style="margin-left: 1.5em">
            <p id="section-2.3-2.12.1">GRASP supports synchronization between two nodes, which could be used
repeatedly to perform synchronization among a small number of nodes.  It also
supports an unsolicited flooding mode when large groups of nodes, possibly
including all autonomic nodes, need data for the same technical objective.<a class="pilcrow" href="#section-2.3-2.12.1">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.3-2.12.2.1">
                <p id="section-2.3-2.12.2.1.1">
There may be some network parameters for which a more traditional flooding
mechanism such as the Distributed Node Consensus Protocol (DNCP) <span>[<a class="xref" href="#RFC7787">RFC7787</a>]</span> is considered
more appropriate. GRASP can coexist with DNCP.<a class="pilcrow" href="#section-2.3-2.12.2.1.1">¶</a></p>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.13">A simple initiator/responder model for negotiation:
</dt>
          <dd id="section-2.3-2.14" style="margin-left: 1.5em">
            <p id="section-2.3-2.14.1">Multiparty negotiations are very complicated to model and cannot readily
be guaranteed to converge. GRASP uses a simple bilateral model and can support
multiparty negotiations by indirect steps.<a class="pilcrow" href="#section-2.3-2.14.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.15">Organizing of synchronization or negotiation content:
</dt>
          <dd id="section-2.3-2.16" style="margin-left: 1.5em">
            <p id="section-2.3-2.16.1">The technical content transmitted by GRASP will be organized according to
the relevant function or service. The objectives for different functions or
services are kept separate because they may be negotiated or synchronized
with different counterparts or have different response times. Thus a normal
arrangement is a single ASA managing a small set of closely related
objectives, with a version of that ASA in each relevant autonomic
node. Further discussion of this aspect is out of scope for the current
document.<a class="pilcrow" href="#section-2.3-2.16.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.17">Requests and responses in negotiation procedures:
</dt>
          <dd id="section-2.3-2.18" style="margin-left: 1.5em">
            <p id="section-2.3-2.18.1">
The initiator can negotiate a specific negotiation objective with relevant
counterpart ASAs. It can request relevant information from a counterpart so
that it can coordinate its local configuration. It can request the counterpart
to make a matching configuration. It can request simulation or forecast
results by sending some dry-run conditions.<a class="pilcrow" href="#section-2.3-2.18.1">¶</a></p>
<p id="section-2.3-2.18.2">
Beyond the traditional yes/no answer, the responder can reply with a suggested
alternative value for the objective concerned. This would start a
bidirectional negotiation ending in a compromise between the two ASAs.<a class="pilcrow" href="#section-2.3-2.18.2">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.19">Convergence of negotiation procedures:
</dt>
          <dd id="section-2.3-2.20" style="margin-left: 1.5em">
            <p id="section-2.3-2.20.1">To enable convergence when a responder suggests a new value or condition
in a negotiation step reply, it should be as close as possible to the original
request or previous suggestion. The suggested value of later negotiation steps
should be chosen between the suggested values from the previous two
steps. GRASP provides mechanisms to guarantee convergence (or failure) in a
small number of steps, namely a timeout and a maximum number of iterations.<a class="pilcrow" href="#section-2.3-2.20.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.21">Extensibility:
</dt>
          <dd id="section-2.3-2.22" style="margin-left: 1.5em">
            <p id="section-2.3-2.22.1">GRASP intentionally does not have a version number, and it can be extended by
adding new message types and options. The Invalid message (M_INVALID) will be
used to signal that an implementation does not recognize a message or option
sent by another implementation. In normal use, new semantics will be added by
defining new synchronization or negotiation objectives.<a class="pilcrow" href="#section-2.3-2.22.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-2.4">
        <h3 id="name-quick-operating-overview">
<a class="section-number selfRef" href="#section-2.4">2.4. </a><a class="section-name selfRef" href="#name-quick-operating-overview">Quick Operating Overview</a>
        </h3>
<p id="section-2.4-1">An instance of GRASP is expected to run as a separate core module,
        providing an API (such as <span>[<a class="xref" href="#RFC8991">RFC8991</a>]</span>) to interface to
        various ASAs.
        These ASAs may operate without special privilege, unless they need it for
        other reasons (such as configuring IP addresses or manipulating routing
        tables).<a class="pilcrow" href="#section-2.4-1">¶</a></p>
<p id="section-2.4-2">
        The GRASP mechanisms used by the ASA are built around GRASP objectives
        defined as data structures
        containing administrative information such as the objective's unique
        name and its current value.  The format and size of the value is
        not restricted by the protocol, except that it must be possible to
        serialize it for transmission in CBOR, which is no
        restriction at all in practice.<a class="pilcrow" href="#section-2.4-2">¶</a></p>
<p id="section-2.4-3">
       GRASP provides the following mechanisms:<a class="pilcrow" href="#section-2.4-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4-4.1">A discovery mechanism (M_DISCOVERY, M_RESPONSE) by which an ASA can
         discover other ASAs supporting a given objective.<a class="pilcrow" href="#section-2.4-4.1">¶</a>
</li>
          <li class="normal" id="section-2.4-4.2">
         A negotiation request mechanism (M_REQ_NEG) by which an ASA can start
         negotiation of an objective with a counterpart ASA. Once a negotiation has
         started, the process is symmetrical, and there is a negotiation step message
         (M_NEGOTIATE) for each ASA to use in turn. Two other functions support negotiating
         steps (M_WAIT, M_END).<a class="pilcrow" href="#section-2.4-4.2">¶</a>
</li>
          <li class="normal" id="section-2.4-4.3">
         A synchronization mechanism (M_REQ_SYN) by which an ASA can request the
         current value of an objective from a counterpart ASA.  With this,
         there is a corresponding response function (M_SYNCH) for an ASA that
         wishes to respond to synchronization requests.<a class="pilcrow" href="#section-2.4-4.3">¶</a>
</li>
          <li class="normal" id="section-2.4-4.4">
        A flood mechanism (M_FLOOD) by which an ASA can cause the current value of
        an objective to be flooded throughout the Autonomic Network so that any ASA can
        receive it. One application of this is to act as an announcement, avoiding the need for
        discovery of a widely applicable objective.<a class="pilcrow" href="#section-2.4-4.4">¶</a>
</li>
        </ul>
<p id="section-2.4-5">Some example messages and simple message flows are provided in <a class="xref" href="#examples">Appendix A</a>.<a class="pilcrow" href="#section-2.4-5">¶</a></p>
</section>
<section id="section-2.5">
        <h3 id="name-grasp-basic-properties-and-">
<a class="section-number selfRef" href="#section-2.5">2.5. </a><a class="section-name selfRef" href="#name-grasp-basic-properties-and-">GRASP Basic Properties and Mechanisms</a>
        </h3>
<div id="reqsec">
<section id="section-2.5.1">
          <h4 id="name-required-external-security-">
<a class="section-number selfRef" href="#section-2.5.1">2.5.1. </a><a class="section-name selfRef" href="#name-required-external-security-">Required External Security Mechanism</a>
          </h4>
<p id="section-2.5.1-1">GRASP does not specify transport security because it is meant to
          be adapted to different environments. Every solution adopting GRASP
          <span class="bcp14">MUST</span> specify a security and transport substrate used by GRASP in
          that solution.<a class="pilcrow" href="#section-2.5.1-1">¶</a></p>
<p id="section-2.5.1-2">The substrate <span class="bcp14">MUST</span> enforce sending and receiving GRASP messages
          only between members of a mutually trusted group running GRASP. Each
          group member is an instance of GRASP. The group members are nodes of
          a connected graph. The group and graph are created by the security
          and transport substrate and are called the GRASP domain.  The substrate
          must support unicast messages between any group members and
          (link-local) multicast messages between adjacent group members. It
          must deny messages between group members and non-group members. With
          this model, security is provided by enforcing group membership, but
          any member of the trusted group can attack the entire network until
          revoked.<a class="pilcrow" href="#section-2.5.1-2">¶</a></p>
<p id="section-2.5.1-3"> Substrates <span class="bcp14">MUST</span> use cryptographic member authentication and
          message integrity for GRASP messages.  This can be end to end or
          hop by hop across the domain. The security and transport substrate
          <span class="bcp14">MUST</span> provide mechanisms to remove untrusted members from the
          group.<a class="pilcrow" href="#section-2.5.1-3">¶</a></p>
<p id="section-2.5.1-4">If the substrate does not mandate and enforce GRASP message
          encryption, then any service using GRASP in such a solution <span class="bcp14">MUST</span>
          provide protection and encryption for message elements whose
          exposure could constitute an attack vector.<a class="pilcrow" href="#section-2.5.1-4">¶</a></p>
<p id="section-2.5.1-5">The security and transport substrate for GRASP in the ANI is the
          ACP. Unless otherwise noted, we assume this security and transport
          substrate in the remainder of this document. The ACP does mandate
          the use of encryption; therefore, GRASP in the ANI can rely on GRASP
          messages being encrypted. The GRASP domain is the ACP: all nodes in
          an autonomic domain connected by encrypted virtual links formed by
          the ACP. The ACP uses hop-by-hop security
          (authentication and encryption) of messages. Removal of nodes relies on
          standard PKI certificate revocation or expiry of sufficiently short-lived 
          certificates. Refer to <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>
          for more details.<a class="pilcrow" href="#section-2.5.1-5">¶</a></p>
<p id="section-2.5.1-6">As mentioned in <a class="xref" href="#highlevel">Section 2.3</a>, some GRASP operations might be
         performed across an administrative domain boundary by mutual agreement, without the
         benefit of an ACP. Such operations
         <span class="bcp14">MUST</span> be confined to a separate instance of GRASP with its own copy of all GRASP
         data structures running across a separate GRASP domain with a security and transport substrate. 
         In the most simple case, each point-to-point interdomain GRASP peering could be a
         separate domain, and the security and transport substrate could be built using transport or network-layer
         security protocols. This is subject to future specifications.<a class="pilcrow" href="#section-2.5.1-6">¶</a></p>
<p id="section-2.5.1-7">An exception to the requirements for the security and transport substrate exists 
         for highly constrained subsets of GRASP meant to support the establishment of a security and transport substrate,
         described in the following section.<a class="pilcrow" href="#section-2.5.1-7">¶</a></p>
</section>
</div>
<div id="secinst">
<section id="section-2.5.2">
          <h4 id="name-discovery-unsolicited-link-">
<a class="section-number selfRef" href="#section-2.5.2">2.5.2. </a><a class="section-name selfRef" href="#name-discovery-unsolicited-link-">Discovery Unsolicited Link-Local (DULL) GRASP</a>
          </h4>
<p id="section-2.5.2-1">Some services may need to use insecure GRASP discovery, response,
          and flood messages without being able to use preexisting security
          associations, for example, as part of discovery for establishing
          security associations such as a security substrate for GRASP.<a class="pilcrow" href="#section-2.5.2-1">¶</a></p>
<p id="section-2.5.2-2">Such operations being intrinsically insecure, they need to be confined to link-local
         use to minimize the risk of malicious actions. Possible examples
         include discovery of candidate ACP neighbors 
         <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>, discovery of bootstrap
         proxies <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span>, or perhaps
         initialization services in networks using GRASP without being fully autonomic
         (e.g., no ACP).
         Such usage <span class="bcp14">MUST</span> be limited to link-local operations on a single interface and <span class="bcp14">MUST</span> be confined
         to a separate insecure instance of GRASP with its own copy of all GRASP
         data structures. This instance is nicknamed DULL -- Discovery Unsolicited Link-Local.<a class="pilcrow" href="#section-2.5.2-2">¶</a></p>
<p id="section-2.5.2-3">The detailed rules for the DULL instance of GRASP are as follows:<a class="pilcrow" href="#section-2.5.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.5.2-4.1">An initiator <span class="bcp14">MAY</span> send Discovery or Flood Synchronization link-local
         multicast messages that <span class="bcp14">MUST</span> have a loop count of 1, to prevent
         off-link operations.
         Other unsolicited GRASP message types <span class="bcp14">MUST NOT</span> be sent.<a class="pilcrow" href="#section-2.5.2-4.1">¶</a>
</li>
            <li class="normal" id="section-2.5.2-4.2">A responder <span class="bcp14">MUST</span> silently discard any message whose loop count is not 1.<a class="pilcrow" href="#section-2.5.2-4.2">¶</a>
</li>
            <li class="normal" id="section-2.5.2-4.3">A responder <span class="bcp14">MUST</span> silently discard any message referring to a GRASP objective that is
         not directly part of a service that requires this insecure mode.<a class="pilcrow" href="#section-2.5.2-4.3">¶</a>
</li>
            <li class="normal" id="section-2.5.2-4.4">A responder <span class="bcp14">MUST NOT</span> relay any multicast messages.<a class="pilcrow" href="#section-2.5.2-4.4">¶</a>
</li>
            <li class="normal" id="section-2.5.2-4.5">A Discovery Response <span class="bcp14">MUST</span> indicate a link-local address.<a class="pilcrow" href="#section-2.5.2-4.5">¶</a>
</li>
            <li class="normal" id="section-2.5.2-4.6">A Discovery Response <span class="bcp14">MUST NOT</span> include a Divert option.<a class="pilcrow" href="#section-2.5.2-4.6">¶</a>
</li>
            <li class="normal" id="section-2.5.2-4.7">A node <span class="bcp14">MUST</span> silently discard any message whose source address is not link-local.<a class="pilcrow" href="#section-2.5.2-4.7">¶</a>
</li>
          </ul>
<p id="section-2.5.2-5">To minimize traffic possibly observed by third parties,
         GRASP traffic <span class="bcp14">SHOULD</span> be minimized by using only Flood Synchronization
         to announce objectives and their associated locators, rather than by using Discovery
         and Discovery Response messages. Further details are out of scope for this document.<a class="pilcrow" href="#section-2.5.2-5">¶</a></p>
</section>
</div>
<div id="trans">
<section id="section-2.5.3">
          <h4 id="name-transport-layer-usage">
<a class="section-number selfRef" href="#section-2.5.3">2.5.3. </a><a class="section-name selfRef" href="#name-transport-layer-usage">Transport Layer Usage</a>
          </h4>
<p id="section-2.5.3-1">All GRASP messages, after they are serialized as a CBOR byte string, are transmitted
        as such directly over the transport protocol in use. The transport protocol(s) for a GRASP
        domain are specified by the security and transport substrate as introduced in <a class="xref" href="#reqsec">Section 2.5.1</a>.<a class="pilcrow" href="#section-2.5.3-1">¶</a></p>
<p id="section-2.5.3-2">GRASP discovery and flooding messages are designed for GRASP domain-wide flooding
        through hop-by-hop link-local multicast forwarding between adjacent GRASP nodes. The
        GRASP security and transport substrate needs to specify how these link-local multicasts
        are transported. This can be unreliable transport (UDP) but it <span class="bcp14">SHOULD</span> be reliable
        transport (e.g., TCP).<a class="pilcrow" href="#section-2.5.3-2">¶</a></p>
<p id="section-2.5.3-3">If the substrate specifies an unreliable transport such as UDP for discovery and flooding messages,
        then it <span class="bcp14">MUST NOT</span> use IP fragmentation because of its loss characteristic, especially
        in multi-hop flooding. GRASP <span class="bcp14">MUST</span> then enforce at the user API level a limit to the size
        of discovery and flooding messages, so that no fragmentation can occur.  For IPv6 transport, this 
        means that the size of those messages' IPv6 packets must be at most 1280 bytes (unless there is a known 
        larger minimum link MTU across the whole GRASP domain).<a class="pilcrow" href="#section-2.5.3-3">¶</a></p>
<p id="section-2.5.3-4">All other GRASP messages are unicast between group members of the GRASP domain. These
        <span class="bcp14">MUST</span> use a reliable transport protocol because GRASP itself does not provide for error detection,
        retransmission, or flow control. Unless otherwise specified by the security and transport
        substrate, TCP <span class="bcp14">MUST</span> be used.<a class="pilcrow" href="#section-2.5.3-4">¶</a></p>
<p id="section-2.5.3-5">The security and transport substrate for GRASP in the ANI is the ACP. Unless otherwise noted,
        we assume this security and transport substrate in the remainder of this document when describing
        GRASP's message transport. In the ACP, TCP is used for GRASP unicast messages. GRASP discovery and
        flooding messages also use TCP: these link-local messages are forwarded by replicating them to
        all adjacent GRASP nodes on the link via TCP connections to those adjacent GRASP nodes. Because
        of this, GRASP in the ANI has no limitations on the size of discovery and flooding messages with
        respect to fragmentation issues. While the ACP is being built using a DULL instance of GRASP,
        native UDP multicast is used to discover ACP/GRASP neighbors on links.<a class="pilcrow" href="#section-2.5.3-5">¶</a></p>
<p id="section-2.5.3-6">For link-local UDP multicast, GRASP listens to the well-known
        GRASP Listen Port (<a class="xref" href="#Constants">Section 2.6</a>). Transport connections for discovery
        and flooding on relay nodes must terminate in GRASP instances (e.g., GRASP ASAs) so
        that link-local multicast, hop-by-hop flooding of M_DISCOVERY and M_FLOOD messages and hop-by-hop forwarding
        of M_RESPONSE responses and caching of those responses along the path work correctly.<a class="pilcrow" href="#section-2.5.3-6">¶</a></p>
<p id="section-2.5.3-7">Unicast transport connections used for synchronization and negotiation can terminate
        directly in ASAs that implement objectives; therefore, this traffic does not need to
        pass through GRASP instances. For this, the ASA listens on its own dynamically assigned ports,
        which are communicated to its peers during discovery. Alternatively, the GRASP instance
        can also terminate the unicast transport connections and pass the traffic from/to the 
        ASA if that is preferable in some implementations (e.g., to better decouple ASAs from
        network connections).<a class="pilcrow" href="#section-2.5.3-7">¶</a></p>
</section>
</div>
<div id="discmech">
<section id="section-2.5.4">
          <h4 id="name-discovery-mechanism-and-pro">
<a class="section-number selfRef" href="#section-2.5.4">2.5.4. </a><a class="section-name selfRef" href="#name-discovery-mechanism-and-pro">Discovery Mechanism and Procedures</a>
          </h4>
<section id="section-2.5.4.1">
            <h5 id="name-separated-discovery-and-neg">
<a class="section-number selfRef" href="#section-2.5.4.1">2.5.4.1. </a><a class="section-name selfRef" href="#name-separated-discovery-and-neg">Separated Discovery and Negotiation Mechanisms</a>
            </h5>
<p id="section-2.5.4.1-1">Although discovery and negotiation or synchronization are defined
                  together in GRASP, they are separate mechanisms. The discovery
                  process could run independently from the negotiation or synchronization
                  process. Upon receiving a Discovery message (<a class="xref" href="#DiscoveryMessage">Section 2.8.4</a>),
                  the
                  recipient node should return a Discovery Response message in which it either
                  indicates itself as a discovery responder or diverts the
                  initiator towards another more suitable ASA. However, this
                  response may be delayed if the recipient needs to relay
                  the Discovery message  onward, as described in <a class="xref" href="#discovery-relaying">Section 2.5.4.4</a>.<a class="pilcrow" href="#section-2.5.4.1-1">¶</a></p>
<p id="section-2.5.4.1-2">The discovery action (M_DISCOVERY) will normally be followed by
                  a negotiation (M_REQ_NEG) or synchronization (M_REQ_SYN) action. The
                  discovery results could be utilized by the negotiation
                  protocol to decide which ASA the initiator will negotiate
                  with.<a class="pilcrow" href="#section-2.5.4.1-2">¶</a></p>
<p id="section-2.5.4.1-3">The initiator of a discovery action for a given objective need not
                  be capable of responding to that objective as a negotiation counterpart, as a
                  synchronization responder, or as source for flooding. For example, an ASA might perform
                  discovery even if it only wishes to act as a synchronization initiator or negotiation initiator.
                  Such an ASA does not itself need to respond to Discovery messages.<a class="pilcrow" href="#section-2.5.4.1-3">¶</a></p>
<p id="section-2.5.4.1-4">It is also entirely possible to use GRASP discovery without any subsequent
                  negotiation or synchronization action. In this case, the discovered objective
                  is simply used as a name during the discovery process, and any subsequent
                  operations between the peers are outside the scope of GRASP.<a class="pilcrow" href="#section-2.5.4.1-4">¶</a></p>
</section>
<div id="discovw">
<section id="section-2.5.4.2">
            <h5 id="name-discovery-overview">
<a class="section-number selfRef" href="#section-2.5.4.2">2.5.4.2. </a><a class="section-name selfRef" href="#name-discovery-overview">Discovery Overview</a>
            </h5>
<p id="section-2.5.4.2-1">A complete discovery process will start with a multicast Discovery message (M_DISCOVERY) on the 
                local link. On-link neighbors supporting the discovery objective will
                respond directly with Discovery Response (M_RESPONSE) messages. A neighbor with multiple interfaces may respond
                with a cached Discovery Response. If it has no cached response, it will relay the 
                Discovery message on its other GRASP interfaces.
                 If a node receiving the relayed Discovery message
                supports the discovery objective, it will respond to the relayed Discovery message.
                If it has a cached response, it will respond with that. 
                If not, it will repeat the discovery process, which thereby becomes iterative.
                The loop count and timeout will ensure that the process ends. Further details
                are given in <a class="xref" href="#discovery-relaying">Section 2.5.4.4</a>.<a class="pilcrow" href="#section-2.5.4.2-1">¶</a></p>
<p id="section-2.5.4.2-2">A Discovery message <span class="bcp14">MAY</span> be sent unicast to a peer node,
                which <span class="bcp14">SHOULD</span> then proceed exactly as if the message had been multicast,
                except that when TCP is used, the response will be
                on the same socket as the query. However,
                this mode does not guarantee successful discovery in the general case.<a class="pilcrow" href="#section-2.5.4.2-2">¶</a></p>
</section>
</div>
<div id="discproc">
<section id="section-2.5.4.3">
            <h5 id="name-discovery-procedures">
<a class="section-number selfRef" href="#section-2.5.4.3">2.5.4.3. </a><a class="section-name selfRef" href="#name-discovery-procedures">Discovery Procedures</a>
            </h5>
<p id="section-2.5.4.3-1">Discovery starts as an on-link operation. The Divert option
                  can tell the discovery initiator to contact an off-link
                  ASA for that discovery objective. If the security and transport substrate
                  of the GRASP domain (see <a class="xref" href="#trans">Section 2.5.3</a>) uses UDP link-local multicast,
                  then the discovery initiator sends these to the ALL_GRASP_NEIGHBORS link-local
                  multicast address (<a class="xref" href="#Constants">Section 2.6</a>), and all GRASP nodes need
                  to listen to this address to act as discovery responders.
                  Because this port
                  is unique in a device, this is a function of the GRASP instance
                  and not of an individual ASA. As a result, each ASA will need to
                  register the objectives that it supports with the local GRASP instance.<a class="pilcrow" href="#section-2.5.4.3-1">¶</a></p>
<p id="section-2.5.4.3-2">If an ASA in a neighbor device supports the requested discovery objective,
                  the device <span class="bcp14">SHOULD</span> respond to the link-local multicast with a unicast Discovery Response
                  message (<a class="xref" href="#ResponseMessage">Section 2.8.5</a>) with locator option(s) (<a class="xref" href="#LocatorOption">Section 2.9.5</a>) unless it is
                  temporarily unavailable. Otherwise, if the neighbor has cached information
                  about an ASA that supports the requested discovery objective (usually
                  because it discovered the same objective before), it <span class="bcp14">SHOULD</span>
                  respond with a Discovery Response message with a Divert option pointing
                  to the appropriate discovery responder. However, it <span class="bcp14">SHOULD NOT</span> respond
                  with a cached response on an interface if it learned that information from
                  the same interface because the peer in question will answer directly if still
                  operational.<a class="pilcrow" href="#section-2.5.4.3-2">¶</a></p>
<p id="section-2.5.4.3-3">If a device has no information about the requested discovery objective
                  and is not acting as a discovery relay (see <a class="xref" href="#discovery-relaying">Section 2.5.4.4</a>), it <span class="bcp14">MUST</span> silently
                  discard the Discovery message.<a class="pilcrow" href="#section-2.5.4.3-3">¶</a></p>
<p id="section-2.5.4.3-4">The discovery initiator <span class="bcp14">MUST</span> set a reasonable timeout on the
                  discovery process. A suggested value is 100 milliseconds multiplied by the loop count
                  embedded in the objective.<a class="pilcrow" href="#section-2.5.4.3-4">¶</a></p>
<p id="section-2.5.4.3-5">If no Discovery Response is received within the timeout,
                  the Discovery message <span class="bcp14">MAY</span> be repeated with a newly generated
                  Session ID (<a class="xref" href="#SessionID">Section 2.7</a>). An exponential backoff <span class="bcp14">SHOULD</span> be used
                  for subsequent repetitions to limit the load during busy periods. The
                  details of the backoff algorithm will depend on the use case for the
                  objective concerned but <span class="bcp14">MUST</span> be consistent with the recommendations
                  in <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span> for low data-volume multicast.
                  Frequent repetition might be symptomatic of a denial-of-service attack.<a class="pilcrow" href="#section-2.5.4.3-5">¶</a></p>
<p id="section-2.5.4.3-6">After a GRASP device successfully discovers a locator for a discovery responder
                  supporting a specific objective, it <span class="bcp14">SHOULD</span> cache this information, including the interface
                  index <span>[<a class="xref" href="#RFC3493">RFC3493</a>]</span> via which it was discovered. This cache record <span class="bcp14">MAY</span> be used for future
                  negotiation or synchronization, and the locator <span class="bcp14">SHOULD</span> be passed on when appropriate
                  as a Divert option to another discovery initiator.<a class="pilcrow" href="#section-2.5.4.3-6">¶</a></p>
<p id="section-2.5.4.3-7">The cache mechanism <span class="bcp14">MUST</span> include a lifetime for each entry. The
                  lifetime is derived from a time-to-live (ttl) parameter in each
                  Discovery Response message.
                  Cached entries <span class="bcp14">MUST</span> be ignored or deleted after their lifetime expires.
                  In some environments, unplanned address renumbering might occur.
                  In such cases, the lifetime <span class="bcp14">SHOULD</span> be short compared to
                  the typical address lifetime. The discovery mechanism
                  needs to track the node's current address to ensure that Discovery
                  Responses always indicate the correct address.<a class="pilcrow" href="#section-2.5.4.3-7">¶</a></p>
<p id="section-2.5.4.3-8">If multiple discovery responders are found for the same objective, they
                  <span class="bcp14">SHOULD</span> all be cached unless this creates a resource shortage. The method
                  of choosing between multiple responders is an implementation choice.
                  This choice <span class="bcp14">MUST</span> be available to each ASA, but the GRASP implementation
                  <span class="bcp14">SHOULD</span> provide a default choice.<a class="pilcrow" href="#section-2.5.4.3-8">¶</a></p>
<p id="section-2.5.4.3-9">Because discovery responders will be cached in a finite cache, they might
                  be deleted at any time. In this case, discovery will need to be repeated. If an
                  ASA exits for any reason, its locator might still be cached for some time,
                  and attempts to connect to it will fail. ASAs need to be robust in these
                  circumstances.<a class="pilcrow" href="#section-2.5.4.3-9">¶</a></p>
</section>
</div>
<div id="discovery-relaying">
<section id="section-2.5.4.4">
            <h5 id="name-discovery-relaying">
<a class="section-number selfRef" href="#section-2.5.4.4">2.5.4.4. </a><a class="section-name selfRef" href="#name-discovery-relaying">Discovery Relaying</a>
            </h5>
<p id="section-2.5.4.4-1">A GRASP instance with multiple link-layer interfaces (typically
            running in a router) <span class="bcp14">MUST</span> support discovery on all
            GRASP interfaces. We refer to this as a 'relaying instance'.<a class="pilcrow" href="#section-2.5.4.4-1">¶</a></p>
<p id="section-2.5.4.4-2">DULL instances (<a class="xref" href="#secinst">Section 2.5.2</a>) are
                  always single-interface instances and therefore <span class="bcp14">MUST NOT</span> perform discovery relaying.<a class="pilcrow" href="#section-2.5.4.4-2">¶</a></p>
<p id="section-2.5.4.4-3">If a relaying instance receives a Discovery message on a given
            interface for a specific objective that it does not support and
            for which it has not previously cached a discovery responder, it
            <span class="bcp14">MUST</span> relay the query by reissuing a new Discovery
            message as a link-local multicast on its other GRASP
            interfaces.<a class="pilcrow" href="#section-2.5.4.4-3">¶</a></p>
<p id="section-2.5.4.4-4"> The relayed Discovery message <span class="bcp14">MUST</span> have the
            same Session ID and 'initiator' field as the incoming message (see <a class="xref" href="#DiscoveryMessage">Section 2.8.4</a>). The IP
            address in the 'initiator' field is only used to disambiguate the
            Session ID and is never used to address Response packets.
            Response packets are sent back to the relaying instance, not the
            original initiator.<a class="pilcrow" href="#section-2.5.4.4-4">¶</a></p>
<p id="section-2.5.4.4-5">The M_DISCOVERY message does not encode the transport address
            of the originator or relay. Response packets must therefore be
            sent to the transport-layer address of the connection on which the
            M_DISCOVERY message was received. If the M_DISCOVERY was relayed
            via a reliable hop-by-hop transport connection, the response is
            simply sent back via the same connection.<a class="pilcrow" href="#section-2.5.4.4-5">¶</a></p>
<p id="section-2.5.4.4-6">If the M_DISCOVERY was relayed via link-local (e.g., UDP)
            multicast, the response is sent back via a reliable hop-by-hop
            transport connection with the same port number as the source port
            of the link-local multicast. Therefore, if link-local multicast is
            used and M_RESPONSE messages are required (which is the case in
            almost all GRASP instances except for the limited use of DULL
            instances in the ANI), GRASP needs to be able to bind to one port
            number on UDP from which to originate the link-local multicast
            M_DISCOVERY messages and the same port number on the reliable
            hop-by-hop transport (e.g., TCP by default) to be able to respond to
            transport connections from responders that want to send M_RESPONSE
            messages back. Note that this port does not need to be the
            GRASP_LISTEN_PORT.<a class="pilcrow" href="#section-2.5.4.4-6">¶</a></p>
<p id="section-2.5.4.4-7">The relaying instance <span class="bcp14">MUST</span> decrement the loop
            count within the objective, and <span class="bcp14">MUST NOT</span> relay the
            Discovery message if the result is zero.  Also, it
            <span class="bcp14">MUST</span> limit the total rate at which it relays
            Discovery messages to a reasonable value in order to mitigate
            possible denial-of-service attacks.  For example, the rate limit
            could be set to a small multiple of the observed rate of Discovery
            messages during normal operation.  The relaying instance
            <span class="bcp14">MUST</span> cache the Session ID value and initiator
            address of each relayed Discovery message until any Discovery
            Responses have arrived or the discovery process has timed out.  To
            prevent loops, it <span class="bcp14">MUST NOT</span> relay a Discovery
            message that carries a given cached Session ID and initiator
            address more than once.  These precautions avoid discovery loops
            and mitigate potential overload.<a class="pilcrow" href="#section-2.5.4.4-7">¶</a></p>
<p id="section-2.5.4.4-8">Since the relay device is unaware of the timeout set by the original
                  initiator, it <span class="bcp14">SHOULD</span> set a suitable timeout for the relayed Discovery message. 
                  A suggested value is 100 milliseconds multiplied by the remaining loop count.<a class="pilcrow" href="#section-2.5.4.4-8">¶</a></p>
<p id="section-2.5.4.4-9">The discovery results received by the relaying instance <span class="bcp14">MUST</span> in turn be
                  sent as a Discovery Response message to the Discovery message that caused
                  the relay action.<a class="pilcrow" href="#section-2.5.4.4-9">¶</a></p>
</section>
</div>
<div id="rapid">
<section id="section-2.5.4.5">
            <h5 id="name-rapid-mode-discovery-with-n">
<a class="section-number selfRef" href="#section-2.5.4.5">2.5.4.5. </a><a class="section-name selfRef" href="#name-rapid-mode-discovery-with-n">Rapid Mode (Discovery with Negotiation or Synchronization)</a>
            </h5>
<p id="section-2.5.4.5-1">A Discovery message <span class="bcp14">MAY</span> include an
                  objective option. This allows a rapid mode of negotiation
                  (<a class="xref" href="#rapidneg">Section 2.5.5.1</a>) or
                  synchronization (<a class="xref" href="#rapidsynch">Section 2.5.6.3</a>).
                  Rapid mode is currently limited to a single objective
                  for simplicity of design and implementation. A possible future extension
                  is to allow multiple objectives in rapid mode for greater efficiency.<a class="pilcrow" href="#section-2.5.4.5-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="negproc">
<section id="section-2.5.5">
          <h4 id="name-negotiation-procedures">
<a class="section-number selfRef" href="#section-2.5.5">2.5.5. </a><a class="section-name selfRef" href="#name-negotiation-procedures">Negotiation Procedures</a>
          </h4>
<p id="section-2.5.5-1">A negotiation initiator opens a transport connection to a
          counterpart ASA using the address, protocol, and port obtained during discovery.
          It then sends a negotiation request (using M_REQ_NEG) to the counterpart,
          including a specific negotiation objective. It may request the negotiation
          counterpart to make a specific configuration. Alternatively, it may
          request a certain simulation or forecast result by sending a dry-run configuration.
          The details, including the distinction between a dry run and a live
          configuration change, will be defined separately for each type of negotiation
          objective. Any state associated with a dry-run operation,
          such as temporarily reserving a resource for subsequent use in a live
          run, is entirely a matter for the designer of the ASA concerned.<a class="pilcrow" href="#section-2.5.5-1">¶</a></p>
<p id="section-2.5.5-2">Each negotiation session as a whole is subject to a timeout
          (default GRASP_DEF_TIMEOUT milliseconds, <a class="xref" href="#Constants">Section 2.6</a>),
          initialized when the request is sent (see <a class="xref" href="#RequestMessage">Section 2.8.6</a>).
          If no reply message of any kind is received within the timeout,
          the negotiation request <span class="bcp14">MAY</span> be repeated with a newly generated
          Session ID (<a class="xref" href="#SessionID">Section 2.7</a>). An exponential backoff <span class="bcp14">SHOULD</span> be used
          for subsequent repetitions. The
          details of the backoff algorithm will depend on the use case for the
          objective concerned.<a class="pilcrow" href="#section-2.5.5-2">¶</a></p>
<p id="section-2.5.5-3">If the counterpart can immediately apply the requested
          configuration, it will give an immediate positive (O_ACCEPT) answer using the Negotiation End (M_END) message.
          This will end the negotiation phase immediately. Otherwise, it will
          negotiate (using M_NEGOTIATE). It will reply with a proposed alternative configuration
          that it can apply (typically, a configuration that uses fewer resources
          than requested by the negotiation initiator). This will start a
          bidirectional negotiation using the Negotiate (M_NEGOTIATE) message to reach a compromise between the two ASAs.<a class="pilcrow" href="#section-2.5.5-3">¶</a></p>
<p id="section-2.5.5-4">The negotiation procedure is ended when one of the negotiation
          peers sends a Negotiation End (M_END) message, which contains an Accept (O_ACCEPT)
          or Decline (O_DECLINE) option and does not need a response from the negotiation
          peer. Negotiation may also end in failure (equivalent to a decline)
          if a timeout is exceeded or a loop count is exceeded. When the procedure
          ends for whatever reason, the transport connection <span class="bcp14">SHOULD</span> be closed.
          A transport session failure is treated as a negotiation failure.<a class="pilcrow" href="#section-2.5.5-4">¶</a></p>
<p id="section-2.5.5-5">A negotiation procedure concerns one objective and one
          counterpart. Both the initiator and the counterpart may take part in
          simultaneous negotiations with various other ASAs or in
          simultaneous negotiations about different objectives. Thus, GRASP is
          expected to be used in a multithreaded mode or its logical equivalent. Certain negotiation
          objectives may have restrictions on multithreading, for example to
          avoid over-allocating resources.<a class="pilcrow" href="#section-2.5.5-5">¶</a></p>
<p id="section-2.5.5-6">Some configuration actions, for example, wavelength switching
          in optical networks, might take considerable time to execute. The ASA
          concerned needs to allow for this by design, but GRASP does allow for
          a peer to insert latency in a negotiation process if necessary
          (<a class="xref" href="#ConfirmWaitingMessage">Section 2.8.9</a>, M_WAIT).<a class="pilcrow" href="#section-2.5.5-6">¶</a></p>
<div id="rapidneg">
<section id="section-2.5.5.1">
            <h5 id="name-rapid-mode-discovery-negoti">
<a class="section-number selfRef" href="#section-2.5.5.1">2.5.5.1. </a><a class="section-name selfRef" href="#name-rapid-mode-discovery-negoti">Rapid Mode (Discovery/Negotiation Linkage)</a>
            </h5>
<p id="section-2.5.5.1-1">A Discovery message <span class="bcp14">MAY</span> include a Negotiation
             Objective option. In this case, it is as if the initiator sent the sequence
             M_DISCOVERY immediately followed by M_REQ_NEG.
             This has implications for the construction of the GRASP core, as it must carefully
             pass the contents of the Negotiation Objective option to the ASA so that it
             may evaluate the objective directly. When a Negotiation Objective option is
             present, the ASA replies with an M_NEGOTIATE message (or M_END with O_ACCEPT if it is
             immediately satisfied with the proposal) rather than with an M_RESPONSE.
             However, if the recipient node does not support rapid mode, discovery will
             continue normally.<a class="pilcrow" href="#section-2.5.5.1-1">¶</a></p>
<p id="section-2.5.5.1-2">It is possible that a Discovery Response will arrive from a responder that
             does not support rapid mode before such a Negotiation message arrives.
             In this case, rapid mode will not occur.<a class="pilcrow" href="#section-2.5.5.1-2">¶</a></p>
<p id="section-2.5.5.1-3">This rapid mode could reduce the interactions between
             nodes so that a higher efficiency could be achieved. However, a network in which some
             nodes support rapid mode and others do not will have complex timing-dependent behaviors.
             Therefore, the rapid negotiation function <span class="bcp14">SHOULD</span> be disabled by default.<a class="pilcrow" href="#section-2.5.5.1-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="synchproc">
<section id="section-2.5.6">
          <h4 id="name-synchronization-and-floodin">
<a class="section-number selfRef" href="#section-2.5.6">2.5.6. </a><a class="section-name selfRef" href="#name-synchronization-and-floodin">Synchronization and Flooding Procedures</a>
          </h4>
<div id="synch">
<section id="section-2.5.6.1">
            <h5 id="name-unicast-synchronization">
<a class="section-number selfRef" href="#section-2.5.6.1">2.5.6.1. </a><a class="section-name selfRef" href="#name-unicast-synchronization">Unicast Synchronization</a>
            </h5>
<p id="section-2.5.6.1-1">A synchronization initiator opens a transport connection to a
          counterpart ASA using the address, protocol, and port obtained during discovery.
          It then sends a Request Synchronization message (M_REQ_SYN, <a class="xref" href="#RequestMessage">Section 2.8.6</a>) to the
          counterpart, including a specific synchronization objective.
          The counterpart responds with a Synchronization message (M_SYNCH, <a class="xref" href="#SynchMessage">Section 2.8.10</a>)
          containing the current value of the requested synchronization
          objective. No further messages are needed, and the transport
          connection <span class="bcp14">SHOULD</span> be closed. A transport session failure is treated
          as a synchronization failure.<a class="pilcrow" href="#section-2.5.6.1-1">¶</a></p>
<p id="section-2.5.6.1-2">If no reply message of any kind is received within a given timeout
          (default GRASP_DEF_TIMEOUT milliseconds, <a class="xref" href="#Constants">Section 2.6</a>),
          the synchronization request <span class="bcp14">MAY</span> be repeated with a newly generated
          Session ID (<a class="xref" href="#SessionID">Section 2.7</a>). An exponential backoff <span class="bcp14">SHOULD</span> be used
          for subsequent repetitions. The
          details of the backoff algorithm will depend on the use case for the
          objective concerned.<a class="pilcrow" href="#section-2.5.6.1-2">¶</a></p>
</section>
</div>
<div id="flooding">
<section id="section-2.5.6.2">
            <h5 id="name-flooding">
<a class="section-number selfRef" href="#section-2.5.6.2">2.5.6.2. </a><a class="section-name selfRef" href="#name-flooding">Flooding</a>
            </h5>
<p id="section-2.5.6.2-1">In the case just described, the message exchange is unicast and
          concerns only one synchronization objective. For large groups of nodes
          requiring the same data, synchronization flooding is available. For this, 
          a flooding initiator <span class="bcp14">MAY</span> send an unsolicited Flood Synchronization message (<a class="xref" href="#FloodMessage">Section 2.8.11</a>) containing
          one or more Synchronization Objective option(s), if and only if the specification 
          of those objectives permits it. This is sent as a multicast message to the 
          ALL_GRASP_NEIGHBORS multicast address (<a class="xref" href="#Constants">Section 2.6</a>).<a class="pilcrow" href="#section-2.5.6.2-1">¶</a></p>
<p id="section-2.5.6.2-2">Receiving flood multicasts is a function of the GRASP core, 
          as in the case of discovery multicasts (<a class="xref" href="#discproc">Section 2.5.4.3</a>).<a class="pilcrow" href="#section-2.5.6.2-2">¶</a></p>
<p id="section-2.5.6.2-3">To ensure that flooding does not result in a loop, the originator of the Flood Synchronization message
          <span class="bcp14">MUST</span> set the loop count in the objectives to a suitable value (the default is GRASP_DEF_LOOPCT).
          Also, a suitable mechanism is needed
          to avoid excessive multicast traffic. This mechanism <span class="bcp14">MUST</span> be defined as part of the
          specification of the synchronization objective(s) concerned. It might be a simple rate
          limit or a more complex mechanism such as the Trickle algorithm <span>[<a class="xref" href="#RFC6206">RFC6206</a>]</span>.<a class="pilcrow" href="#section-2.5.6.2-3">¶</a></p>
<p id="section-2.5.6.2-4">A GRASP device with multiple link-layer interfaces (typically a router) <span class="bcp14">MUST</span>
          support synchronization flooding on all GRASP interfaces. If it receives a multicast
          Flood Synchronization message on a given interface, it <span class="bcp14">MUST</span> relay
          it by reissuing a Flood Synchronization message as a link-local multicast
          on its other GRASP interfaces.
          The relayed message <span class="bcp14">MUST</span> have the same Session ID as the incoming
          message and <span class="bcp14">MUST</span> be tagged with the IP address of its original initiator.<a class="pilcrow" href="#section-2.5.6.2-4">¶</a></p>
<p id="section-2.5.6.2-5">Link-layer flooding is supported by GRASP by setting the loop count to 1
          and sending with a link-local source address. Floods with link-local source addresses
          and a loop count other than 1 are invalid, and such messages <span class="bcp14">MUST</span> be discarded.<a class="pilcrow" href="#section-2.5.6.2-5">¶</a></p>
<p id="section-2.5.6.2-6">The relaying device <span class="bcp14">MUST</span> decrement the loop count within the first objective and  
          <span class="bcp14">MUST NOT</span> relay the Flood Synchronization message if the result is zero.
          Also, it <span class="bcp14">MUST</span> limit the total rate at which it relays Flood Synchronization messages
          to a reasonable value, in order to mitigate possible denial-of-service attacks.
          For example, the rate limit could be set to a small multiple of the observed
          rate of flood messages during normal operation.
          The relaying device <span class="bcp14">MUST</span> cache the Session ID value and initiator address of each relayed
          Flood Synchronization message for a time not less than twice GRASP_DEF_TIMEOUT milliseconds.
          To prevent loops, it <span class="bcp14">MUST NOT</span> relay a Flood Synchronization message
          that carries a given cached Session ID and initiator address more than once.
          These precautions avoid synchronization loops and mitigate potential overload.<a class="pilcrow" href="#section-2.5.6.2-6">¶</a></p>
<p id="section-2.5.6.2-7">Note that this mechanism is unreliable in the case of sleeping nodes,
          or new nodes that join the network, or nodes that rejoin the network
          after a fault. An ASA that initiates a flood <span class="bcp14">SHOULD</span> repeat the flood
          at a suitable frequency, which <span class="bcp14">MUST</span> be consistent with the recommendations
          in <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span> for low data-volume multicast.
          The ASA <span class="bcp14">SHOULD</span> also act as a synchronization responder for
          the objective(s) concerned. Thus nodes that require an objective subject to
          flooding can either wait for the next flood or request unicast synchronization
          for that objective.<a class="pilcrow" href="#section-2.5.6.2-7">¶</a></p>
<p id="section-2.5.6.2-8">The multicast messages for synchronization flooding are subject to the security
          rules in <a class="xref" href="#reqsec">Section 2.5.1</a>. In practice, this means that they <span class="bcp14">MUST NOT</span> be transmitted
          and <span class="bcp14">MUST</span> be ignored on receipt unless there is an operational ACP or equivalent strong
          security in place. However, because
          of the security weakness of link-local multicast (<a class="xref" href="#security">Section 3</a>),
          synchronization objectives that are flooded <span class="bcp14">SHOULD NOT</span> contain unencrypted private
          information and <span class="bcp14">SHOULD</span> be validated by the recipient ASA.<a class="pilcrow" href="#section-2.5.6.2-8">¶</a></p>
</section>
</div>
<div id="rapidsynch">
<section id="section-2.5.6.3">
            <h5 id="name-rapid-mode-discovery-synchr">
<a class="section-number selfRef" href="#section-2.5.6.3">2.5.6.3. </a><a class="section-name selfRef" href="#name-rapid-mode-discovery-synchr">Rapid Mode (Discovery/Synchronization Linkage)</a>
            </h5>
<p id="section-2.5.6.3-1">A Discovery message <span class="bcp14">MAY</span> include a Synchronization
             Objective option. In this case, the Discovery message also acts
             as a Request Synchronization message to indicate to the discovery responder
             that it could directly reply to the discovery initiator with
             a Synchronization message (<a class="xref" href="#SynchMessage">Section 2.8.10</a>) with synchronization data for rapid processing,
             if the discovery target supports the corresponding synchronization
             objective. The design implications are similar to those discussed in <a class="xref" href="#rapidneg">Section 2.5.5.1</a>.<a class="pilcrow" href="#section-2.5.6.3-1">¶</a></p>
<p id="section-2.5.6.3-2">It is possible that a Discovery Response will arrive from a responder that
             does not support rapid mode before such a Synchronization message arrives.
             In this case, rapid mode will not occur.<a class="pilcrow" href="#section-2.5.6.3-2">¶</a></p>
<p id="section-2.5.6.3-3">This rapid mode could reduce the interactions between
             nodes so that a higher efficiency could be achieved. However, a network in which some
             nodes support rapid mode and others do not will have complex timing-dependent behaviors.
             Therefore, the rapid synchronization function <span class="bcp14">SHOULD</span> be configured off by default
             and <span class="bcp14">MAY</span> be configured on or off by Intent.<a class="pilcrow" href="#section-2.5.6.3-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
<div id="Constants">
<section id="section-2.6">
        <h3 id="name-grasp-constants">
<a class="section-number selfRef" href="#section-2.6">2.6. </a><a class="section-name selfRef" href="#name-grasp-constants">GRASP Constants</a>
        </h3>
<span class="break"></span><dl class="dlNewline" id="section-2.6-1">
          <dt id="section-2.6-1.1">ALL_GRASP_NEIGHBORS
</dt>
          <dd id="section-2.6-1.2" style="margin-left: 1.5em">
            <p id="section-2.6-1.2.1">A link-local scope multicast address used by a GRASP-enabled device to
discover GRASP-enabled neighbor (i.e., on-link) devices. All devices that
support GRASP are members of this multicast group.<a class="pilcrow" href="#section-2.6-1.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.6-1.2.2.1">IPv6 multicast address: ff02::13<a class="pilcrow" href="#section-2.6-1.2.2.1">¶</a>
</li>
              <li class="normal" id="section-2.6-1.2.2.2">IPv4 multicast address: 224.0.0.119<a class="pilcrow" href="#section-2.6-1.2.2.2">¶</a>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt id="section-2.6-1.3">GRASP_LISTEN_PORT (7017) 
</dt>
          <dd id="section-2.6-1.4" style="margin-left: 1.5em">
            <p id="section-2.6-1.4.1">A well-known UDP user port that every GRASP-enabled network device
<span class="bcp14">MUST</span> listen to for link-local multicasts when UDP is used for
M_DISCOVERY or M_FLOOD messages in the GRASP instance.  This user port
<span class="bcp14">MAY</span> also be used to listen for TCP or UDP unicast messages in a
simple implementation of GRASP (<a class="xref" href="#trans">Section 2.5.3</a>).<a class="pilcrow" href="#section-2.6-1.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.6-1.5">GRASP_DEF_TIMEOUT (60000 milliseconds)
</dt>
          <dd id="section-2.6-1.6" style="margin-left: 1.5em">
            <p id="section-2.6-1.6.1">The default timeout used to determine that an operation has failed to complete.<a class="pilcrow" href="#section-2.6-1.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.6-1.7">GRASP_DEF_LOOPCT (6)
</dt>
          <dd id="section-2.6-1.8" style="margin-left: 1.5em">
            <p id="section-2.6-1.8.1">The default loop count used to determine that a negotiation has failed
to complete and to avoid looping messages.<a class="pilcrow" href="#section-2.6-1.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.6-1.9">GRASP_DEF_MAX_SIZE (2048)
</dt>
          <dd id="section-2.6-1.10" style="margin-left: 1.5em">
            <p id="section-2.6-1.10.1">The default maximum message size in bytes.<a class="pilcrow" href="#section-2.6-1.10.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="SessionID">
<section id="section-2.7">
        <h3 id="name-session-identifier-session-">
<a class="section-number selfRef" href="#section-2.7">2.7. </a><a class="section-name selfRef" href="#name-session-identifier-session-">Session Identifier (Session ID)</a>
        </h3>
<p id="section-2.7-1">This is an up to 32-bit opaque value used to distinguish multiple sessions between
        the same two devices. A new Session ID <span class="bcp14">MUST</span> be generated by the initiator for every
        new Discovery, Flood Synchronization, or Request message. All responses and follow-up messages in the same 
        discovery, synchronization, or negotiation procedure <span class="bcp14">MUST</span> carry the same Session ID.<a class="pilcrow" href="#section-2.7-1">¶</a></p>
<p id="section-2.7-2">The Session ID <span class="bcp14">SHOULD</span> have a very low collision rate locally. It
        <span class="bcp14">MUST</span> be generated by a pseudorandom number generator (PRNG) using a locally
        generated seed that is unlikely to be used by any other device in the same
        network. The PRNG <span class="bcp14">SHOULD</span> be cryptographically strong <span>[<a class="xref" href="#RFC4086">RFC4086</a>]</span>.
        When allocating a new Session ID, GRASP <span class="bcp14">MUST</span>
        check that the value is not already in use and <span class="bcp14">SHOULD</span> check that it has not been
        used recently by consulting a cache of current and recent sessions. In the unlikely
        event of a clash, GRASP <span class="bcp14">MUST</span> generate a new value.<a class="pilcrow" href="#section-2.7-2">¶</a></p>
<p id="section-2.7-3">However, there is a finite probability that two nodes might generate the same
        Session ID value. For that reason, when a Session ID is communicated via GRASP, the
        receiving node <span class="bcp14">MUST</span> tag it with the initiator's IP address to allow disambiguation.
        In the highly unlikely event of two peers opening sessions with the same
        Session ID value, this tag will allow the two sessions to be distinguished.
        Multicast GRASP messages and their responses, which may be relayed between links,
        therefore include a field that carries the initiator's global IP address.<a class="pilcrow" href="#section-2.7-3">¶</a></p>
<p id="section-2.7-4">There is a highly unlikely race condition in which two peers start simultaneous negotiation
        sessions with each other using the same Session ID value. Depending on various
        implementation choices, this might lead to the two sessions being confused.
        See <a class="xref" href="#RequestMessage">Section 2.8.6</a> for details of how to avoid this.<a class="pilcrow" href="#section-2.7-4">¶</a></p>
</section>
</div>
<div id="GRASPMessages">
<section id="section-2.8">
        <h3 id="name-grasp-messages">
<a class="section-number selfRef" href="#section-2.8">2.8. </a><a class="section-name selfRef" href="#name-grasp-messages">GRASP Messages</a>
        </h3>
<section id="section-2.8.1">
          <h4 id="name-message-overview">
<a class="section-number selfRef" href="#section-2.8.1">2.8.1. </a><a class="section-name selfRef" href="#name-message-overview">Message Overview</a>
          </h4>
<p id="section-2.8.1-1">This section defines the GRASP message format and message types.
          Message types not listed here are reserved for future use.<a class="pilcrow" href="#section-2.8.1-1">¶</a></p>
<p id="section-2.8.1-2">The messages currently defined are:<a class="pilcrow" href="#section-2.8.1-2">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.8.1-3.1">Discovery and Discovery Response (M_DISCOVERY, M_RESPONSE).<a class="pilcrow" href="#section-2.8.1-3.1">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.1-3.2">Request Negotiation, Negotiation, Confirm Waiting, and Negotiation End (M_REQ_NEG, M_NEGOTIATE, M_WAIT, M_END).<a class="pilcrow" href="#section-2.8.1-3.2">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.1-3.3">Request Synchronization, Synchronization, and Flood Synchronization (M_REQ_SYN, M_SYNCH, M_FLOOD).<a class="pilcrow" href="#section-2.8.1-3.3">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.1-3.4">No Operation and Invalid (M_NOOP, M_INVALID).<a class="pilcrow" href="#section-2.8.1-3.4">¶</a>
</li>
          </ul>
</section>
<section id="section-2.8.2">
          <h4 id="name-grasp-message-format">
<a class="section-number selfRef" href="#section-2.8.2">2.8.2. </a><a class="section-name selfRef" href="#name-grasp-message-format">GRASP Message Format</a>
          </h4>
<p id="section-2.8.2-1">GRASP messages share an identical header format and a
          variable format area for options. GRASP message headers and options
          are transmitted in Concise Binary Object Representation (CBOR) 
          <span>[<a class="xref" href="#RFC8949">RFC8949</a>]</span>. In this specification, they are described
          using Concise Data Definition Language (CDDL)
          <span>[<a class="xref" href="#RFC8610">RFC8610</a>]</span>.
          Fragmentary CDDL is used to describe each item in this section. A complete and normative
          CDDL specification of GRASP is given in <a class="xref" href="#cddl">Section 4</a>, including constants such
          as message types.<a class="pilcrow" href="#section-2.8.2-1">¶</a></p>
<p id="section-2.8.2-2">Every GRASP message, except the No Operation message, carries a Session ID (<a class="xref" href="#SessionID">Section 2.7</a>).
          Options are then presented serially.<a class="pilcrow" href="#section-2.8.2-2">¶</a></p>
<p id="section-2.8.2-3">In fragmentary CDDL, every GRASP message follows the pattern:<a class="pilcrow" href="#section-2.8.2-3">¶</a></p>
<div id="section-2.8.2-4">
<pre class="sourcecode lang-cddl">  grasp-message = (message .within message-structure) / noop-message

  message-structure = [MESSAGE_TYPE, session-id, ?initiator,
                       *grasp-option]

  MESSAGE_TYPE = 0..255
  session-id = 0..4294967295 ; up to 32 bits
  grasp-option = any
</pre><a class="pilcrow" href="#section-2.8.2-4">¶</a>
</div>
<p id="section-2.8.2-5">The MESSAGE_TYPE indicates the type of the message and thus defines 
          the expected options. Any options received that are not consistent with
          the MESSAGE_TYPE <span class="bcp14">SHOULD</span> be silently discarded.<a class="pilcrow" href="#section-2.8.2-5">¶</a></p>
<p id="section-2.8.2-6">The No Operation (noop) message is  described in <a class="xref" href="#noop">Section 2.8.13</a>.<a class="pilcrow" href="#section-2.8.2-6">¶</a></p>
<p id="section-2.8.2-7">The various MESSAGE_TYPE values are defined in <a class="xref" href="#cddl">Section 4</a>.<a class="pilcrow" href="#section-2.8.2-7">¶</a></p>
<p id="section-2.8.2-8">All other message elements are described below and formally defined in <a class="xref" href="#cddl">Section 4</a>.<a class="pilcrow" href="#section-2.8.2-8">¶</a></p>
<p id="section-2.8.2-9">If an unrecognized MESSAGE_TYPE is received in a unicast message,
          an Invalid message (<a class="xref" href="#invalid">Section 2.8.12</a>) <span class="bcp14">MAY</span> be returned. Otherwise, the message
          <span class="bcp14">MAY</span> be logged and <span class="bcp14">MUST</span> be discarded. If an unrecognized MESSAGE_TYPE is received
          in a multicast message, it <span class="bcp14">MAY</span> be logged and <span class="bcp14">MUST</span> be silently discarded.<a class="pilcrow" href="#section-2.8.2-9">¶</a></p>
</section>
<section id="section-2.8.3">
          <h4 id="name-message-size">
<a class="section-number selfRef" href="#section-2.8.3">2.8.3. </a><a class="section-name selfRef" href="#name-message-size">Message Size</a>
          </h4>
<p id="section-2.8.3-1">GRASP nodes <span class="bcp14">MUST</span> be able to receive unicast messages of at least GRASP_DEF_MAX_SIZE bytes. GRASP nodes
        <span class="bcp14">MUST NOT</span> send unicast messages longer than GRASP_DEF_MAX_SIZE bytes unless a longer size is explicitly
        allowed for the objective concerned. For example, GRASP negotiation itself could be used 
        to agree on a longer message size.<a class="pilcrow" href="#section-2.8.3-1">¶</a></p>
<p id="section-2.8.3-2">The message parser used by GRASP should be configured to know about the GRASP_DEF_MAX_SIZE, or
        any larger negotiated message size, so that it may defend against overly long messages.<a class="pilcrow" href="#section-2.8.3-2">¶</a></p>
<p id="section-2.8.3-3">The maximum size of multicast messages (M_DISCOVERY and M_FLOOD) depends on the link-layer 
technology or the link-adaptation layer in use.<a class="pilcrow" href="#section-2.8.3-3">¶</a></p>
</section>
<div id="DiscoveryMessage">
<section id="section-2.8.4">
          <h4 id="name-discovery-message">
<a class="section-number selfRef" href="#section-2.8.4">2.8.4. </a><a class="section-name selfRef" href="#name-discovery-message">Discovery Message</a>
          </h4>
<p id="section-2.8.4-1">In fragmentary CDDL, a Discovery message follows the pattern:<a class="pilcrow" href="#section-2.8.4-1">¶</a></p>
<div id="section-2.8.4-2">
<pre class="sourcecode lang-cddl">  discovery-message = [M_DISCOVERY, session-id, initiator, objective]
</pre><a class="pilcrow" href="#section-2.8.4-2">¶</a>
</div>
<p id="section-2.8.4-3">
          A discovery initiator sends a Discovery message
               to initiate a discovery process for a particular objective option.<a class="pilcrow" href="#section-2.8.4-3">¶</a></p>
<p id="section-2.8.4-4">

               The discovery initiator sends all Discovery 
               messages via UDP to port GRASP_LISTEN_PORT at the link-local
               ALL_GRASP_NEIGHBORS multicast address on each link-layer interface in use by GRASP.
               It then listens for unicast TCP responses on a given port and stores the discovery 
               results, including responding discovery objectives and
               corresponding unicast locators.<a class="pilcrow" href="#section-2.8.4-4">¶</a></p>
<p id="section-2.8.4-5">The listening port used for TCP <span class="bcp14">MUST</span> be the same port as used for sending the
               Discovery UDP multicast, on a given interface. In an implementation with a
               single GRASP instance in a node, this <span class="bcp14">MAY</span> be GRASP_LISTEN_PORT. To support
               multiple instances in the same node, the GRASP discovery mechanism in each
               instance needs to find, for each interface, a dynamic port that it can bind to
               for both sending UDP link-local multicast and listening for TCP before
               initiating any discovery.<a class="pilcrow" href="#section-2.8.4-5">¶</a></p>
<p id="section-2.8.4-6">
               The 'initiator' field in the message is a globally unique IP address of the
               initiator for the sole purpose of disambiguating the Session ID
               in other nodes. If for some reason the initiator does not
               have a globally unique IP address, it <span class="bcp14">MUST</span> use a link-local
               address that is highly likely to be
               unique for this purpose, for example, using <span>[<a class="xref" href="#RFC7217">RFC7217</a>]</span>. Determination
               of a node's globally unique IP address is implementation dependent.<a class="pilcrow" href="#section-2.8.4-6">¶</a></p>
<p id="section-2.8.4-7">
               A Discovery message <span class="bcp14">MUST</span> include exactly one of the following:<a class="pilcrow" href="#section-2.8.4-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.8.4-8.1">A Discovery Objective option (<a class="xref" href="#ObjForm">Section 2.10.1</a>).
               Its loop count <span class="bcp14">MUST</span> be set to a suitable value to prevent discovery
               loops (default value is GRASP_DEF_LOOPCT). If the discovery initiator
               requires only on-link responses, the loop count <span class="bcp14">MUST</span> be set to 1.<a class="pilcrow" href="#section-2.8.4-8.1">¶</a>
</li>
            <li class="normal" id="section-2.8.4-8.2">A Negotiation Objective option (<a class="xref" href="#ObjForm">Section 2.10.1</a>). This
               is used both for the purpose of discovery and to indicate 
               to the discovery target that it <span class="bcp14">MAY</span> directly reply to 
               the discovery initiator with a Negotiation message for 
               rapid processing, if it could act as the corresponding negotiation counterpart.
               The sender of such a Discovery message <span class="bcp14">MUST</span> initialize
               a negotiation timer and loop count in the same way as a Request Negotiation message
               (<a class="xref" href="#RequestMessage">Section 2.8.6</a>).<a class="pilcrow" href="#section-2.8.4-8.2">¶</a>
</li>
            <li class="normal" id="section-2.8.4-8.3">A Synchronization Objective option (<a class="xref" href="#ObjForm">Section 2.10.1</a>).
               This is used both for the purpose of discovery and to indicate to the discovery
               target that it <span class="bcp14">MAY</span> directly reply to the discovery initiator with a Synchronization message
               for rapid processing, if it could act as the corresponding synchronization counterpart.
               Its loop count <span class="bcp14">MUST</span> be set to a suitable value to prevent discovery
               loops (default value is GRASP_DEF_LOOPCT).<a class="pilcrow" href="#section-2.8.4-8.3">¶</a>
</li>
          </ul>
<p id="section-2.8.4-9">As mentioned in <a class="xref" href="#discovw">Section 2.5.4.2</a>, a Discovery message <span class="bcp14">MAY</span> be sent unicast to a peer node,
                which <span class="bcp14">SHOULD</span> then proceed exactly as if the message had been multicast.<a class="pilcrow" href="#section-2.8.4-9">¶</a></p>
</section>
</div>
<div id="ResponseMessage">
<section id="section-2.8.5">
          <h4 id="name-discovery-response-message">
<a class="section-number selfRef" href="#section-2.8.5">2.8.5. </a><a class="section-name selfRef" href="#name-discovery-response-message">Discovery Response Message</a>
          </h4>
<p id="section-2.8.5-1">In fragmentary CDDL, a Discovery Response message follows the pattern:<a class="pilcrow" href="#section-2.8.5-1">¶</a></p>
<div id="section-2.8.5-2">
<pre class="sourcecode lang-cddl">  response-message = [M_RESPONSE, session-id, initiator, ttl,
                      (+locator-option // divert-option), ?objective]

  ttl = 0..4294967295 ; in milliseconds
</pre><a class="pilcrow" href="#section-2.8.5-2">¶</a>
</div>
<p id="section-2.8.5-3">
          A node that receives a Discovery message <span class="bcp14">SHOULD</span> send a 
          Discovery Response message if and only if it can respond to the discovery.<a class="pilcrow" href="#section-2.8.5-3">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.8.5-4.1">It <span class="bcp14">MUST</span> contain the same Session ID and initiator as the Discovery message.<a class="pilcrow" href="#section-2.8.5-4.1">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.5-4.2">It <span class="bcp14">MUST</span> contain a time-to-live (ttl) for the validity of the response, given 
          as a positive integer value in milliseconds. Zero implies a value significantly
          greater than GRASP_DEF_TIMEOUT milliseconds (<a class="xref" href="#Constants">Section 2.6</a>). A suggested
          value is ten times that amount.<a class="pilcrow" href="#section-2.8.5-4.2">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.5-4.3">It <span class="bcp14">MAY</span> include a copy of the discovery objective from
          the Discovery message.<a class="pilcrow" href="#section-2.8.5-4.3">¶</a>
</li>
          </ul>
<p id="section-2.8.5-5">
          It is sent to the sender of the Discovery message via TCP 
          at the port used to send the Discovery message (as explained in <a class="xref" href="#DiscoveryMessage">Section 2.8.4</a>).
          In the case of a relayed Discovery message, the Discovery Response
          is thus sent to the relay, not the original initiator.<a class="pilcrow" href="#section-2.8.5-5">¶</a></p>
<p id="section-2.8.5-6">
          In all cases, the transport session <span class="bcp14">SHOULD</span> be closed after sending the Discovery Response.
          A transport session failure is treated as no response.<a class="pilcrow" href="#section-2.8.5-6">¶</a></p>
<p id="section-2.8.5-7">

          If the responding node supports the discovery objective 
          of the discovery, it <span class="bcp14">MUST</span> include at least one kind of 
          locator option (<a class="xref" href="#LocatorOption">Section 2.9.5</a>) to indicate its own 
          location. A sequence of multiple kinds of locator 
          options (e.g., IP address option and FQDN option) is also 
          valid.<a class="pilcrow" href="#section-2.8.5-7">¶</a></p>
<p id="section-2.8.5-8">

          If the responding node itself does not support the discovery 
          objective, but it knows the locator of the discovery 
          objective, then it <span class="bcp14">SHOULD</span> respond to the Discovery message with a 
          Divert option (<a class="xref" href="#DivertOption">Section 2.9.2</a>) embedding a locator 
          option or a combination of multiple kinds of locator
          options that indicate the locator(s) of the discovery objective.<a class="pilcrow" href="#section-2.8.5-8">¶</a></p>
<p id="section-2.8.5-9">More details on the processing of Discovery Responses are given in
          <a class="xref" href="#discmech">Section 2.5.4</a>.<a class="pilcrow" href="#section-2.8.5-9">¶</a></p>
</section>
</div>
<div id="RequestMessage">
<section id="section-2.8.6">
          <h4 id="name-request-messages">
<a class="section-number selfRef" href="#section-2.8.6">2.8.6. </a><a class="section-name selfRef" href="#name-request-messages">Request Messages</a>
          </h4>
<p id="section-2.8.6-1">In fragmentary CDDL, Request Negotiation and Request Synchronization messages follow the patterns:<a class="pilcrow" href="#section-2.8.6-1">¶</a></p>
<div id="section-2.8.6-2">
<pre class="sourcecode lang-cddl">request-negotiation-message = [M_REQ_NEG, session-id, objective]

request-synchronization-message = [M_REQ_SYN, session-id, objective]
</pre><a class="pilcrow" href="#section-2.8.6-2">¶</a>
</div>
<p id="section-2.8.6-3">
          A negotiation or synchronization requesting node
          sends the appropriate Request message to the unicast address of the negotiation or
          synchronization counterpart, using the appropriate protocol and port numbers
          (selected from the discovery result). If the discovery result is an FQDN,
          it will be resolved first.<a class="pilcrow" href="#section-2.8.6-3">¶</a></p>
<p id="section-2.8.6-4">A Request message <span class="bcp14">MUST</span> include the relevant objective option. In the case of
          Request Negotiation, the objective option <span class="bcp14">MUST</span> include the requested value.<a class="pilcrow" href="#section-2.8.6-4">¶</a></p>
<p id="section-2.8.6-5">When an initiator sends a Request Negotiation message, it <span class="bcp14">MUST</span> initialize a negotiation timer
          for the new negotiation thread. The default is GRASP_DEF_TIMEOUT milliseconds. Unless this 
          timeout is modified by a Confirm Waiting message (<a class="xref" href="#ConfirmWaitingMessage">Section 2.8.9</a>),
          the initiator will consider that the negotiation has failed when the timer expires.<a class="pilcrow" href="#section-2.8.6-5">¶</a></p>
<p id="section-2.8.6-6">Similarly, when an initiator sends a Request Synchronization, it <span class="bcp14">SHOULD</span> initialize
          a synchronization timer. The default is GRASP_DEF_TIMEOUT milliseconds.
          The initiator will consider that synchronization has failed 
          if there is no response before the timer expires.<a class="pilcrow" href="#section-2.8.6-6">¶</a></p>
<p id="section-2.8.6-7">When an initiator sends a Request message, it <span class="bcp14">MUST</span> initialize the loop count
          of the objective option with a value defined in the specification of the option
          or, if no such value is specified, with GRASP_DEF_LOOPCT.<a class="pilcrow" href="#section-2.8.6-7">¶</a></p>
<p id="section-2.8.6-8">If a node receives a Request message for an objective for which no ASA is currently
          listening, it <span class="bcp14">MUST</span> immediately close the relevant socket to indicate this to the initiator.
          This is to avoid unnecessary timeouts if, for example, an ASA exits prematurely
          but the GRASP core is listening on its behalf.<a class="pilcrow" href="#section-2.8.6-8">¶</a></p>
<p id="section-2.8.6-9">To avoid the highly unlikely race condition in which two nodes simultaneously request
          sessions with each other using the same Session ID (<a class="xref" href="#SessionID">Section 2.7</a>), 
          a node <span class="bcp14">MUST</span> verify that the received Session ID is not already locally active 
          when it receives a Request message.  In case of a clash,
          it <span class="bcp14">MUST</span> discard the Request message, in which case the initiator will detect a timeout.<a class="pilcrow" href="#section-2.8.6-9">¶</a></p>
</section>
</div>
<div id="NegotiationMessage">
<section id="section-2.8.7">
          <h4 id="name-negotiation-message">
<a class="section-number selfRef" href="#section-2.8.7">2.8.7. </a><a class="section-name selfRef" href="#name-negotiation-message">Negotiation Message</a>
          </h4>
<p id="section-2.8.7-1">In fragmentary CDDL, a Negotiation message follows the pattern:<a class="pilcrow" href="#section-2.8.7-1">¶</a></p>
<div id="section-2.8.7-2">
<pre class="sourcecode lang-cddl">  negotiation-message = [M_NEGOTIATE, session-id, objective]
</pre><a class="pilcrow" href="#section-2.8.7-2">¶</a>
</div>
<p id="section-2.8.7-3">A negotiation counterpart sends a Negotiation message in response
          to a Request Negotiation message, a Negotiation message, or a
          Discovery message in rapid mode. A negotiation process
          <span class="bcp14">MAY</span> include multiple steps.<a class="pilcrow" href="#section-2.8.7-3">¶</a></p>
<p id="section-2.8.7-4">The Negotiation message <span class="bcp14">MUST</span> include the relevant
          Negotiation Objective option, with its value updated according to
          progress in the negotiation. The sender <span class="bcp14">MUST</span>
          decrement the loop count by 1. If the loop count becomes zero, the
          message <span class="bcp14">MUST NOT</span> be sent. In this case, the
          negotiation session has failed and will time out.<a class="pilcrow" href="#section-2.8.7-4">¶</a></p>
</section>
</div>
<div id="NegotiationEndingMessage">
<section id="section-2.8.8">
          <h4 id="name-negotiation-end-message">
<a class="section-number selfRef" href="#section-2.8.8">2.8.8. </a><a class="section-name selfRef" href="#name-negotiation-end-message">Negotiation End Message</a>
          </h4>
<p id="section-2.8.8-1">In fragmentary CDDL, a Negotiation End message follows the
          pattern:<a class="pilcrow" href="#section-2.8.8-1">¶</a></p>
<div id="section-2.8.8-2">
<pre class="sourcecode lang-cddl">  end-message = [M_END, session-id, accept-option / decline-option]
</pre><a class="pilcrow" href="#section-2.8.8-2">¶</a>
</div>
<p id="section-2.8.8-3">
          A negotiation counterpart sends a Negotiation End message to close
          the negotiation. It <span class="bcp14">MUST</span> contain either an Accept option or
          a Decline option, defined in <a class="xref" href="#AcceptOption">Section 2.9.3</a> and <a class="xref" href="#DeclineOption">Section 2.9.4</a>.  It could be sent either by the requesting node
          or the responding node.<a class="pilcrow" href="#section-2.8.8-3">¶</a></p>
</section>
</div>
<div id="ConfirmWaitingMessage">
<section id="section-2.8.9">
          <h4 id="name-confirm-waiting-message">
<a class="section-number selfRef" href="#section-2.8.9">2.8.9. </a><a class="section-name selfRef" href="#name-confirm-waiting-message">Confirm Waiting Message</a>
          </h4>
<p id="section-2.8.9-1">In fragmentary CDDL, a Confirm Waiting message follows the pattern:<a class="pilcrow" href="#section-2.8.9-1">¶</a></p>
<div id="section-2.8.9-2">
<pre class="sourcecode lang-cddl">  wait-message = [M_WAIT, session-id, waiting-time]
  waiting-time = 0..4294967295 ; in milliseconds
</pre><a class="pilcrow" href="#section-2.8.9-2">¶</a>
</div>
<p id="section-2.8.9-3">
          A responding node sends a Confirm Waiting     message to
          ask the requesting node to wait for a further
          negotiation response. It might be that the local
          process needs more time or that the negotiation 
          depends on another triggered negotiation. This
          message <span class="bcp14">MUST NOT</span> include any other options.
          When received, the waiting time value overwrites 
          and restarts the current negotiation timer
          (<a class="xref" href="#RequestMessage">Section 2.8.6</a>).<a class="pilcrow" href="#section-2.8.9-3">¶</a></p>
<p id="section-2.8.9-4">The responding node <span class="bcp14">SHOULD</span> send a Negotiation, Negotiation End, or another
          Confirm Waiting message before the negotiation timer expires. If
          not, when the initiator's timer expires, the initiator <span class="bcp14">MUST</span> treat
          the negotiation procedure as failed.<a class="pilcrow" href="#section-2.8.9-4">¶</a></p>
</section>
</div>
<div id="SynchMessage">
<section id="section-2.8.10">
          <h4 id="name-synchronization-message">
<a class="section-number selfRef" href="#section-2.8.10">2.8.10. </a><a class="section-name selfRef" href="#name-synchronization-message">Synchronization Message</a>
          </h4>
<p id="section-2.8.10-1">In fragmentary CDDL, a Synchronization message follows the pattern:<a class="pilcrow" href="#section-2.8.10-1">¶</a></p>
<div id="section-2.8.10-2">
<pre class="sourcecode lang-cddl">  synch-message = [M_SYNCH, session-id, objective]
</pre><a class="pilcrow" href="#section-2.8.10-2">¶</a>
</div>
<p id="section-2.8.10-3">A node that receives a Request Synchronization, or
             a Discovery message in rapid mode, sends back a unicast Synchronization
             message with the synchronization data, in the form of a GRASP option for the specific
             synchronization objective present in the Request Synchronization.<a class="pilcrow" href="#section-2.8.10-3">¶</a></p>
</section>
</div>
<div id="FloodMessage">
<section id="section-2.8.11">
          <h4 id="name-flood-synchronization-messa">
<a class="section-number selfRef" href="#section-2.8.11">2.8.11. </a><a class="section-name selfRef" href="#name-flood-synchronization-messa">Flood Synchronization Message</a>
          </h4>
<p id="section-2.8.11-1">In fragmentary CDDL, a Flood Synchronization message follows the pattern:<a class="pilcrow" href="#section-2.8.11-1">¶</a></p>
<div id="section-2.8.11-2">
<pre class="sourcecode lang-cddl">  flood-message = [M_FLOOD, session-id, initiator, ttl,
                   +[objective, (locator-option / [])]]

  ttl = 0..4294967295 ; in milliseconds
</pre><a class="pilcrow" href="#section-2.8.11-2">¶</a>
</div>
<p id="section-2.8.11-3">
          A node <span class="bcp14">MAY</span> initiate flooding by sending an
          unsolicited Flood Synchronization message with synchronization
          data. This <span class="bcp14">MAY</span> be sent to port GRASP_LISTEN_PORT at
          the link-local ALL_GRASP_NEIGHBORS multicast address, in accordance
          with the rules in <a class="xref" href="#synchproc">Section 2.5.6</a>.<a class="pilcrow" href="#section-2.8.11-3">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.8.11-4.1">
          The initiator address is provided, as described for Discovery messages (<a class="xref" href="#DiscoveryMessage">Section 2.8.4</a>),
          only to disambiguate the Session ID.<a class="pilcrow" href="#section-2.8.11-4.1">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.11-4.2">
          The message <span class="bcp14">MUST</span> contain a time-to-live (ttl) for the validity of the contents, given 
          as a positive integer value in milliseconds. There is no default;
          zero indicates an indefinite lifetime.<a class="pilcrow" href="#section-2.8.11-4.2">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.11-4.3">
          The synchronization data are in the form of GRASP option(s) for specific
          synchronization objective(s). The loop count(s) <span class="bcp14">MUST</span> be set to a suitable
          value to prevent flood loops (default value is GRASP_DEF_LOOPCT).<a class="pilcrow" href="#section-2.8.11-4.3">¶</a>
</li>
            <li class="normal ulEmpty" id="section-2.8.11-4.4">
          Each objective option <span class="bcp14">MAY</span> be followed by a locator option (<a class="xref" href="#LocatorOption">Section 2.9.5</a>) associated with
          the flooded objective. In its absence, an empty option <span class="bcp14">MUST</span> be included
          to indicate a null locator.<a class="pilcrow" href="#section-2.8.11-4.4">¶</a>
</li>
          </ul>
<p id="section-2.8.11-5">
          A node that receives a Flood Synchronization message
          <span class="bcp14">MUST</span> cache the received objectives for use by local
          ASAs. Each cached objective <span class="bcp14">MUST</span> be tagged with the
          locator option sent with it, or with a null tag if an empty locator
          option was sent. If a subsequent Flood Synchronization message
          carries an objective with the same name and the same tag, the
          corresponding cached copy of the objective <span class="bcp14">MUST</span> be
          overwritten.  If a subsequent Flood Synchronization message carrying
          an objective with same name arrives with a different tag, a new
          cached entry <span class="bcp14">MUST</span> be created.<a class="pilcrow" href="#section-2.8.11-5">¶</a></p>
<p id="section-2.8.11-6">Note: the purpose of this mechanism is to allow the recipient of
          flooded values to distinguish between different senders of the same
          objective, and if necessary communicate with them using the locator,
          protocol, and port included in the locator option. Many objectives
          will not need this mechanism, so they will be flooded with a null
          locator.<a class="pilcrow" href="#section-2.8.11-6">¶</a></p>
<p id="section-2.8.11-7">Cached entries <span class="bcp14">MUST</span> be ignored or deleted after
          their lifetime expires.<a class="pilcrow" href="#section-2.8.11-7">¶</a></p>
</section>
</div>
<div id="invalid">
<section id="section-2.8.12">
          <h4 id="name-invalid-message">
<a class="section-number selfRef" href="#section-2.8.12">2.8.12. </a><a class="section-name selfRef" href="#name-invalid-message">Invalid Message</a>
          </h4>
<p id="section-2.8.12-1">In fragmentary CDDL, an Invalid message follows the pattern:<a class="pilcrow" href="#section-2.8.12-1">¶</a></p>
<div id="section-2.8.12-2">
<pre class="sourcecode lang-cddl">  invalid-message = [M_INVALID, session-id, ?any]
</pre><a class="pilcrow" href="#section-2.8.12-2">¶</a>
</div>
<p id="section-2.8.12-3">
          This message <span class="bcp14">MAY</span> be sent by an implementation in
          response to an incoming unicast message that it considers
          invalid. The Session ID value <span class="bcp14">MUST</span> be copied from the
          incoming message. The content <span class="bcp14">SHOULD</span> be diagnostic
          information such as a partial copy of the invalid message up to the
          maximum message size. An M_INVALID message <span class="bcp14">MAY</span> be
          silently ignored by a recipient. However, it could be used in
          support of extensibility, since it indicates that the remote node
          does not support a new or obsolete message or option.<a class="pilcrow" href="#section-2.8.12-3">¶</a></p>
<p id="section-2.8.12-4">An M_INVALID message <span class="bcp14">MUST NOT</span> be sent in response to an M_INVALID message.<a class="pilcrow" href="#section-2.8.12-4">¶</a></p>
</section>
</div>
<div id="noop">
<section id="section-2.8.13">
          <h4 id="name-no-operation-message">
<a class="section-number selfRef" href="#section-2.8.13">2.8.13. </a><a class="section-name selfRef" href="#name-no-operation-message">No Operation Message</a>
          </h4>
<p id="section-2.8.13-1">In fragmentary CDDL, a No Operation message follows the pattern:<a class="pilcrow" href="#section-2.8.13-1">¶</a></p>
<div id="section-2.8.13-2">
<pre class="sourcecode lang-cddl">  noop-message = [M_NOOP]
</pre><a class="pilcrow" href="#section-2.8.13-2">¶</a>
</div>
<p id="section-2.8.13-3">
          This message <span class="bcp14">MAY</span> be sent by an implementation that for practical reasons needs to
          initialize a socket. It <span class="bcp14">MUST</span> be silently ignored by a recipient.<a class="pilcrow" href="#section-2.8.13-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="GRASPOptions">
<section id="section-2.9">
        <h3 id="name-grasp-options">
<a class="section-number selfRef" href="#section-2.9">2.9. </a><a class="section-name selfRef" href="#name-grasp-options">GRASP Options</a>
        </h3>
<p id="section-2.9-1">This section defines the GRASP options for the negotiation
        and synchronization protocol signaling. Additional
        options may be defined in the future.<a class="pilcrow" href="#section-2.9-1">¶</a></p>
<section id="section-2.9.1">
          <h4 id="name-format-of-grasp-options">
<a class="section-number selfRef" href="#section-2.9.1">2.9.1. </a><a class="section-name selfRef" href="#name-format-of-grasp-options">Format of GRASP Options</a>
          </h4>
<p id="section-2.9.1-1">GRASP options <span class="bcp14">SHOULD</span> be CBOR arrays that <span class="bcp14">MUST</span> start with an unsigned
          integer identifying the specific option type carried in this option.
          These option types are formally defined in <a class="xref" href="#cddl">Section 4</a>.<a class="pilcrow" href="#section-2.9.1-1">¶</a></p>
<p id="section-2.9.1-2">GRASP options may be defined to include encapsulated GRASP options.<a class="pilcrow" href="#section-2.9.1-2">¶</a></p>
</section>
<div id="DivertOption">
<section id="section-2.9.2">
          <h4 id="name-divert-option">
<a class="section-number selfRef" href="#section-2.9.2">2.9.2. </a><a class="section-name selfRef" href="#name-divert-option">Divert Option</a>
          </h4>
<p id="section-2.9.2-1">The Divert option is used to redirect a GRASP request to another
          node, which may be more appropriate for the intended negotiation or synchronization. It
          may redirect to an entity that is known as a specific negotiation or synchronization
          counterpart (on-link or off-link) or a default gateway. The Divert
          option <span class="bcp14">MUST</span> only be encapsulated in Discovery Response messages.
          If found elsewhere, it <span class="bcp14">SHOULD</span> be silently ignored.<a class="pilcrow" href="#section-2.9.2-1">¶</a></p>
<p id="section-2.9.2-2">A discovery initiator <span class="bcp14">MAY</span> ignore a Divert option if it only requires direct
          Discovery Responses.<a class="pilcrow" href="#section-2.9.2-2">¶</a></p>
<p id="section-2.9.2-3">In fragmentary CDDL, the Divert option follows the pattern:<a class="pilcrow" href="#section-2.9.2-3">¶</a></p>
<div id="section-2.9.2-4">
<pre class="sourcecode lang-cddl">  divert-option = [O_DIVERT, +locator-option]
</pre><a class="pilcrow" href="#section-2.9.2-4">¶</a>
</div>
<p id="section-2.9.2-5">The embedded locator option(s) (<a class="xref" href="#LocatorOption">Section 2.9.5</a>)
        point to diverted destination target(s) in response to a Discovery message.<a class="pilcrow" href="#section-2.9.2-5">¶</a></p>
</section>
</div>
<div id="AcceptOption">
<section id="section-2.9.3">
          <h4 id="name-accept-option">
<a class="section-number selfRef" href="#section-2.9.3">2.9.3. </a><a class="section-name selfRef" href="#name-accept-option">Accept Option</a>
          </h4>
<p id="section-2.9.3-1">The Accept option is used to indicate to the negotiation counterpart
          that the proposed negotiation content is accepted.<a class="pilcrow" href="#section-2.9.3-1">¶</a></p>
<p id="section-2.9.3-2">The Accept option <span class="bcp14">MUST</span> only be encapsulated in Negotiation End 
          messages. If found elsewhere, it <span class="bcp14">SHOULD</span> be silently ignored.<a class="pilcrow" href="#section-2.9.3-2">¶</a></p>
<p id="section-2.9.3-3">In fragmentary CDDL, the Accept option follows the pattern:<a class="pilcrow" href="#section-2.9.3-3">¶</a></p>
<div id="section-2.9.3-4">
<pre class="sourcecode lang-cddl">  accept-option = [O_ACCEPT]
</pre><a class="pilcrow" href="#section-2.9.3-4">¶</a>
</div>
</section>
</div>
<div id="DeclineOption">
<section id="section-2.9.4">
          <h4 id="name-decline-option">
<a class="section-number selfRef" href="#section-2.9.4">2.9.4. </a><a class="section-name selfRef" href="#name-decline-option">Decline Option</a>
          </h4>
<p id="section-2.9.4-1">The Decline option is used to indicate to the negotiation
          counterpart the proposed negotiation content is declined and to end the
          negotiation process.<a class="pilcrow" href="#section-2.9.4-1">¶</a></p>
<p id="section-2.9.4-2">The Decline option <span class="bcp14">MUST</span> only be encapsulated in
          Negotiation End messages. If found elsewhere, it <span class="bcp14">SHOULD</span> be
          silently ignored.<a class="pilcrow" href="#section-2.9.4-2">¶</a></p>
<p id="section-2.9.4-3">In fragmentary CDDL, the Decline option follows the pattern:<a class="pilcrow" href="#section-2.9.4-3">¶</a></p>
<div id="section-2.9.4-4">
<pre class="sourcecode lang-cddl">  decline-option = [O_DECLINE, ?reason]
  reason = text  ; optional UTF-8 error message
</pre><a class="pilcrow" href="#section-2.9.4-4">¶</a>
</div>
<p id="section-2.9.4-5">Note: there might be scenarios where an ASA wants
          to decline the proposed value and restart the negotiation process.
          In this case, it is an implementation choice whether to send a Decline
          option or to continue with a Negotiation message, with an objective
          option that contains a null value or one that contains a new
          value that might achieve convergence.<a class="pilcrow" href="#section-2.9.4-5">¶</a></p>
</section>
</div>
<div id="LocatorOption">
<section id="section-2.9.5">
          <h4 id="name-locator-options">
<a class="section-number selfRef" href="#section-2.9.5">2.9.5. </a><a class="section-name selfRef" href="#name-locator-options">Locator Options</a>
          </h4>
<p id="section-2.9.5-1">These locator options are used to present reachability information for an ASA,
          a device, or an interface. They are Locator IPv6 Address
          option, Locator IPv4 Address option, Locator FQDN 
          option, and Locator URI option.<a class="pilcrow" href="#section-2.9.5-1">¶</a></p>
<p id="section-2.9.5-2">Since ASAs will normally run as independent user programs, locator options need
          to indicate the network-layer locator plus the transport protocol and port number for
          reaching the target. For this reason, the locator options for IP addresses
          and FQDNs include this information explicitly. In the case of the Locator URI option,
          this information can be encoded in the URI itself.<a class="pilcrow" href="#section-2.9.5-2">¶</a></p>
<p id="section-2.9.5-3">Note: It is assumed that all locators used in locator options are in scope throughout
          the GRASP domain. As stated in <a class="xref" href="#hilev">Section 2.2</a>,
          GRASP is not intended to work across disjoint addressing
          or naming realms.<a class="pilcrow" href="#section-2.9.5-3">¶</a></p>
<section id="section-2.9.5.1">
            <h5 id="name-locator-ipv6-address-option">
<a class="section-number selfRef" href="#section-2.9.5.1">2.9.5.1. </a><a class="section-name selfRef" href="#name-locator-ipv6-address-option">Locator IPv6 Address Option</a>
            </h5>
<p id="section-2.9.5.1-1">In fragmentary CDDL, the Locator IPv6 Address option follows the pattern:<a class="pilcrow" href="#section-2.9.5.1-1">¶</a></p>
<div id="section-2.9.5.1-2">
<pre class="sourcecode lang-cddl">  ipv6-locator-option = [O_IPv6_LOCATOR, ipv6-address,
                         transport-proto, port-number]
  ipv6-address = bytes .size 16

  transport-proto = IPPROTO_TCP / IPPROTO_UDP
  IPPROTO_TCP = 6
  IPPROTO_UDP = 17
  port-number = 0..65535
</pre><a class="pilcrow" href="#section-2.9.5.1-2">¶</a>
</div>
<p id="section-2.9.5.1-3">The content of this option is a binary IPv6 address followed by
            the protocol number and port number to be used.<a class="pilcrow" href="#section-2.9.5.1-3">¶</a></p>
<p id="section-2.9.5.1-4">Note 1: The IPv6 address <span class="bcp14">MUST</span> normally have
            global scope. However, during initialization, a link-local address
            <span class="bcp14">MAY</span> be used for specific objectives only (<a class="xref" href="#secinst">Section 2.5.2</a>). In this case, the
            corresponding Discovery Response message <span class="bcp14">MUST</span> be
            sent via the interface to which the link-local address
            applies.<a class="pilcrow" href="#section-2.9.5.1-4">¶</a></p>
<p id="section-2.9.5.1-5">Note 2: A link-local IPv6 address <span class="bcp14">MUST NOT</span> be
            used when this option is included in a Divert option.<a class="pilcrow" href="#section-2.9.5.1-5">¶</a></p>
<p id="section-2.9.5.1-6">Note 3: The IPPROTO values are taken from the existing IANA
            Protocol Numbers registry in order to specify TCP or UDP. If GRASP
            requires future values that are not in that registry, a new
            registry for values outside the range 0..255 will be needed.<a class="pilcrow" href="#section-2.9.5.1-6">¶</a></p>
</section>
<section id="section-2.9.5.2">
            <h5 id="name-locator-ipv4-address-option">
<a class="section-number selfRef" href="#section-2.9.5.2">2.9.5.2. </a><a class="section-name selfRef" href="#name-locator-ipv4-address-option">Locator IPv4 Address Option</a>
            </h5>
<p id="section-2.9.5.2-1">In fragmentary CDDL, the Locator IPv4 Address option follows the pattern:<a class="pilcrow" href="#section-2.9.5.2-1">¶</a></p>
<div id="section-2.9.5.2-2">
<pre class="sourcecode lang-cddl">  ipv4-locator-option = [O_IPv4_LOCATOR, ipv4-address,
                         transport-proto, port-number]
  ipv4-address = bytes .size 4
</pre><a class="pilcrow" href="#section-2.9.5.2-2">¶</a>
</div>
<p id="section-2.9.5.2-3">The content of this option is a binary IPv4 address followed by
            the protocol number and port number to be used.<a class="pilcrow" href="#section-2.9.5.2-3">¶</a></p>
<p id="section-2.9.5.2-4">Note: If an operator has internal network address translation for IPv4,
          this option <span class="bcp14">MUST NOT</span> be used within the Divert option.<a class="pilcrow" href="#section-2.9.5.2-4">¶</a></p>
</section>
<section id="section-2.9.5.3">
            <h5 id="name-locator-fqdn-option">
<a class="section-number selfRef" href="#section-2.9.5.3">2.9.5.3. </a><a class="section-name selfRef" href="#name-locator-fqdn-option">Locator FQDN Option</a>
            </h5>
<p id="section-2.9.5.3-1">In fragmentary CDDL, the Locator FQDN option follows the pattern:<a class="pilcrow" href="#section-2.9.5.3-1">¶</a></p>
<div id="section-2.9.5.3-2">
<pre class="sourcecode lang-cddl">  fqdn-locator-option = [O_FQDN_LOCATOR, text,
                         transport-proto, port-number]
</pre><a class="pilcrow" href="#section-2.9.5.3-2">¶</a>
</div>
<p id="section-2.9.5.3-3">The content of this option is the FQDN 
            of the target followed by the protocol number and port number to
            be used.<a class="pilcrow" href="#section-2.9.5.3-3">¶</a></p>
<p id="section-2.9.5.3-4">Note 1: Any FQDN that might not be valid throughout the
            network in question, such as a Multicast DNS name <span>[<a class="xref" href="#RFC6762">RFC6762</a>]</span>, <span class="bcp14">MUST NOT</span> be
            used when this option is used within the Divert option.<a class="pilcrow" href="#section-2.9.5.3-4">¶</a></p>
<p id="section-2.9.5.3-5">Note 2: Normal GRASP operations are not expected to use this option. It is intended for
          special purposes such as discovering external services.<a class="pilcrow" href="#section-2.9.5.3-5">¶</a></p>
</section>
<section id="section-2.9.5.4">
            <h5 id="name-locator-uri-option">
<a class="section-number selfRef" href="#section-2.9.5.4">2.9.5.4. </a><a class="section-name selfRef" href="#name-locator-uri-option">Locator URI Option</a>
            </h5>
<p id="section-2.9.5.4-1">In fragmentary CDDL, the Locator URI option follows the pattern:<a class="pilcrow" href="#section-2.9.5.4-1">¶</a></p>
<div id="section-2.9.5.4-2">
<pre class="sourcecode lang-cddl">  uri-locator-option = [O_URI_LOCATOR, text,
                        transport-proto / null, port-number / null]
</pre><a class="pilcrow" href="#section-2.9.5.4-2">¶</a>
</div>
<p id="section-2.9.5.4-3">The content of this option is the URI of the target
          followed by the protocol number and port number to be used (or by null values if not required)
          <span>[<a class="xref" href="#RFC3986">RFC3986</a>]</span>.<a class="pilcrow" href="#section-2.9.5.4-3">¶</a></p>
<p id="section-2.9.5.4-4">Note 1: Any URI which might not be valid throughout the network in question,
          such as one based on a Multicast DNS name <span>[<a class="xref" href="#RFC6762">RFC6762</a>]</span>, <span class="bcp14">MUST NOT</span> be used when
          this option is used within the Divert option.<a class="pilcrow" href="#section-2.9.5.4-4">¶</a></p>
<p id="section-2.9.5.4-5">Note 2: Normal GRASP operations are not expected to use this option. It is intended for
          special purposes such as discovering external services. Therefore, its use is not further
          described in this specification.<a class="pilcrow" href="#section-2.9.5.4-5">¶</a></p>
</section>
</section>
</div>
</section>
</div>
<div id="ObjOption">
<section id="section-2.10">
        <h3 id="name-objective-options">
<a class="section-number selfRef" href="#section-2.10">2.10. </a><a class="section-name selfRef" href="#name-objective-options">Objective Options</a>
        </h3>
<div id="ObjForm">
<section id="section-2.10.1">
          <h4 id="name-format-of-objective-options">
<a class="section-number selfRef" href="#section-2.10.1">2.10.1. </a><a class="section-name selfRef" href="#name-format-of-objective-options">Format of Objective Options</a>
          </h4>
<p id="section-2.10.1-1">An objective option is used to identify objectives for
        the purposes of discovery, negotiation, or synchronization.
        All objectives <span class="bcp14">MUST</span> be in the following format,
        described in fragmentary CDDL:<a class="pilcrow" href="#section-2.10.1-1">¶</a></p>
<div id="section-2.10.1-2">
<pre class="sourcecode lang-cddl">objective = [objective-name, objective-flags,
             loop-count, ?objective-value]

objective-name = text
objective-value = any
loop-count = 0..255
</pre><a class="pilcrow" href="#section-2.10.1-2">¶</a>
</div>
<p id="section-2.10.1-3">All objectives are identified by a unique name that is a UTF-8
          string <span>[<a class="xref" href="#RFC3629">RFC3629</a>]</span>, to be compared
          byte by byte.<a class="pilcrow" href="#section-2.10.1-3">¶</a></p>
<p id="section-2.10.1-4">The names of generic objectives <span class="bcp14">MUST NOT</span> include a colon (":")
          and <span class="bcp14">MUST</span> be registered with IANA (<a class="xref" href="#iana">Section 5</a>).<a class="pilcrow" href="#section-2.10.1-4">¶</a></p>
<p id="section-2.10.1-5">The names of privately defined objectives <span class="bcp14">MUST</span> include at least one colon (":"). 
          The string preceding the last colon in the name <span class="bcp14">MUST</span> be globally unique and in some
          way identify the entity or person defining the objective. The following three methods
          <span class="bcp14">MAY</span> be used to create such a globally unique string:<a class="pilcrow" href="#section-2.10.1-5">¶</a></p>
<ol class="normal type-1" id="section-2.10.1-6" start="1" type="1">
            <li id="section-2.10.1-6.1">The unique string is a decimal number representing a registered 32-bit Private Enterprise
          Number (PEN) <span>[<a class="xref" href="#RFC5612">RFC5612</a>]</span> that uniquely identifies the enterprise
          defining the objective.<a class="pilcrow" href="#section-2.10.1-6.1">¶</a>
</li>
            <li id="section-2.10.1-6.2">The unique string is a FQDN that uniquely identifies the entity or person
          defining the objective.<a class="pilcrow" href="#section-2.10.1-6.2">¶</a>
</li>
            <li id="section-2.10.1-6.3">The unique string is an email address that uniquely identifies the entity or person
          defining the objective.<a class="pilcrow" href="#section-2.10.1-6.3">¶</a>
</li>
          </ol>
<p id="section-2.10.1-7"> 
          
          GRASP treats the objective name as an opaque string. For example, "EX1", "32473:EX1", 
          "example.com:EX1", "example.org:EX1", and "user@example.org:EX1" are five different objectives.<a class="pilcrow" href="#section-2.10.1-7">¶</a></p>
<p id="section-2.10.1-8">The 'objective-flags' field is described in <a class="xref" href="#objective_flags">Section 2.10.2</a>.<a class="pilcrow" href="#section-2.10.1-8">¶</a></p>
<p id="section-2.10.1-9">The 'loop-count' field is used for terminating negotiation as described in
          <a class="xref" href="#NegotiationMessage">Section 2.8.7</a>. It is also used for terminating discovery as
          described in <a class="xref" href="#discmech">Section 2.5.4</a> and for terminating flooding as described in
          <a class="xref" href="#flooding">Section 2.5.6.2</a>. It is placed in the objective rather than in the GRASP
          message format because, as far as the ASA is concerned, it is a property of the
          objective itself.<a class="pilcrow" href="#section-2.10.1-9">¶</a></p>
<p id="section-2.10.1-10">
          The 'objective-value' field expresses the actual value of a negotiation
          or synchronization objective. Its format is defined in the
          specification of the objective and may be a simple value
          or a data structure of any kind, as long as it can be represented in CBOR.
          It is optional only in a Discovery or Discovery Response message.<a class="pilcrow" href="#section-2.10.1-10">¶</a></p>
</section>
</div>
<div id="objective_flags">
<section id="section-2.10.2">
          <h4 id="name-objective-flags">
<a class="section-number selfRef" href="#section-2.10.2">2.10.2. </a><a class="section-name selfRef" href="#name-objective-flags">Objective Flags</a>
          </h4>
<p id="section-2.10.2-1">An objective may be relevant for discovery only, for discovery and negotiation, or
         for discovery and synchronization. This is expressed in the objective by logical flag bits:<a class="pilcrow" href="#section-2.10.2-1">¶</a></p>
<div id="section-2.10.2-2">
<pre class="sourcecode lang-cddl">  objective-flags = uint .bits objective-flag
  objective-flag = &amp;(
    F_DISC: 0    ; valid for discovery
    F_NEG: 1     ; valid for negotiation
    F_SYNCH: 2   ; valid for synchronization
    F_NEG_DRY: 3 ; negotiation is a dry run
  )
</pre><a class="pilcrow" href="#section-2.10.2-2">¶</a>
</div>
<p id="section-2.10.2-3">These bits are independent and may be combined appropriately, e.g., (F_DISC and F_SYNCH) or 
         (F_DISC and F_NEG) or (F_DISC and F_NEG and F_NEG_DRY).<a class="pilcrow" href="#section-2.10.2-3">¶</a></p>
<p id="section-2.10.2-4">Note that for a given negotiation session, an objective must be used either for negotiation or for
         dry-run negotiation. Mixing the two modes in a single negotiation is not possible.<a class="pilcrow" href="#section-2.10.2-4">¶</a></p>
</section>
</div>
<div id="ConsOption">
<section id="section-2.10.3">
          <h4 id="name-general-considerations-for-">
<a class="section-number selfRef" href="#section-2.10.3">2.10.3. </a><a class="section-name selfRef" href="#name-general-considerations-for-">General Considerations for Objective Options</a>
          </h4>
<p id="section-2.10.3-1">As mentioned above, objective options <span class="bcp14">MUST</span> be assigned a unique name.
        As long as privately defined objective options obey the rules above, this document
        does not restrict their choice of name, but the entity or person concerned <span class="bcp14">SHOULD</span> publish the names in use.<a class="pilcrow" href="#section-2.10.3-1">¶</a></p>
<p id="section-2.10.3-2">Names are expressed as UTF-8 strings for convenience in designing objective options for
        localized use. For generic usage, names expressed in the ASCII subset of UTF-8 are <span class="bcp14">RECOMMENDED</span>.
        Designers planning to use non-ASCII names are strongly advised to consult <span>[<a class="xref" href="#RFC8264">RFC8264</a>]</span>
        or its successor
        to understand the complexities involved. Since GRASP compares names byte by byte,
        all issues of Unicode profiling and canonicalization <span class="bcp14">MUST</span> be specified in the design of the
        objective option.<a class="pilcrow" href="#section-2.10.3-2">¶</a></p>
<p id="section-2.10.3-3">All objective options <span class="bcp14">MUST</span> respect the CBOR patterns defined above as "objective"
        and <span class="bcp14">MUST</span> replace the 'any' field with a valid CBOR data definition
        for the relevant use case and application.<a class="pilcrow" href="#section-2.10.3-3">¶</a></p>
<p id="section-2.10.3-4">An objective option that contains no additional
        fields beyond its 'loop-count' can only be a discovery objective and <span class="bcp14">MUST</span> only be used
        in Discovery and Discovery Response messages.<a class="pilcrow" href="#section-2.10.3-4">¶</a></p>
<p id="section-2.10.3-5">The Negotiation Objective options contain negotiation objectives,
        which vary according to different functions and/or services. They <span class="bcp14">MUST</span>
        be carried by Discovery, Request Negotiation, or Negotiation messages only. The negotiation
        initiator <span class="bcp14">MUST</span> set the initial 'loop-count' to a value specified in the
        specification of the objective or, if no such value is specified, to 
        GRASP_DEF_LOOPCT.<a class="pilcrow" href="#section-2.10.3-5">¶</a></p>
<p id="section-2.10.3-6">For most scenarios, there should be initial values in the
        negotiation requests. Consequently, the Negotiation Objective options <span class="bcp14">MUST</span>
        always be completely presented in a Request Negotiation message, or in a Discovery
        message in rapid mode. If there is no
        initial value, the 'value' field <span class="bcp14">SHOULD</span> be set to the 'null' value defined
        by CBOR.<a class="pilcrow" href="#section-2.10.3-6">¶</a></p>
<p id="section-2.10.3-7">Synchronization Objective options are similar, but <span class="bcp14">MUST</span> be carried
        by Discovery, Discovery Response, Request Synchronization, or Flood Synchronization
        messages only. They include
        'value' fields only in Synchronization or Flood Synchronization messages.<a class="pilcrow" href="#section-2.10.3-7">¶</a></p>
<p id="section-2.10.3-8">The design of an objective interacts in various ways with the design of the ASAs
        that will use it. ASA design considerations are discussed in
        <span>[<a class="xref" href="#I-D.ietf-anima-asa-guidelines">ASA-GUIDELINES</a>]</span>.<a class="pilcrow" href="#section-2.10.3-8">¶</a></p>
</section>
</div>
<section id="section-2.10.4">
          <h4 id="name-organizing-of-objective-opt">
<a class="section-number selfRef" href="#section-2.10.4">2.10.4. </a><a class="section-name selfRef" href="#name-organizing-of-objective-opt">Organizing of Objective Options</a>
          </h4>
<p id="section-2.10.4-1">Generic objective options <span class="bcp14">MUST</span> be specified in documents
          available to the public and <span class="bcp14">SHOULD</span> be designed to use either
          the negotiation or the synchronization mechanism described above.<a class="pilcrow" href="#section-2.10.4-1">¶</a></p>
<p id="section-2.10.4-2">As noted earlier, one negotiation objective is handled by each
          GRASP negotiation thread. Therefore, a negotiation objective, which is
          based on a specific function or action, <span class="bcp14">SHOULD</span> be organized as a single
          GRASP option. It is <span class="bcp14">NOT RECOMMENDED</span> to organize multiple negotiation
          objectives into a single option nor to split a single function
          or action into multiple negotiation objectives.<a class="pilcrow" href="#section-2.10.4-2">¶</a></p>
<p id="section-2.10.4-3">It is important to understand that GRASP negotiation does not 
          support transactional integrity. If transactional integrity is needed for
          a specific objective, this must be ensured by the ASA. For example, an ASA
          might need to ensure that it only participates in one negotiation thread
          at the same time. Such an ASA would need to stop listening for incoming
          negotiation requests before generating an outgoing negotiation request.<a class="pilcrow" href="#section-2.10.4-3">¶</a></p>
<p id="section-2.10.4-4">A synchronization objective <span class="bcp14">SHOULD</span> be organized as a single GRASP option.<a class="pilcrow" href="#section-2.10.4-4">¶</a></p>
<p id="section-2.10.4-5">Some objectives will support more than one operational mode.
          An example is a negotiation objective with both a dry-run mode
          (where the negotiation is to determine whether the other end can, in fact,
          make the requested change without problems) and a live mode, as explained
          in <a class="xref" href="#negproc">Section 2.5.5</a>. The semantics of such
          modes will be defined in the specification of the objectives. These
          objectives <span class="bcp14">SHOULD</span> include flags indicating the
          applicable mode(s).<a class="pilcrow" href="#section-2.10.4-5">¶</a></p>
<p id="section-2.10.4-6">An issue requiring particular attention is that GRASP itself is
          not a transactionally safe protocol. Any state associated with a dry-run operation,
          such as temporarily reserving a resource for subsequent use in a live
          run, is entirely a matter for the designer of the ASA concerned.<a class="pilcrow" href="#section-2.10.4-6">¶</a></p>
<p id="section-2.10.4-7">As indicated in <a class="xref" href="#terms">Section 2.1</a>, an objective's value may
          include multiple parameters. Parameters
          might be categorized into two classes: the obligatory ones presented as
          fixed fields and the optional ones presented in
          some other form of data structure embedded in CBOR. The format might be
          inherited from an existing management or configuration protocol, with
          the objective option acting as a carrier for that format.
          The data structure might be defined in a formal language, but that is a
          matter for the specifications of individual objectives.
          There are many candidates, according to the context, such as ABNF, RBNF,
          XML Schema, YANG, etc. GRASP itself is agnostic on
          these questions. The only restriction is that the format can be mapped
          into CBOR.<a class="pilcrow" href="#section-2.10.4-7">¶</a></p>
<p id="section-2.10.4-8">It is <span class="bcp14">NOT RECOMMENDED</span> to mix parameters that have significantly
          different response-time characteristics in a single objective. Separate
          objectives are more suitable for such a scenario.<a class="pilcrow" href="#section-2.10.4-8">¶</a></p>
<p id="section-2.10.4-9">All objectives <span class="bcp14">MUST</span> support GRASP discovery. However, as mentioned
          in <a class="xref" href="#highlevel">Section 2.3</a>, it is acceptable for an ASA to use an alternative method
          of discovery.<a class="pilcrow" href="#section-2.10.4-9">¶</a></p>
<p id="section-2.10.4-10">Normally, a GRASP objective will refer to specific technical parameters
          as explained in <a class="xref" href="#terms">Section 2.1</a>. However, it is acceptable to define
          an abstract objective for the purpose of managing or coordinating ASAs. 
          It is also acceptable to define a special-purpose objective for purposes
          such as trust bootstrapping or formation of the ACP.<a class="pilcrow" href="#section-2.10.4-10">¶</a></p>
<p id="section-2.10.4-11">
            To guarantee convergence, a limited number of rounds or a timeout is needed
            for each negotiation objective. 
            Therefore, the definition of each negotiation objective <span class="bcp14">SHOULD</span> clearly specify
            this, for example, a default loop count and timeout,
            so that the negotiation can always be terminated properly. If not,
            the GRASP defaults will apply.<a class="pilcrow" href="#section-2.10.4-11">¶</a></p>
<p id="section-2.10.4-12">
            There must be a well-defined procedure for concluding that a negotiation cannot
            succeed, and if so, deciding what happens next (e.g., deadlock
            resolution, tie-breaking, or reversion to best-effort
            service). This <span class="bcp14">MUST</span> be specified for individual negotiation objectives.<a class="pilcrow" href="#section-2.10.4-12">¶</a></p>
</section>
<section id="section-2.10.5">
          <h4 id="name-experimental-and-example-ob">
<a class="section-number selfRef" href="#section-2.10.5">2.10.5. </a><a class="section-name selfRef" href="#name-experimental-and-example-ob">Experimental and Example Objective Options</a>
          </h4>
<p id="section-2.10.5-1">The names "EX0" through "EX9" have been reserved for experimental options.
          Multiple names have been assigned because a single experiment
          may use multiple options simultaneously. These experimental options
          are highly likely to have different meanings when used for different
          experiments. Therefore, they <span class="bcp14">SHOULD NOT</span> be used without an explicit
          human decision and <span class="bcp14">MUST NOT</span> be used in unmanaged networks such as
          home networks.<a class="pilcrow" href="#section-2.10.5-1">¶</a></p>
<p id="section-2.10.5-2">These names are also <span class="bcp14">RECOMMENDED</span> for use in documentation 
          examples.<a class="pilcrow" href="#section-2.10.5-2">¶</a></p>
</section>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-3">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-3-1">A successful attack on negotiation-enabled nodes
      would be extremely harmful, as such nodes might end up with a completely
      undesirable configuration that would also adversely affect their peers.
      GRASP nodes and messages therefore require full protection. 
      As explained in <a class="xref" href="#reqsec">Section 2.5.1</a>, GRASP <span class="bcp14">MUST</span> run within a secure
      environment such as the ACP
      <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>,
      except for the constrained instances described in <a class="xref" href="#secinst">Section 2.5.2</a>.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3-2">
        <dt id="section-3-2.1">Authentication
        </dt>
        <dd id="section-3-2.2" style="margin-left: 1.5em">
          <p id="section-3-2.2.1">A cryptographically authenticated identity for each device is
          needed in an Autonomic Network. It is not safe to assume that a
          large network is physically secured against interference or that all
          personnel are trustworthy. Each autonomic node <span class="bcp14">MUST</span> be capable
          of proving its identity and authenticating its messages. GRASP
          relies on a separate, external certificate-based security mechanism to support
          authentication, data integrity protection, and anti-replay protection.<a class="pilcrow" href="#section-3-2.2.1">¶</a></p>
<p id="section-3-2.2.2">Since GRASP must be deployed in an existing secure environment,
          the protocol itself specifies nothing concerning the trust anchor and 
          certification authority. For example, in the ACP 
          <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>, all nodes can
          trust each other and the ASAs installed in them.<a class="pilcrow" href="#section-3-2.2.2">¶</a></p>
<p id="section-3-2.2.3">If GRASP is used temporarily without an external security mechanism,
          for example, during system bootstrap (<a class="xref" href="#reqsec">Section 2.5.1</a>),
          the Session ID (<a class="xref" href="#SessionID">Section 2.7</a>) will act as a nonce to
          provide limited protection against the injecting of responses by third parties.
          A full analysis of the secure bootstrap process is in
          <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span>.<a class="pilcrow" href="#section-3-2.2.3">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">Authorization and roles</dt>
        <dd id="section-3-2.4" style="margin-left: 1.5em">
          <p id="section-3-2.4.1">GRASP is agnostic about the roles and capabilities of individual
         ASAs and about which objectives a particular ASA is authorized to support. An implementation
         might support precautions such as allowing only one ASA in a given node to modify
         a given objective, but this may not be appropriate in all cases. For example,
         it might be operationally useful to allow an old and a new version of the same
         ASA to run simultaneously during an overlap period. These questions are out
         of scope for the present specification.<a class="pilcrow" href="#section-3-2.4.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">Privacy and confidentiality
        </dt>
        <dd id="section-3-2.6" style="margin-left: 1.5em">
          <p id="section-3-2.6.1">GRASP is intended for network-management purposes involving
          network elements, not end hosts. Therefore, no personal information
          is expected to be involved in the signaling protocol, so there should be no direct
          impact on personal privacy. Nevertheless, applications that do
          convey personal information cannot be excluded. Also, traffic flow paths, VPNs,
          etc., could be negotiated, which could be of interest for traffic
          analysis. Operators generally want to conceal details of their
          network topology and traffic density from outsiders. Therefore,
          since insider attacks cannot be excluded in a large 
          network, the security mechanism for the protocol <span class="bcp14">MUST</span>
          provide message confidentiality. This is why <a class="xref" href="#reqsec">Section 2.5.1</a>
          requires either an ACP or an alternative security mechanism.<a class="pilcrow" href="#section-3-2.6.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7">Link-local multicast security
        </dt>
        <dd id="section-3-2.8" style="margin-left: 1.5em">
          <p id="section-3-2.8.1">GRASP has no reasonable alternative to using link-local
        multicast for Discovery or Flood Synchronization messages, and these
        messages are sent in the clear and with no authentication. They are only
        sent on interfaces within the Autonomic Network (see <a class="xref" href="#terms">Section 2.1</a> and <a class="xref" href="#reqsec">Section 2.5.1</a>).  They are, however, available to on-link
        eavesdroppers and could be forged by on-link attackers. In the case
        of discovery, the Discovery Responses are unicast and will therefore
        be protected (<a class="xref" href="#reqsec">Section 2.5.1</a>), and an
        untrusted forger will not be able to receive responses. In the case of
        flood synchronization, an on-link eavesdropper will be able to receive
        the flooded objectives, but there is no response message to
        consider. Some precautions for Flood Synchronization messages are
        suggested in <a class="xref" href="#flooding">Section 2.5.6.2</a>.<a class="pilcrow" href="#section-3-2.8.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.9">DoS attack protection
        </dt>
        <dd id="section-3-2.10" style="margin-left: 1.5em">
          <p id="section-3-2.10.1">GRASP discovery partly relies on insecure link-local multicast. Since
          routers participating in GRASP sometimes relay Discovery messages from one link
          to another, this could be a vector for denial-of-service attacks. Some
          mitigations are specified in <a class="xref" href="#discmech">Section 2.5.4</a>. However, malicious
          code installed inside the ACP could always launch
          DoS attacks consisting of either spurious Discovery messages or spurious
          Discovery Responses. It is important that firewalls prevent any GRASP messages
          from entering the domain from an unknown source.<a class="pilcrow" href="#section-3-2.10.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.11">Security during bootstrap and discovery
        </dt>
        <dd id="section-3-2.12" style="margin-left: 1.5em">
          <p id="section-3-2.12.1">A node cannot trust GRASP traffic from other nodes until the security
          environment (such as the ACP) has identified the trust anchor and can authenticate traffic
          by validating certificates for other nodes. Also, until it has successfully enrolled
          <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span>, a node cannot
          assume that other nodes are able to authenticate its own traffic.
          Therefore, GRASP discovery during the bootstrap phase for a new device
          will inevitably be insecure. Secure synchronization and negotiation
          will be impossible until enrollment is complete. Further details
          are given in <a class="xref" href="#secinst">Section 2.5.2</a>.<a class="pilcrow" href="#section-3-2.12.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.13">Security of discovered locators
        </dt>
        <dd id="section-3-2.14" style="margin-left: 1.5em">
          <p id="section-3-2.14.1">When GRASP discovery returns an IP address, it <span class="bcp14">MUST</span> be that of a node
          within the secure environment (<a class="xref" href="#reqsec">Section 2.5.1</a>). If it returns
          an FQDN or a URI, the ASA that receives it <span class="bcp14">MUST NOT</span> assume that the
          target of the locator is within the secure environment.<a class="pilcrow" href="#section-3-2.14.1">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="cddl">
<section id="section-4">
      <h2 id="name-cddl-specification-of-grasp">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-cddl-specification-of-grasp">CDDL Specification of GRASP</a>
      </h2>
<div id="section-4-1">
<pre class="sourcecode lang-cddl">&lt;CODE BEGINS&gt; file "grasp.cddl"

grasp-message = (message .within message-structure) / noop-message

message-structure = [MESSAGE_TYPE, session-id, ?initiator,
                     *grasp-option]

MESSAGE_TYPE = 0..255
session-id = 0..4294967295 ; up to 32 bits
grasp-option = any

message /= discovery-message
discovery-message = [M_DISCOVERY, session-id, initiator, objective]

message /= response-message ; response to Discovery
response-message = [M_RESPONSE, session-id, initiator, ttl,
                    (+locator-option // divert-option), ?objective]

message /= synch-message ; response to Synchronization request
synch-message = [M_SYNCH, session-id, objective]

message /= flood-message
flood-message = [M_FLOOD, session-id, initiator, ttl,
                 +[objective, (locator-option / [])]]

message /= request-negotiation-message
request-negotiation-message = [M_REQ_NEG, session-id, objective]

message /= request-synchronization-message
request-synchronization-message = [M_REQ_SYN, session-id, objective]

message /= negotiation-message
negotiation-message = [M_NEGOTIATE, session-id, objective]

message /= end-message
end-message = [M_END, session-id, accept-option / decline-option]

message /= wait-message
wait-message = [M_WAIT, session-id, waiting-time]

message /= invalid-message
invalid-message = [M_INVALID, session-id, ?any]

noop-message = [M_NOOP]

divert-option = [O_DIVERT, +locator-option]

accept-option = [O_ACCEPT]

decline-option = [O_DECLINE, ?reason]
reason = text  ; optional UTF-8 error message

waiting-time = 0..4294967295 ; in milliseconds
ttl = 0..4294967295 ; in milliseconds

locator-option /= [O_IPv4_LOCATOR, ipv4-address,
                   transport-proto, port-number]
ipv4-address = bytes .size 4

locator-option /= [O_IPv6_LOCATOR, ipv6-address,
                   transport-proto, port-number]
ipv6-address = bytes .size 16

locator-option /= [O_FQDN_LOCATOR, text, transport-proto,
                   port-number]

locator-option /= [O_URI_LOCATOR, text,
                   transport-proto / null, port-number / null]

transport-proto = IPPROTO_TCP / IPPROTO_UDP
IPPROTO_TCP = 6
IPPROTO_UDP = 17
port-number = 0..65535

initiator = ipv4-address / ipv6-address

objective-flags = uint .bits objective-flag

objective-flag = &amp;(
  F_DISC: 0    ; valid for discovery
  F_NEG: 1     ; valid for negotiation
  F_SYNCH: 2   ; valid for synchronization
  F_NEG_DRY: 3 ; negotiation is a dry run
)

objective = [objective-name, objective-flags,
             loop-count, ?objective-value]

objective-name = text ; see section "Format of Objective Options"

objective-value = any

loop-count = 0..255

; Constants for message types and option types

M_NOOP = 0
M_DISCOVERY = 1
M_RESPONSE = 2
M_REQ_NEG = 3
M_REQ_SYN = 4
M_NEGOTIATE = 5
M_END = 6
M_WAIT = 7
M_SYNCH = 8
M_FLOOD = 9
M_INVALID = 99

O_DIVERT = 100
O_ACCEPT = 101
O_DECLINE = 102
O_IPv6_LOCATOR = 103
O_IPv4_LOCATOR = 104
O_FQDN_LOCATOR = 105
O_URI_LOCATOR = 106

&lt;CODE ENDS&gt;</pre><a class="pilcrow" href="#section-4-1">¶</a>
</div>
</section>
</div>
<div id="iana">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document defines the GeneRic Autonomic Signaling Protocol (GRASP).<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2"><a class="xref" href="#Constants">Section 2.6</a> explains the following link-local multicast
      addresses that IANA has assigned for use by GRASP.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">Assigned in the "Link-Local Scope Multicast Addresses" subregistry
of the "IPv6 Multicast Address Space Registry":<a class="pilcrow" href="#section-5-3">¶</a></p>
<span class="break"></span><dl class="dlParallel dlCompact" id="section-5-4">
        <dt id="section-5-4.1">Address(es):</dt>
        <dd id="section-5-4.2" style="margin-left: 1.5em">ff02::13<a class="pilcrow" href="#section-5-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.3">Description:</dt>
        <dd id="section-5-4.4" style="margin-left: 1.5em">ALL_GRASP_NEIGHBORS<a class="pilcrow" href="#section-5-4.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.5">Reference:</dt>
        <dd id="section-5-4.6" style="margin-left: 1.5em">RFC 8990<a class="pilcrow" href="#section-5-4.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-5-5">Assigned in the "Local Network Control Block (224.0.0.0 - 224.0.0.255 (224.0.0/24))" 
subregistry of the "IPv4 Multicast Address Space Registry":<a class="pilcrow" href="#section-5-5">¶</a></p>
<span class="break"></span><dl class="dlParallel dlCompact" id="section-5-6">
        <dt id="section-5-6.1">Address(es):</dt>
        <dd id="section-5-6.2" style="margin-left: 1.5em">224.0.0.119<a class="pilcrow" href="#section-5-6.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-6.3">Description:</dt>
        <dd id="section-5-6.4" style="margin-left: 1.5em">ALL_GRASP_NEIGHBORS<a class="pilcrow" href="#section-5-6.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-6.5">Reference:</dt>
        <dd id="section-5-6.6" style="margin-left: 1.5em">RFC 8990<a class="pilcrow" href="#section-5-6.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-5-7"><a class="xref" href="#Constants">Section 2.6</a> explains the following User Port (GRASP_LISTEN_PORT),
       which IANA has assigned for use by GRASP for both UDP and TCP:<a class="pilcrow" href="#section-5-7">¶</a></p>
<span class="break"></span><dl class="dlParallel dlCompact" id="section-5-8">
        <dt id="section-5-8.1">Service Name:</dt>
        <dd id="section-5-8.2" style="margin-left: 1.5em">grasp<a class="pilcrow" href="#section-5-8.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-8.3">Port Number:</dt>
        <dd id="section-5-8.4" style="margin-left: 1.5em">7017<a class="pilcrow" href="#section-5-8.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-8.5">Transport Protocol:</dt>
        <dd id="section-5-8.6" style="margin-left: 1.5em">udp, tcp<a class="pilcrow" href="#section-5-8.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-8.7">Description</dt>
        <dd id="section-5-8.8" style="margin-left: 1.5em">GeneRic Autonomic Signaling Protocol<a class="pilcrow" href="#section-5-8.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-8.9">Assignee:</dt>
        <dd id="section-5-8.10" style="margin-left: 1.5em">IESG &lt;iesg@ietf.org&gt;<a class="pilcrow" href="#section-5-8.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-8.11">Contact:</dt>
        <dd id="section-5-8.12" style="margin-left: 1.5em">IETF Chair &lt;chair@ietf.org&gt;<a class="pilcrow" href="#section-5-8.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-8.13">Reference:</dt>
        <dd id="section-5-8.14" style="margin-left: 1.5em">RFC 8990<a class="pilcrow" href="#section-5-8.14">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-5-9">The IANA has created the "GeneRic Autonomic Signaling Protocol (GRASP) Parameters" registry,
      which includes two subregistries: "GRASP Messages and Options" and 
      "GRASP Objective Names".<a class="pilcrow" href="#section-5-9">¶</a></p>
<p id="section-5-10">The values in the "GRASP Messages and Options" subregistry are names paired with decimal
      integers. Future values <span class="bcp14">MUST</span> be assigned using the Standards Action policy
      defined by <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>. The following initial values are assigned by this document:<a class="pilcrow" href="#section-5-10">¶</a></p>
<span id="name-initial-values-of-the-grasp"></span><div id="msg-options">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-initial-values-of-the-grasp">Initial Values of the "GRASP Messages and Options" Subregistry</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Value</th>
            <th class="text-left" colspan="1" rowspan="1">Message/Option</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0</td>
            <td class="text-left" colspan="1" rowspan="1">M_NOOP</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">M_DISCOVERY</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">2</td>
            <td class="text-left" colspan="1" rowspan="1">M_RESPONSE</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">3</td>
            <td class="text-left" colspan="1" rowspan="1">M_REQ_NEG</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">4</td>
            <td class="text-left" colspan="1" rowspan="1">M_REQ_SYN</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">5</td>
            <td class="text-left" colspan="1" rowspan="1">M_NEGOTIATE</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">6</td>
            <td class="text-left" colspan="1" rowspan="1">M_END</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">7</td>
            <td class="text-left" colspan="1" rowspan="1">M_WAIT</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">8</td>
            <td class="text-left" colspan="1" rowspan="1">M_SYNCH</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">9</td>
            <td class="text-left" colspan="1" rowspan="1">M_FLOOD</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">99</td>
            <td class="text-left" colspan="1" rowspan="1">M_INVALID</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">100</td>
            <td class="text-left" colspan="1" rowspan="1">O_DIVERT</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">101</td>
            <td class="text-left" colspan="1" rowspan="1">O_ACCEPT</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">102</td>
            <td class="text-left" colspan="1" rowspan="1">O_DECLINE</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">103</td>
            <td class="text-left" colspan="1" rowspan="1">O_IPv6_LOCATOR</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">104</td>
            <td class="text-left" colspan="1" rowspan="1">O_IPv4_LOCATOR</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">105</td>
            <td class="text-left" colspan="1" rowspan="1">O_FQDN_LOCATOR</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">106</td>
            <td class="text-left" colspan="1" rowspan="1">O_URI_LOCATOR</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-5-12">The values in the "GRASP Objective Names" subregistry are UTF-8
      strings that <span class="bcp14">MUST NOT</span> include a colon (":"), according
      to <a class="xref" href="#ObjForm">Section 2.10.1</a>.  Future values
      <span class="bcp14">MUST</span> be assigned using the Specification Required policy
      defined by <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-5-12">¶</a></p>
<p id="section-5-13">To assist expert review of a new objective, the specification should
      include a precise description of the format of the new objective, with
      sufficient explanation of its semantics to allow independent
      implementations. See <a class="xref" href="#ConsOption">Section 2.10.3</a> for
      more details. If the new objective is similar in name or purpose to a
      previously registered objective, the specification should explain why a
      new objective is justified.<a class="pilcrow" href="#section-5-13">¶</a></p>
<p id="section-5-14">The following initial values are assigned by this document:<a class="pilcrow" href="#section-5-14">¶</a></p>
<span id="name-initial-values-of-the-grasp-"></span><div id="obj-names">
<table class="center" id="table-2">
        <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-initial-values-of-the-grasp-">Initial Values of the "GRASP Objective Names" Subregistry</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Objective Name</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX0</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX1</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX2</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX3</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX4</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX5</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX6</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX7</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX8</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">EX9</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 8990</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<section id="section-6">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3629">[RFC3629]</dt>
        <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time class="refDate" datetime="2003-11">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time class="refDate" datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4086">[RFC4086]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refAuthor">Schiller, J.</span>, and <span class="refAuthor">S. Crocker</span>, <span class="refTitle">"Randomness Requirements for Security"</span>, <span class="seriesInfo">BCP 106</span>, <span class="seriesInfo">RFC 4086</span>, <span class="seriesInfo">DOI 10.17487/RFC4086</span>, <time class="refDate" datetime="2005-06">June 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4086">https://www.rfc-editor.org/info/rfc4086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7217">[RFC7217]</dt>
        <dd>
<span class="refAuthor">Gont, F.</span>, <span class="refTitle">"A Method for Generating Semantically Opaque Interface Identifiers with IPv6 Stateless Address Autoconfiguration (SLAAC)"</span>, <span class="seriesInfo">RFC 7217</span>, <span class="seriesInfo">DOI 10.17487/RFC7217</span>, <time class="refDate" datetime="2014-04">April 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7217">https://www.rfc-editor.org/info/rfc7217</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8085">[RFC8085]</dt>
        <dd>
<span class="refAuthor">Eggert, L.</span>, <span class="refAuthor">Fairhurst, G.</span>, and <span class="refAuthor">G. Shepherd</span>, <span class="refTitle">"UDP Usage Guidelines"</span>, <span class="seriesInfo">BCP 145</span>, <span class="seriesInfo">RFC 8085</span>, <span class="seriesInfo">DOI 10.17487/RFC8085</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8085">https://www.rfc-editor.org/info/rfc8085</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8610">[RFC8610]</dt>
        <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time class="refDate" datetime="2019-06">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8949">[RFC8949]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time class="refDate" datetime="2020-12">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8994">[RFC8994]</dt>
      <dd>
<span class="refAuthor">Eckert, T., Ed.</span>, <span class="refAuthor">Behringer, M., Ed.</span>, and <span class="refAuthor">S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="seriesInfo">RFC 8994</span>, <span class="seriesInfo">DOI 10.17487/RFC8994</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8994">https://www.rfc-editor.org/info/rfc8994</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.stenberg-anima-adncp">[ADNCP]</dt>
        <dd>
<span class="refAuthor">Stenberg, M.</span>, <span class="refTitle">"Autonomic Distributed Node Consensus Protocol"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-stenberg-anima-adncp-00</span>, <time class="refDate" datetime="2015-03-05">5 March 2015</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-stenberg-anima-adncp-00">https://tools.ietf.org/html/draft-stenberg-anima-adncp-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-anima-asa-guidelines">[ASA-GUIDELINES]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Ciavaglia, L.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">P. Peloso</span>, <span class="refTitle">"Guidelines for Autonomic Service Agents"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-anima-asa-guidelines-00</span>, <time class="refDate" datetime="2020-11-14">14 November 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-anima-asa-guidelines-00">https://tools.ietf.org/html/draft-ietf-anima-asa-guidelines-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.chaparadza-intarea-igcp">[IGCP]</dt>
        <dd>
<span class="refAuthor">Behringer, M. H.</span>, <span class="refAuthor">Chaparadza, R.</span>, <span class="refAuthor">Xin, L.</span>, <span class="refAuthor">Mahkonen, H.</span>, and <span class="refAuthor">R. Petre</span>, <span class="refTitle">"IP based Generic Control Protocol (IGCP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-chaparadza-intarea-igcp-00</span>, <time class="refDate" datetime="2011-07-25">25 July 2011</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-chaparadza-intarea-igcp-00">https://tools.ietf.org/html/draft-chaparadza-intarea-igcp-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2205">[RFC2205]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refAuthor">Zhang, L.</span>, <span class="refAuthor">Berson, S.</span>, <span class="refAuthor">Herzog, S.</span>, and <span class="refAuthor">S. Jamin</span>, <span class="refTitle">"Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification"</span>, <span class="seriesInfo">RFC 2205</span>, <span class="seriesInfo">DOI 10.17487/RFC2205</span>, <time class="refDate" datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2205">https://www.rfc-editor.org/info/rfc2205</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2334">[RFC2334]</dt>
        <dd>
<span class="refAuthor">Luciani, J.</span>, <span class="refAuthor">Armitage, G.</span>, <span class="refAuthor">Halpern, J.</span>, and <span class="refAuthor">N. Doraswamy</span>, <span class="refTitle">"Server Cache Synchronization Protocol (SCSP)"</span>, <span class="seriesInfo">RFC 2334</span>, <span class="seriesInfo">DOI 10.17487/RFC2334</span>, <time class="refDate" datetime="1998-04">April 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2334">https://www.rfc-editor.org/info/rfc2334</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2608">[RFC2608]</dt>
        <dd>
<span class="refAuthor">Guttman, E.</span>, <span class="refAuthor">Perkins, C.</span>, <span class="refAuthor">Veizades, J.</span>, and <span class="refAuthor">M. Day</span>, <span class="refTitle">"Service Location Protocol, Version 2"</span>, <span class="seriesInfo">RFC 2608</span>, <span class="seriesInfo">DOI 10.17487/RFC2608</span>, <time class="refDate" datetime="1999-06">June 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2608">https://www.rfc-editor.org/info/rfc2608</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2865">[RFC2865]</dt>
        <dd>
<span class="refAuthor">Rigney, C.</span>, <span class="refAuthor">Willens, S.</span>, <span class="refAuthor">Rubens, A.</span>, and <span class="refAuthor">W. Simpson</span>, <span class="refTitle">"Remote Authentication Dial In User Service (RADIUS)"</span>, <span class="seriesInfo">RFC 2865</span>, <span class="seriesInfo">DOI 10.17487/RFC2865</span>, <time class="refDate" datetime="2000-06">June 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2865">https://www.rfc-editor.org/info/rfc2865</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3416">[RFC3416]</dt>
        <dd>
<span class="refAuthor">Presuhn, R., Ed.</span>, <span class="refTitle">"Version 2 of the Protocol Operations for the Simple Network Management Protocol (SNMP)"</span>, <span class="seriesInfo">STD 62</span>, <span class="seriesInfo">RFC 3416</span>, <span class="seriesInfo">DOI 10.17487/RFC3416</span>, <time class="refDate" datetime="2002-12">December 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3416">https://www.rfc-editor.org/info/rfc3416</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3493">[RFC3493]</dt>
        <dd>
<span class="refAuthor">Gilligan, R.</span>, <span class="refAuthor">Thomson, S.</span>, <span class="refAuthor">Bound, J.</span>, <span class="refAuthor">McCann, J.</span>, and <span class="refAuthor">W. Stevens</span>, <span class="refTitle">"Basic Socket Interface Extensions for IPv6"</span>, <span class="seriesInfo">RFC 3493</span>, <span class="seriesInfo">DOI 10.17487/RFC3493</span>, <time class="refDate" datetime="2003-02">February 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3493">https://www.rfc-editor.org/info/rfc3493</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span>, <span class="refAuthor">Nordmark, E.</span>, <span class="refAuthor">Simpson, W.</span>, and <span class="refAuthor">H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 4861</span>, <span class="seriesInfo">DOI 10.17487/RFC4861</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4861">https://www.rfc-editor.org/info/rfc4861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5612">[RFC5612]</dt>
        <dd>
<span class="refAuthor">Eronen, P.</span> and <span class="refAuthor">D. Harrington</span>, <span class="refTitle">"Enterprise Number for Documentation Use"</span>, <span class="seriesInfo">RFC 5612</span>, <span class="seriesInfo">DOI 10.17487/RFC5612</span>, <time class="refDate" datetime="2009-08">August 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5612">https://www.rfc-editor.org/info/rfc5612</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5971">[RFC5971]</dt>
        <dd>
<span class="refAuthor">Schulzrinne, H.</span> and <span class="refAuthor">R. Hancock</span>, <span class="refTitle">"GIST: General Internet Signalling Transport"</span>, <span class="seriesInfo">RFC 5971</span>, <span class="seriesInfo">DOI 10.17487/RFC5971</span>, <time class="refDate" datetime="2010-10">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5971">https://www.rfc-editor.org/info/rfc5971</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6206">[RFC6206]</dt>
        <dd>
<span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Clausen, T.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Gnawali, O.</span>, and <span class="refAuthor">J. Ko</span>, <span class="refTitle">"The Trickle Algorithm"</span>, <span class="seriesInfo">RFC 6206</span>, <span class="seriesInfo">DOI 10.17487/RFC6206</span>, <time class="refDate" datetime="2011-03">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6206">https://www.rfc-editor.org/info/rfc6206</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time class="refDate" datetime="2011-06">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6733">[RFC6733]</dt>
        <dd>
<span class="refAuthor">Fajardo, V., Ed.</span>, <span class="refAuthor">Arkko, J.</span>, <span class="refAuthor">Loughney, J.</span>, and <span class="refAuthor">G. Zorn, Ed.</span>, <span class="refTitle">"Diameter Base Protocol"</span>, <span class="seriesInfo">RFC 6733</span>, <span class="seriesInfo">DOI 10.17487/RFC6733</span>, <time class="refDate" datetime="2012-10">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6733">https://www.rfc-editor.org/info/rfc6733</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6762">[RFC6762]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span> and <span class="refAuthor">M. Krochmal</span>, <span class="refTitle">"Multicast DNS"</span>, <span class="seriesInfo">RFC 6762</span>, <span class="seriesInfo">DOI 10.17487/RFC6762</span>, <time class="refDate" datetime="2013-02">February 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6762">https://www.rfc-editor.org/info/rfc6762</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6763">[RFC6763]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span> and <span class="refAuthor">M. Krochmal</span>, <span class="refTitle">"DNS-Based Service Discovery"</span>, <span class="seriesInfo">RFC 6763</span>, <span class="seriesInfo">DOI 10.17487/RFC6763</span>, <time class="refDate" datetime="2013-02">February 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6763">https://www.rfc-editor.org/info/rfc6763</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6887">[RFC6887]</dt>
        <dd>
<span class="refAuthor">Wing, D., Ed.</span>, <span class="refAuthor">Cheshire, S.</span>, <span class="refAuthor">Boucadair, M.</span>, <span class="refAuthor">Penno, R.</span>, and <span class="refAuthor">P. Selkirk</span>, <span class="refTitle">"Port Control Protocol (PCP)"</span>, <span class="seriesInfo">RFC 6887</span>, <span class="seriesInfo">DOI 10.17487/RFC6887</span>, <time class="refDate" datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6887">https://www.rfc-editor.org/info/rfc6887</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7558">[RFC7558]</dt>
        <dd>
<span class="refAuthor">Lynn, K.</span>, <span class="refAuthor">Cheshire, S.</span>, <span class="refAuthor">Blanchet, M.</span>, and <span class="refAuthor">D. Migault</span>, <span class="refTitle">"Requirements for Scalable DNS-Based Service Discovery (DNS-SD) / Multicast DNS (mDNS) Extensions"</span>, <span class="seriesInfo">RFC 7558</span>, <span class="seriesInfo">DOI 10.17487/RFC7558</span>, <time class="refDate" datetime="2015-07">July 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7558">https://www.rfc-editor.org/info/rfc7558</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7575">[RFC7575]</dt>
        <dd>
<span class="refAuthor">Behringer, M.</span>, <span class="refAuthor">Pritikin, M.</span>, <span class="refAuthor">Bjarnason, S.</span>, <span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">L. Ciavaglia</span>, <span class="refTitle">"Autonomic Networking: Definitions and Design Goals"</span>, <span class="seriesInfo">RFC 7575</span>, <span class="seriesInfo">DOI 10.17487/RFC7575</span>, <time class="refDate" datetime="2015-06">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7575">https://www.rfc-editor.org/info/rfc7575</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7576">[RFC7576]</dt>
        <dd>
<span class="refAuthor">Jiang, S.</span>, <span class="refAuthor">Carpenter, B.</span>, and <span class="refAuthor">M. Behringer</span>, <span class="refTitle">"General Gap Analysis for Autonomic Networking"</span>, <span class="seriesInfo">RFC 7576</span>, <span class="seriesInfo">DOI 10.17487/RFC7576</span>, <time class="refDate" datetime="2015-06">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7576">https://www.rfc-editor.org/info/rfc7576</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7787">[RFC7787]</dt>
        <dd>
<span class="refAuthor">Stenberg, M.</span> and <span class="refAuthor">S. Barth</span>, <span class="refTitle">"Distributed Node Consensus Protocol"</span>, <span class="seriesInfo">RFC 7787</span>, <span class="seriesInfo">DOI 10.17487/RFC7787</span>, <time class="refDate" datetime="2016-04">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7787">https://www.rfc-editor.org/info/rfc7787</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7788">[RFC7788]</dt>
        <dd>
<span class="refAuthor">Stenberg, M.</span>, <span class="refAuthor">Barth, S.</span>, and <span class="refAuthor">P. Pfister</span>, <span class="refTitle">"Home Networking Control Protocol"</span>, <span class="seriesInfo">RFC 7788</span>, <span class="seriesInfo">DOI 10.17487/RFC7788</span>, <time class="refDate" datetime="2016-04">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7788">https://www.rfc-editor.org/info/rfc7788</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time class="refDate" datetime="2017-01">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8264">[RFC8264]</dt>
        <dd>
<span class="refAuthor">Saint-Andre, P.</span> and <span class="refAuthor">M. Blanchet</span>, <span class="refTitle">"PRECIS Framework: Preparation, Enforcement, and Comparison of Internationalized Strings in Application Protocols"</span>, <span class="seriesInfo">RFC 8264</span>, <span class="seriesInfo">DOI 10.17487/RFC8264</span>, <time class="refDate" datetime="2017-10">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8264">https://www.rfc-editor.org/info/rfc8264</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8368">[RFC8368]</dt>
        <dd>
<span class="refAuthor">Eckert, T., Ed.</span> and <span class="refAuthor">M. Behringer</span>, <span class="refTitle">"Using an Autonomic Control Plane for Stable Connectivity of Network Operations, Administration, and Maintenance (OAM)"</span>, <span class="seriesInfo">RFC 8368</span>, <span class="seriesInfo">DOI 10.17487/RFC8368</span>, <time class="refDate" datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8368">https://www.rfc-editor.org/info/rfc8368</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8415">[RFC8415]</dt>
        <dd>
<span class="refAuthor">Mrugalski, T.</span>, <span class="refAuthor">Siodelski, M.</span>, <span class="refAuthor">Volz, B.</span>, <span class="refAuthor">Yourtchenko, A.</span>, <span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Jiang, S.</span>, <span class="refAuthor">Lemon, T.</span>, and <span class="refAuthor">T. Winters</span>, <span class="refTitle">"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"</span>, <span class="seriesInfo">RFC 8415</span>, <span class="seriesInfo">DOI 10.17487/RFC8415</span>, <time class="refDate" datetime="2018-11">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8415">https://www.rfc-editor.org/info/rfc8415</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8991">[RFC8991]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Liu, B., Ed.</span>, <span class="refAuthor">Wang, W.</span>, and <span class="refAuthor">X. Gong</span>, <span class="refTitle">"GeneRic Autonomic Signaling Protocol Application Program Interface (GRASP API)"</span>, <span class="seriesInfo">RFC 8991</span>, <span class="seriesInfo">DOI 10.17487/RFC8991</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8991">https://www.rfc-editor.org/info/rfc8991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8993">[RFC8993]</dt>
        <dd>
<span class="refAuthor">Behringer, M., Ed.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Ciavaglia, L.</span>, and <span class="refAuthor">J. Nobre</span>, <span class="refTitle">"A Reference Model for Autonomic Networking"</span>, <span class="seriesInfo">RFC 8993</span>, <span class="seriesInfo">DOI 10.17487/RFC8993</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8993">https://www.rfc-editor.org/info/rfc8993</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8995">[RFC8995]</dt>
      <dd>
<span class="refAuthor">Pritikin, M.</span>, <span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Behringer, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"Bootstrapping Remote Secure Key Infrastructure (BRSKI)"</span>, <span class="seriesInfo">RFC 8995</span>, <span class="seriesInfo">DOI 10.17487/RFC8995</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8995">https://www.rfc-editor.org/info/rfc8995</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="examples">
<section id="section-appendix.a">
      <h2 id="name-example-message-formats">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-example-message-formats">Example Message Formats</a>
      </h2>
<p id="section-appendix.a-1">For readers unfamiliar with CBOR, this appendix shows a number of example GRASP 
      messages conforming to the CDDL syntax given in  <a class="xref" href="#cddl">Section 4</a>. 
      Each message is shown three times in the following formats:<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<ol class="normal type-1" id="section-appendix.a-2" start="1" type="1">
        <li id="section-appendix.a-2.1">CBOR diagnostic notation.<a class="pilcrow" href="#section-appendix.a-2.1">¶</a>
</li>
        <li id="section-appendix.a-2.2">Similar, but showing the names of the constants. (Details of the flag bit encoding are omitted.)<a class="pilcrow" href="#section-appendix.a-2.2">¶</a>
</li>
        <li id="section-appendix.a-2.3">Hexadecimal version of the CBOR wire format.<a class="pilcrow" href="#section-appendix.a-2.3">¶</a>
</li>
      </ol>
<p id="section-appendix.a-3">
      Long lines are split for display purposes only.<a class="pilcrow" href="#section-appendix.a-3">¶</a></p>
<section id="section-a.1">
        <h2 id="name-discovery-example">
<a class="section-number selfRef" href="#section-a.1">A.1. </a><a class="section-name selfRef" href="#name-discovery-example">Discovery Example</a>
        </h2>
<p id="section-a.1-1">The initiator (2001:db8:f000:baaa:28cc:dc4c:9703:6781) multicasts a Discovery message
looking for objective EX1:<a class="pilcrow" href="#section-a.1-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.1-2">
<pre>[1, 13948744, h'20010db8f000baaa28ccdc4c97036781', ["EX1", 5, 2, 0]]
[M_DISCOVERY, 13948744, h'20010db8f000baaa28ccdc4c97036781',
              ["EX1", F_SYNCH_bits, 2, 0]]
h'84011a00d4d7485020010db8f000baaa28ccdc4c970367818463455831050200'
</pre><a class="pilcrow" href="#section-a.1-2">¶</a>
</div>
<p id="section-a.1-3">A peer (2001:0db8:f000:baaa:f000:baaa:f000:baaa) responds with a locator:<a class="pilcrow" href="#section-a.1-3">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.1-4">
<pre>[2, 13948744, h'20010db8f000baaa28ccdc4c97036781', 60000,
              [103, h'20010db8f000baaaf000baaaf000baaa', 6, 49443]]
[M_RESPONSE, 13948744, h'20010db8f000baaa28ccdc4c97036781', 60000,
              [O_IPv6_LOCATOR, h'20010db8f000baaaf000baaaf000baaa',
               IPPROTO_TCP, 49443]]
h'85021a00d4d7485020010db8f000baaa28ccdc4c9703678119ea6084186750
  20010db8f000baaaf000baaaf000baaa0619c123'
</pre><a class="pilcrow" href="#section-a.1-4">¶</a>
</div>
</section>
<section id="section-a.2">
        <h2 id="name-flood-example">
<a class="section-number selfRef" href="#section-a.2">A.2. </a><a class="section-name selfRef" href="#name-flood-example">Flood Example</a>
        </h2>
<p id="section-a.2-1">The initiator multicasts a Flood Synchronization message. The single objective has a null locator. There is no response:<a class="pilcrow" href="#section-a.2-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.2-2">
<pre>[9, 3504974, h'20010db8f000baaa28ccdc4c97036781', 10000,
             [["EX1", 5, 2, ["Example 1 value=", 100]],[] ] ]
[M_FLOOD, 3504974, h'20010db8f000baaa28ccdc4c97036781', 10000,
             [["EX1", F_SYNCH_bits, 2, ["Example 1 value=", 100]],[] ] ]
h'85091a00357b4e5020010db8f000baaa28ccdc4c97036781192710
  828463455831050282704578616d706c6520312076616c75653d186480'
</pre><a class="pilcrow" href="#section-a.2-2">¶</a>
</div>
</section>
<section id="section-a.3">
        <h2 id="name-synchronization-example">
<a class="section-number selfRef" href="#section-a.3">A.3. </a><a class="section-name selfRef" href="#name-synchronization-example">Synchronization Example</a>
        </h2>
<p id="section-a.3-1">Following successful discovery of objective EX2, the initiator unicasts a Request Synchronization message:<a class="pilcrow" href="#section-a.3-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.3-2">
<pre>[4, 4038926, ["EX2", 5, 5, 0]]
[M_REQ_SYN, 4038926, ["EX2", F_SYNCH_bits, 5, 0]]
h'83041a003da10e8463455832050500'
</pre><a class="pilcrow" href="#section-a.3-2">¶</a>
</div>
<p id="section-a.3-3">The peer responds with a value:<a class="pilcrow" href="#section-a.3-3">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.3-4">
<pre>[8, 4038926, ["EX2", 5, 5, ["Example 2 value=", 200]]]
[M_SYNCH, 4038926, ["EX2", F_SYNCH_bits, 5, ["Example 2 value=", 200]]]
h'83081a003da10e8463455832050582704578616d706c6520322076616c75653d18c8'
</pre><a class="pilcrow" href="#section-a.3-4">¶</a>
</div>
</section>
<section id="section-a.4">
        <h2 id="name-simple-negotiation-example">
<a class="section-number selfRef" href="#section-a.4">A.4. </a><a class="section-name selfRef" href="#name-simple-negotiation-example">Simple Negotiation Example</a>
        </h2>
<p id="section-a.4-1">Following successful discovery of objective EX3, the initiator unicasts a Request Negotiation message:<a class="pilcrow" href="#section-a.4-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.4-2">
<pre>[3, 802813, ["EX3", 3, 6, ["NZD", 47]]]
[M_REQ_NEG, 802813, ["EX3", F_NEG_bits, 6, ["NZD", 47]]]
h'83031a000c3ffd8463455833030682634e5a44182f'
</pre><a class="pilcrow" href="#section-a.4-2">¶</a>
</div>
<p id="section-a.4-3">The peer responds with immediate acceptance. Note that no objective is needed
because the initiator's request was accepted without change:<a class="pilcrow" href="#section-a.4-3">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.4-4">
<pre>[6, 802813, [101]]
[M_END , 802813, [O_ACCEPT]]
h'83061a000c3ffd811865'
</pre><a class="pilcrow" href="#section-a.4-4">¶</a>
</div>
</section>
<section id="section-a.5">
        <h2 id="name-complete-negotiation-exampl">
<a class="section-number selfRef" href="#section-a.5">A.5. </a><a class="section-name selfRef" href="#name-complete-negotiation-exampl">Complete Negotiation Example</a>
        </h2>
<p id="section-a.5-1">Again the initiator unicasts a Request Negotiation message:<a class="pilcrow" href="#section-a.5-1">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-2">
<pre>[3, 13767778, ["EX3", 3, 6, ["NZD", 410]]]
[M_REQ_NEG, 13767778, ["EX3", F_NEG_bits, 6, ["NZD", 410]]]
h'83031a00d214628463455833030682634e5a4419019a'
</pre><a class="pilcrow" href="#section-a.5-2">¶</a>
</div>
<p id="section-a.5-3">The responder starts to negotiate (making an offer):<a class="pilcrow" href="#section-a.5-3">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-4">
<pre>[5, 13767778, ["EX3", 3, 6, ["NZD", 80]]]
[M_NEGOTIATE, 13767778, ["EX3", F_NEG_bits, 6, ["NZD", 80]]]
h'83051a00d214628463455833030682634e5a441850'
</pre><a class="pilcrow" href="#section-a.5-4">¶</a>
</div>
<p id="section-a.5-5">The initiator continues to negotiate (reducing its request, and note that the loop count is decremented):<a class="pilcrow" href="#section-a.5-5">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-6">
<pre>[5, 13767778, ["EX3", 3, 5, ["NZD", 307]]]
[M_NEGOTIATE, 13767778, ["EX3", F_NEG_bits, 5, ["NZD", 307]]]
h'83051a00d214628463455833030582634e5a44190133'
</pre><a class="pilcrow" href="#section-a.5-6">¶</a>
</div>
<p id="section-a.5-7">The responder asks for more time:<a class="pilcrow" href="#section-a.5-7">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-8">
<pre>[7, 13767778, 34965]
[M_WAIT, 13767778, 34965]
h'83071a00d21462198895'
</pre><a class="pilcrow" href="#section-a.5-8">¶</a>
</div>
<p id="section-a.5-9">The responder continues to negotiate (increasing its offer):<a class="pilcrow" href="#section-a.5-9">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-10">
<pre>[5, 13767778, ["EX3", 3, 4, ["NZD", 120]]]
[M_NEGOTIATE, 13767778, ["EX3", F_NEG_bits, 4, ["NZD", 120]]]
h'83051a00d214628463455833030482634e5a441878'
</pre><a class="pilcrow" href="#section-a.5-10">¶</a>
</div>
<p id="section-a.5-11">The initiator continues to negotiate (reducing its request):<a class="pilcrow" href="#section-a.5-11">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-12">
<pre>[5, 13767778, ["EX3", 3, 3, ["NZD", 246]]]
[M_NEGOTIATE, 13767778, ["EX3", F_NEG_bits, 3, ["NZD", 246]]]
h'83051a00d214628463455833030382634e5a4418f6'
</pre><a class="pilcrow" href="#section-a.5-12">¶</a>
</div>
<p id="section-a.5-13">The responder refuses to negotiate further:<a class="pilcrow" href="#section-a.5-13">¶</a></p>
<div class="artwork art-text alignLeft" id="section-a.5-14">
<pre>[6, 13767778, [102, "Insufficient funds"]]
[M_END , 13767778, [O_DECLINE, "Insufficient funds"]]
h'83061a00d2146282186672496e73756666696369656e742066756e6473'
</pre><a class="pilcrow" href="#section-a.5-14">¶</a>
</div>
<p id="section-a.5-15">This negotiation has failed. If either side had sent
[M_END, 13767778, [O_ACCEPT]] it would have succeeded, converging
on the objective value in the preceding M_NEGOTIATE. Note that apart
from the initial M_REQ_NEG, the process is symmetrical.<a class="pilcrow" href="#section-a.5-15">¶</a></p>
</section>
</section>
</div>
<div id="reqts">
<section id="section-appendix.b">
      <h2 id="name-requirement-analysis-of-dis">
<a class="section-number selfRef" href="#section-appendix.b">Appendix B. </a><a class="section-name selfRef" href="#name-requirement-analysis-of-dis">Requirement Analysis of Discovery, Synchronization, and Negotiation</a>
      </h2>
<p id="section-appendix.b-1">This section discusses the requirements for discovery, negotiation,
      and synchronization capabilities. The primary user of the protocol is an Autonomic Service
      Agent (ASA), so the requirements are mainly expressed as the features needed by an ASA.
      A single physical device might contain several ASAs, and a single ASA might manage
      several technical objectives. If a technical objective is managed by several ASAs,
      any necessary coordination is outside the scope of GRASP.
      Furthermore, requirements for ASAs themselves, such as the processing of Intent 
      <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span>, are out of scope for the present document.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
<section id="section-b.1">
        <h2 id="name-requirements-for-discovery">
<a class="section-number selfRef" href="#section-b.1">B.1. </a><a class="section-name selfRef" href="#name-requirements-for-discovery">Requirements for Discovery</a>
        </h2>
<span class="break"></span><dl class="olPercent" id="section-b.1-1">
<dt>D1.</dt>
<dd id="section-b.1-1.1" style="margin-left: 3.0em">
            <p id="section-b.1-1.1.1">ASAs may be designed to manage any type of configurable device or software,
        as required in <a class="xref" href="#synchreq">Appendix B.2</a>. A basic requirement
        is therefore that the protocol can represent and discover any
        kind of technical objective (as defined in <a class="xref" href="#terms">Section 2.1</a>)
        among arbitrary subsets of participating nodes.<a class="pilcrow" href="#section-b.1-1.1.1">¶</a></p>
<p id="section-b.1-1.1.2">In an Autonomic Network, we must assume that when a device starts up,
        it has no information about any peer devices, the network structure,
        or the specific role it must play. The ASA(s) inside the device are
        in the same situation. In some cases, when a new application session
        starts within a device, the device or ASA may again lack
        information about relevant peers. For example, it might be necessary to set
        up resources on multiple other devices, coordinated and matched to
        each other so that there is no wasted resource. Security settings
        might also need updating to allow for the new device or user. 
        The relevant peers may be different for different technical
        objectives. Therefore discovery needs to be repeated as often as
        necessary to find peers capable of acting as counterparts for each
        objective that a discovery initiator needs to handle.
        From this background we derive the next three requirements:<a class="pilcrow" href="#section-b.1-1.1.2">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt>D2.</dt>
<dd id="section-b.1-1.2" style="margin-left: 3.0em">When an ASA first starts up, it may have no knowledge of the specific network to
        which it is attached.
        Therefore the discovery process must be able to support any network scenario,
        assuming only that the device concerned is bootstrapped from factory condition.<a class="pilcrow" href="#section-b.1-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt>D3.</dt>
<dd id="section-b.1-1.3" style="margin-left: 3.0em">When an ASA starts up, it must require no configured location information about any
        peers in order to discover them.<a class="pilcrow" href="#section-b.1-1.3">¶</a>
</dd>
          <dd class="break"></dd>
<dt>D4.</dt>
<dd id="section-b.1-1.4" style="margin-left: 3.0em">If an ASA supports multiple technical objectives, relevant peers may be different
        for different discovery objectives, so discovery needs to be performed separately to
        find counterparts for each objective. Thus, there must be a mechanism by
        which an ASA can separately discover peer ASAs for each of the
        technical objectives that it needs to manage, whenever necessary.<a class="pilcrow" href="#section-b.1-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt>D5.</dt>
<dd id="section-b.1-1.5" style="margin-left: 3.0em">Following discovery, an ASA will normally perform negotiation
        or synchronization for the corresponding objectives. The design
        should allow for this by conveniently linking discovery to negotiation
        and synchronization. It may provide an optional mechanism to
        combine discovery and negotiation/synchronization in a single protocol exchange.<a class="pilcrow" href="#section-b.1-1.5">¶</a>
</dd>
          <dd class="break"></dd>
<dt>D6.</dt>
<dd id="section-b.1-1.6" style="margin-left: 3.0em">Some objectives may only be significant on the local link,
        but others may be significant across the routed network and require
        off-link operations. Thus, the relevant peers might be immediate
        neighbors on the same layer 2 link, or they might be more distant and
        only accessible via layer 3. The mechanism must therefore provide both
        on-link and off-link discovery of ASAs supporting specific technical
        objectives.<a class="pilcrow" href="#section-b.1-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt>D7.</dt>
<dd id="section-b.1-1.7" style="margin-left: 3.0em">
            <p id="section-b.1-1.7.1">The discovery process should be flexible enough to allow for
        special cases, such as the following:<a class="pilcrow" href="#section-b.1-1.7.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-b.1-1.7.2.1">During initialization, a device must be able to establish mutual trust
        with autonomic nodes elsewhere in the network and participate in an
        authentication mechanism. Although
        this will inevitably start with a discovery action, it is a special case
        precisely because trust is not yet established. This topic
        is the subject of <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span>.
        We require that once trust has been established for a device,
        all ASAs within the device inherit the device's credentials and are also trusted.
        This does not preclude the device having multiple credentials.<a class="pilcrow" href="#section-b.1-1.7.2.1">¶</a>
</li>
              <li class="normal" id="section-b.1-1.7.2.2">
        Depending on the type of network involved, discovery of other
        central functions might be needed, such as
        the Network Operations Center (NOC) <span>[<a class="xref" href="#RFC8368">RFC8368</a>]</span>.
        The protocol must be capable of supporting such discovery during initialization,
        as well as discovery during ongoing operation.<a class="pilcrow" href="#section-b.1-1.7.2.2">¶</a>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt>D8.</dt>
<dd id="section-b.1-1.8" style="margin-left: 3.0em">The discovery process must not generate excessive traffic and 
        must take account of sleeping nodes.<a class="pilcrow" href="#section-b.1-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt>D9.</dt>
<dd id="section-b.1-1.9" style="margin-left: 3.0em">There must be a mechanism for handling stale discovery results.<a class="pilcrow" href="#section-b.1-1.9">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<div id="synchreq">
<section id="section-b.2">
        <h2 id="name-requirements-for-synchroniz">
<a class="section-number selfRef" href="#section-b.2">B.2. </a><a class="section-name selfRef" href="#name-requirements-for-synchroniz">Requirements for Synchronization and Negotiation Capability</a>
        </h2>
<p id="section-b.2-1">Autonomic Networks need to be able to manage many
        different types of parameters and consider many dimensions,
        such as latency, load, unused or limited resources,
        conflicting resource requests,
        security settings, power saving, load balancing, etc. 
        Status information and resource metrics need to be shared between
        nodes for dynamic adjustment of resources and for monitoring purposes.
        While this might be achieved by existing protocols when they are
        available, the new protocol needs to be able to support parameter
        exchange, including mutual synchronization, even when no negotiation
        as such is required. In general, these parameters do not apply to all
        participating nodes, but only to a subset.<a class="pilcrow" href="#section-b.2-1">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-b.2-2">
        <dt>SN1.</dt>
<dd id="section-b.2-2.1" style="margin-left: 3.0em">A basic requirement for the protocol is therefore the
        ability to represent, discover, synchronize, and negotiate almost any
        kind of network parameter among selected subsets of participating nodes.<a class="pilcrow" href="#section-b.2-2.1">¶</a>
</dd>
          <dd class="break"></dd>
<dt>SN2.</dt>
<dd id="section-b.2-2.2" style="margin-left: 3.0em">Negotiation is an iterative request/response process that must be guaranteed to terminate 
        (with success or failure). While tie-breaking rules must be defined specifically 
        for each use case, the protocol should have some general mechanisms in support of loop
        and deadlock prevention, such as hop-count limits or timeouts.<a class="pilcrow" href="#section-b.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt>SN3.</dt>
<dd id="section-b.2-2.3" style="margin-left: 3.0em">Synchronization must be possible for groups of nodes ranging from small to very large.<a class="pilcrow" href="#section-b.2-2.3">¶</a>
</dd>
          <dd class="break"></dd>
<dt>SN4.</dt>
<dd id="section-b.2-2.4" style="margin-left: 3.0em">To avoid "reinventing the wheel", the protocol should be able to encapsulate the
        data formats used by existing configuration protocols (such as Network Configuration Protocol (NETCONF) and YANG)
        in cases where that is convenient.<a class="pilcrow" href="#section-b.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt>SN5.</dt>
<dd id="section-b.2-2.5" style="margin-left: 3.0em">Human intervention in complex situations is costly and error prone.
        Therefore, synchronization or negotiation of parameters without human
        intervention is desirable whenever the coordination of multiple devices can improve
        overall network performance. It follows that the protocol's resource requirements
        must be small enough to fit in any device that would otherwise need human intervention.
        The issue of running in constrained nodes
        is discussed in <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>.<a class="pilcrow" href="#section-b.2-2.5">¶</a>
</dd>
          <dd class="break"></dd>
<dt>SN6.</dt>
<dd id="section-b.2-2.6" style="margin-left: 3.0em">Human intervention in large networks is often replaced by use of a
        top-down network management system (NMS). It therefore follows that 
        the protocol, as part of the Autonomic Networking Infrastructure, should
        be capable of running in any device that would otherwise be managed by 
        an NMS, and that it can coexist with an NMS and with protocols
        such as SNMP and NETCONF.<a class="pilcrow" href="#section-b.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt>SN7.</dt>
<dd id="section-b.2-2.7" style="margin-left: 3.0em">
            <p id="section-b.2-2.7.1">Specific autonomic features are expected to be implemented by individual ASAs,
        but the protocol must be general enough to allow them. Some examples follow:<a class="pilcrow" href="#section-b.2-2.7.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-b.2-2.7.2.1">Dependencies and conflicts: In order to
          decide upon a configuration for a given device, the device may need
          information from neighbors. This can be established through the
          negotiation procedure, or through synchronization if that
          is sufficient. However, a given item in a neighbor
          may depend on other information from its own neighbors, which may
          need another negotiation or synchronization procedure to obtain or decide.
          Therefore, there are potential dependencies and conflicts among negotiation or synchronization
          procedures. Resolving dependencies and conflicts is a matter for the individual ASAs involved. 
          To allow this, there need to be clear boundaries and convergence
          mechanisms for negotiations. Also some mechanisms are needed to avoid
          loop dependencies or uncontrolled growth in a tree of dependencies.
          It is the ASA designer's responsibility
          to avoid or detect looping dependencies or excessive growth of dependency trees.
          The protocol's role is limited to bilateral signaling between ASAs
          and the avoidance of loops during bilateral signaling.<a class="pilcrow" href="#section-b.2-2.7.2.1">¶</a>
</li>
              <li class="normal" id="section-b.2-2.7.2.2">Recovery from faults and identification of faulty devices should be
          as automatic as possible. The protocol's role is limited to discovery, synchronization, and
          negotiation. These processes can occur at any time, and an ASA may
          need to repeat any of these steps when the ASA detects an event
          such as a negotiation counterpart failing.<a class="pilcrow" href="#section-b.2-2.7.2.2">¶</a>
</li>
              <li class="normal" id="section-b.2-2.7.2.3">Since a major goal is to minimize human intervention, it is necessary that the
          network can in effect "think ahead" before changing its parameters. One aspect
          of this is an ASA that relies on a knowledge base to predict network behavior.
          This is out of scope for the signaling protocol. However, another aspect is
          forecasting the effect of a change by a "dry run" negotiation before actually
          installing the change. Signaling a dry run is therefore a desirable feature
          of the protocol.<a class="pilcrow" href="#section-b.2-2.7.2.3">¶</a>
</li>
            </ul>
<p id="section-b.2-2.7.3">Note that management logging, monitoring, alerts, and tools for intervention are required.
          However, these can only be features of individual ASAs, not of the protocol itself. 
          Another document <span>[<a class="xref" href="#RFC8368">RFC8368</a>]</span> discusses how
          such agents may be linked into conventional Operations, Administration, and Maintenance (OAM) systems via an Autonomic Control Plane
          <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>.<a class="pilcrow" href="#section-b.2-2.7.3">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt>SN8.</dt>
<dd id="section-b.2-2.8" style="margin-left: 3.0em">The protocol will be able to deal with a wide variety of
        technical objectives, covering any type of network parameter.
        Therefore the protocol will need a flexible and easily extensible format for
        describing objectives. At a later stage, it may be desirable to adopt an explicit
        information model. One consideration is whether to adopt an existing
        information model or to design a new one.<a class="pilcrow" href="#section-b.2-2.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-b.3">
        <h2 id="name-specific-technical-requirem">
<a class="section-number selfRef" href="#section-b.3">B.3. </a><a class="section-name selfRef" href="#name-specific-technical-requirem">Specific Technical Requirements</a>
        </h2>
<span class="break"></span><dl class="olPercent" id="section-b.3-1">
        <dt>T1.</dt>
<dd id="section-b.3-1.1" style="margin-left: 3.0em">It should be convenient for ASA designers to define new technical objectives
        and for programmers to express them, without excessive impact on
        runtime efficiency and footprint. In particular, it should be convenient for ASAs
        to be implemented independently of each other as user-space programs rather than as kernel
        code, where such a programming model is possible. The classes of device in which the protocol
        might run is discussed in <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>.<a class="pilcrow" href="#section-b.3-1.1">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T2.</dt>
<dd id="section-b.3-1.2" style="margin-left: 3.0em">The protocol should be easily extensible in case the initially defined discovery,
        synchronization, and negotiation mechanisms prove to be insufficient.<a class="pilcrow" href="#section-b.3-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T3.</dt>
<dd id="section-b.3-1.3" style="margin-left: 3.0em">To be a generic platform, the protocol payload format should be 
        independent of the transport protocol or IP version.
        In particular, it should be able to run over IPv6 or IPv4.
        However, some functions, such as multicasting on
        a link, might need to be IP version dependent. By default, IPv6 should
        be preferred.<a class="pilcrow" href="#section-b.3-1.3">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T4.</dt>
<dd id="section-b.3-1.4" style="margin-left: 3.0em">The protocol must be able to access off-link counterparts via routable addresses,
        i.e., must not be restricted to link-local operation.<a class="pilcrow" href="#section-b.3-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T5.</dt>
<dd id="section-b.3-1.5" style="margin-left: 3.0em">It must also be possible for an external discovery mechanism
        to be used, if appropriate for a given technical objective. In other words, GRASP discovery
        must not be a prerequisite for GRASP negotiation or synchronization.<a class="pilcrow" href="#section-b.3-1.5">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T6.</dt>
<dd id="section-b.3-1.6" style="margin-left: 3.0em">The protocol must be capable of distinguishing multiple simultaneous
        operations with one or more peers, especially when wait states occur.<a class="pilcrow" href="#section-b.3-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T7.</dt>
<dd id="section-b.3-1.7" style="margin-left: 3.0em">Intent: Although the distribution of Intent is out of scope
        for this document, the protocol must not by design exclude its
        use for Intent distribution.<a class="pilcrow" href="#section-b.3-1.7">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T8.</dt>
<dd id="section-b.3-1.8" style="margin-left: 3.0em">Management monitoring, alerts, and intervention:
        Devices should be able to report to a monitoring
        system. Some events must be able to generate operator alerts, and
        some provision for emergency intervention must be possible (e.g.,
        to freeze synchronization or negotiation in a misbehaving device). These features
        might not use the signaling protocol itself, but its design should not exclude such use.<a class="pilcrow" href="#section-b.3-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt>T9.</dt>
<dd id="section-b.3-1.9" style="margin-left: 3.0em">Because this protocol may directly cause changes to device configurations 
        and have significant impacts on a running network, all protocol exchanges need to be
        fully secured against forged messages and man-in-the-middle attacks, and secured
        as much as reasonably possible against denial-of-service attacks. There must also
        be an encryption mechanism to resist unwanted monitoring. However, it is not required
        that the protocol itself provides these security features; it may depend on an existing
        secure environment.<a class="pilcrow" href="#section-b.3-1.9">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
</div>
<div id="current">
<section id="section-appendix.c">
      <h2 id="name-capability-analysis-of-curr">
<a class="section-number selfRef" href="#section-appendix.c">Appendix C. </a><a class="section-name selfRef" href="#name-capability-analysis-of-curr">Capability Analysis of Current Protocols</a>
      </h2>
<p id="section-appendix.c-1">This appendix discusses various existing protocols with properties
      related to the requirements described in <a class="xref" href="#reqts">Appendix B</a>. The
      purpose is to evaluate whether any existing protocol, or a simple
      combination of existing protocols, can meet those requirements.<a class="pilcrow" href="#section-appendix.c-1">¶</a></p>
<p id="section-appendix.c-2">Numerous protocols include some form of discovery, but these all appear to be very
      specific in their applicability. Service Location Protocol (SLP) 
      <span>[<a class="xref" href="#RFC2608">RFC2608</a>]</span> provides service discovery for managed networks,
      but it requires configuration of its own servers. DNS-Based Service Discovery (DNS-SD) <span>[<a class="xref" href="#RFC6763">RFC6763</a>]</span>
      combined with Multicast DNS (mDNS) <span>[<a class="xref" href="#RFC6762">RFC6762</a>]</span> provides service discovery for
      small networks with a single link layer. <span>[<a class="xref" href="#RFC7558">RFC7558</a>]</span>
      aims to extend this to larger autonomous networks, but this is not yet
      standardized. However, both SLP and DNS-SD appear to
      target primarily application-layer services, not the layer 2 and 3 objectives
      relevant to basic network configuration. Both SLP and DNS-SD are text-based protocols.<a class="pilcrow" href="#section-appendix.c-2">¶</a></p>
<p id="section-appendix.c-3">Simple Network Management Protocol (SNMP) <span>[<a class="xref" href="#RFC3416">RFC3416</a>]</span> uses
      a command/response model not well suited for peer negotiation. 
      NETCONF <span>[<a class="xref" href="#RFC6241">RFC6241</a>]</span> uses an RPC model that does allow positive or
      negative responses from the target system, but this is still not
      adequate for negotiation.<a class="pilcrow" href="#section-appendix.c-3">¶</a></p>
<p id="section-appendix.c-4">There are various existing protocols that have elementary negotiation
      abilities, such as Dynamic Host Configuration Protocol for IPv6 (DHCPv6)
      <span>[<a class="xref" href="#RFC8415">RFC8415</a>]</span>, Neighbor Discovery (ND) <span>[<a class="xref" href="#RFC4861">RFC4861</a>]</span>,
      Port Control Protocol (PCP) <span>[<a class="xref" href="#RFC6887">RFC6887</a>]</span>, Remote Authentication
      Dial-In User Service (RADIUS) <span>[<a class="xref" href="#RFC2865">RFC2865</a>]</span>, Diameter <span>[<a class="xref" href="#RFC6733">RFC6733</a>]</span>,
      etc. Most of them are configuration or
      management protocols. However, they either provide only a simple
      request/response model in a master/slave context or very limited
      negotiation abilities.<a class="pilcrow" href="#section-appendix.c-4">¶</a></p>
<p id="section-appendix.c-5">There are some signaling protocols with an element of negotiation.
      For example, Resource ReSerVation Protocol (RSVP) <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span>
      was designed for negotiating quality-of-service
      parameters along the path of a unicast or multicast flow. RSVP is a very
      specialized protocol aimed at end-to-end flows. 
      A more generic design is General Internet
      Signalling Transport (GIST) <span>[<a class="xref" href="#RFC5971">RFC5971</a>]</span>; however, it
      tries to solve many problems, making it complex, and is also aimed at per-flow
      signaling across many hops rather than at device-to-device signaling.
      However, we cannot completely exclude extended RSVP or GIST as a
      synchronization and negotiation protocol. They do not appear to be
      directly  usable for peer discovery.<a class="pilcrow" href="#section-appendix.c-5">¶</a></p>
<p id="section-appendix.c-6">RESTCONF <span>[<a class="xref" href="#RFC8040">RFC8040</a>]</span> is a protocol intended to
      convey NETCONF information expressed in the YANG language via HTTP,
      including the ability to transit HTML intermediaries. While this is a
      powerful approach in the context of centralized configuration of a
      complex network, it is not well adapted to efficient interactive
      negotiation between peer devices, especially simple ones that might
      not include YANG processing already.<a class="pilcrow" href="#section-appendix.c-6">¶</a></p>
<p id="section-appendix.c-7">The Distributed Node Consensus Protocol (DNCP) 
      <span>[<a class="xref" href="#RFC7787">RFC7787</a>]</span> is defined as a generic form
      of a state synchronization protocol, with a proposed usage profile being the 
      Home Networking Control Protocol (HNCP) <span>[<a class="xref" href="#RFC7788">RFC7788</a>]</span>
      for configuring Homenet routers. A specific application of DNCP for Autonomic
      Networking was proposed in <span>[<a class="xref" href="#I-D.stenberg-anima-adncp">ADNCP</a>]</span>.
      According to <span>[<a class="xref" href="#RFC7787">RFC7787</a>]</span>:<a class="pilcrow" href="#section-appendix.c-7">¶</a></p>
<blockquote id="section-appendix.c-8">
        <p id="section-appendix.c-8.1">DNCP is designed to provide a way for each participating node to
         publish a set of TLV (Type-Length-Value) tuples (at most 64 KB) and to provide a
         shared and common view about the data published...<a class="pilcrow" href="#section-appendix.c-8.1">¶</a></p>
<p id="section-appendix.c-8.2">DNCP is most suitable
         for data that changes only infrequently...<a class="pilcrow" href="#section-appendix.c-8.2">¶</a></p>
<p id="section-appendix.c-8.3">If constant rapid
         state changes are needed, the preferable choice is to use an
         additional point-to-point channel...<a class="pilcrow" href="#section-appendix.c-8.3">¶</a></p>
</blockquote>
<p id="section-appendix.c-9">Specific features of DNCP include:<a class="pilcrow" href="#section-appendix.c-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-appendix.c-10.1">Every participating node has a unique node identifier.<a class="pilcrow" href="#section-appendix.c-10.1">¶</a>
</li>
        <li class="normal" id="section-appendix.c-10.2">DNCP messages are encoded as a sequence of TLV objects and sent over
          unicast UDP or TCP, with or without (D)TLS security.<a class="pilcrow" href="#section-appendix.c-10.2">¶</a>
</li>
        <li class="normal" id="section-appendix.c-10.3">Multicast is used only for discovery of DNCP neighbors
          when lower security is acceptable.<a class="pilcrow" href="#section-appendix.c-10.3">¶</a>
</li>
        <li class="normal" id="section-appendix.c-10.4">Synchronization of state is maintained by a flooding process using the Trickle algorithm.
          There is no bilateral synchronization or negotiation capability.<a class="pilcrow" href="#section-appendix.c-10.4">¶</a>
</li>
        <li class="normal" id="section-appendix.c-10.5">The HNCP profile of DNCP is designed to operate between directly connected neighbors
          on a shared link using UDP and link-local IPv6 addresses.<a class="pilcrow" href="#section-appendix.c-10.5">¶</a>
</li>
      </ul>
<p id="section-appendix.c-11">
      DNCP does not meet the needs of a general negotiation protocol because it is designed
      specifically for flooding synchronization. Also, in its HNCP profile, it is limited to link-local
      messages and to IPv6. However, at the minimum, it is a
      very interesting test case for this style of interaction between devices
      without needing a central authority, and it is a proven method of network-wide state
      synchronization by flooding.<a class="pilcrow" href="#section-appendix.c-11">¶</a></p>
<p id="section-appendix.c-12">The Server Cache Synchronization Protocol (SCSP) <span>[<a class="xref" href="#RFC2334">RFC2334</a>]</span> also describes
      a method for cache synchronization and cache replication among a group of nodes.<a class="pilcrow" href="#section-appendix.c-12">¶</a></p>
<p id="section-appendix.c-13">A proposal was made some years ago for an IP based Generic Control Protocol
      (IGCP) <span>[<a class="xref" href="#I-D.chaparadza-intarea-igcp">IGCP</a>]</span>. This was aimed
      at information exchange and negotiation but not directly at peer
      discovery. However, it has many points in common with the present work.<a class="pilcrow" href="#section-appendix.c-13">¶</a></p>
<p id="section-appendix.c-14">None of the above solutions appears to completely meet the needs of
      generic discovery, state synchronization, and negotiation in a single solution.
      Many of the protocols assume that they are working in a traditional
      top-down or north-south scenario, rather than a fluid peer-to-peer
      scenario. Most of them are specialized in one way or another. As a result, 
      we have not identified a combination of existing protocols that meets the
      requirements in <a class="xref" href="#reqts">Appendix B</a>. Also, we have not identified a path
      by which one of the existing protocols could be extended to meet the
      requirements.<a class="pilcrow" href="#section-appendix.c-14">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-appendix.d">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="section-appendix.d-1">A major contribution to the original draft version of this document was
      made by <span class="contact-name">Sheng Jiang</span>,
      and significant contributions were made by <span class="contact-name">Toerless Eckert</span>.
      Significant early review inputs were received from 
      <span class="contact-name">Joel Halpern</span>, <span class="contact-name">Barry Leiba</span>,
      <span class="contact-name">Charles E. Perkins</span>, and <span class="contact-name">Michael Richardson</span>. 
      <span class="contact-name">William Atwood</span> provided important assistance in
      debugging a prototype implementation.<a class="pilcrow" href="#section-appendix.d-1">¶</a></p>
<p id="section-appendix.d-2">Valuable comments were received from
      <span class="contact-name">Michael Behringer</span>,
      <span class="contact-name">Jéferson Campos Nobre</span>,
      <span class="contact-name">Laurent Ciavaglia</span>,
      <span class="contact-name">Zongpeng Du</span>,
      <span class="contact-name">Yu Fu</span>,
      <span class="contact-name">Joel Jaeggli</span>,
      <span class="contact-name">Zhenbin Li</span>,
      <span class="contact-name">Dimitri Papadimitriou</span>,
      <span class="contact-name">Pierre Peloso</span>,
      <span class="contact-name">Reshad Rahman</span>,
      <span class="contact-name">Markus Stenberg</span>,
      <span class="contact-name">Martin Stiemerling</span>,
      <span class="contact-name">Rene Struik</span>,
      <span class="contact-name">Martin Thomson</span>,
      <span class="contact-name">Dacheng Zhang</span>,
      and participants in the Network Management Research Group,
      the ANIMA Working Group,
      and the IESG.<a class="pilcrow" href="#section-appendix.d-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.e">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carsten Bormann</span></div>
<div class="left" dir="auto"><span class="org">Universität Bremen TZI</span></div>
<div class="left" dir="auto"><span class="street-address">Postfach 330440</span></div>
<div class="left" dir="auto">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cabo@tzi.org">cabo@tzi.org</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Brian Carpenter (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="street-address">School of Computer Science<br/>University of Auckland<br/>PB 92019</span></div>
<div class="left" dir="auto">
<span class="locality">Auckland</span> <span class="postal-code">1142</span>
</div>
<div class="left" dir="auto"><span class="country-name">New Zealand</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:brian.e.carpenter@gmail.com">brian.e.carpenter@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Bing Liu (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies Co., Ltd</span></div>
<div class="left" dir="auto"><span class="extended-address">Q14, Huawei Campus<br/>Hai-Dian District</span></div>
<div class="left" dir="auto"><span class="street-address">No.156 Beiqing Road</span></div>
<div class="left" dir="auto"><span class="locality">Beijing</span></div>
<div class="left" dir="auto"><span class="postal-code">100095</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:leo.liubing@huawei.com">leo.liubing@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>