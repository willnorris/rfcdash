<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9485: I-Regexp: An Interoperable Regular Expression Format</title>
<meta content="Carsten Bormann" name="author"/>
<meta content="Tim Bray" name="author"/>
<meta content="
       This document specifies I-Regexp, a flavor of regular expression that is
limited in scope with the goal of interoperation across many different
regular expression libraries. 
    " name="description"/>
<meta content="xml2rfc 3.18.2" name="generator"/>
<meta content="Regexp" name="keyword"/>
<meta content="Regex" name="keyword"/>
<meta content="9485" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.18.2
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9485.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-jsonpath-iregexp-08" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9485" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9485</td>
<td class="center">I-Regexp</td>
<td class="right">October 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bormann &amp; Bray</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9485">9485</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-10">October 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Bormann</div>
<div class="org">Universität Bremen TZI</div>
</div>
<div class="author">
      <div class="author-name">T. Bray</div>
<div class="org">Textuality</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9485</h1>
<h1 id="title">I-Regexp: An Interoperable Regular Expression Format</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document specifies I-Regexp, a flavor of regular expression that is
limited in scope with the goal of interoperation across many different
regular expression libraries.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9485">https://www.rfc-editor.org/info/rfc9485</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-objectives">Objectives</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-i-regexp-syntax">I-Regexp Syntax</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-checking-implementations">Checking Implementations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-i-regexp-semantics">I-Regexp Semantics</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-mapping-i-regexp-to-regexp-">Mapping I-Regexp to Regexp Dialects</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-multi-character-escapes">Multi-Character Escapes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-xsd-regexps">XSD Regexps</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="auto internal xref" href="#section-5.3">5.3</a>.  <a class="internal xref" href="#name-ecmascript-regexps">ECMAScript Regexps</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="auto internal xref" href="#section-5.4">5.4</a>.  <a class="internal xref" href="#name-pcre-re2-and-ruby-regexps">PCRE, RE2, and Ruby Regexps</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-motivation-and-background">Motivation and Background</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-implementing-i-regexp">Implementing I-Regexp</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="auto internal xref" href="#section-9.1">9.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="auto internal xref" href="#section-9.2">9.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">This specification describes an interoperable regular expression (abbreviated as "regexp") flavor, I-Regexp.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">I-Regexp does not provide advanced regular expression features such as capture groups, lookahead, or backreferences.
It supports only a Boolean matching capability, i.e., testing whether a given regular expression matches a given piece of text.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">I-Regexp supports the entire repertoire of Unicode characters (Unicode
scalar values); both the I-Regexp strings themselves and the strings
they are matched against are sequences of Unicode scalar values (often
represented in UTF-8 encoding form <span>[<a class="cite xref" href="#STD63">STD63</a>]</span> for interchange).<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">I-Regexp is a subset of XML Schema Definition (XSD) regular expressions <span>[<a class="cite xref" href="#XSD-2">XSD-2</a>]</span>.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">This document includes guidance for converting I-Regexps for use with several well-known regular expression idioms.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">The development of I-Regexp was motivated by the work of the JSONPath Working Group (WG). The WG wanted to include support for the use of regular expressions in JSONPath filters 
in its specification <span>[<a class="cite xref" href="#I-D.ietf-jsonpath-base">JSONPATH-BASE</a>]</span>, but was unable to find a useful
specification for regular expressions that would be interoperable across the popular libraries.<a class="pilcrow" href="#section-1-6">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.1-1">This document uses the abbreviation "regexp" for what is usually
called a "regular expression" in programming.
The term "I-Regexp" is used as a noun meaning a character string (sequence of
Unicode scalar values) that conforms to the requirements
in this specification; the plural is "I-Regexps".<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">This specification uses Unicode terminology; a good entry point is provided by <span>[<a class="cite xref" href="#UNICODE-GLOSSARY">UNICODE-GLOSSARY</a>]</span>.<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<p id="section-1.1-4">The grammatical rules in this document are to be interpreted as ABNF,
as described in <span>[<a class="cite xref" href="#RFC5234">RFC5234</a>]</span> and <span>[<a class="cite xref" href="#RFC7405">RFC7405</a>]</span>, where the "characters" of
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc5234#section-2.3">Section 2.3</a> of [<a class="cite xref" href="#RFC5234">RFC5234</a>]</span> are Unicode scalar values.<a class="pilcrow" href="#section-1.1-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="objectives">
<section id="section-2">
      <h2 id="name-objectives">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-objectives">Objectives</a>
      </h2>
<p id="section-2-1">I-Regexps should handle the vast majority of practical cases where a
matching regexp is needed in a data-model specification or a query-language expression.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">At the time of writing, an editor of this document conducted a survey of the regexp syntax
used in recently published RFCs. All examples found there should be covered by I-Regexps,
both syntactically and with their intended semantics.
The exception is the use of multi-character escapes, for which
workaround guidance is provided in <a class="auto internal xref" href="#mapping">Section 5</a>.<a class="pilcrow" href="#section-2-2">¶</a></p>
</section>
</div>
<div id="defn">
<section id="section-3">
      <h2 id="name-i-regexp-syntax">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-i-regexp-syntax">I-Regexp Syntax</a>
      </h2>
<p id="section-3-1">An I-Regexp <span class="bcp14">MUST</span> conform to the ABNF specification in
<a class="auto internal xref" href="#iregexp-abnf">Figure 1</a>.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span id="name-i-regexp-syntax-in-abnf"></span><div id="iregexp-abnf">
<figure id="figure-1">
        <div class="lang-abnf sourcecode" id="section-3-2.1">
<pre>i-regexp = branch *( "|" branch )
branch = *piece
piece = atom [ quantifier ]
quantifier = ( "*" / "+" / "?" ) / range-quantifier
range-quantifier = "{" QuantExact [ "," [ QuantExact ] ] "}"
QuantExact = 1*%x30-39 ; '0'-'9'

atom = NormalChar / charClass / ( "(" i-regexp ")" )
NormalChar = ( %x00-27 / "," / "-" / %x2F-3E ; '/'-'&gt;'
 / %x40-5A ; '@'-'Z'
 / %x5E-7A ; '^'-'z'
 / %x7E-D7FF ; skip surrogate code points
 / %xE000-10FFFF )
charClass = "." / SingleCharEsc / charClassEsc / charClassExpr
SingleCharEsc = "\" ( %x28-2B ; '('-'+'
 / "-" / "." / "?" / %x5B-5E ; '['-'^'
 / %s"n" / %s"r" / %s"t" / %x7B-7D ; '{'-'}'
 )
charClassEsc = catEsc / complEsc
charClassExpr = "[" [ "^" ] ( "-" / CCE1 ) *CCE1 [ "-" ] "]"
CCE1 = ( CCchar [ "-" CCchar ] ) / charClassEsc
CCchar = ( %x00-2C / %x2E-5A ; '.'-'Z'
 / %x5E-D7FF ; skip surrogate code points
 / %xE000-10FFFF ) / SingleCharEsc
catEsc = %s"\p{" charProp "}"
complEsc = %s"\P{" charProp "}"
charProp = IsCategory
IsCategory = Letters / Marks / Numbers / Punctuation / Separators /
    Symbols / Others
Letters = %s"L" [ ( %s"l" / %s"m" / %s"o" / %s"t" / %s"u" ) ]
Marks = %s"M" [ ( %s"c" / %s"e" / %s"n" ) ]
Numbers = %s"N" [ ( %s"d" / %s"l" / %s"o" ) ]
Punctuation = %s"P" [ ( %x63-66 ; 'c'-'f'
 / %s"i" / %s"o" / %s"s" ) ]
Separators = %s"Z" [ ( %s"l" / %s"p" / %s"s" ) ]
Symbols = %s"S" [ ( %s"c" / %s"k" / %s"m" / %s"o" ) ]
Others = %s"C" [ ( %s"c" / %s"f" / %s"n" / %s"o" ) ]
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-i-regexp-syntax-in-abnf">I-Regexp Syntax in ABNF</a>
        </figcaption></figure>
</div>
<p id="section-3-3">As an additional restriction, <code>charClassExpr</code> is not allowed to
match <code>[^]</code>, which, according to this grammar, would parse as a
positive character class containing the single character <code>^</code>.<a class="pilcrow" href="#section-3-3">¶</a></p>
<p id="section-3-4">This is essentially an XSD regexp without:<a class="pilcrow" href="#section-3-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-5.1">character class
subtraction,<a class="pilcrow" href="#section-3-5.1">¶</a>
</li>
        <li class="normal" id="section-3-5.2">multi-character escapes such as <code>\s</code>,
<code>\S</code>, and <code>\w</code>, and<a class="pilcrow" href="#section-3-5.2">¶</a>
</li>
        <li class="normal" id="section-3-5.3">Unicode blocks.<a class="pilcrow" href="#section-3-5.3">¶</a>
</li>
      </ul>
<p id="section-3-6">An I-Regexp implementation <span class="bcp14">MUST</span> be a complete implementation of this
limited subset.
In particular, full support for the Unicode functionality defined in
      this specification is <span class="bcp14">REQUIRED</span>. The implementation:<a class="pilcrow" href="#section-3-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-7.1">
          <span class="bcp14">MUST NOT</span> limit itself to 7- or 8-bit character sets such as ASCII, and<a class="pilcrow" href="#section-3-7.1">¶</a>
</li>
        <li class="normal" id="section-3-7.2">
          <span class="bcp14">MUST</span> support the Unicode character property set in character classes.<a class="pilcrow" href="#section-3-7.2">¶</a>
</li>
      </ul>
<div id="checking">
<section id="section-3.1">
        <h3 id="name-checking-implementations">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-checking-implementations">Checking Implementations</a>
        </h3>
<p id="section-3.1-1">A <em>checking</em> I-Regexp implementation is one that checks a supplied
regexp for compliance with this specification and reports any problems.
Checking implementations give their users confidence that they didn't
accidentally insert syntax that is not interoperable, so checking is <span class="bcp14">RECOMMENDED</span>.
Exceptions to this rule may be made for low-effort implementations
that map I-Regexp to another regexp library by simple steps such as
performing the mapping operations discussed in <a class="auto internal xref" href="#mapping">Section 5</a>.  Here, the
effort needed to do full checking might dwarf the rest of the
implementation effort.
Implementations <span class="bcp14">SHOULD</span> document whether or not they are checking.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">Specifications that employ I-Regexp may want to define in which
cases their implementations can work with a non-checking I-Regexp
implementation and when full checking is needed, possibly in the
process of defining their own implementation classes.<a class="pilcrow" href="#section-3.1-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="i-regexp-semantics">
<section id="section-4">
      <h2 id="name-i-regexp-semantics">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-i-regexp-semantics">I-Regexp Semantics</a>
      </h2>
<p id="section-4-1">This syntax is a subset of that of <span>[<a class="cite xref" href="#XSD-2">XSD-2</a>]</span>.
Implementations that interpret I-Regexps <span class="bcp14">MUST</span>
yield Boolean results as specified in <span>[<a class="cite xref" href="#XSD-2">XSD-2</a>]</span>.
(See also <a class="auto internal xref" href="#xsd-regexps">Section 5.2</a>.)<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="mapping">
<section id="section-5">
      <h2 id="name-mapping-i-regexp-to-regexp-">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-mapping-i-regexp-to-regexp-">Mapping I-Regexp to Regexp Dialects</a>
      </h2>
<p id="section-5-1">The material in this section is not normative; it is provided as guidance
to developers who want to use I-Regexps in the context of other
regular expression dialects.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="multi-character-escapes">
<section id="section-5.1">
        <h3 id="name-multi-character-escapes">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-multi-character-escapes">Multi-Character Escapes</a>
        </h3>
<p id="section-5.1-1">I-Regexp does not support common multi-character escapes (MCEs) and character classes built around them.  These can usually
be replaced as shown by the examples in <a class="auto internal xref" href="#tbl-sub">Table 1</a>.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<span id="name-example-substitutes-for-mul"></span><div id="tbl-sub">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-example-substitutes-for-mul">Example Substitutes for Multi-Character Escapes</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">MCE/class:</th>
              <th class="text-left" colspan="1" rowspan="1">Replace with:</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">
                <code>\S</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>[^ \t\n\r]</code>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">
                <code>[\S ]</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>[^\t\n\r]</code>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">
                <code>\d</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>[0-9]</code>
</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-5.1-3">Note that the semantics of <code>\d</code> in XSD regular expressions
        is that of <code>\p{Nd}</code>; however, this would include all Unicode
        characters that are digits in various writing systems, which is almost
        certainly not what is required in IETF publications.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<p id="section-5.1-4">The construct <code>\p{IsBasicLatin}</code> is essentially a reference to legacy
ASCII; it can be replaced by the character class <code>[\u0000-\u007f]</code>.<a class="pilcrow" href="#section-5.1-4">¶</a></p>
</section>
</div>
<div id="xsd-regexps">
<section id="section-5.2">
        <h3 id="name-xsd-regexps">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-xsd-regexps">XSD Regexps</a>
        </h3>
<p id="section-5.2-1">Any I-Regexp is also an XSD regexp <span>[<a class="cite xref" href="#XSD-2">XSD-2</a>]</span>, so the mapping is an identity
 function.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">Note that a few errata for <span>[<a class="cite xref" href="#XSD-2">XSD-2</a>]</span> have been fixed in <span>[<a class="cite xref" href="#XSD-1.1-2">XSD-1.1-2</a>]</span>; therefore, it
is also included in the <span><a class="internal xref" href="#norm">Normative References</a> (<a class="auto internal xref" href="#norm">Section 9.1</a>)</span>.
XSD 1.1 is less widely implemented than XSD 1.0, and implementations
of XSD 1.0 are likely to include these bugfixes; for the intents
and purposes of this specification, an implementation of XSD 1.0
regexps is equivalent to an implementation of XSD 1.1 regexps.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
</section>
</div>
<div id="toESreg">
<section id="section-5.3">
        <h3 id="name-ecmascript-regexps">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-ecmascript-regexps">ECMAScript Regexps</a>
        </h3>
<p id="section-5.3-1">Perform the following steps on an I-Regexp to obtain an ECMAScript
regexp <span>[<a class="cite xref" href="#ECMA-262">ECMA-262</a>]</span>:<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3-2.1">For any unescaped dots (<code>.</code>) outside character classes
          (first alternative of <code>charClass</code> production), replace the dot with
          <code>[^\n\r]</code>.<a class="pilcrow" href="#section-5.3-2.1">¶</a>
</li>
          <li class="normal" id="section-5.3-2.2">Envelope the result in <code>^(?:</code> and <code>)$</code>.<a class="pilcrow" href="#section-5.3-2.2">¶</a>
</li>
        </ul>
<p id="section-5.3-3">The ECMAScript regexp is to be interpreted as a Unicode pattern ("u"
flag; see Section 21.2.2 "Pattern Semantics" of <span>[<a class="cite xref" href="#ECMA-262">ECMA-262</a>]</span>).<a class="pilcrow" href="#section-5.3-3">¶</a></p>
<p id="section-5.3-4">Note that where a regexp literal is required,
the actual regexp needs to be enclosed in <code>/</code>.<a class="pilcrow" href="#section-5.3-4">¶</a></p>
</section>
</div>
<div id="pcre-re2-ruby-regexps">
<section id="section-5.4">
        <h3 id="name-pcre-re2-and-ruby-regexps">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-pcre-re2-and-ruby-regexps">PCRE, RE2, and Ruby Regexps</a>
        </h3>
<p id="section-5.4-1">To obtain a valid regexp in Perl Compatible Regular Expressions
   (PCRE) <span>[<a class="cite xref" href="#PCRE2">PCRE2</a>]</span>, the Go programming language's RE2 regexp library <span>[<a class="cite xref" href="#RE2">RE2</a>]</span>, and the Ruby
programming language, perform the same steps as in <a class="auto internal xref" href="#toESreg">Section 5.3</a>, except that the last step is:<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4-2.1">Enclose the regexp in <code>\A(?:</code> and <code>)\z</code>.<a class="pilcrow" href="#section-5.4-2.1">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="background">
<section id="section-6">
      <h2 id="name-motivation-and-background">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-motivation-and-background">Motivation and Background</a>
      </h2>
<p id="section-6-1">While regular expressions originally were intended to describe a
formal language to support a Boolean matching function, they
have been enhanced with parsing functions that support the extraction
and replacement of arbitrary portions of the matched text. With this
accretion of features, parsing-regexp libraries have become
more susceptible to bugs and surprising performance degradations that
can be exploited in denial-of-service attacks by
an attacker who controls the regexp submitted for
processing. I-Regexp is designed to offer interoperability and to be
less vulnerable to such attacks, with the trade-off that its only
function is to offer a Boolean response as to whether a character
sequence is matched by a regexp.<a class="pilcrow" href="#section-6-1">¶</a></p>
<div id="subsetting">
<section id="section-6.1">
        <h3 id="name-implementing-i-regexp">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-implementing-i-regexp">Implementing I-Regexp</a>
        </h3>
<p id="section-6.1-1">XSD regexps are relatively easy to implement or map to widely
implemented parsing-regexp dialects, with these notable
exceptions:<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-2.1">Character class subtraction.  This is a very useful feature in
          many specifications, but it is unfortunately mostly absent from
          parsing-regexp dialects. Thus, it is omitted from I-Regexp.<a class="pilcrow" href="#section-6.1-2.1">¶</a>
</li>
          <li class="normal" id="section-6.1-2.2">Multi-character escapes.  <code>\d</code>, <code>\w</code>, <code>\s</code>
          and their uppercase complement classes exhibit a large amount of
          variation between regexp flavors.  Thus, they are omitted from
          I-Regexp.<a class="pilcrow" href="#section-6.1-2.2">¶</a>
</li>
          <li class="normal" id="section-6.1-2.3">Not all regexp implementations support access to Unicode
          tables that enable executing constructs such as <code>\p{Nd}</code>,
          although the <code>\p</code>/<code>\P</code> feature in general is now quite
          widely available. While, in principle, it is possible to translate
          these into character-class matches, this also requires access to
          those tables. Thus, regexp libraries in severely constrained
          environments may not be able to support I-Regexp conformance.<a class="pilcrow" href="#section-6.1-2.3">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document has no IANA actions.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-8-1">While technically out of the scope of this specification, Section <span><a class="relref" href="https://rfc-editor.org/rfc/rfc3629#section-10">10</a> (<a class="relref" href="https://rfc-editor.org/rfc/rfc3629#section-10">"Security Considerations"</a>)</span> of RFC 3629 <span>[<a class="cite xref" href="#STD63">STD63</a>]</span> applies to implementations.
Particular note needs to be taken of the last paragraph of Section <span><a class="relref" href="https://rfc-editor.org/rfc/rfc3629#section-3">3</a> (<a class="relref" href="https://rfc-editor.org/rfc/rfc3629#section-3">"UTF-8 definition" </a>)</span> of RFC 3629 <span>[<a class="cite xref" href="#STD63">STD63</a>]</span>; an I-Regexp implementation may need to
mitigate limitations of the platform implementation in this regard.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">As discussed in <a class="auto internal xref" href="#background">Section 6</a>, more complex regexp libraries may
contain exploitable bugs, which can lead to crashes and remote code
execution.  There is also the problem that such libraries often have
performance characteristics that are hard to predict, leading to attacks
that overload an implementation by matching against an expensive
attacker-controlled regexp.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">I-Regexps have been designed to allow implementation in a way that is
resilient to both threats; this objective needs to be addressed
throughout the implementation effort. Non-checking implementations (see <a class="auto internal xref" href="#checking">Section 3.1</a>) are likely to expose
security limitations of any regexp engine they use, which may be less
problematic if that engine has been built with security considerations
in mind (e.g., <span>[<a class="cite xref" href="#RE2">RE2</a>]</span>).  In any case, a checking implementation is still <span class="bcp14">RECOMMENDED</span>.<a class="pilcrow" href="#section-8-3">¶</a></p>
<p id="section-8-4">Implementations that specifically implement the I-Regexp subset can,
with care, be designed to generally run in linear time and space in
the input and to detect when that would not be the case (see below).<a class="pilcrow" href="#section-8-4">¶</a></p>
<p id="section-8-5">Existing regexp engines should be able to easily handle most I-Regexps
(after the adjustments discussed in <a class="auto internal xref" href="#mapping">Section 5</a>), but may consume
excessive resources for some types of I-Regexps or outright reject
them because they cannot guarantee efficient execution.
(Note that different versions of the same regexp library may be more or
      less vulnerable to excessive resource consumption for these cases.)<a class="pilcrow" href="#section-8-5">¶</a></p>
<p id="section-8-6">Specifically, range quantifiers (as in <code>a{2,4}</code>) provide particular
challenges for both existing and I-Regexp focused implementations.
Implementations may therefore limit range quantifiers in composability
(disallowing nested range quantifiers such as <code>(a{2,4}){2,4}</code>) or
range (disallowing very large ranges such as <code>a{20,200000}</code>), or detect
and reject any excessive resource consumption caused by range quantifiers.<a class="pilcrow" href="#section-8-6">¶</a></p>
<p id="section-8-7">I-Regexp implementations that are used to evaluate regexps from
untrusted sources need to be robust in these cases.
Implementers using existing regexp libraries are encouraged:<a class="pilcrow" href="#section-8-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-8.1">to check
their documentation to see if mitigations are configurable, such as
  limits in resource consumption, and<a class="pilcrow" href="#section-8-8.1">¶</a>
</li>
        <li class="normal" id="section-8-8.2">to document their own degree of
robustness resulting from employing such mitigations.<a class="pilcrow" href="#section-8-8.2">¶</a>
</li>
      </ul>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<div id="norm">
<section id="section-9.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time class="refDate" datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7405">[RFC7405]</dt>
        <dd>
<span class="refAuthor">Kyzivat, P.</span>, <span class="refTitle">"Case-Sensitive String Support in ABNF"</span>, <span class="seriesInfo">RFC 7405</span>, <span class="seriesInfo">DOI 10.17487/RFC7405</span>, <time class="refDate" datetime="2014-12">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7405">https://www.rfc-editor.org/info/rfc7405</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="XSD-1.1-2">[XSD-1.1-2]</dt>
        <dd>
<span class="refAuthor">Peterson, D., Ed.</span>, <span class="refAuthor">Gao, S., Ed.</span>, <span class="refAuthor">Malhotra, A., Ed.</span>, <span class="refAuthor">Sperberg-McQueen, C. M., Ed.</span>, <span class="refAuthor">Thompson, H., Ed.</span>, and <span class="refAuthor">P. Biron, Ed.</span>, <span class="refTitle">"W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes"</span>, <span class="seriesInfo">W3C REC REC-xmlschema11-2-20120405</span>, <span class="seriesInfo">W3C REC-xmlschema11-2-20120405</span>, <time class="refDate" datetime="2012-04-05">5 April 2012</time>, <span>&lt;<a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/">https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="XSD-2">[XSD-2]</dt>
      <dd>
<span class="refAuthor">Biron, P., Ed.</span> and <span class="refAuthor">A. Malhotra, Ed.</span>, <span class="refTitle">"XML Schema Part 2: Datatypes Second Edition"</span>, <span class="seriesInfo">W3C REC REC-xmlschema-2-20041028</span>, <span class="seriesInfo">W3C REC-xmlschema-2-20041028</span>, <time class="refDate" datetime="2004-10-28">28 October 2004</time>, <span>&lt;<a href="https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/">https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="ECMA-262">[ECMA-262]</dt>
        <dd>
<span class="refAuthor">Ecma International</span>, <span class="refTitle">"ECMAScript 2020 Language Specification"</span>, <span class="refContent">Standard ECMA-262, 11th Edition</span>, <time class="refDate" datetime="2020-06">June 2020</time>, <span>&lt;<a href="https://www.ecma-international.org/wp-content/uploads/ECMA-262.pdf">https://www.ecma-international.org/wp-content/uploads/ECMA-262.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-jsonpath-base">[JSONPATH-BASE]</dt>
        <dd>
<span class="refAuthor">Gössner, S., Ed.</span>, <span class="refAuthor">Normington, G., Ed.</span>, and <span class="refAuthor">C. Bormann, Ed.</span>, <span class="refTitle">"JSONPath: Query expressions for JSON"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-jsonpath-base-20</span>, <time class="refDate" datetime="2023-08-25">25 August 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-base-20">https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-base-20</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="PCRE2">[PCRE2]</dt>
        <dd>
<span class="refTitle">"Perl-compatible Regular Expressions (revised API: PCRE2)"</span>, <span>&lt;<a href="http://pcre.org/current/doc/html/">http://pcre.org/current/doc/html/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RE2">[RE2]</dt>
        <dd>
<span class="refTitle">"RE2 is a fast, safe, thread-friendly alternative to backtracking regular expression engines like those used in PCRE, Perl, and Python. It is a C++ library."</span>, <span class="refContent">commit 73031bb</span>, <span>&lt;<a href="https://github.com/google/re2">https://github.com/google/re2</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7493">[RFC7493]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time class="refDate" datetime="2015-03">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD63">[STD63]</dt>
        <dd>
<div class="refInstance" id="RFC3629">
            <span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <time class="refDate" datetime="2003-11">November 2003</time>. </div>
<span>&lt;<a href="https://www.rfc-editor.org/info/std63">https://www.rfc-editor.org/info/std63</a>&gt;</span>
</dd>
<dd class="break"></dd>
<dt id="UNICODE-GLOSSARY">[UNICODE-GLOSSARY]</dt>
      <dd>
<span class="refAuthor">Unicode, Inc.</span>, <span class="refTitle">"Glossary of Unicode Terms"</span>, <span>&lt;<a href="https://unicode.org/glossary/">https://unicode.org/glossary/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">Discussion in the IETF
      JSONPATH WG about whether to include a regexp mechanism into the
      JSONPath query expression specification and previous
      discussions about the YANG <code>pattern</code> and Concise Data
   Definition Language (CDDL) <code>.regexp</code>
      features motivated this specification.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">The basic approach for this specification was inspired by "<a class="internal xref" href="#RFC7493">The I-JSON Message Format</a>" <span>[<a class="cite xref" href="#RFC7493">RFC7493</a>]</span>.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carsten Bormann</span></div>
<div class="left" dir="auto"><span class="org">Universität Bremen TZI</span></div>
<div class="left" dir="auto"><span class="street-address">Postfach 330440</span></div>
<div class="left" dir="auto">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+49-421-218-63921">+49-421-218-63921</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cabo@tzi.org">cabo@tzi.org</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tim Bray</span></div>
<div class="left" dir="auto"><span class="org">Textuality</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tbray@textuality.com">tbray@textuality.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>