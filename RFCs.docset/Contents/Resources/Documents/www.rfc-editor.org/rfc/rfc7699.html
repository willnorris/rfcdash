<html><head></head><body><pre>Internet Engineering Task Force (IETF)                         A. Farrel
Request for Comments: 7699                                       D. King
Updates: <a href="./rfc3471">3471</a>, <a href="./rfc6205">6205</a>                                   Old Dog Consulting
Category: Standards Track                                          Y. Li
ISSN: 2070-1721                                       Nanjing University
                                                                F. Zhang
                                                     Huawei Technologies
                                                           November 2015


                <span class="h1">Generalized Labels for the Flexi-Grid in</span>
          <span class="h1">Lambda Switch Capable (LSC) Label Switching Routers</span>

Abstract

   GMPLS supports the description of optical switching by identifying
   entries in fixed lists of switchable wavelengths (called grids)
   through the encoding of lambda labels.  Work within the ITU-T Study
   Group 15 has defined a finer-granularity grid, and the facility to
   flexibly select different widths of spectrum from the grid.  This
   document defines a new GMPLS lambda label format to support this
   flexi-grid.

   This document updates RFCs 3471 and 6205 by introducing a new label
   format.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7699">http://www.rfc-editor.org/info/rfc7699</a>.












<span class="grey">Farrel, et al.               Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Conventions Used in This Document . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-2">2</a>. Overview of Flexi-Grid . . . . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-3">3</a>. Fixed-Grid Lambda Label Encoding . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
   <a href="#section-4">4</a>. Flexi-Grid Label Format and Values . . . . . . . . . . . . . . . <a href="#page-5">5</a>
      <a href="#section-4.1">4.1</a>. Flexi-Grid Label Encoding . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
      <a href="#section-4.2">4.2</a>. Considerations of Bandwidth . . . . . . . . . . . . . . . . <a href="#page-7">7</a>
      <a href="#section-4.3">4.3</a>. Composite Labels  . . . . . . . . . . . . . . . . . . . . . <a href="#page-7">7</a>
   <a href="#section-5">5</a>. Manageability and Backward Compatibility Considerations  . . . . <a href="#page-9">9</a>
      <a href="#section-5.1">5.1</a>. Control-Plane Backward Compatibility  . . . . . . . . . . . <a href="#page-9">9</a>
      <a href="#section-5.2">5.2</a>. Manageability Considerations  . . . . . . . . . . . . . . . <a href="#page-9">9</a>
   <a href="#section-6">6</a>. Security Considerations . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
   <a href="#section-7">7</a>. IANA Considerations . . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
      <a href="#section-7.1">7.1</a>. Grid Subregistry . . . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
      <a href="#section-7.2">7.2</a>. DWDM Channel Spacing Subregistry . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#section-8">8</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
      <a href="#section-8.1">8.1</a>. Normative References . . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
      <a href="#section-8.2">8.2</a>. Informative References . . . . . . . . . . . . . . . . . . <a href="#page-11">11</a>
   <a href="#appendix-A">Appendix A</a>. Flexi-Grid Example . . . . . . . . . . . . . . . . . . <a href="#page-13">13</a>
   Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   Contributors . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-14">14</a>












<span class="grey">Farrel, et al.               Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   As described in [<a href="./rfc3945" title='"Generalized Multi-Protocol Label Switching (GMPLS) Architecture"'>RFC3945</a>], GMPLS extends MPLS from supporting only
   Packet Switch Capable (PSC) interfaces and switching, to also support
   four new classes of interfaces and switching that include Lambda
   Switch Capable (LSC).

   A functional description of the extensions to MPLS signaling needed
   to support this new class of interface and switching is provided in
   [<a href="./rfc3471" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>].

   <a href="./rfc3471#section-3.2.1.1">Section 3.2.1.1 of [RFC3471]</a> states that wavelength labels "only have
   significance between two neighbors": global wavelength semantics are
   not considered.  [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] defines a standard lambda label format
   that has a global semantic and is compliant with both the Dense
   Wavelength Division Multiplexing (DWDM) grid [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>] and the Coarse
   Wavelength Division Multiplexing (CWDM) grid [<a href="#ref-G.694.2" title='"Spectral grids for WDM applications: CWDM wavelength grid"'>G.694.2</a>].  The terms
   DWDM and CWDM are defined in [<a href="#ref-G.671" title='"Transmission characteristics of optical components and subsystems"'>G.671</a>].

   A flexible-grid network selects its data channels as arbitrarily
   assigned pieces of the spectrum.  Mixed bitrate transmission systems
   can allocate their channels with different spectral bandwidths so
   that the channels can be optimized for the bandwidth requirements of
   the particular bit rate and modulation scheme of the individual
   channels.  This technique is regarded as a promising way to improve
   the network utilization efficiency and fundamentally reduce the cost
   of the core network.

   The "flexi-grid" has been developed within the ITU-T Study Group 15
   to allow selection and switching of pieces of the optical spectrum
   chosen flexibly from a fine-granularity grid of wavelengths with
   variable spectral bandwidth [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>].

   [<a id="ref-RFC3471">RFC3471</a>] defines several basic label types including the lambda
   label.  <a href="./rfc3471#section-3.2.1.1">Section 3.2.1.1 of [RFC3471]</a> states that wavelength labels
   "only have significance between two neighbors"; global wavelength
   semantics are not considered.  In order to facilitate
   interoperability in a network composed of LSC equipment, [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>]
   defines a standard lambda label format and is designated an update of
   <a href="./rfc3471">RFC 3471</a>.

   This document continues the theme of defining global semantics for
   the wavelength label by adding support for the flexi-grid.  Thus,
   this document updates [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] and [<a href="./rfc3471" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>].

   This document relies on [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>] for the definition of the optical
   data plane and does not make any updates to the work of the ITU-T.




<span class="grey">Farrel, et al.               Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.1" id="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Overview%20of%20Flexi-Grid"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Overview of Flexi-Grid</span>

   [<a id="ref-G.694.1">G.694.1</a>] defines DWDM fixed grids.  The latest version of that
   document extends the DWDM fixed grids to add support for flexible
   grids.  The basis of the work is to allow a data channel to be formed
   from an abstract grid anchored at 193.1 THz and selected on a channel
   spacing of 6.25 GHz with a variable slot width measured in units of
   12.5 GHz.  Individual allocations may be made on this basis from
   anywhere in the spectrum, subject to allocations not overlapping.

   [<a id="ref-G.694.1">G.694.1</a>] provides clear guidance on the support of flexible grid by
   implementations in Section 2 of <a href="#appendix-I">Appendix I</a>:

      The flexible DWDM grid defined in clause 7 has a nominal central
      frequency granularity of 6.25 GHz and a slot width granularity of
      12.5 GHz.  However, devices or applications that make use of the
      flexible grid may not have to be capable of supporting every
      possible slot width or position.  In other words, applications may
      be defined where only a subset of the possible slot widths and
      positions are required to be supported.

      For example, an application could be defined where the nominal
      central frequency granularity is 12.5 GHz (by only requiring
      values of n that are even) and that only requires slot widths as a
      multiple of 25 GHz (by only requiring values of m that are even).

   Some additional background on the use of GMPLS for flexible grids can
   be found in [<a href="./rfc7698" title='"Framework and Requirements for GMPLS-Based Control of Flexi-Grid Dense Wavelength Division Multiplexing (DWDM) Networks"'>RFC7698</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.1.%20%20Composite%20Labels"></a><a class="selflink" href="#section-2.1" id="section-2.1">2.1</a>.  Composite Labels</span>

   It is possible to construct an end-to-end connection as a composite
   of more than one flexi-grid slot.  The mechanism used in GMPLS is
   similar to that used to support inverse multiplexing familiar in
   time-division multiplexing (TDM) and optical transport networks
   (OTNs).  The slots in the set could potentially be contiguous or non-
   contiguous (only as allowed by the definitions of the data plane) and
   could be signaled as a single LSP or constructed from a group of
   LSPs.  For more details, refer to <a href="#section-4.3">Section 4.3</a>.

   How the signal is carried across such groups of channels is out of
   scope for this document.



<span class="grey">Farrel, et al.               Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Fixed-Grid%20Lambda%20Label%20Encoding"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Fixed-Grid Lambda Label Encoding</span>

   [<a id="ref-RFC6205">RFC6205</a>] defines an encoding for a global semantic for a DWDM label
   based on four fields:

   -  Grid: used to select which grid the lambda is selected from.
      Values defined in [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] identify DWDM [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>] and CWDM
      [<a href="#ref-G.694.2" title='"Spectral grids for WDM applications: CWDM wavelength grid"'>G.694.2</a>].

   -  C.S. (Channel Spacing): used to indicate the channel spacing.
      [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] defines values to represent spacing of 100, 50, 25, and
      12.5 GHz.

   -  Identifier: a local-scoped integer used to distinguish different
      lasers (in one node) when they can transmit the same frequency
      lambda.

   -  n: a two's-complement integer to take a positive, negative, or
      zero value.  This value is used to compute the frequency as
      defined in [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] and based on [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>].  The use of n is
      repeated here for ease of reading the rest of this document: in
      case of discrepancy, the definition in [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] is normative.

         Frequency (THz) = 193.1 THz + n * frequency granularity (THz)

      where the nominal central frequency granularity for the flexible
      grid is 0.00625 THz

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Flexi-Grid%20Label%20Format%20and%20Values"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Flexi-Grid Label Format and Values</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.1%20Flexi-Grid%20Label%20Encoding"></a><a class="selflink" href="#section-4.1" id="section-4.1">4.1</a> Flexi-Grid Label Encoding</span>

   This document defines a generalized label encoding for use in flexi-
   grid systems.  As with the other GMPLS lambda label formats defined
   in [<a href="./rfc3471" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>] and [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>], the use of this label format is known a
   priori.  That is, since the interpretation of all lambda labels is
   determined hop by hop, the use of this label format requires that all
   nodes on the path expect to use this label format.

   For convenience, however, the label format is modeled on the fixed-
   grid label defined in [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] and briefly described in <a href="#section-3">Section 3</a>.

   Figure 1 shows the format of the Flexi-Grid Label.  It is a 64-bit
   label.







<span class="grey">Farrel, et al.               Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Grid | C.S.  |    Identifier   |              n                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              m                |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Figure 1 : The Flexi-Grid Label Encoding

   This document defines a new Grid value to supplement those in
   [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>]:

   +----------+---------+
   |   Grid   |  Value  |
   +----------+---------+
   |ITU-T Flex|    3    |
   +----------+---------+

   Within the fixed-grid network, the C.S. value is used to represent
   the channel spacing, as the spacing between adjacent channels is
   constant.  For the flexible-grid situation, this field is used to
   represent the nominal central frequency granularity.

   This document defines a new C.S. value to supplement those in
   [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>]:

   +------------+---------+
   | C.S. (GHz) |  Value  |
   +------------+---------+
   |     6.25   |    5    |
   +------------+---------+

   The meaning of the Identifier field is maintained from [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] (see
   also <a href="#section-3">Section 3</a>).

   The meaning of n is maintained from [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] (see also <a href="#section-3">Section 3</a>).

   The m field is used to identify the slot width according to the
   formula given in [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>] as follows.  It is a 16-bit integer value
   encoded in line format.

         Slot Width (GHz) = 12.5 GHz * m

   The Reserved field MUST be set to zero on transmission and SHOULD be
   ignored on receipt.





<span class="grey">Farrel, et al.               Standards Track                    [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


   An implementation that wishes to use the flexi-grid label encoding
   MUST follow the procedures of [<a href="./rfc3473" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>] and of [<a href="./rfc3471" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>] as updated
   by [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>].  It MUST set Grid to 3 and C.S. to 5.  It MUST set
   Identifier to indicate the local identifier of the laser in use as
   described in [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>].  It MUST also set n according to the formula
   in <a href="#section-3">Section 3</a> (inherited unchanged from [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>]).  Finally, the
   implementation MUST set m as described in the formula stated above.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.2.%20%20Considerations%20of%20Bandwidth"></a><a class="selflink" href="#section-4.2" id="section-4.2">4.2</a>.  Considerations of Bandwidth</span>

   There is some overlap between the concepts of bandwidth and label in
   many GMPLS-based systems where a label indicates a physical switching
   resource.  This overlap is increased in a flexi-grid system where a
   label value indicates the slot width and so affects the bandwidth
   supported by an LSP.  Thus, the m parameter is both a property of the
   label (i.e., it helps define exactly what is switched) and of the
   bandwidth.

   In GMPLS signaling [<a href="./rfc3473" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>], bandwidth is requested in the
   SENDER_TSPEC object and confirmed in the FLOWSPEC object.  The m
   parameter, which is a parameter of the GMPLS flexi-grid label as
   described above, is also a parameter of the flexi-grid Tspec and
   Flowspec as described in [<a href="#ref-FLEXRSVP" title='"RSVP-TE Signaling Extensions in support of Flexible Grid"'>FLEXRSVP</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.%20%20Composite%20Labels"></a><a class="selflink" href="#section-4.3" id="section-4.3">4.3</a>.  Composite Labels</span>

   The creation of a composite of multiple channels to support inverse
   multiplexing is already supported in GMPLS for TDM and OTN (see
   [<a href="./rfc4606" title='"Generalized Multi- Protocol Label Switching (GMPLS) Extensions for Synchronous Optical Network (SONET) and Synchronous Digital Hierarchy (SDH) Control"'>RFC4606</a>], [<a href="./rfc6344" title='"Operating Virtual Concatenation (VCAT) and the Link Capacity Adjustment Scheme (LCAS) with Generalized Multi-Protocol Label Switching (GMPLS)"'>RFC6344</a>], and [<a href="./rfc7139" title='"GMPLS Signaling Extensions for Control of Evolving G.709 Optical Transport Networks"'>RFC7139</a>]).  The mechanism used for flexi-
   grid is similar.

   To signal an LSP that uses multiple flexi-grid slots, a "compound
   label" is constructed.  That is, the LABEL object is constructed from
   a concatenation of the 64-bit Flexi-Grid Labels shown in Figure 1.
   The number of elements in the label can be determined from the length
   of the LABEL object.  The resulting LABEL object is shown in Figure 2
   including the object header that is not normally shown in
   diagrammatic representations of RSVP-TE objects.  Note that r is the
   count of component labels, and this is backward compatible with the
   label shown in Figure 1 where the value of r is 1.

   The component labels MUST be presented in increasing order of the
   value n.  Implementations MUST NOT infer anything about the encoding
   of a signal into the set of slots represented by a compound label
   from the label itself.  Information about the encoding MAY be handled
   in other fields in signaling messages or through an out-of-band
   system, but such considerations are outside the scope of this
   document.



<span class="grey">Farrel, et al.               Standards Track                    [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Object Length (4 + 8r)      | Class-Num (16)|  C-Type (2)   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Grid | C.S.  |    Identifier   |              n                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              m                |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                                                               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Grid | C.S.  |    Identifier   |              n                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |              m                |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

       Figure 2 : A Compound Label for Virtual Concatenation

   Note that specific rules must be applied as follows:

   -  Grid MUST show "ITU-T Flex" value 3 in each component label.
   -  C.S. MUST have the same value in each component label.
   -  Identifier in each component label may identify different physical
      equipment.
   -  Values of n and m in each component label define the slots that
      are concatenated.

   At the time of writing, [<a href="#ref-G.694.1" title='"Spectral grids for WDM applications: DWDM frequency grid"'>G.694.1</a>] only supports only groupings of
   adjacent slots (i.e., without intervening unused slots that could be
   used for other purposes) of identical width (same value of m), and
   the component slots must be in increasing order of frequency (i.e.,
   increasing order of the value n).  The mechanism defined here MUST
   NOT be used for other forms of grouping unless and until those forms
   are defined and documented in Recommendations published by the ITU-T.

   Note further that while the mechanism described here naturally means
   that all component channels are corouted, a composite channel can
   also be achieved by constructing individual LSPs from single flexi-
   grid slots and managing those LSPs as a group.  A mechanism for
   achieving this for TDM is described in [<a href="./rfc6344" title='"Operating Virtual Concatenation (VCAT) and the Link Capacity Adjustment Scheme (LCAS) with Generalized Multi-Protocol Label Switching (GMPLS)"'>RFC6344</a>], but is out of scope
   for discussion in this document because the labels used are normal,
   single-slot labels and require no additional definitions.









<span class="grey">Farrel, et al.               Standards Track                    [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Manageability%20and%20Backward%20Compatibility%20Considerations"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Manageability and Backward Compatibility Considerations</span>

   This section briefly considers issues of manageability and backward
   compatibility.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.%20%20Control-Plane%20Backward%20Compatibility"></a><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  Control-Plane Backward Compatibility</span>

   Labels are carried in two ways in GMPLS: for immediate use on the
   next hop and for use at remote hops.

   It is an assumption of GMPLS that both ends of a link know what label
   types are supported and only use appropriate label types.  If a label
   of an unknown type is received, it will be processed as if it was of
   a known type since the Label Object and similar label-carrying
   objects do not contain a type identifier.  Thus, the introduction of
   a flexi-grid label in this document does not change the compatibility
   issues, and a legacy node that does not support the new flexi-grid
   label should not expect to receive or handle such labels.  If one is
   incorrectly used in communication with a legacy node, it will attempt
   to process it as an expected label type with a potentially poor
   outcome.

   It is possible that a GMPLS message transitting a legacy node will
   contain a flexi-grid label destined for or reported by a remote node.
   For example, an LSP that transits links of different technologies
   might record flexi-grid labels in a Record Route Object that is
   subsequently passed to a legacy node.  Such labels will not have any
   impact on legacy implementations except as noted in the manageability
   considerations in the next section.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.%20%20Manageability%20Considerations"></a><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  Manageability Considerations</span>

   This document introduces no new elements for management.  That is,
   labels can continue to be used in the same way by the GMPLS protocols
   and where those labels were treated as opaque quantities with local
   or global significance, no change is needed to the management
   systems.

   However, this document introduces some changes to the nature of a
   label that may require changes to management systems.  Although
   <a href="./rfc3471#section-3.2">Section 3.2 of [RFC3471]</a> makes clear that a label is of variable
   length according to the type and that the type is supposed to be
   known a priori by both ends of a link, a management system is not
   guaranteed to be updated in step with upgrades or installations of
   new flexi-grid functionality in the network.






<span class="grey">Farrel, et al.               Standards Track                    [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


   But, an implementation expecting a 32-bit lambda label would not fail
   ungracefully because the first 32 bits follow the format of
   [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>].  It would look at theses labels and read but not recognize
   the new grid type value.  It would then give up trying to parse the
   label and (presumably) the whole of the rest of the message.

   The management system can be upgraded in two steps:

   -  Firstly, systems that handle lambda labels as 32-bit quantities
      need to be updated to handle the increased length (64 bits) of
      labels as described in this document.  These "unknown" 64-bit
      labels could be displayed as opaque 64-bit quantities and still
      add a lot of value for the operator (who might need to parse the
      label by hand).  However, an implementation that already supports
      lambda labels as defined in [<a href="./rfc6205" title='"Generalized Labels for Lambda-Switch-Capable (LSC) Label Switching Routers"'>RFC6205</a>] can safely continue to
      process the first 32 bits and display the fields defined in <a href="./rfc6205">RFC</a>
      <a href="./rfc6205">6205</a> as before, leaving just the second 32 bits as opaque data.

   -  Second, a more sophisticated upgrade to a management system would
      fully parse the flexi-grid labels and display them field by field
      as described in this document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Security%20Considerations"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Security Considerations</span>

   [<a id="ref-RFC6205">RFC6205</a>] notes that the definition of a new label encoding does not
   introduce any new security considerations to [<a href="./rfc3471" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description"'>RFC3471</a>] or [<a href="./rfc3473" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol- Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>].
   That statement applies equally to this document.

   For a general discussion on MPLS and GMPLS-related security issues,
   see the MPLS/GMPLS security framework [<a href="./rfc5920" title='"Security Framework for MPLS and GMPLS Networks"'>RFC5920</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  IANA Considerations</span>

   IANA maintains the "Generalized Multi-Protocol Label Switching
   (GMPLS) Signaling Parameters" registry that contains several
   subregistries.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.1.%20%20Grid%20Subregistry"></a><a class="selflink" href="#section-7.1" id="section-7.1">7.1</a>.  Grid Subregistry</span>

   IANA has allocated a new entry in this subregistry as follows:

   Value   Grid                         Reference
   -----   -------------------------    ----------
     3     ITU-T Flex                   <a href="./rfc7699">RFC 7699</a>







<span class="grey">Farrel, et al.               Standards Track                   [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.2.%20%20DWDM%20Channel%20Spacing%20Subregistry"></a><a class="selflink" href="#section-7.2" id="section-7.2">7.2</a>.  DWDM Channel Spacing Subregistry</span>

   IANA has allocated a new entry in this subregistry as follows:

   Value   Channel Spacing (GHz)        Reference
   -----   -------------------------    ----------
     5     6.25                         <a href="./rfc7699">RFC 7699</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20References"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3471">RFC3471</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Functional Description",
              <a href="./rfc3471">RFC 3471</a>, DOI 10.17487/RFC3471, January 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3471">http://www.rfc-editor.org/info/rfc3471</a>&gt;.

   [<a id="ref-RFC3473">RFC3473</a>]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Resource ReserVation Protocol-
              Traffic Engineering (RSVP-TE) Extensions", <a href="./rfc3473">RFC 3473</a>,
              DOI 10.17487/RFC3473, January 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3473">http://www.rfc-editor.org/info/rfc3473</a>&gt;.

   [<a id="ref-RFC6205">RFC6205</a>]  Otani, T., Ed., and D. Li, Ed., "Generalized Labels for
              Lambda-Switch-Capable (LSC) Label Switching Routers",
              <a href="./rfc6205">RFC 6205</a>, DOI 10.17487/RFC6205, March 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6205">http://www.rfc-editor.org/info/rfc6205</a>&gt;.

   [<a id="ref-G.694.1">G.694.1</a>]  International Telecommunication Union, "Spectral grids for
              WDM applications: DWDM frequency grid", ITU-T
              Recommendation G.694.1, February 2012,
              &lt;<a href="https://www.itu.int/rec/T-REC-G.694.1/en">https://www.itu.int/rec/T-REC-G.694.1/en</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-RFC3945">RFC3945</a>]  Mannie, E., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Architecture", <a href="./rfc3945">RFC 3945</a>,
              DOI 10.17487/RFC3945, October 2004,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3945">http://www.rfc-editor.org/info/rfc3945</a>&gt;.







<span class="grey">Farrel, et al.               Standards Track                   [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


   [<a id="ref-RFC4606">RFC4606</a>]  Mannie, E. and D. Papadimitriou, "Generalized Multi-
              Protocol Label Switching (GMPLS) Extensions for
              Synchronous Optical Network (SONET) and Synchronous
              Digital Hierarchy (SDH) Control", <a href="./rfc4606">RFC 4606</a>,
              DOI 10.17487/RFC4606, August 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4606">http://www.rfc-editor.org/info/rfc4606</a>&gt;.

   [<a id="ref-RFC5920">RFC5920</a>]  Fang, L., Ed., "Security Framework for MPLS and GMPLS
              Networks", <a href="./rfc5920">RFC 5920</a>, DOI 10.17487/RFC5920, July 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5920">http://www.rfc-editor.org/info/rfc5920</a>&gt;.

   [<a id="ref-RFC6344">RFC6344</a>]  Bernstein, G., Ed., Caviglia, D., Rabbat, R., and H. van
              Helvoort, "Operating Virtual Concatenation (VCAT) and the
              Link Capacity Adjustment Scheme (LCAS) with Generalized
              Multi-Protocol Label Switching (GMPLS)", <a href="./rfc6344">RFC 6344</a>,
              DOI 10.17487/RFC6344, August 2011,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6344">http://www.rfc-editor.org/info/rfc6344</a>&gt;.

   [<a id="ref-RFC7139">RFC7139</a>]  Zhang, F., Ed., Zhang, G., Belotti, S., Ceccarelli, D.,
              and K. Pithewan, "GMPLS Signaling Extensions for Control
              of Evolving G.709 Optical Transport Networks", <a href="./rfc7139">RFC 7139</a>,
              DOI 10.17487/RFC7139, March 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7139">http://www.rfc-editor.org/info/rfc7139</a>&gt;.

   [<a id="ref-RFC7698">RFC7698</a>]  Gonzalez de Dios, O., Ed., Casellas, R., Ed., Zhang, F.,
              Fu., X., Ceccarelli, D., and I. Hussain, "Framework and
              Requirements for GMPLS-Based Control of Flexi-Grid Dense
              Wavelength Division Multiplexing (DWDM) Networks",
              <a href="./rfc7698">RFC 7698</a>, DOI 10.17487/RFC7698, November 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7698">http://www.rfc-editor.org/info/rfc7698</a>&gt;.

   [<a id="ref-G.671">G.671</a>]    International Telecommunication Union, "Transmission
              characteristics of optical components and subsystems",
              ITU-T Recommendation G.671, February 2012,
              &lt;<a href="https://www.itu.int/rec/T-REC-G.671/en">https://www.itu.int/rec/T-REC-G.671/en</a>&gt;.

   [<a id="ref-G.694.2">G.694.2</a>]  International Telecommunication Union, "Spectral grids for
              WDM applications: CWDM wavelength grid", ITU-T
              Recommendation G.694.2, December 2003,
              &lt;<a href="https://www.itu.int/rec/T-REC-G.694.2/en">https://www.itu.int/rec/T-REC-G.694.2/en</a>&gt;.

   [<a id="ref-FLEXRSVP">FLEXRSVP</a>] Zhang, F., Zhang, X., Farrel, A., Gonzalez de Dios, O.,
              and D. Ceccarelli, "RSVP-TE Signaling Extensions in
              support of Flexible Grid", Work in Progress, <a href="./draft-ietf-ccamp-flexible-grid-rsvp-te-ext-03">draft-ietf-</a>
              <a href="./draft-ietf-ccamp-flexible-grid-rsvp-te-ext-03">ccamp-flexible-grid-rsvp-te-ext-03</a>, August 2015.






<span class="grey">Farrel, et al.               Standards Track                   [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/Appendix%20A.%20%20Flexi-Grid%20Example"></a><a class="selflink" href="#appendix-A" id="appendix-A">Appendix A</a>.  Flexi-Grid Example</span>

   Consider a fragment of an optical LSP between node A and node B using
   the flexible grid.  Suppose that the LSP on this hop is formed:

   -  using the ITU-T Flexi-Grid
   -  the nominal central frequency of the slot is 193.05 THz
   -  the nominal central frequency granularity is 6.25 GHz
   -  the slot width is 50 GHz.

   In this case, the label representing the switchable quantity that is
   the flexi-grid quantity is encoded as described in <a href="#section-4.1">Section 4.1</a> with
   the following parameter settings.  The label can be used in signaling
   or in management protocols to describe the LSP.

      Grid = 3 : ITU-T Flexi-Grid

      C.S. = 5 : 6.25 GHz nominal central frequency granularity

      Identifier = local value indicating the laser in use

      n = -8 :

          Frequency (THz) = 193.1 THz + n * frequency granularity (THz)

          193.05 (THz) = 193.1 (THz) + n * 0.00625 (THz)

          n = (193.05 - 193.1) / 0.00625 = -8

      m = 4 :

          Slot Width (GHz) = 12.5 GHz * m

          50 (GHz) = 12.5 (GHz) * m

          m = 50 / 12.5 = 4















<span class="grey">Farrel, et al.               Standards Track                   [Page 13]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-14"></span>
<span class="grey"><a href="./rfc7699">RFC 7699</a>               GMPLS Labels for Flexi-Grid         November 2015</span>


Acknowledgments

   This work was supported in part by the FP-7 IDEALIST project under
   grant agreement number 317999.

   Very many thanks to Lou Berger for discussions of labels of more than
   32 bits.  Many thanks to Sergio Belotti and Pietro Vittorio Grandi
   for their support of this work.  Thanks to Gabriele Galimberti for
   discussion of the size of the "m" field, and to Iftekhar Hussain for
   discussion of composite labels.  Robert Sparks, Carlos Pignataro, and
   Paul Wouters provided review comments during IETF Last Call.

   The Vancouver 2012 Pool Party drove early discussions and rough
   consensus.  It comprised: Dieter Beller, Ramon Casellas, Daniele
   Ceccarelli, Oscar Gonzalez de Dios, Iftekhar Hussain, Cyril Margaria,
   Lyndon Ong, Fatai Zhang, and Adrian Farrel.

Contributors

   Zhang Fei
   Huawei Technologies
   Email: zhangfei7@huawei.com

   Ramon Casellas
   CTTC
   Email: ramon.casellas@cttc.es

Authors' Addresses

   Adrian Farrel
   Old Dog Consulting
   Email: adrian@olddog.co.uk

   Daniel King
   Old Dog Consulting
   Email: daniel@olddog.co.uk

   Yao Li
   Nanjing University
   Email: wsliguotou@hotmail.com

   Fatai Zhang
   Huawei Technologies
   Email: zhangfatai@huawei.com







Farrel, et al.               Standards Track                   [Page 14]
</pre>
</body></html>