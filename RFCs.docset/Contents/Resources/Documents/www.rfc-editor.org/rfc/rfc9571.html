<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Greek,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9571: Extension of RFC 6374-Based Performance Measurement Using Synonymous Flow Labels</title>
<meta content="Stewart Bryant" name="author"/>
<meta content="George Swallow" name="author"/>
<meta content="Mach(Guoyi) Chen" name="author"/>
<meta content="Giuseppe Fioccola" name="author"/>
<meta content="Gregory Mirsky" name="author"/>
<meta content="
       RFC 6374 describes methods of making loss and delay measurements on
      Label Switched Paths (LSPs) primarily as they are used in MPLS Transport
      Profile (MPLS-TP) networks.  This document describes a method of
      extending the performance measurements (specified in RFC 6374) from
      flows carried over MPLS-TP to flows carried over generic MPLS LSPs.  In
      particular, it extends the technique to allow loss and delay
      measurements to be made on multipoint-to-point LSPs and introduces some
      additional techniques to allow more sophisticated measurements to be
      made in both MPLS-TP and generic MPLS networks. 
    " name="description"/>
<meta content="xml2rfc 3.21.0" name="generator"/>
<meta content="Performance Measurement" name="keyword"/>
<meta content="OAM" name="keyword"/>
<meta content="9571" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.21.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9571.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-mpls-rfc6374-sfl-10" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9571" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9571</td>
<td class="center">SFL</td>
<td class="right">May 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bryant, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9571">9571</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2024-05">May 2024</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Bryant, <span class="editor">Ed.</span>
</div>
<div class="org">University of Surrey</div>
</div>
<div class="author">
      <div class="author-name">G. Swallow</div>
<div class="org">Independent</div>
</div>
<div class="author">
      <div class="author-name">M. Chen</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">G. Fioccola</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">G. Mirsky</div>
<div class="org">ZTE Corp.</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9571</h1>
<h1 id="title">Extension of RFC 6374-Based Performance Measurement Using Synonymous Flow Labels</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">RFC 6374 describes methods of making loss and delay measurements on
      Label Switched Paths (LSPs) primarily as they are used in MPLS Transport
      Profile (MPLS-TP) networks.  This document describes a method of
      extending the performance measurements (specified in RFC 6374) from
      flows carried over MPLS-TP to flows carried over generic MPLS LSPs.  In
      particular, it extends the technique to allow loss and delay
      measurements to be made on multipoint-to-point LSPs and introduces some
      additional techniques to allow more sophisticated measurements to be
      made in both MPLS-TP and generic MPLS networks.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9571">https://www.rfc-editor.org/info/rfc9571</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-packet-loss-measurement-usi">Packet Loss Measurement Using SFL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-single-packet-delay-measure">Single Packet Delay Measurement Using SFL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-data-service-packet-delay-m">Data Service Packet Delay Measurement</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-some-simplifying-rules">Some Simplifying Rules</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-multiple-packet-delay-chara">Multiple Packet Delay Characteristics</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-method-1-time-buckets">Method 1: Time Buckets</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-method-2-classic-standard-d">Method 2: Classic Standard Deviation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a class="auto internal xref" href="#section-7.2.1">7.2.1</a>.  <a class="internal xref" href="#name-multi-packet-delay-measurem">Multi-packet Delay Measurement Message Format</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="auto internal xref" href="#section-7.3">7.3</a>.  <a class="internal xref" href="#name-per-packet-delay-measuremen">Per-Packet Delay Measurement</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="auto internal xref" href="#section-7.4">7.4</a>.  <a class="internal xref" href="#name-average-delay">Average Delay</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-sampled-measurement">Sampled Measurement</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-carrying-packets-over-an-ls">Carrying Packets over an LSP Using an SFL</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="auto internal xref" href="#section-9.1">9.1</a>.  <a class="internal xref" href="#name-extending-rfc-6374-with-sfl">Extending RFC 6374 with SFL TLV</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-combined-loss-delay-measure">Combined Loss/Delay Measurement Using SFL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#section-11">11</a>. <a class="internal xref" href="#name-privacy-considerations">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#section-12">12</a>. <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#section-13">13</a>. <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a class="auto internal xref" href="#section-13.1">13.1</a>.  <a class="internal xref" href="#name-allocation-of-mpls-generali">Allocation of MPLS Generalized Associated Channel (G-ACh) Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a class="auto internal xref" href="#section-13.2">13.2</a>.  <a class="internal xref" href="#name-allocation-of-mpls-loss-del">Allocation of MPLS Loss/Delay TLV Object</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#section-14">14</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a class="auto internal xref" href="#section-14.1">14.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a class="auto internal xref" href="#section-14.2">14.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> was originally designed for use as an Operations, Administration, and
Maintenance (OAM) protocol
for use with MPLS Transport Profile (MPLS-TP) <span>[<a class="cite xref" href="#RFC5921">RFC5921</a>]</span> LSPs. MPLS-TP only
supports point-to-point and point-to-multipoint LSPs. This document describes 
how to use <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> in the generic MPLS case and also introduces a number
of more sophisticated measurements of applicability to both cases.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2"><span>[<a class="cite xref" href="#RFC8372">RFC8372</a>]</span> describes the requirement for introducing
flow identities when using packet loss measurements described in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>.  

In summary, <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> describes use of the loss measurement (LM) message as the
packet accounting
demarcation point. Unfortunately, this gives rise to a number of
problems that may lead to significant packet accounting errors in
certain situations.  For example:<a class="pilcrow" href="#section-1-2">¶</a></p>
<ol class="normal type-1" id="section-1-3" start="1" type="1">
<li id="section-1-3.1">Where a flow is subjected to Equal-Cost Multipath (ECMP)
treatment, packets can arrive out of order with respect to the LM
packet.<a class="pilcrow" href="#section-1-3.1">¶</a>
</li>
        <li id="section-1-3.2">Where a flow is subjected to ECMP treatment, packets can arrive
at different hardware interfaces, thus requiring reception of an
LM packet on one interface to trigger a packet accounting action
on a different interface that may not be co-located with it.
This is a difficult technical problem to address with the
required degree of accuracy.<a class="pilcrow" href="#section-1-3.2">¶</a>
</li>
        <li id="section-1-3.3">Even where there is no ECMP (for example, on RSVP-TE, MPLS-TP LSPs,
and pseudowires (PWs)), local processing may be distributed over a number of
processor cores, leading to synchronization problems.<a class="pilcrow" href="#section-1-3.3">¶</a>
</li>
        <li id="section-1-3.4">Link aggregation techniques <span>[<a class="cite xref" href="#RFC7190">RFC7190</a>]</span> may also lead to synchronization
issues.<a class="pilcrow" href="#section-1-3.4">¶</a>
</li>
        <li id="section-1-3.5">Some forwarder implementations have a long pipeline between
processing a packet and incrementing the associated counter, again
leading to synchronization difficulties.<a class="pilcrow" href="#section-1-3.5">¶</a>
</li>
      </ol>
<p id="section-1-4">An approach to mitigating these synchronization issues is described in
<span>[<a class="cite xref" href="#RFC9341">RFC9341</a>]</span> -- the packets are
batched by the sender, and each batch is marked in some way such that
adjacent batches can be easily recognized by the receiver.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">An additional problem arises where the LSP is a multipoint-to-point
LSP since MPLS does not include a source address in the packet.
Network management operations require the measurement of packet loss
between a source and destination.  It is thus necessary to introduce
some source-specific information into the packet to identify packet
batches from a specific source.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6"><span>[<a class="cite xref" href="#RFC8957">RFC8957</a>]</span> describes a method of encoding per-flow
instructions in an MPLS label stack using a technique called
Synonymous Flow Labels (SFLs), in which labels that mimic the
behavior of other labels provide the packet batch identifiers and
enable the per-batch packet accounting.  This memo specifies how SFLs
are used to perform packet loss and delay measurements as described in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">
  When the terms "performance measurement method," "Query," "packet," or "message" are used in this document,
  they refer to a performance measurement method, Query, packet, or message as specified in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>.<a class="pilcrow" href="#section-1-7">¶</a></p>
</section>
</div>
<div id="requirements-language">
<section id="section-2">
      <h2 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<div id="rfc6374-packet-loss-measurement-with-sfl">
<section id="section-3">
      <h2 id="name-packet-loss-measurement-usi">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-packet-loss-measurement-usi">Packet Loss Measurement Using SFL</a>
      </h2>
<p id="section-3-1">The data service packets of the flow being instrumented are grouped
into batches, and all the packets within a batch are marked with
the SFL <span>[<a class="cite xref" href="#RFC8372">RFC8372</a>]</span> corresponding to that batch.
The sender counts the number of packets in the batch. When the
batch has completed and the sender is confident that all of the
packets in that batch will have been received, the sender issues
a Query message to determine the number actually
received and hence the number of packets lost. The 
Query message is sent using the same SFL as the corresponding batch of
data service packets. The format of the Query and Response packets is
described in <a class="auto internal xref" href="#sec-RFC6374SFL">Section 9</a>.<a class="pilcrow" href="#section-3-1">¶</a></p>
</section>
</div>
<div id="SPD">
<section id="section-4">
      <h2 id="name-single-packet-delay-measure">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-single-packet-delay-measure">Single Packet Delay Measurement Using SFL</a>
      </h2>
<p id="section-4-1"><span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> describes how to measure the packet delay by measuring the
transit time of a packet over an LSP. Such a packet may not 
need to be carried over an SFL since the delay over a particular LSP 
should be a function of the Traffic Class (TC) bits.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">However, where SFLs are being used to monitor packet loss or where
label-inferred scheduling is used <span>[<a class="cite xref" href="#RFC3270">RFC3270</a>]</span>, then
the SFL would be <span class="bcp14">REQUIRED</span> to ensure that the packet
that was being used as a proxy for a data service packet experienced
a representative delay. The format of a packet carried over the LSP using an SFL is shown in <a class="auto internal xref" href="#sec-RFC6374SFL">Section 9</a>.<a class="pilcrow" href="#section-4-2">¶</a></p>
</section>
</div>
<div id="data-service-packet-delay-measurement">
<section id="section-5">
      <h2 id="name-data-service-packet-delay-m">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-data-service-packet-delay-m">Data Service Packet Delay Measurement</a>
      </h2>
<p id="section-5-1">Where it is desired to more thoroughly instrument a packet flow and to
determine the delay of a number of packets, it is undesirable to
send a large number of packets acting as proxy data service
packets (see <a class="auto internal xref" href="#SPD">Section 4</a>). A method of directly measuring the delay characteristics
of a batch of packets is therefore needed.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">Given the long intervals over which it is necessary to measure packet
loss, it is not necessarily the case that the batch times for the two
measurement types would be identical. Thus, we use a technique that
permits the two measurements to be made concurrently and yet relatively
independently from each other. The notion that they are relatively
independent arises from the potential for the two batches to overlap in time,
in which case either the delay batch time will need to be cut short or the loss
time will need to be extended to allow correct reconciliation of the
various counters.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">The problem is illustrated in <a class="auto internal xref" href="#fig1">Figure 1</a>.<a class="pilcrow" href="#section-5-3">¶</a></p>
<span id="name-query-packet-with-sfl"></span><div id="fig1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-5-4.1">
<pre>(Case 1)  AAAAAAAAAABBBBBBBBBBAAAAAAAAAABBBBBBBBBB

          SFL marking of a packet batch for loss measurement

(Case 2)  AADDDDAAAABBBBBBBBBBAAAAAAAAAABBBBBBBBBB

          SFL marking of a subset of the packets for delay

(Case 3)  AAAAAAAADDDDBBBBBBBBAAAAAAAAAABBBBBBBBBB

          SFL marking of a subset of the packets across a packet loss
          measurement boundary

(Case 4)  AACDCDCDAABBBBBBBBBBAAAAAAAAAABBBBBBBBBB

          A case of multiple delay measurements within a packet loss
          measurement

where
   A and B are packets where loss is being measured.
   C and D are packets where loss and delay are being measured.
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-query-packet-with-sfl">Query Packet with SFL</a>
        </figcaption></figure>
</div>
<p id="section-5-5">In Case 1, we show where loss measurement alone
is being carried out on the flow under analysis. For illustrative
purposes, consider that 10 packets are used in each flow in the
time interval being analyzed.<a class="pilcrow" href="#section-5-5">¶</a></p>
<p id="section-5-6">Now consider Case 2, where a small batch of
packets need to be analyzed for delay. These are marked with a different
SFL type, indicating that they are to be monitored for both loss
and delay. The SFL=A indicates loss batch A, and SFL=D indicates a batch
of packets that are to be instrumented for delay, but SFL D is
synonymous with SFL A, which in turn is synonymous with the underlying
Forwarding Equivalence Class (FEC). Thus, a packet marked "D" will be accumulated into the A loss
batch, into the delay statistics, and will be forwarded as normal.
Whether the packet is actually counted twice (for loss and delay)
or whether the two counters are reconciled during reporting is
a local matter.<a class="pilcrow" href="#section-5-6">¶</a></p>
<p id="section-5-7">Now consider Case 3, where a small batch of packets
is marked for delay across a loss batch boundary. These packets
need to be considered as a part of batch A or a part of batch B, and
any Query needs to take place after all packets
A or D (whichever option is chosen) have arrived at the receiving Label Switching Router (LSR).<a class="pilcrow" href="#section-5-7">¶</a></p>
<p id="section-5-8">Now consider Case 4. Here, we have a case where
it is required to take a number of delay measurements within
a batch of packets that we are measuring for loss. To do this,
we need two SFLs for delay (C and D) and alternate between
them (on a delay-batch-by-delay-batch basis) for the purposes of
measuring the delay characteristics of the different batches of packets.<a class="pilcrow" href="#section-5-8">¶</a></p>
</section>
</div>
<div id="some-simplifying-rules">
<section id="section-6">
      <h2 id="name-some-simplifying-rules">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-some-simplifying-rules">Some Simplifying Rules</a>
      </h2>
<p id="section-6-1">It is possible to construct a large set of overlapping measurement
types in terms of loss, delay, loss and delay, and batch overlap. If
we allow all combinations of cases, this leads to configuration,
testing, and implementation complexity and, hence, increased costs.
The following simplifying rules represent the
default case:<a class="pilcrow" href="#section-6-1">¶</a></p>
<ol class="normal type-1" id="section-6-2" start="1" type="1">
<li id="section-6-2.1">Any system that needs to measure delay <span class="bcp14">MUST</span> be able to
measure loss.<a class="pilcrow" href="#section-6-2.1">¶</a>
</li>
        <li id="section-6-2.2">Any system that is to measure delay <span class="bcp14">MUST</span> be configured to
measure loss. Whether the loss statistics are collected
or not is a local matter.<a class="pilcrow" href="#section-6-2.2">¶</a>
</li>
        <li id="section-6-2.3">A delay measurement <span class="bcp14">MAY</span> start at any point during a loss measurement
batch, subject to rule 4.<a class="pilcrow" href="#section-6-2.3">¶</a>
</li>
        <li id="section-6-2.4">A delay measurement interval <span class="bcp14">MUST</span> be short enough that it
will complete before the enclosing loss batch completes.<a class="pilcrow" href="#section-6-2.4">¶</a>
</li>
        <li id="section-6-2.5">The duration of a second delay batch (D in <a class="auto internal xref" href="#fig1">Figure 1</a>) must be such
that all packets from the packets belonging to a first
delay batch (C in <a class="auto internal xref" href="#fig1">Figure 1</a>) will have been received before
the second delay batch completes. This condition is satisfied
when the time to send a batch is long compared to the network
propagation time and is a parameter that can be established
by the network operator.<a class="pilcrow" href="#section-6-2.5">¶</a>
</li>
      </ol>
<p id="section-6-3">Given that the sender controls both the start and duration of
a loss and a delay packet batch, these rules are readily implemented
in the control plane.<a class="pilcrow" href="#section-6-3">¶</a></p>
</section>
</div>
<div id="multiple-packet-delay-characteristics">
<section id="section-7">
      <h2 id="name-multiple-packet-delay-chara">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-multiple-packet-delay-chara">Multiple Packet Delay Characteristics</a>
      </h2>
<p id="section-7-1">A number of methods are described that add to the set of measurements
originally specified in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>. Each of these methods has different
characteristics and different processing demands on the packet forwarder.
The choice of method will depend on the type of diagnostic that the operator seeks.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Three methods are discussed:<a class="pilcrow" href="#section-7-2">¶</a></p>
<ol class="normal type-1" id="section-7-3" start="1" type="1">
<li id="section-7-3.1">Time Buckets<a class="pilcrow" href="#section-7-3.1">¶</a>
</li>
        <li id="section-7-3.2">Classic Standard Deviation<a class="pilcrow" href="#section-7-3.2">¶</a>
</li>
        <li id="section-7-3.3">Average Delay<a class="pilcrow" href="#section-7-3.3">¶</a>
</li>
      </ol>
<div id="method-1-time-buckets">
<section id="section-7.1">
        <h3 id="name-method-1-time-buckets">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-method-1-time-buckets">Method 1: Time Buckets</a>
        </h3>
<p id="section-7.1-1">In this method, the receiving LSR measures the inter-packet gap, classifies the
  delay into a number of delay buckets, and records the number of packets
  in each bucket. 
  As an example, if the operator were concerned about packets with a delay of 
  up to 1 μs, 2 μs, 4 μs, 8 μs, and over 8 μs, then there would be five 
  buckets, and packets that arrived up to 1 μs would cause the "up to 1 μs" 
  bucket counter to increase.  Likewise, for those that arrived between 1 μs and 2 μs, the "2 μs" bucket counter would increase, etc. In practice, it
  might be better in terms of processing and potential parallelism if both the "up to 1 μs" and "2 μs" counters were incremented when a packet had
a delay relative to its predecessor of 2 μs, and any more detailed information was calculated in the analytics
system.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<p id="section-7.1-2">This method allows the operator to see more structure in the jitter characteristics
than simply measuring the average jitter and avoids the complication of needing
to perform a per-packet multiply but will probably need the time intervals between
buckets to be programmable by the operator.<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<p id="section-7.1-3">The packet format of a Time Bucket Jitter Measurement message
is shown below:<a class="pilcrow" href="#section-7.1-3">¶</a></p>
<span id="name-time-bucket-jitter-measurem"></span><div id="FIGBucket">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-7.1-4.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version| Flags |  Control Code |        Message Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  QTF  |  RTF  | RPTF  |              Reserved                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Session Identifier          |    DS     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Number of     |      Reserved 1                               |
| Buckets       |                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Interval (in 10 ns units)                   |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Number of Pkts in Bucket 1                  |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                                                               ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Number of Pkts in Bucket N                  |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                                                               ~
~                           TLV Block                           ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-time-bucket-jitter-measurem">Time Bucket Jitter Measurement Message Format</a>
          </figcaption></figure>
</div>
<p id="section-7.1-5">The Version, Flags, Control Code, Message Length, Querier Timestamp Format (QTF), Responder Timestamp Format (RTF), Responder's Preferred Timestamp Format (RPTF),
Session Identifier, Reserved, and Differentiated Services (DS) fields are as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6374#section-3.2">Section 3.2</a> of [<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>. The remaining fields, which are unsigned integers, are as follows:<a class="pilcrow" href="#section-7.1-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-6.1">Number of Buckets in the measurement.<a class="pilcrow" href="#section-7.1-6.1">¶</a>
</li>
          <li class="normal" id="section-7.1-6.2">Reserved 1 must be sent as zero and ignored on receipt.<a class="pilcrow" href="#section-7.1-6.2">¶</a>
</li>
          <li class="normal" id="section-7.1-6.3">Interval (in 10 ns units) is the inter-packet interval for
  this bucket.<a class="pilcrow" href="#section-7.1-6.3">¶</a>
</li>
          <li class="normal" id="section-7.1-6.4">Number of Pkts in Bucket 1 is the number of packets found in
  the first bucket.<a class="pilcrow" href="#section-7.1-6.4">¶</a>
</li>
          <li class="normal" id="section-7.1-6.5">Number of Pkts in Bucket N is the number of packets found in
  the Nth bucket, where N is the value in the Number of Buckets field.<a class="pilcrow" href="#section-7.1-6.5">¶</a>
</li>
        </ul>
<p id="section-7.1-7">There will be a number of Interval/Number pairs depending on the
number of buckets being specified by the Querier. If a message is being used to configure the buckets (i.e., the responder 
is creating or modifying the buckets according to the intervals in
the Query message), then the responder
<span class="bcp14">MUST</span> respond with 0 packets in each bucket until it has been
configured for a full measurement period. This indicates that it was configured
at the time of the last response message, and thus, the response
is valid for the whole interval. 

As per the convention in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>,
the Number of Pkts in Bucket fields are included in the Query message and set
to zero.<a class="pilcrow" href="#section-7.1-7">¶</a></p>
<p id="section-7.1-8">Out-of-band configuration is permitted by this mode of operation.<a class="pilcrow" href="#section-7.1-8">¶</a></p>
<p id="section-7.1-9">Note this is a departure from the normal fixed format used in
<span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>.<a class="pilcrow" href="#section-7.1-9">¶</a></p>
<p id="section-7.1-10">The Time Bucket Jitter Measurement message is carried over an LSP in the way described in
<span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> and over an LSP with an SFL as described in <a class="auto internal xref" href="#sec-RFC6374SFL">Section 9</a>.<a class="pilcrow" href="#section-7.1-10">¶</a></p>
</section>
</div>
<div id="method-2-classic-standard-deviation">
<section id="section-7.2">
        <h3 id="name-method-2-classic-standard-d">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-method-2-classic-standard-d">Method 2: Classic Standard Deviation</a>
        </h3>
<p id="section-7.2-1">In this method, provision is made for reporting the following delay
characteristics:<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<ol class="normal type-1" id="section-7.2-2" start="1" type="1">
<li id="section-7.2-2.1">Number of packets in the batch (n)<a class="pilcrow" href="#section-7.2-2.1">¶</a>
</li>
          <li id="section-7.2-2.2">Sum of delays in a batch (S)<a class="pilcrow" href="#section-7.2-2.2">¶</a>
</li>
          <li id="section-7.2-2.3">Maximum delay<a class="pilcrow" href="#section-7.2-2.3">¶</a>
</li>
          <li id="section-7.2-2.4">Minimum delay<a class="pilcrow" href="#section-7.2-2.4">¶</a>
</li>
          <li id="section-7.2-2.5">Sum of squares of inter-packet delay (SumS)<a class="pilcrow" href="#section-7.2-2.5">¶</a>
</li>
        </ol>
<p id="section-7.2-3">Characteristics 1 and 2 give the mean delay. Measuring the delay of each
pair in the batch is discussed in <a class="auto internal xref" href="#PPDM">Section 7.3</a>.<a class="pilcrow" href="#section-7.2-3">¶</a></p>
<p id="section-7.2-4">Characteristics 3 and 4 give the outliers.<a class="pilcrow" href="#section-7.2-4">¶</a></p>
<p id="section-7.2-5">Characteristics 1, 2, and 5 can be used to calculate the variance of the
inter-packet gap, hence the standard deviation giving a view of
the distribution of packet delays and hence the jitter. The equation
for the variance (var) is given by:<a class="pilcrow" href="#section-7.2-5">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2-6">
<pre>var = (SumS - S*S/n)/(n-1)
</pre><a class="pilcrow" href="#section-7.2-6">¶</a>
</div>
<p id="section-7.2-7">There is some concern over the use of this algorithm for measuring
variance because SumS and S*S/n can be similar numbers, particularly
where variance is low. However, the method is acceptable because it does
not require a division in the hardware.<a class="pilcrow" href="#section-7.2-7">¶</a></p>
<div id="multi-packet-delay-measurement-message-format">
<section id="section-7.2.1">
          <h4 id="name-multi-packet-delay-measurem">
<a class="section-number selfRef" href="#section-7.2.1">7.2.1. </a><a class="section-name selfRef" href="#name-multi-packet-delay-measurem">Multi-packet Delay Measurement Message Format</a>
          </h4>
<p id="section-7.2.1-1">The packet format of a  Multi-packet Delay Measurement message
is shown below:<a class="pilcrow" href="#section-7.2.1-1">¶</a></p>
<span id="name-multi-packet-delay-measureme"></span><div id="FIGMPM">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-7.2.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version| Flags |  Control Code |        Message Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  QTF  |  RTF  | RPTF  |              Reserved                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Session Identifier          |    DS     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Number of Packets                        |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Sum of Delays for Batch                     |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Minimum Delay                           |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Maximum Delay                           |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Sum of squares of Inter-packet delay           |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
~                                                               ~
~                           TLV Block                           ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-multi-packet-delay-measureme">Multi-packet Delay Measurement Message Format</a>
            </figcaption></figure>
</div>
<p id="section-7.2.1-3">The Version, Flags, Control Code, Message Length, QTF, RTF, RPTF,
Session Identifier, Reserved, and DS fields are as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6374#section-3.2">Section 3.2</a> of [<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>. The remaining fields are as follows:<a class="pilcrow" href="#section-7.2.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.1-4.1">Number of Packets is the number of packets in this batch.<a class="pilcrow" href="#section-7.2.1-4.1">¶</a>
</li>
            <li class="normal" id="section-7.2.1-4.2">Sum of Delays for Batch is the duration of the batch in the
  time measurement format specified in the RTF field.<a class="pilcrow" href="#section-7.2.1-4.2">¶</a>
</li>
            <li class="normal" id="section-7.2.1-4.3">Minimum Delay is the minimum inter-packet gap observed during
  the batch in the time format specified in the RTF field.<a class="pilcrow" href="#section-7.2.1-4.3">¶</a>
</li>
            <li class="normal" id="section-7.2.1-4.4">Maximum Delay is the maximum inter-packet gap observed during
  the batch in the time format specified in the RTF field.<a class="pilcrow" href="#section-7.2.1-4.4">¶</a>
</li>
          </ul>
<p id="section-7.2.1-5">The Multi-packet Delay Measurement message is carried over an LSP in the way described in
<span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> and over an LSP with an SFL as described in <a class="auto internal xref" href="#sec-RFC6374SFL">Section 9</a>.<a class="pilcrow" href="#section-7.2.1-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="PPDM">
<section id="section-7.3">
        <h3 id="name-per-packet-delay-measuremen">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-per-packet-delay-measuremen">Per-Packet Delay Measurement</a>
        </h3>
<p id="section-7.3-1">If detailed packet delay measurement is required, then it might be
possible to record the inter-packet gap for each packet pair. 
   In cases other than the exceptions of slow flows or small batch sizes,
   this would create a large (per-packet) demand on storage in the
   instrumentation system, a large bandwidth for such a storage system and
   large bandwidth for the analytics system.
Such a measurement technique is outside the scope of this document.<a class="pilcrow" href="#section-7.3-1">¶</a></p>
</section>
</div>
<div id="average-delay">
<section id="section-7.4">
        <h3 id="name-average-delay">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-average-delay">Average Delay</a>
        </h3>
<p id="section-7.4-1">Introduced in <span>[<a class="cite xref" href="#RFC9341">RFC9341</a>]</span> is the concept of a one-way delay measurement in which the average time of arrival of a
set of packets is measured. In this approach, the packet is timestamped
at arrival, and the responder returns the sum of the timestamps
and the number of timestamps. From this, the analytics engine can
determine the mean delay. An alternative model is that the responder
returns the timestamp of the first and last packet and the
number of packets. This latter method has the advantage of allowing the
average delay to be determined at a number of points along the
packet path and allowing the components of the delay to be
characterized. Unless specifically configured otherwise, the
responder may return either or both types of response, and
the analytics engine should process the response appropriately.<a class="pilcrow" href="#section-7.4-1">¶</a></p>
<p id="section-7.4-2">The packet format of an Average Delay Measurement message
is shown below:<a class="pilcrow" href="#section-7.4-2">¶</a></p>
<span id="name-average-delay-measurement-m"></span><div id="FIGAD">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-7.4-3.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version| Flags |  Control Code |        Message Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  QTF  |  RTF  | RPTF  |              Reserved                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Session Identifier          |    DS     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Number of Packets                        |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Time of First Packet                     |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Time of Last Packet                      |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Sum of Timestamps of Batch                  |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

~                                                               ~
~                           TLV Block                           ~
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-average-delay-measurement-m">Average Delay Measurement Message Format</a>
          </figcaption></figure>
</div>
<p id="section-7.4-4">The Version, Flags, Control Code, Message Length, QTF, RTF, RPTF,
Session Identifier, and DS fields are as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6374#section-3.2">Section 3.2</a> of [<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>. The remaining fields are as follows:<a class="pilcrow" href="#section-7.4-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.4-5.1">Number of Packets is the number of packets in this batch.<a class="pilcrow" href="#section-7.4-5.1">¶</a>
</li>
          <li class="normal" id="section-7.4-5.2">Time of First Packet is the time of arrival of the first
  packet in the batch.<a class="pilcrow" href="#section-7.4-5.2">¶</a>
</li>
          <li class="normal" id="section-7.4-5.3">Time of Last Packet is the time of arrival of the last
  packet in the batch.<a class="pilcrow" href="#section-7.4-5.3">¶</a>
</li>
          <li class="normal" id="section-7.4-5.4">Sum of Timestamps of Batch.<a class="pilcrow" href="#section-7.4-5.4">¶</a>
</li>
        </ul>
<p id="section-7.4-6">The Average Delay Measurement message
is carried over an LSP in the way described in
<span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> and over an LSP with an SFL as described in <a class="auto internal xref" href="#sec-RFC6374SFL">Section 9</a>.
As is the convention with <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>, the Query message contains placeholders
for the Response message. The placeholders are sent as zero.<a class="pilcrow" href="#section-7.4-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sampled-measurement">
<section id="section-8">
      <h2 id="name-sampled-measurement">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-sampled-measurement">Sampled Measurement</a>
      </h2>
<p id="section-8-1">In the discussion so far, it has been assumed that we would measure
the delay characteristics of every packet in a delay measurement
interval defined by an SFL of constant color.
In <span>[<a class="cite xref" href="#RFC9341">RFC9341</a>]</span>, the concept of a sampled
measurement is considered. That is, the responder only measures a packet
at the start of a group of packets being marked for delay measurement
by a particular color, rather than every packet in the marked batch.
A measurement
interval is not defined by the duration of a marked batch of packets
but the interval between a pair of packets taking a readout
of the delay characteristic. This approach has the advantage that
the measurement is not impacted by ECMP effects.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">This sampled approach may be used if supported by the responder and
configured by the operator.<a class="pilcrow" href="#section-8-2">¶</a></p>
</section>
</div>
<div id="sec-RFC6374SFL">
<section id="section-9">
      <h2 id="name-carrying-packets-over-an-ls">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-carrying-packets-over-an-ls">Carrying Packets over an LSP Using an SFL</a>
      </h2>
<p id="section-9-1">We illustrate the packet format of a Query message using SFLs
for the case of an MPLS Direct Loss Measurement in
<a class="auto internal xref" href="#Figure1">Figure 5</a>.<a class="pilcrow" href="#section-9-1">¶</a></p>
<span id="name-query-packet-with-sfl-2"></span><div id="Figure1">
<figure id="figure-5">
        <div class="alignLeft art-text artwork" id="section-9-2.1">
<pre>+-------------------------------+
|                               |
|             LSP               |
|            Label              |
+-------------------------------+
|                               |
|        Synonymous Flow        |
|            Label              |
+-------------------------------+
|                               |
|            GAL                |
|                               |
+-------------------------------+
|                               |
|      ACH Type = 0xA           |
|                               |
+-------------------------------+
|                               |
|      Measurement Message      |
|                               |
|  +-------------------------+  |
|  |                         |  |
|  |      Fixed-format       |  |
|  |      portion of msg     |  |
|  |                         |  |
|  +-------------------------+  |
|  |                         |  |
|  |      Optional SFL TLV   |  |
|  |                         |  |
|  +-------------------------+  |
|  |                         |  |
|  |      Optional Return    |  |
|  |      Information        |  |
|  |                         |  |
|  +-------------------------+  |
|                               |
+-------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-query-packet-with-sfl-2">Query Packet with SFL</a>
        </figcaption></figure>
</div>
<p id="section-9-3">The MPLS label stack is exactly the same as that used for the user
data service packets being instrumented except for the inclusion
of the Generic Associated Channel Label (GAL) <span>[<a class="cite xref" href="#RFC5586">RFC5586</a>]</span> to allow the receiver to distinguish between
normal data packets and OAM packets. Since the packet loss
measurements are being made on the data service packets,
an MPLS Direct Loss Measurement is being made,
which is indicated by the type field in the Associated Channel Header (ACH) (Type = 0x000A).<a class="pilcrow" href="#section-9-3">¶</a></p>
<p id="section-9-4">The measurement message consists of up to three components as follows.<a class="pilcrow" href="#section-9-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-5.1">
          <p id="section-9-5.1.1">The fixed-format portion of the message is carried over the ACH
   channel. The ACH channel type specifies the type of measurement
   being made (currently: loss, delay, or loss and delay).<a class="pilcrow" href="#section-9-5.1.1">¶</a></p>
</li>
        <li class="normal" id="section-9-5.2">
          <p id="section-9-5.2.1">(Optional) The SFL TLV specified in <a class="auto internal xref" href="#sfltlv">Section 9.1</a> <span class="bcp14">MAY</span> be carried if needed. It is
   used to provide the implementation with a reminder of the SFL that
   was used to carry the message.  This is needed because a number of
   MPLS implementations do not provide the MPLS label stack to the MPLS
   OAM handler.  This TLV is required if messages are sent over UDP
   <span>[<a class="cite xref" href="#RFC7876">RFC7876</a>]</span>.  This TLV
   <span class="bcp14">MUST</span> be included unless, by some method outside the
   scope of this document, it is known that this information is not
   needed by the responder.<a class="pilcrow" href="#section-9-5.2.1">¶</a></p>
</li>
        <li class="normal" id="section-9-5.3">
          <p id="section-9-5.3.1">(Optional) The Return Information <span class="bcp14">MAY</span> be carried if
 needed. It allows the responder send the response to the Querier.  This is not needed if the
 response is requested in band and the MPLS construct being measured is
 a point-to-point LSP, but it otherwise <span class="bcp14">MUST</span> be carried.
 The Return Address TLV is defined in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>, and the optional UDP Return Object is defined in
 <span>[<a class="cite xref" href="#RFC7876">RFC7876</a>]</span>.<a class="pilcrow" href="#section-9-5.3.1">¶</a></p>
</li>
      </ul>
<p id="section-9-6">Where a measurement other than an MPLS Direct Loss Measurement is to be
made, the appropriate measurement message is used (for example, one of the
new types defined in this document), and this is indicated to the receiver
by the use of the corresponding ACH type.<a class="pilcrow" href="#section-9-6">¶</a></p>
<div id="sfltlv">
<section id="section-9.1">
        <h3 id="name-extending-rfc-6374-with-sfl">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-extending-rfc-6374-with-sfl">Extending RFC 6374 with SFL TLV</a>
        </h3>
<p id="section-9.1-1">The <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> SFL TLV is shown in <a class="auto internal xref" href="#Figure2">Figure 6</a>. 
   This contains the SFL that was carried in the label stack, the FEC that was
   used to allocate the SFL, and the index (into the batch of SFLs that were
   allocated for the FEC) that corresponds to this SFL.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
<span id="name-sfl-tlv"></span><div id="Figure2">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-9.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Type       |    Length     |MBZ| SFL Batch |    SFL Index  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 SFL                   |        Reserved       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 FEC                                           |
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-sfl-tlv">SFL TLV</a>
          </figcaption></figure>
</div>
<p id="section-9.1-3">Where:<a class="pilcrow" href="#section-9.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.1-4">
          <dt id="section-9.1-4.1">Type</dt>
          <dd id="section-9.1-4.2" style="margin-left: 7.5em">      Set to Synonymous Flow Label (SFL-TLV).<a class="pilcrow" href="#section-9.1-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.3">Length</dt>
          <dd id="section-9.1-4.4" style="margin-left: 7.5em">    The length of the TLV is as specified in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span>.<a class="pilcrow" href="#section-9.1-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.5">MBZ</dt>
          <dd id="section-9.1-4.6" style="margin-left: 7.5em">
            <span class="bcp14">MUST</span> be sent as zero and ignored on receive.<a class="pilcrow" href="#section-9.1-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.7">SFL Batch</dt>
          <dd id="section-9.1-4.8" style="margin-left: 7.5em"> An identifier for a collection of SFLs grouped together for management and control purposes.<a class="pilcrow" href="#section-9.1-4.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.9">SFL Index</dt>
          <dd id="section-9.1-4.10" style="margin-left: 7.5em">
            <p id="section-9.1-4.10.1">The index of this SFL within the list of SFLs that were assigned
          for the FEC.<a class="pilcrow" href="#section-9.1-4.10.1">¶</a></p>
<p id="section-9.1-4.10.2">       Multiple SFLs can be assigned to a FEC, each
          with different actions. This index is an optional
          convenience for use in mapping between the TLV
          and the associated data structures in the LSRs.
          The use of this feature is agreed upon between the
          two parties during configuration. It is not required
          but is a convenience for the receiver if both parties
          support the facility.<a class="pilcrow" href="#section-9.1-4.10.2">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.11">SFL</dt>
          <dd id="section-9.1-4.12" style="margin-left: 7.5em">The SFL used to deliver this packet.  This is an MPLS
          label that is a component of a label stack entry as
          defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc3032#section-2.1">Section 2.1</a> of [<a class="cite xref" href="#RFC3032">RFC3032</a>]</span>.<a class="pilcrow" href="#section-9.1-4.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.13">Reserved</dt>
          <dd id="section-9.1-4.14" style="margin-left: 7.5em">
            <span class="bcp14">MUST</span> be sent as zero and ignored on receive.<a class="pilcrow" href="#section-9.1-4.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-4.15">FEC</dt>
          <dd id="section-9.1-4.16" style="margin-left: 7.5em">       The Forwarding Equivalence Class that was used to
          request this SFL.  This is encoded as per
          <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5036#section-3.4.1">Section 3.4.1</a> of [<a class="cite xref" href="#RFC5036">RFC5036</a>]</span>.<a class="pilcrow" href="#section-9.1-4.16">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-9.1-5">This information is needed to allow for operation with hardware that
discards the MPLS label stack before passing the remainder of the
stack to the OAM handler.  By providing both the SFL and the FEC plus
index into the array of allocated SFLs, a number of implementation
types are supported.<a class="pilcrow" href="#section-9.1-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="rfc6374-combined-loss-delay-measurement">
<section id="section-10">
      <h2 id="name-combined-loss-delay-measure">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-combined-loss-delay-measure">Combined Loss/Delay Measurement Using SFL</a>
      </h2>
<p id="section-10-1">This mode of operation is not currently supported by this specification.<a class="pilcrow" href="#section-10-1">¶</a></p>
</section>
</div>
<div id="PCSEC">
<section id="section-11">
      <h2 id="name-privacy-considerations">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-privacy-considerations">Privacy Considerations</a>
      </h2>
<p id="section-11-1">The inclusion of originating and/or flow information in a packet
provides more identity information and hence potentially degrades the
privacy of the communication.  While the inclusion of the additional
granularity does allow greater insight into the flow characteristics,
it does not specifically identify which node originated the packet
other than by inspection of the network at the point of ingress or
inspection of the control protocol packets.  This privacy threat may
be mitigated by encrypting the control protocol packets, regularly
changing the synonymous labels, and by concurrently using a number of
such labels.<a class="pilcrow" href="#section-11-1">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-12">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-12">12. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-12-1">The security considerations documented in <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> and <span>[<a class="cite xref" href="#RFC8372">RFC8372</a>]</span>
(which in turn calls up <span>[<a class="cite xref" href="#RFC5920">RFC5920</a>]</span> and <span>[<a class="cite xref" href="#RFC7258">RFC7258</a>]</span>) are applicable to this
protocol.<a class="pilcrow" href="#section-12-1">¶</a></p>
<p id="section-12-2">The issue noted in <a class="auto internal xref" href="#PCSEC">Section 11</a> is a security consideration.  There are
no other new security issues associated with the MPLS data plane.  Any
control protocol used to request SFLs will need to ensure the
legitimacy of the request.<a class="pilcrow" href="#section-12-2">¶</a></p>
<p id="section-12-3">An attacker that manages to corrupt the <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> SFL TLV in <a class="auto internal xref" href="#sfltlv">Section 9.1</a> could
disrupt the measurements in a way that the <span>[<a class="cite xref" href="#RFC6374">RFC6374</a>]</span> responder is unable to
detect. However, the network operator is likely to notice the
anomalous network performance measurements, and in any case,
normal MPLS network security procedures make this type of attack extremely unlikely.<a class="pilcrow" href="#section-12-3">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-13">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-13">13. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="allocation-of-mpls-generalized-associated-channel-g-ach-types">
<section id="section-13.1">
        <h3 id="name-allocation-of-mpls-generali">
<a class="section-number selfRef" href="#section-13.1">13.1. </a><a class="section-name selfRef" href="#name-allocation-of-mpls-generali">Allocation of MPLS Generalized Associated Channel (G-ACh) Types</a>
        </h3>
<p id="section-13.1-1">As per the IANA considerations in <span>[<a class="cite xref" href="#RFC5586">RFC5586</a>]</span> updated by <span>[<a class="cite xref" href="#RFC7026">RFC7026</a>]</span> and <span>[<a class="cite xref" href="#RFC7214">RFC7214</a>]</span>, IANA has
allocated the following values in the "MPLS Generalized Associated Channel 
(G-ACh) Types" registry, in the "Generic Associated Channel (G-ACh) Parameters"
registry group:<a class="pilcrow" href="#section-13.1-1">¶</a></p>
<div id="tab-1">
<table class="center" id="table-1">
          <caption><a class="selfRef" href="#table-1">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0x0010</td>
              <td class="text-left" colspan="1" rowspan="1">Time Bucket Jitter Measurement</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9571</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0x0011</td>
              <td class="text-left" colspan="1" rowspan="1">Multi-packet Delay Measurement</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9571</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0x0012</td>
              <td class="text-left" colspan="1" rowspan="1">Average Delay Measurement</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9571</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="allocation-of-mpls-lossdelay-tlv-object">
<section id="section-13.2">
        <h3 id="name-allocation-of-mpls-loss-del">
<a class="section-number selfRef" href="#section-13.2">13.2. </a><a class="section-name selfRef" href="#name-allocation-of-mpls-loss-del">Allocation of MPLS Loss/Delay TLV Object</a>
        </h3>
<p id="section-13.2-1">IANA has allocated the following TLV from the 0-127 range of the
"MPLS Loss/Delay Measurement TLV Object" registry in the
"Generic Associated Channel (G-ACh) Parameters" registry group:<a class="pilcrow" href="#section-13.2-1">¶</a></p>
<div id="tab-2">
<table class="center" id="table-2">
          <caption><a class="selfRef" href="#table-2">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">Synonymous Flow Label</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9571</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<section id="section-14">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-14">14. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-14.1">14.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Tappan, D.</span>, <span class="refAuthor">Fedorkow, G.</span>, <span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Farinacci, D.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time class="refDate" datetime="2001-01">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5036">[RFC5036]</dt>
        <dd>
<span class="refAuthor">Andersson, L., Ed.</span>, <span class="refAuthor">Minei, I., Ed.</span>, and <span class="refAuthor">B. Thomas, Ed.</span>, <span class="refTitle">"LDP Specification"</span>, <span class="seriesInfo">RFC 5036</span>, <span class="seriesInfo">DOI 10.17487/RFC5036</span>, <time class="refDate" datetime="2007-10">October 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5036">https://www.rfc-editor.org/info/rfc5036</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5586">[RFC5586]</dt>
        <dd>
<span class="refAuthor">Bocci, M., Ed.</span>, <span class="refAuthor">Vigoureux, M., Ed.</span>, and <span class="refAuthor">S. Bryant, Ed.</span>, <span class="refTitle">"MPLS Generic Associated Channel"</span>, <span class="seriesInfo">RFC 5586</span>, <span class="seriesInfo">DOI 10.17487/RFC5586</span>, <time class="refDate" datetime="2009-06">June 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5586">https://www.rfc-editor.org/info/rfc5586</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6374">[RFC6374]</dt>
        <dd>
<span class="refAuthor">Frost, D.</span> and <span class="refAuthor">S. Bryant</span>, <span class="refTitle">"Packet Loss and Delay Measurement for MPLS Networks"</span>, <span class="seriesInfo">RFC 6374</span>, <span class="seriesInfo">DOI 10.17487/RFC6374</span>, <time class="refDate" datetime="2011-09">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6374">https://www.rfc-editor.org/info/rfc6374</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7026">[RFC7026]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span> and <span class="refAuthor">S. Bryant</span>, <span class="refTitle">"Retiring TLVs from the Associated Channel Header of the MPLS Generic Associated Channel"</span>, <span class="seriesInfo">RFC 7026</span>, <span class="seriesInfo">DOI 10.17487/RFC7026</span>, <time class="refDate" datetime="2013-09">September 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7026">https://www.rfc-editor.org/info/rfc7026</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7214">[RFC7214]</dt>
        <dd>
<span class="refAuthor">Andersson, L.</span> and <span class="refAuthor">C. Pignataro</span>, <span class="refTitle">"Moving Generic Associated Channel (G-ACh) IANA Registries to a New Registry"</span>, <span class="seriesInfo">RFC 7214</span>, <span class="seriesInfo">DOI 10.17487/RFC7214</span>, <time class="refDate" datetime="2014-05">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7214">https://www.rfc-editor.org/info/rfc7214</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7876">[RFC7876]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Sivabalan, S.</span>, and <span class="refAuthor">S. Soni</span>, <span class="refTitle">"UDP Return Path for Packet Loss and Delay Measurement for MPLS Networks"</span>, <span class="seriesInfo">RFC 7876</span>, <span class="seriesInfo">DOI 10.17487/RFC7876</span>, <time class="refDate" datetime="2016-07">July 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7876">https://www.rfc-editor.org/info/rfc7876</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8957">[RFC8957]</dt>
      <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Sivabalan, S.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"Synonymous Flow Label Framework"</span>, <span class="seriesInfo">RFC 8957</span>, <span class="seriesInfo">DOI 10.17487/RFC8957</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8957">https://www.rfc-editor.org/info/rfc8957</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-14.2">14.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC3270">[RFC3270]</dt>
        <dd>
<span class="refAuthor">Le Faucheur, F., Ed.</span>, <span class="refAuthor">Wu, L.</span>, <span class="refAuthor">Davie, B.</span>, <span class="refAuthor">Davari, S.</span>, <span class="refAuthor">Vaananen, P.</span>, <span class="refAuthor">Krishnan, R.</span>, <span class="refAuthor">Cheval, P.</span>, and <span class="refAuthor">J. Heinanen</span>, <span class="refTitle">"Multi-Protocol Label Switching (MPLS) Support of Differentiated Services"</span>, <span class="seriesInfo">RFC 3270</span>, <span class="seriesInfo">DOI 10.17487/RFC3270</span>, <time class="refDate" datetime="2002-05">May 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3270">https://www.rfc-editor.org/info/rfc3270</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5920">[RFC5920]</dt>
        <dd>
<span class="refAuthor">Fang, L., Ed.</span>, <span class="refTitle">"Security Framework for MPLS and GMPLS Networks"</span>, <span class="seriesInfo">RFC 5920</span>, <span class="seriesInfo">DOI 10.17487/RFC5920</span>, <time class="refDate" datetime="2010-07">July 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5920">https://www.rfc-editor.org/info/rfc5920</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5921">[RFC5921]</dt>
        <dd>
<span class="refAuthor">Bocci, M., Ed.</span>, <span class="refAuthor">Bryant, S., Ed.</span>, <span class="refAuthor">Frost, D., Ed.</span>, <span class="refAuthor">Levrau, L.</span>, and <span class="refAuthor">L. Berger</span>, <span class="refTitle">"A Framework for MPLS in Transport Networks"</span>, <span class="seriesInfo">RFC 5921</span>, <span class="seriesInfo">DOI 10.17487/RFC5921</span>, <time class="refDate" datetime="2010-07">July 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5921">https://www.rfc-editor.org/info/rfc5921</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7190">[RFC7190]</dt>
        <dd>
<span class="refAuthor">Villamizar, C.</span>, <span class="refTitle">"Use of Multipath with MPLS and MPLS Transport Profile (MPLS-TP)"</span>, <span class="seriesInfo">RFC 7190</span>, <span class="seriesInfo">DOI 10.17487/RFC7190</span>, <time class="refDate" datetime="2014-03">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7190">https://www.rfc-editor.org/info/rfc7190</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7258">[RFC7258]</dt>
        <dd>
<span class="refAuthor">Farrell, S.</span> and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Pervasive Monitoring Is an Attack"</span>, <span class="seriesInfo">BCP 188</span>, <span class="seriesInfo">RFC 7258</span>, <span class="seriesInfo">DOI 10.17487/RFC7258</span>, <time class="refDate" datetime="2014-05">May 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7258">https://www.rfc-editor.org/info/rfc7258</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8372">[RFC8372]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Pignataro, C.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Li, Z.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"MPLS Flow Identification Considerations"</span>, <span class="seriesInfo">RFC 8372</span>, <span class="seriesInfo">DOI 10.17487/RFC8372</span>, <time class="refDate" datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8372">https://www.rfc-editor.org/info/rfc8372</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9341">[RFC9341]</dt>
      <dd>
<span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Mizrahi, T.</span>, and <span class="refAuthor">T. Zhou</span>, <span class="refTitle">"Alternate-Marking Method"</span>, <span class="seriesInfo">RFC 9341</span>, <span class="seriesInfo">DOI 10.17487/RFC9341</span>, <time class="refDate" datetime="2022-12">December 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9341">https://www.rfc-editor.org/info/rfc9341</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The authors thank <span class="contact-name">Benjamin Kaduk</span> and <span class="contact-name">Elwyn Davies</span> for their thorough and thoughtful
review of this document.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="appendix-B">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zhenbin Li</span></div>
<div class="left" dir="auto"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lizhenbin@huawei.com">lizhenbin@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Siva Sivabalan</span></div>
<div class="left" dir="auto"><span class="org">Ciena Corporation</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ssivabal@ciena.com">ssivabal@ciena.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stewart Bryant (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">University of Surrey</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sb@stewartbryant.com">sb@stewartbryant.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">George Swallow</span></div>
<div class="left" dir="auto"><span class="org">Independent</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:swallow.ietf@gmail.com">swallow.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mach(Guoyi) Chen</span></div>
<div class="left" dir="auto"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mach.chen@huawei.com">mach.chen@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Giuseppe Fioccola</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:giuseppe.fioccola@huawei.com">giuseppe.fioccola@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Gregory Mirsky</span></div>
<div class="left" dir="auto"><span class="org">ZTE Corp.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gregimirsky@gmail.com">gregimirsky@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>