<html><head></head><body><pre>Internet Engineering Task Force (IETF)                      D. Romascanu
Request for Comments: 5719                                         Avaya
Updates: <a href="./rfc3588">3588</a>                                              H. Tschofenig
Category: Standards Track                         Nokia Siemens Networks
ISSN: 2070-1721                                             January 2010


   <span class="h1">Updated IANA Considerations for Diameter Command Code Allocations</span>

Abstract

   The Diameter base specification, described in <a href="./rfc3588">RFC 3588</a>, provides a
   number of ways to extend Diameter, with new Diameter commands (i.e.,
   messages used by Diameter applications) and applications as the most
   extensive enhancements.  <a href="./rfc3588">RFC 3588</a> illustrates the conditions that
   lead to the need to define a new Diameter application or a new
   command code.  Depending on the scope of the Diameter extension, IETF
   actions are necessary.  Although defining new Diameter applications
   does not require IETF consensus, defining new Diameter commands
   requires IETF consensus per <a href="./rfc3588">RFC 3588</a>.  This has led to questionable
   design decisions by other Standards Development Organizations, which
   chose to define new applications on existing commands -- rather than
   asking for assignment of new command codes -- for the pure purpose of
   avoiding bringing their specifications to the IETF.  In some cases,
   interoperability problems were an effect of the poor design caused by
   overloading existing commands.

   This document aligns the extensibility rules of the Diameter
   application with the Diameter commands, offering ways to delegate
   work on Diameter to other SDOs to extend Diameter in a way that does
   not lead to poor design choices.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc5719">http://www.rfc-editor.org/info/rfc5719</a>.






<span class="grey">Romascanu &amp; Tschofenig      Standards Track                     [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc5719">RFC 5719</a>        Diameter Command Code Allocation Policy     January 2010</span>


Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Conventions Used in This Document . . . . . . . . . . . . . . . <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Security Considerations . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
   <a href="#section-4">4</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
   <a href="#section-5">5</a>.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-6">6</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
     <a href="#section-6.1">6.1</a>.  Normative References  . . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
     <a href="#section-6.2">6.2</a>.  Informative References  . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   The Diameter Base specification, described in [<a href="./rfc3588" title='"Diameter Base Protocol"'>RFC3588</a>], provides a
   number of ways to extend Diameter, with new Diameter commands (i.e.,
   messages used by Diameter applications) and applications as the most
   extensive enhancements.  [<a href="./rfc3588" title='"Diameter Base Protocol"'>RFC3588</a>] illustrates the conditions that
   require the definition of a new Diameter application or a new
   command.  Depending on the scope of the Diameter extension, IETF
   actions are necessary.  Although defining new Diameter applications
   does not require IETF consensus, defining new Diameter commands
   requires IETF consensus per <a href="./rfc3588">RFC 3588</a>.  This has led to questionable
   design decisions by other Standards Development Organizations (SDOs),
   which chose to define new applications on existing commands -- rather
   than asking for assignment of new command codes -- for the pure
   purpose of avoiding bringing their specifications to the IETF.  In
   some cases, interoperability problems were an effect of poor the
   design caused by overloading existing commands.

   This document aligns the extensibility rules for Diameter command
   codes with those defined for Diameter application identifiers and
   offers a consistent way to delegate work on Diameter to other SDOs to
   extend Diameter in a way that does not lead to poor design choices.



<span class="grey">Romascanu &amp; Tschofenig      Standards Track                     [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc5719">RFC 5719</a>        Diameter Command Code Allocation Policy     January 2010</span>


   This is achieved by splitting the command code space into ranges and
   providing different allocation policies to them: the first range is
   reserved for RADIUS backward compatibility, allocation of a command
   code in the second number range requires IETF review, the third range
   is utilized by vendor-specific command codes, and finally the last
   range is for experimental commands.  <a href="#section-4">Section 4</a> provides more details
   about the command code number ranges, and the different allocation
   policies are described in [<a href="./rfc5226" title="">RFC5226</a>].

   A revision of <a href="./rfc3588">RFC 3588</a> is currently in development in the IETF DIME
   WG [<a href="#ref-RFC3588bis" title='"Diameter Base Protocol"'>RFC3588bis</a>]; when approved, it will obsolete <a href="./rfc3588">RFC 3588</a> as well as
   this document.  A goal of this document is to provide in advance the
   change in the command codes allocation policy, so that
   interoperability problems like the ones described above are avoided
   as soon as possible.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Security%20Considerations"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Security Considerations</span>

   This document modifies the IANA allocation of Diameter command codes
   in relationship to <a href="./rfc3588">RFC 3588</a>.  This process change itself does not
   raise security concerns, but the command code space is split into a
   standard command code space and a vendor-specific command code space,
   the latter being allocated on a First Come, First Served basis by
   IANA at the request of vendors or other standards organizations.
   Whenever work gets delegated to organizations outside the IETF, there
   is always the chance that security reviews will be conducted in
   different manner and that the criteria and style of those reviews
   will be different than the reviews performed in the IETF.  The
   members of the DIME working group are aware of the risks involved in
   using different security and quality review processes and of the
   desire to offload work (e.g., to reduce the workload in the IETF) to
   other organizations.  Other organizations are therefore made
   responsible for the quality of the specifications they produce.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  IANA Considerations</span>

   This section describes changes to the IANA Considerations sections
   outlined in <a href="./rfc3588">RFC 3588</a> regarding the allocation of command codes by
   IANA.

   The command code namespace is used to identify Diameter commands.
   The values 0 - 255 (0x00 - 0xff) are reserved for RADIUS backward



<span class="grey">Romascanu &amp; Tschofenig      Standards Track                     [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc5719">RFC 5719</a>        Diameter Command Code Allocation Policy     January 2010</span>


   compatibility and are defined as "RADIUS Packet Type Codes" in
   [<a href="#ref-RADTYPE" title='"Radius Types"'>RADTYPE</a>].  Values 256 - 8,388,607 (0x100 - 0x7fffff) are for
   permanent, standard commands allocated by IETF Review [<a href="./rfc5226" title="">RFC5226</a>].
   [<a href="./rfc3588" title='"Diameter Base Protocol"'>RFC3588</a>] defines the command codes 257, 258, 271, 274, 275, 280, and
   282; see <a href="./rfc3588#section-3.1">Section 3.1 in [RFC3588]</a> for the assignment of the namespace
   in that specification.

   The values 8,388,608 - 16,777,213 (0x800000 - 0xfffffd) are reserved
   for vendor-specific command codes, to be allocated on a First Come,
   First Served basis by IANA [<a href="./rfc5226" title="">RFC5226</a>].  The request to IANA for a
   vendor-specific command code SHOULD include a reference to a publicly
   available specification that documents the command in sufficient
   detail to aid in interoperability between independent
   implementations.  If the specification cannot be made publicly
   available, the request for a vendor-specific command code MUST
   include the contact information of persons and/or entities
   responsible for authoring and maintaining the command.

   The values 16,777,214 and 16,777,215 (hexadecimal values 0xfffffe -
   0xffffff) are reserved for experimental commands.  As these codes are
   only for experimental and testing purposes, no guarantee is made for
   interoperability between Diameter peers using experimental commands,
   as outlined in [<a href="./rfc3692" title='"Assigning Experimental and Testing Numbers Considered Useful"'>RFC3692</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Acknowledgements"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Acknowledgements</span>

   The content of this document is the result of the work in the IETF
   Diameter Maintenance and Extensions (DIME) working group.  We would
   therefore like to thank all the working group members who were
   involved in that discussion.  While it appears to be a fairly small
   change in the allocation policy, the effect on implementations is
   rather dramatic.

   We would like to thank Mark Jones for his review comments.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20References"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.1.%20%20Normative%20References"></a><a class="selflink" href="#section-6.1" id="section-6.1">6.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]     Bradner, S., "Key words for use in RFCs to Indicate
                 Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-RFC3588">RFC3588</a>]     Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and
                 J. Arkko, "Diameter Base Protocol", <a href="./rfc3588">RFC 3588</a>,
                 September 2003.

   [<a id="ref-RFC3692">RFC3692</a>]     Narten, T., "Assigning Experimental and Testing Numbers
                 Considered Useful", <a href="https://www.rfc-editor.org/bcp/bcp82">BCP 82</a>, <a href="./rfc3692">RFC 3692</a>, January 2004.



<span class="grey">Romascanu &amp; Tschofenig      Standards Track                     [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc5719">RFC 5719</a>        Diameter Command Code Allocation Policy     January 2010</span>


   [<a id="ref-RFC5226">RFC5226</a>]     Narten, T. and H. Alvestrand, "Guidelines for Writing
                 an IANA Considerations Section in RFCs", <a href="https://www.rfc-editor.org/bcp/bcp26">BCP 26</a>,
                 <a href="./rfc5226">RFC 5226</a>, May 2008.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.2.%20%20Informative%20References"></a><a class="selflink" href="#section-6.2" id="section-6.2">6.2</a>.  Informative References</span>

   [<a id="ref-RADTYPE">RADTYPE</a>]     IANA, "Radius Types", &lt;<a href="http://www.iana.org">http://www.iana.org</a>&gt;.

   [<a id="ref-RFC3588bis">RFC3588bis</a>]  Fajardo, V., Arkko, J., Loughney, J., and G. Zorn,
                 "Diameter Base Protocol", Work in Progress,
                 September 2009.

Authors' Addresses

   Dan Romascanu
   Avaya
   Industrial Park Atidim, Bldg#3
   Tel Aviv  61581
   Israel

   Phone: +972-3-645-8414
   EMail: dromasca@avaya.com


   Hannes Tschofenig
   Nokia Siemens Networks
   Linnoitustie 6
   Espoo  02600
   Finland

   Phone: +358 (50) 4871445
   EMail: Hannes.Tschofenig@gmx.net
   URI:   <a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a>


















Romascanu &amp; Tschofenig      Standards Track                     [Page 5]
</pre>
</body></html>