<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9406: HyStart++: Modified Slow Start for TCP</title>
<meta content="Praveen Balasubramanian" name="author"/>
<meta content="Yi Huang" name="author"/>
<meta content="Matt Olson" name="author"/>
<meta content="
        This document describes HyStart++, a simple modification to
      the slow start phase of congestion control algorithms.
      Slow start can overshoot the ideal send rate
      in many cases, causing high packet loss and poor performance. 
      HyStart++ uses increase in round-trip delay as a heuristic to 
      find an exit point before possible overshoot.
      It also adds a mitigation to prevent jitter from causing
      premature slow start exit. 
       
    " name="description"/>
<meta content="xml2rfc 3.17.1" name="generator"/>
<meta content="TCP" name="keyword"/>
<meta content="congestion control" name="keyword"/>
<meta content="9406" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.17.1
    Python 3.9.15
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9406.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9406" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-tcpm-hystartplusplus-14" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9406</td>
<td class="center">HyStart++</td>
<td class="right">May 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Balasubramanian, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9406">9406</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-05">May 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. Balasubramanian</div>
<div class="org">Confluent</div>
</div>
<div class="author">
      <div class="author-name">Y. Huang</div>
<div class="org">Microsoft</div>
</div>
<div class="author">
      <div class="author-name">M. Olson</div>
<div class="org">Microsoft</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9406</h1>
<h1 id="title">HyStart++: Modified Slow Start for TCP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1"> This document describes HyStart++, a simple modification to
      the slow start phase of congestion control algorithms.
      Slow start can overshoot the ideal send rate
      in many cases, causing high packet loss and poor performance. 
      HyStart++ uses increase in round-trip delay as a heuristic to 
      find an exit point before possible overshoot.
      It also adds a mitigation to prevent jitter from causing
      premature slow start exit.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9406">https://www.rfc-editor.org/info/rfc9406</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-definitions">Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-hystart-algorithm">HyStart++ Algorithm</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-summary">Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-algorithm-details">Algorithm Details</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-tuning-constants-and-other-">Tuning Constants and Other Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-deployments-and-performance">Deployments and Performance Evaluations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#section-8.1">8.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#section-8.2">8.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1"> <span>[<a class="cite xref" href="#RFC5681">RFC5681</a>]</span> describes the slow start
      congestion control algorithm for TCP. The slow start
      algorithm is used when the congestion window (cwnd)
      is less than the slow start threshold (ssthresh). 
      During slow start, in the absence of packet loss signals,
      TCP increases the cwnd exponentially to probe the network capacity.
      This fast growth can overshoot the ideal sending rate
      and cause significant packet loss that cannot always
      be recovered efficiently.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">HyStart++ builds upon Hybrid Start (HyStart), originally described in
      <span>[<a class="cite xref" href="#HyStart">HyStart</a>]</span>. HyStart++ uses increase in
      round-trip delay as a signal to exit
      slow start before potential packet loss occurs as a result
      of overshoot. This is one of two algorithms specified in
      <span>[<a class="cite xref" href="#HyStart">HyStart</a>]</span> for finding a safe exit point for
      slow start. After the slow start exit, a new
      Conservative Slow Start (CSS) phase is used to determine
       whether the slow start exit was premature and to resume
       slow start. This mitigation improves performance in the
       presence of jitter.
      HyStart++ reduces packet loss and retransmissions, and
      improves goodput in lab measurements and real-world
      deployments.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">  While this document describes HyStart++ for TCP, it can
      also be used for other transport protocols that use slow start,
      such as QUIC <span>[<a class="cite xref" href="#RFC9002">RFC9002</a>]</span>
      or the Stream Control Transmission Protocol (SCTP) <span>[<a class="cite xref" href="#RFC9260">RFC9260</a>]</span>.<a class="pilcrow" href="#section-1-3">¶</a></p>
</section>
<div id="term">
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
      "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
      "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
      "<span class="bcp14">SHOULD NOT</span>",
      "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
      "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
      are to be interpreted as described in BCP 14
      <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> when, and only
      when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<section id="section-3">
      <h2 id="name-definitions">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-definitions">Definitions</a>
      </h2>
<p id="section-3-1"> To aid the reader, we repeat some definitions from
      <span>[<a class="cite xref" href="#RFC5681">RFC5681</a>]</span>:<a class="pilcrow" href="#section-3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-2">
        <dt id="section-3-2.1"> SENDER MAXIMUM SEGMENT SIZE (SMSS):</dt>
        <dd id="section-3-2.2" style="margin-left: 1.5em">The size of the
      largest segment that the sender can transmit. This value can be
      based on the maximum transmission unit of the network, the Path
      MTU Discovery algorithm <span>[<a class="cite xref" href="#RFC1191">RFC1191</a>]</span>
          <span>[<a class="cite xref" href="#RFC4821">RFC4821</a>]</span>, RMSS (see next item),
      or other factors. The size does not include the TCP/IP headers
      and options.<a class="pilcrow" href="#section-3-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3"> RECEIVER MAXIMUM SEGMENT SIZE (RMSS):</dt>
        <dd id="section-3-2.4" style="margin-left: 1.5em">The
      size of the largest segment that the receiver is willing to accept.
      This is the value specified in the MSS option sent by the
      receiver during connection startup.  Or, if the MSS option
      is not used, it is 536 bytes <span>[<a class="cite xref" href="#RFC1122">RFC1122</a>]</span>.
      The size does not include the TCP/IP headers and
      options.<a class="pilcrow" href="#section-3-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5"> RECEIVER WINDOW (rwnd):</dt>
        <dd id="section-3-2.6" style="margin-left: 1.5em">The most recently advertised
      receiver window.<a class="pilcrow" href="#section-3-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7"> CONGESTION WINDOW (cwnd):</dt>
        <dd id="section-3-2.8" style="margin-left: 1.5em">A TCP state variable that
      limits the amount of data a TCP can send.
      At any given time, a TCP <span class="bcp14">MUST NOT</span> send
      data with a sequence number higher than the sum of the highest
      acknowledged sequence number and the minimum of the cwnd and rwnd.<a class="pilcrow" href="#section-3-2.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<section id="section-4">
      <h2 id="name-hystart-algorithm">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-hystart-algorithm">HyStart++ Algorithm</a>
      </h2>
<section id="section-4.1">
        <h3 id="name-summary">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-summary">Summary</a>
        </h3>
<p id="section-4.1-1"> <span>[<a class="cite xref" href="#HyStart">HyStart</a>]</span> specifies two algorithms
        (a "Delay Increase" algorithm and an "Inter-Packet Arrival"
        algorithm) to be run in parallel to detect that the sending
        rate has reached capacity. In practice, the Inter-Packet
        Arrival algorithm does not perform well and is not able
        to detect congestion early, primarily due to ACK compression.
        The idea of the Delay Increase algorithm is to look for
        spikes in RTT (round-trip time), which suggest that the
        bottleneck buffer is filling up.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2"> In HyStart++, a TCP sender uses standard slow start
        and then uses the Delay Increase algorithm to trigger an
        exit from slow start. But instead of going straight from
        slow start to congestion avoidance, the sender spends a
        number of RTTs in a Conservative Slow Start (CSS) phase
        to determine whether the exit from slow start was premature.
        During CSS, the congestion window is grown exponentially in a
        fashion similar to regular slow start, but with a smaller exponential base,
        resulting in less aggressive growth.
        If the RTT reduces during CSS, it's concluded that the RTT
        spike was not related to congestion caused by the connection
        sending at a rate greater than the ideal send rate, and the
        connection resumes slow start. If the RTT inflation
        persists throughout CSS, the connection enters congestion
        avoidance.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-algorithm-details">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-algorithm-details">Algorithm Details</a>
        </h3>
<p id="section-4.2-1"> The following pseudocode uses a limit, L, to control the
        aggressiveness of the cwnd increase during both standard slow
        start and CSS. While an arriving ACK may newly acknowledge an
        arbitrary number of bytes, the HyStart++ algorithm limits the
        number of those bytes applied to increase the cwnd to L*SMSS bytes.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2"> lastRoundMinRTT and currentRoundMinRTT are initialized
        to infinity at the initialization time.  currRTT is the RTT
        sampled from the latest incoming ACK and initialized to
        infinity.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<div class="sourcecode" id="section-4.2-3">
<pre>lastRoundMinRTT = infinity
currentRoundMinRTT = infinity
currRTT = infinity
</pre><a class="pilcrow" href="#section-4.2-3">¶</a>
</div>
<p id="section-4.2-4">HyStart++ measures rounds using sequence numbers, as
        follows:<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-5.1">Define windowEnd as a sequence number initialized to SND.NXT.<a class="pilcrow" href="#section-4.2-5.1">¶</a>
</li>
          <li class="normal" id="section-4.2-5.2">When windowEnd is ACKed, the current round ends and windowEnd
        is set to SND.NXT.<a class="pilcrow" href="#section-4.2-5.2">¶</a>
</li>
        </ul>
<p id="section-4.2-6"> At the start of each round during standard slow start
        <span>[<a class="cite xref" href="#RFC5681">RFC5681</a>]</span> and CSS, initialize the variables 
        used to compute the last round's and current round's minimum RTT:<a class="pilcrow" href="#section-4.2-6">¶</a></p>
<div class="sourcecode" id="section-4.2-7">
<pre>lastRoundMinRTT = currentRoundMinRTT
currentRoundMinRTT = infinity
rttSampleCount = 0
</pre><a class="pilcrow" href="#section-4.2-7">¶</a>
</div>
<p id="section-4.2-8"> For each arriving ACK in slow start, where N is the
        number of previously unacknowledged bytes acknowledged
        in the arriving ACK:<a class="pilcrow" href="#section-4.2-8">¶</a></p>
<p id="section-4.2-9">Update the cwnd:<a class="pilcrow" href="#section-4.2-9">¶</a></p>
<div class="sourcecode" id="section-4.2-10">
<pre>  cwnd = cwnd + min(N, L * SMSS)
</pre><a class="pilcrow" href="#section-4.2-10">¶</a>
</div>
<p id="section-4.2-11"> Keep track of the minimum observed RTT:<a class="pilcrow" href="#section-4.2-11">¶</a></p>
<div class="sourcecode" id="section-4.2-12">
<pre>  currentRoundMinRTT = min(currentRoundMinRTT, currRTT)
  rttSampleCount += 1
</pre><a class="pilcrow" href="#section-4.2-12">¶</a>
</div>
<p id="section-4.2-13">For rounds where at least N_RTT_SAMPLE RTT samples have been
obtained and currentRoundMinRTT and lastRoundMinRTT are valid,
check to see if delay increase triggers slow start exit:<a class="pilcrow" href="#section-4.2-13">¶</a></p>
<div class="sourcecode" id="section-4.2-14">
<pre>if ((rttSampleCount &gt;= N_RTT_SAMPLE) AND
    (currentRoundMinRTT != infinity) AND
    (lastRoundMinRTT != infinity))
  RttThresh = max(MIN_RTT_THRESH,
    min(lastRoundMinRTT / MIN_RTT_DIVISOR, MAX_RTT_THRESH))
  if (currentRoundMinRTT &gt;= (lastRoundMinRTT + RttThresh))
    cssBaselineMinRtt = currentRoundMinRTT
    exit slow start and enter CSS
</pre><a class="pilcrow" href="#section-4.2-14">¶</a>
</div>
<p id="section-4.2-15"> For each arriving ACK in CSS, where N is the number
        of previously unacknowledged bytes acknowledged in
        the arriving ACK:<a class="pilcrow" href="#section-4.2-15">¶</a></p>
<p id="section-4.2-16"> Update the cwnd:<a class="pilcrow" href="#section-4.2-16">¶</a></p>
<div class="sourcecode" id="section-4.2-17">
<pre>cwnd = cwnd + (min(N, L * SMSS) / CSS_GROWTH_DIVISOR)
</pre><a class="pilcrow" href="#section-4.2-17">¶</a>
</div>
<p id="section-4.2-18"> Keep track of the minimum observed RTT:<a class="pilcrow" href="#section-4.2-18">¶</a></p>
<div class="sourcecode" id="section-4.2-19">
<pre>currentRoundMinRTT = min(currentRoundMinRTT, currRTT)
rttSampleCount += 1
</pre><a class="pilcrow" href="#section-4.2-19">¶</a>
</div>
<p id="section-4.2-20"> For CSS rounds where at least N_RTT_SAMPLE RTT
            samples have been obtained, check to see if the current round's
            minRTT drops below baseline (cssBaselineMinRtt) indicating that
            slow start exit was spurious:<a class="pilcrow" href="#section-4.2-20">¶</a></p>
<div class="sourcecode" id="section-4.2-21">
<pre>if (currentRoundMinRTT &lt; cssBaselineMinRtt)
  cssBaselineMinRtt = infinity
  resume slow start including HyStart++
</pre><a class="pilcrow" href="#section-4.2-21">¶</a>
</div>
<p id="section-4.2-22"> CSS lasts at most CSS_ROUNDS rounds. If the transition
        into CSS happens in the middle of a round, that partial
        round counts towards the limit.<a class="pilcrow" href="#section-4.2-22">¶</a></p>
<p id="section-4.2-23"> If CSS_ROUNDS rounds are complete,
        enter congestion avoidance by setting the ssthresh to the current cwnd.<a class="pilcrow" href="#section-4.2-23">¶</a></p>
<div class="sourcecode" id="section-4.2-24">
<pre>ssthresh = cwnd
</pre><a class="pilcrow" href="#section-4.2-24">¶</a>
</div>
<p id="section-4.2-25"> If loss or Explicit Congestion Notification (ECN) marking is observed at any time during
        standard slow start or CSS, enter congestion avoidance 
        by setting the ssthresh to the current cwnd.<a class="pilcrow" href="#section-4.2-25">¶</a></p>
<div class="sourcecode" id="section-4.2-26">
<pre>ssthresh = cwnd
</pre><a class="pilcrow" href="#section-4.2-26">¶</a>
</div>
</section>
<section id="section-4.3">
        <h3 id="name-tuning-constants-and-other-">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-tuning-constants-and-other-">Tuning Constants and Other Considerations</a>
        </h3>
<p id="section-4.3-1"> It is <span class="bcp14">RECOMMENDED</span> that a HyStart++ implementation use
      the following constants:<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<div class="sourcecode" id="section-4.3-2">
<pre>MIN_RTT_THRESH = 4 msec
MAX_RTT_THRESH = 16 msec
MIN_RTT_DIVISOR = 8
N_RTT_SAMPLE = 8
CSS_GROWTH_DIVISOR = 4
CSS_ROUNDS = 5
L = infinity if paced, L = 8 if non-paced
</pre><a class="pilcrow" href="#section-4.3-2">¶</a>
</div>
<p id="section-4.3-3"> These constants have been determined with lab measurements
      and real-world deployments. An implementation <span class="bcp14">MAY</span> tune them for
      different network characteristics.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<p id="section-4.3-4"> The delay increase sensitivity is determined
      by MIN_RTT_THRESH and MAX_RTT_THRESH. Smaller values of
      MIN_RTT_THRESH may cause spurious exits from slow start. Larger
      values of MAX_RTT_THRESH may result in slow start not exiting
      until loss is encountered for connections on large RTT paths.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
<p id="section-4.3-5">MIN_RTT_DIVISOR is a fraction of RTT to compute the delay threshold. 
      A smaller value would mean a larger threshold and thus less sensitivity to 
      delay increase, and vice versa.<a class="pilcrow" href="#section-4.3-5">¶</a></p>
<p id="section-4.3-6"> While all TCP implementations are <span class="bcp14">REQUIRED</span> to take at least one RTT
      sample each round, implementations of HyStart++ are <span class="bcp14">RECOMMENDED</span> to take 
      at least N_RTT_SAMPLE RTT samples. Using lower values of N_RTT_SAMPLE will
      lower the accuracy of the measured RTT for the round;
      higher values will improve accuracy at the cost of more
      processing.<a class="pilcrow" href="#section-4.3-6">¶</a></p>
<p id="section-4.3-7"> The minimum value of CSS_GROWTH_DIVISOR <span class="bcp14">MUST</span> be at least 2.
      A value of 1 results in the same aggressive behavior as regular
      slow start. Values larger than 4 
      will cause the algorithm to be less aggressive and maybe less
      performant.<a class="pilcrow" href="#section-4.3-7">¶</a></p>
<p id="section-4.3-8"> Smaller values of CSS_ROUNDS may miss detecting jitter,
      and larger values may limit performance.<a class="pilcrow" href="#section-4.3-8">¶</a></p>
<p id="section-4.3-9"> Packet pacing <span>[<a class="cite xref" href="#ASA00">ASA00</a>]</span> is a possible mechanism to 
      avoid large bursts and their associated harm. A paced TCP implementation <span class="bcp14">SHOULD</span> 
      use L = infinity. Burst concerns are mitigated by pacing, and this
      setting allows for optimal cwnd growth on modern networks.<a class="pilcrow" href="#section-4.3-9">¶</a></p>
<p id="section-4.3-10"> For TCP implementations that pace to mitigate burst concerns, L 
      values smaller than infinity may suffer performance problems due to slow 
      cwnd growth in high-speed networks. For non-paced TCP implementations, L values 
      smaller than 8 may suffer performance problems due to slow cwnd growth in high-speed networks; L values larger than 8 may cause an increase in burstiness 
      and thereby loss rates, and result in poor performance.<a class="pilcrow" href="#section-4.3-10">¶</a></p>
<p id="section-4.3-11"> An implementation <span class="bcp14">SHOULD</span> use HyStart++ only for the
      initial slow start (when the ssthresh is at its initial value
      of arbitrarily high per <span>[<a class="cite xref" href="#RFC5681">RFC5681</a>]</span>) and fall
      back to using standard slow start for the remainder of
      the connection lifetime. This is acceptable because subsequent
      slow starts will use the discovered ssthresh value to exit slow
      start and avoid the overshoot problem. An implementation <span class="bcp14">MAY</span>
      use HyStart++ to grow the restart window
      <span>[<a class="cite xref" href="#RFC5681">RFC5681</a>]</span> after a long idle period.<a class="pilcrow" href="#section-4.3-11">¶</a></p>
<p id="section-4.3-12">
      In application-limited scenarios, the amount of data in
      flight could fall below the bandwidth-delay product (BDP) and 
      result in smaller RTT samples, which can trigger an exit back to 
      slow start. It is expected that a connection might oscillate 
      between CSS and slow start in such scenarios. But this behavior
      will neither result in a connection prematurely entering
      congestion avoidance nor cause overshooting compared to
      slow start.<a class="pilcrow" href="#section-4.3-12">¶</a></p>
</section>
</section>
<section id="section-5">
      <h2 id="name-deployments-and-performance">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-deployments-and-performance">Deployments and Performance Evaluations</a>
      </h2>
<p id="section-5-1"> At the time of this writing, HyStart++ as described
        in this document has been default enabled for all TCP
        connections in the Windows operating system for over
        two years with pacing disabled and an actual L = 8.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2"> In lab measurements with Windows TCP, HyStart++ shows
        goodput improvements as well as reductions in packet
        loss and retransmissions compared to standard slow start.
        For example, across a variety of tests on a 100 Mbps link
        with a bottleneck buffer size of bandwidth-delay product,
        HyStart++ reduces bytes retransmitted by 50% and
        retransmission timeouts (RTOs) by 36%.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3"> In an A/B test where we compared an implementation of HyStart++
        (based on an earlier draft version of this document) to
        standard slow start across a large Windows device
        population, out of 52 billion TCP connections, 0.7% of
        connections move from 1 RTO to 0 RTOs and another 0.7% of
        connections move from 2 RTOs to 1 RTO with HyStart++.
        This test did not focus on send-heavy connections, and
        the impact on send-heavy connections is likely much
        higher. We plan to conduct more such production
        experiments to gather more data in the future.<a class="pilcrow" href="#section-5-3">¶</a></p>
</section>
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1"> HyStart++ enhances slow start and inherits the general
      security considerations discussed in <span>[<a class="cite xref" href="#RFC5681">RFC5681</a>]</span>.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">An attacker can cause HyStart++ to exit slow start prematurely
      and impair the performance of a TCP connection by, for example,
      dropping data packets or their acknowledgments.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">The ACK division attack outlined in <span>[<a class="cite xref" href="#SCWA99">SCWA99</a>]</span> does not affect
      HyStart++ because the congestion window increase in HyStart++ is based
      on the number of bytes newly acknowledged in each arriving ACK rather than by
      a particular constant on each arriving ACK.<a class="pilcrow" href="#section-6-3">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document has no IANA actions.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
<section id="section-8">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5681">[RFC5681]</dt>
        <dd>
<span class="refAuthor">Allman, M.</span>, <span class="refAuthor">Paxson, V.</span>, and <span class="refAuthor">E. Blanton</span>, <span class="refTitle">"TCP Congestion Control"</span>, <span class="seriesInfo">RFC 5681</span>, <span class="seriesInfo">DOI 10.17487/RFC5681</span>, <time class="refDate" datetime="2009-09">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5681">https://www.rfc-editor.org/info/rfc5681</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="ASA00">[ASA00]</dt>
        <dd>
<span class="refAuthor">Aggarwal, A.</span>, <span class="refAuthor">Savage, S.</span>, and <span class="refAuthor">T. Anderson</span>, <span class="refTitle">"Understanding the performance of TCP pacing"</span>, <span class="refContent">Proceedings IEEE INFOCOM 2000</span>, <span class="seriesInfo">DOI 10.1109/INFCOM.2000.832483</span>, <time class="refDate" datetime="2000-03">March 2000</time>, <span>&lt;<a href="https://doi.org/10.1109/INFCOM.2000.832483">https://doi.org/10.1109/INFCOM.2000.832483</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HyStart">[HyStart]</dt>
        <dd>
<span class="refAuthor">Ha, S.</span> and <span class="refAuthor">I. Rhee</span>, <span class="refTitle">"Taming the elephants: New TCP slow start"</span>, <span class="refContent">Computer Networks vol. 55, no. 9, pp. 2092-2110</span>, <span class="seriesInfo">DOI 10.1016/j.comnet.2011.01.014</span>, <time class="refDate" datetime="2011-06">June 2011</time>, <span>&lt;<a href="https://doi.org/10.1016/j.comnet.2011.01.014">https://doi.org/10.1016/j.comnet.2011.01.014</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1122">[RFC1122]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refTitle">"Requirements for Internet Hosts - Communication Layers"</span>, <span class="seriesInfo">STD 3</span>, <span class="seriesInfo">RFC 1122</span>, <span class="seriesInfo">DOI 10.17487/RFC1122</span>, <time class="refDate" datetime="1989-10">October 1989</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1191">[RFC1191]</dt>
        <dd>
<span class="refAuthor">Mogul, J.</span> and <span class="refAuthor">S. Deering</span>, <span class="refTitle">"Path MTU discovery"</span>, <span class="seriesInfo">RFC 1191</span>, <span class="seriesInfo">DOI 10.17487/RFC1191</span>, <time class="refDate" datetime="1990-11">November 1990</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1191">https://www.rfc-editor.org/info/rfc1191</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4821">[RFC4821]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span> and <span class="refAuthor">J. Heffner</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery"</span>, <span class="seriesInfo">RFC 4821</span>, <span class="seriesInfo">DOI 10.17487/RFC4821</span>, <time class="refDate" datetime="2007-03">March 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4821">https://www.rfc-editor.org/info/rfc4821</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9002">[RFC9002]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">I. Swett, Ed.</span>, <span class="refTitle">"QUIC Loss Detection and Congestion Control"</span>, <span class="seriesInfo">RFC 9002</span>, <span class="seriesInfo">DOI 10.17487/RFC9002</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9002">https://www.rfc-editor.org/info/rfc9002</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9260">[RFC9260]</dt>
        <dd>
<span class="refAuthor">Stewart, R.</span>, <span class="refAuthor">Tüxen, M.</span>, and <span class="refAuthor">K. Nielsen</span>, <span class="refTitle">"Stream Control Transmission Protocol"</span>, <span class="seriesInfo">RFC 9260</span>, <span class="seriesInfo">DOI 10.17487/RFC9260</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9260">https://www.rfc-editor.org/info/rfc9260</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SCWA99">[SCWA99]</dt>
      <dd>
<span class="refAuthor">Savage, S.</span>, <span class="refAuthor">Cardwell, N.</span>, <span class="refAuthor">Wetherall, D.</span>, and <span class="refAuthor">T. Anderson</span>, <span class="refTitle">"TCP congestion control with a misbehaving receiver"</span>, <span class="refContent">ACM SIGCOMM Computer Communication Review, vol. 29, issue 5, pp. 71-78</span>, <span class="seriesInfo">DOI 10.1145/505696.505704</span>, <time class="refDate" datetime="1999-10">October 1999</time>, <span>&lt;<a href="https://doi.org/10.1145/505696.505704">https://doi.org/10.1145/505696.505704</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1"> During the discussions of this work on the TCPM mailing list and in working group meetings, 
        helpful comments, critiques, and reviews were received from (listed alphabetically by last name)
        <span class="contact-name">Mark Allman</span>, <span class="contact-name">Bob Briscoe</span>, <span class="contact-name">Neal Cardwell</span>, <span class="contact-name">Yuchung Cheng</span>, <span class="contact-name">Junho Choi</span>, <span class="contact-name">Martin Duke</span>, <span class="contact-name">Reese Enghardt</span>, 
        <span class="contact-name">Christian Huitema</span>, <span class="contact-name">Ilpo Järvinen</span>, <span class="contact-name">Yoshifumi Nishida</span>, <span class="contact-name">Randall Stewart</span>, and <span class="contact-name">Michael Tüxen</span>.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Praveen Balasubramanian</span></div>
<div class="left" dir="auto"><span class="org">Confluent</span></div>
<div class="left" dir="auto"><span class="street-address">899 West Evelyn Ave</span></div>
<div class="left" dir="auto">
<span class="locality">Mountain View</span>, <span class="region">CA</span> <span class="postal-code">94041</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pravb.ietf@gmail.com">pravb.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Yi Huang</span></div>
<div class="left" dir="auto"><span class="org">Microsoft</span></div>
<div class="left" dir="auto"><span class="street-address">One Microsoft Way</span></div>
<div class="left" dir="auto">
<span class="locality">Redmond</span>, <span class="region">WA</span> <span class="postal-code">98052</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20425%20703%200447">+1 425 703 0447</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:huanyi@microsoft.com">huanyi@microsoft.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Matt Olson</span></div>
<div class="left" dir="auto"><span class="org">Microsoft</span></div>
<div class="left" dir="auto"><span class="street-address">One Microsoft Way</span></div>
<div class="left" dir="auto">
<span class="locality">Redmond</span>, <span class="region">WA</span> <span class="postal-code">98052</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20425%20538%208598">+1 425 538 8598</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:maolson@microsoft.com">maolson@microsoft.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>