<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9344: CCNinfo: Discovering Content and Network Information in Content-Centric Networks</title>
<meta content="Hitoshi Asaeda" name="author"/>
<meta content="Atsushi Ooka" name="author"/>
<meta content="Xun Shao" name="author"/>
<meta content='
       
   This document describes a mechanism named "CCNinfo" that discovers
   information about the network topology and in-network cache in
   Content-Centric Networks (CCNs). CCNinfo investigates 1) the CCN
   routing path information per name prefix, 2) the Round-Trip Time
   (RTT) between the content forwarder and the consumer, and 3) the states
   of in-network cache per name prefix. CCNinfo is useful to understand
   and debug the behavior of testbed networks and other experimental
   deployments of CCN systems. 
       
   This document is a product of the IRTF Information-Centric Networking
   Research Group (ICNRG). This document represents the consensus view of
   ICNRG and has been reviewed extensively by several members of the ICN
   community and the RG. The authors and RG
   chairs approve of the contents.  The document is sponsored under the IRTF,
   is not issued by the IETF, and is not an IETF standard. This is an
   experimental protocol and the specification may change in the future. 
    ' name="description"/>
<meta content="xml2rfc 3.16.0" name="generator"/>
<meta content="ICN" name="keyword"/>
<meta content="CCNx" name="keyword"/>
<meta content="NDN" name="keyword"/>
<meta content="CCNinfo" name="keyword"/>
<meta content="9344" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.16.0
    Python 3.9.15
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    MarkupSafe 2.1.1
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9344.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9344" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-irtf-icnrg-ccninfo-15" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9344</td>
<td class="center">CCNinfo</td>
<td class="right">February 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Asaeda, et al.</td>
<td class="center">Experimental</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Research Task Force (IRTF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9344">9344</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Experimental</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-02">February 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H. Asaeda</div>
<div class="org">NICT</div>
</div>
<div class="author">
      <div class="author-name">A. Ooka</div>
<div class="org">NICT</div>
</div>
<div class="author">
      <div class="author-name">X. Shao</div>
<div class="org">Toyohashi University of Technology</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9344</h1>
<h1 id="title">CCNinfo: Discovering Content and Network Information in Content-Centric Networks</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
   This document describes a mechanism named "CCNinfo" that discovers
   information about the network topology and in-network cache in
   Content-Centric Networks (CCNs). CCNinfo investigates 1) the CCN
   routing path information per name prefix, 2) the Round-Trip Time
   (RTT) between the content forwarder and the consumer, and 3) the states
   of in-network cache per name prefix. CCNinfo is useful to understand
   and debug the behavior of testbed networks and other experimental
   deployments of CCN systems.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">
   This document is a product of the IRTF Information-Centric Networking
   Research Group (ICNRG). This document represents the consensus view of
   ICNRG and has been reviewed extensively by several members of the ICN
   community and the RG. The authors and RG
   chairs approve of the contents.  The document is sponsored under the IRTF,
   is not issued by the IETF, and is not an IETF standard. This is an
   experimental protocol and the specification may change in the future.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for examination, experimental implementation, and
            evaluation.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document defines an Experimental Protocol for the Internet
            community.  This document is a product of the Internet Research
            Task Force (IRTF).  The IRTF publishes the results of Internet-related
            research and development activities.  These results might not be
            suitable for deployment.  This RFC represents the consensus of the
            Information-Centric Networking Research Group of the Internet Research Task Force
            (IRTF).  Documents approved for publication by the IRSG are not
            candidates for any level of Internet Standard; see Section 2 of RFC
            7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9344">https://www.rfc-editor.org/info/rfc9344</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-ccninfo-as-an-experimental-">CCNinfo as an Experimental Tool</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-definitions">Definitions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-ccninfo-message-formats">CCNinfo Message Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-request-message">Request Message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a class="auto internal xref" href="#section-3.1.1">3.1.1</a>.  <a class="internal xref" href="#name-request-header-block-and-re">Request Header Block and Request Block</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a class="auto internal xref" href="#section-3.1.2">3.1.2</a>.  <a class="internal xref" href="#name-report-block-tlv">Report Block TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a class="auto internal xref" href="#section-3.1.3">3.1.3</a>.  <a class="internal xref" href="#name-content-name-specification">Content Name Specification</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-reply-message">Reply Message</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a class="auto internal xref" href="#section-3.2.1">3.2.1</a>.  <a class="internal xref" href="#name-reply-block-tlv">Reply Block TLV</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1.2.1">
                        <p id="section-toc.1-1.3.2.2.2.1.2.1.1"><a class="auto internal xref" href="#section-3.2.1.1">3.2.1.1</a>.  <a class="internal xref" href="#name-reply-sub-block-tlv">Reply Sub-Block TLV</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-ccninfo-user-behavior">CCNinfo User Behavior</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-sending-ccninfo-request">Sending CCNinfo Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="auto internal xref" href="#section-4.1.1">4.1.1</a>.  <a class="internal xref" href="#name-routing-path-information">Routing Path Information</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a class="auto internal xref" href="#section-4.1.2">4.1.2</a>.  <a class="internal xref" href="#name-in-network-cache-informatio">In-Network Cache Information</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-receiving-ccninfo-reply">Receiving CCNinfo Reply</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-router-behavior">Router Behavior</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-user-and-neighbor-verificat">User and Neighbor Verification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-receiving-ccninfo-request">Receiving CCNinfo Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="auto internal xref" href="#section-5.3">5.3</a>.  <a class="internal xref" href="#name-forwarding-ccninfo-request">Forwarding CCNinfo Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a class="auto internal xref" href="#section-5.3.1">5.3.1</a>.  <a class="internal xref" href="#name-regular-request">Regular Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a class="auto internal xref" href="#section-5.3.2">5.3.2</a>.  <a class="internal xref" href="#name-full-discovery-request">Full Discovery Request</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="auto internal xref" href="#section-5.4">5.4</a>.  <a class="internal xref" href="#name-sending-ccninfo-reply">Sending CCNinfo Reply</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a class="auto internal xref" href="#section-5.5">5.5</a>.  <a class="internal xref" href="#name-forwarding-ccninfo-reply">Forwarding CCNinfo Reply</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a class="auto internal xref" href="#section-5.6">5.6</a>.  <a class="internal xref" href="#name-pit-entry-management-for-mu">PIT Entry Management for Multipath Support</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-ccninfo-termination">CCNinfo Termination</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-arriving-at-first-hop-route">Arriving at First-Hop Router</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-arriving-at-router-having-c">Arriving at Router Having Cache</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-arriving-at-last-router">Arriving at Last Router</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="auto internal xref" href="#section-6.4">6.4</a>.  <a class="internal xref" href="#name-invalid-request">Invalid Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="auto internal xref" href="#section-6.5">6.5</a>.  <a class="internal xref" href="#name-no-route">No Route</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="auto internal xref" href="#section-6.6">6.6</a>.  <a class="internal xref" href="#name-no-information">No Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a class="auto internal xref" href="#section-6.7">6.7</a>.  <a class="internal xref" href="#name-no-space">No Space</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
                <p id="section-toc.1-1.6.2.8.1"><a class="auto internal xref" href="#section-6.8">6.8</a>.  <a class="internal xref" href="#name-fatal-error">Fatal Error</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9">
                <p id="section-toc.1-1.6.2.9.1"><a class="auto internal xref" href="#section-6.9">6.9</a>.  <a class="internal xref" href="#name-ccninfo-reply-timeout">CCNinfo Reply Timeout</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.10">
                <p id="section-toc.1-1.6.2.10.1"><a class="auto internal xref" href="#section-6.10">6.10</a>. <a class="internal xref" href="#name-non-supported-node">Non-Supported Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11">
                <p id="section-toc.1-1.6.2.11.1"><a class="auto internal xref" href="#section-6.11">6.11</a>. <a class="internal xref" href="#name-administratively-prohibited">Administratively Prohibited</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-configurations">Configurations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-ccninfo-reply-timeout-2">CCNinfo Reply Timeout</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-hoplimit-in-fixed-header">HopLimit in Fixed Header</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="auto internal xref" href="#section-7.3">7.3</a>.  <a class="internal xref" href="#name-access-control">Access Control</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-diagnosis-and-analysis">Diagnosis and Analysis</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#section-8.1">8.1</a>.  <a class="internal xref" href="#name-number-of-hops-and-rtt">Number of Hops and RTT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#section-8.2">8.2</a>.  <a class="internal xref" href="#name-caching-router-identificati">Caching Router Identification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="auto internal xref" href="#section-8.3">8.3</a>.  <a class="internal xref" href="#name-ttl-or-hop-limit">TTL or Hop Limit</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="auto internal xref" href="#section-8.4">8.4</a>.  <a class="internal xref" href="#name-time-delay">Time Delay</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a class="auto internal xref" href="#section-8.5">8.5</a>.  <a class="internal xref" href="#name-path-stretch">Path Stretch</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a class="auto internal xref" href="#section-8.6">8.6</a>.  <a class="internal xref" href="#name-cache-hit-probability">Cache Hit Probability</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="auto internal xref" href="#section-9.1">9.1</a>.  <a class="internal xref" href="#name-packet-type-registry">Packet Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="auto internal xref" href="#section-9.2">9.2</a>.  <a class="internal xref" href="#name-top-level-type-registry">Top-Level Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a class="auto internal xref" href="#section-9.3">9.3</a>.  <a class="internal xref" href="#name-hop-by-hop-type-registry">Hop-by-Hop Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a class="auto internal xref" href="#section-9.4">9.4</a>.  <a class="internal xref" href="#name-message-type-registry">Message Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.5">
                <p id="section-toc.1-1.9.2.5.1"><a class="auto internal xref" href="#section-9.5">9.5</a>.  <a class="internal xref" href="#name-reply-type-registry">Reply Type Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#section-10.1">10.1</a>.  <a class="internal xref" href="#name-policy-based-information-pr">Policy-Based Information Provisioning for Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#section-10.2">10.2</a>.  <a class="internal xref" href="#name-filtering-ccninfo-users-loc">Filtering CCNinfo Users Located in Invalid Networks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a class="auto internal xref" href="#section-10.3">10.3</a>.  <a class="internal xref" href="#name-topology-discovery">Topology Discovery</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a class="auto internal xref" href="#section-10.4">10.4</a>.  <a class="internal xref" href="#name-characteristics-of-content">Characteristics of Content</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a class="auto internal xref" href="#section-10.5">10.5</a>.  <a class="internal xref" href="#name-computational-attacks">Computational Attacks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a class="auto internal xref" href="#section-10.6">10.6</a>.  <a class="internal xref" href="#name-longer-or-shorter-ccninfo-r">Longer or Shorter CCNinfo Reply Timeout</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a class="auto internal xref" href="#section-10.7">10.7</a>.  <a class="internal xref" href="#name-limiting-request-rates">Limiting Request Rates</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a class="auto internal xref" href="#section-10.8">10.8</a>.  <a class="internal xref" href="#name-limiting-reply-rates">Limiting Reply Rates</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.9">
                <p id="section-toc.1-1.10.2.9.1"><a class="auto internal xref" href="#section-10.9">10.9</a>.  <a class="internal xref" href="#name-adjacency-verification">Adjacency Verification</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#section-11">11</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="auto internal xref" href="#section-11.1">11.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="auto internal xref" href="#section-11.2">11.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-ccninfo-command-and-options">ccninfo Command and Options</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec.intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">In Content-Centric Networks (CCNs), publishers provide the content through the network, and receivers retrieve it by name. In this network architecture, routers forward content requests through their Forwarding Information Bases (FIBs), which are populated by name-based routing protocols. CCN also enables receivers to retrieve content from an in-network cache.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">In CCN, while consumers do not generally need to know the content forwarder that is transmitting the content to them, the operators and developers may want to identify the content forwarder and observe the routing path information per name prefix for troubleshooting or investigating the network conditions.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">IP traceroute
      is a useful tool for discovering the routing conditions in IP networks because it provides intermediate router addresses along the path between the source and the destination, and the Round-Trip Time (RTT) for the path. However, this IP-based network tool cannot trace the name prefix paths used in CCN.
      Moreover, such IP-based network tools do not obtain the states of the in-network cache to be discovered.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">Contrace <span>[<a class="cite xref" href="#Contrace">Contrace</a>]</span> enables end users (i.e., consumers) to investigate path and in-network cache conditions in CCN. Contrace is implemented as an external daemon process running over TCP/IP that can interact with a previous CCNx forwarding daemon (CCNx-0.8.2) to retrieve the caching information on the forwarding daemon. This solution is flexible, but it requires defining the common APIs used for global deployment in TCP/IP networks. ICN (Information-Centric Networking) ping <span>[<a class="cite xref" href="#ICN-PING">ICN-PING</a>]</span> and traceroute <span>[<a class="cite xref" href="#I-D.irtf-icnrg-icntraceroute">ICN-TRACEROUTE</a>]</span> are lightweight operational tools that enable a user to explore the path(s) that reach a publisher or a cache storing the named content. ICN ping and traceroute, however, do not expose detailed information about the forwarders deployed by a network operator.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">This document describes the specifications of "CCNinfo", an active networking tool for discovering the path and content-caching information in CCN.
      CCNinfo defines the protocol messages to investigate path and in-network cache conditions in CCN. It is embedded in the CCNx forwarding process and can facilitate with non-IP networks as with the basic CCN concept.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">The two message types, Request and Reply messages, are encoded in the CCNx TLV format <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>. The Request-and-Reply message flow, walking up the tree from a consumer toward a publisher, is similar to the behavior of the IP multicast traceroute facility <span>[<a class="cite xref" href="#RFC8487">RFC8487</a>]</span>.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">CCNinfo facilitates the tracing of a routing path and provides 1) the RTT between the content forwarder (i.e., caching router or first-hop router) and consumer, 2) the states of the in-network cache per name prefix, and 3) the routing path information per name prefix.<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">In addition, CCNinfo identifies the states of the cache, such as the metrics for Content Store (CS) in the content forwarder as follows: 1) size of cached Content Objects, 2) number of cached Content Objects, 3) number of accesses (i.e., received Interests) per content, and 4) elapsed cache time and remaining cache lifetime of content.<a class="pilcrow" href="#section-1-8">¶</a></p>
<p id="section-1-9">CCNinfo supports multipath forwarding. The Request messages can be forwarded to multiple neighbor routers. When the Request messages are forwarded to multiple routers, the different Reply messages are forwarded from different routers or publishers.<a class="pilcrow" href="#section-1-9">¶</a></p>
<p id="section-1-10">Furthermore, CCNinfo implements policy-based information provisioning that enables administrators to "hide" secure or private information but does not disrupt message forwarding. This policy-based information provisioning reduces the deployment barrier faced by operators in installing and running CCNinfo on their routers.<a class="pilcrow" href="#section-1-10">¶</a></p>
<p id="section-1-11">The document represents the consensus of the Information-Centric Networking Research Group (ICNRG). This document was read and reviewed by the active research group members. It is not an IETF product and is not a standard.<a class="pilcrow" href="#section-1-11">¶</a></p>
<div id="sec.intro.exp">
<section id="section-1.1">
        <h3 id="name-ccninfo-as-an-experimental-">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-ccninfo-as-an-experimental-">CCNinfo as an Experimental Tool</a>
        </h3>
<p id="section-1.1-1">In order to carry out meaningful experimentation with CCNx protocols, comprehensive instrumentation and management information is needed to take measurements and explore both the performance and robustness characteristics of the protocols and of the applications using them. CCNinfo's primary goal is to gather and report this information. As experience is gained with both the CCNx protocols and CCNinfo itself, we can refine the instrumentation capabilities and discover what additional capabilities might be needed in CCNinfo and conversely which features wind up not being of sufficient value to justify the implementation complexity and execution overhead.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">CCNinfo is intended as a comprehensive experimental tool for CCNx-based networks. It provides a wealth of information from forwarders, including on-path in-network cache conditions as well as forwarding path instrumentation of multiple paths toward content forwarders. As an experimental capability that exposes detailed information about the forwarders deployed by a network operator, CCNinfo employs more granular authorization policies than those required of ICN ping or ICN traceroute.<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">CCNinfo uses two message types: Request and Reply. A CCNinfo user, e.g., consumer, initiates a CCNinfo Request message when they want to obtain routing path and cache information. When an adjacent neighbor router receives the Request message, it examines its own cache information. If the router does not cache the specified content, it inserts its Report block into the hop-by-hop header of the Request message and forwards the message to its upstream neighbor router(s) decided by its FIB. In <a class="auto internal xref" href="#fig_request">Figure 1</a>, CCNinfo user and routers (Routers A, B, C) insert their own Report blocks into the Request message and forward the message toward the content forwarder.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<span id="name-request-message-invoked-by-"></span><div id="fig_request">
<figure id="figure-1">
          <div class="alignCenter art-text artwork" id="section-1.1-4.1">
<pre>       1. Request    2. Request    3. Request
          (U)           (U+A)         (U+A+B)
         +----+        +----+        +----+
         |    |        |    |        |    |
         |    v        |    v        |    v
+--------+    +--------+    +--------+    +--------+    +---------+
| CCNinfo|----| Router |----| Router |----| Router |----|Publisher|
|  user  |    |   A    |    |   B    |    |   C    |    |         |
+--------+    +--------+    +--------+    +--------+    +---------+
                                     \
                                      \          +-------+
                            3. Request \         | Cache |
                               (U+A+B)  \ +---------+    |
                                         v| Caching |----+
                                          |  router |
                                          +---------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-request-message-invoked-by-">Request Message Invoked by the CCNinfo User and Forwarded by Routers</a>
          </figcaption></figure>
</div>
<p id="section-1.1-5">When the Request message reaches the content forwarder, the content forwarder forms the Reply message; it inserts its own Reply block TLV and Reply sub-block TLV(s) to the Request message. The Reply message is then forwarded back toward the user in a hop-by-hop manner along the Pending Interest Table (PIT) entries. In <a class="auto internal xref" href="#fig_reply">Figure 2</a>, each router (Routers C, B, and A) forwards the Reply message along its PIT entry, and finally, the CCNinfo user receives a Reply message from Router C, which is the first-hop router for the publisher. Another Reply message from the caching router (i.e., Reply(C)) is discarded at Router B if the other Reply message (i.e., Reply(P)) was already forwarded by Router B.<a class="pilcrow" href="#section-1.1-5">¶</a></p>
<span id="name-reply-messages-forwarded-by"></span><div id="fig_reply">
<figure id="figure-2">
          <div class="alignCenter art-text artwork" id="section-1.1-6.1">
<pre>       3. Reply(P)   2. Reply(P)   1. Reply(P)
         +----+        +----+        +----+
         |    |        |    |        |    |
         v    |        v    |        v    |
+--------+    +--------+    +--------+    +--------+    +---------+
| CCNinfo|----| Router |----| Router |----| Router |----|Publisher|
|  user  |    |   A    |    |   B    |    |   C    |    |         |
+--------+    +--------+    +--------+    +--------+    +---------+
                                     ^
                                      \          +-------+
                           1. Reply(C) \         | Cache |
                                        \ +---------+    |
                                         \| Caching |----+
                                          |  router |
                                          +---------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-reply-messages-forwarded-by">Reply Messages Forwarded by Routers, and One Reply Message is Received by the CCNinfo User</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
<section id="section-2.1">
        <h3 id="name-definitions">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-definitions">Definitions</a>
        </h3>
<p id="section-2.1-1">This document follows the basic terminologies and definitions described in <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>. Although CCNinfo requests flow in the opposite direction to the data flow, we refer to "upstream" and "downstream" with respect to data, unless explicitly specified.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-2">
          <dt id="section-2.1-2.1">Scheme name:</dt>
          <dd id="section-2.1-2.2" style="margin-left: 1.5em">
     A scheme name indicates a URI and protocol. This document only considers "ccnx:/" as the scheme name.<a class="pilcrow" href="#section-2.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.3">Prefix name:</dt>
          <dd id="section-2.1-2.4" style="margin-left: 1.5em">
     A prefix name, which is defined in <span>[<a class="cite xref" href="#RFC8569">RFC8569</a>]</span>, is a name that does not uniquely identify a single Content Object, but rather a namespace or prefix of an existing Content Object name.<a class="pilcrow" href="#section-2.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.5">Exact name:</dt>
          <dd id="section-2.1-2.6" style="margin-left: 1.5em">
     An exact name, which is defined in <span>[<a class="cite xref" href="#RFC8569">RFC8569</a>]</span>, is one that uniquely identifies the name of a Content Object.<a class="pilcrow" href="#section-2.1-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.7">Node:</dt>
          <dd id="section-2.1-2.8" style="margin-left: 1.5em">
     A node within a CCN network can fulfill the role of a data publisher, a data consumer, and/or a forwarder for Interest and Content Object, as described in <span>[<a class="cite xref" href="#RFC8793">RFC8793</a>]</span>.<a class="pilcrow" href="#section-2.1-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.9">Consumer:</dt>
          <dd id="section-2.1-2.10" style="margin-left: 1.5em">
     A node that requests Content Objects by generating and sending out Interests. It is the same definition of ICN Consumer, as given in <span>[<a class="cite xref" href="#RFC8793">RFC8793</a>]</span>.<a class="pilcrow" href="#section-2.1-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.11">Publisher:</dt>
          <dd id="section-2.1-2.12" style="margin-left: 1.5em">
     A node that creates Content Objects and makes them available for retrieval. It is the same definition of ICN Producer, as given in <span>[<a class="cite xref" href="#RFC8793">RFC8793</a>]</span>.<a class="pilcrow" href="#section-2.1-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.13">Router:</dt>
          <dd id="section-2.1-2.14" style="margin-left: 1.5em">
     A node that implements stateful forwarding in the path between consumer and publisher.<a class="pilcrow" href="#section-2.1-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.15">Caching router:</dt>
          <dd id="section-2.1-2.16" style="margin-left: 1.5em">
     A node that temporarily stores and potentially carries Interests or Content Objects before forwarding it to the next node.<a class="pilcrow" href="#section-2.1-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.17">Content forwarder:</dt>
          <dd id="section-2.1-2.18" style="margin-left: 1.5em">
     A content forwarder is either a caching router or a first-hop router that forwards Content Objects to consumers.<a class="pilcrow" href="#section-2.1-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.19">CCNinfo user:</dt>
          <dd id="section-2.1-2.20" style="margin-left: 1.5em">
     A node that initiates the CCNinfo Request, which is either a consumer or a router that invokes the CCNinfo user program with the name prefix of the content. The CCNinfo user program, such as "ccninfo" command described in <a class="auto internal xref" href="#sec.command">Appendix A</a> or other similar commands, initiates the Request message to obtain routing path and cache information.<a class="pilcrow" href="#section-2.1-2.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.21">Incoming face:</dt>
          <dd id="section-2.1-2.22" style="margin-left: 1.5em">
     The face on which data are expected to arrive from the specified name prefix.<a class="pilcrow" href="#section-2.1-2.22">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.23">Outgoing face:</dt>
          <dd id="section-2.1-2.24" style="margin-left: 1.5em">
     The face to which data from the publisher or router are expected to transmit for the specified name prefix. It is also the face on which the Request messages is received.<a class="pilcrow" href="#section-2.1-2.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.25">Upstream router:</dt>
          <dd id="section-2.1-2.26" style="margin-left: 1.5em">
     The router that connects to an Incoming face of a router.<a class="pilcrow" href="#section-2.1-2.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.27">Downstream router:</dt>
          <dd id="section-2.1-2.28" style="margin-left: 1.5em">
     The router that connects to an Outgoing face of a router.<a class="pilcrow" href="#section-2.1-2.28">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.29">First-hop router (FHR):</dt>
          <dd id="section-2.1-2.30" style="margin-left: 1.5em">
     The router that matches a FIB entry with an Outgoing face referring to a local application or a publisher.<a class="pilcrow" href="#section-2.1-2.30">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.31">Last-hop router (LHR):</dt>
          <dd id="section-2.1-2.32" style="margin-left: 1.5em">
     The router that is directly connected to a consumer.<a class="pilcrow" href="#section-2.1-2.32">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-3">
      <h2 id="name-ccninfo-message-formats">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-ccninfo-message-formats">CCNinfo Message Formats</a>
      </h2>
<p id="section-3-1">CCNinfo Request and Reply messages are encoded in the CCNx TLV format (see <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span> and <a class="auto internal xref" href="#CCNx_Hdr">Figure 3</a>). The Request message consists of a fixed header, Request block TLV (<a class="auto internal xref" href="#Req_block">Figure 5</a>), and Report block TLV(s) (<a class="auto internal xref" href="#Rpt_block">Figure 7</a>). The Reply message consists of a fixed header, Request block TLV, Report block TLV(s), Reply block TLV (<a class="auto internal xref" href="#Reply_block">Figure 9</a>), and Reply sub-block TLV(s) (<a class="auto internal xref" href="#Reply_subblock">Figure 10</a>).<a class="pilcrow" href="#section-3-1">¶</a></p>
<span id="name-packet-format"></span><div id="CCNx_Hdr">
<figure id="figure-3">
        <div class="alignCenter art-text artwork" id="section-3-2.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|    Version    |  PacketType   |         PacketLength          |
+---------------+---------------+---------------+---------------+
|           PacketType specific fields          | HeaderLength  |
+---------------+---------------+---------------+---------------+
/ Optional Hop-by-hop header TLVs                               /
+---------------+---------------+---------------+---------------+
/ PacketPayload TLVs                                            /
+---------------+---------------+---------------+---------------+
/ Optional CCNx ValidationAlgorithm TLV                         /
+---------------+---------------+---------------+---------------+
/ Optional CCNx ValidationPayload TLV (ValidationAlg required)  /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-packet-format">Packet Format <em class="cite xref">[RFC8609]</em></a>
        </figcaption></figure>
</div>
<p id="section-3-3">The PacketType values in the fixed header shown in <a class="auto internal xref" href="#CCNx_Hdr">Figure 3</a> are PT_CCNINFO_REQUEST and PT_CCNINFO_REPLY (see <a class="auto internal xref" href="#Type_val">Table 1</a>). CCNinfo Request and Reply messages are forwarded in a hop-by-hop manner. When the Request message reaches the content forwarder, the content forwarder turns it into a Reply message by changing the Type field value in the fixed header from PT_CCNINFO_REQUEST to PT_CCNINFO_REPLY and forwards it back toward the node that initiated the Request message.<a class="pilcrow" href="#section-3-3">¶</a></p>
<span id="name-ccnx-packet-types"></span><div id="Type_val">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-ccnx-packet-types">CCNx Packet Types</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Type</th>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x00</td>
            <td class="text-left" colspan="1" rowspan="1">PT_INTEREST <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x01</td>
            <td class="text-left" colspan="1" rowspan="1">PT_CONTENT <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x02</td>
            <td class="text-left" colspan="1" rowspan="1">PT_RETURN <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x03</td>
            <td class="text-left" colspan="1" rowspan="1">PT_CCNINFO_REQUEST</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x04</td>
            <td class="text-left" colspan="1" rowspan="1">PT_CCNINFO_REPLY</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-3-5">Following a fixed header, there can be a sequence of optional hop-by-hop header TLV(s) for a Request message. In the case of a Request message, it is followed by a sequence of Report blocks, each from a router on the path toward the publisher or caching router.<a class="pilcrow" href="#section-3-5">¶</a></p>
<p id="section-3-6">At the beginning of PacketPayload TLVs, a top-level TLV type, T_DISCOVERY (<a class="auto internal xref" href="#Top-level_Type">Table 2</a>), exists at the outermost level of a CCNx protocol message. This TLV indicates that the Name segment TLV(s) and Reply block TLV(s) would follow in the Request or Reply message.<a class="pilcrow" href="#section-3-6">¶</a></p>
<span id="name-ccnx-top-level-types"></span><div id="Top-level_Type">
<table class="center" id="table-2">
        <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-ccnx-top-level-types">CCNx Top-Level Types</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Type</th>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0000</td>
            <td class="text-left" colspan="1" rowspan="1">Reserved <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0001</td>
            <td class="text-left" colspan="1" rowspan="1">T_INTEREST <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0002</td>
            <td class="text-left" colspan="1" rowspan="1">T_OBJECT <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0003</td>
            <td class="text-left" colspan="1" rowspan="1">T_VALIDATION_ALG <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0004</td>
            <td class="text-left" colspan="1" rowspan="1">T_VALIDATION_PAYLOAD <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0005</td>
            <td class="text-left" colspan="1" rowspan="1">T_DISCOVERY</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="sec.request">
<section id="section-3.1">
        <h3 id="name-request-message">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-request-message">Request Message</a>
        </h3>
<p id="section-3.1-1">When a CCNinfo user initiates a discovery request (e.g., via the ccninfo command described in <a class="auto internal xref" href="#sec.command">Appendix A</a>), a CCNinfo Request message is created and forwarded to its upstream router through the Incoming face(s) determined by its FIB.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">The Request message format is shown in <a class="auto internal xref" href="#Req_message">Figure 4</a>. It consists of a fixed header, Request header block TLV (<a class="auto internal xref" href="#Req_block">Figure 5</a>), Report block TLV(s) (<a class="auto internal xref" href="#Rpt_block">Figure 7</a>), Name TLV, and Request block TLV. Request header block TLV and Report block TLV(s) are contained in the hop-by-hop header, as those might change from hop to hop.
Request block TLV is encoded in the PacketPayload TLV by content forwarder as the protocol message itself.
The PacketType value of the Request message is PT_CCNINFO_REQUEST (<a class="auto internal xref" href="#Type_val">Table 1</a>). The Type value of the CCNx Top-Level type is T_DISCOVERY (<a class="auto internal xref" href="#Top-level_Type">Table 2</a>).<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<span id="name-request-message-2"></span><div id="Req_message">
<figure id="figure-4">
          <div class="alignCenter art-text artwork" id="section-3.1-3.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|    Version    |  PacketType   |         PacketLength          |
+---------------+---------------+---------------+---------------+
|    HopLimit   |   ReturnCode  | Reserved(MBZ) | HeaderLength  |
+===============+===============+===============+===============+
/                    Request header block TLV                   /
+---------------+---------------+---------------+---------------+
/                      Report block TLV 1                       /
+---------------+---------------+---------------+---------------+
/                      Report block TLV 2                       /
+---------------+---------------+---------------+---------------+
/                               .                               /
/                               .                               /
+---------------+---------------+---------------+---------------+
/                      Report block TLV n                       /
+===============+===============+===============+===============+
|      Type (=T_DISCOVERY)      |         MessageLength         |
+---------------+---------------+---------------+---------------+
|            T_NAME             |             Length            |
+---------------+---------------+---------------+---------------+
/   Name segment TLVs (name prefix specified by CCNinfo user)   /
+---------------+---------------+---------------+---------------+
/                       Request block TLV                       /
+---------------+---------------+---------------+---------------+
/ Optional CCNx ValidationAlgorithm TLV                         /
+---------------+---------------+---------------+---------------+
/ Optional CCNx ValidationPayload TLV (ValidationAlg required)  /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-request-message-2">Request Message</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1-4">
          <dt id="section-3.1-4.1">HopLimit:</dt>
          <dd id="section-3.1-4.2" style="margin-left: 1.5em">
            <p id="section-3.1-4.2.1">8 bits<a class="pilcrow" href="#section-3.1-4.2.1">¶</a></p>
<p id="section-3.1-4.2.2">HopLimit is a counter that is decremented with each hop whenever a Request packet is forwarded. It is specified by the CCNinfo user program. The HopLimit value <span class="bcp14">MUST</span> be decremented by 1 prior to forwarding the Request packet. The packet is discarded if HopLimit is decremented to zero. HopLimit limits the distance that a Request may travel on the network. Only the specified number of hops from the CCNinfo user traces the Request. The last router stops the trace and sends the Reply message back to the CCNinfo user.<a class="pilcrow" href="#section-3.1-4.2.2">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.3">ReturnCode:</dt>
          <dd id="section-3.1-4.4" style="margin-left: 1.5em">
            <p id="section-3.1-4.4.1">8 bits<a class="pilcrow" href="#section-3.1-4.4.1">¶</a></p>
<p id="section-3.1-4.4.2">ReturnCode is used for the Reply message. This value is replaced by the content forwarder when the Request message is returned as the Reply message (see <a class="auto internal xref" href="#sec.reply">Section 3.2</a>). Until then, this field <span class="bcp14">MUST</span> be transmitted as zeros and ignored on receipt.<a class="pilcrow" href="#section-3.1-4.4.2">¶</a></p>
<span id="name-returncode-used-for-the-rep"></span><table class="center" id="table-3">
              <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-returncode-used-for-the-rep">ReturnCode Used for the Reply Message</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" colspan="1" rowspan="1">Value</th>
                  <th class="text-left" colspan="1" rowspan="1">Name</th>
                  <th class="text-left" colspan="1" rowspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x00</td>
                  <td class="text-left" colspan="1" rowspan="1">NO_ERROR</td>
                  <td class="text-left" colspan="1" rowspan="1">No error</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x01</td>
                  <td class="text-left" colspan="1" rowspan="1">WRONG_IF</td>
                  <td class="text-left" colspan="1" rowspan="1">CCNinfo Request arrived on an interface to which this router would not forward for the specified name and/or function toward the publisher.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x02</td>
                  <td class="text-left" colspan="1" rowspan="1">INVALID_REQUEST</td>
                  <td class="text-left" colspan="1" rowspan="1">Invalid CCNinfo Request is received.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x03</td>
                  <td class="text-left" colspan="1" rowspan="1">NO_ROUTE </td>
                  <td class="text-left" colspan="1" rowspan="1">This router has no route for the name prefix and no way to determine a route.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x04</td>
                  <td class="text-left" colspan="1" rowspan="1">NO_INFO</td>
                  <td class="text-left" colspan="1" rowspan="1">This router has no cache information for the specified name prefix.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x05</td>
                  <td class="text-left" colspan="1" rowspan="1">NO_SPACE</td>
                  <td class="text-left" colspan="1" rowspan="1">There was not enough room to insert another Report block in the packet.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x06</td>
                  <td class="text-left" colspan="1" rowspan="1">INFO_HIDDEN</td>
                  <td class="text-left" colspan="1" rowspan="1">Information is hidden from this discovery owing to some policy.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x0E</td>
                  <td class="text-left" colspan="1" rowspan="1">ADMIN_PROHIB</td>
                  <td class="text-left" colspan="1" rowspan="1">CCNinfo Request is administratively prohibited.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x0F</td>
                  <td class="text-left" colspan="1" rowspan="1">UNKNOWN_REQUEST</td>
                  <td class="text-left" colspan="1" rowspan="1">This router does not support or recognize the Request message.</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x80</td>
                  <td class="text-left" colspan="1" rowspan="1">FATAL_ERROR</td>
                  <td class="text-left" colspan="1" rowspan="1">In a fatal error, the router may know the upstream router but cannot forward the message to it.</td>
                </tr>
              </tbody>
            </table>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.5">Reserved (MBZ):</dt>
          <dd id="section-3.1-4.6" style="margin-left: 1.5em">
            <p id="section-3.1-4.6.1">8 bits<a class="pilcrow" href="#section-3.1-4.6.1">¶</a></p>
<p id="section-3.1-4.6.2">The reserved fields in the Value field <span class="bcp14">MUST</span> be transmitted as zeros and ignored on receipt.<a class="pilcrow" href="#section-3.1-4.6.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<div id="sec.request_blk">
<section id="section-3.1.1">
          <h4 id="name-request-header-block-and-re">
<a class="section-number selfRef" href="#section-3.1.1">3.1.1. </a><a class="section-name selfRef" href="#name-request-header-block-and-re">Request Header Block and Request Block</a>
          </h4>
<p id="section-3.1.1-1">When a CCNinfo user transmits the Request message, they <span class="bcp14">MUST</span> insert their Request header block TLV (<a class="auto internal xref" href="#Req_block">Figure 5</a>) into the hop-by-hop header and Request block TLV (<a class="auto internal xref" href="#Req_nodeblock">Figure 6</a>) into the message before sending it through the Incoming face(s).<a class="pilcrow" href="#section-3.1.1-1">¶</a></p>
<span id="name-request-header-block-tlv-ho"></span><div id="Req_block">
<figure id="figure-5">
            <div class="alignCenter art-text artwork" id="section-3.1.1-2.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|     Type (=T_DISC_REQHDR)     |             Length            |
+---------------+---------------+-------+-------+-------+-+-+-+-+
|           Request ID          |SkipHop|      Flags    |V|F|O|C|
+---------------+---------------+-------+-------+-------+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-request-header-block-tlv-ho">Request Header Block TLV (Hop-by-Hop Header)</a>
            </figcaption></figure>
</div>
<span id="name-ccnx-hop-by-hop-types"></span><div id="Hop-by-hop_Type">
<table class="center" id="table-4">
            <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-ccnx-hop-by-hop-types">CCNx Hop-by-Hop Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Type</th>
                <th class="text-left" colspan="1" rowspan="1">Name</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0000</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0001</td>
                <td class="text-left" colspan="1" rowspan="1">T_INTLIFE <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0002</td>
                <td class="text-left" colspan="1" rowspan="1">T_CACHETIME <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0003</td>
                <td class="text-left" colspan="1" rowspan="1">T_MSGHASH <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0004-0x0007</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0008</td>
                <td class="text-left" colspan="1" rowspan="1">T_DISC_REQHDR</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0009</td>
                <td class="text-left" colspan="1" rowspan="1">T_DISC_REPORT</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0FFE</td>
                <td class="text-left" colspan="1" rowspan="1">T_PAD <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0FFF</td>
                <td class="text-left" colspan="1" rowspan="1">T_ORG <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x1000-0x1FFF</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
            </tbody>
          </table>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1.1-4">
            <dt id="section-3.1.1-4.1">Type:</dt>
            <dd id="section-3.1.1-4.2" style="margin-left: 1.5em">
              <p id="section-3.1.1-4.2.1">16 bits<a class="pilcrow" href="#section-3.1.1-4.2.1">¶</a></p>
<p id="section-3.1.1-4.2.2">Format of the Value field. The type value of the Request header block TLV <span class="bcp14">MUST</span> be T_DISC_REQHDR.<a class="pilcrow" href="#section-3.1.1-4.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-4.3">Length:</dt>
            <dd id="section-3.1.1-4.4" style="margin-left: 1.5em">
              <p id="section-3.1.1-4.4.1">16 bits<a class="pilcrow" href="#section-3.1.1-4.4.1">¶</a></p>
<p id="section-3.1.1-4.4.2">Length of the Value field in octets.<a class="pilcrow" href="#section-3.1.1-4.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-4.5">Request ID:</dt>
            <dd id="section-3.1.1-4.6" style="margin-left: 1.5em">
              <p id="section-3.1.1-4.6.1">16 bits<a class="pilcrow" href="#section-3.1.1-4.6.1">¶</a></p>
<p id="section-3.1.1-4.6.2">This field is used as a unique identifier for the CCNinfo Request so that the duplicate or delayed Reply messages can be detected.<a class="pilcrow" href="#section-3.1.1-4.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-4.7">SkipHop (Skip Hop Count):</dt>
            <dd id="section-3.1.1-4.8" style="margin-left: 1.5em">
              <p id="section-3.1.1-4.8.1">4 bits<a class="pilcrow" href="#section-3.1.1-4.8.1">¶</a></p>
<p id="section-3.1.1-4.8.2">Number of skipped routers for a Request. It is specified by the CCNinfo user program. The number of routers corresponding to the value specified in this field are skipped, and the CCNinfo Request messages are forwarded to the next router without the addition of Report blocks; the next upstream router then starts the trace.
The maximum value of this parameter is 15. This value <span class="bcp14">MUST</span> be lower than that of HopLimit at the fixed header.<a class="pilcrow" href="#section-3.1.1-4.8.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-4.9">Flags:</dt>
            <dd id="section-3.1.1-4.10" style="margin-left: 1.5em">
              <p id="section-3.1.1-4.10.1">12 bits<a class="pilcrow" href="#section-3.1.1-4.10.1">¶</a></p>
<p id="section-3.1.1-4.10.2">The Flags field is used to indicate the types of the content or path discoveries. Currently, as shown in <a class="auto internal xref" href="#FlagVal">Table 5</a>, four bits ("C", "O", "F", and "V") are assigned, and the other 8 bits are reserved (MBZ) for the future use. Each flag can be mutually specified with other flags. These flags are set by the CCNinfo user program when they initiate Requests (see <a class="auto internal xref" href="#sec.command">Appendix A</a>), and the routers that receive the Requests deal with the flags and change the behaviors (see <a class="auto internal xref" href="#sec.router">Section 5</a> for details). The Flag values defined in this Flags field correspond to the Reply sub-blocks.<a class="pilcrow" href="#section-3.1.1-4.10.2">¶</a></p>
<span id="name-codes-and-types-specified-i"></span><div id="FlagVal">
<table class="center" id="table-5">
                <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-codes-and-types-specified-i">Codes and Types Specified in Flags Field</a>
                </caption>
<thead>
                  <tr>
                    <th class="text-left" colspan="1" rowspan="1">Flag</th>
                    <th class="text-left" colspan="1" rowspan="1">Value</th>
                    <th class="text-left" colspan="1" rowspan="1">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">C</td>
                    <td class="text-left" colspan="1" rowspan="1">0</td>
                    <td class="text-left" colspan="1" rowspan="1">Path discovery (i.e., no cache information retrieved) (default)</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">C</td>
                    <td class="text-left" colspan="1" rowspan="1">1</td>
                    <td class="text-left" colspan="1" rowspan="1">Path and cache information retrieval</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">O</td>
                    <td class="text-left" colspan="1" rowspan="1">0</td>
                    <td class="text-left" colspan="1" rowspan="1">Request to any content forwarder (default)</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">O</td>
                    <td class="text-left" colspan="1" rowspan="1">1</td>
                    <td class="text-left" colspan="1" rowspan="1">Publisher discovery (i.e., only FHR can reply)</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">F</td>
                    <td class="text-left" colspan="1" rowspan="1">0</td>
                    <td class="text-left" colspan="1" rowspan="1">Request based on FIB's forwarding strategy (default)</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">F</td>
                    <td class="text-left" colspan="1" rowspan="1">1</td>
                    <td class="text-left" colspan="1" rowspan="1">Full discovery request. Request to possible multiple upstream routers specified in FIB simultaneously</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">V</td>
                    <td class="text-left" colspan="1" rowspan="1">0</td>
                    <td class="text-left" colspan="1" rowspan="1">No reply validation (default)</td>
                  </tr>
                  <tr>
                    <td class="text-left" colspan="1" rowspan="1">V</td>
                    <td class="text-left" colspan="1" rowspan="1">1</td>
                    <td class="text-left" colspan="1" rowspan="1">Reply sender validates Reply message</td>
                  </tr>
                </tbody>
              </table>
</div>
</dd>
          <dd class="break"></dd>
</dl>
<span id="name-request-block-tlv-packet-pa"></span><div id="Req_nodeblock">
<figure id="figure-6">
            <div class="alignCenter art-text artwork" id="section-3.1.1-5.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|       Type (=T_DISC_REQ)      |             Length            |
+---------------+---------------+---------------+---------------+
|                     Request Arrival Time                      |
+---------------+---------------+---------------+---------------+
/                        Node Identifier                        /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-request-block-tlv-packet-pa">Request Block TLV (Packet Payload)</a>
            </figcaption></figure>
</div>
<span id="name-ccnx-message-types"></span><div id="CCNx_Type">
<table class="center" id="table-6">
            <caption>
<a class="selfRef" href="#table-6">Table 6</a>:
<a class="selfRef" href="#name-ccnx-message-types">CCNx Message Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Type</th>
                <th class="text-left" colspan="1" rowspan="1">Name</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0000</td>
                <td class="text-left" colspan="1" rowspan="1">T_NAME <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0001</td>
                <td class="text-left" colspan="1" rowspan="1">T_PAYLOAD <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0002</td>
                <td class="text-left" colspan="1" rowspan="1">T_KEYIDRESTR <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0003</td>
                <td class="text-left" colspan="1" rowspan="1">T_OBJHASHRESTR <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0005</td>
                <td class="text-left" colspan="1" rowspan="1">T_PAYLDTYPE <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0006</td>
                <td class="text-left" colspan="1" rowspan="1">T_EXPIRY <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0007-0x000C</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x000D</td>
                <td class="text-left" colspan="1" rowspan="1">T_DISC_REQ</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x000E</td>
                <td class="text-left" colspan="1" rowspan="1">T_DISC_REPLY</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0FFE</td>
                <td class="text-left" colspan="1" rowspan="1">T_PAD <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x0FFF</td>
                <td class="text-left" colspan="1" rowspan="1">T_ORG <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0x1000-0x1FFF</td>
                <td class="text-left" colspan="1" rowspan="1">Reserved <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>
</td>
              </tr>
            </tbody>
          </table>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1.1-7">
            <dt id="section-3.1.1-7.1">Type:</dt>
            <dd id="section-3.1.1-7.2" style="margin-left: 1.5em">
              <p id="section-3.1.1-7.2.1">16 bits<a class="pilcrow" href="#section-3.1.1-7.2.1">¶</a></p>
<p id="section-3.1.1-7.2.2">Format of the Value field. For the Request block TLV, the type value(s) <span class="bcp14">MUST</span> be T_DISC_REQ (see <a class="auto internal xref" href="#CCNx_Type">Table 6</a>) in the current specification.<a class="pilcrow" href="#section-3.1.1-7.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-7.3">Length:</dt>
            <dd id="section-3.1.1-7.4" style="margin-left: 1.5em">
              <p id="section-3.1.1-7.4.1">16 bits<a class="pilcrow" href="#section-3.1.1-7.4.1">¶</a></p>
<p id="section-3.1.1-7.4.2">Length of the Value field in octets.<a class="pilcrow" href="#section-3.1.1-7.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-7.5">Request Arrival Time:</dt>
            <dd id="section-3.1.1-7.6" style="margin-left: 1.5em">
              <p id="section-3.1.1-7.6.1">32 bits<a class="pilcrow" href="#section-3.1.1-7.6.1">¶</a></p>
<p id="section-3.1.1-7.6.2">The Request Arrival Time is a 32-bit NTP timestamp specifying the
      arrival time of the CCNinfo Request message at the router.  The
      32-bit form of an NTP timestamp consists of the middle 32 bits of
      the full 64-bit form, that is, the low 16 bits of the integer part
     and the high 16 bits of the fractional part.<a class="pilcrow" href="#section-3.1.1-7.6.2">¶</a></p>
<p id="section-3.1.1-7.6.3">The following formula converts from a timespec (fractional part in nanoseconds) to a 32-bit NTP timestamp:<a class="pilcrow" href="#section-3.1.1-7.6.3">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1.1-7.6.4">
<pre>request_arrival_time
= ((tv.tv_sec + 32384) &lt;&lt; 16) + ((tv.tv_nsec &lt;&lt; 7) / 1953125)
</pre><a class="pilcrow" href="#section-3.1.1-7.6.4">¶</a>
</div>
<p id="section-3.1.1-7.6.5"> The constant 32384 is the number of seconds from Jan 1, 1900 to
      Jan 1, 1970 truncated to 16 bits.  ((tv.tv_nsec &lt;&lt; 7) / 1953125) is a reduction of ((tv.tv_nsec / 1000000000) &lt;&lt; 16), where "&lt;&lt;" denotes a logical left shift.<a class="pilcrow" href="#section-3.1.1-7.6.5">¶</a></p>
<p id="section-3.1.1-7.6.6"> Note that it is <span class="bcp14">RECOMMENDED</span> for all the routers on the path to
      have synchronized clocks to measure one-way latency per hop;
      however, even if they do not have synchronized clocks, CCNinfo
      measures the RTT between the content forwarder and the consumer.<a class="pilcrow" href="#section-3.1.1-7.6.6">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-7.7">Node Identifier:</dt>
            <dd id="section-3.1.1-7.8" style="margin-left: 1.5em">
              <p id="section-3.1.1-7.8.1">variable length<a class="pilcrow" href="#section-3.1.1-7.8.1">¶</a></p>
<p id="section-3.1.1-7.8.2">This field specifies the node identifier (e.g., node name or hash-based self-certifying name <span>[<a class="cite xref" href="#DCAuth">DCAuth</a>]</span>) or all-zeros if unknown. This document assumes that the Name TLV defined in the CCNx TLV format <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span> can be used for this field and the node identifier is specified in it.<a class="pilcrow" href="#section-3.1.1-7.8.2">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec.report_blk">
<section id="section-3.1.2">
          <h4 id="name-report-block-tlv">
<a class="section-number selfRef" href="#section-3.1.2">3.1.2. </a><a class="section-name selfRef" href="#name-report-block-tlv">Report Block TLV</a>
          </h4>
<p id="section-3.1.2-1">A CCNinfo user and each upstream router along the path would insert their own Report block TLV without changing the Type field of the fixed header of the Request message until one of these routers is ready to send a Reply. In the Report block TLV (<a class="auto internal xref" href="#Rpt_block">Figure 7</a>), the Request Arrival Time and Node Identifier values <span class="bcp14">MUST</span> be inserted.<a class="pilcrow" href="#section-3.1.2-1">¶</a></p>
<span id="name-report-block-tlv-hop-by-hop"></span><div id="Rpt_block">
<figure id="figure-7">
            <div class="alignCenter art-text artwork" id="section-3.1.2-2.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|     Type (=T_DISC_REPORT)     |             Length            |
+---------------+---------------+---------------+---------------+
|                     Request Arrival Time                      |
+---------------+---------------+---------------+---------------+
/                        Node Identifier                        /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-report-block-tlv-hop-by-hop">Report Block TLV (Hop-by-Hop Header)</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1.2-3">
            <dt id="section-3.1.2-3.1">Type:</dt>
            <dd id="section-3.1.2-3.2" style="margin-left: 1.5em">
              <p id="section-3.1.2-3.2.1">16 bits<a class="pilcrow" href="#section-3.1.2-3.2.1">¶</a></p>
<p id="section-3.1.2-3.2.2">Format of the Value field. For the Report block TLV, the type value(s) <span class="bcp14">MUST</span> be T_DISC_REPORT in the current specification. For all the available types of the CCNx hop-by-hop types, please see <a class="auto internal xref" href="#Hop-by-hop_Type">Table 4</a>.<a class="pilcrow" href="#section-3.1.2-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.3">Length:</dt>
            <dd id="section-3.1.2-3.4" style="margin-left: 1.5em">
              <p id="section-3.1.2-3.4.1">16 bits<a class="pilcrow" href="#section-3.1.2-3.4.1">¶</a></p>
<p id="section-3.1.2-3.4.2">Length of the Value field in octets.<a class="pilcrow" href="#section-3.1.2-3.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.5">Request Arrival Time:</dt>
            <dd id="section-3.1.2-3.6" style="margin-left: 1.5em">
              <p id="section-3.1.2-3.6.1">32 bits<a class="pilcrow" href="#section-3.1.2-3.6.1">¶</a></p>
<p id="section-3.1.2-3.6.2">Same definition as given in <a class="auto internal xref" href="#sec.request_blk">Section 3.1.1</a>.<a class="pilcrow" href="#section-3.1.2-3.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.7">Node Identifier:</dt>
            <dd id="section-3.1.2-3.8" style="margin-left: 1.5em">
              <p id="section-3.1.2-3.8.1">variable length<a class="pilcrow" href="#section-3.1.2-3.8.1">¶</a></p>
<p id="section-3.1.2-3.8.2">Same definition as given in <a class="auto internal xref" href="#sec.request_blk">Section 3.1.1</a>.<a class="pilcrow" href="#section-3.1.2-3.8.2">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec.namespec">
<section id="section-3.1.3">
          <h4 id="name-content-name-specification">
<a class="section-number selfRef" href="#section-3.1.3">3.1.3. </a><a class="section-name selfRef" href="#name-content-name-specification">Content Name Specification</a>
          </h4>
<p id="section-3.1.3-1">Specifications of the Name TLV (whose type value is T_NAME) and the Name Segment TLVs are described in <span>[<a class="cite xref" href="#RFC8609">RFC8609</a>]</span>, which is followed by CCNinfo. CCNinfo enables the specification of the content name with either a prefix name without chunk number (such as "ccnx:/news/today") or an exact name (such as "ccnx:/news/today/Chunk=10"). When a CCNinfo user specifies a prefix name, they will obtain the summary information of the matched Content Objects in the content forwarder. In contrast, when a CCNinfo user specifies an exact name, they will obtain information only about the specified Content Object in the content forwarder. A CCNinfo Request message <span class="bcp14">MUST NOT</span> be sent only with a scheme name, ccnx:/. It will be rejected and discarded by routers.<a class="pilcrow" href="#section-3.1.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.reply">
<section id="section-3.2">
        <h3 id="name-reply-message">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-reply-message">Reply Message</a>
        </h3>
<p id="section-3.2-1">When a content forwarder receives a CCNinfo Request message from an appropriate adjacent neighbor router, it inserts its own Reply block TLV and Reply sub-block TLV(s) to the Request message and turns the Request into the Reply by changing the Type field of the fixed header of the Request message from PT_CCNINFO_REQUEST to PT_CCNINFO_REPLY. The Reply message (see <a class="auto internal xref" href="#Reply_message">Figure 8</a>) is then forwarded back toward the CCNinfo user in a hop-by-hop manner.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<span id="name-reply-message-2"></span><div id="Reply_message">
<figure id="figure-8">
          <div class="alignCenter art-text artwork" id="section-3.2-2.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|    Version    |  PacketType   |         PacketLength          |
+---------------+---------------+-------------+-+---------------+
|    HopLimit   |   ReturnCode  | Reserved(MBZ) | HeaderLength  |
+===============+===============+=============+=+===============+
/                    Request header block TLV                   /
+---------------+---------------+---------------+---------------+
/                               .                               /
/                               .                               /
/                      n Report block TLVs                      /
/                               .                               /
/                               .                               /
+===============+===============+===============+===============+
|      Type (=T_DISCOVERY)      |         MessageLength         |
+---------------+---------------+---------------+---------------+
|            T_NAME             |             Length            |
+---------------+---------------+---------------+---------------+
/   Name segment TLVs (name prefix specified by CCNinfo user)   /
+---------------+---------------+---------------+---------------+
/                       Request block TLV                       /
+---------------+---------------+---------------+---------------+
/                        Reply block TLV                        /
+---------------+---------------+---------------+---------------+
/                     Reply sub-block TLV 1                     /
+---------------+---------------+---------------+---------------+
/                               .                               /
/                               .                               /
+---------------+---------------+---------------+---------------+
/                     Reply sub-block TLV k                     /
+---------------+---------------+---------------+---------------+
/ Optional CCNx ValidationAlgorithm TLV                         /
+---------------+---------------+---------------+---------------+
/ Optional CCNx ValidationPayload TLV (ValidationAlg required)  /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-reply-message-2">Reply Message</a>
          </figcaption></figure>
</div>
<div id="sec.reply_blk">
<section id="section-3.2.1">
          <h4 id="name-reply-block-tlv">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-reply-block-tlv">Reply Block TLV</a>
          </h4>
<p id="section-3.2.1-1">The Reply block TLV is an envelope for the Reply sub-block TLV(s) (explained in the next section).<a class="pilcrow" href="#section-3.2.1-1">¶</a></p>
<span id="name-reply-block-tlv-packet-payl"></span><div id="Reply_block">
<figure id="figure-9">
            <div class="alignCenter art-text artwork" id="section-3.2.1-2.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|      Type (=T_DISC_REPLY)     |             Length            |
+---------------+---------------+---------------+---------------+
|                     Request Arrival Time                      |
+---------------+---------------+---------------+---------------+
/                        Node Identifier                        /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-reply-block-tlv-packet-payl">Reply Block TLV (Packet Payload)</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.2.1-3">
            <dt id="section-3.2.1-3.1">Type:</dt>
            <dd id="section-3.2.1-3.2" style="margin-left: 1.5em">
              <p id="section-3.2.1-3.2.1">16 bits<a class="pilcrow" href="#section-3.2.1-3.2.1">¶</a></p>
<p id="section-3.2.1-3.2.2">Format of the Value field. For the Reply block TLV, the type value <span class="bcp14">MUST</span> be T_DISC_REPLY shown in <a class="auto internal xref" href="#CCNx_Type">Table 6</a> in the current specification.<a class="pilcrow" href="#section-3.2.1-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.3">Length:</dt>
            <dd id="section-3.2.1-3.4" style="margin-left: 1.5em">
              <p id="section-3.2.1-3.4.1">16 bits<a class="pilcrow" href="#section-3.2.1-3.4.1">¶</a></p>
<p id="section-3.2.1-3.4.2">Length of the Value field in octets. This length is the total length of the Reply sub-block(s).<a class="pilcrow" href="#section-3.2.1-3.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.5">Request Arrival Time:</dt>
            <dd id="section-3.2.1-3.6" style="margin-left: 1.5em">
              <p id="section-3.2.1-3.6.1">32 bits<a class="pilcrow" href="#section-3.2.1-3.6.1">¶</a></p>
<p id="section-3.2.1-3.6.2">Same definition as given in <a class="auto internal xref" href="#sec.request_blk">Section 3.1.1</a>.<a class="pilcrow" href="#section-3.2.1-3.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.7">Node Identifier:</dt>
            <dd id="section-3.2.1-3.8" style="margin-left: 1.5em">
              <p id="section-3.2.1-3.8.1">variable length<a class="pilcrow" href="#section-3.2.1-3.8.1">¶</a></p>
<p id="section-3.2.1-3.8.2">Same definition as given in <a class="auto internal xref" href="#sec.request_blk">Section 3.1.1</a>.<a class="pilcrow" href="#section-3.2.1-3.8.2">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<div id="sec.reply_subblk">
<section id="section-3.2.1.1">
            <h5 id="name-reply-sub-block-tlv">
<a class="section-number selfRef" href="#section-3.2.1.1">3.2.1.1. </a><a class="section-name selfRef" href="#name-reply-sub-block-tlv">Reply Sub-Block TLV</a>
            </h5>
<p id="section-3.2.1.1-1">The router on the traced path will add one or multiple Reply sub-blocks followed by the Reply block TLV before sending the Reply to its neighbor router. This section describes the Reply sub-block TLV for informing various cache states and conditions as shown in <a class="auto internal xref" href="#Reply_subblock">Figure 10</a>. (Other Reply sub-block TLVs will be discussed in separate document(s).)<a class="pilcrow" href="#section-3.2.1.1-1">¶</a></p>
<p id="section-3.2.1.1-2">Note that some routers may not be capable of reporting the following values: Object Size, Object Count, # Received Interest, First Seqnum, Last Seqnum, Elapsed Cache Time, and Remain Cache Lifetime (shown in <a class="auto internal xref" href="#Reply_subblock">Figure 10</a>). Or, some routers do not report these values due to their policy. In that case, the routers <span class="bcp14">MUST</span> set these fields to a value of all ones (i.e., 0xFFFFFFFF). The value of each field <span class="bcp14">MUST</span> be also all-one when the value is equal to or bigger than the maximum size expressed by the 32-bit field. The CCNinfo user program <span class="bcp14">MUST</span> inform that these values are not valid if the fields received are set to the value of all ones.<a class="pilcrow" href="#section-3.2.1.1-2">¶</a></p>
<p id="section-3.2.1.1-3">If the cache is refreshed after reboot, the value in each field <span class="bcp14">MUST</span> be refreshed (i.e., <span class="bcp14">MUST</span> be set to 0). If the cache remains after reboot, the value <span class="bcp14">MUST NOT</span> be refreshed (i.e., <span class="bcp14">MUST</span> be reflected as it is).<a class="pilcrow" href="#section-3.2.1.1-3">¶</a></p>
<span id="name-reply-sub-block-tlv-for-t_d"></span><div id="Reply_subblock">
<figure id="figure-10">
              <div class="alignCenter art-text artwork" id="section-3.2.1.1-4.1">
<pre>                     1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+---------------+---------------+---------------+---------------+
|             Type              |             Length            |
+---------------+---------------+---------------+---------------+
|                          Object Size                          |
+---------------+---------------+---------------+---------------+
|                         Object Count                          |
+---------------+---------------+---------------+---------------+
|                      # Received Interest                      |
+---------------+---------------+---------------+---------------+
|                         First Seqnum                          |
+---------------+---------------+---------------+---------------+
|                          Last Seqnum                          |
+---------------+---------------+---------------+---------------+
|                       Elapsed Cache Time                      |
+---------------+---------------+---------------+---------------+
|                      Remain Cache Lifetime                    |
+---------------+---------------+---------------+---------------+
|            T_NAME             |             Length            |
+---------------+---------------+---------------+---------------+
/                       Name Segment TLVs                       /
+---------------+---------------+---------------+---------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-reply-sub-block-tlv-for-t_d">Reply Sub-Block TLV for T_DISC_CONTENT and T_DISC_CONTENT_PUBLISHER (Packet Payload)</a>
              </figcaption></figure>
</div>
<span id="name-ccnx-reply-types"></span><div id="Sub_Type">
<table class="center" id="table-7">
              <caption>
<a class="selfRef" href="#table-7">Table 7</a>:
<a class="selfRef" href="#name-ccnx-reply-types">CCNx Reply Types</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" colspan="1" rowspan="1">Type</th>
                  <th class="text-left" colspan="1" rowspan="1">Name</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x0000</td>
                  <td class="text-left" colspan="1" rowspan="1">T_DISC_CONTENT</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x0001</td>
                  <td class="text-left" colspan="1" rowspan="1">T_DISC_CONTENT_PUBLISHER</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x0FFF</td>
                  <td class="text-left" colspan="1" rowspan="1">T_ORG</td>
                </tr>
                <tr>
                  <td class="text-left" colspan="1" rowspan="1">0x1000-0x1FFF</td>
                  <td class="text-left" colspan="1" rowspan="1">Reserved for Experimental Use</td>
                </tr>
              </tbody>
            </table>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.2.1.1-6">
              <dt id="section-3.2.1.1-6.1">Type:</dt>
              <dd id="section-3.2.1.1-6.2" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.2.1">16 bits<a class="pilcrow" href="#section-3.2.1.1-6.2.1">¶</a></p>
<p id="section-3.2.1.1-6.2.2">Format of the Value field. For the Reply sub-block TLV, the type value <span class="bcp14">MUST</span> be either T_DISC_CONTENT or T_DISC_CONTENT_PUBLISHER defined in the CCNx Reply Types (<a class="auto internal xref" href="#Sub_Type">Table 7</a>).

 T_DISC_CONTENT is specified when a content forwarder replies with the cache information. T_DISC_CONTENT_PUBLISHER is specified when a FHR attached to a publisher replies with the original content information.<a class="pilcrow" href="#section-3.2.1.1-6.2.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.3">Length:</dt>
              <dd id="section-3.2.1.1-6.4" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.4.1">16 bits<a class="pilcrow" href="#section-3.2.1.1-6.4.1">¶</a></p>
<p id="section-3.2.1.1-6.4.2">Length of the Value field in octets.<a class="pilcrow" href="#section-3.2.1.1-6.4.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.5">Object Size:</dt>
              <dd id="section-3.2.1.1-6.6" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.6.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.6.1">¶</a></p>
<p id="section-3.2.1.1-6.6.2">The total size (KB) of the unexpired Content Objects. Values less than 1 KB are truncated. Note that the maximum size expressed by the 32-bit field is approximately 4.29 TB.<a class="pilcrow" href="#section-3.2.1.1-6.6.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.7">Object Count:</dt>
              <dd id="section-3.2.1.1-6.8" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.8.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.8.1">¶</a></p>
<p id="section-3.2.1.1-6.8.2">The number of the unexpired Content Objects. Note that the maximum count expressed by the 32-bit field is approximately 4.29 billion.<a class="pilcrow" href="#section-3.2.1.1-6.8.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.9"># Received Interest:</dt>
              <dd id="section-3.2.1.1-6.10" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.10.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.10.1">¶</a></p>
<p id="section-3.2.1.1-6.10.2">The total number of the received Interest messages to retrieve the cached Content Objects.<a class="pilcrow" href="#section-3.2.1.1-6.10.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.11">First Seqnum:</dt>
              <dd id="section-3.2.1.1-6.12" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.12.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.12.1">¶</a></p>
<p id="section-3.2.1.1-6.12.2">The first sequential number of the unexpired Content Objects.<a class="pilcrow" href="#section-3.2.1.1-6.12.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.13">Last Seqnum:</dt>
              <dd id="section-3.2.1.1-6.14" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.14.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.14.1">¶</a></p>
<p id="section-3.2.1.1-6.14.2">The last sequential number of the unexpired Content Objects. The First Seqnum and Last Seqnum do not guarantee the consecutiveness of the cached Content Objects; however, knowing these values may help in the analysis of consecutive or discontinuous chunks such as <span>[<a class="cite xref" href="#CONSEC-CACHING">CONSEC-CACHING</a>]</span>.<a class="pilcrow" href="#section-3.2.1.1-6.14.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.15">Elapsed Cache Time:</dt>
              <dd id="section-3.2.1.1-6.16" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.16.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.16.1">¶</a></p>
<p id="section-3.2.1.1-6.16.2">The elapsed time (seconds) after the oldest Content Object of the content is cached.<a class="pilcrow" href="#section-3.2.1.1-6.16.2">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.2.1.1-6.17">Remain Cache Lifetime:</dt>
              <dd id="section-3.2.1.1-6.18" style="margin-left: 1.5em">
                <p id="section-3.2.1.1-6.18.1">32 bits<a class="pilcrow" href="#section-3.2.1.1-6.18.1">¶</a></p>
<p id="section-3.2.1.1-6.18.2">The lifetime (seconds) of a Content Object, which is lastly cached.<a class="pilcrow" href="#section-3.2.1.1-6.18.2">¶</a></p>
</dd>
            <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
<div id="sec.user">
<section id="section-4">
      <h2 id="name-ccninfo-user-behavior">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-ccninfo-user-behavior">CCNinfo User Behavior</a>
      </h2>
<section id="section-4.1">
        <h3 id="name-sending-ccninfo-request">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-sending-ccninfo-request">Sending CCNinfo Request</a>
        </h3>
<p id="section-4.1-1">A CCNinfo user invokes a CCNinfo user program (e.g., ccninfo command) that initiates a CCNinfo Request message and sends it to the user's adjacent neighbor router(s) of interest. The user later obtains both the routing path information and in-network cache information in the single Reply.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">When the CCNinfo user program initiates a Request message, it <span class="bcp14">MUST</span> insert the necessary values, i.e., the "Request ID" and the "Node Identifier", in the Request block. The Request ID <span class="bcp14">MUST</span> be unique for the CCNinfo user until they receive the corresponding Reply message(s) or the Request is timed out.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">Owing to some policies, a router may want to validate the CCNinfo Requests using the CCNx ValidationPayload TLV (whether it accepts the Request or not) especially when the router receives the "full discovery request" (see <a class="auto internal xref" href="#sec.forward.full-request">Section 5.3.2</a>). Accordingly, the CCNinfo user program <span class="bcp14">MAY</span> require validating the Request message and appending the user's signature into the CCNx ValidationPayload TLV. The router then forwards the Request message. If the router does not approve the Request, it rejects the Request message as described in <a class="auto internal xref" href="#sec.admin_prohibit">Section 6.11</a>.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">After the CCNinfo user program sends the Request message, until the
   Reply is timed out or the expected numbers of Replies or a Reply
   message with a non-zero ReturnCode in the fixed header is received,
   the CCNinfo user program <span class="bcp14">MUST</span> keep the following information:
   HopLimit (specified in the fixed header), Request ID and Flags
   (specified in the Request header block), and Node Identifier and 
   Request Arrival Time (specified in the Request block).<a class="pilcrow" href="#section-4.1-4">¶</a></p>
<div id="sec.usr.path">
<section id="section-4.1.1">
          <h4 id="name-routing-path-information">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-routing-path-information">Routing Path Information</a>
          </h4>
<p id="section-4.1.1-1">A CCNinfo user can send a CCNinfo Request for investigating the routing path information for the specified named content. Using the Request, a legitimate user can obtain 1) the node identifiers of the intermediate routers, 2) the node identifier of the content forwarder, 3) the number of hops between the content forwarder and the consumer, and 4) the RTT between the content forwarder and the consumer, per name prefix. This CCNinfo Request is terminated when it reaches the content forwarder.<a class="pilcrow" href="#section-4.1.1-1">¶</a></p>
</section>
</div>
<div id="sec.usr.cache">
<section id="section-4.1.2">
          <h4 id="name-in-network-cache-informatio">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-in-network-cache-informatio">In-Network Cache Information</a>
          </h4>
<p id="section-4.1.2-1">A CCNinfo user can send a CCNinfo Request for investigating in-network cache information. Using the Request, a legitimate user can obtain 1) the size of cached Content Objects, 2) the number of cached Content Objects, 3) the number of accesses (i.e., received Interests) per content, and 4) the lifetime and expiration time of the cached Content Objects, for Content Store (CS) in the content forwarder, unless the content forwarder is capable of reporting them (see <a class="auto internal xref" href="#sec.reply_subblk">Section 3.2.1.1</a>). This CCNinfo Request is terminated when it reaches the content forwarder.<a class="pilcrow" href="#section-4.1.2-1">¶</a></p>
</section>
</div>
</section>
<div id="sec.receiving_reply">
<section id="section-4.2">
        <h3 id="name-receiving-ccninfo-reply">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-receiving-ccninfo-reply">Receiving CCNinfo Reply</a>
        </h3>
<p id="section-4.2-1">A CCNinfo user program will receive one or multiple CCNinfo Reply messages from the adjacent neighbor router(s). When the program receives the Reply, it <span class="bcp14">MUST</span> compare the kept Request ID and Node Identifier values to identify the Request and Reply pair.
 If they do not match, the Reply message <span class="bcp14">MUST</span> be silently discarded.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">If the number of Report blocks in the received Reply is more than the initial HopLimit value (which was inserted in the original Request), the Reply <span class="bcp14">MUST</span> be silently ignored.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">After the CCNinfo user has determined that they have traced the whole path or the maximum path that they can be expected to, they might collect statistics by waiting for a timeout. Useful statistics provided by CCNinfo are stated in <a class="auto internal xref" href="#sec.diag">Section 8</a>.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.router">
<section id="section-5">
      <h2 id="name-router-behavior">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-router-behavior">Router Behavior</a>
      </h2>
<section id="section-5.1">
        <h3 id="name-user-and-neighbor-verificat">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-user-and-neighbor-verificat">User and Neighbor Verification</a>
        </h3>
<p id="section-5.1-1">Upon receiving a CCNinfo Request message, a router <span class="bcp14">MAY</span> examine whether a valid CCNinfo user has sent the message. If the router recognizes that the Request sender's signature specified in the Request is invalid, it <span class="bcp14">SHOULD</span> terminate the Request, as defined in <a class="auto internal xref" href="#sec.terminate.invalid">Section 6.4</a>.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">Upon receiving a CCNinfo Request or Reply message, a router <span class="bcp14">MAY</span> examine whether the message comes from a valid adjacent neighbor node. If the router recognizes that the Request or Reply sender is invalid, it <span class="bcp14">SHOULD</span> silently ignore the message, as specified in <a class="auto internal xref" href="#sec.adjacency">Section 10.9</a>.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
</section>
<div id="sec.receive.req">
<section id="section-5.2">
        <h3 id="name-receiving-ccninfo-request">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-receiving-ccninfo-request">Receiving CCNinfo Request</a>
        </h3>
<p id="section-5.2-1">After a router accepts the CCNinfo Request message, it performs the following steps.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<ol class="normal type-1" id="section-5.2-2" start="1" type="1">
<li id="section-5.2-2.1">The value of "HopLimit" in the fixed header and the value of "SkipHop (Skip Hop Count)" in the Request block are counters that are decremented with each hop. If the HopLimit value is zero, the router terminates the Request, as defined in <a class="auto internal xref" href="#sec.terminate.no_route">Section 6.5</a>. If the SkipHop value is equal to or more than the HopLimit value, the router terminates the Request, as defined in <a class="auto internal xref" href="#sec.terminate.invalid">Section 6.4</a>; otherwise, until the SkipHop value becomes zero, the router forwards the Request message to the upstream router(s) without adding its own Report block and without replying to the Request. If the router does not know the upstream router(s) regarding the specified name prefix, it terminates the Request, as defined in <a class="auto internal xref" href="#sec.terminate.no_route">Section 6.5</a>. It should be noted that the Request messages are terminated at the FHR; therefore, although the maximum value for the HopLimit is 255 and that for SkipHop is 15, if the Request messages reach the FHR before the HopLimit or SkipHop value becomes 0, the FHR silently discards the Request message and the Request is timed out.<a class="pilcrow" href="#section-5.2-2.1">¶</a>
</li>
          <li id="section-5.2-2.2">The router examines the Flags field (specified in <a class="auto internal xref" href="#FlagVal">Table 5</a>) in the Request block of the received CCNinfo Request. If the "C" flag is not set, it is categorized as the "routing path information discovery". If the "C" flag is set, it is the "cache information discovery". If the "O" flag is set, it is the "publisher discovery".<a class="pilcrow" href="#section-5.2-2.2">¶</a>
</li>
          <li id="section-5.2-2.3">If the Request is either "cache information discovery" or "routing path information discovery", the router examines its FIB and CS. If the router caches the specified content, it sends the Reply message with its own Reply block and sub-block(s). If the router cannot insert its own Reply block or sub-block(s) because of no space, it terminates the Request, as specified in <a class="auto internal xref" href="#sec.terminate.no_space">Section 6.7</a>.
   If the router does not cache the specified content but knows the upstream neighbor router(s) for the specified name prefix, it creates the PIT entry, inserts its own Report block in the hop-by-hop header, and forwards the Request to the upstream neighbor(s). If the router cannot insert its own Report block because of no space, or if the router does not cache the specified content and does not know the upstream neighbor router(s) for the specified name prefix, it terminates the Request, as defined in <a class="auto internal xref" href="#sec.terminate.no_route">Section 6.5</a>.<a class="pilcrow" href="#section-5.2-2.3">¶</a>
</li>
          <li id="section-5.2-2.4">If the Request is the "publisher discovery", the router examines whether it is the FHR for the requested content. If the router is the FHR, it sends the Reply message with its own Report block and sub-blocks (in the case of cache information discovery) or the Reply message with its own Report block without adding any Reply sub-blocks (in the case of routing path information discovery). If the router is not the FHR but knows the upstream neighbor router(s) for the specified name prefix, it creates the PIT entry, inserts its own Report block, and forwards the Request to the upstream neighbor(s). If the router cannot insert its own Report block in the hop-by-hop header because of no space, it terminates the Request, as specified in <a class="auto internal xref" href="#sec.terminate.no_space">Section 6.7</a>. If the router is not the FHR and does not know the upstream neighbor router(s) for the specified name prefix, it terminates the Request, as defined in <a class="auto internal xref" href="#sec.terminate.no_route">Section 6.5</a>. Note that in Cefore <span>[<a class="cite xref" href="#Cefore-site">Cefore-site</a>]</span>, there is an API by which a publisher informs the application prefix to the FHR, and the FHR registers it into the FIB. The prefix entry then can be statically configured on other routers or announced by a routing protocol.<a class="pilcrow" href="#section-5.2-2.4">¶</a>
</li>
        </ol>
</section>
</div>
<div id="sec.forward.request">
<section id="section-5.3">
        <h3 id="name-forwarding-ccninfo-request">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-forwarding-ccninfo-request">Forwarding CCNinfo Request</a>
        </h3>
<div id="sec.forward.regular">
<section id="section-5.3.1">
          <h4 id="name-regular-request">
<a class="section-number selfRef" href="#section-5.3.1">5.3.1. </a><a class="section-name selfRef" href="#name-regular-request">Regular Request</a>
          </h4>
<p id="section-5.3.1-1">When a router decides to forward a Request message with its Report block to its upstream router(s), it specifies the Request Arrival Time and Node Identifier values in the Report block of the Request message. The router then forwards the Request message upstream toward the publisher or caching router based on the FIB entry like the ordinary Interest-Data exchanges in CCN.<a class="pilcrow" href="#section-5.3.1-1">¶</a></p>
<p id="section-5.3.1-2">When the router forwards the Request message, it <span class="bcp14">MUST</span> record the F flag and Request ID in the Request block of the Request message and exploiting path labels (specified in <a class="auto internal xref" href="#sec.intro">Section 1</a>) at the corresponding PIT entry.
   The router can later check the PIT entry to correctly forward the Reply message(s) back.<a class="pilcrow" href="#section-5.3.1-2">¶</a></p>
<p id="section-5.3.1-3">CCNinfo supports multipath forwarding. The Request messages can be forwarded to multiple neighbor routers.
Some routers may have a strategy for multipath forwarding; when a router sends Interest messages to multiple neighbor routers, it may delay or prioritize to send the message to the upstream routers. The CCNinfo Request, as the default, complies with such strategies; a CCNinfo user could trace the actual forwarding path based on the forwarding strategy and will receive a single Reply message such as a Content Object.<a class="pilcrow" href="#section-5.3.1-3">¶</a></p>
</section>
</div>
<div id="sec.forward.full-request">
<section id="section-5.3.2">
          <h4 id="name-full-discovery-request">
<a class="section-number selfRef" href="#section-5.3.2">5.3.2. </a><a class="section-name selfRef" href="#name-full-discovery-request">Full Discovery Request</a>
          </h4>
<p id="section-5.3.2-1">There may be a case wherein a CCNinfo user wants to discover all possible forwarding paths and content forwarders based on the routers' FIBs. The "full discovery request" enables this functionality.
 If a CCNinfo user sets the F flag in the Request block of the Request message (as seen in <a class="auto internal xref" href="#FlagVal">Table 5</a>) to request the full discovery, the upstream routers simultaneously forward the Requests to all multiple upstream routers based on the FIBs. Then, the CCNinfo user can trace all possible forwarding paths. As seen in <a class="auto internal xref" href="#fig_reply_force">Figure 11</a>, each router forwards the Reply message along its PIT entry, and finally, the CCNinfo user receives two Reply messages: one from the FHR (Router C) and the other from the Caching router.<a class="pilcrow" href="#section-5.3.2-1">¶</a></p>
<span id="name-full-discovery-request-repl"></span><div id="fig_reply_force">
<figure id="figure-11">
            <div class="alignCenter art-text artwork" id="section-5.3.2-2.1">
<pre>       3. Reply(C)   2. Reply(C)
       3. Reply(P)   2. Reply(P)   1. Reply(P)
         +----+        +----+        +----+
         |    |        |    |        |    |
         v    |        v    |        v    |
+--------+    +--------+    +--------+    +--------+    +---------+
| CCNinfo|----| Router |----| Router |----| Router |----|Publisher|
|  user  |    |   A    |    |   B    |    |   C    |    |         |
+--------+    +--------+    +--------+    +--------+    +---------+
                                     ^
                                      \          +-------+
                           1. Reply(C) \         | Cache |
                                        \ +---------+    |
                                         \| Caching |----+
                                          |  router |
                                          +---------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-11">Figure 11</a>:
<a class="selfRef" href="#name-full-discovery-request-repl">Full Discovery Request: Reply Messages Forwarded by the Publisher and Routers</a>
            </figcaption></figure>
</div>
<p id="section-5.3.2-3">To receive different Reply messages forwarded from different routers, the PIT entries initiated by CCNinfo remain until the configured CCNinfo Reply Timeout (<a class="auto internal xref" href="#sec.timer">Section 7.1</a>) is expired. In other words, unlike the ordinary Interest-Data exchanges in CCN, if routers that accept the full discovery request receive the full discovery request, the routers <span class="bcp14">SHOULD NOT</span> remove the PIT entry created by the full discovery request until the CCNinfo Reply Timeout value expires.<a class="pilcrow" href="#section-5.3.2-3">¶</a></p>
<p id="section-5.3.2-4">Note that the full discovery request is an <span class="bcp14">OPTIONAL</span> implementation of CCNinfo; it may not be implemented on routers. Even if it is implemented on a router, it may not accept the full discovery request from non-validated CCNinfo users or routers or because of its policy. If a router does not accept the full discovery request, it rejects the full discovery request as described in <a class="auto internal xref" href="#sec.admin_prohibit">Section 6.11</a>. Routers that enable the full discovery request <span class="bcp14">MAY</span> rate-limit Replies, as described in <a class="auto internal xref" href="#sec.rate_limit.reply">Section 10.8</a> as well.<a class="pilcrow" href="#section-5.3.2-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.send.reply">
<section id="section-5.4">
        <h3 id="name-sending-ccninfo-reply">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-sending-ccninfo-reply">Sending CCNinfo Reply</a>
        </h3>
<p id="section-5.4-1">If there is a caching router or FHR for the specified content within the specified hop count along the path, the caching router or FHR sends back the Reply message toward the CCNinfo user and terminates the Request.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<p id="section-5.4-2">When a router decides to send a Reply message to its downstream neighbor router or the CCNinfo user with a NO_ERROR return code, it inserts a Report block with the Request Arrival Time and Node Identifier values to the Request message. Then, the router inserts the corresponding Reply sub-block(s) (<a class="auto internal xref" href="#Reply_subblock">Figure 10</a>) to the payload. The router finally changes the Type field in the fixed header from PT_CCNINFO_REQUEST to PT_CCNINFO_REPLY and forwards the message back as the Reply toward the CCNinfo user in a hop-by-hop manner.<a class="pilcrow" href="#section-5.4-2">¶</a></p>
<p id="section-5.4-3">If a router cannot continue the Request, the router <span class="bcp14">MUST</span> put an appropriate ReturnCode in the Request message, change the Type field value in the fixed header from PT_CCNINFO_REQUEST to PT_CCNINFO_REPLY, and forward the Reply message back toward the CCNinfo user to terminate the Request (see <a class="auto internal xref" href="#sec.terminate">Section 6</a>).<a class="pilcrow" href="#section-5.4-3">¶</a></p>
</section>
</div>
<section id="section-5.5">
        <h3 id="name-forwarding-ccninfo-reply">
<a class="section-number selfRef" href="#section-5.5">5.5. </a><a class="section-name selfRef" href="#name-forwarding-ccninfo-reply">Forwarding CCNinfo Reply</a>
        </h3>
<p id="section-5.5-1">When a router receives a CCNinfo Reply whose Request ID and Node Identifier values match those in the PIT entry, which is sent from a valid adjacent neighbor router, it forwards the CCNinfo Reply back toward the CCNinfo user. If the router does not receive the corresponding Reply within the [CCNinfo Reply Timeout] period, then it removes the corresponding PIT entry and terminates the trace.<a class="pilcrow" href="#section-5.5-1">¶</a></p>
<p id="section-5.5-2">The Flags field in the Request block TLV is used to indicate whether the router keeps the PIT entry during the CCNinfo Reply Timeout even after one or more corresponding Reply messages are forwarded. When the CCNinfo user does not set the F flag (i.e., "0"), the intermediate routers immediately remove the PIT entry whenever they forward the corresponding Reply message. When the CCNinfo user sets the F flag (i.e., "1"), which means the CCNinfo user chooses the "full discovery request" (see <a class="auto internal xref" href="#sec.forward.full-request">Section 5.3.2</a>), the intermediate routers keep the PIT entry within the [CCNinfo Reply Timeout] period. After this timeout, the PIT entry is removed.<a class="pilcrow" href="#section-5.5-2">¶</a></p>
<p id="section-5.5-3">CCNinfo Replies <span class="bcp14">MUST NOT</span> be cached in routers upon the transmission of Reply messages.<a class="pilcrow" href="#section-5.5-3">¶</a></p>
</section>
<section id="section-5.6">
        <h3 id="name-pit-entry-management-for-mu">
<a class="section-number selfRef" href="#section-5.6">5.6. </a><a class="section-name selfRef" href="#name-pit-entry-management-for-mu">PIT Entry Management for Multipath Support</a>
        </h3>
<p id="section-5.6-1">Within a network with a multipath condition, there is a case (<a class="auto internal xref" href="#fig_multi-replies">Figure 12</a>) wherein a single CCNinfo Request is split into multiple Requests (e.g., at Router A), which are injected into a single router (Router D). In this case, multiple Replies with the same Request ID and Node Identifier values, including different Report blocks, are received by the router (Router D).<a class="pilcrow" href="#section-5.6-1">¶</a></p>
<span id="name-an-example-of-multipath-net"></span><div id="fig_multi-replies">
<figure id="figure-12">
          <div class="alignCenter art-text artwork" id="section-5.6-2.1">
<pre>                          +--------+
                          | Router |
                          |   B    |
                          +--------+
                         /          \
                        /            \
+--------+    +--------+              +--------+     +---------+
| CCNinfo|----| Router |              | Router | ... |Publisher|
|  user  |    |   A    |              |   D    |     |         |
+--------+    +--------+              +--------+     +---------+
                        \            /
                         \          /
                          +--------+
                          | Router |
                          |   C    |
                          +--------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-12">Figure 12</a>:
<a class="selfRef" href="#name-an-example-of-multipath-net">An Example of Multipath Network Topology</a>
          </figcaption></figure>
</div>
<p id="section-5.6-3">To recognize different CCNinfo Reply messages, the routers <span class="bcp14">MUST</span> distinguish the PIT entries by the Request ID and exploiting path labels, which could be a hash value of the concatenation information of the cumulate node identifiers in the hop-by-hop header and the specified content name. For example, when Router D in <a class="auto internal xref" href="#fig_multi-replies">Figure 12</a> receives a CCNinfo Request from Router B, its PIT includes the Request ID and value such as H((Router_A|Router_B)|content_name), where "H" indicates some hash function and "|" indicates concatenation. When Router D receives a CCNinfo Request from Router C, its PIT includes the same Request ID and value of H((Router_A|Router_C)|content_name). Two different Replies are later received on Router D, and each Reply is appropriately forwarded to Router B and Router C, respectively.
      Note that two Reply messages coming from Router B and Router C are reached at Router A, but the CCNinfo user can only receive the first Reply message either from Router B or Router C as Router A removes the corresponding PIT entry after it forwards the first Reply.<a class="pilcrow" href="#section-5.6-3">¶</a></p>
<p id="section-5.6-4">To avoid routing loops, when a router seeks the cumulate node identifiers of the Report blocks in the hop-by-hop header, it <span class="bcp14">MUST</span> examine whether its own node identifier is not previously inserted. If a router detects its own node identifier in the hop-by-hop header, the router inserts its Report block and terminates the Request as will be described in <a class="auto internal xref" href="#sec.terminate.fatal">Section 6.8</a>.<a class="pilcrow" href="#section-5.6-4">¶</a></p>
</section>
</section>
</div>
<div id="sec.terminate">
<section id="section-6">
      <h2 id="name-ccninfo-termination">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-ccninfo-termination">CCNinfo Termination</a>
      </h2>
<p id="section-6-1">When performing a hop-by-hop trace, it is necessary to determine when to stop the trace. There are several cases when an intermediate router might return a Reply before a Request reaches the caching router or the FHR.<a class="pilcrow" href="#section-6-1">¶</a></p>
<section id="section-6.1">
        <h3 id="name-arriving-at-first-hop-route">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-arriving-at-first-hop-route">Arriving at First-Hop Router</a>
        </h3>
<p id="section-6.1-1">A CCNinfo Request can be determined to have arrived at the FHR. To ensure that a router recognizes that it is the FHR for the specified content, it needs to have a FIB entry (or to attach) to the corresponding publisher or the content.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-arriving-at-router-having-c">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-arriving-at-router-having-c">Arriving at Router Having Cache</a>
        </h3>
<p id="section-6.2-1">A CCNinfo Request can be determined to have arrived at the router having the specified content cache within the specified HopLimit.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-arriving-at-last-router">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-arriving-at-last-router">Arriving at Last Router</a>
        </h3>
<p id="section-6.3-1">A CCNinfo Request can be determined to have arrived at the last router of the specified HopLimit. If the last router does not have the corresponding cache, it <span class="bcp14">MUST</span> insert its Report block and send the Reply message with a NO_INFO return code without appending any Reply block or sub-block TLVs.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
</section>
<div id="sec.terminate.invalid">
<section id="section-6.4">
        <h3 id="name-invalid-request">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-invalid-request">Invalid Request</a>
        </h3>
<p id="section-6.4-1">If the router does not validate the Request or the Reply even it is required, the router <span class="bcp14">MUST</span> note a ReturnCode of INVALID_REQUEST in the fixed header of the message, insert its Report block, and forward the message as the Reply back to the CCNinfo user. The router <span class="bcp14">MAY</span>, however, randomly ignore the received invalid messages. (See <a class="auto internal xref" href="#sec.rate_limit.request">Section 10.7</a>.)<a class="pilcrow" href="#section-6.4-1">¶</a></p>
</section>
</div>
<div id="sec.terminate.no_route">
<section id="section-6.5">
        <h3 id="name-no-route">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-no-route">No Route</a>
        </h3>
<p id="section-6.5-1">If the router cannot determine the routing paths or neighbor routers for the specified name prefix within the specified HopLimit,
 it <span class="bcp14">MUST</span> note a ReturnCode of NO_ROUTE in the fixed header of the message, insert its Report block, and forward the message as the Reply back to the CCNinfo user.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
</section>
</div>
<section id="section-6.6">
        <h3 id="name-no-information">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-no-information">No Information</a>
        </h3>
<p id="section-6.6-1">If the router does not have any information about the specified name prefix within the specified HopLimit,
 it <span class="bcp14">MUST</span> note a ReturnCode of NO_INFO in the fixed header of the message, insert its Report block, and forward the message as the Reply back to the CCNinfo user.<a class="pilcrow" href="#section-6.6-1">¶</a></p>
</section>
<div id="sec.terminate.no_space">
<section id="section-6.7">
        <h3 id="name-no-space">
<a class="section-number selfRef" href="#section-6.7">6.7. </a><a class="section-name selfRef" href="#name-no-space">No Space</a>
        </h3>
<p id="section-6.7-1">If appending the Report block, the Reply block, or Reply sub-block would make the hop-by-hop header longer than 247 bytes or the Request packet longer than the MTU of the Incoming face, the router <span class="bcp14">MUST</span> note a ReturnCode of NO_SPACE in the fixed header of the message and forward the message as the Reply back to the CCNinfo user.<a class="pilcrow" href="#section-6.7-1">¶</a></p>
</section>
</div>
<div id="sec.terminate.fatal">
<section id="section-6.8">
        <h3 id="name-fatal-error">
<a class="section-number selfRef" href="#section-6.8">6.8. </a><a class="section-name selfRef" href="#name-fatal-error">Fatal Error</a>
        </h3>
<p id="section-6.8-1">If a CCNinfo Request has encountered a fatal error,
 the router <span class="bcp14">MUST</span> note a ReturnCode of FATAL_ERROR in the fixed header of the message and forward the message as the Reply back to the CCNinfo user. This may happen, for example, when the router detects some routing loop in the Request blocks (see <a class="auto internal xref" href="#sec.intro">Section 1</a>). The fatal error can be encoded with another error: if a router detects routing loop but cannot insert its Report block, it <span class="bcp14">MUST</span> note NO_SPACE and FATAL_ERROR ReturnCodes (i.e., 0x85) in the fixed header and forward the message back to the CCNinfo user.<a class="pilcrow" href="#section-6.8-1">¶</a></p>
</section>
</div>
<section id="section-6.9">
        <h3 id="name-ccninfo-reply-timeout">
<a class="section-number selfRef" href="#section-6.9">6.9. </a><a class="section-name selfRef" href="#name-ccninfo-reply-timeout">CCNinfo Reply Timeout</a>
        </h3>
<p id="section-6.9-1">If a router receives the Request or Reply message that expires its own [CCNinfo Reply Timeout] value (<a class="auto internal xref" href="#sec.timer">Section 7.1</a>), the router will silently discard the Request or Reply message.<a class="pilcrow" href="#section-6.9-1">¶</a></p>
</section>
<div id="sec.nonsupport">
<section id="section-6.10">
        <h3 id="name-non-supported-node">
<a class="section-number selfRef" href="#section-6.10">6.10. </a><a class="section-name selfRef" href="#name-non-supported-node">Non-Supported Node</a>
        </h3>
<p id="section-6.10-1">Cases will arise in which a router or a FHR along the path does not support CCNinfo. In such cases, a CCNinfo user and routers that forward the CCNinfo Request will time out the CCNinfo request.<a class="pilcrow" href="#section-6.10-1">¶</a></p>
</section>
</div>
<div id="sec.admin_prohibit">
<section id="section-6.11">
        <h3 id="name-administratively-prohibited">
<a class="section-number selfRef" href="#section-6.11">6.11. </a><a class="section-name selfRef" href="#name-administratively-prohibited">Administratively Prohibited</a>
        </h3>
<p id="section-6.11-1">If CCNinfo is administratively prohibited, the router rejects the Request message and <span class="bcp14">MUST</span> send the CCNinfo Reply with the ReturnCode of ADMIN_PROHIB. The router <span class="bcp14">MAY</span>, however, randomly ignore the Request messages to be rejected (see <a class="auto internal xref" href="#sec.rate_limit.request">Section 10.7</a>).<a class="pilcrow" href="#section-6.11-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.config">
<section id="section-7">
      <h2 id="name-configurations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-configurations">Configurations</a>
      </h2>
<div id="sec.timer">
<section id="section-7.1">
        <h3 id="name-ccninfo-reply-timeout-2">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-ccninfo-reply-timeout-2">CCNinfo Reply Timeout</a>
        </h3>
<p id="section-7.1-1">The [CCNinfo Reply Timeout] value is used to time out a CCNinfo Reply. The value for a router can be statically configured by the router's administrators and/or operators. The default value is 3 (seconds). The [CCNinfo Reply Timeout] value <span class="bcp14">SHOULD NOT</span> be larger than 4 (seconds) and <span class="bcp14">SHOULD NOT</span> be lower than 2 (seconds).<a class="pilcrow" href="#section-7.1-1">¶</a></p>
</section>
</div>
<section id="section-7.2">
        <h3 id="name-hoplimit-in-fixed-header">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-hoplimit-in-fixed-header">HopLimit in Fixed Header</a>
        </h3>
<p id="section-7.2-1">If a CCNinfo user does not specify the HopLimit value in the fixed header for a Request message as the HopLimit, the HopLimit is set to 32. Note that 0 HopLimit is an invalid Request; hence, the router in this case follows the way defined in <a class="auto internal xref" href="#sec.terminate.invalid">Section 6.4</a>.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
</section>
<div id="sec.acl.config">
<section id="section-7.3">
        <h3 id="name-access-control">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-access-control">Access Control</a>
        </h3>
<p id="section-7.3-1">A router <span class="bcp14">MAY</span> configure the valid or invalid networks to enable an access control. The access control <span class="bcp14">MAY</span> be defined per name prefix, such as "who can retrieve which name prefix" (see <a class="auto internal xref" href="#sec.acl">Section 10.2</a>).<a class="pilcrow" href="#section-7.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.diag">
<section id="section-8">
      <h2 id="name-diagnosis-and-analysis">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-diagnosis-and-analysis">Diagnosis and Analysis</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-number-of-hops-and-rtt">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-number-of-hops-and-rtt">Number of Hops and RTT</a>
        </h3>
<p id="section-8.1-1">A CCNinfo Request message is forwarded in a hop-by-hop manner and each forwarding router appends its own Report block. We can then verify the number of hops to reach the content forwarder or publisher and the RTT between the content forwarder or publisher.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
</section>
<section id="section-8.2">
        <h3 id="name-caching-router-identificati">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-caching-router-identificati">Caching Router Identification</a>
        </h3>
<p id="section-8.2-1">While some routers may hide their node identifiers with all-zeros in the Report blocks (as seen in <a class="auto internal xref" href="#sec.policy">Section 10.1</a>), the routers in the path from the CCNinfo user to the content forwarder can be identified.<a class="pilcrow" href="#section-8.2-1">¶</a></p>
</section>
<section id="section-8.3">
        <h3 id="name-ttl-or-hop-limit">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-ttl-or-hop-limit">TTL or Hop Limit</a>
        </h3>
<p id="section-8.3-1">By taking the HopLimit from the content forwarder and
 forwarding the TTL threshold over all hops, it is possible to
 discover the TTL or hop limit required for the content forwarder to reach the CCNinfo user.<a class="pilcrow" href="#section-8.3-1">¶</a></p>
</section>
<div id="sec.delay">
<section id="section-8.4">
        <h3 id="name-time-delay">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-time-delay">Time Delay</a>
        </h3>
<p id="section-8.4-1">If the routers have synchronized clocks, it is possible to estimate the propagation and queuing delays from the differences between the timestamps at the successive hops. However, this delay includes the control processing overhead; therefore, it is not necessarily indicative of the delay that would be experienced by the data traffic.<a class="pilcrow" href="#section-8.4-1">¶</a></p>
</section>
</div>
<section id="section-8.5">
        <h3 id="name-path-stretch">
<a class="section-number selfRef" href="#section-8.5">8.5. </a><a class="section-name selfRef" href="#name-path-stretch">Path Stretch</a>
        </h3>
<p id="section-8.5-1">By obtaining the path stretch "d / P", where "d" is the hop count of the data and "P" is the hop count from the consumer to the publisher, we can measure the improvements in path stretch in various cases, such as in different caching and routing algorithms. We can then facilitate the investigation of the performance of the protocol.<a class="pilcrow" href="#section-8.5-1">¶</a></p>
</section>
<section id="section-8.6">
        <h3 id="name-cache-hit-probability">
<a class="section-number selfRef" href="#section-8.6">8.6. </a><a class="section-name selfRef" href="#name-cache-hit-probability">Cache Hit Probability</a>
        </h3>
<p id="section-8.6-1">CCNinfo can show the number of received Interests per cache or chunk on a router. Accordingly, CCNinfo measures the content popularity (i.e., the number of accesses for each content and/or cache), thereby enabling the investigation of the routing/caching strategy in networks.<a class="pilcrow" href="#section-8.6-1">¶</a></p>
</section>
</section>
</div>
<div id="sec.iana">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-9-1">This section details each kind of CCNx protocol value that has been registered. As per <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, four assignments have been made in existing registries, and a new Reply Type registry has been created in the "Content-Centric Networking (CCNx)" registry group.<a class="pilcrow" href="#section-9-1">¶</a></p>
<div id="sec.iana.pt">
<section id="section-9.1">
        <h3 id="name-packet-type-registry">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-packet-type-registry">Packet Type Registry</a>
        </h3>
<p id="section-9.1-1">As shown in <a class="auto internal xref" href="#Type_val">Table 1</a>, CCNinfo defines two packet types, PT_CCNINFO_REQUEST and PT_CCNINFO_REPLY, whose values are 0x03 and 0x04, respectively.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
</section>
</div>
<div id="sec.iana.tlt">
<section id="section-9.2">
        <h3 id="name-top-level-type-registry">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-top-level-type-registry">Top-Level Type Registry</a>
        </h3>
<p id="section-9.2-1">As shown in <a class="auto internal xref" href="#Top-level_Type">Table 2</a>, CCNinfo defines one top-level type, T_DISCOVERY, whose value is 0x0005.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
</section>
</div>
<div id="sec.iana.hbh">
<section id="section-9.3">
        <h3 id="name-hop-by-hop-type-registry">
<a class="section-number selfRef" href="#section-9.3">9.3. </a><a class="section-name selfRef" href="#name-hop-by-hop-type-registry">Hop-by-Hop Type Registry</a>
        </h3>
<p id="section-9.3-1">As shown in <a class="auto internal xref" href="#Hop-by-hop_Type">Table 4</a>, CCNinfo defines two hop-by-hop types, T_DISC_REQHDR and T_DISC_REPORT, whose values are 0x0008 and 0x0009, respectively.<a class="pilcrow" href="#section-9.3-1">¶</a></p>
</section>
</div>
<div id="sec.iana.msg">
<section id="section-9.4">
        <h3 id="name-message-type-registry">
<a class="section-number selfRef" href="#section-9.4">9.4. </a><a class="section-name selfRef" href="#name-message-type-registry">Message Type Registry</a>
        </h3>
<p id="section-9.4-1">As shown in <a class="auto internal xref" href="#CCNx_Type">Table 6</a>, CCNinfo defines two message types, T_DISC_REQ and T_DISC_REPLY, whose values are 0x000D and 0x000E, respectively.<a class="pilcrow" href="#section-9.4-1">¶</a></p>
</section>
</div>
<div id="sec.iana.reply">
<section id="section-9.5">
        <h3 id="name-reply-type-registry">
<a class="section-number selfRef" href="#section-9.5">9.5. </a><a class="section-name selfRef" href="#name-reply-type-registry">Reply Type Registry</a>
        </h3>
<p id="section-9.5-1">IANA has created the "CCNx Reply Types" registry and allocated the reply types. The registration procedure is "RFC Required" <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>.  The Type value is 2 octets. The range is 0x0000-0xFFFF. As shown in <a class="auto internal xref" href="#Sub_Type">Table 7</a>, CCNinfo defines three reply types, T_DISC_CONTENT, T_DISC_CONTENT_PUBLISHER, and T_ORG, whose values are 0x0000, 0x0001, and 0x0FFF, respectively.<a class="pilcrow" href="#section-9.5-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.sec">
<section id="section-10">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-10-1">This section addresses some of the security considerations.<a class="pilcrow" href="#section-10-1">¶</a></p>
<div id="sec.policy">
<section id="section-10.1">
        <h3 id="name-policy-based-information-pr">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-policy-based-information-pr">Policy-Based Information Provisioning for Request</a>
        </h3>
<p id="section-10.1-1">Although CCNinfo gives excellent troubleshooting cues, some network administrators or operators may not want to disclose everything about their network to the public or may wish to securely transmit private information to specific members of their networks. CCNinfo provides policy-based information provisioning, thereby allowing network administrators to specify their response policy for each router.<a class="pilcrow" href="#section-10.1-1">¶</a></p>
<p id="section-10.1-2">The access policy regarding "who is allowed to retrieve" and/or "what kind of cache information" can be defined for each router. For the former type of access policy, routers with the specified content <span class="bcp14">MAY</span> examine the signature enclosed in the Request message and decide whether they should notify the content information in the Reply. If the routers decide to not notify the content information, they <span class="bcp14">MUST</span> send the CCNinfo Reply with the ReturnCode of ADMIN_PROHIB without appending any Reply block or sub-block TLVs.
For the latter type of policy, the permission, whether (1) All (all cache information is disclosed), (2) Partial (cache information with a particular name prefix can (or cannot) be disclosed), or (3) Deny (no cache information is disclosed), is defined at the routers.<a class="pilcrow" href="#section-10.1-2">¶</a></p>
<p id="section-10.1-3">In contrast, we entail that each router does not disrupt the forwarding of CCNinfo Request and Reply messages. When a Request message is received, the router <span class="bcp14">SHOULD</span> insert the Report block if the ReturnCode is NO_ERROR. Here, according to the policy configuration, the Node Identifier field in the Report block <span class="bcp14">MAY</span> be null (i.e., all-zeros), but the Request Arrival Time field <span class="bcp14">SHOULD NOT</span> be null. Finally, the router <span class="bcp14">SHOULD</span> forward the Request message to the upstream router toward the content forwarder if the ReturnCode is kept with NO_ERROR.<a class="pilcrow" href="#section-10.1-3">¶</a></p>
</section>
</div>
<div id="sec.acl">
<section id="section-10.2">
        <h3 id="name-filtering-ccninfo-users-loc">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-filtering-ccninfo-users-loc">Filtering CCNinfo Users Located in Invalid Networks</a>
        </h3>
<p id="section-10.2-1">A router <span class="bcp14">MAY</span> support an access control mechanism to filter out Requests from invalid CCNinfo users. To accomplish this, invalid networks (or domains) could, for example, be configured via a list of allowed or disallowed networks (as observed in <a class="auto internal xref" href="#sec.acl.config">Section 7.3</a>). If a Request is received from a disallowed network (according to the node identifier in the Request block), the Request <span class="bcp14">MUST NOT</span> be processed and the Reply with the ReturnCode of INFO_HIDDEN <span class="bcp14">SHOULD</span> be used to note that. The router <span class="bcp14">MAY</span>, however, perform rate-limited logging of such events.<a class="pilcrow" href="#section-10.2-1">¶</a></p>
</section>
</div>
<section id="section-10.3">
        <h3 id="name-topology-discovery">
<a class="section-number selfRef" href="#section-10.3">10.3. </a><a class="section-name selfRef" href="#name-topology-discovery">Topology Discovery</a>
        </h3>
<p id="section-10.3-1">CCNinfo can be used to discover actively used topologies. If a network topology is not disclosed, CCNinfo Requests <span class="bcp14">SHOULD</span> be restricted at the border of the domain using the ADMIN_PROHIB return code.<a class="pilcrow" href="#section-10.3-1">¶</a></p>
</section>
<section id="section-10.4">
        <h3 id="name-characteristics-of-content">
<a class="section-number selfRef" href="#section-10.4">10.4. </a><a class="section-name selfRef" href="#name-characteristics-of-content">Characteristics of Content</a>
        </h3>
<p id="section-10.4-1">CCNinfo can be used to discover the type of content being sent by publishers. If this information is a secret, CCNinfo Requests <span class="bcp14">SHOULD</span> be restricted at the border of the domain, using the ADMIN_PROHIB return code.<a class="pilcrow" href="#section-10.4-1">¶</a></p>
</section>
<div id="sec.compute">
<section id="section-10.5">
        <h3 id="name-computational-attacks">
<a class="section-number selfRef" href="#section-10.5">10.5. </a><a class="section-name selfRef" href="#name-computational-attacks">Computational Attacks</a>
        </h3>
<p id="section-10.5-1">CCNinfo may impose heavy tasks at content forwarders because it makes content forwarders seek their internal cache states reported in the Reply messages whenever they form the Reply messages. The current CCNinfo specification allows to return null values for several fields, such as First/Last Seqnum or Elapsed Cache Time fields in the Reply sub-block. As mentioned in <a class="auto internal xref" href="#sec.reply_subblk">Section 3.2.1.1</a>, these values <span class="bcp14">MAY</span> be null. This means that the content forwarder cannot only hide these values owing to privacy and security policies but also skip the implementations of the complex functions to report these values.<a class="pilcrow" href="#section-10.5-1">¶</a></p>
</section>
</div>
<div id="sec.timeout">
<section id="section-10.6">
        <h3 id="name-longer-or-shorter-ccninfo-r">
<a class="section-number selfRef" href="#section-10.6">10.6. </a><a class="section-name selfRef" href="#name-longer-or-shorter-ccninfo-r">Longer or Shorter CCNinfo Reply Timeout</a>
        </h3>
<p id="section-10.6-1">Routers can configure CCNinfo Reply Timeout (<a class="auto internal xref" href="#sec.timer">Section 7.1</a>), which is the allowable timeout value to keep the PIT entry. If routers configure a longer timeout value, there may be an attractive attack vector against the PIT memory. Moreover, especially when the full discovery request option (<a class="auto internal xref" href="#sec.forward.request">Section 5.3</a>) is specified for the CCNinfo Request, several Reply messages may be returned and cause a response storm. (See <a class="auto internal xref" href="#sec.rate_limit.reply">Section 10.8</a> for rate-limiting to avoid the storm).
 To avoid DoS attacks, routers <span class="bcp14">MAY</span> configure the timeout value, which is shorter than the user-configured CCNinfo timeout value. However, if it is too short, the Request may be timed out and the CCNinfo user does not receive all Replies; they only retrieve the partial path information (i.e., information about a part of the tree).<a class="pilcrow" href="#section-10.6-1">¶</a></p>
<p id="section-10.6-2">There may be a way to enable incremental exploration (i.e., to explore the part of the tree that was not explored by the previous operation); however, discussing such mechanisms is out of scope of this document.<a class="pilcrow" href="#section-10.6-2">¶</a></p>
</section>
</div>
<div id="sec.rate_limit.request">
<section id="section-10.7">
        <h3 id="name-limiting-request-rates">
<a class="section-number selfRef" href="#section-10.7">10.7. </a><a class="section-name selfRef" href="#name-limiting-request-rates">Limiting Request Rates</a>
        </h3>
<p id="section-10.7-1">A router <span class="bcp14">MAY</span> rate-limit CCNinfo Requests by ignoring some of the consecutive messages. The router <span class="bcp14">MAY</span> randomly ignore the received messages to minimize the processing overhead, i.e., to keep fairness in processing requests or to prevent traffic amplification. In such a case, no error message is returned. The rate limit function is left to the router's implementation.<a class="pilcrow" href="#section-10.7-1">¶</a></p>
</section>
</div>
<div id="sec.rate_limit.reply">
<section id="section-10.8">
        <h3 id="name-limiting-reply-rates">
<a class="section-number selfRef" href="#section-10.8">10.8. </a><a class="section-name selfRef" href="#name-limiting-reply-rates">Limiting Reply Rates</a>
        </h3>
<p id="section-10.8-1">CCNinfo supporting multipath forwarding may result in one Request returning multiple Reply messages. To prevent abuse, the routers in the traced path <span class="bcp14">MAY</span> need to rate-limit the Replies. In such a case, no error message is returned. The rate limit function is left to the router's implementation.<a class="pilcrow" href="#section-10.8-1">¶</a></p>
</section>
</div>
<div id="sec.adjacency">
<section id="section-10.9">
        <h3 id="name-adjacency-verification">
<a class="section-number selfRef" href="#section-10.9">10.9. </a><a class="section-name selfRef" href="#name-adjacency-verification">Adjacency Verification</a>
        </h3>
<p id="section-10.9-1">It is assumed that the CCNinfo Request and Reply messages are forwarded by adjacent neighbor nodes or routers. The CCNx message format or semantics do not define a secure way to verify the node and/or router adjacency, while a hop-by-hop authentication such as <span>[<a class="cite xref" href="#DCAuth">DCAuth</a>]</span> provides a possible method for an adjacency verification and defines the corresponding message format for adjacency verification as well as the router behaviors. CCNinfo <span class="bcp14">MAY</span> use a similar method for node adjacency verification.<a class="pilcrow" href="#section-10.9-1">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8569">[RFC8569]</dt>
        <dd>
<span class="refAuthor">Mosko, M.</span>, <span class="refAuthor">Solis, I.</span>, and <span class="refAuthor">C. Wood</span>, <span class="refTitle">"Content-Centric Networking (CCNx) Semantics"</span>, <span class="seriesInfo">RFC 8569</span>, <span class="seriesInfo">DOI 10.17487/RFC8569</span>, <time class="refDate" datetime="2019-07">July 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8569">https://www.rfc-editor.org/info/rfc8569</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8609">[RFC8609]</dt>
      <dd>
<span class="refAuthor">Mosko, M.</span>, <span class="refAuthor">Solis, I.</span>, and <span class="refAuthor">C. Wood</span>, <span class="refTitle">"Content-Centric Networking (CCNx) Messages in TLV Format"</span>, <span class="seriesInfo">RFC 8609</span>, <span class="seriesInfo">DOI 10.17487/RFC8609</span>, <time class="refDate" datetime="2019-07">July 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8609">https://www.rfc-editor.org/info/rfc8609</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="Cefore">[Cefore]</dt>
        <dd>
<span class="refAuthor">Asaeda, H.</span>, <span class="refAuthor">Ooka, A.</span>, <span class="refAuthor">Matsuzono, K.</span>, and <span class="refAuthor">R. Li</span>, <span class="refTitle">"Cefore: Software Platform Enabling Content-Centric Networking and Beyond"</span>, <span class="refContent">IEICE Transaction on Communications, Volume E102-B, Issue 9, pp. 1792-1803</span>, <span class="seriesInfo">DOI 10.1587/transcom.2018EII0001</span>, <time class="refDate" datetime="2019-09">September 2019</time>, <span>&lt;<a href="https://doi.org/10.1587/transcom.2018EII0001">https://doi.org/10.1587/transcom.2018EII0001</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Cefore-site">[Cefore-site]</dt>
        <dd>
<span class="refTitle">"Cefore"</span>, <span>&lt;<a href="https://cefore.net/">https://cefore.net/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CONSEC-CACHING">[CONSEC-CACHING]</dt>
        <dd>
<span class="refAuthor">Li, R.</span>, <span class="refAuthor">Matsuzono, K.</span>, <span class="refAuthor">Asaeda, H.</span>, and <span class="refAuthor">X. Fu</span>, <span class="refTitle">"Consecutive Caching and Adaptive Retrieval for In-Network Big Data Sharing"</span>, <span class="refContent">Proc. IEEE ICC, Kansas City, MO, USA</span>, <span class="seriesInfo">DOI 10.1109/ICC.2018.8422233</span>, <time class="refDate" datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://doi.org/10.1109/ICC.2018.8422233">https://doi.org/10.1109/ICC.2018.8422233</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Contrace">[Contrace]</dt>
        <dd>
<span class="refAuthor">Asaeda, H.</span>, <span class="refAuthor">Matsuzono, K.</span>, and <span class="refAuthor">T. Turletti</span>, <span class="refTitle">"Contrace: A tool for measuring and tracing content-centric networks"</span>, <span class="refContent">IEEE Communications Magazine, Vol. 53, No. 3, pp. 182-188</span>, <span class="seriesInfo">DOI 10.1109/MCOM.2015.7060502</span>, <time class="refDate" datetime="2015-03">March 2015</time>, <span>&lt;<a href="https://doi.org/10.1109/MCOM.2015.7060502">https://doi.org/10.1109/MCOM.2015.7060502</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DCAuth">[DCAuth]</dt>
        <dd>
<span class="refAuthor">Li, R.</span>, <span class="refAuthor">Asaeda, H.</span>, and <span class="refAuthor">J. Wu</span>, <span class="refTitle">"DCAuth: Data-Centric Authentication for Secure In-Network Big-Data Retrieval"</span>, <span class="refContent">IEEE Transactions on Network Science and Engineering, Vol. 7, No. 1, pp. 15-27</span>, <span class="seriesInfo">DOI 10.1109/TNSE.2018.2872049</span>, <time class="refDate" datetime="2018-10">October 2018</time>, <span>&lt;<a href="https://doi.org/10.1109/TNSE.2018.2872049">https://doi.org/10.1109/TNSE.2018.2872049</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ICN-PING">[ICN-PING]</dt>
        <dd>
<span class="refAuthor">Mastorakis, S.</span>, <span class="refAuthor">Oran, D.</span>, <span class="refAuthor">Gibson, J.</span>, <span class="refAuthor">Moiseenko, I.</span>, and <span class="refAuthor">R. Droms</span>, <span class="refTitle">"ICN Ping Protocol Specification"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-icnrg-icnping-07</span>, <time class="refDate" datetime="2022-10-16">16 October 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-icnrg-icnping-07">https://datatracker.ietf.org/doc/html/draft-irtf-icnrg-icnping-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-icnrg-icntraceroute">[ICN-TRACEROUTE]</dt>
        <dd>
<span class="refAuthor">Mastorakis, S.</span>, <span class="refAuthor">Oran, D.</span>, <span class="refAuthor">Moiseenko, I.</span>, <span class="refAuthor">Gibson, J.</span>, and <span class="refAuthor">R. Droms</span>, <span class="refTitle">"ICN Traceroute Protocol Specification"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-icnrg-icntraceroute-07</span>, <time class="refDate" datetime="2022-10-16">16 October 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-icnrg-icntraceroute-07">https://datatracker.ietf.org/doc/html/draft-irtf-icnrg-icntraceroute-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8487">[RFC8487]</dt>
        <dd>
<span class="refAuthor">Asaeda, H.</span>, <span class="refAuthor">Meyer, K.</span>, and <span class="refAuthor">W. Lee, Ed.</span>, <span class="refTitle">"Mtrace Version 2: Traceroute Facility for IP Multicast"</span>, <span class="seriesInfo">RFC 8487</span>, <span class="seriesInfo">DOI 10.17487/RFC8487</span>, <time class="refDate" datetime="2018-10">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8487">https://www.rfc-editor.org/info/rfc8487</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8793">[RFC8793]</dt>
      <dd>
<span class="refAuthor">Wissingh, B.</span>, <span class="refAuthor">Wood, C.</span>, <span class="refAuthor">Afanasyev, A.</span>, <span class="refAuthor">Zhang, L.</span>, <span class="refAuthor">Oran, D.</span>, and <span class="refAuthor">C. Tschudin</span>, <span class="refTitle">"Information-Centric Networking (ICN): Content-Centric Networking (CCNx) and Named Data Networking (NDN) Terminology"</span>, <span class="seriesInfo">RFC 8793</span>, <span class="seriesInfo">DOI 10.17487/RFC8793</span>, <time class="refDate" datetime="2020-06">June 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8793">https://www.rfc-editor.org/info/rfc8793</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="sec.command">
<section id="appendix-A">
      <h2 id="name-ccninfo-command-and-options">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-ccninfo-command-and-options">ccninfo Command and Options</a>
      </h2>
<p id="appendix-A-1">
   CCNinfo is implemented in Cefore <span>[<a class="cite xref" href="#Cefore">Cefore</a>]</span> <span>[<a class="cite xref" href="#Cefore-site">Cefore-site</a>]</span>. The command invoked by the CCNinfo user (e.g., consumer) is named "ccninfo". The ccninfo command sends the Request message and receives the Reply message(s). There are several options that can be specified with ccninfo, while the content name prefix (e.g., ccnx:/news/today) is the mandatory parameter.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">The usage of the ccninfo command is as follows:<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A-3">
<pre>ccninfo [-c] [-f] [-o] [-V] [-r hop_count] [-s hop_count]
   [-v algorithm] name_prefix
</pre><a class="pilcrow" href="#appendix-A-3">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="appendix-A-4">
        <dt id="appendix-A-4.1">name_prefix:</dt>
        <dd id="appendix-A-4.2" style="margin-left: 1.5em">
      The prefix name of content (e.g., ccnx:/news/today) or exact name of
      content (e.g., ccnx:/news/today/Chunk=10) the CCNinfo user wants
      to trace.<a class="pilcrow" href="#appendix-A-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.3">c option:</dt>
        <dd id="appendix-A-4.4" style="margin-left: 1.5em">
 This option can be specified if a CCNinfo user needs the cache
      information as well as the routing path information for the
      specified content/cache and RTT between the CCNinfo user and
      content forwarder.<a class="pilcrow" href="#appendix-A-4.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.5">f option:</dt>
        <dd id="appendix-A-4.6" style="margin-left: 1.5em">
 This option enables the "full discovery request"; routers send
      CCNinfo Requests to multiple upstream faces based on their FIBs
      simultaneously.  The CCNinfo user can then trace all possible
      forwarding paths.<a class="pilcrow" href="#appendix-A-4.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.7">o option:</dt>
        <dd id="appendix-A-4.8" style="margin-left: 1.5em">
      This option enables the tracing of the path to the content publisher.
      Each router along the path to the publisher inserts each Report
      block and forwards the Request message.  It does not send Reply
      even if it caches the specified content.  FHR that attaches the
      publisher (who has the complete set of content and is not a
      caching router) sends the Reply message.<a class="pilcrow" href="#appendix-A-4.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.9">V option:</dt>
        <dd id="appendix-A-4.10" style="margin-left: 1.5em">
 This option requests the Reply sender to validate the Reply
      message with the Reply sender's signature.  The Reply message will
      then include the CCNx ValidationPayload TLV.  The validation
      algorithm is selected by the Reply sender.<a class="pilcrow" href="#appendix-A-4.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.11">r option:</dt>
        <dd id="appendix-A-4.12" style="margin-left: 1.5em">
 The number of traced routers.  This value is set in the "HopLimit"
      field located in the fixed header of the Request.  For example,
      when the CCNinfo user invokes the ccninfo command with this
      option, such as "-r 3", only three routers along the path examine
      their path and cache information.<a class="pilcrow" href="#appendix-A-4.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.13">s option:</dt>
        <dd id="appendix-A-4.14" style="margin-left: 1.5em">
 The number of skipped routers.  This value is set in the "SkipHop"
 field located in the Request block TLV.  For example, when the CCNinfo
 user invokes the ccninfo command with this option, such as "-s 3",
 three upstream routers along the path only forward the Request message
 but do not append their Report blocks in the hop-by-hop header and do
 not send Reply messages despite having the corresponding cache.<a class="pilcrow" href="#appendix-A-4.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-4.15">v option:</dt>
        <dd id="appendix-A-4.16" style="margin-left: 1.5em">
 This option enables the CCNinfo user to validate the Request
      message with their signature.  The Request message will include
      the CCNx ValidationPayload TLV.  The validation algorithm is
      specified by the CCNinfo user.<a class="pilcrow" href="#appendix-A-4.16">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">The authors would like to thank <span class="contact-name">Jérôme François</span>, <span class="contact-name">Erik Kline</span>, <span class="contact-name">Spyridon Mastorakis</span>, <span class="contact-name">Paulo Mendes</span>, <span class="contact-name">Ilya Moiseenko</span>, <span class="contact-name">David Oran</span>, and <span class="contact-name">Thierry Turletti</span> for their valuable comments and suggestions on this document.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Hitoshi Asaeda</span></div>
<div class="left" dir="auto"><span class="org">National Institute of Information and Communications Technology</span></div>
<div class="left" dir="auto">
<span class="street-address">4-2-1 Nukui-Kitamachi, Koganei</span>, <span class="region">Tokyo</span>
</div>
<div class="left" dir="auto"><span class="postal-code">184-8795</span></div>
<div class="left" dir="auto"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:asaeda@nict.go.jp">asaeda@nict.go.jp</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Atsushi Ooka</span></div>
<div class="left" dir="auto"><span class="org">National Institute of Information and Communications Technology</span></div>
<div class="left" dir="auto">
<span class="street-address">4-2-1 Nukui-Kitamachi, Koganei</span>, <span class="region">Tokyo</span>
</div>
<div class="left" dir="auto"><span class="postal-code">184-8795</span></div>
<div class="left" dir="auto"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:a-ooka@nict.go.jp">a-ooka@nict.go.jp</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Xun Shao</span></div>
<div class="left" dir="auto"><span class="org">Toyohashi University of Technology</span></div>
<div class="left" dir="auto">
<span class="street-address">1-1 Hibarigaoka Tempaku-cho, Toyohashi</span>, <span class="region">Aichi</span>
</div>
<div class="left" dir="auto"><span class="postal-code">441-8580</span></div>
<div class="left" dir="auto"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:shao.xun.ls@tut.jp">shao.xun.ls@tut.jp</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>