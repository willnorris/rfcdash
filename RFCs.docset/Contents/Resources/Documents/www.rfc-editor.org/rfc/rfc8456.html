<html><head></head><body><pre>Internet Engineering Task Force (IETF)                  V. Bhuvaneswaran
Request for Comments: 8456                                      A. Basil
Category: Informational                               Veryx Technologies
ISSN: 2070-1721                                             M. Tassinari
                                              Hewlett Packard Enterprise
                                                               V. Manral
                                                                 NanoSec
                                                                S. Banks
                                                          VSS Monitoring
                                                            October 2018


     <span class="h1">Benchmarking Methodology for Software-Defined Networking (SDN)</span>
                         <span class="h1">Controller Performance</span>

Abstract

   This document defines methodologies for benchmarking the control-
   plane performance of Software-Defined Networking (SDN) Controllers.
   The SDN Controller is a core component in the SDN architecture that
   controls the behavior of the network.  SDN Controllers have been
   implemented with many varying designs in order to achieve their
   intended network functionality.  Hence, the authors of this document
   have taken the approach of considering an SDN Controller to be a
   black box, defining the methodology in a manner that is agnostic to
   protocols and network services supported by controllers.  This
   document provides a method for measuring the performance of all
   controller implementations.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="./rfc7841#section-2">SectionÂ 2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8456">https://www.rfc-editor.org/info/rfc8456</a>.







<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-4">4</a>
      <a href="#section-1.1">1.1</a>. Conventions Used in This Document ..........................<a href="#page-4">4</a>
   <a href="#section-2">2</a>. Scope ...........................................................<a href="#page-4">4</a>
   <a href="#section-3">3</a>. Test Setup ......................................................<a href="#page-4">4</a>
      <a href="#section-3.1">3.1</a>. Test Setup - Controller Operating in Standalone Mode .......<a href="#page-5">5</a>
      <a href="#section-3.2">3.2</a>. Test Setup - Controller Operating in Cluster Mode ..........<a href="#page-6">6</a>
   <a href="#section-4">4</a>. Test Considerations .............................................<a href="#page-7">7</a>
      <a href="#section-4.1">4.1</a>. Network Topology ...........................................<a href="#page-7">7</a>
      <a href="#section-4.2">4.2</a>. Test Traffic ...............................................<a href="#page-7">7</a>
      <a href="#section-4.3">4.3</a>. Test Emulator Requirements .................................<a href="#page-7">7</a>
      <a href="#section-4.4">4.4</a>. Connection Setup ...........................................<a href="#page-8">8</a>
      <a href="#section-4.5">4.5</a>. Measurement Point Specification and Recommendation .........<a href="#page-9">9</a>
      <a href="#section-4.6">4.6</a>. Connectivity Recommendation ................................<a href="#page-9">9</a>
      <a href="#section-4.7">4.7</a>. Test Repeatability .........................................<a href="#page-9">9</a>
      <a href="#section-4.8">4.8</a>. Test Reporting .............................................<a href="#page-9">9</a>
   <a href="#section-5">5</a>. Benchmarking Tests .............................................<a href="#page-11">11</a>
      <a href="#section-5.1">5.1</a>. Performance ...............................................<a href="#page-11">11</a>
           <a href="#section-5.1.1">5.1.1</a>. Network Topology Discovery Time ....................<a href="#page-11">11</a>
           <a href="#section-5.1.2">5.1.2</a>. Asynchronous Message Processing Time ...............<a href="#page-13">13</a>
           <a href="#section-5.1.3">5.1.3</a>. Asynchronous Message Processing Rate ...............<a href="#page-14">14</a>
           <a href="#section-5.1.4">5.1.4</a>. Reactive Path Provisioning Time ....................<a href="#page-17">17</a>
           <a href="#section-5.1.5">5.1.5</a>. Proactive Path Provisioning Time ...................<a href="#page-19">19</a>
           <a href="#section-5.1.6">5.1.6</a>. Reactive Path Provisioning Rate ....................<a href="#page-21">21</a>
           <a href="#section-5.1.7">5.1.7</a>. Proactive Path Provisioning Rate ...................<a href="#page-23">23</a>
           <a href="#section-5.1.8">5.1.8</a>. Network Topology Change Detection Time .............<a href="#page-25">25</a>
      <a href="#section-5.2">5.2</a>. Scalability ...............................................<a href="#page-26">26</a>
           <a href="#section-5.2.1">5.2.1</a>. Control Sessions Capacity ..........................<a href="#page-26">26</a>
           <a href="#section-5.2.2">5.2.2</a>. Network Discovery Size .............................<a href="#page-27">27</a>
           <a href="#section-5.2.3">5.2.3</a>. Forwarding Table Capacity ..........................<a href="#page-29">29</a>





<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      <a href="#section-5.3">5.3</a>. Security ..................................................<a href="#page-31">31</a>
           <a href="#section-5.3.1">5.3.1</a>. Exception Handling .................................<a href="#page-31">31</a>
           <a href="#section-5.3.2">5.3.2</a>. Handling Denial-of-Service Attacks .................<a href="#page-32">32</a>
      <a href="#section-5.4">5.4</a>. Reliability ...............................................<a href="#page-34">34</a>
           <a href="#section-5.4.1">5.4.1</a>. Controller Failover Time ...........................<a href="#page-34">34</a>
           <a href="#section-5.4.2">5.4.2</a>. Network Re-provisioning Time .......................<a href="#page-36">36</a>
   <a href="#section-6">6</a>. IANA Considerations ............................................<a href="#page-37">37</a>
   <a href="#section-7">7</a>. Security Considerations ........................................<a href="#page-38">38</a>
   <a href="#section-8">8</a>. References .....................................................<a href="#page-38">38</a>
      <a href="#section-8.1">8.1</a>. Normative References ......................................<a href="#page-38">38</a>
      <a href="#section-8.2">8.2</a>. Informative References ....................................<a href="#page-38">38</a>
   <a href="#appendix-A">Appendix A</a>. Benchmarking Methodology Using OpenFlow Controllers ...<a href="#page-39">39</a>
     <a href="#appendix-A.1">A.1</a>. Protocol Overview ..........................................<a href="#page-39">39</a>
     <a href="#appendix-A.2">A.2</a>. Messages Overview ..........................................<a href="#page-39">39</a>
     <a href="#appendix-A.3">A.3</a>. Connection Overview ........................................<a href="#page-39">39</a>
     <a href="#appendix-A.4">A.4</a>. Performance Benchmarking Tests .............................<a href="#page-40">40</a>
       <a href="#appendix-A.4.1">A.4.1</a>. Network Topology Discovery Time ........................<a href="#page-40">40</a>
       <a href="#appendix-A.4.2">A.4.2</a>. Asynchronous Message Processing Time ...................<a href="#page-42">42</a>
       <a href="#appendix-A.4.3">A.4.3</a>. Asynchronous Message Processing Rate ...................<a href="#page-43">43</a>
       <a href="#appendix-A.4.4">A.4.4</a>. Reactive Path Provisioning Time ........................<a href="#page-44">44</a>
       <a href="#appendix-A.4.5">A.4.5</a>. Proactive Path Provisioning Time .......................<a href="#page-46">46</a>
       <a href="#appendix-A.4.6">A.4.6</a>. Reactive Path Provisioning Rate ........................<a href="#page-47">47</a>
       <a href="#appendix-A.4.7">A.4.7</a>. Proactive Path Provisioning Rate .......................<a href="#page-49">49</a>
       <a href="#appendix-A.4.8">A.4.8</a>. Network Topology Change Detection Time .................<a href="#page-50">50</a>
     <a href="#appendix-A.5">A.5</a>. Scalability ................................................<a href="#page-51">51</a>
       <a href="#appendix-A.5.1">A.5.1</a>. Control Sessions Capacity ..............................<a href="#page-51">51</a>
       <a href="#appendix-A.5.2">A.5.2</a>. Network Discovery Size .................................<a href="#page-52">52</a>
       <a href="#appendix-A.5.3">A.5.3</a>. Forwarding Table Capacity ..............................<a href="#page-54">54</a>
     <a href="#appendix-A.6">A.6</a>. Security ...................................................<a href="#page-55">55</a>
       <a href="#appendix-A.6.1">A.6.1</a>. Exception Handling .....................................<a href="#page-55">55</a>
       <a href="#appendix-A.6.2">A.6.2</a>. Handling Denial-of-Service Attacks .....................<a href="#page-57">57</a>
     <a href="#appendix-A.7">A.7</a>. Reliability ................................................<a href="#page-59">59</a>
       <a href="#appendix-A.7.1">A.7.1</a>. Controller Failover Time ...............................<a href="#page-59">59</a>
       <a href="#appendix-A.7.2">A.7.2</a>. Network Re-provisioning Time ...........................<a href="#page-61">61</a>
   Acknowledgments ...................................................<a href="#page-63">63</a>
   Authors' Addresses ................................................<a href="#page-64">64</a>















<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   This document provides generic methodologies for benchmarking
   Software-Defined Networking (SDN) Controller performance.  To achieve
   the desired functionality, an SDN Controller may support many
   northbound and southbound protocols, implement a wide range of
   applications, and work either alone or as part of a group.  This
   document considers an SDN Controller to be a black box, regardless of
   design and implementation.  The tests defined in this document can be
   used to benchmark an SDN Controller for performance, scalability,
   reliability, and security, independently of northbound and southbound
   protocols.  Terminology related to benchmarking SDN Controllers is
   described in the companion terminology document [<a href="./rfc8455" title='"Terminology for Benchmarking Software-Defined Networking (SDN) Controller Performance"'>RFC8455</a>].  These
   tests can be performed on an SDN Controller running as a virtual
   machine (VM) instance or on a bare metal server.  This document is
   intended for those who want to measure an SDN Controller's
   performance as well as compare the performance of various SDN
   Controllers.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.1.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-1.1" id="section-1.1">1.1</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a> [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>] [<a href="./rfc8174" title='"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"'>RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Scope"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Scope</span>

   This document defines a methodology for measuring the networking
   metrics of SDN Controllers.  For the purpose of this memo, the SDN
   Controller is a function that manages and controls Network Devices.
   Any SDN Controller without a control capability is out of scope for
   this memo.  The tests defined in this document enable the
   benchmarking of SDN Controllers in two ways: standalone mode
   (a standalone controller) and cluster mode (a cluster of homogeneous
   controllers).  These tests are recommended for execution in lab
   environments rather than in live network deployments.  Performance
   benchmarking of a federation of controllers (i.e., a set of SDN
   Controllers) managing different domains, is beyond the scope of this
   document.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Test%20Setup"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Test Setup</span>

   As noted above, the tests defined in this document enable the
   measurement of an SDN Controller's performance in standalone mode and
   cluster mode.  This section defines common reference topologies that
   are referred to in individual tests described later in this document.



<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20Test%20Setup%20-%20Controller%20Operating%20in%20Standalone%20Mode"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  Test Setup - Controller Operating in Standalone Mode</span>

      +-----------------------------------------------------------+
      |               Application-Plane Test Emulator             |
      |                                                           |
      |        +-----------------+      +-------------+           |
      |        |   Application   |      |   Service   |           |
      |        +-----------------+      +-------------+           |
      |                                                           |
      +-----------------------------+(I2)-------------------------+
                                    |
                                    | (Northbound Interface)
                   +-------------------------------+
                   |       +----------------+      |
                   |       | SDN Controller |      |
                   |       +----------------+      |
                   |                               |
                   |    Device Under Test (DUT)    |
                   +-------------------------------+
                                    | (Southbound Interface)
                                    |
      +-----------------------------+(I1)-------------------------+
      |                                                           |
      |             +-----------+     +-------------+             |
      |             |  Network  |     |   Network   |             |
      |             | Device 2  |--..-| Device n - 1|             |
      |             +-----------+     +-------------+             |
      |                     /    \   /    \                       |
      |                    /      \ /      \                      |
      |                l0 /        X        \ ln                  |
      |                  /        / \        \                    |
      |               +-----------+  +-----------+                |
      |               |  Network  |  |  Network  |                |
      |               |  Device 1 |..|  Device n |                |
      |               +-----------+  +-----------+                |
      |                     |              |                      |
      |           +---------------+  +---------------+            |
      |           | Test Traffic  |  | Test Traffic  |            |
      |           |  Generator    |  |  Generator    |            |
      |           |    (TP1)      |  |    (TP2)      |            |
      |           +---------------+  +---------------+            |
      |                                                           |
      |              Forwarding-Plane Test Emulator               |
      +-----------------------------------------------------------+

                                 Figure 1





<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.2.%20%20Test%20Setup%20-%20Controller%20Operating%20in%20Cluster%20Mode"></a><a class="selflink" href="#section-3.2" id="section-3.2">3.2</a>.  Test Setup - Controller Operating in Cluster Mode</span>

      +-----------------------------------------------------------+
      |               Application-Plane Test Emulator             |
      |                                                           |
      |        +-----------------+      +-------------+           |
      |        |   Application   |      |   Service   |           |
      |        +-----------------+      +-------------+           |
      |                                                           |
      +-----------------------------+(I2)-------------------------+
                                    |
                                    | (Northbound Interface)
       +---------------------------------------------------------+
       |                                                         |
       | +------------------+           +------------------+     |
       | | SDN Controller 1 | &lt;--E/W--&gt; | SDN Controller n |     |
       | +------------------+           +------------------+     |
       |                                                         |
       |                    Device Under Test (DUT)              |
       +---------------------------------------------------------+
                                    | (Southbound Interface)
                                    |
      +-----------------------------+(I1)-------------------------+
      |                                                           |
      |             +-----------+     +-------------+             |
      |             |  Network  |     |   Network   |             |
      |             | Device 2  |--..-| Device n - 1|             |
      |             +-----------+     +-------------+             |
      |                     /    \   /    \                       |
      |                    /      \ /      \                      |
      |                l0 /        X        \ ln                  |
      |                  /        / \        \                    |
      |               +-----------+  +-----------+                |
      |               |  Network  |  |  Network  |                |
      |               |  Device 1 |..|  Device n |                |
      |               +-----------+  +-----------+                |
      |                     |              |                      |
      |           +---------------+  +---------------+            |
      |           | Test Traffic  |  | Test Traffic  |            |
      |           |  Generator    |  |  Generator    |            |
      |           |    (TP1)      |  |    (TP2)      |            |
      |           +---------------+  +---------------+            |
      |                                                           |
      |              Forwarding-Plane Test Emulator               |
      +-----------------------------------------------------------+

                                 Figure 2




<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Test%20Considerations"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Test Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.1.%20%20Network%20Topology"></a><a class="selflink" href="#section-4.1" id="section-4.1">4.1</a>.  Network Topology</span>

   The test cases SHOULD use Leaf-Spine topology with at least two
   Network Devices in the topology for benchmarking.  Test traffic
   generators TP1 and TP2 SHOULD be connected to the leaf Network
   Device 1 and the leaf Network Device n.  To achieve a complete
   performance characterization of the SDN Controller, it is recommended
   that the controller be benchmarked for many network topologies and a
   varying number of Network Devices.  Further, care should be taken to
   make sure that a loop-prevention mechanism is enabled in either the
   SDN Controller or the network when the topology contains redundant
   network paths.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.2.%20%20Test%20Traffic"></a><a class="selflink" href="#section-4.2" id="section-4.2">4.2</a>.  Test Traffic</span>

   Test traffic is used to notify the controller about the asynchronous
   arrival of new flows.  The test cases SHOULD use frame sizes of 128,
   512, and 1508 bytes for benchmarking.  Tests using jumbo frames are
   optional.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.%20%20Test%20Emulator%20Requirements"></a><a class="selflink" href="#section-4.3" id="section-4.3">4.3</a>.  Test Emulator Requirements</span>

   The test emulator SHOULD timestamp the transmitted and received
   control messages to/from the controller on the established network
   connections.  The test cases use these values to compute the
   controller processing time.























<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.4.%20%20Connection%20Setup"></a><a class="selflink" href="#section-4.4" id="section-4.4">4.4</a>.  Connection Setup</span>

   There may be controller implementations that support unencrypted and
   encrypted network connections with Network Devices.  Further, the
   controller may be backward compatible with Network Devices running
   older versions of southbound protocols.  It may be useful to measure
   the controller's performance with one or more applicable connection
   setup methods defined below.  For cases with encrypted communications
   between the controller and the switch, key management and key
   exchange MUST take place before any performance or benchmark
   measurements.

      1. Unencrypted connection with Network Devices, running the same
         protocol version.

      2. Unencrypted connection with Network Devices, running different
         protocol versions.

         Examples:

            a. Controller running current protocol version and switch
               running older protocol version.

            b. Controller running older protocol version and switch
               running current protocol version.

      3. Encrypted connection with Network Devices, running the same
         protocol version.

      4. Encrypted connection with Network Devices, running different
         protocol versions.

         Examples:

            a. Controller running current protocol version and switch
               running older protocol version.

            b. Controller running older protocol version and switch
               running current protocol version.












<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.5.%20%20Measurement%20Point%20Specification%20and%20Recommendation"></a><a class="selflink" href="#section-4.5" id="section-4.5">4.5</a>.  Measurement Point Specification and Recommendation</span>

   The accuracy of the measurements depends on several factors,
   including the point of observation where the indications are
   captured.  For example, the notification can be observed at the
   controller or test emulator.  The test operator SHOULD make the
   observations/measurements at the interfaces of the test emulator,
   unless explicitly specified otherwise in the individual test.  In any
   case, the locations of measurement points MUST be reported.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.6.%20%20Connectivity%20Recommendation"></a><a class="selflink" href="#section-4.6" id="section-4.6">4.6</a>.  Connectivity Recommendation</span>

   The SDN Controller in the test setup SHOULD be connected directly
   with the forwarding-plane and management-plane test emulators to
   avoid any delays or failure introduced by the intermediate devices
   during benchmarking tests.  When the controller is implemented as a
   virtual machine, details of the physical and logical connectivity
   MUST be reported.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.7.%20%20Test%20Repeatability"></a><a class="selflink" href="#section-4.7" id="section-4.7">4.7</a>.  Test Repeatability</span>

   To increase confidence in the measured results, it is recommended
   that each test SHOULD be repeated a minimum of 10 times.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.8.%20%20Test%20Reporting"></a><a class="selflink" href="#section-4.8" id="section-4.8">4.8</a>.  Test Reporting</span>

   Each test has a reporting format that contains some global and
   identical reporting components, and some individual components that
   are specific to individual tests.  The following parameters for test
   configuration and controller settings MUST be reflected in the test
   report.

   Test Configuration Parameters:

      1.  Controller name and version

      2.  Northbound protocols and versions

      3.  Southbound protocols and versions

      4.  Controller redundancy mode (standalone or cluster mode)

      5.  Connection setup (unencrypted or encrypted)

      6.  Network Device type (physical, virtual, or emulated)

      7.  Number of nodes




<span class="grey">Bhuvaneswaran, et al.         Informational                     [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      8.  Number of links

      9.  Data-plane test traffic type

      10. Controller system configuration (e.g., physical or virtual
          machine, CPU, memory, caches, operating system, interface
          speed, storage)

      11. Reference test setup (e.g., the setup shown in <a href="#section-3.1">Section 3.1</a>)

   Parameters for Controller Settings:

      1. Topology rediscovery timeout

      2. Controller redundancy mode (e.g., active-standby)

      3. Controller state persistence enabled/disabled

   To ensure the repeatability of the test, the following capabilities
   of the test emulator SHOULD be reported:

      1. Maximum number of Network Devices that the forwarding plane
         emulates

      2. Control message processing time (e.g., topology discovery
         messages)

   One way to determine the above two values is to simulate the required
   control sessions and messages from the control plane.






















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Benchmarking%20Tests"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Benchmarking Tests</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.%20%20Performance"></a><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  Performance</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.1.%20%20Network%20Topology%20Discovery%20Time"></a><a class="selflink" href="#section-5.1.1" id="section-5.1.1">5.1.1</a>.  Network Topology Discovery Time</span>

   Objective:

      Measure the time taken by the controller(s) to determine the
      complete network topology, defined as the interval starting with
      the first discovery message from the controller(s) at its
      southbound interface and ending with all features of the static
      topology determined.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller MUST support network discovery.

      2. The tester should be able to retrieve the discovered topology
         information through either the controller's management
         interface or northbound interface to determine if the discovery
         was successful and complete.

      3. Ensure that the controller's topology rediscovery timeout has
         been set to the maximum value, to avoid initiation of the
         rediscovery process in the middle of the test.

   Procedure:

      1. Ensure that the controller is operational and that its network
         applications, northbound interface, and southbound interface
         are up and running.

      2. Establish the network connections between the controller and
         the Network Devices.

      3. Record the time for the first discovery message (Tm1) received
         from the controller at the forwarding-plane test emulator
         interface (I1).







<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      4. Query the controller every t seconds (the RECOMMENDED value for
         t is 3) to obtain the discovered network topology information
         through the northbound interface or the management interface,
         and compare it with the deployed network topology information.

      5. Stop the trial when the discovered topology information matches
         the deployed network topology or when the discovered topology
         information returns the same details for three consecutive
         queries.

      6. Record the time for the last discovery message (Tmn) sent to
         the controller from the forwarding-plane test emulator
         interface (I1) when the trial completes successfully (e.g.,
         when the topology matches).

   Measurements:

      Topology Discovery Time (DT1) = Tmn - Tm1

                                              DT1 + DT2 + DT3 .. DTn
      Average Topology Discovery Time (TDm) = -----------------------
                                                   Total Trials

                                               SUM[SQUAREOF(DTi - TDm)]
      Topology Discovery Time Variance (TDv) = ------------------------
                                                   Total Trials - 1

   Reporting Format:

      The Topology Discovery Time results MUST be reported in tabular
      format, with a row for each successful iteration.  The last row of
      the table indicates the Topology Discovery Time variance, and the
      previous row indicates the Average Topology Discovery Time.

      If this test is repeated with a varying number of nodes over the
      same topology, the results SHOULD be reported in the form of a
      graph.  The X coordinate SHOULD be the number of nodes (N), and
      the Y coordinate SHOULD be the Average Topology Discovery Time.













<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.2.%20%20Asynchronous%20Message%20Processing%20Time"></a><a class="selflink" href="#section-5.1.2" id="section-5.1.2">5.1.2</a>.  Asynchronous Message Processing Time</span>

   Objective:

      Measure the time taken by the controller(s) to process an
      asynchronous message, defined as the interval starting with an
      asynchronous message from a Network Device after the discovery of
      all the devices by the controller(s) and ending with a response
      message from the controller(s) at its southbound interface.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisite:

      The controller MUST have successfully completed the network
      topology discovery for the connected Network Devices.

   Procedure:

      1. Generate asynchronous messages from every connected Network
         Device to the SDN Controller, one at a time in series from the
         forwarding-plane test emulator for the Trial Duration.

      2. Record every request transmit time (T1) and the corresponding
         response received time (R1) at the forwarding-plane test
         emulator interface (I1) for every successful message exchange.

   Measurements:

     Asynchronous Message Processing Time (APT1) =
                                                   SUM{Ri} - SUM{Ti}
                                                 -----------------------
                                                            Nrx

        Where Nrx is the total number of successful messages exchanged.

     Average Asynchronous Message Processing Time =
                                              APT1 + APT2 + APT3 .. APTn
                                              --------------------------
                                                     Total Trials








<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 13]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-14"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


     Asynchronous Message Processing Time Variance (TAMv) =
                                              SUM[SQUAREOF(APTi - TAMm)]
                                              --------------------------
                                                    Total Trials - 1

        Where TAMm is the Average Asynchronous Message Processing Time.

   Reporting Format:

      The Asynchronous Message Processing Time results MUST be reported
      in tabular format, with a row for each iteration.  The last row of
      the table indicates the Asynchronous Message Processing Time
      variance, and the previous row indicates the Average Asynchronous
      Message Processing Time.

      The report SHOULD capture the following information, in addition
      to the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>:

         -  Successful messages exchanged (Nrx)

         -  Percentage of unsuccessful messages exchanged, computed
            using the formula ((1 - Nrx/Ntx) * 100), where Ntx is the
            total number of messages transmitted to the controller

      If this test is repeated with a varying number of nodes with the
      same topology, the results SHOULD be reported in the form of a
      graph.  The X coordinate SHOULD be the number of nodes (N), and
      the Y coordinate SHOULD be the Average Asynchronous Message
      Processing Time.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.3.%20%20Asynchronous%20Message%20Processing%20Rate"></a><a class="selflink" href="#section-5.1.3" id="section-5.1.3">5.1.3</a>.  Asynchronous Message Processing Rate</span>

   Objective:

      Measure the number of responses to asynchronous messages (a new
      flow arrival notification message, link down, etc.) for which the
      controller(s) performed processing and replied with a valid and
      productive (non-trivial) response message.

      Using a single procedure, this test will measure the following two
      benchmarks on the Asynchronous Message Processing Rate (see
      <a href="./rfc8455#section-2.3.1.3">SectionÂ 2.3.1.3 of [RFC8455]</a>):

         1. Maximum Asynchronous Message Processing Rate

         2. Loss-Free Asynchronous Message Processing Rate





<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 14]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-15"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      Here, two benchmarks are determined through a series of trials
      where the number of messages sent to the controller(s) and the
      responses received from the controller(s) are counted over the
      Trial Duration.  The message response rate and the Message Loss
      Ratio are calculated for each trial.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller(s) MUST have successfully completed the network
         topology discovery for the connected Network Devices.

      2. Choose and record the Trial Duration (Td), the sending rate
         STEP size, the tolerance on equality for two consecutive trials
         (P%), and the maximum possible message-sending rate (Ntx1/Td).

   Procedure:

      1. Generate asynchronous messages continuously at the maximum
         possible rate on the established connections from all the
         emulated/simulated Network Devices for the given Trial
         Duration (Td).

      2. Record the total number of responses received (Nrx1) from the
         controller as well as the number of messages sent (Ntx1) to the
         controller within the Trial Duration (Td).

      3. Calculate the Asynchronous Message Processing Rate (APR1) and
         the Message Loss Ratio (Lr1).  Ensure that the controller(s)
         has returned to normal operation.

      4. Repeat the trial by reducing the asynchronous message-sending
         rate used in the last trial by the STEP size.

      5. Continue repeating the trials and reducing the sending rate
         until both the maximum value of Nrxn (number of responses
         received from the controller) and the Nrxn corresponding to a
         Loss Ratio of zero have been found.









<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 15]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-16"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      6. The trials corresponding to the benchmark levels MUST be
         repeated using the same asynchronous message rates until the
         responses received from the controller are equal (+/-P%) for
         two consecutive trials.

      7. Record the number of responses received (Nrxn) from the
         controller as well as the number of messages sent (Ntxn) to the
         controller in the last trial.

   Measurements:

                                                    Nrxn
      Asynchronous Message Processing Rate (APRn) = -----
                                                     Td

      Maximum Asynchronous Message Processing Rate = MAX(APRn) for all n

                                                  Nrxn
      Asynchronous Message Loss Ratio (Lrn) = 1 - -----
                                                  Ntxn

      Loss-Free Asynchronous Message Processing Rate = MAX(APRn)
         given Lrn = 0

   Reporting Format:

      The Asynchronous Message Processing Rate results MUST be reported
      in tabular format, with a row for each trial.

      The table should report the following information, in addition to
      the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>, with
      columns:

         -  Offered rate (Ntxn/Td)

         -  Asynchronous Message Processing Rate (APRn)

         -  Loss Ratio (Lr)

         -  Benchmark at this iteration (blank for none, Maximum
            Asynchronous Message Processing Rate, Loss-Free Asynchronous
            Message Processing Rate)

      The results MAY be presented in the form of a graph.  The X axis
      SHOULD be the offered rate, and dual Y axes would represent the
      Asynchronous Message Processing Rate and the Loss Ratio,
      respectively.




<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 16]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-17"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      If this test is repeated with a varying number of nodes over the
      same topology, the results SHOULD be reported in the form of a
      graph.  The X axis SHOULD be the number of nodes (N), and the
      Y axis SHOULD be the Asynchronous Message Processing Rate.  Both
      the Maximum Asynchronous Message Processing Rate and the Loss-Free
      Asynchronous Message Processing Rate should be plotted for each N.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.4.%20%20Reactive%20Path%20Provisioning%20Time"></a><a class="selflink" href="#section-5.1.4" id="section-5.1.4">5.1.4</a>.  Reactive Path Provisioning Time</span>

   Objective:

      Measure the time taken by the controller to set up a path
      reactively between source and destination nodes, defined as the
      interval starting with the first flow provisioning request message
      received by the controller(s) at its southbound interface and
      ending with the last flow provisioning response message sent from
      the controller(s) at its southbound interface.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.  The number of
      Network Devices in the path is a parameter of the test that may be
      varied from two to the maximum discovery size in repetitions of
      this test.

   Prerequisites:

      1. The controller MUST contain the network topology information
         for the deployed network topology.

      2. The controller should know the location of the destination
         endpoint for which the path has to be provisioned.  This can be
         achieved through dynamic learning or static provisioning.

      3. Ensure that the default action for "flow miss" in the Network
         Device is configured to "send to controller".

      4. Ensure that each Network Device in a path requires the
         controller to make the forwarding decision while paving the
         entire path.










<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 17]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-18"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Procedure:

      1. Send a single traffic stream from test traffic generator TP1 to
         test traffic generator TP2.

      2. Record the time of the first flow provisioning request message
         sent to the controller (Tsf1) from the Network Device at the
         forwarding-plane test emulator interface (I1).

      3. Wait for the arrival of the first traffic frame at the endpoint
         (i.e., test traffic generator TP2) or the expiry of the Trial
         Duration (Td).

      4. Record the time of the last flow provisioning response message
         received from the controller (Tdf1) to the Network Device at
         the forwarding-plane test emulator interface (I1).

   Measurements:

      Reactive Path Provisioning Time (RPT1) = Tdf1 - Tsf1

      Average Reactive Path Provisioning Time =
                                              RPT1 + RPT2 + RPT3 .. RPTn
                                              --------------------------
                                                      Total Trials

      Reactive Path Provisioning Time Variance (TRPv) =
                                              SUM[SQUAREOF(RPTi - TRPm)]
                                              --------------------------
                                                     Total Trials - 1

         Where TRPm is the Average Reactive Path Provisioning Time.

   Reporting Format:

      The Reactive Path Provisioning Time results MUST be reported in
      tabular format, with a row for each iteration.  The last row of
      the table indicates the Reactive Path Provisioning Time variance,
      and the previous row indicates the Average Reactive Path
      Provisioning Time.

      The report should capture the following information, in addition
      to the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>:

         -  Number of Network Devices in the path






<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 18]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-19"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.5.%20%20Proactive%20Path%20Provisioning%20Time"></a><a class="selflink" href="#section-5.1.5" id="section-5.1.5">5.1.5</a>.  Proactive Path Provisioning Time</span>

   Objective:

      Measure the time taken by the controller to set up a path
      proactively between source and destination nodes, defined as the
      interval starting with the first proactive flow provisioned in the
      controller(s) at its northbound interface and ending with the last
      flow provisioning response message sent from the controller(s) at
      its southbound interface.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller MUST contain the network topology information
         for the deployed network topology.

      2. The controller should know the location of the destination
         endpoint for which the path has to be provisioned.  This can be
         achieved through dynamic learning or static provisioning.

      3. Ensure that the default action for "flow miss" in the Network
         Device is "drop".

   Procedure:

      1. Send a single traffic stream from test traffic generator TP1 to
         test traffic generator TP2.

      2. Install the flow entries so that the traffic travels from test
         traffic generator TP1 until it reaches test traffic
         generator TP2 through the controller's northbound interface or
         management interface.

      3. Wait for the arrival of the first traffic frame at test traffic
         generator TP2 or the expiry of the Trial Duration (Td).

      4. Record the time when the proactive flow is provisioned in the
         controller (Tsf1) at the management-plane test emulator
         interface (I2).

      5. Record the time of the last flow provisioning message received
         from the controller (Tdf1) at the forwarding-plane test
         emulator interface (I1).



<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 19]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-20"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Measurements:

      Proactive Flow Provisioning Time (PPT1) = Tdf1 - Tsf1

      Average Proactive Path Provisioning Time =
                                              PPT1 + PPT2 + PPT3 .. PPTn
                                              --------------------------
                                                      Total Trials

      Proactive Path Provisioning Time Variance (TPPv) =
                                              SUM[SQUAREOF(PPTi - TPPm)]
                                              --------------------------
                                                   Total Trials - 1

         Where TPPm is the Average Proactive Path Provisioning Time.

   Reporting Format:

      The Proactive Path Provisioning Time results MUST be reported in
      tabular format, with a row for each iteration.  The last row of
      the table indicates the Proactive Path Provisioning Time variance,
      and the previous row indicates the Average Proactive Path
      Provisioning Time.

      The report should capture the following information, in addition
      to the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>:

         -  Number of Network Devices in the path























<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 20]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-21"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.6.%20%20Reactive%20Path%20Provisioning%20Rate"></a><a class="selflink" href="#section-5.1.6" id="section-5.1.6">5.1.6</a>.  Reactive Path Provisioning Rate</span>

   Objective:

      Measure the maximum number of independent paths a controller can
      concurrently establish per second between source and destination
      nodes reactively, defined as the number of paths provisioned per
      second by the controller(s) at its southbound interface for the
      flow provisioning requests received for path provisioning at its
      southbound interface between the start of the test and the expiry
      of the given Trial Duration.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller MUST contain the network topology information
         for the deployed network topology.

      2. The controller should know the location of destination
         addresses for which the paths have to be provisioned.  This can
         be achieved through dynamic learning or static provisioning.

      3. Ensure that the default action for "flow miss" in the Network
         Device is configured to "send to controller".

      4. Ensure that each Network Device in a path requires the
         controller to make the forwarding decision while provisioning
         the entire path.

   Procedure:

      1. Send traffic with unique source and destination addresses from
         test traffic generator TP1.

      2. Record the total number of unique traffic frames (Ndf) received
         at test traffic generator TP2 within the Trial Duration (Td).











<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 21]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-22"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Measurements:

                                                Ndf
      Reactive Path Provisioning Rate (RPR1) = ------
                                                Td

      Average Reactive Path Provisioning Rate =
                                              RPR1 + RPR2 + RPR3 .. RPRn
                                              --------------------------
                                                     Total Trials

      Reactive Path Provisioning Rate Variance (RPPv) =
                                              SUM[SQUAREOF(RPRi - RPPm)]
                                              --------------------------
                                                    Total Trials - 1

         Where RPPm is the Average Reactive Path Provisioning Rate.

   Reporting Format:

      The Reactive Path Provisioning Rate results MUST be reported in
      tabular format, with a row for each iteration.  The last row of
      the table indicates the Reactive Path Provisioning Rate variance,
      and the previous row indicates the Average Reactive Path
      Provisioning Rate.

      The report should capture the following information, in addition
      to the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>:

         -  Number of Network Devices in the path

         -  Offered rate



















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 22]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-23"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.7.%20%20Proactive%20Path%20Provisioning%20Rate"></a><a class="selflink" href="#section-5.1.7" id="section-5.1.7">5.1.7</a>.  Proactive Path Provisioning Rate</span>

   Objective:

      Measure the maximum number of independent paths a controller can
      concurrently establish per second between source and destination
      nodes proactively, defined as the number of paths provisioned per
      second by the controller(s) at its southbound interface for the
      paths requested in its northbound interface between the start of
      the test and the expiry of the given Trial Duration.  The
      measurement is based on data-plane observations of successful path
      activation.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller MUST contain the network topology information
         for the deployed network topology.

      2. The controller should know the location of destination
         addresses for which the paths have to be provisioned.  This can
         be achieved through dynamic learning or static provisioning.

      3. Ensure that the default action for "flow miss" in the Network
         Device is "drop".

   Procedure:

      1. Send traffic continuously with unique source and destination
         addresses from test traffic generator TP1.

      2. Install corresponding flow entries so that the traffic travels
         from simulated sources at test traffic generator TP1 until it
         reaches the simulated destinations at test traffic
         generator TP2 through the controller's northbound interface or
         management interface.

      3. Record the total number of unique traffic frames (Ndf) received
         at test traffic generator TP2 within the Trial Duration (Td).








<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 23]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-24"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Measurements:

                                                 Ndf
      Proactive Path Provisioning Rate (PPR1) = ------
                                                 Td

      Average Proactive Path Provisioning Rate =
                                              PPR1 + PPR2 + PPR3 .. PPRn
                                              --------------------------
                                                      Total Trials

      Proactive Path Provisioning Rate Variance (PPPv) =
                                              SUM[SQUAREOF(PPRi - PPPm)]
                                              -------------------------
                                                   Total Trials - 1

         Where PPPm is the Average Proactive Path Provisioning Rate.

   Reporting Format:

      The Proactive Path Provisioning Rate results MUST be reported in
      tabular format, with a row for each iteration.  The last row of
      the table indicates the Proactive Path Provisioning Rate variance,
      and the previous row indicates the Average Proactive Path
      Provisioning Rate.

      The report should capture the following information, in addition
      to the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>:

         -  Number of Network Devices in the path

         -  Offered rate



















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 24]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-25"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.8.%20%20Network%20Topology%20Change%20Detection%20Time"></a><a class="selflink" href="#section-5.1.8" id="section-5.1.8">5.1.8</a>.  Network Topology Change Detection Time</span>

   Objective:

      Measure the amount of time taken by the controller to detect any
      changes in the network topology, defined as the interval starting
      with the notification message received by the controller(s) at its
      southbound interface and ending with the first topology
      rediscovery message sent from the controller(s) at its southbound
      interface.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller MUST have successfully discovered the network
         topology information for the deployed network topology.

      2. The periodic network discovery operation should be configured
         to twice the Trial Duration (Td) value.

   Procedure:

      1. Trigger a topology change event by bringing down an active
         Network Device in the topology.

      2. Record the time when the first topology change notification is
         sent to the controller (Tcn) at the forwarding-plane test
         emulator interface (I1).

      3. Stop the trial when the controller sends the first topology
         rediscovery message to the Network Device or the expiry of the
         Trial Duration (Td).

      4. Record the time when the first topology rediscovery message is
         received from the controller (Tcd) at the forwarding-plane test
         emulator interface (I1).











<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 25]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-26"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Measurements:

      Network Topology Change Detection Time (TDT1) = Tcd - Tcn

      Average Network Topology Change Detection Time =
                                              TDT1 + TDT2 + TDT3 .. TDTn
                                              --------------------------
                                                      Total Trials

      Network Topology Change Detection Time Variance (NTDv) =
                                              SUM[SQUAREOF(TDTi - NTDm)]
                                              --------------------------
                                                    Total Trials - 1

         Where NTDm is the Average Network Topology Change
            Detection Time.

   Reporting Format:

      The Network Topology Change Detection Time results MUST be
      reported in tabular format, with a row for each iteration.  The
      last row of the table indicates the Network Topology Change
      Detection Time variance, and the previous row indicates the
      Average Network Topology Change Detection Time.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.%20%20Scalability"></a><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  Scalability</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.1.%20%20Control%20Sessions%20Capacity"></a><a class="selflink" href="#section-5.2.1" id="section-5.2.1">5.2.1</a>.  Control Sessions Capacity</span>

   Objective:

      Measure the maximum number of control sessions the controller can
      maintain, defined as the number of sessions that the controller
      can accept from Network Devices, starting with the first control
      session and ending with the last control session that the
      controller(s) accepts at its southbound interface.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      None






<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 26]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-27"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Procedure:

      1. Establish control connections with the controller from every
         Network Device emulated in the forwarding-plane test emulator.

      2. Stop the trial when the controller starts dropping the control
         connections.

      3. Record the number of successful connections established (CCn)
         with the controller at the forwarding-plane test emulator.

   Measurement:

      Control Sessions Capacity = CCn

   Reporting Format:

      The Control Sessions Capacity results MUST be reported in addition
      to the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.2.%20%20Network%20Discovery%20Size"></a><a class="selflink" href="#section-5.2.2" id="section-5.2.2">5.2.2</a>.  Network Discovery Size</span>

   Objective:

      Measure the network size (number of nodes, links, and hosts) that
      a controller can discover, defined as the size of a network that
      the controller(s) can discover, starting with a network topology
      provided by the user for discovery and ending with the number of
      nodes, links, and hosts that the controller(s) were able to
      successfully discover.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller MUST support automatic network discovery.

      2. The tester should be able to retrieve the discovered topology
         information through either the controller's management
         interface or northbound interface.








<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 27]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-28"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Procedure:

      1. Establish the network connections between the controller and
         the network nodes.

      2. Query the controller every t seconds (the RECOMMENDED value for
         t is 30) to obtain the discovered network topology information
         through the northbound interface or the management interface.

      3. Stop the trial when the discovered network topology information
         remains the same as that of the last two query responses.

      4. Compare the obtained network topology information with the
         deployed network topology information.

      5. If the comparison is successful, increase the number of nodes
         by 1 and repeat the trial.
         If the comparison is unsuccessful, decrease the number of nodes
         by 1 and repeat the trial.

      6. Continue the trial until the comparison (step 5) is successful.

      7. Record the number of nodes for the last trial run (Ns) where
         the topology comparison was successful.

   Measurement:

       Network Discovery Size = Ns

   Reporting Format:

      The Network Discovery Size results MUST be reported in addition to
      the configuration parameters captured per <a href="#section-4.8">Section 4.8</a>.


















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 28]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-29"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.3.%20%20Forwarding%20Table%20Capacity"></a><a class="selflink" href="#section-5.2.3" id="section-5.2.3">5.2.3</a>.  Forwarding Table Capacity</span>

   Objective:

      Measure the maximum number of flow entries a controller can manage
      in its Forwarding Table.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. The controller's Forwarding Table should be empty.

      2. "Flow idle time" MUST be set to a higher or infinite value.

      3. The controller MUST have successfully completed network
         topology discovery.

      4. The tester should be able to retrieve the Forwarding Table
         information through either the controller's management
         interface or northbound interface.

   Procedures:

      o  Reactive Flow Provisioning Mode:

         1. Send bidirectional traffic continuously with unique source
            and destination addresses from test traffic generators TP1
            and TP2 at the Asynchronous Message Processing Rate of the
            controller.

         2. Query the controller at a regular interval (e.g., every
            5 seconds) for the number of learned flow entries from its
            northbound interface.

         3. Stop the trial when the retrieved value is constant for
            three consecutive iterations, and record the value received
            from the last query (Nrp).










<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 29]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-30"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


      o  Proactive Flow Provisioning Mode:

         1. Install unique flows continuously through the controller's
            northbound interface or management interface until a failure
            response is received from the controller.

         2. Record the total number of successful responses (Nrp).

         Note:

         Some controller designs for Proactive Flow Provisioning mode
         may require the switch to send flow setup requests in order to
         generate flow setup responses.  In such cases, it is
         recommended to generate bidirectional traffic for the
         provisioned flows.

   Measurements:

      Proactive Flow Provisioning Mode:

         Max Flow Entries = Total number of flows provisioned (Nrp)

      Reactive Flow Provisioning Mode:

         Max Flow Entries = Total number of learned flow entries (Nrp)

      Forwarding Table Capacity = Max Flow Entries

   Reporting Format:

      The Forwarding Table Capacity results MUST be tabulated with the
      following information, in addition to the configuration parameters
      captured per <a href="#section-4.8">Section 4.8</a>:

         -  Provisioning Type (Proactive/Reactive)
















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 30]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-31"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.3.%20%20Security"></a><a class="selflink" href="#section-5.3" id="section-5.3">5.3</a>.  Security</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.3.1.%20%20Exception%20Handling"></a><a class="selflink" href="#section-5.3.1" id="section-5.3.1">5.3.1</a>.  Exception Handling</span>

   Objective:

      Determine the effects of handling error packets and notifications
      on performance tests.  The impact MUST be measured for the
      following performance tests:

         1. Path Provisioning Rate

         2. Path Provisioning Time

         3. Network Topology Change Detection Time

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. This test MUST be performed after obtaining the baseline
         measurement results for the performance tests listed above.

      2. Ensure that the invalid messages are not dropped by the
         intermediate devices connecting the controller and Network
         Devices.

   Procedure:

      1. Perform the above-listed performance tests, and send 1% of the
         messages from the Asynchronous Message Processing Rate test
         (<a href="#section-5.1.3">Section 5.1.3</a>) as invalid messages from the connected Network
         Devices emulated at the forwarding-plane test emulator.

      2. Perform the above-listed performance tests, and send 2% of the
         messages from the Asynchronous Message Processing Rate test
         (<a href="#section-5.1.3">Section 5.1.3</a>) as invalid messages from the connected Network
         Devices emulated at the forwarding-plane test emulator.

      Note:

      Invalid messages can be frames with incorrect protocol fields or
      any form of failure notifications sent towards the controller.





<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 31]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-32"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Measurements:

      Measurements MUST be done as per the equation defined in the
      "Measurements" section of the corresponding test listed under
      "Objective".

   Reporting Format:

      The Exception Handling results MUST be reported in tabular format,
      with a column for each of the below parameters and row for each of
      the above-listed performance tests:

         -  Without Exceptions

         -  With 1% Exceptions

         -  With 2% Exceptions

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.3.2.%20%20Handling%20Denial-of-Service%20Attacks"></a><a class="selflink" href="#section-5.3.2" id="section-5.3.2">5.3.2</a>.  Handling Denial-of-Service Attacks</span>

   Objective:

      Determine the effects of handling DoS attacks on performance and
      scalability tests.  The impact MUST be measured for the following
      tests:

         1. Path Provisioning Rate

         2. Path Provisioning Time

         3. Network Topology Change Detection Time

         4. Network Discovery Size

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisite:

      This test MUST be performed after obtaining the baseline
      measurement results for the performance tests listed above.








<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 32]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-33"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Procedure:

      Perform the above-listed tests, and launch a DoS attack towards
      the controller while the trial is running.

      Note: DoS attacks can be launched on one of the following
      interfaces:

         1. Northbound (e.g., query for flow entries continuously on the
            northbound interface)

         2. Management (e.g., Ping requests to the controller's
            management interface)

         3. Southbound (e.g., TCP SYN messages on the southbound
            interface)

   Measurements:

      Measurements MUST be done as per the equation defined in the
      "Measurements" section of the corresponding test listed under
      "Objective".

   Reporting Format:

      The results regarding the handling of DoS attacks MUST be reported
      in tabular format, with a column for each of the below parameters
      and a row for each of the above-listed tests.

         -  Without any attacks

         -  With attacks

      The report should also specify the nature of the attack and the
      interface in question.
















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 33]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-34"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.4.%20%20Reliability"></a><a class="selflink" href="#section-5.4" id="section-5.4">5.4</a>.  Reliability</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.4.1.%20%20Controller%20Failover%20Time"></a><a class="selflink" href="#section-5.4.1" id="section-5.4.1">5.4.1</a>.  Controller Failover Time</span>

   Objective:

      Measure the time taken to switch from an active controller to the
      backup controller when the controllers work in redundancy mode and
      the active controller fails, defined as the interval starting when
      the active controller is brought down and ending with the first
      rediscovery message received from the new controller at its
      southbound interface.

   Reference Test Setup:

      This test SHOULD use the test setup illustrated in <a href="#section-3.2">Section 3.2</a> of
      this document.

   Prerequisites:

      1. Master controller election MUST be completed.

      2. Nodes are connected to the controller cluster per the
         implemented redundancy mode (e.g., active-standby).

      3. The controller cluster should have successfully completed the
         network topology discovery.

      4. The Network Device MUST send all new flows to the controller
         when it receives them from the test traffic generator.

      5. The controller should have learned the location of the
         destination (D1) at test traffic generator TP2.


















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 34]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-35"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Procedure:

      1. Send unidirectional traffic continuously with incremental
         sequence numbers and source addresses from test traffic
         generator TP1 at the rate at which the controller can process
         the traffic without any drops.

      2. Ensure that there are no packet drops observed at test traffic
         generator TP2.

      3. Bring down the active controller.

      4. Stop the trial when the first frame after the failover
         operation is received on test traffic generator TP2.

      5. Record the time at which the last valid frame was received (T1)
         at test traffic generator TP2 before the sequence error and the
         time at which the first valid frame was received (T2) after the
         sequence error at test traffic generator TP2.

   Measurements:

      Controller Failover Time = (T2 - T1)

      Packet Loss = Number of missing packet sequences

   Reporting Format:

      The Controller Failover Time results MUST be tabulated with the
      following information:

         -  Number of cluster nodes

         -  Redundancy mode

         -  Controller Failover Time

         -  Packet Loss

         -  Cluster keep-alive interval











<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 35]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-36"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.4.2.%20%20Network%20Re-provisioning%20Time"></a><a class="selflink" href="#section-5.4.2" id="section-5.4.2">5.4.2</a>.  Network Re-provisioning Time</span>

   Objective:

      Measure the time taken by the controller to reroute traffic when
      there is a failure in existing traffic paths, defined as the
      interval starting with the first failure notification message
      received by the controller and ending with the last flow
      re-provisioning message sent by the controller at its southbound
      interface.

   Reference Test Setup:

      This test SHOULD use one of the test setups illustrated in
      <a href="#section-3.1">Section 3.1</a> or <a href="#section-3.2">Section 3.2</a> of this document.

   Prerequisites:

      1. A network with a specified number of nodes and redundant paths
         MUST be deployed.

      2. The controller MUST know the location of test traffic
         generators TP1 and TP2.

      3. Ensure that the controller does not pre-provision the alternate
         path in the emulated Network Devices at the forwarding-plane
         test emulator.

   Procedure:

      1. Send bidirectional traffic continuously with a unique sequence
         number from test traffic generators TP1 and TP2.

      2. Bring down a link or switch in the traffic path.

      3. Stop the trial after receiving the first frame after network
         reconvergence.

      4. Record the time of the last received frame prior to the frame
         loss at test traffic generator TP2 (TP2-Tlfr) and the time of
         the first frame received after the frame loss at test traffic
         generator TP2 (TP2-Tffr).  There must be a gap in sequence
         numbers of these frames.

      5. Record the time of the last received frame prior to the frame
         loss at test traffic generator TP1 (TP1-Tlfr) and the time of
         the first frame received after the frame loss at test traffic
         generator TP1 (TP1-Tffr).



<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 36]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-37"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Measurements:

      Forward Direction Path Re-provisioning Time (FDRT)
                                                 = (TP2-Tffr - TP2-Tlfr)

      Reverse Direction Path Re-provisioning Time (RDRT)
                                                 = (TP1-Tffr - TP1-Tlfr)

      Network Re-provisioning Time = (FDRT + RDRT)/2

      Forward Direction Packet Loss = Number of missing sequence frames
         at test traffic generator TP1

      Reverse Direction Packet Loss = Number of missing sequence frames
         at test traffic generator TP2

   Reporting Format:

      The Network Re-provisioning Time results MUST be tabulated with
      the following information:

         -  Number of nodes in the primary path

         -  Number of nodes in the alternate path

         -  Network Re-provisioning Time

         -  Forward Direction Packet Loss

         -  Reverse Direction Packet Loss

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  IANA Considerations</span>

   This document has no IANA actions.

















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 37]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-38"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  Security Considerations</span>

   The benchmarking tests described in this document are limited to the
   performance characterization of controllers in a lab environment with
   isolated networks.

   The benchmarking network topology will be an independent test setup
   and MUST NOT be connected to devices that may forward the test
   traffic into a production network or misroute traffic to the test
   management network.

   Further, benchmarking is performed on a "black-box" basis, relying
   solely on measurements observable external to the controller.

   Special capabilities SHOULD NOT exist in the controller specifically
   for benchmarking purposes.  Any implications for network security
   arising from the controller SHOULD be identical in the lab and in
   production networks.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20References"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in
              <a href="./rfc2119">RFC 2119</a> Key Words", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc8174">RFC 8174</a>,
              DOI 10.17487/RFC8174, May 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC8455">RFC8455</a>]  Bhuvaneswaran, V., Basil, A., Tassinari, M., Manral, V.,
              and S. Banks, "Terminology for Benchmarking
              Software-Defined Networking (SDN) Controller Performance",
              <a href="./rfc8455">RFC 8455</a>, DOI 10.17487/RFC8455, October 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8455">https://www.rfc-editor.org/info/rfc8455</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-OpenFlow-Spec">OpenFlow-Spec</a>]
              ONF, "OpenFlow Switch Specification" Version 1.4.0 (Wire
              Protocol 0x05), October 2013,
              &lt;<a href="https://www.opennetworking.org/wp-content/uploads/2014/10/openflow-spec-v1.4.0.pdf">https://www.opennetworking.org/wp-content/</a>
              <a href="https://www.opennetworking.org/wp-content/uploads/2014/10/openflow-spec-v1.4.0.pdf">uploads/2014/10/openflow-spec-v1.4.0.pdf</a>&gt;.





<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 38]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-39"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/Appendix%20A.%20%20Benchmarking%20Methodology%20Using%20OpenFlow%20Controllers"></a><a class="selflink" href="#appendix-A" id="appendix-A">Appendix A</a>.  Benchmarking Methodology Using OpenFlow Controllers</span>

   This section gives an overview of the OpenFlow protocol
   [<a href="#ref-OpenFlow-Spec">OpenFlow-Spec</a>] and provides a test methodology for benchmarking SDN
   Controllers supporting the OpenFlow southbound protocol.  The
   OpenFlow protocol is used as an example to illustrate the
   methodologies defined in this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.1.%20%20Protocol%20Overview"></a><a class="selflink" href="#appendix-A.1" id="appendix-A.1">A.1</a>.  Protocol Overview</span>

   OpenFlow [<a href="#ref-OpenFlow-Spec">OpenFlow-Spec</a>] is an open standard protocol defined by the
   Open Networking Foundation (ONF) and used for programming the
   forwarding plane of network switches or routers via a centralized
   controller.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.2.%20%20Messages%20Overview"></a><a class="selflink" href="#appendix-A.2" id="appendix-A.2">A.2</a>.  Messages Overview</span>

   The OpenFlow protocol supports three message types -- namely,
   controller-to-switch, asynchronous, and symmetric.

   Controller-to-switch messages are initiated by the controller and
   used to directly manage or inspect the state of the switch.  These
   messages allow controllers to query/configure the switch ("features"
   messages, configuration messages), collect information from a switch
   (Read-State messages), send packets on a specified port of a switch
   (OFPT_PACKET_OUT messages), and modify the switch forwarding plane
   and state (Modify-State messages, Role-Request messages, etc.).

   Asynchronous messages are generated by the switch without a
   controller soliciting them.  These messages allow switches to update
   controllers to denote an arrival of a new flow (OFPT_PACKET_IN
   messages), switch state changes ("flow-removed" messages, port-status
   messages), and errors (Error messages).

   Symmetric messages are generated in either direction without
   solicitation.  These messages allow switches and controllers to set
   up a connection (Hello messages), verify liveness (Echo messages),
   and offer additional functionalities (Experimenter messages).

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.3.%20%20Connection%20Overview"></a><a class="selflink" href="#appendix-A.3" id="appendix-A.3">A.3</a>.  Connection Overview</span>

   The OpenFlow channel is used to exchange OpenFlow messages between an
   OpenFlow switch and an OpenFlow controller.  The OpenFlow channel
   connection can be set up using plain TCP or TLS.  By default, a
   switch establishes a single connection with the SDN Controller.  A
   switch may establish multiple parallel connections to a single
   controller (auxiliary connection) or multiple controllers to handle
   controller failures and load balancing.



<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 39]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-40"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.%20%20Performance%20Benchmarking%20Tests"></a><a class="selflink" href="#appendix-A.4" id="appendix-A.4">A.4</a>.  Performance Benchmarking Tests</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.1.%20%20Network%20Topology%20Discovery%20Time"></a><a class="selflink" href="#appendix-A.4.1" id="appendix-A.4.1">A.4.1</a>.  Network Topology Discovery Time</span>

   Procedure:

      Network Devices               OpenFlow                    SDN
                                   Controller               Application
            |                            |                           |
            |                            |&lt;Initialize controller     |
            |                            |app., NB and SB interfaces&gt;|
            |                            |                           |
            |&lt;Deploy network with        |                           |
            | given no. of OF switches&gt;  |                           |
            |                            |                           |
            |    OFPT_HELLO Exchange     |                           |
            |&lt;--------------------------&gt;|                           |
            |                            |                           |
            |   OFPT_PACKET_OUT with LLDP|                           |
            |             to all switches|                           |
       (Tm1)|&lt;---------------------------|                           |
            |                            |                           |
            |    OFPT_PACKET_IN with LLDP|                           |
            |          rcvd from Switch 1|                           |
            |---------------------------&gt;|                           |
            |                            |                           |
            |    OFPT_PACKET_IN with LLDP|                           |
            |          rcvd from Switch 2|                           |
            |---------------------------&gt;|                           |
            |            .               |                           |
            |            .               |                           |
            |                            |                           |
            |    OFPT_PACKET_IN with LLDP|                           |
            |          rcvd from Switch n|                           |
       (Tmn)|---------------------------&gt;|                           |
            |                            |                           |
            |                            |    &lt;Wait for the expiry of|
            |                            |   the Trial Duration (Td)&gt;|
            |                            |                           |
            |                            |   Query the controller for|
            |                            |  discovered n/w topo. (Di)|
            |                            |&lt;--------------------------|
            |                            |                           |
            |                            |    &lt;Compare the discovered|
            |                            |       n/w topology and the|
            |                            |      offered n/w topology&gt;|
            |                            |                           |




<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 40]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-41"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      NB: Northbound
      SB: Southbound
      OF: OpenFlow
      OFP: OpenFlow Protocol
      LLDP: Link-Layer Discovery Protocol
      Tm1: Time of reception of first LLDP message from controller
      Tmn: Time of last LLDP message sent to controller

   Discussion:

      The Network Topology Discovery Time can be obtained by calculating
      the time difference between the first OFPT_PACKET_OUT with an LLDP
      message received from the controller (Tm1) and the last
      OFPT_PACKET_IN with an LLDP message sent to the controller (Tmn)
      when the comparison is successful.


































<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 41]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-42"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.2.%20%20Asynchronous%20Message%20Processing%20Time"></a><a class="selflink" href="#appendix-A.4.2" id="appendix-A.4.2">A.4.2</a>.  Asynchronous Message Processing Time</span>

   Procedure:

         Network Devices            OpenFlow                    SDN
                                   Controller               Application
            |                            |                           |
            |OFPT_PACKET_IN with single  |                           |
            |OFP match header            |                           |
        (T0)|---------------------------&gt;|                           |
            |                            |                           |
            |OFPT_PACKET_OUT with single |                           |
            |          OFP action header |                           |
        (R0)|&lt;---------------------------|                           |
            |          .                 |                           |
            |          .                 |                           |
            |          .                 |                           |
            |                            |                           |
            |OFPT_PACKET_IN with single  |                           |
            |OFP match header            |                           |
        (Tn)|---------------------------&gt;|                           |
            |                            |                           |
            |OFPT_PACKET_OUT with single |                           |
            |          OFP action header |                           |
        (Rn)|&lt;---------------------------|                           |
            |                            |                           |
            |&lt;Wait for the expiry of the |                           |
            |Trial Duration&gt;             |                           |
            |                            |                           |
            |&lt;Record the number of       |                           |
            |OFPT_PACKET_INs/            |                           |
            |OFPT_PACKET_OUTs            |                           |
            |exchanged (Nrx)&gt;            |                           |
            |                            |                           |

   Legend:

      T0,T1, ..Tn: transmit timestamps of OFPT_PACKET_IN messages
      R0,R1, ..Rn: receive timestamps of OFPT_PACKET_OUT messages
      Nrx: Number of successful OFPT_PACKET_IN/OFPT_PACKET_OUT
           message exchanges

   Discussion:

      The Asynchronous Message Processing Time will be obtained by
      calculating the sum of ((R0 - T0),(R1 - T1)..(Rn - Tn))/Nrx.





<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 42]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-43"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.3.%20%20Asynchronous%20Message%20Processing%20Rate"></a><a class="selflink" href="#appendix-A.4.3" id="appendix-A.4.3">A.4.3</a>.  Asynchronous Message Processing Rate</span>

   Procedure:

         Network Devices           OpenFlow                    SDN
                                  Controller               Application
            |                            |                          |
            |OFPT_PACKET_IN with single  |                          |
            |OFP match header            |                          |
            |---------------------------&gt;|                          |
            |                            |                          |
            |OFPT_PACKET_OUT with single |                          |
            |          OFP action header |                          |
            |&lt;---------------------------|                          |
            |                            |                          |
            |            .               |                          |
            |            .               |                          |
            |            .               |                          |
            |                            |                          |
            |OFPT_PACKET_IN with single  |                          |
            |OFP match header            |                          |
            |---------------------------&gt;|                          |
            |                            |                          |
            |OFPT_PACKET_OUT with single |                          |
            |          OFP action header |                          |
            |&lt;---------------------------|                          |
            |                            |                          |
            |&lt;Repeat the steps until     |                          |
            |the expiry of the           |                          |
            |Trial Duration&gt;             |                          |
            |                            |                          |
            |&lt;Record the number of OFP   |                          |
      (Ntx1)|match headers sent&gt;         |                          |
            |                            |                          |
            |&lt;Record the number of OFP   |                          |
      (Nrx1)|action headers rcvd&gt;        |                          |
            |                            |                          |

      Note: The Ntx1 on initial trials should be greater than Nrx1.
      Repeat the trials until the Nrxn for two consecutive trials equals
      (+/-P%).










<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 43]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-44"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Discussion:

      Using a single procedure, this test will measure two benchmarks:

         1. The Maximum Asynchronous Message Processing Rate will be
            obtained by calculating the maximum OFPT_PACKET_OUTs (Nrxn)
            received from the controller(s) across n trials.

         2. The Loss-Free Asynchronous Message Processing Rate will be
            obtained by calculating the maximum OFPT_PACKET_OUTs
            received from the controller(s) when the Loss Ratio equals
            zero.  The Loss Ratio is obtained by calculating
            1 - Nrxn/Ntxn.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.4.%20%20Reactive%20Path%20Provisioning%20Time"></a><a class="selflink" href="#appendix-A.4.4" id="appendix-A.4.4">A.4.4</a>.  Reactive Path Provisioning Time</span>

   Procedure:

       Test Traffic     Test Traffic      Network Devices      OpenFlow
      Generator TP1    Generator TP2                          Controller
            |             |                      |                     |
            |             |G-ARP (D1)            |                     |
            |             |---------------------&gt;|                     |
            |             |                      |                     |
            |             |                      |OFPT_PACKET_IN(D1)   |
            |             |                      |--------------------&gt;|
            |             |                      |                     |
            |Traffic (S1,D1)                     |                     |
      (Tsf1)|-----------------------------------&gt;|                     |
            |             |                      |                     |
            |             |                      |                     |
            |             |                      |                     |
            |             |                      |OFPT_PACKET_IN(S1,D1)|
            |             |                      |--------------------&gt;|
            |             |                      |                     |
            |             |                      |  FLOW_MOD(D1)       |
            |             |                      |&lt;--------------------|
            |             |                      |                     |
            |             |Traffic (S1,D1)       |                     |
            |       (Tdf1)|&lt;---------------------|                     |
            |             |                      |                     |










<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 44]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-45"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      G-ARP: Gratuitous ARP message
      Tsf1: Time of first frame sent from TP1
      Tdf1: Time of first frame received from TP2

   Discussion:

      The Reactive Path Provisioning Time can be obtained by finding the
      time difference between the transmit and receive times of the
      traffic (Tsf1 - Tdf1).








































<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 45]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-46"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.5.%20%20Proactive%20Path%20Provisioning%20Time"></a><a class="selflink" href="#appendix-A.4.5" id="appendix-A.4.5">A.4.5</a>.  Proactive Path Provisioning Time</span>

   Procedure:

   Test Traffic  Test Traffic    Network Devices OpenFlow       SDN
   Generator TP1 Generator TP2                  Controller   Application
         |            |               |                  |             |
         |            |               |                  |             |
         |            |               |                  |&lt;Install flow|
         |            |               |                  |  for S1,D1&gt; |
         |            |G-ARP (D1)     |                  |             |
         |            |--------------&gt;|                  |             |
         |            |               |                  |             |
         |            |               |OFPT_PACKET_IN(D1)|             |
         |            |               |-----------------&gt;|             |
         |            |               |                  |             |
         |Traffic (S1,D1)             |                  |             |
   (Tsf1)|---------------------------&gt;|                  |             |
         |            |               |                  |             |
         |            |               |   FLOW_MOD(D1)   |             |
         |            |               |&lt;-----------------|             |
         |            |               |                  |             |
         |            |Traffic (S1,D1)|                  |             |
         |      (Tdf1)|&lt;--------------|                  |             |
         |            |               |                  |             |

   Legend:

      G-ARP: Gratuitous ARP message
      Tsf1: Time of first frame sent from TP1
      Tdf1: Time of first frame received from TP2

   Discussion:

      The Proactive Path Provisioning Time can be obtained by finding
      the time difference between the transmit and receive times of the
      traffic (Tsf1 - Tdf1).














<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 46]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-47"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.6.%20%20Reactive%20Path%20Provisioning%20Rate"></a><a class="selflink" href="#appendix-A.4.6" id="appendix-A.4.6">A.4.6</a>.  Reactive Path Provisioning Rate</span>

   Procedure:

       Test Traffic     Test Traffic   Network Devices         OpenFlow
      Generator TP1    Generator TP2                         Controller
            |             |                    |                      |
            |             |                    |                      |
            |             |                    |                      |
            |             |G-ARP (D1..Dn)      |                      |
            |             |--------------------|                      |
            |             |                    |                      |
            |             |                    |OFPT_PACKET_IN(D1..Dn)|
            |             |                    |---------------------&gt;|
            |             |                    |                      |
            |Traffic (S1..Sn,D1..Dn)           |                      |
            |---------------------------------&gt;|                      |
            |             |                    |                      |
            |             |                    |OFPT_PACKET_IN(S1..Sn,|
            |             |                    |               D1..Dn)|
            |             |                    |---------------------&gt;|
            |             |                    |                      |
            |             |                    |        FLOW_MOD(S1)  |
            |             |                    |&lt;---------------------|
            |             |                    |                      |
            |             |                    |        FLOW_MOD(D1)  |
            |             |                    |&lt;---------------------|
            |             |                    |                      |
            |             |                    |        FLOW_MOD(S2)  |
            |             |                    |&lt;---------------------|
            |             |                    |                      |
            |             |                    |        FLOW_MOD(D2)  |
            |             |                    |&lt;---------------------|
            |             |                    |             .        |
            |             |                    |             .        |
            |             |                    |                      |
            |             |                    |        FLOW_MOD(Sn)  |
            |             |                    |&lt;---------------------|
            |             |                    |                      |
            |             |                    |        FLOW_MOD(Dn)  |
            |             |                    |&lt;---------------------|
            |             |                    |                      |
            |             | Traffic (S1..Sn,   |                      |
            |             |             D1..Dn)|                      |
            |             |&lt;-------------------|                      |
            |             |                    |                      |
            |             |                    |                      |




<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 47]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-48"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      G-ARP: Gratuitous ARP message
      D1..Dn: Destination Endpoint 1, Destination Endpoint 2 ...,
              Destination Endpoint n
      S1..Sn: Source Endpoint 1, Source Endpoint 2 ...,
              Source Endpoint n

   Discussion:

      The Reactive Path Provisioning Rate can be obtained by finding the
      total number of frames received at test traffic generator TP2
      after the Trial Duration.






































<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 48]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-49"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.7.%20%20Proactive%20Path%20Provisioning%20Rate"></a><a class="selflink" href="#appendix-A.4.7" id="appendix-A.4.7">A.4.7</a>.  Proactive Path Provisioning Rate</span>

   Procedure:

   Test Traffic  Test Traffic   Network Devices   OpenFlow        SDN
   Generator TP1 Generator TP2                   Controller  Application
         |            |                |                 |             |
         |            |G-ARP (D1..Dn)  |                 |             |
         |            |---------------&gt;|                 |             |
         |            |                |                 |             |
         |            |                |OFPT_PACKET_IN   |             |
         |            |                |         (D1..Dn)|             |
         |            |                |----------------&gt;|             |
         |            |                |                 |             |
         |Traffic (S1..Sn,D1..Dn)      |                 |             |
   (Tsf1)|----------------------------&gt;|                 |             |
         |            |                |                 |             |
         |            |                |                 |&lt;Install flow|
         |            |                |                 |  for S1,D1&gt; |
         |            |                |                 |             |
         |            |                |                 |       .     |
         |            |                |                 |&lt;Install flow|
         |            |                |                 |  for Sn,Dn&gt; |
         |            |                |                 |             |
         |            |                |  FLOW_MOD(S1)   |             |
         |            |                |&lt;----------------|             |
         |            |                |                 |             |
         |            |                |  FLOW_MOD(D1)   |             |
         |            |                |&lt;----------------|             |
         |            |                |                 |             |
         |            |                |       .         |             |
         |            |                |  FLOW_MOD(Sn)   |             |
         |            |                |&lt;----------------|             |
         |            |                |                 |             |
         |            |                |  FLOW_MOD(Dn)   |             |
         |            |                |&lt;----------------|             |
         |            |                |                 |             |
         |            |Traffic (S1..Sn,|                 |             |
         |            |         D1..Dn)|                 |             |
         |      (Tdf1)|&lt;---------------|                 |             |
         |            |                |                 |             |










<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 49]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-50"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      G-ARP: Gratuitous ARP message
      D1..Dn: Destination Endpoint 1, Destination Endpoint 2 ...,
              Destination Endpoint n
      S1..Sn: Source Endpoint 1, Source Endpoint 2 ...,
              Source Endpoint n

   Discussion:

      The Proactive Path Provisioning Rate can be obtained by finding
      the total number of frames received at test traffic generator TP2
      after the Trial Duration.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.4.8.%20%20Network%20Topology%20Change%20Detection%20Time"></a><a class="selflink" href="#appendix-A.4.8" id="appendix-A.4.8">A.4.8</a>.  Network Topology Change Detection Time</span>

   Procedure:

       Network Devices              OpenFlow                    SDN
                                   Controller               Application
            |                            |                           |
            |                            |     &lt;Bring down a link in |
            |                            |                 Switch S1&gt;|
            |                            |                           |
         T0 |PORT_STATUS with link down  |                           |
            | from S1                    |                           |
            |---------------------------&gt;|                           |
            |                            |                           |
            |First OFPT_PACKET_OUT with  |                           |
            |LLDP to OF switch           |                           |
         T1 |&lt;---------------------------|                           |
            |                            |                           |
            |                            |      &lt;Record time of first|
            |                            |       OFPT_PACKET_OUT with|
            |                            |                   LLDP T1&gt;|
            |                            |                           |

   Discussion:

      The Network Topology Change Detection Time can be obtained by
      finding the difference between the time that OpenFlow Switch S1
      sends the PORT_STATUS message (T0) and the time that the OpenFlow
      controller sends the first topology rediscovery message (T1) to
      OpenFlow switches.







<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 50]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-51"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.5.%20%20Scalability"></a><a class="selflink" href="#appendix-A.5" id="appendix-A.5">A.5</a>.  Scalability</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.5.1.%20%20Control%20Sessions%20Capacity"></a><a class="selflink" href="#appendix-A.5.1" id="appendix-A.5.1">A.5.1</a>.  Control Sessions Capacity</span>

   Procedure:

         Network Devices                        OpenFlow
                                               Controller
            |                                       |
            |    OFPT_HELLO Exchange for Switch 1   |
            |&lt;-------------------------------------&gt;|
            |                                       |
            |    OFPT_HELLO Exchange for Switch 2   |
            |&lt;-------------------------------------&gt;|
            |                  .                    |
            |                  .                    |
            |                  .                    |
            |    OFPT_HELLO Exchange for Switch n   |
            |X&lt;-----------------------------------&gt;X|
            |                                       |

   Discussion:

      The value of Switch (n - 1) will provide the Control Sessions
      Capacity.


























<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 51]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-52"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.5.2.%20%20Network%20Discovery%20Size"></a><a class="selflink" href="#appendix-A.5.2" id="appendix-A.5.2">A.5.2</a>.  Network Discovery Size</span>

   Procedure:

       Network Devices              OpenFlow                    SDN
                                   Controller               Application
            |                            |                           |
            |                            |     &lt;Deploy network with  |
            |                            |given no. of OF switches N&gt;|
            |                            |                           |
            |    OFPT_HELLO Exchange     |                           |
            |&lt;--------------------------&gt;|                           |
            |                            |                           |
            |   OFPT_PACKET_OUT with LLDP|                           |
            |      to all switches       |                           |
            |&lt;---------------------------|                           |
            |                            |                           |
            |    OFPT_PACKET_IN with LLDP|                           |
            |          rcvd from Switch 1|                           |
            |---------------------------&gt;|                           |
            |                            |                           |
            |    OFPT_PACKET_IN with LLDP|                           |
            |          rcvd from Switch 2|                           |
            |---------------------------&gt;|                           |
            |            .               |                           |
            |            .               |                           |
            |                            |                           |
            |    OFPT_PACKET_IN with LLDP|                           |
            |          rcvd from Switch n|                           |
            |---------------------------&gt;|                           |
            |                            |                           |
            |                            |    &lt;Wait for the expiry of|
            |                            |   the Trial Duration (Td)&gt;|
            |                            |                           |
            |                            |   Query the controller for|
            |                            |  discovered n/w topo. (N1)|
            |                            |&lt;--------------------------|
            |                            |                           |
            |                            |   &lt;If N1==N, repeat Step 1|
            |                            |           with N + 1 nodes|
            |                            |               until N1&lt;N &gt;|
            |                            |                           |
            |                            |   &lt;If N1&lt;N, repeat Step 1 |
            |                            | with N=N1 nodes once and  |
            |                            | exit&gt;                     |
            |                            |                           |





<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 52]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-53"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      n/w topo: Network topology
      OF: OpenFlow

   Discussion:

      The value of N1 provides the Network Discovery Size value.  The
      Trial Duration can be set to the stipulated time within which the
      user expects the controller to complete the discovery process.









































<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 53]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-54"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.5.3.%20%20Forwarding%20Table%20Capacity"></a><a class="selflink" href="#appendix-A.5.3" id="appendix-A.5.3">A.5.3</a>.  Forwarding Table Capacity</span>

   Procedure:

   Test Traffic     Network Devices        OpenFlow          SDN
   Generator TP1                           Controller     Application
        |                 |                      |                 |
        |                 |                      |                 |
        |G-ARP (H1..Hn)   |                      |                 |
        |----------------&gt;|                      |                 |
        |                 |                      |                 |
        |                 |OFPT_PACKET_IN(D1..Dn)|                 |
        |                 |---------------------&gt;|                 |
        |                 |                      |                 |
        |                 |                      |&lt;Wait for 5 secs&gt;|
        |                 |                      |                 |
        |                 |                      |  &lt;Query for FWD |
        |                 |                      |          entry&gt; |(F1)
        |                 |                      |                 |
        |                 |                      |&lt;Wait for 5 secs&gt;|
        |                 |                      |                 |
        |                 |                      |  &lt;Query for FWD |
        |                 |                      |          entry&gt; |(F2)
        |                 |                      |                 |
        |                 |                      |&lt;Wait for 5 secs&gt;|
        |                 |                      |                 |
        |                 |                      |  &lt;Query for FWD |
        |                 |                      |          entry&gt; |(F3)
        |                 |                      |                 |
        |                 |                      | &lt;Repeat Step 2  |
        |                 |                      |until F1==F2==F3&gt;|
        |                 |                      |                 |

   Legend:

      G-ARP: Gratuitous ARP message
      H1..Hn: Host 1 .. Host n
      FWD: Forwarding Table

   Discussion:

      Query the controller's Forwarding Table entries multiple times,
      until three consecutive queries return the same value.  The last
      value retrieved from the controller will provide the Forwarding
      Table Capacity value.  The query interval is user configurable.
      The interval of 5 seconds shown in this example is for
      representational purposes.




<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 54]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-55"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.6.%20%20Security"></a><a class="selflink" href="#appendix-A.6" id="appendix-A.6">A.6</a>.  Security</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.6.1.%20%20Exception%20Handling"></a><a class="selflink" href="#appendix-A.6.1" id="appendix-A.6.1">A.6.1</a>.  Exception Handling</span>

Procedure:

Test Traffic  Test Traffic   Network Devices   OpenFlow          SDN
Generator TP1 Generator TP2                  Controller      Application
   |          |                |                      |                |
   |          |G-ARP (D1..Dn)  |                      |                |
   |          |---------------&gt;|                      |                |
   |          |                |                      |                |
   |          |                |OFPT_PACKET_IN(D1..Dn)|                |
   |          |                |---------------------&gt;|                |
   |          |                |                      |                |
   |Traffic (S1..Sn,D1..Dn)    |                      |                |
   |--------------------------&gt;|                      |                |
   |          |                |                      |                |
   |          |                |OFPT_PACKET_IN(S1..Sa,|                |
   |          |                |               D1..Da)|                |
   |          |                |---------------------&gt;|                |
   |          |                |                      |                |
   |          |                |OFPT_PACKET_IN        |                |
   |          |                |            (Sa+1..Sn,|                |
   |          |                |             Da+1..Dn)|                |
   |          |                |     (1% incorrect OFP|                |
   |          |                |         match header)|                |
   |          |                |---------------------&gt;|                |
   |          |                |                      |                |
   |          |                |      FLOW_MOD(D1..Dn)|                |
   |          |                |&lt;---------------------|                |
   |          |                |                      |                |
   |          |                |      FLOW_MOD(S1..Sa)|                |
   |          |                |           OFP headers|                |
   |          |                |&lt;---------------------|                |
   |          |                |                      |                |
   |          |Traffic (S1..Sa,|                      |                |
   |          |         D1..Da)|                      |                |
   |          |&lt;---------------|                      |                |
   |          |                |                      |                |
   |          |                |                      |   &lt;Wait for the|
   |          |                |                      |   expiry of the|
   |          |                |                      |           Trial|
   |          |                |                      |       Duration&gt;|
   |          |                |                      |                |
   |          |                |                      |      &lt;Record Rx|
   |          |                |                      |       frames at|
   |          |                |                      |      TP2 (Rn1)&gt;|



<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 55]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-56"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   |          |                |                      |                |
   |          |                |                      |        &lt;Repeat |
   |          |                |                      |     Step 1 with|
   |          |                |                      |    2% incorrect|
   |          |                |                      |OFPT_PACKET_INs&gt;|
   |          |                |                      |                |
   |          |                |                      |      &lt;Record Rx|
   |          |                |                      |       frames at|
   |          |                |                      |      TP2 (Rn2)&gt;|

   Legend:

      G-ARP: Gratuitous ARP message
      OFPT_PACKET_IN(Sa+1..Sn,Da+1..Dn): OFPT_PACKET_IN with
                                         wrong version number
      Rn1: Total number of frames received at Test Port 2
           with 1% incorrect frames
      Rn2: Total number of frames received at Test Port 2
           with 2% incorrect frames

   Discussion:

      The traffic rate sent towards the OpenFlow switch from Test Port 1
      should be 1% higher than the Path Programming Rate.  Rn1 will
      provide the Path Provisioning Rate of the controller when 1% of
      incorrect frames are received, and Rn2 will provide the Path
      Provisioning Rate of the controller when 2% of incorrect frames
      are received.

      The procedure defined above provides test steps to determine the
      effects of handling error packets on the Path Programming Rate.
      The same procedure can be adapted to determine the effects on
      other performance tests listed in this benchmarking test.


















<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 56]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-57"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.6.2.%20%20Handling%20Denial-of-Service%20Attacks"></a><a class="selflink" href="#appendix-A.6.2" id="appendix-A.6.2">A.6.2</a>.  Handling Denial-of-Service Attacks</span>

Procedure:

Test Traffic  Test Traffic   Network Device      OpenFlow         SDN
Generator TP1 Generator TP2                     Controller  Application
    |          |                 |                      |             |
    |          |G-ARP (D1..Dn)   |                      |             |
    |          |----------------&gt;|                      |             |
    |          |                 |                      |             |
    |          |                 |OFPT_PACKET_IN(D1..Dn)|             |
    |          |                 |---------------------&gt;|             |
    |          |                 |                      |             |
    |Traffic (S1..Sn,D1..Dn)     |                      |             |
    |---------------------------&gt;|                      |             |
    |          |                 |                      |             |
    |          |                 |OFPT_PACKET_IN(S1..Sn,|             |
    |          |                 |               D1..Dn)|             |
    |          |                 |---------------------&gt;|             |
    |          |                 |                      |             |
    |          |                 |TCP SYN attack        |             |
    |          |                 |from a switch         |             |
    |          |                 |---------------------&gt;|             |
    |          |                 |                      |             |
    |          |                 |FLOW_MOD(D1..Dn)      |             |
    |          |                 |&lt;---------------------|             |
    |          |                 |                      |             |
    |          |                 | FLOW_MOD(S1..Sn)     |             |
    |          |                 |      OFP headers     |             |
    |          |                 |&lt;---------------------|             |
    |          |                 |                      |             |
    |          |Traffic (S1..Sn, |                      |             |
    |          |         D1..Dn) |                      |             |
    |          |&lt;----------------|                      |             |
    |          |                 |                      |             |
    |          |                 |                      |&lt;Wait for the|
    |          |                 |                      |expiry of the|
    |          |                 |                      |        Trial|
    |          |                 |                      |    Duration&gt;|
    |          |                 |                      |             |
    |          |                 |                      |   &lt;Record Rx|
    |          |                 |                      |    frames at|
    |          |                 |                      |   TP2 (Rn1)&gt;|
    |          |                 |                      |             |







<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 57]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-58"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      G-ARP: Gratuitous ARP message

   Discussion:

      A TCP SYN attack should be launched from one of the
      emulated/simulated OpenFlow switches.  Rn1 provides the Path
      Programming Rate of the controller upon handling a denial-of-
      service attack.

      The procedure defined above provides test steps to determine the
      effects of handling denial of service on the Path Programming
      Rate.  The same procedure can be adapted to determine the effects
      on other performance tests listed in this benchmarking test.




































<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 58]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-59"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.7.%20%20Reliability"></a><a class="selflink" href="#appendix-A.7" id="appendix-A.7">A.7</a>.  Reliability</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.7.1.%20%20Controller%20Failover%20Time"></a><a class="selflink" href="#appendix-A.7.1" id="appendix-A.7.1">A.7.1</a>.  Controller Failover Time</span>

Procedure:

Test Traffic  Test Traffic  Network Device       OpenFlow      SDN
Generator TP1 Generator TP2                    Controller   Application
   |            |               |                       |             |
   |            |G-ARP (D1)     |                       |             |
   |            |--------------&gt;|                       |             |
   |            |               |                       |             |
   |            |               |OFPT_PACKET_IN(D1)     |             |
   |            |               |----------------------&gt;|             |
   |            |               |                       |             |
   |Traffic (S1..Sn,D1)         |                       |             |
   |---------------------------&gt;|                       |             |
   |            |               |                       |             |
   |            |               |                       |             |
   |            |               |OFPT_PACKET_IN(S1,D1)  |             |
   |            |               |----------------------&gt;|             |
   |            |               |                       |             |
   |            |               |FLOW_MOD(D1)           |             |
   |            |               |&lt;----------------------|             |
   |            |               |FLOW_MOD(S1)           |             |
   |            |               |&lt;----------------------|             |
   |            |               |                       |             |
   |            |Traffic (S1,D1)|                       |             |
   |            |&lt;--------------|                       |             |
   |            |               |                       |             |
   |            |               |OFPT_PACKET_IN(S2,D1)  |             |
   |            |               |----------------------&gt;|             |
   |            |               |                       |             |
   |            |               |FLOW_MOD(S2)           |             |
   |            |               |&lt;----------------------|             |
   |            |               |                       |             |
   |            |               |OFPT_PACKET_IN         |             |
   |            |               |             (Sn-1,D1) |             |
   |            |               |----------------------&gt;|             |
   |            |               |                       |             |
   |            |               |OFPT_PACKET_IN(Sn,D1)  |             |
   |            |               |----------------------&gt;|             |
   |            |               |          .            |             |
   |            |               |          .            |&lt;Bring down  |
   |            |               |          .            | the active  |
   |            |               |                       | controller&gt; |
   |            |               |  FLOW_MOD(Sn-1)       |             |
   |            |               |    X&lt;-----------------|             |



<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 59]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-60"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   |            |               |                       |             |
   |            |               |FLOW_MOD(Sn)           |             |
   |            |               |&lt;----------------------|             |
   |            |               |                       |             |
   |            |Traffic (Sn,D1)|                       |             |
   |            |&lt;--------------|                       |             |
   |            |               |                       |             |
   |            |               |                       |&lt;Stop the    |
   |            |               |                       |test after   |
   |            |               |                       |recv. traffic|
   |            |               |                       |upon         |
   |            |               |                       |failure&gt;     |

   Legend:

      G-ARP: Gratuitous ARP message

   Discussion:

      The time difference between the last valid frame received before
      the traffic loss and the first frame received after the traffic
      loss will provide the Controller Failover Time.

      If there is no frame loss during the Controller Failover Time, the
      Controller Failover Time can be deemed negligible.


























<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 60]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-61"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/A.7.2.%20%20Network%20Re-provisioning%20Time"></a><a class="selflink" href="#appendix-A.7.2" id="appendix-A.7.2">A.7.2</a>.  Network Re-provisioning Time</span>

Procedure:

Test Traffic  Test Traffic   Network Devices     OpenFlow       SDN
Generator TP1 Generator TP2                     Controller   Application
  |             |                |                      |              |
  |             |G-ARP (D1)      |                      |              |
  |             |---------------&gt;|                      |              |
  |             |                |                      |              |
  |             |                |OFPT_PACKET_IN(D1)    |              |
  |             |                |---------------------&gt;|              |
  |             |G-ARP (S1)      |                      |              |
  |-----------------------------&gt;|                      |              |
  |             |                |                      |              |
  |             |                |OFPT_PACKET_IN(S1)    |              |
  |             |                |---------------------&gt;|              |
  |             |                |                      |              |
  |Traffic (S1,D1,Seq. no (1..n))|                      |              |
  |-----------------------------&gt;|                      |              |
  |             |                |                      |              |
  |             |                |OFPT_PACKET_IN(S1,D1) |              |
  |             |                |---------------------&gt;|              |
  |             |                |                      |              |
  |             | Traffic (D1,S1,|                      |              |
  |             | Seq. no (1..n))|                      |              |
  |             |---------------&gt;|                      |              |
  |             |                |                      |              |
  |             |                |OFPT_PACKET_IN(D1,S1) |              |
  |             |                |---------------------&gt;|              |
  |             |                |                      |              |
  |             |                |FLOW_MOD(D1)          |              |
  |             |                |&lt;---------------------|              |
  |             |                |                      |              |
  |             |                |FLOW_MOD(S1)          |              |
  |             |                |&lt;---------------------|              |
  |             |                |                      |              |
  |             | Traffic (S1,D1,|                      |              |
  |             |     Seq. no(1))|                      |              |
  |             |&lt;---------------|                      |              |
  |             |                |                      |              |
  |             | Traffic (S1,D1,|                      |              |
  |             |     Seq. no(2))|                      |              |
  |             |&lt;---------------|                      |              |
  |             |                |                      |              |






<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 61]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-62"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


  |             |                |                      |              |
  |    Traffic (D1,S1,Seq. no(1))|                      |              |
  |&lt;-----------------------------|                      |              |
  |             |                |                      |              |
  |    Traffic (D1,S1,Seq. no(2))|                      |              |
  |&lt;-----------------------------|                      |              |
  |             |                |                      |              |
  |    Traffic (D1,S1,Seq. no(x))|                      |              |
  |&lt;-----------------------------|                      |              |
  |             |                |                      |              |
  |             | Traffic (S1,D1,|                      |              |
  |             |     Seq. no(x))|                      |              |
  |             |&lt;---------------|                      |              |
  |             |                |                      |              |
  |             |                |                      |              |
  |             |                |                      |  &lt;Bring down |
  |             |                |                      | the switch in|
  |             |                |                      |    the active|
  |             |                |                      | traffic path&gt;|
  |             |                |                      |              |
  |             |                |PORT_STATUS(Sa)       |              |
  |             |                |---------------------&gt;|              |
  |             |                |                      |              |
  |             | Traffic (S1,D1,|                      |              |
  |             | Seq. no(n - 1))|                      |              |
  |             |  X&lt;------------|                      |              |
  |             |                |                      |              |
  |Traffic (D1,S1,Seq. no(n - 1))|                      |              |
  |    X&lt;------------------------|                      |              |
  |             |                |                      |              |
  |             |                |                      |              |
  |             |                |FLOW_MOD(D1)          |              |
  |             |                |&lt;---------------------|              |
  |             |                |                      |              |
  |             |                |FLOW_MOD(S1)          |              |
  |             |                |&lt;---------------------|              |
  |             |                |                      |              |
  |    Traffic (D1,S1,Seq. no(n))|                      |              |
  |&lt;-----------------------------|                      |              |
  |             |                |                      |              |
  |             | Traffic (S1,D1,|                      |              |
  |             |     Seq. no(n))|                      |              |
  |             |&lt;---------------|                      |              |
  |             |                |                      |              |
  |             |                |                      |&lt;Stop the test|
  |             |                |                      |  after recv. |
  |             |                |                      |  traffic upon|
  |             |                |                      |   failover&gt;  |



<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 62]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-63"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


   Legend:

      G-ARP: Gratuitous ARP message
      Seq. no: Sequence number
      Sa: Neighbor switch of the switch that was brought down

   Discussion:

      The time difference between the last valid frame received before
      the traffic loss (packet with sequence number x) and the first
      frame received after the traffic loss (packet with sequence
      number n) will provide the Network Re-provisioning Time.

      Note that the trial is valid only when the controller provisions
      the alternate path upon network failure.

Acknowledgments

   The authors would like to thank the following individuals for
   providing their valuable comments regarding the earlier draft
   versions of this document: Al Morton (AT&amp;T), Sandeep Gangadharan
   (HP), M. Georgescu (NAIST), Andrew McGregor (Google), Scott Bradner,
   Jay Karthik (Cisco), Ramki Krishnan (VMware), Boris Khasanov
   (Huawei), and Brian Castelli (Spirent).



























<span class="grey">Bhuvaneswaran, et al.         Informational                    [Page 63]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-64"></span>
<span class="grey"><a href="./rfc8456">RFC 8456</a>         SDN Controller Benchmarking Methodology    October 2018</span>


Authors' Addresses

   Bhuvaneswaran Vengainathan
   Veryx Technologies Inc.
   1 International Plaza, Suite 550
   Philadelphia, PA  19113
   United States of America

   Email: bhuvaneswaran.vengainathan@veryxtech.com


   Anton Basil
   Veryx Technologies Inc.
   1 International Plaza, Suite 550
   Philadelphia, PA  19113
   United States of America

   Email: anton.basil@veryxtech.com


   Mark Tassinari
   Hewlett Packard Enterprise
   8000 Foothills Blvd.
   Roseville, CA  95747
   United States of America

   Email: mark.tassinari@hpe.com


   Vishwas Manral
   NanoSec Co
   3350 Thomas Rd.
   Santa Clara, CA  95054
   United States of America

   Email: vishwas.manral@gmail.com


   Sarah Banks
   VSS Monitoring
   930 De Guigne Drive
   Sunnyvale, CA  94085
   United States of America

   Email: sbanks@encrypted.net






Bhuvaneswaran, et al.         Informational                    [Page 64]
</pre>
</body></html>