<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9097: Metrics and Methods for One-Way IP Capacity</title>
<meta content="Al Morton" name="author"/>
<meta content="RÃ¼diger Geib" name="author"/>
<meta content="Len Ciavattone" name="author"/>
<meta content="
       This memo revisits the problem of Network Capacity Metrics first
      examined in RFC 5136. This memo specifies a more practical Maximum
      IP-Layer Capacity Metric definition catering to measurement 
      and outlines the corresponding Methods of Measurement. 
    " name="description"/>
<meta content="xml2rfc 3.11.1" name="generator"/>
<meta content="IP Layer" name="keyword"/>
<meta content="Performance" name="keyword"/>
<meta content="Speed" name="keyword"/>
<meta content="Access" name="keyword"/>
<meta content="9097" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.11.1
    Python 3.6.13
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9097.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9097" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-ippm-capacity-metric-method-12" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9097</td>
<td class="center">IP Capacity Metrics/Methods</td>
<td class="right">November 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Morton, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9097">9097</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-11">November 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Morton</div>
<div class="org">AT&amp;T Labs</div>
</div>
<div class="author">
      <div class="author-name">R. Geib</div>
<div class="org">Deutsche Telekom</div>
</div>
<div class="author">
      <div class="author-name">L. Ciavattone</div>
<div class="org">AT&amp;T Labs</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9097</h1>
<h1 id="title">Metrics and Methods for One-Way IP Capacity</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This memo revisits the problem of Network Capacity Metrics first
      examined in RFC 5136. This memo specifies a more practical Maximum
      IP-Layer Capacity Metric definition catering to measurement 
      and outlines the corresponding Methods of Measurement.<a class="pilcrow" href="#section-abstract-1">Â¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">Â¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">Â¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9097">https://www.rfc-editor.org/info/rfc9097</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">Â¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">Â¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">Â¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">â²</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.Â Â <a class="xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.Â Â <a class="xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.Â Â <a class="xref" href="#name-scope-goals-and-applicabili">Scope, Goals, and Applicability</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.Â Â <a class="xref" href="#name-motivation">Motivation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.Â Â <a class="xref" href="#name-general-parameters-and-defi">General Parameters and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.Â Â <a class="xref" href="#name-ip-layer-capacity-singleton">IP-Layer Capacity Singleton Metric Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.Â Â <a class="xref" href="#name-formal-name">Formal Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.Â Â <a class="xref" href="#name-parameters">Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.Â Â <a class="xref" href="#name-metric-definitions">Metric Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="xref" href="#section-5.4">5.4</a>.Â Â <a class="xref" href="#name-related-round-trip-delay-an">Related Round-Trip Delay and One-Way Loss Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a class="xref" href="#section-5.5">5.5</a>.Â Â <a class="xref" href="#name-discussion">Discussion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a class="xref" href="#section-5.6">5.6</a>.Â Â <a class="xref" href="#name-reporting-the-metric">Reporting the Metric</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.Â Â <a class="xref" href="#name-maximum-ip-layer-capacity-m">Maximum IP-Layer Capacity Metric Definitions (Statistics)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.Â Â <a class="xref" href="#name-formal-name-2">Formal Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.Â Â <a class="xref" href="#name-parameters-2">Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.Â Â <a class="xref" href="#name-metric-definitions-2">Metric Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.Â Â <a class="xref" href="#name-related-round-trip-delay-and">Related Round-Trip Delay and One-Way Loss Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="xref" href="#section-6.5">6.5</a>.Â Â <a class="xref" href="#name-discussion-2">Discussion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="xref" href="#section-6.6">6.6</a>.Â Â <a class="xref" href="#name-reporting-the-metric-2">Reporting the Metric</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.Â Â <a class="xref" href="#name-ip-layer-sender-bit-rate-si">IP-Layer Sender Bit Rate Singleton Metric Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.Â Â <a class="xref" href="#name-formal-name-3">Formal Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.Â Â <a class="xref" href="#name-parameters-3">Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.Â Â <a class="xref" href="#name-metric-definition">Metric Definition</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-7.4">7.4</a>.Â Â <a class="xref" href="#name-discussion-3">Discussion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a class="xref" href="#section-7.5">7.5</a>.Â Â <a class="xref" href="#name-reporting-the-metric-3">Reporting the Metric</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.Â Â <a class="xref" href="#name-method-of-measurement">Method of Measurement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.Â Â <a class="xref" href="#name-load-rate-adjustment-algori">Load Rate Adjustment Algorithm</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.Â Â <a class="xref" href="#name-measurement-qualification-o">Measurement Qualification or Verification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.Â Â <a class="xref" href="#name-measurement-considerations">Measurement Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.Â Â <a class="xref" href="#name-reporting-formats">Reporting Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.Â Â <a class="xref" href="#name-configuration-and-reporting">Configuration and Reporting Data Formats</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>.Â <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>.Â <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-12">12</a>.Â <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a class="xref" href="#section-12.1">12.1</a>.Â Â <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a class="xref" href="#section-12.2">12.2</a>.Â Â <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#appendix-A">Appendix A</a>.Â Â <a class="xref" href="#name-load-rate-adjustment-pseudo">Load Rate Adjustment Pseudocode</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#appendix-B">Appendix B</a>.Â Â <a class="xref" href="#name-rfc-8085-udp-guidelines-che">RFC 8085 UDP Guidelines Check</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a class="xref" href="#appendix-B.1">B.1</a>.Â Â <a class="xref" href="#name-assessment-of-mandatory-req">Assessment of Mandatory Requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a class="xref" href="#appendix-B.2">B.2</a>.Â Â <a class="xref" href="#name-assessment-of-recommendatio">Assessment of Recommendations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a class="xref" href="#appendix-D"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The IETF's efforts to define Network Capacity and Bulk Transport Capacity (BTC) have
      been chartered and progressed for over twenty years. Over that time, the
      performance community has seen the development of Informative definitions in
      <span>[<a class="xref" href="#RFC3148">RFC3148</a>]</span> for the Framework for Bulk Transport Capacity, <span>[<a class="xref" href="#RFC5136">RFC5136</a>]</span> for Network Capacity and Maximum IP-Layer Capacity, and the Experimental metric definitions and methods in
"<a class="xref" href="#RFC8337">Model-Based Metrics for Bulk Transport Capacity</a>" <span>[<a class="xref" href="#RFC8337">RFC8337</a>]</span>.<a class="pilcrow" href="#section-1-1">Â¶</a></p>
<p id="section-1-2">This memo revisits the problem of Network Capacity Metrics examined
      first in <span>[<a class="xref" href="#RFC3148">RFC3148</a>]</span> and later in <span>[<a class="xref" href="#RFC5136">RFC5136</a>]</span>.
      Maximum IP-Layer Capacity and Bulk Transfer Capacity <span>[<a class="xref" href="#RFC3148">RFC3148</a>]</span> (goodput) are different metrics. Maximum IP-Layer Capacity is
      like the theoretical goal for goodput. There are many metrics in <span>[<a class="xref" href="#RFC5136">RFC5136</a>]</span>, such as Available Capacity. Measurements depend on
      the network path under test and the use case. Here, the main use case is
      to assess the Maximum Capacity of one or more networks where the
      subscriber receives specific performance assurances, sometimes referred
      to as Internet access, or where a limit of the technology used on a
      path is being tested. For example, when a user subscribes to a 1 Gbps
      service, then the user, the Service Provider, and possibly other parties
      want to assure that the specified performance level is delivered. When a test confirms
      the subscribed performance level, a tester can seek the location of
      a bottleneck elsewhere.<a class="pilcrow" href="#section-1-2">Â¶</a></p>
<p id="section-1-3">This memo recognizes the importance of a definition of a Maximum
      IP-Layer Capacity Metric at a time when Internet subscription speeds
      have increased dramatically -- a definition that is both practical and
      effective for the performance community's needs, including Internet
      users. The metric definitions are intended to use Active Methods of
      Measurement <span>[<a class="xref" href="#RFC7799">RFC7799</a>]</span>, and a Method of Measurement is
      included for each metric.<a class="pilcrow" href="#section-1-3">Â¶</a></p>
<p id="section-1-4">The most direct Active Measurement of IP-Layer Capacity would use IP
      packets, but in practice a transport header is needed to traverse
      address and port translators. UDP offers the most direct assessment
      possibility, and in the measurement study to investigate whether UDP is viable as a general Internet transport protocol <span>[<a class="xref" href="#copycat">copycat</a>]</span>, the authors found that a high percentage of paths tested
      support UDP transport. A number of liaison statements have been exchanged on this
      topic <span>[<a class="xref" href="#LS-SG12-A">LS-SG12-A</a>]</span> <span>[<a class="xref" href="#LS-SG12-B">LS-SG12-B</a>]</span>, discussing
      the laboratory and field tests that support the UDP-based approach to
      IP-Layer Capacity measurement.<a class="pilcrow" href="#section-1-4">Â¶</a></p>
<p id="section-1-5">This memo also recognizes the updates to the IP Performance
      Metrics (IPPM) Framework <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span> that have been published since 1998. In particular, it makes use of <span>[<a class="xref" href="#RFC7312">RFC7312</a>]</span> for the Advanced Stream and
      Sampling Framework and <span>[<a class="xref" href="#RFC8468">RFC8468</a>]</span> for its IPv4, IPv6, and
      IPv4-IPv6 Coexistence Updates.<a class="pilcrow" href="#section-1-5">Â¶</a></p>
<p id="section-1-6"><a class="xref" href="#app-a-load-rate-adj-pseudocode">Appendix A</a> describes the load rate adjustment algorithm, using
      pseudocode. <a class="xref" href="#app-b-rfc8085-udp">Appendix B</a> discusses the algorithm's compliance with <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span>.<a class="pilcrow" href="#section-1-6">Â¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
       "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
       "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
       "<span class="bcp14">SHOULD NOT</span>",
       "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
       "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
       are to be interpreted as described in BCPÂ 14
       <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only
       when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">Â¶</a></p>
</section>
</section>
<div id="sec-2-scope">
<section id="section-2">
      <h2 id="name-scope-goals-and-applicabili">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-scope-goals-and-applicabili">Scope, Goals, and Applicability</a>
      </h2>
<p id="section-2-1">The scope of this memo is to define Active Measurement metrics and
      corresponding methods to unambiguously determine Maximum IP-Layer
      Capacity and useful secondary metrics.<a class="pilcrow" href="#section-2-1">Â¶</a></p>
<p id="section-2-2">Another goal is to harmonize the specified Metric and Method across
      the industry, and this memo is the vehicle that captures IETF consensus,
      possibly resulting in changes to the specifications of other Standards
      Development Organizations (SDOs) (through each SDO's normal contribution
      process or through liaison exchange).<a class="pilcrow" href="#section-2-2">Â¶</a></p>
<p id="section-2-3">Secondary goals are to add considerations for test procedures and to
      provide interpretation of the Maximum IP-Layer Capacity results (to
      identify cases where more testing is warranted, possibly with alternate
      configurations). Fostering the development of protocol support for this
      Metric and Method of Measurement is also a goal of this memo (all active
      testing protocols currently defined by the IPPM WG are UDP based,
      meeting a key requirement of these methods). The supporting protocol
      development to measure this metric according to the specified method is
      a key future contribution to Internet measurement.<a class="pilcrow" href="#section-2-3">Â¶</a></p>
<p id="section-2-4">The load rate adjustment algorithm's scope is limited to helping
      determine the Maximum IP-Layer Capacity in the context of an infrequent,
      diagnostic, short-term measurement. It is <span class="bcp14">RECOMMENDED</span> to discontinue
      non-measurement traffic that shares a subscriber's dedicated resources
      while testing: measurements may not be accurate, and throughput of
      competing elastic traffic may be greatly reduced.<a class="pilcrow" href="#section-2-4">Â¶</a></p>
<p id="section-2-5">The primary application of the Metrics and Methods of Measurement
      described here is the same as what is described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7497#section-2">Section 2</a> of [<a class="xref" href="#RFC7497">RFC7497</a>]</span>, where:<a class="pilcrow" href="#section-2-5">Â¶</a></p>
<blockquote id="section-2-6">The access portion of the network is the focus of this problem
          statement. The user typically subscribes to a service with
          bidirectional [Internet] access partly described by rates in bits per
          second.<a class="pilcrow" href="#section-2-6">Â¶</a>
</blockquote>
<p id="section-2-7">In addition, the use of the load rate adjustment algorithm
      described in <a class="xref" href="#load-rate-adj">Section 8.1</a> has the following additional applicability
      limitations:<a class="pilcrow" href="#section-2-7">Â¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-8.1">It <span class="bcp14">MUST</span> only be used in the application of diagnostic and operations
      measurements as described in this memo.<a class="pilcrow" href="#section-2-8.1">Â¶</a>
</li>
        <li class="normal" id="section-2-8.2">It <span class="bcp14">MUST</span> only be used in circumstances consistent with
      <a class="xref" href="#sec-cons">Section 10</a> ("Security Considerations").<a class="pilcrow" href="#section-2-8.2">Â¶</a>
</li>
        <li class="normal" id="section-2-8.3">If a network operator is certain of the IP-Layer Capacity to be
      validated, then testing <span class="bcp14">MAY</span> start with a fixed-rate test at the IP-Layer
      Capacity and avoid activating the load adjustment algorithm. However,
      the stimulus for a diagnostic test (such as a subscriber request)
      strongly implies that there is no certainty, and the load adjustment
      algorithm is <span class="bcp14">RECOMMENDED</span>.<a class="pilcrow" href="#section-2-8.3">Â¶</a>
</li>
      </ul>
<p id="section-2-9">Further, the Metrics and Methods of Measurement are intended for use
      where specific exact path information is unknown within a range of
      possible values:<a class="pilcrow" href="#section-2-9">Â¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-10.1">The subscriber's exact Maximum IP-Layer Capacity is unknown (which
      is sometimes the case; service rates can be increased due to upgrades
      without a subscriber's request or increased to provide a surplus to compensate
      for possible underestimates of TCP-based testing).<a class="pilcrow" href="#section-2-10.1">Â¶</a>
</li>
        <li class="normal" id="section-2-10.2">The size of the bottleneck buffer is unknown.<a class="pilcrow" href="#section-2-10.2">Â¶</a>
</li>
      </ul>
<p id="section-2-11">Finally, the measurement system's load rate adjustment algorithm
      <span class="bcp14">SHALL NOT</span> be provided with the exact capacity value to be validated aÂ priori. This restriction fosters a fair result and removes an
      opportunity for nefarious operation enabled by knowledge of the correct answer.<a class="pilcrow" href="#section-2-11">Â¶</a></p>
</section>
</div>
<section id="section-3">
      <h2 id="name-motivation">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-motivation">Motivation</a>
      </h2>
<p id="section-3-1">As with any problem that has been worked on for many years in various
      SDOs without any special attempts at coordination, various solutions for
      Metrics and Methods have emerged.<a class="pilcrow" href="#section-3-1">Â¶</a></p>
<p id="section-3-2">There are five factors that have changed (or began to change) in the
      2013-2019 time frame, and the presence of any one of them on the path
      requires features in the measurement design to account for the
      changes:<a class="pilcrow" href="#section-3-2">Â¶</a></p>
<ol class="normal type-1" id="section-3-3" start="1" type="1">
<li id="section-3-3.1">Internet access is no longer the bottleneck for many users (but
          subscribers expect network providers to honor contracted
          performance).<a class="pilcrow" href="#section-3-3.1">Â¶</a>
</li>
        <li id="section-3-3.2">Both transfer rate and latency are important to a user's
          satisfaction.<a class="pilcrow" href="#section-3-3.2">Â¶</a>
</li>
        <li id="section-3-3.3">UDP's role in transport is growing in areas where TCP once
          dominated.<a class="pilcrow" href="#section-3-3.3">Â¶</a>
</li>
        <li id="section-3-3.4">Content and applications are moving physically closer to
          users.<a class="pilcrow" href="#section-3-3.4">Â¶</a>
</li>
        <li id="section-3-3.5">There is less emphasis on ISP gateway measurements, possibly due
          to less traffic crossing ISP gateways in the future.<a class="pilcrow" href="#section-3-3.5">Â¶</a>
</li>
      </ol>
</section>
<div id="gen-params-defs">
<section id="section-4">
      <h2 id="name-general-parameters-and-defi">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-general-parameters-and-defi">General Parameters and Definitions</a>
      </h2>
<p id="section-4-1">This section lists the <span class="bcp14">REQUIRED</span> input factors to specify a Sender or
      Receiver metric.<a class="pilcrow" href="#section-4-1">Â¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4-2">
        <dt id="section-4-2.1">Src:</dt>
        <dd id="section-4-2.2" style="margin-left: 1.5em">One of the addresses of a host (such as a globally routable
          IP address).<a class="pilcrow" href="#section-4-2.2">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.3">Dst:</dt>
        <dd id="section-4-2.4" style="margin-left: 1.5em">One of the addresses of a host (such as a globally routable
          IP address).<a class="pilcrow" href="#section-4-2.4">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.5">MaxHops:</dt>
        <dd id="section-4-2.6" style="margin-left: 1.5em">The limit on the number of Hops a specific packet may
          visit as it traverses from the host at Src to the host at Dst
          (implemented in the TTL or Hop Limit).<a class="pilcrow" href="#section-4-2.6">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.7">T0:</dt>
        <dd id="section-4-2.8" style="margin-left: 1.5em">The time at the start of a measurement interval, when packets
          are first transmitted from the Source.<a class="pilcrow" href="#section-4-2.8">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.9">I:</dt>
        <dd id="section-4-2.10" style="margin-left: 1.5em">The nominal duration of a measurement interval at the
          Destination (default 10 sec).<a class="pilcrow" href="#section-4-2.10">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.11">dt:</dt>
        <dd id="section-4-2.12" style="margin-left: 1.5em">The nominal duration of m equal sub-intervals in I at the
          Destination (default 1 sec).<a class="pilcrow" href="#section-4-2.12">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.13">dtn:</dt>
        <dd id="section-4-2.14" style="margin-left: 1.5em">The beginning boundary of a specific sub-interval, n, one of
          m sub-intervals in I.<a class="pilcrow" href="#section-4-2.14">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.15">FT:</dt>
        <dd id="section-4-2.16" style="margin-left: 1.5em">The feedback time interval between status feedback messages
          communicating measurement results, sent from the Receiver to control
          the Sender. The results are evaluated throughout the test to
          determine how to adjust the current offered load rate at the Sender
          (default 50 msec).<a class="pilcrow" href="#section-4-2.16">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.17">Tmax:</dt>
        <dd id="section-4-2.18" style="margin-left: 1.5em">A maximum waiting time for test packets to arrive at the
          Destination, set sufficiently long to disambiguate packets with long
          delays from packets that are discarded (lost), such that the
          distribution of one-way delay is not truncated.<a class="pilcrow" href="#section-4-2.18">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.19">F:</dt>
        <dd id="section-4-2.20" style="margin-left: 1.5em">The number of different flows synthesized by the method
          (default one flow).<a class="pilcrow" href="#section-4-2.20">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.21">Flow:</dt>
        <dd id="section-4-2.22" style="margin-left: 1.5em">The stream of packets with the same n-tuple of designated
          header fields that (when held constant) result in identical
          treatment in a multipath decision (such as the decision taken in
          load balancing). Note: The IPv6 flow label <span class="bcp14">SHOULD</span> be included in the
          flow definition when routers have complied with the guidelines provided in <span>[<a class="xref" href="#RFC6438">RFC6438</a>]</span>.<a class="pilcrow" href="#section-4-2.22">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.23">Type-P:</dt>
        <dd id="section-4-2.24" style="margin-left: 1.5em">The complete description of the test packets for which
          this assessment applies (including the flow-defining fields). Note
          that the UDP transport layer is one requirement for test packets
          specified below. Type-P is a concept parallel to "population of
          interest" as defined in Clause 6.1.1 of <span>[<a class="xref" href="#Y.1540">Y.1540</a>]</span>.<a class="pilcrow" href="#section-4-2.24">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.25">Payload Content:</dt>
        <dd id="section-4-2.26" style="margin-left: 1.5em">An aspect of the Type-P Parameter that 
can help to improve measurement determinism. Specifying packet payload content
helps to ensure IPPM Framework-conforming Metrics and Methods. If
          there is payload compression in the path and tests intend to
          characterize a possible advantage due to compression, then payload
          content <span class="bcp14">SHOULD</span> be supplied by a pseudorandom sequence generator, by
          using part of a compressed file, or by other means. See
          <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7312#section-3.1.2">Section 3.1.2</a> of [<a class="xref" href="#RFC7312">RFC7312</a>]</span>.<a class="pilcrow" href="#section-4-2.26">Â¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.27">PM:</dt>
        <dd id="section-4-2.28" style="margin-left: 1.5em">A list of fundamental metrics, such as loss, delay, and
          reordering, and corresponding target performance threshold(s). At least
          one fundamental metric and target performance threshold <span class="bcp14">MUST</span> be
          supplied (such as one-way IP packet loss <span>[<a class="xref" href="#RFC7680">RFC7680</a>]</span>
          equal to zero).<a class="pilcrow" href="#section-4-2.28">Â¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-4-3">A non-Parameter that is required for several metrics is
      defined below:<a class="pilcrow" href="#section-4-3">Â¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4-4">
        <dt id="section-4-4.1">T:</dt>
        <dd id="section-4-4.2" style="margin-left: 1.5em">The host time of the <strong>first</strong> test packet's <strong>arrival</strong> as
          measured at the Destination Measurement Point, or MP(Dst). There may
          be other packets sent between Source and Destination hosts that are
          excluded, so this is the time of arrival of the first packet used
          for measurement of the metric.<a class="pilcrow" href="#section-4-4.2">Â¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-4-5">Note that timestamp format and resolution, sequence numbers,
      etc. will be established by the chosen test protocol standard or
      implementation.<a class="pilcrow" href="#section-4-5">Â¶</a></p>
</section>
</div>
<section id="section-5">
      <h2 id="name-ip-layer-capacity-singleton">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-ip-layer-capacity-singleton">IP-Layer Capacity Singleton Metric Definitions</a>
      </h2>
<p id="section-5-1">This section sets requirements for the Singleton metric that supports
      the Maximum IP-Layer Capacity Metric definitions in <a class="xref" href="#max-ip-metric-defs">Section 6</a>.<a class="pilcrow" href="#section-5-1">Â¶</a></p>
<section id="section-5.1">
        <h3 id="name-formal-name">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-formal-name">Formal Name</a>
        </h3>
<p id="section-5.1-1">"Type-P-One-way-IP-Capacity" is the formal name; it is informally called "IP-Layer Capacity".<a class="pilcrow" href="#section-5.1-1">Â¶</a></p>
<p id="section-5.1-2">Note that Type-P depends on the chosen method.<a class="pilcrow" href="#section-5.1-2">Â¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-parameters">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-parameters">Parameters</a>
        </h3>
<p id="section-5.2-1">This section lists the <span class="bcp14">REQUIRED</span> input factors to specify the
        metric, beyond those listed in <a class="xref" href="#gen-params-defs">Section 4</a>.<a class="pilcrow" href="#section-5.2-1">Â¶</a></p>
<p id="section-5.2-2">No additional Parameters are needed.<a class="pilcrow" href="#section-5.2-2">Â¶</a></p>
</section>
<section id="section-5.3">
        <h3 id="name-metric-definitions">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-metric-definitions">Metric Definitions</a>
        </h3>
<p id="section-5.3-1">This section defines the <span class="bcp14">REQUIRED</span> aspects of the measurable
        IP-Layer Capacity Metric (unless otherwise indicated) for measurements
        between specified Source and Destination hosts:<a class="pilcrow" href="#section-5.3-1">Â¶</a></p>
<p id="section-5.3-2">Define the IP-Layer Capacity, C(T,dt,PM), to be the number of
        IP-Layer bits (including header and data fields) in packets that can
        be transmitted from the Src host and correctly received by the Dst
        host during one contiguous sub-interval, dt in length. The IP-Layer
        Capacity depends on the Src and Dst hosts, the host addresses, and the
        path between the hosts.<a class="pilcrow" href="#section-5.3-2">Â¶</a></p>
<p id="section-5.3-3">The number of these IP-Layer bits is designated n0[dtn,dtn+1] for a
        specific dt.<a class="pilcrow" href="#section-5.3-3">Â¶</a></p>
<p id="section-5.3-4">When the packet size is known and of fixed size, the packet count
        during a single sub-interval dt multiplied by the total bits in IP
        header and data fields is equal to n0[dtn,dtn+1].<a class="pilcrow" href="#section-5.3-4">Â¶</a></p>
<p id="section-5.3-5">Anticipating a Sample of Singletons, the number of sub-intervals
        with duration dt <span class="bcp14">MUST</span> be set to a natural number m, so that T+I = T +
        m*dt with dtn+1 - dtn = dt for 1 &lt;= n &lt;= m.<a class="pilcrow" href="#section-5.3-5">Â¶</a></p>
<p id="section-5.3-6">Parameter PM represents other performance metrics (see <a class="xref" href="#sec5-4-rt-delay">Section 5.4</a>
        below); their measurement results <span class="bcp14">SHALL</span> be collected during
        measurement of IP-Layer Capacity and associated with the corresponding
        dtn for further evaluation and reporting. Users <span class="bcp14">SHALL</span> specify the
        Parameter Tmax as required by each metric's reference definition.<a class="pilcrow" href="#section-5.3-6">Â¶</a></p>
<p id="section-5.3-7">Mathematically, this definition is represented as (for each n):<a class="pilcrow" href="#section-5.3-7">Â¶</a></p>
<span id="name-equation-for-ip-layer-capac"></span><figure id="figure-1">
          <div class="alignCenter art-ascii-art art-text artwork" id="section-5.3-8.1">
<pre>                 ( n0[dtn,dtn+1] )
 C(T,dt,PM) = -------------------------
                        dt
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-equation-for-ip-layer-capac">Equation for IP-Layer Capacity</a>
          </figcaption></figure>
<p id="section-5.3-9">and:<a class="pilcrow" href="#section-5.3-9">Â¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3-10.1">n0 is the total number of IP-Layer header and payload bits that
            can be transmitted in standard-formed packets <span>[<a class="xref" href="#RFC8468">RFC8468</a>]</span> from the Src host and correctly received by the
            Dst host during one contiguous sub-interval, dt in length, during
            the interval [T,T+I].<a class="pilcrow" href="#section-5.3-10.1">Â¶</a>
</li>
          <li class="normal" id="section-5.3-10.2">C(T,dt,PM), the IP-Layer Capacity, corresponds to the value of
            n0 measured in any sub-interval beginning at dtn, divided by the
            length of the sub-interval, dt.<a class="pilcrow" href="#section-5.3-10.2">Â¶</a>
</li>
          <li class="normal" id="section-5.3-10.3">PM represents other performance metrics (see <a class="xref" href="#sec5-4-rt-delay">Section 5.4</a>
            below); their measurement results <span class="bcp14">SHALL</span> be collected during
            measurement of IP-Layer Capacity and associated with the
            corresponding dtn for further evaluation and reporting.<a class="pilcrow" href="#section-5.3-10.3">Â¶</a>
</li>
          <li class="normal" id="section-5.3-10.4">All sub-intervals <span class="bcp14">MUST</span> be of equal duration. Choosing dt as
            non-overlapping consecutive time intervals allows for a simple
            implementation.<a class="pilcrow" href="#section-5.3-10.4">Â¶</a>
</li>
          <li class="normal" id="section-5.3-10.5">The bit rate of the physical interface of the measurement
            devices <span class="bcp14">MUST</span> be higher than the smallest of the links on the path
            whose C(T,I,PM) is to be measured (the bottleneck link).<a class="pilcrow" href="#section-5.3-10.5">Â¶</a>
</li>
        </ul>
<p id="section-5.3-11">Measurements according to this definition <span class="bcp14">SHALL</span> use the UDP
        transport layer. Standard-formed packets are specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8468#section-5">Section 5</a> of [<a class="xref" href="#RFC8468">RFC8468</a>]</span>. The measurement <span class="bcp14">SHOULD</span> use a randomized
        Source port or equivalent technique, and <span class="bcp14">SHOULD</span> send responses from
        the Source address matching the test packet Destination address.<a class="pilcrow" href="#section-5.3-11">Â¶</a></p>
<p id="section-5.3-12">Some effects of compression on measurement are discussed in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8468#section-6">Section 6</a> of [<a class="xref" href="#RFC8468">RFC8468</a>]</span>.<a class="pilcrow" href="#section-5.3-12">Â¶</a></p>
</section>
<div id="sec5-4-rt-delay">
<section id="section-5.4">
        <h3 id="name-related-round-trip-delay-an">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-related-round-trip-delay-an">Related Round-Trip Delay and One-Way Loss Definitions</a>
        </h3>
<p id="section-5.4-1">RTD[dtn,dtn+1] is defined as a Sample of the Round-Trip Delay <span>[<a class="xref" href="#RFC2681">RFC2681</a>]</span> between the Src host and the Dst
        host during the interval [T,T+I] (that contains equal non-overlapping
        intervals of dt). The "reasonable period of time" mentioned in <span>[<a class="xref" href="#RFC2681">RFC2681</a>]</span> is the Parameter Tmax in this memo. The statistics
        used to summarize RTD[dtn,dtn+1] <span class="bcp14">MAY</span> include the minimum, maximum,
        median, mean, and the range = (maximum - minimum). Some of these statistics are needed for load adjustment purposes (<a class="xref" href="#load-rate-adj">Section 8.1</a>), measurement qualification (<a class="xref" href="#meas-qual-verif">Section 8.2</a>), and reporting (<a class="xref" href="#rpt-formats">Section 9</a>).<a class="pilcrow" href="#section-5.4-1">Â¶</a></p>
<p id="section-5.4-2">OWL[dtn,dtn+1] is defined as a Sample of the One-Way Loss <span>[<a class="xref" href="#RFC7680">RFC7680</a>]</span> between the Src host and the Dst host
        during the interval [T,T+I] (that contains equal non-overlapping
        intervals of dt). The statistics used to summarize OWL[dtn,dtn+1] <span class="bcp14">MAY</span>
        include the count of lost packets and the ratio of lost packets.<a class="pilcrow" href="#section-5.4-2">Â¶</a></p>
<p id="section-5.4-3">Other metrics <span class="bcp14">MAY</span> be measured: one-way reordering, duplication, and
        delay variation.<a class="pilcrow" href="#section-5.4-3">Â¶</a></p>
</section>
</div>
<section id="section-5.5">
        <h3 id="name-discussion">
<a class="section-number selfRef" href="#section-5.5">5.5. </a><a class="section-name selfRef" href="#name-discussion">Discussion</a>
        </h3>
<p id="section-5.5-1">See the corresponding section for Maximum IP-Layer Capacity (<a class="xref" href="#Maximum-IP-Layer-Capacity-Discussion">Section 6.5</a>).<a class="pilcrow" href="#section-5.5-1">Â¶</a></p>
</section>
<section id="section-5.6">
        <h3 id="name-reporting-the-metric">
<a class="section-number selfRef" href="#section-5.6">5.6. </a><a class="section-name selfRef" href="#name-reporting-the-metric">Reporting the Metric</a>
        </h3>
<p id="section-5.6-1">The IP-Layer Capacity <span class="bcp14">SHOULD</span> be reported with at least
        single-Megabit resolution, in units of Megabits per second (Mbps) (which,
        to avoid any confusion, is 1,000,000 bits per second).<a class="pilcrow" href="#section-5.6-1">Â¶</a></p>
<p id="section-5.6-2">The related One-Way Loss metric and Round-Trip Delay measurements
        for the same Singleton <span class="bcp14">SHALL</span> be reported, also with meaningful
        resolution for the values measured.<a class="pilcrow" href="#section-5.6-2">Â¶</a></p>
<p id="section-5.6-3">Individual Capacity measurements <span class="bcp14">MAY</span> be reported in a manner
        consistent with the Maximum IP-Layer Capacity; see <a class="xref" href="#rpt-formats">Section 9</a>.<a class="pilcrow" href="#section-5.6-3">Â¶</a></p>
</section>
</section>
<div id="max-ip-metric-defs">
<section id="section-6">
      <h2 id="name-maximum-ip-layer-capacity-m">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-maximum-ip-layer-capacity-m">Maximum IP-Layer Capacity Metric Definitions (Statistics)</a>
      </h2>
<p id="section-6-1">This section sets requirements for the following components to
      support the Maximum IP-Layer Capacity Metric.<a class="pilcrow" href="#section-6-1">Â¶</a></p>
<section id="section-6.1">
        <h3 id="name-formal-name-2">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-formal-name-2">Formal Name</a>
        </h3>
<p id="section-6.1-1">"Type-P-One-way-Max-IP-Capacity" is the formal name; it is informally called "Maximum IP-Layer Capacity".<a class="pilcrow" href="#section-6.1-1">Â¶</a></p>
<p id="section-6.1-2">Note that Type-P depends on the chosen method.<a class="pilcrow" href="#section-6.1-2">Â¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-parameters-2">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-parameters-2">Parameters</a>
        </h3>
<p id="section-6.2-1">This section lists the <span class="bcp14">REQUIRED</span> input factors to specify the
        metric, beyond those listed in <a class="xref" href="#gen-params-defs">Section 4</a>.<a class="pilcrow" href="#section-6.2-1">Â¶</a></p>
<p id="section-6.2-2">No additional Parameters or definitions are needed.<a class="pilcrow" href="#section-6.2-2">Â¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-metric-definitions-2">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-metric-definitions-2">Metric Definitions</a>
        </h3>
<p id="section-6.3-1">This section defines the <span class="bcp14">REQUIRED</span> aspects of the Maximum IP-Layer
        Capacity Metric (unless otherwise indicated) for measurements between
        specified Source and Destination hosts:<a class="pilcrow" href="#section-6.3-1">Â¶</a></p>
<p id="section-6.3-2">Define the Maximum IP-Layer Capacity, Maximum_C(T,I,PM), to be the
        maximum number of IP-Layer bits n0[dtn,dtn+1] divided by dt that can
        be transmitted in packets from the Src host and correctly received by
        the Dst host, over all dt-length intervals in [T,T+I] and meeting
        the PM criteria. An equivalent definition would be the maximum of a Sample of size m of Singletons
        C(T,I,PM) collected during the interval [T,T+I] and meeting the PM
        criteria.<a class="pilcrow" href="#section-6.3-2">Â¶</a></p>
<p id="section-6.3-3">The number of sub-intervals with duration dt <span class="bcp14">MUST</span> be set to a
        natural number m, so that T+I = T + m*dt with dtn+1 - dtn = dt for 1
        &lt;= n &lt;= m.<a class="pilcrow" href="#section-6.3-3">Â¶</a></p>
<p id="section-6.3-4">Parameter PM represents the other performance metrics (see
        <a class="xref" href="#sec6-4-rt-delay">Section 6.4</a> below) and their measurement results for the Maximum IP-Layer
        Capacity. At least one target performance threshold (PM criterion)
        <span class="bcp14">MUST</span> be defined. If more than one metric and target performance
        threshold is defined, then the sub-interval with the maximum number of
        bits transmitted <span class="bcp14">MUST</span> meet all the target performance thresholds.
        Users <span class="bcp14">SHALL</span> specify the Parameter Tmax as required by each metric's
        reference definition.<a class="pilcrow" href="#section-6.3-4">Â¶</a></p>
<p id="section-6.3-5">Mathematically, this definition can be represented as:<a class="pilcrow" href="#section-6.3-5">Â¶</a></p>
<span id="name-equation-for-maximum-capaci"></span><figure id="figure-2">
          <div class="alignCenter art-ascii-art art-text artwork" id="section-6.3-6.1">
<pre>                        max  ( n0[dtn,dtn+1] )
                        [T,T+I]
  Maximum_C(T,I,PM) = -------------------------
                                 dt

  where:

    T                                      T+I
    _________________________________________
    |   |   |   |   |   |   |   |   |   |   |
dtn=1   2   3   4   5   6   7   8   9  10  n+1
                                       n=m
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-equation-for-maximum-capaci">Equation for Maximum Capacity</a>
          </figcaption></figure>
<p id="section-6.3-7">and:<a class="pilcrow" href="#section-6.3-7">Â¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-8.1">n0 is the total number of IP-Layer header and payload bits that
            can be transmitted in standard-formed packets from the Src host
            and correctly received by the Dst host during one contiguous
            sub-interval, dt in length, during the interval [T,T+I].<a class="pilcrow" href="#section-6.3-8.1">Â¶</a>
</li>
          <li class="normal" id="section-6.3-8.2">Maximum_C(T,I,PM), the Maximum IP-Layer Capacity, corresponds to
            the maximum value of n0 measured in any sub-interval beginning at
            dtn, divided by the constant length of all sub-intervals, dt.<a class="pilcrow" href="#section-6.3-8.2">Â¶</a>
</li>
          <li class="normal" id="section-6.3-8.3">PM represents the other performance metrics (see <a class="xref" href="#sec6-4-rt-delay">Section 6.4</a>)
            and their measurement results for the Maximum IP-Layer Capacity.
            At least one target performance threshold (PM criterion) <span class="bcp14">MUST</span> be
            defined.<a class="pilcrow" href="#section-6.3-8.3">Â¶</a>
</li>
          <li class="normal" id="section-6.3-8.4">All sub-intervals <span class="bcp14">MUST</span> be of equal duration. Choosing dt as
            non-overlapping consecutive time intervals allows for a simple
            implementation.<a class="pilcrow" href="#section-6.3-8.4">Â¶</a>
</li>
          <li class="normal" id="section-6.3-8.5">The bit rate of the physical interface of the measurement
            systems <span class="bcp14">MUST</span> be higher than the smallest of the links on the path
            whose Maximum_C(T,I,PM) is to be measured (the bottleneck
            link).<a class="pilcrow" href="#section-6.3-8.5">Â¶</a>
</li>
        </ul>
<p id="section-6.3-9">In this definition, the m sub-intervals can be viewed as trials
        when the Src host varies the transmitted packet rate, searching for
        the maximum n0 that meets the PM criteria measured at the Dst host in
        a test of duration I. When the transmitted packet rate is held
        constant at the Src host, the m sub-intervals may also be viewed as
        trials to evaluate the stability of n0 and metric(s) in the PM list
        over all dt-length intervals in I.<a class="pilcrow" href="#section-6.3-9">Â¶</a></p>
<p id="section-6.3-10">Measurements according to these definitions <span class="bcp14">SHALL</span> use the UDP
        transport layer.<a class="pilcrow" href="#section-6.3-10">Â¶</a></p>
</section>
<div id="sec6-4-rt-delay">
<section id="section-6.4">
        <h3 id="name-related-round-trip-delay-and">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-related-round-trip-delay-and">Related Round-Trip Delay and One-Way Loss Definitions</a>
        </h3>
<p id="section-6.4-1">RTD[dtn,dtn+1] and OWL[dtn,dtn+1] are defined in <a class="xref" href="#sec5-4-rt-delay">Section 5.4</a>. Here,
        the test intervals are increased to match the capacity Samples,
        RTD[T,I] and OWL[T,I].<a class="pilcrow" href="#section-6.4-1">Â¶</a></p>
<p id="section-6.4-2">The interval dtn,dtn+1 where Maximum_C(T,I,PM) occurs is the
        reporting sub-interval for RTD[dtn,dtn+1] and OWL[dtn,dtn+1] within RTD[T,I] and OWL[T,I].<a class="pilcrow" href="#section-6.4-2">Â¶</a></p>
<p id="section-6.4-3">Other metrics <span class="bcp14">MAY</span> be measured: one-way reordering, duplication, and
        delay variation.<a class="pilcrow" href="#section-6.4-3">Â¶</a></p>
</section>
</div>
<div id="Maximum-IP-Layer-Capacity-Discussion">
<section id="section-6.5">
        <h3 id="name-discussion-2">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-discussion-2">Discussion</a>
        </h3>
<p id="section-6.5-1">If traffic conditioning (e.g., shaping, policing) applies along a
        path for which Maximum_C(T,I,PM) is to be determined, different values
        for dt <span class="bcp14">SHOULD</span> be picked and measurements executed during multiple
        intervals [T,T+I]. Each duration dt <span class="bcp14">SHOULD</span> be chosen so that it is an
        integer multiple of increasing values k times serialization delay of a
        Path MTU (PMTU) at the physical interface speed where traffic conditioning is
        expected. This should avoid taking configured burst tolerance
        Singletons as a valid Maximum_C(T,I,PM) result.<a class="pilcrow" href="#section-6.5-1">Â¶</a></p>
<p id="section-6.5-2">A Maximum_C(T,I,PM) without any indication of bottleneck
        congestion, be that increased latency, packet loss, or Explicit Congestion
        Notification (ECN) marks during a measurement interval, I, is likely an
        underestimate of Maximum_C(T,I,PM).<a class="pilcrow" href="#section-6.5-2">Â¶</a></p>
</section>
</div>
<div id="sec6-6-rpt-the-metric">
<section id="section-6.6">
        <h3 id="name-reporting-the-metric-2">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-reporting-the-metric-2">Reporting the Metric</a>
        </h3>
<p id="section-6.6-1">The IP-Layer Capacity <span class="bcp14">SHOULD</span> be reported with at least
        single-Megabit resolution, in units of Megabits per second (Mbps) (which,
        to avoid any confusion, is 1,000,000 bits per second).<a class="pilcrow" href="#section-6.6-1">Â¶</a></p>
<p id="section-6.6-2">The related One-Way Loss metric and Round-Trip Delay measurements
        for the same Singleton <span class="bcp14">SHALL</span> be reported, also with meaningful
        resolution for the values measured.<a class="pilcrow" href="#section-6.6-2">Â¶</a></p>
<p id="section-6.6-3">When there are demonstrated and repeatable Capacity modes in the
        Sample, the Maximum IP-Layer Capacity <span class="bcp14">SHALL</span> be reported for each
        mode, along with the relative time from the beginning of the stream
        that the mode was observed to be present. Bimodal Maximum IP-Layer
        Capacities have been observed with some services, sometimes called a
        "turbo mode" intending to deliver short transfers more quickly or
        reduce the initial buffering time for some video streams. Note that
        modes lasting less than duration dt will not be detected.<a class="pilcrow" href="#section-6.6-3">Â¶</a></p>
<p id="section-6.6-4">Some transmission technologies have multiple methods of operation
        that may be activated when channel conditions degrade or improve, and
        these transmission methods may determine the Maximum IP-Layer
        Capacity. Examples include line-of-sight microwave modulator
        constellations, or cellular modem technologies where the changes may
        be initiated by a user moving from one coverage area to another.
        Operation in the different transmission methods may be observed over
        time, but the modes of Maximum IP-Layer Capacity will not be activated
        deterministically as with the "turbo mode" described in the paragraph
        above.<a class="pilcrow" href="#section-6.6-4">Â¶</a></p>
</section>
</div>
</section>
</div>
<div id="ip-layer-sender-br">
<section id="section-7">
      <h2 id="name-ip-layer-sender-bit-rate-si">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-ip-layer-sender-bit-rate-si">IP-Layer Sender Bit Rate Singleton Metric Definitions</a>
      </h2>
<p id="section-7-1">This section sets requirements for the following components to
      support the IP-Layer Sender Bit Rate Metric. This metric helps to check
      that the Sender actually generated the desired rates during a test, and
      measurement takes place at the interface between the Src host and the network path (or as
      close as practical within the Src host). It is not a metric for path
      performance.<a class="pilcrow" href="#section-7-1">Â¶</a></p>
<section id="section-7.1">
        <h3 id="name-formal-name-3">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-formal-name-3">Formal Name</a>
        </h3>
<p id="section-7.1-1">"Type-P-IP-Sender-Bit-Rate" is the formal name; it is informally called the "IP-Layer Sender Bit Rate".<a class="pilcrow" href="#section-7.1-1">Â¶</a></p>
<p id="section-7.1-2">Note that Type-P depends on the chosen method.<a class="pilcrow" href="#section-7.1-2">Â¶</a></p>
</section>
<section id="section-7.2">
        <h3 id="name-parameters-3">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-parameters-3">Parameters</a>
        </h3>
<p id="section-7.2-1">This section lists the <span class="bcp14">REQUIRED</span> input factors to specify the
        metric, beyond those listed in <a class="xref" href="#gen-params-defs">Section 4</a>.<a class="pilcrow" href="#section-7.2-1">Â¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-2">
          <dt id="section-7.2-2.1">S:</dt>
          <dd id="section-7.2-2.2" style="margin-left: 1.5em">The duration of the measurement interval at the Source.<a class="pilcrow" href="#section-7.2-2.2">Â¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.3">st:</dt>
          <dd id="section-7.2-2.4" style="margin-left: 1.5em">The nominal duration of N sub-intervals in S (default st =
            0.05 seconds).<a class="pilcrow" href="#section-7.2-2.4">Â¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.5">stn:</dt>
          <dd id="section-7.2-2.6" style="margin-left: 1.5em">The beginning boundary of a specific sub-interval, n, one
            of N sub-intervals in S.<a class="pilcrow" href="#section-7.2-2.6">Â¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.2-3">S <span class="bcp14">SHALL</span> be longer than I, primarily to account for on-demand
        activation of the path, or any preamble to testing required, and the
        delay of the path.<a class="pilcrow" href="#section-7.2-3">Â¶</a></p>
<p id="section-7.2-4">st <span class="bcp14">SHOULD</span> be much smaller than the sub-interval dt and on the same
        order as FT; otherwise, the rate measurement will include many rate
        adjustments and include more time smoothing, possibly smoothing the interval that contains the Maximum
        IP-Layer Capacity (and therefore losing relevance). The st Parameter does not have relevance when the
        Source is transmitting at a fixed rate throughout S.<a class="pilcrow" href="#section-7.2-4">Â¶</a></p>
</section>
<section id="section-7.3">
        <h3 id="name-metric-definition">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-metric-definition">Metric Definition</a>
        </h3>
<p id="section-7.3-1">This section defines the <span class="bcp14">REQUIRED</span> aspects of the IP-Layer Sender
        Bit Rate Metric (unless otherwise indicated) for measurements at the
        specified Source on packets addressed for the intended Destination
        host and matching the required Type-P:<a class="pilcrow" href="#section-7.3-1">Â¶</a></p>
<p id="section-7.3-2">Define the IP-Layer Sender Bit Rate, B(S,st), to be the number of
        IP-Layer bits (including header and data fields) that are transmitted
        from the Source with address pair Src and Dst during one contiguous
        sub-interval, st, during the test interval S (where S <span class="bcp14">SHALL</span> be longer
        than I) and where the fixed-size packet count during that single
        sub-interval st also provides the number of IP-Layer bits in any
        interval, [stn,stn+1].<a class="pilcrow" href="#section-7.3-2">Â¶</a></p>
<p id="section-7.3-3">Measurements according to this definition <span class="bcp14">SHALL</span> use the UDP
        transport layer. Any feedback from the Dst host to the Src host received by the
        Src host during an interval [stn,stn+1] <span class="bcp14">SHOULD NOT</span> result in an
        adaptation of the Src host traffic conditioning during this interval
        (rate adjustment occurs on st interval boundaries).<a class="pilcrow" href="#section-7.3-3">Â¶</a></p>
</section>
<section id="section-7.4">
        <h3 id="name-discussion-3">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-discussion-3">Discussion</a>
        </h3>
<p id="section-7.4-1">Both the Sender and Receiver (or Source and Destination) bit rates <span class="bcp14">SHOULD</span> be assessed as part of an IP-Layer Capacity measurement.
        Otherwise, an unexpected sending rate limitation could produce an
        erroneous Maximum IP-Layer Capacity measurement.<a class="pilcrow" href="#section-7.4-1">Â¶</a></p>
</section>
<section id="section-7.5">
        <h3 id="name-reporting-the-metric-3">
<a class="section-number selfRef" href="#section-7.5">7.5. </a><a class="section-name selfRef" href="#name-reporting-the-metric-3">Reporting the Metric</a>
        </h3>
<p id="section-7.5-1">The IP-Layer Sender Bit Rate <span class="bcp14">SHALL</span> be reported with meaningful
        resolution, in units of Megabits per second (which, to avoid any confusion,
        is 1,000,000 bits per second).<a class="pilcrow" href="#section-7.5-1">Â¶</a></p>
<p id="section-7.5-2">Individual IP-Layer Sender Bit Rate measurements are discussed
        further in <a class="xref" href="#rpt-formats">Section 9</a>.<a class="pilcrow" href="#section-7.5-2">Â¶</a></p>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-method-of-measurement">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-method-of-measurement">Method of Measurement</a>
      </h2>
<p id="section-8-1">It is <span class="bcp14">REQUIRED</span> per the architecture of the method that two cooperating hosts operate in the roles of Src (test packet Sender) and Dst (Receiver)
      with a measured path and return path between them.<a class="pilcrow" href="#section-8-1">Â¶</a></p>
<p id="section-8-2">The duration of a test, Parameter I, <span class="bcp14">MUST</span> be constrained in a
      production network, since this is an active test method and it will
      likely cause congestion on the path from the Src host to the Dst host during a test.<a class="pilcrow" href="#section-8-2">Â¶</a></p>
<div id="load-rate-adj">
<section id="section-8.1">
        <h3 id="name-load-rate-adjustment-algori">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-load-rate-adjustment-algori">Load Rate Adjustment Algorithm</a>
        </h3>
<p id="section-8.1-1">The algorithm described in this section <span class="bcp14">MUST NOT</span> be used as a
        general Congestion Control Algorithm (CCA). As stated in 
        <a class="xref" href="#sec-2-scope">Section 2</a> ("Scope, Goals, and Applicability"), the load rate adjustment algorithm's goal is to help
        determine the Maximum IP-Layer Capacity in the context of an
        infrequent, diagnostic, short-term measurement. There is a trade-off
        between test duration (also the test data volume) and algorithm
        aggressiveness (speed of ramp-up and ramp-down to the Maximum IP-Layer
        Capacity). The Parameter values chosen below strike a well-tested
        balance among these factors.<a class="pilcrow" href="#section-8.1-1">Â¶</a></p>
<p id="section-8.1-2">A table <span class="bcp14">SHALL</span> be pre-built (by the test administrator), defining all the
        offered load rates that will be supported (R1 through Rn, in ascending
        order, corresponding to indexed rows in the table). It is <span class="bcp14">RECOMMENDED</span>
        that rates begin with 0.5 Mbps at index zero, use 1 Mbps at index one,
        and then continue in 1 Mbps increments to 1 Gbps. Above 1 Gbps, and up
        to 10 Gbps, it is <span class="bcp14">RECOMMENDED</span> that 100 Mbps increments be used. Above
        10 Gbps, increments of 1 Gbps are <span class="bcp14">RECOMMENDED</span>. A higher initial
        IP-Layer Sender Bit Rate might be configured when the test operator is
        certain that the Maximum IP-Layer Capacity is well above the initial
        IP-Layer Sender Bit Rate and factors such as test duration and total
        test traffic play an important role. The sending rate table <span class="bcp14">SHOULD</span>
        bracket the Maximum Capacity where it will make measurements, including
        constrained rates less than 500 kbps if applicable.<a class="pilcrow" href="#section-8.1-2">Â¶</a></p>
<p id="section-8.1-3">Each rate is defined as datagrams of size ss, sent as a burst of
        count cc, each time interval tt (the default for tt is 100 microsec, a likely
        system tick interval). While it is advantageous to use datagrams of as
        large a size as possible, it may be prudent to use a slightly smaller
        maximum that allows for secondary protocol headers and/or tunneling
        without resulting in IP-Layer fragmentation. Selection of a new rate
        is indicated by a calculation on the current row, Rx. For example:<a class="pilcrow" href="#section-8.1-3">Â¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.1-4">
          <dt id="section-8.1-4.1">"Rx+1":</dt>
          <dd id="section-8.1-4.2" style="margin-left: 1.5em">The Sender uses the next-higher rate in the table.<a class="pilcrow" href="#section-8.1-4.2">Â¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-4.3">"Rx-10":</dt>
          <dd id="section-8.1-4.4" style="margin-left: 1.5em">The Sender uses the rate 10 rows lower in the table.<a class="pilcrow" href="#section-8.1-4.4">Â¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-8.1-5">At the beginning of a test, the Sender begins sending at rate R1
        and the Receiver starts a feedback timer of duration FT (while
        awaiting inbound datagrams). As datagrams are received, they are
        checked for sequence number anomalies (loss, out-of-order,
        duplication, etc.) and the delay range is measured (one-way or
        round-trip). This information is accumulated until the feedback timer
        FT expires and a status feedback message is sent from the Receiver
        back to the Sender, to communicate this information. The accumulated
        statistics are then reset by the Receiver for the next feedback
        interval. As feedback messages are received back at the Sender, they
        are evaluated to determine how to adjust the current offered load rate
        (Rx).<a class="pilcrow" href="#section-8.1-5">Â¶</a></p>
<p id="section-8.1-6">If the feedback indicates that no sequence number anomalies were
        detected AND the delay range was below the lower threshold, the
        offered load rate is increased. If congestion has not been confirmed
        up to this point (see below for the method for declaring congestion), the
        offered load rate is increased by more than one rate setting (e.g., Rx+10).
        This allows the offered load to quickly reach a near-maximum rate.
        Conversely, if congestion has been previously confirmed, the offered
        load rate is only increased by one (Rx+1). However, if a rate
        threshold above a high sending rate (such as 1 Gbps) is
        exceeded, the offered load rate is only increased by one (Rx+1) 
        in any congestion state.<a class="pilcrow" href="#section-8.1-6">Â¶</a></p>
<p id="section-8.1-7">If the feedback indicates that sequence number anomalies were
        detected OR the delay range was above the upper threshold, the offered
        load rate is decreased. The <span class="bcp14">RECOMMENDED</span> threshold values are 10 for
        sequence number gaps and 30 msec for lower and 90 msec for upper delay
        thresholds, respectively. Also, if congestion is now confirmed for the
        first time by the current feedback message being processed, then the
        offered load rate is decreased by more than one rate setting (e.g., Rx-30).
        This one-time reduction is intended to compensate for the fast initial
        ramp-up. In all other cases, the offered load rate is only decreased
        by one (Rx-1).<a class="pilcrow" href="#section-8.1-7">Â¶</a></p>
<p id="section-8.1-8">If the feedback indicates that there were no sequence number
        anomalies AND the delay range was above the lower threshold but below
        the upper threshold, the offered load rate is not changed. This allows
        time for recent changes in the offered load rate to stabilize and for the
        feedback to represent current conditions more accurately.<a class="pilcrow" href="#section-8.1-8">Â¶</a></p>
<p id="section-8.1-9">Lastly, the method for inferring congestion is that there were
        sequence number anomalies AND/OR the delay range was above the upper
        threshold for three consecutive feedback intervals. The algorithm
        described above is also illustrated in Annex B of ITU-T Recommendation Y.1540, 2020
        version <span>[<a class="xref" href="#Y.1540">Y.1540</a>]</span> and is implemented in <a class="xref" href="#app-a-load-rate-adj-pseudocode">Appendix A</a> ("Load Rate Adjustment Pseudocode")
        in this memo.<a class="pilcrow" href="#section-8.1-9">Â¶</a></p>
<p id="section-8.1-10">The load rate adjustment algorithm <span class="bcp14">MUST</span> include timers that stop
        the test when received packet streams cease unexpectedly. The timeout
        thresholds are provided in <a class="xref" href="#load-rate-adj-params">Table 1</a>, along with values for all
        other Parameters and variables described in this section. Operations of
        non-obvious Parameters appear below:<a class="pilcrow" href="#section-8.1-10">Â¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-8.1-11">
          <dt id="section-8.1-11.1">load packet timeout:</dt>
          <dd id="section-8.1-11.2" style="margin-left: 1.5em">The load packet
            timeout <span class="bcp14">SHALL</span> be reset to the configured value each time a load
            packet is received. If the timeout expires, the Receiver <span class="bcp14">SHALL</span> be
            closed and no further feedback sent.<a class="pilcrow" href="#section-8.1-11.2">Â¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-11.3">feedback message timeout:</dt>
          <dd id="section-8.1-11.4" style="margin-left: 1.5em">The feedback
            message timeout <span class="bcp14">SHALL</span> be reset to the configured value each time a
            feedback message is received. If the timeout expires, the Sender
            <span class="bcp14">SHALL</span> be closed and no further load packets sent.<a class="pilcrow" href="#section-8.1-11.4">Â¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-parameters-for-load-rate-ad"></span><div id="load-rate-adj-params">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-parameters-for-load-rate-ad">Parameters for Load Rate Adjustment Algorithm</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Parameter</th>
              <th class="text-left" colspan="1" rowspan="1">Default</th>
              <th class="text-left" colspan="1" rowspan="1">Tested Range or Values</th>
              <th class="text-left" colspan="1" rowspan="1">Expected Safe Range (not entirely tested, other
          values <span class="bcp14">NOT RECOMMENDED</span>)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">FT, feedback time interval</td>
              <td class="text-left" colspan="1" rowspan="1">50 msec</td>
              <td class="text-left" colspan="1" rowspan="1">20 msec, 50 msec, 100 msec</td>
              <td class="text-left" colspan="1" rowspan="1">20 msec &lt;= FT &lt;= 250 msec; larger values may slow the rate
          increase and fail to find the max</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Feedback message timeout (stop test)</td>
              <td class="text-left" colspan="1" rowspan="1">L*FT, L=20 (1 sec with FT=50 msec)</td>
              <td class="text-left" colspan="1" rowspan="1">L=100 with FT=50 msec (5 sec)</td>
              <td class="text-left" colspan="1" rowspan="1">0.5 sec &lt;= L*FT &lt;= 30 sec; upper limit for very unreliable
          test paths only</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Load packet timeout (stop test)</td>
              <td class="text-left" colspan="1" rowspan="1">1 sec</td>
              <td class="text-left" colspan="1" rowspan="1">5 sec</td>
              <td class="text-left" colspan="1" rowspan="1">0.250-30 sec; upper limit for very unreliable test paths
          only</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Table index 0</td>
              <td class="text-left" colspan="1" rowspan="1">0.5 Mbps</td>
              <td class="text-left" colspan="1" rowspan="1">0.5 Mbps</td>
              <td class="text-left" colspan="1" rowspan="1">When testing &lt;= 10 Gbps</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Table index 1</td>
              <td class="text-left" colspan="1" rowspan="1">1 Mbps</td>
              <td class="text-left" colspan="1" rowspan="1">1 Mbps</td>
              <td class="text-left" colspan="1" rowspan="1">When testing &lt;= 10 Gbps</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Table index (step) size</td>
              <td class="text-left" colspan="1" rowspan="1">1 Mbps</td>
              <td class="text-left" colspan="1" rowspan="1">1 Mbps &lt;= rate &lt;= 1 Gbps</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Table index (step) size, rate &gt; 1 Gbps</td>
              <td class="text-left" colspan="1" rowspan="1">100 Mbps</td>
              <td class="text-left" colspan="1" rowspan="1">1 Gbps &lt;= rate &lt;= 10 Gbps</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Table index (step) size, rate &gt; 10 Gbps</td>
              <td class="text-left" colspan="1" rowspan="1">1 Gbps</td>
              <td class="text-left" colspan="1" rowspan="1">Untested</td>
              <td class="text-left" colspan="1" rowspan="1">&gt;10 Gbps</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ss, UDP payload size, bytes</td>
              <td class="text-left" colspan="1" rowspan="1">None</td>
              <td class="text-left" colspan="1" rowspan="1">&lt;=1222</td>
              <td class="text-left" colspan="1" rowspan="1">Recommend max at largest value that avoids fragmentation; using a payload size that is too small might result in unexpected Sender
          limitations</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">cc, burst count</td>
              <td class="text-left" colspan="1" rowspan="1">None</td>
              <td class="text-left" colspan="1" rowspan="1">1 &lt;= cc &lt;= 100</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested. Vary cc as needed to create the desired maximum
          sending rate. Sender buffer size may limit cc in the implementation</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">tt, burst interval</td>
              <td class="text-left" colspan="1" rowspan="1">100 microsec</td>
              <td class="text-left" colspan="1" rowspan="1">100 microsec, 1 msec</td>
              <td class="text-left" colspan="1" rowspan="1">Available range of "tick" values (HZ param)</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Low delay range threshold</td>
              <td class="text-left" colspan="1" rowspan="1">30 msec</td>
              <td class="text-left" colspan="1" rowspan="1">5 msec, 30 msec</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">High delay range threshold</td>
              <td class="text-left" colspan="1" rowspan="1">90 msec</td>
              <td class="text-left" colspan="1" rowspan="1">10 msec, 90 msec</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Sequence error threshold</td>
              <td class="text-left" colspan="1" rowspan="1">10</td>
              <td class="text-left" colspan="1" rowspan="1">0, 1, 5, 10, 100</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Consecutive errored status report threshold</td>
              <td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">2, 3, 4, 5</td>
              <td class="text-left" colspan="1" rowspan="1">Use values &gt;1 to avoid misinterpreting transient loss</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Fast mode increase, in table index steps</td>
              <td class="text-left" colspan="1" rowspan="1">10</td>
              <td class="text-left" colspan="1" rowspan="1">10</td>
              <td class="text-left" colspan="1" rowspan="1">2 &lt;= steps &lt;= 30</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Fast mode decrease, in table index steps</td>
              <td class="text-left" colspan="1" rowspan="1">3 * Fast mode increase</td>
              <td class="text-left" colspan="1" rowspan="1">3 * Fast mode increase</td>
              <td class="text-left" colspan="1" rowspan="1">Same as tested</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-8.1-13">As a consequence of default parameterization, the Number of table
        steps in total for rates less than 10 Gbps is 1090 (excluding index 0).<a class="pilcrow" href="#section-8.1-13">Â¶</a></p>
<p id="section-8.1-14">A related Sender backoff response to network conditions occurs when
        one or more status feedback messages fail to arrive at the Sender.<a class="pilcrow" href="#section-8.1-14">Â¶</a></p>
<p id="section-8.1-15">If no status feedback messages arrive at the Sender for the
        interval greater than the Lost Status Backoff timeout:<a class="pilcrow" href="#section-8.1-15">Â¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="section-8.1-16">
<pre>           UDRT + (2+w)*FT = Lost Status Backoff timeout

   where:

   UDRT = upper delay range threshold (default 90 msec)
   FT   = feedback time interval (default 50 msec)
   w    = number of repeated timeouts (w=0 initially, w++ on each
          timeout, and reset to 0 when a message is received)
</pre><a class="pilcrow" href="#section-8.1-16">Â¶</a>
</div>
<p id="section-8.1-17">Beginning when the last message (of any type) was successfully
        received at the Sender:<a class="pilcrow" href="#section-8.1-17">Â¶</a></p>
<p id="section-8.1-18">The offered load <span class="bcp14">SHALL</span> then be decreased, following the same
        process as when the feedback indicates the presence of one or more
        sequence number anomalies OR the delay range was above the upper
        threshold (as described above), with the same load rate adjustment
        algorithm variables in their current state. This means that lost status feedback messages OR sequence errors OR delay variation can result in rate reduction and congestion confirmation.<a class="pilcrow" href="#section-8.1-18">Â¶</a></p>
<p id="section-8.1-19">The <span class="bcp14">RECOMMENDED</span> initial value for w is 0, taking a Round-Trip Time
        (RTT) of less than FT into account. A test with an RTT longer than FT is a
        valid reason to increase the initial value of w appropriately.
        Variable w <span class="bcp14">SHALL</span> be incremented by one whenever the Lost Status Backoff
        timeout is exceeded. So, with FT = 50 msec and UDRT = 90 msec, a status
        feedback message loss would be declared at 190 msec following a
        successful message, again at 50 msec after that (240 msec total), and so
        on.<a class="pilcrow" href="#section-8.1-19">Â¶</a></p>
<p id="section-8.1-20">Also, if congestion is now confirmed for the first time by a Lost
        Status Backoff timeout, then the offered load rate is decreased by
        more than one rate setting (e.g., Rx-30). This one-time reduction is intended
        to compensate for the fast initial ramp-up. In all other cases, the
        offered load rate is only decreased by one (Rx-1).<a class="pilcrow" href="#section-8.1-20">Â¶</a></p>
<p id="section-8.1-21"><a class="xref" href="#app-b-rfc8085-udp">Appendix B</a> discusses compliance with the applicable mandatory
        requirements of <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span>, consistent with the goals of
        the IP-Layer Capacity Metric and Method, including the load rate
        adjustment algorithm described in this section.<a class="pilcrow" href="#section-8.1-21">Â¶</a></p>
</section>
</div>
<div id="meas-qual-verif">
<section id="section-8.2">
        <h3 id="name-measurement-qualification-o">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-measurement-qualification-o">Measurement Qualification or Verification</a>
        </h3>
<p id="section-8.2-1">It is of course necessary to calibrate the equipment performing the
        IP-Layer Capacity measurement, to ensure that the expected capacity
        can be measured accurately and that equipment choices (processing
        speed, interface bandwidth, etc.) are suitably matched to the
        measurement range.<a class="pilcrow" href="#section-8.2-1">Â¶</a></p>
<p id="section-8.2-2">When assessing a maximum rate as the metric specifies, artificially
        high (optimistic) values might be measured until some buffer on the
        path is filled. Other causes include bursts of back-to-back packets
        with idle intervals delivered by a path, while the measurement
        interval (dt) is small and aligned with the bursts. The artificial
        values might result in an unsustainable Maximum Capacity observed
        when the Method of Measurement is searching for the maximum, and that
        would not do. This situation is different from the bimodal service
        rates (discussed in "<a class="xref" href="#sec6-6-rpt-the-metric">Reporting the Metric</a>", <a class="xref" href="#sec6-6-rpt-the-metric">Section 6.6</a>), which are characterized by a
        multi-second duration (much longer than the measured RTT) and
        repeatable behavior.<a class="pilcrow" href="#section-8.2-2">Â¶</a></p>
<p id="section-8.2-3">There are many ways that the Method of Measurement could handle
        this false-max issue. The default value for measurement of Singletons
        (dt = 1 second) has proven to be of practical value during tests of
        this method, allows the bimodal service rates to be characterized, and
        has an obvious alignment with the reporting units (Mbps).<a class="pilcrow" href="#section-8.2-3">Â¶</a></p>
<p id="section-8.2-4">Another approach comes from <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2544#section-24">Section 24</a> of [<a class="xref" href="#RFC2544">RFC2544</a>]</span>
        and its discussion of trial duration, where relatively short trials
        conducted as part of the search are followed by longer trials to make
        the final determination. In the production network, measurements of
        Singletons and Samples (the terms for trials and tests of Lab
        Benchmarking) must be limited in duration because they may affect
        service. But there is sufficient value in repeating a Sample
        with a fixed sending rate determined by the previous search for the
        Maximum IP-Layer Capacity, to qualify the result in terms of the other
        performance metrics measured at the same time.<a class="pilcrow" href="#section-8.2-4">Â¶</a></p>
<p id="section-8.2-5">A Qualification measurement for the search result is a subsequent
        measurement, sending at a fixed 99.x percent of the Maximum IP-Layer
        Capacity for I, or an indefinite period. The same Maximum Capacity
        Metric is applied, and the Qualification for the result is a Sample
        without supra-threshold packet losses or a growing minimum delay trend in subsequent
        Singletons (or each dt of the measurement interval, I). Samples
        exhibiting supra-threshold packet losses or increasing queue occupation require a repeated
        search and/or test at a reduced fixed Sender rate for Qualification.<a class="pilcrow" href="#section-8.2-5">Â¶</a></p>
<p id="section-8.2-6">Here, as with any Active Capacity test, the test duration must be
        kept short. Ten-second tests for each direction of transmission are
        common today. The default measurement interval specified here is I =
        10 seconds. The combination of a fast and congestion-aware search
        method and user-network coordination makes a unique contribution to
        production testing. The Maximum IP Capacity Metric and Method for
        assessing performance is very different from the classic Throughput Metric and Methods provided in <span>[<a class="xref" href="#RFC2544">RFC2544</a>]</span>: it uses
        near-real-time load adjustments that are sensitive to loss and delay,
        similar to other congestion control algorithms used on the Internet
        every day, along with limited duration. On the other hand, Throughput measurements <span>[<a class="xref" href="#RFC2544">RFC2544</a>]</span> can produce sustained
        overload conditions for extended periods of time. Individual trials in
        a test governed by a binary search can last 60 seconds for each step,
        and the final confirmation trial may be even longer. This is very
        different from "normal" traffic levels, but overload conditions are
        not a concern in the isolated test environment. The concerns raised in
        <span>[<a class="xref" href="#RFC6815">RFC6815</a>]</span> were that the methods discussed in <span>[<a class="xref" href="#RFC2544">RFC2544</a>]</span> would be let loose on production networks, and instead the authors
        challenged the standards community to develop Metrics and Methods like
        those described in this memo.<a class="pilcrow" href="#section-8.2-6">Â¶</a></p>
</section>
</div>
<section id="section-8.3">
        <h3 id="name-measurement-considerations">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-measurement-considerations">Measurement Considerations</a>
        </h3>
<p id="section-8.3-1">In general, the widespread measurements that this memo encourages
        will encounter widespread behaviors. The bimodal IP Capacity
        behaviors already discussed in <a class="xref" href="#sec6-6-rpt-the-metric">Section 6.6</a> are good examples.<a class="pilcrow" href="#section-8.3-1">Â¶</a></p>
<p id="section-8.3-2">In general, it is <span class="bcp14">RECOMMENDED</span> to locate test endpoints as close to
        the intended measured link(s) as practical (for reasons of scale, this is not always possible; there is a limit on the number of test
        endpoints coming from many perspectives -- for example, management and measurement traffic). The testing operator <span class="bcp14">MUST</span> set a value for the
        MaxHops Parameter, based on the expected path length. This Parameter
        can keep measurement traffic from straying too far beyond the intended
        path.<a class="pilcrow" href="#section-8.3-2">Â¶</a></p>
<p id="section-8.3-3">The measured path may be stateful based on many factors, and the
        Parameter "Time of day" when a test starts may not be enough
        information. Repeatable testing may require knowledge of the time from the
        beginning of a measured flow -- and how the flow is constructed,
        including how much traffic has already been sent on that flow when a
        state change is observed -- because the state change may be based on
        time, bytes sent, or both. Both load packets and status feedback
        messages <span class="bcp14">MUST</span> contain sequence numbers; this helps with measurements
        based on those packets.<a class="pilcrow" href="#section-8.3-3">Â¶</a></p>
<p id="section-8.3-4">Many different types of traffic shapers and on-demand
        communications access technologies may be encountered, as anticipated
        in <span>[<a class="xref" href="#RFC7312">RFC7312</a>]</span>, and play a key role in measurement
        results. Methods <span class="bcp14">MUST</span> be prepared to provide a short preamble
        transmission to activate on-demand communications access and to
        discard the preamble from subsequent test results.<a class="pilcrow" href="#section-8.3-4">Â¶</a></p>
<p id="section-8.3-5">The following conditions might be encountered during measurement, where
        packet losses may occur independently of the measurement sending
        rate:<a class="pilcrow" href="#section-8.3-5">Â¶</a></p>
<ol class="normal type-1" id="section-8.3-6" start="1" type="1">
<li id="section-8.3-6.1">Congestion of an interconnection or backbone interface may
            appear as packet losses distributed over time in the test stream,
            due to much-higher-rate interfaces in the backbone.<a class="pilcrow" href="#section-8.3-6.1">Â¶</a>
</li>
          <li id="section-8.3-6.2">Packet loss due to the use of Random Early Detection (RED) or other
            active queue management may or may not affect the measurement flow
            if competing background traffic (other flows) is simultaneously
            present.<a class="pilcrow" href="#section-8.3-6.2">Â¶</a>
</li>
          <li id="section-8.3-6.3">There may be only a small delay variation independent of the sending
            rate under these conditions as well.<a class="pilcrow" href="#section-8.3-6.3">Â¶</a>
</li>
          <li id="section-8.3-6.4">Persistent competing traffic on measurement paths that include
            shared transmission media may cause random packet losses in the
            test stream.<a class="pilcrow" href="#section-8.3-6.4">Â¶</a>
</li>
        </ol>
<p id="section-8.3-7">It is possible to mitigate these conditions using the
        flexibility of the load rate adjustment algorithm described in
        <a class="xref" href="#load-rate-adj">Section 8.1</a> above (tuning specific Parameters).<a class="pilcrow" href="#section-8.3-7">Â¶</a></p>
<p id="section-8.3-8">If the measurement flow burst duration happens to be on the order
        of or smaller than the burst size of a shaper or a policer in the
        path, then the line rate might be measured rather than the bandwidth
        limit imposed by the shaper or policer. If this condition is
        suspected, alternate configurations <span class="bcp14">SHOULD</span> be used.<a class="pilcrow" href="#section-8.3-8">Â¶</a></p>
<p id="section-8.3-9">In general, results depend on the sending stream's characteristics;
        the measurement community has known this for a long time and needs to
        keep it foremost in mind. Although the default is a single flow (F=1) for
        testing, the use of multiple flows may be advantageous for the following
        reasons:<a class="pilcrow" href="#section-8.3-9">Â¶</a></p>
<ol class="normal type-1" id="section-8.3-10" start="1" type="1">
<li id="section-8.3-10.1">The test hosts may be able to create a higher load than with a
            single flow, or parallel test hosts may be used to generate one flow
            each.<a class="pilcrow" href="#section-8.3-10.1">Â¶</a>
</li>
          <li id="section-8.3-10.2">Link aggregation may be present (flow-based load balancing), and multiple flows are needed to occupy each member of
            the aggregate.<a class="pilcrow" href="#section-8.3-10.2">Â¶</a>
</li>
          <li id="section-8.3-10.3">Internet access policies may limit the IP-Layer Capacity
            depending on the Type-P of the packets, possibly reserving capacity
            for various stream types.<a class="pilcrow" href="#section-8.3-10.3">Â¶</a>
</li>
        </ol>
<p id="section-8.3-11">Each flow would be controlled using its own implementation of
        the load rate adjustment (search) algorithm.<a class="pilcrow" href="#section-8.3-11">Â¶</a></p>
<p id="section-8.3-12">It is obviously counterproductive to run more than one independent
        and concurrent test (regardless of the number of flows in the test
        stream) attempting to measure the <strong>maximum</strong> capacity on a single path.
        The number of concurrent, independent tests of a path <span class="bcp14">SHALL</span> be limited
        to one.<a class="pilcrow" href="#section-8.3-12">Â¶</a></p>
<p id="section-8.3-13">Tests of a v4-v6 transition mechanism might well be the intended
        subject of a capacity test. As long as both IPv4 packets and IPv6 packets
        sent/received are standard-formed, this should be allowed (and
        the change in header size easily accounted for on a per-packet
        basis).<a class="pilcrow" href="#section-8.3-13">Â¶</a></p>
<p id="section-8.3-14">As testing continues, implementers should expect the methods to evolve. The ITU-T has published a supplement (Supplement 60) to the Y-series
        of ITU-T Recommendations, "Interpreting ITU-T Y.1540 maximum IP-layer
        capacity measurements" <span>[<a class="xref" href="#Y.Sup60">Y.Sup60</a>]</span>, which is the result
        of continued testing with the metric. Those results have improved
        the methods described here.<a class="pilcrow" href="#section-8.3-14">Â¶</a></p>
</section>
</section>
<div id="rpt-formats">
<section id="section-9">
      <h2 id="name-reporting-formats">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-reporting-formats">Reporting Formats</a>
      </h2>
<p id="section-9-1">The Singleton IP-Layer Capacity results <span class="bcp14">SHOULD</span> be accompanied by the
      context under which they were measured.<a class="pilcrow" href="#section-9-1">Â¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-2.1">Timestamp (especially the time when the maximum was observed in
          dtn).<a class="pilcrow" href="#section-9-2.1">Â¶</a>
</li>
        <li class="normal" id="section-9-2.2">Source and Destination (by IP or other meaningful ID).<a class="pilcrow" href="#section-9-2.2">Â¶</a>
</li>
        <li class="normal" id="section-9-2.3">Other inner Parameters of the test case (<a class="xref" href="#gen-params-defs">Section 4</a>).<a class="pilcrow" href="#section-9-2.3">Â¶</a>
</li>
        <li class="normal" id="section-9-2.4">Outer Parameters, such as "test conducted in motion" or other
          factors belonging to the context of the measurement.<a class="pilcrow" href="#section-9-2.4">Â¶</a>
</li>
        <li class="normal" id="section-9-2.5">Result validity (indicating cases where the process was somehow
          interrupted or the attempt failed).<a class="pilcrow" href="#section-9-2.5">Â¶</a>
</li>
        <li class="normal" id="section-9-2.6">A field where unusual circumstances could be documented, and
          another one for "ignore / mask out" purposes in further processing.<a class="pilcrow" href="#section-9-2.6">Â¶</a>
</li>
      </ul>
<p id="section-9-3">The Maximum IP-Layer Capacity results <span class="bcp14">SHOULD</span> be reported in tabular
  format. There <span class="bcp14">SHOULD</span> be a column that identifies the test Phase.
  There <span class="bcp14">SHOULD</span> be a column listing the number of flows used in that Phase.
  The remaining columns <span class="bcp14">SHOULD</span> report the following results for the aggregate 
  of all flows, including the Maximum IP-Layer Capacity, the Loss Ratio,
  the RTT minimum, RTT maximum, and other metrics tested having similar 
  relevance.<a class="pilcrow" href="#section-9-3">Â¶</a></p>
<p id="section-9-4">As mentioned in <a class="xref" href="#sec6-6-rpt-the-metric">Section 6.6</a>, bimodal (or multi-modal) maxima <span class="bcp14">SHALL</span>
      be reported for each mode separately.<a class="pilcrow" href="#section-9-4">Â¶</a></p>
<span id="name-maximum-ip-layer-capacity-r"></span><table class="center" id="table-2">
        <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-maximum-ip-layer-capacity-r">Maximum IP-Layer Capacity Results</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Phase</th>
            <th class="text-left" colspan="1" rowspan="1">Number of Flows</th>
            <th class="text-left" colspan="1" rowspan="1">Maximum IP-Layer Capacity (Mbps)</th>
            <th class="text-left" colspan="1" rowspan="1">Loss Ratio</th>
            <th class="text-left" colspan="1" rowspan="1">RTT min (msec)</th>
            <th class="text-left" colspan="1" rowspan="1">RTT max (msec)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Search</td>
            <td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">967.31</td>
            <td class="text-left" colspan="1" rowspan="1">0.0002</td>
            <td class="text-left" colspan="1" rowspan="1">30</td>
            <td class="text-left" colspan="1" rowspan="1">58</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Verify</td>
            <td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">966.00</td>
            <td class="text-left" colspan="1" rowspan="1">0.0000</td>
            <td class="text-left" colspan="1" rowspan="1">30</td>
            <td class="text-left" colspan="1" rowspan="1">38</td>
          </tr>
        </tbody>
      </table>
<p id="section-9-6">Static and configuration Parameters:<a class="pilcrow" href="#section-9-6">Â¶</a></p>
<p id="section-9-7">The sub-interval time, dt, <span class="bcp14">MUST</span> accompany a report of Maximum
      IP-Layer Capacity results, as well as the remaining Parameters from <a class="xref" href="#gen-params-defs">Section 4</a> ("General Parameters and Definitions").<a class="pilcrow" href="#section-9-7">Â¶</a></p>
<p id="section-9-8">The PM list metrics corresponding to the sub-interval where the
      Maximum Capacity occurred <span class="bcp14">MUST</span> accompany a report of Maximum IP-Layer
      Capacity results, for each test Phase.<a class="pilcrow" href="#section-9-8">Â¶</a></p>
<p id="section-9-9">The IP-Layer Sender Bit Rate results <span class="bcp14">SHOULD</span> be reported in tabular format. 
  There <span class="bcp14">SHOULD</span> be a column that identifies the test Phase. 
  There <span class="bcp14">SHOULD</span> be a column listing each individual (numbered) flow used
  in that Phase, or the aggregate of flows in that Phase. A corresponding column <span class="bcp14">SHOULD</span> identify the
  specific sending rate sub-interval, stn, for each flow and aggregate. A final column <span class="bcp14">SHOULD</span> report the 
  IP-Layer Sender Bit Rate results for each flow used, or the aggregate of all flows.<a class="pilcrow" href="#section-9-9">Â¶</a></p>
<span id="name-ip-layer-sender-bit-rate-re"></span><table class="center" id="table-3">
        <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-ip-layer-sender-bit-rate-re">IP-Layer Sender Bit Rate Results (Example with Two Flows and st = 0.05 (sec))</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Phase</th>
            <th class="text-left" colspan="1" rowspan="1">Flow Number or Aggregate</th>
            <th class="text-left" colspan="1" rowspan="1">stn (sec)</th>
            <th class="text-left" colspan="1" rowspan="1">Sender Bit Rate (Mbps)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Search</td>
            <td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">0.00</td>
            <td class="text-left" colspan="1" rowspan="1">345</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Search</td>
            <td class="text-left" colspan="1" rowspan="1">2</td>
            <td class="text-left" colspan="1" rowspan="1">0.00</td>
            <td class="text-left" colspan="1" rowspan="1">289</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Search</td>
            <td class="text-left" colspan="1" rowspan="1">Agg</td>
            <td class="text-left" colspan="1" rowspan="1">0.00</td>
            <td class="text-left" colspan="1" rowspan="1">634</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Search</td>
            <td class="text-left" colspan="1" rowspan="1">1</td>
            <td class="text-left" colspan="1" rowspan="1">0.05</td>
            <td class="text-left" colspan="1" rowspan="1">499</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">Search</td>
            <td class="text-left" colspan="1" rowspan="1">...</td>
            <td class="text-left" colspan="1" rowspan="1">0.05</td>
            <td class="text-left" colspan="1" rowspan="1">...</td>
          </tr>
        </tbody>
      </table>
<p id="section-9-11">Static and configuration Parameters:<a class="pilcrow" href="#section-9-11">Â¶</a></p>
<p id="section-9-12">The sub-interval duration, st, <span class="bcp14">MUST</span> accompany a report of Sender IP-Layer
      Bit Rate results.<a class="pilcrow" href="#section-9-12">Â¶</a></p>
<p id="section-9-13">Also, the values of the remaining Parameters from <a class="xref" href="#gen-params-defs">Section 4</a> ("General Parameters and Definitions") <span class="bcp14">MUST</span> be reported.<a class="pilcrow" href="#section-9-13">Â¶</a></p>
<section id="section-9.1">
        <h3 id="name-configuration-and-reporting">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-configuration-and-reporting">Configuration and Reporting Data Formats</a>
        </h3>
<p id="section-9.1-1">As a part of the multi-Standards Development Organization (SDO)
        harmonization of this Metric and Method of Measurement, one of the
        areas where the Broadband Forum (BBF) contributed its expertise was in
        the definition of an information model and data model for
        configuration and reporting. These models are consistent with the
        metric Parameters and default values specified as lists in this memo.
        <span>[<a class="xref" href="#TR-471">TR-471</a>]</span> provides the information model that was used
        to prepare a full data model in related BBF work. The BBF has also
        carefully considered topics within its purview, such as the placement of
        measurement systems within the Internet access architecture. For
        example, timestamp resolution requirements that influence the choice
        of the test protocol are provided in Table 2 of <span>[<a class="xref" href="#TR-471">TR-471</a>]</span>.<a class="pilcrow" href="#section-9.1-1">Â¶</a></p>
</section>
</section>
</div>
<div id="sec-cons">
<section id="section-10">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-10-1">Active Metrics and Active Measurements have a long history of security
      considerations. The security considerations that apply to any Active
      Measurement of live paths are relevant here. See <span>[<a class="xref" href="#RFC4656">RFC4656</a>]</span> and <span>[<a class="xref" href="#RFC5357">RFC5357</a>]</span>.<a class="pilcrow" href="#section-10-1">Â¶</a></p>
<p id="section-10-2">When considering the privacy of those involved in measurement or those
      whose traffic is measured, the sensitive information available to
      potential observers is greatly reduced when using active techniques
      that are within this scope of work. Passive observations of user
      traffic for measurement purposes raise many privacy issues. We refer the
      reader to the privacy considerations described in the Large-scale
      Measurement of Broadband Performance (LMAP) Framework <span>[<a class="xref" href="#RFC7594">RFC7594</a>]</span>, which covers active and passive techniques.<a class="pilcrow" href="#section-10-2">Â¶</a></p>
<p id="section-10-3">There are some new considerations for Capacity measurement as
      described in this memo.<a class="pilcrow" href="#section-10-3">Â¶</a></p>
<ol class="normal type-1" id="section-10-4" start="1" type="1">
<li id="section-10-4.1">Cooperating Source and Destination hosts and agreements to test
          the path between the hosts are <span class="bcp14">REQUIRED</span>. Hosts perform in either the
          Src role or the Dst role.<a class="pilcrow" href="#section-10-4.1">Â¶</a>
</li>
        <li id="section-10-4.2">It is <span class="bcp14">REQUIRED</span> to have a user client-initiated setup handshake
          between cooperating hosts that allows firewalls to control inbound
          unsolicited UDP traffic that goes to either a control port
          (expected and with authentication) or ephemeral ports that are only
          created as needed. Firewalls protecting each host can both continue
          to do their job normally.<a class="pilcrow" href="#section-10-4.2">Â¶</a>
</li>
        <li id="section-10-4.3">Client-server authentication and integrity protection for
          feedback messages conveying measurements are <span class="bcp14">RECOMMENDED</span>.<a class="pilcrow" href="#section-10-4.3">Â¶</a>
</li>
        <li id="section-10-4.4">Hosts <span class="bcp14">MUST</span> limit the number of simultaneous tests to avoid
          resource exhaustion and inaccurate results.<a class="pilcrow" href="#section-10-4.4">Â¶</a>
</li>
        <li id="section-10-4.5">Senders <span class="bcp14">MUST</span> be rate limited. This can be accomplished using a
          pre-built table defining all the offered load rates that will be
          supported (<a class="xref" href="#load-rate-adj">Section 8.1</a>). The recommended load control search
          algorithm results in "ramp-up" from the lowest rate in the
          table.<a class="pilcrow" href="#section-10-4.5">Â¶</a>
</li>
        <li id="section-10-4.6">Service subscribers with limited data volumes who conduct
          extensive capacity testing might experience the effects of Service
          Provider controls on their service. Testing with the Service
          Provider's measurement hosts <span class="bcp14">SHOULD</span> be limited in frequency and/or
          overall volume of test traffic (for example, the range of duration
          values, I, <span class="bcp14">SHOULD</span> be limited).<a class="pilcrow" href="#section-10-4.6">Â¶</a>
</li>
      </ol>
<p id="section-10-5">The exact specification of these features is left for future
      protocol development.<a class="pilcrow" href="#section-10-5">Â¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-11-1">This document has no IANA actions.<a class="pilcrow" href="#section-11-1">Â¶</a></p>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-12">12. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-12.1">12.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2330">[RFC2330]</dt>
        <dd>
<span class="refAuthor">Paxson, V.</span>, <span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Mahdavi, J.</span>, and <span class="refAuthor">M. Mathis</span>, <span class="refTitle">"Framework for IP Performance Metrics"</span>, <span class="seriesInfo">RFC 2330</span>, <span class="seriesInfo">DOI 10.17487/RFC2330</span>, <time class="refDate" datetime="1998-05">May 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2330">https://www.rfc-editor.org/info/rfc2330</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2681">[RFC2681]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A Round-trip Delay Metric for IPPM"</span>, <span class="seriesInfo">RFC 2681</span>, <span class="seriesInfo">DOI 10.17487/RFC2681</span>, <time class="refDate" datetime="1999-09">September 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2681">https://www.rfc-editor.org/info/rfc2681</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4656">[RFC4656]</dt>
        <dd>
<span class="refAuthor">Shalunov, S.</span>, <span class="refAuthor">Teitelbaum, B.</span>, <span class="refAuthor">Karp, A.</span>, <span class="refAuthor">Boote, J.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A One-way Active Measurement Protocol (OWAMP)"</span>, <span class="seriesInfo">RFC 4656</span>, <span class="seriesInfo">DOI 10.17487/RFC4656</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4656">https://www.rfc-editor.org/info/rfc4656</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4737">[RFC4737]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Ciavattone, L.</span>, <span class="refAuthor">Ramachandran, G.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">J. Perser</span>, <span class="refTitle">"Packet Reordering Metrics"</span>, <span class="seriesInfo">RFC 4737</span>, <span class="seriesInfo">DOI 10.17487/RFC4737</span>, <time class="refDate" datetime="2006-11">November 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4737">https://www.rfc-editor.org/info/rfc4737</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5357">[RFC5357]</dt>
        <dd>
<span class="refAuthor">Hedayat, K.</span>, <span class="refAuthor">Krzanowski, R.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Yum, K.</span>, and <span class="refAuthor">J. Babiarz</span>, <span class="refTitle">"A Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 5357</span>, <span class="seriesInfo">DOI 10.17487/RFC5357</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5357">https://www.rfc-editor.org/info/rfc5357</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6438">[RFC6438]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">S. Amante</span>, <span class="refTitle">"Using the IPv6 Flow Label for Equal Cost Multipath Routing and Link Aggregation in Tunnels"</span>, <span class="seriesInfo">RFC 6438</span>, <span class="seriesInfo">DOI 10.17487/RFC6438</span>, <time class="refDate" datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6438">https://www.rfc-editor.org/info/rfc6438</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7497">[RFC7497]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Rate Measurement Test Protocol Problem Statement and Requirements"</span>, <span class="seriesInfo">RFC 7497</span>, <span class="seriesInfo">DOI 10.17487/RFC7497</span>, <time class="refDate" datetime="2015-04">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7497">https://www.rfc-editor.org/info/rfc7497</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7680">[RFC7680]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, <span class="refAuthor">Zekauskas, M.</span>, and <span class="refAuthor">A. Morton, Ed.</span>, <span class="refTitle">"A One-Way Loss Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">STD 82</span>, <span class="seriesInfo">RFC 7680</span>, <span class="seriesInfo">DOI 10.17487/RFC7680</span>, <time class="refDate" datetime="2016-01">January 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7680">https://www.rfc-editor.org/info/rfc7680</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8468">[RFC8468]</dt>
      <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Fabini, J.</span>, <span class="refAuthor">Elkins, N.</span>, <span class="refAuthor">Ackermann, M.</span>, and <span class="refAuthor">V. Hegde</span>, <span class="refTitle">"IPv4, IPv6, and IPv4-IPv6 Coexistence: Updates for the IP Performance Metrics (IPPM) Framework"</span>, <span class="seriesInfo">RFC 8468</span>, <span class="seriesInfo">DOI 10.17487/RFC8468</span>, <time class="refDate" datetime="2018-11">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8468">https://www.rfc-editor.org/info/rfc8468</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-12.2">12.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="copycat">[copycat]</dt>
        <dd>
<span class="refAuthor">Edeline, K.</span>, <span class="refAuthor">KÃ¼hlewind, M.</span>, <span class="refAuthor">Trammell, B.</span>, and <span class="refAuthor">B. Donnet</span>, <span class="refTitle">"copycat: Testing Differential Treatment of New Transport Protocols in the Wild"</span>, <span class="refContent">ANRW '17</span>, <span class="seriesInfo">DOI 10.1145/3106328.3106330</span>, <time class="refDate" datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://irtf.org/anrw/2017/anrw17-final5.pdf">https://irtf.org/anrw/2017/anrw17-final5.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LS-SG12-A">[LS-SG12-A]</dt>
        <dd>
<span class="refTitle">"Liaison statement: LS - Harmonization of IP Capacity and Latency Parameters: Revision of Draft Rec. Y.1540 on IP packet transfer performance parameters and New Annex A with Lab Evaluation Plan"</span>, <span class="refContent">From ITU-T SG 12</span>, <time class="refDate" datetime="2019-03">March 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/liaison/1632/">https://datatracker.ietf.org/liaison/1632/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LS-SG12-B">[LS-SG12-B]</dt>
        <dd>
<span class="refTitle">"Liaison statement: LS on harmonization of IP Capacity and Latency Parameters: Consent of Draft Rec. Y.1540 on IP packet transfer performance parameters and New Annex A with Lab &amp; Field Evaluation Plans"</span>, <span class="refContent">From ITU-T-SG-12</span>, <time class="refDate" datetime="2019-05">May 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/liaison/1645/">https://datatracker.ietf.org/liaison/1645/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2544">[RFC2544]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span> and <span class="refAuthor">J. McQuaid</span>, <span class="refTitle">"Benchmarking Methodology for Network Interconnect Devices"</span>, <span class="seriesInfo">RFC 2544</span>, <span class="seriesInfo">DOI 10.17487/RFC2544</span>, <time class="refDate" datetime="1999-03">March 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2544">https://www.rfc-editor.org/info/rfc2544</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3148">[RFC3148]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span> and <span class="refAuthor">M. Allman</span>, <span class="refTitle">"A Framework for Defining Empirical Bulk Transfer Capacity Metrics"</span>, <span class="seriesInfo">RFC 3148</span>, <span class="seriesInfo">DOI 10.17487/RFC3148</span>, <time class="refDate" datetime="2001-07">July 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3148">https://www.rfc-editor.org/info/rfc3148</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5136">[RFC5136]</dt>
        <dd>
<span class="refAuthor">Chimento, P.</span> and <span class="refAuthor">J. Ishac</span>, <span class="refTitle">"Defining Network Capacity"</span>, <span class="seriesInfo">RFC 5136</span>, <span class="seriesInfo">DOI 10.17487/RFC5136</span>, <time class="refDate" datetime="2008-02">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5136">https://www.rfc-editor.org/info/rfc5136</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6815">[RFC6815]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refAuthor">Dubray, K.</span>, <span class="refAuthor">McQuaid, J.</span>, and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Applicability Statement for RFC 2544: Use on Production Networks Considered Harmful"</span>, <span class="seriesInfo">RFC 6815</span>, <span class="seriesInfo">DOI 10.17487/RFC6815</span>, <time class="refDate" datetime="2012-11">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6815">https://www.rfc-editor.org/info/rfc6815</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7312">[RFC7312]</dt>
        <dd>
<span class="refAuthor">Fabini, J.</span> and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Advanced Stream and Sampling Framework for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">RFC 7312</span>, <span class="seriesInfo">DOI 10.17487/RFC7312</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7312">https://www.rfc-editor.org/info/rfc7312</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7594">[RFC7594]</dt>
        <dd>
<span class="refAuthor">Eardley, P.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Bagnulo, M.</span>, <span class="refAuthor">Burbridge, T.</span>, <span class="refAuthor">Aitken, P.</span>, and <span class="refAuthor">A. Akhter</span>, <span class="refTitle">"A Framework for Large-Scale Measurement of Broadband Performance (LMAP)"</span>, <span class="seriesInfo">RFC 7594</span>, <span class="seriesInfo">DOI 10.17487/RFC7594</span>, <time class="refDate" datetime="2015-09">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7594">https://www.rfc-editor.org/info/rfc7594</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8085">[RFC8085]</dt>
        <dd>
<span class="refAuthor">Eggert, L.</span>, <span class="refAuthor">Fairhurst, G.</span>, and <span class="refAuthor">G. Shepherd</span>, <span class="refTitle">"UDP Usage Guidelines"</span>, <span class="seriesInfo">BCP 145</span>, <span class="seriesInfo">RFC 8085</span>, <span class="seriesInfo">DOI 10.17487/RFC8085</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8085">https://www.rfc-editor.org/info/rfc8085</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8337">[RFC8337]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span> and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Model-Based Metrics for Bulk Transport Capacity"</span>, <span class="seriesInfo">RFC 8337</span>, <span class="seriesInfo">DOI 10.17487/RFC8337</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8337">https://www.rfc-editor.org/info/rfc8337</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TR-471">[TR-471]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Maximum IP-Layer Capacity Metric, Related Metrics, and Measurements"</span>, <span class="refContent">Broadband Forum TR-471</span>, <time class="refDate" datetime="2020-07">July 2020</time>, <span>&lt;<a href="https://www.broadband-forum.org/technical/download/TR-471.pdf">https://www.broadband-forum.org/technical/download/TR-471.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Y.1540">[Y.1540]</dt>
        <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Internet protocol data communication service - IP packet transfer and availability performance parameters"</span>, <span class="refContent">ITU-T Recommendation Y.1540</span>, <time class="refDate" datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-Y.1540-201912-I/en">https://www.itu.int/rec/T-REC-Y.1540-201912-I/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Y.Sup60">[Y.Sup60]</dt>
      <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Interpreting ITU-T Y.1540 maximum IP-layer capacity measurements"</span>, <span class="refContent">ITU-T Recommendation Y.Sup60</span>, <time class="refDate" datetime="2021-10">October 2021</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-Y.Sup60/en">https://www.itu.int/rec/T-REC-Y.Sup60/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="app-a-load-rate-adj-pseudocode">
<section id="appendix-A">
      <h2 id="name-load-rate-adjustment-pseudo">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-load-rate-adjustment-pseudo">Load Rate Adjustment Pseudocode</a>
      </h2>
<p id="appendix-A-1">This appendix provides a pseudocode implementation of the algorithm
      described in <a class="xref" href="#load-rate-adj">Section 8.1</a>.<a class="pilcrow" href="#appendix-A-1">Â¶</a></p>
<div id="appendix-A-2">
<pre class="lang-pseudocode sourcecode">Rx = 0              # The current sending rate (equivalent to a row
                    # of the table)

seqErr = 0          # Measured count that includes Loss or Reordering
                    # or Duplication impairments (all appear
                    # initially as errors in the packet sequence
                    # numbering)

seqErrThresh = 10   # Threshold on seqErr count that includes Loss or
                    # Reordering or Duplication impairments (all
                    # appear initially as errors in the packet
                    # sequence numbering)

delay = 0           # Measured Range of Round Trip Delay (RTD), msec

lowThresh = 30      # Low threshold on the Range of RTD, msec

upperThresh = 90    # Upper threshold on the Range of RTD, msec

hSpeedThresh = 1    # Threshold for transition between sending rate
                    # step sizes (such as 1 Mbps and 100 Mbps), Gbps

slowAdjCount = 0    # Measured Number of consecutive status reports
                    # indicating loss and/or delay variation above
                    # upperThresh

slowAdjThresh = 3   # Threshold on slowAdjCount used to infer
                    # congestion. Use values &gt; 1 to avoid
                    # misinterpreting transient loss.

highSpeedDelta = 10 # The number of rows to move in a single
                    # adjustment when initially increasing offered
                    # load (to ramp up quickly)

maxLoadRates = 2000 # Maximum table index (rows)

if ( seqErr &lt;= seqErrThresh &amp;&amp; delay &lt; lowThresh ) {
        if ( Rx &lt; hSpeedThresh &amp;&amp; slowAdjCount &lt; slowAdjThresh ) {
                        Rx += highSpeedDelta;
                        slowAdjCount = 0;
        } else {
                        if ( Rx &lt; maxLoadRates - 1 )
                                        Rx++;
        }
} else if ( seqErr &gt; seqErrThresh || delay &gt; upperThresh ) {
        slowAdjCount++;
        if ( Rx &lt; hSpeedThresh &amp;&amp; slowAdjCount == slowAdjThresh ) {
                        if ( Rx &gt; highSpeedDelta * 3 )
                                        Rx -= highSpeedDelta * 3;
                        else
                                        Rx = 0;
        } else {
                        if ( Rx &gt; 0 )
                                        Rx--;
        }
}
</pre><a class="pilcrow" href="#appendix-A-2">Â¶</a>
</div>
</section>
</div>
<div id="app-b-rfc8085-udp">
<section id="appendix-B">
      <h2 id="name-rfc-8085-udp-guidelines-che">
<a class="section-number selfRef" href="#appendix-B">Appendix B. </a><a class="section-name selfRef" href="#name-rfc-8085-udp-guidelines-che">RFC 8085 UDP Guidelines Check</a>
      </h2>
<p id="appendix-B-1"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1">Section 3.1</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span>
(BCP 145), which provides UDP usage guidelines, focuses
      primarily on congestion control. The guidelines appear in
      mandatory (<span class="bcp14">MUST</span>) and recommendation (<span class="bcp14">SHOULD</span>) categories.<a class="pilcrow" href="#appendix-B-1">Â¶</a></p>
<section id="appendix-B.1">
        <h3 id="name-assessment-of-mandatory-req">
<a class="section-number selfRef" href="#appendix-B.1">B.1. </a><a class="section-name selfRef" href="#name-assessment-of-mandatory-req">Assessment of Mandatory Requirements</a>
        </h3>
<p id="appendix-B.1-1">The mandatory requirements in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3">Section 3</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span>
        include the following:<a class="pilcrow" href="#appendix-B.1-1">Â¶</a></p>
<blockquote id="appendix-B.1-2">Internet paths can have widely varying characteristics, ...
            Consequently, applications that may be used on the Internet <span class="bcp14">MUST NOT</span> make assumptions about specific path characteristics. They
            <span class="bcp14">MUST</span> instead use mechanisms that let them operate safely under
            very different path conditions. Typically, this requires
            conservatively probing the current conditions of the Internet path
            they communicate over to establish a transmission behavior that it
            can sustain and that is reasonably fair to other traffic sharing
            the path.<a class="pilcrow" href="#appendix-B.1-2">Â¶</a>
</blockquote>
<p id="appendix-B.1-3">The purpose of the load rate adjustment algorithm described in <a class="xref" href="#load-rate-adj">Section 8.1</a> is
        to probe the network and enable Maximum IP-Layer Capacity measurements
        with as few assumptions about the measured path as possible and
        within the range of applications described in <a class="xref" href="#sec-2-scope">Section 2</a>.
        There is tension between the goals of probing conservatism and
        minimization of both the traffic dedicated to testing (especially with
        Gigabit rate measurements) and the duration of the test (which is one contributing
        factor to the overall algorithm fairness).<a class="pilcrow" href="#appendix-B.1-3">Â¶</a></p>
<p id="appendix-B.1-4">The text of <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3">Section 3</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span>
 goes on to
        recommend alternatives to UDP to meet the mandatory requirements, but
        none are suitable for the scope and purpose of the Metrics and Methods
        in this memo.  In fact, ad hoc TCP-based methods fail to achieve the
        measurement accuracy repeatedly proven in comparison measurements with
        the running code <span>[<a class="xref" href="#LS-SG12-A">LS-SG12-A</a>]</span> <span>[<a class="xref" href="#LS-SG12-B">LS-SG12-B</a>]</span>
          <span>[<a class="xref" href="#Y.Sup60">Y.Sup60</a>]</span>. Also, the UDP aspect of these methods is
        present primarily to support modern Internet transmission where a
        transport protocol is required <span>[<a class="xref" href="#copycat">copycat</a>]</span>; the metric is
        based on the IP Layer, and UDP allows simple correlation to the
        IP Layer.<a class="pilcrow" href="#appendix-B.1-4">Â¶</a></p>
<p id="appendix-B.1-5"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.1">Section 3.1.1</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span> discusses protocol timer
        guidelines:<a class="pilcrow" href="#appendix-B.1-5">Â¶</a></p>
<blockquote id="appendix-B.1-6">Latency samples <span class="bcp14">MUST NOT</span> be derived from ambiguous
            transactions. The canonical example is in a protocol that
            retransmits data, but subsequently cannot determine which copy is
            being acknowledged.<a class="pilcrow" href="#appendix-B.1-6">Â¶</a>
</blockquote>
<p id="appendix-B.1-7">Both load packets and status feedback messages <span class="bcp14">MUST</span> contain
        sequence numbers; this helps with measurements based on those
        packets, and there are no retransmissions needed.<a class="pilcrow" href="#appendix-B.1-7">Â¶</a></p>
<blockquote id="appendix-B.1-8">When a latency estimate is used to arm a timer that provides
            loss detection -- with or without retransmission -- expiry of the
            timer <span class="bcp14">MUST</span> be interpreted as an indication of congestion in the
            network, causing the sending rate to be adapted to a safe
            conservative rate ...<a class="pilcrow" href="#appendix-B.1-8">Â¶</a>
</blockquote>
<p id="appendix-B.1-9">The methods described in this memo use timers for sending rate
        backoff when status feedback messages are lost (Lost Status Backoff
        timeout) and for stopping a test when connectivity is lost for a
        longer interval (feedback message or load packet timeouts).<a class="pilcrow" href="#appendix-B.1-9">Â¶</a></p>
<p id="appendix-B.1-10">This memo does not foresee any specific benefit of using Explicit Congestion
        Notification (ECN).<a class="pilcrow" href="#appendix-B.1-10">Â¶</a></p>
<p id="appendix-B.1-11"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.2">Section 3.2</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span> discusses message size
        guidelines:<a class="pilcrow" href="#appendix-B.1-11">Â¶</a></p>
<blockquote id="appendix-B.1-12">To determine an appropriate UDP payload size, applications <span class="bcp14">MUST</span>
            subtract the size of the IP header (which includes any IPv4
            optional headers or IPv6 extension headers) as well as the length
            of the UDP header (8 bytes) from the PMTU size.<a class="pilcrow" href="#appendix-B.1-12">Â¶</a>
</blockquote>
<p id="appendix-B.1-13">The method uses a sending rate table with a maximum UDP payload
        size that anticipates significant header overhead and avoids
        fragmentation.<a class="pilcrow" href="#appendix-B.1-13">Â¶</a></p>
<p id="appendix-B.1-14"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.3">Section 3.3</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span> provides reliability
        guidelines:<a class="pilcrow" href="#appendix-B.1-14">Â¶</a></p>
<blockquote id="appendix-B.1-15">Applications that do require reliable message delivery <span class="bcp14">MUST</span>
            implement an appropriate mechanism themselves.<a class="pilcrow" href="#appendix-B.1-15">Â¶</a>
</blockquote>
<p id="appendix-B.1-16">The IP-Layer Capacity Metrics and Methods do not require reliable
        delivery.<a class="pilcrow" href="#appendix-B.1-16">Â¶</a></p>
<blockquote id="appendix-B.1-17">Applications that require ordered delivery <span class="bcp14">MUST</span> reestablish
            datagram ordering themselves.<a class="pilcrow" href="#appendix-B.1-17">Â¶</a>
</blockquote>
<p id="appendix-B.1-18">The IP-Layer Capacity Metrics and Methods do not need to
        reestablish packet order; it is preferable to measure packet reordering
        if it occurs <span>[<a class="xref" href="#RFC4737">RFC4737</a>]</span>.<a class="pilcrow" href="#appendix-B.1-18">Â¶</a></p>
</section>
<section id="appendix-B.2">
        <h3 id="name-assessment-of-recommendatio">
<a class="section-number selfRef" href="#appendix-B.2">B.2. </a><a class="section-name selfRef" href="#name-assessment-of-recommendatio">Assessment of Recommendations</a>
        </h3>
<p id="appendix-B.2-1">The load rate adjustment algorithm's goal is to determine the
        Maximum IP-Layer Capacity in the context of an infrequent, diagnostic,
        short-term measurement. This goal is a global exception to many <span class="bcp14">SHOULD</span>-level requirements as listed in <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span>, of which many are
        intended for long-lived flows that must coexist with other traffic in a
        more or less fair way. However, the algorithm (as specified in
        <a class="xref" href="#load-rate-adj">Section 8.1</a> and <a class="xref" href="#app-a-load-rate-adj-pseudocode">Appendix A</a> above) reacts to indications of congestion in
        clearly defined ways.<a class="pilcrow" href="#appendix-B.2-1">Â¶</a></p>
<p id="appendix-B.2-2">A specific recommendation is provided as an example. <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.5">Section 3.1.5</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span> (regarding the implications of RTT and loss measurements on congestion control) says:<a class="pilcrow" href="#appendix-B.2-2">Â¶</a></p>
<blockquote id="appendix-B.2-3">A congestion control [algorithm] designed for UDP <span class="bcp14">SHOULD</span> respond as quickly
            as possible when it experiences congestion, and it <span class="bcp14">SHOULD</span> take
            into account both the loss rate and the response time when
            choosing a new rate.<a class="pilcrow" href="#appendix-B.2-3">Â¶</a>
</blockquote>
<p id="appendix-B.2-4">The load rate adjustment algorithm responds to loss and RTT
        measurements with a clear and concise rate reduction when warranted,
        and the response makes use of direct measurements (more exact than can
        be inferred from TCP ACKs).<a class="pilcrow" href="#appendix-B.2-4">Â¶</a></p>
<p id="appendix-B.2-5"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.5">Section 3.1.5</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span> goes on to specify the following:<a class="pilcrow" href="#appendix-B.2-5">Â¶</a></p>
<blockquote id="appendix-B.2-6">The implemented congestion control scheme <span class="bcp14">SHOULD</span> result in
            bandwidth (capacity) use that is comparable to that of TCP within
            an order of magnitude, so that it does not starve other flows
            sharing a common bottleneck.<a class="pilcrow" href="#appendix-B.2-6">Â¶</a>
</blockquote>
<p id="appendix-B.2-7">This is a requirement for coexistent streams, and not for
        diagnostic and infrequent measurements using short durations. The rate
        oscillations during short tests allow other packets to pass and
        don't starve other flows.<a class="pilcrow" href="#appendix-B.2-7">Â¶</a></p>
<p id="appendix-B.2-8">Ironically, ad hoc TCP-based measurements of "Internet Speed" are
        also designed to work around this <span class="bcp14">SHOULD</span>-level requirement, by
        launching many flows (9, for example) to increase the outstanding data
        dedicated to testing.<a class="pilcrow" href="#appendix-B.2-8">Â¶</a></p>
<p id="appendix-B.2-9">The load rate adjustment algorithm cannot become a TCP-like
        congestion control, or it will have the same weaknesses of TCP when
        trying to make a Maximum IP-Layer Capacity measurement and will not
        achieve the goal. The results of the referenced testing <span>[<a class="xref" href="#LS-SG12-A">LS-SG12-A</a>]</span> <span>[<a class="xref" href="#LS-SG12-B">LS-SG12-B</a>]</span> <span>[<a class="xref" href="#Y.Sup60">Y.Sup60</a>]</span> supported this statement hundreds of times, with
        comparisons to multi-connection TCP-based measurements.<a class="pilcrow" href="#appendix-B.2-9">Â¶</a></p>
<p id="appendix-B.2-10">A brief review of requirements from <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span> follows (marked "Yes" when this memo is compliant, or "NA" (Not Applicable)):<a class="pilcrow" href="#appendix-B.2-10">Â¶</a></p>
<span id="name-summary-of-key-guidelines-f"></span><div id="recs-rfc8085">
<table class="center" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-summary-of-key-guidelines-f">Summary of Key Guidelines from RFC 8085</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Yes?</th>
              <th class="text-left" colspan="1" rowspan="1">Recommendation in RFC 8085</th>
              <th class="text-left" colspan="1" rowspan="1">Section</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">MUST</span> tolerate a wide range of Internet path conditions</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3">3</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> use a full-featured transport (e.g., TCP)</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> control rate of transmission</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1">3.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> perform congestion control over all traffic</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"></th>
              <th class="text-left" colspan="1" rowspan="1">For bulk transfers,</th>
              <th class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.2">3.1.2</a>
</th>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> consider implementing TFRC</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">else, <span class="bcp14">SHOULD</span> in other ways use bandwidth similar to TCP</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"></th>
              <th class="text-left" colspan="1" rowspan="1">For non-bulk transfers,</th>
              <th class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.3">3.1.3</a>
</th>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> measure RTT and transmit max. 1 datagram/RTT</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.1">3.1.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">else, <span class="bcp14">SHOULD</span> send at most 1 datagram every 3 seconds</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> back-off retransmission timers following loss</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> provide mechanisms to regulate the bursts of transmission</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.6">3.1.6</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">MAY</span> implement ECN; a specific set of application mechanisms are <span class="bcp14">REQUIRED</span> if ECN is used</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.7">3.1.7</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">For DiffServ, <span class="bcp14">SHOULD NOT</span> rely on implementation of PHBs</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.8">3.1.8</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">For QoS-enabled paths, <span class="bcp14">MAY</span> choose not to use CC</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.9">3.1.9</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD NOT</span> rely solely on QoS for their capacity</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.10">3.1.10</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">non-CC controlled flows <span class="bcp14">SHOULD</span> implement a transport circuit breaker</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">MAY</span> implement a circuit breaker for other applications</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"></th>
              <th class="text-left" colspan="1" rowspan="1">For tunnels carrying IP traffic,</th>
              <th class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.11">3.1.11</a>
</th>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD NOT</span> perform congestion control</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">MUST</span> correctly process the IP ECN field</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"></th>
              <th class="text-left" colspan="1" rowspan="1">For non-IP tunnels or rate not determined by traffic,</th>
              <th class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.1.11">3.1.11</a>
</th>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> perform CC or use circuit breaker</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> restrict types of traffic transported by the tunnel</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD NOT</span> send datagrams that exceed the PMTU, i.e.,</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.2">3.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> discover PMTU or send datagrams &lt; minimum PMTU</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">Specific application mechanisms are <span class="bcp14">REQUIRED</span> if PLPMTUD is used</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> handle datagram loss, duplication, reordering</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.3">3.3</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> be robust to delivery delays up to 2 minutes</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> enable IPv4 UDP checksum</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.4">3.4</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> enable IPv6 UDP checksum; specific application mechanisms are <span class="bcp14">REQUIRED</span> if a zero IPv6 UDP checksum is used</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.4.1">3.4.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> provide protection from off-path attacks</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-5.1">5.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">else, <span class="bcp14">MAY</span> use UDP-Lite with suitable checksum coverage</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.4.2">3.4.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD NOT</span> always send middlebox keep-alive messages</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.5">3.5</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">MAY</span> use keep-alives when needed (min. interval 15 sec)</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">Applications specified for use in limited use (or controlled environments) <span class="bcp14">SHOULD</span> identify equivalent mechanisms and describe their use case</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.6">3.6</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">Bulk-multicast apps <span class="bcp14">SHOULD</span> implement congestion control</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-4.1.1">4.1.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">Low volume multicast apps <span class="bcp14">SHOULD</span> implement congestion control</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-4.1.2">4.1.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">Multicast apps <span class="bcp14">SHOULD</span> use a safe PMTU</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-4.2">4.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> avoid using multiple ports</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-5.1.2">5.1.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">MUST</span> check received IP source address</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> validate payload in ICMP messages</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-5.2">5.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="3" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Yes</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> use a randomized Source port or equivalent technique, and, for client/server applications, <span class="bcp14">SHOULD</span> send responses from source address matching request</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-6">6</a>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">NA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <span class="bcp14">SHOULD</span> use standard IETF security protocols when needed</td>
              <td class="text-left" colspan="1" rowspan="1">
                <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-6">6</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</section>
</div>
<section id="appendix-C">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-C-1">Thanks to <span class="contact-name">Joachim Fabini</span>, <span class="contact-name">Matt Mathis</span>, <span class="contact-name">J. Ignacio Alvarez-Hamelin</span>,
      <span class="contact-name">Wolfgang Balzer</span>, <span class="contact-name">Frank Brockners</span>, <span class="contact-name">Greg Mirsky</span>, <span class="contact-name">Martin Duke</span>, <span class="contact-name">Murray Kucherawy</span>, and <span class="contact-name">Benjamin Kaduk</span> for their extensive comments on this memo
      and related topics. In a second round of reviews, we acknowledge <span class="contact-name">Magnus Westerlund</span>, <span class="contact-name">Lars Eggert</span>, and <span class="contact-name">Zaheduzzaman Sarker</span>.<a class="pilcrow" href="#appendix-C-1">Â¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Al Morton</span></div>
<div class="left" dir="auto"><span class="org">AT&amp;T Labs</span></div>
<div class="left" dir="auto"><span class="street-address">200 Laurel Avenue South</span></div>
<div class="left" dir="auto">
<span class="locality">Middletown</span>, <span class="region">NJ</span> <span class="postal-code">07748</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20732%20420%201571">+1 732 420 1571</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:acm@research.att.com">acm@research.att.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">RÃ¼diger Geib</span></div>
<div class="left" dir="auto"><span class="org">Deutsche Telekom</span></div>
<div class="left" dir="auto"><span class="street-address">Heinrich Hertz Str. 3-7</span></div>
<div class="left" dir="auto">
<span class="postal-code">64295</span> <span class="locality">Darmstadt</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+49%206151%205812747">+49 6151 5812747</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Ruediger.Geib@telekom.de">Ruediger.Geib@telekom.de</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Len Ciavattone</span></div>
<div class="left" dir="auto"><span class="org">AT&amp;T Labs</span></div>
<div class="left" dir="auto"><span class="street-address">200 Laurel Avenue South</span></div>
<div class="left" dir="auto">
<span class="locality">Middletown</span>, <span class="region">NJ</span> <span class="postal-code">07748</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20732%20420%201239">+1 732 420 1239</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lencia@att.com">lencia@att.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>