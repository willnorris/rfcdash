<html><head></head><body><pre>Network Working Group                                           D. Meyer
Request for Comments: 4608                                    R. Rockell
BCP: 120                                                     G. Shepherd
Category: Best Current Practice                              August 2006


        <span class="h1">Source-Specific Protocol Independent Multicast in 232/8</span>

Status of This Memo

   This document specifies an Internet Best Current Practices for the
   Internet Community, and requests discussion and suggestions for
   improvements.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   IP Multicast group addresses in the 232/8 (232.0.0.0 to
   232.255.255.255) range are designated as source-specific multicast
   destination addresses and are reserved for use by source-specific
   multicast applications and protocols.  This document defines
   operational recommendations to ensure source-specific behavior within
   the 232/8 range.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
      <a href="#section-1.1">1.1</a>. BCP, Experimental Protocols, and Normative References ......<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Operational practices in 232/8 ..................................<a href="#page-4">4</a>
      <a href="#section-2.1">2.1</a>. Preventing Local Sources from Sending to Shared Tree .......<a href="#page-4">4</a>
      2.2. Preventing Remote Sources from Being Learned/Joined
           via MSDP ...................................................<a href="#page-4">4</a>
      <a href="#section-2.3">2.3</a>. Preventing Receivers from Joining the Shared Tree ..........<a href="#page-4">4</a>
      <a href="#section-2.4">2.4</a>. Preventing RPs as Candidates for 232/8 .....................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. Acknowledgements ................................................<a href="#page-5">5</a>
   <a href="#section-4">4</a>. Security Considerations .........................................<a href="#page-5">5</a>
   <a href="#section-5">5</a>. References ......................................................<a href="#page-6">6</a>
      <a href="#section-5.1">5.1</a>. Normative References .......................................<a href="#page-6">6</a>
      <a href="#section-5.2">5.2</a>. Informative References .....................................<a href="#page-6">6</a>









<span class="grey">Meyer, et al.            Best Current Practice                  [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc4608">RFC 4608</a>              Source-Specific PIM in 232/8           August 2006</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   Current Protocol Independent Multicast - Sparse Mode (PIM-SM)
   [<a href="./rfc4601" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>] relies on the shared Rendezvous Point (RP) tree to learn
   about active sources for a group and to support group-generic (Any
   Source Multicast or ASM) data distribution.  The IP Multicast group
   address range 232/8 has been designated for Source-Specific Multicast
   [<a href="./rfc3569" title='"An Overview of Source-Specific Multicast (SSM)"'>RFC3569</a>] applications and protocols [<a href="#ref-IANA">IANA</a>] and SHOULD support
   source-only trees only, precluding the requirement of an RP and a
   shared tree; active sources in the 232/8 range will be discovered out
   of band.  PIM Sparse Mode Designated Routers (DR) with local
   membership are capable of joining the shortest path tree for the
   source directly using SSM functionality of PIM-SM.

   Operational best common practices in the 232/8 group address range
   are necessary to ensure shortest path source-only trees across
   multiple domains in the Internet [<a href="./rfc3569" title='"An Overview of Source-Specific Multicast (SSM)"'>RFC3569</a>], and to prevent data from
   sources sending to groups in the 232/8 range from arriving via shared
   trees.  This avoids unwanted data arrival and allows several sources
   to use the same group address without conflict at the receivers.

   The operational practices SHOULD:

      o  Prevent local sources from sending to shared tree

      o  Prevent receivers from joining the shared tree

      o  Prevent RPs as candidates for 232/8

      o  Prevent remote sources from being learned/joined via Multicast
         Source Discovery Protocol (MSDP) [<a href="./rfc3618" title='"Multicast Source Discovery Protocol (MSDP)"'>RFC3618</a>]

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.1.%20%20BCP%2C%20Experimental%20Protocols%2C%20and%20Normative%20References"></a><a class="selflink" href="#section-1.1" id="section-1.1">1.1</a>.  BCP, Experimental Protocols, and Normative References</span>

   This document describes the best current practice for a widely
   deployed Experimental protocol, MSDP.  There is no plan to advance
   MSDP's status (for example, to Proposed Standard).  The reasons for
   this include:

      o  MSDP was originally envisioned as a temporary protocol to be
         supplanted by whatever the Inter-Domain Multicast Routing
         (IDMR) working group produced as an inter-domain protocol.
         However, the IDMR WG (or subsequently, the Border Gateway
         Multicast Protocol (BGMP) WG) never produced a protocol that
         could be deployed to replace MSDP.






<span class="grey">Meyer, et al.            Best Current Practice                  [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc4608">RFC 4608</a>              Source-Specific PIM in 232/8           August 2006</span>


      o  One of the primary reasons given for MSDP to be classified as
         Experimental was that the MSDP Working Group came up with
         modifications to the protocol that the WG thought made it
         better but that implementors didn't see any reasons to deploy.
         Without these modifications (e.g., UDP or GRE encapsulation),
         MSDP can have negative consequences to initial packets in
         datagram streams.

      o  Scalability: Although we don't know what the hard limits might
         be, readvertising everything you know every 60 seconds clearly
         limits the amount of state you can advertise.

      o  MSDP reached nearly ubiquitous deployment as the de facto
         standard inter-domain multicast protocol in the IPv4 Internet.

      o  No consensus could be reached regarding the reworking of MSDP
         to address the many concerns of various constituencies within
         the IETF.  As a result, a decision was taken to document what
         is (ubiquitously) deployed and to move that document to
         Experimental.  Although advancement of MSDP to Proposed
         Standard was considered, for the reasons mentioned above, it
         was immediately discarded.

      o  The advent of protocols such as source-specific multicast and
         bi-directional PIM, as well as embedded RP techniques for IPv6,
         have further reduced consensus that a replacement protocol for
         MSDP for the IPv4 Internet is required.

   The RFC Editor's policy regarding references is that they be split
   into two categories known as "normative" and "informative".
   Normative references specify those documents that must be read for
   one to understand or implement the technology in an RFC (or whose
   technology must be present for the technology in the new RFC to work)
   [<a href="#ref-RFCED">RFCED</a>].  In order to understand this document, one must also
   understand both the PIM [<a href="./rfc4601" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>] and MSDP [<a href="./rfc3618" title='"Multicast Source Discovery Protocol (MSDP)"'>RFC3618</a>] documents.  As a
   result, references to these documents are normative.

   The IETF has adopted the policy that BCPs must not have normative
   references to Experimental protocols.  However, this document is a
   special case in that the underlying Experimental document (MSDP) is
   not planned to be advanced to Proposed Standard.

   The MBONED Working Group requests approval under the Variance
   Procedure as documented in <a href="./rfc2026">RFC 2026</a> [<a href="./rfc2026" title='"The Internet Standards Process -- Revision 3"'>RFC2026</a>].  The IESG followed the
   Variance Procedure and, after an additional 4-week IETF Last Call,
   evaluated the comments and status and has approved the document.





<span class="grey">Meyer, et al.            Best Current Practice                  [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc4608">RFC 4608</a>              Source-Specific PIM in 232/8           August 2006</span>


   The key words "MUST"", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="./rfc2119">RFC 2119</a> [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Operational%20practices%20in%20232%2F8"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Operational practices in 232/8</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.1.%20%20Preventing%20Local%20Sources%20from%20Sending%20to%20Shared%20Tree"></a><a class="selflink" href="#section-2.1" id="section-2.1">2.1</a>.  Preventing Local Sources from Sending to Shared Tree</span>

   In order to eliminate the use of shared trees for groups in 232/8,
   while maintaining coexistence with ASM in PIM-SM, the behavior of the
   RP and/or the DR needs to be modified.  This can be accomplished by

      -  preventing data for 232/8 groups from being sent encapsulated
         to the RP by the DR,

      -  preventing the RP from accepting registers for 232/8 groups
         from the DR, and

      -  preventing the RP from forwarding accepted data down (*,G) tree
         for 232/8 groups.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.%20%20Preventing%20Remote%20Sources%20from%20Being%20Learned%2FJoined%20via%20MSDP"></a><a class="selflink" href="#section-2.2" id="section-2.2">2.2</a>.  Preventing Remote Sources from Being Learned/Joined via MSDP</span>

   SSM does not require active source announcements via MSDP.  All
   source announcements are received out of band, and the last hop
   router is responsible for sending (S,G) joins directly to the source.
   To prevent propagation of SAs in the 232/8 range, an RP SHOULD

      -  never originate an SA for any 232/8 groups, and

      -  never accept or forward an SA for any 232/8 groups.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.3.%20%20Preventing%20Receivers%20from%20Joining%20the%20Shared%20Tree"></a><a class="selflink" href="#section-2.3" id="section-2.3">2.3</a>.  Preventing Receivers from Joining the Shared Tree</span>

   Local PIM domain practices need to be enforced to prevent local
   receivers from joining the shared tree for 232/8 groups.  This can be
   accomplished by

      -  preventing DR from sending (*,G) joins for 232/8 groups, and

      -  preventing RP from accepting (*,G) join for 232/8 groups.

   However, within a local PIM domain, any last-hop router NOT
   preventing (*,G) joins may trigger unwanted (*,G) state toward the RP
   that intersects an existing (S,G) tree, allowing the receiver on the
   shared tree to receive the data, which breaks the source-specific





<span class="grey">Meyer, et al.            Best Current Practice                  [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc4608">RFC 4608</a>              Source-Specific PIM in 232/8           August 2006</span>


   [<a id="ref-RFC3569">RFC3569</a>] service model.  It is therefore recommended that ALL
   routers in the domain MUST reject AND never originate (*,G) joins for
   232/8 groups.

   In those cases in which an ISP is offering its customers (or others)
   the use of the ISP's RP, the ISP SHOULD NOT allow (*,G) joins in the
   232/8 range.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.4.%20%20Preventing%20RPs%20as%20Candidates%20for%20232%2F8"></a><a class="selflink" href="#section-2.4" id="section-2.4">2.4</a>.  Preventing RPs as Candidates for 232/8</span>

   Because SSM does not require an RP, all RPs SHOULD NOT offer
   themselves as candidates in the 232/8 range.  This can be
   accomplished by

      -  preventing RP/BSR from announcing in the 232/8 range,

      -  preventing ALL routers from accepting RP delegations in the
         232/8 range, and

      -  precluding RP functionality on RP for the 232/8 range.

   Note that in typical practice, RPs announce themselves as candidates
   for the 224/4 (which obviously includes 232/8).  It is still
   acceptable to allow the advertisement of 224/4 (or any other superset
   of 232/8); however, this approach relies on the second point, above;
   namely, that routers silently ignore the RP delegation in the 232/8
   range and prevent sending or receiving using the shared tree, as
   described previously.  Finally, an RP SHOULD NOT be configured as a
   candidate RP for 232/8 (or for a more specific range).

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Acknowledgements"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Acknowledgements</span>

   This document is the work of many people in the multicast community,
   including (but not limited to) Dino Farinacci, John Meylor, John
   Zwiebel, Tom Pusateri, Dave Thaler, Toerless Eckert, Leonard
   Giuliano, Mike McBride, and Pekka Savola.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Security Considerations</span>

   This document describes operational practices that introduce no new
   security issues to PIM-SM [<a href="./rfc4601" title='"Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)"'>RFC4601</a>] in either or SSM [<a href="./rfc3569" title='"An Overview of Source-Specific Multicast (SSM)"'>RFC3569</a>] or ASM
   operation.

   However, in the event that the operational practices described in
   this document are not adhered to, some problems may surface.  In
   particular, <a href="#section-2.3">Section 2.3</a> describes the effects of non-compliance of
   last-hop routers (or, to some degree, rogue hosts sending PIM
   messages themselves) on the source-specific service model.  Creating



<span class="grey">Meyer, et al.            Best Current Practice                  [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc4608">RFC 4608</a>              Source-Specific PIM in 232/8           August 2006</span>


   the (*,G) state for source-specific (S,G) could enable a receiver to
   receive data it should not get.  This can be mitigated by host-side
   multicast source filtering.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20References"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.%20%20Normative%20References"></a><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  Normative References</span>

   [<a id="ref-RFC4601">RFC4601</a>] Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas,
             "Protocol Independent Multicast - Sparse Mode (PIM-SM):
             Protocol Specification (Revised)", <a href="./rfc4601">RFC 4601</a>, August 2006.

   [<a id="ref-RFC2119">RFC2119</a>] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2026">RFC2026</a>] Bradner, S., "The Internet Standards Process -- Revision
             3", <a href="https://www.rfc-editor.org/bcp/bcp9">BCP 9</a>, <a href="./rfc2026">RFC 2026</a>, October 1996.

   [<a id="ref-RFC3569">RFC3569</a>] Bhattacharyya, S., "An Overview of Source-Specific
             Multicast (SSM)", <a href="./rfc3569">RFC 3569</a>, July 2003.

   [<a id="ref-RFC3618">RFC3618</a>] Fenner, B. and D. Meyer, "Multicast Source Discovery
             Protocol (MSDP)", <a href="./rfc3618">RFC 3618</a>, October 2003.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.%20%20Informative%20References"></a><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  Informative References</span>

   [<a id="ref-IANA">IANA</a>]    <a href="http://www.iana.org">http://www.iana.org</a>

   [<a id="ref-RFCED">RFCED</a>]   <a href="http://www.rfc-editor.org/policy.html">http://www.rfc-editor.org/policy.html</a>

Authors' Addresses

   David Meyer

   EMail: dmm@1-4-5.net


   Robert Rockell
   Sprint

   EMail: rrockell@sprint.net


   Greg Shepherd
   Cisco

   EMail: gjshep@gmail.com




<span class="grey">Meyer, et al.            Best Current Practice                  [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc4608">RFC 4608</a>              Source-Specific PIM in 232/8           August 2006</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2006).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and <a href="https://www.rfc-editor.org/bcp/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).







Meyer, et al.            Best Current Practice                  [Page 7]
</pre>
</body></html>