<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8827: WebRTC Security Architecture</title>
<meta content="Eric Rescorla" name="author"/>
<meta content='
       
        This document defines the security architecture for WebRTC, a protocol
        suite intended for use with real-time applications that can be deployed
        in browsers -- "real-time communication on the Web".
       
    ' name="description"/>
<meta content="xml2rfc 3.5.0" name="generator"/>
<meta content="8827" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8827.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8827" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-rtcweb-security-arch-20" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8827</td>
<td class="center">WebRTC Sec. Arch.</td>
<td class="right">January 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Rescorla</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8827">8827</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-01">January 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">E. Rescorla</div>
<div class="org">Mozilla</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8827</h1>
<h1 id="title">WebRTC Security Architecture</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
        This document defines the security architecture for WebRTC, a protocol
        suite intended for use with real-time applications that can be deployed
        in browsers -- "real-time communication on the Web".<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8827">https://www.rfc-editor.org/info/rfc8827</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
<p id="section-boilerplate.2-3">
            This document may contain material from IETF Documents or IETF
            Contributions published or made publicly available before November
            10, 2008. The person(s) controlling the copyright in some of this
            material may not have granted the IETF Trust the right to allow
            modifications of such material outside the IETF Standards Process.
            Without obtaining an adequate license from the person(s)
            controlling the copyright in such materials, this document may not
            be modified outside the IETF Standards Process, and derivative
            works of it may not be created outside the IETF Standards Process,
            except to format it for publication as an RFC or to translate it
            into languages other than English.<a class="pilcrow" href="#section-boilerplate.2-3">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-trust-model">Trust Model</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p class="keepWithNext" id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-authenticated-entities">Authenticated Entities</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-unauthenticated-entities">Unauthenticated Entities</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-overview">Overview</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-initial-signaling">Initial Signaling</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-media-consent-verification">Media Consent Verification</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-dtls-handshake">DTLS Handshake</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-communications-and-consent-">Communications and Consent Freshness</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-sdp-identity-attribute">SDP Identity Attribute</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-offer-answer-considerations">Offer/Answer Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a class="xref" href="#section-5.1.1">5.1.1</a>.  <a class="xref" href="#name-generating-the-initial-sdp-">Generating the Initial SDP Offer</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.1.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a class="xref" href="#section-5.1.2">5.1.2</a>.  <a class="xref" href="#name-generating-an-sdp-answer">Generating an SDP Answer</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.2.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a class="xref" href="#section-5.1.3">5.1.3</a>.  <a class="xref" href="#name-processing-an-sdp-offer-or-">Processing an SDP Offer or Answer</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.3.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a class="xref" href="#section-5.1.4">5.1.4</a>.  <a class="xref" href="#name-modifying-the-session">Modifying the Session</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.4.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-detailed-technical-descript">Detailed Technical Description</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-origin-and-web-security-iss">Origin and Web Security Issues</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-device-permissions-model">Device Permissions Model</a><a class="pilcrow" href="#section-toc.1-1.6.2.2.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-communications-consent">Communications Consent</a><a class="pilcrow" href="#section-toc.1-1.6.2.3.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.  <a class="xref" href="#name-ip-location-privacy">IP Location Privacy</a><a class="pilcrow" href="#section-toc.1-1.6.2.4.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="xref" href="#section-6.5">6.5</a>.  <a class="xref" href="#name-communications-security">Communications Security</a><a class="pilcrow" href="#section-toc.1-1.6.2.5.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-web-based-peer-authenticati">Web-Based Peer Authentication</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-trust-relationships-idps-ap">Trust Relationships: IdPs, APs, and RPs</a><a class="pilcrow" href="#section-toc.1-1.7.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-overview-of-operation">Overview of Operation</a><a class="pilcrow" href="#section-toc.1-1.7.2.2.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.  <a class="xref" href="#name-items-for-standardization">Items for Standardization</a><a class="pilcrow" href="#section-toc.1-1.7.2.3.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-7.4">7.4</a>.  <a class="xref" href="#name-binding-identity-assertions">Binding Identity Assertions to JSEP Offer/Answer Transactions</a><a class="pilcrow" href="#section-toc.1-1.7.2.4.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.4.2.1">
                    <p id="section-toc.1-1.7.2.4.2.1.1"><a class="xref" href="#section-7.4.1">7.4.1</a>.  <a class="xref" href="#name-carrying-identity-assertion">Carrying Identity Assertions</a><a class="pilcrow" href="#section-toc.1-1.7.2.4.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a class="xref" href="#section-7.5">7.5</a>.  <a class="xref" href="#name-determining-the-idp-uri">Determining the IdP URI</a><a class="pilcrow" href="#section-toc.1-1.7.2.5.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.5.2.1">
                    <p id="section-toc.1-1.7.2.5.2.1.1"><a class="xref" href="#section-7.5.1">7.5.1</a>.  <a class="xref" href="#name-authenticating-party">Authenticating Party</a><a class="pilcrow" href="#section-toc.1-1.7.2.5.2.1.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.5.2.2">
                    <p id="section-toc.1-1.7.2.5.2.2.1"><a class="xref" href="#section-7.5.2">7.5.2</a>.  <a class="xref" href="#name-relying-party">Relying Party</a><a class="pilcrow" href="#section-toc.1-1.7.2.5.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a class="xref" href="#section-7.6">7.6</a>.  <a class="xref" href="#name-requesting-assertions">Requesting Assertions</a><a class="pilcrow" href="#section-toc.1-1.7.2.6.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.7">
                <p id="section-toc.1-1.7.2.7.1"><a class="xref" href="#section-7.7">7.7</a>.  <a class="xref" href="#name-managing-user-login">Managing User Login</a><a class="pilcrow" href="#section-toc.1-1.7.2.7.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-verifying-assertions">Verifying Assertions</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-identity-formats">Identity Formats</a><a class="pilcrow" href="#section-toc.1-1.8.2.1.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-communications-security-2">Communications Security</a><a class="pilcrow" href="#section-toc.1-1.9.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-privacy">Privacy</a><a class="pilcrow" href="#section-toc.1-1.9.2.2.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a class="xref" href="#section-9.3">9.3</a>.  <a class="xref" href="#name-denial-of-service">Denial of Service</a><a class="pilcrow" href="#section-toc.1-1.9.2.3.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a class="xref" href="#section-9.4">9.4</a>.  <a class="xref" href="#name-idp-authentication-mechanis">IdP Authentication Mechanism</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.1">
                    <p id="section-toc.1-1.9.2.4.2.1.1"><a class="xref" href="#section-9.4.1">9.4.1</a>.  <a class="xref" href="#name-peerconnection-origin-check">PeerConnection Origin Check</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.1.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.2">
                    <p id="section-toc.1-1.9.2.4.2.2.1"><a class="xref" href="#section-9.4.2">9.4.2</a>.  <a class="xref" href="#name-idp-well-known-uri">IdP Well-Known URI</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.2.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.3">
                    <p id="section-toc.1-1.9.2.4.2.3.1"><a class="xref" href="#section-9.4.3">9.4.3</a>.  <a class="xref" href="#name-privacy-of-idp-generated-id">Privacy of IdP-Generated Identities and the Hosting Site</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.3.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.4">
                    <p id="section-toc.1-1.9.2.4.2.4.1"><a class="xref" href="#section-9.4.4">9.4.4</a>.  <a class="xref" href="#name-security-of-third-party-idp">Security of Third-Party IdPs</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.4.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.4.2.1">
                        <p id="section-toc.1-1.9.2.4.2.4.2.1.1"><a class="xref" href="#section-9.4.4.1">9.4.4.1</a>.  <a class="xref" href="#name-confusable-characters">Confusable Characters</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.4.2.1.1">¶</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.5">
                    <p id="section-toc.1-1.9.2.4.2.5.1"><a class="xref" href="#section-9.4.5">9.4.5</a>.  <a class="xref" href="#name-web-security-feature-intera">Web Security Feature Interactions</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.5.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.5.2.1">
                        <p id="section-toc.1-1.9.2.4.2.5.2.1.1"><a class="xref" href="#section-9.4.5.1">9.4.5.1</a>.  <a class="xref" href="#name-popup-blocking">Popup Blocking</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.5.2.1.1">¶</a></p>
</li>
                      <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.4.2.5.2.2">
                        <p id="section-toc.1-1.9.2.4.2.5.2.2.1"><a class="xref" href="#section-9.4.5.2">9.4.5.2</a>.  <a class="xref" href="#name-third-party-cookies">Third Party Cookies</a><a class="pilcrow" href="#section-toc.1-1.9.2.4.2.5.2.2.1">¶</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>. <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="xref" href="#section-11.1">11.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.11.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="xref" href="#section-11.2">11.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.11.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.12.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-authors-address">Author's Address</a><a class="pilcrow" href="#section-toc.1-1.13.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec.introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
        The Real-Time Communications on the Web (RTCWEB) Working Group
        standardized protocols for real-time communications between Web
        browsers, generally called "WebRTC" <span>[<a class="xref" href="#RFC8825">RFC8825</a>]</span>.
        The major use cases for WebRTC technology are real-time audio
        and/or video calls, Web conferencing, and direct data transfer. Unlike
        most conventional real-time systems (e.g., SIP-based <span>[<a class="xref" href="#RFC3261">RFC3261</a>]</span> soft phones), WebRTC communications are directly
        controlled by some Web server, via a JavaScript (JS) API as shown in
        <a class="xref" href="#fig.simple">Figure 1</a>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<span id="name-a-simple-webrtc-system"></span><div id="fig.simple">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-1-2.1">
<pre>                         +----------------+
                         |                |
                         |   Web Server   |
                         |                |
                         +----------------+
                             ^        ^
                            /          \
                    HTTP   /            \   HTTP
                          /              \
                         /                \
                        v                  v
                     JS API              JS API
               +-----------+            +-----------+
               |           |    Media   |           |
               |  Browser  |&lt;----------&gt;|  Browser  |
               |           |            |           |
               +-----------+            +-----------+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-a-simple-webrtc-system">A Simple WebRTC System</a>
        </figcaption></figure>
</div>
<p id="section-1-3">
        A more complicated system might allow for inter-domain calling, as shown
        in <a class="xref" href="#fig.multidomain">Figure 2</a>.  The protocol to be used between
        the domains is not standardized by WebRTC, but given the installed base
        and the form of the WebRTC API is likely to be something SDP-based like
        SIP or something like the Extensible Messaging and Presence Protocol (XMPP)
        <span>[<a class="xref" href="#RFC6120">RFC6120</a>]</span>.<a class="pilcrow" href="#section-1-3">¶</a></p>
<span id="name-a-multidomain-webrtc-system"></span><div id="fig.multidomain">
<figure id="figure-2">
        <div class="artwork art-text alignLeft" id="section-1-4.1">
<pre>          +--------------+                +--------------+
          |              | SIP, XMPP, ... |              |
          |  Web Server  |&lt;--------------&gt;|  Web Server  |
          |              |                |              |
          +--------------+                +--------------+
                 ^                                ^
                 |                                |
           HTTP  |                                |  HTTP
                 |                                |
                 v                                v
                 JS API                       JS API
           +-----------+                     +-----------+
           |           |        Media        |           |
           |  Browser  |&lt;-------------------&gt;|  Browser  |
           |           |                     |           |
           +-----------+                     +-----------+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-a-multidomain-webrtc-system">A Multidomain WebRTC System</a>
        </figcaption></figure>
</div>
<p id="section-1-5">
        This system presents a number of new security challenges, which are
        analyzed in <span>[<a class="xref" href="#RFC8826">RFC8826</a>]</span>.  This document
        describes a security architecture for WebRTC which addresses the threats
        and requirements described in that document.<a class="pilcrow" href="#section-1-5">¶</a></p>
</section>
</div>
<div id="sec-term">
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
    "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
    "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
    to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span>
        <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals,
    as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<div id="sec.proposal.trusthierarchy">
<section id="section-3">
      <h2 id="name-trust-model">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-trust-model">Trust Model</a>
      </h2>
<p id="section-3-1">
        The basic assumption of this architecture is that network resources
        exist in a hierarchy of trust, rooted in the browser, which serves as
        the user's Trusted Computing Base (TCB). Any security property which the
        user wishes to have enforced must be ultimately guaranteed by the
        browser (or transitively by some property the browser
        verifies). Conversely, if the browser is compromised, then no security
        guarantees are possible.  Note that there are cases (e.g., Internet
        kiosks) where the user can't really trust the browser that much. In
        these cases, the level of security provided is limited by how much they
        trust the browser.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">
        Optimally, we would not rely on trust in any entities other than the
        browser. However, this is unfortunately not possible if we wish to have
        a functional system.  Other network elements fall into two categories:
        those which can be authenticated by the browser and thus can be granted
        permissions to access sensitive resources, and those which cannot be
        authenticated and thus are untrusted.<a class="pilcrow" href="#section-3-2">¶</a></p>
<div id="sec.proposal.authenticated">
<section id="section-3.1">
        <h3 id="name-authenticated-entities">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-authenticated-entities">Authenticated Entities</a>
        </h3>
<p id="section-3.1-1">
          There are two major classes of authenticated entities in the system:<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-2">
          <dt id="section-3.1-2.1">Calling services:</dt>
          <dd id="section-3.1-2.2" style="margin-left: 1.5em">Web sites whose origin we can verify (optimally
              via HTTPS, but in some cases because we are on a topologically
              restricted network, such as behind a firewall, and can infer
              authentication from firewall behavior).<a class="pilcrow" href="#section-3.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.3">Other users:</dt>
          <dd id="section-3.1-2.4" style="margin-left: 1.5em">WebRTC peers whose origin we can verify
              cryptographically (optimally via DTLS-SRTP).<a class="pilcrow" href="#section-3.1-2.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.1-3">
          Note that merely being authenticated does not make these entities
          trusted. For instance, just because we can verify that
          &lt;https://www.example.org/&gt; is owned by Dr. Evil does not mean that we can
          trust Dr. Evil to access our camera and microphone. However, it gives
          the user an opportunity to determine whether they wish to trust
          Dr. Evil or not; after all, if they desire to contact Dr. Evil (perhaps
          to arrange for ransom payment), it's safe to temporarily give them
          access to the camera and microphone for the purpose of the call, but
          they don't want Dr. Evil to be able to access their camera and
          microphone other than during the call. The point here is that we must
          first identify other elements before we can determine whether and how
          much to trust them. Additionally, sometimes we need to identify the
          communicating peer before we know what policies to apply.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
</section>
</div>
<div id="sec.proposal.unauthenticated">
<section id="section-3.2">
        <h3 id="name-unauthenticated-entities">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-unauthenticated-entities">Unauthenticated Entities</a>
        </h3>
<p id="section-3.2-1">
          Other than the above entities, we are not generally able to identify
          other network elements; thus, we cannot trust them.  This does not mean
          that it is not possible to have any interaction with them, but it
          means that we must assume that they will behave maliciously and design
          a system which is secure even if they do so.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.proposal.overview">
<section id="section-4">
      <h2 id="name-overview">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-overview">Overview</a>
      </h2>
<p id="section-4-1">
        This section describes a typical WebRTC session and shows how the
        various security elements interact and what guarantees are provided to
        the user. The example in this section is a "best case" scenario in which
        we provide the maximal amount of user authentication and media privacy
        with the minimal level of trust in the calling service. Simpler versions
        with lower levels of security are also possible and are noted in the
        text where applicable. It's also important to recognize the tension
        between security (or performance) and privacy. The example shown here is
        aimed towards settings where we are more concerned about secure calling
        than about privacy, but as we shall see, there are settings where one
        might wish to make different tradeoffs -- this architecture is still
        compatible with those settings.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">
        For the purposes of this example, we assume the topology shown in the
        figures below. This topology is derived from the topology shown in <a class="xref" href="#fig.simple">Figure 1</a>, but separates Alice's and Bob's identities from the
        process of signaling.  Specifically, Alice and Bob have relationships
        with some Identity Provider (IdP) that supports a protocol (such as
        OpenID Connect) that can be used to demonstrate their identity to
        other parties. For instance, Alice might have an account with a social
        network which she can then use to authenticate to other Web sites
        without explicitly having an account with those sites; this is a fairly
        conventional pattern on the Web. <a class="xref" href="#sec.trust-relationships">Section 7.1</a> provides an overview of IdPs
        and the relevant terminology.  Alice and Bob might have
        relationships with different IdPs as well.
        Note: The IdP mechanism described here has not seen wide adoption.
        See <a class="xref" href="#sec.generic.idp">Section 7</a> for more on the status of
        IdP-based authentication.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3">
        This separation of identity provision and signaling isn't particularly
        important in "closed world" cases where Alice and Bob are users on the
        same social network and have identities based on that domain (<a class="xref" href="#fig.proposal.idp">Figure 3</a>). However, there are important settings where
        that is not the case, such as federation (calls from one domain to
        another; see <a class="xref" href="#fig.proposal-federated.idp">Figure 4</a>) and calling on
        untrusted sites, such as where two users who have a relationship via a
        given social network want to call each other on another, untrusted,
        site, such as a poker site.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">
        Note that the servers themselves are also authenticated by an external
        identity service, the SSL/TLS certificate infrastructure (not shown).
        As is conventional in the Web, all identities are ultimately rooted in
        that system. For instance, when an IdP makes an identity assertion, the
        Relying Party consuming that assertion is able to verify because it is
        able to connect to the IdP via HTTPS.<a class="pilcrow" href="#section-4-4">¶</a></p>
<span id="name-a-call-with-idp-based-ident"></span><div id="fig.proposal.idp">
<figure id="figure-3">
        <div class="artwork art-text alignLeft" id="section-4-5.1">
<pre>                            +----------------+
                            |                |
                            |     Signaling  |
                            |     Server     |
                            |                |
                            +----------------+
                                ^        ^
                               /          \
                       HTTPS  /            \   HTTPS
                             /              \
                            /                \
                           v                  v
                        JS API              JS API
                  +-----------+            +-----------+
                  |           |    Media   |           |
            Alice |  Browser  |&lt;----------&gt;|  Browser  | Bob
                  |           | (DTLS+SRTP)|           |
                  +-----------+            +-----------+
                        ^      ^--+     +--^     ^
                        |         |     |        |
                        v         |     |        v
                  +-----------+   |     |  +-----------+
                  |           |&lt;--------+  |           |
                  |   IdP1    |   |        |    IdP2   |
                  |           |   +-------&gt;|           |
                  +-----------+            +-----------+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-a-call-with-idp-based-ident">A Call with IdP-Based Identity</a>
        </figcaption></figure>
</div>
<p id="section-4-6">
        <a class="xref" href="#fig.proposal-federated.idp">Figure 4</a> shows essentially the same
        calling scenario but with a call between two separate domains (i.e., a
        federated case), as in <a class="xref" href="#fig.multidomain">Figure 2</a>. As mentioned
        above, the domains communicate by some unspecified protocol, and
        providing separate signaling and identity allows for calls to be
        authenticated regardless of the details of the inter-domain protocol.<a class="pilcrow" href="#section-4-6">¶</a></p>
<span id="name-a-federated-call-with-idp-b"></span><div id="fig.proposal-federated.idp">
<figure id="figure-4">
        <div class="artwork art-text alignLeft" id="section-4-7.1">
<pre>        +----------------+    Unspecified    +----------------+
        |                |      protocol     |                |
        |    Signaling   |&lt;-----------------&gt;|    Signaling   |
        |    Server      |  (SIP, XMPP, ...) |    Server      |
        |                |                   |                |
        +----------------+                   +----------------+
                 ^                                   ^
                 |                                   |
           HTTPS |                                   | HTTPS
                 |                                   |
                 |                                   |
                 v                                   v
              JS API                               JS API
        +-----------+                             +-----------+
        |           |             Media           |           |
  Alice |  Browser  |&lt;---------------------------&gt;|  Browser  | Bob
        |           |           DTLS+SRTP         |           |
        +-----------+                             +-----------+
              ^      ^--+                      +--^     ^
              |         |                      |        |
              v         |                      |        v
        +-----------+   |                      |  +-----------+
        |           |&lt;-------------------------+  |           |
        |   IdP1    |   |                         |    IdP2   |
        |           |   +------------------------&gt;|           |
        +-----------+                             +-----------+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-a-federated-call-with-idp-b">A Federated Call with IdP-Based Identity</a>
        </figcaption></figure>
</div>
<section id="section-4.1">
        <h3 id="name-initial-signaling">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-initial-signaling">Initial Signaling</a>
        </h3>
<p id="section-4.1-1">
          For simplicity, assume the topology in <a class="xref" href="#fig.proposal.idp">Figure 3</a>.  Alice and Bob are both users of a common
          calling service; they both have approved the calling service to make
          calls (we defer the discussion of device access permissions until
          later).  They are both connected to the calling service via HTTPS and
          so know the origin with some level of confidence. They also have
          accounts with some IdP.  This sort of identity service
          is becoming increasingly common in the Web environment (with technologies
          such as Federated Google Login, Facebook Connect, OAuth,
          OpenID, WebFinger), and is often provided as a side effect service of
          a user's ordinary accounts with some service. In this example, we show
          Alice and Bob using a separate identity service, though the identity
          service may be the same entity as the calling service or there may be
          no identity service at all.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">
          Alice is logged onto the calling service and decides to call Bob. She
          can see from the calling service that he is online and the calling
          service presents a JS UI in the form of a button next to Bob's name
          which says "Call". Alice clicks the button, which initiates a JS
          callback that instantiates a PeerConnection object. This does not
          require a security check: JS from any origin is allowed to get this
          far.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">
          Once the PeerConnection is created, the calling service JS needs to
          set up some media. Because this is an audio/video call, it creates a
          MediaStream with two MediaStreamTracks, one connected to an audio
          input and one connected to a video input. At this point, the first
          security check is required: untrusted origins are not allowed to
          access the camera and microphone, so the browser prompts Alice for
          permission.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">
          In the current W3C API, once some streams have been added, Alice's
          browser + JS generates a signaling message <span>[<a class="xref" href="#RFC8829">RFC8829</a>]</span> containing:<a class="pilcrow" href="#section-4.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-5.1">
              Media channel information<a class="pilcrow" href="#section-4.1-5.1">¶</a>
</li>
          <li class="normal" id="section-4.1-5.2">
              Interactive Connectivity Establishment (ICE) <span>[<a class="xref" href="#RFC8445">RFC8445</a>]</span> candidates<a class="pilcrow" href="#section-4.1-5.2">¶</a>
</li>
          <li class="normal" id="section-4.1-5.3">
              A "fingerprint" attribute binding the communication to a key pair
              <span>[<a class="xref" href="#RFC5763">RFC5763</a>]</span>. Note that this key may simply be
              ephemerally generated for this call or specific to this domain,
              and Alice may have a large number of such keys.<a class="pilcrow" href="#section-4.1-5.3">¶</a>
</li>
        </ul>
<p id="section-4.1-6">
          Prior to sending out the signaling message, the PeerConnection code
          contacts the identity service and obtains an assertion binding Alice's
          identity to her fingerprint. The exact details depend on the identity
          service (though as discussed in <a class="xref" href="#sec.generic.idp">Section 7</a>
          PeerConnection can be agnostic to them), but for now it's easiest to
          think of as an OAuth token.  The assertion may bind other
          information to the identity besides the fingerprint, but at minimum it
          needs to bind the fingerprint.<a class="pilcrow" href="#section-4.1-6">¶</a></p>
<p id="section-4.1-7">
          This message is sent to the signaling server, e.g., by fetch()
          <span>[<a class="xref" href="#fetch">fetch</a>]</span> or by WebSockets
          <span>[<a class="xref" href="#RFC6455">RFC6455</a>]</span>, over TLS <span>[<a class="xref" href="#RFC8446">RFC8446</a>]</span>.
          The signaling server processes the message from Alice's browser,
          determines that this is a call to Bob, and sends a signaling message to
          Bob's browser (again, the format is currently undefined).  The JS on
          Bob's browser processes it, and alerts Bob to the incoming call and to
          Alice's identity. In this case, Alice has provided an identity
          assertion and so Bob's browser contacts Alice's IdP
          (again, this is done in a generic way so the browser has no specific
          knowledge of the IdP) to verify the assertion. It is also possible
          to have IdPs with which the browser has a specific trust relationship,
          as described in <a class="xref" href="#sec.trust-relationships">Section 7.1</a>.
          This allows the browser
          to display a trusted element in the browser chrome indicating that a
          call is coming in from Alice. If Alice is in Bob's address book, then
          this interface might also include her real name, a picture, etc.  The
          calling site will also provide some user interface element (e.g., a
          button) to allow Bob to answer the call, though this is most likely
          not part of the trusted UI.<a class="pilcrow" href="#section-4.1-7">¶</a></p>
<p id="section-4.1-8">
          If Bob agrees, a PeerConnection is instantiated with the message from
          Alice's side.  Then, a similar process occurs as on Alice's browser:
          Bob's browser prompts him for device permission, the media streams are
          created, and a return signaling message containing media information,
          ICE candidates, and a fingerprint is sent back to Alice via the
          signaling service.  If Bob has a relationship with an IdP, the message
          will also come with an identity assertion.<a class="pilcrow" href="#section-4.1-8">¶</a></p>
<p id="section-4.1-9">
          At this point, Alice and Bob each know that the other party wants to
          have a secure call with them. Based purely on the interface provided
          by the signaling server, they know that the signaling server claims
          that the call is from Alice to Bob. This level of security is provided
          merely by having the fingerprint in the message and having that
          message received securely from the signaling server.  Because the far
          end sent an identity assertion along with their message, they know
          that this is verifiable from the IdP as well. Note that if the call is
          federated, as shown in <a class="xref" href="#fig.proposal-federated.idp">Figure 4</a>,
          then Alice is able to verify Bob's identity in a way that is not
          mediated by either her signaling server or Bob's. Rather, she verifies
          it directly with Bob's IdP.<a class="pilcrow" href="#section-4.1-9">¶</a></p>
<p id="section-4.1-10">
          Of course, the call works perfectly well if either Alice or Bob
          doesn't have a relationship with an IdP; they just get a lower level
          of assurance. I.e., they simply have whatever information their
          calling site claims about the caller/callee's identity.  Moreover,
          Alice might wish to make an anonymous call through an anonymous
          calling site, in which case she would of course just not provide any
          identity assertion and the calling site would mask her identity from
          Bob.<a class="pilcrow" href="#section-4.1-10">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-media-consent-verification">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-media-consent-verification">Media Consent Verification</a>
        </h3>
<p id="section-4.2-1">
          As described in <span>[<a class="xref" href="#RFC8826">RFC8826</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8826#section-4.2">Section 4.2</a></span>, media consent verification is provided via ICE.
  Thus, Alice and
          Bob perform ICE checks with each other.  At the completion of these
          checks, they are ready to send non-ICE data.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">
          At this point, Alice knows that (a) Bob (assuming he is verified via
          his IdP) or someone else who the signaling service is claiming is Bob
          is willing to exchange traffic with her and (b) either Bob is at
          the IP address which she has verified via ICE or there is an attacker
          who is on-path to that IP address detouring the traffic. Note that it
          is not possible for an attacker who is on-path between Alice and Bob
          but not attached to the signaling service to spoof these checks
          because they do not have the ICE credentials. Bob has the same
          security guarantees with respect to Alice.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-dtls-handshake">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-dtls-handshake">DTLS Handshake</a>
        </h3>
<p id="section-4.3-1">
          Once the requisite ICE checks have completed, Alice and Bob can set
          up a secure channel or channels. This is performed via DTLS <span>[<a class="xref" href="#RFC6347">RFC6347</a>]</span>
          and DTLS-SRTP <span>[<a class="xref" href="#RFC5763">RFC5763</a>]</span> keying for SRTP
          <span>[<a class="xref" href="#RFC3711">RFC3711</a>]</span> for the media channel and
          the Stream Control Transmission Protocol (SCTP) over DTLS
          <span>[<a class="xref" href="#RFC8261">RFC8261</a>]</span> for data
          channels. Specifically, Alice and Bob perform a DTLS handshake on
          every component which has been established by ICE. The total number of
          channels depends on the amount of muxing; in the most likely case, we
          are using both RTP/RTCP mux and muxing multiple media streams on the
          same channel, in which case there is only one DTLS handshake. Once the
          DTLS handshake has completed, the keys are exported <span>[<a class="xref" href="#RFC5705">RFC5705</a>]</span> and used to key SRTP for the media channels.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">
          At this point, Alice and Bob know that they share a set of secure data
          and/or media channels with keys which are not known to any third-party
          attacker. If Alice and Bob authenticated via their IdPs, then they
          also know that the signaling service is not mounting a
          man-in-the-middle attack on their traffic. Even if they do not use an
          IdP, as long as they have minimal trust in the signaling service not
          to perform a man-in-the-middle attack, they know that their
          communications are secure against the signaling service as well (i.e.,
          that the signaling service cannot mount a passive attack on the
          communications).<a class="pilcrow" href="#section-4.3-2">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-communications-and-consent-">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-communications-and-consent-">Communications and Consent Freshness</a>
        </h3>
<p id="section-4.4-1">
          From a security perspective, everything from here on in is a little
          anticlimactic: Alice and Bob exchange data protected by the keys
          negotiated by DTLS. Because of the security guarantees discussed in
          the previous sections, they know that the communications are encrypted
          and authenticated.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">
          The one remaining security property we need to establish is "consent
          freshness", i.e., allowing Alice to verify that Bob is still prepared
          to receive her communications so that Alice does not continue to send
          large traffic volumes to entities which went abruptly offline. ICE
          specifies periodic Session Traversal Utilities for NAT (STUN) keepalives but only if media is not flowing.
          Because the consent issue is more difficult here, we require WebRTC
          implementations to periodically send keepalives using the
          consent freshness
          mechanism specified in <span>[<a class="xref" href="#RFC7675">RFC7675</a>]</span>.
  If a
          keepalive fails and no new ICE channels can be established, then the
          session is terminated.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
</section>
</section>
</div>
<div id="sec.sdp-id-attr">
<section id="section-5">
      <h2 id="name-sdp-identity-attribute">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-sdp-identity-attribute">SDP Identity Attribute</a>
      </h2>
<p id="section-5-1">
        The SDP "identity" attribute is a session-level attribute that
        is used by an endpoint to convey its identity assertion to its
        peer. The identity-assertion value is encoded as base64, as described
        in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4648#section-4">Section 4</a> of [<a class="xref" href="#RFC4648">RFC4648</a>]</span>.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">
        The procedures in this section are based on the assumption
        that the identity assertion of an endpoint is bound to the
        fingerprints of the endpoint. This does not preclude the definition of
        alternative means of binding an assertion to the endpoint, but such
        means are outside the scope of this specification.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">
        The semantics of multiple "identity" attributes within an
        offer or answer are undefined.  Implementations <span class="bcp14">SHOULD</span> only include a
        single "identity" attribute in an offer or answer, and Relying Parties
        <span class="bcp14">MAY</span> elect to ignore all but the first "identity" attribute.<a class="pilcrow" href="#section-5-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5-4">
        <dt id="section-5-4.1">Name:</dt>
        <dd id="section-5-4.2" style="margin-left: 1.5em">identity<a class="pilcrow" href="#section-5-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.3">Value:</dt>
        <dd id="section-5-4.4" style="margin-left: 1.5em">identity-assertion<a class="pilcrow" href="#section-5-4.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.5">Usage Level:</dt>
        <dd id="section-5-4.6" style="margin-left: 1.5em">session<a class="pilcrow" href="#section-5-4.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.7">Charset Dependent:</dt>
        <dd id="section-5-4.8" style="margin-left: 1.5em">no<a class="pilcrow" href="#section-5-4.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-4.9">Default Value:</dt>
        <dd id="section-5-4.10" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-5-4.10">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-5-5">Syntax:<a class="pilcrow" href="#section-5-5">¶</a></p>
<div id="section-5-6">
<pre class="sourcecode lang-abnf"> identity-assertion       = identity-assertion-value
                            *(SP identity-extension)
 identity-assertion-value = base64
 identity-extension       = extension-name [ "=" extension-value ]
 extension-name           = token
 extension-value          = 1*(%x01-09 / %x0b-0c / %x0e-3a / %x3c-ff)
                            ; byte-string from [RFC4566]

 &lt;ALPHA and DIGIT as defined in [RFC4566]&gt;
 &lt;base64 as defined in [RFC4566]&gt;
</pre><a class="pilcrow" href="#section-5-6">¶</a>
</div>
<p id="section-5-7">Example:<a class="pilcrow" href="#section-5-7">¶</a></p>
<div id="section-5-8">
<pre class="sourcecode lang-sdp"> a=identity:\
   eyJpZHAiOnsiZG9tYWluIjoiZXhhbXBsZS5vcmciLCJwcm90b2NvbCI6ImJvZ3Vz\
   In0sImFzc2VydGlvbiI6IntcImlkZW50aXR5XCI6XCJib2JAZXhhbXBsZS5vcmdc\
   IixcImNvbnRlbnRzXCI6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3l6XCIsXCJz\
   aWduYXR1cmVcIjpcIjAxMDIwMzA0MDUwNlwifSJ9</pre><a class="pilcrow" href="#section-5-8">¶</a>
</div>
<aside id="section-5-9">
        <p id="section-5-9.1">Note that long lines in the example are folded to meet the column
  width constraints of this document; the backslash ("\") at the end of
  a line, the carriage return that follows, and whitespace shall be ignored.<a class="pilcrow" href="#section-5-9.1">¶</a></p>
</aside>
<p id="section-5-10">
         This specification does not define any extensions for the attribute.<a class="pilcrow" href="#section-5-10">¶</a></p>
<p id="section-5-11">
         The identity-assertion value is a JSON encoded string
         <span>[<a class="xref" href="#RFC8259">RFC8259</a>]</span>. The JSON object
         contains two keys: "assertion" and "idp". The "assertion" key value contains
         an opaque string that is consumed by the IdP. The "idp" key value contains a
         dictionary with one or two further values that identify the IdP. See
         <a class="xref" href="#sec.request-assert">Section 7.6</a> for more details.<a class="pilcrow" href="#section-5-11">¶</a></p>
<div id="sec.sdp-id-attr-oa">
<section id="section-5.1">
        <h3 id="name-offer-answer-considerations">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-offer-answer-considerations">Offer/Answer Considerations</a>
        </h3>
<p id="section-5.1-1">
           This section defines the SDP offer/answer <span>[<a class="xref" href="#RFC3264">RFC3264</a>]</span> considerations for the SDP
           "identity" attribute.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">
           Within this section, 'initial offer' refers to the first offer in the
           SDP session that contains an SDP "identity" attribute.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<div id="sec.sdp-id-attr-oa-inio">
<section id="section-5.1.1">
          <h4 id="name-generating-the-initial-sdp-">
<a class="section-number selfRef" href="#section-5.1.1">5.1.1. </a><a class="section-name selfRef" href="#name-generating-the-initial-sdp-">Generating the Initial SDP Offer</a>
          </h4>
<p id="section-5.1.1-1">
           When an offerer sends an offer, in order to provide its
           identity assertion to the peer, it includes an "identity" attribute in
           the offer. In addition, the offerer includes one or more SDP
           "fingerprint" attributes.  The "identity" attribute <span class="bcp14">MUST</span> be bound to
           all the "fingerprint" attributes in the session
           description.<a class="pilcrow" href="#section-5.1.1-1">¶</a></p>
</section>
</div>
<div id="sec.sdp-id-attr-oa-ansa">
<section id="section-5.1.2">
          <h4 id="name-generating-an-sdp-answer">
<a class="section-number selfRef" href="#section-5.1.2">5.1.2. </a><a class="section-name selfRef" href="#name-generating-an-sdp-answer">Generating an SDP Answer</a>
          </h4>
<p id="section-5.1.2-1">
             If the answerer elects to include an "identity" attribute, it follows
             the same steps as those in <a class="xref" href="#sec.sdp-id-attr-oa-inio">Section 5.1.1</a>.
             The answerer can choose to include or omit an "identity" attribute independently,
             regardless of whether the offerer did so.<a class="pilcrow" href="#section-5.1.2-1">¶</a></p>
</section>
</div>
<div id="sec.sdp-id-attr-oa-offa">
<section id="section-5.1.3">
          <h4 id="name-processing-an-sdp-offer-or-">
<a class="section-number selfRef" href="#section-5.1.3">5.1.3. </a><a class="section-name selfRef" href="#name-processing-an-sdp-offer-or-">Processing an SDP Offer or Answer</a>
          </h4>
<p id="section-5.1.3-1">
             When an endpoint receives an offer or answer that contains an "identity"
             attribute, the answerer can use the attribute information to
             contact the IdP and verify the identity of the peer. If the identity
             requires a third-party IdP as described in <a class="xref" href="#sec.trust-relationships">Section 7.1</a>,
             then that IdP will need to have been specifically configured.
             If the identity verification fails, the answerer <span class="bcp14">MUST</span> discard the
             offer or answer as malformed.<a class="pilcrow" href="#section-5.1.3-1">¶</a></p>
</section>
</div>
<div id="sec.sdp-id-attr-oa-modi">
<section id="section-5.1.4">
          <h4 id="name-modifying-the-session">
<a class="section-number selfRef" href="#section-5.1.4">5.1.4. </a><a class="section-name selfRef" href="#name-modifying-the-session">Modifying the Session</a>
          </h4>
<p id="section-5.1.4-1">
             When modifying a session, if the set of fingerprints is
             unchanged, then the sender <span class="bcp14">MAY</span> send the same "identity" attribute. In
             this case, the established identity <span class="bcp14">MUST</span> be applied to existing DTLS
             connections as well as new connections established using one of those
             fingerprints. Note that <span>[<a class="xref" href="#RFC8829">RFC8829</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8829#section-5.2.1">Section 5.2.1</a></span> requires that each media section use the same set of fingerprints.
             If a new "identity" attribute is received, then the receiver <span class="bcp14">MUST</span>
             apply that identity to all existing connections.<a class="pilcrow" href="#section-5.1.4-1">¶</a></p>
<p id="section-5.1.4-2">
             If the set of fingerprints changes, then the sender <span class="bcp14">MUST</span>
             either send a new "identity" attribute or none at all.
             Because a change in fingerprints also causes a new DTLS
             connection to be established, the receiver <span class="bcp14">MUST</span> discard
             all previously established identities.<a class="pilcrow" href="#section-5.1.4-2">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec.proposal.detailed">
<section id="section-6">
      <h2 id="name-detailed-technical-descript">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-detailed-technical-descript">Detailed Technical Description</a>
      </h2>
<div id="sec.proposal.origin">
<section id="section-6.1">
        <h3 id="name-origin-and-web-security-iss">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-origin-and-web-security-iss">Origin and Web Security Issues</a>
        </h3>
<p id="section-6.1-1">
          The basic unit of permissions for WebRTC is the origin <span>[<a class="xref" href="#RFC6454">RFC6454</a>]</span>. Because the security of the origin depends on
          being able to authenticate content from that origin, the origin can
          only be securely established if data is transferred over HTTPS <span>[<a class="xref" href="#RFC2818">RFC2818</a>]</span>. Thus, clients <span class="bcp14">MUST</span> treat HTTP and HTTPS origins as
          different permissions domains. Note: This follows directly from the
          origin security model and is stated here merely for clarity.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">
          Many Web browsers currently forbid by default any active mixed content
          on HTTPS pages. That is, when JavaScript is loaded from an HTTP origin
          onto an HTTPS page, an error is displayed and the HTTP content is not
          executed unless the user overrides the error. Any browser which
          enforces such a policy will also not permit access to WebRTC
          functionality from mixed content pages (because they never display
          mixed content).  Browsers which allow active mixed content <span class="bcp14">MUST</span>
          nevertheless disable WebRTC functionality in mixed content settings.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
<p id="section-6.1-3">
          Note that it is possible for a page which was not mixed content to
          become mixed content during the duration of the call.  The major risk
          here is that the newly arrived insecure JS might redirect media to a
          location controlled by the attacker.  Implementations <span class="bcp14">MUST</span> either
          choose to terminate the call or display a warning at that point.<a class="pilcrow" href="#section-6.1-3">¶</a></p>
<p id="section-6.1-4">
          Also note that the security architecture depends on the keying material
          not being available to move between origins.  However, it is assumed that
          the identity assertion can be passed to anyone that the page cares to.<a class="pilcrow" href="#section-6.1-4">¶</a></p>
</section>
</div>
<div id="sec.proposal.device.permissions">
<section id="section-6.2">
        <h3 id="name-device-permissions-model">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-device-permissions-model">Device Permissions Model</a>
        </h3>
<p id="section-6.2-1">
          Implementations <span class="bcp14">MUST</span> obtain explicit user consent prior to providing
          access to the camera and/or microphone. Implementations <span class="bcp14">MUST</span> at
          minimum support the following two permissions models for HTTPS
          origins.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-2.1">
              Requests for one-time camera/microphone access.<a class="pilcrow" href="#section-6.2-2.1">¶</a>
</li>
          <li class="normal" id="section-6.2-2.2">
              Requests for permanent access.<a class="pilcrow" href="#section-6.2-2.2">¶</a>
</li>
        </ul>
<p id="section-6.2-3">
          Because HTTP origins cannot be securely established against network
          attackers, implementations <span class="bcp14">MUST</span> refuse all permissions grants for
          HTTP origins.<a class="pilcrow" href="#section-6.2-3">¶</a></p>
<p id="section-6.2-4">
          In addition, they <span class="bcp14">SHOULD</span> support requests for access that promise that
          media from this grant will be sent to a single communicating peer
          (obviously there could be other requests for other peers), e.g.,
          "Call customerservice@example.org".  The semantics of this request are
          that the media stream from the camera and microphone will only be
          routed through a connection which has been cryptographically verified
          (through the IdP mechanism or an X.509 certificate in the DTLS-SRTP
          handshake) as being associated with the stated identity. Note that it
          is unlikely that browsers would have X.509 certificates, but servers
          might.  Browsers servicing such requests <span class="bcp14">SHOULD</span> clearly indicate that
          identity to the user when asking for permission.  The idea behind this
          type of permissions is that a user might have a fairly narrow list of
          peers they are willing to communicate with, e.g., "my mother" rather than
          "anyone on Facebook". Narrow permissions grants allow the browser to
          do that enforcement.<a class="pilcrow" href="#section-6.2-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2-5">
          <dt id="section-6.2-5.1">API Requirement:</dt>
          <dd id="section-6.2-5.2" style="margin-left: 1.5em">
              The API <span class="bcp14">MUST</span> provide a mechanism for the requesting JS to
              relinquish the ability to see or modify the media (e.g., via
              MediaStream.record()).  Combined with secure authentication of the
              communicating peer, this allows a user to be sure that the calling
              site is not accessing or modifying their conversion.<a class="pilcrow" href="#section-6.2-5.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-6.2-6">
          <dt id="section-6.2-6.1">UI Requirement:</dt>
          <dd id="section-6.2-6.2" style="margin-left: 1.5em">
              The UI <span class="bcp14">MUST</span> clearly indicate when the user's camera and microphone
              are in use.  This indication <span class="bcp14">MUST NOT</span> be suppressible by the JS
              and <span class="bcp14">MUST</span> clearly indicate how to terminate device access, and
              provide a UI means to immediately stop camera/microphone input
              without the JS being able to prevent it.<a class="pilcrow" href="#section-6.2-6.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-6.2-7">
          <dt id="section-6.2-7.1">UI Requirement:</dt>
          <dd id="section-6.2-7.2" style="margin-left: 1.5em">
              If the UI indication of camera/microphone use is displayed in the
              browser such that minimizing the browser window would hide the
              indication, or the JS creating an overlapping window would hide
              the indication, then the browser <span class="bcp14">SHOULD</span> stop camera and microphone
              input when the indication is hidden.  (Note: This may not be
              necessary in systems that are non-windows-based but that have good
              notifications support, such as phones.)<a class="pilcrow" href="#section-6.2-7.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<ul class="normal">
<li class="normal" id="section-6.2-8.1">
              Browsers <span class="bcp14">MUST NOT</span> permit permanent screen or application sharing
              permissions to be installed as a response to a JS request for
              permissions. Instead, they must require some other user action
              such as a permissions setting or an application install experience
              to grant permission to a site.<a class="pilcrow" href="#section-6.2-8.1">¶</a>
</li>
          <li class="normal" id="section-6.2-8.2">
              Browsers <span class="bcp14">MUST</span> provide a separate dialog request for
              screen/application sharing permissions even if the media request
              is made at the same time as the request for camera and microphone
              permissions.<a class="pilcrow" href="#section-6.2-8.2">¶</a>
</li>
          <li class="normal" id="section-6.2-8.3">
              The browser <span class="bcp14">MUST</span> indicate any windows which are currently being
              shared in some unambiguous way. Windows which are not visible <span class="bcp14">MUST NOT</span> be shared even if the application is being shared.  If the
              screen is being shared, then that <span class="bcp14">MUST</span> be indicated.<a class="pilcrow" href="#section-6.2-8.3">¶</a>
</li>
        </ul>
<p id="section-6.2-9">
          Browsers <span class="bcp14">MAY</span> permit the formation of data channels without any direct
          user approval. Because sites can always tunnel data through the
          server, further restrictions on the data channel do not provide any
          additional security.  (See <a class="xref" href="#sec.proposal.communications.consent">Section 6.3</a> for a related issue.)<a class="pilcrow" href="#section-6.2-9">¶</a></p>
<p id="section-6.2-10">
          Implementations which support some form of direct user authentication
          <span class="bcp14">SHOULD</span> also provide a policy by which a user can authorize calls only
          to specific communicating peers. Specifically, the implementation
          <span class="bcp14">SHOULD</span> provide the following interfaces/controls:<a class="pilcrow" href="#section-6.2-10">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-11.1">
              Allow future calls to this verified user.<a class="pilcrow" href="#section-6.2-11.1">¶</a>
</li>
          <li class="normal" id="section-6.2-11.2">
              Allow future calls to any verified user who is in my system
              address book (this only works with address book integration, of
              course).<a class="pilcrow" href="#section-6.2-11.2">¶</a>
</li>
        </ul>
<p id="section-6.2-12">
          Implementations <span class="bcp14">SHOULD</span> also provide a different user interface
          indication when calls are in progress to users whose identities are
          directly verifiable.  <a class="xref" href="#sec.proposal.comsec">Section 6.5</a> provides
          more on this.<a class="pilcrow" href="#section-6.2-12">¶</a></p>
</section>
</div>
<div id="sec.proposal.communications.consent">
<section id="section-6.3">
        <h3 id="name-communications-consent">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-communications-consent">Communications Consent</a>
        </h3>
<p id="section-6.3-1">
          Browser client implementations of WebRTC <span class="bcp14">MUST</span> implement ICE.  Server
          gateway implementations which operate only at public IP addresses <span class="bcp14">MUST</span>
          implement either full ICE or ICE-Lite <span>[<a class="xref" href="#RFC8445">RFC8445</a>]</span>.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<p id="section-6.3-2">
          Browser implementations <span class="bcp14">MUST</span> verify reachability via ICE prior to
          sending any non-ICE packets to a given destination.  Implementations
          <span class="bcp14">MUST NOT</span> provide the ICE transaction ID to JavaScript during the
          lifetime of the transaction (i.e., during the period when the ICE
          stack would accept a new response for that transaction).  The JS <span class="bcp14">MUST NOT</span> be permitted to control the local ufrag and password, though it of
          course knows it.<a class="pilcrow" href="#section-6.3-2">¶</a></p>
<p id="section-6.3-3">
          While continuing consent is required, the ICE <span>[<a class="xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8445#section-11">Section 11</a></span> keepalives use STUN Binding Indications, which are
          one-way and therefore not sufficient.  The current WG consensus is to
          use ICE Binding Requests for continuing consent freshness. ICE already
          requires that implementations respond to such requests, so this
          approach is maximally compatible. A separate document will profile the
          ICE timers to be used; see <span>[<a class="xref" href="#RFC7675">RFC7675</a>]</span>.<a class="pilcrow" href="#section-6.3-3">¶</a></p>
</section>
</div>
<div id="sec.proposal.ip.location.privacy">
<section id="section-6.4">
        <h3 id="name-ip-location-privacy">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-ip-location-privacy">IP Location Privacy</a>
        </h3>
<p id="section-6.4-1">
          A side effect of the default ICE behavior is that the peer learns
          one's IP address, which leaks large amounts of location
          information. This has negative privacy consequences in some
          circumstances. The API requirements in this section are intended to
          mitigate this issue. Note that these requirements are not intended to
          protect the user's IP address from a malicious site. In general, the
          site will learn at least a user's server-reflexive address from any
          HTTP transaction.  Rather, these requirements are intended to allow a
          site to cooperate with the user to hide the user's IP address from the
          other side of the call. Hiding the user's IP address from the server
          requires some sort of explicit privacy-preserving mechanism on the
          client (e.g., Tor Browser <span>&lt;<a href="https://www.torproject.org/projects/torbrowser.html.en">https://www.torproject.org/projects/torbrowser.html.en</a>&gt;</span>) and
          is out of scope for this specification.<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.4-2">
          <dt id="section-6.4-2.1">API Requirement:</dt>
          <dd id="section-6.4-2.2" style="margin-left: 1.5em">
              The API <span class="bcp14">MUST</span> provide a mechanism to allow the JS to suppress ICE
              negotiation (though perhaps to allow candidate gathering) until
              the user has decided to answer the call. (Note: Determining when
              the call has been answered is a question for the JS.)  This
              enables a user to prevent a peer from learning their IP address if
              they elect not to answer a call and also from learning whether the
              user is online.<a class="pilcrow" href="#section-6.4-2.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-6.4-3">
          <dt id="section-6.4-3.1">API Requirement:</dt>
          <dd id="section-6.4-3.2" style="margin-left: 1.5em">
              The API <span class="bcp14">MUST</span> provide a mechanism for the calling application JS to
              indicate that only TURN candidates are to be used. This prevents
              the peer from learning one's IP address at all.  This mechanism
              <span class="bcp14">MUST</span> also permit suppression of the related address field, since
              that leaks local addresses.<a class="pilcrow" href="#section-6.4-3.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-6.4-4">
          <dt id="section-6.4-4.1">API Requirement:</dt>
          <dd id="section-6.4-4.2" style="margin-left: 1.5em">
              The API <span class="bcp14">MUST</span> provide a mechanism for the calling application to
              reconfigure an existing call to add non-TURN candidates.  Taken
              together, this and the previous requirement allow ICE negotiation
              to start immediately on incoming call notification, thus reducing
              post-dial delay, but also to avoid disclosing the user's IP
              address until they have decided to answer. They also allow users
              to completely hide their IP address for the duration of the
              call. Finally, they allow a mechanism for the user to optimize
              performance by reconfiguring to allow non-TURN candidates during
              an active call if the user decides they no longer need to hide
              their IP address.<a class="pilcrow" href="#section-6.4-4.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.4-5">
          Note that some enterprises may operate proxies and/or NATs designed to
          hide internal IP addresses from the outside world. WebRTC provides no
          explicit mechanism to allow this function. Either such enterprises
          need to proxy the HTTP/HTTPS and modify the SDP and/or the JS, or
          there needs to be browser support to set the "TURN-only" policy
          regardless of the site's preferences.<a class="pilcrow" href="#section-6.4-5">¶</a></p>
<p id="section-6.4-6">
          Note: These requirements are intended to allow sites to conceal the
          user's IP address from the peer. For guidance on concealing the
          user's IP address from the calling site see <span>[<a class="xref" href="#RFC8828">RFC8828</a>]</span>.<a class="pilcrow" href="#section-6.4-6">¶</a></p>
</section>
</div>
<div id="sec.proposal.comsec">
<section id="section-6.5">
        <h3 id="name-communications-security">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-communications-security">Communications Security</a>
        </h3>
<p id="section-6.5-1">
          Implementations <span class="bcp14">MUST</span> support SRTP <span>[<a class="xref" href="#RFC3711">RFC3711</a>]</span>.
          Implementations <span class="bcp14">MUST</span> support DTLS <span>[<a class="xref" href="#RFC6347">RFC6347</a>]</span> and
          DTLS-SRTP <span>[<a class="xref" href="#RFC5763">RFC5763</a>]</span> <span>[<a class="xref" href="#RFC5764">RFC5764</a>]</span> for SRTP
          keying. Implementations <span class="bcp14">MUST</span> support SCTP over DTLS <span>[<a class="xref" href="#RFC8261">RFC8261</a>]</span>.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
<p id="section-6.5-2">
          All media channels <span class="bcp14">MUST</span> be secured via SRTP and the
          Secure Real-time Transport Control Protocol (SRTCP).  Media traffic <span class="bcp14">MUST NOT</span>
          be sent over plain (unencrypted) RTP or RTCP; that is, implementations <span class="bcp14">MUST NOT</span> negotiate cipher suites with NULL encryption modes.  DTLS-SRTP
          <span class="bcp14">MUST</span> be offered for every media channel.  WebRTC implementations <span class="bcp14">MUST NOT</span>
          offer SDP security descriptions <span>[<a class="xref" href="#RFC4568">RFC4568</a>]</span> or select it if offered.
          An SRTP Master Key Identifier (MKI) <span class="bcp14">MUST NOT</span> be used.<a class="pilcrow" href="#section-6.5-2">¶</a></p>
<p id="section-6.5-3">
          All data channels <span class="bcp14">MUST</span> be secured via DTLS.<a class="pilcrow" href="#section-6.5-3">¶</a></p>
<p id="section-6.5-4">
         All implementations <span class="bcp14">MUST</span> support DTLS 1.2 with the
          TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 cipher suite and the
          <span><a class="xref" href="#FIPS186">P-256 curve</a> [<a class="xref" href="#FIPS186">FIPS186</a>]</span>.
          Earlier drafts of this specification required
          DTLS 1.0 with the cipher suite
          TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, and at the time of this
          writing some implementations do not support DTLS 1.2;
          endpoints which support only DTLS 1.2 might encounter
          interoperability issues.
          The DTLS-SRTP protection profile
          SRTP_AES128_CM_HMAC_SHA1_80 <span class="bcp14">MUST</span> be supported for
          SRTP.
          Implementations
          <span class="bcp14">MUST</span> favor cipher suites which support Forward Secrecy (FS)
          over non-FS cipher suites and <span class="bcp14">SHOULD</span> favor
          Authenticated Encryption with Associated Data (AEAD) over non-AEAD cipher suites.
          Note: the IETF is in the process of standardizing DTLS 1.3
          <span>[<a class="xref" href="#I-D.ietf-tls-dtls13">TLS-DTLS13</a>]</span>.<a class="pilcrow" href="#section-6.5-4">¶</a></p>
<p id="section-6.5-5">
          Implementations <span class="bcp14">MUST NOT</span> implement DTLS renegotiation and <span class="bcp14">MUST</span> reject
          it with a "no_renegotiation" alert if offered.<a class="pilcrow" href="#section-6.5-5">¶</a></p>
<p id="section-6.5-6">
          Endpoints <span class="bcp14">MUST NOT</span> implement TLS False Start <span>[<a class="xref" href="#RFC7918">RFC7918</a>]</span>.<a class="pilcrow" href="#section-6.5-6">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.5-7">
          <dt id="section-6.5-7.1">API Requirement:</dt>
          <dd id="section-6.5-7.2" style="margin-left: 1.5em">
              The API <span class="bcp14">MUST</span> generate a new authentication key pair for every new
              call by default.  This is intended to allow for unlinkability.<a class="pilcrow" href="#section-6.5-7.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-7.3">API Requirement:</dt>
          <dd id="section-6.5-7.4" style="margin-left: 1.5em">
              The API <span class="bcp14">MUST</span> provide a means to reuse a key pair for calls.  This
              can be used to enable key continuity-based authentication, and
              could be used to amortize key generation costs.<a class="pilcrow" href="#section-6.5-7.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-7.5">API Requirement:</dt>
          <dd id="section-6.5-7.6" style="margin-left: 1.5em">
              Unless
              the user specifically configures an external key pair, different
              key pairs <span class="bcp14">MUST</span> be used for each origin. (This avoids creating a
              super-cookie.)<a class="pilcrow" href="#section-6.5-7.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-7.7">API Requirement:</dt>
          <dd id="section-6.5-7.8" style="margin-left: 1.5em">
              When DTLS-SRTP is used, the API <span class="bcp14">MUST NOT</span> permit the JS to obtain
              the negotiated keying material. This requirement preserves the
              end-to-end security of the media.<a class="pilcrow" href="#section-6.5-7.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-6.5-8">
          <dt id="section-6.5-8.1">UI Requirements:</dt>
          <dd id="section-6.5-8.2" style="margin-left: 1.5em">
              A user-oriented client <span class="bcp14">MUST</span> provide an "inspector" interface which
              allows the user to determine the "security characteristics" of the
              media.<a class="pilcrow" href="#section-6.5-8.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-8.3"></dt>
          <dd id="section-6.5-8.4" style="margin-left: 1.5em">
              The following properties <span class="bcp14">SHOULD</span> be displayed "up-front" in the
              browser chrome, i.e., without requiring the user to ask for them:<a class="pilcrow" href="#section-6.5-8.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-8.5"></dt>
          <dd id="section-6.5-8.6" style="margin-left: 1.5em">
            <ul class="normal">
<li class="normal" id="section-6.5-8.6.1.1">
                  A client <span class="bcp14">MUST</span> provide a user interface through which a user
                  may determine the "security characteristics" for
                  currently displayed audio and video stream(s).<a class="pilcrow" href="#section-6.5-8.6.1.1">¶</a>
</li>
              <li class="normal" id="section-6.5-8.6.1.2">
                  A client <span class="bcp14">MUST</span> provide a user interface through which a user
                  may determine the "security characteristics" for transmissions
                  of their microphone audio and camera video.<a class="pilcrow" href="#section-6.5-8.6.1.2">¶</a>
</li>
              <li class="normal" id="section-6.5-8.6.1.3">
                  If the far endpoint was directly verified, either via a
                  third-party verifiable X.509 certificate or via a Web IdP
                  mechanism (see <a class="xref" href="#sec.generic.idp">Section 7</a>), the "security
                  characteristics" <span class="bcp14">MUST</span> include the verified information.  X.509
                  identities and Web IdP identities have similar semantics and
                  should be displayed in a similar way.<a class="pilcrow" href="#section-6.5-8.6.1.3">¶</a>
</li>
            </ul>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-8.7"></dt>
          <dd id="section-6.5-8.8" style="margin-left: 1.5em">
              The following properties are more likely to require some
              "drill-down" from the user:<a class="pilcrow" href="#section-6.5-8.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.5-8.9"></dt>
          <dd id="section-6.5-8.10" style="margin-left: 1.5em">
            <ul class="normal">
<li class="normal" id="section-6.5-8.10.1.1">
                  The "security characteristics" <span class="bcp14">MUST</span> indicate the cryptographic
                  algorithms in use (for example, "AES-CBC").<a class="pilcrow" href="#section-6.5-8.10.1.1">¶</a>
</li>
              <li class="normal" id="section-6.5-8.10.1.2">
                  The "security characteristics" <span class="bcp14">MUST</span> indicate whether FS is
                  provided.<a class="pilcrow" href="#section-6.5-8.10.1.2">¶</a>
</li>
              <li class="normal" id="section-6.5-8.10.1.3">
                  The "security characteristics" <span class="bcp14">MUST</span> include some mechanism to
                  allow an out-of-band verification of the peer, such as a
                  certificate fingerprint or a Short Authentication String (SAS).
                  These are compared by the peers to authenticate one another.<a class="pilcrow" href="#section-6.5-8.10.1.3">¶</a>
</li>
            </ul>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="sec.generic.idp">
<section id="section-7">
      <h2 id="name-web-based-peer-authenticati">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-web-based-peer-authenticati">Web-Based Peer Authentication</a>
      </h2>
<p id="section-7-1">
        NOTE: The mechanism described in this section was designed relatively
        early in the RTCWEB process. In retrospect, the WG was too optimistic
        about the enthusiasm for this kind of mechanism. At the time of publication,
        it has not been widely adopted or implemented. It appears in this document
        as a description of the state of the art as of this writing.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">
          In a number of cases, it is desirable for the endpoint (i.e., the
          browser) to be able to directly identify the endpoint on the other
          side without trusting the signaling service to which they are
          connected. For instance, users may be making a call via a federated
          system where they wish to get direct authentication of the other
          side. Alternately, they may be making a call on a site which they
          minimally trust (such as a poker site) but to someone who has an
          identity on a site they do trust (such as a social network).<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">
          Recently, a number of Web-based identity technologies (OAuth,
          Facebook Connect, etc.) have been developed. While the
          details vary, what these technologies share is that they have a
          Web-based (i.e., HTTP/HTTPS) IdP which attests to Alice's
          identity. For instance, if Alice has an account at example.org, Alice could
          use the example.org IdP to prove to others that Alice is
          alice@example.org.  The development of these technologies allows us to
          separate calling from identity provision: Alice could call you on a
          poker site but identify herself as alice@example.org.<a class="pilcrow" href="#section-7-3">¶</a></p>
<p id="section-7-4">
          Whatever the underlying technology, the general principle is that the
          party which is being authenticated is NOT the signaling site but
          rather the user (and their browser). Similarly, the Relying Party is
          the browser and not the signaling site.  Thus, the browser <span class="bcp14">MUST</span>
          generate the input to the IdP assertion process and
          display the results of the verification process to the user
          in a way which cannot be imitated by the calling site.<a class="pilcrow" href="#section-7-4">¶</a></p>
<p id="section-7-5">
          The mechanisms defined in this document do not require the browser to
          implement any particular identity protocol or to support any
          particular IdP. Instead, this document provides a generic interface
          which any IdP can implement. Thus, new IdPs and protocols can be
          introduced without change to either the browser or the calling
          service. This avoids the need to make a commitment to any particular
          identity protocol, although browsers may opt to directly implement
          some identity protocols in order to provide superior performance or UI
          properties.<a class="pilcrow" href="#section-7-5">¶</a></p>
<div id="sec.trust-relationships">
<section id="section-7.1">
        <h3 id="name-trust-relationships-idps-ap">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-trust-relationships-idps-ap">Trust Relationships: IdPs, APs, and RPs</a>
        </h3>
<p id="section-7.1-1">
            Any federated identity protocol has three major participants:<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-2">
          <dt id="section-7.1-2.1">Authenticating Party (AP):</dt>
          <dd id="section-7.1-2.2" style="margin-left: 1.5em">
                The entity which is trying to establish its identity.<a class="pilcrow" href="#section-7.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.3">Identity Provider (IdP):</dt>
          <dd id="section-7.1-2.4" style="margin-left: 1.5em">
                The entity which is vouching for the AP's identity.<a class="pilcrow" href="#section-7.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-2.5">Relying Party (RP):</dt>
          <dd id="section-7.1-2.6" style="margin-left: 1.5em">
                The entity which is trying to verify the AP's identity.<a class="pilcrow" href="#section-7.1-2.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.1-3">
            The AP and the IdP have an account relationship of some kind: the AP
            registers with the IdP and is able to subsequently authenticate
            directly to the IdP (e.g., with a password). This means that the
            browser must somehow know which IdP(s) the user has an account
            relationship with.  This can either be something that the user
            configures into the browser or that is configured at the calling
            site and then provided to the PeerConnection by the Web application
            at the calling site. The use case for having this information
            configured into the browser is that the user may "log into" the
            browser to bind it to some identity. This is becoming common in new
            browsers. However, it should also be possible for the IdP
            information to simply be provided by the calling application.<a class="pilcrow" href="#section-7.1-3">¶</a></p>
<p id="section-7.1-4">
            At a high level, there are two kinds of IdPs:<a class="pilcrow" href="#section-7.1-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-5">
          <dt id="section-7.1-5.1">Authoritative:</dt>
          <dd id="section-7.1-5.2" style="margin-left: 1.5em">
                IdPs which have verifiable control of some section of the
                identity space. For instance, in the realm of email, the
                operator of "example.com" has complete control of the namespace
                ending in "@example.com". Thus, "alice@example.com" is whoever
                the operator says it is. Examples of systems with authoritative
                IdPs include DNSSEC, an identity system for SIP
                (see <span>[<a class="xref" href="#RFC8224">RFC8224</a>]</span>), and Facebook
                Connect (Facebook identities only make sense within the context
                of the Facebook system).<a class="pilcrow" href="#section-7.1-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-5.3">Third-Party:</dt>
          <dd id="section-7.1-5.4" style="margin-left: 1.5em">
                IdPs which don't have control of their section of the identity
                space but instead verify users' identities via some unspecified
                mechanism and then attest to it. Because the IdP doesn't
                actually control the namespace, RPs need to trust that the IdP
                is correctly verifying AP identities, and there can potentially
                be multiple IdPs attesting to the same section of the identity
                space. Probably the best-known example of a third-party IdP
                is SSL/TLS certificates, where there are a large number of
                certificate authorities (CAs) all of whom can attest to any domain name.<a class="pilcrow" href="#section-7.1-5.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.1-6">
            If an AP is authenticating via an authoritative IdP, then the RP
            does not need to explicitly configure trust in the IdP at all.  The
            identity mechanism can directly verify that the IdP indeed made the
            relevant identity assertion (a function provided by the mechanisms
            in this document), and any assertion it makes about an identity for
            which it is authoritative is directly verifiable. Note that this
            does not mean that the IdP might not lie, but that is a
            trustworthiness judgement that the user can make at the time they
            look at the identity.<a class="pilcrow" href="#section-7.1-6">¶</a></p>
<p id="section-7.1-7">
            By contrast, if an AP is authenticating via a third-party IdP, the
            RP needs to explicitly trust that IdP (hence the need for an
            explicit trust anchor list in PKI-based SSL/TLS clients). The list
            of trustable IdPs needs to be configured directly into the browser,
            either by the user or potentially by the browser manufacturer. This
            is a significant advantage of authoritative IdPs and implies that if
            third-party IdPs are to be supported, the potential number needs to
            be fairly small.<a class="pilcrow" href="#section-7.1-7">¶</a></p>
</section>
</div>
<div id="sec.overview">
<section id="section-7.2">
        <h3 id="name-overview-of-operation">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-overview-of-operation">Overview of Operation</a>
        </h3>
<p id="section-7.2-1">
            In order to provide security without trusting the calling site, the
            PeerConnection component of the browser must interact directly with
            the IdP. The details of the mechanism are described in the W3C API
            specification, but the general idea is that the PeerConnection
            component downloads JS from a specific location on the IdP dictated
            by the IdP domain name. That JS (the "IdP proxy") runs in an
            isolated security context within the browser, and the PeerConnection
            talks to it via a secure message passing channel.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<p id="section-7.2-2">
            Note that there are two logically separate functions here:<a class="pilcrow" href="#section-7.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-3.1">
                Identity assertion generation.<a class="pilcrow" href="#section-7.2-3.1">¶</a>
</li>
          <li class="normal" id="section-7.2-3.2">
                Identity assertion verification.<a class="pilcrow" href="#section-7.2-3.2">¶</a>
</li>
        </ul>
<p id="section-7.2-4">
            The same IdP JS "endpoint" is used for both functions, but of course
            a given IdP might behave differently and load new JS to perform one
            function or the other.<a class="pilcrow" href="#section-7.2-4">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.2-5">
<pre>     +--------------------------------------+
     | Browser                              |
     |                                      |
     | +----------------------------------+ |
     | | https://calling-site.example.com | |
     | |                                  | |
     | |        Calling JS Code           | |
     | |               ^                  | |
     | +---------------|------------------+ |
     |                 | API Calls          |
     |                 v                    |
     |          PeerConnection              |
     |                 ^                    |
     |                 | API Calls          |
     |     +-----------|-------------+      |   +---------------+
     |     |           v             |      |   |               |
     |     |       IdP Proxy         |&lt;--------&gt;|   Identity    |
     |     |                         |      |   |   Provider    |
     |     | https://idp.example.org |      |   |               |
     |     +-------------------------+      |   +---------------+
     |                                      |
     +--------------------------------------+</pre><a class="pilcrow" href="#section-7.2-5">¶</a>
</div>
<p id="section-7.2-6">
            When the PeerConnection object wants to interact with the IdP, the
            sequence of events is as follows:<a class="pilcrow" href="#section-7.2-6">¶</a></p>
<ol class="normal type-1" id="section-7.2-7" start="1" type="1">
          <li id="section-7.2-7.1">
                The browser (the PeerConnection component) instantiates an IdP
                proxy. This allows the IdP to load whatever JS is necessary into
                the proxy.  The resulting code runs in the IdP's security
                context.<a class="pilcrow" href="#section-7.2-7.1">¶</a>
</li>
          <li id="section-7.2-7.2">
                The IdP registers an object with the browser that conforms to
                the API defined in <span>[<a class="xref" href="#webrtc-api">webrtc-api</a>]</span>.<a class="pilcrow" href="#section-7.2-7.2">¶</a>
</li>
          <li id="section-7.2-7.3">
                The browser invokes methods on the object registered by the IdP
                proxy to create or verify identity assertions.<a class="pilcrow" href="#section-7.2-7.3">¶</a>
</li>
        </ol>
<p id="section-7.2-8">
            This approach allows us to decouple the browser from any particular
            IdP; the browser need only know how to load the IdP's
            JavaScript -- the location of which is determined based on the IdP's
            identity -- and to call the generic API for requesting and verifying
            identity assertions. The IdP provides whatever logic is necessary to
            bridge the generic protocol to the IdP's specific
            requirements. Thus, a single browser can support any number of
            identity protocols, including being forward compatible with IdPs
            which did not exist at the time the browser was written.<a class="pilcrow" href="#section-7.2-8">¶</a></p>
</section>
</div>
<div id="sec.standardized">
<section id="section-7.3">
        <h3 id="name-items-for-standardization">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-items-for-standardization">Items for Standardization</a>
        </h3>
<p id="section-7.3-1">
            There are two parts to this work:<a class="pilcrow" href="#section-7.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.3-2.1">
                The precise information from the signaling message that must be
                cryptographically bound to the user's identity and a mechanism
                for carrying assertions in JavaScript Session Establishment
                Protocol (JSEP) messages. This is specified in
                <a class="xref" href="#sec.jsep-binding">Section 7.4</a>.<a class="pilcrow" href="#section-7.3-2.1">¶</a>
</li>
          <li class="normal" id="section-7.3-2.2">
                The interface to the IdP, which is defined in the companion W3C
                WebRTC API specification <span>[<a class="xref" href="#webrtc-api">webrtc-api</a>]</span>.<a class="pilcrow" href="#section-7.3-2.2">¶</a>
</li>
        </ul>
<p id="section-7.3-3">
            The WebRTC API specification also defines JavaScript interfaces that
            the calling application can use to specify which IdP to use.  That
            API also provides access to the assertion-generation capability and
            the status of the validation process.<a class="pilcrow" href="#section-7.3-3">¶</a></p>
</section>
</div>
<div id="sec.jsep-binding">
<section id="section-7.4">
        <h3 id="name-binding-identity-assertions">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-binding-identity-assertions">Binding Identity Assertions to JSEP Offer/Answer Transactions</a>
        </h3>
<p id="section-7.4-1">
            An identity assertion binds the user's identity (as asserted by the
            IdP) to the SDP offer/answer exchange and specifically to the
            media. In order to achieve this, the PeerConnection must provide the
            DTLS-SRTP fingerprint to be bound to the identity. This is provided
            as a JavaScript object (also known as a dictionary or hash) with a
            single "fingerprint" key, as shown below:<a class="pilcrow" href="#section-7.4-1">¶</a></p>
<div id="section-7.4-2">
<pre class="sourcecode lang-json">{
  "fingerprint":
    [
      { "algorithm": "sha-256",
        "digest": "4A:AD:B9:B1:3F:...:E5:7C:AB" },
      { "algorithm": "sha-1",
        "digest": "74:E9:76:C8:19:...:F4:45:6B" }
    ]
}</pre><a class="pilcrow" href="#section-7.4-2">¶</a>
</div>
<p id="section-7.4-3">
            The "fingerprint" value is an array of
            objects.  Each object in the array contains "algorithm" and "digest" values, which correspond directly to
            the algorithm and digest values in the "fingerprint" attribute of the SDP <span>[<a class="xref" href="#RFC8122">RFC8122</a>]</span>.<a class="pilcrow" href="#section-7.4-3">¶</a></p>
<p id="section-7.4-4">
            This object is encoded in a <span><a class="xref" href="#RFC8259">JSON</a> [<a class="xref" href="#RFC8259">RFC8259</a>]</span>
            string for passing to the IdP.  The identity assertion returned by
            the IdP, which is encoded in the "identity" attribute, is a JSON object that is
            encoded as described in <a class="xref" href="#sec.carry-assertion">Section 7.4.1</a>.<a class="pilcrow" href="#section-7.4-4">¶</a></p>
<p id="section-7.4-5">
            This structure does not need to be interpreted by the IdP or the
            IdP proxy. It is consumed solely by the RP's browser.  The IdP
            merely treats it as an opaque value to be attested to.  Thus, new
            parameters can be added to the assertion without modifying the
            IdP.<a class="pilcrow" href="#section-7.4-5">¶</a></p>
<div id="sec.carry-assertion">
<section id="section-7.4.1">
          <h4 id="name-carrying-identity-assertion">
<a class="section-number selfRef" href="#section-7.4.1">7.4.1. </a><a class="section-name selfRef" href="#name-carrying-identity-assertion">Carrying Identity Assertions</a>
          </h4>
<p id="section-7.4.1-1">
              Once an IdP has generated an assertion (see <a class="xref" href="#sec.request-assert">Section 7.6</a>), it is attached to the SDP
              offer/answer message. This is done by adding a new "identity"
              attribute to the SDP. The sole contents of this value is the
              identity assertion.  The identity assertion produced by the IdP is
              encoded into a UTF-8 JSON text, then <span><a class="xref" href="#RFC4648">base64-encoded</a> [<a class="xref" href="#RFC4648">RFC4648</a>]</span> to produce this string.
              For example:<a class="pilcrow" href="#section-7.4.1-1">¶</a></p>
<div id="section-7.4.1-2">
<pre class="sourcecode lang-sdp">v=0
o=- 1181923068 1181923196 IN IP4 ua1.example.com
s=example1
c=IN IP4 ua1.example.com
a=fingerprint:sha-1 \
  4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
a=identity:\
  eyJpZHAiOnsiZG9tYWluIjoiZXhhbXBsZS5vcmciLCJwcm90b2NvbCI6ImJvZ3Vz\
  In0sImFzc2VydGlvbiI6IntcImlkZW50aXR5XCI6XCJib2JAZXhhbXBsZS5vcmdc\
  IixcImNvbnRlbnRzXCI6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3l6XCIsXCJz\
  aWduYXR1cmVcIjpcIjAxMDIwMzA0MDUwNlwifSJ9
a=...
t=0 0
m=audio 6056 RTP/SAVP 0
a=sendrecv
...</pre><a class="pilcrow" href="#section-7.4.1-2">¶</a>
</div>
<aside id="section-7.4.1-3">
            <p id="section-7.4.1-3.1">Note that long lines in the example are folded to meet the column
  width constraints of this document; the backslash ("\") at the end of
  a line, the carriage return that follows, and whitespace shall be ignored.<a class="pilcrow" href="#section-7.4.1-3.1">¶</a></p>
</aside>
<p id="section-7.4.1-4">
              The "identity" attribute attests to all "fingerprint" attributes in the session
              description. It is therefore a session-level attribute.<a class="pilcrow" href="#section-7.4.1-4">¶</a></p>
<p id="section-7.4.1-5">
              Multiple "fingerprint" values can be
              used to offer alternative certificates for a peer.  The "identity" attribute <span class="bcp14">MUST</span> include all
              "fingerprint" values that are included in "fingerprint" attributes of the session
              description.<a class="pilcrow" href="#section-7.4.1-5">¶</a></p>
<p id="section-7.4.1-6">
              The RP browser <span class="bcp14">MUST</span> verify that the in-use certificate for a DTLS
              connection is in the set of fingerprints returned from the IdP
              when verifying an assertion.<a class="pilcrow" href="#section-7.4.1-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.idp-uri">
<section id="section-7.5">
        <h3 id="name-determining-the-idp-uri">
<a class="section-number selfRef" href="#section-7.5">7.5. </a><a class="section-name selfRef" href="#name-determining-the-idp-uri">Determining the IdP URI</a>
        </h3>
<p id="section-7.5-1">
                In order to ensure that the IdP is under control of the domain
                owner rather than someone who merely has an account on the
                domain owner's server (e.g., in shared hosting scenarios), the
                IdP JavaScript is hosted at a deterministic location based on
                the IdP's domain name.  Each IdP proxy instance is associated
                with two values:<a class="pilcrow" href="#section-7.5-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.5-2">
          <dt id="section-7.5-2.1">authority:</dt>
          <dd id="section-7.5-2.2" style="margin-left: 1.5em">
                       The <span><a class="xref" href="#RFC3986">authority</a> [<a class="xref" href="#RFC3986">RFC3986</a>]</span> at which the
                       IdP's service is hosted.<a class="pilcrow" href="#section-7.5-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.5-2.3">protocol:</dt>
          <dd id="section-7.5-2.4" style="margin-left: 1.5em">
                    The specific IdP protocol which the IdP is using. This is a
                    completely opaque IdP-specific string, but allows an IdP to
                    implement two protocols in parallel. This value may be the
                    empty string.  If no value for protocol is provided, a value
                    of "default" is used.<a class="pilcrow" href="#section-7.5-2.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.5-3">
                Each IdP <span class="bcp14">MUST</span> serve its initial entry page (i.e., the one loaded
                by the IdP proxy) from a <span><a class="xref" href="#RFC8615">well-known
                URI</a> [<a class="xref" href="#RFC8615">RFC8615</a>]</span>.
  The well-known URI for an IdP proxy is formed from
                the following URI components:<a class="pilcrow" href="#section-7.5-3">¶</a></p>
<ol class="normal type-1" id="section-7.5-4" start="1" type="1">
          <li id="section-7.5-4.1">
                    The scheme, "https:".  An IdP <span class="bcp14">MUST</span> be loaded using <span><a class="xref" href="#RFC2818">HTTPS</a> [<a class="xref" href="#RFC2818">RFC2818</a>]</span>.<a class="pilcrow" href="#section-7.5-4.1">¶</a>
</li>
          <li id="section-7.5-4.2">
                    The <span><a class="xref" href="#RFC3986">authority</a> [<a class="xref" href="#RFC3986">RFC3986</a>]</span>.  As noted above,
                    the authority <span class="bcp14">MAY</span> contain a  non-default port number or
                    userinfo sub-component.  Both are removed when determining
                    if an asserted identity matches the name of the IdP.<a class="pilcrow" href="#section-7.5-4.2">¶</a>
</li>
          <li id="section-7.5-4.3">
                    The path, starting with "/.well-known/idp-proxy/" and
                    appended with the IdP protocol.  Note that the separator
                    characters '/' (%2F) and '\' (%5C) <span class="bcp14">MUST NOT</span> be permitted in
                    the protocol field, lest an attacker be able to direct
                    requests outside of the controlled "/.well-known/" prefix.
                    Query and fragment values <span class="bcp14">MAY</span> be used by including '?' or
                    '#' characters.<a class="pilcrow" href="#section-7.5-4.3">¶</a>
</li>
        </ol>
<p id="section-7.5-5">
                For example, for the IdP "identity.example.com" and the protocol
                "example", the URL would be:<a class="pilcrow" href="#section-7.5-5">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.5-6">
<pre>https://identity.example.com/.well-known/idp-proxy/example</pre><a class="pilcrow" href="#section-7.5-6">¶</a>
</div>
<p id="section-7.5-7">
                The IdP <span class="bcp14">MAY</span> redirect requests to this URL, but they <span class="bcp14">MUST</span> retain
                the "https:" scheme.  This changes the effective origin of the
                IdP, but not the domain of the identities that the IdP is
                permitted to assert and validate. I.e., the IdP is still
                regarded as authoritative for the original domain.<a class="pilcrow" href="#section-7.5-7">¶</a></p>
<section id="section-7.5.1">
          <h4 id="name-authenticating-party">
<a class="section-number selfRef" href="#section-7.5.1">7.5.1. </a><a class="section-name selfRef" href="#name-authenticating-party">Authenticating Party</a>
          </h4>
<p id="section-7.5.1-1">
                  How an AP determines the appropriate IdP domain is out of
                  scope of this specification. In general, however, the AP has
                  some actual account relationship with the IdP, as this
                  identity is what the IdP is attesting to. Thus, the AP somehow
                  supplies the IdP information to the browser. Some potential
                  mechanisms include:<a class="pilcrow" href="#section-7.5.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.5.1-2.1">
                      Provided by the user directly.<a class="pilcrow" href="#section-7.5.1-2.1">¶</a>
</li>
            <li class="normal" id="section-7.5.1-2.2">
                      Selected from some set of IdPs known to the calling site
                      (e.g., a button that shows "Authenticate via Facebook
                      Connect").<a class="pilcrow" href="#section-7.5.1-2.2">¶</a>
</li>
          </ul>
</section>
<section id="section-7.5.2">
          <h4 id="name-relying-party">
<a class="section-number selfRef" href="#section-7.5.2">7.5.2. </a><a class="section-name selfRef" href="#name-relying-party">Relying Party</a>
          </h4>
<p id="section-7.5.2-1">
                  Unlike the AP, the RP need not have any particular
                  relationship with the IdP. Rather, it needs to be able to
                  process whatever assertion is provided by the AP.  As the
                  assertion contains the IdP's identity in the "idp" field of the JSON-encoded object (see
                  <a class="xref" href="#sec.request-assert">Section 7.6</a>), the URI can be
                  constructed directly from the assertion, and thus the RP can
                  directly verify the technical validity of the assertion with
                  no user interaction. Authoritative assertions need only be
                  verifiable. Third-party assertions also <span class="bcp14">MUST</span> be verified
                  against local policy, as described in <a class="xref" href="#sec.id-format">Section 8.1</a>.<a class="pilcrow" href="#section-7.5.2-1">¶</a></p>
</section>
</section>
</div>
<div id="sec.request-assert">
<section id="section-7.6">
        <h3 id="name-requesting-assertions">
<a class="section-number selfRef" href="#section-7.6">7.6. </a><a class="section-name selfRef" href="#name-requesting-assertions">Requesting Assertions</a>
        </h3>
<p id="section-7.6-1">
                The input to the identity assertion generation process is the JSON-encoded object
                described in <a class="xref" href="#sec.jsep-binding">Section 7.4</a> that contains the
                set of certificate fingerprints the browser intends to use.
                This string is treated as opaque from the perspective of the
                IdP.<a class="pilcrow" href="#section-7.6-1">¶</a></p>
<p id="section-7.6-2">
                The browser also identifies the origin that the PeerConnection
                is run in, which allows the IdP to make decisions based on who
                is requesting the assertion.<a class="pilcrow" href="#section-7.6-2">¶</a></p>
<p id="section-7.6-3">
                An application can optionally provide a user identifier hint
                when specifying an IdP.  This value is a hint that the IdP can
                use to select amongst multiple identities, or to avoid providing
                assertions for unwanted identities.  The "username" is a string that has no meaning to
                any entity other than the IdP; it can contain any data the IdP
                needs in order to correctly generate an assertion.<a class="pilcrow" href="#section-7.6-3">¶</a></p>
<p id="section-7.6-4">
                An identity assertion that is successfully provided by the IdP
                consists of the following information:<a class="pilcrow" href="#section-7.6-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.6-5">
          <dt id="section-7.6-5.1">idp:</dt>
          <dd id="section-7.6-5.2" style="margin-left: 1.5em">
                    The domain name of an IdP and the protocol string.  This <span class="bcp14">MAY</span>
                    identify a different IdP or protocol from the one that
                    generated the assertion.<a class="pilcrow" href="#section-7.6-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.6-5.3">assertion:</dt>
          <dd id="section-7.6-5.4" style="margin-left: 1.5em">
                    An opaque value containing the assertion itself. This is
                    only interpretable by the identified IdP or the IdP code
                    running in the client.<a class="pilcrow" href="#section-7.6-5.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.6-6">
                <a class="xref" href="#fig.assert-ex">Figure 5</a> shows an example assertion
                formatted as JSON.  In this case, the message has presumably
                been digitally signed/MACed in some way that the IdP can later
                verify it, but this is an implementation detail and out of scope
                of this document.<a class="pilcrow" href="#section-7.6-6">¶</a></p>
<span id="name-example-assertion"></span><div id="fig.assert-ex">
<figure id="figure-5">
          <div id="section-7.6-7.1">
<pre class="sourcecode lang-json">{
  "idp":{
    "domain": "example.org",
    "protocol": "bogus"
  },
  "assertion": "{\"identity\":\"bob@example.org\",
                 \"contents\":\"abcdefghijklmnopqrstuvwyz\",
                 \"signature\":\"010203040506\"}"
}</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-example-assertion">Example Assertion</a>
          </figcaption></figure>
</div>
<p id="section-7.6-8">
                For use in signaling, the assertion is serialized into JSON,
                <span><a class="xref" href="#RFC4648">base64-encoded</a> [<a class="xref" href="#RFC4648">RFC4648</a>]</span>, and used as the
                value of the "identity" attribute.
                IdPs <span class="bcp14">SHOULD</span> ensure that any assertions they
                generate cannot be interpreted in a different context. E.g.,
                they should use a distinct format or have separate cryptographic
                keys for assertion generation and other purposes.
                Line breaks are inserted solely for
                readability.<a class="pilcrow" href="#section-7.6-8">¶</a></p>
</section>
</div>
<div id="sec.user-login">
<section id="section-7.7">
        <h3 id="name-managing-user-login">
<a class="section-number selfRef" href="#section-7.7">7.7. </a><a class="section-name selfRef" href="#name-managing-user-login">Managing User Login</a>
        </h3>
<p id="section-7.7-1">
                In order to generate an identity assertion, the IdP needs proof of
                the user's identity.  It is common practice to authenticate users
                (using passwords or multi-factor authentication), then use <span><a class="xref" href="#RFC6265">cookies</a> [<a class="xref" href="#RFC6265">RFC6265</a>]</span> or <span><a class="xref" href="#RFC7617">HTTP
                authentication</a> [<a class="xref" href="#RFC7617">RFC7617</a>]</span> for subsequent exchanges.<a class="pilcrow" href="#section-7.7-1">¶</a></p>
<p id="section-7.7-2">
                The IdP proxy is able to access cookies, HTTP authentication data, or
                other persistent session data because it operates in the security
                context of the IdP origin.  Therefore, if a user is logged in, the
                IdP could have all the information needed to generate an
                assertion.<a class="pilcrow" href="#section-7.7-2">¶</a></p>
<p id="section-7.7-3">
                An IdP proxy is unable to generate an assertion if the user is
                not logged in, or the IdP wants to interact with the user to
                acquire more information before generating the assertion.  If
                the IdP wants to interact with the user before generating an
                assertion, the IdP proxy can fail to generate an assertion and
                instead indicate a URL where login should proceed.<a class="pilcrow" href="#section-7.7-3">¶</a></p>
<p id="section-7.7-4">
                The application can then load the provided URL to enable the
                user to enter credentials.  The communication between the
                application and the IdP is described in <span>[<a class="xref" href="#webrtc-api">webrtc-api</a>]</span>.<a class="pilcrow" href="#section-7.7-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.verify-assert">
<section id="section-8">
      <h2 id="name-verifying-assertions">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-verifying-assertions">Verifying Assertions</a>
      </h2>
<p id="section-8-1">
                The input to identity validation is the assertion string taken
                from a decoded "identity" attribute.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">
                The IdP proxy verifies the assertion. Depending on the identity
                protocol, the proxy might contact the IdP server or other
                servers.  For instance, an OAuth-based protocol will likely
                require using the IdP as an oracle, whereas with a
                signature-based scheme it might be able to verify the assertion
                without contacting the IdP, provided that it has cached the
                relevant public key.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">
                Regardless of the mechanism, if verification succeeds, a
                successful response from the IdP proxy consists of the following
                information:<a class="pilcrow" href="#section-8-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8-4">
        <dt id="section-8-4.1">identity:</dt>
        <dd id="section-8-4.2" style="margin-left: 1.5em">
                    The identity of the AP from the IdP's perspective. Details
                    of this are provided in <a class="xref" href="#sec.id-format">Section 8.1</a>.<a class="pilcrow" href="#section-8-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.3">contents:</dt>
        <dd id="section-8-4.4" style="margin-left: 1.5em">
                    The original unmodified string provided by the AP as input
                    to the assertion generation process.<a class="pilcrow" href="#section-8-4.4">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-8-5">
                <a class="xref" href="#fig.verify-ex">Figure 6</a> shows an example response,
                which is JSON-formatted.<a class="pilcrow" href="#section-8-5">¶</a></p>
<span id="name-example-verification-result"></span><div id="fig.verify-ex">
<figure id="figure-6">
        <div id="section-8-6.1">
<pre class="sourcecode lang-json">{
  "identity": "bob@example.org",
  "contents": "{\"fingerprint\":[ ... ]}"
}</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-example-verification-result">Example Verification Result</a>
        </figcaption></figure>
</div>
<div id="sec.id-format">
<section id="section-8.1">
        <h3 id="name-identity-formats">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-identity-formats">Identity Formats</a>
        </h3>
<p id="section-8.1-1">
                  The identity provided from the IdP to the RP browser <span class="bcp14">MUST</span>
                  consist of a string representing the user's identity.  This
                  string is in the form "&lt;user&gt;@&lt;domain&gt;", where "user" consists of any character,
                  and domain is an internationalized
                  domain name <span>[<a class="xref" href="#RFC5890">RFC5890</a>]</span> encoded as a sequence of U-labels.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<p id="section-8.1-2">
                  The PeerConnection API <span class="bcp14">MUST</span> check this string as follows:<a class="pilcrow" href="#section-8.1-2">¶</a></p>
<ol class="normal type-1" id="section-8.1-3" start="1" type="1">
          <li id="section-8.1-3.1">
                      If the "domain" portion of the string is equal to the domain
                      name of the IdP proxy, then the assertion is valid, as the
                      IdP is authoritative for this domain.  Comparison of
                      domain names is done using the label equivalence rule
                      defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc5890#section-2.3.2.4">Section 2.3.2.4</a> of [<a class="xref" href="#RFC5890">RFC5890</a>]</span>.<a class="pilcrow" href="#section-8.1-3.1">¶</a>
</li>
          <li id="section-8.1-3.2">
            <p id="section-8.1-3.2.1">
                      If the "domain" portion of the string is not equal to the
                      domain name of the IdP proxy, then the PeerConnection
                      object <span class="bcp14">MUST</span> reject the assertion unless both:<a class="pilcrow" href="#section-8.1-3.2.1">¶</a></p>
<ol class="normal type-1" id="section-8.1-3.2.2" start="1" type="1">
              <li id="section-8.1-3.2.2.1">
                          the IdP domain is trusted as an acceptable third-party
                          IdP; and<a class="pilcrow" href="#section-8.1-3.2.2.1">¶</a>
</li>
              <li id="section-8.1-3.2.2.2">
                          local policy is configured to trust this IdP domain
                          for the domain portion of the identity string.<a class="pilcrow" href="#section-8.1-3.2.2.2">¶</a>
</li>
            </ol>
</li>
        </ol>
<p id="section-8.1-4">
                  Any '@' or '%' characters in the "user" portion of the
                  identity <span class="bcp14">MUST</span> be escaped according to the "percent-encoding"
                  rules defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-2.1">Section 2.1</a> of [<a class="xref" href="#RFC3986">RFC3986</a>]</span>. Characters other than '@' and '%' <span class="bcp14">MUST NOT</span>
                  be percent-encoded. For example, with a "user" of "user@133" and
                  a "domain" of "identity.example.com", the resulting string will
                  be encoded as "user%40133@identity.example.com".<a class="pilcrow" href="#section-8.1-4">¶</a></p>
<p id="section-8.1-5">
                  Implementations are cautioned to take care when displaying
                  user identities containing escaped '@' characters. If such
                  characters are unescaped prior to display, implementations
                  <span class="bcp14">MUST</span> distinguish between the domain of the IdP proxy and any
                  domain that might be implied by the portion of the
                  "&lt;user&gt;" portion that appears after the escaped "@"
                  sign.<a class="pilcrow" href="#section-8.1-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.sec-cons">
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">
          Much of the security analysis of RTCWEB is contained in <span>[<a class="xref" href="#RFC8826">RFC8826</a>]</span> or in the discussion of the
          particular issues above. In order to avoid repetition, this section
          focuses on (a) residual threats that are not addressed by this
          document and (b) threats produced by failure/misbehavior of one of the
          components in the system.<a class="pilcrow" href="#section-9-1">¶</a></p>
<section id="section-9.1">
        <h3 id="name-communications-security-2">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-communications-security-2">Communications Security</a>
        </h3>
<p id="section-9.1-1">
            If HTTPS is not used to secure communications to the signaling
            server, and the identity mechanism used in
            <a class="xref" href="#sec.generic.idp">Section 7</a> is not used,
            then any on-path attacker can replace the DTLS-SRTP fingerprints
            in the handshake and thus substitute its own identity for that
            of either endpoint.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
<p id="section-9.1-2">
            Even if HTTPS is used, the signaling server can
            potentially mount a man-in-the-middle attack unless implementations
            have some mechanism for independently verifying keys. The UI
            requirements in <a class="xref" href="#sec.proposal.comsec">Section 6.5</a> are designed to
            provide such a mechanism for motivated/security conscious users, but
            are not suitable for general use.  The identity service mechanisms
            in <a class="xref" href="#sec.generic.idp">Section 7</a> are more suitable for general
            use. Note, however, that a malicious signaling service can strip off
            any such identity assertions, though it cannot forge new ones.  Note
            that all of the third-party security mechanisms available (whether
            X.509 certificates or a third-party IdP) rely on the security of the
            third party -- this is of course also true of the user's connection to the
            Web site itself. Users who wish to assure themselves of security
            against a malicious IdP can only do so by verifying
            peer credentials directly, e.g., by checking the peer's fingerprint
            against a value delivered out of band.<a class="pilcrow" href="#section-9.1-2">¶</a></p>
<p id="section-9.1-3">
            In order to protect against malicious content JavaScript, that
            JavaScript <span class="bcp14">MUST NOT</span> be allowed to have direct
            access to -- or perform
            computations with -- DTLS keys. For instance, if content JS were able
            to compute digital signatures, then it would be possible for content
            JS to get an identity assertion for a browser's generated key and
            then use that assertion plus a signature by the key to authenticate
            a call protected under an ephemeral Diffie-Hellman (DH) key controlled by the content
            JS, thus violating the security guarantees otherwise provided by the
            IdP mechanism. Note that it is not sufficient merely to deny the
            content JS direct access to the keys, as some have suggested doing
            with the WebCrypto API <span>[<a class="xref" href="#webcrypto">webcrypto</a>]</span>.  The JS must
            also not be allowed to perform operations that would be valid for a
            DTLS endpoint. By far the safest approach is simply to deny the
            ability to perform any operations that depend on secret information
            associated with the key. Operations that depend on public
            information, such as exporting the public key, are of course safe.<a class="pilcrow" href="#section-9.1-3">¶</a></p>
</section>
<section id="section-9.2">
        <h3 id="name-privacy">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-privacy">Privacy</a>
        </h3>
<p id="section-9.2-1">
            The requirements in this document are intended to allow:<a class="pilcrow" href="#section-9.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.2-2.1">
                Users to participate in calls without revealing their location.<a class="pilcrow" href="#section-9.2-2.1">¶</a>
</li>
          <li class="normal" id="section-9.2-2.2">
                Potential callees to avoid revealing their location and even
                presence status prior to agreeing to answer a call.<a class="pilcrow" href="#section-9.2-2.2">¶</a>
</li>
        </ul>
<p id="section-9.2-3">
            However, these privacy protections come at a performance cost in
            terms of using TURN relays and, in the latter case, delaying
            ICE. Sites <span class="bcp14">SHOULD</span> make users aware of these tradeoffs.<a class="pilcrow" href="#section-9.2-3">¶</a></p>
<p id="section-9.2-4">
            Note that the protections provided here assume a non-malicious
            calling service. As the calling service always knows the user's
            status and (absent the use of a technology like Tor) their IP
            address, they can violate the user's privacy at will.  Users who wish
            privacy against the calling sites they are using must use separate
            privacy-enhancing technologies such as Tor. Combined WebRTC/Tor
            implementations <span class="bcp14">SHOULD</span> arrange to route the media as well as the
            signaling through Tor. Currently this will produce very suboptimal
            performance.<a class="pilcrow" href="#section-9.2-4">¶</a></p>
<p id="section-9.2-5">
            Additionally, any identifier which persists across multiple calls is
            potentially a problem for privacy, especially for anonymous calling
            services. Such services <span class="bcp14">SHOULD</span> instruct the browser to use separate
            DTLS keys for each call and also to use TURN throughout the
            call. Otherwise, the other side will learn linkable information that
            would allow them to correlate the browser across multiple calls.
            Additionally, browsers <span class="bcp14">SHOULD</span> implement the privacy-preserving CNAME
            generation mode of <span>[<a class="xref" href="#RFC7022">RFC7022</a>]</span>.<a class="pilcrow" href="#section-9.2-5">¶</a></p>
</section>
<section id="section-9.3">
        <h3 id="name-denial-of-service">
<a class="section-number selfRef" href="#section-9.3">9.3. </a><a class="section-name selfRef" href="#name-denial-of-service">Denial of Service</a>
        </h3>
<p id="section-9.3-1">
            The consent mechanisms described in this document are intended to
            mitigate denial-of-service (DoS) attacks in which an attacker uses clients
            to send large amounts of traffic to a victim without the consent of
            the victim. While these mechanisms are sufficient to protect victims
            who have not implemented WebRTC at all, WebRTC implementations need
            to be more careful.<a class="pilcrow" href="#section-9.3-1">¶</a></p>
<p id="section-9.3-2">
            Consider the case of a call center which accepts calls via
            WebRTC. An attacker proxies the call center's front-end and arranges
            for multiple clients to initiate calls to the call center. Note that
            this requires user consent in many cases, but because the data
            channel does not need consent, they can use that directly. Since ICE
            will complete, browsers can then be induced to send large amounts of
            data to the victim call center if it supports the data channel at
            all. Preventing this attack requires that automated WebRTC
            implementations implement sensible flow control and have the ability
            to triage out (i.e., stop responding to ICE probes on) calls which
            are behaving badly, and especially to be prepared to remotely
            throttle the data channel in the absence of plausible audio and
            video (which the attacker cannot control).<a class="pilcrow" href="#section-9.3-2">¶</a></p>
<p id="section-9.3-3">
            Another related attack is for the signaling service to swap the ICE
            candidates for the audio and video streams, thus forcing a browser
            to send video to the sink that the other victim expects will contain
            audio (perhaps it is only expecting audio!), potentially causing
            overload.  Muxing multiple media flows over a single transport makes
            it harder to individually suppress a single flow by denying ICE
            keepalives. Either media-level (RTCP) mechanisms must be used or the
            implementation must deny responses entirely, thus terminating the
            call.<a class="pilcrow" href="#section-9.3-3">¶</a></p>
<p id="section-9.3-4">
            Yet another attack, suggested by Magnus Westerlund, is for the
            attacker to cross-connect offers and answers as follows. It induces
            the victim to make a call and then uses its control of other users'
            browsers to get them to attempt a call to someone. It then
            translates their offers into apparent answers to the victim, which
            looks like large-scale parallel forking.  The victim still responds
            to ICE responses, and now the browsers all try to send media to the
            victim.  Implementations can defend themselves from this attack by
            only responding to ICE Binding Requests for a limited number of
            remote ufrags (this is the reason for the requirement that the JS
            not be able to control the ufrag and password).
            <span>[<a class="xref" href="#RFC8834">RFC8834</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8834#section-13">Section 13</a></span> documents a number
            of potential RTCP-based DoS attacks and countermeasures.<a class="pilcrow" href="#section-9.3-4">¶</a></p>
<p id="section-9.3-5">
            Note that attacks based on confusing one end or the other about
            consent are possible even in the face of the third-party identity
            mechanism as long as major parts of the signaling messages are not
            signed. On the other hand, signing the entire message severely
            restricts the capabilities of the calling application, so there are
            difficult tradeoffs here.<a class="pilcrow" href="#section-9.3-5">¶</a></p>
</section>
<section id="section-9.4">
        <h3 id="name-idp-authentication-mechanis">
<a class="section-number selfRef" href="#section-9.4">9.4. </a><a class="section-name selfRef" href="#name-idp-authentication-mechanis">IdP Authentication Mechanism</a>
        </h3>
<p id="section-9.4-1">
            This mechanism relies for its security on the IdP and on the
            PeerConnection correctly enforcing the security invariants described
            above. At a high level, the IdP is attesting that the user
            identified in the assertion wishes to be associated with the
            assertion. Thus, it must not be possible for arbitrary third parties
            to get assertions tied to a user or to produce assertions that RPs
            will accept.<a class="pilcrow" href="#section-9.4-1">¶</a></p>
<div id="sec.pc-origin">
<section id="section-9.4.1">
          <h4 id="name-peerconnection-origin-check">
<a class="section-number selfRef" href="#section-9.4.1">9.4.1. </a><a class="section-name selfRef" href="#name-peerconnection-origin-check">PeerConnection Origin Check</a>
          </h4>
<p id="section-9.4.1-1">
              Fundamentally, the IdP proxy is just a piece of HTML and JS loaded
              by the browser, so nothing stops a Web attacker from creating
              their own IFRAME, loading the IdP proxy HTML/JS, and requesting a
              signature over their own keys rather than those generated in
              the browser. However, that proxy would be in the
              attacker's origin, not the IdP's origin. Only the
              browser itself can instantiate a context that (a) is in the IdP's origin and
              (b) exposes the correct API surface. Thus, the IdP proxy on
              the sender's side <span class="bcp14">MUST</span> ensure that it is running in the IdP's origin
              prior to issuing assertions.<a class="pilcrow" href="#section-9.4.1-1">¶</a></p>
<p id="section-9.4.1-2">
              Note that this check only asserts that the browser (or some other
              entity with access to the user's authentication data) attests to
              the request and hence to the fingerprint.  It does not demonstrate
              that the browser has access to the associated private
              key, and therefore an attacker can attach their own identity
              to another party's keying material, thus making a call which
              comes from Alice appear to come from the attacker.
              See <span>[<a class="xref" href="#RFC8844">RFC8844</a>]</span> for defenses against this
              form of attack.<a class="pilcrow" href="#section-9.4.1-2">¶</a></p>
</section>
</div>
<div id="sec.sec-idp-uri">
<section id="section-9.4.2">
          <h4 id="name-idp-well-known-uri">
<a class="section-number selfRef" href="#section-9.4.2">9.4.2. </a><a class="section-name selfRef" href="#name-idp-well-known-uri">IdP Well-Known URI</a>
          </h4>
<p id="section-9.4.2-1">
              As described in <a class="xref" href="#sec.idp-uri">Section 7.5</a>, the IdP proxy HTML/JS
              landing page is located at a well-known URI based on the IdP's
              domain name. This requirement prevents an attacker who can write
              some resources at the IdP (e.g., on one's Facebook wall) from
              being able to impersonate the IdP.<a class="pilcrow" href="#section-9.4.2-1">¶</a></p>
</section>
</div>
<section id="section-9.4.3">
          <h4 id="name-privacy-of-idp-generated-id">
<a class="section-number selfRef" href="#section-9.4.3">9.4.3. </a><a class="section-name selfRef" href="#name-privacy-of-idp-generated-id">Privacy of IdP-Generated Identities and the Hosting Site</a>
          </h4>
<p id="section-9.4.3-1">
              Depending on the structure of the IdP's assertions, the calling
              site may learn the user's identity from the perspective of the
              IdP.  In many cases, this is not an issue because the user is
              authenticating to the site via the IdP in any case -- for instance,
              when the user has logged in with Facebook Connect and is then
              authenticating their call with a Facebook identity.  However, in
              other cases, the user may not have already revealed their identity
              to the site.  In general, IdPs <span class="bcp14">SHOULD</span> either verify that the user
              is willing to have their identity revealed to the site (e.g.,
              through the usual IdP permissions dialog) or arrange that the
              identity information is only available to known RPs (e.g., social
              graph adjacencies) but not to the calling site. The "domain" field
              of the assertion request can be used to check that the user has
              agreed to disclose their identity to the calling site; because it
              is supplied by the PeerConnection it can be trusted to be correct.<a class="pilcrow" href="#section-9.4.3-1">¶</a></p>
</section>
<div id="sec.sec-third-party">
<section id="section-9.4.4">
          <h4 id="name-security-of-third-party-idp">
<a class="section-number selfRef" href="#section-9.4.4">9.4.4. </a><a class="section-name selfRef" href="#name-security-of-third-party-idp">Security of Third-Party IdPs</a>
          </h4>
<p id="section-9.4.4-1">
              As discussed above, each third-party IdP represents a new
              universal trust point and therefore the number of these IdPs needs
              to be quite limited. Most IdPs, even those which issue unqualified
              identities such as Facebook, can be recast as authoritative IdPs
              (e.g., 123456@facebook.com). However, in such cases, the user
              interface implications are not entirely desirable.  One
              intermediate approach is to have special (potentially user
              configurable) UI for large authoritative IdPs, thus allowing the
              user to instantly grasp that the call is being authenticated by
              Facebook, Google, etc.<a class="pilcrow" href="#section-9.4.4-1">¶</a></p>
<section id="section-9.4.4.1">
            <h5 id="name-confusable-characters">
<a class="section-number selfRef" href="#section-9.4.4.1">9.4.4.1. </a><a class="section-name selfRef" href="#name-confusable-characters">Confusable Characters</a>
            </h5>
<p id="section-9.4.4.1-1">
                Because a broad range of characters are permitted in identity
                strings, it may be possible for attackers to craft identities
                which are confusable with other identities (see
                <span>[<a class="xref" href="#RFC6943">RFC6943</a>]</span> for more on this topic). This is
                a problem with any identifier space of this type
                (e.g., email addresses).
                Those minting identifiers should avoid mixed scripts and similar
                confusable characters. Those presenting these identifiers to a
                user should consider highlighting cases of mixed script usage
                (see <span>[<a class="xref" href="#RFC5890">RFC5890</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc5890#section-4.4">Section 4.4</a></span>). Other best practices are still in development.<a class="pilcrow" href="#section-9.4.4.1-1">¶</a></p>
</section>
</section>
</div>
<section id="section-9.4.5">
          <h4 id="name-web-security-feature-intera">
<a class="section-number selfRef" href="#section-9.4.5">9.4.5. </a><a class="section-name selfRef" href="#name-web-security-feature-intera">Web Security Feature Interactions</a>
          </h4>
<p id="section-9.4.5-1">
              A number of optional Web security features have the potential to
              cause issues for this mechanism, as discussed below.<a class="pilcrow" href="#section-9.4.5-1">¶</a></p>
<div id="sec.popup-blocking">
<section id="section-9.4.5.1">
            <h5 id="name-popup-blocking">
<a class="section-number selfRef" href="#section-9.4.5.1">9.4.5.1. </a><a class="section-name selfRef" href="#name-popup-blocking">Popup Blocking</a>
            </h5>
<p id="section-9.4.5.1-1">
                When popup blocking is in use, the IdP proxy is unable to generate popup windows, dialogs, or
                any other form of user interactions.  This prevents the IdP
                proxy from being used to circumvent user interaction.  The
                "LOGINNEEDED" message allows the IdP proxy to inform the calling
                site of a need for user login, providing the information
                necessary to satisfy this requirement without resorting to
                direct user interaction from the IdP proxy itself.<a class="pilcrow" href="#section-9.4.5.1-1">¶</a></p>
</section>
</div>
<div id="sec.3rd-party-cookies">
<section id="section-9.4.5.2">
            <h5 id="name-third-party-cookies">
<a class="section-number selfRef" href="#section-9.4.5.2">9.4.5.2. </a><a class="section-name selfRef" href="#name-third-party-cookies">Third Party Cookies</a>
            </h5>
<p id="section-9.4.5.2-1">
                Some browsers allow users to block third party cookies (cookies
                associated with origins other than the top-level page) for
                privacy reasons.  Any IdP which uses cookies to persist logins
                will be broken by third-party cookie blocking. One option is to
                accept this as a limitation; another is to have the
                PeerConnection object disable third-party cookie blocking for
                the IdP proxy.<a class="pilcrow" href="#section-9.4.5.2-1">¶</a></p>
</section>
</div>
</section>
</section>
</section>
</div>
<div id="sec.iana-cons">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-10-1">
          This specification defines the "identity"
          SDP attribute per the procedures of <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4566#section-8.2.4">Section 8.2.4</a> of [<a class="xref" href="#RFC4566">RFC4566</a>]</span>.  The required information for the registration is
          included here:<a class="pilcrow" href="#section-10-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10-2">
        <dt id="section-10-2.1">Contact Name:</dt>
        <dd id="section-10-2.2" style="margin-left: 1.5em">IESG (iesg@ietf.org)<a class="pilcrow" href="#section-10-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.3">Attribute Name:</dt>
        <dd id="section-10-2.4" style="margin-left: 1.5em">identity<a class="pilcrow" href="#section-10-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.5">Long Form:</dt>
        <dd id="section-10-2.6" style="margin-left: 1.5em">identity<a class="pilcrow" href="#section-10-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.7">Type of Attribute:</dt>
        <dd id="section-10-2.8" style="margin-left: 1.5em">session<a class="pilcrow" href="#section-10-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.9">Charset Considerations:</dt>
        <dd id="section-10-2.10" style="margin-left: 1.5em">This attribute is not subject
            to the charset attribute.<a class="pilcrow" href="#section-10-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.11">Purpose:</dt>
        <dd id="section-10-2.12" style="margin-left: 1.5em">This attribute carries an identity assertion,
            binding an identity to the transport-level security session.<a class="pilcrow" href="#section-10-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.13">Appropriate Values:</dt>
        <dd id="section-10-2.14" style="margin-left: 1.5em">See <a class="xref" href="#sec.sdp-id-attr">Section 5</a> of RFC 8827.<a class="pilcrow" href="#section-10-2.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-2.15">Mux Category:</dt>
        <dd id="section-10-2.16" style="margin-left: 1.5em">NORMAL<a class="pilcrow" href="#section-10-2.16">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-10-3">
          This section registers the "idp-proxy" well-known
          URI from <span>[<a class="xref" href="#RFC8615">RFC8615</a>]</span>.<a class="pilcrow" href="#section-10-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10-4">
        <dt id="section-10-4.1">URI suffix:</dt>
        <dd id="section-10-4.2" style="margin-left: 1.5em">idp-proxy<a class="pilcrow" href="#section-10-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-10-4.3">Change controller:</dt>
        <dd id="section-10-4.4" style="margin-left: 1.5em">IETF<a class="pilcrow" href="#section-10-4.4">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="FIPS186">[FIPS186]</dt>
        <dd>
<span class="refAuthor">National Institute of Standards and Technology (NIST)</span>, <span class="refTitle">"Digital Signature Standard (DSS)"</span>, <span class="seriesInfo">NIST PUB 186-4</span>, <span class="seriesInfo">DOI 10.6028/NIST.FIPS.186-4</span>, <time class="refDate" datetime="2013-07">July 2013</time>, <span>&lt;<a href="https://doi.org/10.6028/NIST.FIPS.186-4">https://doi.org/10.6028/NIST.FIPS.186-4</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2818">[RFC2818]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"HTTP Over TLS"</span>, <span class="seriesInfo">RFC 2818</span>, <span class="seriesInfo">DOI 10.17487/RFC2818</span>, <time class="refDate" datetime="2000-05">May 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2818">https://www.rfc-editor.org/info/rfc2818</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3264">[RFC3264]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span><span class="refAuthor"> and H. Schulzrinne</span>, <span class="refTitle">"An Offer/Answer Model with Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 3264</span>, <span class="seriesInfo">DOI 10.17487/RFC3264</span>, <time class="refDate" datetime="2002-06">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3264">https://www.rfc-editor.org/info/rfc3264</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3711">[RFC3711]</dt>
        <dd>
<span class="refAuthor">Baugher, M.</span><span class="refAuthor">, McGrew, D.</span><span class="refAuthor">, Naslund, M.</span><span class="refAuthor">, Carrara, E.</span><span class="refAuthor">, and K. Norrman</span>, <span class="refTitle">"The Secure Real-time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 3711</span>, <span class="seriesInfo">DOI 10.17487/RFC3711</span>, <time class="refDate" datetime="2004-03">March 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3711">https://www.rfc-editor.org/info/rfc3711</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span><span class="refAuthor">, Fielding, R.</span><span class="refAuthor">, and L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time class="refDate" datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4566">[RFC4566]</dt>
        <dd>
<span class="refAuthor">Handley, M.</span><span class="refAuthor">, Jacobson, V.</span><span class="refAuthor">, and C. Perkins</span>, <span class="refTitle">"SDP: Session Description Protocol"</span>, <span class="seriesInfo">RFC 4566</span>, <span class="seriesInfo">DOI 10.17487/RFC4566</span>, <time class="refDate" datetime="2006-07">July 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4566">https://www.rfc-editor.org/info/rfc4566</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4568">[RFC4568]</dt>
        <dd>
<span class="refAuthor">Andreasen, F.</span><span class="refAuthor">, Baugher, M.</span><span class="refAuthor">, and D. Wing</span>, <span class="refTitle">"Session Description Protocol (SDP) Security Descriptions for Media Streams"</span>, <span class="seriesInfo">RFC 4568</span>, <span class="seriesInfo">DOI 10.17487/RFC4568</span>, <time class="refDate" datetime="2006-07">July 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4568">https://www.rfc-editor.org/info/rfc4568</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4648">[RFC4648]</dt>
        <dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time class="refDate" datetime="2006-10">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5763">[RFC5763]</dt>
        <dd>
<span class="refAuthor">Fischl, J.</span><span class="refAuthor">, Tschofenig, H.</span><span class="refAuthor">, and E. Rescorla</span>, <span class="refTitle">"Framework for Establishing a Secure Real-time Transport Protocol (SRTP) Security Context Using Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">RFC 5763</span>, <span class="seriesInfo">DOI 10.17487/RFC5763</span>, <time class="refDate" datetime="2010-05">May 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5763">https://www.rfc-editor.org/info/rfc5763</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5764">[RFC5764]</dt>
        <dd>
<span class="refAuthor">McGrew, D.</span><span class="refAuthor"> and E. Rescorla</span>, <span class="refTitle">"Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 5764</span>, <span class="seriesInfo">DOI 10.17487/RFC5764</span>, <time class="refDate" datetime="2010-05">May 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5764">https://www.rfc-editor.org/info/rfc5764</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5890">[RFC5890]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span>, <span class="refTitle">"Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework"</span>, <span class="seriesInfo">RFC 5890</span>, <span class="seriesInfo">DOI 10.17487/RFC5890</span>, <time class="refDate" datetime="2010-08">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5890">https://www.rfc-editor.org/info/rfc5890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6347">[RFC6347]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span><span class="refAuthor"> and N. Modadugu</span>, <span class="refTitle">"Datagram Transport Layer Security Version 1.2"</span>, <span class="seriesInfo">RFC 6347</span>, <span class="seriesInfo">DOI 10.17487/RFC6347</span>, <time class="refDate" datetime="2012-01">January 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6347">https://www.rfc-editor.org/info/rfc6347</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6454">[RFC6454]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"The Web Origin Concept"</span>, <span class="seriesInfo">RFC 6454</span>, <span class="seriesInfo">DOI 10.17487/RFC6454</span>, <time class="refDate" datetime="2011-12">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6454">https://www.rfc-editor.org/info/rfc6454</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7022">[RFC7022]</dt>
        <dd>
<span class="refAuthor">Begen, A.</span><span class="refAuthor">, Perkins, C.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, and E. Rescorla</span>, <span class="refTitle">"Guidelines for Choosing RTP Control Protocol (RTCP) Canonical Names (CNAMEs)"</span>, <span class="seriesInfo">RFC 7022</span>, <span class="seriesInfo">DOI 10.17487/RFC7022</span>, <time class="refDate" datetime="2013-09">September 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7022">https://www.rfc-editor.org/info/rfc7022</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7675">[RFC7675]</dt>
        <dd>
<span class="refAuthor">Perumal, M.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, Ravindranath, R.</span><span class="refAuthor">, Reddy, T.</span><span class="refAuthor">, and M. Thomson</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN) Usage for Consent Freshness"</span>, <span class="seriesInfo">RFC 7675</span>, <span class="seriesInfo">DOI 10.17487/RFC7675</span>, <time class="refDate" datetime="2015-10">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7675">https://www.rfc-editor.org/info/rfc7675</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7918">[RFC7918]</dt>
        <dd>
<span class="refAuthor">Langley, A.</span><span class="refAuthor">, Modadugu, N.</span><span class="refAuthor">, and B. Moeller</span>, <span class="refTitle">"Transport Layer Security (TLS) False Start"</span>, <span class="seriesInfo">RFC 7918</span>, <span class="seriesInfo">DOI 10.17487/RFC7918</span>, <time class="refDate" datetime="2016-08">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7918">https://www.rfc-editor.org/info/rfc7918</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8122">[RFC8122]</dt>
        <dd>
<span class="refAuthor">Lennox, J.</span><span class="refAuthor"> and C. Holmberg</span>, <span class="refTitle">"Connection-Oriented Media Transport over the Transport Layer Security (TLS) Protocol in the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 8122</span>, <span class="seriesInfo">DOI 10.17487/RFC8122</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8122">https://www.rfc-editor.org/info/rfc8122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time class="refDate" datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8261">[RFC8261]</dt>
        <dd>
<span class="refAuthor">Tuexen, M.</span><span class="refAuthor">, Stewart, R.</span><span class="refAuthor">, Jesup, R.</span><span class="refAuthor">, and S. Loreto</span>, <span class="refTitle">"Datagram Transport Layer Security (DTLS) Encapsulation of SCTP Packets"</span>, <span class="seriesInfo">RFC 8261</span>, <span class="seriesInfo">DOI 10.17487/RFC8261</span>, <time class="refDate" datetime="2017-11">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8261">https://www.rfc-editor.org/info/rfc8261</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8445">[RFC8445]</dt>
        <dd>
<span class="refAuthor">Keranen, A.</span><span class="refAuthor">, Holmberg, C.</span><span class="refAuthor">, and J. Rosenberg</span>, <span class="refTitle">"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal"</span>, <span class="seriesInfo">RFC 8445</span>, <span class="seriesInfo">DOI 10.17487/RFC8445</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8445">https://www.rfc-editor.org/info/rfc8445</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time class="refDate" datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8615">[RFC8615]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Well-Known Uniform Resource Identifiers (URIs)"</span>, <span class="seriesInfo">RFC 8615</span>, <span class="seriesInfo">DOI 10.17487/RFC8615</span>, <time class="refDate" datetime="2019-05">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8615">https://www.rfc-editor.org/info/rfc8615</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8825">[RFC8825]</dt>
        <dd>
<span class="refAuthor">Alvestrand, H.</span>, <span class="refTitle">"Overview: Real-Time Protocols for Browser-Based Applications"</span>, <span class="seriesInfo">RFC 8825</span>, <span class="seriesInfo">DOI 10.17487/RFC8825</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8825">https://www.rfc-editor.org/info/rfc8825</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8826">[RFC8826]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"Security Considerations for WebRTC"</span>, <span class="seriesInfo">RFC 8826</span>, <span class="seriesInfo">DOI 10.17487/RFC8826</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8826">https://www.rfc-editor.org/info/rfc8826</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8829">[RFC8829]</dt>
        <dd>
<span class="refAuthor">Uberti, J.</span><span class="refAuthor">, Jennings, C.</span><span class="refAuthor">, and E. Rescorla, Ed.</span>, <span class="refTitle">"JavaScript Session Establishment Protocol (JSEP)"</span>, <span class="seriesInfo">RFC 8829</span>, <span class="seriesInfo">DOI 10.17487/RFC8829</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8829">https://www.rfc-editor.org/info/rfc8829</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8834">[RFC8834]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span><span class="refAuthor">, Westerlund, M.</span><span class="refAuthor">, and J. Ott</span>, <span class="refTitle">"Media Transport and Use of RTP in WebRTC"</span>, <span class="seriesInfo">RFC 8834</span>, <span class="seriesInfo">DOI 10.17487/RFC8834</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8834">https://www.rfc-editor.org/info/rfc8834</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8844">[RFC8844]</dt>
        <dd>
<span class="refAuthor">Thomson, M.</span><span class="refAuthor"> and E. Rescorla</span>, <span class="refTitle">"Unknown Key-Share Attacks on Uses of TLS with the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 8844</span>, <span class="seriesInfo">DOI 10.17487/RFC8844</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8844">https://www.rfc-editor.org/info/rfc8844</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="webcrypto">[webcrypto]</dt>
        <dd>
<span class="refAuthor">Watson, M.</span>, <span class="refTitle">"Web Cryptography API"</span>, <span class="refContent">W3C Recommendation</span>, <time class="refDate" datetime="2017-01-26">26 January 2017</time>, <span>&lt;<a href="https://www.w3.org/TR/2017/REC-WebCryptoAPI-20170126/">https://www.w3.org/TR/2017/REC-WebCryptoAPI-20170126/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="webrtc-api">[webrtc-api]</dt>
      <dd>
<span class="refAuthor">Jennings, C.</span><span class="refAuthor">, Boström, H.</span><span class="refAuthor">, and J-I. Bruaroey</span>, <span class="refTitle">"WebRTC 1.0: Real-time Communication Between Browsers"</span>, <span class="refContent">W3C Proposed Recommendation</span>, <span>&lt;<a href="https://www.w3.org/TR/webrtc/">https://www.w3.org/TR/webrtc/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="fetch">[fetch]</dt>
        <dd>
<span class="refAuthor">van Kesteren, A.</span>, <span class="refTitle">"Fetch"</span>, <span>&lt;<a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3261">[RFC3261]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span><span class="refAuthor">, Schulzrinne, H.</span><span class="refAuthor">, Camarillo, G.</span><span class="refAuthor">, Johnston, A.</span><span class="refAuthor">, Peterson, J.</span><span class="refAuthor">, Sparks, R.</span><span class="refAuthor">, Handley, M.</span><span class="refAuthor">, and E. Schooler</span>, <span class="refTitle">"SIP: Session Initiation Protocol"</span>, <span class="seriesInfo">RFC 3261</span>, <span class="seriesInfo">DOI 10.17487/RFC3261</span>, <time class="refDate" datetime="2002-06">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3261">https://www.rfc-editor.org/info/rfc3261</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5705">[RFC5705]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"Keying Material Exporters for Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 5705</span>, <span class="seriesInfo">DOI 10.17487/RFC5705</span>, <time class="refDate" datetime="2010-03">March 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5705">https://www.rfc-editor.org/info/rfc5705</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6120">[RFC6120]</dt>
        <dd>
<span class="refAuthor">Saint-Andre, P.</span>, <span class="refTitle">"Extensible Messaging and Presence Protocol (XMPP): Core"</span>, <span class="seriesInfo">RFC 6120</span>, <span class="seriesInfo">DOI 10.17487/RFC6120</span>, <time class="refDate" datetime="2011-03">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6120">https://www.rfc-editor.org/info/rfc6120</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6265">[RFC6265]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"HTTP State Management Mechanism"</span>, <span class="seriesInfo">RFC 6265</span>, <span class="seriesInfo">DOI 10.17487/RFC6265</span>, <time class="refDate" datetime="2011-04">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6265">https://www.rfc-editor.org/info/rfc6265</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6455">[RFC6455]</dt>
        <dd>
<span class="refAuthor">Fette, I.</span><span class="refAuthor"> and A. Melnikov</span>, <span class="refTitle">"The WebSocket Protocol"</span>, <span class="seriesInfo">RFC 6455</span>, <span class="seriesInfo">DOI 10.17487/RFC6455</span>, <time class="refDate" datetime="2011-12">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6455">https://www.rfc-editor.org/info/rfc6455</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6943">[RFC6943]</dt>
        <dd>
<span class="refAuthor">Thaler, D., Ed.</span>, <span class="refTitle">"Issues in Identifier Comparison for Security Purposes"</span>, <span class="seriesInfo">RFC 6943</span>, <span class="seriesInfo">DOI 10.17487/RFC6943</span>, <time class="refDate" datetime="2013-05">May 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6943">https://www.rfc-editor.org/info/rfc6943</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7617">[RFC7617]</dt>
        <dd>
<span class="refAuthor">Reschke, J.</span>, <span class="refTitle">"The 'Basic' HTTP Authentication Scheme"</span>, <span class="seriesInfo">RFC 7617</span>, <span class="seriesInfo">DOI 10.17487/RFC7617</span>, <time class="refDate" datetime="2015-09">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7617">https://www.rfc-editor.org/info/rfc7617</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8224">[RFC8224]</dt>
        <dd>
<span class="refAuthor">Peterson, J.</span><span class="refAuthor">, Jennings, C.</span><span class="refAuthor">, Rescorla, E.</span><span class="refAuthor">, and C. Wendt</span>, <span class="refTitle">"Authenticated Identity Management in the Session Initiation Protocol (SIP)"</span>, <span class="seriesInfo">RFC 8224</span>, <span class="seriesInfo">DOI 10.17487/RFC8224</span>, <time class="refDate" datetime="2018-02">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8224">https://www.rfc-editor.org/info/rfc8224</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8828">[RFC8828]</dt>
        <dd>
<span class="refAuthor">Uberti, J.</span><span class="refAuthor"> and G. Shieh</span>, <span class="refTitle">"WebRTC IP Address Handling Requirements"</span>, <span class="seriesInfo">RFC 8828</span>, <span class="seriesInfo">DOI 10.17487/RFC8828</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8828">https://www.rfc-editor.org/info/rfc8828</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-tls-dtls13">[TLS-DTLS13]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span><span class="refAuthor">, Tschofenig, H.</span><span class="refAuthor">, and N. Modadugu</span>, <span class="refTitle">"The Datagram Transport Layer Security (DTLS) Protocol Version 1.3"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tls-dtls13-39</span>, <time class="refDate" datetime="2020-11-02">2 November 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-tls-dtls13-39">https://tools.ietf.org/html/draft-ietf-tls-dtls13-39</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">
        <span class="contact-name">Bernard Aboba</span>, <span class="contact-name">Harald         Alvestrand</span>, <span class="contact-name">Richard Barnes</span>, <span class="contact-name">Dan Druta</span>, <span class="contact-name">Cullen         Jennings</span>, <span class="contact-name">Hadriel Kaplan</span>, <span class="contact-name">Matthew Kaufman</span>, <span class="contact-name">Jim McEachern</span>,
        <span class="contact-name">Martin Thomson</span>, <span class="contact-name">Magnus         Westerlund</span>.  <span class="contact-name">Matthew Kaufman</span> provided the UI material in
        <a class="xref" href="#sec.proposal.comsec">Section 6.5</a>. <span class="contact-name">Christer Holmberg</span> provided
        the initial version of <a class="xref" href="#sec.sdp-id-attr-oa">Section 5.1</a>.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-address">
<a class="section-name selfRef" href="#name-authors-address">Author's Address</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Eric Rescorla</span></div>
<div class="left" dir="auto"><span class="org">Mozilla</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ekr@rtfm.com">ekr@rtfm.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>