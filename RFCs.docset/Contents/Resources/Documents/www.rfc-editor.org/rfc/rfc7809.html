<html><head></head><body><pre>Internet Engineering Task Force (IETF)                          C. Daboo
Request for Comments: 7809                                         Apple
Updates: <a href="./rfc4791">4791</a>                                                 March 2016
Category: Standards Track
ISSN: 2070-1721


   <span class="h1">Calendaring Extensions to WebDAV (CalDAV): Time Zones by Reference</span>

Abstract

   This document defines an update to the Calendaring Extensions to
   WebDAV (CalDAV) calendar access protocol (<a href="./rfc4791">RFC 4791</a>) to allow clients
   and servers to exchange iCalendar data without the need to send full
   time zone data.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7809">http://www.rfc-editor.org/info/rfc7809</a>.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.







<span class="grey">Daboo                        Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Conventions Used in This Document . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Time Zones by Reference . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-3.1">3.1</a>.  New Server Behavior . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  New Client Behavior . . . . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
   <a href="#section-5">5</a>.  New WebDAV Properties . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-5.1">5.1</a>.  CALDAV:timezone-service-set . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-5.2">5.2</a>.  CALDAV:calendar-timezone-id . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-6">6</a>.  XML Element Definitions . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-6.1">6.1</a>.  CALDAV:calendar-query XML Element . . . . . . . . . . . .   <a href="#page-9">9</a>
     <a href="#section-6.2">6.2</a>.  CALDAV:timezone-id XML Element  . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-7">7</a>.  Additional Message Header Fields  . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-7.1">7.1</a>.  CalDAV-Timezones Request Header Field . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-8">8</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-9">9</a>.  Privacy Considerations  . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-10">10</a>. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-10.1">10.1</a>.  CalDAV-Timezones . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-11">11</a>. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-11.1">11.1</a>.  Normative References . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-11.2">11.2</a>.  Informative References . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   The CalDAV [<a href="./rfc4791" title='"Calendaring Extensions to WebDAV (CalDAV)"'>RFC4791</a>] calendar access protocol allows clients to
   access calendar data stored on a server in the iCalendar [<a href="./rfc5545" title='"Internet Calendaring and Scheduling Core Object Specification (iCalendar)"'>RFC5545</a>]
   data format.  In iCalendar, calendar data that uses local time in any
   of its date and/or time values is specified as a date-time value in
   combination with a time zone identifier ("TZID" property parameter).
   The time zone identifier refers to a time zone definition (a
   "VTIMEZONE" component) that has all of the rules required to
   determine local-time UTC offsets for the corresponding time zone.  In
   many cases, these "VTIMEZONE" components can be larger, octet-wise,
   than the events or tasks that make use of them.  However, iCalendar
   currently requires all iCalendar objects ("VCALENDAR" components)
   that refer to a time zone via its identifier to also include the
   corresponding "VTIMEZONE" component.  This leads to inefficiencies in
   the CalDAV protocol because large amounts of "VTIMEZONE" data are
   continuously being exchanged, and for the most part these time zone
   definitions are unchanging.  This is particularly problematic for
   mobile or limited devices, with limited network bandwidth, CPU, and
   energy resources.






<span class="grey">Daboo                        Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   A set of standard time zone definitions are available at the IANA-
   hosted time zone database [<a href="./rfc6557" title='"Procedures for Maintaining the Time Zone Database"'>RFC6557</a>].  That database provides the
   "raw" data for time zone definitions, and those can be converted into
   iCalendar "VTIMEZONE" components for use in iCalendar applications,
   as well as converted into other formats for use by other applications
   (e.g., "zoneinfo" files often found on Unix-based operating systems).
   A new time zone data distribution service protocol [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>] is
   available that allows iCalendar applications to retrieve these
   standard time zone definitions in a timely and accurate fashion,
   instead of relying on possibly infrequent system updates of time zone
   data that frequently result in mismatched calendar data and thus
   missed meetings between calendar users.  Another benefit of the time
   zone data distribution service is that it provides a single
   "reference" for standard time zone data that CalDAV clients and
   servers can make use of to "agree" on standard time zone definitions,
   and thus eliminate the need to exchange the data for those.

   This specification defines a new mode of operation for CalDAV clients
   and servers that allows them to exchange iCalendar data without the
   need to send "VTIMEZONE" components for known, standard time zone
   definitions.  This can significantly reduce the amount of data that
   needs to be sent between client and server, giving rise to
   performance and efficiency improvements for each of them.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Conventions%20Used%20in%20This%20Document"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

   Other notations used in this memo are as in [<a href="./rfc4791" title='"Calendaring Extensions to WebDAV (CalDAV)"'>RFC4791</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Time%20Zones%20by%20Reference"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Time Zones by Reference</span>

   Note that this specification only defines changes to iCalendar data
   sent or received via the CalDAV protocol (both [<a href="./rfc4791" title='"Calendaring Extensions to WebDAV (CalDAV)"'>RFC4791</a>] and
   [<a href="./rfc6638" title='"Scheduling Extensions to CalDAV"'>RFC6638</a>], and extensions).  These changes do not apply to other
   means of exchanging calendar data, such as scheduling mechanisms
   based on the iCalendar Transport-Independent Interoperability
   Protocol (iTIP) [<a href="./rfc5546" title='"iCalendar Transport-Independent Interoperability Protocol (iTIP)"'>RFC5546</a>], e.g., the iCalendar Message-Based
   Interoperability Protocol (iMIP) [<a href="./rfc6047" title='"iCalendar Message-Based Interoperability Protocol (iMIP)"'>RFC6047</a>], or other methods.









<span class="grey">Daboo                        Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20New%20Server%20Behavior"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  New Server Behavior</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.1.%20%20Server%20Advertised%20Capability"></a><a class="selflink" href="#section-3.1.1" id="section-3.1.1">3.1.1</a>.  Server Advertised Capability</span>

   A server that supports this specification MUST include "calendar-no-
   timezone" as a field in the DAV response header field from an
   "OPTIONS" request on a calendar home collection (see <a href="./rfc4791#section-6.2.1">Section 6.2.1 of
   [RFC4791]</a>) or calendar collection (see <a href="./rfc4791#section-4.2">Section 4.2 of [RFC4791]</a>).
   Clients MUST check for the presence of that field in the DAV response
   header field before changing their behavior as per <a href="#section-4">Section 4</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.2.%20%20Associated%20Time%20Zone%20Data%20Distribution%20Service"></a><a class="selflink" href="#section-3.1.2" id="section-3.1.2">3.1.2</a>.  Associated Time Zone Data Distribution Service</span>

   A CalDAV server supporting this specification MUST have one or more
   associated time zone distribution services [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>] that provide
   data for the set of time zones known to the server and expected to be
   used by clients.  A CalDAV server advertises the set of time zone
   distribution services it makes use of via a CALDAV:timezone-service-
   set WebDAV property (see <a href="#section-5.1">Section 5.1</a>) defined on calendar home
   collections.  Clients can use the time zone data distribution
   services listed in this property to fetch current time zone
   definitions for the time zone identifiers in iCalendar data retrieved
   from the server.  This allows clients to keep their "built-in" time
   zone definitions up to date.  It also allows clients to use an "on-
   demand" model for populating their local time zone definition cache,
   only fetching a time zone definition when it is first seen in
   calendar data, potentially allowing for savings on storage space by
   eliminating the need to store time zone data that is not currently
   being used.

   When making use of the time zone data distribution services
   advertised by a CalDAV server, clients MUST follow all the
   requirements of the time zone data distribution service protocol
   [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>], taking care to refresh time zone data in a timely fashion.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.3.%20%20Time%20Zones%20in%20CalDAV%20Responses"></a><a class="selflink" href="#section-3.1.3" id="section-3.1.3">3.1.3</a>.  Time Zones in CalDAV Responses</span>

   Servers MUST support the HTTP "CalDAV-Timezones" request header field
   (see <a href="#section-7.1">Section 7.1</a>).  If the "CalDAV-Timezones" request header field
   has the value "T" on any HTTP request that returns iCalendar data,
   then the server MUST include all the appropriate "VTIMEZONE"
   components in the iCalendar data (all the ones that are referenced by
   "TZID" property parameters).  If the "CalDAV-Timezones" request
   header field has the value "F" on any HTTP request that returns
   iCalendar data, then the server MUST NOT return any "VTIMEZONE"
   components if the time zone identifier matches one provided by any of
   the advertised time zone distribution servers (see <a href="#section-3.1.2">Section 3.1.2</a>).
   However, the server MUST return the appropriate "VTIMEZONE" component



<span class="grey">Daboo                        Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   for each time zone with an identifier not available on the advertised
   time zone distribution servers.  This behavior applies to all HTTP
   requests on CalDAV resources that return iCalendar data either
   directly (such as a "GET" request on a calendar object resource), or
   embedded in a "structured" response such as a DAV:multistatus
   returned by a "REPORT" or "PROPFIND" request.

   Observation and experiments have shown that, in the vast majority of
   cases, CalDAV clients have typically ignored time zone definitions in
   data received from servers, and instead make use of their own "built-
   in" definitions for the corresponding time zone identifier.  This
   means that it is reasonable for CalDAV servers to unilaterally decide
   not to send "VTIMEZONE" components for standard time zones that
   clients are expected to have "built-in" (i.e., IANA time zones).
   Thus, in the absence of a "CalDAV-Timezones" request header field,
   servers advertising the "calendar-no-timezone" capability MAY opt to
   not send standard "VTIMEZONE" components.  Servers that do that will
   need to provide an administrator configuration setting to override
   the new default behavior based on client "User-Agent" request header
   field values, or other suitable means of identifying the client
   software in use.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.4.%20%20Time%20Zones%20in%20CalDAV%20Requests"></a><a class="selflink" href="#section-3.1.4" id="section-3.1.4">3.1.4</a>.  Time Zones in CalDAV Requests</span>

   In addition to servers not sending time zone definitions to clients
   in iCalendar data, this specification also allows clients to not
   include time zone definitions when sending iCalendar data to the
   server, as per <a href="#section-4">Section 4</a>.  This behavior applies to all HTTP requests
   on CalDAV resources that include iCalendar data either directly in
   the request body (such as a "PUT" request on a calendar object
   resource) or embedded in a "structured" request body such as a one
   used by a "PROPPATCH" request.

   Note that, as per <a href="#section-4">Section 4</a>, clients might send time zone definitions
   for time zones that are not advertised by any of the time zone
   services associated with the server.  In that case, servers have
   various choices:

   1.  Servers can preserve the original time zone definitions in the
       iCalendar data sent by the client, so that those can be returned
       to that client or other clients who subsequently request
       iCalendar data.

   2.  Servers can refuse to accept any unknown/nonstandard time zones
       -- in which case, they MUST reject the HTTP request containing
       such data using a WebDAV precondition code of
       CALDAV:valid-timezone.




<span class="grey">Daboo                        Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   3.  Servers can, with appropriate knowledge, map the unknown/
       nonstandard time zone to a standard time zone definition that
       accurately matches the one supplied by the client.  In doing so,
       servers will need to rewrite the iCalendar data to make use of
       the new standard time zone identifier chosen by the mapping
       procedure.  Any subsequent request to fetch the calendar data
       would see the new time zone identifier in the calendar data.
       Note there is one important situation where this remapping is not
       appropriate: an attendee's copy of an event.  In that case, the
       original time zone definition needs to be preserved as the
       organizer's calendar user agent will expect to see that in any
       iTIP [<a href="./rfc5546" title='"iCalendar Transport-Independent Interoperability Protocol (iTIP)"'>RFC5546</a>] replies sent by the attendee.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.5.%20%20Support%20of%20Time%20Zone%20Identifiers%20in%20WebDAV%20Properties"></a><a class="selflink" href="#section-3.1.5" id="section-3.1.5">3.1.5</a>.  Support of Time Zone Identifiers in WebDAV Properties</span>

   CalDAV defines a CALDAV:calendar-timezone WebDAV property that is
   used by clients to set a default time zone for the server to use when
   doing time-based queries on calendar data (see <a href="./rfc4791#section-5.3.2">Section 5.3.2 of
   [RFC4791]</a>).  The content of that WebDAV property is an iCalendar
   "VTIMEZONE" component.  This specification defines a new
   CALDAV:calendar-timezone-id WebDAV property that allows the default
   time zone to be set via its time zone identifier, rather than
   providing the full "VTIMEZONE" component (see <a href="#section-5.2">Section 5.2</a>).  This
   WebDAV property MUST be present on all resources that also support
   the CALDAV:calendar-timezone WebDAV property.  Its value MUST match
   the value of the "TZID" iCalendar property in the "VTIMEZONE"
   component in the CALDAV:calendar-timezone WebDAV property on the same
   resource.  The server MUST accept clients that set either the
   CALDAV:calendar-timezone or the CALDAV:calendar-timezone-id, and it
   MUST adjust the value of the alternate property to reflect any
   changes.  That is, if a client sets the CALDAV:calendar-timezone-id
   WebDAV property value to "America/New_York", then the server will
   return the full "VTIMEZONE" data for that time zone in the
   CALDAV:calendar-timezone WebDAV property.

   If a client attempts to update the CALDAV:calendar-timezone-id with a
   value that does not correspond to a time zone that is known to the
   server, the server MUST reject the property update using a
   CALDAV:valid-timezone pre-condition error.  In such cases, clients
   MAY repeat the request using the CALDAV:calendar-timezone instead,
   and provide the full iCalendar data for the time zone being set.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.6.%20%20Support%20of%20Time%20Zone%20Identifiers%20in%20CALDAV%3Acalendar-query%20REPORT"></a><a class="selflink" href="#section-3.1.6" id="section-3.1.6">3.1.6</a>.  Support of Time Zone Identifiers in CALDAV:calendar-query REPORT</span>

   CalDAV calendar query reports support a CALDAV:timezone XML element
   that is used by clients to set a specific time zone for the server to
   use when doing time-based queries on calendar data (see Sections <a href="#section-7.3">7.3</a>
   and 9.8 of [<a href="./rfc4791" title='"Calendaring Extensions to WebDAV (CalDAV)"'>RFC4791</a>]).  The content of that XML element is an



<span class="grey">Daboo                        Standards Track                    [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   iCalendar "VTIMEZONE" component.  This specification defines a new
   CALDAV:timezone-id XML element that can be used as an alternative to
   the CALDAV:timezone XML element; it allows a specific time zone to be
   set via its time zone identifier, rather than providing the full
   "VTIMEZONE" component (see <a href="#section-6.2">Section 6.2</a>).  Servers MUST support a
   client's ability to provide a time zone identifier for use in a
   calendar query "REPORT" using this new element.

   If a client attempts use of a CALDAV:timezone-id XML element with a
   value that does not correspond to a time zone that is known to the
   server, the server MUST reject the request with a CALDAV:valid-
   timezone precondition error.  In such cases, clients MAY repeat the
   request using the CALDAV:timezone XML element instead, and provide
   the full iCalendar data for the time zone being used.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20New%20Client%20Behavior"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  New Client Behavior</span>

   When a server advertises the "calendar-no-timezone" field in a DAV
   response header field (as per <a href="#section-3.1.1">Section 3.1.1</a>):

   1.  Clients SHOULD include an HTTP "CalDAV-Timezones" request header
       field with a value of "F" to ensure that the CalDAV server does
       not include "VTIMEZONE" components in any iCalendar data returned
       in a response (see <a href="#section-3.1.3">Section 3.1.3</a>), for those time zones whose
       identifier is one provided by any of the advertised time zone
       distribution servers (see <a href="#section-3.1.2">Section 3.1.2</a>).  In this case, clients
       will have to retrieve the missing standard time zone definitions
       either from their own cache of standard time zones or from the
       set of time zone distribution servers advertised by the CalDAV
       server (see <a href="#section-3.1.2">Section 3.1.2</a>).

   2.  Clients can include an HTTP "CalDAV-Timezones" request header
       field with a value of "T" to ensure that the CalDAV server does
       include all "VTIMEZONE" components in any iCalendar data returned
       in a response (see <a href="#section-3.1.3">Section 3.1.3</a>).

   3.  Clients can expect servers not to include standard time zone
       definitions in any iCalendar data they receive from the server,
       if there is no "CalDAV-Timezones" request header field in the
       HTTP request.  Clients MUST retrieve standard time zone
       definitions either from its own cache of standard time zones or
       from the set of time zone distribution servers advertised by the
       CalDAV server (see <a href="#section-3.1.2">Section 3.1.2</a>).








<span class="grey">Daboo                        Standards Track                    [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   4.  Clients SHOULD remove standard time zone definitions from
       iCalendar data they send to the server, provided the
       corresponding time zone identifier is one available on any of the
       server's advertised time zone distribution servers (see
       <a href="#section-3.1.2">Section 3.1.2</a>).

   5.  Clients MUST send time zone definitions in iCalendar data for any
       time zone identifiers not available via any of the server's
       advertised time zone distribution servers.  Clients MUST be
       prepared for the server to reject such data or map the time zone
       to one in the set of standard time zones provided by the server's
       associated time zone services (as per <a href="#section-3.1.4">Section 3.1.4</a>).

   6.  Clients SHOULD make use of the CALDAV:calendar-timezone-id WebDAV
       property (see <a href="#section-3.1.5">Section 3.1.5</a>) and CalDAV:timezone-id XML element
       (see <a href="#section-3.1.6">Section 3.1.6</a>) for specifying default and specific time
       zones to use in calendar queries executed by the server.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20New%20WebDAV%20Properties"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  New WebDAV Properties</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.%20%20CALDAV%3Atimezone-service-set"></a><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  CALDAV:timezone-service-set</span>

   Name:  timezone-service-set

   Namespace:  urn:ietf:params:xml:ns:caldav

   Purpose:  Specifies one or more time zone data distribution servers
      being used by the CalDAV server to provide standard time zone
      data.

   Conformance:  This property SHOULD be defined on CalDAV calendar home
      collection resources.  If defined, it SHOULD NOT be returned by a
      "PROPFIND" DAV:allprop request (as defined in <a href="./rfc4918#section-14.2">Section 14.2 of
      [RFC4918]</a>).

   Description:  The CALDAV:timezone-service-set property lists one or
      more time zone data distribution servers that the CalDAV server is
      using to provide its set of time zone data.  See <a href="#section-3.1.2">Section 3.1.2</a> for
      more details.

   Definition:

   &lt;!ELEMENT timezone-service-set (DAV:href+)&gt;
   DAV:href value: URI of a time zone data distribution service
   as defined by this specification.






<span class="grey">Daboo                        Standards Track                    [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   Example:

   &lt;C:timezone-service-set
       xmlns:D="DAV:"
       xmlns:C="urn:ietf:params:xml:ns:caldav"&gt;
     &lt;D:href&gt;https://timezones.example.com&lt;/D:href&gt;
   &lt;/C:timezone-service-set&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.%20%20CALDAV%3Acalendar-timezone-id"></a><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  CALDAV:calendar-timezone-id</span>

   Name:  calendar-timezone-id

   Namespace:  urn:ietf:params:xml:ns:caldav

   Purpose:  Specifies a time zone identifier for a calendar collection.

   Conformance:  This property SHOULD be defined on all resources where
      the CALDAV:calendar-timezone property is also defined.  If
      defined, it SHOULD NOT be returned by a "PROPFIND" DAV:allprop
      request (as defined in <a href="./rfc4918#section-14.2">Section 14.2 of [RFC4918]</a>).

   Description:  The CALDAV:calendar-timezone-id property is used as an
      alternative to the CALDAV:calendar-timezone property (see
      <a href="./rfc4791#section-5.3.2">Section 5.3.2 of [RFC4791]</a>).  It allows clients to set the default
      time zone using only a time zone identifier.  It also indicates to
      the client the time zone identifier of the current default time
      zone.  See <a href="#section-3.1.5">Section 3.1.5</a> for more details.

   Definition:

   &lt;!ELEMENT calendar-timezone-id (#PCDATA)&gt;
   PCDATA value: a time zone identifier.

   Example:

   &lt;C:calendar-timezone-id
       xmlns:C="urn:ietf:params:xml:ns:caldav"&gt;US-Eastern&lt;
   /C:calendar-timezone-id&gt;

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20XML%20Element%20Definitions"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  XML Element Definitions</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.1.%20%20CALDAV%3Acalendar-query%20XML%20Element"></a><a class="selflink" href="#section-6.1" id="section-6.1">6.1</a>.  CALDAV:calendar-query XML Element</span>

   The CALDAV:calendar-query XML element, defined in <a href="./rfc4791#section-9.5">Section 9.5 of
   [RFC4791]</a>, is modified to allow use of the CALDAV:timezone-id XML
   element as follows.





<span class="grey">Daboo                        Standards Track                    [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   Definition:

   &lt;!ELEMENT calendar-query ((DAV:allprop |
                              DAV:propname |
                              DAV:prop)?, filter,
                              (timezone | timezone-id)?)&gt;

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.2.%20%20CALDAV%3Atimezone-id%20XML%20Element"></a><a class="selflink" href="#section-6.2" id="section-6.2">6.2</a>.  CALDAV:timezone-id XML Element</span>

   Name:  timezone-id

   Namespace:  urn:ietf:params:xml:ns:caldav

   Purpose:  Specifies the time zone identifier for a time zone
      component to use when determining the results of a report.

   Description:  The CALDAV:timezone-id XML element is used as an
      alternative to the CALDAV:timezone XML element (see <a href="./rfc4791#section-9.8">Section 9.8 of
      [RFC4791]</a>) in calendar query reports, to allow a client to specify
      a time zone using a time zone identifier rather than providing the
      full iCalendar time zone data.  See <a href="#section-3.1.6">Section 3.1.6</a> for more
      details.

   Definition:

   &lt;!ELEMENT timezone-id (#PCDATA)&gt;
   PCDATA value: a time zone identifier.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20Additional%20Message%20Header%20Fields"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  Additional Message Header Fields</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.1.%20%20CalDAV-Timezones%20Request%20Header%20Field"></a><a class="selflink" href="#section-7.1" id="section-7.1">7.1</a>.  CalDAV-Timezones Request Header Field</span>

   The "CalDAV-Timezones" request header field provides a way for a
   client to indicate to the server whether it wants "VTIMEZONE"
   components returned in any iCalendar data that is part of the HTTP
   response.  The value "T" indicates that the client wants time zone
   data returned; the value "F" indicates that it does not.

   CalDAV-Timezones = "T" / "F"

   Example:

   CalDAV-Timezones: F








<span class="grey">Daboo                        Standards Track                   [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20Security%20Considerations"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  Security Considerations</span>

   This specifications adds time zone data distribution service
   [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>] servers into the overall calendaring and scheduling client/
   server architecture, as a critical component, and thus adds a new
   vector of attack against such systems.  As such, administrators of
   CalDAV servers SHOULD ensure that any advertised time zone
   distribution servers are protected by a level of security
   commensurate with all the other components in the system.

   Besides the above point, this specification does not introduce any
   new security concerns beyond those addressed in CalDAV [<a href="./rfc4791" title='"Calendaring Extensions to WebDAV (CalDAV)"'>RFC4791</a>],
   iCalendar [<a href="./rfc5545" title='"Internet Calendaring and Scheduling Core Object Specification (iCalendar)"'>RFC5545</a>], and the time zone data distribution service
   [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Privacy%20Considerations"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Privacy Considerations</span>

   The privacy recommendations in <a href="#section-9">Section 9</a> of the time zone data
   distribution service specification [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>] SHOULD be used to ensure
   that details of clients' interactions with CalDAV servers are not
   exposed to potential network observers.  Note that since events can
   be delivered to a calendar user from an outside source (e.g., using
   iTIP [<a href="./rfc5546" title='"iCalendar Transport-Independent Interoperability Protocol (iTIP)"'>RFC5546</a>]), and an attacker could create a calendar event with,
   e.g., a time zone identifier that is fake or rarely used and that
   could be used to monitor the calendar user's activity and interaction
   with others, this specification increases the importance of using the
   mitigations of privacy issues discussed in [<a href="./rfc7808" title='"Time Zone Data Distribution Service"'>RFC7808</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-10" id="section-10">10</a>.  IANA Considerations</span>

   The message header field below has been added to the Permanent
   Message Header Field Registry (see [<a href="./rfc3864" title='"Registration Procedures for Message Header Fields"'>RFC3864</a>]).

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.1.%20%20CalDAV-Timezones"></a><a class="selflink" href="#section-10.1" id="section-10.1">10.1</a>.  CalDAV-Timezones</span>

   Header field name: CalDAV-Timezones

   Applicable protocol: http

   Status: standard

   Author/Change controller: IETF

   Specification document(s): this document (<a href="#section-7.1">Section 7.1</a>)

   Related information: none





<span class="grey">Daboo                        Standards Track                   [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.%20%20References"></a><a class="selflink" href="#section-11" id="section-11">11</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.1.%20%20Normative%20References"></a><a class="selflink" href="#section-11.1" id="section-11.1">11.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3864">RFC3864</a>]  Klyne, G., Nottingham, M., and J. Mogul, "Registration
              Procedures for Message Header Fields", <a href="https://www.rfc-editor.org/bcp/bcp90">BCP 90</a>, <a href="./rfc3864">RFC 3864</a>,
              DOI 10.17487/RFC3864, September 2004,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3864">http://www.rfc-editor.org/info/rfc3864</a>&gt;.

   [<a id="ref-RFC4791">RFC4791</a>]  Daboo, C., Desruisseaux, B., and L. Dusseault,
              "Calendaring Extensions to WebDAV (CalDAV)", <a href="./rfc4791">RFC 4791</a>,
              DOI 10.17487/RFC4791, March 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4791">http://www.rfc-editor.org/info/rfc4791</a>&gt;.

   [<a id="ref-RFC4918">RFC4918</a>]  Dusseault, L., Ed., "HTTP Extensions for Web Distributed
              Authoring and Versioning (WebDAV)", <a href="./rfc4918">RFC 4918</a>,
              DOI 10.17487/RFC4918, June 2007,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4918">http://www.rfc-editor.org/info/rfc4918</a>&gt;.

   [<a id="ref-RFC5545">RFC5545</a>]  Desruisseaux, B., Ed., "Internet Calendaring and
              Scheduling Core Object Specification (iCalendar)",
              <a href="./rfc5545">RFC 5545</a>, DOI 10.17487/RFC5545, September 2009,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5545">http://www.rfc-editor.org/info/rfc5545</a>&gt;.

   [<a id="ref-RFC6638">RFC6638</a>]  Daboo, C. and B. Desruisseaux, "Scheduling Extensions to
              CalDAV", <a href="./rfc6638">RFC 6638</a>, DOI 10.17487/RFC6638, June 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6638">http://www.rfc-editor.org/info/rfc6638</a>&gt;.

   [<a id="ref-RFC7808">RFC7808</a>]  Douglass, M. and C. Daboo, "Time Zone Data Distribution
              Service", <a href="./rfc7808">RFC 7808</a>, DOI 10.17487/RFC7808, March 2016,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7808">http://www.rfc-editor.org/info/rfc7808</a>&gt;.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.2.%20%20Informative%20References"></a><a class="selflink" href="#section-11.2" id="section-11.2">11.2</a>.  Informative References</span>

   [<a id="ref-RFC5546">RFC5546</a>]  Daboo, C., Ed., "iCalendar Transport-Independent
              Interoperability Protocol (iTIP)", <a href="./rfc5546">RFC 5546</a>,
              DOI 10.17487/RFC5546, December 2009,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5546">http://www.rfc-editor.org/info/rfc5546</a>&gt;.

   [<a id="ref-RFC6047">RFC6047</a>]  Melnikov, A., Ed., "iCalendar Message-Based
              Interoperability Protocol (iMIP)", <a href="./rfc6047">RFC 6047</a>,
              DOI 10.17487/RFC6047, December 2010,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6047">http://www.rfc-editor.org/info/rfc6047</a>&gt;.



<span class="grey">Daboo                        Standards Track                   [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc7809">RFC 7809</a>               CalDAV Time Zone Extension             March 2016</span>


   [<a id="ref-RFC6557">RFC6557</a>]  Lear, E. and P. Eggert, "Procedures for Maintaining the
              Time Zone Database", <a href="https://www.rfc-editor.org/bcp/bcp175">BCP 175</a>, <a href="./rfc6557">RFC 6557</a>,
              DOI 10.17487/RFC6557, February 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6557">http://www.rfc-editor.org/info/rfc6557</a>&gt;.

Acknowledgments

   Thanks to Mike Douglass, Andrew McMillan, and Ken Murchison.  This
   specification came about via discussions at the Calendaring and
   Scheduling Consortium.

Author's Address

   Cyrus Daboo
   Apple Inc.
   1 Infinite Loop
   Cupertino, CA   95014
   United States

   Email: cyrus@daboo.name
   URI:   <a href="http://www.apple.com/">http://www.apple.com/</a>






























Daboo                        Standards Track                   [Page 13]
</pre>
</body></html>