<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8926: Geneve: Generic Network Virtualization Encapsulation</title>
<meta content="Jesse Gross" name="author"/>
<meta content="Ilango Ganga" name="author"/>
<meta content="T. Sridhar" name="author"/>
<meta content="
       
   Network virtualization involves the cooperation of devices with a
   wide variety of capabilities such as software and hardware tunnel
   endpoints, transit fabrics, and centralized control clusters.  As a
   result of their role in tying together different elements of the
   system, the requirements on tunnels are influenced by all of these
   components.  Therefore, flexibility is the most important aspect of a
   tunneling protocol if it is to keep pace with the evolution of technology.
   This document describes Geneve, an encapsulation protocol designed to
   recognize and accommodate these changing capabilities and needs. 
    " name="description"/>
<meta content="xml2rfc 3.4.0" name="generator"/>
<meta content="overlay" name="keyword"/>
<meta content="tunnel" name="keyword"/>
<meta content="extensible" name="keyword"/>
<meta content="variable" name="keyword"/>
<meta content="metadata" name="keyword"/>
<meta content="options" name="keyword"/>
<meta content="endpoint" name="keyword"/>
<meta content="transit" name="keyword"/>
<meta content="8926" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.4.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8926.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8926" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-nvo3-geneve-16" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8926</td>
<td class="center">Geneve Protocol</td>
<td class="right">November 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Gross, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8926">8926</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-11">November 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Gross, <span class="editor">Ed.</span>
</div>
</div>
<div class="author">
      <div class="author-name">I. Ganga, <span class="editor">Ed.</span>
</div>
<div class="org">Intel</div>
</div>
<div class="author">
      <div class="author-name">T. Sridhar, <span class="editor">Ed.</span>
</div>
<div class="org">VMware</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8926</h1>
<h1 id="title">Geneve: Generic Network Virtualization Encapsulation</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
   Network virtualization involves the cooperation of devices with a
   wide variety of capabilities such as software and hardware tunnel
   endpoints, transit fabrics, and centralized control clusters.  As a
   result of their role in tying together different elements of the
   system, the requirements on tunnels are influenced by all of these
   components.  Therefore, flexibility is the most important aspect of a
   tunneling protocol if it is to keep pace with the evolution of technology.
   This document describes Geneve, an encapsulation protocol designed to
   recognize and accommodate these changing capabilities and needs.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8926">https://www.rfc-editor.org/info/rfc8926</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.1.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="xref" href="#section-1.2">1.2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.1.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-design-requirements">Design Requirements</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-control-plane-independence">Control Plane Independence</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-data-plane-extensibility">Data Plane Extensibility</a><a class="pilcrow" href="#section-toc.1-1.2.2.2.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1"><a class="xref" href="#section-2.2.1">2.2.1</a>.  <a class="xref" href="#name-efficient-implementation">Efficient Implementation</a><a class="pilcrow" href="#section-toc.1-1.2.2.2.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="xref" href="#section-2.3">2.3</a>.  <a class="xref" href="#name-use-of-standard-ip-fabrics">Use of Standard IP Fabrics</a><a class="pilcrow" href="#section-toc.1-1.2.2.3.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-geneve-encapsulation-detail">Geneve Encapsulation Details</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-geneve-packet-format-over-i">Geneve Packet Format over IPv4</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-geneve-packet-format-over-ipv">Geneve Packet Format over IPv6</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-udp-header">UDP Header</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-tunnel-header-fields">Tunnel Header Fields</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a class="xref" href="#section-3.5">3.5</a>.  <a class="xref" href="#name-tunnel-options">Tunnel Options</a><a class="pilcrow" href="#section-toc.1-1.3.2.5.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.3.2.5.2.1">
                    <p id="section-toc.1-1.3.2.5.2.1.1"><a class="xref" href="#section-3.5.1">3.5.1</a>.  <a class="xref" href="#name-options-processing">Options Processing</a><a class="pilcrow" href="#section-toc.1-1.3.2.5.2.1.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-implementation-and-deployme">Implementation and Deployment Considerations</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-applicability-statement">Applicability Statement</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-congestion-control-function">Congestion-Control Functionality</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-udp-checksum">UDP Checksum</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a class="xref" href="#section-4.3.1">4.3.1</a>.  <a class="xref" href="#name-zero-udp-checksum-handling-">Zero UDP Checksum Handling with IPv6</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-encapsulation-of-geneve-in-">Encapsulation of Geneve in IP</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a class="xref" href="#section-4.4.1">4.4.1</a>.  <a class="xref" href="#name-ip-fragmentation">IP Fragmentation</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.2.1.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a class="xref" href="#section-4.4.2">4.4.2</a>.  <a class="xref" href="#name-dscp-ecn-and-ttl">DSCP, ECN, and TTL</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.2.2.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a class="xref" href="#section-4.4.3">4.4.3</a>.  <a class="xref" href="#name-broadcast-and-multicast">Broadcast and Multicast</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.2.3.1">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.4.2.4">
                    <p id="section-toc.1-1.4.2.4.2.4.1"><a class="xref" href="#section-4.4.4">4.4.4</a>.  <a class="xref" href="#name-unidirectional-tunnels">Unidirectional Tunnels</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.2.4.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-constraints-on-protocol-fea">Constraints on Protocol Features</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.4.2.5.2.1">
                    <p id="section-toc.1-1.4.2.5.2.1.1"><a class="xref" href="#section-4.5.1">4.5.1</a>.  <a class="xref" href="#name-constraints-on-options">Constraints on Options</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-nic-offloads">NIC Offloads</a><a class="pilcrow" href="#section-toc.1-1.4.2.6.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a class="xref" href="#section-4.7">4.7</a>.  <a class="xref" href="#name-inner-vlan-handling">Inner VLAN Handling</a><a class="pilcrow" href="#section-toc.1-1.4.2.7.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-transition-considerations">Transition Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-data-confidentiality">Data Confidentiality</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a class="xref" href="#section-6.1.1">6.1.1</a>.  <a class="xref" href="#name-inter-data-center-traffic">Inter-Data Center Traffic</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-data-integrity">Data Integrity</a><a class="pilcrow" href="#section-toc.1-1.6.2.2.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-authentication-of-nve-peers">Authentication of NVE Peers</a><a class="pilcrow" href="#section-toc.1-1.6.2.3.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.  <a class="xref" href="#name-options-interpretation-by-t">Options Interpretation by Transit Devices</a><a class="pilcrow" href="#section-toc.1-1.6.2.4.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="xref" href="#section-6.5">6.5</a>.  <a class="xref" href="#name-multicast-broadcast">Multicast/Broadcast</a><a class="pilcrow" href="#section-toc.1-1.6.2.5.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="xref" href="#section-6.6">6.6</a>.  <a class="xref" href="#name-control-plane-communication">Control Plane Communications</a><a class="pilcrow" href="#section-toc.1-1.6.2.6.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.8.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.8.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-contributors">Contributors</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec-1">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
   Networking has long featured a variety of tunneling, tagging, and
   other encapsulation mechanisms.  However, the advent of network
   virtualization has caused a surge of renewed interest and a
   corresponding increase in the introduction of new protocols.  The
   large number of protocols in this space -- for example, ranging all the way from
   VLANs <span>[<a class="xref" href="#IEEE.802.1Q_2018">IEEE.802.1Q_2018</a>]</span> and MPLS <span>[<a class="xref" href="#RFC3031">RFC3031</a>]</span> through the more recent
   VXLAN (Virtual eXtensible Local Area Network)  <span>[<a class="xref" href="#RFC7348">RFC7348</a>]</span>
   and NVGRE (Network Virtualization
   Using Generic Routing Encapsulation) <span>[<a class="xref" href="#RFC7637">RFC7637</a>]</span> -- often
   leads to questions about the need for new encapsulation formats and
   what it is about network virtualization in particular that leads to
   their proliferation. Note that the list of protocols presented above is non-exhaustive.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">
   While many encapsulation protocols seek to simply partition the
   underlay network or bridge two domains, network
   virtualization views the transit network as providing connectivity
   between multiple components of a distributed system.  In many ways,
   this system is similar to a chassis switch with the IP underlay
   network playing the role of the backplane and tunnel endpoints on the
   edge as line cards.  When viewed in this light, the requirements
   placed on the tunneling protocol are significantly different in terms of
   the quantity of metadata necessary and the role of transit nodes.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">
   Work such as "VL2: A Scalable and Flexible Data Center Network" <span>[<a class="xref" href="#VL2">VL2</a>]</span> and "NVO3 Data Plane Requirements" <span>[<a class="xref" href="#I-D.ietf-nvo3-dataplane-requirements">NVO3-DATAPLANE</a>]</span> 
   have described some of the properties that the data plane must have to support network
   virtualization.  However, one additional defining requirement is the
   need to carry metadata (e.g., system state) along with the packet data; 
   example use cases of metadata are noted below. The use of
   some metadata is certainly not a foreign concept -- nearly all
   protocols used for network virtualization have at least 24 bits of identifier
   space as a way to partition between tenants.  This is often described
   as overcoming the limits of 12-bit VLANs; when seen in that
   context or any context where it is a true tenant identifier, 16
   million possible entries is a large number.  However, the reality is
   that the metadata is not exclusively used to identify tenants, and
   encoding other information quickly starts to crowd the space.  In
   fact, when compared to the tags used to exchange metadata between
   line cards on a chassis switch, 24-bit identifiers start to look
   quite small.  There are nearly endless uses for this metadata,
   ranging from storing input port identifiers for simple security policies to
   sending service-based context for advanced middlebox applications 
   that terminate and re-encapsulate Geneve traffic.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
   Existing tunneling protocols have each attempted to solve different
   aspects of these new requirements only to be quickly rendered out of
   date by changing control plane implementations and advancements.
   Furthermore, software and hardware components and controllers all
   have different advantages and rates of evolution -- a fact that should
   be viewed as a benefit, not a liability or limitation.  This document describes Geneve, a protocol that seeks to avoid these problems by
   providing a framework for tunneling for network virtualization rather
   than being prescriptive about the entire system.<a class="pilcrow" href="#section-1-4">¶</a></p>
<div id="sec-1.1">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
   The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
   "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this
   document are to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span>
          <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all
   capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</div>
<div id="sec-1.2">
<section id="section-1.2">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.2-1">
   The Network
   Virtualization over Layer 3 (NVO3) Framework <span>[<a class="xref" href="#RFC7365">RFC7365</a>]</span> defines many of the concepts commonly
   used in network virtualization.  In addition, the following terms are
   specifically meaningful in this document:<a class="pilcrow" href="#section-1.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.2-2">
          <dt id="section-1.2-2.1">Checksum offload:</dt>
          <dd id="section-1.2-2.2" style="margin-left: 1.5em">An optimization implemented by many NICs (Network Interface Controllers)
that enables computation and verification of upper-layer protocol
   checksums in hardware on transmit and receive, respectively.  This
   typically includes IP and TCP/UDP checksums that would otherwise be
   computed by the protocol stack in software.<a class="pilcrow" href="#section-1.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.3">Clos network:</dt>
          <dd id="section-1.2-2.4" style="margin-left: 1.5em">A technique for composing network fabrics larger than
   a single switch while maintaining non-blocking bandwidth across
   connection points.  ECMP is used to divide traffic across the
   multiple links and switches that constitute the fabric.  Sometimes
   termed "leaf and spine" or "fat tree" topologies.<a class="pilcrow" href="#section-1.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.5">ECMP:</dt>
          <dd id="section-1.2-2.6" style="margin-left: 1.5em">Equal Cost Multipath. A routing mechanism for selecting from
   among multiple best next-hop paths by hashing packet headers in order
   to better utilize network bandwidth while avoiding reordering of packets 
   within a flow.<a class="pilcrow" href="#section-1.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.7">Geneve:</dt>
          <dd id="section-1.2-2.8" style="margin-left: 1.5em">Generic Network Virtualization Encapsulation. The tunneling
   protocol described in this document.<a class="pilcrow" href="#section-1.2-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.9">LRO:</dt>
          <dd id="section-1.2-2.10" style="margin-left: 1.5em">Large Receive Offload. The receiver-side equivalent function
of LSO, in which multiple protocol segments (primarily TCP) are coalesced into
 larger data units.<a class="pilcrow" href="#section-1.2-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.11">LSO:</dt>
          <dd id="section-1.2-2.12" style="margin-left: 1.5em"> Large Segmentation Offload. A function provided by many
   commercial NICs that allows data units larger than the MTU to be
   passed to the NIC to improve performance, the NIC being responsible
   for creating smaller segments of a size less than or equal to the MTU
   with correct protocol headers.  When referring specifically to TCP/IP, this
   feature is often known as TSO (TCP Segmentation Offload).<a class="pilcrow" href="#section-1.2-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.13">
   Middlebox:</dt>
          <dd id="section-1.2-2.14" style="margin-left: 1.5em">  In the context of this document, the term "middlebox" refers to network 
   service functions or service interposition appliances that typically implement tunnel endpoint functionality, terminating and re-encapsulating Geneve traffic.<a class="pilcrow" href="#section-1.2-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.15">NIC:</dt>
          <dd id="section-1.2-2.16" style="margin-left: 1.5em">Network Interface Controller. Also called "Network Interface Card" or "Network Adapter".
   A NIC could be part of a tunnel endpoint or transit device and can either
   process or aid in the processing of Geneve packets.<a class="pilcrow" href="#section-1.2-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.17">
   Transit device:</dt>
          <dd id="section-1.2-2.18" style="margin-left: 1.5em"> A forwarding element (e.g., router or switch) along the path of the tunnel
   making up part of the underlay network.  A transit device may be
   capable of understanding the Geneve packet format but does not
   originate or terminate Geneve packets.<a class="pilcrow" href="#section-1.2-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.19">
   Tunnel endpoint:</dt>
          <dd id="section-1.2-2.20" style="margin-left: 1.5em">  A component performing encapsulation and
   decapsulation of packets, such as Ethernet frames or IP datagrams, in
   Geneve headers.  As the ultimate consumer of any tunnel metadata,
   tunnel endpoints have the highest level of requirements for parsing and
   interpreting tunnel headers.  Tunnel endpoints may consist of either
   software or hardware implementations or a combination of the two.
   Tunnel endpoints are frequently a component of a Network Virtualization Edge (NVE)
   but may also be found in middleboxes or other elements making up an NVO3 network.<a class="pilcrow" href="#section-1.2-2.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.21">VM:</dt>
          <dd id="section-1.2-2.22" style="margin-left: 1.5em">Virtual Machine.<a class="pilcrow" href="#section-1.2-2.22">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="sec-2">
<section id="section-2">
      <h2 id="name-design-requirements">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-design-requirements">Design Requirements</a>
      </h2>
<p id="section-2-1">
   Geneve is designed to support network virtualization use cases for data center environments.  In these situations,
   tunnels are typically established to act as a backplane between the
   virtual switches residing in hypervisors, physical switches, or
   middleboxes or other appliances.  An arbitrary IP network can be used
   as an underlay, although Clos networks composed using ECMP links are a
   common choice to provide consistent bisectional bandwidth across all
   connection points. Many of the concepts of network virtualization overlays 
   over IP networks are described in the NVO3 Framework <span>[<a class="xref" href="#RFC7365">RFC7365</a>]</span>.
   <a class="xref" href="#ref-sample-geneve-deployment">Figure 1</a> shows an example of a
   hypervisor, a top-of-rack switch for connectivity to physical servers, and a WAN uplink
   connected using Geneve tunnels over a simplified Clos network.  These
   tunnels are used to encapsulate and forward frames from the attached
   components, such as VMs or physical links.<a class="pilcrow" href="#section-2-1">¶</a></p>
<span id="name-sample-geneve-deployment"></span><div id="ref-sample-geneve-deployment">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-2-2.1">
<pre>  +---------------------+           +-------+  +------+
  | +--+  +-------+---+ |           |Transit|--|Top of|==Physical
  | |VM|--|       |   | | +------+ /|Router |  | Rack |==Servers
  | +--+  |Virtual|NIC|---|Top of|/ +-------+\/+------+
  | +--+  |Switch |   | | | Rack |\ +-------+/\+------+
  | |VM|--|       |   | | +------+ \|Transit|  |Uplink|   WAN
  | +--+  +-------+---+ |           |Router |--|      |=========&gt;
  +---------------------+           +-------+  +------+
         Hypervisor

              ()===================================()
                      Switch-Switch Geneve Tunnels
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-sample-geneve-deployment">Sample Geneve Deployment</a>
        </figcaption></figure>
</div>
<p id="section-2-3">
   To support the needs of network virtualization, the tunneling protocol
   should be able to take advantage of the differing (and evolving)
   capabilities of each type of device in both the underlay and overlay
   networks.  This results in the following requirements being placed on
   the data plane tunneling protocol:<a class="pilcrow" href="#section-2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-4.1">The data plane is generic and extensible enough to support current
      and future control planes.<a class="pilcrow" href="#section-2-4.1">¶</a>
</li>
        <li class="normal" id="section-2-4.2">Tunnel components are efficiently implementable in both hardware
      and software without restricting capabilities to the lowest common
      denominator.<a class="pilcrow" href="#section-2-4.2">¶</a>
</li>
        <li class="normal" id="section-2-4.3">High performance over existing IP fabrics is maintained.<a class="pilcrow" href="#section-2-4.3">¶</a>
</li>
      </ul>
<p id="section-2-5">
   These requirements are described further in the following
   subsections.<a class="pilcrow" href="#section-2-5">¶</a></p>
<div id="sec-2.1">
<section id="section-2.1">
        <h3 id="name-control-plane-independence">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-control-plane-independence">Control Plane Independence</a>
        </h3>
<p id="section-2.1-1">
   Although some protocols for network virtualization have included a
   control plane as part of the tunnel format specification (most
   notably, VXLAN <span>[<a class="xref" href="#RFC7348">RFC7348</a>]</span> prescribed a multicast-learning-based control plane), these specifications have largely been treated
   as describing only the data format.  The VXLAN packet format has
   actually seen a wide variety of control planes built on top of it.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2">
   There is a clear advantage in settling on a data format: most of the
   protocols are only superficially different and there is little
   advantage in duplicating effort.  However, the same cannot be said of
   control planes, which are diverse in very fundamental ways.  The case
   for standardization is also less clear given the wide variety in
   requirements, goals, and deployment scenarios.<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<p id="section-2.1-3">
   As a result of this reality, Geneve is a pure tunnel format
   specification that is capable of fulfilling the needs of many control
   planes by explicitly not selecting any one of them.  This
   simultaneously promotes a shared data format and reduces the
   chance of obsolescence by future control plane
   enhancements.<a class="pilcrow" href="#section-2.1-3">¶</a></p>
</section>
</div>
<div id="sec-2.2">
<section id="section-2.2">
        <h3 id="name-data-plane-extensibility">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-data-plane-extensibility">Data Plane Extensibility</a>
        </h3>
<p id="section-2.2-1">
   Achieving the level of flexibility needed to support current and
   future control planes effectively requires an options infrastructure
   to allow new metadata types to be defined, deployed, and either
   finalized or retired.  Options also allow for differentiation of
   products by encouraging independent development in each vendor's core
   specialty, leading to an overall faster pace of advancement.  By far,
   the most common mechanism for implementing options is the Type-Length-Value (TLV) format.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">
   It should be noted that, while options can be used to support non-wirespeed
   control packets, they are equally important in data packets
   as well for segregating and directing forwarding. (For instance, the
   examples given before regarding input-port-based security policies and
   terminating/re-encapsulating service interposition both require tags
   to be placed on data packets.)  Therefore, while it would be desirable to limit the
   extensibility to only control packets for the purposes of simplifying
   the datapath, that would not satisfy the design requirements.<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<div id="sec-2.2.1">
<section id="section-2.2.1">
          <h4 id="name-efficient-implementation">
<a class="section-number selfRef" href="#section-2.2.1">2.2.1. </a><a class="section-name selfRef" href="#name-efficient-implementation">Efficient Implementation</a>
          </h4>
<p id="section-2.2.1-1">
   There is often a conflict between software flexibility and hardware
   performance that is difficult to resolve.  For a given set of
   functionality, it is obviously desirable to maximize performance.
   However, that does not mean new features that cannot be run at a desired
   speed today should be disallowed.  Therefore, for a protocol to be considered
   efficiently implementable, it is expected to have a set of common capabilities that can
   be reasonably handled across platforms as well as a graceful
   mechanism to handle more advanced features in the appropriate
   situations.<a class="pilcrow" href="#section-2.2.1-1">¶</a></p>
<p id="section-2.2.1-2">
   The use of a variable-length header and options in a protocol often
   raises questions about whether the protocol is truly efficiently
   implementable in hardware.  To answer this question in the context of Geneve, it is
   important to first divide "hardware" into two categories: tunnel
   endpoints and transit devices.<a class="pilcrow" href="#section-2.2.1-2">¶</a></p>
<p id="section-2.2.1-3">
   Tunnel endpoints must be able to parse the variable-length header, including any
   options, and take action.  Since these devices are actively
   participating in the protocol, they are the most affected by Geneve.
   However, as tunnel endpoints are the ultimate consumers of the data,
   transmitters can tailor their output to the capabilities of the
   recipient.<a class="pilcrow" href="#section-2.2.1-3">¶</a></p>
<p id="section-2.2.1-4">
   Transit devices may be able to interpret the options; however, 
   as non-terminating devices, transit devices
   do not originate or terminate the Geneve packet. Hence, they <span class="bcp14">MUST NOT</span> modify Geneve headers and 
   <span class="bcp14">MUST NOT</span> insert or delete options, as that is the responsibility of tunnel endpoints.
   Options, if present in the packet, <span class="bcp14">MUST</span> only be generated and terminated by tunnel endpoints.
   The participation of transit devices in interpreting options is
   <span class="bcp14">OPTIONAL</span>.<a class="pilcrow" href="#section-2.2.1-4">¶</a></p>
<p id="section-2.2.1-5">
   Further, either tunnel endpoints or transit devices <span class="bcp14">MAY</span> use offload
   capabilities of NICs, such as checksum offload, to improve the
   performance of Geneve packet processing.  The presence of a Geneve
   variable-length header should not prevent the tunnel endpoints and
   transit devices from using such offload capabilities.<a class="pilcrow" href="#section-2.2.1-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-2.3">
<section id="section-2.3">
        <h3 id="name-use-of-standard-ip-fabrics">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-use-of-standard-ip-fabrics">Use of Standard IP Fabrics</a>
        </h3>
<p id="section-2.3-1">
   IP has clearly cemented its place as the dominant transport mechanism,
   and many techniques have evolved over time to make it robust,
   efficient, and inexpensive.  As a result, it is natural to use IP
   fabrics as a transit network for Geneve.  Fortunately, the use of IP
   encapsulation and addressing is enough to achieve the primary goal of
   delivering packets to the correct point in the network through
   standard switching and routing.<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<p id="section-2.3-2">
   In addition, nearly all underlay fabrics are designed to exploit
   parallelism in traffic to spread load across multiple links without
   introducing reordering in individual flows.  These ECMP techniques typically involve parsing and hashing
   the addresses and port numbers from the packet to select an outgoing
   link.  However, the use of tunnels often results in poor ECMP
   performance, as without additional knowledge of the protocol, the
   encapsulated traffic is hidden from the fabric by design, and only
   tunnel endpoint addresses are available for hashing.<a class="pilcrow" href="#section-2.3-2">¶</a></p>
<p id="section-2.3-3">
   Since it is desirable for Geneve to perform well on these existing
   fabrics, it is necessary for entropy from encapsulated packets to be
   exposed in the tunnel header.  The most common technique for this is
   to use the UDP source port, which is discussed further in
   <a class="xref" href="#sec-3.3">Section 3.3</a>.<a class="pilcrow" href="#section-2.3-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-3">
<section id="section-3">
      <h2 id="name-geneve-encapsulation-detail">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-geneve-encapsulation-detail">Geneve Encapsulation Details</a>
      </h2>
<p id="section-3-1">
   The Geneve packet format consists of a compact tunnel header
   encapsulated in UDP over either IPv4 or IPv6.  A small fixed tunnel
   header provides control information plus a base level of
   functionality and interoperability with a focus on simplicity.  This
   header is then followed by a set of variable-length options to allow for
   future innovation.  Finally, the payload consists of a protocol data
   unit of the indicated type, such as an Ethernet frame. Sections <a class="xref" href="#sec-3.1">3.1</a>
   and <a class="xref" href="#sec-3.2">3.2</a> illustrate the Geneve packet format transported (for
   example) over Ethernet along with an Ethernet payload.<a class="pilcrow" href="#section-3-1">¶</a></p>
<div id="sec-3.1">
<section id="section-3.1">
        <h3 id="name-geneve-packet-format-over-i">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-geneve-packet-format-over-i">Geneve Packet Format over IPv4</a>
        </h3>
<span id="name-geneve-packet-format-over-ip"></span><figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-3.1-1.1">
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1

Outer Ethernet Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Outer Destination MAC Address                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Outer Destination MAC Address |   Outer Source MAC Address    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Outer Source MAC Address                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Optional Ethertype=C-Tag 802.1Q|  Outer VLAN Tag Information   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Ethertype = 0x0800 IPv4    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Outer IPv4 Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Version|  IHL  |Type of Service|          Total Length         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Identification        |Flags|      Fragment Offset    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Time to Live |Protocol=17 UDP|         Header Checksum       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Outer Source IPv4 Address                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Outer Destination IPv4 Address              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Outer UDP Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Source Port = xxxx      |    Dest Port = 6081 Geneve    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           UDP Length          |        UDP Checksum           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Geneve Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Ver|  Opt Len  |O|C|    Rsvd.  |          Protocol Type        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Virtual Network Identifier (VNI)       |    Reserved   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                    Variable-Length Options                    ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Inner Ethernet Header (example payload):
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Inner Destination MAC Address                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Inner Destination MAC Address |   Inner Source MAC Address    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Inner Source MAC Address                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Optional Ethertype=C-Tag 802.1Q|  Inner VLAN Tag Information   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Payload:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Ethertype of Original Payload |                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
   |                                  Original Ethernet Payload    |
   |                                                               |
   ~ (Note that the original Ethernet frame's preamble, start      ~
   | frame delimiter (SFD), and frame check sequence (FCS) are not |
   | included, and the Ethernet payload need not be 4-byte aligned)|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Frame Check Sequence:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   New Frame Check Sequence (FCS) for Outer Ethernet Frame     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-geneve-packet-format-over-ip">Geneve Packet Format over IPv4</a>
          </figcaption></figure>
</section>
</div>
<div id="sec-3.2">
<section id="section-3.2">
        <h3 id="name-geneve-packet-format-over-ipv">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-geneve-packet-format-over-ipv">Geneve Packet Format over IPv6</a>
        </h3>
<span id="name-geneve-packet-format-over-ipv6"></span><figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-3.2-1.1">
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1

Outer Ethernet Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Outer Destination MAC Address                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Outer Destination MAC Address |   Outer Source MAC Address    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Outer Source MAC Address                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Optional Ethertype=C-Tag 802.1Q|  Outer VLAN Tag Information   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Ethertype = 0x86DD IPv6    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Outer IPv6 Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Version| Traffic Class |           Flow Label                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Payload Length        | NxtHdr=17 UDP |   Hop Limit   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                                                               |
   +                     Outer Source IPv6 Address                 +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                                                               |
   +                  Outer Destination IPv6 Address               +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Outer UDP Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Source Port = xxxx      |    Dest Port = 6081 Geneve    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           UDP Length          |        UDP Checksum           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Geneve Header:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Ver|  Opt Len  |O|C|    Rsvd.  |          Protocol Type        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Virtual Network Identifier (VNI)       |    Reserved   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                    Variable-Length Options                    ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Inner Ethernet Header (example payload):
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Inner Destination MAC Address                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Inner Destination MAC Address |   Inner Source MAC Address    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Inner Source MAC Address                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Optional Ethertype=C-Tag 802.1Q|  Inner VLAN Tag Information   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Payload:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Ethertype of Original Payload |                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
   |                                  Original Ethernet Payload    |
   |                                                               |
   ~ (Note that the original Ethernet frame's preamble, start      ~
   | frame delimiter (SFD), and frame check sequence (FCS) are not |
   | included, and the Ethernet payload need not be 4-byte aligned)|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Frame Check Sequence:
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   New Frame Check Sequence (FCS) for Outer Ethernet Frame     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-geneve-packet-format-over-ipv6">Geneve Packet Format over IPv6</a>
          </figcaption></figure>
</section>
</div>
<div id="sec-3.3">
<section id="section-3.3">
        <h3 id="name-udp-header">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-udp-header">UDP Header</a>
        </h3>
<p id="section-3.3-1">
   The use of an encapsulating UDP <span>[<a class="xref" href="#RFC0768">RFC0768</a>]</span> header follows the
   connectionless semantics of Ethernet and IP in addition to providing
   entropy to routers performing ECMP.  Therefore, header fields are 
   interpreted as follows:<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.3-2">
          <dt id="section-3.3-2.1">Source Port:</dt>
          <dd id="section-3.3-2.2" style="margin-left: 1.5em">
            <p id="section-3.3-2.2.1">
 A source port selected by the originating tunnel endpoint.  This source port <span class="bcp14">SHOULD</span> be the same for all packets
      belonging to a single encapsulated flow to prevent reordering due
      to the use of different paths.  To encourage an even distribution
      of flows across multiple links, the source port <span class="bcp14">SHOULD</span> be
      calculated using a hash of the encapsulated packet headers using,
      for example, a traditional 5-tuple.  Since the port represents a
      flow identifier rather than a true UDP connection, the entire
      16-bit range <span class="bcp14">MAY</span> be used to maximize entropy. In addition to setting the source port, 
      for IPv6, the flow label <span class="bcp14">MAY</span> also be used for providing entropy. For an example of 
      using the IPv6 flow label for tunnel use cases, see <span>[<a class="xref" href="#RFC6438">RFC6438</a>]</span>.<a class="pilcrow" href="#section-3.3-2.2.1">¶</a></p>
<p id="section-3.3-2.2.2">
 If Geneve traffic is shared with other UDP listeners 
 on the same IP address, tunnel endpoints <span class="bcp14">SHOULD</span> implement a mechanism 
 to ensure ICMP return traffic arising from network errors is directed 
 to the correct listener. The definition of such a mechanism is beyond 
 the scope of this document.<a class="pilcrow" href="#section-3.3-2.2.2">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.3">Dest Port:</dt>
          <dd id="section-3.3-2.4" style="margin-left: 1.5em">
            <p id="section-3.3-2.4.1">
 IANA has assigned port 6081 as the fixed well-known destination port
 for Geneve.  Although the well-known value should be used by default, it is <span class="bcp14">RECOMMENDED</span> that implementations make
      this configurable.  The chosen port is used for identification of
      Geneve packets and <span class="bcp14">MUST NOT</span> be reversed for different ends of a
      connection as is done with TCP. It is the responsibility of the control plane to manage any reconfiguration of the assigned port and its interpretation by respective devices.
      The definition of the control plane is beyond the scope of this document.<a class="pilcrow" href="#section-3.3-2.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.5">UDP Length:</dt>
          <dd id="section-3.3-2.6" style="margin-left: 1.5em">
            <p id="section-3.3-2.6.1">
 The length of the UDP packet including the UDP header.<a class="pilcrow" href="#section-3.3-2.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.7">UDP Checksum:</dt>
          <dd id="section-3.3-2.8" style="margin-left: 1.5em">
            <p id="section-3.3-2.8.1">
 In order to protect the Geneve header, options, and payload from
 potential data corruption, the UDP checksum <span class="bcp14">SHOULD</span> be generated as 
 specified in <span>[<a class="xref" href="#RFC0768">RFC0768</a>]</span> and <span>[<a class="xref" href="#RFC1122">RFC1122</a>]</span> when 
 Geneve is encapsulated in IPv4. To protect the IP header, Geneve header, 
 options, and payload from potential data corruption, the UDP checksum <span class="bcp14">MUST</span> 
 be generated by default as specified in <span>[<a class="xref" href="#RFC0768">RFC0768</a>]</span> 
 and <span>[<a class="xref" href="#RFC8200">RFC8200</a>]</span> when Geneve
 is encapsulated in IPv6, except under certain conditions, which are outlined in the next paragraph. 
 Upon receiving such packets with a non-zero UDP checksum, 
 the receiving tunnel endpoints <span class="bcp14">MUST</span> validate the checksum.
 If the checksum is not correct, the packet <span class="bcp14">MUST</span> be dropped; otherwise, 
 the packet <span class="bcp14">MUST</span> be accepted for decapsulation.<a class="pilcrow" href="#section-3.3-2.8.1">¶</a></p>
<p id="section-3.3-2.8.2">
 Under certain conditions, the UDP checksum <span class="bcp14">MAY</span> be set to zero on transmit
 for packets encapsulated in both IPv4 and IPv6 <span>[<a class="xref" href="#RFC8200">RFC8200</a>]</span>.
 See <a class="xref" href="#sec-4.3">Section 4.3</a> for additional
 requirements that apply when using zero 
 UDP checksum with IPv4 and IPv6. Disabling the use of UDP checksums is 
 an operational consideration that should take into account the risks
        and effects of packet corruption.<a class="pilcrow" href="#section-3.3-2.8.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-3.4">
<section id="section-3.4">
        <h3 id="name-tunnel-header-fields">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-tunnel-header-fields">Tunnel Header Fields</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-3.4-1">
          <dt id="section-3.4-1.1">Ver (2 bits):</dt>
          <dd id="section-3.4-1.2" style="margin-left: 1.5em">
            <p id="section-3.4-1.2.1">
 The current version number is 0.  Packets received by a tunnel endpoint with an unknown version <span class="bcp14">MUST</span> be dropped. Transit 
      devices interpreting Geneve packets with an unknown
      version number <span class="bcp14">MUST</span> treat them as UDP packets with an unknown
      payload.<a class="pilcrow" href="#section-3.4-1.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.3">Opt Len (6 bits):</dt>
          <dd id="section-3.4-1.4" style="margin-left: 1.5em">
            <p id="section-3.4-1.4.1">
 The length of the option fields, expressed in 4-byte multiples, not including the 8-byte fixed tunnel
      header.  This results in a minimum total Geneve header size of 8
      bytes and a maximum of 260 bytes.  The start of the payload
      headers can be found using this offset from the end of the base
      Geneve header.<a class="pilcrow" href="#section-3.4-1.4.1">¶</a></p>
<p id="section-3.4-1.4.2">
   Transit devices <span class="bcp14">MUST</span> maintain consistent forwarding behavior
   irrespective of the value of 'Opt Len', including ECMP link
   selection.<a class="pilcrow" href="#section-3.4-1.4.2">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.5">O (1 bit):</dt>
          <dd id="section-3.4-1.6" style="margin-left: 1.5em">
            <p id="section-3.4-1.6.1">
 Control packet.  This packet contains a control message. Control messages are sent between tunnel endpoints.
      Tunnel endpoints <span class="bcp14">MUST NOT</span> forward the payload,
      and transit devices <span class="bcp14">MUST NOT</span> attempt to interpret it.
      Since control messages are less frequent, it is <span class="bcp14">RECOMMENDED</span>
      that tunnel endpoints direct these packets to a high-priority control
      queue (for example, to direct the packet to a general purpose CPU
      from a forwarding Application-Specific Integrated Circuit (ASIC) or to separate out control traffic on a
      NIC).  Transit devices <span class="bcp14">MUST NOT</span> alter forwarding behavior on the
      basis of this bit, such as ECMP link selection.<a class="pilcrow" href="#section-3.4-1.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.7">C (1 bit):</dt>
          <dd id="section-3.4-1.8" style="margin-left: 1.5em">
            <p id="section-3.4-1.8.1">
 Critical options present.  One or more options has the critical bit set (see <a class="xref" href="#sec-3.5">Section 3.5</a>).  If this bit is set, then
      tunnel endpoints <span class="bcp14">MUST</span> parse the options list to interpret any
      critical options.  On tunnel endpoints where option parsing is not
      supported, the packet <span class="bcp14">MUST</span> be dropped on the basis of the 'C' bit
      in the base header.  If the bit is not set, tunnel endpoints <span class="bcp14">MAY</span>
      strip all options using 'Opt Len' and forward the decapsulated
      packet.  Transit devices <span class="bcp14">MUST NOT</span> drop packets on the
      basis of this bit.<a class="pilcrow" href="#section-3.4-1.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.9">Rsvd. (6 bits):</dt>
          <dd id="section-3.4-1.10" style="margin-left: 1.5em">
            <p id="section-3.4-1.10.1">
 Reserved field, which <span class="bcp14">MUST</span> be zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a class="pilcrow" href="#section-3.4-1.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.11">Protocol Type (16 bits):</dt>
          <dd id="section-3.4-1.12" style="margin-left: 1.5em">
            <p id="section-3.4-1.12.1">
 The type of protocol data unit appearing after the Geneve header.  This follows the Ethertype
      <span>[<a class="xref" href="#ETYPES">ETYPES</a>]</span> convention, with Ethernet itself being represented by the
      value 0x6558.<a class="pilcrow" href="#section-3.4-1.12.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.13">Virtual Network Identifier (VNI) (24 bits):</dt>
          <dd id="section-3.4-1.14" style="margin-left: 1.5em">
            <p id="section-3.4-1.14.1">
 An identifier for a unique element of a virtual network.  In many situations, this may
      represent an L2 segment; however, the control plane defines the
      forwarding semantics of decapsulated packets.  The VNI <span class="bcp14">MAY</span> be used
      as part of ECMP forwarding decisions or <span class="bcp14">MAY</span> be used as a mechanism
      to distinguish between overlapping address spaces contained in the
      encapsulated packet when load balancing across CPUs.<a class="pilcrow" href="#section-3.4-1.14.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-1.15">Reserved (8 bits):</dt>
          <dd id="section-3.4-1.16" style="margin-left: 1.5em">
            <p id="section-3.4-1.16.1">
 Reserved field, which <span class="bcp14">MUST</span> be zero on transmission and ignored on receipt.<a class="pilcrow" href="#section-3.4-1.16.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-3.5">
<section id="section-3.5">
        <h3 id="name-tunnel-options">
<a class="section-number selfRef" href="#section-3.5">3.5. </a><a class="section-name selfRef" href="#name-tunnel-options">Tunnel Options</a>
        </h3>
<span id="name-geneve-option"></span><div id="geneve-options">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-3.5-1.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Option Class         |      Type     |R|R|R| Length  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                  Variable-Length Option Data                  ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-geneve-option">Geneve Option</a>
          </figcaption></figure>
</div>
<p id="section-3.5-2">
   The base Geneve header is followed by zero or more options in Type-Length-Value format.  Each option consists of a 4-byte option
   header and a variable amount of option data interpreted according to
   the type.<a class="pilcrow" href="#section-3.5-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.5-3">
          <dt id="section-3.5-3.1">Option Class (16 bits):</dt>
          <dd id="section-3.5-3.2" style="margin-left: 1.5em">
            <p id="section-3.5-3.2.1">
 Namespace for the 'Type' field.  IANA has created a "Geneve Option Class" registry to
      allocate identifiers for organizations, technologies, and vendors
      that have an interest in creating types for options.  Each
      organization may allocate types independently to allow
      experimentation and rapid innovation.  It is expected that, over
      time, certain options will become well known, and a given
      implementation may use option types from a variety of sources.  In
      addition, IANA has reserved specific ranges for
      allocation by IETF Review and for Experimental Use (see <a class="xref" href="#sec-7">Section 7</a>).<a class="pilcrow" href="#section-3.5-3.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.5-3.3">Type (8 bits):</dt>
          <dd id="section-3.5-3.4" style="margin-left: 1.5em">
            <p id="section-3.5-3.4.1">
 Type indicating the format of the data contained in this option.  Options are primarily designed to encourage future
      extensibility and innovation, and standardized forms of these
      options will be defined in separate documents.<a class="pilcrow" href="#section-3.5-3.4.1">¶</a></p>
<p id="section-3.5-3.4.2">
 The high-order bit of the option type indicates that this is a
      critical option.  If the receiving tunnel endpoint does not recognize
      the option and this bit is set, then the packet <span class="bcp14">MUST</span> be dropped.
      If this bit is set in any option, then the 'C' bit in the
      Geneve base header <span class="bcp14">MUST</span> also be set.  Transit devices <span class="bcp14">MUST NOT</span>
      drop packets on the basis of this bit.  The following figure shows
      the location of the 'C' bit in the 'Type' field:<a class="pilcrow" href="#section-3.5-3.4.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-c-bit-in-the-type-field"></span><figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-3.5-4.1">
<pre>   0 1 2 3 4 5 6 7 8
   +-+-+-+-+-+-+-+-+
   |C|    Type     |
   +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-c-bit-in-the-type-field">'C' Bit in the 'Type' Field</a>
          </figcaption></figure>
<span class="break"></span><dl class="dlParallel" id="section-3.5-5">
          <dt id="section-3.5-5.1"></dt>
          <dd id="section-3.5-5.2" style="margin-left: 1.5em">
      The requirement to drop a packet with an unknown option with the 'C' bit set
      applies to the entire tunnel endpoint system and not a particular
      component of the implementation.  For example, in a system
      comprised of a forwarding ASIC and a general purpose CPU, this
      does not mean that the packet must be dropped in the ASIC.  An
      implementation may send the packet to the CPU using a rate-limited
      control channel for slow-path exception handling.<a class="pilcrow" href="#section-3.5-5.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-3.5-6">
          <dt id="section-3.5-6.1">R (3 bits):</dt>
          <dd id="section-3.5-6.2" style="margin-left: 1.5em">
 Option control flags reserved for future use.  These bits <span class="bcp14">MUST</span> be
 zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a class="pilcrow" href="#section-3.5-6.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.5-6.3">Length (5 bits):</dt>
          <dd id="section-3.5-6.4" style="margin-left: 1.5em">
            <p id="section-3.5-6.4.1">
 Length of the option, expressed in 4-byte
 multiples, excluding the option header.  The total length of each
 option may be between 4 and 128 bytes. A value of 0 in the 'Length' field implies
        an option with only an option header and no option data. Packets in which the total
      length of all options is not equal to the 'Opt Len' in the base
      header are invalid and <span class="bcp14">MUST</span> be silently dropped if received by a
      tunnel endpoint that processes the options.<a class="pilcrow" href="#section-3.5-6.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.5-6.5">Variable-Length Option Data:</dt>
          <dd id="section-3.5-6.6" style="margin-left: 1.5em">
            <p id="section-3.5-6.6.1">
 Option data interpreted according to 'Type'.<a class="pilcrow" href="#section-3.5-6.6.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<div id="sec-3.5.1">
<section id="section-3.5.1">
          <h4 id="name-options-processing">
<a class="section-number selfRef" href="#section-3.5.1">3.5.1. </a><a class="section-name selfRef" href="#name-options-processing">Options Processing</a>
          </h4>
<p id="section-3.5.1-1">
   Geneve options are intended to be originated and processed
   by tunnel endpoints.  However, options <span class="bcp14">MAY</span> be interpreted by transit
   devices along the tunnel path.  Transit devices not
   interpreting Geneve headers (which may or may not include options) <span class="bcp14">MUST</span> handle
   Geneve packets as any other UDP packet and maintain consistent forwarding behavior.<a class="pilcrow" href="#section-3.5.1-1">¶</a></p>
<p id="section-3.5.1-2">
   In tunnel endpoints, the generation and interpretation of options is
   determined by the control plane, which is beyond the scope of this
   document.  However, to ensure interoperability between heterogeneous
   devices, some requirements are imposed on options and the devices that
   process them:<a class="pilcrow" href="#section-3.5.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1-3.1">Receiving tunnel endpoints <span class="bcp14">MUST</span> drop packets containing unknown options
      with the 'C' bit set in the option type.  Conversely, transit
      devices <span class="bcp14">MUST NOT</span> drop packets as a result of encountering unknown
      options, including those with the 'C' bit set.<a class="pilcrow" href="#section-3.5.1-3.1">¶</a>
</li>
            <li class="normal" id="section-3.5.1-3.2">The contents of the options and their ordering <span class="bcp14">MUST NOT</span> be
      modified by transit devices.<a class="pilcrow" href="#section-3.5.1-3.2">¶</a>
</li>
            <li class="normal" id="section-3.5.1-3.3">If a tunnel endpoint receives a Geneve packet with an 'Opt Len' (the total length of all options) 
 that exceeds the options-processing capability of the tunnel endpoint, then 
 the tunnel endpoint <span class="bcp14">MUST</span> drop such packets. An implementation may raise an 
 exception to the control plane in such an event. It is the responsibility 
 of the control plane to ensure the communicating peer tunnel endpoints 
 have the processing capability to handle the total length of options. 
 The definition of the control plane is beyond the scope of this document.<a class="pilcrow" href="#section-3.5.1-3.3">¶</a>
</li>
          </ul>
<p id="section-3.5.1-4">
   When designing a Geneve option, it is important to consider how the
   option will evolve in the future.  Once an option is defined, it is
   reasonable to expect that implementations may come to depend on a
   specific behavior.  As a result, the scope of any future changes must
   be carefully described upfront.<a class="pilcrow" href="#section-3.5.1-4">¶</a></p>
<p id="section-3.5.1-5">
   Architecturally, options are intended to be self descriptive and independent. 
   This enables parallelism in options processing and reduces implementation complexity.
   However, the control plane may impose certain ordering restrictions, as 
   described in <a class="xref" href="#sec-4.5.1">Section 4.5.1</a>.<a class="pilcrow" href="#section-3.5.1-5">¶</a></p>
<p id="section-3.5.1-6">
   Unexpectedly significant interoperability issues may result from
   changing the length of an option that was defined to be a certain
   size.  A particular option is specified to have either a fixed
   length, which is constant, or a variable length, which may change
   over time or for different use cases.  This property is part of the
   definition of the option and is conveyed by the 'Type'.  For fixed-length options, some implementations may choose to ignore the 'Length'
   field in the option header and instead parse based on the well-known
   length associated with the type.  In this case, redefining the length
   will impact not only the parsing of the option in question but also any
   options that follow.  Therefore, options that are defined to be a fixed
   length in size <span class="bcp14">MUST NOT</span> be redefined to a different length.  Instead,
   a new 'Type' should be allocated. Actual definition of the option type is beyond 
   the scope of this document.  The option type and its interpretation should be 
   defined by the entity that owns the option class.<a class="pilcrow" href="#section-3.5.1-6">¶</a></p>
<p id="section-3.5.1-7">
   Options may be processed by NIC hardware utilizing offloads (e.g., LSO and LRO) 
   as described in <a class="xref" href="#sec-4.6">Section 4.6</a>. Careful consideration should be 
   given to how the offload capabilities outlined in <a class="xref" href="#sec-4.6">Section 4.6</a> 
   impact an option's design.<a class="pilcrow" href="#section-3.5.1-7">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec-4">
<section id="section-4">
      <h2 id="name-implementation-and-deployme">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-implementation-and-deployme">Implementation and Deployment Considerations</a>
      </h2>
<div id="sec-4.1">
<section id="section-4.1">
        <h3 id="name-applicability-statement">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-applicability-statement">Applicability Statement</a>
        </h3>
<p id="section-4.1-1">
 Geneve is a UDP-based network virtualization overlay encapsulation protocol
 designed to establish tunnels between NVEs over an existing IP network.
 It is intended for use in public or private data center environments, 
 for deploying multi-tenant overlay networks over an existing IP underlay network.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">
 As a UDP-based protocol, Geneve adheres 
 to the UDP usage guidelines as specified in <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span>. 
 The applicability of these guidelines is dependent on the underlay
 IP network and the nature of the Geneve payload protocol
 (for example, TCP/IP, IP/Ethernet).<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">
 Geneve is intended to be deployed in a data center network environment 
 operated by a single operator or an adjacent set of cooperating network 
 operators that fits with the definition of controlled environments
        in <span>[<a class="xref" href="#RFC8085">RFC8085</a>]</span>. A network in a controlled environment can be
 managed to operate under certain conditions, whereas in the general
    Internet, this cannot be done.  Hence, requirements for a tunneling
    protocol operating under a controlled environment can be less
    restrictive than the requirements of the general Internet.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">
 For the purpose of this document, a traffic-managed controlled environment
 (TMCE) is defined as an IP network that is traffic engineered and/or otherwise
 managed (e.g., via use of traffic rate limiters) to avoid congestion. The concept
 of a TMCE is outlined in <span>[<a class="xref" href="#RFC8086">RFC8086</a>]</span>. Significant portions of the text 
 in <a class="xref" href="#sec-4.1">Section 4.1</a> through <a class="xref" href="#sec-4.3">Section 4.3</a> are based 
 on <span>[<a class="xref" href="#RFC8086">RFC8086</a>]</span> as applicable to Geneve.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
<p id="section-4.1-5">
 It is the responsibility of the operator to ensure that the guidelines/requirements
 in this section are followed as applicable to their Geneve deployment(s).<a class="pilcrow" href="#section-4.1-5">¶</a></p>
</section>
</div>
<div id="sec-4.2">
<section id="section-4.2">
        <h3 id="name-congestion-control-function">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-congestion-control-function">Congestion-Control Functionality</a>
        </h3>
<p id="section-4.2-1">
 Geneve does not natively provide congestion-control functionality and relies
 on the payload protocol traffic for congestion control. As such, Geneve <span class="bcp14">MUST</span>
 be used with congestion-controlled traffic or within a TMCE to avoid congestion. An operator of a TMCE may avoid congestion through careful provisioning
 of their networks, rate-limiting user data traffic, and managing traffic 
 engineering according to path capacity.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
</section>
</div>
<div id="sec-4.3">
<section id="section-4.3">
        <h3 id="name-udp-checksum">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-udp-checksum">UDP Checksum</a>
        </h3>
<p id="section-4.3-1">
 The outer UDP checksum <span class="bcp14">SHOULD</span> be used with Geneve when transported
   over IPv4; this is to provide integrity for the Geneve headers,
   options, and payload in case of data corruption (for example, to
   avoid misdelivery of the payload to different tenant systems).  The UDP checksum provides a statistical guarantee 
 that a payload was not corrupted in transit. These integrity checks are not 
 strong from a coding or cryptographic perspective and are not designed to 
 detect physical-layer errors or malicious modification of the datagram 
 (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8085#section-3.4">Section 3.4</a> of [<a class="xref" href="#RFC8085">RFC8085</a>]</span>). In deployments where such a risk exists, 
 an operator <span class="bcp14">SHOULD</span> use additional data integrity
 mechanisms such as those offered 
 by IPsec (see <a class="xref" href="#sec-6.2">Section 6.2</a>).<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">
 An operator <span class="bcp14">MAY</span> choose to disable UDP checksums
 and use zero UDP checksum if Geneve packet integrity is provided by other data
 integrity mechanisms, such as IPsec or additional checksums, or if one of
 the conditions (a, b, or c) in <a class="xref" href="#sec-4.3.1">Section 4.3.1</a> is met.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">
 By default, UDP checksums <span class="bcp14">MUST</span> be used when Geneve is transported over IPv6.
 A tunnel endpoint <span class="bcp14">MAY</span> be configured for use with zero UDP checksum if 
 additional requirements in <a class="xref" href="#sec-4.3.1">Section 4.3.1</a> are met.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<div id="sec-4.3.1">
<section id="section-4.3.1">
          <h4 id="name-zero-udp-checksum-handling-">
<a class="section-number selfRef" href="#section-4.3.1">4.3.1. </a><a class="section-name selfRef" href="#name-zero-udp-checksum-handling-">Zero UDP Checksum Handling with IPv6</a>
          </h4>
<p id="section-4.3.1-1">
 When Geneve is used over IPv6, the UDP checksum is used to protect IPv6 headers, 
 UDP headers, and Geneve headers, options, and payload from potential data corruption.
 As such, by default, Geneve <span class="bcp14">MUST</span> use UDP checksums when transported over IPv6.
 An operator <span class="bcp14">MAY</span> choose to configure zero UDP checksum if 
 operating in a TMCE as stated in 
 <a class="xref" href="#sec-4.1">Section 4.1</a> if one of the following conditions is met.<a class="pilcrow" href="#section-4.3.1-1">¶</a></p>
<ol class="normal type-a" id="section-4.3.1-2" start="1" type="a">
            <li id="section-4.3.1-2.1">It is known that packet corruption is exceptionally
 unlikely (perhaps based on knowledge of equipment types in their underlay 
 network) and the operator is willing to risk undetected packet
     corruption.<a class="pilcrow" href="#section-4.3.1-2.1">¶</a>
</li>
            <li id="section-4.3.1-2.2">It is judged through observational measurements (perhaps through historic
 or current traffic flows that use non-zero checksum) that the level of packet
 corruption is tolerably low and is where the operator is willing to risk undetected corruption.<a class="pilcrow" href="#section-4.3.1-2.2">¶</a>
</li>
            <li id="section-4.3.1-2.3">The Geneve payload is carrying applications that are tolerant of misdelivered 
 or corrupted packets (perhaps through higher-layer checksum validation
 and/or reliability through retransmission).<a class="pilcrow" href="#section-4.3.1-2.3">¶</a>
</li>
          </ol>
<p id="section-4.3.1-3"> In addition, Geneve tunnel implementations using zero UDP checksum <span class="bcp14">MUST</span> meet
 the following requirements:<a class="pilcrow" href="#section-4.3.1-3">¶</a></p>
<ol class="normal type-1" id="section-4.3.1-4" start="1" type="1">
            <li id="section-4.3.1-4.1">Use of UDP checksum over IPv6 <span class="bcp14">MUST</span> be the default 
 configuration for all Geneve tunnels.<a class="pilcrow" href="#section-4.3.1-4.1">¶</a>
</li>
            <li id="section-4.3.1-4.2">If Geneve is used with zero UDP checksum over IPv6, then such
     a tunnel
 endpoint implementation <span class="bcp14">MUST</span> meet all the requirements specified
 in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc6936#section-4">Section 4</a> of [<a class="xref" href="#RFC6936">RFC6936</a>]</span> and requirement 1 as specified in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc6936#section-5">Section 5</a> of [<a class="xref" href="#RFC6936">RFC6936</a>]</span> since it is relevant to Geneve.<a class="pilcrow" href="#section-4.3.1-4.2">¶</a>
</li>
            <li id="section-4.3.1-4.3">The Geneve tunnel endpoint that decapsulates the tunnel
     <span class="bcp14">SHOULD</span> check that the 
 source and destination IPv6 addresses are valid for the Geneve tunnel that
 is configured to receive zero UDP checksum and discard other packets 
 for which such a check fails.<a class="pilcrow" href="#section-4.3.1-4.3">¶</a>
</li>
            <li id="section-4.3.1-4.4">
              <p id="section-4.3.1-4.4.1">The Geneve tunnel endpoint that encapsulates the tunnel <span class="bcp14">MAY</span> use different
 IPv6 source addresses for each Geneve tunnel that uses zero UDP checksum mode
 in order to strengthen the decapsulator's check of the IPv6 source address
 (i.e., the same IPv6 source address is not to be used with more than one IPv6
 destination address, irrespective of whether that destination address is
 a unicast or multicast address). When this is not possible, it is <span class="bcp14">RECOMMENDED</span>
 to use each source address for as few Geneve tunnels that use zero UDP
 checksum as is feasible.<a class="pilcrow" href="#section-4.3.1-4.4.1">¶</a></p>
<p id="section-4.3.1-4.4.2">
 Note that for requirements 3 and 4, the receiving tunnel endpoint can apply 
 these checks only if it has out-of-band knowledge that the encapsulating tunnel 
 endpoint is applying the indicated behavior. One possibility to obtain this out-of-band 
 knowledge is through signaling by the control plane. The definition of 
 the control plane is beyond the scope of this document.<a class="pilcrow" href="#section-4.3.1-4.4.2">¶</a></p>
</li>
            <li id="section-4.3.1-4.5">Measures <span class="bcp14">SHOULD</span> be taken to prevent Geneve traffic over IPv6 with zero UDP 
 checksum from escaping into the general Internet. Examples of such measures include
 employing packet filters at the gateways or edge of the Geneve network and/or 
 keeping logical or physical separation of the Geneve network from networks 
 carrying general Internet traffic.<a class="pilcrow" href="#section-4.3.1-4.5">¶</a>
</li>
          </ol>
<p id="section-4.3.1-5"> The above requirements do not change the requirements
 specified in either <span>[<a class="xref" href="#RFC8200">RFC8200</a>]</span> or
 <span>[<a class="xref" href="#RFC6936">RFC6936</a>]</span>.<a class="pilcrow" href="#section-4.3.1-5">¶</a></p>
<p id="section-4.3.1-6">The use of the source IPv6 address in addition to the
 destination IPv6 address, plus the recommendation against
  reuse of source IPv6 addresses among Geneve tunnels, collectively
 provide some mitigation for the absence of UDP checksum coverage of
 the IPv6 header. A traffic-managed controlled environment that satisfies
        at least one of the three conditions listed at the beginning of
 this section provides additional assurance.<a class="pilcrow" href="#section-4.3.1-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-4.4">
<section id="section-4.4">
        <h3 id="name-encapsulation-of-geneve-in-">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-encapsulation-of-geneve-in-">Encapsulation of Geneve in IP</a>
        </h3>
<p id="section-4.4-1">
   As an IP-based tunneling protocol, Geneve shares many properties and
   techniques with existing protocols.  The application of some of these
   are described in further detail, although, in general, most concepts
   applicable to the IP layer or to IP tunnels generally also function
   in the context of Geneve.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<div id="sec-4.4.1">
<section id="section-4.4.1">
          <h4 id="name-ip-fragmentation">
<a class="section-number selfRef" href="#section-4.4.1">4.4.1. </a><a class="section-name selfRef" href="#name-ip-fragmentation">IP Fragmentation</a>
          </h4>
<p id="section-4.4.1-1">
   It is <span class="bcp14">RECOMMENDED</span> that Path MTU Discovery (see <span>[<a class="xref" href="#RFC1191">RFC1191</a>]</span> and <span>[<a class="xref" href="#RFC8201">RFC8201</a>]</span>) be used to prevent or minimize fragmentation.
   The use of Path MTU Discovery on the transit network provides the
   encapsulating tunnel endpoint with soft-state information about the link that it may use
   to prevent or minimize fragmentation depending on its role in the
   virtualized network. The NVE can maintain this state (the MTU size of
   the tunnel link(s) associated with the tunnel endpoint), so if a
   tenant system sends large packets that, when encapsulated, exceed the
   MTU size of the tunnel link, the tunnel endpoint can discard such
   packets and send exception messages to the tenant system(s). If the
   tunnel endpoint is associated with a routing or forwarding function and/or has the capability
   to send ICMP messages, the encapsulating tunnel endpoint <span class="bcp14">MAY</span> send ICMP fragmentation 
   needed <span>[<a class="xref" href="#RFC0792">RFC0792</a>]</span> or Packet Too Big <span>[<a class="xref" href="#RFC4443">RFC4443</a>]</span> messages to the tenant system(s).
   When determining the MTU size of a tunnel link, the maximum length of options <span class="bcp14">MUST</span> be assumed as options may vary 
   on a per-packet basis. Recommendations and guidance for handling fragmentation in
   similar overlay encapsulation services like Pseudowire Emulation
   Edge-to-Edge (PWE3) are provided in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3985#section-5.3">Section 5.3</a> of [<a class="xref" href="#RFC3985">RFC3985</a>]</span>.<a class="pilcrow" href="#section-4.4.1-1">¶</a></p>
<p id="section-4.4.1-2">
   Note that some implementations may not be capable of supporting
   fragmentation or other less common features of the IP header, such as
   options and extension headers. Some of the issues associated 
   with MTU size and fragmentation in IP tunneling and use of ICMP messages are
   outlined in <span><a class="relref" href="https://tools.ietf.org/html/draft-ietf-intarea-tunnels-10#section-4.2">Section 4.2</a> of [<a class="xref" href="#I-D.ietf-intarea-tunnels">INTAREA-TUNNELS</a>]</span>.<a class="pilcrow" href="#section-4.4.1-2">¶</a></p>
</section>
</div>
<div id="sec-4.4.2">
<section id="section-4.4.2">
          <h4 id="name-dscp-ecn-and-ttl">
<a class="section-number selfRef" href="#section-4.4.2">4.4.2. </a><a class="section-name selfRef" href="#name-dscp-ecn-and-ttl">DSCP, ECN, and TTL</a>
          </h4>
<p id="section-4.4.2-1">
   When encapsulating IP (including over Ethernet) packets in Geneve,
   there are several considerations for propagating Differentiated Services
   Code Point (DSCP) and Explicit Congestion Notification (ECN) bits
   from the inner header to the tunnel on transmission and the reverse
   on reception.<a class="pilcrow" href="#section-4.4.2-1">¶</a></p>
<p id="section-4.4.2-2">
   <span>[<a class="xref" href="#RFC2983">RFC2983</a>]</span> provides guidance for mapping DSCP between inner and outer
   IP headers.  Network virtualization is typically more closely aligned
   with the Pipe model described, where the DSCP value on the tunnel
   header is set based on a policy (which may be a fixed value, one
   based on the inner traffic class or some other mechanism for
   grouping traffic).  Aspects of the Uniform model (which treats the
   inner and outer DSCP values as a single field by copying on ingress
   and egress) may also apply, such as the ability to re-mark the inner
   header on tunnel egress based on transit marking.  However, the
   Uniform model is not conceptually consistent with network
   virtualization, which seeks to provide strong isolation between
   encapsulated traffic and the physical network.<a class="pilcrow" href="#section-4.4.2-2">¶</a></p>
<p id="section-4.4.2-3">
   <span>[<a class="xref" href="#RFC6040">RFC6040</a>]</span> describes the mechanism for exposing ECN capabilities on IP
   tunnels and propagating congestion markers to the inner packets.
   This behavior <span class="bcp14">MUST</span> be followed for IP packets encapsulated in Geneve.<a class="pilcrow" href="#section-4.4.2-3">¶</a></p>
<p id="section-4.4.2-4">
   Though either the Uniform or Pipe models could be used for handling TTL (or Hop Limit in case of IPv6) when tunneling IP packets, the Pipe model is more consistent with network virtualization.
   <span>[<a class="xref" href="#RFC2003">RFC2003</a>]</span> provides guidance on handling TTL between inner IP header and outer IP tunnels;
   this model is similar to the Pipe model and is <span class="bcp14">RECOMMENDED</span> for 
   use with Geneve for network virtualization applications.<a class="pilcrow" href="#section-4.4.2-4">¶</a></p>
</section>
</div>
<div id="sec-4.4.3">
<section id="section-4.4.3">
          <h4 id="name-broadcast-and-multicast">
<a class="section-number selfRef" href="#section-4.4.3">4.4.3. </a><a class="section-name selfRef" href="#name-broadcast-and-multicast">Broadcast and Multicast</a>
          </h4>
<p id="section-4.4.3-1">
   Geneve tunnels may either be point-to-point unicast between two
   tunnel endpoints or utilize broadcast or multicast addressing.  It is
   not required that inner and outer addressing match in this respect.
   For example, in physical networks that do not support multicast,
   encapsulated multicast traffic may be replicated into multiple
   unicast tunnels or forwarded by policy to a unicast location
   (possibly to be replicated there).<a class="pilcrow" href="#section-4.4.3-1">¶</a></p>
<p id="section-4.4.3-2">
   With physical networks that do support multicast, it may be desirable
   to use this capability to take advantage of hardware replication for
   encapsulated packets.  In this case, multicast addresses may be
   allocated in the physical network corresponding to tenants,
   encapsulated multicast groups, or some other factor.  The allocation
   of these groups is a component of the control plane and, therefore,
   is beyond the scope of this document.<a class="pilcrow" href="#section-4.4.3-2">¶</a></p>
<p id="section-4.4.3-3"> 
   When physical multicast is in
   use, devices with heterogeneous capabilities may be present in the same group. 
   Some options may only be interpretable by a subset of the devices in the group. 
   Other devices can safely ignore such options unless the 'C' bit is set to 
   mark the unknown option as critical.  The requirements outlined in <a class="xref" href="#sec-3.4">Section 3.4</a> 
   apply for critical options.<a class="pilcrow" href="#section-4.4.3-3">¶</a></p>
<p id="section-4.4.3-4">
   In addition, <span>[<a class="xref" href="#RFC8293">RFC8293</a>]</span> provides examples of various mechanisms that can 
   be used for multicast handling in network virtualization overlay networks.<a class="pilcrow" href="#section-4.4.3-4">¶</a></p>
</section>
</div>
<div id="sec-4.4.4">
<section id="section-4.4.4">
          <h4 id="name-unidirectional-tunnels">
<a class="section-number selfRef" href="#section-4.4.4">4.4.4. </a><a class="section-name selfRef" href="#name-unidirectional-tunnels">Unidirectional Tunnels</a>
          </h4>
<p id="section-4.4.4-1">
   Generally speaking, a Geneve tunnel is a unidirectional concept.  IP
   is not a connection-oriented protocol, and it is possible for two
   tunnel endpoints to communicate with each other using different paths or to
   have one side not transmit anything at all.  As Geneve is an IP-based
   protocol, the tunnel layer inherits these same characteristics.<a class="pilcrow" href="#section-4.4.4-1">¶</a></p>
<p id="section-4.4.4-2">
   It is possible for a tunnel to encapsulate a protocol, such as TCP,
   that is connection oriented and maintains session state at that
   layer.  In addition, implementations <span class="bcp14">MAY</span> model Geneve tunnels as
   connected, bidirectional links, for example, to provide the abstraction of
   a virtual port.  In both of these cases, bidirectionality of the
   tunnel is handled at a higher layer and does not affect the operation
   of Geneve itself.<a class="pilcrow" href="#section-4.4.4-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-4.5">
<section id="section-4.5">
        <h3 id="name-constraints-on-protocol-fea">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-constraints-on-protocol-fea">Constraints on Protocol Features</a>
        </h3>
<p id="section-4.5-1">
   Geneve is intended to be flexible for use with a wide range of current and
   future applications.  As a result, certain constraints may be placed
   on the use of metadata or other aspects of the protocol in order to
   optimize for a particular use case.  For example, some applications
   may limit the types of options that are supported or enforce a
   maximum number or length of options.  Other applications may only
   handle certain encapsulated payload types, such as Ethernet or IP.
   These optimizations can be implemented either globally (throughout
   the system) or locally (for example, restricted to certain classes
   of devices or network paths).<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">
   These constraints may be communicated to tunnel endpoints either
   explicitly through a control plane or implicitly by the nature of the
   application.  As Geneve is defined as a data plane protocol that is
   control plane agnostic, definition of such mechanisms is beyond the scope of this
   document.<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<div id="sec-4.5.1">
<section id="section-4.5.1">
          <h4 id="name-constraints-on-options">
<a class="section-number selfRef" href="#section-4.5.1">4.5.1. </a><a class="section-name selfRef" href="#name-constraints-on-options">Constraints on Options</a>
          </h4>
<p id="section-4.5.1-1">
   While Geneve options are flexible, a control plane may restrict
   the number of option TLVs as well as the order and size of the TLVs
   between tunnel endpoints to make it simpler for a data plane
   implementation in software or hardware to handle (see <span>[<a class="xref" href="#I-D.ietf-nvo3-encap">NVO3-ENCAP</a>]</span>).
   For example, there may be some critical information, such as a secure
   hash, that must be processed in a certain order to provide the lowest
   latency, or there may be other scenarios where the options must be
   processed in a given order due to protocol semantics.<a class="pilcrow" href="#section-4.5.1-1">¶</a></p>
<p id="section-4.5.1-2">
   A control plane may negotiate a subset of option TLVs and certain TLV
   ordering; it may also limit the total number of option TLVs present
   in the packet, for example, to accommodate hardware capable of
   processing fewer options.  Hence, a control plane
   needs to have the ability to describe the supported TLV subset and
   its ordering to the tunnel endpoints.  In the absence of a control
   plane, alternative configuration mechanisms may be used for this
   purpose.  Such mechanisms are beyond the scope of this document.<a class="pilcrow" href="#section-4.5.1-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-4.6">
<section id="section-4.6">
        <h3 id="name-nic-offloads">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-nic-offloads">NIC Offloads</a>
        </h3>
<p id="section-4.6-1">
   Modern NICs currently provide a variety of offloads to enable the
   efficient processing of packets.  The implementation of many of these
   offloads requires only that the encapsulated packet be easily parsed
   (for example, checksum offload).  However, optimizations such as LSO
   and LRO involve some processing of the options themselves since they
   must be replicated/merged across multiple packets.  In these
   situations, it is desirable not to require changes to the offload
   logic to handle the introduction of new options.  To enable this,
   some constraints are placed on the definitions of options to allow
   for simple processing rules:<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6-2.1">When performing LSO, a NIC <span class="bcp14">MUST</span> replicate the entire Geneve header
      and all options, including those unknown to the device, onto each
      resulting segment unless an option allows an exception.  
      Conversely, when performing LRO, a NIC may assume that a
      binary comparison of the options (including unknown options) is
      sufficient to ensure equality and <span class="bcp14">MAY</span> merge packets with equal
      Geneve headers.<a class="pilcrow" href="#section-4.6-2.1">¶</a>
</li>
          <li class="normal" id="section-4.6-2.2">Options <span class="bcp14">MUST NOT</span> be reordered during the course of offload
      processing, including when merging packets for the purpose of LRO.<a class="pilcrow" href="#section-4.6-2.2">¶</a>
</li>
          <li class="normal" id="section-4.6-2.3">NICs performing offloads <span class="bcp14">MUST NOT</span> drop packets with unknown
      options, including those marked as critical, unless explicitly configured to do so.<a class="pilcrow" href="#section-4.6-2.3">¶</a>
</li>
        </ul>
<p id="section-4.6-3">
   There is no requirement that a given implementation of Geneve employ
   the offloads listed as examples above.  However, as these offloads
   are currently widely deployed in commercially available NICs, the
   rules described here are intended to enable efficient handling of
   current and future options across a variety of devices.<a class="pilcrow" href="#section-4.6-3">¶</a></p>
</section>
</div>
<div id="sec-4.7">
<section id="section-4.7">
        <h3 id="name-inner-vlan-handling">
<a class="section-number selfRef" href="#section-4.7">4.7. </a><a class="section-name selfRef" href="#name-inner-vlan-handling">Inner VLAN Handling</a>
        </h3>
<p id="section-4.7-1">
   Geneve is capable of encapsulating a wide range of protocols; therefore, a given implementation is likely to support only a small
   subset of the possibilities.  However, as Ethernet is expected to be
   widely deployed, it is useful to describe the behavior of VLANs
   inside encapsulated Ethernet frames.<a class="pilcrow" href="#section-4.7-1">¶</a></p>
<p id="section-4.7-2">
   As with any protocol, support for inner VLAN headers is <span class="bcp14">OPTIONAL</span>.  In
   many cases, the use of encapsulated VLANs may be disallowed due to
   security or implementation considerations.  However, in other cases, the trunking of VLAN frames across a Geneve tunnel can prove useful.  As
   a result, the processing of inner VLAN tags upon ingress or egress
   from a tunnel endpoint is based upon the configuration of the tunnel
   endpoint and/or control plane and is not explicitly defined as part of
   the data format.<a class="pilcrow" href="#section-4.7-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-5">
<section id="section-5">
      <h2 id="name-transition-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-transition-considerations">Transition Considerations</a>
      </h2>
<p id="section-5-1">
   Viewed exclusively from the data plane, Geneve is compatible with existing IP networks 
   as it appears to most devices as UDP packets.
   However, as there are already a number of tunneling protocols deployed
   in network virtualization environments, there is a practical question
   of transition and coexistence.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">
   Since Geneve builds on the base data plane functionality provided by the most
   common protocols used for network virtualization (VXLAN and NVGRE),
   it should be straightforward to port an existing control plane
   to run on top of it with minimal effort.  With both the old and new
   packet formats supporting the same set of capabilities, there is no
   need for a hard transition; tunnel endpoints directly communicating with
   each other can use any common protocol, which may be different even
   within a single overall system.

   As transit devices are primarily
   forwarding packets on the basis of the IP header, all protocols
   appear to be similar, and these devices do not introduce additional
   interoperability concerns.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">
   To assist with this transition, it is strongly suggested that
   implementations support simultaneous operation of both Geneve and
   existing tunneling protocols, as it is expected to be common for a single
   node to communicate with a mixture of other nodes. Eventually, older
   protocols may be phased out as they are no longer in use.<a class="pilcrow" href="#section-5-3">¶</a></p>
</section>
</div>
<div id="sec-6">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">
   As it is encapsulated within a UDP/IP packet, Geneve does not have any inherent security
   mechanisms.
   As a result, an attacker with access to the underlay
   network transporting the IP packets has the ability to snoop on, alter, or
   inject packets.  Compromised tunnel endpoints or transit devices may also
   spoof identifiers in the tunnel header to gain access to networks
   owned by other tenants.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">
   Within a particular security domain, such as a data center operated
   by a single service provider, the most common and highest-performing security
   mechanism is isolation of trusted components.  Tunnel traffic can be
   carried over a separate VLAN and filtered at any untrusted
   boundaries.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">
   When crossing an untrusted link, such as the general Internet, VPN technologies such as IPsec
   <span>[<a class="xref" href="#RFC4301">RFC4301</a>]</span> should be used to provide authentication and/or encryption of
   the IP packets formed as part of Geneve encapsulation (see <a class="xref" href="#sec-6.1.1">Section 6.1.1</a>).<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">
   Geneve does not otherwise affect the security of the encapsulated
   packets. As per the guidelines of BCP 72 <span>[<a class="xref" href="#RFC3552">RFC3552</a>]</span>, the following sections 
   describe potential security risks that may be applicable to Geneve deployments 
   and approaches to mitigate such risks. It is also noted that not all such risks are applicable
   to all Geneve deployment scenarios, i.e., only a subset may be applicable to certain deployments. 
   An operator has to make an assessment based on their network
   environment, determine the risks that are applicable to their specific environment, and use appropriate mitigation approaches as applicable.<a class="pilcrow" href="#section-6-4">¶</a></p>
<div id="sec-6.1">
<section id="section-6.1">
        <h3 id="name-data-confidentiality">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-data-confidentiality">Data Confidentiality</a>
        </h3>
<p id="section-6.1-1">
 Geneve is a network virtualization overlay encapsulation protocol 
 designed to establish tunnels between NVEs
 over an existing IP network. It can be used to deploy multi-tenant overlay networks
        over an existing IP underlay network in a public or private data center. 

 The overlay service is typically provided by a service provider, such as a 
 cloud service provider or a private data center operator. This may or not may be 
 the same provider as an underlay service provider. Due to the nature of multi-tenancy in such environments, 
 a tenant system may expect data confidentiality to ensure its packet data is not tampered with
 (i.e., active attack) in transit or is a target of unauthorized
 monitoring (i.e., passive attack), for example, by other tenant systems or underlay service provider.
 A compromised network node or a transit device within a
 data center may passively monitor Geneve packet data between NVEs or route
 traffic for further inspection. A tenant may
 expect the overlay service provider to provide data confidentiality as part of the service, or
 a tenant may bring its own data confidentiality mechanisms like IPsec or TLS to protect the data
 end to end between its tenant systems. The overlay provider is expected to provide 
    cryptographic protection in cases where the underlay provider is not the 
    same as the overlay provider to ensure the payload is not exposed to the underlay.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">
 If an operator determines data confidentiality is necessary in their environment 
 based on their risk analysis -- for example, in multi-tenant
 environments -- then an encryption mechanism <span class="bcp14">SHOULD</span> be used to encrypt the tenant
 data end to end between the NVEs. The NVEs may use existing well-established 
 encryption mechanisms, such as IPsec, DTLS, etc.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
<div id="sec-6.1.1">
<section id="section-6.1.1">
          <h4 id="name-inter-data-center-traffic">
<a class="section-number selfRef" href="#section-6.1.1">6.1.1. </a><a class="section-name selfRef" href="#name-inter-data-center-traffic">Inter-Data Center Traffic</a>
          </h4>
<p id="section-6.1.1-1">
 A tenant system in a customer premises (private data center) may want to connect
 to tenant systems on their tenant overlay network in a public cloud data center, or a tenant may want to have its tenant systems located in multiple geographically
 separated data centers for high availability. Geneve data traffic between tenant systems
 across such separated networks should be protected from threats when traversing public networks.
 Any Geneve overlay data leaving the data center network beyond the operator's security domain
 <span class="bcp14">SHOULD</span> be secured by encryption mechanisms, such as 
 IPsec or other VPN technologies, to protect the communications between the NVEs 
 when they are geographically separated over untrusted network links. Specification of 
 data protection mechanisms employed between data centers is beyond the scope of this document.<a class="pilcrow" href="#section-6.1.1-1">¶</a></p>
<p id="section-6.1.1-2">
 The principles described in <a class="xref" href="#sec-4">Section 4</a> regarding controlled environments still apply to 
 the geographically separated data center usage outlined in this section.<a class="pilcrow" href="#section-6.1.1-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-6.2">
<section id="section-6.2">
        <h3 id="name-data-integrity">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-data-integrity">Data Integrity</a>
        </h3>
<p id="section-6.2-1">
 Geneve encapsulation is used between NVEs to establish overlay tunnels over an existing
 IP underlay network. In a multi-tenant data center,  a rogue or compromised tenant system
 may try to launch a passive attack, such as monitoring the traffic of other tenants, or an
 active attack, such as trying to inject unauthorized Geneve encapsulated traffic such 
 as spoofing, replay, etc., into the network. To prevent such attacks, an NVE <span class="bcp14">MUST NOT</span> 
 propagate Geneve packets beyond the NVE to tenant systems and <span class="bcp14">SHOULD</span> employ packet-filtering
 mechanisms so as not to forward unauthorized traffic between tenant systems in different tenant networks.
 An NVE <span class="bcp14">MUST NOT</span> interpret Geneve packets from tenant systems other than as frames to be encapsulated.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<p id="section-6.2-2">
 A compromised network node or a transit device within a data center may launch an active
 attack trying to tamper with the Geneve packet data between NVEs. Malicious tampering of
 Geneve header fields may cause the packet from one tenant to be forwarded to a different 
 tenant network. If an operator determines there is a possibility of such a threat in their environment,
 the operator may choose to employ data integrity mechanisms between NVEs. In order to prevent
 such risks, a data integrity mechanism <span class="bcp14">SHOULD</span> be used in such environments to protect the
 integrity of Geneve packets, including packet headers, options, and payload on communications
 between NVE pairs. A cryptographic data protection mechanism, such as IPsec, may be used to
 provide data integrity protection. A data center operator may choose to deploy any other 
 data integrity mechanisms as applicable and supported in their underlay networks,
 although non-cryptographic mechanisms may not protect the Geneve portion of the packet from tampering.<a class="pilcrow" href="#section-6.2-2">¶</a></p>
</section>
</div>
<div id="sec-6.3">
<section id="section-6.3">
        <h3 id="name-authentication-of-nve-peers">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-authentication-of-nve-peers">Authentication of NVE Peers</a>
        </h3>
<p id="section-6.3-1">
 A rogue network device or a compromised NVE in a data center environment might be able to
 spoof Geneve packets as if it came from a legitimate NVE. In order to mitigate such a risk,
 an operator <span class="bcp14">SHOULD</span> use an authentication mechanism, such as IPsec, to ensure that the 
 Geneve packet originated from the intended NVE peer in environments where the operator
 determines spoofing or rogue devices are potential threats. Other simpler source checks,
 such as ingress filtering for VLAN/MAC/IP addresses, reverse path forwarding checks, etc.,
 may be used in certain trusted environments to ensure Geneve packets originated
        from the intended NVE peer.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
</section>
</div>
<div id="sec-6.4">
<section id="section-6.4">
        <h3 id="name-options-interpretation-by-t">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-options-interpretation-by-t">Options Interpretation by Transit Devices</a>
        </h3>
<p id="section-6.4-1">
 Options, if present in the packet, are generated and terminated by tunnel endpoints. As indicated
 in <a class="xref" href="#sec-2.2.1">Section 2.2.1</a>, transit devices may interpret the options. However, 
 if the packet is protected by encryption from tunnel endpoint
 to tunnel endpoint (for example, through IPsec), transit devices will not have visibility into the Geneve header or options
 in the packet.  In such cases, transit devices <span class="bcp14">MUST</span> handle Geneve packets as any other IP packet 
 and maintain consistent forwarding behavior. In cases where options are interpreted by transit devices, the operator
 <span class="bcp14">MUST</span> ensure that transit devices are trusted and not compromised. The definition of 
 a mechanism to ensure this trust is beyond the scope of this document.<a class="pilcrow" href="#section-6.4-1">¶</a></p>
</section>
</div>
<div id="sec-6.5">
<section id="section-6.5">
        <h3 id="name-multicast-broadcast">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-multicast-broadcast">Multicast/Broadcast</a>
        </h3>
<p id="section-6.5-1">
 In typical data center networks where IP multicasting is not supported in the underlay 
 network, multicasting may be supported using multiple unicast tunnels. The same security
 requirements as described in the above sections can be used to protect Geneve communications
 between NVE peers. If IP multicasting is supported in the underlay network and the operator
 chooses to use it for multicast traffic among tunnel endpoints, then the operator in such
 environments may use data protection mechanisms, such as IPsec with multicast 
 extensions <span>[<a class="xref" href="#RFC5374">RFC5374</a>]</span>, to protect multicast traffic among Geneve NVE groups.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
</section>
</div>
<div id="sec-6.6">
<section id="section-6.6">
        <h3 id="name-control-plane-communication">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-control-plane-communication">Control Plane Communications</a>
        </h3>
<p id="section-6.6-1">
 A Network Virtualization Authority (NVA) as outlined in <span>[<a class="xref" href="#RFC8014">RFC8014</a>]</span> may
 be used as a control plane for configuring and managing the Geneve NVEs. The data center
 operator is expected to use security mechanisms to protect the communications between
 the NVA and NVEs and to use authentication mechanisms to detect any rogue or compromised 
 NVEs within their administrative domain.  Data protection mechanisms for control plane 
 communication or authentication mechanisms between the NVA and NVEs are beyond 
 the scope of this document.<a class="pilcrow" href="#section-6.6-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-7">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">
 IANA has allocated UDP port 6081 in the "Service Name and Transport Protocol 
 Port Number Registry" <span>[<a class="xref" href="#IANA-SN">IANA-SN</a>]</span> as the well-known destination port
        for Geneve:<a class="pilcrow" href="#section-7-1">¶</a></p>
<span class="break"></span><dl class="dlParallel dlCompact" id="section-7-2">
        <dt id="section-7-2.1">Service Name:</dt>
        <dd id="section-7-2.2" style="margin-left: 1.5em">geneve<a class="pilcrow" href="#section-7-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-2.3">Transport Protocol(s):</dt>
        <dd id="section-7-2.4" style="margin-left: 1.5em">UDP<a class="pilcrow" href="#section-7-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-2.5">Assignee:</dt>
        <dd id="section-7-2.6" style="margin-left: 1.5em">IESG &lt;iesg@ietf.org&gt;<a class="pilcrow" href="#section-7-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-2.7">Contact:</dt>
        <dd id="section-7-2.8" style="margin-left: 1.5em">IETF Chair &lt;chair@ietf.org&gt;<a class="pilcrow" href="#section-7-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-2.9">Description:</dt>
        <dd id="section-7-2.10" style="margin-left: 1.5em">Generic Network Virtualization Encapsulation (Geneve)<a class="pilcrow" href="#section-7-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-2.11">Reference:</dt>
        <dd id="section-7-2.12" style="margin-left: 1.5em">[RFC8926]<a class="pilcrow" href="#section-7-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-2.13">Port Number:</dt>
        <dd id="section-7-2.14" style="margin-left: 1.5em">6081<a class="pilcrow" href="#section-7-2.14">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-7-3">
   In addition, IANA has created a new subregistry titled "Geneve Option Class"
   for option classes. This registry has been placed under  
   a new "Network Virtualization Overlay (NVO3)" heading in the IANA protocol registries <span>[<a class="xref" href="#IANA-PR">IANA-PR</a>]</span>. 
   The "Geneve Option Class" registry consists of
   16-bit hexadecimal values along with descriptive strings, assignee/contact information, and references.  
   The registration rules for the new registry are (as defined by <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>):<a class="pilcrow" href="#section-7-3">¶</a></p>
<span id="name-geneve-option-class-registr"></span><table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-geneve-option-class-registr">Geneve Option Class Registry Ranges</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1"> Range</th>
            <th class="text-left" colspan="1" rowspan="1"> Registration Procedures</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0000-0x00FF</td>
            <td class="text-left" colspan="1" rowspan="1">IETF Review</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0x0100-0xFEFF</td>
            <td class="text-left" colspan="1" rowspan="1">First Come First Served</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">0xFF00-0xFFFF</td>
            <td class="text-left" colspan="1" rowspan="1">Experimental Use</td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<section id="section-8">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC0768">[RFC0768]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"User Datagram Protocol"</span>, <span class="seriesInfo">STD 6</span>, <span class="seriesInfo">RFC 768</span>, <span class="seriesInfo">DOI 10.17487/RFC0768</span>, <time class="refDate" datetime="1980-08">August 1980</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc768">https://www.rfc-editor.org/info/rfc768</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0792">[RFC0792]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Control Message Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 792</span>, <span class="seriesInfo">DOI 10.17487/RFC0792</span>, <time class="refDate" datetime="1981-09">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc792">https://www.rfc-editor.org/info/rfc792</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1122">[RFC1122]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refTitle">"Requirements for Internet Hosts - Communication Layers"</span>, <span class="seriesInfo">STD 3</span>, <span class="seriesInfo">RFC 1122</span>, <span class="seriesInfo">DOI 10.17487/RFC1122</span>, <time class="refDate" datetime="1989-10">October 1989</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1191">[RFC1191]</dt>
        <dd>
<span class="refAuthor">Mogul, J.</span><span class="refAuthor"> and S. Deering</span>, <span class="refTitle">"Path MTU discovery"</span>, <span class="seriesInfo">RFC 1191</span>, <span class="seriesInfo">DOI 10.17487/RFC1191</span>, <time class="refDate" datetime="1990-11">November 1990</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1191">https://www.rfc-editor.org/info/rfc1191</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2003">[RFC2003]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span>, <span class="refTitle">"IP Encapsulation within IP"</span>, <span class="seriesInfo">RFC 2003</span>, <span class="seriesInfo">DOI 10.17487/RFC2003</span>, <time class="refDate" datetime="1996-10">October 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2003">https://www.rfc-editor.org/info/rfc2003</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span><span class="refAuthor">, Deering, S.</span><span class="refAuthor">, and M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time class="refDate" datetime="2006-03">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4443">https://www.rfc-editor.org/info/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6040">[RFC6040]</dt>
        <dd>
<span class="refAuthor">Briscoe, B.</span>, <span class="refTitle">"Tunnelling of Explicit Congestion Notification"</span>, <span class="seriesInfo">RFC 6040</span>, <span class="seriesInfo">DOI 10.17487/RFC6040</span>, <time class="refDate" datetime="2010-11">November 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6040">https://www.rfc-editor.org/info/rfc6040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6936">[RFC6936]</dt>
        <dd>
<span class="refAuthor">Fairhurst, G.</span><span class="refAuthor"> and M. Westerlund</span>, <span class="refTitle">"Applicability Statement for the Use of IPv6 UDP Datagrams with Zero Checksums"</span>, <span class="seriesInfo">RFC 6936</span>, <span class="seriesInfo">DOI 10.17487/RFC6936</span>, <time class="refDate" datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6936">https://www.rfc-editor.org/info/rfc6936</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7365">[RFC7365]</dt>
        <dd>
<span class="refAuthor">Lasserre, M.</span><span class="refAuthor">, Balus, F.</span><span class="refAuthor">, Morin, T.</span><span class="refAuthor">, Bitar, N.</span><span class="refAuthor">, and Y. Rekhter</span>, <span class="refTitle">"Framework for Data Center (DC) Network Virtualization"</span>, <span class="seriesInfo">RFC 7365</span>, <span class="seriesInfo">DOI 10.17487/RFC7365</span>, <time class="refDate" datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7365">https://www.rfc-editor.org/info/rfc7365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8085">[RFC8085]</dt>
        <dd>
<span class="refAuthor">Eggert, L.</span><span class="refAuthor">, Fairhurst, G.</span><span class="refAuthor">, and G. Shepherd</span>, <span class="refTitle">"UDP Usage Guidelines"</span>, <span class="seriesInfo">BCP 145</span>, <span class="seriesInfo">RFC 8085</span>, <span class="seriesInfo">DOI 10.17487/RFC8085</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8085">https://www.rfc-editor.org/info/rfc8085</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Leiba, B.</span><span class="refAuthor">, and T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span><span class="refAuthor"> and R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time class="refDate" datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8201">[RFC8201]</dt>
      <dd>
<span class="refAuthor">McCann, J.</span><span class="refAuthor">, Deering, S.</span><span class="refAuthor">, Mogul, J.</span><span class="refAuthor">, and R. Hinden, Ed.</span>, <span class="refTitle">"Path MTU Discovery for IP version 6"</span>, <span class="seriesInfo">STD 87</span>, <span class="seriesInfo">RFC 8201</span>, <span class="seriesInfo">DOI 10.17487/RFC8201</span>, <time class="refDate" datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8201">https://www.rfc-editor.org/info/rfc8201</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="ETYPES">[ETYPES]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"IEEE 802 Numbers"</span>, <span>&lt;<a href="https://www.iana.org/assignments/ieee-802-numbers">https://www.iana.org/assignments/ieee-802-numbers</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA-PR">[IANA-PR]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Protocol Registries"</span>, <span>&lt;<a href="https://www.iana.org/protocols">https://www.iana.org/protocols</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA-SN">[IANA-SN]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Service Name and Transport Protocol Port Number Registry"</span>, <span>&lt;<a href="https://www.iana.org/assignments/service-names-port-numbers">https://www.iana.org/assignments/service-names-port-numbers</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.802.1Q_2018">[IEEE.802.1Q_2018]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and Metropolitan Area Networks--Bridges and Bridged Networks"</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2018.8403927</span>, <span class="seriesInfo">IEEE 802.1Q-2018</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="http://ieeexplore.ieee.org/servlet/opac?punumber=8403925">http://ieeexplore.ieee.org/servlet/opac?punumber=8403925</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-intarea-tunnels">[INTAREA-TUNNELS]</dt>
        <dd>
<span class="refAuthor">Touch, J.</span><span class="refAuthor"> and M. Townsley</span>, <span class="refTitle">"IP Tunnels in the Internet Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-intarea-tunnels-10</span>, <time class="refDate" datetime="2019-09-12">12 September 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-intarea-tunnels-10">https://tools.ietf.org/html/draft-ietf-intarea-tunnels-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-nvo3-dataplane-requirements">[NVO3-DATAPLANE]</dt>
        <dd>
<span class="refAuthor">Bitar, N.</span><span class="refAuthor">, Lasserre, M.</span><span class="refAuthor">, Balus, F.</span><span class="refAuthor">, Morin, T.</span><span class="refAuthor">, Jin, L.</span><span class="refAuthor">, and B. Khasnabish</span>, <span class="refTitle">"NVO3 Data Plane Requirements"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-nvo3-dataplane-requirements-03</span>, <time class="refDate" datetime="2014-04-15">15 April 2014</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-nvo3-dataplane-requirements-03">https://tools.ietf.org/html/draft-ietf-nvo3-dataplane-requirements-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-nvo3-encap">[NVO3-ENCAP]</dt>
        <dd>
<span class="refAuthor">Boutros, S.</span>, <span class="refTitle">"NVO3 Encapsulation Considerations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-nvo3-encap-05</span>, <time class="refDate" datetime="2020-02-17">17 February 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-nvo3-encap-05">https://tools.ietf.org/html/draft-ietf-nvo3-encap-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2983">[RFC2983]</dt>
        <dd>
<span class="refAuthor">Black, D.</span>, <span class="refTitle">"Differentiated Services and Tunnels"</span>, <span class="seriesInfo">RFC 2983</span>, <span class="seriesInfo">DOI 10.17487/RFC2983</span>, <time class="refDate" datetime="2000-10">October 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2983">https://www.rfc-editor.org/info/rfc2983</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3031">[RFC3031]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span><span class="refAuthor">, Viswanathan, A.</span><span class="refAuthor">, and R. Callon</span>, <span class="refTitle">"Multiprotocol Label Switching Architecture"</span>, <span class="seriesInfo">RFC 3031</span>, <span class="seriesInfo">DOI 10.17487/RFC3031</span>, <time class="refDate" datetime="2001-01">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3031">https://www.rfc-editor.org/info/rfc3031</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3552">[RFC3552]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span><span class="refAuthor"> and B. Korver</span>, <span class="refTitle">"Guidelines for Writing RFC Text on Security Considerations"</span>, <span class="seriesInfo">BCP 72</span>, <span class="seriesInfo">RFC 3552</span>, <span class="seriesInfo">DOI 10.17487/RFC3552</span>, <time class="refDate" datetime="2003-07">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3552">https://www.rfc-editor.org/info/rfc3552</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3985">[RFC3985]</dt>
        <dd>
<span class="refAuthor">Bryant, S., Ed.</span><span class="refAuthor"> and P. Pate, Ed.</span>, <span class="refTitle">"Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture"</span>, <span class="seriesInfo">RFC 3985</span>, <span class="seriesInfo">DOI 10.17487/RFC3985</span>, <time class="refDate" datetime="2005-03">March 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3985">https://www.rfc-editor.org/info/rfc3985</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4301">[RFC4301]</dt>
        <dd>
<span class="refAuthor">Kent, S.</span><span class="refAuthor"> and K. Seo</span>, <span class="refTitle">"Security Architecture for the Internet Protocol"</span>, <span class="seriesInfo">RFC 4301</span>, <span class="seriesInfo">DOI 10.17487/RFC4301</span>, <time class="refDate" datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4301">https://www.rfc-editor.org/info/rfc4301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5374">[RFC5374]</dt>
        <dd>
<span class="refAuthor">Weis, B.</span><span class="refAuthor">, Gross, G.</span><span class="refAuthor">, and D. Ignjatic</span>, <span class="refTitle">"Multicast Extensions to the Security Architecture for the Internet Protocol"</span>, <span class="seriesInfo">RFC 5374</span>, <span class="seriesInfo">DOI 10.17487/RFC5374</span>, <time class="refDate" datetime="2008-11">November 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5374">https://www.rfc-editor.org/info/rfc5374</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6438">[RFC6438]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span><span class="refAuthor"> and S. Amante</span>, <span class="refTitle">"Using the IPv6 Flow Label for Equal Cost Multipath Routing and Link Aggregation in Tunnels"</span>, <span class="seriesInfo">RFC 6438</span>, <span class="seriesInfo">DOI 10.17487/RFC6438</span>, <time class="refDate" datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6438">https://www.rfc-editor.org/info/rfc6438</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7348">[RFC7348]</dt>
        <dd>
<span class="refAuthor">Mahalingam, M.</span><span class="refAuthor">, Dutt, D.</span><span class="refAuthor">, Duda, K.</span><span class="refAuthor">, Agarwal, P.</span><span class="refAuthor">, Kreeger, L.</span><span class="refAuthor">, Sridhar, T.</span><span class="refAuthor">, Bursell, M.</span><span class="refAuthor">, and C. Wright</span>, <span class="refTitle">"Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks"</span>, <span class="seriesInfo">RFC 7348</span>, <span class="seriesInfo">DOI 10.17487/RFC7348</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7348">https://www.rfc-editor.org/info/rfc7348</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7637">[RFC7637]</dt>
        <dd>
<span class="refAuthor">Garg, P., Ed.</span><span class="refAuthor"> and Y. Wang, Ed.</span>, <span class="refTitle">"NVGRE: Network Virtualization Using Generic Routing Encapsulation"</span>, <span class="seriesInfo">RFC 7637</span>, <span class="seriesInfo">DOI 10.17487/RFC7637</span>, <time class="refDate" datetime="2015-09">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7637">https://www.rfc-editor.org/info/rfc7637</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8014">[RFC8014]</dt>
        <dd>
<span class="refAuthor">Black, D.</span><span class="refAuthor">, Hudson, J.</span><span class="refAuthor">, Kreeger, L.</span><span class="refAuthor">, Lasserre, M.</span><span class="refAuthor">, and T. Narten</span>, <span class="refTitle">"An Architecture for Data-Center Network Virtualization over Layer 3 (NVO3)"</span>, <span class="seriesInfo">RFC 8014</span>, <span class="seriesInfo">DOI 10.17487/RFC8014</span>, <time class="refDate" datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8014">https://www.rfc-editor.org/info/rfc8014</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8086">[RFC8086]</dt>
        <dd>
<span class="refAuthor">Yong, L., Ed.</span><span class="refAuthor">, Crabbe, E.</span><span class="refAuthor">, Xu, X.</span><span class="refAuthor">, and T. Herbert</span>, <span class="refTitle">"GRE-in-UDP Encapsulation"</span>, <span class="seriesInfo">RFC 8086</span>, <span class="seriesInfo">DOI 10.17487/RFC8086</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8086">https://www.rfc-editor.org/info/rfc8086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8293">[RFC8293]</dt>
        <dd>
<span class="refAuthor">Ghanwani, A.</span><span class="refAuthor">, Dunbar, L.</span><span class="refAuthor">, McBride, M.</span><span class="refAuthor">, Bannai, V.</span><span class="refAuthor">, and R. Krishnan</span>, <span class="refTitle">"A Framework for Multicast in Network Virtualization over Layer 3"</span>, <span class="seriesInfo">RFC 8293</span>, <span class="seriesInfo">DOI 10.17487/RFC8293</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8293">https://www.rfc-editor.org/info/rfc8293</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="VL2">[VL2]</dt>
      <dd>
<span class="refTitle">"VL2: A Scalable and Flexible Data Center Network"</span>, <span class="refContent">ACM SIGCOMM Computer Communication Review</span>, <span class="seriesInfo">DOI 10.1145/1594977.1592576</span>, <time class="refDate" datetime="2009-08">August 2009</time>, <span>&lt;<a href="https://dl.acm.org/doi/10.1145/1594977.1592576">https://dl.acm.org/doi/10.1145/1594977.1592576</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="sec-9">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1"> 
 The authors wish to acknowledge <span class="contact-name">Puneet Agarwal</span>,
 <span class="contact-name">David Black</span>, <span class="contact-name">Sami Boutros</span>,
   <span class="contact-name">Scott Bradner</span>, 
 <span class="contact-name">Martín Casado</span>, <span class="contact-name">Alissa Cooper</span>,
   <span class="contact-name">Roman Danyliw</span>, <span class="contact-name">Bruce Davie</span>,
     <span class="contact-name">Anoop Ghanwani</span>, <span class="contact-name">Benjamin        Kaduk</span>, <span class="contact-name">Suresh Krishnan</span>, <span class="contact-name">Mirja Kühlewind</span>, <span class="contact-name">Barry Leiba</span>,
       <span class="contact-name">Daniel Migault</span>, <span class="contact-name">Greg   Mirksy</span>, <span class="contact-name">Tal Mizrahi</span>, 
 <span class="contact-name">Kathleen Moriarty</span>, <span class="contact-name">Magnus    Nyström</span>, <span class="contact-name">Adam Roach</span>, <span class="contact-name">Sabrina    Tanamal</span>, <span class="contact-name">Dave Thaler</span>, <span class="contact-name">Éric Vyncke</span>, 
 <span class="contact-name">Magnus Westerlund</span>, and many other members of the NVO3 Working Group for their reviews, comments, and suggestions.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<p id="section-appendix.a-2"> 
 The authors would like to thank <span class="contact-name">Sam Aldrin</span>,
 <span class="contact-name">Alia Atlas</span>, <span class="contact-name">Matthew Bocci</span>,
   <span class="contact-name">Benson Schliesser</span>, and <span class="contact-name">Martin Vigoureux</span> 
 for their guidance throughout the process.<a class="pilcrow" href="#section-appendix.a-2">¶</a></p>
</section>
</div>
<div id="sec-8">
<section id="section-appendix.b">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="section-appendix.b-1">
   The following individuals were authors of an earlier version of this
   document and made significant contributions:<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Pankaj Garg</span></div>
<div class="left" dir="auto"><span class="org">Microsoft Corporation</span></div>
<div class="left" dir="auto"><span class="street-address">1 Microsoft Way</span></div>
<div class="left" dir="auto">
<span class="locality">Redmond</span>, <span class="region">WA</span> <span class="postal-code">98052</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pankajg@microsoft.com">pankajg@microsoft.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Chris Wright</span></div>
<div class="left" dir="auto"><span class="org">Red Hat Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">1801 Varsity Drive</span></div>
<div class="left" dir="auto">
<span class="locality">Raleigh</span>, <span class="region">NC</span> <span class="postal-code">27606</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:chrisw@redhat.com">chrisw@redhat.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kenneth Duda</span></div>
<div class="left" dir="auto"><span class="org">Arista Networks</span></div>
<div class="left" dir="auto"><span class="street-address">5453 Great America Parkway</span></div>
<div class="left" dir="auto">
<span class="locality">Santa Clara</span>, <span class="region">CA</span> <span class="postal-code">95054</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:kduda@arista.com">kduda@arista.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Dinesh G. Dutt</span></div>
<div class="left" dir="auto"><span class="org">Independent</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:didutt@gmail.com">didutt@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jon Hudson</span></div>
<div class="left" dir="auto"><span class="org">Independent</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jon.hudson@gmail.com">jon.hudson@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ariel Hendel</span></div>
<div class="left" dir="auto"><span class="org">Facebook, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">1 Hacker Way</span></div>
<div class="left" dir="auto">
<span class="locality">Menlo Park</span>, <span class="region">CA</span> <span class="postal-code">94025</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ahendel@fb.com">ahendel@fb.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jesse Gross (<span class="role">editor</span>)</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jesse@kernel.org">jesse@kernel.org</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ilango Ganga (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Intel Corporation</span></div>
<div class="left" dir="auto"><span class="street-address">2200 Mission College Blvd.</span></div>
<div class="left" dir="auto">
<span class="locality">Santa Clara</span>, <span class="region">CA</span> <span class="postal-code">95054</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ilango.s.ganga@intel.com">ilango.s.ganga@intel.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">T. Sridhar (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">VMware, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">3401 Hillview Ave.</span></div>
<div class="left" dir="auto">
<span class="locality">Palo Alto</span>, <span class="region">CA</span> <span class="postal-code">94304</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tsridhar@utexas.edu">tsridhar@utexas.edu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>