<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9524: Segment Routing Replication for Multipoint Service Delivery</title>
<meta content="Daniel Voyer" name="author"/>
<meta content="Clarence Filsfils" name="author"/>
<meta content="Rishabh Parekh" name="author"/>
<meta content="Hooman Bidgoli" name="author"/>
<meta content="Zhaohui Zhang" name="author"/>
<meta content="
       This document describes the Segment Routing Replication segment for
      multipoint service delivery. A Replication segment allows a packet to be
      replicated from a replication node to downstream nodes. 
    " name="description"/>
<meta content="xml2rfc 3.20.0" name="generator"/>
<meta content="9524" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.20.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9524.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-spring-sr-replication-segment-19" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9524" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9524</td>
<td class="center">SR Replication Segment</td>
<td class="right">February 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Voyer, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9524">9524</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2024-02">February 2024</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Voyer, <span class="editor">Ed.</span>
</div>
<div class="org">Bell Canada</div>
</div>
<div class="author">
      <div class="author-name">C. Filsfils</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Parekh</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">H. Bidgoli</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">Z. Zhang</div>
<div class="org">Juniper Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9524</h1>
<h1 id="title">Segment Routing Replication for Multipoint Service Delivery</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document describes the Segment Routing Replication segment for
      multipoint service delivery. A Replication segment allows a packet to be
      replicated from a replication node to downstream nodes.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9524">https://www.rfc-editor.org/info/rfc9524</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="auto internal xref" href="#section-1.2">1.2</a>.  <a class="internal xref" href="#name-use-cases">Use Cases</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-replication-segment">Replication Segment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-sr-mpls-data-plane">SR-MPLS Data Plane</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-srv6-data-plane">SRv6 Data Plane</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1"><a class="auto internal xref" href="#section-2.2.1">2.2.1</a>.  <a class="internal xref" href="#name-endreplicate-replicate-and-">End.Replicate: Replicate and/or Decapsulate</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.2">
                    <p id="section-toc.1-1.2.2.2.2.2.1"><a class="auto internal xref" href="#section-2.2.2">2.2.2</a>.  <a class="internal xref" href="#name-oam-operations">OAM Operations</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.3">
                    <p id="section-toc.1-1.2.2.2.2.3.1"><a class="auto internal xref" href="#section-2.2.3">2.2.3</a>.  <a class="internal xref" href="#name-icmpv6-error-messages">ICMPv6 Error Messages</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-illustration-of-a-replicati">Illustration of a Replication Segment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#appendix-A.1">A.1</a>.  <a class="internal xref" href="#name-sr-mpls">SR-MPLS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#appendix-A.2">A.2</a>.  <a class="internal xref" href="#name-srv6">SRv6</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a class="auto internal xref" href="#appendix-A.2.1">A.2.1</a>.  <a class="internal xref" href="#name-pinging-a-replication-sid">Pinging a Replication-SID</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-D"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The Replication segment is a new type of segment for Segment Routing
      (SR) <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span>, which allows a node
      (henceforth called a "replication node") to replicate packets to a set
      of other nodes (called "downstream nodes") in an SR domain.
      A Replication segment can replicate packets to directly connected nodes
      or to downstream nodes (without the need for state on the transit
      routers). This document focuses on specifying the behavior of a
      Replication segment for both Segment Routing with Multiprotocol Label
      Switching (SR-MPLS) <span>[<a class="cite xref" href="#RFC8660">RFC8660</a>]</span> and
      Segment Routing with IPv6 (SRv6) <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span>. The examples in <a class="auto internal xref" href="#Appendix">Appendix A</a> illustrate the behavior of a Replication Segment in
      an SR domain. The use of two or more Replication segments stitched
      together to form a tree using a control plane is left to be specified in
      other documents. The management of IP multicast groups, building IP
      multicast trees, and performing multicast congestion control are out of
      scope of this document.<a class="pilcrow" href="#section-1-1">¶</a></p>
<section id="section-1.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.1-1">This section defines terms introduced and used frequently in this
        document. Refer to the Terminology sections of <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span>, <span>[<a class="cite xref" href="#RFC8754">RFC8754</a>]</span>, and
        <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span> for other terms used in
        SR.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.1-2">
          <dt id="section-1.1-2.1">Replication segment:</dt>
          <dd id="section-1.1-2.2" style="margin-left: 1.5em">A segment in an SR domain that replicates packets. See <a class="auto internal xref" href="#RepSeg">Section 2</a> for details.<a class="pilcrow" href="#section-1.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.3">Replication node:</dt>
          <dd id="section-1.1-2.4" style="margin-left: 1.5em">A node in an SR domain that replicates packets based on a
          Replication segment.<a class="pilcrow" href="#section-1.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.5">Downstream nodes:</dt>
          <dd id="section-1.1-2.6" style="margin-left: 1.5em">A Replication segment replicates packets to a set of nodes.
          These nodes are downstream nodes.<a class="pilcrow" href="#section-1.1-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.7">Replication state:</dt>
          <dd id="section-1.1-2.8" style="margin-left: 1.5em">State held for a Replication segment at a replication node. It
          is conceptually a list of Replication branches to downstream nodes.
          The list can be empty.<a class="pilcrow" href="#section-1.1-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.9">Replication-SID:</dt>
          <dd id="section-1.1-2.10" style="margin-left: 1.5em">Data plane identifier of a Replication segment. This is an
          SR-MPLS label or SRv6 Segment Identifier (SID).<a class="pilcrow" href="#section-1.1-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.11">SRH:</dt>
          <dd id="section-1.1-2.12" style="margin-left: 1.5em">IPv6 Segment Routing Header <span>[<a class="cite xref" href="#RFC8754">RFC8754</a>]</span>.<a class="pilcrow" href="#section-1.1-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.13">Point-to-Multipoint (P2MP) Service:</dt>
          <dd id="section-1.1-2.14" style="margin-left: 1.5em">A service that has one ingress node and one or more egress
          nodes. A packet is delivered to all the egress nodes.<a class="pilcrow" href="#section-1.1-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.15">Root node:</dt>
          <dd id="section-1.1-2.16" style="margin-left: 1.5em">An ingress node of a P2MP service.<a class="pilcrow" href="#section-1.1-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.17">Leaf node:</dt>
          <dd id="section-1.1-2.18" style="margin-left: 1.5em">An egress node of a P2MP service.<a class="pilcrow" href="#section-1.1-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.19">Bud node:</dt>
          <dd id="section-1.1-2.20" style="margin-left: 1.5em">A node that is both a replication node and a leaf node.<a class="pilcrow" href="#section-1.1-2.20">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-1.1-3">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
    "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
    interpreted as described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals, as
    shown here.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-use-cases">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-use-cases">Use Cases</a>
        </h3>
<p id="section-1.2-1">In the simplest use case, a single Replication segment includes the
        ingress node of a multipoint service and the egress nodes of the
        service as all the downstream nodes. This achieves Ingress Replication
        <span>[<a class="cite xref" href="#RFC7988">RFC7988</a>]</span> that has been widely used
        for Multicast VPN (MVPN) <span>[<a class="cite xref" href="#RFC6513">RFC6513</a>]</span> and
        Ethernet VPN (EVPN) <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> bridging
        of Broadcast, Unknown Unicast, and Multicast (BUM) traffic.  This Replication segment on ingress and
        egress nodes can either be provisioned locally or using dynamic autodiscovery procedures for MVPN and
        EVPN. Note <span><a class="internal xref" href="#RFC8986">SRv6</a> [<a class="cite xref" href="#RFC8986">RFC8986</a>]</span> has
        End.DT2M replication behavior for EVPN BUM traffic.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
<p id="section-1.2-2">Replication segments can also be used to form trees by stitching
        Replication segments on a root node, intermediate replication nodes,
        and leaf nodes for efficient delivery of MVPN and EVPN BUM
        traffic.<a class="pilcrow" href="#section-1.2-2">¶</a></p>
</section>
</section>
<div id="RepSeg">
<section id="section-2">
      <h2 id="name-replication-segment">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-replication-segment">Replication Segment</a>
      </h2>
<p id="section-2-1">In an SR domain, a Replication segment is a logical
      construct that connects a replication node to a set of downstream nodes.
      A Replication segment is a local segment instantiated at a Replication
      node. It can be either provisioned locally on a node or programmed by a control plane.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">Replication segments can be stitched together to form a tree by
      either local provisioning on nodes or using a control plane. The
      procedures for doing this are out of scope of this document. One such
      control plane using a PCE with the SR P2MP policy is specified in <span>[<a class="cite xref" href="#I-D.ietf-pim-sr-p2mp-policy">P2MP-POLICY</a>]</span>. However, if
      local provisioning is used to stitch Replication segments, then a chain
      of Replication segments <span class="bcp14">SHOULD NOT</span> form a loop. If a
      control plane is used to stitch Replication segments, the control plane
      specification <span class="bcp14">MUST</span> prevent loops or detect and mitigate
      loops in steady state.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">A Replication segment is identified by the tuple &lt;Replication-ID,
      Node-ID&gt;, where:<a class="pilcrow" href="#section-2-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-4">
        <dt id="section-2-4.1">Replication-ID:</dt>
        <dd id="section-2-4.2" style="margin-left: 1.5em">An identifier for a Replication segment that is unique in context
        of the replication node.<a class="pilcrow" href="#section-2-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.3">Node-ID:</dt>
        <dd id="section-2-4.4" style="margin-left: 1.5em">The address of the replication node for the Replication segment.
        Note that the root of a multipoint service is also a Replication
        node.<a class="pilcrow" href="#section-2-4.4">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-5">Replication-ID is a variable-length field. In the simplest case, it
      can be a 32-bit number, but it can be extended or modified as required
      based on the specific use of a Replication segment. This is out of scope
      for this document. The length of the Replication-ID is specified in the
      signaling mechanism used for the Replication segment. Examples of such
      signaling and extensions are described in <span>[<a class="cite xref" href="#I-D.ietf-pim-sr-p2mp-policy">P2MP-POLICY</a>]</span>. When the PCE signals a
      Replication segment to its node, the &lt;Replication-ID, Node-ID&gt;
      tuple identifies the segment.<a class="pilcrow" href="#section-2-5">¶</a></p>
<p id="section-2-6">A Replication segment includes the following elements:<a class="pilcrow" href="#section-2-6">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-7">
        <dt id="section-2-7.1">Replication-SID:</dt>
        <dd id="section-2-7.2" style="margin-left: 1.5em">The Segment Identifier of a Replication segment. This is an
        SR-MPLS label or an SRv6 SID <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-2-7.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-7.3">Downstream nodes:</dt>
        <dd id="section-2-7.4" style="margin-left: 1.5em">Set of nodes in an SR domain to which a packet is
        replicated by the Replication segment.<a class="pilcrow" href="#section-2-7.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-7.5">Replication state:</dt>
        <dd id="section-2-7.6" style="margin-left: 1.5em">See below.<a class="pilcrow" href="#section-2-7.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-8">The downstream nodes and Replication state (RS) of a Replication segment
      can change over time, depending on the network state and leaf nodes of a
      multipoint service that the segment is part of.<a class="pilcrow" href="#section-2-8">¶</a></p>
<p id="section-2-9">The Replication-SID identifies the Replication segment in the
      forwarding plane. At a replication node, the Replication-SID operates on
      the RS of the Replication segment.<a class="pilcrow" href="#section-2-9">¶</a></p>
<p id="section-2-10">RS is a list of Replication branches to the downstream
      nodes. In this document, each branch is abstracted to a &lt;downstream
      node, downstream Replication-SID&gt; tuple. &lt;downstream node&gt;
      represents the reachability from the replication node to the downstream
      node. In its simplest form, this <span class="bcp14">MAY</span> be specified as an
      interface or next-hop if the downstream node is adjacent to the
      replication node. The reachability may be specified in terms of a
      Flexible Algorithm path (including the default algorithm) <span>[<a class="cite xref" href="#RFC9350">RFC9350</a>]</span> or specified by an SR-explicit path
      represented either by a SID list (of one or more SIDs) or by a Segment
      Routing Policy <span>[<a class="cite xref" href="#RFC9256">RFC9256</a>]</span>. The downstream
      Replication-SID is the Replication-SID of the Replication segment at the
      downstream node.<a class="pilcrow" href="#section-2-10">¶</a></p>
<p id="section-2-11">A packet is steered into a Replication segment at a replication node
      in two ways:<a class="pilcrow" href="#section-2-11">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-12.1">When the active segment <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span>
        is a locally instantiated Replication-SID.<a class="pilcrow" href="#section-2-12.1">¶</a>
</li>
        <li class="normal" id="section-2-12.2">By the root of a multipoint service based on local configuration
        that is outside the scope of this document.<a class="pilcrow" href="#section-2-12.2">¶</a>
</li>
      </ul>
<p id="section-2-13">In either case, the packet is replicated to each downstream node in
      the associated RS.<a class="pilcrow" href="#section-2-13">¶</a></p>
<p id="section-2-14">If a downstream node is an egress (leaf) of the multipoint service,
      no further replication is needed. The leaf node's Replication segment
      has an indicator for the leaf role, and it does not have any RS (i.e., the list of Replication branches is empty). The Replication-SID at a leaf node <span class="bcp14">MAY</span> be used to identify the multipoint
      service. Notice that the segment on the leaf node is still referred to
      as a "Replication segment" for the purpose of generalization.<a class="pilcrow" href="#section-2-14">¶</a></p>
<p id="section-2-15">A node can be a bud node (i.e., it is a replication node and a leaf
      node of a multipoint service <span>[<a class="cite xref" href="#I-D.ietf-pim-sr-p2mp-policy">P2MP-POLICY</a>]</span>). The Replication segment of a
      bud node has a list of Replication branches as well as a leaf role
      indicator.<a class="pilcrow" href="#section-2-15">¶</a></p>
<p id="section-2-16">In principle, it is possible for different Replication segments to
      replicate packets to the same Replication segment on a downstream node.
      However, such usage is intentionally left out of scope of this
      document.<a class="pilcrow" href="#section-2-16">¶</a></p>
<section id="section-2.1">
        <h3 id="name-sr-mpls-data-plane">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-sr-mpls-data-plane">SR-MPLS Data Plane</a>
        </h3>
<p id="section-2.1-1">When the active segment is a Replication-SID, the processing
        results in a POP <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span> operation
        and the lookup of the associated RS. For each
        replication in the RS, the operation is a PUSH <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span> of the downstream Replication-SID
        and an optional segment list onto the packet to steer the packet to
        the downstream node.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2">The operation performed on the incoming Replication-SID is NEXT
        <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span> at a leaf or bud node where
        delivery of payload off the tree is per local configuration. For some
        usages, this may involve looking at the next SID, for example, to get
        the necessary context.<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<p id="section-2.1-3">When the root of a multipoint service steers a packet to a
        Replication segment, it results in a replication to each downstream
        node in the associated RS. The operation is a PUSH of
        the Replication-SID and an optional segment list onto the packet,
        which is forwarded to the downstream node.<a class="pilcrow" href="#section-2.1-3">¶</a></p>
<p id="section-2.1-4">The following applies to a Replication-SID in MPLS
        encapsulation:<a class="pilcrow" href="#section-2.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-5.1">SIDs <span class="bcp14">MAY</span> be inserted before the downstream
          SR-MPLS Replication-SID in order to guide a packet from a
          non-adjacent SR node to a replication node.<a class="pilcrow" href="#section-2.1-5.1">¶</a>
</li>
          <li class="normal" id="section-2.1-5.2">A replication node <span class="bcp14">MAY</span> replicate a packet to a
          non-adjacent downstream node using SIDs it inserts in the copy
          preceding the downstream Replication-SID. The downstream node may be
          a leaf node of the Replication segment, another replication node, or
          both in the case of a bud node.<a class="pilcrow" href="#section-2.1-5.2">¶</a>
</li>
          <li class="normal" id="section-2.1-5.3">A replication node <span class="bcp14">MAY</span> use an Anycast-SID or a
          Border Gateway Protocol (BGP) PeerSet-SID in the segment list to
          send a replicated packet to one downstream replication node in a set of
          Anycast nodes. This occurs if and only if all nodes in the set have an
          identical Replication-SID and reach the same set of receivers.<a class="pilcrow" href="#section-2.1-5.3">¶</a>
</li>
          <li class="normal" id="section-2.1-5.4">For some use cases, there <span class="bcp14">MAY</span> be SIDs after the
          Replication-SID in the segment list of a packet. These SIDs are used
          only by the leaf and bud nodes to forward a packet off the tree
          independent of the Replication-SID. Coordination regarding the
          absence or presence and value of context information for leaf and bud
          nodes is outside the scope of this document.<a class="pilcrow" href="#section-2.1-5.4">¶</a>
</li>
        </ul>
</section>
<div id="SRv6">
<section id="section-2.2">
        <h3 id="name-srv6-data-plane">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-srv6-data-plane">SRv6 Data Plane</a>
        </h3>
<p id="section-2.2-1">For SRv6 <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span>, this document
        specifies "Endpoint with replication and/or decapsulate" behavior (End.Replicate for
        short) to replicate a packet and forward the replicas according to an
        RS.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">When processing a packet destined to a local Replication-SID, the
        packet is replicated according to the associated RS to
        downstream nodes and/or locally delivered off the tree when this is a
        leaf or bud node. For replication, the outer header is reused, and the
        downstream Replication-SID, from RS, is written into
        the outer IPv6 header Destination Address (DA). If required, an
        optional segment list may be used on some branches using H.Encaps.Red
        <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span> (while some other branches
        may not need that). Note that this H.Encaps.Red is independent of the
        Replication segment: it is just used to steer the replicated packet on
        a traffic-engineered path to a downstream node. The penultimate
        segment in the encapsulating IPv6 header will execute the Ultimate
        Segment Decapsulation (USD) flavor <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span> of End/End.X behavior and forward the inner
        (replicated) packet to the downstream node. If H.Encaps.Red is used to
        steer a replicated packet to a downstream node, the operator must
        ensure the MTU on path to the downstream node is sufficient to account
        for additional SRv6 encapsulation. This also applies when the
        Replication segment is for the root node, whose upstream node has
        placed the Replication-SID in the header.<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<p id="section-2.2-3">A local application on root (e.g., MVPN <span>[<a class="cite xref" href="#RFC6513">RFC6513</a>]</span> or EVPN <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>)
        may also apply H.Encaps.Red and then steer the resulting traffic into
        the Replication segment. Again, note that H.Encaps.Red is independent
        of the Replication segment: it is the action of the application (e.g.
        MVPN or EVPN service). If the service is on a root node, then the two
        H.Encaps mentioned, one for the service and the other in the previous
        paragraph for replication to the downstream node,
        <span class="bcp14">SHOULD</span> be combined for optimization (to avoid extra
        IPv6 encapsulation).<a class="pilcrow" href="#section-2.2-3">¶</a></p>
<p id="section-2.2-4">When processing a packet destined to a local Replication-SID, the
        IPv6 Hop Limit <span class="bcp14">MUST</span> be decremented and
        <span class="bcp14">MUST</span> be non-zero to replicate the packet. A root node
        that encapsulates a payload can set the IPv6 Hop Limit based on a
        local policy. This local policy <span class="bcp14">SHOULD</span> set the IPv6 Hop
        Limit so that a replicated packet can reach the furthest leaf node. A
        root node can also have a local policy to set the IPv6 Hop Limit from
        the payload. In this case, the IPv6 Hop Limit may not be sufficient to
        get the replicated packet to all the leaf nodes. Non-replication nodes
        (i.e., nodes that forward replicated packets based on the IPv6 locator
        unicast prefix) can decrement the IPv6 Hop Limit to zero and originate
        ICMPv6 error packets to the root node. This can result in a storm of
        ICMPv6 packets (see <a class="auto internal xref" href="#ICMP">Section 2.2.3</a>) to the
        root node. To avoid this, a Replication segment has an optional IPv6
        Hop Limit Threshold. If this threshold is set, a replication node
        <span class="bcp14">MUST</span> discard an incoming packet with a local
        Replication-SID if the IPv6 Hop Limit in the packet is less than the
        threshold and log this in a rate-limited manner. The IPv6 Hop Limit
        Threshold <span class="bcp14">SHOULD</span> be set so that an incoming packet can
        be replicated to the furthest leaf node.<a class="pilcrow" href="#section-2.2-4">¶</a></p>
<p id="section-2.2-5">For leaf and bud nodes, local delivery off the tree is per Replication-SID or the next SID (if present in the SRH). For some usages, this may
        involve getting the necessary context either from the next SID (e.g.,
        MVPN with a shared tree) or from the Replication-SID itself (e.g.,
        MVPN with a non-shared tree). In both cases, the context association
        is achieved with signaling and is out of scope of this document.<a class="pilcrow" href="#section-2.2-5">¶</a></p>
<p id="section-2.2-6">The following applies to a Replication-SID in SRv6
        encapsulation:<a class="pilcrow" href="#section-2.2-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-7.1">There <span class="bcp14">MAY</span> be SIDs preceding the SRv6 Replication-SID in order to guide a packet from a non-adjacent SR node to a
          replication node via an explicit path.<a class="pilcrow" href="#section-2.2-7.1">¶</a>
</li>
          <li class="normal" id="section-2.2-7.2">A replication node <span class="bcp14">MAY</span> steer a replicated packet
          on an explicit path to a non-adjacent downstream node using SIDs it
          inserts in the copy preceding the downstream Replication-SID. The
          downstream node may be a leaf node of the Replication segment,
          another replication node, or both in the case of a bud node.<a class="pilcrow" href="#section-2.2-7.2">¶</a>
</li>
          <li class="normal" id="section-2.2-7.3">For SRv6, as described in above paragraphs, the insertion of
          SIDs prior to the Replication-SID entails a new IPv6 encapsulation
          with the SRH. However, this can be optimized on the root node or for
          compressed SRv6 SIDs.<a class="pilcrow" href="#section-2.2-7.3">¶</a>
</li>
          <li class="normal" id="section-2.2-7.4">The locator of the Replication-SID is sufficient to guide a
          packet on the shortest path between non-adjacent nodes for default
          or Flexible Algorithms.<a class="pilcrow" href="#section-2.2-7.4">¶</a>
</li>
          <li class="normal" id="section-2.2-7.5">A replication node <span class="bcp14">MAY</span> use an Anycast-SID or a
          BGP PeerSet-SID in the segment list to send a replicated packet to
          one downstream replication node in an Anycast set. This occurs if
          and only if all nodes in the set have an identical Replication-SID
          and reach the same set of receivers.<a class="pilcrow" href="#section-2.2-7.5">¶</a>
</li>
          <li class="normal" id="section-2.2-7.6">There <span class="bcp14">MAY</span> be SIDs after the Replication-SID in
          the SRH of a packet. These SIDs are used to provide additional
          context for processing a packet locally at the node where the
          Replication-SID is the active segment. Coordination regarding the
          absence or presence and value of context information for leaf and bud
          nodes is outside the scope of this document.<a class="pilcrow" href="#section-2.2-7.6">¶</a>
</li>
        </ul>
<section id="section-2.2.1">
          <h4 id="name-endreplicate-replicate-and-">
<a class="section-number selfRef" href="#section-2.2.1">2.2.1. </a><a class="section-name selfRef" href="#name-endreplicate-replicate-and-">End.Replicate: Replicate and/or Decapsulate</a>
          </h4>
<p id="section-2.2.1-1">The "Endpoint with replication and/or decapsulate"
          (End.Replicate for short) is a variant of End behavior. The
          pseudocode in this section follows the convention introduced in
          <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span>.<a class="pilcrow" href="#section-2.2.1-1">¶</a></p>
<p id="section-2.2.1-2">An RS conceptually contains the following
          elements:<a class="pilcrow" href="#section-2.2.1-2">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.2.1-3">
<pre>Replication state:
{
  Node-Role: {Head, Transit, Leaf, Bud};
  IPv6 Hop Limit Threshold; # default is zero
  # On Leaf, replication list is zero length
  Replication-List:
  {
    downstream node: &lt;Node-Identifier&gt;;
    downstream Replication-SID: R-SID;
    # Segment-List may be empty
    Segment-List: [SID-1, .... SID-N];
  }
}
</pre><a class="pilcrow" href="#section-2.2.1-3">¶</a>
</div>
<p id="section-2.2.1-4">Below is the Replicate function on a packet for Replication state
          (RS).<a class="pilcrow" href="#section-2.2.1-4">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.2.1-5">
<pre>S01. Replicate(RS, packet)
S02. {
S03.    For each Replication R in RS.Replication-List {
S04.       Make a copy of the packet
S05.       Set IPv6 DA = RS.R-SID
S06.       If RS.Segment-List is not empty {
S07.         # Head node may optimize below encapsulation and
S08.         # the encapsulation of packet in a single encapsulation
S09.         Execute H.Encaps or H.Encaps.Red with RS.Segment-List
             on packet copy #RFC 8986, Sections 5.1 and 5.2
S10.       }
S11.       Submit the packet to the egress IPv6 FIB lookup and
           transmission to the new destination
S12.   }
S13. }
</pre><a class="pilcrow" href="#section-2.2.1-5">¶</a>
</div>
<p id="section-2.2.1-6">Notes:<a class="pilcrow" href="#section-2.2.1-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1-7.1">The IPv6 DA in the copy of a packet is set
            from the local state and not from the SRH.<a class="pilcrow" href="#section-2.2.1-7.1">¶</a>
</li>
          </ul>
<p id="section-2.2.1-8">When N receives a packet whose IPv6 DA is S and S is a local
          End.Replicate SID, N does:<a class="pilcrow" href="#section-2.2.1-8">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.2.1-9">
<pre>S01.   Lookup FUNCT portion of S to get Replication state (RS)
S02.   If (IPv6 Hop Limit &lt;= 1) {
S03.     Discard the packet
S04.     # ICMPv6 Time Exceeded is not permitted
           (see Section 2.2.3)
S05.   }
S06.   If RS is not found {
S07.     Discard the packet
S08.   }
S09.   If (IPv6 Hop Limit &lt; RS.IPv6 Hop Limit Threshold) {
S10.     Discard the packet
S11.     # Rate-limited logging
S12.   }
S13.   Decrement IPv6 Hop Limit by 1
S14.   If (IPv6 NH == SRH and SRH TLVs present) {
S15.     Process SRH TLVs if allowed by local configuration
S16.   }
S17.   Call Replicate(RS, packet)
S18.   If (RS.Node-Role == Leaf OR RS.Node-Role == bud) {
S19.     If (IPv6 NH == SRH and Segments Left &gt; 0) {
S20.       Derive packet processing context (PPC) from Segment List
S21.       If (Segments Left != 0) {
S22.         Discard the packet
S23.         # ICMPv6 Parameter Problem message with Code 0
S24.         # (Erroneous header field encountered)
S25.         # is not permitted (Section 2.2.3)
S26.       }
S27.     } Else {
S28.       Derive packet processing context (PPC)
           from FUNCT of Replicatio-SID
S29.     }
S30.     Process the next header
S31.   }
</pre><a class="pilcrow" href="#section-2.2.1-9">¶</a>
</div>
<p id="section-2.2.1-10">The processing of the Upper-Layer header of a packet matching the
          End.Replicate SID at a leaf or bud node is as follows:<a class="pilcrow" href="#section-2.2.1-10">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.2.1-11">
<pre>S01.   If (Upper-Layer header type == 4(IPv4) OR
           Upper-Layer header type == 41(IPv6) ) {
S02.     Remove the outer IPv6 header with all its extension headers
S03.     Process the packet in context of PPC
S04.   } Else If (Upper-Layer header type == 143(Ethernet) ) {
S05.     Remove the outer IPv6 header with all its extension headers
S06.     Process the Ethernet Frame in context of PPC
S07.   } Else If (Upper-Layer header type is allowed
                  by local configuration) {
S08.     Proceed to process the Upper-Layer header
S09.   } Else {
S10.     Discard the packet
S11.     # ICMPv6 Parameter Problem message with Code 4
S12.     # (SR Upper-Layer header Error)
S13.     # is not permitted (Section 2.2.3)
S14.   }
</pre><a class="pilcrow" href="#section-2.2.1-11">¶</a>
</div>
<p id="section-2.2.1-12">Notes:<a class="pilcrow" href="#section-2.2.1-12">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.1-13.1">The behavior above <span class="bcp14">MAY</span> result in a packet with
            a partially processed segment list in the SRH under some
            circumstances. For example, a head node may encode a context-SID
            in an SRH. As per the pseudocode above, a replication node that
            receives a packet with a local Replication-SID will not process
            the SRH segment list and will just forward a copy with an
            unmodified SRH to downstream nodes.<a class="pilcrow" href="#section-2.2.1-13.1">¶</a>
</li>
            <li class="normal" id="section-2.2.1-13.2">The packet processing context is usually a FIB table "T".<a class="pilcrow" href="#section-2.2.1-13.2">¶</a>
</li>
          </ul>
<p id="section-2.2.1-14">If configured to process TLVs, processing the Replication-SID may
          modify the "variable-length data" of TLV types that change en route.
          Therefore, TLVs that change en route are mutable. The remainder of
          the SRH (Segments Left, Flags, Tag, Segment List, and TLVs that do
          not change en route) are immutable while processing this SID.<a class="pilcrow" href="#section-2.2.1-14">¶</a></p>
<section id="section-2.2.1.1">
            <h5 id="name-hashed-message-authenticati">
<a class="section-number selfRef" href="#section-2.2.1.1">2.2.1.1. </a><a class="section-name selfRef" href="#name-hashed-message-authenticati">Hashed Message Authentication Code (HMAC) SRH TLV</a>
            </h5>
<p id="section-2.2.1.1-1">If a root node encodes a context-SID in an SRH with an optional
            HMAC SRH TLV <span>[<a class="cite xref" href="#RFC8754">RFC8754</a>]</span>, it
            <span class="bcp14">MUST</span> set the 'D' bit as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8754#section-2.1.2">Section 2.1.2</a> of [<a class="cite xref" href="#RFC8754">RFC8754</a>]</span> because the
            Replication-SID is not part of the segment list in the SRH.<a class="pilcrow" href="#section-2.2.1.1-1">¶</a></p>
<p id="section-2.2.1.1-2">HMAC generation and verification is as specified in <span>[<a class="cite xref" href="#RFC8754">RFC8754</a>]</span>. Verification of an HMAC TLV
            is determined by local configuration. If verification fails, an
            implementation of a Replication-SID <span class="bcp14">MUST NOT</span>
            originate an ICMPv6 Parameter Problem message with code 0. The
            failure <span class="bcp14">SHOULD</span> be logged (rate-limited) and the
            packet <span class="bcp14">SHOULD</span> be discarded.<a class="pilcrow" href="#section-2.2.1.1-2">¶</a></p>
</section>
</section>
<section id="section-2.2.2">
          <h4 id="name-oam-operations">
<a class="section-number selfRef" href="#section-2.2.2">2.2.2. </a><a class="section-name selfRef" href="#name-oam-operations">OAM Operations</a>
          </h4>
<p id="section-2.2.2-1"><span>[<a class="cite xref" href="#RFC9259">RFC9259</a>]</span> specifies procedures
          for Operations, Administration, and Maintenance (OAM) like ping and
          traceroute on SRv6 SIDs.<a class="pilcrow" href="#section-2.2.2-1">¶</a></p>
<p id="section-2.2.2-2">Assuming the source node knows the Replication-SID a priori, it
          is possible to ping a Replication-SID of a leaf or bud node directly by
          putting it in the IPv6 DA without an SRH or in an
          SRH as the last segment. While it is not possible to ping a
          Replication-SID of a transit node because transit nodes do not
          process Upper-Layer headers, it is still possible to ping a
          Replication-SID of a leaf or bud node of a tree via the Replication-SID
          of intermediate transit nodes. The source of the ping
          <span class="bcp14">MUST</span> compute the ICMPv6 Echo Request checksum using
          the Replication-SID of the leaf or bud node as the DA. The
          source can then send the Echo Request packet to a transit node's
          Replication-SID. The transit node replicates the packet by replacing
          the IPv6 DA until the packet reaches the leaf or bud
          node, which responds with an ICMPv6 Echo Reply. Note that a transit
          replication node may replicate Echo Request packets to other
          leaf or bud nodes. These nodes will drop the Echo Request due to an
          incorrect checksum. Procedures to prevent the misdelivery of an Echo
          Request may be addressed in a future document. <a class="auto internal xref" href="#A.2.1">Appendix A.2.1</a> illustrates examples of a ping to
          a Replication-SID.<a class="pilcrow" href="#section-2.2.2-2">¶</a></p>
<p id="section-2.2.2-3">Traceroute to a leaf or bud node Replication-SID is not possible due
          to restrictions prohibiting the origination of the ICMPv6 Time
          Exceeded error message for a Replication-SID as described in <a class="auto internal xref" href="#ICMP">Section 2.2.3</a>.<a class="pilcrow" href="#section-2.2.2-3">¶</a></p>
</section>
<div id="ICMP">
<section id="section-2.2.3">
          <h4 id="name-icmpv6-error-messages">
<a class="section-number selfRef" href="#section-2.2.3">2.2.3. </a><a class="section-name selfRef" href="#name-icmpv6-error-messages">ICMPv6 Error Messages</a>
          </h4>
<p id="section-2.2.3-1"><span><a class="relref" href="https://rfc-editor.org/rfc/rfc4443#section-2.4">Section 2.4</a> of [<a class="cite xref" href="#RFC4443">RFC4443</a>]</span> states
          an ICMPv6 error message <span class="bcp14">MUST NOT</span> be originated as a
          result of receiving a packet destined to an IPv6 multicast address.
          This is to prevent a source node from being overwhelmed by a storm of ICMPv6 error messages resulting from
          replicated IPv6 packets. There are
          two exceptions:<a class="pilcrow" href="#section-2.2.3-1">¶</a></p>
<ol class="normal type-1" id="section-2.2.3-2" start="1" type="1">
            <li id="section-2.2.3-2.1">The Packet Too Big message for Path MTU discovery, and<a class="pilcrow" href="#section-2.2.3-2.1">¶</a>
</li>
            <li id="section-2.2.3-2.2">The ICMPv6 Parameter Problem message with Code 2 reporting an
            unrecognized IPv6 option.<a class="pilcrow" href="#section-2.2.3-2.2">¶</a>
</li>
          </ol>
<p id="section-2.2.3-3">An implementation of a Replication segment for SRv6
          <span class="bcp14">MUST</span> enforce these same restrictions and
          exceptions.<a class="pilcrow" href="#section-2.2.3-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-3">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-3-1">IANA has assigned the following codepoint for End.Replicate behavior
      in the "SRv6 Endpoint Behaviors" registry in the "Segment Routing"
      registry group.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span id="name-srv6-endpoint-behavior"></span><div id="endpoint_cp_types">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-srv6-endpoint-behavior">SRv6 Endpoint Behavior</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Value</th>
            <th class="text-center" colspan="1" rowspan="1">Hex</th>
            <th class="text-center" colspan="1" rowspan="1">Endpoint Behavior</th>
            <th class="text-center" colspan="1" rowspan="1">Reference</th>
            <th class="text-center" colspan="1" rowspan="1">Change Controller</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">75</td>
            <td class="text-center" colspan="1" rowspan="1">0x004B</td>
            <td class="text-center" colspan="1" rowspan="1">End.Replicate</td>
            <td class="text-center" colspan="1" rowspan="1">RFC 9524</td>
            <td class="text-center" colspan="1" rowspan="1">IETF</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="Security">
<section id="section-4">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-4-1">The SID behaviors defined in this document are deployed within an SR
      domain <span>[<a class="cite xref" href="#RFC8402">RFC8402</a>]</span>. An SR domain needs
      protection from outside attackers (as described in <span>[<a class="cite xref" href="#RFC8754">RFC8754</a>]</span>). The following is a brief reminder
      of the same:<a class="pilcrow" href="#section-4-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">
          <p id="section-4-2.1.1">For SR-MPLS deployments:<a class="pilcrow" href="#section-4-2.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1.2.1">Disable MPLS on external interfaces of each edge node or any
            other technique to filter labeled traffic ingress on these
            interfaces.<a class="pilcrow" href="#section-4-2.1.2.1">¶</a>
</li>
          </ul>
</li>
        <li class="normal" id="section-4-2.2">
          <p id="section-4-2.2.1">For SRv6 deployments:<a class="pilcrow" href="#section-4-2.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.2.2.1">Allocate all the SIDs from an IPv6 prefix block S/s and
            configure each external interface of each edge node of the domain
            with an inbound Infrastructure Access Control List (IACL) that drops any
            incoming packet with a DA in S/s.<a class="pilcrow" href="#section-4-2.2.2.1">¶</a>
</li>
            <li class="normal" id="section-4-2.2.2.2">
              <p id="section-4-2.2.2.2.1">Additionally, an IACL may be applied to all nodes (k)
              provisioning SIDs as defined in this specification:<a class="pilcrow" href="#section-4-2.2.2.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.2.2.2.2.1">Assign all interface addresses from within IPv6 prefix
                A/a. At node k, all SIDs local to k are assigned from prefix
                Sk/sk. Configure each internal interface of each SR node k in
                the SR domain with an inbound IACL that drops any incoming
                packet with a DA in Sk/sk if the source
                address is not in A/a.<a class="pilcrow" href="#section-4-2.2.2.2.2.1">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-4-2.2.2.3">Deny traffic with spoofed source addresses by implementing
            recommendations in BCP 84 <span>[<a class="cite xref" href="#RFC3704">RFC3704</a>]</span>.<a class="pilcrow" href="#section-4-2.2.2.3">¶</a>
</li>
            <li class="normal" id="section-4-2.2.2.4">Additionally, the block S/s from which SIDs are allocated may
            be an address that is not globally routable such as a Unique Local
            Address (ULA) or the prefix defined in <span>[<a class="cite xref" href="#I-D.ietf-6man-sids">SIDS-SRv6</a>]</span>.<a class="pilcrow" href="#section-4-2.2.2.4">¶</a>
</li>
          </ul>
</li>
      </ul>
<p id="section-4-3">Failure to protect the SR-MPLS domain by correctly provisioning MPLS
      support per interface permits attackers from outside the domain to send
      packets that use the replication services provisioned within the
      domain.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">Failure to protect the SRv6 domain with IACLs on external interfaces
      combined with failure to implement the recommendations of BCP 38 <span>[<a class="cite xref" href="#RFC2827">RFC2827</a>]</span> or apply IACLs on nodes provisioning
      SIDs permits attackers from outside the SR domain to send packets that
      use the replication services provisioned within the domain.<a class="pilcrow" href="#section-4-4">¶</a></p>
<p id="section-4-5">Given the definition of the Replication segment in this document, an
      attacker subverting the ingress filters above cannot take advantage of a
      stack of Replication segments to perform amplification attacks nor link
      exhaustion attacks. Replication segment trees always terminate at a leaf
      or bud node resulting in a decapsulation. However, this does allow an
      attacker to inject traffic to the receivers within a P2MP service.<a class="pilcrow" href="#section-4-5">¶</a></p>
<p id="section-4-6">This document introduces an SR segment endpoint behavior that
      replicates and decapsulates an inner payload for both the MPLS and IPv6
      data planes. Similar to any MPLS end-of-stack label, or SRv6 END.D*
      behavior, if the protections described above are not implemented, an
      attacker can perform an attack via the decapsulating segment (including
      the one described in this document).<a class="pilcrow" href="#section-4-6">¶</a></p>
<p id="section-4-7">Incorrect provisioning of Replication segments can result in a chain
      of Replication segments forming a loop. This can happen if Replication
      segments are provisioned on SR nodes without using a control plane. In
      this case, replicated packets can create a storm until MPLS TTL (for
      SR-MPLS) or IPv6 Hop Limit (for SRv6) decrements to zero. A control
      plane such as PCE can be used to prevent loops. The control plane
      protocols (like Path Computation Element Communication Protocol (PCEP),
      BGP, etc.) used to instantiate Replication segments can leverage their
      own security mechanisms such as encryption, authentication filtering,
      etc.<a class="pilcrow" href="#section-4-7">¶</a></p>
<p id="section-4-8">For SRv6, <a class="auto internal xref" href="#ICMP">Section 2.2.3</a> describes an
      exception for the ICMPv6 Parameter Problem message with Code 2. If an attacker sends a packet destined to a Replication-SID
      with the source address of a node and with an extension header using the
      unknown option type marked as mandatory, then a large number of ICMPv6
      Parameter Problem messages can cause a denial-of-service attack on the
      source node. Although this document does not specify any extension
      headers, any future extension of this document that does so is
      susceptible to this security concern.<a class="pilcrow" href="#section-4-8">¶</a></p>
<p id="section-4-9">If an attacker can forge an IPv6 packet with:<a class="pilcrow" href="#section-4-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-10.1">the source address of a node,<a class="pilcrow" href="#section-4-10.1">¶</a>
</li>
        <li class="normal" id="section-4-10.2">a Replication-SID as the DA, and<a class="pilcrow" href="#section-4-10.2">¶</a>
</li>
        <li class="normal" id="section-4-10.3">an IPv6 Hop Limit such that nodes that forward replicated packets on an IPv6 locator
      unicast prefix, decrement the Hop Limit to zero,<a class="pilcrow" href="#section-4-10.3">¶</a>
</li>
      </ul>
<p id="section-4-11">then these nodes can
      cause a storm of ICMPv6 error packets to overwhelm the source node under
      attack. The IPv6 Hop Limit Threshold check described in <a class="auto internal xref" href="#SRv6">Section 2.2</a> can help mitigate such attacks.<a class="pilcrow" href="#section-4-11">¶</a></p>
</section>
</div>
<section id="section-5">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-5.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time class="refDate" datetime="2006-03">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4443">https://www.rfc-editor.org/info/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time class="refDate" datetime="2020-03">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time class="refDate" datetime="2021-02">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9259">[RFC9259]</dt>
      <dd>
<span class="refAuthor">Ali, Z.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Matsushima, S.</span>, <span class="refAuthor">Voyer, D.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Operations, Administration, and Maintenance (OAM) in Segment Routing over IPv6 (SRv6)"</span>, <span class="seriesInfo">RFC 9259</span>, <span class="seriesInfo">DOI 10.17487/RFC9259</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9259">https://www.rfc-editor.org/info/rfc9259</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-5.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-pim-sr-p2mp-policy">[P2MP-POLICY]</dt>
        <dd>
<span class="refAuthor">Voyer, D., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Parekh, R.</span>, <span class="refAuthor">Bidgoli, H.</span>, and <span class="refAuthor">Z. J. Zhang</span>, <span class="refTitle">"Segment Routing Point-to-Multipoint Policy"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pim-sr-p2mp-policy-07</span>, <time class="refDate" datetime="2023-10-11">11 October 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-pim-sr-p2mp-policy-07">https://datatracker.ietf.org/doc/html/draft-ietf-pim-sr-p2mp-policy-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.filsfils-spring-srv6-net-pgm-illustration">[PGM-ILLUSTRATION]</dt>
        <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Li, Z.</span>, <span class="refAuthor">Matsushima, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Steinberg, D.</span>, <span class="refAuthor">Lebrun, D.</span>, <span class="refAuthor">Raszuk, R.</span>, and <span class="refAuthor">J. Leddy</span>, <span class="refTitle">"Illustrations for SRv6 Network Programming"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-filsfils-spring-srv6-net-pgm-illustration-04</span>, <time class="refDate" datetime="2021-03-30">30 March 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-filsfils-spring-srv6-net-pgm-illustration-04">https://datatracker.ietf.org/doc/html/draft-filsfils-spring-srv6-net-pgm-illustration-04</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2827">[RFC2827]</dt>
        <dd>
<span class="refAuthor">Ferguson, P.</span> and <span class="refAuthor">D. Senie</span>, <span class="refTitle">"Network Ingress Filtering: Defeating Denial of Service Attacks which employ IP Source Address Spoofing"</span>, <span class="seriesInfo">BCP 38</span>, <span class="seriesInfo">RFC 2827</span>, <span class="seriesInfo">DOI 10.17487/RFC2827</span>, <time class="refDate" datetime="2000-05">May 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2827">https://www.rfc-editor.org/info/rfc2827</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3704">[RFC3704]</dt>
        <dd>
<span class="refAuthor">Baker, F.</span> and <span class="refAuthor">P. Savola</span>, <span class="refTitle">"Ingress Filtering for Multihomed Networks"</span>, <span class="seriesInfo">BCP 84</span>, <span class="seriesInfo">RFC 3704</span>, <span class="seriesInfo">DOI 10.17487/RFC3704</span>, <time class="refDate" datetime="2004-03">March 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3704">https://www.rfc-editor.org/info/rfc3704</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6513">[RFC6513]</dt>
        <dd>
<span class="refAuthor">Rosen, E., Ed.</span> and <span class="refAuthor">R. Aggarwal, Ed.</span>, <span class="refTitle">"Multicast in MPLS/BGP IP VPNs"</span>, <span class="seriesInfo">RFC 6513</span>, <span class="seriesInfo">DOI 10.17487/RFC6513</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6513">https://www.rfc-editor.org/info/rfc6513</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time class="refDate" datetime="2015-02">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7988">[RFC7988]</dt>
        <dd>
<span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Subramanian, K.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"Ingress Replication Tunnels in Multicast VPN"</span>, <span class="seriesInfo">RFC 7988</span>, <span class="seriesInfo">DOI 10.17487/RFC7988</span>, <time class="refDate" datetime="2016-10">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7988">https://www.rfc-editor.org/info/rfc7988</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8660">[RFC8660]</dt>
        <dd>
<span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time class="refDate" datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9256">[RFC9256]</dt>
        <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Bogdanov, A.</span>, and <span class="refAuthor">P. Mattes</span>, <span class="refTitle">"Segment Routing Policy Architecture"</span>, <span class="seriesInfo">RFC 9256</span>, <span class="seriesInfo">DOI 10.17487/RFC9256</span>, <time class="refDate" datetime="2022-07">July 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9256">https://www.rfc-editor.org/info/rfc9256</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9350">[RFC9350]</dt>
        <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Hegde, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Talaulikar, K.</span>, and <span class="refAuthor">A. Gulko</span>, <span class="refTitle">"IGP Flexible Algorithm"</span>, <span class="seriesInfo">RFC 9350</span>, <span class="seriesInfo">DOI 10.17487/RFC9350</span>, <time class="refDate" datetime="2023-02">February 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9350">https://www.rfc-editor.org/info/rfc9350</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-6man-sids">[SIDS-SRv6]</dt>
      <dd>
<span class="refAuthor">Krishnan, S.</span>, <span class="refTitle">"SRv6 Segment Identifiers in the IPv6 Addressing Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-sids-06</span>, <time class="refDate" datetime="2024-02-15">15 February 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-6man-sids-06">https://datatracker.ietf.org/doc/html/draft-ietf-6man-sids-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Appendix">
<section id="appendix-A">
      <h2 id="name-illustration-of-a-replicati">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-illustration-of-a-replicati">Illustration of a Replication Segment</a>
      </h2>
<p id="appendix-A-1">This section illustrates an example of a single Replication segment.
      Examples showing Replication segments stitched together to form a P2MP
      tree (based on SR P2MP policy) are in <span>[<a class="cite xref" href="#I-D.ietf-pim-sr-p2mp-policy">P2MP-POLICY</a>]</span>.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">Consider the following topology:<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<span id="name-topology-for-illustration-o"></span><figure id="figure-1">
        <div class="alignLeft art-text artwork" id="appendix-A-3.1">
<pre>                               R3------R6
                              /         \
                      R1----R2----R5-----R7
                              \         /
                               +--R4---+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-topology-for-illustration-o">Topology for Illustration of a Replication Segment</a>
        </figcaption></figure>
<section id="appendix-A.1">
        <h3 id="name-sr-mpls">
<a class="section-number selfRef" href="#appendix-A.1">A.1. </a><a class="section-name selfRef" href="#name-sr-mpls">SR-MPLS</a>
        </h3>
<p id="appendix-A.1-1">In this example, the Node-SID of a node Rn is N-SIDn and the
        Adj-SID from node Rm to node Rn is A-SIDmn. The interface
        between Rm and Rn is Lmn. The state representation uses
        "R-SID-&gt;Lmn" to represent a packet replication with outgoing
        Replication-SID R-SID sent on interface Lmn.<a class="pilcrow" href="#appendix-A.1-1">¶</a></p>
<p id="appendix-A.1-2">Assume a Replication segment identified with R-ID at Replication
        node R1 and downstream nodes R2, R6, and R7. The Replication-SID at
        node n is R-SIDn. A packet replicated from R1 to R7 has to traverse
        R4.<a class="pilcrow" href="#appendix-A.1-2">¶</a></p>
<p id="appendix-A.1-3">The Replication segments at nodes R1, R2, R6, and R7 are shown
        below. Note nodes R3, R4, and R5 do not have a Replication
        segment.<a class="pilcrow" href="#appendix-A.1-3">¶</a></p>
<p id="appendix-A.1-4">Replication segment at R1:<a class="pilcrow" href="#appendix-A.1-4">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.1-5">
<pre>Replication segment
        &lt;R-ID,R1&gt;: Replication-SID: R-SID1 Replication state: R2:
        &lt;R-SID2-&gt;L12&gt; R6: &lt;N-SID6, R-SID6&gt; R7: &lt;N-SID4,
        A-SID47, R-SID7&gt;</pre><a class="pilcrow" href="#appendix-A.1-5">¶</a>
</div>
<p id="appendix-A.1-6">Replication to R2 steers the packet directly to R2 on interface
        L12. Replication to R6, using N-SID6, steers the packet via the
        shortest path to that node. Replication to R7 is steered via R4, using
        N-SID4 and then adjacency SID A-SID47 to R7.<a class="pilcrow" href="#appendix-A.1-6">¶</a></p>
<p id="appendix-A.1-7">Replication segment at R2:<a class="pilcrow" href="#appendix-A.1-7">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.1-8">
<pre>Replication segment
        &lt;R-ID,R2&gt;: Replication-SID: R-SID2 Replication state: R2:
        &lt;Leaf&gt;</pre><a class="pilcrow" href="#appendix-A.1-8">¶</a>
</div>
<p id="appendix-A.1-9">Replication segment at R6:<a class="pilcrow" href="#appendix-A.1-9">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.1-10">
<pre>Replication segment
        &lt;R-ID,R6&gt;: Replication-SID: R-SID6 Replication state: R6:
        &lt;Leaf&gt;</pre><a class="pilcrow" href="#appendix-A.1-10">¶</a>
</div>
<p id="appendix-A.1-11">Replication segment at R7:<a class="pilcrow" href="#appendix-A.1-11">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.1-12">
<pre>Replication segment
        &lt;R-ID,R7&gt;: Replication-SID: R-SID7 Replication state: R7:
        &lt;Leaf&gt;</pre><a class="pilcrow" href="#appendix-A.1-12">¶</a>
</div>
<p id="appendix-A.1-13">When a packet is steered into the Replication segment at R1:<a class="pilcrow" href="#appendix-A.1-13">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-14.1">R1 performs the PUSH operation with just the &lt;R-SID2&gt;
          label for the replicated copy and sends it to R2 on interface L12,
          since R1 is directly connected to R2. R2, as leaf, performs the NEXT
          operation, pops the R-SID2 label, and delivers the payload.<a class="pilcrow" href="#appendix-A.1-14.1">¶</a>
</li>
          <li class="normal" id="appendix-A.1-14.2">R1 performs the PUSH operation with the &lt;N-SID6, R-SID6&gt;
          label stack for the replicated copy to R6 and sends it to R2, which
          is the nexthop on the shortest path to R6. R2 performs the CONTINUE
          operation on N-SID6 and forwards it to R3. R3 is the penultimate hop
          for N-SID6; it performs penultimate hop popping, which corresponds
          to the NEXT operation. The packet is then sent to R6 with
          &lt;R-SID6&gt; in the label stack. R6, as leaf, performs the NEXT
          operation, pops the R-SID6 label, and delivers the payload.<a class="pilcrow" href="#appendix-A.1-14.2">¶</a>
</li>
          <li class="normal" id="appendix-A.1-14.3">R1 performs the PUSH operation with the &lt;N-SID4, A-SID47,
          R-SID7&gt; label stack for the replicated copy to R7 and sends it to
          R2, which is the nexthop on the shortest path to R4. R2 is the
          penultimate hop for N-SID4; it performs penultimate hop popping,
          which corresponds to the NEXT operation. The packet is then sent to
          R4 with &lt;A-SID47, R-SID1&gt; in the label stack. R4 performs the
          NEXT operation, pops A-SID47, and delivers the packet to R7 with
          &lt;R-SID7&gt; in the label stack. R7, as leaf, performs the NEXT
          operation, pops the R-SID7 label, and delivers the payload.<a class="pilcrow" href="#appendix-A.1-14.3">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.2">
        <h3 id="name-srv6">
<a class="section-number selfRef" href="#appendix-A.2">A.2. </a><a class="section-name selfRef" href="#name-srv6">SRv6</a>
        </h3>
<p id="appendix-A.2-1">For SRv6, we use the SID allocation scheme, reproduced below, from
        "Illustrations for SRv6 Network Programming" <span>[<a class="cite xref" href="#I-D.filsfils-spring-srv6-net-pgm-illustration">PGM-ILLUSTRATION</a>]</span>:<a class="pilcrow" href="#appendix-A.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-2.1">2001:db8::/32 is an IPv6 block allocated by a Regional Internet
          Registry (RIR) to the operator.<a class="pilcrow" href="#appendix-A.2-2.1">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.2">2001:db8:0::/48 is dedicated to the internal address space.<a class="pilcrow" href="#appendix-A.2-2.2">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.3">2001:db8:cccc::/48 is dedicated to the internal SRv6 SID
          space.<a class="pilcrow" href="#appendix-A.2-2.3">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.4">We assume a location expressed in 64 bits and a function
          expressed in 16 bits.<a class="pilcrow" href="#appendix-A.2-2.4">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.5">Node k has a classic IPv6 loopback address 2001:db8::k/128,
          which is advertised in the Interior Gateway Protocol (IGP).<a class="pilcrow" href="#appendix-A.2-2.5">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.6">Node k has 2001:db8:cccc:k::/64 for its local SID space. Its
          SIDs will be explicitly assigned from that block.<a class="pilcrow" href="#appendix-A.2-2.6">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.7">Node k advertises 2001:db8:cccc:k::/64 in its IGP.<a class="pilcrow" href="#appendix-A.2-2.7">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.8">Function :1:: (function 1, for short) represents the End
          function with the Penultimate Segment Pop (PSP) of the SRH <span>[<a class="cite xref" href="#RFC8986">RFC8986</a>]</span> and USD support.<a class="pilcrow" href="#appendix-A.2-2.8">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.9">Function :Cn:: (function Cn, for short) represents the End.X
          function from to Node n with PSP and USD support.<a class="pilcrow" href="#appendix-A.2-2.9">¶</a>
</li>
        </ul>
<p id="appendix-A.2-3">Each node k has:<a class="pilcrow" href="#appendix-A.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-4.1">An explicit SID instantiation 2001:db8:cccc:k:1::/128 bound to
          an End function with additional support for PSP and USD.<a class="pilcrow" href="#appendix-A.2-4.1">¶</a>
</li>
          <li class="normal" id="appendix-A.2-4.2">An explicit SID instantiation 2001:db8:cccc:k:Cj::/128 bound to
          an End.X function to neighbor J with additional support for PSP and
          USD.<a class="pilcrow" href="#appendix-A.2-4.2">¶</a>
</li>
          <li class="normal" id="appendix-A.2-4.3">An explicit SID instantiation 2001:db8:cccc:k:Fk::/128 bound to
          an End.Replicate function.<a class="pilcrow" href="#appendix-A.2-4.3">¶</a>
</li>
        </ul>
<p id="appendix-A.2-5">Assume a Replication segment identified with R-ID at Replication
        node R1 and downstream nodes R2, R6, and R7. The Replication-SID at
        node k, bound to an End.Replicate function, is
        2001:db8:cccc:k:Fk::/128. A packet replicated from R1 to R7 has to
        traverse R4.<a class="pilcrow" href="#appendix-A.2-5">¶</a></p>
<p id="appendix-A.2-6">The Replication segments at nodes R1, R2, R6, and R7 are shown
        below. Note nodes R3, R4, and R5 do not have a Replication
        segment. The state representation uses "R-SID-&gt;Lmn" to represent a
        packet replication with outgoing Replication-SID R-SID sent on
        interface Lmn. "SL" represents an optional segment list used to steer
        a replicated packet on a specific path to a downstream node.<a class="pilcrow" href="#appendix-A.2-6">¶</a></p>
<p id="appendix-A.2-7">Replication segment at R1:<a class="pilcrow" href="#appendix-A.2-7">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.2-8">
<pre>Replication segment
        &lt;R-ID,R1&gt;: Replication-SID: 2001:db8:cccc:1:F1::0 Replication
        state: R2: &lt;2001:db8:cccc:2:F2::0-&gt;L12&gt; R6:
        &lt;2001:db8:cccc:6:F6::0&gt; R7: &lt;2001:db8:cccc:4:C7::0&gt;, SL:
        &lt;2001:db8:cccc:7:F7::0&gt;</pre><a class="pilcrow" href="#appendix-A.2-8">¶</a>
</div>
<p id="appendix-A.2-9">Replication to R2 steers the packet directly to R2 on interface
        L12. Replication to R6, using 2001:db8:cccc:6:F6::0, steers the packet
        via the shortest path to that node. Replication to R7 is steered via
        R4, using H.Encaps.Red with End.X SID 2001:db8:cccc:4:C7::0 at R4 to
        R7.<a class="pilcrow" href="#appendix-A.2-9">¶</a></p>
<p id="appendix-A.2-10">Replication segment at R2:<a class="pilcrow" href="#appendix-A.2-10">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.2-11">
<pre>Replication segment
        &lt;R-ID,R2&gt;: Replication-SID: 2001:db8:cccc:2:F2::0 Replication
        state: R2: &lt;Leaf&gt;</pre><a class="pilcrow" href="#appendix-A.2-11">¶</a>
</div>
<p id="appendix-A.2-12">Replication segment at R6:<a class="pilcrow" href="#appendix-A.2-12">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.2-13">
<pre>Replication segment
        &lt;R-ID,R6&gt;: Replication-SID: 2001:db8:cccc:6:F6::0 Replication
        state: R6: &lt;Leaf&gt;</pre><a class="pilcrow" href="#appendix-A.2-13">¶</a>
</div>
<p id="appendix-A.2-14">Replication segment at R7:<a class="pilcrow" href="#appendix-A.2-14">¶</a></p>
<div class="lang-pseudocode sourcecode" id="appendix-A.2-15">
<pre>Replication segment
        &lt;R-ID,R7&gt;: Replication-SID: 2001:db8:cccc:7:F7::0 Replication
        state: R7: &lt;Leaf&gt;</pre><a class="pilcrow" href="#appendix-A.2-15">¶</a>
</div>
<p id="appendix-A.2-16">When a packet, (A,B2), is steered into the Replication segment at
        R1:<a class="pilcrow" href="#appendix-A.2-16">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-17.1">R1 creates an encapsulated replicated copy (2001:db8::1,
          2001:db8:cccc:2:F2::0) (A, B2), and sends it to R2 on interface L12,
          since R1 is directly connected to R2. R2, as leaf, removes the outer
          IPv6 header and delivers the payload.<a class="pilcrow" href="#appendix-A.2-17.1">¶</a>
</li>
          <li class="normal" id="appendix-A.2-17.2">R1 creates an encapsulated replicated copy (2001:db8::1,
          2001:db8:cccc:6:F6::0) (A, B2) then forwards the resulting packet on
          the shortest path to 2001:db8:cccc:6::/64. R2 and R3 forward the
          packet using 2001:db8:cccc:6::/64. R6, as leaf, removes the outer
          IPv6 header and delivers the payload.<a class="pilcrow" href="#appendix-A.2-17.2">¶</a>
</li>
          <li class="normal" id="appendix-A.2-17.3">
            <p id="appendix-A.2-17.3.1">R1 has to steer the packet to downstream node R7 via node R4.
            It can do this in one of two ways:<a class="pilcrow" href="#appendix-A.2-17.3.1">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-17.3.2.1">R1 creates an encapsulated replicated copy (2001:db8::1,
              2001:db8:cccc:7:F7::0) (A, B2) and then performs H.Encaps.Red
              using the SL to create the (2001:db8::1, 2001:db8:cccc:4:C7::0)
              (2001:db8::1, 2001:db8:cccc:7:F7::0) (A, B2) packet. It sends
              this packet to R2, which is the nexthop on the shortest path to
              2001:db8:cccc:4::/64. R2 forwards the packet to R4 using
              2001:db8:cccc:4::/64. R4 executes the End.X function on
              2001:db8:cccc:4:C7::0, performs a USD action, removes the outer
              IPv6 encapsulation, and sends the resulting packet (2001:db8::1,
              2001:db8:cccc:7:F7::0) (A, B2) to R7. R7, as leaf, removes the
              outer IPv6 header and delivers the payload.<a class="pilcrow" href="#appendix-A.2-17.3.2.1">¶</a>
</li>
              <li class="normal" id="appendix-A.2-17.3.2.2">R1 is the root of the Replication segment. Therefore, it can
              combine above encapsulations to create an encapsulated
              replicated copy (2001:db8::1, 2001:db8:cccc:4:C7::0)
              (2001:db8:cccc:7:F7::0; SL=1) (A, B2) and sends it to R2, which
              is the nexthop on the shortest path to 2001:db8:cccc:4::/64. R2
              forwards the packet to R4 using 2001:db8:cccc:4::/64. R4
              executes the End.X function on 2001:db8:cccc:4:C7::0, performs a
              PSP action, removes the SRH, and sends the resulting packet
              (2001:db8::1, 2001:db8:cccc:7:F7::0) (A, B2) to R7. R7, as leaf,
              removes the outer IPv6 header and delivers the payload.<a class="pilcrow" href="#appendix-A.2-17.3.2.2">¶</a>
</li>
            </ul>
</li>
        </ul>
<div id="A.2.1">
<section id="appendix-A.2.1">
          <h4 id="name-pinging-a-replication-sid">
<a class="section-number selfRef" href="#appendix-A.2.1">A.2.1. </a><a class="section-name selfRef" href="#name-pinging-a-replication-sid">Pinging a Replication-SID</a>
          </h4>
<p id="appendix-A.2.1-1">This section illustrates the ping of a Replication-SID.<a class="pilcrow" href="#appendix-A.2.1-1">¶</a></p>
<p id="appendix-A.2.1-2">Node R1 pings the Replication-SID of node R6 directly by sending
          the following packet:<a class="pilcrow" href="#appendix-A.2.1-2">¶</a></p>
<ol class="normal type-1" id="appendix-A.2.1-3" start="1" type="1">
            <li id="appendix-A.2.1-3.1">R1 to R6: (2001:db8::1, 2001:db8:cccc:6:F6::0; NH=ICMPv6)
            (ICMPv6 Echo Request).<a class="pilcrow" href="#appendix-A.2.1-3.1">¶</a>
</li>
            <li id="appendix-A.2.1-3.2">Node R6 as a leaf processes the upper-layer ICMPv6 Echo
            Request and responds with an ICMPv6 Echo Reply.<a class="pilcrow" href="#appendix-A.2.1-3.2">¶</a>
</li>
          </ol>
<p id="appendix-A.2.1-4">Node R1 pings the Replication-SID of R7 via R4 by sending the
          following packet with the SRH:<a class="pilcrow" href="#appendix-A.2.1-4">¶</a></p>
<ol class="normal type-1" id="appendix-A.2.1-5" start="1" type="1">
            <li id="appendix-A.2.1-5.1">R1 to R4: (2001:db8::1, 2001:db8:cccc:4:C7::0)
            (2001:db8:cccc:7:F7::0; SL=1; NH=ICMPV6) (ICMPv6 Echo
            Request).<a class="pilcrow" href="#appendix-A.2.1-5.1">¶</a>
</li>
            <li id="appendix-A.2.1-5.2">R4 to R7: (2001:db8::1, 2001:db8:cccc:7:F7::0; NH=ICMPv6)
            (ICMPv6 Echo Request).<a class="pilcrow" href="#appendix-A.2.1-5.2">¶</a>
</li>
            <li id="appendix-A.2.1-5.3">Node R7 as a leaf processes the upper-layer ICMPv6 Echo
            Request and responds with an ICMPv6 Echo Reply.<a class="pilcrow" href="#appendix-A.2.1-5.3">¶</a>
</li>
          </ol>
<p id="appendix-A.2.1-6">Assume node R4 is a transit replication node with Replication-SID
          2001:db8:cccc:4:F4::0 replicating to R7. Node R1 pings the
          Replication-SID of R7 via the Replication-SID of R4 as follows:<a class="pilcrow" href="#appendix-A.2.1-6">¶</a></p>
<ol class="normal type-1" id="appendix-A.2.1-7" start="1" type="1">
            <li id="appendix-A.2.1-7.1">R1 to R4: (2001:db8::1, 2001:db8:cccc:4:F4::0; NH=ICMPv6)
            (ICMPv6 Echo Request).<a class="pilcrow" href="#appendix-A.2.1-7.1">¶</a>
</li>
            <li id="appendix-A.2.1-7.2">R4 replicates to R7 by replacing the IPv6 DA
            with the Replication-SID of R7 from its Replication state.<a class="pilcrow" href="#appendix-A.2.1-7.2">¶</a>
</li>
            <li id="appendix-A.2.1-7.3">R4 to R7: (2001:db8::1, 2001:db8:cccc:7:F7::0; NH=ICMPv6)
            (ICMPv6 Echo Request).<a class="pilcrow" href="#appendix-A.2.1-7.3">¶</a>
</li>
            <li id="appendix-A.2.1-7.4">Node R7 as a leaf processes the upper-layer ICMPv6 Echo
            Request and responds with an ICMPv6 Echo Reply.<a class="pilcrow" href="#appendix-A.2.1-7.4">¶</a>
</li>
          </ol>
</section>
</div>
</section>
</section>
</div>
<div id="Acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">The authors would like to acknowledge <span class="contact-name">Siva Sivabalan</span>, <span class="contact-name">Mike Koldychev</span>,
      <span class="contact-name">Vishnu Pavan Beeram</span>, <span class="contact-name">Alexander Vainshtein</span>, <span class="contact-name">Bruno Decraene</span>, <span class="contact-name">Thierry Couture</span>,
      <span class="contact-name">Joel Halpern</span>, <span class="contact-name">Ketan Talaulikar</span>, <span class="contact-name">Darren Dukes</span>
      and <span class="contact-name">Jingrong Xie</span> for their valuable inputs.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<section id="appendix-C">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Clayton Hassen</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="left" dir="auto">
<span class="locality">Vancouver</span>  </div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:clayton.hassen@bell.ca">clayton.hassen@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kurtis Gillis</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="left" dir="auto">
<span class="locality">Halifax</span>  </div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:kurtis.gillis@bell.ca">kurtis.gillis@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Arvind Venkateswaran</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto">
<span class="locality">San Jose</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:arvvenka@cisco.com">arvvenka@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zafar Ali</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zali@cisco.com">zali@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Swadesh Agrawal</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto">
<span class="locality">San Jose</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:swaagraw@cisco.com">swaagraw@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jayant Kotalwar</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto">
<span class="locality">Mountain View</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jayant.kotalwar@nokia.com">jayant.kotalwar@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tanmoy Kundu</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto">
<span class="locality">Mountain View</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tanmoy.kundu@nokia.com">tanmoy.kundu@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Andrew Stone</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto">
<span class="locality">Ottawa</span>  </div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:andrew.stone@nokia.com">andrew.stone@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tarek Saad</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tsaad@cisco.com">tsaad@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kamran Raza</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:skraza@cisco.com">skraza@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jingrong Xie</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="left" dir="auto"><span class="locality">Beijing</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:xiejingrong@huawei.com">xiejingrong@huawei.com</a>
</div>
</address>
</section>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Daniel Voyer (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="left" dir="auto">
<span class="locality">Montreal</span>  </div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:daniel.voyer@bell.ca">daniel.voyer@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Clarence Filsfils</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="locality">Brussels</span></div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cfilsfil@cisco.com">cfilsfil@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Rishabh Parekh</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto">
<span class="locality">San Jose</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:riparekh@cisco.com">riparekh@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Hooman Bidgoli</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto">
<span class="locality">Ottawa</span>  </div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:hooman.bidgoli@nokia.com">hooman.bidgoli@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zhaohui Zhang</span></div>
<div class="left" dir="auto"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zzhang@juniper.net">zzhang@juniper.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>