<html><head></head><body><pre>Internet Engineering Task Force (IETF)                          S. Hegde
Request for Comments: 7777                        Juniper Networks, Inc.
Category: Standards Track                                      R. Shakir
ISSN: 2070-1721                                Jive Communications, Inc.
                                                              A. Smirnov
                                                     Cisco Systems, Inc.
                                                                   Z. Li
                                                     Huawei Technologies
                                                             B. Decraene
                                                                  Orange
                                                              March 2016


              <span class="h1">Advertising Node Administrative Tags in OSPF</span>

Abstract

   This document describes an extension to the OSPF protocol to add an
   optional operational capability that allows tagging and grouping of
   the nodes in an OSPF domain.  This allows simplification, ease of
   management and control over route and path selection based on
   configured policies.  This document describes an extension to the
   OSPF protocol to advertise node administrative tags.  The node tags
   can be used to express and apply locally defined network policies,
   which are a very useful operational capability.  Node tags may be
   used by either OSPF itself or other applications consuming
   information propagated via OSPF.

   This document describes the protocol extensions to disseminate node
   administrative tags to the OSPFv2 and OSPFv3 protocol.  It provides
   example use cases of administrative node tags.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">SectionÂ 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7777">http://www.rfc-editor.org/info/rfc7777</a>.






<span class="grey">Hegde, et al.                Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  OSPF Node Admin Tag TLV . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.1">2.1</a>.  TLV Format  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.2">2.2</a>.  Elements of Procedure . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
       <a href="#section-2.2.1">2.2.1</a>.  Interpretation of Node Administrative Tags  . . . . .   <a href="#page-4">4</a>
       <a href="#section-2.2.2">2.2.2</a>.  Use of Node Administrative Tags . . . . . . . . . . .   <a href="#page-5">5</a>
       <a href="#section-2.2.3">2.2.3</a>.  Processing Node Administrative Tag Changes  . . . . .   <a href="#page-6">6</a>
   <a href="#section-3">3</a>.  Applications  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-3.1">3.1</a>.  Service Auto-Discovery  . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-3.2">3.2</a>.  Fast-Rerouting Policy . . . . . . . . . . . . . . . . . .   <a href="#page-7">7</a>
     <a href="#section-3.3">3.3</a>.  Controlling Remote LFA Tunnel Termination . . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-3.4">3.4</a>.  Mobile Backhaul Network Service Deployment  . . . . . . .   <a href="#page-8">8</a>
     <a href="#section-3.5">3.5</a>.  Explicit Routing Policy . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-4">4</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-5">5</a>.  Operational Considerations  . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#section-6">6</a>.  Manageability Considerations  . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-7">7</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#section-8">8</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-8.1">8.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
     <a href="#section-8.2">8.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
   Contributors  . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-15">15</a>











<span class="grey">Hegde, et al.                Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   It is useful to assign a node administrative tag to a router in the
   OSPF domain and use it as an attribute associated with the node.  The
   node administrative tag can be used in a variety of applications, for
   example:

   (a)  Traffic Engineering (TE) applications to provide different path-
        selection criteria.

   (b)  Prefer or prune certain paths in Loop-Free Alternate (LFA)
        backup selection via local policies as defined in [<a href="#ref-LFA-MANAGE">LFA-MANAGE</a>].

   This document provides mechanisms to advertise node administrative
   tags in OSPF for route and path selection.  Route and path selection
   functionality applies to both TE and non-TE applications; hence, a
   new TLV for carrying node administrative tags is included in Router
   Information (RI) Link State Advertisement (LSA) [<a href="./rfc7770" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC7770</a>].

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="./rfc2119">RFC 2119</a> [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20OSPF%20Node%20Admin%20Tag%20TLV"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  OSPF Node Admin Tag TLV</span>

   An administrative tag is a 32-bit integer value that can be used to
   identify a group of nodes in the OSPF domain.

   The newly defined TLV is carried within an RI LSA for OSPFV2 and
   OSPFV3.  RI LSA [<a href="./rfc7770" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC7770</a>] can have flooding scope at the link, area,
   or Autonomous System (AS) level.  The choice of what scope at which
   to flood the group tags is a matter of local policy.  It is expected
   that node administrative tag values will not be portable across
   administrative domains.

   The TLV specifies one or more administrative tag values.  An OSPF
   node advertises the set of groups it is part of in the OSPF domain
   (for example, all PE nodes are configured with a certain tag value,
   and all P nodes are configured with a different tag value in the
   domain).  Multiple TLVs MAY be added in same RI LSA or in a different
   instance of the RI LSA as defined in [<a href="./rfc7770" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC7770</a>].










<span class="grey">Hegde, et al.                Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.1.%20%20TLV%20Format"></a><a class="selflink" href="#section-2.1" id="section-2.1">2.1</a>.  TLV Format</span>

   [<a id="ref-RFC7770">RFC7770</a>] defines the RI LSA, which may be used to advertise
   properties of the originating router.  The payload of the RI LSA
   consists of one or more nested Type/Length/Value (TLV) triplets.

   Node administrative tags are advertised in the Node Admin Tag TLV.
   The format of the Node Admin Tag TLV is:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Type                          | Length                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Administrative Tag #1                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Administrative Tag #2                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                                                             //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Administrative Tag #N                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                     Figure 1: OSPF Node Admin Tag TLV

   Type: 10

   Length:  A 16-bit field that indicates the length of the value
         portion in octets and will be a multiple of 4 octets dependent
         on the number of tags advertised.

   Value:  A set of administrative tags.  Each tag is a 32-bit integer
         value.  At least one tag MUST be carried if this TLV is
         included in the RI LSA.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.%20%20Elements%20of%20Procedure"></a><a class="selflink" href="#section-2.2" id="section-2.2">2.2</a>.  Elements of Procedure</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.1.%20%20Interpretation%20of%20Node%20Administrative%20Tags"></a><a class="selflink" href="#section-2.2.1" id="section-2.2.1">2.2.1</a>.  Interpretation of Node Administrative Tags</span>

   The meaning of the node administrative tags is generally opaque to
   OSPF.  Routers advertising the node administrative tag (or tags) may
   be configured to do so without knowing (or even without supporting
   processing of) the functionality implied by the tag.  This section
   describes general rules, regulations, and guidelines for using and
   interpreting an administrative tag that will facilitate interoperable
   implementations by vendors.





<span class="grey">Hegde, et al.                Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


   Interpretation of tag values is specific to the administrative domain
   of a particular network operator; hence, tag values SHOULD NOT be
   propagated outside the administrative domain to which they apply.
   The meaning of a node administrative tag is defined by the network
   local policy and is controlled via the configuration.  If a receiving
   node does not understand the tag value or does not have a local
   policy corresponding to the tag, it ignores the specific tag and
   floods the RI LSA without any change as defined in [<a href="./rfc7770" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC7770</a>].

   The semantics of the tag order has no meaning.  That is, there is no
   implied meaning to the ordering of the tags that indicates a certain
   operation or set of operations that need to be performed based on the
   ordering.

   Each tag must be treated as an independent identifier that may be
   used in the policy to perform a policy action.  Each tag carried by
   the Node Admin Tag TLV should be used to indicate a characteristic of
   a node that is independent of the characteristics indicated by other
   administrative tags.  The administrative-tag list within the TLV MUST
   be considered an unordered list.  While policies may be implemented
   based on the presence of multiple tags (e.g., if tag A AND tag B are
   present), they MUST NOT be reliant upon the order of the tags (i.e.,
   all policies should be considered commutative operations, such that
   tag A preceding or following tag B does not change their outcome).

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.2.%20%20Use%20of%20Node%20Administrative%20Tags"></a><a class="selflink" href="#section-2.2.2" id="section-2.2.2">2.2.2</a>.  Use of Node Administrative Tags</span>

   The node administrative tags are not meant to be extended by future
   OSPF standards.  New OSPF extensions are not expected to require use
   of node administrative tags or define well-known tag values.  Node
   administrative tags are for generic use and do not require IANA
   registration.  Future OSPF extensions requiring well-known values MAY
   define their own data signaling tailored to the needs of the feature
   or MAY use the capability TLV as defined in [<a href="./rfc7770" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC7770</a>].

   Being part of the RI LSA, the Node Admin Tag TLV must be reasonably
   small and stable.  In particular, implementations supporting node
   administrative tags MUST NOT be used to convey attributes of the
   routing topology or associate tags with changes in the network
   topology (both within and outside the OSPF domain) or reachability of
   routes.










<span class="grey">Hegde, et al.                Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.3.%20%20Processing%20Node%20Administrative%20Tag%20Changes"></a><a class="selflink" href="#section-2.2.3" id="section-2.2.3">2.2.3</a>.  Processing Node Administrative Tag Changes</span>

   Multiple Node Admin Tag TLVs MAY appear in an RI LSA or multiple Node
   Admin Tag TLVs MAY be contained in different instances of the RI LSA.
   The administrative tags associated with a node that originates tags
   for the purpose of any computation or processing at a receiving node
   SHOULD be a superset of node administrative tags from all the TLVs in
   all the received RI LSA instances in the Link-State Database (LSDB)
   advertised by the corresponding OSPF router.  When an RI LSA is
   received that changes the set of tags applicable to any originating
   node, which has features depending on node administrative tags, a
   receiving node MUST repeat any computation or processing that is
   based on those administrative tags.

   When there is a change or removal of an administrative affiliation of
   a node, the node MUST re-originate the RI LSA with the latest set of
   node administrative tags.  On the receiver, when there is a change in
   the Node Admin Tag TLV or removal/addition of a TLV in any instance
   of the RI LSA, implementations MUST take appropriate measures to
   update their state according to the changed set of tags.  The exact
   actions needed depend on features working with administrative tags
   and are outside of scope of this specification.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Applications"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Applications</span>

   This section lists several examples of how implementations might use
   the node administrative tags.  These examples are given only to
   demonstrate the generic usefulness of the router tagging mechanism.
   Implementations supporting this specification are not required to
   implement any of these use cases.  It is also worth noting that in
   some described use cases, routers configured to advertise tags help
   other routers in their calculations but do not themselves implement
   the same functionality.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20Service%20Auto-Discovery"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  Service Auto-Discovery</span>

   Router tagging may be used to automatically discover a group of
   routers sharing a particular service.

   For example, a service provider might desire to establish a full mesh
   of MPLS TE tunnels between all PE routers in the area of the MPLS VPN
   network.  Marking all PE routers with a tag and configuring devices
   with a policy to create MPLS TE tunnels to all other devices
   advertising this tag will automate maintenance of the full mesh.
   When a new PE router is added to the area, all other PE devices will
   open TE tunnels to it without needing to reconfigure them.





<span class="grey">Hegde, et al.                Standards Track                    [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.2.%20%20Fast-Rerouting%20Policy"></a><a class="selflink" href="#section-3.2" id="section-3.2">3.2</a>.  Fast-Rerouting Policy</span>

   Increased deployment of Loop-Free Alternates (LFA) as defined in
   [<a href="./rfc5286" title='"Basic Specification for IP Fast Reroute: Loop-Free Alternates"'>RFC5286</a>] poses operation and management challenges.  [<a href="#ref-LFA-MANAGE">LFA-MANAGE</a>]
   proposes policies which, when implemented, will ease LFA operation
   concerns.

   One of the proposed refinements is to be able to group the nodes in
   an IGP domain with administrative tags and engineer the LFA based on
   configured policies.

   (a)  Administrative limitation of LFA scope

       Service provider access infrastructure is frequently designed in
       a layered approach with each layer of devices serving different
       purposes and thus having different hardware capabilities and
       configured software features.  When LFA repair paths are being
       computed, it may be desirable to exclude devices from being
       considered as LFA candidates based on their layer.

       For example, if the access infrastructure is divided into the
       Access, Distribution, and Core layers, it may be desirable for a
       Distribution device to compute LFA only via Distribution or Core
       devices but not via Access devices.  This may be due to features
       enabled on Access routers, due to capacity limitations, or due to
       the security requirements.  Managing such a policy via
       configuration of the router computing LFA is cumbersome and error
       prone.

       With the node administrative tags, it is possible to assign a tag
       to each layer and implement LFA policy of computing LFA repair
       paths only via neighbors that advertise the Core or Distribution
       tag.  This requires minimal per-node configuration and the
       network automatically adapts when new links or routers are added.

   (b)  LFA calculation optimization

       Calculation of LFA paths may require significant resources of the
       router.  One execution of Dijkstra's algorithm is required for
       each neighbor eligible to become the next hop of repair paths.
       Thus, a router with a few hundred neighbors may need to execute
       the algorithm hundreds of times before the best (or even valid)
       repair path is found.  Manually excluding from the calculation
       neighbors that are known to provide no valid LFA (such as single-
       connected routers) may significantly reduce the number of
       Dijkstra algorithm runs.





<span class="grey">Hegde, et al.                Standards Track                    [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


       LFA calculation policy may be configured so that routers
       advertising certain tag values are excluded from LFA calculation,
       even if they are otherwise suitable.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.3.%20%20Controlling%20Remote%20LFA%20Tunnel%20Termination"></a><a class="selflink" href="#section-3.3" id="section-3.3">3.3</a>.  Controlling Remote LFA Tunnel Termination</span>

   [<a id="ref-RFC7490">RFC7490</a>] defined a method of tunneling traffic to extend the basic
   LFA coverage after connection failure of a link and defined an
   algorithm to find tunnel tail-end routers meeting the LFA
   requirement.  In most cases, the proposed algorithm finds more than
   one candidate tail-end router.  In a real-life network, it may be
   desirable to exclude some nodes from the list of candidates based on
   the local policy.  This may be either due to known limitations of the
   node (the router does not accept the targeted LDP sessions required
   to implement remote LFA tunneling) or due to administrative
   requirements (for example, it may be desirable to choose the tail-end
   router among colocated devices).

   The node administrative tag delivers a simple and scalable solution.
   Remote LFA can be configured with a policy to accept only routers
   advertising a certain tag as candidates during the tail-end router
   calculation.  Tagging routers allows both exclusion of nodes not
   capable of serving as remote LFA tunnel tail ends and definition of a
   region from which a tail-end router must be selected.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.4.%20%20Mobile%20Backhaul%20Network%20Service%20Deployment"></a><a class="selflink" href="#section-3.4" id="section-3.4">3.4</a>.  Mobile Backhaul Network Service Deployment</span>

   Mobile backhaul networks usually adopt a ring topology to save fibre
   resources; it is usually divided into the aggregate network and the
   access network.  Cell Site Gateways (CSGs) connects the LTE Evolved
   NodeBs (eNodeBs) and RNC (Radio Network Controller) Site Gateways
   (RSGs) connects the RNCs.  The mobile traffic is transported from
   CSGs to RSGs.  The network takes a typical aggregate traffic model
   that more than one access ring will attach to one pair of aggregate
   site gateways (ASGs) and more than one aggregate ring will attach to
   one pair of RSGs.















<span class="grey">Hegde, et al.                Standards Track                    [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


                     ----------------
                    /                \
                   /                  \
                  /                    \
     +------+   +----+    Access     +----+
     |eNodeB|---|CSG1|    Ring 1     |ASG1|------------
     +------+   +----+               +----+            \
                  \                    /                \
                   \                  /                  +----+    +---+
                    \             +----+                 |RSG1|----|RNC|
                     -------------|    |    Aggregate    +----+    +---+
                                  |ASG2|      Ring         |
                     -------------|    |                 +----+    +---+
                    /             +----+                 |RSG2|----|RNC|
                   /                  \                  +----+    +---+
                  /                    \                /
     +------+   +----+     Access     +----+           /
     |eNodeB|---|CSG2|     Ring 2     |ASG3|-----------
     +------+   +----+                +----+
                 \                     /
                  \                   /
                   \                 /
                    -----------------

                     Figure 2: Mobile Backhaul Network

   A typical mobile backhaul network with access rings and aggregate
   links is shown in the figure above.  The mobile backhaul networks
   deploy traffic engineering due to strict Service Level Agreements
   (SLAs).  The TE paths may have additional constraints to avoid
   passing via different access rings or to get completely disjoint
   backup TE paths.  The mobile backhaul networks towards the access
   side change frequently due to the growing mobile traffic and addition
   of new eNodeBs.  It's complex to satisfy the requirements using cost,
   link color, or explicit path configurations.  The node administrative
   tag defined in this document can be effectively used to solve the
   problem for mobile backhaul networks.  The nodes in different rings
   can be assigned with specific tags.  TE path computation can be
   enhanced to consider additional constraints based on node
   administrative tags.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.5.%20%20Explicit%20Routing%20Policy"></a><a class="selflink" href="#section-3.5" id="section-3.5">3.5</a>.  Explicit Routing Policy</span>

   A partially meshed network provides multiple paths between any two
   nodes in the network.  In a data centre environment, the topology is
   usually highly symmetric with many/all paths having equal cost.  In a
   long distance network, this is usually not the case, for a variety of
   reasons (e.g., historic, fibre availability constraints, different



<span class="grey">Hegde, et al.                Standards Track                    [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


   distances between transit nodes, and different roles).  Hence,
   between a given source and destination, a path is typically preferred
   over the others, while between the same source and another
   destination, a different path may be preferred.

        +----------------------+   +----------------+
        |                       \ /                 |
        |   +-----------------+  x   +---------+    |
        |   |                  \/  \/          |    |
        |   |                +-T-10-T          |    |
        |   |               /  |   /|          |    |
        |   |              /  100 / |          |    |
        |   |             /    | | 100         |    |
        |   |            /   +-+-+  |          |    |
        |   |           /   /  |    |          |    |
        |   |          /   /   R-18-R          |    |
        |   |        10   10  /\   /\          |    |
        |   |        /   /   /  \ /  \         |    |
        |   |       /   /   /    x    \        |    |
        |   |      /   /   10  10 \    \       |    |
        |   |     /   /   /    /   10   10     |    |
        |   |    /   /   /    /     \    \     |    |
        |   |   A-25-A  A-25-A       A-25-A    |    |
        |   |   |    |   \    \     /    /     |    |
        |   |   |    |   201  201  201 201     |    |
        |   |   |    |     \    \ /    /       |    |
        |   |  201  201     \    x    /        |    |
        |   |   |    |       \  / \  /         |    |
        |   |   |    |        \/   \/          |    |
        |   |   I-24-I        I-24-I          100  100
        |   |  /    /         |    |           |    |
        |   +-+    /          |    +-----------+    |
        +---------+           +---------------------+

                    Figure 3: Explicit Routing topology

   In the above topology, an operator may want to enforce the following
   high-level explicit routing policies:

   o  Traffic from A nodes to A nodes should preferably go through R or
      T nodes (rather than through I nodes);

   o  Traffic from A nodes to I nodes must not go through R and T nodes.

   With node admin tags, tag A (resp. I, R, T) can be configured on all
   A (resp.  I, R, T) nodes to advertise their role.  The first policy
   is about preferring one path over another.  Given the chosen metrics,
   it is achieved with regular SPF routing.  The second policy is about



<span class="grey">Hegde, et al.                Standards Track                   [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


   prohibiting (pruning) some paths.  It requires an explicit routing
   policy.  With the use of node tags, this may be achieved with a
   generic Constrained Shortest Path First (CSPF) policy configured on A
   nodes: for destination nodes, having the tag "A" runs a CSPF with the
   exclusion of nodes having the tag "I".

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Security%20Considerations"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Security Considerations</span>

   Node administrative tags may be used by operators to indicate
   geographical location or other sensitive information.  As indicated
   in [<a href="./rfc2328" title='"OSPF Version 2"'>RFC2328</a>] and [<a href="./rfc5340" title='"OSPF for IPv6"'>RFC5340</a>], OSPF authentication mechanisms do not
   provide confidentiality and the information carried in node
   administrative tags could be leaked to an IGP snooper.
   Confidentiality for the OSPF control packets can be achieved by
   either running OSPF on top of IP Security (IPsec) tunnels or by
   applying IPsec-based security mechanisms as described in [<a href="./rfc4552" title='"Authentication/Confidentiality for OSPFv3"'>RFC4552</a>].

   Advertisement of tag values for one administrative domain into
   another risks misinterpretation of the tag values (if the two domains
   have assigned different meanings to the same values), which may have
   undesirable and unanticipated side effects.

   [<a id="ref-RFC4593">RFC4593</a>] and [<a href="./rfc6863" title='"Analysis of OSPF Security According to the Keying and Authentication for Routing Protocols (KARP) Design Guide"'>RFC6863</a>] discuss the generic threats to routing
   protocols and OSPF, respectively.  These security threats are also
   applicable to the mechanisms described in this document.  OSPF
   authentication described in [<a href="./rfc2328" title='"OSPF Version 2"'>RFC2328</a>] and [<a href="./rfc5340" title='"OSPF for IPv6"'>RFC5340</a>] or extended
   authentication mechanisms described in [<a href="./rfc7474" title='"Security Extension for OSPFv2 When Using Manual Key Management"'>RFC7474</a>] or [<a href="./rfc7166" title='"Supporting Authentication Trailer for OSPFv3"'>RFC7166</a>] SHOULD
   be used in deployments where attackers have access to the physical
   networks and nodes included in the OSPF domain are vulnerable.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Operational%20Considerations"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Operational Considerations</span>

   Operators can assign meaning to the node administrative tags, which
   are local to the operator's administrative domain.  The operational
   use of node administrative tags is analogical to the IS-IS prefix
   tags [<a href="./rfc5130" title='"A Policy Control Mechanism in IS-IS Using Administrative Tags"'>RFC5130</a>] and BGP communities [<a href="./rfc1997" title='"BGP Communities Attribute"'>RFC1997</a>].  Operational discipline
   and procedures followed in configuring and using BGP communities and
   IS-IS prefix tags is also applicable to the usage of node
   administrative tags.

   Defining language for local policies is outside the scope of this
   document.  As is the case of other policy applications, the pruning
   policies can cause the path to be completely removed from forwarding
   plane, and hence have the potential for more severe operational
   impact (e.g., node unreachability due to path removal) by comparison
   to preference policies that only affect path selection.





<span class="grey">Hegde, et al.                Standards Track                   [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Manageability%20Considerations"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Manageability Considerations</span>

   Node administrative tags are configured and managed using routing
   policy enhancements.  The YANG data definition language is the latest
   model to describe and define configuration for network devices.  The
   OSPF YANG data model is described in [<a href="#ref-OSPF-YANG">OSPF-YANG</a>] and the routing
   policy configuration model is described in [<a href="#ref-RTG-POLICY">RTG-POLICY</a>].  These two
   documents will be enhanced to include the configurations related to
   the node administrative tag.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  IANA Considerations</span>

   This specification updates the "OSPF Router Information (RI) TLVs"
   registry.  IANA has registered the following value:

      Node Admin Tag TLV - 10

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20References"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20Normative%20References"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2328">RFC2328</a>]  Moy, J., "OSPF Version 2", STD 54, <a href="./rfc2328">RFC 2328</a>,
              DOI 10.17487/RFC2328, April 1998,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2328">http://www.rfc-editor.org/info/rfc2328</a>&gt;.

   [<a id="ref-RFC5340">RFC5340</a>]  Coltun, R., Ferguson, D., Moy, J., and A. Lindem, "OSPF
              for IPv6", <a href="./rfc5340">RFC 5340</a>, DOI 10.17487/RFC5340, July 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5340">http://www.rfc-editor.org/info/rfc5340</a>&gt;.

   [<a id="ref-RFC7490">RFC7490</a>]  Bryant, S., Filsfils, C., Previdi, S., Shand, M., and N.
              So, "Remote Loop-Free Alternate (LFA) Fast Reroute (FRR)",
              <a href="./rfc7490">RFC 7490</a>, DOI 10.17487/RFC7490, April 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7490">http://www.rfc-editor.org/info/rfc7490</a>&gt;.

   [<a id="ref-RFC7770">RFC7770</a>]  Lindem, A., Ed., Shen, N., Vasseur, JP., Aggarwal, R., and
              S. Shaffer, "Extensions to OSPF for Advertising Optional
              Router Capabilities", <a href="./rfc7770">RFC 7770</a>, DOI 10.17487/RFC7770,
              February 2016, &lt;<a href="http://www.rfc-editor.org/info/rfc7770">http://www.rfc-editor.org/info/rfc7770</a>&gt;.








<span class="grey">Hegde, et al.                Standards Track                   [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20Informative%20References"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-LFA-MANAGE">LFA-MANAGE</a>]
              Litkowski, S., Decraene, B., Filsfils, C., Raza, K.,
              Horneffer, M., and P. Sarkar, "Operational management of
              Loop Free Alternates", Work in Progress, <a href="./draft-ietf-rtgwg-lfa-manageability-11">draft-ietf-rtgwg-</a>
              <a href="./draft-ietf-rtgwg-lfa-manageability-11">lfa-manageability-11</a>, June 2015.

   [<a id="ref-OSPF-YANG">OSPF-YANG</a>]
              Yeung, D., Qu, Y., Zhang, J., Bogdanovic, D., and K.
              Koushik, "Yang Data Model for OSPF Protocol", Work in
              Progress, <a href="./draft-ietf-ospf-yang-03">draft-ietf-ospf-yang-03</a>, October 2015.

   [<a id="ref-RFC1997">RFC1997</a>]  Chandra, R., Traina, P., and T. Li, "BGP Communities
              Attribute", <a href="./rfc1997">RFC 1997</a>, DOI 10.17487/RFC1997, August 1996,
              &lt;<a href="http://www.rfc-editor.org/info/rfc1997">http://www.rfc-editor.org/info/rfc1997</a>&gt;.

   [<a id="ref-RFC4552">RFC4552</a>]  Gupta, M. and N. Melam, "Authentication/Confidentiality
              for OSPFv3", <a href="./rfc4552">RFC 4552</a>, DOI 10.17487/RFC4552, June 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4552">http://www.rfc-editor.org/info/rfc4552</a>&gt;.

   [<a id="ref-RFC4593">RFC4593</a>]  Barbir, A., Murphy, S., and Y. Yang, "Generic Threats to
              Routing Protocols", <a href="./rfc4593">RFC 4593</a>, DOI 10.17487/RFC4593,
              October 2006, &lt;<a href="http://www.rfc-editor.org/info/rfc4593">http://www.rfc-editor.org/info/rfc4593</a>&gt;.

   [<a id="ref-RFC5130">RFC5130</a>]  Previdi, S., Shand, M., Ed., and C. Martin, "A Policy
              Control Mechanism in IS-IS Using Administrative Tags",
              <a href="./rfc5130">RFC 5130</a>, DOI 10.17487/RFC5130, February 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5130">http://www.rfc-editor.org/info/rfc5130</a>&gt;.

   [<a id="ref-RFC5286">RFC5286</a>]  Atlas, A., Ed. and A. Zinin, Ed., "Basic Specification for
              IP Fast Reroute: Loop-Free Alternates", <a href="./rfc5286">RFC 5286</a>,
              DOI 10.17487/RFC5286, September 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5286">http://www.rfc-editor.org/info/rfc5286</a>&gt;.

   [<a id="ref-RFC6863">RFC6863</a>]  Hartman, S. and D. Zhang, "Analysis of OSPF Security
              According to the Keying and Authentication for Routing
              Protocols (KARP) Design Guide", <a href="./rfc6863">RFC 6863</a>,
              DOI 10.17487/RFC6863, March 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6863">http://www.rfc-editor.org/info/rfc6863</a>&gt;.

   [<a id="ref-RFC7166">RFC7166</a>]  Bhatia, M., Manral, V., and A. Lindem, "Supporting
              Authentication Trailer for OSPFv3", <a href="./rfc7166">RFC 7166</a>,
              DOI 10.17487/RFC7166, March 2014,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7166">http://www.rfc-editor.org/info/rfc7166</a>&gt;.






<span class="grey">Hegde, et al.                Standards Track                   [Page 13]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-14"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


   [<a id="ref-RFC7474">RFC7474</a>]  Bhatia, M., Hartman, S., Zhang, D., and A. Lindem, Ed.,
              "Security Extension for OSPFv2 When Using Manual Key
              Management", <a href="./rfc7474">RFC 7474</a>, DOI 10.17487/RFC7474, April 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7474">http://www.rfc-editor.org/info/rfc7474</a>&gt;.

   [<a id="ref-RTG-POLICY">RTG-POLICY</a>]
              Shaikh, A., Shakir, R., D'Souza, K., and C. Chase,
              "Routing Policy Configuration Model for Service Provider
              Networks", Work in Progress, <a href="./draft-ietf-rtgwg-policy-model-00">draft-ietf-rtgwg-policy-</a>
              <a href="./draft-ietf-rtgwg-policy-model-00">model-00</a>, September 2015.

Contributors

   Thanks to Hannes Gredler for his substantial review, guidance, and
   editing of this document.  Thanks to Harish Raguveer for his
   contributions to initial draft versions of this document.

Acknowledgements

   Thanks to Bharath R, Pushpasis Sarakar, and Dhruv Dhody for useful
   input.  Thanks to Chris Bowers for providing useful input to remove
   ambiguity related to tag ordering.  Thanks to Les Ginsberg and Acee
   Lindem for the input.  Thanks to David Black for careful review and
   valuable suggestions for the document, especially for the operations
   section.


























<span class="grey">Hegde, et al.                Standards Track                   [Page 14]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-15"></span>
<span class="grey"><a href="./rfc7777">RFC 7777</a>                  OSPF Node Admin Tags                March 2016</span>


Authors' Addresses

   Shraddha Hegde
   Juniper Networks, Inc.
   Embassy Business Park
   Bangalore, KA  560093
   India

   Email: shraddha@juniper.net


   Rob Shakir
   Jive Communications, Inc.
   1275 W 1600 N, Suite 100
   Orem, UT  84057
   United States

   Email: rjs@rob.sh


   Anton Smirnov
   Cisco Systems, Inc.
   De Kleetlaan 6a
   Diegem  1831
   Belgium

   Email: as@cisco.com

   Li zhenbin
   Huawei Technologies
   Huawei Bld. No.156 Beiqing Rd
   Beijing  100095
   China

   Email: lizhenbin@huawei.com


   Bruno Decraene
   Orange

   Email: bruno.decraene@orange.com










Hegde, et al.                Standards Track                   [Page 15]
</pre>
</body></html>