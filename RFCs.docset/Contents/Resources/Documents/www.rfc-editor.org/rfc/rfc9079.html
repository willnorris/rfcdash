<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9079: Source-Specific Routing in the Babel Routing Protocol</title>
<meta content="Matthieu Boutier" name="author"/>
<meta content="Juliusz Chroboczek" name="author"/>
<meta content="
       Source-specific routing, also known as Source Address Dependent
Routing (SADR), is an extension to traditional next-hop routing where
packets are forwarded according to both their destination address and their source
address.  This document describes an extension for source-specific routing
to the Babel routing protocol. 
    " name="description"/>
<meta content="xml2rfc 3.9.1" name="generator"/>
<meta content="SADR" name="keyword"/>
<meta content="source address-dependent routing" name="keyword"/>
<meta content="source address" name="keyword"/>
<meta content="multihoming" name="keyword"/>
<meta content="multihoming with multiple addresses" name="keyword"/>
<meta content="multiple addresses" name="keyword"/>
<meta content="source address selection" name="keyword"/>
<meta content="multiple routes" name="keyword"/>
<meta content="multipath" name="keyword"/>
<meta content="disjoint routes" name="keyword"/>
<meta content="route diversity" name="keyword"/>
<meta content="9079" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc9079.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9079" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-babel-source-specific-08" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9079</td>
<td class="center">Source-Specific Routing in Babel</td>
<td class="right">August 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Boutier &amp; Chroboczek</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9079">9079</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-08">August 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Boutier</div>
<div class="org">IRIF, University of Paris</div>
</div>
<div class="author">
      <div class="author-name">J. Chroboczek</div>
<div class="org">IRIF, University of Paris</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9079</h1>
<h1 id="title">Source-Specific Routing in the Babel Routing Protocol</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">Source-specific routing, also known as Source Address Dependent
Routing (SADR), is an extension to traditional next-hop routing where
packets are forwarded according to both their destination address and their source
address.  This document describes an extension for source-specific routing
to the Babel routing protocol.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9079">https://www.rfc-editor.org/info/rfc9079</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty compact toc ulBare">
<li class="ulEmpty compact toc ulBare" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction-and-background">Introduction and Background</a></p>
<ul class="ulEmpty compact ulBare toc">
<li class="ulEmpty compact ulBare toc" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-application-to-multihoming">Application to Multihoming</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="xref" href="#section-1.2">1.2</a>.  <a class="xref" href="#name-other-applications">Other Applications</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.1.2.3">
                <p class="keepWithNext" id="section-toc.1-1.1.2.3.1"><a class="xref" href="#section-1.3">1.3</a>.  <a class="xref" href="#name-specificity-of-prefix-pairs">Specificity of Prefix Pairs</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-specification-of-requiremen">Specification of Requirements</a></p>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-data-structures">Data Structures</a></p>
<ul class="ulEmpty compact ulBare toc">
<li class="ulEmpty compact ulBare toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-the-source-table">The Source Table</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-the-route-table">The Route Table</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-the-table-of-pending-seqno-">The Table of Pending Seqno Requests</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-data-forwarding">Data Forwarding</a></p>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-protocol-operation">Protocol Operation</a></p>
<ul class="ulEmpty compact ulBare toc">
<li class="ulEmpty compact ulBare toc" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-protocol-messages">Protocol Messages</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-wildcard-messages">Wildcard Messages</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-compatibility-with-the-base">Compatibility with the Base Protocol</a></p>
<ul class="ulEmpty compact ulBare toc">
<li class="ulEmpty compact ulBare toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-starvation-and-blackholes">Starvation and Blackholes</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-protocol-encoding">Protocol Encoding</a></p>
<ul class="ulEmpty compact ulBare toc">
<li class="ulEmpty compact ulBare toc" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-source-prefix-sub-tlv">Source Prefix Sub-TLV</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-source-specific-update">Source-Specific Update</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.  <a class="xref" href="#name-source-specific-route-reque">Source-Specific Route Request</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-7.4">7.4</a>.  <a class="xref" href="#name-source-specific-seqno-reque">Source-Specific Seqno Request</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="ulEmpty compact ulBare toc">
<li class="ulEmpty compact ulBare toc" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="ulEmpty compact ulBare toc" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#appendix-A"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="ulEmpty compact toc ulBare" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction-and-background">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction-and-background">Introduction and Background</a>
      </h2>
<p id="section-1-1">The Babel routing protocol <span>[<a class="xref" href="#RFC8966">RFC8966</a>]</span> is a distance vector
routing protocol for next-hop routing.  In next-hop routing, each node
maintains a forwarding table that maps destination prefixes to next hops.
The forwarding decision is a per-packet operation that depends on the
destination address of the packets and on the entries of the forwarding
table.  When a packet is about to be routed, its destination address is
compared to the prefixes of the routing table: the entry with the most
specific prefix containing the destination address of the packet is
chosen, and the packet is forwarded to the associated next hop.  Next-hop
routing is a simple, well-understood paradigm that works satisfactorily in
a large number of cases.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The use of next-hop routing limits the flexibility of the routing
system in two ways.  First, since the routing decision is local to each
router, a router A can only select a route ABC...Z if its neighbouring
router B has selected the route BC...Z.  Second, the only criterion used
by a router to choose a route is the destination address: two packets with
the same destination follow the same route.  Yet, there are other data in
the IP header that could conceivably be used to guide the routing decision
-- the Type of Service (ToS) octet and, of course, the source address.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">Source-specific routing <span>[<a class="xref" href="#SS-ROUTING">SS-ROUTING</a>]</span>, or Source Address
Dependent Routing (SADR), is a modest extension to next-hop routing where
the forwarding decision depends not only on the destination address but
also on the source address of the packet being routed, which makes it
possible for two packets with the same destination but different source
addresses to be routed following different paths.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">This document describes a source-specific routing extension for the
Babel routing protocol <span>[<a class="xref" href="#RFC8966">RFC8966</a>]</span>.  This involves minor
changes to the data structures, which must include a source prefix in
addition to the destination prefix already present, and some changes to
the Update, Route Request, and Seqno Request TLVs, which are extended with
a source prefix.  The source prefix is encoded using a mandatory sub-TLV
(<span>[<a class="xref" href="#RFC8966">RFC8966</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-4.4">Section 4.4</a></span>).<a class="pilcrow" href="#section-1-4">¶</a></p>
<section id="section-1.1">
        <h3 id="name-application-to-multihoming">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-application-to-multihoming">Application to Multihoming</a>
        </h3>
<p id="section-1.1-1">Multihoming is the practice of connecting a single network to two or
more transit networks.  The main application of source-specific routing is
a form of multihoming known as "multihoming with multiple addresses".<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">Classical multihoming consists of assigning a provider-independent
range of addresses to the multihomed network and announcing it to all
transit providers.  While classical multihoming works well for large
networks, the cost of obtaining a provider-independent address range and
announcing it globally in the Internet is prohibitive for small networks.
Unfortunately, it is not possible to implement classical multihoming with
ordinary provider-dependent addresses: in a network connected to two
providers A and B, a packet with a source address allocated by A needs to
be routed through the edge router connected to A.  If it is routed through
the edge router connected to B, it will most likely be filtered (dropped),
in accordance with <span>[<a class="xref" href="#BCP84">BCP84</a>]</span>.<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">In multihoming with multiple addresses, every host in the multihomed
network is assigned multiple addresses, one for each transit provider.
Additional mechanisms are needed in order (i) to choose, for each packet,
a source address that is associated with a provider that is currently up,
and (ii) to route each packet towards the router connected to the provider
associated with its source address.  One might argue that multihoming with
multiple addresses splits the difficult problem of multihoming into two
simpler sub-problems.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<p id="section-1.1-4">The issue of choosing a suitable source address is a decision local to
the sending host and is an area of active research.  The simplest solution
is to use a traditional transport-layer protocol, such as TCP, and to
probe all available source addresses at connection time, analogously to
what is already done with destination addresses, either sequentially
<span>[<a class="xref" href="#RFC6724">RFC6724</a>]</span> or in parallel <span>[<a class="xref" href="#RFC8305">RFC8305</a>]</span>.  Since
the transport-layer protocol is not aware of the multiple available
addresses, flows are interrupted when the selected provider goes down
(from the point of view of the user, all TCP connections are dropped when
the network environment changes).  A better user experience can be
provided by making all of the potential source and destination
addresses available to higher-layer protocols, either at the transport layer <span>[<a class="xref" href="#RFC8684">RFC8684</a>]</span> <span>[<a class="xref" href="#RFC4960">RFC4960</a>]</span> or at the application layer
<span>[<a class="xref" href="#RFC8445">RFC8445</a>]</span>.<a class="pilcrow" href="#section-1.1-4">¶</a></p>
<p id="section-1.1-5">Source-specific routing solves the problem of routing a packet to the
edge router indicated by its source address.  Every edge router announces into the routing domain a default route specific to the prefix associated
with the provider it is connected to.  This route is propagated all the
way to the routers on the access link, which are therefore able to route
every packet to the correct router.  Hosts simply send packets to their
default router -- no host changes are necessary at the network layer.<a class="pilcrow" href="#section-1.1-5">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-other-applications">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-other-applications">Other Applications</a>
        </h3>
<p id="section-1.2-1">In addition to multihoming with multiple addresses, we are aware of two applications of source-specific routing.  Tunnels and VPNs are packet
encapsulation techniques that are commonly used in the Internet to
establish a network-layer topology that is different from the physical
topology.  In some deployments, the default route points at the tunnel;
this causes the network stack to attempt to send encapsulated packets
through the tunnel, which causes it to break.  Various solutions to this
problem are possible, the most common of which is to point a host route at
the tunnel endpoint.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
<p id="section-1.2-2">When source-specific routing is available, it becomes possible to
announce through the tunnel a default route that is specific to the prefix
served by the tunnel.  Since the encapsulated packets have a source
address that is not within that prefix, they are not routed through the
tunnel.<a class="pilcrow" href="#section-1.2-2">¶</a></p>
<p id="section-1.2-3">The third application of source-specific routing is controlled anycast.
Anycast is a technique in which a single destination address is used to
represent multiple network endpoints, collectively called an "anycast
group".  A packet destined to the anycast group is routed to an arbitrary
member of the group, typically the one that is nearest according to the
routing protocol.<a class="pilcrow" href="#section-1.2-3">¶</a></p>
<p id="section-1.2-4">In many applications of anycast, such as DNS root servers, the
nondeterminism of anycast is acceptable; some applications, however,
require finer control.  For example, in some Content Distribution Networks
(CDNs), every endpoint is expected to handle a well-defined subset of the
client population.  With source-specific routing, it is possible for each
member of the anycast group to announce a route specific to its client
population, a technique that is both simpler and more robust than manually
tweaking the routing protocol's metric ("prepending" in BGP).<a class="pilcrow" href="#section-1.2-4">¶</a></p>
</section>
<div id="specificity">
<section id="section-1.3">
        <h3 id="name-specificity-of-prefix-pairs">
<a class="section-number selfRef" href="#section-1.3">1.3. </a><a class="section-name selfRef" href="#name-specificity-of-prefix-pairs">Specificity of Prefix Pairs</a>
        </h3>
<p id="section-1.3-1">In ordinary next-hop routing, when multiple routing table entries match
the destination of a packet, the "longest prefix rule" mandates that the
most specific entry applies.  The reason why this rule makes sense is that
the set of prefixes has the following "tree property":<a class="pilcrow" href="#section-1.3-1">¶</a></p>
<ul class="ulEmpty normal">
<li class="ulEmpty normal" id="section-1.3-2.1">
For any prefixes P and P', either P and P' are disjoint, or one is more
specific than the other.<a class="pilcrow" href="#section-1.3-2.1">¶</a>
</li>
        </ul>
<p id="section-1.3-3">It would be a natural proposition to order pairs of prefixes pointwise:
to define that (D,S) is more specific than (D',S') when D is more specific
than D and S is more specific than S'.  Unfortunately, the set of pairs of
prefixes with the pointwise ordering doesn't satisfy the tree property.
Indeed, consider the following two pairs:<a class="pilcrow" href="#section-1.3-3">¶</a></p>
<p id="section-1.3-4" style="margin-left: 1.5em">(2001:db8:0:1::/64, ::/0) and (::/0, 2001:db8:0:2::/64)<a class="pilcrow" href="#section-1.3-4">¶</a></p>
<p id="section-1.3-5">These two pairs are not disjoint (a packet with destination
2001:db8:0:1::1 and source 2001:db8:0:2::1 is matched by both), but
neither is more specific than the other.  The effect is that there is no
natural, unambiguous way to interpret a routing table such as the
following:<a class="pilcrow" href="#section-1.3-5">¶</a></p>
<div class="artwork art-text alignLeft" id="section-1.3-6">
<pre>          destination                source     next-hop
    2001:db8:0:1::/64                  ::/0            A
                 ::/0     2001:db8:0:2::/64            B
</pre><a class="pilcrow" href="#section-1.3-6">¶</a>
</div>
<p id="section-1.3-7">A finer ordering of pairs of prefixes is required in order to
avoid all ambiguities.  There are two natural choices: destination-first ordering, where (D,S) is more specific than (D',S')
when<a class="pilcrow" href="#section-1.3-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-8.1">D is strictly more specific than D', or<a class="pilcrow" href="#section-1.3-8.1">¶</a>
</li>
          <li class="normal" id="section-1.3-8.2">D = D', and S is more specific than S'<a class="pilcrow" href="#section-1.3-8.2">¶</a>
</li>
        </ul>
<p id="section-1.3-9">
and, symmetrically, source-first ordering, in which sources are
compared first and destinations second.<a class="pilcrow" href="#section-1.3-9">¶</a></p>
<p id="section-1.3-10">Expedient as it would be to leave the choice to the implementation,
this is not possible: all routers in a routing domain must use the same
ordering lest persistent routing loops occur.  Indeed, consider the
following topology:<a class="pilcrow" href="#section-1.3-10">¶</a></p>
<div class="artwork art-text alignLeft" id="section-1.3-11">
<pre>   A --- B --- C --- D
</pre><a class="pilcrow" href="#section-1.3-11">¶</a>
</div>
<p id="section-1.3-12">Suppose that A announces a route for (::/0, 2001:db8:0:2::/64), while
D announces a route for (2001:db8:0:1::/64, ::/0).  Suppose further that
B uses destination-first ordering while C uses source-first
ordering.  Then a packet that matches both routes, say, with destination
2001:db8:0:1::1 and source 2001:db8:0:2::1, would be sent by B towards
D and by C towards A and would therefore loop indefinitely between B and
C.<a class="pilcrow" href="#section-1.3-12">¶</a></p>
<p id="section-1.3-13">This document mandates (<a class="xref" href="#forwarding">Section 4</a>) that all routers
use destination-first ordering, which is generally believed to be more
useful than source-first ordering.  Consider the following topology,
where A is an edge router connected to the Internet and B is an internal
router connected to an access network N:<a class="pilcrow" href="#section-1.3-13">¶</a></p>
<div class="artwork art-text alignLeft" id="section-1.3-14">
<pre>  (::/0, S)             (D, ::/0)
   Internet --- A --- B --- N
</pre><a class="pilcrow" href="#section-1.3-14">¶</a>
</div>
<p id="section-1.3-15">A announces a source-specific default route with source
S (::/0, S), while B announces a nonspecific route to prefix D.
Consider what happens to a packet with a destination in D and a source in
S.  With destination-first ordering, the packet is routed towards the
network N, which is the only way it can possibly reach its destination.
With source-first ordering, on the other hand, the packet is sent
towards the Internet, with no hope of ever reaching its destination in N.<a class="pilcrow" href="#section-1.3-15">¶</a></p>
</section>
</div>
</section>
<section id="section-2">
      <h2 id="name-specification-of-requiremen">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-specification-of-requiremen">Specification of Requirements</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-data-structures">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-data-structures">Data Structures</a>
      </h2>
<p id="section-3-1">A number of the conceptual data structures described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.2">Section 3.2</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span> contain a destination prefix.  This specification
extends these data structures with a source prefix.  Data from the
original protocol, which do not specify a source prefix, are stored with
a zero-length source prefix, which matches the exact same set of packets
as the original, non-source-specific data.<a class="pilcrow" href="#section-3-1">¶</a></p>
<section id="section-3.1">
        <h3 id="name-the-source-table">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-the-source-table">The Source Table</a>
        </h3>
<p id="section-3.1-1">Every Babel node maintains a source table, as described in <span>[<a class="xref" href="#RFC8966">RFC8966</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.2.5">Section 3.2.5</a></span>.  A source-specific Babel node
extends this table with the following field:<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-2.1">The source prefix (sprefix, splen) specifying the source address of
packets to which this entry applies.<a class="pilcrow" href="#section-3.1-2.1">¶</a>
</li>
        </ul>
<p id="section-3.1-3">The source table is now indexed by 5-tuples of the form (prefix, plen,
sprefix, splen, router-id).<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">Note that the route entry contains a source (see Sections <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-2">2</a> and <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.2.5">3.2.5</a>
of <span>[<a class="xref" href="#RFC8966">RFC8966</a>]</span>) that itself contains both destination and
source prefixes.  These are two different concepts and must not be
confused.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-the-route-table">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-the-route-table">The Route Table</a>
        </h3>
<p id="section-3.2-1">Every Babel node maintains a route table, as described in <span>[<a class="xref" href="#RFC8966">RFC8966</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.2.6">Section 3.2.6</a></span>.  Each route table entry contains,
among other data, a source, which this specification extends with a source
prefix as described above.  The route table is now indexed by 5-tuples of
the form (prefix, plen, sprefix, splen, neighbour), where the first four
components are obtained from the source.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-the-table-of-pending-seqno-">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-the-table-of-pending-seqno-">The Table of Pending Seqno Requests</a>
        </h3>
<p id="section-3.3-1">Every Babel node maintains a table of pending seqno requests, as
described in <span>[<a class="xref" href="#RFC8966">RFC8966</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.2.7">Section 3.2.7</a></span>.  A
source-specific Babel node extends this table with the following entry:<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-2.1">The source prefix (sprefix, splen) being requested.<a class="pilcrow" href="#section-3.3-2.1">¶</a>
</li>
        </ul>
<p id="section-3.3-3">The table of pending seqno requests is now indexed by 5-tuples of the
form (prefix, plen, sprefix, splen, router-id).<a class="pilcrow" href="#section-3.3-3">¶</a></p>
</section>
</section>
<div id="forwarding">
<section id="section-4">
      <h2 id="name-data-forwarding">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-data-forwarding">Data Forwarding</a>
      </h2>
<p id="section-4-1">As noted in <a class="xref" href="#specificity">Section 1.3</a>, source-specific tables
can, in general, be ambiguous, and all routers in a routing domain must
use the same algorithm for choosing applicable routes.  An implementation
of the extension described in this document <span class="bcp14">MUST</span> choose routing table
entries by using destination-first ordering, where routing table
entry R1 is preferred to routing table entry R2 when either R1's
destination prefix is more specific than R2's or the destination prefixes
are equal and R1's source prefix is more specific than R2's.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">In practice, this means that a source-specific Babel implementation
must take care that any lower layer that performs packet forwarding obey
these semantics.  More precisely:<a class="pilcrow" href="#section-4-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-3.1">if the lower layers implement destination-first ordering, then the
Babel implementation <span class="bcp14">SHOULD</span> use them directly;<a class="pilcrow" href="#section-4-3.1">¶</a>
</li>
        <li class="normal" id="section-4-3.2">if the lower layers can hold source-specific routes but not with the
right semantics, then the Babel implementation <span class="bcp14">MUST</span> either silently ignore
any source-specific routes or disambiguate the routing table by using
a suitable disambiguation algorithm (see Section V.B of
<span>[<a class="xref" href="#SS-ROUTING">SS-ROUTING</a>]</span> for such an algorithm);<a class="pilcrow" href="#section-4-3.2">¶</a>
</li>
        <li class="normal" id="section-4-3.3">if the lower layers cannot hold source-specific routes, then a Babel
implementation <span class="bcp14">MUST</span> silently ignore any source-specific routes.<a class="pilcrow" href="#section-4-3.3">¶</a>
</li>
      </ul>
</section>
</div>
<section id="section-5">
      <h2 id="name-protocol-operation">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-protocol-operation">Protocol Operation</a>
      </h2>
<p id="section-5-1">This extension does not fundamentally change the operation of the Babel
protocol, and we therefore only describe differences between the original
protocol and the extended protocol.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">In the original protocol, three TLVs carry a destination prefix:
Update, Route Request, and Seqno Request TLVs.  This specification extends
these messages so that they may carry a Source Prefix sub-TLV, as
described in <a class="xref" href="#protocol-encoding">Section 7</a>.  The sub-TLV is
marked as mandatory so that an unextended implementation will silently
ignore the whole enclosing TLV.  A node obeying this specification <span class="bcp14">MUST NOT</span> send a TLV with a zero-length source prefix; instead, it sends a TLV
with no Source Prefix sub-TLV.  Conversely, an extended implementation
<span class="bcp14">MUST</span> interpret an unextended TLV as carrying a source prefix of zero
length.  Taken together, these properties ensure interoperability between
the original and extended protocols (see <a class="xref" href="#compatibility">Section 6</a>).<a class="pilcrow" href="#section-5-2">¶</a></p>
<section id="section-5.1">
        <h3 id="name-protocol-messages">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-protocol-messages">Protocol Messages</a>
        </h3>
<p id="section-5.1-1">This extension allows three TLVs of the original Babel protocol to
carry a source prefix: Update TLVs, Route Request TLVs, and Seqno Request
TLVs.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">In order to advertise a route with a non-zero length source prefix,
a node sends a source-specific update, i.e., an update with a Source
Prefix sub-TLV.  When a node receives a source-specific update (prefix,
source prefix, router-id, seqno, metric) from a neighbour neigh, it
behaves as described in <span>[<a class="xref" href="#RFC8966">RFC8966</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.5.3">Section 3.5.3</a></span>,
except that the entry under consideration is indexed by (prefix, plen,
sprefix, splen, neigh) rather than just (prefix, plen, neigh).<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<p id="section-5.1-3">Similarly, when a node needs to send a request of either kind that
applies to a route with a non-zero length source prefix, it sends
a source-specific request, i.e., a request with a Source Prefix sub-TLV.
When a node receives a source-specific request, it behaves as described in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.8">Section 3.8</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span>, except that the request applies to
the route table entry carrying the source prefix indicated by the
Source Prefix sub-TLV.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-wildcard-messages">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-wildcard-messages">Wildcard Messages</a>
        </h3>
<p id="section-5.2-1">In the original protocol, the address encoding (AE) value 0 is used for
wildcard messages: messages that apply to all routes of any address
family and with any destination prefix.  Wildcard messages are allowed in
two places in the protocol: wildcard retractions are used to retract all
of the routes previously advertised by a node on a given interface, and
wildcard route requests are used to request a full dump of the route table
from a given node.  Wildcard messages are intended to apply to all routes,
including routes decorated with additional data and AE values to be
defined by future extensions; hence, this specification extends
wildcard operations to apply to all routes, whatever the value of the
source prefix.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">More precisely, a node receiving an update with the AE field set to
0 and the Metric field set to infinity (a wildcard retraction) <span class="bcp14">MUST</span> apply
the route acquisition procedure described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.5.3">Section 3.5.3</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span> to all of the routes that it has learned from the sending
node, whatever the value of the source prefix.  A node <span class="bcp14">MUST NOT</span> send
a wildcard retraction with an attached source prefix, and a node that
receives a wildcard retraction with a source prefix <span class="bcp14">MUST</span> ignore the
retraction.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">Similarly, a node that receives a route request with the AE field set
to 0 (a wildcard route request) <span class="bcp14">SHOULD</span> send a full routing table dump,
including routes with a non-zero length source prefix.  A node <span class="bcp14">MUST NOT</span>
send a wildcard request that carries a source prefix, and a node receiving
a wildcard request with a source prefix <span class="bcp14">MUST</span> ignore the request.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
</section>
</section>
<div id="compatibility">
<section id="section-6">
      <h2 id="name-compatibility-with-the-base">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-compatibility-with-the-base">Compatibility with the Base Protocol</a>
      </h2>
<p id="section-6-1">The protocol extension defined in this document is, to a great extent,
interoperable with the base protocol defined in <span>[<a class="xref" href="#RFC8966">RFC8966</a>]</span>
(and all previously standardised extensions).  More precisely, if
non-source-specific routers and source-specific routers are mixed in
a single routing domain, Babel's loop-avoidance properties are preserved,
and, in particular, no persistent routing loops will occur.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">However, this extension is encoded using mandatory sub-TLVs, introduced
in <span>[<a class="xref" href="#RFC8966">RFC8966</a>]</span>, and therefore is not compatible with the
older version of the Babel routing protocol <span>[<a class="xref" href="#RFC6126">RFC6126</a>]</span>, which
does not support mandatory sub-TLVs.  Consequently, this extension <span class="bcp14">MUST NOT</span> be used in a routing domain in which some routers implement <span>[<a class="xref" href="#RFC6126">RFC6126</a>]</span>;
otherwise, persistent routing loops may occur.<a class="pilcrow" href="#section-6-2">¶</a></p>
<section id="section-6.1">
        <h3 id="name-starvation-and-blackholes">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-starvation-and-blackholes">Starvation and Blackholes</a>
        </h3>
<p id="section-6.1-1">In general, the discarding of source-specific routes by
non-source-specific routers will cause route starvation.  Intuitively,
unless there are enough non-source-specific routes in the network,
non-source-specific routers will suffer starvation and discard packets
for destinations that are only announced by source-specific routers.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">In the common case where all source-specific routes are originated at
one of a small set of edge routers, a simple yet sufficient condition for
avoiding starvation is to build a connected source-specific backbone that
includes all of the edge routers and announce a non-source-specific
default route towards the backbone.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
</section>
</section>
</div>
<div id="protocol-encoding">
<section id="section-7">
      <h2 id="name-protocol-encoding">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-protocol-encoding">Protocol Encoding</a>
      </h2>
<p id="section-7-1">This extension defines a new sub-TLV used to carry a source prefix: the
Source Prefix sub-TLV.  It can be used within an Update, Route Request,
or Seqno Request TLV to match a source-specific entry of the route
table in conjunction with the destination prefix natively carried by
these TLVs.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Since a source-specific routing entry is characterised by a single
destination prefix and a single source prefix, a source-specific message contains
exactly one Source Prefix sub-TLV.  A node <span class="bcp14">MUST NOT</span> send more
than one Source Prefix sub-TLV in a TLV, and a node receiving more than
one Source Prefix sub-TLV in a single TLV <span class="bcp14">MUST</span> ignore the TLV.  It <span class="bcp14">MAY</span>
ignore the whole packet.<a class="pilcrow" href="#section-7-2">¶</a></p>
<section id="section-7.1">
        <h3 id="name-source-prefix-sub-tlv">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-source-prefix-sub-tlv">Source Prefix Sub-TLV</a>
        </h3>
<div class="artwork art-text alignLeft" id="section-7.1-1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type = 128  |    Length     |  Source Plen  | Source Prefix...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
</pre><a class="pilcrow" href="#section-7.1-1">¶</a>
</div>
<p id="section-7.1-2">Fields:<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-3">
          <dt id="section-7.1-3.1">Type</dt>
          <dd id="section-7.1-3.2" style="margin-left: 7.5em">Set to 128 to indicate a Source Prefix
sub-TLV.<a class="pilcrow" href="#section-7.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-3.3">Length</dt>
          <dd id="section-7.1-3.4" style="margin-left: 7.5em">The length of the body, in octets, exclusive of the
Type and Length fields.<a class="pilcrow" href="#section-7.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-3.5">Source Plen</dt>
          <dd id="section-7.1-3.6" style="margin-left: 7.5em">The length of the advertised source prefix, in
bits.  This <span class="bcp14">MUST NOT</span> be 0.<a class="pilcrow" href="#section-7.1-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-3.7">Source Prefix</dt>
          <dd id="section-7.1-3.8" style="margin-left: 7.5em">The source prefix being advertised.  This
field's size is (Source Plen)/8 octets rounded upwards.<a class="pilcrow" href="#section-7.1-3.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.1-4">The length of the body TLV is normally of size 1+(Source Plen)/8
rounded upwards.  If the Length field indicates a length smaller than
that, then the sub-TLV is corrupt, and the whole enclosing TLV must be
ignored; if the Length field indicates a length that is larger, then the
extra octets contained in the sub-TLV <span class="bcp14">MUST</span> be silently ignored.<a class="pilcrow" href="#section-7.1-4">¶</a></p>
<p id="section-7.1-5">The contents of the Source Prefix sub-TLV are interpreted according to
the AE of the enclosing TLV.  If a TLV with AE equal to 0 contains
a Source Prefix sub-TLV, then the whole enclosing TLV <span class="bcp14">MUST</span> be ignored.  If
a TLV contains multiple Source Prefix sub-TLVs, then the whole TLV <span class="bcp14">MUST</span> be
ignored.<a class="pilcrow" href="#section-7.1-5">¶</a></p>
<p id="section-7.1-6">Note that this sub-TLV is a mandatory sub-TLV.  Therefore, as described
in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-4.4">Section 4.4</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span>, the whole TLV <span class="bcp14">MUST</span> be ignored if
that sub-TLV is not understood (or malformed).<a class="pilcrow" href="#section-7.1-6">¶</a></p>
</section>
<section id="section-7.2">
        <h3 id="name-source-specific-update">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-source-specific-update">Source-Specific Update</a>
        </h3>
<p id="section-7.2-1">The source-specific update is an Update TLV with a Source Prefix
sub-TLV.  It advertises or retracts source-specific routes in the same
manner as routes with non-source-specific updates (see <span>[<a class="xref" href="#RFC8966">RFC8966</a>]</span>).  A wildcard retraction (update with AE equal to 0) <span class="bcp14">MUST NOT</span> carry a Source Prefix sub-TLV.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<p id="section-7.2-2">Babel uses a stateful compression scheme to reduce the size taken by
destination prefixes in Update TLVs (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-4.5">Section 4.5</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span>).  The source prefix defined by this extension is not
compressed.  On the other hand, compression is allowed for the destination
prefixes carried by source-specific updates.  As described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-4.5">Section 4.5</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span>, unextended implementations will correctly
update their parser state while otherwise ignoring the whole TLV.<a class="pilcrow" href="#section-7.2-2">¶</a></p>
</section>
<div id="ss-request">
<section id="section-7.3">
        <h3 id="name-source-specific-route-reque">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-source-specific-route-reque">Source-Specific Route Request</a>
        </h3>
<p id="section-7.3-1">A source-specific route request is a Route Request TLV with a Source
Prefix sub-TLV.  It prompts the receiver to send an update for a given
pair of destination and source prefixes, as described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.8.1.1">Section 3.8.1.1</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span>.  A wildcard request (route request with AE
equal to 0) <span class="bcp14">MUST NOT</span> carry a Source Prefix sub-TLV; if a wildcard request
with a Source Prefix sub-TLV is received, then the request <span class="bcp14">MUST</span> be
ignored.<a class="pilcrow" href="#section-7.3-1">¶</a></p>
</section>
</div>
<section id="section-7.4">
        <h3 id="name-source-specific-seqno-reque">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-source-specific-seqno-reque">Source-Specific Seqno Request</a>
        </h3>
<p id="section-7.4-1">A source-specific seqno request is a Seqno Request TLV with a Source
Prefix sub-TLV.  It requests that the receiving node perform the procedure
described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#section-3.8.1.2">Section 3.8.1.2</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span> but applied to
a pair consisting of a destination and source prefix.<a class="pilcrow" href="#section-7.4-1">¶</a></p>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-8-1">IANA has allocated sub-TLV number 128 for the Source Prefix sub-TLV in
the "Babel Sub-TLV Types" registry.<a class="pilcrow" href="#section-8-1">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">The extension defined in this document adds a new sub-TLV to three
sub-TLVs already present in the original Babel protocol and does not
change the security properties of the protocol itself.  However, the
additional flexibility provided by source-specific routing might
invalidate the assumptions made by some network administrators, which
could conceivably lead to security issues.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">For example, a network administrator might be tempted to abuse route
filtering (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8966#appendix-C">Appendix C</a> of [<a class="xref" href="#RFC8966">RFC8966</a>]</span>) as a security mechanism.
Unless the filtering rules are designed to take source-specific routing
into account, they might be bypassed by a source-specific route, which
might cause traffic to reach a portion of a network that was thought to be
protected.  A network administrator might also assume that no route
is more specific than a host route and use a host route in order to
direct traffic for a given destination through a security device (e.g.,
a firewall); source-specific routing invalidates this assumption, and, in
some topologies, announcing a source-specific route might conceivably be
used to bypass the security device.<a class="pilcrow" href="#section-9-2">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="BCP84">[BCP84]</dt>
        <dd>
<div class="refInstance" id="RFC3704">
            <span class="refAuthor">Baker, F.</span> and <span class="refAuthor">P. Savola</span>, <span class="refTitle">"Ingress Filtering for Multihomed Networks"</span>, <span class="seriesInfo">BCP 84</span>, <span class="seriesInfo">RFC 3704</span>, <time class="refDate" datetime="2004-03">March 2004</time>. </div>
<div class="refInstance" id="RFC8704">
            <span class="refAuthor">Sriram, K.</span>, <span class="refAuthor">Montgomery, D.</span>, and <span class="refAuthor">J. Haas</span>, <span class="refTitle">"Enhanced Feasible-Path Unicast Reverse Path Forwarding"</span>, <span class="seriesInfo">BCP 84</span>, <span class="seriesInfo">RFC 8704</span>, <time class="refDate" datetime="2020-02">February 2020</time>. </div>
<span>&lt;<a href="https://www.rfc-editor.org/info/bcp84">https://www.rfc-editor.org/info/bcp84</a>&gt;</span>
</dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8966">[RFC8966]</dt>
      <dd>
<span class="refAuthor">Chroboczek, J.</span> and <span class="refAuthor">D. Schinazi</span>, <span class="refTitle">"The Babel Routing Protocol"</span>, <span class="seriesInfo">RFC 8966</span>, <span class="seriesInfo">DOI 10.17487/RFC8966</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8966">https://www.rfc-editor.org/info/rfc8966</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4960">[RFC4960]</dt>
        <dd>
<span class="refAuthor">Stewart, R., Ed.</span>, <span class="refTitle">"Stream Control Transmission Protocol"</span>, <span class="seriesInfo">RFC 4960</span>, <span class="seriesInfo">DOI 10.17487/RFC4960</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4960">https://www.rfc-editor.org/info/rfc4960</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6126">[RFC6126]</dt>
        <dd>
<span class="refAuthor">Chroboczek, J.</span>, <span class="refTitle">"The Babel Routing Protocol"</span>, <span class="seriesInfo">RFC 6126</span>, <span class="seriesInfo">DOI 10.17487/RFC6126</span>, <time class="refDate" datetime="2011-04">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6126">https://www.rfc-editor.org/info/rfc6126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6724">[RFC6724]</dt>
        <dd>
<span class="refAuthor">Thaler, D., Ed.</span>, <span class="refAuthor">Draves, R.</span>, <span class="refAuthor">Matsumoto, A.</span>, and <span class="refAuthor">T. Chown</span>, <span class="refTitle">"Default Address Selection for Internet Protocol Version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 6724</span>, <span class="seriesInfo">DOI 10.17487/RFC6724</span>, <time class="refDate" datetime="2012-09">September 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6724">https://www.rfc-editor.org/info/rfc6724</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8305">[RFC8305]</dt>
        <dd>
<span class="refAuthor">Schinazi, D.</span> and <span class="refAuthor">T. Pauly</span>, <span class="refTitle">"Happy Eyeballs Version 2: Better Connectivity Using Concurrency"</span>, <span class="seriesInfo">RFC 8305</span>, <span class="seriesInfo">DOI 10.17487/RFC8305</span>, <time class="refDate" datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8305">https://www.rfc-editor.org/info/rfc8305</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8445">[RFC8445]</dt>
        <dd>
<span class="refAuthor">Keranen, A.</span>, <span class="refAuthor">Holmberg, C.</span>, and <span class="refAuthor">J. Rosenberg</span>, <span class="refTitle">"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal"</span>, <span class="seriesInfo">RFC 8445</span>, <span class="seriesInfo">DOI 10.17487/RFC8445</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8445">https://www.rfc-editor.org/info/rfc8445</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8684">[RFC8684]</dt>
        <dd>
<span class="refAuthor">Ford, A.</span>, <span class="refAuthor">Raiciu, C.</span>, <span class="refAuthor">Handley, M.</span>, <span class="refAuthor">Bonaventure, O.</span>, and <span class="refAuthor">C. Paasch</span>, <span class="refTitle">"TCP Extensions for Multipath Operation with Multiple Addresses"</span>, <span class="seriesInfo">RFC 8684</span>, <span class="seriesInfo">DOI 10.17487/RFC8684</span>, <time class="refDate" datetime="2020-03">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8684">https://www.rfc-editor.org/info/rfc8684</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SS-ROUTING">[SS-ROUTING]</dt>
      <dd>
<span class="refAuthor">Boutier, M.</span> and <span class="refAuthor">J. Chroboczek</span>, <span class="refTitle">"Source-Specific Routing"</span>, <span class="refContent">IFIP Networking Conference</span>, <span class="seriesInfo">DOI 10.1109/IFIPNetworking.2015.7145305</span>, <time class="refDate" datetime="2015-05">May 2015</time>, <span>&lt;<a href="http://arxiv.org/pdf/1403.0445">http://arxiv.org/pdf/1403.0445</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The authors are indebted to <span class="contact-name">Donald Eastlake</span>, <span class="contact-name">Joel Halpern</span>, and <span class="contact-name">Toke Hoiland-Jorgensen</span> for their help with this document.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Matthieu Boutier</span></div>
<div class="left" dir="auto"><span class="org">IRIF, University of Paris</span></div>
<div class="left" dir="auto"><span class="street-address">Case 7014</span></div>
<div class="left" dir="auto">
<span class="postal-code">75205</span> <span class="locality">Paris Cedex 13</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:boutier@irif.fr">boutier@irif.fr</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Juliusz Chroboczek</span></div>
<div class="left" dir="auto"><span class="org">IRIF, University of Paris</span></div>
<div class="left" dir="auto"><span class="street-address">Case 7014</span></div>
<div class="left" dir="auto">
<span class="postal-code">75205</span> <span class="locality">Paris Cedex 13</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jch@irif.fr">jch@irif.fr</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>