<html><head></head><body><pre>Network Working Group                                            D. Wing
Request for Comments: 2530                                 Cisco Systems
Category: Standards Track                                     March 1999


               <span class="h1">Indicating Supported Media Features Using</span>
                       <span class="h1">Extensions to DSN and MDN</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Abstract"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Abstract</span>

   There is a need in Internet mail and Internet fax for a recipient to
   indicate the media features it supports so that messages can be
   generated by senders without exceeding the recipient's abilities.

   This memo describes a format for generating Message Disposition
   Notifications [<a href="./rfc2298" title='"An Extensible Message Format for Message Disposition Notifications"'>RFC2298</a>] and Delivery Status Notifications [<a href="./rfc1894" title='"An Extensible Message Format for Delivery Status Notifications"'>RFC1894</a>]
   which contain such information.  This information can be used by
   senders to avoid exceeding the recipient's capabilities when sending
   subsequent messages.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20Introduction"></a><a class="selflink" href="#section-2" id="section-2">2</a>. Introduction</span>

   The extensions described in this document can be used in Message
   Disposition Notifications [<a href="./rfc2298" title='"An Extensible Message Format for Message Disposition Notifications"'>RFC2298</a>] or Delivery Status Notifications
   [<a href="./rfc1894" title='"An Extensible Message Format for Delivery Status Notifications"'>RFC1894</a>], as appropriate for the implementation.

   Note that both DSNs and MDNs have drawbacks: DSNs are not available
   between all senders and receivers, and MDNs require the receiver to
   disclose message disposition information (or, if using the "denied"
   disposition-type, the time the disposition notification was
   generated).

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].




<span class="grey">Wing                        Standards Track                     [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc2530">RFC 2530</a>            Media Features using DSN and MDN          March 1999</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Extensions%20for%20use%20by%20DSN%20and%20MDN"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Extensions for use by DSN and MDN</span>

   The following extension is available to both DSN [<a href="./rfc1894" title='"An Extensible Message Format for Delivery Status Notifications"'>RFC1894</a>] and MDN
   [<a href="./rfc2298" title='"An Extensible Message Format for Message Disposition Notifications"'>RFC2298</a>] messages.

   For a DSN message, the following per-recipient fields are defined
   (<a href="./rfc1894#section-2.3">section 2.3 of [RFC1894]</a>).  For an MDN message, the following
   extension fields are defined (<a href="./rfc2298#section-3.1">section 3.1 of [RFC2298]</a>).  Using the
   language of [<a href="./rfc2234" title='"Augmented BNF for Syntax Specifications: ABNF"'>RFC2234</a>]:

      extension-field    = media-features CRLF

      media-features     = "Media-Accept-Features" ":"
                            media-feature-tags
      media-feature-tags = &lt;*text as defined below,
                            with LWSP wrapping&gt;

   The &lt;media-feature-tags&gt; are defined in separate schema documents
   which MUST utilize the language described in [<a href="#ref-SYNTAX" title='"A Syntax for Describing Media Feature Sets"'>SYNTAX</a>].  The schema
   MUST be registered following the registration requirements of
   [<a href="./rfc2506" title='"Media Feature Tag Registration Procedure"'>RFC2506</a>].

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20Examples"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  Examples</span>

   The following examples assume there is a schema document which
   defines the tags shown.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.1.%20%20Paper-size%20and%20Color"></a><a class="selflink" href="#section-3.1.1" id="section-3.1.1">3.1.1</a>.  Paper-size and Color</span>

   Assuming there is a schema document which describes the tags paper-
   size and color, the following example is valid:

      Media-Accept-Features: (&amp; (paper-size=a4) (color=binary) )

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.2.%20%20UA-Media%2C%20Paper-size%2C%20and%20Color"></a><a class="selflink" href="#section-3.1.2" id="section-3.1.2">3.1.2</a>.  UA-Media, Paper-size, and Color</span>

   Assuming there is a schema document which describes the tags paper-
   size, color, and grey:

      Media-Accept-Features: (&amp; (| (paper-size=a4) (paper-size=letter) )
        (| (&amp; (color=grey) (dpi=200) (dpi-xyratio=200/100) )
        (&amp; (color=limited) (dpi=200) (dpi-xy=200/100) ) )

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20MTA%20Implmentation%20Recommendation"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  MTA Implmentation Recommendation</span>

   If the recipient's MTA determines that a message cannot be processed,
   the recipient's MTA is strongly encouraged to reject the message with
   a status code of 5.6.1 [<a href="./rfc1893">RFC1893</a>].  This status code may be returned



<span class="grey">Wing                        Standards Track                     [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc2530">RFC 2530</a>            Media Features using DSN and MDN          March 1999</span>


   in response to the end-of-mail-data indicator if the MTA supports
   reporting of enhanced error codes [<a href="./rfc2034" title='"SMTP Service Extension for Returning Enhanced Error Codes"'>RFC2034</a>], or after message
   reception by generating a delivery failure DSN ("bounce").

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Security%20Considerations"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Security Considerations</span>

   Inaccurate media feature information could cause a denial of service,
   causing subsequent messages to be sent which the recipient is unable
   to process.

   The media feature information could be inaccurate due to a malicious
   attack (spoofed DSN or MDN) or misconfiguration.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Acknowledgments"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Acknowledgments</span>

   The author thanks the members of the Internet Fax working group for
   assistance with this document, and especially Larry Masinter, Graham
   Klyne, and Ned Freed.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20References"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  References</span>

   [<a id="ref-RFC2506">RFC2506</a>] Holtman, K., Mutz, A. and T. Hardie, "Media Feature Tag
             Registration Procedure", <a href="https://www.rfc-editor.org/bcp/bcp31">BCP 31</a>, <a href="./rfc2506">RFC 2506</a>, March 1999.

   [<a id="ref-RFC1894">RFC1894</a>] Moore, K. and G. Vaudreuil, "An Extensible Message Format
             for Delivery Status Notifications", <a href="./rfc1894">RFC 1894</a>, January 1996.

   [<a id="ref-RFC2034">RFC2034</a>] Freed, N., "SMTP Service Extension for Returning Enhanced
             Error Codes", <a href="./rfc2034">RFC 2034</a>, October 1996.

   [<a id="ref-RFC2119">RFC2119</a>] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2234">RFC2234</a>] Crocker, D. and P. Overell, "Augmented BNF for Syntax
             Specifications:  ABNF", <a href="./rfc2234">RFC 2234</a>, November 1997.

   [<a id="ref-RFC2298">RFC2298</a>] Fajman, R., "An Extensible Message Format for Message
             Disposition Notifications", <a href="./rfc2298">RFC 2298</a>, March 1998.

   [<a id="ref-SYNTAX">SYNTAX</a>]  Klyne, G., "A Syntax for Describing Media Feature Sets",
             <a href="./rfc2533">RFC 2533</a>, March 1999.










<span class="grey">Wing                        Standards Track                     [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc2530">RFC 2530</a>            Media Features using DSN and MDN          March 1999</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20Author%27s%20Address"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  Author's Address</span>

   Dan Wing
   Cisco Systems, Inc.
   101 Cooper Street
   Santa Cruz, CA 95060  USA

   Phone: +1 831 457 5200
   Fax:   +1 831 457 5208
   EMail: dwing@cisco.com









































<span class="grey">Wing                        Standards Track                     [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc2530">RFC 2530</a>            Media Features using DSN and MDN          March 1999</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Full%20Copyright%20Statement"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























Wing                        Standards Track                     [Page 5]
</pre>
</body></html>