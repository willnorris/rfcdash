<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8804: Content Delivery Network Interconnection (CDNI) Request Routing Extensions</title>
<meta content="Ori Finkelman" name="author"/>
<meta content="Sanjay Mishra" name="author"/>
<meta content="
       Open Caching architecture is a use case of Content Delivery Network
      Interconnection (CDNI) in which the commercial Content Delivery Network
      (CDN) is the upstream CDN (uCDN) and the ISP caching layer serves as the
      downstream CDN (dCDN).  This document defines extensions to the CDNI
      Metadata Interface (MI) and the Footprint &amp; Capabilities
      Advertisement interface (FCI). These extensions are derived from
      requirements raised by Open Caching but are also applicable to CDNI use
      cases in general.
 
    " name="description"/>
<meta content="xml2rfc 3.1.1" name="generator"/>
<meta content="8804" name="rfc.number"/>
<link href="rfc8804.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8804" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-cdni-request-routing-extensions-08" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8804</td>
<td class="center">CDNI Request Routing Extensions</td>
<td class="right">September 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Finkelman &amp; Mishra</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8804">8804</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-09">September 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">O. Finkelman</div>
<div class="org">Qwilt</div>
</div>
<div class="author">
      <div class="author-name">S. Mishra</div>
<div class="org">Verizon</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8804</h1>
<h1 id="title">Content Delivery Network Interconnection (CDNI) Request Routing Extensions</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">Open Caching architecture is a use case of Content Delivery Network
      Interconnection (CDNI) in which the commercial Content Delivery Network
      (CDN) is the upstream CDN (uCDN) and the ISP caching layer serves as the
      downstream CDN (dCDN).  This document defines extensions to the CDNI
      Metadata Interface (MI) and the Footprint &amp; Capabilities
      Advertisement interface (FCI). These extensions are derived from
      requirements raised by Open Caching but are also applicable to CDNI use
      cases in general.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8804">https://www.rfc-editor.org/info/rfc8804</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.1.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="xref" href="#section-1.2">1.2</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.1.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-redirect-target-capability">Redirect Target Capability</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-dns-redirect-target">DNS Redirect Target</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-http-redirect-target">HTTP Redirect Target</a><a class="pilcrow" href="#section-toc.1-1.2.2.2.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="xref" href="#section-2.3">2.3</a>.  <a class="xref" href="#name-properties-of-redirect-targ">Properties of Redirect Target Capability Object</a><a class="pilcrow" href="#section-toc.1-1.2.2.3.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a class="xref" href="#section-2.4">2.4</a>.  <a class="xref" href="#name-dnstarget-object">DnsTarget Object</a><a class="pilcrow" href="#section-toc.1-1.2.2.4.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.4.2.1">
                    <p id="section-toc.1-1.2.2.4.2.1.1"><a class="xref" href="#section-2.4.1">2.4.1</a>.  <a class="xref" href="#name-dnstarget-example">DnsTarget Example</a><a class="pilcrow" href="#section-toc.1-1.2.2.4.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a class="xref" href="#section-2.5">2.5</a>.  <a class="xref" href="#name-httptarget-object">HttpTarget Object</a><a class="pilcrow" href="#section-toc.1-1.2.2.5.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.2.2.5.2.1">
                    <p id="section-toc.1-1.2.2.5.2.1.1"><a class="xref" href="#section-2.5.1">2.5.1</a>.  <a class="xref" href="#name-httptarget-example">HttpTarget Example</a><a class="pilcrow" href="#section-toc.1-1.2.2.5.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a class="xref" href="#section-2.6">2.6</a>.  <a class="xref" href="#name-usage-example">Usage Example</a><a class="pilcrow" href="#section-toc.1-1.2.2.6.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-fallback-target-server-addr">Fallback Target Server Address</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-properties-of-fallback-targ">Properties of Fallback Target Generic Metadata Object</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-usage-example-2">Usage Example</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-ucdn-addressing-considerati">uCDN Addressing Considerations</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-cdni-payload-types">CDNI Payload Types</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="xref" href="#section-4.1.1">4.1.1</a>.  <a class="xref" href="#name-cdni-fci-redirecttarget-pay">CDNI FCI RedirectTarget Payload Type</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.2.1.1">¶</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a class="xref" href="#section-4.1.2">4.1.2</a>.  <a class="xref" href="#name-cdni-mi-fallbacktarget-payl">CDNI MI FallbackTarget Payload Type</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.2.2.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-confidentiality-and-privacy">Confidentiality and Privacy</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.1">¶</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.6.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The Streaming Video Alliance <span>[<a class="xref" href="#SVA">SVA</a>]</span> is
      a global association that works to solve  
      streaming video challenges in an effort to improve end-user experience
      and adoption. The Open Caching Working Group <span>[<a class="xref" href="#OCWG">OCWG</a>]</span> of the Streaming Video Alliance <span>[<a class="xref" href="#SVA">SVA</a>]</span> is focused on the
      delegation of video delivery requests from commercial CDNs to a caching
      layer at the ISP's network. Open Caching
      architecture is a specific use case of CDNI where the commercial CDN is
      the upstream CDN (uCDN) and the ISP caching layer is the downstream CDN
      (dCDN). The Open Caching Request Routing Functional Specification <span>[<a class="xref" href="#OC-RR">OC-RR</a>]</span> defines the Request Routing process
      and the 
      interfaces that are required for its provisioning. 

This document defines the CDNI metadata object <span>[<a class="xref" href="#RFC8006">RFC8006</a>]</span> and the CDNI Footprint and Capabilities
object <span>[<a class="xref" href="#RFC8008">RFC8008</a>]</span> that are required for Open
Caching Request Routing:<a class="pilcrow" href="#section-1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">Redirect Target Capability (for dCDN advertising redirect target
 address)<a class="pilcrow" href="#section-1-2.1">¶</a>
</li>
        <li class="normal" id="section-1-2.2">Fallback Target Metadata (for uCDN configuring fallback target
 address)<a class="pilcrow" href="#section-1-2.2">¶</a>
</li>
      </ul>
<p id="section-1-3">This document also registers CDNI Payload Types <span>[<a class="xref" href="#RFC7736">RFC7736</a>]</span> for these defined objects.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">For consistency with other CDNI documents, this
document follows the CDNI convention of uCDN (upstream CDN) and dCDN
(downstream CDN) to represent the commercial CDN and ISP caching layer,
respectively.<a class="pilcrow" href="#section-1-4">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.1-1">The following terms are used throughout this document:<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.1-2">
          <dt id="section-1.1-2.1">FQDN</dt>
          <dd id="section-1.1-2.2" style="margin-left: 4.0em">Fully Qualified Domain Name<a class="pilcrow" href="#section-1.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-2.3">CDN</dt>
          <dd id="section-1.1-2.4" style="margin-left: 4.0em">Content Delivery Network<a class="pilcrow" href="#section-1.1-2.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-1.1-3">Additionally, this document reuses the terminology defined in <span>[<a class="xref" href="#RFC6707">RFC6707</a>]</span>, <span>[<a class="xref" href="#RFC7336">RFC7336</a>]</span>, <span>[<a class="xref" href="#RFC8006">RFC8006</a>]</span>, <span>[<a class="xref" href="#RFC8007">RFC8007</a>]</span>, and <span>[<a class="xref" href="#RFC8008">RFC8008</a>]</span>. Specifically, we use the following CDNI
 acronyms:<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.1-4">
          <dt id="section-1.1-4.1">FCI</dt>
          <dd id="section-1.1-4.2" style="margin-left: 4.0em">Footprint &amp; Capabilities Advertisement interface (see <span>[<a class="xref" href="#RFC8008">RFC8008</a>]</span>)<a class="pilcrow" href="#section-1.1-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.3">MI</dt>
          <dd id="section-1.1-4.4" style="margin-left: 4.0em">Metadata Interface (see <span>[<a class="xref" href="#RFC8006">RFC8006</a>]</span>)<a class="pilcrow" href="#section-1.1-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.5">uCDN</dt>
          <dd id="section-1.1-4.6" style="margin-left: 4.0em">Upstream CDN (see
   <span>[<a class="xref" href="#RFC7336">RFC7336</a>]</span>)<a class="pilcrow" href="#section-1.1-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.7">dCDN</dt>
          <dd id="section-1.1-4.8" style="margin-left: 4.0em">Downstream CDN (see
   <span>[<a class="xref" href="#RFC7336">RFC7336</a>]</span>)<a class="pilcrow" href="#section-1.1-4.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.9">RT</dt>
          <dd id="section-1.1-4.10" style="margin-left: 4.0em">Redirection Target. Endpoint for redirection from uCDN to
   dCDN.<a class="pilcrow" href="#section-1.1-4.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.11">RR</dt>
          <dd id="section-1.1-4.12" style="margin-left: 4.0em">Request Router. An element responsible for routing user
   requests, typically using HTTP redirect or DNS CNAME, depending on
   the use case.<a class="pilcrow" href="#section-1.1-4.12">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-1.2">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
 "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
 "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
 "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
 are to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they
 appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
</section>
</section>
<div id="redirect-target-capability">
<section id="section-2">
      <h2 id="name-redirect-target-capability">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-redirect-target-capability">Redirect Target Capability</a>
      </h2>
<p id="section-2-1">Iterative CDNI Request Redirection is defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7336#section-1.1">Section 1.1</a> of [<a class="xref" href="#RFC7336">RFC7336</a>]</span> and elaborated by examples in
      Sections <a class="relref" href="https://www.rfc-editor.org/rfc/rfc7336#section-3.2">3.2</a> and <a class="relref" href="https://www.rfc-editor.org/rfc/rfc7336#section-3.4">3.4</a> of <span>[<a class="xref" href="#RFC7336">RFC7336</a>]</span>.  A
      Redirection Target (RT) is defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7975#section-2">Section 2</a> of [<a class="xref" href="#RFC7975">RFC7975</a>]</span> for Recursive Request Redirection
      as:<a class="pilcrow" href="#section-2-1">¶</a></p>
<blockquote id="section-2-2">The endpoint to which the User Agent is redirected.  In
      CDNI, an RT may point to a number of different components, some examples
      include a surrogate in the same CDN as the request router, a request
      router in a dCDN, or a surrogate in a dCDN.<a class="pilcrow" href="#section-2-2">¶</a>
</blockquote>
<p id="section-2-3">In this document, we adopt the same definition of the RT for the
      Iterative Request Redirect use case. This use case requires the
      provisioning of the RT address to be used by the uCDN in order to
      redirect to the dCDN. RT addresses can vary between different
      footprints (for example, between different regions), and they may also
      change over time (for example, as a result of network problems). Given
      this variable and dynamic nature of the redirect target address, it may
      not be suitable to advertise it during bootstrap. A more dynamic and
      footprint-oriented interface is required. <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7336#section-4.3">Section 4.3</a> of [<a class="xref" href="#RFC7336">RFC7336</a>]</span> suggests that it
      could be one of the 
      roles of the FCI <span>[<a class="xref" href="#RFC8008">RFC8008</a>]</span>. Following
      this suggestion, we have therefore chosen to use the CDNI Footprint &amp;
      Capabilities Advertisement interface for redirect target address advertisement.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">Use cases:<a class="pilcrow" href="#section-2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-5.1">Footprint: The dCDN may want to have a different target per
 footprint. Note that a dCDN may spread across multiple
 geographies. This makes it easier to route client requests to a nearby
 request router. Though this can be achieved using a single canonical
 name and "Geo DNS", such that in different geographies the same
 hostname is resolved to different IP address, that approach has
 limitations; for example, a client may be using a third-party DNS
 resolver, making it impossible for the redirector to detect where the
 client is located, or Geo DNS granularity may be too rough for the
 requirement of the application.<a class="pilcrow" href="#section-2-5.1">¶</a>
</li>
        <li class="normal" id="section-2-5.2">Scaling: The dCDN may choose to scale its Request Routing service
 by deploying more request routers in new locations and advertise them
 via an updatable interface like the FCI.<a class="pilcrow" href="#section-2-5.2">¶</a>
</li>
      </ul>
<p id="section-2-6">The Redirect Target capability object is used to indicate the target
      address the uCDN should use in order to redirect a client to the dCDN. A
      target may be attached to a specific uCDN host, attached to a list of
      uCDN hosts, or used globally for all the hosts of the uCDN.<a class="pilcrow" href="#section-2-6">¶</a></p>
<p id="section-2-7">When a dCDN is attaching the redirect target to a specific uCDN host
      or a list of uCDN hosts, the dCDN <span class="bcp14">MUST</span> advertise the
      hosts within the Redirect Target capability object as
      "redirecting-hosts". In this case, the uCDN can redirect to that dCDN
      address, only if the User Agent request was to one of these uCDN
      hosts.<a class="pilcrow" href="#section-2-7">¶</a></p>
<p id="section-2-8">If the Redirect Target capability object does not contain a target or
      the target is empty, the uCDN <span class="bcp14">MUST</span> interpret it as "no
      target available for these uCDN hosts for the specified footprint". In
      case such a target was already advertised in a previous FCI object, the
      uCDN <span class="bcp14">MUST</span> interpret it as an update that deletes the
      previous redirect target.<a class="pilcrow" href="#section-2-8">¶</a></p>
<section id="section-2.1">
        <h3 id="name-dns-redirect-target">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-dns-redirect-target">DNS Redirect Target</a>
        </h3>
<p id="section-2.1-1">A redirect target for DNS redirection is an FQDN used as an alias in
 a CNAME record response (see <span>[<a class="xref" href="#RFC1034">RFC1034</a>]</span>) of the uCDN DNS router. 
 Note that DNS routers make
 routing decisions based on either the DNS resolver's IP address or the
 client IP subnet when EDNS0 client-subnet (ECS) is used (see <span>[<a class="xref" href="#RFC7871">RFC7871</a>]</span>). The dCDN may choose to advertise
 redirect targets and footprints to cover both cases, such that the
 uCDN resolution would route the DNS query to different dCDN CNAMEs
 according to client subnet or dCDN resolver IP address. This method
 further allows the dCDN DNS to optimize the resolution by localizing
 the target CNAMEs. A uCDN implementation <span class="bcp14">SHOULD</span> prefer
 routing based on client IP subnet when the ECS option is present. A dCDN
 implementation using the ECS option <span class="bcp14">MUST</span> be aware of
 the privacy drawbacks listed in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7871#section-2">Section 2</a> of [<a class="xref" href="#RFC7871">RFC7871</a>]</span> and <span class="bcp14">SHOULD</span> follow the
 guidelines provided in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7871#section-11.1">Section 11.1</a> of [<a class="xref" href="#RFC7871">RFC7871</a>]</span>.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-http-redirect-target">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-http-redirect-target">HTTP Redirect Target</a>
        </h3>
<p id="section-2.2-1">A redirect target for HTTP redirection is the URI to be used as the
 value for the Location header of an HTTP redirect 3xx response,
 typically a 302 (Found) (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7231#section-7.1.2">Section 7.1.2</a> of [<a class="xref" href="#RFC7231">RFC7231</a>]</span> and <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7231#section-6.4">Section 6.4</a> of [<a class="xref" href="#RFC7231">RFC7231</a>]</span>).<a class="pilcrow" href="#section-2.2-1">¶</a></p>
</section>
<div id="redirect-target-capability-properties">
<section id="section-2.3">
        <h3 id="name-properties-of-redirect-targ">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-properties-of-redirect-targ">Properties of Redirect Target Capability Object</a>
        </h3>
<p id="section-2.3-1">The Redirect Target capability object consists of the following
 properties:<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.3-2">
          <dt id="section-2.3-2.1">Property:</dt>
          <dd id="section-2.3-2.2" style="margin-left: 1.5em">
            <p id="section-2.3-2.2.1">redirecting-hosts<a class="pilcrow" href="#section-2.3-2.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.3-2.2.2">
              <dt id="section-2.3-2.2.2.1">Description:</dt>
              <dd id="section-2.3-2.2.2.2" style="margin-left: 1.5em">One or more uCDN hosts to which this
              redirect target is attached. A redirecting host
              <span class="bcp14">SHOULD</span> be a host that was published in a
              HostMatch object by the uCDN as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.1.2">Section 4.1.2</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>.<a class="pilcrow" href="#section-2.3-2.2.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.3-2.2.2.3">Type:</dt>
              <dd id="section-2.3-2.2.2.4" style="margin-left: 1.5em">A list of Endpoint objects (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.3.3">Section 4.3.3</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>)<a class="pilcrow" href="#section-2.3-2.2.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.3-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.3-2.2.2.6" style="margin-left: 1.5em">No. If absent or empty, the
       redirect target applies to all hosts of the redirecting
       uCDN.<a class="pilcrow" href="#section-2.3-2.2.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.3">Property:</dt>
          <dd id="section-2.3-2.4" style="margin-left: 1.5em">
            <p id="section-2.3-2.4.1">dns-target<a class="pilcrow" href="#section-2.3-2.4.1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.3-2.4.2">
              <dt id="section-2.3-2.4.2.1">Description:</dt>
              <dd id="section-2.3-2.4.2.2" style="margin-left: 1.5em">Target CNAME record for DNS
              redirection.<a class="pilcrow" href="#section-2.3-2.4.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.3-2.4.2.3">Type:</dt>
              <dd id="section-2.3-2.4.2.4" style="margin-left: 1.5em">DnsTarget object (see <a class="xref" href="#dns-target">Section 2.4</a>)<a class="pilcrow" href="#section-2.3-2.4.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.3-2.4.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.3-2.4.2.6" style="margin-left: 1.5em">No. If the dns-target is
       absent or empty, the uCDN <span class="bcp14">MUST</span> interpret it as
              "no dns-target available".<a class="pilcrow" href="#section-2.3-2.4.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.5">Property:</dt>
          <dd id="section-2.3-2.6" style="margin-left: 1.5em">
            <p id="section-2.3-2.6.1">http-target<a class="pilcrow" href="#section-2.3-2.6.1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.3-2.6.2">
              <dt id="section-2.3-2.6.2.1">Description:</dt>
              <dd id="section-2.3-2.6.2.2" style="margin-left: 1.5em">Target URI for an HTTP redirect.<a class="pilcrow" href="#section-2.3-2.6.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.3-2.6.2.3">Type:</dt>
              <dd id="section-2.3-2.6.2.4" style="margin-left: 1.5em">HttpTarget object (see <a class="xref" href="#http-target">Section 2.5</a>)<a class="pilcrow" href="#section-2.3-2.6.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.3-2.6.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.3-2.6.2.6" style="margin-left: 1.5em">No. If the http-target is
              absent or empty, the uCDN <span class="bcp14">MUST</span> interpret it as
              "no http-target available".<a class="pilcrow" href="#section-2.3-2.6.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.3-3">The following is an example of a Redirect Target capability object
 serialization that advertises a dCDN target address that is attached
 to a specific list of uCDN "redirecting-hosts". A uCDN host that is
 included in that list can redirect to the advertised dCDN redirect
 target. The capabilities object is serialized as a JSON object as
 defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8008#section-5.1">Section 5.1</a> of [<a class="xref" href="#RFC8008">RFC8008</a>]</span>.<a class="pilcrow" href="#section-2.3-3">¶</a></p>
<div id="section-2.3-4">
<pre class="sourcecode lang-json">{
  "capabilities": [
    {
      "capability-type": "FCI.RedirectTarget",
      "capability-value": {
          "redirecting-hosts": [
             "a.service123.ucdn.example.com",
             "b.service123.ucdn.example.com"
          ],
          "dns-target": {
             "host": "service123.ucdn.dcdn.example.com"
          },
          "http-target": {
              "host": "us-east1.dcdn.example.com",
              "path-prefix": "/cache/1/",
              "include-redirecting-host": true
          }
      },
      "footprints": [
          &lt;Footprint objects&gt;
      ]
    }
  ]
}
</pre><a class="pilcrow" href="#section-2.3-4">¶</a>
</div>
</section>
</div>
<div id="dns-target">
<section id="section-2.4">
        <h3 id="name-dnstarget-object">
<a class="section-number selfRef" href="#section-2.4">2.4. </a><a class="section-name selfRef" href="#name-dnstarget-object">DnsTarget Object</a>
        </h3>
<p id="section-2.4-1">The DnsTarget object gives the target address for the DNS response
 to delegate from the uCDN to the dCDN.<a class="pilcrow" href="#section-2.4-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4-2">
          <dt id="section-2.4-2.1">Property:</dt>
          <dd id="section-2.4-2.2" style="margin-left: 1.5em">
            <p id="section-2.4-2.2.1">host<a class="pilcrow" href="#section-2.4-2.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4-2.2.2">
              <dt id="section-2.4-2.2.2.1">Description:</dt>
              <dd id="section-2.4-2.2.2.2" style="margin-left: 1.5em">The host property is a hostname or an IP
       address, without a port number.<a class="pilcrow" href="#section-2.4-2.2.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4-2.2.2.3">Type:</dt>
              <dd id="section-2.4-2.2.2.4" style="margin-left: 1.5em">Endpoint object as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.3.3">Section 4.3.3</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>, with the
              limitation that it <span class="bcp14">SHOULD NOT</span> include a port
              number and, in case a port number is present, the uCDN
              <span class="bcp14">MUST</span> ignore it.<a class="pilcrow" href="#section-2.4-2.2.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.4-2.2.2.6" style="margin-left: 1.5em">Yes.<a class="pilcrow" href="#section-2.4-2.2.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
</dl>
<section id="section-2.4.1">
          <h4 id="name-dnstarget-example">
<a class="section-number selfRef" href="#section-2.4.1">2.4.1. </a><a class="section-name selfRef" href="#name-dnstarget-example">DnsTarget Example</a>
          </h4>
<p id="section-2.4.1-1">The following is an example of the DnsTarget object:<a class="pilcrow" href="#section-2.4.1-1">¶</a></p>
<div id="section-2.4.1-2">
<pre class="sourcecode lang-json">{
   "host": "service123.ucdn.dcdn.example.com"
}
</pre><a class="pilcrow" href="#section-2.4.1-2">¶</a>
</div>
<p id="section-2.4.1-3">The following is an example of a DNS query for uCDN address
   "a.service123.ucdn.example.com" and the corresponding CNAME
   redirection response:<a class="pilcrow" href="#section-2.4.1-3">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.4.1-4">
<pre>Query:
a.service123.ucdn.example.com:
type A, class IN

Response:
NAME: a.service123.ucdn.example.com, TYPE: CNAME, CLASS: IN,
TTL: 120, RDATA: service123.ucdn.dcdn.example.com
</pre><a class="pilcrow" href="#section-2.4.1-4">¶</a>
</div>
</section>
</section>
</div>
<div id="http-target">
<section id="section-2.5">
        <h3 id="name-httptarget-object">
<a class="section-number selfRef" href="#section-2.5">2.5. </a><a class="section-name selfRef" href="#name-httptarget-object">HttpTarget Object</a>
        </h3>
<p id="section-2.5-1">The HttpTarget object gives the necessary information to construct
 the target Location URI for HTTP redirection.<a class="pilcrow" href="#section-2.5-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.5-2">
          <dt id="section-2.5-2.1">Property:</dt>
          <dd id="section-2.5-2.2" style="margin-left: 1.5em">
            <p id="section-2.5-2.2.1">host<a class="pilcrow" href="#section-2.5-2.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.5-2.2.2">
              <dt id="section-2.5-2.2.2.1">Description:</dt>
              <dd id="section-2.5-2.2.2.2" style="margin-left: 1.5em">Hostname or IP address and an optional
              port, i.e., the host and port of the authority component of the
              URI as described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-3.2">Section 3.2</a> of [<a class="xref" href="#RFC3986">RFC3986</a>]</span>.<a class="pilcrow" href="#section-2.5-2.2.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.2.2.3">Type:</dt>
              <dd id="section-2.5-2.2.2.4" style="margin-left: 1.5em">Endpoint object as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.3.3">Section 4.3.3</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>.<a class="pilcrow" href="#section-2.5-2.2.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.5-2.2.2.6" style="margin-left: 1.5em">Yes.<a class="pilcrow" href="#section-2.5-2.2.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-2.5-2.3">Property:</dt>
          <dd id="section-2.5-2.4" style="margin-left: 1.5em">
            <p id="section-2.5-2.4.1">scheme<a class="pilcrow" href="#section-2.5-2.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.5-2.4.2">
              <dt id="section-2.5-2.4.2.1">Description:</dt>
              <dd id="section-2.5-2.4.2.2" style="margin-left: 1.5em">A URI scheme to be used in the redirect
       response location construction. When present, the uCDN
       <span class="bcp14">MUST</span> use the provided scheme in for HTTP
       redirection to the dCDN.<a class="pilcrow" href="#section-2.5-2.4.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.4.2.3">Type:</dt>
              <dd id="section-2.5-2.4.2.4" style="margin-left: 1.5em">A URI scheme as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-3.1">Section 3.1</a> of [<a class="xref" href="#RFC3986">RFC3986</a>]</span>, represented as a JSON  
       string. The scheme <span class="bcp14">MUST</span> be either "http" or
       "https".<a class="pilcrow" href="#section-2.5-2.4.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.4.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.5-2.4.2.6" style="margin-left: 1.5em">No. If this property is absent or
       empty, the uCDN request router <span class="bcp14">MUST</span> use the same
       scheme as was used in the original request before
       redirection.<a class="pilcrow" href="#section-2.5-2.4.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-2.5-2.5">Property:</dt>
          <dd id="section-2.5-2.6" style="margin-left: 1.5em">
            <p id="section-2.5-2.6.1">path-prefix<a class="pilcrow" href="#section-2.5-2.6.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.5-2.6.2">
              <dt id="section-2.5-2.6.2.1">Description:</dt>
              <dd id="section-2.5-2.6.2.2" style="margin-left: 1.5em">A path prefix for the HTTP redirect
              Location header. The original path is appended after this
              prefix.<a class="pilcrow" href="#section-2.5-2.6.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.6.2.3">Type:</dt>
              <dd id="section-2.5-2.6.2.4" style="margin-left: 1.5em">A prefix of a path-absolute as defined in
              <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-3.3">Section 3.3</a> of [<a class="xref" href="#RFC3986">RFC3986</a>]</span>. The
              prefix <span class="bcp14">MUST</span> end with a trailing slash to indicate
              the end of the last path segment in the prefix.<a class="pilcrow" href="#section-2.5-2.6.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.6.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.5-2.6.2.6" style="margin-left: 1.5em">No. If this property is absent
              or empty, the uCDN <span class="bcp14">MUST NOT</span> prepend a path-prefix
              to the original content path, i.e., the original path
              <span class="bcp14">MUST</span> appear in the Location URI right after the
              authority component.<a class="pilcrow" href="#section-2.5-2.6.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-2.5-2.7">Property:</dt>
          <dd id="section-2.5-2.8" style="margin-left: 1.5em">
            <p id="section-2.5-2.8.1">include-redirecting-host<a class="pilcrow" href="#section-2.5-2.8.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.5-2.8.2">
              <dt id="section-2.5-2.8.2.1">Description:</dt>
              <dd id="section-2.5-2.8.2.2" style="margin-left: 1.5em">A flag indicating whether or not to
              include the redirecting host as the first path segment after the
              path-prefix. If set to true and a "path-prefix" is used, the
              uCDN redirecting host <span class="bcp14">MUST</span> be added as a separate
              path segment after the path-prefix and before the original URL
              path. If set to true and there is no path-prefix, the uCDN
              redirecting host <span class="bcp14">MUST</span> be prepended as the first
              path segment in the redirect URL.<a class="pilcrow" href="#section-2.5-2.8.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.8.2.3">Type:</dt>
              <dd id="section-2.5-2.8.2.4" style="margin-left: 1.5em">Boolean.<a class="pilcrow" href="#section-2.5-2.8.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.5-2.8.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-2.5-2.8.2.6" style="margin-left: 1.5em">No. Default value is False.<a class="pilcrow" href="#section-2.5-2.8.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
</dl>
<section id="section-2.5.1">
          <h4 id="name-httptarget-example">
<a class="section-number selfRef" href="#section-2.5.1">2.5.1. </a><a class="section-name selfRef" href="#name-httptarget-example">HttpTarget Example</a>
          </h4>
<p id="section-2.5.1-1">The following is an example of the HttpTarget object with a "scheme", a "path-prefix",
   and "include-redirecting-host" properties:<a class="pilcrow" href="#section-2.5.1-1">¶</a></p>
<div id="section-2.5.1-2">
<pre class="sourcecode lang-json">{
   "host": "us-east1.dcdn.example.com",
   "scheme": "https",
   "path-prefix": "/cache/1/",
   "include-redirecting-host": true
}
</pre><a class="pilcrow" href="#section-2.5.1-2">¶</a>
</div>
<p id="section-2.5.1-3">The following is an example of an HTTP request for content at uCDN host
   "a.service123.ucdn.example.com" and the corresponding HTTP response
   with a Location header, used for redirecting the client to the dCDN,
   constructed according to the HttpTarget object from the above
   example:<a class="pilcrow" href="#section-2.5.1-3">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.5.1-4">
<pre>Request:
GET /vod/1/movie.mp4 HTTP/1.1
Host: a.service123.ucdn.example.com

Response:
HTTP/1.1 302 Found
Location: https://us-east1.dcdn.example.com/cache/1/
a.service123.ucdn.example.com/vod/1/movie.mp4
</pre><a class="pilcrow" href="#section-2.5.1-4">¶</a>
</div>
</section>
</section>
</div>
<div id="redirect-target-usage-example">
<section id="section-2.6">
        <h3 id="name-usage-example">
<a class="section-number selfRef" href="#section-2.6">2.6. </a><a class="section-name selfRef" href="#name-usage-example">Usage Example</a>
        </h3>
<p id="section-2.6-1">Before requests can be routed from the uCDN to the dCDN, the CDNs
        must exchange service configurations between them. Using the MI, the
        uCDN advertises out-of-band its hosts to the dCDN; each host is
        designated by a hostname and has its own specific metadata (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.1.2">Section 4.1.2</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>). Using the FCI,
        the dCDN advertises (also out-of-band) the redirect target address
        defined in <a class="xref" href="#redirect-target-capability-properties">Section 2.3</a> for the relevant uCDN hosts. The following is a
        generalized example of the message flow between a uCDN and a dCDN. For
        simplicity, we focus on the sequence of messages between the uCDN and
        dCDN and not on how they are passed.<a class="pilcrow" href="#section-2.6-1">¶</a></p>
<span id="name-redirect-target-address-adv"></span><div id="redirect">
<figure id="figure-1">
          <div class="artwork art-text alignLeft" id="section-2.6-2.1">
<pre>  dCDN                                                    uCDN
    +                                                       +
    |                                                       |
(1) | MI:  host: s123.ucdn.example.com                      |
    |      host-metadata: &lt; metadata &gt;                      |
    &lt;-------------------------------------------------------+
    |                                                       |
(2) | FCI:  capability-type: FCI.RedirectTarget             |
    |       redirecting-hosts: s123.ucdn.example.com        |
    |       target host: us-east1.dcdn.example.com          |
    +-------------------------------------------------------&gt;
    |                                                       |
    |                                                       |
    +                                                       +
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-redirect-target-address-adv">Redirect Target Address Advertisement</a>
          </figcaption></figure>
</div>
<p id="section-2.6-3">Explanation:<a class="pilcrow" href="#section-2.6-3">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-2.6-4">
          <dt>(1)</dt>
<dd id="section-2.6-4.1">The uCDN advertises a host (s123.ucdn.example.com) with the host
   metadata.<a class="pilcrow" href="#section-2.6-4.1">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-2.6-4.2">The dCDN advertises its FCI objects to the uCDN, including a
          Redirect Target capability object that contains the redirect target
          address (us-east1.dcdn.example.com) specified for that uCDN
          host.<a class="pilcrow" href="#section-2.6-4.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.6-5">Once the redirect target has been set, the uCDN can start
 redirecting user requests to the dCDN. The following is a generic
 sequence of redirection using the host and redirect target that were
 advertised in <a class="xref" href="#redirect">Figure 1</a>.<a class="pilcrow" href="#section-2.6-5">¶</a></p>
<span id="name-generic-request-redirection"></span><div id="generic">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-2.6-6.1">
<pre>End User                  dCDN                   uCDN RR
    +                       +                       +
    |                       |                       |
(1) | Request sent s123.ucdn.example.com            |
    +-----------------------+-----------------------&gt;
    |                       |                       |
(2) | Redirect to us-east1.dcdn.example.com         |
    &lt;-----------------------+-----------------------+
    |                       |                       |
(3) | Request us-east1.dcdn.example.com             |
    +-----------------------&gt;                       |
    |                       |                       |
(4) | Response              |                       |
    &lt;-----------------------+                       |
    |                       |                       |
    +                       +                       +
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-generic-request-redirection">Generic Request Redirection Sequence</a>
          </figcaption></figure>
</div>
<p id="section-2.6-7">Explanation:<a class="pilcrow" href="#section-2.6-7">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-2.6-8">
          <dt>(1)</dt>
<dd id="section-2.6-8.1">The End User sends a request (DNS or HTTP) to the uCDN Request
   Router (RR).<a class="pilcrow" href="#section-2.6-8.1">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-2.6-8.2">Using the previously advertised Redirect Target, the uCDN
   redirects the request to the dCDN.<a class="pilcrow" href="#section-2.6-8.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(3)</dt>
<dd id="section-2.6-8.3">The End User sends a request to the dCDN.<a class="pilcrow" href="#section-2.6-8.3">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(4)</dt>
<dd id="section-2.6-8.4">The dCDN either sends a response or reroutes it, for example, to
   a dCDN surrogate.<a class="pilcrow" href="#section-2.6-8.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="fallback-target-metadata">
<section id="section-3">
      <h2 id="name-fallback-target-server-addr">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-fallback-target-server-addr">Fallback Target Server Address</a>
      </h2>
<p id="section-3-1">Open Caching requires that the uCDN provides a fallback target server
      to the dCDN to be used in cases where the dCDN cannot properly handle
      the request. To avoid redirect loops, the fallback target server's
      address at the uCDN <span class="bcp14">MUST</span> be different from the original
      uCDN address from which the client was redirected to the dCDN. The uCDN
      <span class="bcp14">MUST</span> avoid further redirection when receiving the client
      request at the fallback target. The Fallback Target is defined as a
      generic metadata object (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-3.2">Section 3.2</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>).<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">Use cases:<a class="pilcrow" href="#section-3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-3.1">Failover: A dCDN request router receives a request but has no
 caches to which it can route the request. This can happen in the case
 of failures or temporary network overload.<a class="pilcrow" href="#section-3-3.1">¶</a>
</li>
        <li class="normal" id="section-3-3.2">No coverage: A dCDN request router receives a request from a
 client located in an area inside the footprint but not covered by the
 dCDN caches or outside the dCDN  footprint coverage. In such cases,
 the router may choose to redirect the request back to the uCDN
 fallback address.<a class="pilcrow" href="#section-3-3.2">¶</a>
</li>
        <li class="normal" id="section-3-3.3">Error: A cache may receive a request that it cannot properly
 serve, for example, some of the metadata objects for that service were
 not properly acquired. In this case, the cache's "default action" may
 be to "redirect back to uCDN".<a class="pilcrow" href="#section-3-3.3">¶</a>
</li>
      </ul>
<p id="section-3-4">The Fallback Target metadata object is used to indicate the target
      address the dCDN should redirect a client to when falling back to the
      uCDN. The fallback target address is represented as an Endpoint object as
      defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.3.3">Section 4.3.3</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>.<a class="pilcrow" href="#section-3-4">¶</a></p>
<p id="section-3-5">In DNS redirection, a CNAME record is used as the fallback target
      address.<a class="pilcrow" href="#section-3-5">¶</a></p>
<p id="section-3-6">In HTTP redirection, a hostname is used as the fallback target
      address.<a class="pilcrow" href="#section-3-6">¶</a></p>
<p id="section-3-7">When using HTTP redirect to route a client request back to the uCDN,
      it is the dCDN's responsibility to use the original URL path as the
      client would have used for the original uCDN request, stripping, if
      needed, the dCDN path-prefix and/or the uCDN hostname from the redirect
      URL that may have been used to request the content from the dCDN.<a class="pilcrow" href="#section-3-7">¶</a></p>
<div id="fallback-target-metadata-properties">
<section id="section-3.1">
        <h3 id="name-properties-of-fallback-targ">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-properties-of-fallback-targ">Properties of Fallback Target Generic Metadata Object</a>
        </h3>
<p id="section-3.1-1">The MI.FallbackTarget generic metadata object consists of the following
 two properties:<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-2">
          <dt id="section-3.1-2.1">Property:</dt>
          <dd id="section-3.1-2.2" style="margin-left: 1.5em">
            <p id="section-3.1-2.2.1">host<a class="pilcrow" href="#section-3.1-2.2.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-2.2.2">
              <dt id="section-3.1-2.2.2.1">Description:</dt>
              <dd id="section-3.1-2.2.2.2" style="margin-left: 1.5em">Target address to which the dCDN can
              redirect the client.<a class="pilcrow" href="#section-3.1-2.2.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.2.2.3">Type:</dt>
              <dd id="section-3.1-2.2.2.4" style="margin-left: 1.5em">Endpoint object as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.3.3">Section 4.3.3</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>, with the
              limitation that in case of DNS delegation, it <span class="bcp14">SHOULD NOT</span> include a port number, and in case a port number is
              present, the dCDN <span class="bcp14">MUST</span> ignore it.<a class="pilcrow" href="#section-3.1-2.2.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-3.1-2.2.2.6" style="margin-left: 1.5em">Yes.<a class="pilcrow" href="#section-3.1-2.2.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.3">Property:</dt>
          <dd id="section-3.1-2.4" style="margin-left: 1.5em">
            <p id="section-3.1-2.4.1">scheme<a class="pilcrow" href="#section-3.1-2.4.1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-2.4.2">
              <dt id="section-3.1-2.4.2.1">Description:</dt>
              <dd id="section-3.1-2.4.2.2" style="margin-left: 1.5em">A URI scheme to be used in the redirect
       response location construction. When present, the dCDN
       <span class="bcp14">MUST</span> use this scheme in case of HTTP redirection
       to the uCDN fallback address.<a class="pilcrow" href="#section-3.1-2.4.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.4.2.3">Type:</dt>
              <dd id="section-3.1-2.4.2.4" style="margin-left: 1.5em">A URI scheme as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-3.1">Section 3.1</a> of [<a class="xref" href="#RFC3986">RFC3986</a>]</span>, represented as a JSON 
       string. The scheme <span class="bcp14">MUST</span> be either "http" or
       "https".<a class="pilcrow" href="#section-3.1-2.4.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.4.2.5">Mandatory-to-Specify:</dt>
              <dd id="section-3.1-2.4.2.6" style="margin-left: 1.5em">No. In case of HTTP redirection to
       fallback, if this property is absent or empty, the dCDN
       redirecting entity <span class="bcp14">MUST</span> use the same scheme as in
       the request received by the dCDN.<a class="pilcrow" href="#section-3.1-2.4.2.6">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.1-3">The following is an example of an MI.FallbackTarget generic
        metadata object that designates the host address the dCDN should use
        as fallback address to redirect back to the uCDN:<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<div id="section-3.1-4">
<pre class="sourcecode lang-json">{
    "generic-metadata-type": "MI.FallbackTarget",
    "generic-metadata-value":
    {
        "host": "fallback-a.service123.ucdn.example",
        "scheme": "https"
    }
}
</pre><a class="pilcrow" href="#section-3.1-4">¶</a>
</div>
</section>
</div>
<div id="fallback-address-usage-example">
<section id="section-3.2">
        <h3 id="name-usage-example-2">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-usage-example-2">Usage Example</a>
        </h3>
<p id="section-3.2-1">The uCDN advertises out-of-band the fallback target address to the
 dCDN, so that the dCDN may redirect a request back to the uCDN in case
 the dCDN cannot serve it. Using the MI, the uCDN advertises its hosts
 to the dCDN, along with their specific host metadata (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.1.2">Section 4.1.2</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>). The Fallback 
 Target generic metadata object is encapsulated within the
 "host-metadata" property of each host. The following is an example of
 a message flow between a uCDN and a dCDN.  For
 simplicity, we focus on the sequence of messages between the uCDN and
 dCDN, not on how they are passed.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<span id="name-advertisement-of-host-metad"></span><div id="fallback">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-3.2-2.1">
<pre>  dCDN                                                    uCDN
    +                                                       +
    |                                                       |
(1) | MI:  host: s123.ucdn.example.com                      |
    |      host-metadata:                                   |
    |          &lt; metadata objects &gt;                         |
    |          &lt; MI.FallbackTarget                          |
    |            host: fallback-a.service123.ucdn.example &gt; |
    |          &lt; metadata objects &gt;                         |
    &lt;-------------------------------------------------------+
    |                                                       |
(2) | FCI:  capability-type: FCI.RedirectTarget             |
    |       redirecting-hosts: s123.ucdn.example.com        |
    |       target host: us-east1.dcdn.example.com          |
    +-------------------------------------------------------&gt;
    |                                                       |
    |                                                       |
    +                                                       +
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-advertisement-of-host-metad">Advertisement of Host Metadata with Fallback Target</a>
          </figcaption></figure>
</div>
<p id="section-3.2-3">Explanation:<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3.2-4">
          <dt>(1)</dt>
<dd id="section-3.2-4.1">The uCDN advertises a host (s123.ucdn.example.com) with the host
          metadata. The host-metadata property contains an MI.FallbackTarget
          generic metadata object.<a class="pilcrow" href="#section-3.2-4.1">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-3.2-4.2">The dCDN advertises its FCI objects to the uCDN, including a
          Redirect Target capability object that contains the redirect target
          address (us-east1.dcdn.example.com) specified for that uCDN
          host.<a class="pilcrow" href="#section-3.2-4.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.2-5">The following is a generic sequence of redirection using the
 configurations that were advertised in <a class="xref" href="#fallback">Figure 3</a>. In this case, 
 the dCDN redirects back to the uCDN fallback target address.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<span id="name-redirection-to-fallback-tar"></span><div id="redirection">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-3.2-6.1">
<pre>End User              dCDN            uCDN fallback          uCDN RR
    +                   +                   +                   +
    |                   |                   |                   |
(1) | Request sent s123.ucdn.example.com    |                   |
    +-------------------+-------------------+-------------------&gt;
    |                   |                   |                   |
(2) | Redirect to us-east1.dcdn.example.com |                   |
    &lt;-------------------+-------------------+-------------------+
    |                   |                   |                   |
(3) | Request us-east1.dcdn.example.com     |                   |
    +-------------------&gt;                   |                   |
    |                   |                   |                   |
(4) | Redirect back to fallback-a.service123.ucdn.example       |
    &lt;-------------------+                   |                   |
    |                   |                   |                   |
(5) | Request fallback-a.service123.ucdn.example                |
    +---------------------------------------&gt;                   |
    |                   |                   |                   |
(6) | Response          |                   |                   |
    &lt;-------------------+-------------------+                   |
    |                   |                   |                   |
    +                   +                   +                   +
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-redirection-to-fallback-tar">Redirection to Fallback Target</a>
          </figcaption></figure>
</div>
<p id="section-3.2-7">Explanation:<a class="pilcrow" href="#section-3.2-7">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-3.2-8">
          <dt>(1)</dt>
<dd id="section-3.2-8.1">The End User sends a request (DNS or HTTP) to the uCDN Request
   Router (RR).<a class="pilcrow" href="#section-3.2-8.1">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(2)</dt>
<dd id="section-3.2-8.2">Using the previously advertised Redirect Target, the uCDN
   redirects the request to the dCDN.<a class="pilcrow" href="#section-3.2-8.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(3)</dt>
<dd id="section-3.2-8.3">The End User sends a request to the dCDN.<a class="pilcrow" href="#section-3.2-8.3">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(4)</dt>
<dd id="section-3.2-8.4">The dCDN cannot handle the request and therefore redirects it
   back to the uCDN fallback target address.<a class="pilcrow" href="#section-3.2-8.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(5)</dt>
<dd id="section-3.2-8.5">The End User sends the request to the uCDN fallback target
   address.<a class="pilcrow" href="#section-3.2-8.5">¶</a>
</dd>
          <dd class="break"></dd>
<dt>(6)</dt>
<dd id="section-3.2-8.6">The uCDN either sends a response or reroutes it, for example, to
   a uCDN surrogate.<a class="pilcrow" href="#section-3.2-8.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-3.3">
        <h3 id="name-ucdn-addressing-considerati">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-ucdn-addressing-considerati">uCDN Addressing Considerations</a>
        </h3>
<p id="section-3.3-1">When advertising fallback addresses to the dCDN, the uCDN
 <span class="bcp14">SHOULD</span> consider the failure use cases that may lead the
 dCDN to route requests to uCDN fallback. In extreme dCDN network
 failures or under denial-of-service (DoS) attacks, requests coming
 from  a large segment or multiple segments of the dCDN may be routed
 back to the uCDN. The uCDN <span class="bcp14">SHOULD</span> therefore design its
 fallback addressing scheme and its available resources accordingly. A
 favorable approach would be for the uCDN to use a different fallback
 target address for each uCDN host, enabling it to load balance the
 requests using the same methods as it would for its original
 hosts. See Sections <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.1.2">4.1.2</a> and <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-4.1.3">4.1.3</a> of <span>[<a class="xref" href="#RFC8006">RFC8006</a>]</span> for
 a detailed description of how to use GenericMetadata objects within
 the HostMatch object advertised in the HostIndex of the uCDN.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
</section>
</section>
</div>
<div id="IANA">
<section id="section-4">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="IANA.payload">
<section id="section-4.1">
        <h3 id="name-cdni-payload-types">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-cdni-payload-types">CDNI Payload Types</a>
        </h3>
<p id="section-4.1-1">IANA has registered the following CDNI
 Payload Types in the "CDNI Payload Types" registry defined in
 <span>[<a class="xref" href="#RFC7736">RFC7736</a>]</span>:<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<table class="center" id="table-1">
          <caption><a class="selfRef" href="#table-1">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Payload Type</th>
              <th class="text-left" colspan="1" rowspan="1">Specification</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">FCI.RedirectTarget</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 8804</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">MI.FallbackTarget</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 8804</td>
            </tr>
          </tbody>
        </table>
<div id="IANA.payload.RedirectTarget">
<section id="section-4.1.1">
          <h4 id="name-cdni-fci-redirecttarget-pay">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-cdni-fci-redirecttarget-pay">CDNI FCI RedirectTarget Payload Type</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-1">
            <dt id="section-4.1.1-1.1">Purpose:</dt>
            <dd id="section-4.1.1-1.2" style="margin-left: 1.5em">The purpose of this payload type is to
             distinguish FCI advertisement objects for redirect target.<a class="pilcrow" href="#section-4.1.1-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-1.3">Interface:</dt>
            <dd id="section-4.1.1-1.4" style="margin-left: 1.5em">FCI<a class="pilcrow" href="#section-4.1.1-1.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-1.5">Encoding:</dt>
            <dd id="section-4.1.1-1.6" style="margin-left: 1.5em">See <a class="xref" href="#redirect-target-capability-properties">Section 2.3</a>.<a class="pilcrow" href="#section-4.1.1-1.6">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="IANA.payload.FallbackTarget">
<section id="section-4.1.2">
          <h4 id="name-cdni-mi-fallbacktarget-payl">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-cdni-mi-fallbacktarget-payl">CDNI MI FallbackTarget Payload Type</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.2-1">
            <dt id="section-4.1.2-1.1">Purpose:</dt>
            <dd id="section-4.1.2-1.2" style="margin-left: 1.5em">The purpose of this payload type is to distinguish
   FallbackTarget MI objects (and any associated capability
   advertisement).<a class="pilcrow" href="#section-4.1.2-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.3">Interface:</dt>
            <dd id="section-4.1.2-1.4" style="margin-left: 1.5em">MI/FCI<a class="pilcrow" href="#section-4.1.2-1.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.5">Encoding:</dt>
            <dd id="section-4.1.2-1.6" style="margin-left: 1.5em">See <a class="xref" href="#fallback-target-metadata-properties">Section 3.1</a>.<a class="pilcrow" href="#section-4.1.2-1.6">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">This specification defines extensions to the CDNI Metadata Interface
      (MI) and the Footprint &amp; Capabilities Advertisement interface (FCI). As such,
      it is subject to the security and privacy considerations defined in
      <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-8">Section 8</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span> and in
      <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8008#section-7">Section 7</a> of [<a class="xref" href="#RFC8008">RFC8008</a>]</span>,
      respectively.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="Privacy">
<section id="section-5.1">
        <h3 id="name-confidentiality-and-privacy">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-confidentiality-and-privacy">Confidentiality and Privacy</a>
        </h3>
<p id="section-5.1-1">The Redirect Target capability object potentially reveals information
 about the internal structure of the dCDN network. A third party could
 intercept the FCI transactions and use the information to attack the
 dCDN. The same is also true for the Fallback Target generic metadata object, as
 it may reveal information about the internal structure of the uCDN,
 exposing it to external exploits. Implementations of the FCI and MI
 <span class="bcp14">MUST</span> therefore use strong authentication and encryption
 and strictly follow the directions for securing the interface as
 defined for the Metadata Interface in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8006#section-8.3">Section 8.3</a> of [<a class="xref" href="#RFC8006">RFC8006</a>]</span>.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-6">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC1034">[RFC1034]</dt>
        <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - concepts and facilities"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1034</span>, <span class="seriesInfo">DOI 10.17487/RFC1034</span>, <time class="refDate" datetime="1987-11">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span><span class="refAuthor">, Fielding, R.</span><span class="refAuthor">, and L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time class="refDate" datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6707">[RFC6707]</dt>
        <dd>
<span class="refAuthor">Niven-Jenkins, B.</span><span class="refAuthor">, Le Faucheur, F.</span><span class="refAuthor">, and N. Bitar</span>, <span class="refTitle">"Content Distribution Network Interconnection (CDNI) Problem Statement"</span>, <span class="seriesInfo">RFC 6707</span>, <span class="seriesInfo">DOI 10.17487/RFC6707</span>, <time class="refDate" datetime="2012-09">September 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6707">https://www.rfc-editor.org/info/rfc6707</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7231">[RFC7231]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor"> and J. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content"</span>, <span class="seriesInfo">RFC 7231</span>, <span class="seriesInfo">DOI 10.17487/RFC7231</span>, <time class="refDate" datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7231">https://www.rfc-editor.org/info/rfc7231</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7336">[RFC7336]</dt>
        <dd>
<span class="refAuthor">Peterson, L.</span><span class="refAuthor">, Davie, B.</span><span class="refAuthor">, and R. van Brandenburg, Ed.</span>, <span class="refTitle">"Framework for Content Distribution Network Interconnection (CDNI)"</span>, <span class="seriesInfo">RFC 7336</span>, <span class="seriesInfo">DOI 10.17487/RFC7336</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7336">https://www.rfc-editor.org/info/rfc7336</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7975">[RFC7975]</dt>
        <dd>
<span class="refAuthor">Niven-Jenkins, B., Ed.</span><span class="refAuthor"> and R. van Brandenburg, Ed.</span>, <span class="refTitle">"Request Routing Redirection Interface for Content Delivery Network (CDN) Interconnection"</span>, <span class="seriesInfo">RFC 7975</span>, <span class="seriesInfo">DOI 10.17487/RFC7975</span>, <time class="refDate" datetime="2016-10">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7975">https://www.rfc-editor.org/info/rfc7975</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8006">[RFC8006]</dt>
        <dd>
<span class="refAuthor">Niven-Jenkins, B.</span><span class="refAuthor">, Murray, R.</span><span class="refAuthor">, Caulfield, M.</span><span class="refAuthor">, and K. Ma</span>, <span class="refTitle">"Content Delivery Network Interconnection (CDNI) Metadata"</span>, <span class="seriesInfo">RFC 8006</span>, <span class="seriesInfo">DOI 10.17487/RFC8006</span>, <time class="refDate" datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8006">https://www.rfc-editor.org/info/rfc8006</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8007">[RFC8007]</dt>
        <dd>
<span class="refAuthor">Murray, R.</span><span class="refAuthor"> and B. Niven-Jenkins</span>, <span class="refTitle">"Content Delivery Network Interconnection (CDNI) Control Interface / Triggers"</span>, <span class="seriesInfo">RFC 8007</span>, <span class="seriesInfo">DOI 10.17487/RFC8007</span>, <time class="refDate" datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8007">https://www.rfc-editor.org/info/rfc8007</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8008">[RFC8008]</dt>
        <dd>
<span class="refAuthor">Seedorf, J.</span><span class="refAuthor">, Peterson, J.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, van Brandenburg, R.</span><span class="refAuthor">, and K. Ma</span>, <span class="refTitle">"Content Delivery Network Interconnection (CDNI) Request Routing: Footprint and Capabilities Semantics"</span>, <span class="seriesInfo">RFC 8008</span>, <span class="seriesInfo">DOI 10.17487/RFC8008</span>, <time class="refDate" datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8008">https://www.rfc-editor.org/info/rfc8008</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="OC-RR">[OC-RR]</dt>
        <dd>
<span class="refAuthor">Finkelman, O., Ed.</span><span class="refAuthor">, Hofmann, J.</span><span class="refAuthor">, Klein, E.</span><span class="refAuthor">, Mishra, S.</span><span class="refAuthor">, Ma, K.</span><span class="refAuthor">, Sahar, D.</span><span class="refAuthor">, and B. Zurat</span>, <span class="refTitle">"Open Cache Request Routing Functional Specification"</span>, <span class="seriesInfo">Version 1.1</span>, <time class="refDate" datetime="2016-11">November 2016</time>, <span>&lt;<a href="https://www.streamingvideoalliance.org/books/open-cache-request-routing-functional-specification/">https://www.streamingvideoalliance.org/books/open-cache-request-routing-functional-specification/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OCWG">[OCWG]</dt>
        <dd>
<span class="refAuthor">Streaming Video Alliance</span>, <span class="refTitle">"Open Caching"</span>, <span>&lt;<a href="https://www.streamingvideoalliance.org/technical-groups/open-caching/">https://www.streamingvideoalliance.org/technical-groups/open-caching/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7736">[RFC7736]</dt>
        <dd>
<span class="refAuthor">Ma, K.</span>, <span class="refTitle">"Content Delivery Network Interconnection (CDNI) Media Type Registration"</span>, <span class="seriesInfo">RFC 7736</span>, <span class="seriesInfo">DOI 10.17487/RFC7736</span>, <time class="refDate" datetime="2015-12">December 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7736">https://www.rfc-editor.org/info/rfc7736</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7871">[RFC7871]</dt>
        <dd>
<span class="refAuthor">Contavalli, C.</span><span class="refAuthor">, van der Gaast, W.</span><span class="refAuthor">, Lawrence, D.</span><span class="refAuthor">, and W. Kumari</span>, <span class="refTitle">"Client Subnet in DNS Queries"</span>, <span class="seriesInfo">RFC 7871</span>, <span class="seriesInfo">DOI 10.17487/RFC7871</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7871">https://www.rfc-editor.org/info/rfc7871</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SVA">[SVA]</dt>
      <dd>
<span class="refTitle">"Streaming Video Alliance"</span>, <span>&lt;<a href="https://www.streamingvideoalliance.org">https://www.streamingvideoalliance.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgements">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">The authors thank <span class="contact-name">Nir B. Sopher</span> for reality checks against
      production use cases; his contribution is significant to this
      document. The authors also thank <span class="contact-name">Ben Niven-Jenkins</span> for his review and
      feedback and <span class="contact-name">Kevin J. Ma</span> for his guidance throughout the
      development of this document, including his regular reviews.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ori Finkelman</span></div>
<div class="left" dir="auto"><span class="org">Qwilt</span></div>
<div class="left" dir="auto"><span class="street-address">6, Ha'harash</span></div>
<div class="left" dir="auto">
<span class="locality">Hod HaSharon</span> <span class="postal-code">4524079</span>
</div>
<div class="left" dir="auto"><span class="country-name">Israel</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ori.finkelman.ietf@gmail.com">ori.finkelman.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Sanjay Mishra</span></div>
<div class="left" dir="auto"><span class="org">Verizon</span></div>
<div class="left" dir="auto"><span class="street-address">13100 Columbia Pike</span></div>
<div class="left" dir="auto">
<span class="locality">Silver Spring</span>, <span class="region">MD</span> <span class="postal-code">20904</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sanjay.mishra@verizon.com">sanjay.mishra@verizon.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>