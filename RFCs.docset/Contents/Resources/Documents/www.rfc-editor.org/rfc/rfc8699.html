<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8699: Coupled Congestion Control for RTP Media</title>
<meta content="Safiqul Islam" name="author"/>
<meta content="Michael Welzl" name="author"/>
<meta content="Stein Gjessing" name="author"/>
<meta content="
       When multiple congestion-controlled Real-time Transport Protocol
      (RTP) sessions traverse the same network bottleneck, combining their
      controls can improve the total on-the-wire behavior in terms of delay,
      loss, and fairness. This document describes such a method for flows that
      have the same sender, in a way that is as flexible and simple as
      possible while minimizing the number of changes needed to existing RTP
      applications. This document also specifies how to apply the method for the
      Network-Assisted Dynamic Adaptation (NADA) congestion control algorithm
      and provides suggestions on how to apply it to other congestion control
      algorithms. 
    " name="description"/>
<meta content="xml2rfc 2.39.0" name="generator"/>
<meta content="tcp" name="keyword"/>
<meta content="8699" name="rfc.number"/>
<link href="rfc8699.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8699" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-rmcat-coupled-cc-09" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8699</td>
<td class="center">Coupled Congestion Control for RTP Media</td>
<td class="right">January 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Islam, et al.</td>
<td class="center">Experimental</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8699">8699</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Experimental</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-01">January 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Islam</div>
<div class="org">University of Oslo</div>
</div>
<div class="author">
      <div class="author-name">M. Welzl</div>
<div class="org">University of Oslo</div>
</div>
<div class="author">
      <div class="author-name">S. Gjessing</div>
<div class="org">University of Oslo</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8699</h1>
<h1 id="title">Coupled Congestion Control for RTP Media</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">When multiple congestion-controlled Real-time Transport Protocol
      (RTP) sessions traverse the same network bottleneck, combining their
      controls can improve the total on-the-wire behavior in terms of delay,
      loss, and fairness. This document describes such a method for flows that
      have the same sender, in a way that is as flexible and simple as
      possible while minimizing the number of changes needed to existing RTP
      applications. This document also specifies how to apply the method for the
      Network-Assisted Dynamic Adaptation (NADA) congestion control algorithm
      and provides suggestions on how to apply it to other congestion control
      algorithms.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for examination, experimental implementation, and
            evaluation.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document defines an Experimental Protocol for the Internet
            community.  This document is a product of the Internet Engineering
            Task Force (IETF).  It represents the consensus of the IETF community.
            It has received public review and has been approved for publication
            by the Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8699">https://www.rfc-editor.org/info/rfc8699</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-definitions">Definitions</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-limitations">Limitations</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-architectural-overview">Architectural Overview</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-roles">Roles</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-sbd">SBD</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-fse">FSE</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-flows">Flows</a><a class="pilcrow" href="#section-toc.1-1.5.2.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a class="xref" href="#section-5.3.1">5.3.1</a>.  <a class="xref" href="#name-example-algorithm-1-active-">Example Algorithm 1 - Active FSE</a><a class="pilcrow" href="#section-toc.1-1.5.2.3.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a class="xref" href="#section-5.3.2">5.3.2</a>.  <a class="xref" href="#name-example-algorithm-2-conserv">Example Algorithm 2 - Conservative Active FSE</a><a class="pilcrow" href="#section-toc.1-1.5.2.3.2.2.1">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-application">Application</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-nada">NADA</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-general-recommendations">General Recommendations</a><a class="pilcrow" href="#section-toc.1-1.6.2.2.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-expected-feedback-from-expe">Expected Feedback from Experiments</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.10.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.10.2.2.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-application-to-gcc">Application to GCC</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-appendix.b">Appendix B</a>.  <a class="xref" href="#name-scheduling">Scheduling</a><a class="pilcrow" href="#section-toc.1-1.12.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-appendix.c">Appendix C</a>.  <a class="xref" href="#name-example-algorithm-passive-f">Example Algorithm - Passive FSE</a><a class="pilcrow" href="#section-toc.1-1.13.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a class="xref" href="#section-c.1">C.1</a>.  <a class="xref" href="#name-example-operation-passive">Example Operation (Passive)</a><a class="pilcrow" href="#section-toc.1-1.13.2.1.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#section-appendix.d"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.14.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="xref" href="#section-appendix.e"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.15.1">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<div id="sec-intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">When there is enough data to send, a congestion controller attempts
      to increase its sending rate until the path's capacity has been reached.
      Some controllers detect path capacity by increasing the sending rate
      further, until packets are 
      ECN-marked <span>[<a class="xref" href="#RFC8087">RFC8087</a>]</span> or dropped, and
      then decreasing the sending rate until that stops happening. This
      process inevitably creates undesirable queuing delay when multiple
      congestion-controlled connections traverse the same network bottleneck,
      and each connection overshoots the path capacity as it determines its
      sending rate.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The Congestion Manager (CM) <span>[<a class="xref" href="#RFC3124">RFC3124</a>]</span>
      couples flows by providing a single congestion controller. It is hard to
      implement because it requires an additional congestion controller and
      removes all per-connection congestion control functionality, which is
      quite a significant change to existing RTP-based applications. This
      document presents a method to combine the behavior of congestion control
      mechanisms that is easier to implement than the Congestion Manager <span>[<a class="xref" href="#RFC3124">RFC3124</a>]</span> and also requires fewer significant
      changes to existing RTP-based applications. It attempts to roughly
      approximate the CM behavior by sharing information between existing
      congestion controllers. It is able to honor user-specified priorities,
      which is required by WebRTC <span>[<a class="xref" href="#I-D.ietf-rtcweb-overview">RTCWEB-OVERVIEW</a>]</span> <span>[<a class="xref" href="#RFC7478">RFC7478</a>]</span>.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">The described mechanisms are believed safe to use, but they are
      experimental and are presented for wider review and operational
      evaluation.<a class="pilcrow" href="#section-1-3">¶</a></p>
</section>
</div>
<div id="sec-def">
<section id="section-2">
      <h2 id="name-definitions">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-definitions">Definitions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
      "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
      "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
      "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
      to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span>
        <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all
      capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
<dl class="dlNewline" id="section-2-2">
        <dt id="section-2-2.1">Available Bandwidth:</dt>
<dd id="section-2-2.2" style="margin-left: 3.0em">
     The available bandwidth is the nominal link capacity minus the
     amount of traffic that traversed the link during a certain time
     interval, divided by that time interval.<a class="pilcrow" href="#section-2-2.2">¶</a>
</dd>
<dt id="section-2-2.3">Bottleneck:</dt>
<dd id="section-2-2.4" style="margin-left: 3.0em">
     The first link with the smallest available bandwidth along the path between a sender and receiver.<a class="pilcrow" href="#section-2-2.4">¶</a>
</dd>
<dt id="section-2-2.5">Flow:</dt>
<dd id="section-2-2.6" style="margin-left: 3.0em">
     A flow is the entity that congestion control is operating on. It
     could, for example, be a transport-layer connection or an RTP
     stream <span>[<a class="xref" href="#RFC7656">RFC7656</a>]</span>, regardless of
     whether or not this RTP stream is multiplexed onto an RTP session
     with other RTP streams.<a class="pilcrow" href="#section-2-2.6">¶</a>
</dd>
<dt id="section-2-2.7">Flow Group Identifier (FGI):</dt>
<dd id="section-2-2.8" style="margin-left: 3.0em">
     A unique identifier for each subset of flows that is limited by a common bottleneck.<a class="pilcrow" href="#section-2-2.8">¶</a>
</dd>
<dt id="section-2-2.9">Flow State Exchange (FSE):</dt>
<dd id="section-2-2.10" style="margin-left: 3.0em">
     The entity that maintains information that is exchanged between flows.<a class="pilcrow" href="#section-2-2.10">¶</a>
</dd>
<dt id="section-2-2.11">Flow Group (FG):</dt>
<dd id="section-2-2.12" style="margin-left: 3.0em">
     A group of flows having the same FGI.<a class="pilcrow" href="#section-2-2.12">¶</a>
</dd>
<dt id="section-2-2.13">Shared Bottleneck Detection (SBD):</dt>
<dd id="section-2-2.14" style="margin-left: 3.0em">
     The entity that determines which flows traverse the same
 bottleneck in the network or the process of doing so.<a class="pilcrow" href="#section-2-2.14">¶</a>
</dd>
</dl>
</section>
</div>
<div id="sec-limits">
<section id="section-3">
      <h2 id="name-limitations">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-limitations">Limitations</a>
      </h2>
<dl class="dlNewline" id="section-3-1">
        <dt id="section-3-1.1">Sender-side only:</dt>
<dd id="section-3-1.2" style="margin-left: 3.0em">
      Shared bottlenecks can exist when multiple flows originate from the same
      sender or when flows from different senders reach the same receiver (see
      <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8382#section-3">Section 3</a> of [<a class="xref" href="#RFC8382">RFC8382</a>]</span>). Coupled
      congestion control, as described here, only supports the former case, not
      the latter, as it operates inside a single host on the sender side.<a class="pilcrow" href="#section-3-1.2">¶</a>
</dd>
<dt id="section-3-1.3">Shared bottlenecks do not change quickly:</dt>
<dd id="section-3-1.4" style="margin-left: 3.0em">
     As per the definition above, a bottleneck depends on cross traffic, and
     since such traffic can heavily fluctuate, bottlenecks can change at a
     high frequency (e.g., there can be oscillation between two or more
     links). This means that, when flows are partially routed along different
     paths, they may quickly change between sharing and not sharing a
     bottleneck. For simplicity, here it is assumed that a shared bottleneck
     is valid for a time interval that is significantly longer than the
     interval at which congestion controllers operate. Note that, for the only
     SBD mechanism defined in this document (multiplexing on the same
     five-tuple), the notion of a shared bottleneck stays correct even in the
     presence of fast traffic fluctuations; since all flows that are assumed
     to share a bottleneck are routed in the same way, if the bottleneck
     changes, it will still be shared.<a class="pilcrow" href="#section-3-1.4">¶</a>
</dd>
</dl>
</section>
</div>
<div id="sec-arch">
<section id="section-4">
      <h2 id="name-architectural-overview">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-architectural-overview">Architectural Overview</a>
      </h2>
<p id="section-4-1"><a class="xref" href="#fig_1">Figure 1</a> shows the elements of the architecture for coupled
      congestion control: the Flow State Exchange (FSE), Shared Bottleneck
      Detection (SBD), and Flows. The FSE is a storage element that can be
      implemented in two ways: active and passive. In the active version, it
      initiates communication with flows and SBD. However, in the passive
      version, it does not actively initiate communication with flows and SBD;
      its only active role is internal state maintenance (e.g., an
      implementation could use soft state to remove a flow's data after long
      periods of inactivity). Every time a flow's congestion control mechanism
      would normally update its sending rate, the flow instead updates
      information in the FSE and performs a query on the FSE, leading to a
      sending rate that can be different from what the congestion controller
      originally determined. Using information about/from the currently active
      flows, SBD updates the FSE with the correct Flow Group Identifiers
      (FGIs).<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2"> This document describes both active and passive versions. While the
      passive algorithm works better for congestion controls with
      RTT-independent convergence, it can still produce oscillations on short
      time scales.  The passive algorithm, described in <a class="xref" href="#example-alg-pas">Appendix C</a>, is therefore considered
      highly experimental and not safe to deploy outside of testbed
      environments. <a class="xref" href="#fig_2">Figure 2</a> shows the interaction between flows
      and the FSE using the variable names defined in <a class="xref" href="#fse-variables">Section 5.2</a>.<a class="pilcrow" href="#section-4-2">¶</a></p>
<span id="name-coupled-congestion-control-"></span><div id="fig_1">
<figure id="figure-1">
        <div class="artwork art-text alignCenter" id="section-4-3.1">
<pre>-------  &lt;---  Flow 1
| FSE |  &lt;---  Flow 2 ..
-------  &lt;---  .. Flow N
   ^
   |             |
-------          |
| SBD |  &lt;-------|
-------         </pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-coupled-congestion-control-">Coupled congestion control architecture</a>
        </figcaption></figure>
</div>
<span id="name-flow-fse-interactions"></span><div id="fig_2">
<figure id="figure-2">
        <div class="artwork art-text alignCenter" id="section-4-4.1">
<pre>Flow#1(cc)                     FSE                    Flow#2(cc)
----------                     ---                    ----------
#1 JOIN     ----register--&gt; REGISTER

                            REGISTER    &lt;--register-- JOIN #1

#2 CC_R(1)  ----UPDATE----&gt; UPDATE (in)

#3 NEW RATE &lt;---FSE_R(1)-- UPDATE (out) --FSE_R(2)-&gt; #3 NEW RATE
          </pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-flow-fse-interactions">Flow-FSE interactions</a>
        </figcaption></figure>
</div>
<p id="section-4-5">Since everything shown in <a class="xref" href="#fig_1">Figure 1</a> is assumed to operate on a single
      host (the sender) only, this document only describes aspects that have
      an influence on the resulting on-the-wire behavior. It does not, for
      instance, define how many bits must be used to represent FGIs or in
      which way the entities communicate.<a class="pilcrow" href="#section-4-5">¶</a></p>
<p id="section-4-6">Implementations can take various forms; for instance, all the
      elements in the figure could be implemented within a single application,
      thereby operating on flows generated by that application only. Another
      alternative could be to implement both the FSE and SBD together in a
      separate process that different applications communicate with via some
      form of Inter-Process Communication (IPC). Such an implementation would
      extend the scope to flows generated by multiple applications. The FSE
      and SBD could also be included in the Operating System kernel. However,
      only one type of coupling algorithm should be used for all
      flows. Combinations of multiple algorithms at different aggregation
      levels (e.g., the Operating System coupling application aggregates with
      one algorithm, and applications coupling their flows with another) have
      not been tested and are therefore not recommended.<a class="pilcrow" href="#section-4-6">¶</a></p>
</section>
</div>
<div id="roles">
<section id="section-5">
      <h2 id="name-roles">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-roles">Roles</a>
      </h2>
<p id="section-5-1">This section gives an overview of the roles of the elements of
      coupled congestion control and provides an example of how coupled
      congestion control can operate.<a class="pilcrow" href="#section-5-1">¶</a></p>
<section id="section-5.1">
        <h3 id="name-sbd">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-sbd">SBD</a>
        </h3>
<p id="section-5.1-1">SBD uses knowledge about the flows to determine which flows belong
        in the same Flow Group (FG) and assigns FGIs accordingly.  This
        knowledge can be derived in three basic ways:<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<ol class="normal" id="section-5.1-2" start="1" type="1">
          <li id="section-5.1-2.1">From multiplexing: It can be based on the simple assumption that
          packets sharing the same five-tuple (IP source and destination
          address, protocol, and transport-layer port number pair) and having
          the same values for the Differentiated Services Code Point (DSCP)
          and the ECN field in the IP header are typically treated in the same
          way along the path.  This method is the only one specified in this
          document; SBD <span class="bcp14">MAY</span> consider all flows that use the
          same five-tuple, DSCP, and ECN field value to belong to the same
          FG. This classification applies to certain tunnels or RTP flows
          that are multiplexed over one transport (cf. <span>[<a class="xref" href="#TRANSPORT-MULTIPLEX">TRANSPORT-MULTIPLEX</a>]</span>). Such multiplexing
          is also a recommended usage of RTP in WebRTC <span>[<a class="xref" href="#I-D.ietf-rtcweb-rtp-usage">RTCWEB-RTP-USAGE</a>]</span>.<a class="pilcrow" href="#section-5.1-2.1">¶</a>
</li>
<li id="section-5.1-2.2">Via configuration: e.g., by assuming that a common wireless uplink is also a shared bottleneck.<a class="pilcrow" href="#section-5.1-2.2">¶</a>
</li>
<li id="section-5.1-2.3">From measurements: e.g., by considering correlations among
          measured delay and loss as an indication of a shared
          bottleneck.<a class="pilcrow" href="#section-5.1-2.3">¶</a>
</li>
</ol>
<p id="section-5.1-3">The methods above have some essential trade-offs. For example,
        multiplexing is a completely reliable measure, but it is limited
        in scope to two endpoints (i.e., it cannot be applied to couple
        congestion controllers of one sender talking to multiple receivers). A
        measurement-based SBD mechanism is described in <span>[<a class="xref" href="#RFC8382">RFC8382</a>]</span>. Measurements can never be 100% reliable, in
        particular because they are based on the past, but applying coupled
        congestion control involves making an assumption about the future; it is
        therefore recommended to implement cautionary measures, e.g., by
        disabling coupled congestion control if enabling it causes a
        significant increase in delay and/or packet loss.  Measurements also
        take time, which entails a certain delay for turning on coupling
        (refer to <span>[<a class="xref" href="#RFC8382">RFC8382</a>]</span> for details).

When this is possible, it can be more efficient to statically configure shared
bottlenecks (e.g., via a system configuration or user input) based on
assumptions about the network environment.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
</section>
<div id="fse-variables">
<section id="section-5.2">
        <h3 id="name-fse">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-fse">FSE</a>
        </h3>
<p id="section-5.2-1">The FSE contains a list of all flows that have registered with
        it. For each flow, the FSE stores the following:<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<ul>
<li id="section-5.2-2.1">a unique flow number f to identify the flow.<a class="pilcrow" href="#section-5.2-2.1">¶</a>
</li>
<li id="section-5.2-2.2">the FGI of the FG that it belongs to (based on the definitions
          in this document, a flow has only one bottleneck and can therefore
          be in only one FG).<a class="pilcrow" href="#section-5.2-2.2">¶</a>
</li>
<li id="section-5.2-2.3">a priority P(f), which is a number greater than zero.<a class="pilcrow" href="#section-5.2-2.3">¶</a>
</li>
<li id="section-5.2-2.4">The rate used by the flow in bits per second, FSE_R(f).<a class="pilcrow" href="#section-5.2-2.4">¶</a>
</li>
<li id="section-5.2-2.5">The desired rate DR(f) of flow f. This can be smaller than
          FSE_R(f) if the application feeding into the flow has less data to
          send than FSE_R(f) would allow or if a maximum value is imposed on
          the rate.  In the absence of such limits, DR(f) must be set to the
          sending rate provided by the congestion control module of flow
          f.<a class="pilcrow" href="#section-5.2-2.5">¶</a>
</li>
</ul>
<p id="section-5.2-3">
    Note that the absolute range of priorities does not matter; the algorithm
    works with a flow's priority portion of the sum of all priority
    values. For example, if there are two flows, flow 1 with priority 1 and
    flow 2 with priority 2, the sum of the priorities is 3. Then, flow 1 will
    be assigned 1/3 of the aggregate sending rate, and flow 2 will be assigned
    2/3 of the aggregate sending rate. Priorities can be mapped to the
    "very-low", "low", "medium", or "high" priority levels described in <span>[<a class="xref" href="#I-D.ietf-rtcweb-transports">WEBRTC-TRANS</a>]</span> by simply using the
    values 1, 2, 4, and 8, respectively.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<p id="section-5.2-4">In the FSE, each FG contains one static variable, S_CR, which is the
        sum of the calculated rates of all flows in the same FG. This value is
        used to calculate the sending rate.<a class="pilcrow" href="#section-5.2-4">¶</a></p>
<p id="section-5.2-5">The information listed here is enough to implement the sample flow
        algorithm given below. FSE implementations could easily be extended to
        store, e.g., a flow's current sending rate for statistics gathering or
        future potential optimizations.<a class="pilcrow" href="#section-5.2-5">¶</a></p>
</section>
</div>
<div id="flows">
<section id="section-5.3">
        <h3 id="name-flows">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-flows">Flows</a>
        </h3>
<p id="section-5.3-1">Flows register themselves with SBD and FSE when they start,
        deregister from the FSE when they stop, and carry out an UPDATE
        function call every time their congestion controller calculates a new
        sending rate. Via UPDATE, they provide the newly calculated rate and,
        optionally (if the algorithm supports it), the desired rate. The
        desired rate is less than the calculated rate in case of
        application-limited flows; otherwise, it is the same as the calculated
        rate.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">Below, two example algorithms are described. While other algorithms
        could be used instead, the same algorithm must be applied to all
        flows. Names of variables used in the algorithms are explained below.<a class="pilcrow" href="#section-5.3-2">¶</a></p>
<dl class="dlParallel" id="section-5.3-3">
          <dt id="section-5.3-3.1">CC_R(f)</dt>
<dd id="section-5.3-3.2" style="margin-left: 5.0em">The rate received from the congestion controller of
          flow f when it calls UPDATE.<a class="pilcrow" href="#section-5.3-3.2">¶</a>
</dd>
<dt id="section-5.3-3.3">FSE_R(f)</dt>
<dd id="section-5.3-3.4" style="margin-left: 5.0em">The rate calculated by the FSE for flow f.<a class="pilcrow" href="#section-5.3-3.4">¶</a>
</dd>
<dt id="section-5.3-3.5">DR(f)</dt>
<dd id="section-5.3-3.6" style="margin-left: 5.0em">The desired rate of flow f.<a class="pilcrow" href="#section-5.3-3.6">¶</a>
</dd>
<dt id="section-5.3-3.7">S_CR</dt>
<dd id="section-5.3-3.8" style="margin-left: 5.0em">The sum of the calculated rates of all flows in the same
          FG; this value is used to calculate the sending rate.<a class="pilcrow" href="#section-5.3-3.8">¶</a>
</dd>
<dt id="section-5.3-3.9">FG</dt>
<dd id="section-5.3-3.10" style="margin-left: 5.0em">A group of flows having the same FGI and hence, sharing the same bottleneck.<a class="pilcrow" href="#section-5.3-3.10">¶</a>
</dd>
<dt id="section-5.3-3.11">P(f)</dt>
<dd id="section-5.3-3.12" style="margin-left: 5.0em">The priority of flow f, which is received from the flow's congestion controller; the FSE uses this variable for calculating FSE_R(f).<a class="pilcrow" href="#section-5.3-3.12">¶</a>
</dd>
<dt id="section-5.3-3.13">S_P</dt>
<dd id="section-5.3-3.14" style="margin-left: 5.0em">The sum of all the priorities.<a class="pilcrow" href="#section-5.3-3.14">¶</a>
</dd>
<dt id="section-5.3-3.15">TLO</dt>
<dd id="section-5.3-3.16" style="margin-left: 5.0em">The total leftover rate; the sum of rates that could not be assigned to
    flows that were limited by their desired rate.<a class="pilcrow" href="#section-5.3-3.16">¶</a>
</dd>
<dt id="section-5.3-3.17">AR</dt>
<dd id="section-5.3-3.18" style="margin-left: 5.0em">The aggregate rate that is assigned to flows that are not limited by their desired rate.<a class="pilcrow" href="#section-5.3-3.18">¶</a>
</dd>
</dl>
<div id="example-alg-act">
<section id="section-5.3.1">
          <h4 id="name-example-algorithm-1-active-">
<a class="section-number selfRef" href="#section-5.3.1">5.3.1. </a><a class="section-name selfRef" href="#name-example-algorithm-1-active-">Example Algorithm 1 - Active FSE</a>
          </h4>
<p id="section-5.3.1-1">This algorithm was designed to be the simplest possible method to
          assign rates according to the priorities of flows. Simulation
          results in <span>[<a class="xref" href="#FSE">FSE</a>]</span> indicate that it
          does not, however, significantly reduce queuing delay and packet
          loss.<a class="pilcrow" href="#section-5.3.1-1">¶</a></p>
<dl class="olPercent" id="section-5.3.1-2">
            <dt>(1)</dt>
<dd id="section-5.3.1-2.1">When a flow f starts, it registers itself with SBD and the
            FSE. FSE_R(f) is initialized with the congestion controller's
            initial rate. SBD will assign the correct FGI. When a flow is
            assigned an FGI, it adds its FSE_R(f) to S_CR.<a class="pilcrow" href="#section-5.3.1-2.1">¶</a>
</dd>
<dt>(2)</dt>
<dd id="section-5.3.1-2.2">When a flow f stops or pauses, its entry is removed from the list.<a class="pilcrow" href="#section-5.3.1-2.2">¶</a>
</dd>
<dt>(3)</dt>
<dd id="section-5.3.1-2.3">
              <p id="section-5.3.1-2.3.1">Every time the congestion controller of the flow f determines
              a new sending rate CC_R(f), the flow calls UPDATE, which carries
              out the tasks listed below to derive the new sending rates for
              all the flows in the FG. A flow's UPDATE function uses three
              local (i.e., per-flow) temporary variables: S_P, TLO, and AR.<a class="pilcrow" href="#section-5.3.1-2.3.1">¶</a></p>
<dl class="olPercent" id="section-5.3.1-2.3.2">
                <dt>(a)</dt>
<dd id="section-5.3.1-2.3.2.1">
                  <p id="section-5.3.1-2.3.2.1.1"> It updates S_CR.<a class="pilcrow" href="#section-5.3.1-2.3.2.1.1">¶</a></p>
<div id="section-5.3.1-2.3.2.1.2">
<pre class="sourcecode lang-pseudocode">            S_CR = S_CR + CC_R(f) - FSE_R(f)            </pre><a class="pilcrow" href="#section-5.3.1-2.3.2.1.2">¶</a>
</div>
</dd>
<dt>(b)</dt>
<dd id="section-5.3.1-2.3.2.2">
                  <p id="section-5.3.1-2.3.2.2.1"> It calculates the sum of all the priorities, S_P, and initializes FSE_R.<a class="pilcrow" href="#section-5.3.1-2.3.2.2.1">¶</a></p>
<div id="section-5.3.1-2.3.2.2.2">
<pre class="sourcecode lang-pseudocode">            S_P = 0
            for all flows i in FG do
                S_P = S_P + P(i)
                FSE_R(i) = 0
            end for            </pre><a class="pilcrow" href="#section-5.3.1-2.3.2.2.2">¶</a>
</div>
</dd>
<dt>(c)</dt>
<dd id="section-5.3.1-2.3.2.3">
                  <p id="section-5.3.1-2.3.2.3.1"> It distributes S_CR among all flows, ensuring that each flow's desired rate
        is not exceeded.<a class="pilcrow" href="#section-5.3.1-2.3.2.3.1">¶</a></p>
<div id="section-5.3.1-2.3.2.3.2">
<pre class="sourcecode lang-pseudocode">            TLO = S_CR
            while(TLO-AR&gt;0 and S_P&gt;0)
                AR = 0
                for all flows i in FG do
                    if FSE_R[i] &lt; DR[i] then
                        if TLO * P[i] / S_P &gt;= DR[i] then
                            TLO = TLO - DR[i]
                            FSE_R[i] = DR[i]
                            S_P = S_P - P[i]
                        else
                            FSE_R[i] = TLO * P[i] / S_P
                            AR = AR + TLO * P[i] / S_P
                        end if
                    end if
                end for
            end while            </pre><a class="pilcrow" href="#section-5.3.1-2.3.2.3.2">¶</a>
</div>
</dd>
<dt>(d)</dt>
<dd id="section-5.3.1-2.3.2.4">
                  <p id="section-5.3.1-2.3.2.4.1"> It distributes FSE_R to all the flows.<a class="pilcrow" href="#section-5.3.1-2.3.2.4.1">¶</a></p>
<div id="section-5.3.1-2.3.2.4.2">
<pre class="sourcecode lang-pseudocode">            for all flows i in FG do
                send FSE_R(i) to the flow i
            end for            </pre><a class="pilcrow" href="#section-5.3.1-2.3.2.4.2">¶</a>
</div>
</dd>
</dl>
</dd>
</dl>
</section>
</div>
<div id="example-alg-act-cons">
<section id="section-5.3.2">
          <h4 id="name-example-algorithm-2-conserv">
<a class="section-number selfRef" href="#section-5.3.2">5.3.2. </a><a class="section-name selfRef" href="#name-example-algorithm-2-conserv">Example Algorithm 2 - Conservative Active FSE</a>
          </h4>
<p id="section-5.3.2-1">This algorithm changes algorithm 1 to conservatively emulate the
          behavior of a single flow by proportionally reducing the aggregate
          rate on congestion. Simulation results in <span>[<a class="xref" href="#FSE">FSE</a>]</span> indicate that it can significantly reduce queuing
          delay and packet loss.<a class="pilcrow" href="#section-5.3.2-1">¶</a></p>
<p id="section-5.3.2-2">Step (a) of the UPDATE function is changed as described
          below. This also introduces a local variable DELTA, which is used to
          calculate the difference between CC_R(f) and the previously stored
          FSE_R(f). To prevent flows from either ignoring congestion or
          overreacting, a timer keeps them from changing their rates
          immediately after the common rate reduction that follows a
          congestion event. This timer is set to two RTTs of the flow that
          experienced congestion because it is assumed that a congestion event
          can persist for up to one RTT of that flow, with another RTT added
          to compensate for fluctuations in the measured RTT value.<a class="pilcrow" href="#section-5.3.2-2">¶</a></p>
<dl class="olPercent" id="section-5.3.2-3">
            <dt>(a)</dt>
<dd id="section-5.3.2-3.1">
              <p id="section-5.3.2-3.1.1"> It updates S_CR based on DELTA.<a class="pilcrow" href="#section-5.3.2-3.1.1">¶</a></p>
<div id="section-5.3.2-3.1.2">
<pre class="sourcecode lang-pseudocode">            if Timer has expired or was not set then
              DELTA = CC_R(f) - FSE_R(f)
              if DELTA &lt; 0 then  // Reduce S_CR proportionally 
                S_CR = S_CR * CC_R(f) / FSE_R(f)
                Set Timer for 2 RTTs
              else    
                S_CR = S_CR + DELTA
              end if
             end if             </pre><a class="pilcrow" href="#section-5.3.2-3.1.2">¶</a>
</div>
</dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Application">
<section id="section-6">
      <h2 id="name-application">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-application">Application</a>
      </h2>
<p id="section-6-1">This section specifies how the FSE can be applied to specific
      congestion control mechanisms and makes general recommendations that
      facilitate applying the FSE to future congestion controls.<a class="pilcrow" href="#section-6-1">¶</a></p>
<div id="app-NADA">
<section id="section-6.1">
        <h3 id="name-nada">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-nada">NADA</a>
        </h3>
<p id="section-6.1-1">Network-Assisted Dynamic Adaptation (NADA) <span>[<a class="xref" href="#RFC8698">RFC8698</a>]</span> is a congestion
        control scheme for WebRTC. It calculates a reference rate r_ref upon
        receiving an acknowledgment and then, based on the reference rate,
        calculates a video target rate r_vin and a sending rate for the flows,
        r_send.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">When applying the FSE to NADA, the UPDATE function call described in <a class="xref" href="#flows">Section 5.3</a> gives the FSE NADA's reference rate
 r_ref. The recommended algorithm for NADA is the Active FSE in <a class="xref" href="#example-alg-act">Section 5.3.1</a>. In step 3 (d), when the FSE_R(i) is "sent" to
 the flow i, r_ref (r_vin and r_send) of flow i is updated with the value of FSE_R(i).<a class="pilcrow" href="#section-6.1-2">¶</a></p>
</section>
</div>
<div id="app-general">
<section id="section-6.2">
        <h3 id="name-general-recommendations">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-general-recommendations">General Recommendations</a>
        </h3>
<p id="section-6.2-1">This section provides general advice for applying the FSE to congestion control mechanisms.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<dl class="dlNewline" id="section-6.2-2">
          <dt id="section-6.2-2.1">Receiver-side calculations:</dt>
<dd id="section-6.2-2.2" style="margin-left: 3.0em">
        When receiver-side calculations make assumptions about the rate of the
        sender, the calculations need to be synchronized, or the receiver needs
        to be updated accordingly. This applies to TCP Friendly Rate Control
        (TFRC) <span>[<a class="xref" href="#RFC5348">RFC5348</a>]</span>, for example, where
        simulations showed somewhat less favorable results when using the FSE
        without a receiver-side change <span>[<a class="xref" href="#FSE">FSE</a>]</span>.<a class="pilcrow" href="#section-6.2-2.2">¶</a>
</dd>
<dt id="section-6.2-2.3">Stateful algorithms:</dt>
<dd id="section-6.2-2.4" style="margin-left: 3.0em">
        When a congestion control algorithm is stateful (e.g., during the TCP slow
        start, congestion avoidance, or fast recovery phase), these states should
        be carefully considered such that the overall state of the aggregate
        flow is correct. This may require sharing more information in the
        UPDATE call.<a class="pilcrow" href="#section-6.2-2.4">¶</a>
</dd>
<dt id="section-6.2-2.5">Rate jumps:</dt>
<dd id="section-6.2-2.6" style="margin-left: 3.0em">
        The FSE-based coupling algorithms can let a flow quickly increase its
        rate to its fair share, e.g., when a new flow joins or after a
        quiescent period. In case of window-based congestion controls, this
        may produce a burst that should be mitigated in some way. An example
        of how this could be done without using a timer is presented in <span>[<a class="xref" href="#ANRW2016">ANRW2016</a>]</span>, using TCP as an example.<a class="pilcrow" href="#section-6.2-2.6">¶</a>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="expected-feedback">
<section id="section-7">
      <h2 id="name-expected-feedback-from-expe">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-expected-feedback-from-expe">Expected Feedback from Experiments</a>
      </h2>
<p id="section-7-1">The algorithm described in this memo has so far been evaluated using
      simulations covering all the tests for more than one flow from <span>[<a class="xref" href="#I-D.ietf-rmcat-eval-test">RMCAT-PROPOSALS</a>]</span> (see <span>[<a class="xref" href="#IETF-93">IETF-93</a>]</span> and <span>[<a class="xref" href="#IETF-94">IETF-94</a>]</span>). Experiments should confirm these results using at
      least the NADA congestion control algorithm with real-life code (e.g.,
      browsers communicating over an emulated network covering the conditions
      in <span>[<a class="xref" href="#I-D.ietf-rmcat-eval-test">RMCAT-PROPOSALS</a>]</span>).  The
      tests with real-life code should be repeated afterwards in real network
      environments and monitored. Experiments should investigate cases where
      the media coder's output rate is below the rate that is calculated by
      the coupling algorithm (FSE_R(i) in algorithms 1 (<a class="xref" href="#example-alg-act">Section 5.3.1</a>) and 2 (<a class="xref" href="#example-alg-act-cons">Section 5.3.2</a>)). Implementers and testers are invited
      to document their findings in an Internet-Draft.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document has no IANA actions.<a class="pilcrow" href="#section-8-1">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">In scenarios where the architecture described in this document is
      applied across applications, various cheating possibilities arise, e.g.,
      supporting wrong values for the calculated rate, desired rate, or
      priority of a flow. In the worst case, such cheating could either
      prevent other flows from sending or make them send at a rate that is
      unreasonably large. The end result would be unfair behavior at the
      network bottleneck, akin to what could be achieved with any UDP-based
      application. Hence, since this is no worse than UDP in general, there
      seems to be no significant harm in using this in the absence of UDP rate
      limiters.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">In the case of a single-user system, it should also be in the
      interest of any application programmer to give the user the best
      possible experience by using reasonable flow priorities or even letting
      the user choose them. In a multi-user system, this interest may not be
      given, and one could imagine the worst case of an "arms race" situation
      where applications end up setting their priorities to the maximum
      value. If all applications do this, the end result is a fair allocation
      in which the priority mechanism is implicitly eliminated and no major
      harm is done.<a class="pilcrow" href="#section-9-2">¶</a></p>
<p id="section-9-3"> Implementers should also be aware of the Security Considerations
      sections of <span>[<a class="xref" href="#RFC3124">RFC3124</a>]</span>, <span>[<a class="xref" href="#RFC5348">RFC5348</a>]</span>, and <span>[<a class="xref" href="#RFC7478">RFC7478</a>]</span>.<a class="pilcrow" href="#section-9-3">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dt id="RFC3124">[RFC3124]</dt>
<dd>
<span class="refAuthor">Balakrishnan, H.</span><span class="refAuthor"> and S. Seshan</span>, <span class="refTitle">"The Congestion Manager"</span>, <span class="seriesInfo">RFC 3124</span>, <span class="seriesInfo">DOI 10.17487/RFC3124</span>, <time datetime="2001-06">June 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3124">https://www.rfc-editor.org/info/rfc3124</a>&gt;</span>. </dd>
<dt id="RFC5348">[RFC5348]</dt>
<dd>
<span class="refAuthor">Floyd, S.</span><span class="refAuthor">, Handley, M.</span><span class="refAuthor">, Padhye, J.</span><span class="refAuthor">, and J. Widmer</span>, <span class="refTitle">"TCP Friendly Rate Control (TFRC): Protocol Specification"</span>, <span class="seriesInfo">RFC 5348</span>, <span class="seriesInfo">DOI 10.17487/RFC5348</span>, <time datetime="2008-09">September 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5348">https://www.rfc-editor.org/info/rfc5348</a>&gt;</span>. </dd>
<dt id="RFC8174">[RFC8174]</dt>
<dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dt id="RFC8698">[RFC8698]</dt>
<dd>
<span class="refAuthor">Zhu, X.</span><span class="refAuthor">, Pan, R.</span><span class="refAuthor">, Ramalho, M.</span><span class="refAuthor">, and S. Mena</span>, <span class="refTitle">"Network-Assisted Dynamic Adaptation (NADA): A Unified Congestion Control Scheme for Real-Time Media"</span>, <span class="seriesInfo">RFC 8698</span>, <span class="seriesInfo">DOI 10.17487/RFC8698</span>, <time datetime="2020-01">January 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8698">https://www.rfc-editor.org/info/rfc8698</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="ANRW2016">[ANRW2016]</dt>
<dd>
<span class="refAuthor">Islam, S.</span><span class="refAuthor"> and M. Welzl</span>, <span class="refTitle">"Start Me Up: Determining and Sharing TCP's Initial Congestion Window"</span>, <span class="refContent">ACM, IRTF, ISOC Applied Networking Research Workshop 2016 (ANRW 2016)
</span>, <span class="seriesInfo">DOI 10.1145/2959424.2959440</span>, <span class="seriesInfo">Proceedings of the 2016 Applied Networking Research     Workshop Pages 52-54</span>, <time datetime="2016-07">July 2016</time>, <span>&lt;<a href="https://doi.org/10.1145/2959424.2959440">https://doi.org/10.1145/2959424.2959440</a>&gt;</span>. </dd>
<dt id="FSE">[FSE]</dt>
<dd>
<span class="refAuthor">Islam, S.</span><span class="refAuthor">, Welzl, M.</span><span class="refAuthor">, Gjessing, S.</span><span class="refAuthor">, and N. Khademi</span>, <span class="refTitle">"Coupled Congestion Control for RTP Media"</span>, <span class="refContent">ACM SIGCOMM Capacity Sharing Workshop (CSWS 2014) and ACM SIGCOMM
CCR 44(4) 2014
</span>, <time datetime="2014-03">March 2014</time>, <span>&lt;<a href="http://safiquli.at.ifi.uio.no/paper/fse-tech-report.pdf">http://safiquli.at.ifi.uio.no/paper/fse-tech-report.pdf</a>&gt;</span>. </dd>
<dt id="FSE-NOMS">[FSE-NOMS]</dt>
<dd>
<span class="refAuthor">Islam, S.</span><span class="refAuthor">, Welzl, M.</span><span class="refAuthor">, Hayes, D.</span><span class="refAuthor">, and S. Gjessing</span>, <span class="refTitle">"Managing real-time media flows through a flow state exchange"</span>, <span class="refContent">IEEE NOMS 2016
</span>, <span class="seriesInfo">DOI 10.1109/NOMS.2016.7502803</span>, <span>&lt;<a href="https://doi.org/10.1109/NOMS.2016.7502803">https://doi.org/10.1109/NOMS.2016.7502803</a>&gt;</span>. </dd>
<dt id="I-D.ietf-rmcat-gcc">[GCC-RTCWEB]</dt>
<dd>
<span class="refAuthor">Holmer, S.</span><span class="refAuthor">, Lundin, H.</span><span class="refAuthor">, Carlucci, G.</span><span class="refAuthor">, Cicco, L.</span><span class="refAuthor">, and S. Mascolo</span>, <span class="refTitle">"A Google Congestion Control Algorithm for Real-Time Communication"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rmcat-gcc-02</span>, <time datetime="2016-07-08">8 July 2016</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rmcat-gcc-02">https://tools.ietf.org/html/draft-ietf-rmcat-gcc-02</a>&gt;</span>. </dd>
<dt id="IETF-93">[IETF-93]</dt>
<dd>
<span class="refAuthor">Islam, S.</span><span class="refAuthor">, Welzl, M.</span><span class="refAuthor">, and S. Gjessing</span>, <span class="refTitle">"Updates on 'Coupled Congestion Control for RTP Media'"</span>, <span class="refContent">RTP Media Congestion Avoidance Techniques (rmcat) Working Group</span>, <span class="seriesInfo">IETF 93</span>, <time datetime="2015-07">July 2015</time>, <span>&lt;<a href="https://www.ietf.org/proceedings/93/rmcat.html">https://www.ietf.org/proceedings/93/rmcat.html</a>&gt;</span>. </dd>
<dt id="IETF-94">[IETF-94]</dt>
<dd>
<span class="refAuthor">Islam, S.</span><span class="refAuthor">, Welzl, M.</span><span class="refAuthor">, and S. Gjessing</span>, <span class="refTitle">"Updates on 'Coupled Congestion Control for RTP Media'"</span>, <span class="refContent">RTP Media Congestion Avoidance Techniques (rmcat) Working Group</span>, <span class="seriesInfo">IETF 94</span>, <time datetime="2015-11">November 2015</time>, <span>&lt;<a href="https://www.ietf.org/proceedings/94/rmcat.html">https://www.ietf.org/proceedings/94/rmcat.html</a>&gt;</span>. </dd>
<dt id="RFC7478">[RFC7478]</dt>
<dd>
<span class="refAuthor">Holmberg, C.</span><span class="refAuthor">, Hakansson, S.</span><span class="refAuthor">, and G. Eriksson</span>, <span class="refTitle">"Web Real-Time Communication Use Cases and Requirements"</span>, <span class="seriesInfo">RFC 7478</span>, <span class="seriesInfo">DOI 10.17487/RFC7478</span>, <time datetime="2015-03">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7478">https://www.rfc-editor.org/info/rfc7478</a>&gt;</span>. </dd>
<dt id="RFC7656">[RFC7656]</dt>
<dd>
<span class="refAuthor">Lennox, J.</span><span class="refAuthor">, Gross, K.</span><span class="refAuthor">, Nandakumar, S.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, and B. Burman, Ed.</span>, <span class="refTitle">"A Taxonomy of Semantics and Mechanisms for Real-Time Transport Protocol (RTP) Sources"</span>, <span class="seriesInfo">RFC 7656</span>, <span class="seriesInfo">DOI 10.17487/RFC7656</span>, <time datetime="2015-11">November 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7656">https://www.rfc-editor.org/info/rfc7656</a>&gt;</span>. </dd>
<dt id="RFC8087">[RFC8087]</dt>
<dd>
<span class="refAuthor">Fairhurst, G.</span><span class="refAuthor"> and M. Welzl</span>, <span class="refTitle">"The Benefits of Using Explicit Congestion Notification (ECN)"</span>, <span class="seriesInfo">RFC 8087</span>, <span class="seriesInfo">DOI 10.17487/RFC8087</span>, <time datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8087">https://www.rfc-editor.org/info/rfc8087</a>&gt;</span>. </dd>
<dt id="RFC8382">[RFC8382]</dt>
<dd>
<span class="refAuthor">Hayes, D., Ed.</span><span class="refAuthor">, Ferlin, S.</span><span class="refAuthor">, Welzl, M.</span><span class="refAuthor">, and K. Hiorth</span>, <span class="refTitle">"Shared Bottleneck Detection for Coupled Congestion Control for RTP Media"</span>, <span class="seriesInfo">RFC 8382</span>, <span class="seriesInfo">DOI 10.17487/RFC8382</span>, <time datetime="2018-06">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8382">https://www.rfc-editor.org/info/rfc8382</a>&gt;</span>. </dd>
<dt id="I-D.ietf-rmcat-eval-test">[RMCAT-PROPOSALS]</dt>
<dd>
<span class="refAuthor">Sarker, Z.</span><span class="refAuthor">, Singh, V.</span><span class="refAuthor">, Zhu, X.</span><span class="refAuthor">, and M. Ramalho</span>, <span class="refTitle">"Test Cases for Evaluating RMCAT Proposals"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rmcat-eval-test-10</span>, <time datetime="2019-05-23">23 May 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rmcat-eval-test-10">https://tools.ietf.org/html/draft-ietf-rmcat-eval-test-10</a>&gt;</span>. </dd>
<dt id="I-D.ietf-rtcweb-overview">[RTCWEB-OVERVIEW]</dt>
<dd>
<span class="refAuthor">Alvestrand, H.</span>, <span class="refTitle">"Overview: Real Time Protocols for Browser-based Applications"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtcweb-overview-19</span>, <time datetime="2017-11-11">11 November 2017</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rtcweb-overview-19">https://tools.ietf.org/html/draft-ietf-rtcweb-overview-19</a>&gt;</span>. </dd>
<dt id="I-D.ietf-rtcweb-rtp-usage">[RTCWEB-RTP-USAGE]</dt>
<dd>
<span class="refAuthor">Perkins, C.</span><span class="refAuthor">, Westerlund, M.</span><span class="refAuthor">, and J. Ott</span>, <span class="refTitle">"Web Real-Time Communication (WebRTC): Media Transport and Use of RTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtcweb-rtp-usage-26</span>, <time datetime="2016-03-17">17 March 2016</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rtcweb-rtp-usage-26">https://tools.ietf.org/html/draft-ietf-rtcweb-rtp-usage-26</a>&gt;</span>. </dd>
<dt id="TRANSPORT-MULTIPLEX">[TRANSPORT-MULTIPLEX]</dt>
<dd>
<span class="refAuthor">Westerlund, M.</span><span class="refAuthor"> and C. Perkins</span>, <span class="refTitle">"Multiple RTP Sessions on a Single Lower-Layer Transport"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-westerlund-avtcore-transport-multiplexing-07</span>, <time datetime="2013-10">October 2013</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-westerlund-avtcore-transport-multiplexing-07">https://tools.ietf.org/html/draft-westerlund-avtcore-transport-multiplexing-07</a>&gt;</span>. </dd>
<dt id="I-D.ietf-rtcweb-transports">[WEBRTC-TRANS]</dt>
<dd>
<span class="refAuthor">Alvestrand, H.</span>, <span class="refTitle">"Transports for WebRTC"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtcweb-transports-17</span>, <time datetime="2016-10-26">26 October 2016</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rtcweb-transports-17">https://tools.ietf.org/html/draft-ietf-rtcweb-transports-17</a>&gt;</span>. </dd>
</dl>
</section>
</section>
<div id="app-GCC">
<section id="section-appendix.a">
      <h2 id="name-application-to-gcc">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-application-to-gcc">Application to GCC</a>
      </h2>
<p id="section-appendix.a-1">Google Congestion Control (GCC) <span>[<a class="xref" href="#I-D.ietf-rmcat-gcc">GCC-RTCWEB</a>]</span> is another congestion control scheme for RTP flows
      that is under development. GCC is not yet finalized, but at the time of
      this writing, the rate control of GCC employs two parts: controlling the
      bandwidth estimate based on delay and controlling the bandwidth
      estimate based on loss. Both are designed to estimate the available
      bandwidth, A_hat.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<p id="section-appendix.a-2">When applying the FSE to GCC, the UPDATE function call described in
      <a class="xref" href="#flows">Section 5.3</a> gives the FSE GCC's estimate of
      available bandwidth A_hat. The recommended algorithm for GCC is the
      Active FSE in <a class="xref" href="#example-alg-act">Section 5.3.1</a>. In
      step 3 (d) of this algorithm, when the FSE_R(i) is "sent" to the flow i,
      A_hat of flow i is updated with the value of FSE_R(i).<a class="pilcrow" href="#section-appendix.a-2">¶</a></p>
</section>
</div>
<div id="scheduling">
<section id="section-appendix.b">
      <h2 id="name-scheduling">
<a class="section-number selfRef" href="#section-appendix.b">Appendix B. </a><a class="section-name selfRef" href="#name-scheduling">Scheduling</a>
      </h2>
<p id="section-appendix.b-1"> When flows originate from the same host, it would be possible to use
      only one sender-side congestion controller that determines the
      overall allowed sending rate and then use a local scheduler to assign a
      proportion of this rate to each RTP session. This way, priorities could
      also be implemented as a function of the scheduler. The Congestion
      Manager (CM) <span>[<a class="xref" href="#RFC3124">RFC3124</a>]</span> also uses such a
      scheduling function.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
</section>
</div>
<div id="example-alg-pas">
<section id="section-appendix.c">
      <h2 id="name-example-algorithm-passive-f">
<a class="section-number selfRef" href="#section-appendix.c">Appendix C. </a><a class="section-name selfRef" href="#name-example-algorithm-passive-f">Example Algorithm - Passive FSE</a>
      </h2>
<p id="section-appendix.c-1">Active algorithms calculate the rates for all the flows in the FG and
      actively distribute them. In a passive algorithm, UPDATE returns a rate
      that should be used instead of the rate that the congestion controller
      has determined. This can make a passive algorithm easier to implement;
      however, when round-trip times of flows are unequal, flows with shorter RTTs
      may (depending on the congestion control algorithm) update and react to
      the overall FSE state more often than flows with longer RTTs, which can
      produce unwanted side effects. This problem is more significant when the
      congestion control convergence depends on the RTT. While the passive
      algorithm works better for congestion controls with RTT-independent
      convergence, it can still produce oscillations on short time scales. The
      algorithm described below is therefore considered highly experimental
      and not safe to deploy outside of testbed environments. Results of a
      simplified passive FSE algorithm with both NADA and GCC can be found in
      <span>[<a class="xref" href="#FSE-NOMS">FSE-NOMS</a>]</span>.<a class="pilcrow" href="#section-appendix.c-1">¶</a></p>
<p id="section-appendix.c-2">In the passive version of the FSE, TLO (Total Leftover Rate) is a
      static variable per FG that is initialized to 0. Additionally, S_CR is
      limited to increase or decrease as conservatively as a flow's congestion
      controller decides in order to prohibit sudden rate jumps.<a class="pilcrow" href="#section-appendix.c-2">¶</a></p>
<dl class="olPercent" id="section-appendix.c-3">
        <dt>(1)</dt>
<dd id="section-appendix.c-3.1">When a flow f starts, it registers itself with SBD and the
        FSE. FSE_R(f) and DR(f) are initialized with the congestion
        controller's initial rate. SBD will assign the correct FGI. When a
        flow is assigned an FGI, it adds its FSE_R(f) to S_CR.<a class="pilcrow" href="#section-appendix.c-3.1">¶</a>
</dd>
<dt>(2)</dt>
<dd id="section-appendix.c-3.2">When a flow f stops or pauses, it sets its DR(f) to 0 and sets P(f) to -1.<a class="pilcrow" href="#section-appendix.c-3.2">¶</a>
</dd>
<dt>(3)</dt>
<dd id="section-appendix.c-3.3">
          <p id="section-appendix.c-3.3.1">Every time the congestion controller of the flow f determines a
          new sending rate CC_R(f), assuming the flow's new desired rate
          new_DR(f) to be "infinity" in case of a bulk data transfer with an
          unknown maximum rate, the flow calls UPDATE, which carries out the
          tasks listed below to derive the flow's new sending rate, Rate(f). A
          flow's UPDATE function uses a few local (i.e., per-flow) temporary
          variables, which are all initialized to 0: DELTA, new_S_CR, and S_P.<a class="pilcrow" href="#section-appendix.c-3.3.1">¶</a></p>
<dl class="olPercent" id="section-appendix.c-3.3.2">
            <dt>(a)</dt>
<dd id="section-appendix.c-3.3.2.1">
              <p id="section-appendix.c-3.3.2.1.1">For all the flows in its FG (including itself), it calculates
              the sum of all the calculated rates, new_S_CR. Then, it
              calculates DELTA: the difference between FSE_R(f) and CC_R(f).<a class="pilcrow" href="#section-appendix.c-3.3.2.1.1">¶</a></p>
<div id="section-appendix.c-3.3.2.1.2">
<pre class="sourcecode lang-pseudocode">          for all flows i in FG do
              new_S_CR = new_S_CR + FSE_R(i)
          end for
          DELTA =  CC_R(f) - FSE_R(f)                  </pre><a class="pilcrow" href="#section-appendix.c-3.3.2.1.2">¶</a>
</div>
</dd>
<dt>(b)</dt>
<dd id="section-appendix.c-3.3.2.2">
              <p id="section-appendix.c-3.3.2.2.1">It updates S_CR, FSE_R(f), and DR(f).<a class="pilcrow" href="#section-appendix.c-3.3.2.2.1">¶</a></p>
<div id="section-appendix.c-3.3.2.2.2">
<pre class="sourcecode lang-pseudocode">          FSE_R(f) = CC_R(f)
          if DELTA &gt; 0 then  // the flow's rate has increased
              S_CR = S_CR + DELTA
          else if DELTA &lt; 0 then
              S_CR = new_S_CR + DELTA
          end if 
          DR(f) = min(new_DR(f),FSE_R(f))                  </pre><a class="pilcrow" href="#section-appendix.c-3.3.2.2.2">¶</a>
</div>
</dd>
<dt>(c)</dt>
<dd id="section-appendix.c-3.3.2.3">
              <p id="section-appendix.c-3.3.2.3.1">It calculates the leftover rate TLO, removes the terminated
              flows from the FSE, and calculates the sum of all the priorities,
              S_P.<a class="pilcrow" href="#section-appendix.c-3.3.2.3.1">¶</a></p>
<div id="section-appendix.c-3.3.2.3.2">
<pre class="sourcecode lang-pseudocode">            for all flows i in FG do
               if P(i)&lt;0 then
                  delete flow
               else
                  S_P = S_P + P(i)
               end if
            end for
            if DR(f) &lt; FSE_R(f) then
               TLO = TLO + (P(f)/S_P) * S_CR - DR(f))
            end if                  </pre><a class="pilcrow" href="#section-appendix.c-3.3.2.3.2">¶</a>
</div>
</dd>
<dt>(d)</dt>
<dd id="section-appendix.c-3.3.2.4">
              <p id="section-appendix.c-3.3.2.4.1">It calculates the sending rate, Rate(f).<a class="pilcrow" href="#section-appendix.c-3.3.2.4.1">¶</a></p>
<div id="section-appendix.c-3.3.2.4.2">
<pre class="sourcecode lang-pseudocode">            Rate(f) = min(new_DR(f), (P(f)*S_CR)/S_P + TLO)
                          
            if Rate(f) != new_DR(f) and TLO &gt; 0 then
                TLO = 0  // f has 'taken' TLO
            end if                  </pre><a class="pilcrow" href="#section-appendix.c-3.3.2.4.2">¶</a>
</div>
</dd>
<dt>(e)</dt>
<dd id="section-appendix.c-3.3.2.5">
              <p id="section-appendix.c-3.3.2.5.1">It updates DR(f) and FSE_R(f) with Rate(f).<a class="pilcrow" href="#section-appendix.c-3.3.2.5.1">¶</a></p>
<div id="section-appendix.c-3.3.2.5.2">
<pre class="sourcecode lang-pseudocode">            if Rate(f) &gt; DR(f) then
                DR(f) = Rate(f)
            end if
            FSE_R(f)  = Rate(f)                </pre><a class="pilcrow" href="#section-appendix.c-3.3.2.5.2">¶</a>
</div>
</dd>
</dl>
</dd>
</dl>
<p id="section-appendix.c-4">The goals of the flow algorithm are to achieve prioritization,
      improve network utilization in the face of application-limited flows,
      and impose limits on the increase behavior such that the negative impact
      of multiple flows trying to increase their rate together is
      minimized. It does that by assigning a flow a sending rate that may not
      be what the flow's congestion controller expected. It therefore builds
      on the assumption that no significant inefficiencies arise from
      temporary application-limited behavior or from quickly jumping to a rate
      that is higher than the congestion controller intended. How problematic
      these issues really are depends on the controllers in use and requires
      careful per-controller experimentation. The coupled congestion control
      mechanism described here also does not require all controllers to be
      equal; effects of heterogeneous controllers, or homogeneous controllers
      being in different states, are also subject to experimentation.<a class="pilcrow" href="#section-appendix.c-4">¶</a></p>
<p id="section-appendix.c-5">This algorithm gives the leftover rate of application-limited
      flows to the first flow that updates its sending rate, provided that
      this flow needs it all (otherwise, its own leftover rate can be taken by
      the next flow that updates its rate).  Other policies could be applied,
      e.g., to divide the leftover rate of a flow equally among all other flows
      in the FGI.<a class="pilcrow" href="#section-appendix.c-5">¶</a></p>
<div id="example-op">
<section id="section-c.1">
        <h2 id="name-example-operation-passive">
<a class="section-number selfRef" href="#section-c.1">C.1. </a><a class="section-name selfRef" href="#name-example-operation-passive">Example Operation (Passive)</a>
        </h2>
<p id="section-c.1-1">In order to illustrate the operation of the passive coupled
        congestion control algorithm, this section presents a toy example of
        two flows that use it. Let us assume that both flows traverse a common
        10 Mbit/s bottleneck and use a simplistic congestion controller that
        starts out with 1 Mbit/s, increases its rate by 1 Mbit/s in the
        absence of congestion, and decreases it by 2 Mbit/s in the presence of
        congestion. For simplicity, flows are assumed to always operate in a
        round-robin fashion. Rate numbers below without units are assumed to
        be in Mbit/s. For illustration purposes, the actual sending rate is
        also shown for every flow in FSE diagrams even though it is not really
        stored in the FSE.<a class="pilcrow" href="#section-c.1-1">¶</a></p>
<p id="section-c.1-2">Flow #1 begins. It is a bulk data transfer and considers itself to
        have top priority.  This is the FSE after the flow algorithm's step
        1:<a class="pilcrow" href="#section-c.1-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-3">
<pre>----------------------------------------
| # | FGI |  P  | FSE_R  |  DR  | Rate |
|   |     |     |        |      |      |
| 1 |  1  |  1  |   1    |   1  |   1  |
----------------------------------------
S_CR = 1, TLO = 0                  </pre><a class="pilcrow" href="#section-c.1-3">¶</a>
</div>
<p id="section-c.1-4">Its congestion controller gradually increases its rate. Eventually,
        at some point, the FSE should look like this:<a class="pilcrow" href="#section-c.1-4">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-5">
<pre>-----------------------------------------
| # | FGI |  P  |  FSE_R  |  DR  | Rate |
|   |     |     |         |      |      |
| 1 |  1  |  1  |   10    |  10  |  10  |
-----------------------------------------
S_CR = 10, TLO = 0    </pre><a class="pilcrow" href="#section-c.1-5">¶</a>
</div>
<p id="section-c.1-6">Now, another flow joins. It is also a bulk data transfer and has a
        lower priority (0.5):<a class="pilcrow" href="#section-c.1-6">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-7">
<pre>------------------------------------------
| # | FGI |   P   | FSE_R  |  DR  | Rate |
|   |     |       |        |      |      |
| 1 |  1  |   1   |   10   |  10  |  10  |
| 2 |  1  |  0.5  |    1   |   1  |   1  |
------------------------------------------
S_CR = 11, TLO = 0    </pre><a class="pilcrow" href="#section-c.1-7">¶</a>
</div>
<p id="section-c.1-8">Now, assume that the first flow updates its rate to 8, because the
        total sending rate of 11 exceeds the total capacity.  Let us take a
        closer look at what happens in step 3 of the flow algorithm.<a class="pilcrow" href="#section-c.1-8">¶</a></p>
<p id="section-c.1-9">CC_R(1) = 8. new_DR(1) = infinity.<a class="pilcrow" href="#section-c.1-9">¶</a></p>
<dl class="olPercent" id="section-c.1-10">
          <dt>(3a)</dt>
<dd id="section-c.1-10.1">new_S_CR = 11; DELTA = 8 - 10 = -2.<a class="pilcrow" href="#section-c.1-10.1">¶</a>
</dd>
<dt>(3b)</dt>
<dd id="section-c.1-10.2">FSE_R(1) = 8. DELTA is negative, hence S_CR = 9; DR(1) = 8<a class="pilcrow" href="#section-c.1-10.2">¶</a>
</dd>
<dt>(3c)</dt>
<dd id="section-c.1-10.3">S_P = 1.5.<a class="pilcrow" href="#section-c.1-10.3">¶</a>
</dd>
<dt>(3d)</dt>
<dd id="section-c.1-10.4">new sending rate Rate(1) = min(infinity, 1/1.5 * 9 + 0) = 6.<a class="pilcrow" href="#section-c.1-10.4">¶</a>
</dd>
<dt>(3e)</dt>
<dd id="section-c.1-10.5">FSE_R(1) = 6.<a class="pilcrow" href="#section-c.1-10.5">¶</a>
</dd>
</dl>
<p id="section-c.1-11">The resulting FSE looks as follows:<a class="pilcrow" href="#section-c.1-11">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-12">
<pre>-------------------------------------------
| # | FGI |   P   |  FSE_R  |  DR  | Rate |
|   |     |       |         |      |      |
| 1 |  1  |   1   |    6    |   8  |   6  |
| 2 |  1  |  0.5  |    1    |   1  |   1  |
-------------------------------------------
S_CR = 9, TLO = 0    </pre><a class="pilcrow" href="#section-c.1-12">¶</a>
</div>
<p id="section-c.1-13">The effect is that flow #1 is sending with 6 Mbit/s instead of the
        8 Mbit/s that the congestion controller derived. Let us now assume
        that flow #2 updates its rate. Its congestion controller detects that
        the network is not fully saturated (the actual total sending rate is
        6+1=7) and increases its rate.<a class="pilcrow" href="#section-c.1-13">¶</a></p>
<p id="section-c.1-14">CC_R(2) = 2. new_DR(2) = infinity.<a class="pilcrow" href="#section-c.1-14">¶</a></p>
<dl class="olPercent" id="section-c.1-15">
          <dt>(3a)</dt>
<dd id="section-c.1-15.1">new_S_CR = 7; DELTA = 2 - 1 = 1.<a class="pilcrow" href="#section-c.1-15.1">¶</a>
</dd>
<dt>(3b)</dt>
<dd id="section-c.1-15.2">FSE_R(2) = 2. DELTA is positive, hence S_CR = 9 + 1 = 10; DR(2) = 2.<a class="pilcrow" href="#section-c.1-15.2">¶</a>
</dd>
<dt>(3c)</dt>
<dd id="section-c.1-15.3">S_P = 1.5.<a class="pilcrow" href="#section-c.1-15.3">¶</a>
</dd>
<dt>(3d)</dt>
<dd id="section-c.1-15.4">Rate(2) = min(infinity, 0.5/1.5 * 10 + 0) = 3.33.<a class="pilcrow" href="#section-c.1-15.4">¶</a>
</dd>
<dt>(3e)</dt>
<dd id="section-c.1-15.5">DR(2) = FSE_R(2) = 3.33.<a class="pilcrow" href="#section-c.1-15.5">¶</a>
</dd>
</dl>
<p id="section-c.1-16">The resulting FSE looks as follows:<a class="pilcrow" href="#section-c.1-16">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-17">
<pre>-------------------------------------------
| # | FGI |   P   |  FSE_R  |  DR  | Rate |
|   |     |       |         |      |      |
| 1 |  1  |   1   |    6    |   8  |   6  |
| 2 |  1  |  0.5  |   3.33  | 3.33 | 3.33 |
-------------------------------------------
S_CR = 10, TLO = 0    </pre><a class="pilcrow" href="#section-c.1-17">¶</a>
</div>
<p id="section-c.1-18">The effect is that flow #2 is now sending with 3.33 Mbit/s, which
        is close to half of the rate of flow #1 and leads to a total
        utilization of 6(#1) + 3.33(#2) = 9.33 Mbit/s. Flow #2's congestion
        controller has increased its rate faster than the controller actually
        expected. Now, flow #1 updates its rate. Its congestion controller
        detects that the network is not fully saturated and increases its
        rate. Additionally, the application feeding into flow #1 limits the
        flow's sending rate to at most 2 Mbit/s.<a class="pilcrow" href="#section-c.1-18">¶</a></p>
<p id="section-c.1-19">CC_R(1) = 7. new_DR(1) = 2.<a class="pilcrow" href="#section-c.1-19">¶</a></p>
<dl class="olPercent" id="section-c.1-20">
          <dt>(3a)</dt>
<dd id="section-c.1-20.1">new_S_CR = 9.33; DELTA = 1.<a class="pilcrow" href="#section-c.1-20.1">¶</a>
</dd>
<dt>(3b)</dt>
<dd id="section-c.1-20.2">FSE_R(1) = 7, DELTA is positive, hence S_CR = 10 + 1 = 11; DR(1) = min(2, 7) = 2.<a class="pilcrow" href="#section-c.1-20.2">¶</a>
</dd>
<dt>(3c)</dt>
<dd id="section-c.1-20.3">S_P = 1.5; DR(1) &lt; FSE_R(1), hence TLO = 1/1.5 * 11 - 2 = 5.33.<a class="pilcrow" href="#section-c.1-20.3">¶</a>
</dd>
<dt>(3d)</dt>
<dd id="section-c.1-20.4">Rate(1) = min(2, 1/1.5 * 11 + 5.33) = 2.<a class="pilcrow" href="#section-c.1-20.4">¶</a>
</dd>
<dt>(3e)</dt>
<dd id="section-c.1-20.5">FSE_R(1) = 2.<a class="pilcrow" href="#section-c.1-20.5">¶</a>
</dd>
</dl>
<p id="section-c.1-21">The resulting FSE looks as follows:<a class="pilcrow" href="#section-c.1-21">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-22">
<pre>-------------------------------------------
| # | FGI |   P   |  FSE_R  |  DR  | Rate |
|   |     |       |         |      |      |
| 1 |  1  |   1   |    2    |   2  |   2  |
| 2 |  1  |  0.5  |   3.33  | 3.33 | 3.33 |
-------------------------------------------
S_CR = 11, TLO = 5.33                  </pre><a class="pilcrow" href="#section-c.1-22">¶</a>
</div>
<p id="section-c.1-23">Now, the total rate of the two flows is 2 + 3.33 = 5.33 Mbit/s,
        i.e., the network is significantly underutilized due to the limitation
        of flow #1. Flow #2 updates its rate. Its congestion controller
        detects that the network is not fully saturated and increases its
        rate.<a class="pilcrow" href="#section-c.1-23">¶</a></p>
<p id="section-c.1-24">CC_R(2) = 4.33. new_DR(2) = infinity.<a class="pilcrow" href="#section-c.1-24">¶</a></p>
<dl class="olPercent" id="section-c.1-25">
          <dt>(3a)</dt>
<dd id="section-c.1-25.1">new_S_CR = 5.33; DELTA = 1.<a class="pilcrow" href="#section-c.1-25.1">¶</a>
</dd>
<dt>(3b)</dt>
<dd id="section-c.1-25.2">FSE_R(2) = 4.33. DELTA is positive, hence S_CR = 12; DR(2) = 4.33.<a class="pilcrow" href="#section-c.1-25.2">¶</a>
</dd>
<dt>(3c)</dt>
<dd id="section-c.1-25.3">S_P = 1.5.<a class="pilcrow" href="#section-c.1-25.3">¶</a>
</dd>
<dt>(3d)</dt>
<dd id="section-c.1-25.4">Rate(2) = min(infinity, 0.5/1.5 * 12 + 5.33 ) = 9.33.<a class="pilcrow" href="#section-c.1-25.4">¶</a>
</dd>
<dt>(3e)</dt>
<dd id="section-c.1-25.5">FSE_R(2) = 9.33, DR(2) = 9.33.<a class="pilcrow" href="#section-c.1-25.5">¶</a>
</dd>
</dl>
<p id="section-c.1-26">The resulting FSE looks as follows:<a class="pilcrow" href="#section-c.1-26">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-27">
<pre>-------------------------------------------
| # | FGI |   P   |  FSE_R  |  DR  | Rate |
|   |     |       |         |      |      |
| 1 |  1  |   1   |    2    |   2  |   2  |
| 2 |  1  |  0.5  |   9.33  | 9.33 | 9.33 |
-------------------------------------------
S_CR = 12, TLO = 0    </pre><a class="pilcrow" href="#section-c.1-27">¶</a>
</div>
<p id="section-c.1-28">Now, the total rate of the two flows is 2 + 9.33 = 11.33
        Mbit/s. Finally, flow #1 terminates. It sets P(1) to -1 and DR(1) to
        0. Let us assume that it terminated late enough for flow #2 to still
        experience the network in a congested state, i.e., flow #2 decreases
        its rate in the next iteration.<a class="pilcrow" href="#section-c.1-28">¶</a></p>
<p id="section-c.1-29">CC_R(2) = 7.33. new_DR(2) = infinity.<a class="pilcrow" href="#section-c.1-29">¶</a></p>
<dl class="olPercent" id="section-c.1-30">
          <dt>(3a)</dt>
<dd id="section-c.1-30.1">new_S_CR = 11.33; DELTA = -2.<a class="pilcrow" href="#section-c.1-30.1">¶</a>
</dd>
<dt>(3b)</dt>
<dd id="section-c.1-30.2">FSE_R(2) = 7.33. DELTA is negative, hence S_CR = 9.33; DR(2) = 7.33.<a class="pilcrow" href="#section-c.1-30.2">¶</a>
</dd>
<dt>(3c)</dt>
<dd id="section-c.1-30.3">Flow 1 has P(1) = -1, hence it is deleted from the FSE. S_P = 0.5.<a class="pilcrow" href="#section-c.1-30.3">¶</a>
</dd>
<dt>(3d)</dt>
<dd id="section-c.1-30.4">Rate(2) = min(infinity, 0.5/0.5*9.33 + 0) = 9.33.<a class="pilcrow" href="#section-c.1-30.4">¶</a>
</dd>
<dt>(3e)</dt>
<dd id="section-c.1-30.5">FSE_R(2) = DR(2) = 9.33.<a class="pilcrow" href="#section-c.1-30.5">¶</a>
</dd>
</dl>
<p id="section-c.1-31">The resulting FSE looks as follows:<a class="pilcrow" href="#section-c.1-31">¶</a></p>
<div class="artwork art-text alignLeft" id="section-c.1-32">
<pre>-------------------------------------------
| # | FGI |   P   |  FSE_R  |  DR  | Rate |
|   |     |       |         |      |      |
| 2 |  1  |  0.5  |   9.33  | 9.33 | 9.33 |
-------------------------------------------
S_CR = 9.33, TLO = 0        </pre><a class="pilcrow" href="#section-c.1-32">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="section-appendix.d">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.d-1">This document benefited from discussions with and feedback from
      <span class="contact-name">Andreas Petlund</span>,
      <span class="contact-name">Anna Brunstrom</span>,
      <span class="contact-name">Colin Perkins</span>,
      <span class="contact-name">David Hayes</span>,
      <span class="contact-name">David Ros</span>
      (who also gave the FSE its name), 
      <span class="contact-name">Ingemar Johansson</span>,
      <span class="contact-name">Karen Nielsen</span>,
      <span class="contact-name">Kristian Hiorth</span>,
      <span class="contact-name">Martin Stiemerling</span>,
      <span class="contact-name">Mirja Kühlewind</span>,
      <span class="contact-name">Spencer Dawkins</span>,
      <span class="contact-name">Varun Singh</span>,
      <span class="contact-name">Xiaoqing Zhu</span>, and
      <span class="contact-name">Zaheduzzaman Sarker</span>. The authors would
      like to especially thank <span class="contact-name">Xiaoqing Zhu</span> and <span class="contact-name">Stefan Holmer</span> for helping with
      NADA and GCC, and <span class="contact-name">Anna Brunstrom</span> as well as <span class="contact-name">Julius Flohr</span> for helping us
      correct the active algorithm for the case of application-limited
      flows.<a class="pilcrow" href="#section-appendix.d-1">¶</a></p>
<p id="section-appendix.d-2">This work was partially funded by the European Community under its
      Seventh Framework Program through the Reducing Internet Transport
      Latency (RITE) project (ICT-317700).<a class="pilcrow" href="#section-appendix.d-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.e">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Safiqul Islam</span></div>
<div class="left" dir="auto"><span class="org">University of Oslo</span></div>
<div class="left" dir="auto"><span class="street-address">PO Box 1080 Blindern</span></div>
<div class="left" dir="auto">
<span class="postal-code">N-0316</span> <span class="locality">Oslo</span>
</div>
<div class="left" dir="auto"><span class="country-name">Norway</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+47%2022%2084%2008%2037">+47 22 84 08 37</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:safiquli@ifi.uio.no">safiquli@ifi.uio.no</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Michael Welzl</span></div>
<div class="left" dir="auto"><span class="org">University of Oslo</span></div>
<div class="left" dir="auto"><span class="street-address">PO Box 1080 Blindern</span></div>
<div class="left" dir="auto">
<span class="postal-code">N-0316</span> <span class="locality">Oslo</span>
</div>
<div class="left" dir="auto"><span class="country-name">Norway</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+47%2022%2085%2024%2020">+47 22 85 24 20</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:michawe@ifi.uio.no">michawe@ifi.uio.no</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stein Gjessing</span></div>
<div class="left" dir="auto"><span class="org">University of Oslo</span></div>
<div class="left" dir="auto"><span class="street-address">PO Box 1080 Blindern</span></div>
<div class="left" dir="auto">
<span class="postal-code">N-0316</span> <span class="locality">Oslo</span>
</div>
<div class="left" dir="auto"><span class="country-name">Norway</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+47%2022%2085%2024%2044">+47 22 85 24 44</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:steing@ifi.uio.no">steing@ifi.uio.no</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>


</body></html>