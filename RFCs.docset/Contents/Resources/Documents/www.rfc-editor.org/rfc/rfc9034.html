<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9034: Packet Delivery Deadline Time in the Routing Header for IPv6 over Low‑Power Wireless Personal Area Networks (6LoWPANs)</title>
<meta content="Lijo Thomas" name="author"/>
<meta content="Satish Anamalamudi" name="author"/>
<meta content="S.V.R. Anand" name="author"/>
<meta content="Malati Hegde" name="author"/>
<meta content="Charles E. Perkins" name="author"/>
<meta content="
       
 This document specifies a new type for the 6LoWPAN routing header
 containing the deadline time for data packets, designed for use over
 constrained networks. The deadline time enables forwarding and
 scheduling decisions for time-critical machine-to-machine (M2M)
 applications running on Internet-enabled devices that operate within 
 time-synchronized networks. This document also specifies a 
 representation for the deadline time values in such networks.
       
    " name="description"/>
<meta content="xml2rfc 3.8.0" name="generator"/>
<meta content="Routing header" name="keyword"/>
<meta content="Timestamp" name="keyword"/>
<meta content="9034" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.8.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc9034.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9034" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-6lo-deadline-time-05" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9034</td>
<td class="center">6lo Delivery Deadline Time</td>
<td class="right">June 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Thomas, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9034">9034</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-06">June 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Thomas</div>
<div class="org">C-DAC</div>
</div>
<div class="author">
      <div class="author-name">S. Anamalamudi</div>
<div class="org">SRM University-AP</div>
</div>
<div class="author">
      <div class="author-name">S.V.R. Anand</div>
<div class="org">Indian Institute of Science</div>
</div>
<div class="author">
      <div class="author-name">M. Hegde</div>
<div class="org">Indian Institute of Science</div>
</div>
<div class="author">
      <div class="author-name">C. Perkins</div>
<div class="org">Lupin Lodge</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9034</h1>
<h1 id="title">Packet Delivery Deadline Time in the Routing Header for IPv6 over Low‑Power Wireless Personal Area Networks (6LoWPANs)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
 This document specifies a new type for the 6LoWPAN routing header
 containing the deadline time for data packets, designed for use over
 constrained networks. The deadline time enables forwarding and
 scheduling decisions for time-critical machine-to-machine (M2M)
 applications running on Internet-enabled devices that operate within 
 time-synchronized networks. This document also specifies a 
 representation for the deadline time values in such networks.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9034">https://www.rfc-editor.org/info/rfc9034</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-6lorhe-generic-format">6LoRHE Generic Format</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-deadline-6lorhe">Deadline-6LoRHE</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-deadline-6lorhe-format">Deadline-6LoRHE Format</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-deadline-6lorhe-in-three-ne">Deadline-6LoRHE in Three Network Scenarios</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-scenario-1-endpoints-in-the">Scenario 1: Endpoints in the Same DODAG (N1)</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-scenario-2-endpoints-in-net">Scenario 2: Endpoints in Networks with Dissimilar L2 Technologies</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-scenario-3-packet-transmiss">Scenario 3: Packet Transmission across Different DODAGs (N1 to N2)</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-synchronization-aspects">Synchronization Aspects</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-modular-arithmetic-consider">Modular Arithmetic Considerations</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="Intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
 Low-Power and Lossy Networks (LLNs) are likely to be deployed for
 real-time industrial applications requiring end-to-end
 delay guarantees <span>[<a class="xref" href="#RFC8578">RFC8578</a>]</span>.
 A Deterministic Network ("DetNet") typically requires some data packets
 to reach their receivers within strict time bounds.
 Intermediate nodes use the deadline information to make
        appropriate packet forwarding and scheduling decisions to meet the
        time bounds.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">
 This document specifies a new type for the Elective 6LoWPAN Routing
 Header (6LoRHE), Deadline-6LoRHE, so that the deadline time (i.e., the time of latest
 acceptable delivery) of data
 packets can be included within the 6LoRHE.
 <span>[<a class="xref" href="#RFC8138">RFC8138</a>]</span> specifies the 6LoWPAN Routing Header (6LoRH),
 compression schemes for RPL (Routing Protocol for Low-Power and Lossy Networks) source routing <span>[<a class="xref" href="#RFC6554">RFC6554</a>]</span>, header compression of RPL packet
 information <span>[<a class="xref" href="#RFC6553">RFC6553</a>]</span>, and IP-in-IP encapsulation.    
 This document also specifies the handling of the deadline
 time when packets traverse time-synchronized networks
 operating in different time zones or distinct reference clocks.
 Time-synchronization techniques are outside the scope of this
 document.  There are a number of standards available for this
 purpose, including IEEE 1588 <span>[<a class="xref" href="#IEEE.1588.2008">IEEE.1588.2008</a>]</span>,
 IEEE 802.1AS <span>[<a class="xref" href="#IEEE.802.1AS.2011">IEEE.802.1AS.2011</a>]</span>,
 IEEE 802.15.4-2015 Time-Slotted Channel Hopping (TSCH) <span>[<a class="xref" href="#IEEE.802.15.4">IEEE.802.15.4</a>]</span>, and more.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">
 The Deadline-6LoRHE can be used in any time-synchronized 6LoWPAN network.
 A 6TiSCH (IPv6 over the TSCH mode of IEEE 802.15.4) network is used to describe the implementation of the
 Deadline-6LoRHE, but this does not preclude its use in scenarios other
 than 6TiSCH.  For instance, there is a growing interest in using 6LoWPAN 
 over a Bluetooth Low Energy (BLE) mesh network <span>[<a class="xref" href="#I-D.ietf-6lo-blemesh">6LO-BLEMESH</a>]</span> in
 industrial IoT (Internet of Things) <span>[<a class="xref" href="#IEEE-BLE-MESH">IEEE-BLE-MESH</a>]</span>. BLE mesh time
 synchronization is being explored by the Bluetooth
 community.  There are also cases under consideration in Wi-SUN
 <span>[<a class="xref" href="#PHY-SPEC">PHY-SPEC</a>]</span> <span>[<a class="xref" href="#Wi-SUN">Wi-SUN</a>]</span>.<a class="pilcrow" href="#section-1-3">¶</a></p>
</section>
</div>
<div id="acronyms_terms">
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
    "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
    interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals, as
    shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">
 This document uses the terminology defined in
 <span>[<a class="xref" href="#RFC6550">RFC6550</a>]</span> and
 <span>[<a class="xref" href="#RFC9030">RFC9030</a>]</span>.<a class="pilcrow" href="#section-2-2">¶</a></p>
</section>
</div>
<section id="section-3">
      <h2 id="name-6lorhe-generic-format">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-6lorhe-generic-format">6LoRHE Generic Format</a>
      </h2>
<p id="section-3-1">
 Note: this section is not normative and is included for convenience.
 The generic header format of the 6LoRHE is specified in
 <span>[<a class="xref" href="#RFC8138">RFC8138</a>]</span>.
 <a class="xref" href="#fig1">Figure 1</a> illustrates the 6LoRHE generic format.<a class="pilcrow" href="#section-3-1">¶</a></p>
<span id="name-6lorhe-format"></span><div id="fig1">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-3-2.1">
<pre>   0                   1
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-        ...              -+
  |1|0|1| Length  |      Type     |        Options            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-        ...              -+
                                   &lt;---    length         ---&gt;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-6lorhe-format">6LoRHE Format</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3-3">
        <dt id="section-3-3.1">Length:</dt>
        <dd id="section-3-3.2" style="margin-left: 1.5em">Length of the 6LoRHE expressed in bytes, excluding the first 2 bytes. This
       enables a node to skip a 6LoRHE if the Type is not recognized or supported.<a class="pilcrow" href="#section-3-3.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-3.3">Type (variable length):</dt>
        <dd id="section-3-3.4" style="margin-left: 1.5em">Type of the 6LoRHE (see <a class="xref" href="#iana">Section 7</a>).<a class="pilcrow" href="#section-3-3.4">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<div id="Description">
<section id="section-4">
      <h2 id="name-deadline-6lorhe">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-deadline-6lorhe">Deadline-6LoRHE</a>
      </h2>
<p id="section-4-1">
     The Deadline-6LoRHE (see <a class="xref" href="#fig2">Figure 3</a>) is  
     a 6LoRHE <span>[<a class="xref" href="#RFC8138">RFC8138</a>]</span> that provides
     the Deadline Time (DT) for an IPv6 datagram in a compressed form.
     Along with the DT, the header can include the 
     Origination Time Delta (OTD) packet, which contains the time when the packet was
     enqueued for transmission (expressed as a value to be subtracted
     from DT); this enables a close estimate of the total delay
     incurred by a packet.  The OTD field is initialized by the sender
     based on the current time at the outgoing network interface through
     which the packet is forwarded.  Since the OTD is a delta,
     the length of the OTD field (i.e., OTL) will require fewer
     bits than the length of the DT field (i.e., DTL).<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2"> The DT field contains the value of the deadline time for the
     packet -- in other words, the time by which the application expects
     the packet to be delivered to the receiver.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3" style="margin-left: 1.5em">
        packet_deadline_time = packet_origination_time + max_delay<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">
     In order to support delay-sensitive, deterministic applications,
     all nodes within the network should process the Deadline-6LoRHE.
     The DT and OTD packets are
     represented in time units determined by a scaling parameter in
     the Routing Header.  The Network ASN (Absolute Slot Number)
     can be used as a time unit in a time-slotted
            synchronized network (for instance, a 6TiSCH network, where global
     time is maintained in the units of slot lengths of a certain
            resolution).<a class="pilcrow" href="#section-4-4">¶</a></p>
<p id="section-4-5"> The delay experienced by packets in the network is a useful
     metric for network diagnostics and performance monitoring.
     Whenever a packet crosses into a network using
     a different reference clock, the DT field is updated
     to represent the same deadline time, but expressed using the
     reference clock of the interface into the new network.  Then the
     origination time is the same as the current time when the packet
     is transmitted into the new network, minus the delay already
     experienced by the packet, say 'current_dly'.  In this way, within
     the newly entered network, the packet will appear to have
     originated 'current_dly' time units earlier with respect
     to the reference clock of the new network.<a class="pilcrow" href="#section-4-5">¶</a></p>
<p id="section-4-6" style="margin-left: 1.5em">
  new_network_origin_time = time_now_in_new_network - current_dly<a class="pilcrow" href="#section-4-6">¶</a></p>
<p id="section-4-7">
     The following example illustrates these calculations
     when a packet travels between three networks, each in a different
     time zone (TZ). 'x' can be 1, 2, or 3.  Suppose that the deadline time
     as measured in TZ1 is 1050, and the origination time is 50.
     Suppose that the difference between TZ2 and TZ1 is 900, and the
     difference between TZ2 and TZ3 is 3600.  In the figure, OT
     is the origination time as measured in the current time zone, and
     is equal to DT - OTD, that is, DT - 1000.
     <a class="xref" href="#time-update">Figure 2</a> uses the following abbreviations:<a class="pilcrow" href="#section-4-7">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4-8">
        <dt id="section-4-8.1">TxA:</dt>
        <dd id="section-4-8.2" style="margin-left: 1.5em">Time of arrival of packet in the network 'x'<a class="pilcrow" href="#section-4-8.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-8.3">TxD:</dt>
        <dd id="section-4-8.4" style="margin-left: 1.5em">Departure time of packet from the network 'x'<a class="pilcrow" href="#section-4-8.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-8.5">dlyx:</dt>
        <dd id="section-4-8.6" style="margin-left: 1.5em">Delay experienced by the packet in the previous network(s)<a class="pilcrow" href="#section-4-8.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-8.7">TZx:</dt>
        <dd id="section-4-8.8" style="margin-left: 1.5em">The time zone of network 'x'<a class="pilcrow" href="#section-4-8.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<span id="name-deadline-time-update-exampl"></span><div id="time-update">
<figure id="figure-2">
        <div class="artwork art-text alignLeft" id="section-4-9.1">
<pre>            TZ1                      TZ2                    TZ3
  T1A=50|                 |                             |
        |----  dly1=50    |                             |
        |     \           |                             |
        |      \          |                             |
        |       \ T1D=100 |T2A=1000                     |
        |        --------&gt;|-----           dly2=450     |
        |                 |     \                       |
        |                 |      \                      |
        |                 |       \          T2D=1400   | T3A=5000
        |                 |         -------------------&gt;|----------&gt;
        |                 |                             |
        v                 v                             v

   dly0 = 0          dly1 = T1D-OT1      dly2 = T2D-OT2
                          = 100-50            = 1400 - 950
                          = 50                = 450

   OT1 = T1A-dly0     OT2 = T2A-dly1     OT3 = T3A-dly2
       = 50               = 1000-50          = 5000 - 450
                          = 950              = 4550
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-deadline-time-update-exampl">Deadline Time Update Example</a>
        </figcaption></figure>
</div>
<p id="section-4-10"> There are multiple ways that a packet can be delayed, including
 queuing delay, Media Access Control (MAC) layer contention delay, serialization delay, and
 propagation delay.  Sometimes there are processing delays as well.
 For the purpose of determining whether or not the deadline has
 already passed, these various delays are not distinguished.<a class="pilcrow" href="#section-4-10">¶</a></p>
</section>
</div>
<div id="Format">
<section id="section-5">
      <h2 id="name-deadline-6lorhe-format">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-deadline-6lorhe-format">Deadline-6LoRHE Format</a>
      </h2>
<span id="name-deadline-6lorhe-format-2"></span><div id="fig2">
<figure id="figure-3">
        <div class="artwork art-text alignLeft" id="section-5-1.1">
<pre>     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |1|0|1| Length  |  6LoRH Type   |D| TU|  DTL  | OTL | BinaryPt  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |      DT (variable length)     | OTD(variable length)(optional)|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-deadline-6lorhe-format-2">Deadline-6LoRHE Format</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5-2">
        <dt id="section-5-2.1">Length (5 bits):
</dt>
        <dd id="section-5-2.2" style="margin-left: 1.5em">Length represents the total length of the Deadline-6LoRHE Type measured in octets.<a class="pilcrow" href="#section-5-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.3">6LoRH Type:</dt>
        <dd id="section-5-2.4" style="margin-left: 1.5em">7 (See <a class="xref" href="#iana">Section 7</a>.)<a class="pilcrow" href="#section-5-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.5">D flag (1 bit): 
</dt>
        <dd id="section-5-2.6" style="margin-left: 1.5em">
          <p id="section-5-2.6.1">The 'D' flag, set by the sender, qualifies the action to be taken when a
6LoWPAN Router (6LR) detects that the deadline time has elapsed.<a class="pilcrow" href="#section-5-2.6.1">¶</a></p>
<p id="section-5-2.6.2">If 'D' bit is 1, then the 6LR
<span class="bcp14">MUST</span> drop the packet if the deadline time is elapsed.<a class="pilcrow" href="#section-5-2.6.2">¶</a></p>
<p id="section-5-2.6.3">If 'D'
bit is 0, the packet <span class="bcp14">MAY</span> be forwarded on an exception basis, if
the forwarding node is NOT in a situation of constrained resource, and if
there are reasons to suspect that downstream nodes might find it useful (delay
measurements, interpolations, etc.).<a class="pilcrow" href="#section-5-2.6.3">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.7">TU (2 bits):
</dt>
        <dd id="section-5-2.8" style="margin-left: 1.5em">
          <p id="section-5-2.8.1">Indicates the time units for DT and OTD fields.  The encodings for the 
      DT and OTD fields use the same time units and precision.<a class="pilcrow" href="#section-5-2.8.1">¶</a></p>
<span class="break"></span><dl class="dlParallel dlCompact" id="section-5-2.8.2">
            <dt id="section-5-2.8.2.1">00</dt>
            <dd id="section-5-2.8.2.2" style="margin-left: 1.5em">Time represented in seconds and fractional seconds<a class="pilcrow" href="#section-5-2.8.2.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5-2.8.2.3">01</dt>
            <dd id="section-5-2.8.2.4" style="margin-left: 1.5em">Reserved<a class="pilcrow" href="#section-5-2.8.2.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5-2.8.2.5">10</dt>
            <dd id="section-5-2.8.2.6" style="margin-left: 1.5em">Network ASN<a class="pilcrow" href="#section-5-2.8.2.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5-2.8.2.7">11</dt>
            <dd id="section-5-2.8.2.8" style="margin-left: 1.5em">Reserved<a class="pilcrow" href="#section-5-2.8.2.8">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.9">DTL (4 bits):
</dt>
        <dd id="section-5-2.10" style="margin-left: 1.5em">Length of the DT field as an unsigned 4-bit integer, encoding the length of
the field in hex digits, minus one.<a class="pilcrow" href="#section-5-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.11">OTL (3 bits):
</dt>
        <dd id="section-5-2.12" style="margin-left: 1.5em">
          <p id="section-5-2.12.1">Length of the OTD field as an unsigned 3-bit integer,
encoding the length of the field in hex digits.  If OTL == 0, the OTD field is
not present.  The value of OTL <span class="bcp14">MUST NOT</span> exceed the value of DTL
plus one.<a class="pilcrow" href="#section-5-2.12.1">¶</a></p>
<p id="section-5-2.12.2">For example, DTL = 0b0000 means the DT field in the
            6LoRHE is 1 hex digit (4 bits) long.  OTL = 0b111 means the
            OTD field is 7 hex digits (28 bits) long.<a class="pilcrow" href="#section-5-2.12.2">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.13">BinaryPt (6 bits):
</dt>
        <dd id="section-5-2.14" style="margin-left: 1.5em">
          <p id="section-5-2.14.1">If zero, the number of bits of the integer part
        the DT is equal to the number of bits of the fractional part of
 the DT.  If nonzero, the BinaryPt is a (2's complement) signed
 integer determining the position of the binary point within the value
 for the DT.  This allows BinaryPt to be within the range [-32,31].<a class="pilcrow" href="#section-5-2.14.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.14.2.1"> If BinaryPt value is positive, then the number of bits for
            the integer part of the DT is increased by the value of BinaryPt,
            and the number of bits for the fractional part of the DT is
            correspondingly reduced.  This increases the range of DT.<a class="pilcrow" href="#section-5-2.14.2.1">¶</a>
</li>
            <li class="normal" id="section-5-2.14.2.2"> If BinaryPt value is negative, then the number of bits for
            the integer part of the DT is decreased by the value of BinaryPt,
            and the number of bits for the fractional part of the DT is
            correspondingly increased.  This increases the precision of the
            fractional seconds part of DT.<a class="pilcrow" href="#section-5-2.14.2.2">¶</a>
</li>
          </ul>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.15">DT Value (4..64 bits):
</dt>
        <dd id="section-5-2.16" style="margin-left: 1.5em">An unsigned integer of DTL+1 hex digits giving the DT value.<a class="pilcrow" href="#section-5-2.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-5-2.17">OTD Value (4..28 bits):
</dt>
        <dd id="section-5-2.18" style="margin-left: 1.5em">If present, an unsigned integer of OTL hex digits giving the origination time as a
negative offset from the DT value.<a class="pilcrow" href="#section-5-2.18">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-5-3"> Whenever a sender initiates the IP datagram, it includes the
  Deadline-6LoRHE along with other 6LoRH information.  For information about
  the time-synchronization requirements between sender and receiver, see <a class="xref" href="#sync">Section 8</a>.<a class="pilcrow" href="#section-5-3">¶</a></p>
<p id="section-5-4">

 For the chosen time unit, a compressed time representation is
 available as follows.  First, the application on the originating node
 determines
 how many time bits are needed to represent the difference between the
 time at which the packet is launched and the deadline time, including
 the representation of fractional time units.  That number of bits
 (say, N_bits) determines DTL as follows:<a class="pilcrow" href="#section-5-4">¶</a></p>
<p id="section-5-5" style="margin-left: 1.5em">
        DTL = ((N_bits - 1) / 4)<a class="pilcrow" href="#section-5-5">¶</a></p>
<p id="section-5-6">
 The number of bits determined by DTL allows the counting of any number of
 fractional time units in the range of interest determined by DT and the
 OT.  Denote this number of fractional time units to
 be Epoch_Range(DTL) (i.e., Epoch_Range is a function of DTL):<a class="pilcrow" href="#section-5-6">¶</a></p>
<p id="section-5-7" style="margin-left: 1.5em">
        Epoch_Range(DTL) = 2<sup>4*(DTL+1)</sup><a class="pilcrow" href="#section-5-7">¶</a></p>
<p id="section-5-8">
 Each point of time between OT and DT is represented by a time unit and
 a fractional time unit; in this section, this combined representation
 is called a rational time unit (RTU).  1 RTU measures the smallest
 fractional time that can be represented between two points of time
 in the epoch (i.e., within the range of interest).<a class="pilcrow" href="#section-5-8">¶</a></p>
<p id="section-5-9">
 DT - OT cannot exceed 2<sup>4*(DTL+1)</sup> == 16<sup>DTL+1</sup>.  A low value of DTL
 leads to a small Epoch_Range; if DTL = 0, there will only be 16 RTUs
 within the Epoch_Range (i.e., Epoch_Range(DTL) = 16<sup>1</sup>) for any TU.  The
 values that can be represented in the current epoch are in the range
 [0, (Epoch_Range(DTL) - 1)].<a class="pilcrow" href="#section-5-9">¶</a></p>
<p id="section-5-10">
        Assuming wraparound does not occur, OT is represented by the value (OT mod Epoch_Range),
        and DT is represented by the value (DT mod Epoch_Range).  All arithmetic is
        to be performed modulo (Epoch_Range(DTL)), yielding only positive
        values for DT - OT.<a class="pilcrow" href="#section-5-10">¶</a></p>
<p id="section-5-11">
        In order to allow fine-grained control over the setting of the
    deadline time, the fields for DT and OTD use fractional seconds. This is done by specifying
 a binary point, which allocates some of the bits for fractional times.
 Thus, all such fractions are restricted to be negative powers of 2.
 Each point of time between OT and DT is then represented by a time
 unit (either seconds or ASNs) and a fractional time unit.<a class="pilcrow" href="#section-5-11">¶</a></p>
<p id="section-5-12">
        Let OT_abs, DT_abs, and CT_abs denote the true (absolute) values (on the
 synchronized timelines) for OT, DT, and
 current time.  Let N be the number of bits to be used to represent
 the integer parts of OT_abs, DT_abs, and CT_abs:<a class="pilcrow" href="#section-5-12">¶</a></p>
<p id="section-5-13" style="margin-left: 3.0em">N = {4*(DTL+1)/2} + BinaryPt<a class="pilcrow" href="#section-5-13">¶</a></p>
<p id="section-5-14">
 The originating node has to pick a segment size (2^N) so that
 DT_abs - OT_abs &lt; 2^N, and so that intermediate network nodes
 can detect whether or not CT_abs &gt; DT_abs.<a class="pilcrow" href="#section-5-14">¶</a></p>
<p id="section-5-15">
 Given a value for N, the value for DT is represented in the
 deadline-time format by DT = (DT_abs mod 2^N).  DT is typically
 represented as a positive value (even though negative modular
 values make sense).  Also, let OT = OT_abs mod 2^N and
 CT = CT_abs mod 2^N, where both OT and CT are also considered as
 non-negative values.<a class="pilcrow" href="#section-5-15">¶</a></p>
<p id="section-5-16">
 When the packet is launched by the originating node,
 CT_abs == OT_abs and CT == OT.  Given a particular value for N,
 then in order for downstream nodes to detect whether or not the
 deadline has expired (i.e., whether DT_abs &gt; CT_abs), the following is 
 required:<a class="pilcrow" href="#section-5-16">¶</a></p>
<div id="assumption">
<p id="section-5-17" style="margin-left: 3.0em">Assumption 1: DT_abs - OT_abs &lt; 2^N.<a class="pilcrow" href="#section-5-17">¶</a></p>
</div>
<p id="section-5-18">
        Otherwise the ambiguity
 inherent in the modulus arithmetic yielding OT and DT will cause
 failure: one cannot measure time differences greater than 2^N using
 numbers in a time segment of length less than 2^N.<a class="pilcrow" href="#section-5-18">¶</a></p>
<p id="section-5-19">
 Under <a class="xref" href="#assumption">Assumption 1</a>, downstream nodes must effectively check
 whether or not their current time is later than the DT -- but
 the value of the DT has to be inferred from the
 value of DT in the 6LoRHE, which is a number less than 2^N.  This
 inference cannot be expected to reliably succeed unless <a class="xref" href="#assumption">Assumption 1</a> 
 is valid, which means that the originating node has to be careful to pick proper
 values for DTL and for BinaryPt.<a class="pilcrow" href="#section-5-19">¶</a></p>
<p id="section-5-20">
 Since OT is not necessarily provided in the 6loRHE, there may be a
 danger of ambiguity.  Surely, when DT = CT, the deadline time
 is expiring and the packet should be dropped. However, what if an
 intermediate node measures that CT = DT+1?  Was the packet
 launched a short time before arrival at the intermediate node,
 or has the current time wrapped around so that
 CT_abs - OT_abs &gt; 2^N?<a class="pilcrow" href="#section-5-20">¶</a></p>
<p id="section-5-21">
 In order to solve this problem, a safety margin has to be provided,
 in addition to requiring that DT_abs - OT_abs &lt; 2^N.  The value
 of this safety margin is proportional to 2^N and is determined by
 a new parameter, called the "SAFETY_FACTOR".  Then, for safety the
 originating node MUST further ensure that
 (DT_abs - OT_abs) &lt; 2^N*(1-SAFETY_FACTOR).<a class="pilcrow" href="#section-5-21">¶</a></p>
<p id="section-5-22">
 Each intermediate node that receives the packet with the
 Deadline-6LoRHE must determine whether
 ((CT - DT) mod 2^N) &gt; SAFETY_FACTOR*2^N.
 If this test condition is not satisfied, the deadline time has expired.
 See <a class="xref" href="#modular">Appendix A</a> for more explanation about the test
 condition.
 All nodes that receive a packet with a Deadline-6LoRHE included
 MUST use the same value for the SAFETY_FACTOR.  The SAFETY_FACTOR
 is to be chosen so that a packet with the Deadline-6LoRHE included
 will be tested against the current time at least once during every
 subinterval of length SAFETY_FACTOR*2^N.  In this way, it can be
 guaranteed that the packet will be tested often enough to make
 sure it can be dropped whenever CT_abs &gt; DT_abs.  The value of
 SAFETY_FACTOR is specified in this document to be 20%.<a class="pilcrow" href="#section-5-22">¶</a></p>
<p id="section-5-23" style="margin-left: 1.5em">Example: Consider a 6TiSCH network with time-slot length of 10 ms.
     Let the time units be ASNs (TU == (binary)0b10).  Let the
     current ASN when the packet is originated be 54400, and the
            maximum allowable delay (max_delay) for the packet delivery be 1
     second from the packet origination, then:<a class="pilcrow" href="#section-5-23">¶</a></p>
<p id="section-5-24" style="margin-left: 3.0em"> deadline_time = packet_origination_time + max_delay<a class="pilcrow" href="#section-5-24">¶</a></p>
<p id="section-5-25" style="margin-left: 4.5em"> = 0xD480 + 0x64 (Network ASNs)<a class="pilcrow" href="#section-5-25">¶</a></p>
<p id="section-5-26" style="margin-left: 4.5em"> = 0xD4E4 (Network ASNs)<a class="pilcrow" href="#section-5-26">¶</a></p>
<p id="section-5-27" style="margin-left: 3.0em"> Then, the Deadline-6LoRHE encoding with nonzero OTL is:<a class="pilcrow" href="#section-5-27">¶</a></p>
<p id="section-5-28" style="margin-left: 4.5em"> DTL = 3, OTL = 2, TU = 0b10, BinaryPt = 8, DT = 0xD4E4, OTD = 0x64<a class="pilcrow" href="#section-5-28">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-deadline-6lorhe-in-three-ne">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-deadline-6lorhe-in-three-ne">Deadline-6LoRHE in Three Network Scenarios</a>
      </h2>
<p id="section-6-1">
 In this section, the Deadline-6LoRHE operation is described for three
 network scenarios.  <a class="xref" href="#fig3">Figure 4</a> depicts a
 constrained time-synchronized LLN that has two subnets, N1 and N2,
 connected through 6LoWPAN Border Routers (6LBRs) <span>[<a class="xref" href="#RFC8929">RFC8929</a>]</span>
 with different reference clock times, T1 and T2.<a class="pilcrow" href="#section-6-1">¶</a></p>
<span id="name-intra-network-time-zone-sce"></span><div id="fig3">
<figure id="figure-4">
        <div class="artwork art-text alignLeft" id="section-6-2.1">
<pre>                       +-------------------+
                       | Time-Synchronized |
                       |      Network      |
                       +---------+---------+
                                 |
                                 |
                                 |
                  +--------------+--------------+
                  |                             |
               +-----+                       +-----+
               |     | Backbone              |     | Backbone
          o    |     | router                |     | router
               +-----+                       +-----+
          o                  o               o
              o    o   o               o  o   o  o   o  o
         o      LLN    o                 o  LLN   o  o
            o   o    o      o             o o o     o  o
      6LoWPAN Network (subnet N1)   6LoWPAN Network (subnet N2)
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-intra-network-time-zone-sce">Intra-Network Time Zone Scenario</a>
        </figcaption></figure>
</div>
<section id="section-6.1">
        <h3 id="name-scenario-1-endpoints-in-the">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-scenario-1-endpoints-in-the">Scenario 1: Endpoints in the Same DODAG (N1)</a>
        </h3>
<p id="section-6.1-1">
 In Scenario 1, shown in <a class="xref" href="#fig4">Figure 5</a>, the Sender 'S' has an
 IP datagram to be routed to a Receiver 'R' within
 the same Destination-Oriented Directed Acyclic Graph (DODAG).  
        For the route segment from the sender to the 6LBR, the sender
 includes a Deadline-6LoRHE by encoding the deadline time
 contained in the packet. Subsequently, each 6LR will perform hop-by-hop
 routing to forward the packet towards the 6LBR.  Once the 6LBR receives
 the IP datagram, it sends the packet downstream towards 'R'.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">
 In the case of a network running in RPL non-storing mode, the 6LBR generates
 an IPv6-in-IPv6 encapsulated packet when sending the packet downwards
 to the receiver <span>[<a class="xref" href="#RFC9008">RFC9008</a>]</span>.
 The 6LBR copies the Deadline-6LoRHE from the sender-originated IP
 header to the outer IP header. The Deadline-6LoRHE contained in
 the inner IP header is removed.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
<span id="name-endpoints-within-the-same-d"></span><div id="fig4">
<figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-6.1-3.1">
<pre>                           +-------+
                ^          | 6LBR  |       |
                |          |       |       |
                |          +-------+       |
        Upward  |         /      /| \      | Downward
        routing |      (F)      / |  \     | routing
                |     /  \    (C) |  (D)   |
                |    /    \    |  | / |\   |
                |  (A)    (B)  : (E)  : R  |
                |  /|\     | \   / \       |
                | S : :    : :  :  :       v</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-endpoints-within-the-same-d">Endpoints within the Same DODAG (Subnet N1)</a>
          </figcaption></figure>
</div>
<p id="section-6.1-4">
 At the tunnel endpoint of the encapsulation, the
 Deadline-6LoRHE is copied back from the outer header to inner
 header, and the inner IP packet is delivered to 'R'.<a class="pilcrow" href="#section-6.1-4">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-scenario-2-endpoints-in-net">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-scenario-2-endpoints-in-net">Scenario 2: Endpoints in Networks with Dissimilar L2 Technologies</a>
        </h3>
<p id="section-6.2-1">
 In Scenario 2, shown in <a class="xref" href="#fig5">Figure 6</a>,
 the Sender 'S' (belonging to DODAG 1) has an IP datagram to be routed to
 a Receiver 'R' over a time-synchronized IPv6 network.  For the route
 segment from 'S' to 6LBR, 'S' includes a Deadline-6LoRHE.
 Subsequently, each 6LR will perform hop-by-hop routing to forward the
 packet towards the 6LBR.  Once the deadline time information reaches
 the 6LBR, the packet will be encoded according to the
 mechanism prescribed in the other time-synchronized network depicted
 as "Time-Synchronized Network" in <a class="xref" href="#fig5">Figure 6</a>.
  The specific data encapsulation mechanisms followed in the new network  
 are beyond the scope of this document.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<span id="name-packet-transmission-in-diss"></span><div id="fig5">
<figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-6.2-2.1">
<pre>                           +----------------+
                           | Time-          |
                           | Synchronized   |------R
                           | Network        |
                           +----------------+
                                   |
                                   |
                         ----------+-----------
                  ^                |
                  |            +---+---+
                  |            | 6LBR  |
         Upward   |            |       |
         routing  |            +------++
                  |        (F)/      /| \
                  |       /  \      / |  \
                  |      /    \   (C) |  (D)
                  |    (A)    (B)  |  | / |\
                  |    /|\     |\  : (E)  : :
                  |   S : :    : :   / \
                                    :   :
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-packet-transmission-in-diss">Packet Transmission in Dissimilar L2 Technologies or Internet</a>
          </figcaption></figure>
</div>
<p id="section-6.2-3">
 For instance, the IP datagram could be routed to another time-synchronized, 
        deterministic network using the mechanism specified in
 In-situ Operations, Administration, and Maintenance (IOAM)  
        <span>[<a class="xref" href="#I-D.ietf-ippm-ioam-data">IOAM-DATA</a>]</span>, and then
 the deadline time would be updated according to the measurement
 of the current time in the new network.<a class="pilcrow" href="#section-6.2-3">¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-scenario-3-packet-transmiss">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-scenario-3-packet-transmiss">Scenario 3: Packet Transmission across Different DODAGs (N1 to N2)</a>
        </h3>
<p id="section-6.3-1">
 Consider the scenario depicted in <a class="xref" href="#fig6">Figure 7</a>, in which
 the Sender 'S' (belonging to DODAG 1) has an IP datagram to be
 sent to Receiver 'R' belonging to another DODAG (DODAG 2).  The
 operation of this scenario can be decomposed into a combination of 
 Scenarios 1 and 2. For the route segment from 'S' to 6LBR1,
 'S' includes the Deadline-6LoRHE.  Subsequently, each 6LR will
 perform hop-by-hop operations to forward the packet towards 6LBR1.
 Once the IP datagram reaches 6LBR1 of DODAG1, 6LBR1 applies the same rule
 as described in Scenario 2 while routing the packet to 6LBR2 over a (likely)
 time-synchronized wired backhaul.  The wired side of 6LBR2 can be mapped
 to the receiver of Scenario 2. Once the packet reaches 6LBR2, it updates the
 Deadline-6LoRHE by adding or subtracting the difference of time of
 DODAG2 and sends the packet downstream towards 'R'.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<span id="name-packet-transmission-in-diff"></span><div id="fig6">
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-6.3-2.1">
<pre>                 Time-Synchronized Network
               -+---------------------------+-
                |                           |
   DODAG1   +---+---+                   +---+---+   DODAG2
            | 6LBR1 |                   | 6LBR2 |
            |       |                   |       |
            +-------+                   +-------+
        (F)/      /| \              (F)/      /| \
       /  \      / |  \            /  \      / |  \
      /    \   (C) |  (D)         /    \   (C) |  (D)
    (A)    (B)  |  | / |\       (A)    (B)  |  |   |\
    /|\     |\  : (E)  : :      /|\     |\  : (E)  : :
   S : :    : :   / \          : : :    : :   / \
                 :   :                       :   R
Network N1, time zone T1      Network N2, time zone T2
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-packet-transmission-in-diff">Packet Transmission in Different DODAGs (N1 to N2)</a>
          </figcaption></figure>
</div>
<p id="section-6.3-3">
 Consider an example of a 6TiSCH network in which S in DODAG1
 generates the packet at ASN 20000 to R in DODAG2. Let the maximum
 allowable delay be 1 second. The time-slot length in DODAG1 and DODAG2
 is assumed to be 10 ms.  Once the deadline time is encoded in
 Deadline-6LoRHE, the packet is forwarded to 6LBR1 of DODAG1.
 Suppose the packet reaches 6LBR1 of DODAG1 at ASN 20030.<a class="pilcrow" href="#section-6.3-3">¶</a></p>
<p id="section-6.3-4" style="margin-left: 1.5em"> current_time = ASN at 6LBR * slot_length_value<a class="pilcrow" href="#section-6.3-4">¶</a></p>
<p id="section-6.3-5" style="margin-left: 1.5em"> remaining_time = deadline_time - current_time<a class="pilcrow" href="#section-6.3-5">¶</a></p>
<p id="section-6.3-6" style="margin-left: 3.0em"> = ((packet_origination_time + max_delay) - current time)<a class="pilcrow" href="#section-6.3-6">¶</a></p>
<p id="section-6.3-7" style="margin-left: 3.0em"> = (20000 + 100) - 20030<a class="pilcrow" href="#section-6.3-7">¶</a></p>
<p id="section-6.3-8" style="margin-left: 3.0em"> = 30 (in Network ASNs)<a class="pilcrow" href="#section-6.3-8">¶</a></p>
<p id="section-6.3-9" style="margin-left: 3.0em"> = 30 * 10<sup>3</sup> milliseconds<a class="pilcrow" href="#section-6.3-9">¶</a></p>
<p id="section-6.3-10">
 Once the deadline time information reaches 6LBR2,
 the packet will be encoded according to the mechanism prescribed
 in the other time-synchronized network.<a class="pilcrow" href="#section-6.3-10">¶</a></p>
</section>
</section>
<div id="iana">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">
 This document defines a new Elective 6LoWPAN Routing Header Type,
 and IANA has assigned the value 7 from the 6LoWPAN
 Dispatch Page 1 number space for this purpose.<a class="pilcrow" href="#section-7-1">¶</a></p>
<span id="name-entry-in-the-elective-6lowp"></span><div id="iana_reg">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-entry-in-the-elective-6lowp">Entry in the "Elective 6LoWPAN Routing Header Type" Registry</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Value</th>
            <th class="text-left" colspan="1" rowspan="1">Description</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">7</td>
            <td class="text-left" colspan="1" rowspan="1">Deadline-6LoRHE</td>
            <td class="text-left" colspan="1" rowspan="1">RFC 9034</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="sync">
<section id="section-8">
      <h2 id="name-synchronization-aspects">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-synchronization-aspects">Synchronization Aspects</a>
      </h2>
<p id="section-8-1">
 The document supports time representation of the deadline and
 origination times carried in the packets traversing networks
 of different time zones having different time-synchronization
 mechanisms. For instance, in a 6TiSCH network where the time is
 maintained as ASN time slots, the time synchronization is achieved
 through beaconing among the nodes as described in
 <span>[<a class="xref" href="#RFC7554">RFC7554</a>]</span>.
 There could be 6lo networks that employ NTP where the nodes are
 synchronized with an external reference clock from an NTP server.
 The specification of the time-synchronization method that needs to
 be followed by a network is beyond the scope of the document.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2"> 
 The number of hex digits chosen to represent DT, and the portion of
 that field allocated to represent the integer number of seconds, determines
 the meaning of t<sub>0</sub>, i.e., the meaning of DT == 0 in the chosen
 representation.  If DTL == 0, then there are only 4 bits that can
 be used to count the time units, so that DT == 0 can never be more
 than 16 time units (or fractional time units) in the past.  This then
 requires that the time
 synchronization between sender and receiver has to be tighter than
 16 units.  If the binary point were moved so that all the bits
 were used for fractional time units (e.g., fractional seconds or
 fractional ASNs), the time-synchronization requirement would be
 correspondingly tighter.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3"> 
 A 4-bit field for DT allows up to 16 hex digits, which is 64 bits.
 That is enough to represent the NTP 64-bit timestamp format <span>[<a class="xref" href="#RFC5905">RFC5905</a>]</span>,
 which is more than enough for the purposes
 of establishing deadline times.  Unless the binary point is moved,
 this is enough to represent time since year 1900.<a class="pilcrow" href="#section-8-3">¶</a></p>
<p id="section-8-4"> 
 For example, suppose that DTL = 0b0000 and the DT bits are split
 evenly; then we can count up to 3.75 seconds by quarter-seconds.<a class="pilcrow" href="#section-8-4">¶</a></p>
<p id="section-8-5"> 
 If DTL = 3 and the DT bits are again split evenly, then we can count
 up to 256 seconds (in steps of 1/256 of a second).<a class="pilcrow" href="#section-8-5">¶</a></p>
<p id="section-8-6"> 
 In all cases, t<sub>0</sub> is defined as specified in <a class="xref" href="#Format">Section 5</a>.<a class="pilcrow" href="#section-8-6">¶</a></p>
<p id="section-8-7" style="margin-left: 1.5em">t<sub>0</sub> = [current_time - (current_time mod (2<sup>4*(DTL+1)</sup>))]<a class="pilcrow" href="#section-8-7">¶</a></p>
<p id="section-8-8">
 regardless of the choice of TU.<a class="pilcrow" href="#section-8-8">¶</a></p>
<p id="section-8-9"> 

 For TU = 0b00, the time units are seconds.  With DTL == 15,
 and BinaryPt == 0, the epoch is (by default) January 1,
 1900, at 00:00 UTC.  The resolution is then 2<sup>-32</sup> seconds,
 which is the maximum possible.
 This time format wraps around every 2<sup>32</sup> seconds, which is
 roughly 136 years.<a class="pilcrow" href="#section-8-9">¶</a></p>
<p id="section-8-10"> 
 For TU = 0b10, the time units are ASNs.  The start time is relative,
 and updated by a mechanism that is out of scope for this document.
 With 10 ms slots, DTL = 15, and BinaryPt == 0, it would take over
 a year for the ASN to wrap around.  Typically, the number of hex
 digits allocated for TU = 0b10 would be less than 15.<a class="pilcrow" href="#section-8-10">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">
 The security considerations of 
        <span>[<a class="xref" href="#RFC4944">RFC4944</a>] (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc4944#section-13">Section 13</a>)</span>,
 <span>[<a class="xref" href="#RFC6282">RFC6282</a>] (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc6282#section-6">Section 6</a>)</span>, and 
        <span>[<a class="xref" href="#RFC6553">RFC6553</a>] (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc6553#section-5">Section 5</a>)</span> apply.
 Using a compressed format as opposed to the full inline format is
 logically equivalent and does not create an opening for a new threat
 when compared to <span>[<a class="xref" href="#RFC6550">RFC6550</a>]</span>, <span>[<a class="xref" href="#RFC6553">RFC6553</a>]</span>,
 and <span>[<a class="xref" href="#RFC6554">RFC6554</a>]</span>.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">
 The protocol elements specified in this document are designed to work
 in controlled operational environments (e.g., industrial process
 control and automation).  In order to avoid misuse of the deadline
 information that could potentially result in a Denial of Service (DoS)
 attack, proper functioning of this deadline time mechanism requires
 the provisioning and management of network resources for supporting 
 traffic flows with deadlines, performance monitoring, and admission
 control policy enforcement.  The network provisioning can be done
 either centrally or in a distributed fashion.  For example, tracks in
 a 6TiSCH network could be established by a centralized Path Computation Element (PCE), as
 described in the 6TiSCH architecture
 <span>[<a class="xref" href="#RFC9030">RFC9030</a>]</span>.<a class="pilcrow" href="#section-9-2">¶</a></p>
<p id="section-9-3">
 The security considerations of DetNet architecture
 <span>[<a class="xref" href="#RFC8655">RFC8655</a>] (<a class="relref" href="https://www.rfc-editor.org/rfc/rfc8655#section-5">Section 5</a>)</span> mostly apply to
 this document as well, as follows.  To secure the request and control
 of resources allocated for tracks, authentication and authorization
 can be used for each device and network controller devices.
 In the case of distributed control protocols, security is expected
 to be provided by the security properties of the protocols in use.<a class="pilcrow" href="#section-9-3">¶</a></p>
<p id="section-9-4">
          The identification of deadline-bearing flows on a per-flow basis 
          may provide attackers with additional information about the data
          flows compared to networks that do not include per-flow
          identification. The security implications of disclosing that additional 
          information deserve consideration when implementing this deadline 
          specification.<a class="pilcrow" href="#section-9-4">¶</a></p>
<p id="section-9-5">
 Because of the requirement of precise time synchronization, the
 accuracy, availability, and integrity of time synchronization is of
 critical importance.  Extensive discussion of this topic can be found
 in <span>[<a class="xref" href="#RFC7384">RFC7384</a>]</span>.<a class="pilcrow" href="#section-9-5">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4944">[RFC4944]</dt>
        <dd>
<span class="refAuthor">Montenegro, G.</span>, <span class="refAuthor">Kushalnagar, N.</span>, <span class="refAuthor">Hui, J.</span>, and <span class="refAuthor">D. Culler</span>, <span class="refTitle">"Transmission of IPv6 Packets over IEEE 802.15.4 Networks"</span>, <span class="seriesInfo">RFC 4944</span>, <span class="seriesInfo">DOI 10.17487/RFC4944</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4944">https://www.rfc-editor.org/info/rfc4944</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
        <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6282">[RFC6282]</dt>
        <dd>
<span class="refAuthor">Hui, J., Ed.</span> and <span class="refAuthor">P. Thubert</span>, <span class="refTitle">"Compression Format for IPv6 Datagrams over IEEE 802.15.4-Based Networks"</span>, <span class="seriesInfo">RFC 6282</span>, <span class="seriesInfo">DOI 10.17487/RFC6282</span>, <time class="refDate" datetime="2011-09">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6282">https://www.rfc-editor.org/info/rfc6282</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6550">[RFC6550]</dt>
        <dd>
<span class="refAuthor">Winter, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Brandt, A.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Kelsey, R.</span>, <span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Struik, R.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">R. Alexander</span>, <span class="refTitle">"RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6550</span>, <span class="seriesInfo">DOI 10.17487/RFC6550</span>, <time class="refDate" datetime="2012-03">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6550">https://www.rfc-editor.org/info/rfc6550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6553">[RFC6553]</dt>
        <dd>
<span class="refAuthor">Hui, J.</span> and <span class="refAuthor">JP. Vasseur</span>, <span class="refTitle">"The Routing Protocol for Low-Power and Lossy Networks (RPL) Option for Carrying RPL Information in Data-Plane Datagrams"</span>, <span class="seriesInfo">RFC 6553</span>, <span class="seriesInfo">DOI 10.17487/RFC6553</span>, <time class="refDate" datetime="2012-03">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6553">https://www.rfc-editor.org/info/rfc6553</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6554">[RFC6554]</dt>
        <dd>
<span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Vasseur, JP.</span>, <span class="refAuthor">Culler, D.</span>, and <span class="refAuthor">V. Manral</span>, <span class="refTitle">"An IPv6 Routing Header for Source Routes with the Routing Protocol for Low-Power and Lossy Networks (RPL)"</span>, <span class="seriesInfo">RFC 6554</span>, <span class="seriesInfo">DOI 10.17487/RFC6554</span>, <time class="refDate" datetime="2012-03">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6554">https://www.rfc-editor.org/info/rfc6554</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7384">[RFC7384]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"Security Requirements of Time Protocols in Packet Switched Networks"</span>, <span class="seriesInfo">RFC 7384</span>, <span class="seriesInfo">DOI 10.17487/RFC7384</span>, <time class="refDate" datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7384">https://www.rfc-editor.org/info/rfc7384</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7554">[RFC7554]</dt>
        <dd>
<span class="refAuthor">Watteyne, T., Ed.</span>, <span class="refAuthor">Palattella, M.</span>, and <span class="refAuthor">L. Grieco</span>, <span class="refTitle">"Using IEEE 802.15.4e Time-Slotted Channel Hopping (TSCH) in the Internet of Things (IoT): Problem Statement"</span>, <span class="seriesInfo">RFC 7554</span>, <span class="seriesInfo">DOI 10.17487/RFC7554</span>, <time class="refDate" datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7554">https://www.rfc-editor.org/info/rfc7554</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8138">[RFC8138]</dt>
        <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Toutain, L.</span>, and <span class="refAuthor">R. Cragie</span>, <span class="refTitle">"IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Routing Header"</span>, <span class="seriesInfo">RFC 8138</span>, <span class="seriesInfo">DOI 10.17487/RFC8138</span>, <time class="refDate" datetime="2017-04">April 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8138">https://www.rfc-editor.org/info/rfc8138</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8655">[RFC8655]</dt>
        <dd>
<span class="refAuthor">Finn, N.</span>, <span class="refAuthor">Thubert, P.</span>, <span class="refAuthor">Varga, B.</span>, and <span class="refAuthor">J. Farkas</span>, <span class="refTitle">"Deterministic Networking Architecture"</span>, <span class="seriesInfo">RFC 8655</span>, <span class="seriesInfo">DOI 10.17487/RFC8655</span>, <time class="refDate" datetime="2019-10">October 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8655">https://www.rfc-editor.org/info/rfc8655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9030">[RFC9030]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refTitle">"An Architecture for IPv6 over the Time-Slotted Channel Hopping Mode of IEEE 802.15.4 (6TiSCH)"</span>, <span class="seriesInfo">RFC 9030</span>, <span class="seriesInfo">DOI 10.17487/RFC9030</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9030">https://www.rfc-editor.org/info/rfc9030</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-6lo-blemesh">[6LO-BLEMESH]</dt>
        <dd>
<span class="refAuthor">Gomez, C.</span>, <span class="refAuthor">Darroudi, S. M.</span>, <span class="refAuthor">Savolainen, T.</span>, and <span class="refAuthor">M. Spoerk</span>, <span class="refTitle">"IPv6 Mesh over BLUETOOTH(R) Low Energy using IPSP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6lo-blemesh-10</span>, <time class="refDate" datetime="2021-04-22">22 April 2021</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-6lo-blemesh-10">https://tools.ietf.org/html/draft-ietf-6lo-blemesh-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE-BLE-MESH">[IEEE-BLE-MESH]</dt>
        <dd>
<span class="refAuthor">Leonardi, L.</span>, <span class="refAuthor">Patti, G.</span>, and <span class="refAuthor">L. Lo Bello</span>, <span class="refTitle">"Multi-Hop Real-Time Communications Over Bluetooth Low Energy Industrial Wireless Mesh Networks"</span>, <span class="refContent">IEEE Access, Vol 6, pp. 26505-26519</span>, <span class="seriesInfo">DOI 10.1109/ACCESS.2018.2834479</span>, <time class="refDate" datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://doi.org/10.1109/ACCESS.2018.2834479">https://doi.org/10.1109/ACCESS.2018.2834479</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.1588.2008">[IEEE.1588.2008]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control Systems"</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2008.4579760</span>, <time class="refDate" datetime="2008-07">July 2008</time>, <span>&lt;<a href="https://doi.org/10.1109/IEEESTD.2008.4579760">https://doi.org/10.1109/IEEESTD.2008.4579760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.802.15.4">[IEEE.802.15.4]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Low-Rate Wireless Networks"</span>, <span class="seriesInfo">IEEE Standard 802.15.4-2015</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2016.7460875</span>, <time class="refDate" datetime="2016-04">April 2016</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/7460875">https://ieeexplore.ieee.org/document/7460875</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.802.1AS.2011">[IEEE.802.1AS.2011]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and Metropolitan Area Networks - Timing and Synchronization for Time-Sensitive Applications in Bridged Local Area Networks"</span>, <span class="refContent">IEEE Std 802.1AS-2011</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2011.5741898</span>, <time class="refDate" datetime="2011-03">March 2011</time>, <span>&lt;<a href="https://doi.org/10.1109/IEEESTD.2011.5741898">https://doi.org/10.1109/IEEESTD.2011.5741898</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-ippm-ioam-data">[IOAM-DATA]</dt>
        <dd>
<span class="refAuthor">Brockners, F., Ed.</span>, <span class="refAuthor">Bhandari, S., Ed.</span>, and <span class="refAuthor">T. Mizrahi, Ed.</span>, <span class="refTitle">"Data Fields for In-situ OAM"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-ioam-data-12</span>, <time class="refDate" datetime="2021-02-21">21 February 2021</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-ippm-ioam-data-12">https://tools.ietf.org/html/draft-ietf-ippm-ioam-data-12</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="PHY-SPEC">[PHY-SPEC]</dt>
        <dd>
<span class="refAuthor">Wi-SUN Alliance</span>, <span class="refTitle">"Wi-SUN PHY Specification V1.0"</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="http://wi-sun.org">http://wi-sun.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8578">[RFC8578]</dt>
        <dd>
<span class="refAuthor">Grossman, E., Ed.</span>, <span class="refTitle">"Deterministic Networking Use Cases"</span>, <span class="seriesInfo">RFC 8578</span>, <span class="seriesInfo">DOI 10.17487/RFC8578</span>, <time class="refDate" datetime="2019-05">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8578">https://www.rfc-editor.org/info/rfc8578</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8929">[RFC8929]</dt>
        <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Perkins, C.E.</span>, and <span class="refAuthor">E. Levy-Abegnoli</span>, <span class="refTitle">"IPv6 Backbone Router"</span>, <span class="seriesInfo">RFC 8929</span>, <span class="seriesInfo">DOI 10.17487/RFC8929</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8929">https://www.rfc-editor.org/info/rfc8929</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9008">[RFC9008]</dt>
        <dd>
<span class="refAuthor">Robles, M.I.</span>, <span class="refAuthor">Richardson, M.</span>, and <span class="refAuthor">P. Thubert</span>, <span class="refTitle">"Using RPI Option Type, Routing Header for Source Routes, and IPv6-in-IPv6 Encapsulation in the RPL Data Plane"</span>, <span class="seriesInfo">RFC 9008</span>, <span class="seriesInfo">DOI 10.17487/RFC9008</span>, <time class="refDate" datetime="2021-04">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9008">https://www.rfc-editor.org/info/rfc9008</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Wi-SUN">[Wi-SUN]</dt>
      <dd>
<span class="refAuthor">Harada, H.</span>, <span class="refAuthor">Mizutani, K.</span>, <span class="refAuthor">Fujiwara, J.</span>, <span class="refAuthor">Mochizuki, K.</span>, <span class="refAuthor">Obata, K.</span>, and <span class="refAuthor">R. Okumura</span>, <span class="refTitle">"IEEE 802.15.4g Based Wi-SUN Communication Systems"</span>, <span class="refContent">IEICE Transactions on Communications</span>, <span class="refContent">Volume E100.B, Issue 7, pp. 1032-1043</span>, <span class="seriesInfo">DOI 10.1587/transcom.2016SCI0002</span>, <time class="refDate" datetime="2017-01">January 2017</time>, <span>&lt;<a href="https://doi.org/10.1587/transcom.2016SCI0002">https://doi.org/10.1587/transcom.2016SCI0002</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="modular">
<section id="section-appendix.a">
      <h2 id="name-modular-arithmetic-consider">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-modular-arithmetic-consider">Modular Arithmetic Considerations</a>
      </h2>
<p id="section-appendix.a-1">
 Graphically, one might visualize the timeline as follows:<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<span id="name-absolute-timeline-represent"></span><div id="fig7">
<figure id="figure-8">
        <div class="artwork art-text alignLeft" id="section-appendix.a-2.1">
<pre>           OT_abs        CT_abs        DT_abs
      -------|-------------|-------------|------------------&gt;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-absolute-timeline-represent">Absolute Timeline Representation</a>
        </figcaption></figure>
</div>
<p id="section-appendix.a-3">
 In <a class="xref" href="#fig7">Figure 8</a>, the value of CT_abs is envisioned
 as traveling to the right as time progresses, getting farther away
 from OT_abs and getting closer to DT_abs.   The timeline is considered
 to be subdivided into time subintervals [i,j] starting and ending at
 absolute times equal to k*(2^N), for integer values of k.  Let
 I_k = k*(2^N) and I_(k+1) = (k+1)*2^N.  Intervals starting at I_k
 and I_(k+1) may occur at various placements in the above timeline.
 Even though OT_abs is <em>always</em> less than DT_abs, it could be that
 DT &lt; OT because of the way that DT and OT are represented within
 the range [0, 2^N) and similarly for CT_abs and CT compared to OT and DT.<a class="pilcrow" href="#section-appendix.a-3">¶</a></p>
<p id="section-appendix.a-4">
 Representing the above situation in time segments of length 2^N
 (and values OT, CT, DT) results in several cases where the deadline
 time has not elapsed:<a class="pilcrow" href="#section-appendix.a-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-appendix.a-5">
        <dt id="section-appendix.a-5.1">  1) OT &lt; CT &lt; DT </dt>
        <dd id="section-appendix.a-5.2" style="margin-left: 1.5em"> (e.g., I_k &lt; OT_abs &lt;  CT_abs  &lt;  DT_abs  &lt;  I_(k+1) )<a class="pilcrow" href="#section-appendix.a-5.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-appendix.a-5.3"> 2) DT &lt; OT &lt; CT </dt>
        <dd id="section-appendix.a-5.4" style="margin-left: 1.5em">(e.g., I_k &lt; OT_abs &lt; CT_abs  &lt; I_(k+1) &lt; DT_abs )<a class="pilcrow" href="#section-appendix.a-5.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-appendix.a-5.5"> 3) CT &lt; DT &lt; OT </dt>
        <dd id="section-appendix.a-5.6" style="margin-left: 1.5em"> (e.g., I_k &lt; OT_abs &lt; I_(k+1) &lt; CT_abs  &lt; DT_abs )<a class="pilcrow" href="#section-appendix.a-5.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-appendix.a-6">
     In the following cases, the deadline time has elapsed and the
     packet should be dropped.<a class="pilcrow" href="#section-appendix.a-6">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-appendix.a-7">
        <dt id="section-appendix.a-7.1"> 4) DT &lt; CT &lt; OT </dt>
        <dd id="section-appendix.a-7.2" style="margin-left: 1.5em"></dd>
        <dd class="break"></dd>
<dt id="section-appendix.a-7.3"> 5) OT &lt; DT &lt; CT </dt>
        <dd id="section-appendix.a-7.4" style="margin-left: 1.5em"></dd>
        <dd class="break"></dd>
<dt id="section-appendix.a-7.5"> 6) CT &lt; OT &lt; DT </dt>
        <dd id="section-appendix.a-7.6" style="margin-left: 1.5em"></dd>
      <dd class="break"></dd>
</dl>
<p id="section-appendix.a-8">
 Again in <a class="xref" href="#fig7">Figure 8</a>, consider CT_abs as time
 moving away from OT_abs and towards DT_abs.
 For times CT_abs before the expiration of the deadline time, we also
 have CT_abs - OT_abs == CT - OT mod 2^N and similarly for DT_abs -
 CT_abs.<a class="pilcrow" href="#section-appendix.a-8">¶</a></p>
<p id="section-appendix.a-9">
 As time proceeds, DT_abs - CT_abs gets smaller.  When the deadline time
 expires, DT_abs - CT_abs begins to grow negative.  A proper selection
 for SAFETY_FACTOR allows it to go
 <em>slightly negative</em> but for an intermediate point to <em>detect</em> that it
 has gone negative.
 Note that in modular arithmetic, "slightly negative" means <em>exactly</em>
 the same as "almost as large as the modulus (i.e., 2^N)".
 Now consider the test condition
 ((CT - DT) mod 2^N) &gt; SAFETY_FACTOR*2^N.<a class="pilcrow" href="#section-appendix.a-9">¶</a></p>
<p id="section-appendix.a-10">
 (DT_abs - OT_abs) &lt;  2^N*(1-SAFETY_FACTOR) satisfies the test
 condition when CT_abs == OT_abs (i.e., when the packet is launched).
 In modular arithmetic, 2^N*(1-SAFETY_FACTOR) ==
 2^N - 2^N*SAFETY_FACTOR  == -2^N*(SAFETY_FACTOR).
 Then DT_abs - OT_abs &lt; -2^N*(1-SAFETY_FACTOR).
 Inverting the inequality,
 OT_abs - DT_abs &gt; 2^N*(1-SAFETY_FACTOR), and thus at
 launch CT_abs - DT_abs &gt; 2^N*(1-SAFETY_FACTOR).<a class="pilcrow" href="#section-appendix.a-10">¶</a></p>
<p id="section-appendix.a-11">
 As CT_abs grows larger, CT_abs - DT_abs gets LARGER in (non-negative)
 modular arithmetic until the time at which CT_ABS == DT_ABS, and
 suddenly CT_ABS - DT_abs becomes zero.  Also suddenly, the test
 condition is no longer fulfilled.<a class="pilcrow" href="#section-appendix.a-11">¶</a></p>
<p id="section-appendix.a-12">
 As CT_abs grows still larger, CT_abs &gt; DT_abs, and we need to detect
 this condition as soon as possible.  Requiring the SAFETY_FACTOR
 enables this detection until CT_abs exceeds DT_abs
 by an amount equal to SAFETY_FACTOR*2^N.<a class="pilcrow" href="#section-appendix.a-12">¶</a></p>
<p id="section-appendix.a-13">
 A note about "inverting the inequality".  Observe that a &lt; b
 implies that -a &gt; -b on the real number line.  Also,
 (a - b) == -(b - a).  These facts hold also for modular arithmetic.<a class="pilcrow" href="#section-appendix.a-13">¶</a></p>
<p id="section-appendix.a-14">
 During the times prior to the expiration of the deadline, for
 Safe = 2^N*SAFETY_FACTOR we have:<a class="pilcrow" href="#section-appendix.a-14">¶</a></p>
<p id="section-appendix.a-15" style="margin-left: 3.0em">
(DT_abs - 2^N)  &lt; OT_abs  &lt;  CT_abs  &lt;  DT_abs  &lt;  DT_abs+Safe<a class="pilcrow" href="#section-appendix.a-15">¶</a></p>
<p id="section-appendix.a-16">
 Naturally, DT_abs - 2^N  ==  DT_abs mod 2^N == DT.<a class="pilcrow" href="#section-appendix.a-16">¶</a></p>
<p id="section-appendix.a-17">
 Again considering <a class="xref" href="#fig7">Figure 8</a>,  it is easy to see
 that {CT_abs - (DT_abs - 2^N)} gets larger and larger until the time
 at which CT_abs = DT_abs, which is the first time at which
 CT - DT == 0 mod 2^N.  As CT_abs increases past the deadline time,
 0 &lt; CT_abs - DT_abs &lt; Safe.  In this range, any intermediate
 node can detect that the deadline has expired.  As CT_abs increases
 past DT_abs+Safe, it is no longer possible for an intermediate node
 to determine with certainty whether or not the deadline time has
 expired.  These statements
 also apply when reduced to modular arithmetic in the modulus 2^N.<a class="pilcrow" href="#section-appendix.a-17">¶</a></p>
<p id="section-appendix.a-18">
 In particular, the test condition no longer allows
 detection of deadline expiration when the current
 time becomes later than (DT_abs+Safe).  In order to maintain
 correctness even for packets that are forwarded after expiration
 (i.e., the 'D' flag), N has to be chosen to be so large that
 the test condition will not fail -- i.e., that in all scenarios
 of interest, the packet will be dropped before the current time
 becomes equal to DT_abs+2^N*SAFETY_FACTOR.<a class="pilcrow" href="#section-appendix.a-18">¶</a></p>
</section>
</div>
<section id="section-appendix.b">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="section-appendix.b-1">
 The authors thank <span class="contact-name">Pascal Thubert</span> for suggesting the idea and
 encouraging the work. Thanks to <span class="contact-name">Shwetha Bhandari</span>'s suggestions, which
 were instrumental in extending the timing information to heterogeneous
 networks. The authors acknowledge the 6TiSCH WG members for their
 inputs on the mailing list.  Special thanks to
 <span class="contact-name">Jerry Daniel</span>,
 <span class="contact-name">Dan Frost</span> (Routing Directorate),
 <span class="contact-name">Charlie Kaufman</span> (Security Directorate),
 <span class="contact-name">Seema Kumar</span>,
 <span class="contact-name">Tal Mizrahi</span>,
 <span class="contact-name">Avinash Mohan</span>,
 <span class="contact-name">Shalu Rajendran</span>,
 <span class="contact-name">Anita Varghese</span>, and 
                <span class="contact-name">Dale Worley</span> (General Area Review Team (Gen-ART) review)
 for their support and valuable feedback.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Lijo Thomas</span></div>
<div class="left" dir="auto"><span class="org">Centre for Development of Advanced Computing</span></div>
<div class="left" dir="auto"><span class="street-address">Vellayambalam</span></div>
<div class="left" dir="auto">
<span class="locality">Trivandrum</span> <span class="postal-code">695033</span>
</div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lijo@cdac.in">lijo@cdac.in</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Satish Anamalamudi</span></div>
<div class="left" dir="auto"><span class="org">SRM University-AP</span></div>
<div class="left" dir="auto"><span class="street-address">Amaravati Campus</span></div>
<div class="left" dir="auto">
<span class="locality">Amaravati, Andhra Pradesh</span> <span class="postal-code">522 502</span>
</div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:satishnaidu80@gmail.com">satishnaidu80@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">S.V.R. Anand</span></div>
<div class="left" dir="auto"><span class="org">Indian Institute of Science</span></div>
<div class="left" dir="auto">
<span class="locality">Bangalore</span> <span class="postal-code">560012</span>
</div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:anandsvr@iisc.ac.in">anandsvr@iisc.ac.in</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Malati Hegde</span></div>
<div class="left" dir="auto"><span class="org">Indian Institute of Science</span></div>
<div class="left" dir="auto">
<span class="locality">Bangalore</span> <span class="postal-code">560012</span>
</div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:malati@iisc.ac.in">malati@iisc.ac.in</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Charles E. Perkins</span></div>
<div class="left" dir="auto"><span class="org">Lupin Lodge</span></div>
<div class="left" dir="auto"><span class="street-address">20600 Aldercroft Heights Rd.</span></div>
<div class="left" dir="auto">
<span class="locality">Los Gatos</span>, <span class="region">CA</span> <span class="postal-code">95033</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:charliep@computer.org">charliep@computer.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>