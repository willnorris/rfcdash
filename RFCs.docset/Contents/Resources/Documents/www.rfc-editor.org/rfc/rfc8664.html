<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8664: Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing</title>
<meta content="Siva Sivabalan" name="author"/>
<meta content="Clarence Filsfils" name="author"/>
<meta content="Jeff Tantsura" name="author"/>
<meta content="Wim Henderickx" name="author"/>
<meta content="Jon Hardwick" name="author"/>
<meta content='
       Segment Routing (SR) enables any head-end node to select any path without relying on a hop-by-hop signaling technique (e.g., LDP or RSVP-TE). It depends only on "segments" that are advertised by link-state Interior Gateway Protocols (IGPs). An SR path can be derived from a variety of mechanisms, including an IGP Shortest Path Tree (SPT), an explicit configuration, or a Path Computation Element (PCE). This document specifies extensions to the Path Computation Element Communication Protocol (PCEP) that allow a stateful PCE to compute and initiate Traffic-Engineering (TE) paths, as well as a Path Computation Client (PCC) to request a path subject to certain constraints and optimization criteria in SR networks. 
       
This document updates RFC 8408.
 
    ' name="description"/>
<meta content="xml2rfc 2.35.0" name="generator"/>
<meta content="SR" name="keyword"/>
<meta content="Traffic-Engineering" name="keyword"/>
<meta content="PCE" name="keyword"/>
<meta content="8664" name="rfc.number"/>
<link href="rfc8664.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .sourcecode {
    margin-bottom: 1em;
  }
}</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8664" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-pce-segment-routing-16" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8664</td>
<td class="center">PCEP Extensions for Segment Routing</td>
<td class="right">December 2019</td>
</tr></thead>
<tfoot><tr>
<td class="left">Sivabalan, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8664">8664</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc8408">8408</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2019-12">December 2019</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Sivabalan</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">C. Filsfils</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">J. Tantsura</div>
<div class="org">Apstra, Inc.</div>
</div>
<div class="author">
      <div class="author-name">W. Henderickx</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">J. Hardwick</div>
<div class="org">Metaswitch Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8664</h1>
<h1 id="title">Path Computation Element Communication Protocol (PCEP) Extensions for Segment Routing</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">Segment Routing (SR) enables any head-end node to select any path without relying on a hop-by-hop signaling technique (e.g., LDP or RSVP-TE). It depends only on "segments" that are advertised by link-state Interior Gateway Protocols (IGPs). An SR path can be derived from a variety of mechanisms, including an IGP Shortest Path Tree (SPT), an explicit configuration, or a Path Computation Element (PCE). This document specifies extensions to the Path Computation Element Communication Protocol (PCEP) that allow a stateful PCE to compute and initiate Traffic-Engineering (TE) paths, as well as a Path Computation Client (PCC) to request a path subject to certain constraints and optimization criteria in SR networks.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">
This document updates RFC 8408.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8664">https://www.rfc-editor.org/info/rfc8664</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2019 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-overview-of-pcep-operation-">Overview of PCEP Operation in SR Networks</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-object-formats">Object Formats</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-the-open-object">The OPEN Object</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="xref" href="#section-4.1.1">4.1.1</a>.  <a class="xref" href="#name-the-path-setup-type-capabil">The Path Setup Type Capability TLV</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a class="xref" href="#section-4.1.2">4.1.2</a>.  <a class="xref" href="#name-the-sr-pce-capability-sub-t">The SR PCE Capability Sub-TLV</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-the-rp-srp-object">The RP/SRP Object</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-ero">ERO</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a class="xref" href="#section-4.3.1">4.3.1</a>.  <a class="xref" href="#name-sr-ero-subobject">SR-ERO Subobject</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.2">
                    <p id="section-toc.1-1.4.2.3.2.2.1"><a class="xref" href="#section-4.3.2">4.3.2</a>.  <a class="xref" href="#name-nai-associated-with-sid">NAI Associated with SID</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-rro">RRO</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-metric-object">METRIC Object</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-procedures">Procedures</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-exchanging-the-sr-pce-capab">Exchanging the SR PCE Capability</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-ero-processing">ERO Processing</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a class="xref" href="#section-5.2.1">5.2.1</a>.  <a class="xref" href="#name-sr-ero-validation">SR-ERO Validation</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a class="xref" href="#section-5.2.2">5.2.2</a>.  <a class="xref" href="#name-interpreting-the-sr-ero">Interpreting the SR-ERO</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-rro-processing">RRO Processing</a><a class="pilcrow" href="#section-toc.1-1.5.2.3.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-management-considerations">Management Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-controlling-the-path-setup-">Controlling the Path Setup Type</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-migrating-a-network-to-use-">Migrating a Network to Use PCEP Segment-Routed Paths</a><a class="pilcrow" href="#section-toc.1-1.6.2.2.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-verification-of-network-ope">Verification of Network Operation</a><a class="pilcrow" href="#section-toc.1-1.6.2.3.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.  <a class="xref" href="#name-relationship-to-existing-ma">Relationship to Existing Management Models</a><a class="pilcrow" href="#section-toc.1-1.6.2.4.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-pcep-ero-and-rro-subobjects">PCEP ERO and RRO Subobjects</a><a class="pilcrow" href="#section-toc.1-1.8.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-new-nai-type-registry">New NAI Type Registry</a><a class="pilcrow" href="#section-toc.1-1.8.2.2.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.  <a class="xref" href="#name-new-sr-ero-flag-registry">New SR-ERO Flag Registry</a><a class="pilcrow" href="#section-toc.1-1.8.2.3.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="xref" href="#section-8.4">8.4</a>.  <a class="xref" href="#name-pcep-error-object">PCEP-Error Object</a><a class="pilcrow" href="#section-toc.1-1.8.2.4.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a class="xref" href="#section-8.5">8.5</a>.  <a class="xref" href="#name-pcep-tlv-type-indicators">PCEP TLV Type Indicators</a><a class="pilcrow" href="#section-toc.1-1.8.2.5.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a class="xref" href="#section-8.6">8.6</a>.  <a class="xref" href="#name-path-setup-type-capability-">PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators</a><a class="pilcrow" href="#section-toc.1-1.8.2.6.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.7">
                <p id="section-toc.1-1.8.2.7.1"><a class="xref" href="#section-8.7">8.7</a>.  <a class="xref" href="#name-new-path-setup-type">New Path Setup Type</a><a class="pilcrow" href="#section-toc.1-1.8.2.7.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.8">
                <p id="section-toc.1-1.8.2.8.1"><a class="xref" href="#section-8.8">8.8</a>.  <a class="xref" href="#name-new-metric-type">New Metric Type</a><a class="pilcrow" href="#section-toc.1-1.8.2.8.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.8.2.9">
                <p id="section-toc.1-1.8.2.9.1"><a class="xref" href="#section-8.9">8.9</a>.  <a class="xref" href="#name-sr-pce-capability-flags">SR PCE Capability Flags</a><a class="pilcrow" href="#section-toc.1-1.8.2.9.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.9.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.9.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-compatibility-with-early-im">Compatibility with Early Implementations</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-contributors">Contributors</a><a class="pilcrow" href="#section-toc.1-1.12.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-appendix.d"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.13.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">Segment Routing (SR) leverages the source-routing paradigm. Using
SR, a source node steers a packet through a path without relying on
hop-by-hop signaling protocols such as LDP or RSVP-TE. Each path is
specified as an ordered list of instructions called "segments".  Each
segment is an instruction to route the packet to a specific place in
the network or to perform a function on the packet.  A database of
segments can be distributed through the network using a routing
protocol (such as IS-IS or OSPF) or by any other means.  Several types
of segments are defined. A node segment uniquely identifies a specific
node in the SR domain. Each router in the SR domain associates a node
segment with an ECMP-aware shortest path to the node that it
identifies. An adjacency segment represents a unidirectional
adjacency. An adjacency segment is local to the node that advertises
it. Both node segments and adjacency segments can be used for SR.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2"><span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span> describes the SR architecture.  The
corresponding IS-IS and OSPF extensions are specified in <span>[<a class="xref" href="#RFC8667">RFC8667</a>]</span> and <span>[<a class="xref" href="#RFC8665">RFC8665</a>]</span>, respectively.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">The SR architecture can be implemented using either an MPLS
forwarding plane <span>[<a class="xref" href="#RFC8660">RFC8660</a>]</span> or an IPv6 forwarding plane
<span>[<a class="xref" href="#I-D.ietf-6man-segment-routing-header">IPv6-SRH</a>]</span>.  The MPLS forwarding plane can be applied
to SR without any change; in which case, an SR path corresponds to an
MPLS Label Switching Path (LSP). This document is relevant to the MPLS
forwarding plane only. In this document, "Node-SID" and
"Adj-SID" denote the Node Segment Identifier and Adjacency
Segment Identifier, respectively.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">An SR path can be derived from an IGP Shortest Path Tree
(SPT). Segment Routing Traffic-Engineering (SR-TE) paths may not
follow an IGP SPT. Such paths may be chosen by a suitable network
planning tool and provisioned on the ingress node of the SR-TE
path.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5"><span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span> describes the Path Computation Element
Communication Protocol (PCEP) for communication between a Path
Computation Client (PCC) and a Path Computation Element (PCE) or
between a pair of PCEs. A PCE computes paths for MPLS
Traffic-Engineering (MPLS-TE) LSPs based on various constraints and
optimization criteria. <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span> specifies extensions
to PCEP that allow a stateful PCE to compute and recommend network
paths in compliance with <span>[<a class="xref" href="#RFC4657">RFC4657</a>]</span>.  It also defines objects
and TLVs for MPLS-TE LSPs. Stateful PCEP extensions provide
synchronization of LSP state between a PCC and a PCE or between a pair
of PCEs, delegation of LSP control, reporting of LSP state from a PCC
to a PCE, and control of the setup and path routing of an LSP from a
PCE to a PCC. Stateful PCEP extensions are intended for an operational
model in which LSPs are configured on the PCC, and control over them
is delegated to the PCE.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">A mechanism to dynamically initiate LSPs on a PCC based on the requests from a stateful PCE or a controller using stateful PCE is specified in <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span>. This mechanism is useful in Software-Defined Networking (SDN) applications, such as on-demand engineering or bandwidth calendaring <span>[<a class="xref" href="#RFC8413">RFC8413</a>]</span>.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">It is possible to use a stateful PCE for computing one or more SR-TE paths, taking into account various constraints and objective functions. Once a path is chosen, the stateful PCE can initiate an SR-TE path on a PCC using the PCEP extensions specified in <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span> and the SR-specific PCEP extensions specified in this document. Additionally, using procedures described in this document, a PCC can request an SR path from either a stateful or a stateless PCE.<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">This specification relies on the procedures specified in <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span> to exchange the Segment Routing capability and to specify that the path setup type of an LSP is Segment Routing.  This specification also updates <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span> to clarify the use of sub-TLVs in the PATH-SETUP-TYPE-CAPABILITY TLV.  See <a class="xref" href="#pst-cap-tlv">Section 4.1.1</a> for details.<a class="pilcrow" href="#section-1-8">¶</a></p>
<p id="section-1-9">This specification provides a mechanism for a network controller (acting as a PCE) to instantiate candidate paths for an SR Policy onto a head-end node (acting as a PCC) using PCEP.  For more information on the SR Policy Architecture, see <span>[<a class="xref" href="#I-D.ietf-spring-segment-routing-policy">SR-POLICY</a>]</span>.<a class="pilcrow" href="#section-1-9">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">The following terminology is used in this document:<a class="pilcrow" href="#section-2-1">¶</a></p>
<dl class="dlParallel" id="section-2-2">
        <dt id="section-2-2.1">ERO:</dt>
        <dd id="section-2-2.2" style="margin-left: 4.0em"> Explicit Route Object<a class="pilcrow" href="#section-2-2.2">¶</a>
</dd>
<dt id="section-2-2.3">IGP:</dt>
        <dd id="section-2-2.4" style="margin-left: 4.0em"> Interior Gateway Protocol<a class="pilcrow" href="#section-2-2.4">¶</a>
</dd>
<dt id="section-2-2.5">IS-IS:</dt>
        <dd id="section-2-2.6" style="margin-left: 4.0em"> Intermediate System to Intermediate System<a class="pilcrow" href="#section-2-2.6">¶</a>
</dd>
<dt id="section-2-2.7">LSR:</dt>
        <dd id="section-2-2.8" style="margin-left: 4.0em"> Label Switching Router<a class="pilcrow" href="#section-2-2.8">¶</a>
</dd>
<dt id="section-2-2.9">MSD:</dt>
        <dd id="section-2-2.10" style="margin-left: 4.0em"> Base MPLS Imposition Maximum SID Depth, as defined in <span>[<a class="xref" href="#RFC8491">RFC8491</a>]</span><a class="pilcrow" href="#section-2-2.10">¶</a>
</dd>
<dt id="section-2-2.11">NAI:</dt>
        <dd id="section-2-2.12" style="margin-left: 4.0em"> Node or Adjacency Identifier<a class="pilcrow" href="#section-2-2.12">¶</a>
</dd>
<dt id="section-2-2.13">OSPF:</dt>
        <dd id="section-2-2.14" style="margin-left: 4.0em"> Open Shortest Path First<a class="pilcrow" href="#section-2-2.14">¶</a>
</dd>
<dt id="section-2-2.15">PCC:</dt>
        <dd id="section-2-2.16" style="margin-left: 4.0em"> Path Computation Client<a class="pilcrow" href="#section-2-2.16">¶</a>
</dd>
<dt id="section-2-2.17">PCE:</dt>
        <dd id="section-2-2.18" style="margin-left: 4.0em"> Path Computation Element<a class="pilcrow" href="#section-2-2.18">¶</a>
</dd>
<dt id="section-2-2.19">PCEP:</dt>
        <dd id="section-2-2.20" style="margin-left: 4.0em"> Path Computation Element Communication Protocol<a class="pilcrow" href="#section-2-2.20">¶</a>
</dd>
<dt id="section-2-2.21">RRO:</dt>
        <dd id="section-2-2.22" style="margin-left: 4.0em"> Record Route Object<a class="pilcrow" href="#section-2-2.22">¶</a>
</dd>
<dt id="section-2-2.23">SID:</dt>
        <dd id="section-2-2.24" style="margin-left: 4.0em"> Segment Identifier<a class="pilcrow" href="#section-2-2.24">¶</a>
</dd>
<dt id="section-2-2.25">SR:</dt>
        <dd id="section-2-2.26" style="margin-left: 4.0em"> Segment Routing<a class="pilcrow" href="#section-2-2.26">¶</a>
</dd>
<dt id="section-2-2.27">SR-DB:</dt>
        <dd id="section-2-2.28" style="margin-left: 4.0em"> Segment Routing Database: the collection of SRGBs, SRLBs, and SIDs and the objects they map to, advertised by a link-state IGP<a class="pilcrow" href="#section-2-2.28">¶</a>
</dd>
<dt id="section-2-2.29">SR-TE:</dt>
        <dd id="section-2-2.30" style="margin-left: 4.0em"> Segment Routing Traffic Engineering<a class="pilcrow" href="#section-2-2.30">¶</a>
</dd>
<dt id="section-2-2.31">SRGB:</dt>
        <dd id="section-2-2.32" style="margin-left: 4.0em"> Segment Routing Global Block<a class="pilcrow" href="#section-2-2.32">¶</a>
</dd>
<dt id="section-2-2.33">SRLB:</dt>
        <dd id="section-2-2.34" style="margin-left: 4.0em"> Segment Routing Local Block<a class="pilcrow" href="#section-2-2.34">¶</a>
</dd>
</dl>
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-2.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
</section>
</section>
<div id="Operation-Overview">
<section id="section-3">
      <h2 id="name-overview-of-pcep-operation-">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-overview-of-pcep-operation-">Overview of PCEP Operation in SR Networks</a>
      </h2>
<p id="section-3-1">In an SR network, the ingress node of an SR path prepends an SR header to all outgoing packets.  The SR header consists of a list of SIDs (or MPLS labels in the context of this document).    The header has all
   necessary information so that, in combination with the information
   distributed by the IGP, the packets can be guided from the ingress
   node to the egress node of the path; hence, there is no need for
   any signaling protocol.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">
   In PCEP messages, LSP route information is carried in the Explicit
   Route Object (ERO), which consists of a sequence of subobjects.
   SR-TE paths computed by a PCE can be represented in an ERO in one
   of the following forms:<a class="pilcrow" href="#section-3-2">¶</a></p>
<ul>
<li id="section-3-3.1">An ordered set of IP addresses representing network nodes/links.<a class="pilcrow" href="#section-3-3.1">¶</a>
</li>
        <li id="section-3-3.2">An ordered set of SIDs, with or without the corresponding IP addresses.<a class="pilcrow" href="#section-3-3.2">¶</a>
</li>
        <li id="section-3-3.3">An ordered set of MPLS labels, with or without corresponding IP addresses.<a class="pilcrow" href="#section-3-3.3">¶</a>
</li>
      </ul>
<p id="section-3-4">

The PCC converts these into an MPLS label stack and next hop, as described in <a class="xref" href="#SR-ERO-INTERPRET">Section 5.2.2</a>.<a class="pilcrow" href="#section-3-4">¶</a></p>
<p id="section-3-5">This document defines a new ERO subobject denoted by "SR-ERO subobject" that is capable of carrying a SID as well as the identity of the node/adjacency represented by the SID. SR-capable PCEP speakers should be able to generate and/or process such an ERO subobject. 
An ERO containing SR-ERO subobjects can be included in the PCEP Path Computation Reply (PCRep) message defined in <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>, the Path Computation LSP Initiate Request (PCInitiate) message defined in <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span>, and the Path Computation Update Request (PCUpd) and Path Computation State Report (PCRpt) messages for LSPs defined in <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>.<a class="pilcrow" href="#section-3-5">¶</a></p>
<p id="section-3-6">When a PCEP session between a PCC and a PCE is established, both PCEP speakers exchange their capabilities to indicate their ability to support SR-specific functionality.<a class="pilcrow" href="#section-3-6">¶</a></p>
<p id="section-3-7">A PCE can update an LSP that is initially established via RSVP-TE
signaling to use an SR-TE path by sending a PCUpd to the PCC that
delegated the LSP to it <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>.  A PCC can update an
undelegated LSP that is initially established via RSVP-TE signaling to
use an SR-TE path as follows.  First, it requests an SR-TE path from a
PCE by sending a Path Computation Request (PCReq) message.  If it
receives a suitable path, it establishes the path in the data plane
and then tears down the original RSVP-TE path.  If the PCE is
stateful, then the PCC sends PCRpt messages indicating that the new
path is set up and the old path is torn down, per <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>.<a class="pilcrow" href="#section-3-7">¶</a></p>
<p id="section-3-8">Similarly, a PCE or PCC can update an LSP initially created with an SR-TE path to use RSVP-TE signaling, if necessary. This capability is useful for rolling back a change when a network is migrated from RSVP-TE to SR-TE technology.<a class="pilcrow" href="#section-3-8">¶</a></p>
<p id="section-3-9">A PCC <span class="bcp14">MAY</span> include a Record Route Object (RRO) containing the recorded LSP in PCReq and PCRpt messages as specified in <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span> and <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>, respectively. This document defines a new RRO subobject for SR networks. The methods used by a PCC to record the SR-TE LSP are outside the scope of this document.<a class="pilcrow" href="#section-3-9">¶</a></p>
<p id="section-3-10">In summary, this document:<a class="pilcrow" href="#section-3-10">¶</a></p>
<ul>
<li id="section-3-11.1">Defines a new ERO subobject, a new RRO subobject, and new PCEP error codes.<a class="pilcrow" href="#section-3-11.1">¶</a>
</li>
        <li id="section-3-11.2">Specifies how two PCEP speakers can establish a PCEP session that can carry information about SR-TE paths.<a class="pilcrow" href="#section-3-11.2">¶</a>
</li>
        <li id="section-3-11.3">Specifies processing rules for the ERO subobject.<a class="pilcrow" href="#section-3-11.3">¶</a>
</li>
        <li id="section-3-11.4">Defines a new path setup type to be used in the PATH-SETUP-TYPE and PATH-SETUP-TYPE-CAPABILITY TLVs <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span>.<a class="pilcrow" href="#section-3-11.4">¶</a>
</li>
        <li id="section-3-11.5">Defines a new sub-TLV for the PATH-SETUP-TYPE-CAPABILITY TLV.<a class="pilcrow" href="#section-3-11.5">¶</a>
</li>
      </ul>
<p id="section-3-12">The extensions specified in this document complement the existing
PCEP specifications to support SR-TE paths. As such, the PCEP messages
(e.g., PCReq, PCRep, PCRpt, PCUpd, PCInitiate, etc.) are formatted
according to <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>, <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>, <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span>, and any other applicable PCEP specifications.<a class="pilcrow" href="#section-3-12">¶</a></p>
</section>
</div>
<div id="object-formats">
<section id="section-4">
      <h2 id="name-object-formats">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-object-formats">Object Formats</a>
      </h2>
<div id="open-object-fmt">
<section id="section-4.1">
        <h3 id="name-the-open-object">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-the-open-object">The OPEN Object</a>
        </h3>
<div id="pst-cap-tlv">
<section id="section-4.1.1">
          <h4 id="name-the-path-setup-type-capabil">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-the-path-setup-type-capabil">The Path Setup Type Capability TLV</a>
          </h4>
<p id="section-4.1.1-1"><span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span> defines the PATH-SETUP-TYPE-CAPABILITY TLV
for use in the OPEN object.  The PATH-SETUP-TYPE-CAPABILITY TLV
contains an optional list of sub-TLVs, which are intended to convey
parameters that are associated with the path setup types supported by
a PCEP speaker.<a class="pilcrow" href="#section-4.1.1-1">¶</a></p>
<p id="section-4.1.1-2">This specification updates <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span> as follows.  It
creates a new registry that defines the valid type indicators of the
sub-TLVs of the PATH-SETUP-TYPE-CAPABILITY TLV (see <a class="xref" href="#IANA-subTLV-Type-Indicators">Section 8.6</a>).  A PCEP speaker <span class="bcp14">MUST NOT</span>
include a sub-TLV in the PATH-SETUP-TYPE-CAPABILITY TLV unless it
appears in this registry.  If a PCEP speaker receives a sub-TLV whose
type indicator does not match one of those from the registry or is not
recognized by the speaker, then the speaker <span class="bcp14">MUST</span> ignore the
sub-TLV.<a class="pilcrow" href="#section-4.1.1-2">¶</a></p>
</section>
</div>
<div id="cap-negotiation">
<section id="section-4.1.2">
          <h4 id="name-the-sr-pce-capability-sub-t">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-the-sr-pce-capability-sub-t">The SR PCE Capability Sub-TLV</a>
          </h4>
<p id="section-4.1.2-1">This document defines a new Path Setup Type (PST) for SR, as follows:<a class="pilcrow" href="#section-4.1.2-1">¶</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-4.1.2-2.1">
              <dl class="dlParallel" id="section-4.1.2-2.1.1">
                <dt id="section-4.1.2-2.1.1.1">PST = 1:</dt>
                <dd id="section-4.1.2-2.1.1.2">Traffic-engineering path is set up using Segment Routing.<a class="pilcrow" href="#section-4.1.2-2.1.1.2">¶</a>
</dd>
</dl>
</li>
          </ul>
<p id="section-4.1.2-3">A PCEP speaker <span class="bcp14">SHOULD</span> indicate its support of the function described in this document by sending a PATH-SETUP-TYPE-CAPABILITY TLV in the OPEN object with this new PST included in the PST list.<a class="pilcrow" href="#section-4.1.2-3">¶</a></p>
<p id="section-4.1.2-4">This document also defines the SR-PCE-CAPABILITY sub-TLV.  PCEP speakers use this sub-TLV to exchange information about their SR capability. If a PCEP speaker includes PST=1 in the PST list of the PATH-SETUP-TYPE-CAPABILITY TLV, then it <span class="bcp14">MUST</span> also include the SR-PCE-CAPABILITY sub-TLV inside the PATH-SETUP-TYPE-CAPABILITY TLV.<a class="pilcrow" href="#section-4.1.2-4">¶</a></p>
<p id="section-4.1.2-5">The format of the SR-PCE-CAPABILITY sub-TLV is shown in the following figure:<a class="pilcrow" href="#section-4.1.2-5">¶</a></p>
<span id="name-sr-pce-capability-sub-tlv-f"></span><div id="Capability-TLV-Fmt">
<figure id="figure-1">
            <div class="artwork art-text alignCenter" id="section-4.1.2-6.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Type=26               |            Length=4           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Reserved              |   Flags   |N|X|      MSD      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-sr-pce-capability-sub-tlv-f">SR-PCE-CAPABILITY Sub-TLV Format</a>
            </figcaption></figure>
</div>
<p id="section-4.1.2-7">The codepoint for the TLV type is 26. The TLV length is 4 octets.<a class="pilcrow" href="#section-4.1.2-7">¶</a></p>
<p id="section-4.1.2-8">The 32-bit value is formatted as follows.<a class="pilcrow" href="#section-4.1.2-8">¶</a></p>
<dl class="dlParallel" id="section-4.1.2-9">
            <dt id="section-4.1.2-9.1">Reserved:</dt>
            <dd id="section-4.1.2-9.2">
              <span class="bcp14">MUST</span> be set to zero by the sender and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.1.2-9.2">¶</a>
</dd>
<dt id="section-4.1.2-9.3">Flags:</dt>
            <dd id="section-4.1.2-9.4">
              <p id="section-4.1.2-9.4.1"> This document defines the following flag bits.  The other bits
      <span class="bcp14">MUST</span> be set to zero by the sender and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.1.2-9.4.1">¶</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-4.1.2-9.4.2.1">
                  <dl class="dlParallel" id="section-4.1.2-9.4.2.1.1">
                    <dt id="section-4.1.2-9.4.2.1.1.1">N:</dt>
                    <dd id="section-4.1.2-9.4.2.1.1.2" style="margin-left: 2.5em">A PCC sets this flag bit to 1 to indicate that it is capable of resolving a Node or Adjacency Identifier (NAI) to a SID.<a class="pilcrow" href="#section-4.1.2-9.4.2.1.1.2">¶</a>
</dd>
<dt id="section-4.1.2-9.4.2.1.1.3">X:</dt>
                    <dd id="section-4.1.2-9.4.2.1.1.4" style="margin-left: 2.5em">A PCC sets this flag bit to 1 to indicate that it does not impose any limit on the MSD.<a class="pilcrow" href="#section-4.1.2-9.4.2.1.1.4">¶</a>
</dd>
</dl>
</li>
              </ul>
</dd>
<dt id="section-4.1.2-9.5">Maximum SID Depth (MSD):</dt>
            <dd id="section-4.1.2-9.6"> specifies the maximum number of SIDs (MPLS label stack depth in the context of this document) that a PCC is capable of imposing on a packet.  <a class="xref" href="#SR-CAP-PROCESS">Section 5.1</a> explains the relationship between this field and the X-Flag.<a class="pilcrow" href="#section-4.1.2-9.6">¶</a>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="rp-object-fmt">
<section id="section-4.2">
        <h3 id="name-the-rp-srp-object">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-the-rp-srp-object">The RP/SRP Object</a>
        </h3>
<p id="section-4.2-1">To set up an SR-TE LSP using SR, the Request Parameter (RP) or Stateful PCE Request Parameter (SRP) object <span class="bcp14">MUST</span> include the PATH-SETUP-TYPE TLV, specified in <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span>, with the PST set to 1 (and path setup using SR-TE).<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">The LSP-IDENTIFIERS TLV <span class="bcp14">MAY</span> be present for the above PST type.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
</section>
</div>
<div id="SR-ERO">
<section id="section-4.3">
        <h3 id="name-ero">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-ero">ERO</a>
        </h3>
<p id="section-4.3-1">An SR-TE path consists of one or more SIDs where each SID <span class="bcp14">MAY</span> be associated with the identifier that represents the node or adjacency corresponding to the SID. This identifier is referred to as the NAI. As described later, an NAI can be represented in various formats (e.g., IPv4 address, IPv6 address, etc). Furthermore, an NAI is used for troubleshooting purposes and, if necessary, to derive a SID value as described below.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">The ERO specified in <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span> is used to carry SR-TE path information. In order to carry a SID and/or NAI, this document defines a new ERO subobject referred to as the "SR-ERO subobject", whose format is specified in the following section. An ERO carrying an SR-TE path consists of one or more ERO subobjects, and it <span class="bcp14">MUST</span> carry only SR-ERO subobjects. Note that an SR-ERO subobject does not need to have both the SID and NAI. However, at least one of them <span class="bcp14">MUST</span> be present.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">When building the MPLS label stack from ERO, a PCC <span class="bcp14">MUST</span> assume that SR-ERO subobjects are organized as a last-in-first-out stack.  The first subobject relative to the beginning of ERO contains the information about the topmost label. The last subobject contains information about the bottommost label.<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<div id="SR-ERO-SUB">
<section id="section-4.3.1">
          <h4 id="name-sr-ero-subobject">
<a class="section-number selfRef" href="#section-4.3.1">4.3.1. </a><a class="section-name selfRef" href="#name-sr-ero-subobject">SR-ERO Subobject</a>
          </h4>
<p id="section-4.3.1-1">An SR-ERO subobject is formatted as shown in the following diagram.<a class="pilcrow" href="#section-4.3.1-1">¶</a></p>
<span id="name-sr-ero-subobject-format"></span><div id="SR-ERO-SUBOBJECT">
<figure id="figure-2">
            <div class="artwork art-text alignLeft" id="section-4.3.1-2.1">
<pre>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |L|   Type=36   |     Length    |  NT   |     Flags     |F|S|C|M|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                         SID (optional)                        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //                   NAI (variable, optional)                  //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-sr-ero-subobject-format">SR-ERO Subobject Format</a>
            </figcaption></figure>
</div>
<p id="section-4.3.1-3">The fields in the SR-ERO subobject are as follows:<a class="pilcrow" href="#section-4.3.1-3">¶</a></p>
<dl class="dlParallel" id="section-4.3.1-4">
            <dt id="section-4.3.1-4.1">The L-Flag:</dt>
            <dd id="section-4.3.1-4.2"> Indicates whether the subobject represents a loose hop in the LSP <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span>. If this flag is set to zero, a PCC <span class="bcp14">MUST NOT</span> overwrite the SID value present in the SR-ERO subobject. Otherwise, a PCC <span class="bcp14">MAY</span> expand or replace one or more SID values in the received SR-ERO based on its local policy.<a class="pilcrow" href="#section-4.3.1-4.2">¶</a>
</dd>
<dt id="section-4.3.1-4.3">Type:</dt>
            <dd id="section-4.3.1-4.4"> Set to 36.<a class="pilcrow" href="#section-4.3.1-4.4">¶</a>
</dd>
<dt id="section-4.3.1-4.5">Length:</dt>
            <dd id="section-4.3.1-4.6"> Contains the total length of the subobject in octets. The Length <span class="bcp14">MUST</span> be at least 8 and <span class="bcp14">MUST</span> be a multiple of 4. An SR-ERO subobject <span class="bcp14">MUST</span> contain at least one SID or NAI. The flags described below indicate whether the SID or NAI fields are absent.<a class="pilcrow" href="#section-4.3.1-4.6">¶</a>
</dd>
<dt id="section-4.3.1-4.7">NAI Type (NT):</dt>
            <dd id="section-4.3.1-4.8">
              <p id="section-4.3.1-4.8.1">Indicates the type and format of the NAI contained in
     the object body, if any is present. If the F bit is set to
     zero (see below), then the NT field has no meaning and
     <span class="bcp14">MUST</span> be ignored by the receiver.  This
     document describes the following NT values:<a class="pilcrow" href="#section-4.3.1-4.8.1">¶</a></p>
<dl class="dlParallel" id="section-4.3.1-4.8.2">
                <dt id="section-4.3.1-4.8.2.1">NT=0</dt>
                <dd id="section-4.3.1-4.8.2.2">The NAI is absent.<a class="pilcrow" href="#section-4.3.1-4.8.2.2">¶</a>
</dd>
<dt id="section-4.3.1-4.8.2.3">NT=1</dt>
                <dd id="section-4.3.1-4.8.2.4">The NAI is an IPv4 node ID.<a class="pilcrow" href="#section-4.3.1-4.8.2.4">¶</a>
</dd>
<dt id="section-4.3.1-4.8.2.5">NT=2</dt>
                <dd id="section-4.3.1-4.8.2.6">The NAI is an IPv6 node ID.<a class="pilcrow" href="#section-4.3.1-4.8.2.6">¶</a>
</dd>
<dt id="section-4.3.1-4.8.2.7">NT=3</dt>
                <dd id="section-4.3.1-4.8.2.8">The NAI is an IPv4 adjacency.<a class="pilcrow" href="#section-4.3.1-4.8.2.8">¶</a>
</dd>
<dt id="section-4.3.1-4.8.2.9">NT=4</dt>
                <dd id="section-4.3.1-4.8.2.10">The NAI is an IPv6 adjacency with global IPv6
 addresses.<a class="pilcrow" href="#section-4.3.1-4.8.2.10">¶</a>
</dd>
<dt id="section-4.3.1-4.8.2.11">NT=5</dt>
                <dd id="section-4.3.1-4.8.2.12">The NAI is an unnumbered adjacency with IPv4 node
 IDs.<a class="pilcrow" href="#section-4.3.1-4.8.2.12">¶</a>
</dd>
<dt id="section-4.3.1-4.8.2.13">NT=6</dt>
                <dd id="section-4.3.1-4.8.2.14">The NAI is an IPv6 adjacency with link-local IPv6
 addresses.<a class="pilcrow" href="#section-4.3.1-4.8.2.14">¶</a>
</dd>
</dl>
</dd>
<dt id="section-4.3.1-4.9">Flags:</dt>
            <dd id="section-4.3.1-4.10">
              <p id="section-4.3.1-4.10.1"> Used to carry additional information pertaining to the SID. This document defines the following flag bits. The other bits <span class="bcp14">MUST</span> be set to zero by the sender and <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-4.3.1-4.10.1">¶</a></p>
<dl class="dlParallel" id="section-4.3.1-4.10.2">
                <dt id="section-4.3.1-4.10.2.1">M:</dt>
                <dd id="section-4.3.1-4.10.2.2" style="margin-left: 2.5em">If this bit is set to 1, the SID value represents an MPLS label stack entry as specified in <span>[<a class="xref" href="#RFC3032">RFC3032</a>]</span>. Otherwise, the SID value is an administratively configured value that represents an index into an MPLS label space (either SRGB or SRLB) per <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-4.3.1-4.10.2.2">¶</a>
</dd>
<dt id="section-4.3.1-4.10.2.3">C:</dt>
                <dd id="section-4.3.1-4.10.2.4" style="margin-left: 2.5em">If the M bit and the C bit are both set to 1, then the TC, S, and TTL fields in the MPLS label stack entry are specified by the PCE. However, a PCC <span class="bcp14">MAY</span> choose to override these values according to its local policy and MPLS forwarding rules. If the M bit is set to 1 but the C bit is set to zero, then the TC, S, and TTL fields <span class="bcp14">MUST</span> be ignored by the PCC. The PCC <span class="bcp14">MUST</span> set these fields according to its local policy and MPLS forwarding rules. If the M bit is set to zero, then the C bit <span class="bcp14">MUST</span> be set to zero.<a class="pilcrow" href="#section-4.3.1-4.10.2.4">¶</a>
</dd>
<dt id="section-4.3.1-4.10.2.5">S:</dt>
                <dd id="section-4.3.1-4.10.2.6" style="margin-left: 2.5em">When this bit is set to 1, the SID value in the subobject body is absent. In this case, the PCC is responsible for choosing the SID value, e.g., by looking it up in the SR-DB using the NAI that, in this case, <span class="bcp14">MUST</span> be present in the subobject. If the S bit is set to 1, then the M and C bits <span class="bcp14">MUST</span> be set to zero.<a class="pilcrow" href="#section-4.3.1-4.10.2.6">¶</a>
</dd>
<dt id="section-4.3.1-4.10.2.7">F:</dt>
                <dd id="section-4.3.1-4.10.2.8" style="margin-left: 2.5em">When this bit is set to 1, the NAI value in the subobject body is absent.  The F bit <span class="bcp14">MUST</span> be set to 1 if NT=0; otherwise, it <span class="bcp14">MUST</span> be set to zero.  The S and F bits <span class="bcp14">MUST NOT</span> both be set to 1.<a class="pilcrow" href="#section-4.3.1-4.10.2.8">¶</a>
</dd>
</dl>
</dd>
<dt id="section-4.3.1-4.11">SID:</dt>
            <dd id="section-4.3.1-4.12">
              <p id="section-4.3.1-4.12.1"> The Segment Identifier. Depending on the M bit, it contains either:<a class="pilcrow" href="#section-4.3.1-4.12.1">¶</a></p>
<ul>
<li id="section-4.3.1-4.12.2.1">A 4-octet index defining the offset into an MPLS label space per <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span> or<a class="pilcrow" href="#section-4.3.1-4.12.2.1">¶</a>
</li>
                <li id="section-4.3.1-4.12.2.2">A 4-octet MPLS label stack entry, where the 20 most significant bits encode the label value per <span>[<a class="xref" href="#RFC3032">RFC3032</a>]</span>.<a class="pilcrow" href="#section-4.3.1-4.12.2.2">¶</a>
</li>
              </ul>
</dd>
<dt id="section-4.3.1-4.13">NAI:</dt>
            <dd id="section-4.3.1-4.14"> The NAI associated with the SID. The NAI's format depends on the value in the NT field and is described in the following section.<a class="pilcrow" href="#section-4.3.1-4.14">¶</a>
</dd>
</dl>
<p id="section-4.3.1-5">
At least one SID and NAI <span class="bcp14">MUST</span> be included in the SR-ERO subobject, and both <span class="bcp14">MAY</span> be included.<a class="pilcrow" href="#section-4.3.1-5">¶</a></p>
</section>
</div>
<div id="SR-ERO-NODAL-32">
<section id="section-4.3.2">
          <h4 id="name-nai-associated-with-sid">
<a class="section-number selfRef" href="#section-4.3.2">4.3.2. </a><a class="section-name selfRef" href="#name-nai-associated-with-sid">NAI Associated with SID</a>
          </h4>
<p id="section-4.3.2-1">This document defines the following NAIs:<a class="pilcrow" href="#section-4.3.2-1">¶</a></p>
<dl class="dlParallel" id="section-4.3.2-2">
            <dt id="section-4.3.2-2.1">IPv4 Node ID:</dt>
            <dd id="section-4.3.2-2.2">Specified as an IPv4 address. In this case, the NT value is 1, and the NAI field length is 4 octets.<a class="pilcrow" href="#section-4.3.2-2.2">¶</a>
</dd>
<dt id="section-4.3.2-2.3">IPv6 Node ID:</dt>
            <dd id="section-4.3.2-2.4">Specified as an IPv6 address. In this case, the NT value is 2, and the NAI field length is 16 octets.<a class="pilcrow" href="#section-4.3.2-2.4">¶</a>
</dd>
<dt id="section-4.3.2-2.5">IPv4 Adjacency:</dt>
            <dd id="section-4.3.2-2.6">
              <p id="section-4.3.2-2.6.1">Specified as a pair of IPv4 addresses. In this case, the NT value is 3, and the NAI field length is 8 octets.  The format of the NAI is shown in the following figure:<a class="pilcrow" href="#section-4.3.2-2.6.1">¶</a></p>
<span id="name-nai-for-ipv4-adjacency"></span><div id="ADJ-SID-ERO-SUBOBJECT-32">
<figure id="figure-3">
                <div class="artwork art-text alignLeft" id="section-4.3.2-2.6.2.1">
<pre>  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                      Local IPv4 address                       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                     Remote IPv4 address                       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-nai-for-ipv4-adjacency">NAI for IPv4 Adjacency</a>
                </figcaption></figure>
</div>
</dd>
<dt id="section-4.3.2-2.7">IPv6 Global Adjacency:</dt>
            <dd id="section-4.3.2-2.8">
              <p id="section-4.3.2-2.8.1">Specified as a pair of global IPv6 addresses.  It is used to describe an IPv6 adjacency for a link that uses global IPv6 addresses.  Each global IPv6 address is configured on a specific router interface, so together they identify an adjacency between a pair of routers.  In this case, the NT value is 4, and the NAI field length is 32 octets. The format of the NAI is shown in the following figure:<a class="pilcrow" href="#section-4.3.2-2.8.1">¶</a></p>
<span id="name-nai-for-ipv6-global-adjacen"></span><div id="ADJ-SID-ERO-SUBOBJECT-128">
<figure id="figure-4">
                <div class="artwork art-text alignLeft" id="section-4.3.2-2.8.2.1">
<pre>  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 //               Local IPv6 address (16 octets)                //
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 //               Remote IPv6 address (16 octets)               //
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-nai-for-ipv6-global-adjacen">NAI for IPv6 Global Adjacency</a>
                </figcaption></figure>
</div>
</dd>
<dt id="section-4.3.2-2.9">Unnumbered Adjacency with IPv4 NodeIDs:</dt>
            <dd id="section-4.3.2-2.10">
              <p id="section-4.3.2-2.10.1">Specified as a
pair of (node ID, interface ID) tuples. In this case, the NT value is
5, and the NAI field length is 16 octets. The format of the NAI is
shown in the following figure:<a class="pilcrow" href="#section-4.3.2-2.10.1">¶</a></p>
<span id="name-nai-for-unnumbered-adjacenc"></span><div id="ADJ-SID-ERO-UNNUM-32">
<figure id="figure-5">
                <div class="artwork art-text alignLeft" id="section-4.3.2-2.10.2.1">
<pre>  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                      Local Node ID                            |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                    Local Interface ID                         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                      Remote Node ID                           |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                   Remote Interface ID                         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-nai-for-unnumbered-adjacenc">NAI for Unnumbered Adjacency with IPv4 Node IDs</a>
                </figcaption></figure>
</div>
</dd>
<dt id="section-4.3.2-2.11">IPv6 Link-Local Adjacency:</dt>
            <dd id="section-4.3.2-2.12">
              <p id="section-4.3.2-2.12.1">Specified as a pair of (global IPv6 address, interface ID) tuples.  It is used to describe an IPv6 adjacency for a link that uses only link-local IPv6 addresses. Each global IPv6 address is configured on a specific router, so together they identify a pair of adjacent routers. The interface IDs identify the link that the adjacency is formed over. In this case, the NT value is 6, and the NAI field length is 40 octets. The format of the NAI is shown in the following figure:<a class="pilcrow" href="#section-4.3.2-2.12.1">¶</a></p>
<span id="name-nai-for-ipv6-link-local-adj"></span><div id="ADJ-SID-ERO-LINKLOCAL-40">
<figure id="figure-6">
                <div class="artwork art-text alignLeft" id="section-4.3.2-2.12.2.1">
<pre>  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 //               Local IPv6 address (16 octets)                //
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                    Local Interface ID                         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 //               Remote IPv6 address (16 octets)               //
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                   Remote Interface ID                         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-nai-for-ipv6-link-local-adj">NAI for IPv6 Link-Local Adjacency</a>
                </figcaption></figure>
</div>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="SR-RRO">
<section id="section-4.4">
        <h3 id="name-rro">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-rro">RRO</a>
        </h3>
<p id="section-4.4-1">A PCC reports an SR-TE LSP to a PCE by sending a PCRpt message, per <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>.  The RRO on this message represents the SID list that was applied by the PCC, that is, the actual path taken by the LSP.  The procedures of <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span> with respect to the RRO apply equally to this specification without change.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">An RRO contains one or more subobjects called "SR-RRO subobjects", whose format is shown below:<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<span id="name-sr-rro-subobject-format"></span><div id="SR-RRO-SUBOBJECT">
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-4.4-3.1">
<pre>  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |    Type=36    |     Length    |  NT   |     Flags     |F|S|C|M|
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                              SID                              |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 //                        NAI (variable)                       //
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-sr-rro-subobject-format">SR-RRO Subobject Format</a>
          </figcaption></figure>
</div>
<p id="section-4.4-4">The format of the SR-RRO subobject is the same as that of the SR-ERO subobject, but without the L-Flag.<a class="pilcrow" href="#section-4.4-4">¶</a></p>
<p id="section-4.4-5">A PCC <span class="bcp14">MUST</span> order the SR-RRO subobjects such that the first subobject relative to the beginning of the RRO identifies the first segment visited by the SR-TE LSP, and the last subobject identifies the final segment of the SR-TE LSP, that is, its endpoint.<a class="pilcrow" href="#section-4.4-5">¶</a></p>
</section>
</div>
<div id="SR-METRIC">
<section id="section-4.5">
        <h3 id="name-metric-object">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-metric-object">METRIC Object</a>
        </h3>
<p id="section-4.5-1">A PCC <span class="bcp14">MAY</span> request that PCE optimizes an individual path computation request to minimize the SID depth of the computed path by using the METRIC object defined in <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>.  This document defines a new type for the METRIC object to be used for this purpose, as follows:<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-4.5-2.1">
            <dl class="dlParallel" id="section-4.5-2.1.1">
              <dt id="section-4.5-2.1.1.1">T = 11:</dt>
              <dd id="section-4.5-2.1.1.2">Maximum SID Depth of the requested path.<a class="pilcrow" href="#section-4.5-2.1.1.2">¶</a>
</dd>
</dl>
</li>
        </ul>
<p id="section-4.5-3">If the PCC includes a METRIC object of this type on a path computation request, then the PCE minimizes the SID depth of the computed path.  If the B (bound) bit is set to 1 in the METRIC object, then the PCE <span class="bcp14">MUST NOT</span> return a path whose SID depth exceeds the given metric value.  If the PCC did not set the X-Flag in its SR-PCE-CAPABILITY TLV, then it <span class="bcp14">MUST</span> set the B bit to 1.  If the PCC set the X-Flag in its SR-PCE-CAPABILITY TLV, then it <span class="bcp14">MAY</span> set the B bit to 1 or zero.<a class="pilcrow" href="#section-4.5-3">¶</a></p>
<p id="section-4.5-4">If a PCEP session is established with a non-zero default MSD value, then the
   PCC <span class="bcp14">MUST NOT</span> send an MSD METRIC object with an MSD greater than
   the session's default MSD. If the PCE receives a path computation request
   with an MSD METRIC object on such a session that is greater than the session's
   default MSD, then it <span class="bcp14">MUST</span> consider the request invalid and send
   a PCEP Error (PCErr) with Error-Type = 10 ("Reception of an invalid object") and
   Error-value = 9 ("MSD exceeds the default for the PCEP session").<a class="pilcrow" href="#section-4.5-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="procedures">
<section id="section-5">
      <h2 id="name-procedures">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-procedures">Procedures</a>
      </h2>
<div id="SR-CAP-PROCESS">
<section id="section-5.1">
        <h3 id="name-exchanging-the-sr-pce-capab">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-exchanging-the-sr-pce-capab">Exchanging the SR PCE Capability</a>
        </h3>
<p id="section-5.1-1">A PCC indicates that it is capable of supporting the head-end functions for SR-TE LSP by including the SR-PCE-CAPABILITY sub-TLV in the Open message that it sends to a PCE. A PCE indicates that it is capable of computing SR-TE paths by including the SR-PCE-CAPABILITY sub-TLV in the Open message that it sends to a PCC.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">If a PCEP speaker receives a PATH-SETUP-TYPE-CAPABILITY TLV with a PST list containing PST=1, and supports that path setup type, then it checks for the presence of the SR-PCE-CAPABILITY sub-TLV.  If that sub-TLV is absent, then the PCEP speaker <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 12 ("Missing PCE-SR-CAPABILITY sub-TLV") and <span class="bcp14">MUST</span> then close the PCEP session.  If a PCEP speaker receives a PATH-SETUP-TYPE-CAPABILITY TLV with a SR-PCE-CAPABILITY sub-TLV, but the PST list does not contain PST=1, then the PCEP speaker <span class="bcp14">MUST</span> ignore the SR-PCE-CAPABILITY sub-TLV.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<p id="section-5.1-3">If a PCC sets the N-Flag to 1, then the PCE <span class="bcp14">MAY</span> send an SR-ERO subobject containing an NAI and no SID (see <a class="xref" href="#SR-ERO-PROCESS">Section 5.2</a>).  Otherwise, the PCE <span class="bcp14">MUST NOT</span> send an SR-ERO subobject containing an NAI and no SID.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<p id="section-5.1-4">The number of SIDs that can be imposed on a packet depends on the PCC's data-plane capability. If a PCC sets the X-Flag to 1, then the MSD is not used and <span class="bcp14">MUST</span> be set to zero. If a PCE receives an SR-PCE-CAPABILITY sub-TLV with the X-Flag set to 1, then it <span class="bcp14">MUST</span> ignore the MSD field and assume that the sender can impose a SID stack of any depth.  If a PCC sets the X-Flag to zero, then it sets the MSD field to the maximum number of SIDs that it can impose on a packet.  In this case, the PCC <span class="bcp14">MUST</span> set the MSD to a number greater than zero.  If a PCE receives an SR-PCE-CAPABILITY sub-TLV with the X-Flag and MSD both set to zero, then it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 21 ("Maximum SID depth must be non-zero") and <span class="bcp14">MUST</span> then close the PCEP session.<a class="pilcrow" href="#section-5.1-4">¶</a></p>
<p id="section-5.1-5">Note that the MSD value exchanged via the SR-PCE-CAPABILITY sub-TLV indicates the SID/label imposition limit for the PCC node.  It is anticipated that, in many deployments, the PCCs will have network interfaces that are homogeneous with respect to MSD (that is, each interface has the same MSD).  In such cases, having a per-node MSD on the PCEP session is sufficient; the PCE <span class="bcp14">SHOULD</span> interpret this to mean that all network interfaces on the PCC have the given MSD.  However, the PCE <span class="bcp14">MAY</span> also learn a per-node MSD and a per-interface MSD from the routing protocols, as specified in <span>[<a class="xref" href="#RFC8491">RFC8491</a>]</span>, <span>[<a class="xref" href="#RFC8476">RFC8476</a>]</span>, and  <span>[<a class="xref" href="#I-D.ietf-idr-bgp-ls-segment-routing-msd">MSD-BGP</a>]</span>.  If the PCE learns the per-node MSD of a PCC from a routing protocol,  then it <span class="bcp14">MUST</span> ignore the per-node MSD value in the SR-PCE-CAPABILITY sub-TLV and use the per-node MSD learned from the routing protocol instead.  If the PCE learns the MSD of a network interface on a PCC from a routing protocol,  then it <span class="bcp14">MUST</span> use the per-interface MSD instead of the MSD value in the SR-PCE-CAPABILITY sub-TLV when it computes a path that uses that interface.<a class="pilcrow" href="#section-5.1-5">¶</a></p>
<p id="section-5.1-6">Once an SR-capable PCEP session is established with a non-zero MSD value, the corresponding PCE <span class="bcp14">MUST NOT</span> send SR-TE paths with a number of SIDs exceeding that MSD value. If a PCC needs to modify the MSD value, it <span class="bcp14">MUST</span> close the PCEP session and re-establish it with the new MSD value. If a PCEP session is established with a non-zero MSD value, and the PCC receives an SR-TE path containing more SIDs than specified in the MSD value, the PCC <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 3 ("Unsupported number of SR-ERO subobjects"). If a PCEP session is established with an MSD value of zero, then the PCC <span class="bcp14">MAY</span> specify an MSD for each path computation request that it sends to the PCE, by including a "maximum SID depth" METRIC object on the request, as defined in <a class="xref" href="#SR-METRIC">Section 4.5</a>.<a class="pilcrow" href="#section-5.1-6">¶</a></p>
<p id="section-5.1-7">The N-Flag, X-Flag, and MSD value inside the SR-PCE-CAPABILITY sub-TLV are meaningful only in the Open message sent from a PCC to a PCE. As such, a PCE <span class="bcp14">MUST</span> set the N-Flag to zero, X-Flag to 1, and MSD value to zero in an outbound message to a PCC. Similarly, a PCC <span class="bcp14">MUST</span> ignore any MSD value received from a PCE. If a PCE receives multiple SR-PCE-CAPABILITY sub-TLVs in an Open message, it processes only the first sub-TLV received.<a class="pilcrow" href="#section-5.1-7">¶</a></p>
</section>
</div>
<div id="SR-ERO-PROCESS">
<section id="section-5.2">
        <h3 id="name-ero-processing">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-ero-processing">ERO Processing</a>
        </h3>
<div id="SR-ERO-VALIDATION">
<section id="section-5.2.1">
          <h4 id="name-sr-ero-validation">
<a class="section-number selfRef" href="#section-5.2.1">5.2.1. </a><a class="section-name selfRef" href="#name-sr-ero-validation">SR-ERO Validation</a>
          </h4>
<p id="section-5.2.1-1">If a PCC does not support the SR PCE Capability and thus cannot recognize the SR-ERO or SR-RRO subobjects, it will respond according to the rules for a malformed object per <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>.<a class="pilcrow" href="#section-5.2.1-1">¶</a></p>
<p id="section-5.2.1-2">On receiving an SR-ERO, a PCC <span class="bcp14">MUST</span> validate that the Length field, S bit, F bit, and NT field are consistent, as follows.<a class="pilcrow" href="#section-5.2.1-2">¶</a></p>
<ul>
<li id="section-5.2.1-3.1">If NT=0, the F bit <span class="bcp14">MUST</span> be 1, the S bit <span class="bcp14">MUST</span> be zero, and the Length <span class="bcp14">MUST</span> be 8.<a class="pilcrow" href="#section-5.2.1-3.1">¶</a>
</li>
            <li id="section-5.2.1-3.2">If NT=1, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 8; otherwise, the Length <span class="bcp14">MUST</span> be 12.<a class="pilcrow" href="#section-5.2.1-3.2">¶</a>
</li>
            <li id="section-5.2.1-3.3">If NT=2, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 20; otherwise, the Length <span class="bcp14">MUST</span> be 24.<a class="pilcrow" href="#section-5.2.1-3.3">¶</a>
</li>
            <li id="section-5.2.1-3.4">If NT=3, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 12; otherwise, the Length <span class="bcp14">MUST</span> be 16.<a class="pilcrow" href="#section-5.2.1-3.4">¶</a>
</li>
            <li id="section-5.2.1-3.5">If NT=4, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 36; otherwise, the Length <span class="bcp14">MUST</span> be 40.<a class="pilcrow" href="#section-5.2.1-3.5">¶</a>
</li>
            <li id="section-5.2.1-3.6">If NT=5, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 20; otherwise, the Length <span class="bcp14">MUST</span> be 24.<a class="pilcrow" href="#section-5.2.1-3.6">¶</a>
</li>
            <li id="section-5.2.1-3.7">If NT=6, the F bit <span class="bcp14">MUST</span> be zero.  If the S bit is 1, the Length <span class="bcp14">MUST</span> be 44; otherwise, the Length <span class="bcp14">MUST</span> be 48.<a class="pilcrow" href="#section-5.2.1-3.7">¶</a>
</li>
          </ul>
<p id="section-5.2.1-4">If a PCC finds that the NT field, Length field, S bit, and F bit are not consistent, it <span class="bcp14">MUST</span> consider the entire ERO invalid and <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 11 ("Malformed object").<a class="pilcrow" href="#section-5.2.1-4">¶</a></p>
<p id="section-5.2.1-5">If a PCC does not recognize or support the value in the NT field,
   it <span class="bcp14">MUST</span> consider the entire ERO invalid and
   <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10
   ("Reception of an invalid object") and Error-value = 13
   ("Unsupported NAI Type in the SR-ERO/SR-RRO subobject").<a class="pilcrow" href="#section-5.2.1-5">¶</a></p>
<p id="section-5.2.1-6">If a PCC receives an SR-ERO subobject in which the S and F bits are both set to 1 (that is, both the SID and NAI are absent), it <span class="bcp14">MUST</span> consider the entire ERO invalid and send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 6 ("Both SID and NAI are absent in the SR-ERO subobject").<a class="pilcrow" href="#section-5.2.1-6">¶</a></p>
<p id="section-5.2.1-7">If a PCC receives an SR-ERO subobject in which the S bit is set to 1 and the F bit is set to zero (that is, the SID is absent and the NAI is present), but the PCC does not support NAI resolution, it <span class="bcp14">MUST</span> consider the entire ERO invalid and send a PCErr message with Error-Type = 4 ("Not supported object") and Error-value = 4 ("Unsupported parameter").<a class="pilcrow" href="#section-5.2.1-7">¶</a></p>
<p id="section-5.2.1-8">If a PCC receives an SR-ERO subobject in which the S bit is set to 1 and either (or both) the M bit or the C bit is set to 1, it <span class="bcp14">MUST</span> consider the entire ERO invalid and send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 11 ("Malformed object").<a class="pilcrow" href="#section-5.2.1-8">¶</a></p>
<p id="section-5.2.1-9">If a PCC receives an SR-ERO subobject in which the S bit is set to zero and the M bit is set to 1, then the subobject contains an MPLS label.  The PCC <span class="bcp14">MAY</span> choose not to accept a label provided by the PCE, based on its local policy.  The PCC <span class="bcp14">MUST NOT</span> accept MPLS label value 3 (Implicit NULL), but it <span class="bcp14">MAY</span> accept other special-purpose MPLS label values.  If the PCC decides not to accept an MPLS label value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 2 ("Bad label value").<a class="pilcrow" href="#section-5.2.1-9">¶</a></p>
<p id="section-5.2.1-10">If both the M and C bits of an SR-ERO subobject are set to 1, and if a PCC finds an erroneous setting in one or more of the TC, S, and TTL fields, it <span class="bcp14">MAY</span> overwrite those fields with values chosen according to its own policy. If the PCC does not overwrite them, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 4 ("Bad label format").<a class="pilcrow" href="#section-5.2.1-10">¶</a></p>
<p id="section-5.2.1-11">If the M bit of an SR-ERO subobject is set to zero but the C bit is set to 1, then the PCC <span class="bcp14">MUST</span> consider the entire ERO invalid and <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 11 ("Malformed object").<a class="pilcrow" href="#section-5.2.1-11">¶</a></p>
<p id="section-5.2.1-12">If a PCC receives an SR-ERO subobject in which the S bit is set to zero and the M bit is set to zero, then the subobject contains a SID index value.  If the SID is an Adj-SID, then the L-Flag <span class="bcp14">MUST NOT</span> be set.  If the L-Flag is set for an Adj-SID, then the PCC <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 11 ("Malformed object").<a class="pilcrow" href="#section-5.2.1-12">¶</a></p>
<p id="section-5.2.1-13">If a PCC detects that the subobjects of an ERO are a mixture of SR-ERO subobjects and subobjects of other types, then it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 5 ("ERO mixes SR-ERO subobjects with other subobject types").<a class="pilcrow" href="#section-5.2.1-13">¶</a></p>
<p id="section-5.2.1-14">The SR-ERO subobjects can be classified according to whether they contain a SID representing an MPLS label value or an index value, or no SID.  If a PCC detects that the SR-ERO subobjects are a mixture of more than one of these types, then it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 20 ("Inconsistent SIDs in SR-ERO/SR-RRO subobjects").<a class="pilcrow" href="#section-5.2.1-14">¶</a></p>
<p id="section-5.2.1-15">If an ERO specifies a new SR-TE path for an existing LSP and the PCC determines that the ERO contains SR-ERO subobjects that are not valid, then the PCC <span class="bcp14">MUST NOT</span> update the LSP.<a class="pilcrow" href="#section-5.2.1-15">¶</a></p>
</section>
</div>
<div id="SR-ERO-INTERPRET">
<section id="section-5.2.2">
          <h4 id="name-interpreting-the-sr-ero">
<a class="section-number selfRef" href="#section-5.2.2">5.2.2. </a><a class="section-name selfRef" href="#name-interpreting-the-sr-ero">Interpreting the SR-ERO</a>
          </h4>
<p id="section-5.2.2-1">
       The SR-ERO contains a sequence of subobjects.  Each SR-ERO subobject in
       the sequence identifies a segment that the traffic will be directed
       to, in the order given.  That is, the first subobject identifies the
       first segment the traffic will be directed to, the second
       subobject represents the second segment, and so on.<a class="pilcrow" href="#section-5.2.2-1">¶</a></p>
<p id="section-5.2.2-2">
       The PCC interprets the SR-ERO by converting it to an MPLS label stack plus a
       next hop.  The PCC sends packets along the segment-routed path by prepending
       the MPLS label stack onto the packets and sending the resulting, modified
       packet to the next hop.<a class="pilcrow" href="#section-5.2.2-2">¶</a></p>
<p id="section-5.2.2-3">
       The PCC uses a different procedure to do this conversion, depending on the
       information that the PCE has provided in the subobjects.<a class="pilcrow" href="#section-5.2.2-3">¶</a></p>
<ul>
<li id="section-5.2.2-4.1">
          If the subobjects contain SID index values, then the PCC converts them into the
          corresponding MPLS labels by following the procedure defined in
          <span>[<a class="xref" href="#RFC8660">RFC8660</a>]</span>.<a class="pilcrow" href="#section-5.2.2-4.1">¶</a>
</li>
            <li id="section-5.2.2-4.2">
          If the subobjects contain NAIs only, the PCC first converts
          each NAI into a SID index value and then proceeds as above.
          To convert an NAI to a SID index, the PCC looks for a fully specified
          prefix or adjacency matching the fields in the NAI.  If the PCC finds
          a matching prefix/adjacency, and the matching prefix/adjacency has a SID associated
          with it, then the PCC uses that SID.  If the PCC cannot find a
          matching prefix/adjacency, or if the matching prefix/adjacency has no SID associated
          with it, the PCC behaves as specified in <a class="xref" href="#SR-ERO-INTERPRET-ERROR">Section 5.2.2.1</a>.<a class="pilcrow" href="#section-5.2.2-4.2">¶</a>
</li>
            <li id="section-5.2.2-4.3">
          If the subobjects contain MPLS labels, then the PCC looks up the offset of the first subobject's label
          in its SRGB or SRLB.  This gives the first SID.  The PCC pushes the labels in any
          remaining subobjects onto the packet (with the final subobject specifying the
          bottom-of-stack label).<a class="pilcrow" href="#section-5.2.2-4.3">¶</a>
</li>
          </ul>
<p id="section-5.2.2-5">
      For all cases above, after the PCC has imposed the label stack on the packet, it sends the packet to the segment identified by the first SID.<a class="pilcrow" href="#section-5.2.2-5">¶</a></p>
<div id="SR-ERO-INTERPRET-ERROR">
<section id="section-5.2.2.1">
            <h5 id="name-handling-errors-during-sr-e">
<a class="section-number selfRef" href="#section-5.2.2.1">5.2.2.1. </a><a class="section-name selfRef" href="#name-handling-errors-during-sr-e">Handling Errors During SR-ERO Conversion</a>
            </h5>
<p id="section-5.2.2.1-1">There are several errors that can occur during the process of converting an SR-ERO sequence to an MPLS label stack and a next hop.  The PCC deals with them as follows.<a class="pilcrow" href="#section-5.2.2.1-1">¶</a></p>
<ul>
<li id="section-5.2.2.1-2.1">If the PCC cannot find a SID index in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 14 ("Unknown SID").<a class="pilcrow" href="#section-5.2.2.1-2.1">¶</a>
</li>
              <li id="section-5.2.2.1-2.2">If the PCC cannot find an NAI in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 15 ("NAI cannot be resolved to a SID").<a class="pilcrow" href="#section-5.2.2.1-2.2">¶</a>
</li>
              <li id="section-5.2.2.1-2.3">If the PCC needs to convert a SID into an MPLS label value but cannot find the corresponding router's SRGB in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 16 ("Could not find SRGB").<a class="pilcrow" href="#section-5.2.2.1-2.3">¶</a>
</li>
              <li id="section-5.2.2.1-2.4">If the PCC finds that a router's SRGB is not large enough for a SID index value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 17 ("SID index exceeds SRGB size").<a class="pilcrow" href="#section-5.2.2.1-2.4">¶</a>
</li>
              <li id="section-5.2.2.1-2.5">If the PCC needs to convert a SID into an MPLS label value but cannot find the corresponding router's SRLB in the SR-DB, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 18 ("Could not find SRLB").<a class="pilcrow" href="#section-5.2.2.1-2.5">¶</a>
</li>
              <li id="section-5.2.2.1-2.6">If the PCC finds that a router's SRLB is not large enough for a SID index value, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 19 ("SID index exceeds SRLB size").<a class="pilcrow" href="#section-5.2.2.1-2.6">¶</a>
</li>
              <li id="section-5.2.2.1-2.7">If the number of labels in the computed label stack exceeds the maximum number of SIDs that the PCC can impose on the packet, it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 3 ("Unsupported number of SR-ERO subobjects").<a class="pilcrow" href="#section-5.2.2.1-2.7">¶</a>
</li>
            </ul>
<p id="section-5.2.2.1-3">If an ERO specifies a new SR-TE path for an existing LSP and the PCC encounters an error while processing the ERO, then the PCC <span class="bcp14">MUST NOT</span> update the LSP.<a class="pilcrow" href="#section-5.2.2.1-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="SR-RRO-PROCESS">
<section id="section-5.3">
        <h3 id="name-rro-processing">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-rro-processing">RRO Processing</a>
        </h3>
<p id="section-5.3-1">The syntax-checking rules that apply to the SR-RRO subobject are identical to those of the SR-ERO subobject, except as noted below.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">If a PCEP speaker receives an SR-RRO subobject in which both SID and NAI are absent, it <span class="bcp14">MUST</span> consider the entire RRO invalid and send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 7 ("Both SID and NAI are absent in the SR-RRO subobject").<a class="pilcrow" href="#section-5.3-2">¶</a></p>
<p id="section-5.3-3">If a PCE detects that the subobjects of an RRO are a mixture of SR-RRO subobjects and subobjects of other types, then it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 10 ("RRO mixes SR-RRO subobjects with other subobject types").<a class="pilcrow" href="#section-5.3-3">¶</a></p>
<p id="section-5.3-4">The SR-RRO subobjects can be classified according to whether they contain a SID representing an MPLS label value or an index value, or no SID.  If a PCE detects that the SR-RRO subobjects are a mixture of more than one of these types, then it <span class="bcp14">MUST</span> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 20 ("Inconsistent SIDs in SR-ERO / SR-RRO subobjects").<a class="pilcrow" href="#section-5.3-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Management">
<section id="section-6">
      <h2 id="name-management-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-management-considerations">Management Considerations</a>
      </h2>
<p id="section-6-1">This document adds a new path setup type to PCEP to allow LSPs
to be set up using Segment Routing techniques.  This path setup
type may be used with PCEP alongside other path setup types,
such as RSVP-TE, or it may be used exclusively.<a class="pilcrow" href="#section-6-1">¶</a></p>
<div id="control">
<section id="section-6.1">
        <h3 id="name-controlling-the-path-setup-">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-controlling-the-path-setup-">Controlling the Path Setup Type</a>
        </h3>
<p id="section-6.1-1">The following factors control which path setup type is used for
a given LSP.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<ul>
<li id="section-6.1-2.1">  The available path setup types are constrained to those that
   are supported by, or enabled on, the PCEP speakers.  The
   PATH-SETUP-TYPE-CAPABILITY TLV indicates which path setup types
   a PCEP speaker supports.  To use Segment Routing as a path setup type,
   it is a prerequisite that the PCC and PCE both include PST=1 in the
   list of supported path setup types in this TLV and also include the
   SR-PCE-CAPABILITY sub-TLV.<a class="pilcrow" href="#section-6.1-2.1">¶</a>
</li>
          <li id="section-6.1-2.2">  When a PCE initiates an LSP, it proposes which path setup type
   to use by including it in the
   PATH-SETUP-TYPE TLV in the SRP object of the PCInitiate message.
   The PCE chooses the path setup type based on the capabilities of the
   network nodes on the path and on its local policy.  The PCC <span class="bcp14">MAY</span> choose
   to accept the proposed path setup type or to reject the PCInitiate
   request, based on its local policy.<a class="pilcrow" href="#section-6.1-2.2">¶</a>
</li>
          <li id="section-6.1-2.3">  When a PCC requests a path for an LSP, it can nominate a preferred
   path setup type by including it in the PATH-SETUP-TYPE TLV in the
   RP object of the PCReq message.  The PCE <span class="bcp14">MAY</span> choose to reply
   with a path of the requested type, reply with a path of a
   different type, or reject the request, based on the capabilities of the
   network nodes on the path and on its local policy.<a class="pilcrow" href="#section-6.1-2.3">¶</a>
</li>
        </ul>
<p id="section-6.1-3">The operator can influence the path setup type as follows.<a class="pilcrow" href="#section-6.1-3">¶</a></p>
<ul>
<li id="section-6.1-4.1">  Implementations <span class="bcp14">MUST</span> allow the operator to enable and disable
   the Segment Routing path setup type on a PCEP-speaking device.
   Implementations <span class="bcp14">MAY</span> also allow the operator to enable and disable the RSVP-TE
   path setup type.<a class="pilcrow" href="#section-6.1-4.1">¶</a>
</li>
          <li id="section-6.1-4.2">  PCE implementations <span class="bcp14">MUST</span> allow the operator to specify that an LSP
   should be instantiated using Segment Routing or RSVP-TE as the proposed path
   setup type.<a class="pilcrow" href="#section-6.1-4.2">¶</a>
</li>
          <li id="section-6.1-4.3">  PCE implementations <span class="bcp14">MAY</span> allow the operator to configure a
   preference for the PCE to propose paths using Segment Routing or RSVP-TE in
   the absence of a specified path setup type.<a class="pilcrow" href="#section-6.1-4.3">¶</a>
</li>
          <li id="section-6.1-4.4">  PCC implementations <span class="bcp14">MUST</span> allow the operator to specify that a path
   requested for an LSP nominates Segment Routing or RSVP-TE as the
   path setup type.<a class="pilcrow" href="#section-6.1-4.4">¶</a>
</li>
          <li id="section-6.1-4.5">  PCC implementations <span class="bcp14">MAY</span> allow the operator to configure a preference
   for the PCC to nominate Segment Routing or RSVP-TE as the path
   setup type if none is specified for an LSP.<a class="pilcrow" href="#section-6.1-4.5">¶</a>
</li>
          <li id="section-6.1-4.6">  PCC implementations <span class="bcp14">SHOULD</span> allow the operator to configure a PCC to
   refuse to set up an LSP using an undesired path setup type.<a class="pilcrow" href="#section-6.1-4.6">¶</a>
</li>
        </ul>
</section>
</div>
<div id="migrating">
<section id="section-6.2">
        <h3 id="name-migrating-a-network-to-use-">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-migrating-a-network-to-use-">Migrating a Network to Use PCEP Segment-Routed Paths</a>
        </h3>
<p id="section-6.2-1">
This section discusses the steps that the operator takes when migrating a
network to enable PCEP to set up paths using Segment Routing as the path
setup type.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<ul>
<li id="section-6.2-2.1">  The operator enables the Segment Routing PST on the PCE servers.<a class="pilcrow" href="#section-6.2-2.1">¶</a>
</li>
          <li id="section-6.2-2.2">  The operator enables the Segment Routing PST on the PCCs.<a class="pilcrow" href="#section-6.2-2.2">¶</a>
</li>
          <li id="section-6.2-2.3">  The operator resets each PCEP session.  The PCEP sessions come
   back up with Segment Routing enabled.<a class="pilcrow" href="#section-6.2-2.3">¶</a>
</li>
          <li id="section-6.2-2.4">  If the operator detects a problem, they can roll the network back
   to its initial state by disabling the Segment Routing PST on the
   PCEP speakers and resetting the PCEP sessions.<a class="pilcrow" href="#section-6.2-2.4">¶</a>
</li>
        </ul>
<p id="section-6.2-3">Note that the data plane is unaffected if a PCEP session is reset.  Any
LSPs that were set up before the session reset will remain in place and
will still be present after the session comes back up.<a class="pilcrow" href="#section-6.2-3">¶</a></p>
<p id="section-6.2-4">An implementation <span class="bcp14">SHOULD</span> allow the operator to manually trigger a PCEP
session to be reset.<a class="pilcrow" href="#section-6.2-4">¶</a></p>
<p id="section-6.2-5">An implementation <span class="bcp14">MAY</span> automatically reset a PCEP session when
an operator reconfigures the PCEP speaker's capabilities.  However, note that
if the capabilities at both ends of the PCEP session are not reconfigured
simultaneously, then the session could be reset twice, which could lead to
unnecessary network traffic.  Therefore, such implementations <span class="bcp14">SHOULD</span> allow
the operator to override this behavior and wait instead for a manual reset.<a class="pilcrow" href="#section-6.2-5">¶</a></p>
<p id="section-6.2-6">Once Segment Routing is enabled on a PCEP session, it can be used as the
path setup type for future LSPs.<a class="pilcrow" href="#section-6.2-6">¶</a></p>
<p id="section-6.2-7">User traffic is not automatically migrated from existing LSPs onto
segment-routed LSPs just by enabling the Segment Routing PST in PCEP.  The
migration of user traffic from existing LSPs onto Segment Routing LSPs is
beyond the scope of this document.<a class="pilcrow" href="#section-6.2-7">¶</a></p>
</section>
</div>
<div id="verification">
<section id="section-6.3">
        <h3 id="name-verification-of-network-ope">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-verification-of-network-ope">Verification of Network Operation</a>
        </h3>
<p id="section-6.3-1">The operator needs the following information to verify that PCEP is
operating correctly with respect to the Segment Routing path setup type.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<ul>
<li id="section-6.3-2.1">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view whether the
   PCEP speaker sent the Segment Routing PST capability to its peer.
   If the PCEP speaker is a PCC, then the implementation <span class="bcp14">SHOULD</span> also allow
   the operator to view the values of the L-Flag and N-Flag that were sent and the value of the MSD field
   that was sent.<a class="pilcrow" href="#section-6.3-2.1">¶</a>
</li>
          <li id="section-6.3-2.2">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view
   whether the peer sent the Segment Routing PST capability.  If the peer
   is a PCC, then the implementation <span class="bcp14">SHOULD</span> also allow the operator to view
   the values of the L-Flag and N-Flag and MSD fields that the peer sent.<a class="pilcrow" href="#section-6.3-2.2">¶</a>
</li>
          <li id="section-6.3-2.3">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view
   whether the Segment Routing PST is enabled on the PCEP session.<a class="pilcrow" href="#section-6.3-2.3">¶</a>
</li>
          <li id="section-6.3-2.4">  If one PCEP speaker advertises the Segment Routing PST capability, but the other
   does not, then the implementation <span class="bcp14">SHOULD</span> create a log to inform the
   operator of the capability mismatch.<a class="pilcrow" href="#section-6.3-2.4">¶</a>
</li>
          <li id="section-6.3-2.5">  An implementation <span class="bcp14">SHOULD</span> allow the operator to view the PST that was
   proposed, or requested, for an LSP and the PST that was actually used.<a class="pilcrow" href="#section-6.3-2.5">¶</a>
</li>
          <li id="section-6.3-2.6">  If a PCEP speaker decides to use a different PST to the one that was
   proposed, or requested, for an LSP, then the implementation <span class="bcp14">SHOULD</span>
   create a log to inform the operator that the expected PST has not been used.
   The log <span class="bcp14">SHOULD</span> give the reason for this choice (local policy,
   equipment capability, etc.).<a class="pilcrow" href="#section-6.3-2.6">¶</a>
</li>
          <li id="section-6.3-2.7">  If a PCEP speaker rejects a Segment Routing path, then it <span class="bcp14">SHOULD</span> create a log
   to inform the operator, giving the reason for the decision (local policy,
   MSD exceeded, etc.).<a class="pilcrow" href="#section-6.3-2.7">¶</a>
</li>
        </ul>
</section>
</div>
<div id="models">
<section id="section-6.4">
        <h3 id="name-relationship-to-existing-ma">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-relationship-to-existing-ma">Relationship to Existing Management Models</a>
        </h3>
<p id="section-6.4-1">The PCEP YANG module is defined in <span>[<a class="xref" href="#I-D.ietf-pce-pcep-yang">PCE-PCEP-YANG</a>]</span>.  In the future, this
   YANG module should be extended or augmented to provide the following
   additional information relating to Segment Routing:<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<ul>
<li id="section-6.4-2.1">  The advertised PST capabilities and MSD per PCEP session.<a class="pilcrow" href="#section-6.4-2.1">¶</a>
</li>
          <li id="section-6.4-2.2">  The PST configured for, and used by, each LSP.<a class="pilcrow" href="#section-6.4-2.2">¶</a>
</li>
        </ul>
<p id="section-6.4-3">The PCEP MIB <span>[<a class="xref" href="#RFC7420">RFC7420</a>]</span> could also be updated to include this
information.<a class="pilcrow" href="#section-6.4-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-7-1">The security considerations described in <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>, <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>, <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span>, and <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span> are
applicable to this specification.  No additional security measures are required.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Note that this specification enables a network controller to instantiate a
   path in the network without the use of a hop-by-hop signaling protocol
   (such as RSVP-TE).  This creates an additional vulnerability if the security
   mechanisms of <span>[<a class="xref" href="#RFC5440">RFC5440</a>]</span>, <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span>, and <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span> are not
   used.  If there is no integrity protection on the session, then an attacker could create a path that is not subjected to the
   further verification checks that would be performed by the signaling
   protocol.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">Note that this specification adds the MSD field to the Open message (see <a class="xref" href="#cap-negotiation">Section 4.1.2</a>),
   which discloses how many MPLS labels the sender can push onto packets that
   it forwards into the network. If the security mechanisms of <span>[<a class="xref" href="#RFC8231">RFC8231</a>]</span> and <span>[<a class="xref" href="#RFC8281">RFC8281</a>]</span>
   are not used with strong encryption, then an attacker could use this
   new field to gain intelligence about the capabilities of the edge devices in
   the network.<a class="pilcrow" href="#section-7-3">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="PCEP-Object-Codepoints">
<section id="section-8.1">
        <h3 id="name-pcep-ero-and-rro-subobjects">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-pcep-ero-and-rro-subobjects">PCEP ERO and RRO Subobjects</a>
        </h3>
<p id="section-8.1-1">This document defines a new subobject type for the PCEP ERO
      and a new subobject type for the PCEP RRO.  The codepoints for
      subobject types of these objects are maintained in the "Resource Reservation Protocol (RSVP) Parameters" registry, under the EXPLICIT_ROUTE and ROUTE_RECORD
 objects, respectively.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<div id="IANA-Subobject-Type">
<table class="center" id="table-1">
          <caption><a class="selfRef" href="#table-1">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Object</th>
              <th class="text-left" colspan="1" rowspan="1">Subobject</th>
              <th class="text-left" colspan="1" rowspan="1">Subobject Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">EXPLICIT_ROUTE</td>
              <td class="text-left" colspan="1" rowspan="1">SR-ERO (PCEP specific)</td>
              <td class="text-left" colspan="1" rowspan="1">36</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ROUTE_RECORD</td>
              <td class="text-left" colspan="1" rowspan="1">SR-RRO (PCEP specific)</td>
              <td class="text-left" colspan="1" rowspan="1">36</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="NAI-Type-Registry">
<section id="section-8.2">
        <h3 id="name-new-nai-type-registry">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-new-nai-type-registry">New NAI Type Registry</a>
        </h3>
<p id="section-8.2-1">IANA has created a new sub-registry within the "Path Computation
Element Protocol (PCEP) Numbers" registry called "PCEP SR-ERO NAI
Types". The allocation policy for this new registry is by IETF
Review <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>. The new registry contains the
following values:<a class="pilcrow" href="#section-8.2-1">¶</a></p>
<div id="New-PCEP-SR-ERO-NAI-value">
<table class="center" id="table-2">
          <caption><a class="selfRef" href="#table-2">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Description </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is absent.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is an IPv4 node ID.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is an IPv6 node ID.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is an IPv4 adjacency.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is an IPv6 adjacency with global IPv6 addresses.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is an unnumbered adjacency with IPv4 node IDs.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is an IPv6 adjacency with link-local IPv6 addresses.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">7-15</td>
              <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-SR-ERO-FLAG">
<section id="section-8.3">
        <h3 id="name-new-sr-ero-flag-registry">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-new-sr-ero-flag-registry">New SR-ERO Flag Registry</a>
        </h3>
<p id="section-8.3-1">IANA has created a new sub-registry, named
    "SR-ERO Flag Field", within the "Path Computation
    Element Protocol (PCEP) Numbers" registry to manage the Flag
    field of the SR-ERO subobject. New values are to be assigned by Standards
        Action <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>. Each bit should be tracked with the
        following qualities:<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<ul>
<li id="section-8.3-2.1">Bit number (counting from bit 0 as the most significant bit)<a class="pilcrow" href="#section-8.3-2.1">¶</a>
</li>
          <li id="section-8.3-2.2">Capability description<a class="pilcrow" href="#section-8.3-2.2">¶</a>
</li>
          <li id="section-8.3-2.3">Defining RFC<a class="pilcrow" href="#section-8.3-2.3">¶</a>
</li>
        </ul>
<p id="section-8.3-3">The following values are defined in this document:<a class="pilcrow" href="#section-8.3-3">¶</a></p>
<div id="SR-ERO-Flags">
<table class="center" id="table-3">
          <caption><a class="selfRef" href="#table-3">Table 3</a></caption>
<thead>
            <tr>
              <th class="text-center" colspan="1" rowspan="1">Bit</th>
              <th class="text-left" colspan="1" rowspan="1">Description </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">0-7</td>
              <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">8</td>
              <td class="text-left" colspan="1" rowspan="1">NAI is absent (F)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">9</td>
              <td class="text-left" colspan="1" rowspan="1">SID is absent (S)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">10</td>
              <td class="text-left" colspan="1" rowspan="1">SID specifies TC, S, and TTL in addition to an MPLS label (C)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">11</td>
              <td class="text-left" colspan="1" rowspan="1">SID specifies an MPLS label (M)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-Error-Object">
<section id="section-8.4">
        <h3 id="name-pcep-error-object">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-pcep-error-object">PCEP-Error Object</a>
        </h3>
<p id="section-8.4-1">IANA has allocated the following codepoints in the "PCEP-ERROR Object Error Types and Values" registry for the following new Error-values:<a class="pilcrow" href="#section-8.4-1">¶</a></p>
<div id="PCEP-Error-table">
<table class="center" id="table-4">
          <caption><a class="selfRef" href="#table-4">Table 4</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Error-Type</th>
              <th class="text-left" colspan="1" rowspan="1">Meaning</th>
              <th class="text-left" colspan="1" rowspan="1">Error-value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">10</td>
              <td class="text-left" colspan="1" rowspan="1">Reception of an invalid object</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">2: Bad label value</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">3: Unsupported number of SR-ERO subobjects</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">4: Bad label format</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">5: ERO mixes SR-ERO subobjects with other subobject types</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">6: Both SID and NAI are absent in the SR-ERO subobject</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">7: Both SID and NAI are absent in the SR-RRO subobject</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">9: MSD exceeds the default for the PCEP session</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">10: RRO mixes SR-RRO subobjects with other subobject types</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">12: Missing PCE-SR-CAPABILITY sub-TLV</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">13: Unsupported NAI Type in the SR-ERO/SR-RRO subobject</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">14: Unknown SID</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">15: NAI cannot be resolved to a SID</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">16: Could not find SRGB</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">17: SID index exceeds SRGB size</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">18: Could not find SRLB</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">19: SID index exceeds SRLB size</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">20: Inconsistent SIDs in SR-ERO / SR-RRO subobjects</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">21: MSD must be non-zero</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-TLV-Type-Indicators">
<section id="section-8.5">
        <h3 id="name-pcep-tlv-type-indicators">
<a class="section-number selfRef" href="#section-8.5">8.5. </a><a class="section-name selfRef" href="#name-pcep-tlv-type-indicators">PCEP TLV Type Indicators</a>
        </h3>
<p id="section-8.5-1">IANA has allocated the following codepoint in the "PCEP TLV Type Indicators" registry.  Note that this TLV type indicator is deprecated but retained in the registry to ensure compatibility with early implementations of this specification.  See <a class="xref" href="#Early">Appendix A</a> for details.<a class="pilcrow" href="#section-8.5-1">¶</a></p>
<div id="PCEP-New-TLV-CP">
<table class="center" id="table-5">
          <caption><a class="selfRef" href="#table-5">Table 5</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Meaning </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">26</td>
              <td class="text-left" colspan="1" rowspan="1">SR-PCE-CAPABILITY (deprecated)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-subTLV-Type-Indicators">
<section id="section-8.6">
        <h3 id="name-path-setup-type-capability-">
<a class="section-number selfRef" href="#section-8.6">8.6. </a><a class="section-name selfRef" href="#name-path-setup-type-capability-">PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators</a>
        </h3>
<p id="section-8.6-1">IANA has created a new sub-registry, named
        "PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators", within
        the "Path Computation Element Protocol (PCEP) Numbers"
        registry to manage the type indicator space for sub-TLVs of
        the PATH-SETUP-TYPE-CAPABILITY TLV. New values are to be
        assigned by Standards Action <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.  The
        valid range of values in the registry is 0-65535.  IANA 
        has initialized the registry with the following
        values.  All other values in the registry should be marked as
        "Unassigned".<a class="pilcrow" href="#section-8.6-1">¶</a></p>
<div id="PCEP-New-subTLV-CP">
<table class="center" id="table-6">
          <caption><a class="selfRef" href="#table-6">Table 6</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Meaning </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">26</td>
              <td class="text-left" colspan="1" rowspan="1">SR-PCE-CAPABILITY</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-PATH-SETUP-TYPE">
<section id="section-8.7">
        <h3 id="name-new-path-setup-type">
<a class="section-number selfRef" href="#section-8.7">8.7. </a><a class="section-name selfRef" href="#name-new-path-setup-type">New Path Setup Type</a>
        </h3>
<p id="section-8.7-1">A sub-registry within the "Path Computation Element Protocol (PCEP) Numbers" registry called "PCEP Path Setup Types" was created in <span>[<a class="xref" href="#RFC8408">RFC8408</a>]</span>. IANA has allocated a new codepoint within this registry, as follows:<a class="pilcrow" href="#section-8.7-1">¶</a></p>
<div id="PATH-SETUP-TLV-value">
<table class="center" id="table-7">
          <caption><a class="selfRef" href="#table-7">Table 7</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Description </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">Traffic-engineering path is set up using Segment Routing.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-METRIC-TYPE">
<section id="section-8.8">
        <h3 id="name-new-metric-type">
<a class="section-number selfRef" href="#section-8.8">8.8. </a><a class="section-name selfRef" href="#name-new-metric-type">New Metric Type</a>
        </h3>
<p id="section-8.8-1">IANA has allocated the following codepoint in the PCEP "METRIC Object T Field" registry:<a class="pilcrow" href="#section-8.8-1">¶</a></p>
<div id="METRIC-type">
<table class="center" id="table-8">
          <caption><a class="selfRef" href="#table-8">Table 8</a></caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Description </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">11</td>
              <td class="text-left" colspan="1" rowspan="1">Segment-ID (SID) Depth.</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="IANA-SR-PCE-CAP-FLAG">
<section id="section-8.9">
        <h3 id="name-sr-pce-capability-flags">
<a class="section-number selfRef" href="#section-8.9">8.9. </a><a class="section-name selfRef" href="#name-sr-pce-capability-flags">SR PCE Capability Flags</a>
        </h3>
<p id="section-8.9-1">IANA has created a new sub-registry, named
    "SR Capability Flag Field", within the "Path Computation
    Element Protocol (PCEP) Numbers" registry to manage the Flag
    field of the SR-PCE-CAPABILITY TLV. New values are to be assigned by Standards
        Action <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>. Each bit should be tracked with the
        following qualities:<a class="pilcrow" href="#section-8.9-1">¶</a></p>
<ul>
<li id="section-8.9-2.1">Bit number (counting from bit 0 as the most significant bit)<a class="pilcrow" href="#section-8.9-2.1">¶</a>
</li>
          <li id="section-8.9-2.2">Capability description<a class="pilcrow" href="#section-8.9-2.2">¶</a>
</li>
          <li id="section-8.9-2.3">Defining RFC<a class="pilcrow" href="#section-8.9-2.3">¶</a>
</li>
        </ul>
<p id="section-8.9-3">The following values are defined in this document:<a class="pilcrow" href="#section-8.9-3">¶</a></p>
<div id="SR-PCE-CAP-Flags">
<table class="center" id="table-9">
          <caption><a class="selfRef" href="#table-9">Table 9</a></caption>
<thead>
            <tr>
              <th class="text-center" colspan="1" rowspan="1">Bit</th>
              <th class="text-left" colspan="1" rowspan="1">Description </th>
              <th class="text-left" colspan="1" rowspan="1">Reference </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">0-5</td>
              <td class="text-left" colspan="1" rowspan="1">Unassigned</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">Node or Adjacency Identifier (NAI) is supported (N)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" colspan="1" rowspan="1">7</td>
              <td class="text-left" colspan="1" rowspan="1">Unlimited Maximum SID Depth (X)</td>
              <td class="text-left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span><span class="refAuthor">, Tappan, D.</span><span class="refAuthor">, Fedorkow, G.</span><span class="refAuthor">, Rekhter, Y.</span><span class="refAuthor">, Farinacci, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, and A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dt id="RFC5440">[RFC5440]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span><span class="refAuthor"> and JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time datetime="2009-03">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dt id="RFC8231">[RFC8231]</dt>
        <dd>
<span class="refAuthor">Crabbe, E.</span><span class="refAuthor">, Minei, I.</span><span class="refAuthor">, Medved, J.</span><span class="refAuthor">, and R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for Stateful PCE"</span>, <span class="seriesInfo">RFC 8231</span>, <span class="seriesInfo">DOI 10.17487/RFC8231</span>, <time datetime="2017-09">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8231">https://www.rfc-editor.org/info/rfc8231</a>&gt;</span>. </dd>
<dt id="RFC8281">[RFC8281]</dt>
        <dd>
<span class="refAuthor">Crabbe, E.</span><span class="refAuthor">, Minei, I.</span><span class="refAuthor">, Sivabalan, S.</span><span class="refAuthor">, and R. Varga</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Extensions for PCE-Initiated LSP Setup in a Stateful PCE Model"</span>, <span class="seriesInfo">RFC 8281</span>, <span class="seriesInfo">DOI 10.17487/RFC8281</span>, <time datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8281">https://www.rfc-editor.org/info/rfc8281</a>&gt;</span>. </dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S., Ed.</span><span class="refAuthor">, Ginsberg, L.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dt id="RFC8408">[RFC8408]</dt>
        <dd>
<span class="refAuthor">Sivabalan, S.</span><span class="refAuthor">, Tantsura, J.</span><span class="refAuthor">, Minei, I.</span><span class="refAuthor">, Varga, R.</span><span class="refAuthor">, and J. Hardwick</span>, <span class="refTitle">"Conveying Path Setup Type in PCE Communication Protocol (PCEP) Messages"</span>, <span class="seriesInfo">RFC 8408</span>, <span class="seriesInfo">DOI 10.17487/RFC8408</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8408">https://www.rfc-editor.org/info/rfc8408</a>&gt;</span>. </dd>
<dt id="RFC8491">[RFC8491]</dt>
        <dd>
<span class="refAuthor">Tantsura, J.</span><span class="refAuthor">, Chunduri, U.</span><span class="refAuthor">, Aldrin, S.</span><span class="refAuthor">, and L. Ginsberg</span>, <span class="refTitle">"Signaling Maximum SID Depth (MSD) Using IS-IS"</span>, <span class="seriesInfo">RFC 8491</span>, <span class="seriesInfo">DOI 10.17487/RFC8491</span>, <time datetime="2018-11">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8491">https://www.rfc-editor.org/info/rfc8491</a>&gt;</span>. </dd>
<dt id="RFC8660">[RFC8660]</dt>
      <dd>
<span class="refAuthor">Bashandy, A., Ed.</span><span class="refAuthor">, Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-6man-segment-routing-header">[IPv6-SRH]</dt>
        <dd>
<span class="refAuthor">Filsfils, C.</span><span class="refAuthor">, Dukes, D.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, Leddy, J.</span><span class="refAuthor">, Matsushima, S.</span><span class="refAuthor">, and D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-segment-routing-header-26</span>, <time datetime="2019-10-22">22 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26">https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26</a>&gt;</span>. </dd>
<dt id="I-D.ietf-idr-bgp-ls-segment-routing-msd">[MSD-BGP]</dt>
        <dd>
<span class="refAuthor">Tantsura, J.</span><span class="refAuthor">, Chunduri, U.</span><span class="refAuthor">, Talaulikar, K.</span><span class="refAuthor">, Mirsky, G.</span><span class="refAuthor">, and N. Triantafillis</span>, <span class="refTitle">"Signaling MSD (Maximum SID Depth) using Border Gateway Protocol Link-State"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-idr-bgp-ls-segment-routing-msd-09</span>, <time datetime="2019-10-15">15 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-msd-09">https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-msd-09</a>&gt;</span>. </dd>
<dt id="I-D.ietf-pce-pcep-yang">[PCE-PCEP-YANG]</dt>
        <dd>
<span class="refAuthor">Dhody, D.</span><span class="refAuthor">, Hardwick, J.</span><span class="refAuthor">, Beeram, V.</span><span class="refAuthor">, and J. Tantsura</span>, <span class="refTitle">"A YANG Data Model for Path Computation Element Communications Protocol (PCEP)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-pce-pcep-yang-13</span>, <time datetime="2019-10-31">31 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13">https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13</a>&gt;</span>. </dd>
<dt id="RFC3209">[RFC3209]</dt>
        <dd>
<span class="refAuthor">Awduche, D.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Gan, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, Srinivasan, V.</span><span class="refAuthor">, and G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time datetime="2001-12">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dt id="RFC4657">[RFC4657]</dt>
        <dd>
<span class="refAuthor">Ash, J., Ed.</span><span class="refAuthor"> and J.L. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol Generic Requirements"</span>, <span class="seriesInfo">RFC 4657</span>, <span class="seriesInfo">DOI 10.17487/RFC4657</span>, <time datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4657">https://www.rfc-editor.org/info/rfc4657</a>&gt;</span>. </dd>
<dt id="RFC7420">[RFC7420]</dt>
        <dd>
<span class="refAuthor">Koushik, A.</span><span class="refAuthor">, Stephan, E.</span><span class="refAuthor">, Zhao, Q.</span><span class="refAuthor">, King, D.</span><span class="refAuthor">, and J. Hardwick</span>, <span class="refTitle">"Path Computation Element Communication Protocol (PCEP) Management Information Base (MIB) Module"</span>, <span class="seriesInfo">RFC 7420</span>, <span class="seriesInfo">DOI 10.17487/RFC7420</span>, <time datetime="2014-12">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7420">https://www.rfc-editor.org/info/rfc7420</a>&gt;</span>. </dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Leiba, B.</span><span class="refAuthor">, and T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dt id="RFC8413">[RFC8413]</dt>
        <dd>
<span class="refAuthor">Zhuang, Y.</span><span class="refAuthor">, Wu, Q.</span><span class="refAuthor">, Chen, H.</span><span class="refAuthor">, and A. Farrel</span>, <span class="refTitle">"Framework for Scheduled Use of Resources"</span>, <span class="seriesInfo">RFC 8413</span>, <span class="seriesInfo">DOI 10.17487/RFC8413</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8413">https://www.rfc-editor.org/info/rfc8413</a>&gt;</span>. </dd>
<dt id="RFC8476">[RFC8476]</dt>
        <dd>
<span class="refAuthor">Tantsura, J.</span><span class="refAuthor">, Chunduri, U.</span><span class="refAuthor">, Aldrin, S.</span><span class="refAuthor">, and P. Psenak</span>, <span class="refTitle">"Signaling Maximum SID Depth (MSD) Using OSPF"</span>, <span class="seriesInfo">RFC 8476</span>, <span class="seriesInfo">DOI 10.17487/RFC8476</span>, <time datetime="2018-12">December 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8476">https://www.rfc-editor.org/info/rfc8476</a>&gt;</span>. </dd>
<dt id="RFC8665">[RFC8665]</dt>
        <dd>
<span class="refAuthor">Psenak, P., Ed.</span><span class="refAuthor">, Previdi, S., Ed.</span><span class="refAuthor">, Filsfils, C.</span><span class="refAuthor">, Gredler, H.</span><span class="refAuthor">, Shakir, R.</span><span class="refAuthor">, Henderickx, W.</span><span class="refAuthor">, and J. Tantsura</span>, <span class="refTitle">"OSPF Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8665</span>, <span class="seriesInfo">DOI 10.17487/RFC8665</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8665">https://www.rfc-editor.org/info/rfc8665</a>&gt;</span>. </dd>
<dt id="RFC8667">[RFC8667]</dt>
        <dd>
<span class="refAuthor">Previdi, S., Ed.</span><span class="refAuthor">, Ginsberg, L., Ed.</span><span class="refAuthor">, Filsfils, C.</span><span class="refAuthor">, Bashandy, A.</span><span class="refAuthor">, Gredler, H.</span><span class="refAuthor">, and B. Decraene</span>, <span class="refTitle">"IS-IS Extensions for Segment Routing"</span>, <span class="seriesInfo">RFC 8667</span>, <span class="seriesInfo">DOI 10.17487/RFC8667</span>, <time datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8667">https://www.rfc-editor.org/info/rfc8667</a>&gt;</span>. </dd>
<dt id="I-D.ietf-spring-segment-routing-policy">[SR-POLICY]</dt>
      <dd>
<span class="refAuthor">Filsfils, C.</span><span class="refAuthor">, Sivabalan, S.</span><span class="refAuthor">, Voyer, D.</span><span class="refAuthor">, Bogdanov, A.</span><span class="refAuthor">, and P. Mattes</span>, <span class="refTitle">"Segment Routing Policy Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-segment-routing-policy-05</span>, <time datetime="2019-11-17">17 November 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-spring-segment-routing-policy-05">https://tools.ietf.org/html/draft-ietf-spring-segment-routing-policy-05</a>&gt;</span>. </dd>
</dl>
</section>
</section>
<div id="Early">
<section id="section-appendix.a">
      <h2 id="name-compatibility-with-early-im">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-compatibility-with-early-im">Compatibility with Early Implementations</a>
      </h2>
<p id="section-appendix.a-1">
  An early implementation of this specification will send the
  SR-CAPABILITY-TLV as a top-level TLV in the OPEN object instead
  of sending the PATH-SETUP-TYPE-CAPABILITY TLV in the OPEN object.
  Implementations that wish to interoperate with such early implementations
  should also send the SR-CAPABILITY-TLV as a top-level TLV in their OPEN object
  and should interpret receiving this top-level TLV as though the sender had sent
  a PATH-SETUP-TYPE-CAPABILITY TLV with a PST list of (0, 1) (that is, both RSVP-TE and
  SR-TE PSTs are supported) with the SR-CAPABILITY-TLV as a sub-TLV.
  If a PCEP speaker receives an OPEN object in which both the
  SR-CAPABILITY-TLV and PATH-SETUP-TYPE-CAPABILITY TLV appear as top-level
  TLVs, then it should ignore the top-level SR-CAPABILITY-TLV and process
  only the PATH-SETUP-TYPE-CAPABILITY TLV.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
</div>
<div id="Acknowledgement">
<section id="section-appendix.b">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.b-1">We thank Ina Minei, George Swallow, Marek Zavodsky, Dhruv Dhody, Ing-Wher Chen, and Tomas Janciga for the valuable comments.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
</section>
</div>
<div id="Contributors">
<section id="section-appendix.c">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="section-appendix.c-1">The following people contributed to this document:<a class="pilcrow" href="#section-appendix.c-1">¶</a></p>
<ul>
<li id="section-appendix.c-2.1">Lakshmi Sharma<a class="pilcrow" href="#section-appendix.c-2.1">¶</a>
</li>
        <li id="section-appendix.c-2.2">Jan Medved<a class="pilcrow" href="#section-appendix.c-2.2">¶</a>
</li>
        <li id="section-appendix.c-2.3">Edward Crabbe<a class="pilcrow" href="#section-appendix.c-2.3">¶</a>
</li>
        <li id="section-appendix.c-2.4">Robert Raszuk<a class="pilcrow" href="#section-appendix.c-2.4">¶</a>
</li>
        <li id="section-appendix.c-2.5">Victor Lopez<a class="pilcrow" href="#section-appendix.c-2.5">¶</a>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.d">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Siva Sivabalan</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">2000 Innovation Drive</span></div>
<div class="left" dir="auto">
<span class="locality">Kanata</span> <span class="region">Ontario</span> <span class="postal-code">K2K 3E8</span>
</div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:msiva@cisco.com">msiva@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Clarence Filsfils</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">Pegasus Parc</span></div>
<div class="left" dir="auto">
<span class="postal-code">Brabant 1831</span> <span class="locality">De kleetlaan 6a</span>
</div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cfilsfil@cisco.com">cfilsfil@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jeff Tantsura</span></div>
<div class="left" dir="auto"><span class="org">Apstra, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">333 Middlefield Rd #200</span></div>
<div class="left" dir="auto">
<span class="locality">Menlo Park</span>, <span class="region">CA</span> <span class="postal-code">94025</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jefftant.ietf@gmail.com">jefftant.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Wim Henderickx</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto"><span class="street-address">Copernicuslaan 50</span></div>
<div class="left" dir="auto">
<span class="postal-code">95134</span> <span class="locality">Antwerp 2018</span>
</div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:wim.henderickx@nokia.com">wim.henderickx@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jon Hardwick</span></div>
<div class="left" dir="auto"><span class="org">Metaswitch Networks</span></div>
<div class="left" dir="auto"><span class="street-address">100 Church Street</span></div>
<div class="left" dir="auto"><span class="locality">Enfield</span></div>
<div class="left" dir="auto"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jonathan.hardwick@metaswitch.com">jonathan.hardwick@metaswitch.com</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>


</body></html>