<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9377: IS-IS Flood Reflection</title>
<meta content="Tony Przygienda" name="author"/>
<meta content="Chris Bowers" name="author"/>
<meta content="Yiu Lee" name="author"/>
<meta content="Alankar Sharma" name="author"/>
<meta content="Russ White" name="author"/>
<meta content="
       This document describes a backward-compatible, optional IS-IS
      extension that allows the creation of IS-IS flood reflection topologies.
      Flood reflection permits topologies in which IS‑IS Level 1 (L1) areas
      provide transit-forwarding for IS‑IS Level 2 (L2) areas using all
      available L1 nodes internally.  It accomplishes this by
      creating L2 flood reflection adjacencies within each L1 area. Those
      adjacencies are used to flood L2 Link State Protocol Data Units (LSPs) and are used in the L2 Shortest Path First (SPF)
      computation.  However, they are not ordinarily utilized for forwarding
      within the flood reflection cluster.

          

                This arrangement gives
 the L2 topology significantly better scaling properties than prevalently used
                flat designs.  As an additional benefit,
                only those routers directly participating
 in flood reflection are required to support the feature.  This allows for
 incremental deployment of scalable L1 transit areas in an existing, previously
          flat network design, without
 the necessity of upgrading all routers in the network.
       
    " name="description"/>
<meta content="xml2rfc 3.17.0" name="generator"/>
<meta content="scalability" name="keyword"/>
<meta content="9377" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.17.0
    Python 3.9.15
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    MarkupSafe 2.1.1
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9377.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9377" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-lsr-isis-flood-reflection-12" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9377</td>
<td class="center">IS-IS Flood Reflection</td>
<td class="right">April 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Przygienda, et al.</td>
<td class="center">Experimental</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9377">9377</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Experimental</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-04">April 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T. Przygienda, <span class="editor">Ed.</span>
</div>
<div class="org">Juniper</div>
</div>
<div class="author">
      <div class="author-name">C. Bowers</div>
<div class="org">Individual</div>
</div>
<div class="author">
      <div class="author-name">Y. Lee</div>
<div class="org">Comcast</div>
</div>
<div class="author">
      <div class="author-name">A. Sharma</div>
<div class="org">Individual</div>
</div>
<div class="author">
      <div class="author-name">R. White</div>
<div class="org">Akamai</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9377</h1>
<h1 id="title">IS-IS Flood Reflection</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document describes a backward-compatible, optional IS-IS
      extension that allows the creation of IS-IS flood reflection topologies.
      Flood reflection permits topologies in which IS‑IS Level 1 (L1) areas
      provide transit-forwarding for IS‑IS Level 2 (L2) areas using all
      available L1 nodes internally.  It accomplishes this by
      creating L2 flood reflection adjacencies within each L1 area. Those
      adjacencies are used to flood L2 Link State Protocol Data Units (LSPs) and are used in the L2 Shortest Path First (SPF)
      computation.  However, they are not ordinarily utilized for forwarding
      within the flood reflection cluster.

          

                This arrangement gives
 the L2 topology significantly better scaling properties than prevalently used
                flat designs.  As an additional benefit,
                only those routers directly participating
 in flood reflection are required to support the feature.  This allows for
 incremental deployment of scalable L1 transit areas in an existing, previously
          flat network design, without
 the necessity of upgrading all routers in the network.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for examination, experimental implementation, and
            evaluation.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document defines an Experimental Protocol for the Internet
            community.  This document is a product of the Internet Engineering
            Task Force (IETF).  It represents the consensus of the IETF community.
            It has received public review and has been approved for publication
            by the Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9377">https://www.rfc-editor.org/info/rfc9377</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p class="keepWithNext" id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-further-details">Further Details</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-encodings">Encodings</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-flood-reflection-tlv">Flood Reflection TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-flood-reflection-discovery-">Flood Reflection Discovery Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-flood-reflection-discovery-t">Flood Reflection Discovery Tunnel Type Sub-Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="auto internal xref" href="#section-4.4">4.4</a>.  <a class="internal xref" href="#name-flood-reflection-adjacency-">Flood Reflection Adjacency Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="auto internal xref" href="#section-4.5">4.5</a>.  <a class="internal xref" href="#name-flood-reflection-discovery">Flood Reflection Discovery</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="auto internal xref" href="#section-4.6">4.6</a>.  <a class="internal xref" href="#name-flood-reflection-adjacency-f">Flood Reflection Adjacency Formation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-route-computation">Route Computation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-tunnel-based-deployment">Tunnel-Based Deployment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-no-tunnel-deployment">No-Tunnel Deployment</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-redistribution-of-prefixes">Redistribution of Prefixes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-special-considerations">Special Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#section-8.1">8.1</a>.  <a class="internal xref" href="#name-new-is-is-tlv-codepoint">New IS-IS TLV Codepoint</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#section-8.2">8.2</a>.  <a class="internal xref" href="#name-sub-tlvs-for-is-is-router-c">Sub-TLVs for IS-IS Router CAPABILITY TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="auto internal xref" href="#section-8.3">8.3</a>.  <a class="internal xref" href="#name-sub-sub-tlvs-for-flood-refl">Sub-Sub-TLVs for Flood Reflection Discovery Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="auto internal xref" href="#section-8.4">8.4</a>.  <a class="internal xref" href="#name-sub-tlvs-for-tlvs-advertisi">Sub-TLVs for TLVs Advertising Neighbor Information</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#section-10.1">10.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#section-10.2">10.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1"> This section introduces the problem space and outlines the solution. Some of the terms
            may be unfamiliar to readers without extensive IS-IS background; for such readers,
            the terminology is provided in <a class="auto internal xref" href="#terminology">Section 2.1</a>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">Due to the inherent properties of link-state protocols, the number of
      IS-IS routers within a flooding domain is limited by processing and
      flooding overhead on each node. While that number can be maximized by
      well-written implementations and techniques such as exponential
      backoffs, IS-IS will still reach a saturation point where no further
      routers can be added to a single flooding domain.  In some L2 backbone
      deployment scenarios, this limit presents a significant challenge.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">
 The standard approach to increasing the scale of an IS-IS deployment is
 to break it up into multiple L1 flooding domains and a single L2
 backbone. This works well for designs where an L2 backbone connects L1
                access topologies, but it is limiting where a single, flat L2 domain is supposed to span
                large number of routers. In such scenarios, an alternative approach could be to
                consider multiple
 L2 flooding domains that are connected together via L1 flooding domains.
                In other words, L2 flooding domains are connected by "L1/L2 lanes" through
 the L1 areas to form a single L2 backbone again. Unfortunately, in its
 simplest implementation, this requires the inclusion of most, or all, of
 the transit L1 routers as L1/L2 to allow traffic to flow along optimal
 paths through those transit areas. Consequently, such an approach
 fails to reduce the number of L2 routers involved and, with that,
          fails to increase the
 scalability of the L2 backbone as well.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
            <a class="auto internal xref" href="#f1">Figure 1</a> is an example of a network where a topologically rich L1 area
            is used to provide transit between six different L2-only routers (R1-R6).  Note that
            the six L2-only routers do not have connectivity to one another over L2 links.
            To take advantage of the abundance of paths in the L1 transit area,
            all the intermediate systems could be placed into both L1 and L2, but this
            essentially combines the separate L2 flooding domains into a single one,
            again triggering the maximum L2 scale limitation we were trying to address in first place.<a class="pilcrow" href="#section-1-4">¶</a></p>
<span id="name-example-topology-of-l1-with"></span><div id="f1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-1-5.1">
<pre>+====+  +=======+             +=======+               +======-+  +====+
I R1 I  I  R10  +-------------+  R20  +---------------+  R30  I  I R4 I
I L2 +--+ L1/L2 I             I  L1   I               I L1/L2 +--+ L2 I
I    I  I       +          +--+       I  +------------+       I  I    I
+====+  ++====+=+          |  +===+===+  |            +=+==+=++  +====+
         |    |            |      |      |              |    |
         |    |            |      |      |  +-----------+    |
         |    +-------+    |      |      |  |                |
         |            |    |      |      |  |                |
         |            |    |      |      |  |                |
         |            |    |      |      |  |                |
+====+  ++=====-+     |    |  +===+===+--+  |         +======++  +====+
I R2 I  I  R11  I     |    |  I  R21  I     |         I  R31  I  I R5 I
I L2 +--+ L1/L2 +-------------+  L1   +---------------+ L1/L2 +--+ L2 I
I    I  I       I     |    |  I       I     | +-------+       I  I    I
+====+  ++=====-+     |    |  ++==+==++     | |       +======++  +====+
         |            |    |   |  |  |      | |              |
         | +---------------+   |  |  |      | |              |
         | |          |        |  |  |      | |              |
         | |  +----------------+  |  +-----------------+     |
         | |  |       |           |         | |        |     |
+====+  ++=+==+=+     +-------+===+===+-----+ |       ++=====++  +====+
I R3 I  I  R12  I             I  R22  I       |       +  R32  I  I R6 I
I L2 +--+ L1/L2 I             I  L1   +-------+       I L1/L2 +--+ L2 I
I    I  I       +-------------+       +---------------+       I  I    I
+====+  +=======+             +=======+               +=======+  +====+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-example-topology-of-l1-with">Example Topology of L1 with L2 Borders</a>
        </figcaption></figure>
</div>
<p id="section-1-6"> A more effective solution would allow the reduction of the number of links and routers exposed
                in L2, while still utilizing
                the full L1 topology when forwarding through the network.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7"> <span>[<a class="cite xref" href="#RFC8099">RFC8099</a>]</span> describes Topology Transparent Zones (TTZ) for OSPF.
     The TTZ mechanism represents a group of OSPF routers as a full mesh of adjacencies
 between the routers at the edge of the group.  A similar mechanism
                could be applied to IS-IS as well.  However, a full mesh of adjacencies between edge routers
 (or L1/L2 nodes) significantly limits the practically achievable scale of the
          resulting topology.
 The topology in <a class="auto internal xref" href="#f1">Figure 1</a> has six L1/L2 nodes.   <a class="auto internal xref" href="#f2">Figure 2</a> illustrates
 a full mesh of L2 adjacencies between the six L1/L2 nodes, resulting in
 (5 * 6)/2 = 15 L2 adjacencies. In a somewhat larger topology containing 20 L1/L2 nodes,
 the number of L2 adjacencies in a full mesh rises to 190.<a class="pilcrow" href="#section-1-7">¶</a></p>
<span id="name-example-topology-represente"></span><div id="f2">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-1-8.1">
<pre>+----+  +-------+    +-------------------------------+-------+  +----+
| R1 |  |  R10  |    |                               |  R30  |  | R4 |
| L2 +--+ L1/L2 +------------------------------------+ L1/L2 +--+ L2 |
|    |  |       |    |                               |       |  |    |
+----+  ++-+-+--+-+  |                             +-+--+---++  +----+
         | | |    |  |                             |    |   |
         | +----------------------------------------------+ |
         |   |    |  |                             |    | | |
         |   +-----------------------------------+ |    | | |
         |        |  |                           | |    | | |
         |     +----------------------------------------+ | |
         |     |  |  |                           | |      | |
+----+  ++-----+- |  |                           | | -----+-++  +----+
| R2 |  |  R11  | |  |                           | | |  R31  |  | R5 |
| L2 +--+ L1/L2 +------------------------------------+ L1/L2 +--+ L2 |
|    |  |       | |  |                           | | |       |  |    |
+----+  ++------+------------------------------+ | | +----+-++  +----+
         |        |  |                         | | |      | |
         |        |  |                         | | |      | |
         |    +-------------------------------------------+ |
         |    |   |  |                         | | |        |
         |    |   |  |                         +----------+ |
         |    |   |  |                           | |      | |
         |    |   |  |                           +-----+  | |
         |    |   |  |                             |   |  | |
+----+  ++----+-+-+  |                             +-+-+--+-++  +----+
| R3 |  |  R12  |    |      L2 adjacency             |  R32  |  | R6 |
| L2 +--+ L1/L2 +------------------------------------+ L1/L2 +--+ L2 |
|    |  |       |    |                               |       |  |    |
+----+  +-------+----+                               +-------+  +----+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-example-topology-represente">Example Topology Represented in L2 with a Full Mesh of L2 Adjacencies between L1/L2 Nodes</a>
        </figcaption></figure>
</div>
<p id="section-1-9">
                BGP, as specified in <span>[<a class="cite xref" href="#RFC4271">RFC4271</a>]</span>, faced a similar scaling problem, which
                has been
                solved in many networks by deploying BGP route reflectors <span>[<a class="cite xref" href="#RFC4456">RFC4456</a>]</span>.
                We note that BGP route reflectors do not necessarily have to be in the
                forwarding path of the traffic. This non-congruity of forwarding and control path for BGP
 route reflectors allows the control plane to scale independently of the forwarding plane and
          represents an interesting degree of freedom in network architecture.<a class="pilcrow" href="#section-1-9">¶</a></p>
<p id="section-1-10">
                We propose in this document a similar solution for IS-IS and call it "flood reflection"
          in a fashion analogous to "route reflection". A simple example of what a flood
                reflector control plane approach would look like
                is shown in <a class="auto internal xref" href="#f3">Figure 3</a>, where router R21 plays the role of a flood reflector. Each
                L1/L2 ingress/egress router builds a tunnel to the flood reflector, and an L2 adjacency is built
 over each tunnel.  In this solution, we need only six L2 adjacencies,
 instead of the 15 needed for a full mesh.  In a somewhat larger topology containing 20 L1/L2 nodes,
 this solution requires only 20 L2 adjacencies, instead of the 190 needed for a full mesh.
                Multiple flood reflectors can be used, allowing the network operator to balance between
                resilience, path utilization, and state in the control plane. The resulting
                L2 adjacency scale is R*n, where R is the number of flood reflectors used and n is the number of
 L1/L2 nodes.  This compares quite favorably with n*(n-1)/2 L2 adjacencies
 required in a topologically fully meshed L2 solution.<a class="pilcrow" href="#section-1-10">¶</a></p>
<span id="name-example-topology-represented"></span><div id="f3">
<figure id="figure-3">
        <div class="alignLeft art-text artwork" id="section-1-11.1">
<pre>+----+  +-------+                                    +-------+  +----+
| R1 |  |  R10  |                                    |  R30  |  | R4 |
| L2 +--+ L1/L2 +--------------+   +-----------------+ L1/L2 +--+ L2 |
|    |  |       |  L2 adj      |   |      L2 adj     |       |  |    |
+----+  +-------+  over        |   |      over       +-------+  +----+
                   tunnel      |   |      tunnel
+----+  +-------+           +--+---+--+              +-------+  +----+
| R2 |  |  R11  |           |   R21   |              |  R31  |  | R5 |
| L2 +--+ L1/L2 +-----------+  L1/L2  +--------------+ L1/L2 +--+ L2 |
|    |  |       |  L2 adj   |  flood  |   L2 adj     |       |  |    |
+----+  +-------+  over     |reflector|   over       +-------+  +----+
                   tunnel   +--+---+--+   tunnel
+----+  +-------+              |   |                 +-------+  +----+
| R3 |  |  R12  +--------------+   +-----------------+  R32  |  | R6 |
| L2 +--+ L1/L2 |  L2 adj                 L2 adj     | L1/L2 +--+ L2 |
|    |  |       |  over                   over       |       |  |    |
+----+  +-------+  tunnel                 tunnel     +-------+  +----+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-example-topology-represented">Example Topology Represented in L2 with L2 Adjacencies from Each L1/L2 Node to a Single Flood Reflector</a>
        </figcaption></figure>
</div>
<p id="section-1-12">As illustrated in <a class="auto internal xref" href="#f3">Figure 3</a>, when R21
      plays the role of flood reflector, it provides L2 connectivity among all
      of the previously disconnected L2 islands by reflooding all L2 Link State Protocol Data Unit (LSPs).
      At the same time, R20 and R22 in <a class="auto internal xref" href="#f1">Figure 1</a> remain L1-only
      routers.  L1-only routers and L1-only links are not visible in L2.  In
      this manner, the flood reflector allows us to provide L2 control plane
      connectivity in a manner more scalable than a flat L2 domain.<a class="pilcrow" href="#section-1-12">¶</a></p>
<p id="section-1-13">
                As described so far, the solution illustrated in  <a class="auto internal xref" href="#f3">Figure 3</a> relies
 only on currently standardized IS-IS functionality. Without new functionality, however,
                the data traffic will traverse only R21.  This will unnecessarily create a bottleneck
 at R21 since there is still available capacity in the paths crossing the L1-only
 routers R20 and R22 in <a class="auto internal xref" href="#f1">Figure 1</a>.<a class="pilcrow" href="#section-1-13">¶</a></p>
<p id="section-1-14">Hence, additional functionality is compulsory to allow the L1/L2 edge
      nodes (R10-12 and R30-32 in <a class="auto internal xref" href="#f3">Figure 3</a>) to
      recognize that the L2 adjacency to R21 should not be used for
      forwarding. The L1/L2 edge nodes should forward traffic that would
      normally be forwarded over the L2 adjacency to R21 over L1 links
      instead.  This would allow the forwarding within the L1 area to use the
      L1-only nodes and links shown in <a class="auto internal xref" href="#f1">Figure 1</a> as
      well.  
   It allows networks that use                                      
   the entire forwarding capacity of the L1 areas to be built, while 
   at the same time it introduces control plane scaling benefits that 
   are provided by L2 flood reflectors.<a class="pilcrow" href="#section-1-14">¶</a></p>
<p id="section-1-15">
   It is expected that deployment at scale, and suitable time in 
   operation, will provide sufficient evidence to either put this 
   extension into a Standards Track document or suggest necessary 
   modifications to accomplish that.<a class="pilcrow" href="#section-1-15">¶</a></p>
<p id="section-1-16"> The remainder of this document defines the remaining extensions necessary
          for a complete flood reflection solution:<a class="pilcrow" href="#section-1-16">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-17.1">
            It defines a special "flood reflector adjacency"
            built for the purpose of reflecting flooding
            information.  These adjacencies allow "flood reflectors" to
            participate in the IS-IS control plane without necessarily being
            used in the forwarding plane.  Maintenance of such adjacencies is
            a purely local operation on the L1/L2 ingress and flood
            reflectors; it does not require replacing or modifying any routers
            not involved in the reflection process.  In practical deployments, it is
            far less tricky to just upgrade the routers involved in flood
            reflection rather than have a flag day for the whole IS-IS domain.<a class="pilcrow" href="#section-1-17.1">¶</a>
</li>
        <li class="normal" id="section-1-17.2">
            It specifies an (optional) full mesh of tunnels between the L1/L2
            ingress routers, ideally load-balancing across all available L1
            links.  This harnesses all forwarding paths between the L1/L2 edge
            nodes without injecting unneeded state into the L2 flooding domain
            or creating "choke points" at the "flood reflectors" themselves.
            The specification is agnostic as to the tunneling technology used but
            provides enough information for automatic establishment of such
            tunnels if desired.  The discussion of IS-IS adjacency formation and/or
            liveness discovery on such tunnels is outside the scope of this
            specification and is largely a choice of the underlying implementation.  A
            solution without tunnels is also possible by introducing the correct
            scoping of reachability information between the levels. This is
            described in more detail later.<a class="pilcrow" href="#section-1-17.2">¶</a>
</li>
        <li class="normal" id="section-1-17.3">
            Finally, this document defines support of reflector redundancy
            and an (optional) way to auto-discover and annotate flood
            reflector adjacencies on advertisements.  Such additional
            information in link advertisements allows L2 nodes outside the L1
            area to recognize a flood reflection cluster and its adjacencies.<a class="pilcrow" href="#section-1-17.3">¶</a>
</li>
      </ul>
</section>
<div id="conv">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a>
      </h2>
<div id="terminology">
<section id="section-2.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-2.1-1">
              The following terms are used in this document.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-2">
          <dt id="section-2.1-2.1">IS-IS Level 1 and Level 2 areas (mostly abbreviated as L1 and
              L2):</dt>
          <dd id="section-2.1-2.2" style="margin-left: 1.5em">IS-IS concepts where a routing domain has two
              "levels" with a single L2 area being the "backbone" that
              connects multiple L1 areas for scaling and reliability
              purposes. 

      IS-IS architecture prescribes a routing domain with two
      "levels" where a single L2 area functions as the "backbone" that connects
      multiple L1 areas amongst themselves for scaling and reliability purposes. 
      In such architecture, L2 can be used as transit for traffic carried from one L1 area to another, but
      L1 areas themselves cannot be used for that purpose because the L2 level must
      be a single "connected" entity, and all traffic exiting an L1 area flows along L2 routers until the
      traffic arrives at the destination L1 area itself.<a class="pilcrow" href="#section-2.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.3">Flood Reflector:</dt>
          <dd id="section-2.1-2.4" style="margin-left: 1.5em">Node configured to connect in L2 only to flood reflector
              clients and to reflect (reflood) IS-IS L2 LSPs amongst them.<a class="pilcrow" href="#section-2.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.5">Flood Reflector Client:</dt>
          <dd id="section-2.1-2.6" style="margin-left: 1.5em">Node configured to build Flood Reflector Adjacencies to Flood
      Reflectors and to build normal adjacencies to other clients and 
      L2 nodes not participating in flood reflection.<a class="pilcrow" href="#section-2.1-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.7">Flood Reflector Adjacency:</dt>
          <dd id="section-2.1-2.8" style="margin-left: 1.5em">IS-IS L2 adjacency where one end is a Flood Reflector Client,
              and the other, a Flood Reflector. Both have the same Flood
              Reflector Cluster ID.<a class="pilcrow" href="#section-2.1-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.9">Flood Reflector Cluster:</dt>
          <dd id="section-2.1-2.10" style="margin-left: 1.5em">Collection of clients and flood reflectors configured with the same cluster identifier.<a class="pilcrow" href="#section-2.1-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.11">
                  Tunnel-Based Deployment:
          </dt>
          <dd id="section-2.1-2.12" style="margin-left: 1.5em">Deployment where Flood Reflector Clients build a partial or full mesh of tunnels in L1  to "shortcut"
                  forwarding of L2 traffic through the cluster.<a class="pilcrow" href="#section-2.1-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.13">
                  No-Tunnel Deployment:
          </dt>
          <dd id="section-2.1-2.14" style="margin-left: 1.5em">
                  Deployment where Flood Reflector Clients redistribute L2 reachability into L1 to allow
                  forwarding through the cluster without underlying tunnels.<a class="pilcrow" href="#section-2.1-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.15">
                  Tunnel Endpoint:
          </dt>
          <dd id="section-2.1-2.16" style="margin-left: 1.5em">An endpoint that allows the establishment of a
              bidirectional tunnel carrying IS-IS control traffic or,
              alternately, serves as the origin of such a tunnel.<a class="pilcrow" href="#section-2.1-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.17">L1 shortcut:</dt>
          <dd id="section-2.1-2.18" style="margin-left: 1.5em">A tunnel established between two clients that is visible in L1
              only and is used as a next hop, i.e., to carry data traffic
              in tunnel-based deployment mode.<a class="pilcrow" href="#section-2.1-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.19">Hot-Potato Routing:</dt>
          <dd id="section-2.1-2.20" style="margin-left: 1.5em">In the context of this document, a routing paradigm where
              L2-&gt;L1 routes are less preferred than L2 routes <span>[<a class="cite xref" href="#RFC5302">RFC5302</a>]</span>.<a class="pilcrow" href="#section-2.1-2.20">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-2.2">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-2.2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
</section>
</section>
</div>
<section id="section-3">
      <h2 id="name-further-details">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-further-details">Further Details</a>
      </h2>
<p id="section-3-1">
                Several considerations should be noted in relation to such a flood reflection mechanism.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">
   First, the flood reflection mechanism allows multi-area IS-IS deployments 
   to scale without any major modifications in the IS-IS implementation on 
   most of the nodes deployed in the network.
    Unmodified (standard) L2 routers will
                compute reachability across the transit L1 area using the flood reflector
                adjacencies.  (In this document, the term "standard" refers to IS-IS as specified in <span>[<a class="cite xref" href="#ISO10589">ISO10589</a>]</span>.)<a class="pilcrow" href="#section-3-2">¶</a></p>
<p id="section-3-3">
                Second, the flood reflectors are not required to participate in forwarding
                traffic through the L1 transit area. These flood reflectors can
                be hosted on virtual devices outside the forwarding topology.<a class="pilcrow" href="#section-3-3">¶</a></p>
<p id="section-3-4"> Third, astute readers will realize that flooding reflection may
      cause the use of suboptimal paths. This is similar to the BGP route
      reflection suboptimal routing problem described in <span>[<a class="cite xref" href="#RFC9107">RFC9107</a>]</span>. 

   The L2
   computation determines the egress L1/L2 and, with that, can create
   illusions of ECMP where there is none; and in certain scenarios,
   the L2 computation can lead to an L1/L2 egress that is not globally 
   optimal. 
 
 This represents a straightforward
 instance of the trade-off between the amount of control plane state and the
 optimal use of paths through the network that are often encountered when
 aggregating routing information.<a class="pilcrow" href="#section-3-4">¶</a></p>
<p id="section-3-5">One possible solution to this problem is to expose additional
      topology information into the L2 flooding domains. In the example
      network given, links from router R10 to router R11 can be exposed into
      L2 even when R10 and R11 are participating in flood reflection.  This
      information would allow the L2 nodes to build "shortcuts" when the L2
      flood-reflected part of the topology looks more expensive to cross
      distance-wise.<a class="pilcrow" href="#section-3-5">¶</a></p>
<p id="section-3-6">Another possible variation is for an implementation to use the tunnel
      cost to approximate the cost of the underlying topology.<a class="pilcrow" href="#section-3-6">¶</a></p>
<p id="section-3-7">Redundancy can be achieved by configuring multiple flood reflectors
      in an L1 area.  Multiple flood reflectors do not need any synchronization
      mechanisms amongst themselves, except standard IS-IS flooding and
      database maintenance procedures.<a class="pilcrow" href="#section-3-7">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-encodings">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-encodings">Encodings</a>
      </h2>
<div id="sec_flood_reflection_tlv">
<section id="section-4.1">
        <h3 id="name-flood-reflection-tlv">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-flood-reflection-tlv">Flood Reflection TLV</a>
        </h3>
<p id="section-4.1-1">The Flood Reflection TLV is a top-level TLV that <span class="bcp14">MUST</span>
      appear in L2 IIHs (IS-IS Hello) on all Flood Reflection Adjacencies.  The Flood
      Reflection TLV indicates the flood reflector cluster (based on Flood
      Reflection Cluster ID) that a given router is configured to participate
      in. It also indicates whether the router is configured to play the role
      of either flood reflector or flood reflector client. The Flood
      Reflection Cluster ID and flood reflector roles advertised in the IIHs
      are used to ensure that flood reflector adjacencies are only formed
      between a flood reflector and flood reflector client and that the Flood
      Reflection Cluster IDs match. The Flood Reflection TLV has the following
      format:<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |C|  Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Flood Reflection Cluster ID                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Sub-TLVs ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.1-2">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1-3">
          <dt id="section-4.1-3.1">Type:</dt>
          <dd id="section-4.1-3.2" style="margin-left: 1.5em">161<a class="pilcrow" href="#section-4.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.3">Length:</dt>
          <dd id="section-4.1-3.4" style="margin-left: 1.5em">The length, in octets, of the following fields.<a class="pilcrow" href="#section-4.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.5">C (Client):</dt>
          <dd id="section-4.1-3.6" style="margin-left: 1.5em">This bit is set to indicate that the router acts as a flood
        reflector client.  When this bit is NOT set, the router acts as a
        flood reflector. On a given router, the same value of the C-bit
        <span class="bcp14">MUST</span> be advertised across all interfaces advertising
        the Flood Reflection TLV in IIHs.<a class="pilcrow" href="#section-4.1-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.7">Reserved:</dt>
          <dd id="section-4.1-3.8" style="margin-left: 1.5em">
     This field is reserved for future use.  It <span class="bcp14">MUST</span> be set to 0 when sent
 and <span class="bcp14">MUST</span> be ignored when received.<a class="pilcrow" href="#section-4.1-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.9">Flood Reflection Cluster ID:</dt>
          <dd id="section-4.1-3.10" style="margin-left: 1.5em">
            The same arbitrary 32-bit value <span class="bcp14">MUST</span> be assigned to
            all of the flood reflectors and flood reflector clients in the
            same L1 area. The value <span class="bcp14">MUST</span> be unique across
            different L1 areas within the IGP domain. In case of violation of
            those rules, multiple L1 areas may become a single cluster, or a
            single area may split in flood reflection sense, and several
            mechanisms, such as auto-discovery of tunnels, may not work
            correctly.

            On a given router, the same value of the Flood Reflection Cluster
            ID <span class="bcp14">MUST</span> be advertised across all interfaces
            advertising the Flood Reflection TLV in IIHs. When a router
            discovers that a node is using more than a single Cluster IDs
            based on its advertised TLVs and IIHs, the node <span class="bcp14">MAY</span>
            log such violations subject to rate-limiting.  This implies that a
            flood reflector <span class="bcp14">MUST NOT</span> participate in more than a
            single L1 area. In case of Cluster ID value of 0, the TLV
            containing it <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-4.1-3.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-3.11">Sub-TLVs (Optional Sub-TLVs):</dt>
          <dd id="section-4.1-3.12" style="margin-left: 1.5em">For future extensibility, the format of the Flood Reflection TLV
        allows for the possibility of including optional sub-TLVs.  No
        sub-TLVs of the Flood Reflection TLV are defined in this document.<a class="pilcrow" href="#section-4.1-3.12">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-4">The Flood Reflection TLV <span class="bcp14">SHOULD NOT</span> appear more than
      once in an IIH.  A router receiving one or more Flood Reflection TLVs in
      the same IIH <span class="bcp14">MUST</span> use the values in the first TLV, and it
      <span class="bcp14">SHOULD</span> log such violations subject to rate-limiting.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
</section>
</div>
<div id="sec_flood_reflection_discovery_subtlv">
<section id="section-4.2">
        <h3 id="name-flood-reflection-discovery-">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-flood-reflection-discovery-">Flood Reflection Discovery Sub-TLV</a>
        </h3>
<p id="section-4.2-1">
 The Flood Reflection Discovery sub-TLV is advertised as a sub-TLV of the
 IS-IS Router Capability TLV 242, defined in <span>[<a class="cite xref" href="#RFC7981">RFC7981</a>]</span>.
 The Flood Reflection Discovery sub-TLV is advertised in L1 and L2 LSPs with
 area flooding scope in order to enable the auto-discovery of flood
 reflection capabilities. The Flood Reflection Discovery sub-TLV has
 the following format:<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |C|  Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Flood Reflection Cluster ID                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.2-2">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.2-3">
          <dt id="section-4.2-3.1">Type:</dt>
          <dd id="section-4.2-3.2" style="margin-left: 1.5em">161<a class="pilcrow" href="#section-4.2-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.3">Length:</dt>
          <dd id="section-4.2-3.4" style="margin-left: 1.5em">The length, in octets, of the following fields.<a class="pilcrow" href="#section-4.2-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.5">C (Client):</dt>
          <dd id="section-4.2-3.6" style="margin-left: 1.5em">
     This bit is set to indicate that the router acts as a flood reflector client.
 When this bit is NOT set, the router acts as a flood reflector.<a class="pilcrow" href="#section-4.2-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.7">Reserved:</dt>
          <dd id="section-4.2-3.8" style="margin-left: 1.5em">
     This field is reserved for future use.  It <span class="bcp14">MUST</span> be set to 0 when sent
 and <span class="bcp14">MUST</span> be ignored when received.<a class="pilcrow" href="#section-4.2-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.9">Flood Reflection Cluster ID:</dt>
          <dd id="section-4.2-3.10" style="margin-left: 1.5em">The Flood Reflection Cluster Identifier
      is the same as that defined in the Flood Reflection TLV in <a class="auto internal xref" href="#sec_flood_reflection_tlv">Section 4.1</a> and obeys the same rules.<a class="pilcrow" href="#section-4.2-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.2-4">
 The Flood Reflection Discovery sub-TLV <span class="bcp14">SHOULD NOT</span> appear more than once in TLV 242.  A router
 receiving one or more Flood Reflection Discovery sub-TLVs in TLV 242 <span class="bcp14">MUST</span> use the values in the
 first sub-TLV of the lowest numbered fragment, and it <span class="bcp14">SHOULD</span> log such violations subject to rate-limiting.<a class="pilcrow" href="#section-4.2-4">¶</a></p>
</section>
</div>
<div id="sec_flood_reflection_discovery_tunnel_subtlv">
<section id="section-4.3">
        <h3 id="name-flood-reflection-discovery-t">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-flood-reflection-discovery-t">Flood Reflection Discovery Tunnel Type Sub-Sub-TLV</a>
        </h3>
<p id="section-4.3-1">
              Flood Reflection Discovery Tunnel Type sub-sub-TLV is advertised optionally as a sub-sub-TLV of the
              Flood Reflection Discovery Sub-TLV, defined in <a class="auto internal xref" href="#sec_flood_reflection_discovery_subtlv">Section 4.2</a>.
              It allows the automatic creation of L2 tunnels to be used as
              flood reflector adjacencies and L1 shortcut tunnels. The Flood Reflection Tunnel Type sub-sub-TLV has
              the following format:<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-------------+-+
|     Type      |    Length     | Reserved    |F|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Tunnel Encapsulation Attribute                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.3-2">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.3-3">
          <dt id="section-4.3-3.1">Type:</dt>
          <dd id="section-4.3-3.2" style="margin-left: 1.5em">161<a class="pilcrow" href="#section-4.3-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.3">Length:</dt>
          <dd id="section-4.3-3.4" style="margin-left: 1.5em">The length, in octets, of zero or more of the following fields.<a class="pilcrow" href="#section-4.3-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.5">Reserved:</dt>
          <dd id="section-4.3-3.6" style="margin-left: 1.5em">
            <span class="bcp14">SHOULD</span> be 0 on transmission and <span class="bcp14">MUST</span> be ignored on reception.<a class="pilcrow" href="#section-4.3-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.7">F Flag:</dt>
          <dd id="section-4.3-3.8" style="margin-left: 1.5em">When set, indicates flood reflection tunnel endpoint. When
              clear, indicates possible L1 shortcut tunnel endpoint.<a class="pilcrow" href="#section-4.3-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-3.9">Tunnel Encapsulation Attribute:</dt>
          <dd id="section-4.3-3.10" style="margin-left: 1.5em">
                  Carries encapsulation type and further attributes necessary
                  for tunnel establishment as defined in <span>[<a class="cite xref" href="#RFC9012">RFC9012</a>]</span>. In context of this attribute, the
                  protocol Type sub-TLV as defined in <span>[<a class="cite xref" href="#RFC9012">RFC9012</a>]</span>
            <span class="bcp14">MAY</span> be included to ensure proper
                  encapsulation of IS-IS frames. In case such a sub-TLV is
                  included and the F flag is set (i.e., the resulting tunnel is
                  a flood reflector adjacency), this sub-TLV
                  <span class="bcp14">MUST</span> include a type that allows to carry
                  encapsulated IS-IS frames. Furthermore, such tunnel type
                  <span class="bcp14">MUST</span> be able to transport IS-IS frames of
                  size up to "originatingL2LSPBufferSize".<a class="pilcrow" href="#section-4.3-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.3-4">A flood reflector
              receiving Flood Reflection Discovery Tunnel Type sub-sub-TLVs in Flood Reflection Discovery
              sub-TLV with F flag set (i.e., the resulting tunnel is a flood reflector adjacency)
              <span class="bcp14">SHOULD</span> use one or more of the specified tunnel endpoints to automatically establish one or more
              tunnels that will serve as a flood reflection adjacency and/or adjacencies to the clients advertising the endpoints.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
<p id="section-4.3-5">
              A flood reflection client
              receiving one or more Flood Reflection Discovery Tunnel Type sub-sub-TLVs in Flood Reflection Discovery
              sub-TLV with F flag clear (i.e., the resulting tunnel is used to support tunnel-based mode)
              from other leaves
              <span class="bcp14">MAY</span> use one or more of the specified tunnel endpoints to automatically establish one or more
              tunnels that will serve as L1 tunnel shortcuts to the clients advertising the endpoints.<a class="pilcrow" href="#section-4.3-5">¶</a></p>
<p id="section-4.3-6">
              In case of automatic flood reflection adjacency tunnels and in case IS-IS adjacencies are being formed across
              L1 shortcuts, all the aforementioned rules in <a class="auto internal xref" href="#sec_discovery">Section 4.5</a> apply as well.<a class="pilcrow" href="#section-4.3-6">¶</a></p>
<p id="section-4.3-7">
              Optional address validation procedures
              as defined in <span>[<a class="cite xref" href="#RFC9012">RFC9012</a>]</span> <span class="bcp14">MUST</span> be disregarded.<a class="pilcrow" href="#section-4.3-7">¶</a></p>
<p id="section-4.3-8">
              It remains to be observed that automatic tunnel discovery is an optional part of the specification
              and can be replaced or mixed with
              statically configured tunnels for flood reflector adjacencies and tunnel-based shortcuts.
              Specific implementation details how both mechanisms interact are specific to an implementation and
              mode of operation and are outside the scope of this document.<a class="pilcrow" href="#section-4.3-8">¶</a></p>
<p id="section-4.3-9">
              Flood reflector adjacencies rely on IS-IS L2 liveliness
              procedures. In case of L1 shortcuts, the mechanism used to
              ensure liveliness and tunnel integrity are outside the scope of
              this document.<a class="pilcrow" href="#section-4.3-9">¶</a></p>
</section>
</div>
<section id="section-4.4">
        <h3 id="name-flood-reflection-adjacency-">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-flood-reflection-adjacency-">Flood Reflection Adjacency Sub-TLV</a>
        </h3>
<p id="section-4.4-1">The Flood Reflection Adjacency sub-TLV is advertised as a sub-TLV of
      TLVs 22, 23, 25, 141, 222, and 223 (the "TLVs Advertising Neighbor
      Information").  Its presence indicates that a given adjacency is a flood
      reflector adjacency.  It is included in L2 area scope flooded LSPs. The
      Flood Reflection Adjacency sub-TLV has the following format:<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4-2">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |C|  Reserved   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Flood Reflection Cluster ID                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a class="pilcrow" href="#section-4.4-2">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.4-3">
          <dt id="section-4.4-3.1">Type:</dt>
          <dd id="section-4.4-3.2" style="margin-left: 1.5em">161<a class="pilcrow" href="#section-4.4-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.3">Length:</dt>
          <dd id="section-4.4-3.4" style="margin-left: 1.5em">The length, in octets, of the following fields.<a class="pilcrow" href="#section-4.4-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.5">C (Client):</dt>
          <dd id="section-4.4-3.6" style="margin-left: 1.5em">This bit is set to indicate that the router advertising this
        adjacency is a flood reflector client. When this bit is NOT set, the
        router advertising this adjacency is a flood reflector.<a class="pilcrow" href="#section-4.4-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.7">Reserved:</dt>
          <dd id="section-4.4-3.8" style="margin-left: 1.5em">This field is reserved for future use.  It <span class="bcp14">MUST</span> be
        set to 0 when sent and <span class="bcp14">MUST</span> be ignored when received.<a class="pilcrow" href="#section-4.4-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-3.9">Flood Reflection Cluster ID:</dt>
          <dd id="section-4.4-3.10" style="margin-left: 1.5em">The Flood Reflection Cluster Identifier is the same as that
        defined in the Flood Reflection TLV in <a class="auto internal xref" href="#sec_flood_reflection_tlv">Section 4.1</a> and obeys the same rules.<a class="pilcrow" href="#section-4.4-3.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.4-4">The Flood Reflection Adjacency sub-TLV <span class="bcp14">SHOULD NOT</span>
      appear more than once in a given TLV.  A router receiving one or more
      Flood Reflection Adjacency sub-TLVs in a TLV <span class="bcp14">MUST</span> use the
      values in the first sub-TLV of the lowest numbered fragment, and it
      <span class="bcp14">SHOULD</span> log such violations subject to rate-limiting.<a class="pilcrow" href="#section-4.4-4">¶</a></p>
</section>
<div id="sec_discovery">
<section id="section-4.5">
        <h3 id="name-flood-reflection-discovery">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-flood-reflection-discovery">Flood Reflection Discovery</a>
        </h3>
<p id="section-4.5-1">A router participating in flood reflection as client or reflector
      <span class="bcp14">MUST</span> be configured as an L1/L2 router.  It
      <span class="bcp14">MAY</span> originate the Flood Reflection Discovery sub-TLV with
      area flooding scope in L1 and L2.  Normally, all routers on the edge of
      the L1 area (those having standard L2 adjacencies) will advertise
      themselves as flood reflector clients. Therefore, a flood reflector
      client will have both standard L2 adjacencies and flood reflector L2
      adjacencies.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">A router acting as a flood reflector <span class="bcp14">MUST NOT</span> form any
      standard L2 adjacencies except with flood reflector clients.  It will
      be an L1/L2 router only by virtue of having flood reflector L2
      adjacencies.  A router desiring to act as a flood reflector
      <span class="bcp14">MAY</span> advertise itself as such using the Flood Reflection
      Discovery sub-TLV in L1 and L2.<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<p id="section-4.5-3">A given flood reflector or flood reflector client can only
      participate in a single cluster, as determined by the value of its Flood
      Reflection Cluster ID and should disregard other routers' TLVs for flood
      reflection purposes if the cluster ID is not matching.<a class="pilcrow" href="#section-4.5-3">¶</a></p>
<p id="section-4.5-4">Upon reception of Flood Reflection Discovery sub-TLVs, a router
      acting as flood reflector <span class="bcp14">SHOULD</span> initiate a tunnel
      towards each flood reflector client with which it shares a Flood
      Reflection Cluster ID, using one or more of the tunnel encapsulations
      provided with F flag is set.  The L2 adjacencies formed over such
      tunnels <span class="bcp14">MUST</span> be marked as flood reflector adjacencies.
      If the client or reflector has a direct L2 adjacency with the according
      remote side, it <span class="bcp14">SHOULD</span> use it instead of instantiating a
      tunnel.<a class="pilcrow" href="#section-4.5-4">¶</a></p>
<p id="section-4.5-5">In case the optional auto-discovery mechanism is not implemented or
      enabled, a deployment <span class="bcp14">MAY</span> use statically configured
      tunnels to create flood reflection adjacencies.<a class="pilcrow" href="#section-4.5-5">¶</a></p>
<p id="section-4.5-6">The IS-IS metrics for all flood reflection adjacencies in a cluster
      <span class="bcp14">SHOULD</span> be identical.<a class="pilcrow" href="#section-4.5-6">¶</a></p>
<p id="section-4.5-7">Upon reception of Flood Reflection Discovery TLVs, a router acting as
      a flood reflector client <span class="bcp14">MAY</span> initiate tunnels with
      L1-only adjacencies towards any of the other flood reflector clients
      with lower router IDs in its cluster using encapsulations with F flag
      clear. These tunnels <span class="bcp14">MAY</span> be used for forwarding to
      improve the load-balancing characteristics of the L1 area.  If the
      clients have a direct L2 adjacency, they <span class="bcp14">SHOULD</span> use it
      instead of instantiating a new tunnel.<a class="pilcrow" href="#section-4.5-7">¶</a></p>
</section>
</div>
<div id="sec_adj">
<section id="section-4.6">
        <h3 id="name-flood-reflection-adjacency-f">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-flood-reflection-adjacency-f">Flood Reflection Adjacency Formation</a>
        </h3>
<p id="section-4.6-1">
 In order to simplify implementation complexity, this document does not
 allow the formation of complex hierarchies of flood reflectors and clients or allow
            multiple clusters in a single L1 area.

          Consequently, all flood reflectors and flood reflector clients in the same L1 area <span class="bcp14">MUST</span> share the same
 Flood Reflector Cluster ID. Deployment of multiple cluster IDs in the same L1 area are outside the scope
            of this document.<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<p id="section-4.6-2">
                A flood reflector <span class="bcp14">MUST NOT</span> form flood reflection adjacencies with flood reflector clients
                with a different Cluster ID.
                A flood reflector <span class="bcp14">MUST NOT</span> form any standard L2 adjacencies.<a class="pilcrow" href="#section-4.6-2">¶</a></p>
<p id="section-4.6-3">
                Flood reflector clients <span class="bcp14">MUST NOT</span> form flood reflection adjacencies with flood reflectors
                with a different Cluster ID.<a class="pilcrow" href="#section-4.6-3">¶</a></p>
<p id="section-4.6-4">
                Flood reflector clients <span class="bcp14">MAY</span> form standard L2 adjacencies with flood reflector clients
                or nodes not participating in flood reflection. When two flood reflector
                clients form a standard L2
                adjacency, the Cluster IDs are disregarded.<a class="pilcrow" href="#section-4.6-4">¶</a></p>
<p id="section-4.6-5">
 The Flood Reflector Cluster ID and flood reflector
 roles advertised in the Flood Reflection TLVs in IIHs are used to ensure
 that flood reflection adjacencies that are established meet the above criteria.<a class="pilcrow" href="#section-4.6-5">¶</a></p>
<p id="section-4.6-6">
                On change in either flood reflection role or cluster ID on IIH on the local or remote side,
            the adjacency has to be
                reset. It is then re-established if possible.<a class="pilcrow" href="#section-4.6-6">¶</a></p>
<p id="section-4.6-7">
 Once a flood reflection adjacency is established, the flood reflector and the flood
 reflector client <span class="bcp14">MUST</span> advertise the adjacency by including the Flood Reflection Adjacency
 Sub-TLV in the Extended IS reachability TLV or Multi-Topology Intermediate System Neighbor (MT-ISN) TLV.<a class="pilcrow" href="#section-4.6-7">¶</a></p>
</section>
</div>
</section>
<div id="sec_route_comp">
<section id="section-5">
      <h2 id="name-route-computation">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-route-computation">Route Computation</a>
      </h2>
<p id="section-5-1">
 To ensure loop-free routing, the flood reflection client <span class="bcp14">MUST</span> follow the normal L2 computation
 to determine L2 routes. This is because nodes outside the L1 area will generally
 not be aware that flood reflection is being performed. The flood reflection clients
 need to produce the same result for the L2 route computation as a router not participating in
 flood reflection.<a class="pilcrow" href="#section-5-1">¶</a></p>
<section id="section-5.1">
        <h3 id="name-tunnel-based-deployment">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-tunnel-based-deployment">Tunnel-Based Deployment</a>
        </h3>
<p id="section-5.1-1">
           In the tunnel-based option, the reflection client, after L2 and L1
           computation, <span class="bcp14">MUST</span> examine all L2 routes with flood reflector next-hop adjacencies.
           Such next hops must
           be replaced by the corresponding
           tunnel next hops to the correct egress nodes of the flood reflection cluster.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
</section>
<div id="no_tunnels">
<section id="section-5.2">
        <h3 id="name-no-tunnel-deployment">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-no-tunnel-deployment">No-Tunnel Deployment</a>
        </h3>
<p id="section-5.2-1">In case of deployment without underlying tunnels, the necessary
            L2 routes are distributed into the area, normally as L2-&gt;L1
            routes.  

   Due
   to the rules in <a class="auto internal xref" href="#sec_adj">Section 4.6</a>, the computation in the resulting topology
   is relatively simple: the L2 SPF from a flood reflector client is
   guaranteed to reach the Flood Reflector within a single hop, and in
   the following hop, it is guaranteed to reach the L2 egress to which
   it has a forwarding tunnel.

 All the flood reflector tunnel next hops in the according
            L2 route can hence be removed, and if the L2 route has no other
            ECMP L2 next hops, the L2 route <span class="bcp14">MUST</span> be suppressed
            in the RIB by some means to allow the less preferred L2-&gt;L1 route
            to be used to forward traffic towards the advertising egress.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">In the particular case the client has L2 routes which are not
            flood reflected, those will be naturally preferred (such routes
            normally "hot-potato" packets out of the L1 area). However, in the
            case the L2 route through the flood reflector egress is "shorter"
            than such present L2 routes that are not flood reflected, the node
            <span class="bcp14">SHOULD</span> ensure that such routes are suppressed so
            the L2-&gt;L1 towards the egress still takes preference. Observe that
            operationally this can be resolved in a relatively simple way by
            configuring flood reflector adjacencies to have a high metric,
            i.e., the flood reflector topology becomes "last resort," and the
            leaves will try to "hot-potato" out the area as fast as possible,
            which is normally the desirable behavior.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">In no-tunnel deployment, all L1/L2 edge nodes <span class="bcp14">MUST</span> be
                flood reflection
                clients.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<p id="section-5.2-4"></p>
</section>
</div>
</section>
</div>
<div id="sec_prefixes">
<section id="section-6">
      <h2 id="name-redistribution-of-prefixes">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-redistribution-of-prefixes">Redistribution of Prefixes</a>
      </h2>
<p id="section-6-1">
              In case of no-tunnel deployment per <a class="auto internal xref" href="#no_tunnels">Section 5.2</a>, a client that  does not
              have
              any L2 flood reflector adjacencies <span class="bcp14">MUST NOT</span> redistribute L2 routes into
              the cluster.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">
              The L2 prefix advertisements redistributed into an L1 that contains flood reflectors
              <span class="bcp14">SHOULD</span> be normally limited to L2 intra-area routes (as defined in <span>[<a class="cite xref" href="#RFC7775">RFC7775</a>]</span>)
              if the information exists to distinguish them from other L2 prefix advertisements.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">
              On the other hand, in topologies that make use of flood reflection to hide the structure of L1 areas
              while still providing transit-forwarding across them using tunnels, we generally do not need to
              redistribute L1 prefix advertisements into L2.<a class="pilcrow" href="#section-6-3">¶</a></p>
</section>
</div>
<div id="patholody">
<section id="section-7">
      <h2 id="name-special-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-special-considerations">Special Considerations</a>
      </h2>
<p id="section-7-1">In pathological cases, setting the overload bit in L1 (but not in L2)
      can partition L1 forwarding, while allowing L2 reachability through
      flood reflector adjacencies to exist. In such a case, a node cannot
      replace a route through a flood reflector adjacency with an L1 shortcut,
      and the client <span class="bcp14">MAY</span> use the L2 tunnel to the flood
      reflector for forwarding. In all those cases, the node
      <span class="bcp14">MUST</span> initiate an alarm and declare misconfiguration.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">A flood reflector with directly L2 attached prefixes should advertise
      those in L1 as well since, based on preference of L1 routes, the clients
      will not try to use the L2 flood reflector adjacency to route the packet
      towards them. A very unlikely corner case can occur when the flood
      reflector is reachable via L2 flood reflector adjacency (due to
      underlying L1 partition) exclusively. In this instance, the client can use
      the L2 tunnel to the flood reflector for forwarding towards those
      prefixes while it <span class="bcp14">MUST</span> initiate an alarm and declare
      misconfiguration.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">A flood reflector <span class="bcp14">MUST NOT</span> set the attached bit on its
      LSPs.<a class="pilcrow" href="#section-7-3">¶</a></p>
<p id="section-7-4">In certain cases where reflectors are attached to the same broadcast
      medium, and where some other L2 router that is neither a flood
      reflector nor a flood reflector client (a "non-FR router", i.e., a router not participating in flood reflection) attaches to
      the same broadcast medium, flooding between the reflectors in question
      might not succeed, potentially partitioning the flood reflection
      domain. This could happen specifically in the event that the non-FR
      router is chosen as the Designated Intermediate System (DIS) -- the
      designated router.  Since, per <a class="auto internal xref" href="#sec_adj">Section 4.6</a>, a flood
      reflector <span class="bcp14">MUST NOT</span> form an adjacency with a non-FR
      router, the flood reflector(s) will not be represented in the
      pseudo-node.<a class="pilcrow" href="#section-7-4">¶</a></p>
<p id="section-7-5">
          To avoid this situation, it is <span class="bcp14">RECOMMENDED</span> that flood reflectors not be deployed on the same broadcast
          medium as non-FR routers.<a class="pilcrow" href="#section-7-5">¶</a></p>
<p id="section-7-6">
          A router discovering such condition
          <span class="bcp14">MUST</span> initiate an alarm and declare misconfiguration.<a class="pilcrow" href="#section-7-6">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-8-1">IANA has assigned the following IS-IS TLVs and sub-TLVs and has created a new registry.<a class="pilcrow" href="#section-8-1">¶</a></p>
<section id="section-8.1">
        <h3 id="name-new-is-is-tlv-codepoint">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-new-is-is-tlv-codepoint">New IS-IS TLV Codepoint</a>
        </h3>
<p id="section-8.1-1">The following IS-IS TLV has been registered in the
            "IS-IS Top-Level TLV Codepoints" registry:<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<span id="name-flood-reflection-is-is-tlv-"></span><div id="is-is-tlv-codepoint">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-flood-reflection-is-is-tlv-">Flood Reflection IS-IS TLV Codepoint</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Name</th>
              <th class="text-left" colspan="1" rowspan="1">IIH</th>
              <th class="text-left" colspan="1" rowspan="1">LSP</th>
              <th class="text-left" colspan="1" rowspan="1">SNP</th>
              <th class="text-left" colspan="1" rowspan="1">Purge</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">161</td>
              <td class="text-left" colspan="1" rowspan="1">Flood Reflection</td>
              <td class="text-left" colspan="1" rowspan="1">y</td>
              <td class="text-left" colspan="1" rowspan="1">n</td>
              <td class="text-left" colspan="1" rowspan="1">n</td>
              <td class="text-left" colspan="1" rowspan="1">n</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-8.2">
        <h3 id="name-sub-tlvs-for-is-is-router-c">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-sub-tlvs-for-is-is-router-c">Sub-TLVs for IS-IS Router CAPABILITY TLV</a>
        </h3>
<p id="section-8.2-1">The following has been registered in the "IS-IS Sub-TLVs
        for IS-IS Router CAPABILITY TLV" registry:<a class="pilcrow" href="#section-8.2-1">¶</a></p>
<span id="name-is-is-router-capability-tlv"></span><div id="is-is-router-capability">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-is-is-router-capability-tlv">IS-IS Router CAPABILITY TLV</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">161</td>
              <td class="text-left" colspan="1" rowspan="1">Flood Reflection Discovery</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-8.3">
        <h3 id="name-sub-sub-tlvs-for-flood-refl">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-sub-sub-tlvs-for-flood-refl">Sub-Sub-TLVs for Flood Reflection Discovery Sub-TLV</a>
        </h3>
<p id="section-8.3-1">IANA has created a new registry named
            "IS-IS Sub-Sub-TLVs for Flood Reflection Discovery Sub-TLV" under the
            "IS-IS TLV Codepoints" grouping.  The registration procedure for
            this registry is Expert Review <span>[<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>, following the common expert
            review guidance given for the grouping.<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<p id="section-8.3-2">The range of values in this registry is 0-255. The registry
            contains the following initial registration:<a class="pilcrow" href="#section-8.3-2">¶</a></p>
<span id="name-is-is-sub-sub-tlvs-for-floo"></span><div id="sub-sub-tlv-flood-reflection">
<table class="center" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-is-is-sub-sub-tlvs-for-floo">IS-IS Sub-Sub-TLVs for Flood Reflection Discovery Sub-TLV</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">161</td>
              <td class="text-left" colspan="1" rowspan="1">Flood Reflection Discovery Tunnel Encapsulation Attribute</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-8.4">
        <h3 id="name-sub-tlvs-for-tlvs-advertisi">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-sub-tlvs-for-tlvs-advertisi">Sub-TLVs for TLVs Advertising Neighbor Information</a>
        </h3>
<p id="section-8.4-1">The following has been registered in the "IS-IS
            Sub-TLVs for TLVs Advertising Neighbor Information" registry;<a class="pilcrow" href="#section-8.4-1">¶</a></p>
<span id="name-is-is-sub-tlvs-for-tlvs-adv"></span><div id="sub-tlv-advertising-neighbor-info">
<table class="center" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-is-is-sub-tlvs-for-tlvs-adv">IS-IS Sub-TLVs for TLVs Advertising Neighbor Information</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
              <th class="text-left" colspan="1" rowspan="1">22</th>
              <th class="text-left" colspan="1" rowspan="1">23</th>
              <th class="text-left" colspan="1" rowspan="1">25</th>
              <th class="text-left" colspan="1" rowspan="1">141</th>
              <th class="text-left" colspan="1" rowspan="1">222</th>
              <th class="text-left" colspan="1" rowspan="1">223</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">161</td>
              <td class="text-left" colspan="1" rowspan="1">Flood Reflector Adjacency</td>
              <td class="text-left" colspan="1" rowspan="1">y</td>
              <td class="text-left" colspan="1" rowspan="1">y</td>
              <td class="text-left" colspan="1" rowspan="1">n</td>
              <td class="text-left" colspan="1" rowspan="1">y</td>
              <td class="text-left" colspan="1" rowspan="1">y</td>
              <td class="text-left" colspan="1" rowspan="1">y</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</section>
</div>
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">This document uses flood reflection tunnels to carry IS-IS control traffic.
          If an attacker can inject traffic into such a tunnel, the consequences could
          be (in the most extreme case) the complete subversion of the IS-IS Level 2 information.
          Therefore, a mechanism inherent to the tunnel technology should be used to prevent such injection.
          Since the available security procedures will vary by deployment and tunnel type,
          the details of securing tunnels are beyond the scope of this document.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">
            This document specifies information used to form dynamically discovered shortcut tunnels.
            If an attacker were able to hijack the endpoint of such a tunnel and form an adjacency, it could divert
            shortcut traffic to itself,
            placing itself on-path and facilitating on-path attacks, or it could even completely subvert the IS-IS Level 2
            routing.
            Therefore, steps should be taken to prevent such capture by using mechanism inherent to the
            tunnel type used.
          Since the available security procedures will vary by deployment and tunnel type,
          the details of securing tunnels are beyond the scope of this document.<a class="pilcrow" href="#section-9-2">¶</a></p>
<p id="section-9-3">
   Additionally, the usual IS-IS security mechanisms <span>[<a class="cite xref" href="#RFC5304">RFC5304</a>]</span> <span class="bcp14">SHOULD</span> be
   deployed to prevent misrepresentation of routing information by an
   attacker in case a tunnel is compromised and the tunnel itself does
   not provide mechanisms strong enough to guarantee the integrity of
   the messages exchanged.<a class="pilcrow" href="#section-9-3">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="ISO10589">[ISO10589]</dt>
        <dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"Information technology - Telecommunications and information exchange between systems - Intermediate System to Intermediate System intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode network service (ISO 8473)"</span>, <span class="refContent">Second Edition</span>, <span class="seriesInfo">ISO/IEC 10589:2002</span>, <time class="refDate" datetime="2002-11">November 2002</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5302">[RFC5302]</dt>
        <dd>
<span class="refAuthor">Li, T.</span>, <span class="refAuthor">Smit, H.</span>, and <span class="refAuthor">T. Przygienda</span>, <span class="refTitle">"Domain-Wide Prefix Distribution with Two-Level IS-IS"</span>, <span class="seriesInfo">RFC 5302</span>, <span class="seriesInfo">DOI 10.17487/RFC5302</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5302">https://www.rfc-editor.org/info/rfc5302</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5304">[RFC5304]</dt>
        <dd>
<span class="refAuthor">Li, T.</span> and <span class="refAuthor">R. Atkinson</span>, <span class="refTitle">"IS-IS Cryptographic Authentication"</span>, <span class="seriesInfo">RFC 5304</span>, <span class="seriesInfo">DOI 10.17487/RFC5304</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5304">https://www.rfc-editor.org/info/rfc5304</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7775">[RFC7775]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">S. Previdi</span>, <span class="refTitle">"IS-IS Route Preference for Extended IP and IPv6 Reachability"</span>, <span class="seriesInfo">RFC 7775</span>, <span class="seriesInfo">DOI 10.17487/RFC7775</span>, <time class="refDate" datetime="2016-02">February 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7775">https://www.rfc-editor.org/info/rfc7775</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7981">[RFC7981]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"IS-IS Extensions for Advertising Router Information"</span>, <span class="seriesInfo">RFC 7981</span>, <span class="seriesInfo">DOI 10.17487/RFC7981</span>, <time class="refDate" datetime="2016-10">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7981">https://www.rfc-editor.org/info/rfc7981</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9012">[RFC9012]</dt>
      <dd>
<span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Van de Velde, G.</span>, <span class="refAuthor">Sangli, S.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"The BGP Tunnel Encapsulation Attribute"</span>, <span class="seriesInfo">RFC 9012</span>, <span class="seriesInfo">DOI 10.17487/RFC9012</span>, <time class="refDate" datetime="2021-04">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9012">https://www.rfc-editor.org/info/rfc9012</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4456">[RFC4456]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">R. Chandra</span>, <span class="refTitle">"BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)"</span>, <span class="seriesInfo">RFC 4456</span>, <span class="seriesInfo">DOI 10.17487/RFC4456</span>, <time class="refDate" datetime="2006-04">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4456">https://www.rfc-editor.org/info/rfc4456</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8099">[RFC8099]</dt>
        <dd>
<span class="refAuthor">Chen, H.</span>, <span class="refAuthor">Li, R.</span>, <span class="refAuthor">Retana, A.</span>, <span class="refAuthor">Yang, Y.</span>, and <span class="refAuthor">Z. Liu</span>, <span class="refTitle">"OSPF Topology-Transparent Zone"</span>, <span class="seriesInfo">RFC 8099</span>, <span class="seriesInfo">DOI 10.17487/RFC8099</span>, <time class="refDate" datetime="2017-02">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8099">https://www.rfc-editor.org/info/rfc8099</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9107">[RFC9107]</dt>
      <dd>
<span class="refAuthor">Raszuk, R., Ed.</span>, <span class="refAuthor">Decraene, B., Ed.</span>, <span class="refAuthor">Cassar, C.</span>, <span class="refAuthor">Åman, E.</span>, and <span class="refAuthor">K. Wang</span>, <span class="refTitle">"BGP Optimal Route Reflection (BGP ORR)"</span>, <span class="seriesInfo">RFC 9107</span>, <span class="seriesInfo">DOI 10.17487/RFC9107</span>, <time class="refDate" datetime="2021-08">August 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9107">https://www.rfc-editor.org/info/rfc9107</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">The authors thank <span class="contact-name">Shraddha Hegde</span>, <span class="contact-name">Peter Psenak</span>, <span class="contact-name">Acee Lindem</span>, <span class="contact-name">Robert Raszuk</span>, and <span class="contact-name">Les Ginsberg</span> for their
thorough review and detailed discussions. Thanks are also extended to <span class="contact-name">Michael Richardson</span> for an excellent routing directorate
review. <span class="contact-name">John Scudder</span> ultimately spent significant time
helping to make the document more comprehensible and coherent.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tony Przygienda (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Juniper</span></div>
<div class="left" dir="auto"><span class="street-address">1137 Innovation Way</span></div>
<div class="left" dir="auto">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:prz@juniper.net">prz@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Chris Bowers</span></div>
<div class="left" dir="auto"><span class="org">Individual</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:chrisbowers.ietf@gmail.com">chrisbowers.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Yiu Lee</span></div>
<div class="left" dir="auto"><span class="org">Comcast</span></div>
<div class="left" dir="auto"><span class="street-address">1800 Bishops Gate Blvd</span></div>
<div class="left" dir="auto">
<span class="locality">Mount Laurel</span>, <span class="region">NJ</span> <span class="postal-code">08054</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Yiu_Lee@comcast.com">Yiu_Lee@comcast.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Alankar Sharma</span></div>
<div class="left" dir="auto"><span class="org">Individual</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:as3957@gmail.com">as3957@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Russ White</span></div>
<div class="left" dir="auto"><span class="org">Akamai</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:russ@riw.us">russ@riw.us</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>