<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8864: Negotiation Data Channels Using the Session Description Protocol (SDP)</title>
<meta content="Keith Drage" name="author"/>
<meta content="Maridi R. Makaraju (Raju)" name="author"/>
<meta content="Richard Ejzak" name="author"/>
<meta content="Jerome Marcon" name="author"/>
<meta content="Roni Even" name="author"/>
<meta content="
         Data channel setup can be done using either the in-band Data Channel Establishment Protocol (DCEP) or some out-of-band non-DCEP protocol.  This document specifies how the SDP (Session
   Description Protocol) offer/answer exchange can be used to achieve
   an out-of-band non-DCEP negotiation for establishing a data channel.  
 
    " name="description"/>
<meta content="xml2rfc 3.5.0" name="generator"/>
<meta content="8864" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8864.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8864" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-mmusic-data-channel-sdpneg-28" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8864</td>
<td class="center">SDP-Based Data Channel Negotiation</td>
<td class="right">January 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Drage, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8864">8864</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-01">January 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Drage</div>
<div class="org">Unaffiliated</div>
</div>
<div class="author">
      <div class="author-name">M. Makaraju</div>
<div class="org">Unaffiliated</div>
</div>
<div class="author">
      <div class="author-name">R. Ejzak</div>
<div class="org">Unaffiliated</div>
</div>
<div class="author">
      <div class="author-name">J. Marcon</div>
<div class="org">Unaffiliated</div>
</div>
<div class="author">
      <div class="author-name">R. Even, <span class="editor">Ed.</span>
</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8864</h1>
<h1 id="title">Negotiation Data Channels Using the Session Description Protocol (SDP)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">  Data channel setup can be done using either the in-band Data Channel Establishment Protocol (DCEP) or some out-of-band non-DCEP protocol.  This document specifies how the SDP (Session
   Description Protocol) offer/answer exchange can be used to achieve
   an out-of-band non-DCEP negotiation for establishing a data channel.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8864">https://www.rfc-editor.org/info/rfc8864</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-conventions">Conventions</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-applicability-statement">Applicability Statement</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-sdp-data-channel-attributes">SDP Data Channel Attributes</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-sdp-dcmap-attribute">SDP DCMAP Attribute</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a class="xref" href="#section-5.1.1">5.1.1</a>.  <a class="xref" href="#name-dcmap-attribute-syntax">DCMAP Attribute Syntax</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.1.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a class="xref" href="#section-5.1.2">5.1.2</a>.  <a class="xref" href="#name-dcmap-stream-id-parameter">'dcmap-stream-id' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.2.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a class="xref" href="#section-5.1.3">5.1.3</a>.  <a class="xref" href="#name-label-parameter">'label' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.3.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a class="xref" href="#section-5.1.4">5.1.4</a>.  <a class="xref" href="#name-subprotocol-parameter">'subprotocol' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.4.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.5">
                    <p id="section-toc.1-1.5.2.1.2.5.1"><a class="xref" href="#section-5.1.5">5.1.5</a>.  <a class="xref" href="#name-max-retr-parameter">'max-retr' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.5.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.6">
                    <p id="section-toc.1-1.5.2.1.2.6.1"><a class="xref" href="#section-5.1.6">5.1.6</a>.  <a class="xref" href="#name-max-time-parameter">'max-time' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.6.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.7">
                    <p id="section-toc.1-1.5.2.1.2.7.1"><a class="xref" href="#section-5.1.7">5.1.7</a>.  <a class="xref" href="#name-ordered-parameter">'ordered' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.7.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.8">
                    <p id="section-toc.1-1.5.2.1.2.8.1"><a class="xref" href="#section-5.1.8">5.1.8</a>.  <a class="xref" href="#name-priority-parameter">'priority' Parameter</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.8.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1.2.9">
                    <p id="section-toc.1-1.5.2.1.2.9.1"><a class="xref" href="#section-5.1.9">5.1.9</a>.  <a class="xref" href="#name-dcmap-multiplexing-category">DCMAP Multiplexing Category</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.2.9.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-sdp-dcsa-attribute">SDP DCSA Attribute</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a class="xref" href="#section-5.2.1">5.2.1</a>.  <a class="xref" href="#name-dcsa-attribute-syntax">DCSA Attribute Syntax</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a class="xref" href="#section-5.2.2">5.2.2</a>.  <a class="xref" href="#name-dcsa-multiplexing-category">DCSA Multiplexing Category</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.2.2.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-sdp-offer-answer-procedures">SDP Offer/Answer Procedures</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-managing-stream-identifiers">Managing Stream Identifiers</a><a class="pilcrow" href="#section-toc.1-1.6.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-negotiating-data-channel-pa">Negotiating Data Channel Parameters</a><a class="pilcrow" href="#section-toc.1-1.6.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-generating-the-initial-offe">Generating the Initial Offer for a Data Channel</a><a class="pilcrow" href="#section-toc.1-1.6.2.3.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.  <a class="xref" href="#name-generating-the-sdp-answer">Generating the SDP Answer</a><a class="pilcrow" href="#section-toc.1-1.6.2.4.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="xref" href="#section-6.5">6.5</a>.  <a class="xref" href="#name-offerer-processing-of-the-s">Offerer Processing of the SDP Answer</a><a class="pilcrow" href="#section-toc.1-1.6.2.5.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="xref" href="#section-6.6">6.6</a>.  <a class="xref" href="#name-modifying-the-session">Modifying the Session</a><a class="pilcrow" href="#section-toc.1-1.6.2.6.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.6.2.1">
                    <p id="section-toc.1-1.6.2.6.2.1.1"><a class="xref" href="#section-6.6.1">6.6.1</a>.  <a class="xref" href="#name-closing-a-data-channel">Closing a Data Channel</a><a class="pilcrow" href="#section-toc.1-1.6.2.6.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a class="xref" href="#section-6.7">6.7</a>.  <a class="xref" href="#name-various-sdp-offer-answer-co">Various SDP Offer/Answer Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.2.7.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-examples">Examples</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-subprotocol-identifiers">Subprotocol Identifiers</a><a class="pilcrow" href="#section-toc.1-1.9.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-new-sdp-attributes">New SDP Attributes</a><a class="pilcrow" href="#section-toc.1-1.9.2.2.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.9.2.2.2.1">
                    <p id="section-toc.1-1.9.2.2.2.1.1"><a class="xref" href="#section-9.2.1">9.2.1</a>.  <a class="xref" href="#name-dcmap">dcmap</a><a class="pilcrow" href="#section-toc.1-1.9.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.9.2.2.2.2">
                    <p id="section-toc.1-1.9.2.2.2.2.1"><a class="xref" href="#section-9.2.2">9.2.2</a>.  <a class="xref" href="#name-dcsa">dcsa</a><a class="pilcrow" href="#section-toc.1-1.9.2.2.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a class="xref" href="#section-9.3">9.3</a>.  <a class="xref" href="#name-registering-attributes-for-">Registering Attributes for Use with Data Channels</a><a class="pilcrow" href="#section-toc.1-1.9.2.3.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.10.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.10.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-generic-data-channel-negoti">Generic Data Channel Negotiation Aspects when Not Using DCEP</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="xref" href="#section-a.1">A.1</a>.  <a class="xref" href="#name-stream-identifier-numbering">Stream Identifier Numbering</a><a class="pilcrow" href="#section-toc.1-1.11.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="xref" href="#section-a.2">A.2</a>.  <a class="xref" href="#name-generic-data-channel-negotia">Generic Data Channel Negotiation Not Using DCEP</a><a class="pilcrow" href="#section-toc.1-1.11.2.2.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.11.2.2.2.1">
                    <p id="section-toc.1-1.11.2.2.2.1.1"><a class="xref" href="#section-a.2.1">A.2.1</a>.  <a class="xref" href="#name-overview">Overview</a><a class="pilcrow" href="#section-toc.1-1.11.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.11.2.2.2.2">
                    <p id="section-toc.1-1.11.2.2.2.2.1"><a class="xref" href="#section-a.2.2">A.2.2</a>.  <a class="xref" href="#name-opening-a-data-channel">Opening a Data Channel</a><a class="pilcrow" href="#section-toc.1-1.11.2.2.2.2.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.11.2.2.2.3">
                    <p id="section-toc.1-1.11.2.2.2.3.1"><a class="xref" href="#section-a.2.3">A.2.3</a>.  <a class="xref" href="#name-closing-a-data-channel-2">Closing a Data Channel</a><a class="pilcrow" href="#section-toc.1-1.11.2.2.2.3.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.12.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-contributors">Contributors</a><a class="pilcrow" href="#section-toc.1-1.13.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#section-appendix.d"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.14.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">   The concept of establishing a bidirectional
   data channel running on top of the Stream Control Transmission
   Protocol (SCTP) is discussed in 
 <span>[<a class="xref" href="#RFC8831">RFC8831</a>]</span>, allowing applications to use data channels. An in-band Data
   Channel Establishment Protocol (DCEP) is described in <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>;
   however, other in-band or out-of-band
   protocols may be used for establishing data channels.  Each data
   channel consists of paired SCTP streams sharing the same SCTP Stream
   Identifier.  Data channels are created by endpoint applications using
   (1) the WebRTC API (Application Programming Interface) <span>[<a class="xref" href="#WebRtcAPI">WebRtcAPI</a>]</span> or (2)  other protocols
   (e.g., Controlling Multiple Streams for Telepresence (CLUE)
 <span>[<a class="xref" href="#RFC8850">RFC8850</a>]</span>).  The protocols can be signaled 
   by the data channel 'subprotocol' parameter, conceptually similar to 
   a WebSocket subprotocol as described in <span>[<a class="xref" href="#RFC6455">RFC6455</a>]</span>.
 However, apart from the
   "subprotocol" value transmitted to the peer, an endpoint application can agree on how to instantiate a given
   subprotocol on a data channel, and whether it is signaled in-band
   using DCEP or out-of-band using a non-DCEP protocol (or both).<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">This document defines Session Description Protocol (SDP) offer/answer
      procedures <span>[<a class="xref" href="#RFC3264">RFC3264</a>]</span> that enable out-of-band negotiation
for establishing data channels for transport of well-defined subprotocols.
   These procedures are based on generic SDP offer/answer negotiation rules for SCTP-based media transport as specified in <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span> for 
   the SDP "m=" line proto values UDP/DTLS/SCTP and TCP/DTLS/SCTP.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">This document uses MSRP (the Message Session Relay Protocol) <span>[<a class="xref" href="#RFC4975">RFC4975</a>]</span>
   and BFCP (the Binary Floor Control Protocol) <span>[<a class="xref" href="#RFC8855">RFC8855</a>]</span> in several examples. It does not provide a 
   complete specification of how to negotiate the use of a data channel to transport 
   MSRP. Procedures specific to each
   subprotocol would have to be documented elsewhere. For MSRP, they are documented in <span>[<a class="xref" href="#RFC8873">RFC8873</a>]</span>. The use of MSRP in some examples is only to show how the generic 
   procedures described herein might apply to a specific subprotocol.<a class="pilcrow" href="#section-1-3">¶</a></p>
</section>
</div>
<section id="section-2">
      <h2 id="name-conventions">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conventions">Conventions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
     "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
     "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
     "<span class="bcp14">SHOULD NOT</span>",
     "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
     "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
     to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span>
        <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals,
     as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
<div id="terminology">
<section id="section-3">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-3-1">This document uses the following terms:<a class="pilcrow" href="#section-3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-2">
        <dt id="section-3-2.1">Data channel:</dt>
        <dd id="section-3-2.2" style="margin-left: 1.5em">A WebRTC data channel as specified in 
     <span>[<a class="xref" href="#RFC8831">RFC8831</a>]</span>.<a class="pilcrow" href="#section-3-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">Data channel stack:</dt>
        <dd id="section-3-2.4" style="margin-left: 1.5em">An entity that, upon application request, 
     runs the data channel protocol to keep track of states as well as the
     sending and receiving of data. If the application is a browser-based JavaScript application,
     then this stack resides in the browser. If the application is a 
     native application, then this stack resides in the application and is accessible 
     via some sort of API or APIs.<a class="pilcrow" href="#section-3-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">Data channel properties:</dt>
        <dd id="section-3-2.6" style="margin-left: 1.5em">Fixed properties assigned to a data 
     channel at the time of its creation. Some of these properties 
     determine the way the data channel stack transmits data on this 
     channel (e.g., stream identifier, reliability, order of delivery).<a class="pilcrow" href="#section-3-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7">Data channel subprotocol:</dt>
        <dd id="section-3-2.8" style="margin-left: 1.5em">The application protocol that is transported
     over a single data channel. Data channel subprotocol messages are sent as data 
     channel payload over an established data channel. An SDP offer/answer exchange can be used 
     as specified in this document to negotiate the establishment of data channels,
     corresponding data channel properties, associated data channel subprotocols, and data 
     channel subprotocol properties. In this case, the data channel subprotocols may be identified
     by the values of the 'subprotocol' parameters of the SDP "a=dcmap:" attribute as 
     described in <a class="xref" href="#subprotocol-parameter">Section 5.1.4</a>. Within this document, the term  
     "data channel subprotocol" is often abbreviated as just "subprotocol".<a class="pilcrow" href="#section-3-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.9">DCEP:</dt>
        <dd id="section-3-2.10" style="margin-left: 1.5em">Data Channel Establishment Protocol, as defined in
     <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.<a class="pilcrow" href="#section-3-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.11">In-band:</dt>
        <dd id="section-3-2.12" style="margin-left: 1.5em">Transmission through the peer-to-peer SCTP association.<a class="pilcrow" href="#section-3-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.13">Out-of-band:</dt>
        <dd id="section-3-2.14" style="margin-left: 1.5em">Transmission through the application signaling path.<a class="pilcrow" href="#section-3-2.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.15">Peer:</dt>
        <dd id="section-3-2.16" style="margin-left: 1.5em">From the perspective of one of the agents in a session, its 
     peer is the other agent. Specifically, from the perspective of the 
     SDP offerer, the peer is the SDP answerer. From the perspective of 
     the SDP answerer, the peer is the SDP offerer.<a class="pilcrow" href="#section-3-2.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.17">SCTP Stream Sequence Number (SSN):</dt>
        <dd id="section-3-2.18" style="margin-left: 1.5em">The SCTP Stream Sequence Number, as specified
     in <span>[<a class="xref" href="#RFC4960">RFC4960</a>]</span>.<a class="pilcrow" href="#section-3-2.18">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.19">Stream identifier:</dt>
        <dd id="section-3-2.20" style="margin-left: 1.5em">The identifier of the outbound and inbound 
     SCTP streams composing a data channel.<a class="pilcrow" href="#section-3-2.20">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="appl_statement">
<section id="section-4">
      <h2 id="name-applicability-statement">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-applicability-statement">Applicability Statement</a>
      </h2>
<p id="section-4-1"> The mechanism described in this document only applies to SDP <span>[<a class="xref" href="#RFC8866">RFC8866</a>]</span> when used together with the SDP offer/answer 
   mechanism <span>[<a class="xref" href="#RFC3264">RFC3264</a>]</span>. Declarative usage of SDP is out of scope for this 
   document and is thus undefined.<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="sdp_synt">
<section id="section-5">
      <h2 id="name-sdp-data-channel-attributes">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-sdp-data-channel-attributes">SDP Data Channel Attributes</a>
      </h2>
<p id="section-5-1">This section defines two new SDP media-level attributes that can be
      used together with the SDP Offer/Answer mechanism to negotiate
      data-channel-specific and subprotocol-specific parameters without the
      usage of DCEP <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>. The first attribute (<a class="xref" href="#subsec-sdp-attr-for-dc-par-neg">Section 5.1</a>) provides for negotiation of 
     channel-specific parameters. The second attribute (<a class="xref" href="#prot_att">Section 5.2</a>) provides for 
     negotiation of subprotocol-specific parameters.<a class="pilcrow" href="#section-5-1">¶</a></p>
<aside id="section-5-2">
        <p id="section-5-2.1">
Note: <a class="xref" href="#generic-out-of-band-aspects">Appendix A</a> provides information
regarding how data channels work in general. In particular, it
   summarizes some key aspects that should be considered
   for the negotiation of data channels if DCEP is not used.<a class="pilcrow" href="#section-5-2.1">¶</a></p>
</aside>
<div id="subsec-sdp-attr-for-dc-par-neg">
<section id="section-5.1">
        <h3 id="name-sdp-dcmap-attribute">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-sdp-dcmap-attribute">SDP DCMAP Attribute</a>
        </h3>
<p id="section-5.1-1">This section defines a new media-level attribute, "a=dcmap:", that defines the data channel parameters for 
      each data channel to be negotiated.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">This attribute is used to create bidirectional SCTP data channels
   having the same set of attributes.  The data channel properties
   (reliable / partially reliable, ordered/unordered) need to be suitable per the subprotocol transport requirements.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<div id="dcmap-attr-definition">
<section id="section-5.1.1">
          <h4 id="name-dcmap-attribute-syntax">
<a class="section-number selfRef" href="#section-5.1.1">5.1.1. </a><a class="section-name selfRef" href="#name-dcmap-attribute-syntax">DCMAP Attribute Syntax</a>
          </h4>
<p id="section-5.1.1-1">"a=dcmap:" is a media-level attribute having the following
          definition and ABNF (Augmented Backus-Naur Form) syntax <span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span>.<a class="pilcrow" href="#section-5.1.1-1">¶</a></p>
<span id="name-adcmap-attribute-definition"></span><div id="dcmap-attrib">
<table class="center" id="table-1">
            <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-adcmap-attribute-definition">"a=dcmap:" Attribute Definition</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="2" rowspan="1">"a=dcmap:" Attribute</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Name</td>
                <td class="text-left" colspan="1" rowspan="1">dcmap</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Value</td>
                <td class="text-left" colspan="1" rowspan="1">dcmap-value</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Usage Level</td>
                <td class="text-left" colspan="1" rowspan="1">media</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Charset Dependent</td>
                <td class="text-left" colspan="1" rowspan="1">No</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-5.1.1-3">Formal syntax:<a class="pilcrow" href="#section-5.1.1-3">¶</a></p>
<div id="section-5.1.1-4">
<pre class="sourcecode lang-abnf">dcmap-value     = dcmap-stream-id
                  [ SP dcmap-opt *(";" dcmap-opt) ]
dcmap-opt       = ordering-opt / subprotocol-opt / label-opt
                  / maxretr-opt / maxtime-opt / priority-opt
                  ; maxretr-opt and maxtime-opt are
                  ; mutually exclusive

dcmap-stream-id = 1*5DIGIT
ordering-opt    = "ordered=" ordering-value
ordering-value  = "true" / "false"
subprotocol-opt = "subprotocol=" quoted-string
label-opt       = "label=" quoted-string
maxretr-opt     = "max-retr=" maxretr-value
maxretr-value   = "0" / integer
                  ; number of retransmissions,
                  ; less than 2^32,
                  ; derived from 'Reliability Parameter' [RFC8832]
maxtime-opt     = "max-time=" maxtime-value
maxtime-value   = "0" / integer
                  ; milliseconds,
                  ; less than 2^32,
                  ; derived from 'Reliability Parameter' [RFC8832]
priority-opt    = "priority=" priority-value
priority-value  = "0" / integer
                  ; unsigned integer value indicating the priority of
                  ; the data channel,
                  ; less than 2^16,
                  ; derived from 'Priority' [RFC8832]

quoted-string   = DQUOTE *(quoted-char / escaped-char) DQUOTE
quoted-char     = SP / quoted-visible
quoted-visible  = %x21 / %x23-24 / %x26-7E ; VCHAR without " or %
escaped-char    = "%" HEXDIG HEXDIG
DQUOTE          = &lt;from RFC 5234&gt;
integer         = &lt;from RFC 8866&gt;</pre><a class="pilcrow" href="#section-5.1.1-4">¶</a>
</div>
<p id="section-5.1.1-5">Examples:<a class="pilcrow" href="#section-5.1.1-5">¶</a></p>
<div id="section-5.1.1-6">
<pre class="sourcecode lang-sdp">a=dcmap:0
a=dcmap:1 subprotocol="bfcp";max-time=60000;priority=512
a=dcmap:2 subprotocol="msrp";ordered=true;label="msrp"
a=dcmap:3 label="Label 1";ordered=false;max-retr=5;priority=128
a=dcmap:4 label="foo%09bar";ordered=true;max-time=15000</pre><a class="pilcrow" href="#section-5.1.1-6">¶</a>
</div>
<aside id="section-5.1.1-7">
            <p id="section-5.1.1-7.1">Note: The last example (a=dcmap:4) shows a 'label' parameter value
         that contains one nonprintable 'escaped-char' character 
         (the tabulator character).<a class="pilcrow" href="#section-5.1.1-7.1">¶</a></p>
</aside>
<p id="section-5.1.1-8">Within an "a=dcmap:" attribute line's 'dcmap-opt' value, only one 
       'maxretr-opt' parameter or one 'maxtime-opt' parameter may be present.
       Both parameters <span class="bcp14">MUST NOT</span> be present.<a class="pilcrow" href="#section-5.1.1-8">¶</a></p>
</section>
</div>
<div id="dcmap-stream-id-param-definition">
<section id="section-5.1.2">
          <h4 id="name-dcmap-stream-id-parameter">
<a class="section-number selfRef" href="#section-5.1.2">5.1.2. </a><a class="section-name selfRef" href="#name-dcmap-stream-id-parameter">'dcmap-stream-id' Parameter</a>
          </h4>
<p id="section-5.1.2-1">The 'dcmap-stream-id' parameter indicates the SCTP stream identifier 
       within the SCTP association used to form the data channel.<a class="pilcrow" href="#section-5.1.2-1">¶</a></p>
</section>
</div>
<section id="section-5.1.3">
          <h4 id="name-label-parameter">
<a class="section-number selfRef" href="#section-5.1.3">5.1.3. </a><a class="section-name selfRef" href="#name-label-parameter">'label' Parameter</a>
          </h4>
<p id="section-5.1.3-1">The 'label' parameter indicates the name of the 
       channel. It represents a label that can be used to distinguish, 
       in the context of the WebRTC API <span>[<a class="xref" href="#WebRtcAPI">WebRtcAPI</a>]</span>, 
       an RTCDataChannel object from other RTCDataChannel objects.
       This parameter maps to the 'Label' parameter defined in 
       <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.       
       The 'label' parameter is optional. If it is not
       present, then its value defaults to the empty string.<a class="pilcrow" href="#section-5.1.3-1">¶</a></p>
<p id="section-5.1.3-2">In order to communicate with the WebRTC API, the 'label' parameter
          should<a class="pilcrow" href="#section-5.1.3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.3-3.1">Serialize the WebRTC label as a UTF-8 string <span>[<a class="xref" href="#RFC3629">RFC3629</a>]</span>.<a class="pilcrow" href="#section-5.1.3-3.1">¶</a>
</li>
            <li class="normal" id="section-5.1.3-3.2">Treat the UTF-8 serialization as a series of bytes.<a class="pilcrow" href="#section-5.1.3-3.2">¶</a>
</li>
            <li class="normal" id="section-5.1.3-3.3">
              <p id="section-5.1.3-3.3.1">For each byte in the serialization,<a class="pilcrow" href="#section-5.1.3-3.3.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.3-3.3.2.1">If the byte can be expressed as a 'quoted-char', do so.<a class="pilcrow" href="#section-5.1.3-3.3.2.1">¶</a>
</li>
                <li class="normal" id="section-5.1.3-3.3.2.2">Otherwise, express the byte as an 'escaped-char'.<a class="pilcrow" href="#section-5.1.3-3.3.2.2">¶</a>
</li>
              </ul>
</li>
          </ul>
<aside id="section-5.1.3-4">
            <p id="section-5.1.3-4.1">Note: The empty string can also be explicitly used as a 'label' value,
       such that 'label=""' is equivalent to the 'label' parameter not being
       present at all.
       <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span> allows the DATA_CHANNEL_OPEN 
       message's 'Label' value to be an empty string.<a class="pilcrow" href="#section-5.1.3-4.1">¶</a></p>
</aside>
</section>
<div id="subprotocol-parameter">
<section id="section-5.1.4">
          <h4 id="name-subprotocol-parameter">
<a class="section-number selfRef" href="#section-5.1.4">5.1.4. </a><a class="section-name selfRef" href="#name-subprotocol-parameter">'subprotocol' Parameter</a>
          </h4>
<p id="section-5.1.4-1">The 'subprotocol' parameter indicates which protocol the 
       client expects to exchange via the channel.
       This parameter maps to the 'Protocol' parameter defined in 
       <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.
       <a class="xref" href="#IANA_subproto_ids">Section 9.1</a> specifies how values for new subprotocol parameters are registered.
       'subprotocol' is an optional parameter. 
       If the 'subprotocol' parameter is not present, then its value 
       defaults to an empty string.<a class="pilcrow" href="#section-5.1.4-1">¶</a></p>
<aside id="section-5.1.4-2">
            <p id="section-5.1.4-2.1"> Note: The empty string can also be
          explicitly used as a 'subprotocol' value,
       such that 'subprotocol=""' is equivalent to the 'subprotocol' parameter not being
       present at all. <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span> allows the 
       DATA_CHANNEL_OPEN message's 'Protocol' value to be an empty string.<a class="pilcrow" href="#section-5.1.4-2.1">¶</a></p>
</aside>
</section>
</div>
<div id="max-retr-param-definition">
<section id="section-5.1.5">
          <h4 id="name-max-retr-parameter">
<a class="section-number selfRef" href="#section-5.1.5">5.1.5. </a><a class="section-name selfRef" href="#name-max-retr-parameter">'max-retr' Parameter</a>
          </h4>
<p id="section-5.1.5-1">This parameter indicates that the data channel is partially reliable. 
       The 'max-retr' parameter indicates the maximal number of times a user message will 
       be retransmitted. The 'max-retr' parameter is optional. If 
       the 'max-retr' parameter and the 'max-time' parameter are not present, then reliable
       transmission is performed as specified in <span>[<a class="xref" href="#RFC4960">RFC4960</a>]</span>. 
       This parameter maps to the 'Number of RTX' parameter 
       defined in <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.<a class="pilcrow" href="#section-5.1.5-1">¶</a></p>
</section>
</div>
<section id="section-5.1.6">
          <h4 id="name-max-time-parameter">
<a class="section-number selfRef" href="#section-5.1.6">5.1.6. </a><a class="section-name selfRef" href="#name-max-time-parameter">'max-time' Parameter</a>
          </h4>
<p id="section-5.1.6-1"> This parameter indicates that the data channel is partially reliable. 
       A user message will no longer be transmitted or retransmitted after 
       a specified lifetime, given in milliseconds, in the 'max-time' 
       parameter. The lifetime starts when providing the user message to the protocol stack.
 The 'max-time' parameter is optional. If the 'max-retr' parameter and the 'max-time' parameter are not present, then reliable
       transmission is performed as specified in <span>[<a class="xref" href="#RFC4960">RFC4960</a>]</span>. 
       This parameter maps to the 'Lifetime in ms' parameter 
       defined in <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.<a class="pilcrow" href="#section-5.1.6-1">¶</a></p>
</section>
<div id="ordered-param-description">
<section id="section-5.1.7">
          <h4 id="name-ordered-parameter">
<a class="section-number selfRef" href="#section-5.1.7">5.1.7. </a><a class="section-name selfRef" href="#name-ordered-parameter">'ordered' Parameter</a>
          </h4>
<p id="section-5.1.7-1">The 'ordered' parameter with value "true" indicates that the receiver will 
       dispatch DATA chunks in the data channel to the upper layer 
       while preserving the order. The 'ordered' parameter is optional and 
       takes two values -- "true" for ordered delivery and "false" for unordered delivery --
       with "true" as the default value. 
       Any other value is ignored, and the default "ordered=true" is assumed. 
       In the absence of this parameter, "ordered=true" is assumed. 
       This parameter maps to 
       the ordered or unordered data channel types as defined in 
       <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.<a class="pilcrow" href="#section-5.1.7-1">¶</a></p>
</section>
</div>
<div id="priority-param-description">
<section id="section-5.1.8">
          <h4 id="name-priority-parameter">
<a class="section-number selfRef" href="#section-5.1.8">5.1.8. </a><a class="section-name selfRef" href="#name-priority-parameter">'priority' Parameter</a>
          </h4>
<p id="section-5.1.8-1">The 'priority' parameter indicates the data channel's priority
       relative to the  priorities of other data channels, which may
       additionally exist over the same SCTP association.
       The 'priority' parameter maps to the 'Priority' parameter defined in
       <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>. 
       The 'priority' parameter is optional.
       In the absence of this parameter, "priority=256" is assumed.<a class="pilcrow" href="#section-5.1.8-1">¶</a></p>
</section>
</div>
<div id="dcmap-mux-category">
<section id="section-5.1.9">
          <h4 id="name-dcmap-multiplexing-category">
<a class="section-number selfRef" href="#section-5.1.9">5.1.9. </a><a class="section-name selfRef" href="#name-dcmap-multiplexing-category">DCMAP Multiplexing Category</a>
          </h4>
<p id="section-5.1.9-1">The multiplexing category <span>[<a class="xref" href="#RFC8859">RFC8859</a>]</span> of the "a=dcmap:" attribute is SPECIAL.<a class="pilcrow" href="#section-5.1.9-1">¶</a></p>
<p id="section-5.1.9-2">As the usage of multiple SCTP associations on top of a single DTLS
       association is outside the scope of <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span>,
       no "a=dcmap:" attribute multiplexing rules are specified for the UDP/DTLS/SCTP and 
       TCP/DTLS/SCTP proto values.
       If future extensions of <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span> define how to 
       negotiate multiplexing of multiple SCTP associations on top of a single DTLS 
       association or how to add multiple SCTP associations to one BUNDLE group, then 
       multiplexing rules for the "a=dcmap:" attribute need to be 
       defined as well -- for instance, in an extension of this specification.<a class="pilcrow" href="#section-5.1.9-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="prot_att">
<section id="section-5.2">
        <h3 id="name-sdp-dcsa-attribute">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-sdp-dcsa-attribute">SDP DCSA Attribute</a>
        </h3>
<p id="section-5.2-1">In the SDP media description, each data channel declaration
        <span class="bcp14">MAY</span> also be followed by other SDP attributes, which
        apply to the corresponding data channel and its subprotocol. Each of
        these attributes is represented by one new "a=dcsa:" attribute line
        that references another SDP attribute defined for use with this data
        channel's subprotocol. Instructions for registering attributes for use
        with a data channel are given in <a class="xref" href="#IANA-reg-data-channel-attribs">Section 9.3</a>.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">Each SDP attribute that is related to the subprotocol and that would normally 
      be used to negotiate the subprotocol using the SDP offer/answer mechanism is replaced with 
      an attribute of the form "a=dcsa:stream-id original‑attribute",
      where "dcsa" stands for "data channel subprotocol attribute", 
      "stream-id" is the SCTP stream identifier assigned to this subprotocol 
      instance, and "original-attribute" represents the contents of the 
      subprotocol-related attribute to be included.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">The same syntax applies to any other SDP attribute required for 
      negotiation of this instance of the subprotocol.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<p id="section-5.2-4">The detailed offer/answer procedures for the dcsa attribute are
        dependent on the associated subprotocol. If no offer/answer
        procedures exist for the subprotocol when used outside of the dcsa
        attribute, no specification is needed for use with dcsa. The IANA
        (Internet Assigned Numbers Authority) registration procedures for the "WebSocket Subprotocol Name Registry" (<a class="xref" href="#IANA_subproto_ids">Section 9.1</a>) do not strictly require a specification of the offer/answer procedures for the subprotocol when used with dcsa. If the subprotocol has defined offer/answer procedures when used outside of dcsa, such a specification is encouraged to ensure interoperability. If the subprotocol has defined offer/answer procedures when used outside of dcsa but no specification exists for the offer/answer procedures for the subprotocol when used with dcsa, implementations <span class="bcp14">SHOULD</span> assume the use of the default values for all otherwise-negotiable and applicable subprotocol parameters.<a class="pilcrow" href="#section-5.2-4">¶</a></p>
<div id="dcsa-attribute">
<section id="section-5.2.1">
          <h4 id="name-dcsa-attribute-syntax">
<a class="section-number selfRef" href="#section-5.2.1">5.2.1. </a><a class="section-name selfRef" href="#name-dcsa-attribute-syntax">DCSA Attribute Syntax</a>
          </h4>
<p id="section-5.2.1-1">"a=dcsa:" is a media-level attribute having the following definition and
ABNF (Augmented Backus-Naur Form) syntax <span>[<a class="xref" href="#RFC5234">RFC5234</a>]</span>.<a class="pilcrow" href="#section-5.2.1-1">¶</a></p>
<span id="name-adcsa-attribute-definition"></span><div id="dcsa-attrib">
<table class="center" id="table-2">
            <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-adcsa-attribute-definition">"a=dcsa:" Attribute Definition</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="2" rowspan="1">"a=dcsa:" Attribute</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Name</td>
                <td class="text-left" colspan="1" rowspan="1">dcsa</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Value</td>
                <td class="text-left" colspan="1" rowspan="1">dcsa-value</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Usage Level</td>
                <td class="text-left" colspan="1" rowspan="1">media</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Charset Dependent</td>
                <td class="text-left" colspan="1" rowspan="1">No</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-5.2.1-3">Formal syntax:<a class="pilcrow" href="#section-5.2.1-3">¶</a></p>
<div id="section-5.2.1-4">
<pre class="sourcecode lang-abnf">dcsa-value      = stream-id SP attribute
stream-id       = 1*5DIGIT
attribute       = &lt;from RFC 8866&gt;</pre><a class="pilcrow" href="#section-5.2.1-4">¶</a>
</div>
<p id="section-5.2.1-5">Example:<a class="pilcrow" href="#section-5.2.1-5">¶</a></p>
<div id="section-5.2.1-6">
<pre class="sourcecode lang-sdp">a=dcmap:2 subprotocol="msrp";ordered=true;label="msrp"

a=dcsa:2 accept-types:text/plain</pre><a class="pilcrow" href="#section-5.2.1-6">¶</a>
</div>
<p id="section-5.2.1-7">The reference to <span>[<a class="xref" href="#RFC8866">RFC8866</a>]</span> defines where the 
      attribute definition can be found; 
      it does not provide any limitations on support of attributes 
      defined in other documents in accordance with this attribute 
      definition. However, not all SDP attributes are suitable 
      as an "a=dcsa:" parameter. The registry of IANA SDP parameters contains
      the lists of IANA-registered session-level and media-level or 
      media-level-only SDP attributes.<a class="pilcrow" href="#section-5.2.1-7">¶</a></p>
<p id="section-5.2.1-8">Thus, in the example above, the original attribute line 
      "a=accept‑types:text/plain" is represented by the attribute line 
      "a=dcsa:2 accept-types:text/plain", which specifies that this 
      instance of the MSRP subprotocol being transported on the SCTP association using 
      the data channel with stream id 2 accepts 
      plaintext files.<a class="pilcrow" href="#section-5.2.1-8">¶</a></p>
<p id="section-5.2.1-9">As opposed to the data channel "a=dcmap:" attribute parameters, 
      these parameters 
      are subject to offer/answer negotiation, following the procedures 
      defined in the subprotocol-specific documents.<a class="pilcrow" href="#section-5.2.1-9">¶</a></p>
<p id="section-5.2.1-10">It is assumed that in general the usages of subprotocol-related
      media-level attributes are independent from the subprotocol's transport protocol.
      Such transport-protocol-independent subprotocol-related attributes are
      used in the same way as defined in the original subprotocol specification,
      also if the subprotocol is transported over a data channel and if the
      attribute is correspondingly embedded in an "a=dcsa:" attribute.<a class="pilcrow" href="#section-5.2.1-10">¶</a></p>
<p id="section-5.2.1-11">There may be cases where the usage of a subprotocol-related
      media-level
      attribute depends on the subprotocol's transport protocol.
      In such cases, the subprotocol-related usage of the attribute is expected to be
      described for the data channel transport. A data-channel-specific usage of a 
      subprotocol attribute is expected to be specified in the same document that
      registers the subprotocol's identifier for data channel usage as described in 
      <a class="xref" href="#IANA_subproto_ids">Section 9.1</a>.<a class="pilcrow" href="#section-5.2.1-11">¶</a></p>
</section>
</div>
<div id="dcsa-mux-category">
<section id="section-5.2.2">
          <h4 id="name-dcsa-multiplexing-category">
<a class="section-number selfRef" href="#section-5.2.2">5.2.2. </a><a class="section-name selfRef" href="#name-dcsa-multiplexing-category">DCSA Multiplexing Category</a>
          </h4>
<p id="section-5.2.2-1">The multiplexing category of the "a=dcsa:" attribute is SPECIAL.<a class="pilcrow" href="#section-5.2.2-1">¶</a></p>
<p id="section-5.2.2-2">As the usage of multiple SCTP associations on top of a single DTLS
       association is outside the scope of <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span>,
       no "a=dcsa:" attribute multiplexing rules are specified for the UDP/DTLS/SCTP and 
       TCP⁠/DTLS⁠/SCTP proto values.
       If future extensions of <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span> define how to 
       negotiate multiplexing of multiple SCTP associations on top of a single DTLS 
       association or how to add multiple SCTP associations to one BUNDLE group, then 
       multiplexing rules for the "a=dcsa:" attribute need to be 
       defined as well -- for instance, in an extension of this specification.<a class="pilcrow" href="#section-5.2.2-2">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="section_procedures">
<section id="section-6">
      <h2 id="name-sdp-offer-answer-procedures">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-sdp-offer-answer-procedures">SDP Offer/Answer Procedures</a>
      </h2>
<p id="section-6-1">This section defines how data channels can be negotiated using the SDP 
       offer/answer mechanism. A given media description can describe multiple 
       data channels (each represented by a separate SDP dcmap attribute) that 
       can be created, modified, and closed using different offer/answer exchanges. 
       The procedures in this section apply for a given data channel.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">The generic offer/answer procedures for negotiating the SCTP association used to realize data channels are defined in <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span>. This section only defines the data-channel-specific procedures.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3"> "Initial offer" refers to the offer in which a data channel is
      opened. It can be either the initial offer or a subsequent offer of the associated SDP session.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">The detailed offer/answer procedures for the dcsa attribute are dependent on the associated subprotocol; see <a class="xref" href="#prot_att">Section 5.2</a>.<a class="pilcrow" href="#section-6-4">¶</a></p>
<div id="id_mgmt">
<section id="section-6.1">
        <h3 id="name-managing-stream-identifiers">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-managing-stream-identifiers">Managing Stream Identifiers</a>
        </h3>
<p id="section-6.1-1">
        In order to avoid SCTP Stream identifier collisions, in alignment with
        <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>, the endpoint acting as a DTLS client (for
the SCTP association used to realize data channels) <span class="bcp14">MUST</span> use even identifier values,
and the endpoint acting as a DTLS server <span class="bcp14">MUST</span> use odd identifier values.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">SCTP stream identifiers associated with data channels that have been negotiated using DCEP <span class="bcp14">MUST NOT</span> be included in SDP offers and answers.<a class="pilcrow" href="#section-6.1-2">¶</a></p>
</section>
</div>
<div id="param_negotiation">
<section id="section-6.2">
        <h3 id="name-negotiating-data-channel-pa">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-negotiating-data-channel-pa">Negotiating Data Channel Parameters</a>
        </h3>
<p id="section-6.2-1"> 
   The data channel types defined in <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span> are
   mapped to the dcmap SDP attribute parameters in the following manner, where "ordered=true" is the default and may be omitted:<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<div id="section-6.2-2">
<pre class="sourcecode lang-sdp">DATA_CHANNEL_RELIABLE
   ordered=true

DATA_CHANNEL_RELIABLE_UNORDERED
   ordered=false

DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT
   ordered=true;max-retr=&lt;number of retransmissions&gt;

DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT_UNORDERED
   ordered=false;max-retr=&lt;number of retransmissions&gt;

DATA_CHANNEL_PARTIAL_RELIABLE_TIMED
   ordered=true;max-time=&lt;lifetime in milliseconds&gt;

DATA_CHANNEL_PARTIAL_RELIABLE_TIMED_UNORDERED
   ordered=false;max-time=&lt;lifetime in milliseconds&gt;</pre><a class="pilcrow" href="#section-6.2-2">¶</a>
</div>
<p id="section-6.2-3">
  By definition, 'max-retr' and 'max-time' are mutually exclusive,
   so both <span class="bcp14">MUST NOT</span> be present in the "a=dcmap:" attribute
   line.  If an SDP offer contains both of these parameters, then the
   receiver of such an SDP offer <span class="bcp14">MUST</span> reject the SDP offer.  If an SDP
   answer contains both of these parameters, then the offerer <span class="bcp14">MUST</span> treat
   the associated SDP offer/answer as failed.<a class="pilcrow" href="#section-6.2-3">¶</a></p>
</section>
</div>
<div id="opendc">
<section id="section-6.3">
        <h3 id="name-generating-the-initial-offe">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-generating-the-initial-offe">Generating the Initial Offer for a Data Channel</a>
        </h3>
<p id="section-6.3-1">When an offerer sends an initial offer, in order to negotiate an SCTP stream for a data channel, the offerer<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-2.1">
            <span class="bcp14">SHALL</span> include an SDP dcmap attribute
          (Sections <a class="xref" href="#subsec-sdp-attr-for-dc-par-neg">5.1</a> and  <a class="xref" href="#param_negotiation">6.2</a>) associated with the data channel in the "m=" section representing the SCTP association used to realize the data channel, and<a class="pilcrow" href="#section-6.3-2.1">¶</a>
</li>
          <li class="normal" id="section-6.3-2.2">
            <span class="bcp14">MAY</span> include one or more SDP dcsa attributes (<a class="xref" href="#prot_att">Section 5.2</a>) associated with the
      data channel. The value of the 'stream-id' part of each attribute <span class="bcp14">SHALL</span> match the 'dcmap-stream-id' value of the dcmap attribute.<a class="pilcrow" href="#section-6.3-2.2">¶</a>
</li>
        </ul>
</section>
</div>
<section id="section-6.4">
        <h3 id="name-generating-the-sdp-answer">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-generating-the-sdp-answer">Generating the SDP Answer</a>
        </h3>
<p id="section-6.4-1">When an answerer receives an offer that includes an "m=" section
        for an SCTP association, the offer describes an SCTP stream for a data channel, if the answerer accepts the data channel, it<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.4-2.1">
            <span class="bcp14">SHALL</span> include an SDP dcmap attribute
          (Sections <a class="xref" href="#subsec-sdp-attr-for-dc-par-neg">5.1</a> and  <a class="xref" href="#param_negotiation">6.2</a>)
      associated
with the data channel in the "m=" section representing the SCTP association used
to realize the data channel. The value of the 'dcmap-stream-id', 'max-retr', and 'max-time'
values of the dcmap attribute <span class="bcp14">SHALL</span> be identical to the value used for the data channel
in the offer, and<a class="pilcrow" href="#section-6.4-2.1">¶</a>
</li>
          <li class="normal" id="section-6.4-2.2">
            <span class="bcp14">MAY</span> include one or more SDP dcsa attributes (<a class="xref" href="#prot_att">Section 5.2</a>) associated with the
      data channel.<a class="pilcrow" href="#section-6.4-2.2">¶</a>
</li>
        </ul>
</section>
<section id="section-6.5">
        <h3 id="name-offerer-processing-of-the-s">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-offerer-processing-of-the-s">Offerer Processing of the SDP Answer</a>
        </h3>
<p id="section-6.5-1">An offerer receiving an SDP answer performs the following:<a class="pilcrow" href="#section-6.5-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.5-2.1">It <span class="bcp14">SHALL</span> close any created data channels as described in 
       <a class="xref" href="#close-dc">Section 6.6.1</a>
       for which the expected "a=dcmap:" attributes are not 
       present in the SDP answer. If the SDP answer has no "a=dcmap:" attributes, either the peer does not support "a=dcmap:" attributes or 
            it rejected all the data channels. In either case, the offerer
            closes all the data channels offered by SDP that were open at the time of the offer. 
            The DTLS association and SCTP association will still be set up. At this
   point, the offerer may use DCEP negotiation <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span> to open data channels.<a class="pilcrow" href="#section-6.5-2.1">¶</a>
</li>
        </ul>
<p id="section-6.5-3">Each agent application <span class="bcp14">MUST</span> wait to send data until it has 
     confirmation that the data channel at the peer is instantiated. 
     For WebRTC, this is when both data channel stacks have channel 
     parameters instantiated and occurs as follows:<a class="pilcrow" href="#section-6.5-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.5-4.1">At both peers when a data channel is created without a previously
      established SCTP association, as soon as the SCTP association
      is successfully established.<a class="pilcrow" href="#section-6.5-4.1">¶</a>
</li>
          <li class="normal" id="section-6.5-4.2">At the agent receiving an SDP offer for which there is an 
      established SCTP association, as soon as it creates the 
      negotiated data channel based on information 
      signaled in the SDP offer.<a class="pilcrow" href="#section-6.5-4.2">¶</a>
</li>
          <li class="normal" id="section-6.5-4.3">At the agent sending an SDP offer to create a new data channel for which there is an established SCTP 
      association, when it receives the SDP answer confirming acceptance 
      of the data channel or when it begins to receive data on the 
      data channel from the peer, whichever occurs first.<a class="pilcrow" href="#section-6.5-4.3">¶</a>
</li>
        </ul>
</section>
<section id="section-6.6">
        <h3 id="name-modifying-the-session">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-modifying-the-session">Modifying the Session</a>
        </h3>
<p id="section-6.6-1">When an offerer sends a subsequent offer that includes information for
   a previously negotiated data channel, unless the offerer intends to
   close the data channel (<a class="xref" href="#close-dc">Section 6.6.1</a>), the offerer <span class="bcp14">SHALL</span> include the
   previously negotiated SDP attributes and attribute values associated with the
   data channel. The answerer may reject the offer. The means for rejecting an offer are dependent on
   the higher-layer protocol.  The offer/answer exchange is atomic; if the answer is rejected, the session reverts to the state prior to the
   offer <span>[<a class="xref" href="#RFC3264">RFC3264</a>]</span>.<a class="pilcrow" href="#section-6.6-1">¶</a></p>
<div id="close-dc">
<section id="section-6.6.1">
          <h4 id="name-closing-a-data-channel">
<a class="section-number selfRef" href="#section-6.6.1">6.6.1. </a><a class="section-name selfRef" href="#name-closing-a-data-channel">Closing a Data Channel</a>
          </h4>
<p id="section-6.6.1-1">In order to close a data channel, the endpoint that wants to
          close the data channel
   <span class="bcp14">SHALL</span> send an SCTP SSN Reset message <span>[<a class="xref" href="#RFC6525">RFC6525</a>]</span>, following the procedure in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8831#section-6.7">Section 6.7</a> of [<a class="xref" href="#RFC8831">RFC8831</a>]</span>.
In addition, if the closed data channel was negotiated using the offer/answer
mechanism (<a class="xref" href="#opendc">Section 6.3</a>), the endpoint that closed the data channel
<span class="bcp14">SHALL</span> send a subsequent offer in which it does one of the following:<a class="pilcrow" href="#section-6.6.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.6.1-2.1">Removes the SDP dcmap attribute and SDP dcsa attributes
            associated with the closed data channel. Once the endpoint
            receives a successful answer, the SCTP stream identifier value can
            later be used for a new data channel (negotiated using either SCTP
            or the offer/answer mechanism), or<a class="pilcrow" href="#section-6.6.1-2.1">¶</a>
</li>
            <li class="normal" id="section-6.6.1-2.2">After a reset has been performed, reuses the SCTP stream used for the closed data channel for a new data channel, following the procedure in <a class="xref" href="#opendc">Section 6.3</a>. The offerer <span class="bcp14">SHALL</span> use a different SDP dcmap attribute value for the data channel using the same SCTP stream.<a class="pilcrow" href="#section-6.6.1-2.2">¶</a>
</li>
          </ul>
</section>
</div>
</section>
<div id="various_SDP_OA_considerations">
<section id="section-6.7">
        <h3 id="name-various-sdp-offer-answer-co">
<a class="section-number selfRef" href="#section-6.7">6.7. </a><a class="section-name selfRef" href="#name-various-sdp-offer-answer-co">Various SDP Offer/Answer Considerations</a>
        </h3>
<p id="section-6.7-1">An SDP offer or answer has no "a=dcmap:" attributes but has "a=dcsa:" attributes:<a class="pilcrow" href="#section-6.7-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.7-2.1">This is considered an error case. In this case, the receiver of such an
            SDP offer or answer <span class="bcp14">MUST</span> discard the "a=dcsa:" attributes.<a class="pilcrow" href="#section-6.7-2.1">¶</a>
</li>
        </ul>
<p id="section-6.7-3">An SDP offer or answer has an "a=dcsa:" attribute whose subprotocol attribute 
       is unknown:<a class="pilcrow" href="#section-6.7-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.7-4.1">The receiver of such an SDP offer or answer <span class="bcp14">SHOULD</span> ignore this 
         entire "a=dcsa:" attribute line.<a class="pilcrow" href="#section-6.7-4.1">¶</a>
</li>
        </ul>
<p id="section-6.7-5">An SDP offer or answer has an "a=dcsa:" attribute whose subprotocol attribute 
       is known but whose subprotocol attribute semantic is not known for the 
       data channel transport case:<a class="pilcrow" href="#section-6.7-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.7-6.1">The receiver of such an SDP offer or answer <span class="bcp14">SHOULD</span> ignore this 
         entire "a=dcsa:" attribute line.<a class="pilcrow" href="#section-6.7-6.1">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="examples">
<section id="section-7">
      <h2 id="name-examples">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-examples">Examples</a>
      </h2>
<p id="section-7-1"><a class="xref" href="#example1">Figure 1</a> shows an example of an SDP offer and answer
      where the SDP answerer rejects the data channel 
   with stream id 0 either for explicit reasons or because it does not 
   understand the "a=dcmap:" attribute. 
   As a result, the offerer will close the data channel created with the 
   SDP offer/answer negotiation option. 
   The SCTP association will still be set up over DTLS. 
   At this point, the offerer or the answerer may use DCEP negotiation to open data 
   channels.<a class="pilcrow" href="#section-7-1">¶</a></p>
<span id="name-example-1"></span><div id="example1">
<figure id="figure-1">
        <div id="section-7-2.1">
<pre class="sourcecode lang-sdp">  m=application 10001 UDP/DTLS/SCTP webrtc-datachannel
  c=IN IP6 2001:db8::3
  a=max-message-size:100000
  a=sctp-port:5000
  a=setup:actpass
  a=fingerprint:SHA-1 \
      4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
  a=tls-id:abc3de65cddef001be82
  a=dcmap:0 subprotocol="bfcp";label="bfcp"</pre>
</div>
<div id="section-7-2.2">
<pre class="sourcecode lang-sdp">  m=application 10002 UDP/DTLS/SCTP webrtc-datachannel
  c=IN IP6 2001:db8::1
  a=max-message-size:100000
  a=sctp-port:5002
  a=setup:passive
  a=fingerprint:SHA-1 \
      5B:AD:67:B1:3E:82:AC:3B:90:02:B1:DF:12:5D:CA:6B:3F:E5:54:FA
  a=tls-id:dcb3ae65cddef0532d42</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-example-1">Example 1</a>
        </figcaption></figure>
</div>
<p id="section-7-3"><a class="xref" href="#example2">Figure 2</a> shows an example of an SDP offer and answer
      where the SDP offer contains data channels for BFCP and
   MSRP subprotocols. The SDP answer rejects BFCP and accepts MSRP. 
   So, the offerer closes the data channel for BFCP, and both the offerer 
   and the answerer may start using the MSRP data channel 
   (after the SCTP association is set up).
   The data channel with stream id 0 is free and can be used for future 
   DCEP or SDP offer/answer negotiation.<a class="pilcrow" href="#section-7-3">¶</a></p>
<span id="name-example-2"></span><div id="example2">
<figure id="figure-2">
        <div id="section-7-4.1">
<pre class="sourcecode lang-sdp">  m=application 10001 UDP/DTLS/SCTP webrtc-datachannel
  c=IN IP4 192.0.2.1
  a=max-message-size:100000
  a=sctp-port:5000
  a=setup:actpass
  a=fingerprint:SHA-1 \
      4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
  a=tls-id:abc3de65cddef001be82
  a=dcmap:0 subprotocol="bfcp";label="bfcp"
  a=dcmap:2 subprotocol="msrp";label="msrp"
  a=dcsa:2 accept-types:message/cpim text/plain
  a=dcsa:2 path:msrp://alice.example.com:10001/2s93i93idj;dc</pre>
</div>
<div id="section-7-4.2">
<pre class="sourcecode lang-sdp">  m=application 10002 UDP/DTLS/SCTP webrtc-datachannel
  c=IN IP4 192.0.2.2
  a=max-message-size:100000
  a=sctp-port:5002
  a=setup:passive
  a=fingerprint:SHA-1 \
      5B:AD:67:B1:3E:82:AC:3B:90:02:B1:DF:12:5D:CA:6B:3F:E5:54:FA
  a=tls-id:dcb3ae65cddef0532d42
  a=dcmap:2 subprotocol="msrp";label="msrp"
  a=dcsa:2 accept-types:message/cpim text/plain
  a=dcsa:2 path:msrp://bob.example.com:10002/si438dsaodes;dc</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-example-2">Example 2</a>
        </figcaption></figure>
</div>
<p id="section-7-5">The example in <a class="xref" href="#example3">Figure 3</a> is a continuation of the example in <a class="xref" href="#example2">Figure 2</a>. 
   The SDP offerer now removes the MSRP data channel with stream id 2
   but opens a new MSRP data channel with stream id 4. 
   The answerer accepts the entire offer. 
   As a result, the offerer closes the previously negotiated MSRP-related data channel,
   and both the offerer and the answerer may start using the new MSRP-related data
      channel.<a class="pilcrow" href="#section-7-5">¶</a></p>
<span id="name-example-3"></span><div id="example3">
<figure id="figure-3">
        <div id="section-7-6.1">
<pre class="sourcecode lang-sdp">  m=application 10001 UDP/DTLS/SCTP webrtc-datachannel
  c=IN IP4 192.0.2.1
  a=max-message-size:100000
  a=sctp-port:5000
  a=setup:actpass
  a=fingerprint:SHA-1 \
      4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
  a=tls-id:abc3de65cddef001be82
  a=dcmap:4 subprotocol="msrp";label="msrp"
  a=dcsa:4 accept-types:message/cpim text/plain
  a=dcsa:4 path:msrp://alice.example.com:10001/2s93i93idj;dc</pre>
</div>
<div id="section-7-6.2">
<pre class="sourcecode lang-sdp">  m=application 10002 UDP/DTLS/SCTP webrtc-datachannel
  c=IN IP4 192.0.2.2
  a=max-message-size:100000
  a=sctp-port:5002
  a=setup:passive
  a=fingerprint:SHA-1 \
      5B:AD:67:B1:3E:82:AC:3B:90:02:B1:DF:12:5D:CA:6B:3F:E5:54:FA
  a=tls-id:dcb3ae65cddef0532d42
  a=dcmap:4 subprotocol="msrp";label="msrp"
  a=dcsa:4 accept-types:message/cpim text/plain
  a=dcsa:4 path:msrp://bob.example.com:10002/si438dsaodes;dc</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-example-3">Example 3</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="sec-cons">
<section id="section-8">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-8-1">This document specifies new SDP attributes used in the negotiation of data channel parameters.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">
These parameters are negotiated as part of opening an SCTP channel over DTLS as specified in <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span>. Each 
subprotocol may come with its own security considerations that need to be documented as part of the subprotocol definition.
Otherwise, this document does not add any security considerations to those specified in <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span>.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">Error cases such as the use of unknown parameter values or violations
      of the odd/even rule (<a class="xref" href="#id_mgmt">Section 6.1</a>) <span class="bcp14">MUST</span>
   be handled by closing the corresponding data channel.<a class="pilcrow" href="#section-8-3">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="IANA_subproto_ids">
<section id="section-9.1">
        <h3 id="name-subprotocol-identifiers">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-subprotocol-identifiers">Subprotocol Identifiers</a>
        </h3>
<p id="section-9.1-1">Registration of new subprotocol identifiers is performed using the existing IANA 
    "WebSocket Subprotocol Name Registry" table.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
<p id="section-9.1-2">The following text has been added below the title of the table.<a class="pilcrow" href="#section-9.1-2">¶</a></p>
<p id="section-9.1-3">"This table also includes subprotocol identifiers specified for usage within a 
    WebRTC data channel."<a class="pilcrow" href="#section-9.1-3">¶</a></p>
<p id="section-9.1-4">This document (RFC 8864) has been added to the "Reference" list for
        the registry.<a class="pilcrow" href="#section-9.1-4">¶</a></p>
<p id="section-9.1-5">This document assigns no new values to this table.<a class="pilcrow" href="#section-9.1-5">¶</a></p>
<p id="section-9.1-6">A subprotocol may simultaneously be defined for data channel transport 
    and for WebSocket transport.
    In such a case, the "Subprotocol Definition" and "Reference" cells in the 
    subprotocol's row of the IANA "WebSocket Subprotocol Name Registry" table should 
    contain two entries.
    One entry in each of these cells should refer to the WebSocket-related 
    subprotocol specification, and the other entry should refer to the
    data-channel-related subprotocol specification.<a class="pilcrow" href="#section-9.1-6">¶</a></p>
</section>
</div>
<section id="section-9.2">
        <h3 id="name-new-sdp-attributes">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-new-sdp-attributes">New SDP Attributes</a>
        </h3>
<div id="IANA-reg-dcmap">
<section id="section-9.2.1">
          <h4 id="name-dcmap">
<a class="section-number selfRef" href="#section-9.2.1">9.2.1. </a><a class="section-name selfRef" href="#name-dcmap">dcmap</a>
          </h4>
<p id="section-9.2.1-1">This document defines a new SDP media-level attribute, "a=dcmap:", as follows:<a class="pilcrow" href="#section-9.2.1-1">¶</a></p>
<span id="name-new-adcmap-attribute"></span><div id="dcmap-iana">
<table class="center" id="table-3">
            <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-new-adcmap-attribute">New "a=dcmap:" Attribute</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="2" rowspan="1">"a=dcmap:"</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Contact name</td>
                <td class="text-left" colspan="1" rowspan="1">IESG</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Contact email</td>
                <td class="text-left" colspan="1" rowspan="1">iesg@ietf.org</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Attribute name</td>
                <td class="text-left" colspan="1" rowspan="1">dcmap</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Attribute syntax</td>
                <td class="text-left" colspan="1" rowspan="1">As per <a class="xref" href="#dcmap-attr-definition">Section 5.1.1</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Attribute semantics</td>
                <td class="text-left" colspan="1" rowspan="1">As per <a class="xref" href="#dcmap-attr-definition">Section 5.1.1</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Usage level</td>
                <td class="text-left" colspan="1" rowspan="1">media</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Charset dependent</td>
                <td class="text-left" colspan="1" rowspan="1">No</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Purpose</td>
                <td class="text-left" colspan="1" rowspan="1">To define data-channel-specific parameters</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Appropriate values</td>
                <td class="text-left" colspan="1" rowspan="1">As per <a class="xref" href="#dcmap-attr-definition">Section 5.1.1</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">O/A procedures</td>
                <td class="text-left" colspan="1" rowspan="1">SDP offer/answer procedures as per <a class="xref" href="#section_procedures">Section 6</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Mux category</td>
                <td class="text-left" colspan="1" rowspan="1">SPECIAL. See <a class="xref" href="#dcmap-mux-category">Section 5.1.9</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Reference</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 8864</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<div id="IANA-reg-dcsa">
<section id="section-9.2.2">
          <h4 id="name-dcsa">
<a class="section-number selfRef" href="#section-9.2.2">9.2.2. </a><a class="section-name selfRef" href="#name-dcsa">dcsa</a>
          </h4>
<p id="section-9.2.2-1">This document defines a new SDP media-level attribute, "a=dcsa:", as follows:<a class="pilcrow" href="#section-9.2.2-1">¶</a></p>
<span id="name-new-adcsa-attribute"></span><div id="dcsa-iana">
<table class="center" id="table-4">
            <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-new-adcsa-attribute">New "a=dcsa:" Attribute</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" colspan="2" rowspan="1">"a=dcsa:"</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Contact name</td>
                <td class="text-left" colspan="1" rowspan="1">IESG</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Contact email</td>
                <td class="text-left" colspan="1" rowspan="1">iesg@ietf.org</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Attribute name</td>
                <td class="text-left" colspan="1" rowspan="1">dcsa</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Attribute syntax</td>
                <td class="text-left" colspan="1" rowspan="1">As per <a class="xref" href="#dcsa-attribute">Section 5.2.1</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Attribute semantics</td>
                <td class="text-left" colspan="1" rowspan="1">As per <a class="xref" href="#dcsa-attribute">Section 5.2.1</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Usage level</td>
                <td class="text-left" colspan="1" rowspan="1">media</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Charset dependent</td>
                <td class="text-left" colspan="1" rowspan="1">No</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Purpose</td>
                <td class="text-left" colspan="1" rowspan="1">To define attributes that are specific to data channel subprotocols</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Appropriate values</td>
                <td class="text-left" colspan="1" rowspan="1">As per <a class="xref" href="#dcsa-attribute">Section 5.2.1</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">O/A procedures</td>
                <td class="text-left" colspan="1" rowspan="1">SDP offer/answer procedures as per <a class="xref" href="#section_procedures">Section 6</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Mux category</td>
                <td class="text-left" colspan="1" rowspan="1">SPECIAL. See <a class="xref" href="#dcsa-mux-category">Section 5.2.2</a>
                </td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">Reference</td>
                <td class="text-left" colspan="1" rowspan="1">RFC 8864</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
<div id="IANA-reg-data-channel-attribs">
<section id="section-9.3">
        <h3 id="name-registering-attributes-for-">
<a class="section-number selfRef" href="#section-9.3">9.3. </a><a class="section-name selfRef" href="#name-registering-attributes-for-">Registering Attributes for Use with Data Channels</a>
        </h3>
<p id="section-9.3-1">When a subprotocol is defined for use over data channels with
        the SDP offer/answer mechanism, any SDP attributes that may be
        negotiated using the "a=dcsa:" attribute <span class="bcp14">MUST</span> be added to the IANA
        "attribute-name registry (formerly "att-field")", as specified in
        <span>[<a class="xref" href="#RFC8866">RFC8866</a>], <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8866#section-8.2.4">Section 8.2.4</a></span>.  This
        document specifies that new Usage Levels of the form "dcsa (foo)"
        (where "foo" is a placeholder for the subprotocol name) should be
        registered by documents that specify negotiation of particular
        subprotocols.<a class="pilcrow" href="#section-9.3-1">¶</a></p>
<p id="section-9.3-2">IANA has updated the "attribute-name (formerly "att-field")"
        registry to point to this document.<a class="pilcrow" href="#section-9.3-2">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3264">[RFC3264]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span><span class="refAuthor"> and H. Schulzrinne</span>, <span class="refTitle">"An Offer/Answer Model with Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 3264</span>, <span class="seriesInfo">DOI 10.17487/RFC3264</span>, <time class="refDate" datetime="2002-06">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3264">https://www.rfc-editor.org/info/rfc3264</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3629">[RFC3629]</dt>
        <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time class="refDate" datetime="2003-11">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4960">[RFC4960]</dt>
        <dd>
<span class="refAuthor">Stewart, R., Ed.</span>, <span class="refTitle">"Stream Control Transmission Protocol"</span>, <span class="seriesInfo">RFC 4960</span>, <span class="seriesInfo">DOI 10.17487/RFC4960</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4960">https://www.rfc-editor.org/info/rfc4960</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span><span class="refAuthor"> and P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time class="refDate" datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6525">[RFC6525]</dt>
        <dd>
<span class="refAuthor">Stewart, R.</span><span class="refAuthor">, Tuexen, M.</span><span class="refAuthor">, and P. Lei</span>, <span class="refTitle">"Stream Control Transmission Protocol (SCTP) Stream Reconfiguration"</span>, <span class="seriesInfo">RFC 6525</span>, <span class="seriesInfo">DOI 10.17487/RFC6525</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6525">https://www.rfc-editor.org/info/rfc6525</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8831">[RFC8831]</dt>
        <dd>
<span class="refAuthor">Jesup, R.</span><span class="refAuthor">, Loreto, S.</span><span class="refAuthor">, and M. Tüxen</span>, <span class="refTitle">"WebRTC Data Channels"</span>, <span class="seriesInfo">RFC 8831</span>, <span class="seriesInfo">DOI 10.17487/RFC8831</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8831">https://www.rfc-editor.org/info/rfc8831</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8832">[RFC8832]</dt>
        <dd>
<span class="refAuthor">Jesup, R.</span><span class="refAuthor">, Loreto, S.</span><span class="refAuthor">, and M. Tüxen</span>, <span class="refTitle">"WebRTC Data Channel Establishment Protocol"</span>, <span class="seriesInfo">RFC 8832</span>, <span class="seriesInfo">DOI 10.17487/RFC8832</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8832">https://www.rfc-editor.org/info/rfc8832</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8841">[RFC8841]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span><span class="refAuthor">, Shpount, R.</span><span class="refAuthor">, Loreto, S.</span><span class="refAuthor">, and G. Camarillo</span>, <span class="refTitle">"Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport"</span>, <span class="seriesInfo">RFC 8841</span>, <span class="seriesInfo">DOI 10.17487/RFC8841</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8841">https://www.rfc-editor.org/info/rfc8841</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8859">[RFC8859]</dt>
        <dd>
<span class="refAuthor">Nandakumar, S.</span>, <span class="refTitle">"A Framework for Session Description Protocol (SDP) Attributes When Multiplexing"</span>, <span class="seriesInfo">RFC 8859</span>, <span class="seriesInfo">DOI 10.17487/RFC8859</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8859">https://www.rfc-editor.org/info/rfc8859</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8866">[RFC8866]</dt>
      <dd>
<span class="refAuthor">Begen, A.</span><span class="refAuthor">, Kyzivat, P.</span><span class="refAuthor">, Perkins, C.</span><span class="refAuthor">, and M. Handley</span>, <span class="refTitle">"SDP: Session Description Protocol"</span>, <span class="seriesInfo">RFC 8866</span>, <span class="seriesInfo">DOI 10.17487/RFC8866</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8866">https://www.rfc-editor.org/info/rfc8866</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4975">[RFC4975]</dt>
        <dd>
<span class="refAuthor">Campbell, B., Ed.</span><span class="refAuthor">, Mahy, R., Ed.</span><span class="refAuthor">, and C. Jennings, Ed.</span>, <span class="refTitle">"The Message Session Relay Protocol (MSRP)"</span>, <span class="seriesInfo">RFC 4975</span>, <span class="seriesInfo">DOI 10.17487/RFC4975</span>, <time class="refDate" datetime="2007-09">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4975">https://www.rfc-editor.org/info/rfc4975</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6455">[RFC6455]</dt>
        <dd>
<span class="refAuthor">Fette, I.</span><span class="refAuthor"> and A. Melnikov</span>, <span class="refTitle">"The WebSocket Protocol"</span>, <span class="seriesInfo">RFC 6455</span>, <span class="seriesInfo">DOI 10.17487/RFC6455</span>, <time class="refDate" datetime="2011-12">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6455">https://www.rfc-editor.org/info/rfc6455</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8850">[RFC8850]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span>, <span class="refTitle">"Controlling Multiple Streams for Telepresence (CLUE) Protocol Data Channel"</span>, <span class="seriesInfo">RFC 8850</span>, <span class="seriesInfo">DOI 10.17487/RFC8850</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8850">https://www.rfc-editor.org/info/rfc8850</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8855">[RFC8855]</dt>
        <dd>
<span class="refAuthor">Camarillo, G.</span><span class="refAuthor">, Drage, K.</span><span class="refAuthor">, Kristensen, T.</span><span class="refAuthor">, Ott, J.</span><span class="refAuthor">, and C. Eckel</span>, <span class="refTitle">"The Binary Floor Control Protocol (BFCP)"</span>, <span class="seriesInfo">RFC 8855</span>, <span class="seriesInfo">DOI 10.17487/RFC8855</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8855">https://www.rfc-editor.org/info/rfc8855</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8873">[RFC8873]</dt>
        <dd>
<span class="refAuthor">Recio, JM., Ed.</span><span class="refAuthor"> and C. Holmberg</span>, <span class="refTitle">"Message Session Relay Protocol (MSRP) over Data Channels"</span>, <span class="seriesInfo">RFC 8873</span>, <span class="seriesInfo">DOI 10.17487/RFC8873</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8873">https://www.rfc-editor.org/info/rfc8873</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="T38">[T38]</dt>
        <dd>
<span class="refAuthor">International Telecommunication Union</span>, <span class="refTitle">"Procedures for real-time Group 3 facsimile communication over IP networks"</span>, <span class="seriesInfo">ITU-T Recommendation T.38</span>, <time class="refDate" datetime="2015-11">November 2015</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-T.38-201511-I/en">https://www.itu.int/rec/T-REC-T.38-201511-I/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WebRtcAPI">[WebRtcAPI]</dt>
      <dd>
<span class="refAuthor">Jennings, C.</span><span class="refAuthor">, Boström, H.</span><span class="refAuthor">, and J-I. Bruaroey</span>, <span class="refTitle">"WebRTC 1.0: Real-time Communication Between Browsers"</span>, <span class="refContent">W3C Proposed Recommendation</span>, <span>&lt;<a href="https://www.w3.org/TR/webrtc/">https://www.w3.org/TR/webrtc/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="generic-out-of-band-aspects">
<section id="section-appendix.a">
      <h2 id="name-generic-data-channel-negoti">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-generic-data-channel-negoti">Generic Data Channel Negotiation Aspects when Not Using DCEP</a>
      </h2>
<p id="section-appendix.a-1">This appendix summarizes how data channels work in general and discusses 
   some key aspects that should be considered for the out-of-band negotiation of data 
   channels if DCEP is not used.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<p id="section-appendix.a-2">A WebRTC application creates a data channel
   by providing a number of setup parameters (subprotocol, label, 
   maximal number of retransmissions, maximal retransmission time, order of delivery, 
   priority). The application also specifies whether
   it wants to make use of the negotiation using DCEP 
   <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span> or 
   intends to negotiate data channels using the SDP offer/answer protocol.<a class="pilcrow" href="#section-appendix.a-2">¶</a></p>
<p id="section-appendix.a-3">In any case, the SDP offer generated by the application is per 
   <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span>. In brief, it contains one 
   "m=" line for the SCTP association on top of which the data channels will run:<a class="pilcrow" href="#section-appendix.a-3">¶</a></p>
<div id="section-appendix.a-4">
<pre class="sourcecode lang-sdp">m=application 54111 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 192.0.2.1
a=max-message-size:100000
a=sctp-port:5000
a=tls-id:abc3de65cddef001be82
a=setup:actpass
a=fingerprint:SHA-1 \
    4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB</pre><a class="pilcrow" href="#section-appendix.a-4">¶</a>
</div>
<aside id="section-appendix.a-5">
        <p id="section-appendix.a-5.1">Note: A WebRTC application will only use the "m=" line format "webrtc-datachannel"
   and will not use other formats in the "m=" line for other protocols 
   such as T.38 <span>[<a class="xref" href="#T38">T38</a>]</span>.
   <span>[<a class="xref" href="#RFC8841">RFC8841</a>]</span> supports only one SCTP
   association to be established on top of a DTLS association.<a class="pilcrow" href="#section-appendix.a-5.1">¶</a></p>
</aside>
<aside id="section-appendix.a-6">
        <p id="section-appendix.a-6.1">Note: The above SDP media description does not contain any channel-specific 
   information.<a class="pilcrow" href="#section-appendix.a-6.1">¶</a></p>
</aside>
<div id="si_num">
<section id="section-a.1">
        <h2 id="name-stream-identifier-numbering">
<a class="section-number selfRef" href="#section-a.1">A.1. </a><a class="section-name selfRef" href="#name-stream-identifier-numbering">Stream Identifier Numbering</a>
        </h2>
<p id="section-a.1-1">Independently from the requested type of negotiation, the application 
    creating a data channel can either (1) pass the stream identifier to the data channel stack to assign
    to the data channel or (2) let the data channel stack pick 
    one identifier from the unused ones.<a class="pilcrow" href="#section-a.1-1">¶</a></p>
<p id="section-a.1-2">Moreover, to avoid glare situations <span>[<a class="xref" href="#RFC3264">RFC3264</a>]</span>, each endpoint can own an 
    exclusive set of stream identifiers, in which case an endpoint can 
    only create a data channel with a stream identifier it owns.<a class="pilcrow" href="#section-a.1-2">¶</a></p>
<p id="section-a.1-3">Which set of stream identifiers is owned by which endpoint is 
    determined by convention or other means.<a class="pilcrow" href="#section-a.1-3">¶</a></p>
<aside id="section-a.1-4">
          <p id="section-a.1-4.1">Note: For data channels negotiated with DCEP, one endpoint owns by 
      convention the even stream identifiers, whereas the other owns the 
      odd stream identifiers, as defined in 
      <span>[<a class="xref" href="#RFC8832">RFC8832</a>]</span>.<a class="pilcrow" href="#section-a.1-4.1">¶</a></p>
</aside>
<aside id="section-a.1-5">
          <p id="section-a.1-5.1">Note: For data channels negotiated via a protocol other than DCEP, 
      no convention is defined by default.<a class="pilcrow" href="#section-a.1-5.1">¶</a></p>
</aside>
</section>
</div>
<div id="sec-gen-ext-neg">
<section id="section-a.2">
        <h2 id="name-generic-data-channel-negotia">
<a class="section-number selfRef" href="#section-a.2">A.2. </a><a class="section-name selfRef" href="#name-generic-data-channel-negotia">Generic Data Channel Negotiation Not Using DCEP</a>
        </h2>
<section id="section-a.2.1">
          <h3 id="name-overview">
<a class="section-number selfRef" href="#section-a.2.1">A.2.1. </a><a class="section-name selfRef" href="#name-overview">Overview</a>
          </h3>
<p id="section-a.2.1-1">DCEP negotiation only provides for negotiation of data channel 
     transport parameters and does not provide for negotiation of
     subprotocol-specific parameters. Non-DCEP data channel negotiation can be defined to 
     allow negotiation of parameters beyond those handled by DCEP, 
     e.g., parameters specific to the subprotocol instantiated on a 
     particular data channel.<a class="pilcrow" href="#section-a.2.1-1">¶</a></p>
<p id="section-a.2.1-2">The following procedures are common to all methods of data channel
     negotiation not using DCEP, whether in-band (communicated using proprietary means on 
     an already-established data channel) or out-of-band (using the SDP
     offer/answer mechanism or 
     some other protocol associated with the signaling channel).<a class="pilcrow" href="#section-a.2.1-2">¶</a></p>
</section>
<div id="ext_open">
<section id="section-a.2.2">
          <h3 id="name-opening-a-data-channel">
<a class="section-number selfRef" href="#section-a.2.2">A.2.2. </a><a class="section-name selfRef" href="#name-opening-a-data-channel">Opening a Data Channel</a>
          </h3>
<p id="section-a.2.2-1">In the case of non-DCEP negotiation, the endpoint application has the 
     option to fully control the stream identifier assignments. However,
     these assignments have to coexist with the assignments controlled by 
     the data channel stack for data channels negotiated using DCEP (if 
     any). It is the responsibility of the application to ensure consistent 
     assignment of stream identifiers.<a class="pilcrow" href="#section-a.2.2-1">¶</a></p>
<p id="section-a.2.2-2">When the application requests that the creation of a new data channel 
     be set up via non-DCEP negotiation, the data channel stack creates 
     the data channel locally without sending any DATA_CHANNEL_OPEN messages
     in-band. 
     However, even if the ICE (Interactive Connectivity Establishment), 
     DTLS, and SCTP procedures were already successfully 
     completed, the application can't send data on this data channel until the 
     negotiation with the peer is complete. This is because the peer needs 
     to be aware of and accept the usage of this data channel. The 
     peer, after accepting the data channel offer, can start sending data 
     immediately. This implies that the offerer may receive data channel 
     subprotocol messages 
     before the negotiation is complete, and the application should be 
     ready to handle it.<a class="pilcrow" href="#section-a.2.2-2">¶</a></p>
<p id="section-a.2.2-3">If the peer rejects the data channel part of the offer, then it 
     doesn't have to do anything, as the data channel was not created using 
     the stack. The offerer, on the other hand, needs to close the data 
     channel that was opened by invoking relevant data channel stack API 
     procedures.<a class="pilcrow" href="#section-a.2.2-3">¶</a></p>
<p id="section-a.2.2-4">It is also worth noting that a data channel stack implementation may 
     not provide any APIs to create and close data channels; instead, the 
     data channels may be used on the fly as needed, just by communicating 
     via non-DCEP means or even by having some local configuration/assumptions 
     on both of the peers.<a class="pilcrow" href="#section-a.2.2-4">¶</a></p>
<p id="section-a.2.2-5">The application then negotiates the data channel 
     properties and subprotocol properties with the peer's application 
     using a mechanism different from DCEP.<a class="pilcrow" href="#section-a.2.2-5">¶</a></p>
<p id="section-a.2.2-6">The peer then symmetrically creates a data channel 
     with these negotiated data channel properties. This is the only way 
     for the peer's data channel stack to know which properties to apply 
     when transmitting data on this channel. 
     The data channel stack must 
     allow data channel creation with any nonconflicting stream identifier 
     so that both peers can create the data channel with the same 
     stream identifier.<a class="pilcrow" href="#section-a.2.2-6">¶</a></p>
</section>
</div>
<section id="section-a.2.3">
          <h3 id="name-closing-a-data-channel-2">
<a class="section-number selfRef" href="#section-a.2.3">A.2.3. </a><a class="section-name selfRef" href="#name-closing-a-data-channel-2">Closing a Data Channel</a>
          </h3>
<p id="section-a.2.3-1">When the application requests the closing of a 
     data channel negotiated without DCEP, 
     the data channel stack always performs an SCTP SSN 
     Reset for this channel.<a class="pilcrow" href="#section-a.2.3-1">¶</a></p>
<p id="section-a.2.3-2">Depending upon the method used for non-DCEP negotiation and the 
     subprotocol associated with the data channel, the closing of the data channel might also be signaled to the peer via SDP offer/answer negotiation.<a class="pilcrow" href="#section-a.2.3-2">¶</a></p>
</section>
</section>
</div>
</section>
</div>
<div id="acknowledgements">
<section id="section-appendix.b">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.b-1">The authors wish to acknowledge the borrowing of ideas from other 
   draft documents by <span class="contact-name">Salvatore Loreto</span>, <span class="contact-name">Gonzalo Camarillo</span>, <span class="contact-name">Peter Dunkley</span>, and
   <span class="contact-name">Gavin Llewellyn</span>. The authors also wish to thank <span class="contact-name">Flemming Andreasen</span>, <span class="contact-name">Christian Groves</span>, 
   <span class="contact-name">Gunnar Hellström</span>, <span class="contact-name">Paul    Kyzivat</span>, <span class="contact-name">Jonathan Lennox</span>, 
   <span class="contact-name">Uwe Rauschenbach</span>, and <span class="contact-name">Roman Shpount</span> for their invaluable comments.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
<p id="section-appendix.b-2">Special thanks to <span class="contact-name">Christer Holmberg</span> for helping
      finish the document and cleaning up <a class="xref" href="#section_procedures">Section 6</a>.<a class="pilcrow" href="#section-appendix.b-2">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="section-appendix.c">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="section-appendix.c-1"><span class="contact-name">Juergen Stoetzer-Bradler</span> made significant
      contributions to this document and should be considered a coauthor.<a class="pilcrow" href="#section-appendix.c-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.d">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Keith Drage</span></div>
<div class="left" dir="auto"><span class="org">Unaffiliated</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:drageke@ntlworld.com">drageke@ntlworld.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Maridi R. Makaraju (Raju)</span></div>
<div class="left" dir="auto"><span class="org">Unaffiliated</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mmraju@gmail.com">mmraju@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Richard Ejzak</span></div>
<div class="left" dir="auto"><span class="org">Unaffiliated</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:richard.ejzak@gmail.com">richard.ejzak@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jerome Marcon</span></div>
<div class="left" dir="auto"><span class="org">Unaffiliated</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jeromee.marcon@free.fr">jeromee.marcon@free.fr</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Roni Even (<span class="role">editor</span>)</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ron.even.tlv@gmail.com">ron.even.tlv@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>