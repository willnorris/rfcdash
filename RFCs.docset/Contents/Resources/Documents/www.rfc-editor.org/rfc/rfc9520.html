<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9520: Negative Caching of DNS Resolution Failures</title>
<meta content="Duane Wessels" name="author"/>
<meta content="William Carroll" name="author"/>
<meta content="Matthew Thomas" name="author"/>
<meta content="
       In the DNS, resolvers employ caching to reduce both latency for end
      users and load on authoritative name servers.  The process of resolution
      may result in one of three types of responses: (1) a response containing
      the requested data, (2) a response indicating the requested data does
      not exist, or (3) a non-response due to a resolution failure in which
      the resolver does not receive any useful information regarding the
      data's existence.  This document concerns itself only with the third
      type. 
       RFC 2308 specifies requirements for DNS negative caching.  There,
      caching of TYPE 2 responses is mandatory and caching of TYPE 3
      responses is optional.  This document updates RFC 2308 to require
      negative caching for DNS resolution failures. 
       RFC 4035 allows DNSSEC validation failure caching. This document
      updates RFC 4035 to require caching for DNSSEC validation failures. 
       RFC 4697 prohibits aggressive requerying for NS records at a failed
      zone's parent zone. This document updates RFC 4697 to expand this
      requirement to all query types and to all ancestor zones.
       
    " name="description"/>
<meta content="xml2rfc 3.19.0" name="generator"/>
<meta content="DNS" name="keyword"/>
<meta content="Negative" name="keyword"/>
<meta content="Caching" name="keyword"/>
<meta content="9520" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.19.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9520.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-dnsop-caching-resolution-failures-08" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9520" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9520</td>
<td class="center">Caching Resolution Failures</td>
<td class="right">December 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Wessels, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9520">9520</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc2308">2308</a>, <a class="eref" href="https://www.rfc-editor.org/rfc/rfc4035">4035</a>, <a class="eref" href="https://www.rfc-editor.org/rfc/rfc4697">4697</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-12">December 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Wessels</div>
<div class="org">Verisign</div>
</div>
<div class="author">
      <div class="author-name">W. Carroll</div>
<div class="org">Verisign</div>
</div>
<div class="author">
      <div class="author-name">M. Thomas</div>
<div class="org">Verisign</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9520</h1>
<h1 id="title">Negative Caching of DNS Resolution Failures</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">In the DNS, resolvers employ caching to reduce both latency for end
      users and load on authoritative name servers.  The process of resolution
      may result in one of three types of responses: (1) a response containing
      the requested data, (2) a response indicating the requested data does
      not exist, or (3) a non-response due to a resolution failure in which
      the resolver does not receive any useful information regarding the
      data's existence.  This document concerns itself only with the third
      type.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">RFC 2308 specifies requirements for DNS negative caching.  There,
      caching of TYPE 2 responses is mandatory and caching of TYPE 3
      responses is optional.  This document updates RFC 2308 to require
      negative caching for DNS resolution failures.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
<p id="section-abstract-3">RFC 4035 allows DNSSEC validation failure caching. This document
      updates RFC 4035 to require caching for DNSSEC validation failures.<a class="pilcrow" href="#section-abstract-3">¶</a></p>
<p id="section-abstract-4">RFC 4697 prohibits aggressive requerying for NS records at a failed
      zone's parent zone. This document updates RFC 4697 to expand this
      requirement to all query types and to all ancestor zones.<a class="pilcrow" href="#section-abstract-4">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9520">https://www.rfc-editor.org/info/rfc9520</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-motivation">Motivation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="auto internal xref" href="#section-1.2">1.2</a>.  <a class="internal xref" href="#name-related-work">Related Work</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p class="keepWithNext" id="section-toc.1-1.1.2.3.1"><a class="auto internal xref" href="#section-1.3">1.3</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-conditions-that-lead-to-dns">Conditions That Lead to DNS Resolution Failures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-servfail-responses">SERVFAIL Responses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-refused-responses">REFUSED Responses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a class="auto internal xref" href="#section-2.3">2.3</a>.  <a class="internal xref" href="#name-timeouts-and-unreachable-se">Timeouts and Unreachable Servers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a class="auto internal xref" href="#section-2.4">2.4</a>.  <a class="internal xref" href="#name-delegation-loops">Delegation Loops</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a class="auto internal xref" href="#section-2.5">2.5</a>.  <a class="internal xref" href="#name-alias-loops">Alias Loops</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a class="auto internal xref" href="#section-2.6">2.6</a>.  <a class="internal xref" href="#name-dnssec-validation-failures">DNSSEC Validation Failures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.7">
                <p id="section-toc.1-1.2.2.7.1"><a class="auto internal xref" href="#section-2.7">2.7</a>.  <a class="internal xref" href="#name-formerr-responses">FORMERR Responses</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-requirements-for-caching-dn">Requirements for Caching DNS Resolution Failures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-retries-and-timeouts">Retries and Timeouts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-caching">Caching</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-requerying-delegation-infor">Requerying Delegation Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="auto internal xref" href="#section-3.4">3.4</a>.  <a class="internal xref" href="#name-dnssec-validation-failures-2">DNSSEC Validation Failures</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-privacy-considerations">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">Caching has always been a fundamental component of DNS resolution on
      the Internet.  For example, <span>[<a class="cite xref" href="#RFC0882">RFC0882</a>]</span> states:<a class="pilcrow" href="#section-1-1">¶</a></p>
<blockquote id="section-1-2">
         The sheer size of the database and frequency of updates suggest
         that it must be maintained in a distributed manner, with local
         caching to improve performance.<a class="pilcrow" href="#section-1-2">¶</a>
</blockquote>
<p id="section-1-3">The early DNS RFCs (<span>[<a class="cite xref" href="#RFC0882">RFC0882</a>]</span>, <span>[<a class="cite xref" href="#RFC0883">RFC0883</a>]</span>, <span>[<a class="cite xref" href="#RFC1034">RFC1034</a>]</span>, and <span>[<a class="cite xref" href="#RFC1035">RFC1035</a>]</span>) primarily discuss caching in the context of what
      <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span> calls "positive responses", that is, when the
      response includes the requested data.  In this case, a TTL is associated
      with each Resource Record (RR) in the response.  Resolvers can cache and
      reuse the data until the TTL expires.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">
        <span><a class="relref" href="https://rfc-editor.org/rfc/rfc1034#section-4.3.4">Section 4.3.4</a> of [<a class="cite xref" href="#RFC1034">RFC1034</a>]</span> describes negative
        response caching, but notes it is optional and only talks
        about name errors (NXDOMAIN).  This is the origin of using
        the SOA MINIMUM field as a negative caching TTL.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">
        <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span> updated <span>[<a class="cite xref" href="#RFC1034">RFC1034</a>]</span> to specify
        new requirements for DNS negative caching, including making it
        mandatory for caching resolvers to cache name error (NXDOMAIN) and no
        data (NODATA) responses when an SOA record is available to provide a
        TTL.  <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span> further specified optional negative
        caching for two DNS resolution failure cases: server failure and dead/unreachable servers.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">
        This document updates <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span> to require negative
        caching of all DNS resolution failures and provides additional
        examples of resolution failures, <span>[<a class="cite xref" href="#RFC4035">RFC4035</a>]</span> to require caching for DNSSEC validation failures,
        as well as <span>[<a class="cite xref" href="#RFC4697">RFC4697</a>]</span> to expand the scope of prohibiting
        aggressive requerying for NS records at a failed zone's parent zone to
        all query types and to all ancestor zones.<a class="pilcrow" href="#section-1-6">¶</a></p>
<section id="section-1.1">
        <h3 id="name-motivation">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-motivation">Motivation</a>
        </h3>
<p id="section-1.1-1">
          Operators of DNS services have known for some time that
          recursive resolvers become more aggressive when they
          experience resolution failures.  A number of different
          anecdotes, experiments, and incidents support this
          claim.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">
          In December 2009, a secondary server for a number of
          in-addr.arpa subdomains saw its traffic suddenly double, and
          queries of type DNSKEY in particular increase by approximately
          two orders of magnitude, coinciding with a DNSSEC key rollover
          by the zone operator <span>[<a class="cite xref" href="#DNSSEC-ROLLOVER">DNSSEC-ROLLOVER</a>]</span>.
          This predated a signed root zone, and an operating system
          vendor was providing non-root trust anchors to the recursive
          resolver, which became out of date following the rollover.
          Unable to validate responses for the affected in-addr.arpa
          zones, recursive resolvers aggressively retried their queries.<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">
          In 2016, the Internet infrastructure company Dyn experienced
          a large attack that impacted many high-profile customers.
          As documented in a technical presentation detailing the attack (see <span>[<a class="cite xref" href="#RETRY-STORM">RETRY-STORM</a>]</span>), Dyn staff wrote:<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<blockquote id="section-1.1-4">
          <p id="section-1.1-4.1">At this point we are now experiencing botnet attack
   traffic and what is best classified as a "retry storm"<a class="pilcrow" href="#section-1.1-4.1">¶</a></p>
<p id="section-1.1-4.2">Looking at certain large recursive platforms &gt; 10x normal
   volume<a class="pilcrow" href="#section-1.1-4.2">¶</a></p>
</blockquote>
<p id="section-1.1-5">
          In 2018, the root zone Key Signing Key (KSK) was rolled over
          <span>[<a class="cite xref" href="#KSK-ROLLOVER">KSK-ROLLOVER</a>]</span>.  Throughout the rollover
          period, the root servers experienced a significant increase in
          DNSKEY queries.  Before the rollover, a.root-servers.net and
          j.root-servers.net together received about 15 million DNSKEY
          queries per day.  At the end of the revocation period, they
          received 1.2 billion per day: an 80x increase.  Removal of
          the revoked key from the zone caused DNSKEY queries to drop
          to post-rollover but pre-revoke levels, indicating there is
          still a population of recursive resolvers using the previous
          root trust anchor and aggressively retrying DNSKEY queries.<a class="pilcrow" href="#section-1.1-5">¶</a></p>
<p id="section-1.1-6">
          In 2021, Verisign researchers used botnet query traffic to
          demonstrate that certain large public recursive DNS services exhibit
          very high query rates when all authoritative name servers for a zone
          return refused (REFUSED) or server failure (SERVFAIL) responses (see
          <span>[<a class="cite xref" href="#BOTNET">BOTNET</a>]</span>). When the authoritative servers were
          configured normally, query rates for a single botnet domain averaged
          approximately 50 queries per second.  However, with the servers
          configured to return SERVFAIL, the query rate increased to 60,000
          per second.  Furthermore, increases were also observed at the root
          and Top-Level Domain (TLD) levels, even though delegations at those
          levels were unchanged and continued operating normally.<a class="pilcrow" href="#section-1.1-6">¶</a></p>
<p id="section-1.1-7">
          Later that same year, on October 4, Facebook experienced a
          widespread and well-publicized outage <span>[<a class="cite xref" href="#FB-OUTAGE">FB-OUTAGE</a>]</span>. During the 6-hour outage, none of Facebook's
          authoritative name servers were reachable and did not respond to
          queries. Recursive name servers attempting to resolve Facebook
          domains experienced timeouts. During this time, query traffic on the
          .COM/.NET infrastructure increased from 7,000 to 900,000 queries per
          second <span>[<a class="cite xref" href="#OUTAGE-RESOLVER">OUTAGE-RESOLVER</a>]</span>.<a class="pilcrow" href="#section-1.1-7">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-related-work">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-related-work">Related Work</a>
        </h3>
<p id="section-1.2-1">
          <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span> describes negative caching for four types
          of DNS queries and responses: name errors, no data, server failures,
          and dead/unreachable servers.  It places the strongest
          requirements on negative caching for name errors and no data
          responses, while server failures and dead servers are left as
          optional.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
<p id="section-1.2-2">
          <span>[<a class="cite xref" href="#RFC4697">RFC4697</a>]</span> is a Best Current Practice that
          documents observed resolution misbehaviors.  It describes a
          number of situations that can lead to excessive queries from
          recursive resolvers, including requerying for delegation data,
          lame servers, responses blocked by firewalls, and records
          with zero TTL.  <span>[<a class="cite xref" href="#RFC4697">RFC4697</a>]</span> makes a number of
          recommendations, varying from "<span class="bcp14">SHOULD</span>" to "<span class="bcp14">MUST</span>".<a class="pilcrow" href="#section-1.2-2">¶</a></p>
<p id="section-1.2-3"><span>[<a class="cite xref" href="#I-D.muks-dnsop-dns-thundering-herd">THUNDERING-HERD</a>]</span> describes "The
        DNS thundering herd problem" as a situation arising when cached data
        expires at the same time for a large number of users.  Although that
        document is not focused on negative caching, it does describe the
        benefits of combining multiple identical queries to upstream name
        servers.  That is, when a recursive resolver receives multiple queries
        for the same name, class, and type that cannot be answered from cached
        data, it should combine or join them into a single upstream query
        rather than emit repeated identical upstream queries.<a class="pilcrow" href="#section-1.2-3">¶</a></p>
<p id="section-1.2-4">
          <span>[<a class="cite xref" href="#RFC5452">RFC5452</a>]</span>, "<a class="internal xref" href="#RFC5452">Measures for Making DNS More Resilient against Forged Answers</a>",
          includes a section that describes the phenomenon known as "Birthday
          Attacks".  Here, again, the problem arises when a recursive resolver
          emits multiple identical upstream queries.  Multiple outstanding
          queries make it easier for an attacker to guess and correctly match
          some of the DNS message parameters, such as the port number and ID
          field.  This situation is further exacerbated in the case of
          timeout-based resolution failures.  Of course, DNSSEC is a suitable
          defense to spoofing attacks.<a class="pilcrow" href="#section-1.2-4">¶</a></p>
<p id="section-1.2-5">
          <span>[<a class="cite xref" href="#RFC8767">RFC8767</a>]</span> describes "<a class="internal xref" href="#RFC8767">Serving Stale Data to Improve DNS Resiliency</a>". This permits a recursive resolver to return
          possibly stale data when it is unable to refresh cached, expired
          data.  It introduces the idea of a failure recheck timer and
          says:<a class="pilcrow" href="#section-1.2-5">¶</a></p>
<blockquote id="section-1.2-6">Attempts to refresh from non-responsive or
          otherwise failing authoritative nameservers are recommended
          to be done no more frequently than every 30 seconds.<a class="pilcrow" href="#section-1.2-6">¶</a>
</blockquote>
</section>
<section id="section-1.3">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.3">1.3. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.3-1"> The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
        "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
        "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
        "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
        are to be interpreted as described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they
        appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.3-2">
          <dt id="section-1.3-2.1">DNS transport:</dt>
          <dd id="section-1.3-2.2" style="margin-left: 1.5em">In this document, "DNS transport" means a protocol used to
   transport DNS messages between a client and a server.  This includes
   "classic DNS" transports, i.e., DNS-over-UDP and DNS-over-TCP <span>[<a class="cite xref" href="#RFC1034">RFC1034</a>]</span> <span>[<a class="cite xref" href="#RFC7766">RFC7766</a>]</span>, as well as newer
   encrypted DNS transports, such as DNS-over-TLS <span>[<a class="cite xref" href="#RFC7858">RFC7858</a>]</span>, DNS-over-HTTPS <span>[<a class="cite xref" href="#RFC8484">RFC8484</a>]</span>,
   DNS-over-QUIC <span>[<a class="cite xref" href="#RFC9250">RFC9250</a>]</span>, and similar communication of
   DNS messages using other protocols.  Note: at the time of writing,
   not all DNS transports are standardized for all types
   of servers but may become standardized in the future.<a class="pilcrow" href="#section-1.3-2.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-2">
      <h2 id="name-conditions-that-lead-to-dns">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conditions-that-lead-to-dns">Conditions That Lead to DNS Resolution Failures</a>
      </h2>
<p id="section-2-1">
        A DNS resolution failure occurs when none of the servers available
        to a resolver client provide any useful response data for a
        particular query name, type, and class. A response is considered
        useful when it provides either the requested data, a referral to a descendant zone,
        or an indication that no data exists at the given name.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">
        It is common for resolvers to have multiple servers from
        which to choose for a particular query.  For example,
        in the case of stub-to-recursive, the stub resolver may be
        configured with multiple recursive resolver addresses.  In the case of
        recursive-to-authoritative, a given zone usually has more than
        one name server (NS record), each of which can have multiple
        IP addresses and multiple DNS transports.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">
        Nothing in this document prevents a resolver from retrying a
        query at a different server or the same server over a different
        DNS transport.  In the case of timeouts, a resolver can retry the
        same server and DNS transport a limited number of times.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">
        If any one of the available servers provides a useful response, then
        it is not considered a resolution failure.  However, if
        none of the servers for a given query tuple &lt;name, type, class&gt;
        provide a useful response, the result is a resolution failure.<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">
        Note that NXDOMAIN and NOERROR/NODATA responses are not conditions
        for resolution failure.  In these cases, the server is providing
        a useful response, indicating either that a name does not exist
        or that no data of the requested type exists at the name.
        These negative responses can be cached as described in <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span>.<a class="pilcrow" href="#section-2-5">¶</a></p>
<p id="section-2-6">
        The remainder of this section describes a number of different
        conditions that can lead to resolution failure. This section is not
        exhaustive. Additional conditions
        may be expected to cause similar resolution failures.<a class="pilcrow" href="#section-2-6">¶</a></p>
<section id="section-2.1">
        <h3 id="name-servfail-responses">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-servfail-responses">SERVFAIL Responses</a>
        </h3>
<p id="section-2.1-1">
          Server failure is defined in <span>[<a class="cite xref" href="#RFC1035">RFC1035</a>]</span> as:
          "The name server was unable to process this query due to a
          problem with the name server." A server failure is signaled
          by setting the RCODE field to SERVFAIL.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<p id="section-2.1-2">
          Authoritative servers return SERVFAIL when they don't have any valid
          data for a zone.  For example, a secondary server has been
          configured to serve a particular zone but is unable to retrieve or
          refresh the zone data from the primary server.<a class="pilcrow" href="#section-2.1-2">¶</a></p>
<p id="section-2.1-3">
          Recursive servers return SERVFAIL in response to a
          number of different conditions, including many described below.<a class="pilcrow" href="#section-2.1-3">¶</a></p>
<p id="section-2.1-4">
          Although the extended DNS errors method exists "primarily to extend
          SERVFAIL to provide additional information," it "does not change the
          processing of RCODEs" <span>[<a class="cite xref" href="#RFC8914">RFC8914</a>]</span>.  This document
          operates at the level of resolution failure and does not concern
          particular causes.<a class="pilcrow" href="#section-2.1-4">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-refused-responses">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-refused-responses">REFUSED Responses</a>
        </h3>
<p id="section-2.2-1">
          A name server returns a message with the RCODE field set to REFUSED when it refuses to
          process the query, e.g., for policy or other reasons <span>[<a class="cite xref" href="#RFC1035">RFC1035</a>]</span>.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">
          Authoritative servers generally return REFUSED when processing
          a query for which they are not authoritative.  For example,
          a server that is configured to be authoritative for only the
          example.net zone may return REFUSED in response to a query
          for example.com.<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<p id="section-2.2-3">
          Recursive servers generally return REFUSED for query
          sources that do not match configured access control lists.
          For example, a server that is configured to allow queries from
          only 2001:db8:1::/48 may return REFUSED in response to a query
          from 2001:db8:5::1.<a class="pilcrow" href="#section-2.2-3">¶</a></p>
</section>
<section id="section-2.3">
        <h3 id="name-timeouts-and-unreachable-se">
<a class="section-number selfRef" href="#section-2.3">2.3. </a><a class="section-name selfRef" href="#name-timeouts-and-unreachable-se">Timeouts and Unreachable Servers</a>
        </h3>
<p id="section-2.3-1">
          A timeout occurs when a resolver fails to receive any response from
          a server within a reasonable amount of time.  Additionally, a DNS
          transport may more quickly indicate lack of reachability in a way
          that wouldn't be considered a timeout: for example, an ICMP port
          unreachable message, a TCP "connection refused" error, or a TLS
          handshake failure.  <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span> refers to these
          conditions collectively as "dead / unreachable servers".<a class="pilcrow" href="#section-2.3-1">¶</a></p>
<p id="section-2.3-2">
          Note that resolver implementations may have two types of
          timeouts: a smaller timeout that might trigger a query retry
          and a larger timeout after which the server is considered
          unresponsive.  <a class="auto internal xref" href="#reqs-retries-timeouts">Section 3.1</a> discusses
          the requirements for resolvers when retrying queries.<a class="pilcrow" href="#section-2.3-2">¶</a></p>
<p id="section-2.3-3">
          Timeouts can present a particular problem for negative
          caching, depending on how the resolver handles multiple
          outstanding queries for the same &lt;query name, type,
          class&gt; tuple.  For example, consider a very popular
          website in a zone whose name servers are all unresponsive.
          A recursive resolver might receive tens or hundreds of queries
          per second for that website.  If the recursive server
          implementation joins these outstanding queries together,
          then it only sends one recursive-to-authoritative query for
          the numerous pending stub-to-recursive queries.  However, if
          the implementation does not join outstanding queries together,
          then it sends one recursive-to-authoritative query for each
          stub-to-recursive query.  If the incoming query rate is high
          and the timeout is large, this might result in hundreds or
          thousands of recursive-to-authoritative queries while waiting
          for an authoritative server to time out.<a class="pilcrow" href="#section-2.3-3">¶</a></p>
<p id="section-2.3-4">
          A recursive resolver that does not join outstanding queries together
          is more susceptible to Birthday Attacks (<span>[<a class="cite xref" href="#RFC5452">RFC5452</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5452#section-5">Section 5</a></span>), especially when those queries
          result in timeouts.<a class="pilcrow" href="#section-2.3-4">¶</a></p>
</section>
<section id="section-2.4">
        <h3 id="name-delegation-loops">
<a class="section-number selfRef" href="#section-2.4">2.4. </a><a class="section-name selfRef" href="#name-delegation-loops">Delegation Loops</a>
        </h3>
<p id="section-2.4-1">
          A delegation loop, or cycle, can occur when one domain utilizes
          name servers in a second domain, and the second domain uses
          name servers in the first.  For example:<a class="pilcrow" href="#section-2.4-1">¶</a></p>
<div class="lang-dns-rr sourcecode" id="section-2.4-2">
<pre>FOO.EXAMPLE.    NS      NS1.EXAMPLE.COM.
FOO.EXAMPLE.    NS      NS2.EXAMPLE.COM.

EXAMPLE.COM.    NS      NS1.FOO.EXAMPLE.
EXAMPLE.COM.    NS      NS2.FOO.EXAMPLE.
</pre><a class="pilcrow" href="#section-2.4-2">¶</a>
</div>
<p id="section-2.4-3">
          In this example, no names under foo.example or example.com can be
          resolved because of the delegation loop.  Note that a delegation loop
          may involve more than two domains.  A resolver that does not
          detect delegation loops may generate DDoS-levels of attack traffic
          to authoritative name servers, as documented in the TsuNAME vulnerability
          <span>[<a class="cite xref" href="#TsuNAME">TsuNAME</a>]</span>.<a class="pilcrow" href="#section-2.4-3">¶</a></p>
</section>
<section id="section-2.5">
        <h3 id="name-alias-loops">
<a class="section-number selfRef" href="#section-2.5">2.5. </a><a class="section-name selfRef" href="#name-alias-loops">Alias Loops</a>
        </h3>
<p id="section-2.5-1">
          An alias loop, or cycle, can occur when one CNAME or DNAME RR refers to
          a second name, which, in turn, is specified as an alias for the first.
          For example:<a class="pilcrow" href="#section-2.5-1">¶</a></p>
<div class="lang-dns-rr sourcecode" id="section-2.5-2">
<pre>APP.FOO.EXAMPLE.        CNAME   APP.EXAMPLE.NET.
APP.EXAMPLE.NET.        CNAME   APP.FOO.EXAMPLE.
</pre><a class="pilcrow" href="#section-2.5-2">¶</a>
</div>
<p id="section-2.5-3">
        The need to detect CNAME loops has been known since at least <span>[<a class="cite xref" href="#RFC1034">RFC1034</a>]</span>, which states in Section <a class="relref" href="https://rfc-editor.org/rfc/rfc1034#section-3.6.2">3.6.2</a>:<a class="pilcrow" href="#section-2.5-3">¶</a></p>
<blockquote id="section-2.5-4">
        Of course, by the robustness principle, domain software should
        not fail when presented with CNAME chains or loops; CNAME chains
        should be followed and CNAME loops signalled as an error.<a class="pilcrow" href="#section-2.5-4">¶</a>
</blockquote>
</section>
<section id="section-2.6">
        <h3 id="name-dnssec-validation-failures">
<a class="section-number selfRef" href="#section-2.6">2.6. </a><a class="section-name selfRef" href="#name-dnssec-validation-failures">DNSSEC Validation Failures</a>
        </h3>
<p id="section-2.6-1">
          For zones that are signed with DNSSEC, a resolution failure can
          occur when a security-aware resolver believes it should be able
          to establish a chain of trust for an RRset but is unable to do
          so, possibly after trying multiple authoritative name servers.
          DNSSEC validation failures may be due to signature mismatch,
          missing DNSKEY RRs, problems with denial-of-existence records,
          clock skew,
          or other reasons.<a class="pilcrow" href="#section-2.6-1">¶</a></p>
<p id="section-2.6-2">
          <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4035#section-4.7">Section 4.7</a> of [<a class="cite xref" href="#RFC4035">RFC4035</a>]</span> already discusses
          the requirements and reasons for caching validation failures.
          <a class="auto internal xref" href="#dnssec-reqs">Section 3.4</a> of this document strengthens those requirements.<a class="pilcrow" href="#section-2.6-2">¶</a></p>
</section>
<section id="section-2.7">
        <h3 id="name-formerr-responses">
<a class="section-number selfRef" href="#section-2.7">2.7. </a><a class="section-name selfRef" href="#name-formerr-responses">FORMERR Responses</a>
        </h3>
<p id="section-2.7-1">
          A name server returns a message with the RCODE field set to
          FORMERR when it is unable to interpret the query <span>[<a class="cite xref" href="#RFC1035">RFC1035</a>]</span>.  FORMERR
          responses are often associated with problems processing Extension Mechanisms for DNS (EDNS(0)) <span>[<a class="cite xref" href="#RFC6891">RFC6891</a>]</span>.  Authoritative servers
          may return FORMERR when they do not implement EDNS(0), or
          when EDNS(0) option fields are malformed, but not for unknown
          EDNS(0) options.<a class="pilcrow" href="#section-2.7-1">¶</a></p>
<p id="section-2.7-2">
          Upon receipt of a FORMERR response, some recursive clients will
          retry their queries without EDNS(0), while others will not.  Nonetheless, resolution failures
          from FORMERR responses are rare.<a class="pilcrow" href="#section-2.7-2">¶</a></p>
</section>
</section>
<section id="section-3">
      <h2 id="name-requirements-for-caching-dn">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-requirements-for-caching-dn">Requirements for Caching DNS Resolution Failures</a>
      </h2>
<div id="reqs-retries-timeouts">
<section id="section-3.1">
        <h3 id="name-retries-and-timeouts">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-retries-and-timeouts">Retries and Timeouts</a>
        </h3>
<p id="section-3.1-1">
          A resolver <span class="bcp14">MUST NOT</span> retry a given query to a server address over a given DNS transport more than twice
          (i.e., three queries in total) before considering the server address
          unresponsive over that DNS transport for that query.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">
          A resolver <span class="bcp14">MAY</span> retry a given query over a different DNS transport to the same server
          if it has reason to believe the DNS transport is available for that server and is
          compatible with the resolver's security policies.<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<p id="section-3.1-3">
          This document does not place any requirements on how long an implementation should
          wait before retrying a query (aka a timeout value),
          which may be implementation or configuration dependent.
          It is generally expected that typical timeout values range
          from 3 to 30 seconds.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
</section>
</div>
<div id="caching">
<section id="section-3.2">
        <h3 id="name-caching">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-caching">Caching</a>
        </h3>
<p id="section-3.2-1">
          Resolvers <span class="bcp14">MUST</span> implement a cache for resolution failures.
          The purpose of this cache is to eliminate repeated upstream
          queries that cannot be resolved.
          When an incoming query matches a cached resolution failure, the resolver <span class="bcp14">MUST NOT</span> send
          any corresponding outgoing queries until after the cache entries expire.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">
          Implementation details for such a cache are not specified
          in this document.  The implementation might cache different
          resolution failure conditions differently.  For example, DNSSEC
          validation failures might be cached according to the queried
          name, class, and type, whereas unresponsive servers might be
          cached only according to the server's IP address.
          Developers should document their implementation choices so
          that operators know what behaviors to expect when resolution
          failures are cached.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">
          Resolvers <span class="bcp14">MUST</span> cache resolution failures for at least
          1 second.  Resolvers <span class="bcp14">MAY</span> cache different types of
          resolution failures for different (i.e., longer) amounts of time.
          Consistent with <span>[<a class="cite xref" href="#RFC2308">RFC2308</a>]</span>, resolution failures
          <span class="bcp14">MUST NOT</span> be cached for longer than 5 minutes.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">
          The minimum cache duration <span class="bcp14">SHOULD</span> be configurable by
          the operator.  A longer cache duration for resolution failures will
          reduce the processing burden from repeated queries but may also
          increase the time to recover from transitory issues.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">
          Resolvers <span class="bcp14">SHOULD</span> employ an exponential or linear
          backoff algorithm to increase the cache duration for persistent
          resolution failures. For example, the initial time for negatively
          caching a resolution failure might be set to 5 seconds and
          increased after each retry that results in another resolution
          failure, up to a configurable maximum, not to exceed the 5-minute
          upper limit.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">
          Notwithstanding the above, resolvers <span class="bcp14">SHOULD</span> implement
          measures to mitigate resource exhaustion attacks on the failed
          resolution cache. That is, the resolver should limit the amount of
          memory and/or processing time devoted to this cache.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
</section>
</div>
<section id="section-3.3">
        <h3 id="name-requerying-delegation-infor">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-requerying-delegation-infor">Requerying Delegation Information</a>
        </h3>
<p id="section-3.3-1">
       <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4697#section-2.1">Section 2.1</a> of [<a class="cite xref" href="#RFC4697">RFC4697</a>]</span> identifies
       circumstances in which:<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<blockquote id="section-3.3-2">...every name server in a zone's NS RRSet is unreachable
 (e.g., during a network outage), unavailable (e.g., the name server
 process is not running on the server host), or misconfigured (e.g.,
 the name server is not authoritative for the given zone, also known as
 "lame").<a class="pilcrow" href="#section-3.3-2">¶</a>
</blockquote>
<p id="section-3.3-3">It prohibits unnecessary "aggressive requerying" to the
          parent of a non-responsive zone by sending NS queries.<a class="pilcrow" href="#section-3.3-3">¶</a></p>
<p id="section-3.3-4">
          The problem of aggressive requerying to parent zones is not limited
          to queries of type NS.  This document updates the requirement from
          <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4697#section-2.1.1">Section 2.1.1</a> of [<a class="cite xref" href="#RFC4697">RFC4697</a>]</span> to apply
          more generally:<a class="pilcrow" href="#section-3.3-4">¶</a></p>
<blockquote id="section-3.3-5">
   Upon encountering a zone whose name servers are all
          non-responsive, a resolver <span class="bcp14">MUST</span> cache the resolution
          failure.  Furthermore, the resolver <span class="bcp14">MUST</span> limit
          queries to the non-responsive zone's parent zone (and to other
          ancestor zones) just as it would limit subsequent queries to the
          non-responsive zone.<a class="pilcrow" href="#section-3.3-5">¶</a>
</blockquote>
</section>
<div id="dnssec-reqs">
<section id="section-3.4">
        <h3 id="name-dnssec-validation-failures-2">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-dnssec-validation-failures-2">DNSSEC Validation Failures</a>
        </h3>
<p id="section-3.4-1">
          <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4035#section-4.7">Section 4.7</a> of [<a class="cite xref" href="#RFC4035">RFC4035</a>]</span> states:<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<blockquote id="section-3.4-2">
          To prevent such unnecessary DNS traffic, security-aware
          resolvers <span class="bcp14">MAY</span> cache data with invalid signatures, with some
          restrictions.<a class="pilcrow" href="#section-3.4-2">¶</a>
</blockquote>
<p id="section-3.4-3">
          This document updates <span>[<a class="cite xref" href="#RFC4035">RFC4035</a>]</span> with the following, stronger, requirement:<a class="pilcrow" href="#section-3.4-3">¶</a></p>
<blockquote id="section-3.4-4">
          To prevent such unnecessary DNS traffic, security-aware
          resolvers <span class="bcp14">MUST</span> cache DNSSEC validation failures, with some
          restrictions.<a class="pilcrow" href="#section-3.4-4">¶</a>
</blockquote>
<p id="section-3.4-5">
          One of the restrictions mentioned in <span>[<a class="cite xref" href="#RFC4035">RFC4035</a>]</span>
          is to use a small TTL when caching data that fails DNSSEC
          validation. This is, in part, because the provided TTL cannot
          be trusted.  The advice from <a class="auto internal xref" href="#caching">Section 3.2</a>
          herein can be used as guidance on TTLs for caching DNSSEC
          validation failures.<a class="pilcrow" href="#section-3.4-5">¶</a></p>
</section>
</div>
</section>
<div id="iana">
<section id="section-4">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-4-1">
        This document has no IANA actions.<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">
        As noted in <a class="auto internal xref" href="#caching">Section 3.2</a>, an attacker might attempt a resource
        exhaustion attack by sending queries for a large number
        of names and/or types that result in resolution failure.  Resolvers
        <span class="bcp14">SHOULD</span> implement measures to protect themselves and bound the
        amount of memory devoted to caching resolution failures.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">
        A cache poisoning attack (see <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7873#section-2.2">Section 2.2</a> of [<a class="cite xref" href="#RFC7873">RFC7873</a>]</span>) resulting in denial of service may be possible
        because failure messages cannot be signed. An attacker might generate
        queries and send forged failure messages, causing the resolver to
        cease sending queries to the authoritative name server (see <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4732#section-2.6">Section 2.6</a> of [<a class="cite xref" href="#RFC4732">RFC4732</a>]</span> for a similar
        "data corruption attack" and Section 5.2 of <span>[<a class="cite xref" href="#TuDoor">TuDoor</a>]</span>
        for a "DNSDoS attack"). However, this would require continued
        spoofing throughout the backoff period and repeated attacks due to the
        5-minute cache limit. As in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4686#section-4.1.12">Section 4.1.12</a> of [<a class="cite xref" href="#RFC4686">RFC4686</a>]</span>, this attack's effects would be "localized and of
        limited duration".<a class="pilcrow" href="#section-5-2">¶</a></p>
</section>
</div>
<div id="privacy">
<section id="section-6">
      <h2 id="name-privacy-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-privacy-considerations">Privacy Considerations</a>
      </h2>
<p id="section-6-1">This specification has no impact on user privacy.<a class="pilcrow" href="#section-6-1">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC1034">[RFC1034]</dt>
        <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - concepts and facilities"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1034</span>, <span class="seriesInfo">DOI 10.17487/RFC1034</span>, <time class="refDate" datetime="1987-11">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1035">[RFC1035]</dt>
        <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - implementation and specification"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1035</span>, <span class="seriesInfo">DOI 10.17487/RFC1035</span>, <time class="refDate" datetime="1987-11">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1035">https://www.rfc-editor.org/info/rfc1035</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2308">[RFC2308]</dt>
        <dd>
<span class="refAuthor">Andrews, M.</span>, <span class="refTitle">"Negative Caching of DNS Queries (DNS NCACHE)"</span>, <span class="seriesInfo">RFC 2308</span>, <span class="seriesInfo">DOI 10.17487/RFC2308</span>, <time class="refDate" datetime="1998-03">March 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2308">https://www.rfc-editor.org/info/rfc2308</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4035">[RFC4035]</dt>
        <dd>
<span class="refAuthor">Arends, R.</span>, <span class="refAuthor">Austein, R.</span>, <span class="refAuthor">Larson, M.</span>, <span class="refAuthor">Massey, D.</span>, and <span class="refAuthor">S. Rose</span>, <span class="refTitle">"Protocol Modifications for the DNS Security Extensions"</span>, <span class="seriesInfo">RFC 4035</span>, <span class="seriesInfo">DOI 10.17487/RFC4035</span>, <time class="refDate" datetime="2005-03">March 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4035">https://www.rfc-editor.org/info/rfc4035</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4697">[RFC4697]</dt>
        <dd>
<span class="refAuthor">Larson, M.</span> and <span class="refAuthor">P. Barber</span>, <span class="refTitle">"Observed DNS Resolution Misbehavior"</span>, <span class="seriesInfo">BCP 123</span>, <span class="seriesInfo">RFC 4697</span>, <span class="seriesInfo">DOI 10.17487/RFC4697</span>, <time class="refDate" datetime="2006-10">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4697">https://www.rfc-editor.org/info/rfc4697</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="BOTNET">[BOTNET]</dt>
        <dd>
<span class="refAuthor">Wessels, D.</span> and <span class="refAuthor">M. Thomas</span>, <span class="refTitle">"Botnet Traffic Observed at Various Levels of the DNS Hierarchy"</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://indico.dns-oarc.net/event/38/contributions/841/">https://indico.dns-oarc.net/event/38/contributions/841/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DNSSEC-ROLLOVER">[DNSSEC-ROLLOVER]</dt>
        <dd>
<span class="refAuthor">Michaleson, G.</span>, <span class="refAuthor">Wallström, P.</span>, <span class="refAuthor">Arends, R.</span>, and <span class="refAuthor">G. Huston</span>, <span class="refTitle">"Roll Over and Die?"</span>, <time class="refDate" datetime="2010-02">February 2010</time>, <span>&lt;<a href="https://www.potaroo.net/ispcol/2010-02/rollover.html">https://www.potaroo.net/ispcol/2010-02/rollover.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="FB-OUTAGE">[FB-OUTAGE]</dt>
        <dd>
<span class="refAuthor">Janardhan, S.</span>, <span class="refTitle">"More details about the October 4 outage"</span>, <time class="refDate" datetime="2021-10">October 2021</time>, <span>&lt;<a href="https://engineering.fb.com/2021/10/05/networking-traffic/outage-details/">https://engineering.fb.com/2021/10/05/networking-traffic/outage-details/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="KSK-ROLLOVER">[KSK-ROLLOVER]</dt>
        <dd>
<span class="refAuthor">Müller, M.</span>, <span class="refAuthor">Thomas, M.</span>, <span class="refAuthor">Wessels, D.</span>, <span class="refAuthor">Hardaker, W.</span>, <span class="refAuthor">Chung, T.</span>, <span class="refAuthor">Toorop, W.</span>, and <span class="refAuthor">R. van Rijswijk-Deij</span>, <span class="refTitle">"Roll, Roll, Roll Your Root: A Comprehensive Analysis of the First Ever DNSSEC Root KSK Rollover"</span>, <span class="refContent">IMC '19: Proceedings of the Internet Measurement Conference, Pages 1-14</span>, <span class="seriesInfo">DOI 10.1145/3355369.3355570</span>, <time class="refDate" datetime="2019-10">October 2019</time>, <span>&lt;<a href="https://doi.org/10.1145/3355369.3355570">https://doi.org/10.1145/3355369.3355570</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OUTAGE-RESOLVER">[OUTAGE-RESOLVER]</dt>
        <dd>
<span class="refAuthor">Verisign</span>, <span class="refTitle">"Observations on Resolver Behavior During DNS Outages"</span>, <time class="refDate" datetime="2022-01">January 2022</time>, <span>&lt;<a href="https://blog.verisign.com/security/facebook-dns-outage/">https://blog.verisign.com/security/facebook-dns-outage/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RETRY-STORM">[RETRY-STORM]</dt>
        <dd>
<span class="refAuthor">Sullivan, A.</span>, <span class="refTitle">"Dyn, DDoS, and DNS"</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://ccnso.icann.org/sites/default/files/file/field-file-attach/2017-04/presentation-oracle-dyn-ddos-dns-13mar17-en.pdf">https://ccnso.icann.org/sites/default/files/file/field-file-attach/2017-04/presentation-oracle-dyn-ddos-dns-13mar17-en.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0882">[RFC0882]</dt>
        <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names: Concepts and facilities"</span>, <span class="seriesInfo">RFC 882</span>, <span class="seriesInfo">DOI 10.17487/RFC0882</span>, <time class="refDate" datetime="1983-11">November 1983</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc882">https://www.rfc-editor.org/info/rfc882</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0883">[RFC0883]</dt>
        <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names: Implementation specification"</span>, <span class="seriesInfo">RFC 883</span>, <span class="seriesInfo">DOI 10.17487/RFC0883</span>, <time class="refDate" datetime="1983-11">November 1983</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc883">https://www.rfc-editor.org/info/rfc883</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4686">[RFC4686]</dt>
        <dd>
<span class="refAuthor">Fenton, J.</span>, <span class="refTitle">"Analysis of Threats Motivating DomainKeys Identified Mail (DKIM)"</span>, <span class="seriesInfo">RFC 4686</span>, <span class="seriesInfo">DOI 10.17487/RFC4686</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4686">https://www.rfc-editor.org/info/rfc4686</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4732">[RFC4732]</dt>
        <dd>
<span class="refAuthor">Handley, M., Ed.</span>, <span class="refAuthor">Rescorla, E., Ed.</span>, and <span class="refAuthor">IAB</span>, <span class="refTitle">"Internet Denial-of-Service Considerations"</span>, <span class="seriesInfo">RFC 4732</span>, <span class="seriesInfo">DOI 10.17487/RFC4732</span>, <time class="refDate" datetime="2006-12">December 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4732">https://www.rfc-editor.org/info/rfc4732</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5452">[RFC5452]</dt>
        <dd>
<span class="refAuthor">Hubert, A.</span> and <span class="refAuthor">R. van Mook</span>, <span class="refTitle">"Measures for Making DNS More Resilient against Forged Answers"</span>, <span class="seriesInfo">RFC 5452</span>, <span class="seriesInfo">DOI 10.17487/RFC5452</span>, <time class="refDate" datetime="2009-01">January 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5452">https://www.rfc-editor.org/info/rfc5452</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6891">[RFC6891]</dt>
        <dd>
<span class="refAuthor">Damas, J.</span>, <span class="refAuthor">Graff, M.</span>, and <span class="refAuthor">P. Vixie</span>, <span class="refTitle">"Extension Mechanisms for DNS (EDNS(0))"</span>, <span class="seriesInfo">STD 75</span>, <span class="seriesInfo">RFC 6891</span>, <span class="seriesInfo">DOI 10.17487/RFC6891</span>, <time class="refDate" datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6891">https://www.rfc-editor.org/info/rfc6891</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7766">[RFC7766]</dt>
        <dd>
<span class="refAuthor">Dickinson, J.</span>, <span class="refAuthor">Dickinson, S.</span>, <span class="refAuthor">Bellis, R.</span>, <span class="refAuthor">Mankin, A.</span>, and <span class="refAuthor">D. Wessels</span>, <span class="refTitle">"DNS Transport over TCP - Implementation Requirements"</span>, <span class="seriesInfo">RFC 7766</span>, <span class="seriesInfo">DOI 10.17487/RFC7766</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7766">https://www.rfc-editor.org/info/rfc7766</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7858">[RFC7858]</dt>
        <dd>
<span class="refAuthor">Hu, Z.</span>, <span class="refAuthor">Zhu, L.</span>, <span class="refAuthor">Heidemann, J.</span>, <span class="refAuthor">Mankin, A.</span>, <span class="refAuthor">Wessels, D.</span>, and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Specification for DNS over Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 7858</span>, <span class="seriesInfo">DOI 10.17487/RFC7858</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7858">https://www.rfc-editor.org/info/rfc7858</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7873">[RFC7873]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span> and <span class="refAuthor">M. Andrews</span>, <span class="refTitle">"Domain Name System (DNS) Cookies"</span>, <span class="seriesInfo">RFC 7873</span>, <span class="seriesInfo">DOI 10.17487/RFC7873</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7873">https://www.rfc-editor.org/info/rfc7873</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8484">[RFC8484]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span> and <span class="refAuthor">P. McManus</span>, <span class="refTitle">"DNS Queries over HTTPS (DoH)"</span>, <span class="seriesInfo">RFC 8484</span>, <span class="seriesInfo">DOI 10.17487/RFC8484</span>, <time class="refDate" datetime="2018-10">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8484">https://www.rfc-editor.org/info/rfc8484</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8767">[RFC8767]</dt>
        <dd>
<span class="refAuthor">Lawrence, D.</span>, <span class="refAuthor">Kumari, W.</span>, and <span class="refAuthor">P. Sood</span>, <span class="refTitle">"Serving Stale Data to Improve DNS Resiliency"</span>, <span class="seriesInfo">RFC 8767</span>, <span class="seriesInfo">DOI 10.17487/RFC8767</span>, <time class="refDate" datetime="2020-03">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8767">https://www.rfc-editor.org/info/rfc8767</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8914">[RFC8914]</dt>
        <dd>
<span class="refAuthor">Kumari, W.</span>, <span class="refAuthor">Hunt, E.</span>, <span class="refAuthor">Arends, R.</span>, <span class="refAuthor">Hardaker, W.</span>, and <span class="refAuthor">D. Lawrence</span>, <span class="refTitle">"Extended DNS Errors"</span>, <span class="seriesInfo">RFC 8914</span>, <span class="seriesInfo">DOI 10.17487/RFC8914</span>, <time class="refDate" datetime="2020-10">October 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8914">https://www.rfc-editor.org/info/rfc8914</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9250">[RFC9250]</dt>
        <dd>
<span class="refAuthor">Huitema, C.</span>, <span class="refAuthor">Dickinson, S.</span>, and <span class="refAuthor">A. Mankin</span>, <span class="refTitle">"DNS over Dedicated QUIC Connections"</span>, <span class="seriesInfo">RFC 9250</span>, <span class="seriesInfo">DOI 10.17487/RFC9250</span>, <time class="refDate" datetime="2022-05">May 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9250">https://www.rfc-editor.org/info/rfc9250</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.muks-dnsop-dns-thundering-herd">[THUNDERING-HERD]</dt>
        <dd>
<span class="refAuthor">Sivaraman, M.</span> and <span class="refAuthor">C. Liu</span>, <span class="refTitle">"The DNS thundering herd problem"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-muks-dnsop-dns-thundering-herd-00</span>, <time class="refDate" datetime="2020-06-25">25 June 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-muks-dnsop-dns-thundering-herd-00">https://datatracker.ietf.org/doc/html/draft-muks-dnsop-dns-thundering-herd-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TsuNAME">[TsuNAME]</dt>
        <dd>
<span class="refAuthor">Moura, G. C. M.</span>, <span class="refAuthor">Castro, S.</span>, <span class="refAuthor">Heidemann, J.</span>, and <span class="refAuthor">W. Hardaker</span>, <span class="refTitle">"TsuNAME: exploiting misconfiguration and vulnerability to DDoS DNS"</span>, <span class="refContent">IMC '21: Proceedings of the 21st ACM Internet
   Measurement Conference, Pages 398-418</span>, <span class="seriesInfo">DOI 10.1145/3487552.3487824</span>, <time class="refDate" datetime="2021-11">November 2021</time>, <span>&lt;<a href="https://doi.org/10.1145/3487552.3487824">https://doi.org/10.1145/3487552.3487824</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TuDoor">[TuDoor]</dt>
      <dd>
<span class="refAuthor">Li, X.</span>, <span class="refAuthor">Xu, W.</span>, <span class="refAuthor">Liu, B.</span>, <span class="refAuthor">Zhang, M.</span>, <span class="refAuthor">Li, Z.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Chang, D.</span>, <span class="refAuthor">Zheng, X.</span>, <span class="refAuthor">Wang, C.</span>, <span class="refAuthor">Chen, J.</span>, <span class="refAuthor">Duan, H.</span>, and <span class="refAuthor">Q. Li</span>, <span class="refTitle">"TuDoor Attack: Systematically Exploring and Exploiting Logic Vulnerabilities in DNS Response Pre-processing with Malformed Packets"</span>, <span class="refContent">IEEE Symposium on Security and Privacy (SP)</span>, <span class="seriesInfo">DOI 10.1109/SP54263.2024.00046</span>, <time class="refDate" datetime="2024">2024</time>, <span>&lt;<a href="https://doi.ieeecomputersociety.org/10.1109/SP54263.2024.00046">https://doi.ieeecomputersociety.org/10.1109/SP54263.2024.00046</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">
        The authors wish to thank <span class="contact-name">Mukund Sivaraman</span>,
        <span class="contact-name">Petr Spacek</span>, <span class="contact-name">Peter van         Dijk</span>, <span class="contact-name">Tim Wicinksi</span>, <span class="contact-name">Joe         Abley</span>, <span class="contact-name">Evan Hunt</span>, <span class="contact-name">Barry         Leiba</span>, <span class="contact-name">Lucas Pardue</span>, <span class="contact-name">Paul         Wouters</span>, and other members of the DNSOP Working Group for their
        feedback and contributions.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Duane Wessels</span></div>
<div class="left" dir="auto"><span class="org">Verisign</span></div>
<div class="left" dir="auto"><span class="street-address">12061 Bluemont Way</span></div>
<div class="left" dir="auto">
<span class="locality">Reston</span>, <span class="region">VA</span> <span class="postal-code">20190</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20703%20948-3200">+1 703 948-3200</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:dwessels@verisign.com">dwessels@verisign.com</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="https://verisign.com">https://verisign.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">William Carroll</span></div>
<div class="left" dir="auto"><span class="org">Verisign</span></div>
<div class="left" dir="auto"><span class="street-address">12061 Bluemont Way</span></div>
<div class="left" dir="auto">
<span class="locality">Reston</span>, <span class="region">VA</span> <span class="postal-code">20190</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20703%20948-3200">+1 703 948-3200</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:wicarroll@verisign.com">wicarroll@verisign.com</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="https://verisign.com">https://verisign.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Matthew Thomas</span></div>
<div class="left" dir="auto"><span class="org">Verisign</span></div>
<div class="left" dir="auto"><span class="street-address">12061 Bluemont Way</span></div>
<div class="left" dir="auto">
<span class="locality">Reston</span>, <span class="region">VA</span> <span class="postal-code">20190</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20703%20948-3200">+1 703 948-3200</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mthomas@verisign.com">mthomas@verisign.com</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="https://verisign.com">https://verisign.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>