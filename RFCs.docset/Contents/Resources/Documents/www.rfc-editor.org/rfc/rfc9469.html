<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9469: Applicability of Ethernet Virtual Private Network (EVPN) to Network Virtualization over Layer 3 (NVO3) Networks</title>
<meta content="Jorge Rabadan" name="author"/>
<meta content="Matthew Bocci" name="author"/>
<meta content="Sami Boutros" name="author"/>
<meta content="Ali Sajassi" name="author"/>
<meta content="
       An Ethernet Virtual Private Network (EVPN) provides a unified
      control plane that solves the issues of Network Virtualization Edge (NVE)
      auto-discovery, tenant Media Access Control (MAC) / IP dissemination, and advanced features in a scablable way as
      required by Network Virtualization over Layer 3 (NVO3) networks. 
EVPN is
      a scalable solution for NVO3 networks and keeps the independence of the
      underlay IP Fabric, i.e., there is no need to enable Protocol Independent Multicast (PIM) in the underlay
      network and maintain multicast states for tenant Broadcast Domains.
      This document describes the use of EVPN for NVO3 networks and discusses its
      applicability to basic Layer 2 and Layer 3 connectivity requirements and to
      advanced features such as MAC Mobility, MAC Protection and Loop
      Protection, multihoming, Data Center Interconnect (DCI), and much more.
      No new EVPN procedures are introduced. 
    " name="description"/>
<meta content="xml2rfc 3.18.0" name="generator"/>
<meta content="9469" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.18.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9469.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-nvo3-evpn-applicability-06" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9469" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9469</td>
<td class="center">EVPN Applicability for NVO3</td>
<td class="right">September 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Rabadan, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9469">9469</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-09">September 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Rabadan, <span class="editor">Ed.</span>
</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">M. Bocci</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">S. Boutros</div>
<div class="org">Ciena</div>
</div>
<div class="author">
      <div class="author-name">A. Sajassi</div>
<div class="org">Cisco</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9469</h1>
<h1 id="title">Applicability of Ethernet Virtual Private Network (EVPN) to Network Virtualization over Layer 3 (NVO3) Networks</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">An Ethernet Virtual Private Network (EVPN) provides a unified
      control plane that solves the issues of Network Virtualization Edge (NVE)
      auto-discovery, tenant Media Access Control (MAC) / IP dissemination, and advanced features in a scablable way as
      required by Network Virtualization over Layer 3 (NVO3) networks. 
EVPN is
      a scalable solution for NVO3 networks and keeps the independence of the
      underlay IP Fabric, i.e., there is no need to enable Protocol Independent Multicast (PIM) in the underlay
      network and maintain multicast states for tenant Broadcast Domains.
      This document describes the use of EVPN for NVO3 networks and discusses its
      applicability to basic Layer 2 and Layer 3 connectivity requirements and to
      advanced features such as MAC Mobility, MAC Protection and Loop
      Protection, multihoming, Data Center Interconnect (DCI), and much more.
      No new EVPN procedures are introduced.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by the
            Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9469">https://www.rfc-editor.org/info/rfc9469</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-evpn-and-nvo3-terminology">EVPN and NVO3 Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-why-is-evpn-needed-in-nvo3-">Why is EVPN Needed in NVO3 Networks?</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-applicability-of-evpn-to-nv">Applicability of EVPN to NVO3 Networks</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-evpn-route-types-used-in-nv">EVPN Route Types Used in NVO3 Networks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-evpn-basic-applicability-fo">EVPN Basic Applicability for Layer 2 Services</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a class="auto internal xref" href="#section-4.2.1">4.2.1</a>.  <a class="internal xref" href="#name-auto-discovery-and-auto-pro">Auto-Discovery and Auto-Provisioning</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a class="auto internal xref" href="#section-4.2.2">4.2.2</a>.  <a class="internal xref" href="#name-remote-nve-auto-discovery">Remote NVE Auto-Discovery</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a class="auto internal xref" href="#section-4.2.3">4.2.3</a>.  <a class="internal xref" href="#name-distribution-of-tenant-mac-">Distribution of Tenant MAC and IP Information</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-evpn-basic-applicability-for">EVPN Basic Applicability for Layer 3 Services</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="auto internal xref" href="#section-4.4">4.4</a>.  <a class="internal xref" href="#name-evpn-as-control-plane-for-n">EVPN as Control Plane for NVO3 Encapsulations and Geneve</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="auto internal xref" href="#section-4.5">4.5</a>.  <a class="internal xref" href="#name-evpn-oam-and-application-to">EVPN OAM and Application to NVO3</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="auto internal xref" href="#section-4.6">4.6</a>.  <a class="internal xref" href="#name-evpn-as-the-control-plane-f">EVPN as the Control Plane for NVO3 Security</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a class="auto internal xref" href="#section-4.7">4.7</a>.  <a class="internal xref" href="#name-advanced-evpn-features-for-">Advanced EVPN Features for NVO3 Networks</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.1">
                    <p id="section-toc.1-1.4.2.7.2.1.1"><a class="auto internal xref" href="#section-4.7.1">4.7.1</a>.  <a class="internal xref" href="#name-virtual-machine-vm-mobility">Virtual Machine (VM) Mobility</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.2">
                    <p id="section-toc.1-1.4.2.7.2.2.1"><a class="auto internal xref" href="#section-4.7.2">4.7.2</a>.  <a class="internal xref" href="#name-mac-protection-duplication-">MAC Protection, Duplication Detection, and Loop Protection</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.3">
                    <p id="section-toc.1-1.4.2.7.2.3.1"><a class="auto internal xref" href="#section-4.7.3">4.7.3</a>.  <a class="internal xref" href="#name-reduction-optimization-of-b">Reduction/Optimization of BUM Traffic in Layer 2 Services</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.4">
                    <p id="section-toc.1-1.4.2.7.2.4.1"><a class="auto internal xref" href="#section-4.7.4">4.7.4</a>.  <a class="internal xref" href="#name-ingress-replication-ir-opti">Ingress Replication (IR) Optimization for BUM Traffic</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.5">
                    <p id="section-toc.1-1.4.2.7.2.5.1"><a class="auto internal xref" href="#section-4.7.5">4.7.5</a>.  <a class="internal xref" href="#name-evpn-multihoming">EVPN Multihoming</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.6">
                    <p id="section-toc.1-1.4.2.7.2.6.1"><a class="auto internal xref" href="#section-4.7.6">4.7.6</a>.  <a class="internal xref" href="#name-evpn-recursive-resolution-f">EVPN Recursive Resolution for Inter-subnet Unicast Forwarding</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.7">
                    <p id="section-toc.1-1.4.2.7.2.7.1"><a class="auto internal xref" href="#section-4.7.7">4.7.7</a>.  <a class="internal xref" href="#name-evpn-optimized-inter-subnet">EVPN Optimized Inter-subnet Multicast Forwarding</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.7.2.8">
                    <p id="section-toc.1-1.4.2.7.2.8.1"><a class="auto internal xref" href="#section-4.7.8">4.7.8</a>.  <a class="internal xref" href="#name-data-center-interconnect-dc">Data Center Interconnect (DCI)</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sect-1">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">In Network Virtualization over Layer 3 (NVO3) networks, Network
      Virtualization Edge (NVE) devices sit at the edge of the underlay
      network and provide Layer 2 and Layer 3 connectivity among Tenant
      Systems (TSes) of the same tenant. The NVEs need to build and maintain
      mapping tables so they can deliver encapsulated packets to their
      intended destination NVE(s). While there are different options to create
      and disseminate the mapping table entries, NVEs may exchange that
      information directly among themselves via a control plane protocol, such
      as Ethernet Virtual Private Network (EVPN). EVPN provides an efficient,
      flexible, and unified control plane option that can be used for Layer 2
      and Layer 3 Virtual Network (VN) service connectivity. This document
      does not introduce any new procedures in EVPN.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">In this document, we assume that the EVPN control plane module
      resides in the NVEs. The NVEs can be virtual switches in hypervisors,
      Top-of-Rack (ToR) switches or Leaf switches, or Data Center Gateways. As
      described in <span>[<a class="cite xref" href="#RFC7365">RFC7365</a>]</span>, Network Virtualization
      Authorities (NVAs) may be used to provide the forwarding information to
      the NVEs, and in that case, EVPN could be used to disseminate the
      information across multiple federated NVAs. The applicability of EVPN
      would then be similar to the one described in this document. However,
      for simplicity, the description assumes control plane communication
      among NVE(s).<a class="pilcrow" href="#section-1-2">¶</a></p>
</section>
</div>
<div id="sect-2">
<section id="section-2">
      <h2 id="name-evpn-and-nvo3-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-evpn-and-nvo3-terminology">EVPN and NVO3 Terminology</a>
      </h2>
<p id="section-2-1">This document uses the terminology of <span>[<a class="cite xref" href="#RFC7365">RFC7365</a>]</span> in
      addition to the terms that follow.<a class="pilcrow" href="#section-2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-2">
        <dt id="section-2-2.1">AC:</dt>
        <dd id="section-2-2.2" style="margin-left: 1.5em">Attachment Circuit or logical interface associated with a given
          BT. To determine the AC on which a packet arrived, the NVE will
          examine the physical/logical port and/or VLAN tags (where the VLAN
          tags can be individual c-tags, s-tags, or ranges of both).<a class="pilcrow" href="#section-2-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.3">ARP and NDP:</dt>
        <dd id="section-2-2.4" style="margin-left: 1.5em">Address Resolution Protocol (IPv4) and Neighbor
          Discovery Protocol (IPv6), respectively.<a class="pilcrow" href="#section-2-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.5">BD:</dt>
        <dd id="section-2-2.6" style="margin-left: 1.5em">Broadcast Domain that corresponds to a tenant IP subnet. If
          no suppression techniques are used, a BUM frame that is injected in
          a Broadcast Domain will reach all the NVEs that are attached to that
          Broadcast Domain. An EVI may contain one or multiple Broadcast
          Domains depending on the service model <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>.
          This document will use the term Broadcast Domain to refer to a
          tenant subnet.<a class="pilcrow" href="#section-2-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.7">BT:</dt>
        <dd id="section-2-2.8" style="margin-left: 1.5em">Bridge Table, as defined in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>. A BT
          is the instantiation of a Broadcast Domain in an NVE. When there is
          a single Broadcast Domain on a given EVI, the MAC-VRF is equivalent
          to the BT on that NVE. Although a Broadcast Domain spans multiple
          NVEs and a BT is really the instantiation of a Broadcast Domain in
          an NVE, this document uses BT and Broadcast Domain
          interchangeably.<a class="pilcrow" href="#section-2-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.9">BUM:</dt>
        <dd id="section-2-2.10" style="margin-left: 1.5em">Broadcast, Unknown Unicast, and Multicast frames<a class="pilcrow" href="#section-2-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.11">Clos:</dt>
        <dd id="section-2-2.12" style="margin-left: 1.5em">A multistage network topology described in <span>[<a class="cite xref" href="#CLOS1953">CLOS1953</a>]</span>, where all the edge switches (or Leafs) are
          connected to all the core switches (or Spines). Typically used in
          Data Centers.<a class="pilcrow" href="#section-2-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.13">DF and NDF:</dt>
        <dd id="section-2-2.14" style="margin-left: 1.5em">Designated Forwarder and Non-Designated
          Forwarder, respectively. These are the roles that a given PE can have in a given
          ES.<a class="pilcrow" href="#section-2-2.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.15">ECMP:</dt>
        <dd id="section-2-2.16" style="margin-left: 1.5em">Equal-Cost Multipath<a class="pilcrow" href="#section-2-2.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.17">ES:</dt>
        <dd id="section-2-2.18" style="margin-left: 1.5em">Ethernet Segment. When a Tenant System (TS) is connected to
          one or more NVEs via a set of Ethernet links, that set of links
          is referred to as an "Ethernet Segment". Each ES is represented by a
          unique Ethernet Segment Identifier (ESI) in the NVO3 network, and the
          ESI is used in EVPN routes that are specific to that ES.<a class="pilcrow" href="#section-2-2.18">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.19">Ethernet Tag:</dt>
        <dd id="section-2-2.20" style="margin-left: 1.5em">Used to represent a Broadcast Domain that is
          configured on a given ES for the purpose of Designated Forwarder
          election. Note that any of the following may be used to represent a
          Broadcast Domain: VIDs (including Q-in-Q tags), configured IDs, VNIs,
          normalized VIDs, Service Instance Identifiers (I-SIDs), etc., as
          long as the representation of the Broadcast Domains is configured
          consistently across the multihomed PEs attached to that ES.<a class="pilcrow" href="#section-2-2.20">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.21">EVI or EVPN Instance:</dt>
        <dd id="section-2-2.22" style="margin-left: 1.5em">A Layer 2 Virtual Network that uses
          an EVPN control plane to exchange reachability information among the
          member NVEs. It corresponds to a set of MAC-VRFs of the same tenant.
          See MAC-VRF in this section.<a class="pilcrow" href="#section-2-2.22">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.23">EVPN:</dt>
        <dd id="section-2-2.24" style="margin-left: 1.5em">Ethernet Virtual Private Network, as described in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-2-2.24">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.25">EVPN VLAN-Aware Bundle Service Interface:</dt>
        <dd id="section-2-2.26" style="margin-left: 1.5em">Similar to the VLAN-bundle
interface but each individual VLAN value is mapped to a different Broadcast
Domain. In this interface, there are multiple Broadcast Domains per EVI for a given
tenant. Each Broadcast Domain is identified by an "Ethernet Tag", which is a
control plane value that identifies the routes for the Broadcast Domain within
the EVI.<a class="pilcrow" href="#section-2-2.26">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.27">EVPN VLAN-Based Service Interface:</dt>
        <dd id="section-2-2.28" style="margin-left: 1.5em">One of the three service interfaces
          defined in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>. It is characterized as a
          Broadcast Domain that uses a single VLAN per physical access port to
          attach tenant traffic to the Broadcast Domain. In this service
          interface, there is only one Broadcast Domain per EVI.<a class="pilcrow" href="#section-2-2.28">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.29">EVPN VLAN-Bundle Service Interface:</dt>
        <dd id="section-2-2.30" style="margin-left: 1.5em">Similar to the VLAN-based interface but uses a
          bundle of VLANs per physical port to attach tenant traffic to the
          Broadcast Domain. Like the VLAN-based interface, there is only one
          Broadcast Domain per EVI.<a class="pilcrow" href="#section-2-2.30">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.31">Geneve:</dt>
        <dd id="section-2-2.32" style="margin-left: 1.5em">Generic Network Virtualization Encapsulation. An NVO3
          encapsulation defined in <span>[<a class="cite xref" href="#RFC8926">RFC8926</a>]</span>.<a class="pilcrow" href="#section-2-2.32">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.33">IP-VRF:</dt>
        <dd id="section-2-2.34" style="margin-left: 1.5em">IP Virtual Routing and Forwarding table, as defined in
          <span>[<a class="cite xref" href="#RFC4364">RFC4364</a>]</span>. It stores IP Prefixes that are part of the
          tenant's IP space and are distributed among NVEs of the same tenant
          by EVPN. A Route Distinguisher (RD) and one or more Route Targets (RTs) are
          required properties of an IP-VRF. An IP-VRF is instantiated in an
          NVE for a given tenant if the NVE is attached to multiple subnets
          of the tenant and local inter-subnet forwarding is required across
          those subnets.<a class="pilcrow" href="#section-2-2.34">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.35">IRB:</dt>
        <dd id="section-2-2.36" style="margin-left: 1.5em">Integrated Routing and Bridging. 
It refers to the
          logical interface that connects a Broadcast Domain instance (or a
          BT) to an IP-VRF and forwards packets with a destination in
          a different subnet.<a class="pilcrow" href="#section-2-2.36">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.37">MAC-VRF:</dt>
        <dd id="section-2-2.38" style="margin-left: 1.5em">A MAC Virtual Routing and Forwarding table, as defined
          in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>. The instantiation of an EVI (EVPN
          Instance) in an NVE. A Route Distinguisher (RD) and one or more RTs
          are required properties of a MAC-VRF, and they are normally
          different from the ones defined in the associated IP-VRF (if the
          MAC-VRF has an IRB interface).<a class="pilcrow" href="#section-2-2.38">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.39">NVE:</dt>
        <dd id="section-2-2.40" style="margin-left: 1.5em">Network Virtualization Edge. A network entity that
          sits at the edge of an underlay network and implements Layer 2
          and/or Layer 3 network virtualization functions. The network-facing
          side of the NVE uses the underlying Layer 3 network to tunnel tenant
          frames to and from other NVEs. The tenant-facing side of the NVE
          sends and receives Ethernet frames to and from individual Tenant
          Systems. 
In this document, an NVE could be implemented as a virtual
          switch within a hypervisor, a switch, or a router, and it runs EVPN in
          the control plane.<a class="pilcrow" href="#section-2-2.40">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.41">NVO3 tunnels:</dt>
        <dd id="section-2-2.42" style="margin-left: 1.5em">Network Virtualization over Layer 3 tunnels. 
In
          this document, NVO3 tunnels refer to a way to encapsulate tenant
          frames or packets into IP packets, whose IP Source Addresses (SAs) or
          Destination Addresses (DAs) belong to the underlay IP address space,
          and identify NVEs connected to the same underlay network. Examples
          of NVO3 tunnel encapsulations are VXLAN <span>[<a class="cite xref" href="#RFC7348">RFC7348</a>]</span>,
          Geneve <span>[<a class="cite xref" href="#RFC8926">RFC8926</a>]</span>, or MPLSoUDP <span>[<a class="cite xref" href="#RFC7510">RFC7510</a>]</span>.<a class="pilcrow" href="#section-2-2.42">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.43">PE:</dt>
        <dd id="section-2-2.44" style="margin-left: 1.5em">Provider Edge<a class="pilcrow" href="#section-2-2.44">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.45">PMSI:</dt>
        <dd id="section-2-2.46" style="margin-left: 1.5em">Provider Multicast Service Interface<a class="pilcrow" href="#section-2-2.46">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.47">PTA:</dt>
        <dd id="section-2-2.48" style="margin-left: 1.5em">PMSI Tunnel Attribute<a class="pilcrow" href="#section-2-2.48">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.49">RT and RD:</dt>
        <dd id="section-2-2.50" style="margin-left: 1.5em">Route Target and Route Distinguisher, respectively.<a class="pilcrow" href="#section-2-2.50">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.51">RT-1, RT-2, RT-3, etc.:</dt>
        <dd id="section-2-2.52" style="margin-left: 1.5em">These refer to the Route Types followed by the
          type numbers as defined in the "EVPN Route Types" IANA registry (see <span>&lt;<a href="https://www.iana.org/assignments/evpn/">https://www.iana.org/assignments/evpn/</a>&gt;</span>).<a class="pilcrow" href="#section-2-2.52">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.53">SA and DA:</dt>
        <dd id="section-2-2.54" style="margin-left: 1.5em">Source Address and Destination Address, respectively. They are used
          along with MAC or IP, e.g., IP SA or MAC DA.<a class="pilcrow" href="#section-2-2.54">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.55">SBD:</dt>
        <dd id="section-2-2.56" style="margin-left: 1.5em">Supplementary Broadcast Domain, as defined in <span>[<a class="cite xref" href="#RFC9136">RFC9136</a>]</span>. It is a Broadcast Domain that does not have any
          Attachment Circuits, only has IRB interfaces, and provides connectivity
          among all the IP-VRFs of a tenant in the Interface-ful
          IP-VRF-to-IP-VRF models.<a class="pilcrow" href="#section-2-2.56">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.57">TS:</dt>
        <dd id="section-2-2.58" style="margin-left: 1.5em">Tenant System. A physical or virtual system that can play the
          role of a host or a forwarding element, such as a router, switch,
          firewall, etc. It belongs to a single tenant and connects to one or
          more Broadcast Domains of that tenant.<a class="pilcrow" href="#section-2-2.58">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.59">VID:</dt>
        <dd id="section-2-2.60" style="margin-left: 1.5em">Virtual Local Area Network Identifier<a class="pilcrow" href="#section-2-2.60">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.61">VNI:</dt>
        <dd id="section-2-2.62" style="margin-left: 1.5em">Virtual Network Identifier. Irrespective of the NVO3
          encapsulation, the tunnel header always includes a VNI that is added
          at the ingress NVE (based on the mapping table lookup) and
          identifies the BT at the egress NVE. 
          This VNI is called VNI in VXLAN
          or Geneve, Virtual Subnet ID (VSID) in nvGRE, or Label in MPLSoGRE or MPLSoUDP. This
          document refers to VNI as a generic VNI
          for any NVO3 encapsulation.<a class="pilcrow" href="#section-2-2.62">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.63">VXLAN:</dt>
        <dd id="section-2-2.64" style="margin-left: 1.5em">Virtual eXtensible Local Area Network. An NVO3
          encapsulation defined in <span>[<a class="cite xref" href="#RFC7348">RFC7348</a>]</span>.<a class="pilcrow" href="#section-2-2.64">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sect-3">
<section id="section-3">
      <h2 id="name-why-is-evpn-needed-in-nvo3-">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-why-is-evpn-needed-in-nvo3-">Why is EVPN Needed in NVO3 Networks?</a>
      </h2>
<p id="section-3-1">Data Centers have adopted NVO3 architectures mostly due to the issues
      discussed in <span>[<a class="cite xref" href="#RFC7364">RFC7364</a>]</span>. The architecture of a Data Center
      is nowadays based on a Clos design, where every Leaf is connected to a
      layer of Spines and there is a number of ECMPs between
      any two Leaf nodes. All the links between Leaf and Spine nodes are
      routed links, forming what we also know as an underlay IP Fabric. The
      underlay IP Fabric does not have issues with loops or flooding (like old
      Spanning Tree Data Center designs did), convergence is fast, and ECMP generally distributes utilization well across all the
      links.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">On this architecture, and as discussed by <span>[<a class="cite xref" href="#RFC7364">RFC7364</a>]</span>,
      multi-tenant intra-subnet and inter-subnet connectivity services are
      provided by NVO3 tunnels. VXLAN <span>[<a class="cite xref" href="#RFC7348">RFC7348</a>]</span> and Geneve <span>[<a class="cite xref" href="#RFC8926">RFC8926</a>]</span> are two examples of such NVO3 tunnels.<a class="pilcrow" href="#section-3-2">¶</a></p>
<p id="section-3-3">Why is a control plane protocol along with NVO3 tunnels helpful?
      There are three main reasons:<a class="pilcrow" href="#section-3-3">¶</a></p>
<ol class="normal type-a" id="section-3-4" start="1" type="a">
      <li id="section-3-4.1">Auto-discovery of the remote NVEs that are attached to the same VPN
      instance (Layer 2 and/or Layer 3) as the ingress NVE is.<a class="pilcrow" href="#section-3-4.1">¶</a>
</li>
        <li id="section-3-4.2">Dissemination of the MAC/IP host information so that mapping
          tables can be populated on the remote NVEs.<a class="pilcrow" href="#section-3-4.2">¶</a>
</li>
        <li id="section-3-4.3">Advanced features such as MAC Mobility, MAC Protection, BUM and
          ARP/ND traffic reduction/suppression, multihoming, functionality similar to Prefix
          Independent Convergence (PIC) <span>[<a class="cite xref" href="#I-D.ietf-rtgwg-bgp-pic">BGP-PIC</a>]</span>, fast convergence, etc.<a class="pilcrow" href="#section-3-4.3">¶</a>
</li>
      </ol>
<p id="section-3-5">"Flood and learn" is a possible approach to achieve points (a) and (b) above for
      multipoint Ethernet services. "Flood and learn"
      refers to "flooding" BUM traffic from the ingress NVE to all the egress NVEs attached
      to the same Broadcast Domain instead of using a specific control plane on the NVEs. The egress NVEs may then use data path
      source MAC address "learning" on the frames received over the NVO3
      tunnels. When the destination host replies and the frames arrive at the
      NVE that initially flooded BUM frames, the NVE will also "learn" the
      source MAC address of the frame encapsulated on the NVO3 tunnel. This
      approach has the following drawbacks:<a class="pilcrow" href="#section-3-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-6.1">
          <p id="section-3-6.1.1">In order to flood a given BUM frame, the ingress NVE must know
          the IP addresses of the remote NVEs attached to the same Broadcast
          Domain. This may be done as follows:<a class="pilcrow" href="#section-3-6.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-6.1.2.1">The remote tunnel IP addresses can be statically provisioned
              on the ingress NVE. If the ingress NVE receives a BUM frame for
              the Broadcast Domain on an ingress Attachment Circuit, it will
              do ingress replication and will send the frame to all the
              configured egress NVE destination IP addresses in the Broadcast
              Domain.<a class="pilcrow" href="#section-3-6.1.2.1">¶</a>
</li>
            <li class="normal" id="section-3-6.1.2.2">All the NVEs attached to the same Broadcast Domain can
              subscribe to an underlay IP multicast group that is dedicated to
              that Broadcast Domain. 
When an ingress NVE receives a BUM frame
              on an ingress Attachment Circuit, it will send a single copy of
              the frame encapsulated into an NVO3 tunnel using the multicast
              address as the destination IP address of the tunnel. This solution
              requires PIM in the underlay
              network and the association of individual Broadcast Domains to
              underlay IP multicast groups.<a class="pilcrow" href="#section-3-6.1.2.2">¶</a>
</li>
          </ul>
</li>
        <li class="normal" id="section-3-6.2">"Flood and learn" solves the issues of auto-discovery and
          the learning of the MAC to VNI/tunnel IP mapping on the NVEs for a given
          Broadcast Domain. However, it does not provide a solution for
          advanced features, and it does not scale well (mostly due to the need
          for constant flooding and the underlay PIM states that must be
          maintained).<a class="pilcrow" href="#section-3-6.2">¶</a>
</li>
      </ul>
<p id="section-3-7">EVPN provides a unified control plane that solves the issues of NVE
      auto-discovery, tenant MAC/IP dissemination, and advanced features in a
      scalable way and keeps the independence of the underlay IP Fabric;
      i.e., there is no need to enable PIM in the underlay network and
      maintain multicast states for tenant Broadcast Domains.<a class="pilcrow" href="#section-3-7">¶</a></p>
<p id="section-3-8"><a class="auto internal xref" href="#sect-4">Section 4</a> describes how EVPN can be used to meet the
      control plane requirements in an NVO3 network.<a class="pilcrow" href="#section-3-8">¶</a></p>
</section>
</div>
<div id="sect-4">
<section id="section-4">
      <h2 id="name-applicability-of-evpn-to-nv">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-applicability-of-evpn-to-nv">Applicability of EVPN to NVO3 Networks</a>
      </h2>
<p id="section-4-1">This section discusses the applicability of EVPN to NVO3 networks.
      The intent is not to provide a comprehensive explanation of the protocol
      itself, but to give an introduction and point at the corresponding reference
      document so the reader can easily find more details if needed.<a class="pilcrow" href="#section-4-1">¶</a></p>
<div id="sect-4.1">
<section id="section-4.1">
        <h3 id="name-evpn-route-types-used-in-nv">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-evpn-route-types-used-in-nv">EVPN Route Types Used in NVO3 Networks</a>
        </h3>
<p id="section-4.1-1">EVPN supports multiple Route Types, and each type has a different
        function. For convenience, <a class="auto internal xref" href="#tab-evpn-route-types">Table 1</a> shows
        a summary of all the existing EVPN Route Types and their usages. In this
        document, we may refer to these route types as RT-x routes, where x is
        the type number included in the first column of <a class="auto internal xref" href="#tab-evpn-route-types">Table 1</a>.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<span id="name-evpn-route-types"></span><div id="tab-evpn-route-types">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-evpn-route-types">EVPN Route Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Description</th>
              <th class="text-left" colspan="1" rowspan="1">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">Ethernet Auto-Discovery</td>
              <td class="text-left" colspan="1" rowspan="1">Multihoming: Used for MAC mass-withdraw when advertised per
          Ethernet Segment and for aliasing/backup functions when
          advertised per EVI.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">2</td>
              <td class="text-left" colspan="1" rowspan="1">MAC/IP Advertisement</td>
              <td class="text-left" colspan="1" rowspan="1">Host MAC/IP dissemination; supports MAC Mobility and
          protection.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">3</td>
              <td class="text-left" colspan="1" rowspan="1">Inclusive Multicast Ethernet Tag</td>
              <td class="text-left" colspan="1" rowspan="1">NVE discovery and BUM flooding tree setup.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">Ethernet Segment</td>
              <td class="text-left" colspan="1" rowspan="1">Multihoming: ES auto-discovery and DF election.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">IP Prefix</td>
              <td class="text-left" colspan="1" rowspan="1">IP Prefix dissemination.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">Selective Multicast Ethernet Tag</td>
              <td class="text-left" colspan="1" rowspan="1">Indicate interest for a multicast S,G or *,G.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">7</td>
              <td class="text-left" colspan="1" rowspan="1">Multicast Join Synch</td>
              <td class="text-left" colspan="1" rowspan="1">Multihoming: S,G or *,G state synch.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">8</td>
              <td class="text-left" colspan="1" rowspan="1">Multicast Leave Synch</td>
              <td class="text-left" colspan="1" rowspan="1">Multihoming: S,G or *,G leave synch.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">9</td>
              <td class="text-left" colspan="1" rowspan="1">Per-Region I-PMSI A-D</td>
              <td class="text-left" colspan="1" rowspan="1">BUM tree creation across regions.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">10</td>
              <td class="text-left" colspan="1" rowspan="1">S-PMSI A-D</td>
              <td class="text-left" colspan="1" rowspan="1">Multicast tree for S,G or *,G states.</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">11</td>
              <td class="text-left" colspan="1" rowspan="1">Leaf A-D</td>
              <td class="text-left" colspan="1" rowspan="1">Used for responses to explicit tracking.</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="sect-4.2">
<section id="section-4.2">
        <h3 id="name-evpn-basic-applicability-fo">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-evpn-basic-applicability-fo">EVPN Basic Applicability for Layer 2 Services</a>
        </h3>
<p id="section-4.2-1">Although the applicability of EVPN to NVO3 networks spans multiple
        documents, EVPN's baseline specification is <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>.
        <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> allows multipoint Layer 2 VPNs to be operated
        as IP VPNs <span>[<a class="cite xref" href="#RFC4364">RFC4364</a>]</span>, where MACs and the information to
        set up flooding trees are distributed by Multiprotocol BGP (MP-BGP) <span>[<a class="cite xref" href="#RFC4760">RFC4760</a>]</span>. Based on <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>, <span>[<a class="cite xref" href="#RFC8365">RFC8365</a>]</span> describes how to use EVPN to deliver Layer 2
        services specifically in NVO3 networks.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2"><a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a>
        represents a Layer 2 service deployed with an EVPN Broadcast Domain in
        an NVO3 network.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<span id="name-evpn-for-l2-in-an-nvo3-netw"></span><div id="ure-evpn-for-l2-in-an-nvo3-network-example">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-4.2-3.1">
<pre>                             +--TS2---+
                             *        | Single-Active
                             *        |   ESI-1
                           +----+  +----+
                           |BD1 |  |BD1 |
             +-------------|    |--|    |-----------+
             |             +----+  +----+           |
             |              NVE2    NVE3          NVE4
             |           EVPN NVO3 Network       +----+
        NVE1(IP-A)                               | BD1|-----+
       +-------------+      RT-2                 |    |     |
       |             |    +-------+              +----+     |
       |   +----+    |    |MAC1   |               NVE5     TS3
TS1--------|BD1 |    |    |IP1    |              +----+     |
MAC1   |   +----+    |    |Label L|---&gt;          | BD1|-----+
IP1    |             |    |NH IP-A|              |    | All-Active
       | Hypervisor  |    +-------+              +----+  ESI-2
       +-------------+                              |
             +--------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-evpn-for-l2-in-an-nvo3-netw">EVPN for L2 in an NVO3 Network - Example</a>
          </figcaption></figure>
</div>
<p id="section-4.2-4">In a simple NVO3 network, such as the example of <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a>, these are the
        basic constructs that EVPN uses for Layer 2 services (or Layer 2
        Virtual Networks):<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-5.1">BD1 is an EVPN Broadcast Domain for a given tenant and TS1, TS2,
            and TS3 are connected to it. The five represented NVEs are
            attached to BD1 and are connected to the same underlay IP network.
            That is, each NVE learns the remote NVEs' loopback addresses via
            underlay routing protocol.<a class="pilcrow" href="#section-4.2-5.1">¶</a>
</li>
          <li class="normal" id="section-4.2-5.2">NVE1 is deployed as a virtual switch in a hypervisor with IP-A
            as underlay loopback IP address. The rest of the NVEs in <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a> are physical
            switches and TS2/TS3 are multihomed to them. TS1 is a virtual
            machine, identified by MAC1 and IP1. TS2 and TS3 are physically
            dual-connected to NVEs; hence, they are normally not considered
            virtual machines.<a class="pilcrow" href="#section-4.2-5.2">¶</a>
</li>
          <li class="normal" id="section-4.2-5.3">The terms Single-Active and All-Active in <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a> refer to the
            mode in which the TS2 and TS3 are multihomed to the NVEs in BD1.
            In All-Active mode, all the multihoming links are active and can
            send or receive traffic. In Single-Active mode, only one link (of
            the set of links connected to the NVEs) is active.<a class="pilcrow" href="#section-4.2-5.3">¶</a>
</li>
        </ul>
<div id="sect-4.2.1">
<section id="section-4.2.1">
          <h4 id="name-auto-discovery-and-auto-pro">
<a class="section-number selfRef" href="#section-4.2.1">4.2.1. </a><a class="section-name selfRef" href="#name-auto-discovery-and-auto-pro">Auto-Discovery and Auto-Provisioning</a>
          </h4>
<p id="section-4.2.1-1">Auto-discovery is one of the basic capabilities of EVPN. The
          provisioning of EVPN components in NVEs is significantly automated,
          simplifying the deployment of services and minimizing manual
          operations that are prone to human error.<a class="pilcrow" href="#section-4.2.1-1">¶</a></p>
<p id="section-4.2.1-2">These are some of the auto-discovery and auto-provisioning
          capabilities available in EVPN:<a class="pilcrow" href="#section-4.2.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.1-3.1">
              <p id="section-4.2.1-3.1.1">Automation on Ethernet Segments (ESes): An Ethernet Segment is
              defined as a group of NVEs that are attached to the same Tenant
              System or network. An Ethernet Segment is identified by an
              Ethernet Segment Identifier (ESI) in the control plane, but
              neither the ESI nor the NVEs that share the same Ethernet
              Segment are required to be manually provisioned in the local
              NVE.<a class="pilcrow" href="#section-4.2.1-3.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.1-3.1.2.1">If the multihomed Tenant System or network is running
                  protocols, such as the Link Aggregation Control Protocol (LACP)
                  <span>[<a class="cite xref" href="#IEEE.802.1AX_2014">IEEE.802.1AX_2014</a>]</span>, the Multiple
                  Spanning Tree Protocol (MSTP), G.8032, etc., and all the NVEs in
                  the Ethernet Segment can listen to the protocol PDUs to
                  uniquely identify the multihomed Tenant System/network,
                  then the ESI can be "auto-sensed" or "auto-provisioned"
                  following the guidelines in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7432#section-5">Section 5</a> of [<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>. 
                  The ESI can also be auto-derived out of other parameters
                  that are common to all NVEs attached to the same Ethernet
                  Segment.<a class="pilcrow" href="#section-4.2.1-3.1.2.1">¶</a>
</li>
                <li class="normal" id="section-4.2.1-3.1.2.2">As described in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>, EVPN can also
                  auto-derive the BGP parameters required to advertise the
                  presence of a local Ethernet Segment in the control plane
                  (RT and RD). Local Ethernet Segments are advertised using
                  Ethernet Segment routes, and the ESI-import Route Target used
                  by Ethernet Segment routes can be auto-derived based on the
                  procedures of <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7432#section-7.6">Section 7.6</a> of [<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-4.2.1-3.1.2.2">¶</a>
</li>
                <li class="normal" id="section-4.2.1-3.1.2.3">By listening to other Ethernet Segment routes that match
                  the local ESI and import Route Target, an NVE can also
                  auto-discover the other NVEs participating in the
                  multihoming for the Ethernet Segment.<a class="pilcrow" href="#section-4.2.1-3.1.2.3">¶</a>
</li>
                <li class="normal" id="section-4.2.1-3.1.2.4">Once the NVE has auto-discovered all the NVEs attached to
                  the same Ethernet Segment, the NVE can automatically perform
                  the Designated Forwarder election algorithm (which
                  determines the NVE that will forward traffic to the
                  multihomed Tenant System/network). EVPN guarantees that all
                  the NVEs in the Ethernet Segment have a consistent
                  Designated Forwarder election.<a class="pilcrow" href="#section-4.2.1-3.1.2.4">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-4.2.1-3.2">Auto-provisioning of services: When deploying a Layer 2
              service for a tenant in an NVO3 network, all the NVEs attached
              to the same subnet must be configured with a MAC-VRF and the
              Broadcast Domain for the subnet, as well as certain parameters
              for them. Note that if the EVPN service interfaces are VLAN-based or
              VLAN-bundle, implementations do not normally have a specific
              provisioning for the Broadcast Domain since, in this case, it is 
              the same construct as the MAC-VRF. EVPN allows auto-deriving as
              many MAC-VRF parameters as possible. As an example, the
              MAC-VRF's Route Target and Route Distinguisher for the EVPN
              routes may be auto-derived. <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8365#section-5.1.2.1">Section 5.1.2.1</a> of [<a class="cite xref" href="#RFC8365">RFC8365</a>]</span> specifies how to auto-derive a MAC-VRF's
              Route Target as long as a VLAN-based service interface is implemented.
              <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> specifies how to auto-derive the Route
              Distinguisher.<a class="pilcrow" href="#section-4.2.1-3.2">¶</a>
</li>
          </ul>
</section>
</div>
<div id="sect-4.2.2">
<section id="section-4.2.2">
          <h4 id="name-remote-nve-auto-discovery">
<a class="section-number selfRef" href="#section-4.2.2">4.2.2. </a><a class="section-name selfRef" href="#name-remote-nve-auto-discovery">Remote NVE Auto-Discovery</a>
          </h4>
<p id="section-4.2.2-1">Auto-discovery via MP-BGP <span>[<a class="cite xref" href="#RFC4760">RFC4760</a>]</span> is used to
          discover the remote NVEs attached to a given Broadcast Domain, the
          NVEs participating in a given redundancy group, the tunnel
          encapsulation types supported by an NVE, etc.<a class="pilcrow" href="#section-4.2.2-1">¶</a></p>
<p id="section-4.2.2-2">In particular, when a new MAC-VRF and Broadcast Domain are
          enabled, the NVE will advertise a new Inclusive Multicast Ethernet
          Tag route. Besides other fields, the Inclusive Multicast Ethernet
          Tag route will encode the IP address of the advertising NVE, the
          Ethernet Tag (which is zero in the case of VLAN-based and VLAN-bundle
          interfaces), and a PMSI Tunnel Attribute (PTA) that indicates the
          information about the intended way to deliver BUM traffic for the
          Broadcast Domain.<a class="pilcrow" href="#section-4.2.2-2">¶</a></p>
<p id="section-4.2.2-3">When BD1 is enabled in the example of <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a>, NVE1 will send an Inclusive Multicast Ethernet Tag route
          including its own IP address, an Ethernet-Tag for BD1, and the PMSI
          Tunnel Attribute to the remote NVEs. Assuming Ingress Replication
          (IR) is used, the Inclusive Multicast Ethernet Tag route will
          include an identification for Ingress Replication in the PMSI Tunnel
          Attribute and the VNI that the other NVEs in
          the Broadcast Domain must use to send BUM traffic to the advertising
          NVE. The other NVEs in the Broadcast Domain will import the
          Inclusive Multicast Ethernet Tag route and will add NVE1's IP
          address to the flooding list for BD1. Note that the Inclusive
          Multicast Ethernet Tag route is also sent with a BGP encapsulation
          attribute <span>[<a class="cite xref" href="#RFC9012">RFC9012</a>]</span> that indicates what NVO3
          encapsulation the remote NVEs should use when sending BUM traffic to
          NVE1.<a class="pilcrow" href="#section-4.2.2-3">¶</a></p>
<p id="section-4.2.2-4">Refer to <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> for more information about the
          Inclusive Multicast Ethernet Tag route and forwarding of BUM
          traffic. See <span>[<a class="cite xref" href="#RFC8365">RFC8365</a>]</span> for its considerations on
          NVO3 networks.<a class="pilcrow" href="#section-4.2.2-4">¶</a></p>
</section>
</div>
<div id="sect-4.2.3">
<section id="section-4.2.3">
          <h4 id="name-distribution-of-tenant-mac-">
<a class="section-number selfRef" href="#section-4.2.3">4.2.3. </a><a class="section-name selfRef" href="#name-distribution-of-tenant-mac-">Distribution of Tenant MAC and IP Information</a>
          </h4>
<p id="section-4.2.3-1">Tenant MAC/IP information is advertised to remote NVEs using
          MAC/IP Advertisement routes. Following the example of <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a>:<a class="pilcrow" href="#section-4.2.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.3-2.1">In a given EVPN Broadcast Domain, the MAC addresses of TSes are first learned at the NVE they are attached to via
              data path or management plane learning. In <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a>, we assume
              NVE1 learns MAC1/IP1 in the management plane (for instance, via
              Cloud Management System) since the NVE is a virtual switch.
              NVE2, NVE3, NVE4, and NVE5 are ToR/Leaf switches, and they
              normally learn MAC addresses via data path.<a class="pilcrow" href="#section-4.2.3-2.1">¶</a>
</li>
            <li class="normal" id="section-4.2.3-2.2">Once NVE1's BD1 learns MAC1/IP1, NVE1 advertises that
              information along with a VNI and Next-Hop
              IP-A in a MAC/IP Advertisement route. The EVPN routes are
              advertised using the Route Distinguisher / Route Targets of the
              MAC-VRF where the Broadcast Domain belongs. Similarly, all the
              NVEs in BD1 learn local MAC/IP addresses and advertise them in
              MAC/IP Advertisement routes.<a class="pilcrow" href="#section-4.2.3-2.2">¶</a>
</li>
            <li class="normal" id="section-4.2.3-2.3">The remote NVEs can then add MAC1 to their mapping table for
              BD1 (BT). For instance, when TS3 sends frames to NVE4 with the
              destination MAC address = MAC1, NVE4 does a MAC lookup on the
              Bridge Table that yields IP-A and Label L. NVE4 can then
              encapsulate the frame into an NVO3 tunnel with IP-A as the
              tunnel destination IP address and L as the VNI.
              Note that the MAC/IP Advertisement route may also
              contain the host's IP address (as shown in the example of <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a>). While
              the MAC of the received MAC/IP Advertisement route is installed
              in the Bridge Table, the IP address may be installed in the
              Proxy ARP/ND table (if enabled) or in the ARP/IP-VRF tables if
              the Broadcast Domain has an IRB. See <a class="auto internal xref" href="#sect-4.7.3">Section 4.7.3</a>
              for more information about Proxy ARP/ND and <a class="auto internal xref" href="#sect-4.3">Section 4.3</a> for more details about IRB and Layer 3
              services.<a class="pilcrow" href="#section-4.2.3-2.3">¶</a>
</li>
          </ul>
<p id="section-4.2.3-3">Refer to <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> and <span>[<a class="cite xref" href="#RFC8365">RFC8365</a>]</span>
          for more information about the MAC/IP Advertisement route and
          the forwarding of known unicast traffic.<a class="pilcrow" href="#section-4.2.3-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-4.3">
<section id="section-4.3">
        <h3 id="name-evpn-basic-applicability-for">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-evpn-basic-applicability-for">EVPN Basic Applicability for Layer 3 Services</a>
        </h3>
<p id="section-4.3-1"><span>[<a class="cite xref" href="#RFC9136">RFC9136</a>]</span> and <span>[<a class="cite xref" href="#RFC9135">RFC9135</a>]</span> are the
        reference documents that describe how EVPN can be used for Layer 3
        services. Inter-subnet forwarding in EVPN networks is implemented via
        IRB interfaces between Broadcast Domains and IP-VRFs. An EVPN
        Broadcast Domain corresponds to an IP subnet. When IP packets
        generated in a Broadcast Domain are destined to a different subnet
        (different Broadcast Domain) of the same tenant, the packets are sent
        to the IRB attached to the local Broadcast Domain in the source NVE.
        As discussed in <span>[<a class="cite xref" href="#RFC9135">RFC9135</a>]</span>, depending on how the IP
        packets are forwarded between the ingress NVE and the egress NVE,
        there are two forwarding models: Asymmetric and Symmetric.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">The Asymmetric model is illustrated in the example of <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-asymmetric-model">Figure 2</a>, and it
        requires the configuration of all the Broadcast Domains of the tenant
        in all the NVEs attached to the same tenant. That way, there is no
        need to advertise IP Prefixes between NVEs since all the NVEs are
        attached to all the subnets. It is called "Asymmetric" because the
        ingress and egress NVEs do not perform the same number of lookups in
        the data plane. 
In <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-asymmetric-model">Figure 2</a>, if TS1
        and TS2 are in different subnets and TS1 sends IP packets to TS2, the
        following lookups are required in the data path: a MAC lookup at
        BD1's table, an IP lookup at the IP-VRF, a MAC lookup at BD2's
        table at the ingress NVE1, and only a MAC lookup at the egress
        NVE. The two IP-VRFs in <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-asymmetric-model">Figure 2</a> are not
        connected by tunnels, and all the connectivity between the NVEs is done
        based on tunnels between the Broadcast Domains.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<span id="name-evpn-for-l3-in-an-nvo3-netw"></span><div id="ure-evpn-for-l3-in-an-nvo3-network-asymmetric-model">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.3-3.1">
<pre>              +-------------------------------------+
              |             EVPN NVO3               |
              |                                     |
            NVE1                                 NVE2
      +--------------------+            +--------------------+
      | +---+IRB +------+  |            |  +------+IRB +---+ |
TS1-----|BD1|----|IP-VRF|  |            |  |IP-VRF|----|BD1| |
      | +---+    |      |  |            |  |      |    +---+ |
      | +---+    |      |  |            |  |      |    +---+ |
      | |BD2|----|      |  |            |  |      |----|BD2|----TS2
      | +---+IRB +------+  |            |  +------+IRB +---+ |
      +--------------------+            +--------------------+
              |                                     |
              +-------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-evpn-for-l3-in-an-nvo3-netw">EVPN for L3 in an NVO3 Network - Asymmetric Model</a>
          </figcaption></figure>
</div>
<p id="section-4.3-4">In the Symmetric model, depicted in <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-symmetric-model">Figure 3</a>, the
        same number of data path lookups is needed at the ingress and egress
        NVEs. For example, if TS1 sends IP packets to TS3, the following data
        path lookups are required: a MAC lookup at NVE1's BD1 table, an IP
        lookup at NVE1's IP-VRF, and an IP lookup and MAC lookup at NVE2's
        IP-VRF and BD3, respectively. In the Symmetric model, the inter-subnet
        connectivity between NVEs is done based on tunnels between the
        IP-VRFs.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
<span id="name-evpn-for-l3-in-an-nvo3-netwo"></span><div id="ure-evpn-for-l3-in-an-nvo3-network-symmetric-model">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-4.3-5.1">
<pre>              +-------------------------------------+
              |             EVPN NVO3               |
              |                                     |
            NVE1                                 NVE2
      +--------------------+            +--------------------+
      | +---+IRB +------+  |            |  +------+IRB +---+ |
TS1-----|BD1|----|IP-VRF|  |            |  |IP-VRF|----|BD3|-----TS3
      | +---+    |      |  |            |  |      |    +---+ |
      | +---+IRB |      |  |            |  +------+          |
TS2-----|BD2|----|      |  |            +--------------------+
      | +---+    +------+  |                        |
      +--------------------+                        |
              |                                     |
              +-------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-evpn-for-l3-in-an-nvo3-netwo">EVPN for L3 in an NVO3 Network - Symmetric Model</a>
          </figcaption></figure>
</div>
<p id="section-4.3-6">The Symmetric model scales better than the Asymmetric model because
        it does not require the NVEs to be attached to all the tenant's
        subnets. However, it requires the use of NVO3 tunnels on the IP-VRFs
        and the exchange of IP Prefixes between the NVEs in the control plane.
        EVPN uses MAC/IP Advertisement routes for the exchange of host IP
        routes and IP Prefix routes for the exchange of prefixes of any
        length, including host routes. As an example, in <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-symmetric-model">Figure 3</a>, NVE2
        needs to advertise TS3's host route and/or TS3's subnet so that the
        IP lookup on NVE1's IP-VRF succeeds.<a class="pilcrow" href="#section-4.3-6">¶</a></p>
<p id="section-4.3-7"><span>[<a class="cite xref" href="#RFC9135">RFC9135</a>]</span> specifies the use of MAC/IP Advertisement
        routes for the advertisement of host routes. <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9136#section-4.4.1">Section 4.4.1</a> of [<a class="cite xref" href="#RFC9136">RFC9136</a>]</span> specifies the use of IP Prefix routes for the
        advertisement of IP Prefixes in an "Interface-less IP-VRF-to-IP-VRF
        Model". The Symmetric model for host routes can be implemented
        following either approach:<a class="pilcrow" href="#section-4.3-7">¶</a></p>
<ol class="normal type-a" id="section-4.3-8" start="1" type="a">
<li id="section-4.3-8.1">
            <span>[<a class="cite xref" href="#RFC9135">RFC9135</a>]</span> uses MAC/IP Advertisement routes to
            convey the information to populate Layer 2, ARP/ND, and Layer 3
            Forwarding Information Base tables in the remote NVE. For
            instance, in <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-symmetric-model">Figure 3</a>,
            NVE2 would advertise a MAC/IP Advertisement route with TS3's IP
            and MAC addresses and include two labels / VNIs: a label-3/VNI-3 that identifies BD3 for MAC lookup
            (that would be used for Layer 2 traffic in case NVE1 was attached
            to BD3 too) and a label-1/VNI-1 that identifies the IP-VRF for IP
            lookup (that would be used for Layer 3 traffic). NVE1 imports the
            MAC/IP Advertisement route and installs TS3's IP in the IP-VRF
            route table with label-1/VNI-1. Traffic, e.g., from TS2 to TS3,
            would be encapsulated with label-1/VNI-1 and forwarded to NVE2.<a class="pilcrow" href="#section-4.3-8.1">¶</a>
</li>
          <li id="section-4.3-8.2">
            <span>[<a class="cite xref" href="#RFC9136">RFC9136</a>]</span> uses MAC/IP Advertisement routes to
            convey the information to populate the Layer 2 Forwarding
            Information Base, ARP/ND tables, and IP Prefix routes to
            populate the IP-VRF Layer 3 Forwarding Information Base table. For
            instance, in <a class="auto internal xref" href="#ure-evpn-for-l3-in-an-nvo3-network-symmetric-model">Figure 3</a>,
            NVE2 would advertise a MAC/IP Advertisement route including TS3's
            MAC and IP addresses with a single label-3/VNI-3. In this example,
            this MAC/IP Advertisement route wouldn't be imported by NVE1
            because NVE1 is not attached to BD3. In addition, NVE2 would
            advertise an IP Prefix route with TS3's IP address and
            label-1/VNI-1. This IP Prefix route would be imported by NVE1's
            IP-VRF and the host route installed in the Layer 3 Forwarding
            Information Base associated with label-1/VNI-1. Traffic from TS2 to
            TS3 would be encapsulated with label-1/VNI-1.<a class="pilcrow" href="#section-4.3-8.2">¶</a>
</li>
        </ol>
</section>
</div>
<div id="sect-4.4">
<section id="section-4.4">
        <h3 id="name-evpn-as-control-plane-for-n">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-evpn-as-control-plane-for-n">EVPN as Control Plane for NVO3 Encapsulations and Geneve</a>
        </h3>
<p id="section-4.4-1"><span>[<a class="cite xref" href="#RFC8365">RFC8365</a>]</span> describes how to use EVPN for NVO3
        encapsulations, such us VXLAN, nvGRE, or MPLSoGRE. The procedures can
        be easily applicable to any other NVO3 encapsulation, particularly Geneve.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">Geneve <span>[<a class="cite xref" href="#RFC8926">RFC8926</a>]</span> is the proposed standard encapsulation specified in
        the IETF Network Virtualization Overlays Working Group. The EVPN
        control plane can signal the Geneve encapsulation type in the BGP
        Tunnel Encapsulation Extended Community (see <span>[<a class="cite xref" href="#RFC9012">RFC9012</a>]</span>).<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<p id="section-4.4-3">Geneve requires a control plane <span>[<a class="cite xref" href="#I-D.ietf-nvo3-encap">NVO3-ENCAP</a>]</span> to:<a class="pilcrow" href="#section-4.4-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4-4.1">Negotiate a subset of Geneve option TLVs that can be carried on
            a Geneve tunnel,<a class="pilcrow" href="#section-4.4-4.1">¶</a>
</li>
          <li class="normal" id="section-4.4-4.2">Enforce an order for Geneve option TLVs, and<a class="pilcrow" href="#section-4.4-4.2">¶</a>
</li>
          <li class="normal" id="section-4.4-4.3">Limit the total number of options that could be carried on a
            Geneve tunnel.<a class="pilcrow" href="#section-4.4-4.3">¶</a>
</li>
        </ul>
<p id="section-4.4-5">The EVPN control plane can easily extend the BGP Tunnel
        Encapsulation attribute sub-TLV <span>[<a class="cite xref" href="#RFC9012">RFC9012</a>]</span> to specify
        the Geneve tunnel options that can be received or transmitted over a
        Geneve tunnel by a given NVE. <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-geneve">EVPN-GENEVE</a>]</span> describes the EVPN control plane
        extensions to support Geneve.<a class="pilcrow" href="#section-4.4-5">¶</a></p>
</section>
</div>
<div id="sect-4.5">
<section id="section-4.5">
        <h3 id="name-evpn-oam-and-application-to">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-evpn-oam-and-application-to">EVPN OAM and Application to NVO3</a>
        </h3>
<p id="section-4.5-1">EVPN Operations, Administration, and Maintenance (OAM), as described in <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-lsp-ping">EVPN-LSP-PING</a>]</span>,
        defines mechanisms to detect data plane failures in an EVPN deployment
        over an MPLS network. These mechanisms detect failures related to point-to-point (P2P)
        and Point-to-Multipoint (P2MP) connectivity, for multi-tenant unicast and multicast Layer 2
        traffic, between multi-tenant access nodes connected to EVPN PE(s),
        and in a single-homed, Single-Active, or All-Active redundancy
        model.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">In general, EVPN OAM mechanisms defined for EVPN deployed in MPLS
        networks are equally applicable for EVPN in NVO3 networks.<a class="pilcrow" href="#section-4.5-2">¶</a></p>
</section>
</div>
<div id="sect-4.6">
<section id="section-4.6">
        <h3 id="name-evpn-as-the-control-plane-f">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-evpn-as-the-control-plane-f">EVPN as the Control Plane for NVO3 Security</a>
        </h3>
<p id="section-4.6-1">EVPN can be used to signal the security protection capabilities of
        a sender NVE, as well as what portion of an NVO3 packet (taking a
        Geneve packet as an example) can be protected by the sender NVE, to
        ensure the privacy and integrity of tenant traffic carried over the
        NVO3 tunnels <span>[<a class="cite xref" href="#I-D.ietf-bess-secure-evpn">SECURE-EVPN</a>]</span>.<a class="pilcrow" href="#section-4.6-1">¶</a></p>
</section>
</div>
<div id="sect-4.7">
<section id="section-4.7">
        <h3 id="name-advanced-evpn-features-for-">
<a class="section-number selfRef" href="#section-4.7">4.7. </a><a class="section-name selfRef" href="#name-advanced-evpn-features-for-">Advanced EVPN Features for NVO3 Networks</a>
        </h3>
<p id="section-4.7-1">This section describes how EVPN can be used to deliver advanced
        capabilities in NVO3 networks.<a class="pilcrow" href="#section-4.7-1">¶</a></p>
<div id="sect-4.7.1">
<section id="section-4.7.1">
          <h4 id="name-virtual-machine-vm-mobility">
<a class="section-number selfRef" href="#section-4.7.1">4.7.1. </a><a class="section-name selfRef" href="#name-virtual-machine-vm-mobility">Virtual Machine (VM) Mobility</a>
          </h4>
<p id="section-4.7.1-1"><span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> replaces the classic Ethernet
          "flood and learn" behavior among NVEs with BGP-based MAC learning.   
          In return, this provides more control over the location of MAC
          addresses in the Broadcast Domain and consequently advanced
          features, such as MAC Mobility. If we assume that Virtual Machine (VM) Mobility means
          the VM's MAC and IP addresses move with the VM, EVPN's MAC Mobility
          is the required procedure that facilitates VM Mobility. According to
          <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7432#section-15">Section 15</a> of [<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>, when a MAC is advertised for
          the first time in a Broadcast Domain, all the NVEs attached to the
          Broadcast Domain will store Sequence Number zero for that MAC. When
          the MAC "moves" to a remote NVE within the same Broadcast Domain,
          the NVE that just learned the MAC locally increases the
          Sequence Number in the MAC/IP Advertisement route's MAC Mobility
          extended community to indicate that it owns the MAC now. That makes
          all the NVEs in the Broadcast Domain change their tables immediately
          with no need to wait for any aging timer. EVPN guarantees a fast MAC
          Mobility without flooding or packet drops in the Broadcast
          Domain.<a class="pilcrow" href="#section-4.7.1-1">¶</a></p>
</section>
</div>
<div id="sect-4.7.2">
<section id="section-4.7.2">
          <h4 id="name-mac-protection-duplication-">
<a class="section-number selfRef" href="#section-4.7.2">4.7.2. </a><a class="section-name selfRef" href="#name-mac-protection-duplication-">MAC Protection, Duplication Detection, and Loop Protection</a>
          </h4>
<p id="section-4.7.2-1">The advertisement of MACs in the control plane allows advanced
          features such as MAC Protection, Duplication Detection, and Loop
          Protection.<a class="pilcrow" href="#section-4.7.2-1">¶</a></p>
<p id="section-4.7.2-2">In a MAC/IP Advertisement route, MAC Protection refers to EVPN's ability
          to indicate that a MAC must be
          protected by the NVE receiving the route <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>. The Protection is
          indicated in the "Sticky bit" of the MAC Mobility extended community
          sent along the MAC/IP Advertisement route for a MAC. NVEs'
          Attachment Circuits that are connected to subject-to-be-protected
          servers or VMs may set the Sticky bit on the MAC/IP Advertisement
          routes sent for the MACs associated with the Attachment Circuits.
          Also, statically configured MAC addresses should be advertised as
          Protected MAC addresses since they are not subject to MAC Mobility
          procedures.<a class="pilcrow" href="#section-4.7.2-2">¶</a></p>
<p id="section-4.7.2-3">MAC Duplication Detection refers to
          EVPN's ability to detect duplicate MAC addresses <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>. A "MAC move" is a
          relearn event that happens at an access Attachment Circuit or
          through a MAC/IP Advertisement route with a Sequence Number that is
          higher than the stored one for the MAC. 
When a MAC moves a number of
          times (N) within an M-second window between two NVEs, the MAC is
          declared as a duplicate and the detecting NVE does not re-advertise
          the MAC anymore.<a class="pilcrow" href="#section-4.7.2-3">¶</a></p>
<p id="section-4.7.2-4"><span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> provides MAC Duplication Detection, and
          with an extension, it can protect the Broadcast Domain against loops
          created by backdoor links between NVEs. The same principle (based on
          the Sequence Number) may be extended to protect the Broadcast Domain
          against loops. 
When a MAC is detected as a duplicate, the NVE may
          install it as a drop-MAC and discard received frames with source MAC
          address or the destination MAC address matching that duplicate MAC. The
          MAC Duplication extension to support Loop Protection is described in
          <span><a class="relref" href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-rfc7432bis-07#section-15.3">Section 15.3</a> of [<a class="cite xref" href="#I-D.ietf-bess-rfc7432bis">RFC7432BIS</a>]</span>.<a class="pilcrow" href="#section-4.7.2-4">¶</a></p>
</section>
</div>
<div id="sect-4.7.3">
<section id="section-4.7.3">
          <h4 id="name-reduction-optimization-of-b">
<a class="section-number selfRef" href="#section-4.7.3">4.7.3. </a><a class="section-name selfRef" href="#name-reduction-optimization-of-b">Reduction/Optimization of BUM Traffic in Layer 2 Services</a>
          </h4>
<p id="section-4.7.3-1">In Broadcast Domains with a significant amount of flooding due to
          Unknown Unicast and broadcast frames, EVPN may help reduce and
          sometimes even suppress the flooding.<a class="pilcrow" href="#section-4.7.3-1">¶</a></p>
<p id="section-4.7.3-2">In Broadcast Domains where most of the broadcast traffic is
          caused by the Address Resolution Protocol (ARP) and the Neighbor
          Discovery Protocol (NDP) on the Tenant Systems, EVPN's Proxy ARP and
          Proxy ND capabilities may reduce the flooding drastically. The use
          of Proxy ARP/ND is specified in <span>[<a class="cite xref" href="#RFC9161">RFC9161</a>]</span>.<a class="pilcrow" href="#section-4.7.3-2">¶</a></p>
<p id="section-4.7.3-3">Proxy ARP/ND procedures, along with the assumption that Tenant
          Systems always issue a Gratuitous ARP (GARP) or an unsolicited
          Neighbor Advertisement message when they come up in the Broadcast
          Domain, may drastically reduce the Unknown Unicast flooding in the
          Broadcast Domain.<a class="pilcrow" href="#section-4.7.3-3">¶</a></p>
<p id="section-4.7.3-4">The flooding caused by Tenant Systems' IGMP / Multicast Listener Discovery (MLD) or PIM messages
          in the Broadcast Domain may also be suppressed by the use of
          IGMP/MLD and PIM Proxy functions, as specified in <span>[<a class="cite xref" href="#RFC9251">RFC9251</a>]</span> and <span>[<a class="cite xref" href="#I-D.skr-bess-evpn-pim-proxy">EVPN-PIM-PROXY</a>]</span>.
          These two documents also specify how to forward IP multicast traffic
          efficiently within the same Broadcast Domain, translate soft state
          IGMP/MLD/PIM messages into hard state BGP routes, and provide
          fast convergence redundancy for IP multicast on multihomed ESes.<a class="pilcrow" href="#section-4.7.3-4">¶</a></p>
</section>
</div>
<div id="sect-4.7.4">
<section id="section-4.7.4">
          <h4 id="name-ingress-replication-ir-opti">
<a class="section-number selfRef" href="#section-4.7.4">4.7.4. </a><a class="section-name selfRef" href="#name-ingress-replication-ir-opti">Ingress Replication (IR) Optimization for BUM Traffic</a>
          </h4>
<p id="section-4.7.4-1">When an NVE attached to a given Broadcast Domain needs to send
          BUM traffic for the Broadcast Domain to the remote NVEs attached to
          the same Broadcast Domain, Ingress Replication is a very common
          option in NVO3 networks since it is completely independent of the
          multicast capabilities of the underlay network. Also, if the
          optimization procedures to reduce/suppress the flooding in the
          Broadcast Domain are enabled (<a class="auto internal xref" href="#sect-4.7.3">Section 4.7.3</a>) in spite
          of creating multiple copies of the same frame at the ingress NVE,
          Ingress Replication may be good enough. However, in Broadcast
          Domains where Multicast (or Broadcast) traffic is significant,
          Ingress Replication may be very inefficient and cause performance
          issues on virtual switch-based NVEs.<a class="pilcrow" href="#section-4.7.4-1">¶</a></p>
<p id="section-4.7.4-2"><span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-optimized-ir">EVPN-OPT-IR</a>]</span> specifies the
          use of Assisted Replication (AR) NVO3 tunnels in EVPN Broadcast
          Domains. AR retains the independence of the underlay network while
          providing a way to forward Broadcast and multicast traffic
          efficiently. AR uses AR-REPLICATORs that can replicate the
          broadcast/multicast traffic on behalf of the AR-LEAF NVEs. The
          AR-LEAF NVEs are typically virtual switches or NVEs with limited
          replication capabilities. AR can work in a single-stage replication
          mode (Non-Selective Mode) or in a dual-stage replication mode
          (Selective Mode). Both modes are detailed in <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-optimized-ir">EVPN-OPT-IR</a>]</span>.<a class="pilcrow" href="#section-4.7.4-2">¶</a></p>
<p id="section-4.7.4-3">In addition, <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-optimized-ir">EVPN-OPT-IR</a>]</span>
          describes a procedure to avoid sending BUM to certain NVEs that do not need that type of
          traffic. This is done by enabling Pruned Flood Lists (PFLs) on a
          given Broadcast Domain. For instance, a virtual switch NVE that
          learns all its local MAC addresses for a Broadcast Domain via a Cloud
          Management System does not need to receive the Broadcast Domain's
          Unknown Unicast traffic. PFLs help optimize the BUM
          flooding in the Broadcast Domain.<a class="pilcrow" href="#section-4.7.4-3">¶</a></p>
</section>
</div>
<div id="sect-4.7.5">
<section id="section-4.7.5">
          <h4 id="name-evpn-multihoming">
<a class="section-number selfRef" href="#section-4.7.5">4.7.5. </a><a class="section-name selfRef" href="#name-evpn-multihoming">EVPN Multihoming</a>
          </h4>
<p id="section-4.7.5-1">Another fundamental concept in EVPN is multihoming. A given
          Tenant System can be multihomed to two or more NVEs for a given
          Broadcast Domain, and the set of links connected to the same Tenant
          System is defined as an ES. EVPN supports
          Single-Active and All-Active multihoming. In Single-Active
          multihoming, only one link in the Ethernet Segment is active. In
          All-Active multihoming, all the links in the Ethernet Segment are
          active for unicast traffic. Both modes support load-balancing:<a class="pilcrow" href="#section-4.7.5-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.7.5-2.1">Single-Active multihoming means per-service load-balancing
              to/from the Tenant System. For example, in <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a> for BD1,
              only one of the NVEs can forward traffic from/to TS2. For a
              different Broadcast Domain, the other NVE may forward
              traffic.<a class="pilcrow" href="#section-4.7.5-2.1">¶</a>
</li>
            <li class="normal" id="section-4.7.5-2.2">All-active multihoming means per-flow load-balancing for
              unicast frames to/from the Tenant System. That is, in <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a> and for
              BD1, both NVE4 and NVE5 can forward known unicast traffic
              to/from TS3. For BUM traffic, only one of the two NVEs can
              forward traffic to TS3, and both can forward traffic from
              TS3.<a class="pilcrow" href="#section-4.7.5-2.2">¶</a>
</li>
          </ul>
<p id="section-4.7.5-3">There are two key aspects in the EVPN multihoming
          procedures:<a class="pilcrow" href="#section-4.7.5-3">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.7.5-4">
            <dt id="section-4.7.5-4.1">Designated Forwarder (DF) election:</dt>
            <dd id="section-4.7.5-4.2" style="margin-left: 1.5em">The Designated Forwarder
              is the NVE that forwards the traffic to the Ethernet Segment in
              Single-Active mode. 
In the case of All-Active mode, the Designated
              Forwarder is the NVE that forwards the BUM traffic to the
              Ethernet Segment.<a class="pilcrow" href="#section-4.7.5-4.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.7.5-4.3">Split-horizon function:</dt>
            <dd id="section-4.7.5-4.4" style="margin-left: 1.5em">Prevents the Tenant System from
              receiving echoed BUM frames that the Tenant System itself sent
              to the Ethernet Segment. This is especially relevant in
              All-Active ESes where the TS may
              forward BUM frames to a Non-Designated Forwarder NVE that can
              flood the BUM frames back to the Designated Forwarder NVE and
              then back to the TS. As an example, assuming                              
              NVE4 is the Designated Forwarder for ESI-2 in BD1, <a class="auto internal xref" href="#ure-evpn-for-l2-in-an-nvo3-network-example">Figure 1</a> shows that BUM frames
              sent from TS3 to NVE5 will be received at NVE4. NVE4 will forward them back to TS3 since NVE4 is the Designated Forwarder for BD1. Split-horizon allows NVE4 (and any multihomed NVE for
              that matter) to identify if an EVPN BUM frame is coming from the
              same Ethernet Segment or a different one. If the frame belongs to
              the same ESI-2, NVE4 will not forward the BUM frame to TS3 in
              spite of being the Designated Forwarder.<a class="pilcrow" href="#section-4.7.5-4.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.7.5-5">While <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> describes the default algorithm
          for the Designated Forwarder election, <span>[<a class="cite xref" href="#RFC8584">RFC8584</a>]</span> and
          <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-pref-df">EVPN-PREF-DF</a>]</span> specify other algorithms
          and procedures that optimize the Designated Forwarder election.<a class="pilcrow" href="#section-4.7.5-5">¶</a></p>
<p id="section-4.7.5-6">The split-horizon function is specified in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>, and it is carried out by using a special
          ESI-label that it identifies in the data path with all the BUM frames
          originating from a given NVE and Ethernet Segment. Since the
          ESI-label is an MPLS label, it cannot be used in all the non-MPLS
          NVO3 encapsulations. Therefore, <span>[<a class="cite xref" href="#RFC8365">RFC8365</a>]</span> defines a
          modified split-horizon procedure that is based on the source IP
          address of the NVO3 tunnel; it is known as "Local-Bias". It is
          worth noting that Local-Bias only works for All-Active multihoming,
          and not for Single-Active multihoming.<a class="pilcrow" href="#section-4.7.5-6">¶</a></p>
</section>
</div>
<div id="sect-4.7.6">
<section id="section-4.7.6">
          <h4 id="name-evpn-recursive-resolution-f">
<a class="section-number selfRef" href="#section-4.7.6">4.7.6. </a><a class="section-name selfRef" href="#name-evpn-recursive-resolution-f">EVPN Recursive Resolution for Inter-subnet Unicast Forwarding</a>
          </h4>
<p id="section-4.7.6-1"><a class="auto internal xref" href="#sect-4.3">Section 4.3</a> describes how EVPN can be used for
          inter-subnet forwarding among subnets of the same tenant. MAC/IP
          Advertisement routes and IP Prefix routes allow the advertisement of
          host routes and IP Prefixes (IP Prefix route) of any length. The
          procedures outlined by <a class="auto internal xref" href="#sect-4.3">Section 4.3</a> are similar to the
          ones in <span>[<a class="cite xref" href="#RFC4364">RFC4364</a>]</span>, but they are only for NVO3 tunnels. However,
          <span>[<a class="cite xref" href="#RFC9136">RFC9136</a>]</span> also defines advanced inter-subnet
          forwarding procedures that allow the resolution of IP Prefix routes
          not only to BGP next hops but also to "overlay indexes" that can be a
          MAC, a Gateway IP (GW-IP), or an ESI, all of them in the tenant
          space.<a class="pilcrow" href="#section-4.7.6-1">¶</a></p>
<p id="section-4.7.6-2"><a class="auto internal xref" href="#ure-evpn-for-l3-recursive-resolution-example">Figure 4</a>
          illustrates an example that uses Recursive Resolution to a GW-IP as
          per <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9136#section-4.4.2">Section 4.4.2</a> of [<a class="cite xref" href="#RFC9136">RFC9136</a>]</span>. In this example, IP-VRFs
          in NVE1 and NVE2 are connected by a Supplementary Broadcast
          Domain (SBD). An SBD is a Broadcast Domain that connects all the IP-VRFs
          of the same tenant via IRB and has no Attachment Circuits. NVE1
          advertises the host route TS2-IP/L (IP address and Prefix Length of
          TS2) in an IP Prefix route with overlay index GW-IP=IP1. Also, IP1
          is advertised in a MAC/IP Advertisement route associated with M1,
          VNI-S, and BGP next-hop NVE1. Upon importing the two routes, NVE2
          installs TS2-IP/L in the IP-VRF with a next hop that is the GW-IP
          IP1. NVE2 also installs M1 in the Supplementary Broadcast Domain,
          with VNI-S and NVE1 as next hop. If TS3 sends a packet with IP
          DA=TS2, NVE2 will perform a Recursive Resolution of the IP Prefix
          route prefix information to the forwarding information of the
          correlated MAC/IP Advertisement route. The IP Prefix route's
          Recursive Resolution has several advantages, such as better
          convergence in scaled networks (since multiple IP Prefix routes can
          be invalidated with a single withdrawal of the overlay index route)
          or the ability to advertise multiple IP Prefix routes from an
          overlay index that can move or change dynamically. <span>[<a class="cite xref" href="#RFC9136">RFC9136</a>]</span> describes a few use cases.<a class="pilcrow" href="#section-4.7.6-2">¶</a></p>
<span id="name-evpn-for-l3-recursive-resol"></span><div id="ure-evpn-for-l3-recursive-resolution-example">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-4.7.6-3.1">
<pre>              +-------------------------------------+
              |             EVPN NVO3               |
              |                                     +
            NVE1                                 NVE2
      +--------------------+            +--------------------+
      | +---+IRB +------+  |            |  +------+IRB +---+ |
TS1-----|BD1|----|IP-VRF|  |            |  |IP-VRF|----|BD3|-----TS3
      | +---+    |      |-(SBD)------(SBD)-|      |    +---+ |
      | +---+IRB |      |IRB(IP1/M1)    IRB+------+          |
TS2-----|BD2|----|      |  |            +-----------+--------+
      | +---+    +------+  |                        |
      +--------------------+                        |
              |   RT-2(M1,IP1,VNI-S,NVE1)--&gt;        |
              |     RT-5(TS2-IP/L,GW-IP=IP1)--&gt;     |
              +-------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-evpn-for-l3-recursive-resol">EVPN for L3 - Recursive Resolution Example</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="sect-4.7.7">
<section id="section-4.7.7">
          <h4 id="name-evpn-optimized-inter-subnet">
<a class="section-number selfRef" href="#section-4.7.7">4.7.7. </a><a class="section-name selfRef" href="#name-evpn-optimized-inter-subnet">EVPN Optimized Inter-subnet Multicast Forwarding</a>
          </h4>
<p id="section-4.7.7-1">The concept of the Supplementary Broadcast Domain described in
          <a class="auto internal xref" href="#sect-4.7.6">Section 4.7.6</a> is also used in <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-irb-mcast">EVPN-IRB-MCAST</a>]</span> for the procedures related
          to inter-subnet multicast forwarding across Broadcast Domains of the
          same tenant. For instance, <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-irb-mcast">EVPN-IRB-MCAST</a>]</span> allows the efficient
          forwarding of IP multicast traffic from any Broadcast Domain to any
          other Broadcast Domain (or even to the same Broadcast Domain where
          the source resides). The <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-irb-mcast">EVPN-IRB-MCAST</a>]</span> procedures are supported
          along with EVPN multihoming and for any tree allowed on NVO3
          networks, including IR or AR. <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-irb-mcast">EVPN-IRB-MCAST</a>]</span> also describes the
          interoperability between EVPN and other multicast technologies such
          as Multicast VPN (MVPN) and PIM for inter-subnet multicast.<a class="pilcrow" href="#section-4.7.7-1">¶</a></p>
<p id="section-4.7.7-2"><span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-mvpn-seamless-interop">EVPN-MVPN-SEAMLESS</a>]</span>
          describes another potential solution to support EVPN to MVPN
          interoperability.<a class="pilcrow" href="#section-4.7.7-2">¶</a></p>
</section>
</div>
<div id="sect-4.7.8">
<section id="section-4.7.8">
          <h4 id="name-data-center-interconnect-dc">
<a class="section-number selfRef" href="#section-4.7.8">4.7.8. </a><a class="section-name selfRef" href="#name-data-center-interconnect-dc">Data Center Interconnect (DCI)</a>
          </h4>
<p id="section-4.7.8-1">Tenant Layer 2 and Layer 3 services deployed on NVO3 networks
          must often be extended to remote NVO3 networks that are connected
          via non-NOV3 Wide Area Networks (WANs) (mostly MPLS-based WANs). <span>[<a class="cite xref" href="#RFC9014">RFC9014</a>]</span> defines some architectural
          models that can be used to interconnect NVO3 networks via MPLS WANs.<a class="pilcrow" href="#section-4.7.8-1">¶</a></p>
<p id="section-4.7.8-2">When NVO3 networks are connected by MPLS WANs,
          <span>[<a class="cite xref" href="#RFC9014">RFC9014</a>]</span> specifies how EVPN can be used end to end
          in spite of using a different encapsulation in the WAN.
         <span>[<a class="cite xref" href="#RFC9014">RFC9014</a>]</span> also supports the use of NVO3 or
          Segment Routing (encoding 32-bit or 128-bit Segment Identifiers into
          labels or IPv6 addresses, respectively) transport tunnels in the WAN.<a class="pilcrow" href="#section-4.7.8-2">¶</a></p>
<p id="section-4.7.8-3">Even if EVPN can also be used in the WAN for
          Layer 2 and Layer 3 services, there may be a need to provide a
          Gateway function between EVPN for NVO3 encapsulations and IP VPN for
          MPLS tunnels if the operator uses IP VPN in the WAN.
          <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-ipvpn-interworking">EVPN-IPVPN-INTERWORK</a>]</span> specifies the
          interworking function between EVPN and IP VPN for unicast inter-subnet
          forwarding. If inter-subnet multicast forwarding is also
          needed across an IP VPN WAN, <span>[<a class="cite xref" href="#I-D.ietf-bess-evpn-irb-mcast">EVPN-IRB-MCAST</a>]</span> describes the required
          interworking between EVPN and MVPNs.<a class="pilcrow" href="#section-4.7.8-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sect-5">
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">This document does not introduce any new procedure or additional
      signaling in EVPN and relies on the security considerations of the
      individual specifications used as a reference throughout the document.
      In particular, and as mentioned in <span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span>, control
      plane and forwarding path protection are aspects to secure in any EVPN
      domain when applied to NVO3 networks.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2"><span>[<a class="cite xref" href="#RFC7432">RFC7432</a>]</span> mentions security techniques such as those
      discussed in <span>[<a class="cite xref" href="#RFC5925">RFC5925</a>]</span> to authenticate BGP messages, and
      those included in <span>[<a class="cite xref" href="#RFC4271">RFC4271</a>]</span>, <span>[<a class="cite xref" href="#RFC4272">RFC4272</a>]</span>, and
      <span>[<a class="cite xref" href="#RFC6952">RFC6952</a>]</span> to secure BGP are relevant for EVPN in NVO3
      networks as well.<a class="pilcrow" href="#section-5-2">¶</a></p>
</section>
</div>
<div id="sect-6">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-6-1">This document has no IANA actions.<a class="pilcrow" href="#section-6-1">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC7364">[RFC7364]</dt>
        <dd>
<span class="refAuthor">Narten, T., Ed.</span>, <span class="refAuthor">Gray, E., Ed.</span>, <span class="refAuthor">Black, D.</span>, <span class="refAuthor">Fang, L.</span>, <span class="refAuthor">Kreeger, L.</span>, and <span class="refAuthor">M. Napierala</span>, <span class="refTitle">"Problem Statement: Overlays for Network Virtualization"</span>, <span class="seriesInfo">RFC 7364</span>, <span class="seriesInfo">DOI 10.17487/RFC7364</span>, <time class="refDate" datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7364">https://www.rfc-editor.org/info/rfc7364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7365">[RFC7365]</dt>
        <dd>
<span class="refAuthor">Lasserre, M.</span>, <span class="refAuthor">Balus, F.</span>, <span class="refAuthor">Morin, T.</span>, <span class="refAuthor">Bitar, N.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Framework for Data Center (DC) Network Virtualization"</span>, <span class="seriesInfo">RFC 7365</span>, <span class="seriesInfo">DOI 10.17487/RFC7365</span>, <time class="refDate" datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7365">https://www.rfc-editor.org/info/rfc7365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
      <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time class="refDate" datetime="2015-02">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-rtgwg-bgp-pic">[BGP-PIC]</dt>
        <dd>
<span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, and <span class="refAuthor">P. Mohapatra</span>, <span class="refTitle">"BGP Prefix Independent Convergence"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtgwg-bgp-pic-19</span>, <time class="refDate" datetime="2023-04-01">1 April 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-rtgwg-bgp-pic-19">https://datatracker.ietf.org/doc/html/draft-ietf-rtgwg-bgp-pic-19</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CLOS1953">[CLOS1953]</dt>
        <dd>
<span class="refAuthor">Clos, C.</span>, <span class="refTitle">"A study of non-blocking switching networks"</span>, <span class="refContent">The Bell System Technical Journal, Vol. 32, Issue 2</span>, <span class="seriesInfo">DOI 10.1002/j.1538-7305.1953.tb01433.x</span>, <time class="refDate" datetime="1953-03">March 1953</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/6770468">https://ieeexplore.ieee.org/document/6770468</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-geneve">[EVPN-GENEVE]</dt>
        <dd>
<span class="refAuthor">Boutros, S., Ed.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Rabadan, J.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"EVPN control plane for Geneve"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-geneve-06</span>, <time class="refDate" datetime="2023-05-26">26 May 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-geneve-06">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-geneve-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-ipvpn-interworking">[EVPN-IPVPN-INTERWORK]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Lin, W.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">A. Simpson</span>, <span class="refTitle">"EVPN Interworking with IPVPN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-ipvpn-interworking-08</span>, <time class="refDate" datetime="2023-07-05">5 July 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-ipvpn-interworking-08">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-ipvpn-interworking-08</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-irb-mcast">[EVPN-IRB-MCAST]</dt>
        <dd>
<span class="refAuthor">Lin, W.</span>, <span class="refAuthor">Zhang, Z.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Rabadan, J.</span>, and <span class="refAuthor">A. Sajassi</span>, <span class="refTitle">"EVPN Optimized Inter-Subnet Multicast (OISM) Forwarding"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-irb-mcast-09</span>, <time class="refDate" datetime="2023-02-21">21 February 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-irb-mcast-09">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-irb-mcast-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-lsp-ping">[EVPN-LSP-PING]</dt>
        <dd>
<span class="refAuthor">Jain, P.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Boutros, S.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"LSP-Ping Mechanisms for EVPN and PBB-EVPN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-lsp-ping-11</span>, <time class="refDate" datetime="2023-05-29">29 May 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-lsp-ping-11">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-lsp-ping-11</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-mvpn-seamless-interop">[EVPN-MVPN-SEAMLESS]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Thiruvenkatasamy, K.</span>, <span class="refAuthor">Thoria, S.</span>, <span class="refAuthor">Gupta, A.</span>, and <span class="refAuthor">L. Jalil</span>, <span class="refTitle">"Seamless Multicast Interoperability between EVPN and MVPN PEs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-mvpn-seamless-interop-05</span>, <time class="refDate" datetime="2023-03-13">13 March 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-mvpn-seamless-interop-05">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-mvpn-seamless-interop-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-optimized-ir">[EVPN-OPT-IR]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Lin, W.</span>, <span class="refAuthor">Katiyar, M.</span>, and <span class="refAuthor">A. Sajassi</span>, <span class="refTitle">"Optimized Ingress Replication Solution for Ethernet VPN (EVPN)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-optimized-ir-12</span>, <time class="refDate" datetime="2022-01-25">25 January 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-optimized-ir-12">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-optimized-ir-12</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.skr-bess-evpn-pim-proxy">[EVPN-PIM-PROXY]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Kotalwar, J.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Zhang, Z.</span>, and <span class="refAuthor">A. Sajassi</span>, <span class="refTitle">"PIM Proxy in EVPN Networks"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-skr-bess-evpn-pim-proxy-01</span>, <time class="refDate" datetime="2017-10-30">30 October 2017</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-skr-bess-evpn-pim-proxy-01">https://datatracker.ietf.org/doc/html/draft-skr-bess-evpn-pim-proxy-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-evpn-pref-df">[EVPN-PREF-DF]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Lin, W.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">A. Sajassi</span>, <span class="refTitle">"Preference-based EVPN DF Election"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-evpn-pref-df-11</span>, <time class="refDate" datetime="2023-07-06">6 July 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-pref-df-11">https://datatracker.ietf.org/doc/html/draft-ietf-bess-evpn-pref-df-11</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.802.1AX_2014">[IEEE.802.1AX_2014]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks -- Link Aggregation"</span>, <span class="seriesInfo">IEEE Std 802.1AX-2014</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2014.7055197</span>, <time class="refDate" datetime="2014-12">December 2014</time>, <span>&lt;<a href="https://doi.org/10.1109/IEEESTD.2014.7055197">https://doi.org/10.1109/IEEESTD.2014.7055197</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-nvo3-encap">[NVO3-ENCAP]</dt>
        <dd>
<span class="refAuthor">Boutros, S., Ed.</span> and <span class="refAuthor">D. Eastlake 3rd, Ed.</span>, <span class="refTitle">"Network Virtualization Overlays (NVO3) Encapsulation Considerations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-nvo3-encap-09</span>, <time class="refDate" datetime="2022-10-07">7 October 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-nvo3-encap-09">https://datatracker.ietf.org/doc/html/draft-ietf-nvo3-encap-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4272">[RFC4272]</dt>
        <dd>
<span class="refAuthor">Murphy, S.</span>, <span class="refTitle">"BGP Security Vulnerabilities Analysis"</span>, <span class="seriesInfo">RFC 4272</span>, <span class="seriesInfo">DOI 10.17487/RFC4272</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4272">https://www.rfc-editor.org/info/rfc4272</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4364">[RFC4364]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span> and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4364</span>, <span class="seriesInfo">DOI 10.17487/RFC4364</span>, <time class="refDate" datetime="2006-02">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4364">https://www.rfc-editor.org/info/rfc4364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4760">[RFC4760]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Multiprotocol Extensions for BGP-4"</span>, <span class="seriesInfo">RFC 4760</span>, <span class="seriesInfo">DOI 10.17487/RFC4760</span>, <time class="refDate" datetime="2007-01">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5925">[RFC5925]</dt>
        <dd>
<span class="refAuthor">Touch, J.</span>, <span class="refAuthor">Mankin, A.</span>, and <span class="refAuthor">R. Bonica</span>, <span class="refTitle">"The TCP Authentication Option"</span>, <span class="seriesInfo">RFC 5925</span>, <span class="seriesInfo">DOI 10.17487/RFC5925</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5925">https://www.rfc-editor.org/info/rfc5925</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6952">[RFC6952]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Patel, K.</span>, and <span class="refAuthor">L. Zheng</span>, <span class="refTitle">"Analysis of BGP, LDP, PCEP, and MSDP Issues According to the Keying and Authentication for Routing Protocols (KARP) Design Guide"</span>, <span class="seriesInfo">RFC 6952</span>, <span class="seriesInfo">DOI 10.17487/RFC6952</span>, <time class="refDate" datetime="2013-05">May 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6952">https://www.rfc-editor.org/info/rfc6952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7348">[RFC7348]</dt>
        <dd>
<span class="refAuthor">Mahalingam, M.</span>, <span class="refAuthor">Dutt, D.</span>, <span class="refAuthor">Duda, K.</span>, <span class="refAuthor">Agarwal, P.</span>, <span class="refAuthor">Kreeger, L.</span>, <span class="refAuthor">Sridhar, T.</span>, <span class="refAuthor">Bursell, M.</span>, and <span class="refAuthor">C. Wright</span>, <span class="refTitle">"Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks"</span>, <span class="seriesInfo">RFC 7348</span>, <span class="seriesInfo">DOI 10.17487/RFC7348</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7348">https://www.rfc-editor.org/info/rfc7348</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-rfc7432bis">[RFC7432BIS]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Burdet, L.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-rfc7432bis-07</span>, <time class="refDate" datetime="2023-03-13">13 March 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-rfc7432bis-07">https://datatracker.ietf.org/doc/html/draft-ietf-bess-rfc7432bis-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7510">[RFC7510]</dt>
        <dd>
<span class="refAuthor">Xu, X.</span>, <span class="refAuthor">Sheth, N.</span>, <span class="refAuthor">Yong, L.</span>, <span class="refAuthor">Callon, R.</span>, and <span class="refAuthor">D. Black</span>, <span class="refTitle">"Encapsulating MPLS in UDP"</span>, <span class="seriesInfo">RFC 7510</span>, <span class="seriesInfo">DOI 10.17487/RFC7510</span>, <time class="refDate" datetime="2015-04">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7510">https://www.rfc-editor.org/info/rfc7510</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8365">[RFC8365]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Drake, J., Ed.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Shekhar, R.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"A Network Virtualization Overlay Solution Using Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 8365</span>, <span class="seriesInfo">DOI 10.17487/RFC8365</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8365">https://www.rfc-editor.org/info/rfc8365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8584">[RFC8584]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Mohanty, S., Ed.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Nagaraj, K.</span>, and <span class="refAuthor">S. Sathappan</span>, <span class="refTitle">"Framework for Ethernet VPN Designated Forwarder Election Extensibility"</span>, <span class="seriesInfo">RFC 8584</span>, <span class="seriesInfo">DOI 10.17487/RFC8584</span>, <time class="refDate" datetime="2019-04">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8584">https://www.rfc-editor.org/info/rfc8584</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8926">[RFC8926]</dt>
        <dd>
<span class="refAuthor">Gross, J., Ed.</span>, <span class="refAuthor">Ganga, I., Ed.</span>, and <span class="refAuthor">T. Sridhar, Ed.</span>, <span class="refTitle">"Geneve: Generic Network Virtualization Encapsulation"</span>, <span class="seriesInfo">RFC 8926</span>, <span class="seriesInfo">DOI 10.17487/RFC8926</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8926">https://www.rfc-editor.org/info/rfc8926</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9012">[RFC9012]</dt>
        <dd>
<span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Van de Velde, G.</span>, <span class="refAuthor">Sangli, S.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"The BGP Tunnel Encapsulation Attribute"</span>, <span class="seriesInfo">RFC 9012</span>, <span class="seriesInfo">DOI 10.17487/RFC9012</span>, <time class="refDate" datetime="2021-04">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9012">https://www.rfc-editor.org/info/rfc9012</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9014">[RFC9014]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Sajassi, A.</span>, and <span class="refAuthor">J. Drake</span>, <span class="refTitle">"Interconnect Solution for Ethernet VPN (EVPN) Overlay Networks"</span>, <span class="seriesInfo">RFC 9014</span>, <span class="seriesInfo">DOI 10.17487/RFC9014</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9014">https://www.rfc-editor.org/info/rfc9014</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9135">[RFC9135]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Thoria, S.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"Integrated Routing and Bridging in Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 9135</span>, <span class="seriesInfo">DOI 10.17487/RFC9135</span>, <time class="refDate" datetime="2021-10">October 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9135">https://www.rfc-editor.org/info/rfc9135</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9136">[RFC9136]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Lin, W.</span>, and <span class="refAuthor">A. Sajassi</span>, <span class="refTitle">"IP Prefix Advertisement in Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 9136</span>, <span class="seriesInfo">DOI 10.17487/RFC9136</span>, <time class="refDate" datetime="2021-10">October 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9136">https://www.rfc-editor.org/info/rfc9136</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9161">[RFC9161]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Sathappan, S.</span>, <span class="refAuthor">Nagaraj, K.</span>, <span class="refAuthor">Hankins, G.</span>, and <span class="refAuthor">T. King</span>, <span class="refTitle">"Operational Aspects of Proxy ARP/ND in Ethernet Virtual Private Networks"</span>, <span class="seriesInfo">RFC 9161</span>, <span class="seriesInfo">DOI 10.17487/RFC9161</span>, <time class="refDate" datetime="2022-01">January 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9161">https://www.rfc-editor.org/info/rfc9161</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9251">[RFC9251]</dt>
        <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Thoria, S.</span>, <span class="refAuthor">Mishra, M.</span>, <span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Lin</span>, <span class="refTitle">"Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Proxies for Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 9251</span>, <span class="seriesInfo">DOI 10.17487/RFC9251</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9251">https://www.rfc-editor.org/info/rfc9251</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bess-secure-evpn">[SECURE-EVPN]</dt>
      <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Banerjee, A.</span>, <span class="refAuthor">Thoria, S.</span>, <span class="refAuthor">Carrel, D.</span>, <span class="refAuthor">Weis, B.</span>, and <span class="refAuthor">J. Drake</span>, <span class="refTitle">"Secure EVPN"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bess-secure-evpn-00</span>, <time class="refDate" datetime="2023-06-20">20 June 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-bess-secure-evpn-00">https://datatracker.ietf.org/doc/html/draft-ietf-bess-secure-evpn-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The authors thank <span class="contact-name">Aldrin Isaac</span> for his comments.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jorge Rabadan (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto"><span class="street-address">520 Almanor Ave</span></div>
<div class="left" dir="auto">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94085</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jorge.rabadan@nokia.com">jorge.rabadan@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Matthew Bocci</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:matthew.bocci@nokia.com">matthew.bocci@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Sami Boutros</span></div>
<div class="left" dir="auto"><span class="org">Ciena</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sboutros@ciena.com">sboutros@ciena.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ali Sajassi</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sajassi@cisco.com">sajassi@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>